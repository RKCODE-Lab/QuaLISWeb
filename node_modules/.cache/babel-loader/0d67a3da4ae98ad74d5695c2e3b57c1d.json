{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{injectIntl}from'react-intl';import{Row,Col}from'react-bootstrap';import PerfectScrollbar from'react-perfect-scrollbar';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import TestGroupParameterTab from'./TestGroupParameterTab';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import{showEsign,sortData}from'../../components/CommonScript';import Esign from'../audittrail/Esign';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{parameterType,SampleType,transactionStatus}from'../../components/Enumeration';import EditTestGroupParameter from'./EditTestGroupParameter';import AddCodedResult from'../testmanagement/AddCodedResult';import FormTextarea from'../../components/form-textarea/form-textarea.component';import AddSpecification from'../testmanagement/AddSpecification';import TemplateForm from'../checklist/checklist/TemplateForm';import{toast}from'react-toastify';import TestGroupMaterialTab from'./TestGroupMaterialTab';import AddTestGroupTestMaterial from'./AddTestGroupTestMaterial';import AddTestGroupNumericSpecification from'./AddTestGroupNumericSpecification';import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import TestGroupRulesEngineTab from'./TestGroupRulesEngineTab';import AddSubCodedResult from'../testmanagement/AddSubCodedResult';var TestGroupTestTab=/*#__PURE__*/function(_Component){_inherits(TestGroupTestTab,_Component);var _super=_createSuper(TestGroupTestTab);function TestGroupTestTab(props){var _this;_classCallCheck(this,TestGroupTestTab);_this=_super.call(this,props);_this.onTemplateInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onTemplateComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});};_this.onTemplateDateChange=function(dateName,dateValue){var _ref=_this.state.selectedRecord||{},selectedRecord=_ref.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.handleClose=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:{},testGroupCheckList:{},openTemplateModal:false}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){if(_this.props.screenName===\"IDS_SUBCODEDRESULT\"){//screenName = \"IDS_CODEDRESULT\";\n//operation = \"update\";\nvar updateInfo={typeName:DEFAULT_RETURN,data:{operation:\"create\",selectedId:null,openChildModal:true,screenName:\"IDS_CODEDRESULT\"}};_this.props.updateStore(updateInfo);}else{var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;var selectedsubcodedresult=_this.state.selectedsubcodedresult;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"||_this.props.operation===\"Default\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=4;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openChildModal=false;selectedRecord={};}var _updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedsubcodedresult:selectedsubcodedresult}};_this.props.updateStore(_updateInfo);//this.setState({selectedsubcodedresult: []}); \n}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.EditSpecDetails=function(viewdetails,ncontrolCode){_this.props.addTestGroupNumericTab(\"update\",viewdetails,_this.props.userInfo,{testgroupspecification:_this.props.masterData.SelectedSpecification},_this.props.masterData,ncontrolCode);};_this.DeleteSpecDetails=function(viewdetails,ncontrolCode){_this.SpecConfirmDelete(\"delete\",1,viewdetails,ncontrolCode);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_PARAMETER\",/*#__PURE__*/React.createElement(TestGroupParameterTab,{controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,masterData:_this.props.masterData,deleteAction:_this.deleteAction,onSwitchChange:_this.onSwitchChange,addTestFile:_this.props.addTestFile,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,filterData:_this.props.filterData,getTestGroupParameter:_this.props.getTestGroupParameter,editTestGroupParameter:_this.props.editTestGroupParameter,addTestGroupCodedResult:_this.props.addTestGroupCodedResult,addTestGroupNumericTab:_this.props.addTestGroupNumericTab,viewTestGroupCheckList:_this.props.viewTestGroupCheckList,EditSpecDetails:_this.EditSpecDetails,DeleteSpecDetails:_this.DeleteSpecDetails,dataState:_this.props.dataState,dataStateChange:_this.props.dataStateChange}));return tabMap;};_this.testTabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_PARAMETER\",/*#__PURE__*/React.createElement(TestGroupParameterTab,{paneHeight:_this.props.paneHeight,controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,masterData:_this.props.masterData,deleteAction:_this.deleteAction,onSwitchChange:_this.onSwitchChange,addTestFile:_this.props.addTestFile,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,filterData:_this.props.filterData,getTestGroupParameter:_this.props.getTestGroupParameter,editTestGroupParameter:_this.props.editTestGroupParameter,addTestGroupCodedResult:_this.props.addTestGroupCodedResult,subCodedResultView:_this.props.subCodedResultView,addTestGroupNumericTab:_this.props.addTestGroupNumericTab,viewTestGroupCheckList:_this.props.viewTestGroupCheckList,EditSpecDetails:_this.EditSpecDetails,DeleteSpecDetails:_this.DeleteSpecDetails,hasDynamicColSize:true,dataState:_this.props.dataState,dataStateChange:_this.props.dataStateChange}));tabMap.set(\"IDS_MATERIAL\",/*#__PURE__*/React.createElement(TestGroupMaterialTab,{paneHeight:_this.props.paneHeight,controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,masterData:_this.props.masterData,ConfirmDelete:_this.ConfirmDelete,getDataForTestMaterial:_this.props.getDataForTestMaterial,getTestGroupMaterial:_this.props.getTestGroupMaterial,getDataForEditTestMaterial:_this.props.getDataForEditTestMaterial,selectedRecord:_this.state.selectedRecord}));tabMap.set(\"IDS_RULESENGINE\",/*#__PURE__*/React.createElement(TestGroupRulesEngineTab,{paneHeight:_this.props.paneHeight,getTestGroupRulesEngineAdd:_this.props.getTestGroupRulesEngineAdd,controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,selectedRecord:_this.state.selectedRecord,masterData:_this.props.masterData,settings:_this.props.settings,skipRulesEngine:_this.props.skipRulesEngine,takeRulesEngine:_this.props.takeRulesEngine,getEditTestGroupRulesEngine:_this.props.getEditTestGroupRulesEngine,getSelectedTestGroupRulesEngine:_this.props.getSelectedTestGroupRulesEngine,ConfirmDeleteRule:_this.props.ConfirmDeleteRule,approveVersion:_this.props.approveVersion,openflowview:_this.props.openflowview,handlePageChangeRuleEngine:_this.props.handlePageChangeRuleEngine,viewOutcome:_this.props.viewOutcome,filterParamRulesEngine:_this.props.filterParamRulesEngine,filterTransactionList:_this.props.filterTransactionList}));return tabMap;};_this.ConfirmDelete=function(operation,deleteId,selectedRecord){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteTestMaterial(operation,deleteId,selectedRecord);});};_this.SpecConfirmDelete=function(operation,deleteId,selectedRecord,ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteAction(selectedRecord,\"delete\",ncontrolCode,\"TestGroupAddSpecification\",\"openChildModal\");});};_this.DeleteTestMaterial=function(operation,ncontrolCode){var selectedSpecification=_this.props.masterData.SelectedSpecification;if(selectedSpecification.napprovalstatus===transactionStatus.DRAFT||selectedSpecification.napprovalstatus===transactionStatus.CORRECTION){var selectedRecord=_this.state.selectedRecord;var inputData=[];inputData={ntreeversiontempcode:_this.props.masterData.selectedNode.ntreeversiontempcode};inputData[\"testgrouptestmaterial\"]={ntestgrouptestmaterialcode:_this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,ntestgrouptestcode:_this.props.masterData.selectedMaterial.ntestgrouptestcode};inputData[\"userinfo\"]=_this.props.userInfo;var inputParam={methodUrl:\"TestGroupTestMaterial\",classUrl:_this.props.inputParam.classUrl,inputData:inputData,operation:\"delete\"};var masterData=_this.props.masterData;if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TESTGROUPMATERIAL\",operation:operation.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openChildModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}};_this.onSaveClick=function(saveType,formRef){var inputParam={};// if(this.props.screenName === \"IDS_TEST\" \n//     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\n//     inputParam = this.onSaveTest(saveType, formRef);\n// } else \nif(_this.props.screenName===\"IDS_FORMULA\"){inputParam=_this.onSaveFormula(saveType,formRef);}else if(_this.props.screenName===\"IDS_PARAMETER\"){inputParam=_this.onSaveParameter(saveType,formRef);}else if(_this.props.screenName===\"IDS_CODEDRESULT\"){if(_this.state.selectedRecord[\"nneedsubcodedresult\"]===3&&_this.state.selectedsubcodedresult.length>0||_this.state.selectedRecord[\"nneedsubcodedresult\"]===4){inputParam=_this.onSaveCodedResult(saveType,formRef);}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ADDSUBCODEDRESULT\"}));}}else if(_this.props.screenName===\"IDS_SUBCODEDRESULT\"){return _this.onSaveSubCodedResult(saveType,formRef);}else if(_this.props.screenName===\"IDS_CLINICALSPEC\"){inputParam=_this.onSaveSpecification(saveType,formRef);}else if(_this.props.screenName===\"IDS_TESTGROUPMATERIAL\"){inputParam=_this.onSaveMaterial(saveType,formRef);}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{//(this.props.screenName !== \"IDS_CODEDRESULT\")\n// if(this.props.submit!==\"SUBCODERESULT\")\n_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\",{});}};_this.onSaveParameter=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var parameterList=[\"ntestgrouptestparametercode\",\"ntestgrouptestcode\",\"ntestparametercode\",\"sparametersynonym\",\"nroundingdigits\",\"nresultmandatory\",\"nreportmandatory\",\"sspecdesc\",\"nsorter\"];var testGroupTestParameter={nparametertypecode:selectedRecord.nparametertypecode.value,nunitcode:selectedRecord.nunitcode?selectedRecord.nunitcode.value:-1,nchecklistversioncode:selectedRecord.nchecklistversioncode?selectedRecord.nchecklistversioncode.value:-1};parameterList.map(function(item){return testGroupTestParameter[item]=selectedRecord[item]?selectedRecord[item]:\"\";});var inputData={testgrouptestparameter:testGroupTestParameter,userinfo:_this.props.userInfo};if(selectedRecord.nparametertypecode.value===parameterType.NUMERIC){var testGroupTestNumericParameter={};var numericList=[\"sminlod\",\"smaxlod\",\"sminb\",\"smina\",\"smaxa\",\"smaxb\",\"sminloq\",\"smaxloq\",\"sdisregard\",\"sresultvalue\"];testGroupTestNumericParameter[\"ntestgrouptestparametercode\"]=selectedRecord.ntestgrouptestparametercode;numericList.map(function(item){return testGroupTestNumericParameter[item]=selectedRecord[item]?selectedRecord[item]===\"0\"?selectedRecord[item]:selectedRecord[item].replace(/^0+/,''):null;});inputData[\"testgrouptestnumericparameter\"]=testGroupTestNumericParameter;if(selectedRecord.ntestformulacode){var testFormula=selectedRecord.ntestformulacode.item;var testgrouptestformula={ntestgrouptestparametercode:selectedRecord.ntestgrouptestparametercode,ntestgrouptestcode:selectedRecord.ntestgrouptestcode,ntestformulacode:testFormula.ntestformulacode,sformulacalculationcode:testFormula.sformulacalculationcode,sformulacalculationdetail:testFormula.sformulacalculationdetail,ntransactionstatus:transactionStatus.YES};inputData[\"testgrouptestformula\"]=testgrouptestformula;}else{inputData[\"testgrouptestformula\"]=null;}}else if(selectedRecord.nparametertypecode.value===parameterType.CHARACTER){var characterList=[\"ntestgrouptestparametercode\",\"scharname\"];var testGroupTestCharParameter={};characterList.map(function(item){return testGroupTestCharParameter[item]=selectedRecord[item]?selectedRecord[item]:\"\";});inputData[\"testgrouptestcharparameter\"]=testGroupTestCharParameter;}//  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\n//     const testGroupTestPredefParameter = {\n//         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\n//         ngradecode: selectedRecord.ngradecode.value,\n//         spredefinedname: selectedRecord.spredefinedname,\n//         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\n//         ndefaultstatus: selectedRecord.ndefaultstatus\n//     }\n//     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\n// }\nconsole.log(\"input data:\",inputData);var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:\"update\",methodUrl:\"TestGroupParameter\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};return inputParam;};_this.onSaveFormula=function(saveType,formRef){var masterData=_this.props.masterData;var selectedRecord=_this.state.selectedRecord;var selectedParameter=masterData.selectedParameter;var testFormulaArray=selectedRecord.ntestformulacode.map(function(test){return{ntestgrouptestcode:selectedParameter.ntestgrouptestcode,ntestgrouptestparametercode:selectedParameter.ntestgrouptestparametercode,ntestformulacode:test.item.ntestformulacode,sformulacalculationcode:test.item.sformulacalculationcode,sformulacalculationdetail:test.item.sformulacalculationdetail,ntransactionstatus:transactionStatus.NO};});var inputData={testgroupspecification:masterData.SelectedSpecification,testgrouptestformula:testFormulaArray,userinfo:_this.props.userInfo};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:_this.props.operation,methodUrl:\"TestGroupTestFormula\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};return inputParam;};_this.onSaveCodedResult=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var selectedsubcodedresult=_this.state.selectedsubcodedresult;//const selectedsubcodedresult = this.state.selectedsubcodedresult;\nvar testgroupsubcoded=[];var testGroupPredefParameter={ndefaultstatus:transactionStatus.NO,nstatus:transactionStatus.ACTIVE,ntestgrouptestpredefcode:selectedRecord[\"ntestgrouptestpredefcode\"],ntestgrouptestparametercode:_this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],ngradecode:selectedRecord[\"ngradecode\"].value,spredefinedname:selectedRecord[\"spredefinedname\"],//sresultparacomment: selectedRecord[\"sresultparacomment\"],\nspredefinedsynonym:selectedRecord[\"spredefinedsynonym\"],spredefinedcomments:selectedRecord[\"spredefinedcomments\"],salertmessage:selectedRecord[\"salertmessage\"],nneedresultentryalert:selectedRecord[\"nneedresultentryalert\"],nneedsubcodedresult:selectedRecord[\"nneedsubcodedresult\"],ntestpredefinedcode:_this.props.masterData.selectedParameter[\"ntestpredefinedcode\"]};var inputParam={inputData:{testgrouptestpredefinedparameter:testGroupPredefParameter,userinfo:_this.props.userInfo,testgroupspecification:_this.props.masterData.SelectedSpecification,testgroupsubcoded:_this.state.selectedsubcodedresult,deletetestgroupsubcoded:_this.state.selectsubcodedelete,addsubcodedresult:_this.state.selectedsubcodedresult.filter(function(x){return!x.hasOwnProperty('ntestgrouptestpredefsubcode');})||[]},classUrl:\"testgroup\",operation:_this.props.operation,methodUrl:\"TestGroupPredefParameter\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};//this.setState({selectedsubcodedresult: []}); \nreturn inputParam;};_this.onSaveSubCodedResult=function(saveType,formRef){// const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\nvar selectedsubcodedresult=[];//let addsubcodedresult = [];\nselectedsubcodedresult[\"ssubcodedresult\"]=[];selectedsubcodedresult=_this.state.selectedsubcodedresult||[];//addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\nvar ssubcodedresult=_this.state.selectedRecord[\"ssubcodedresult\"];selectedsubcodedresult.push({\"ssubcodedresult\":_this.state.selectedRecord[\"ssubcodedresult\"]});var selectedRecord=_this.state.selectedRecord;delete selectedRecord[\"ssubcodedresult\"];var updateInfo={typeName:DEFAULT_RETURN,data:{//operation: \"create\", \nselectedId:null,selectedsubcodedresult:selectedsubcodedresult,selectedRecord:selectedRecord,screenName:\"IDS_CODEDRESULT\",loading:false//,openChildModal: false,,\n,submit:\"SUBCODERESULT\"}};_this.props.updateStore(updateInfo);//this.setState({ selectedsubcodedresult });\n};_this.onSaveSpecification=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\nvar TestGroupAddSpecification={nstatus:transactionStatus.ACTIVE,ntestgrouptestparametercode:_this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],ngendercode:selectedRecord[\"ngendercode\"].value,nfromage:selectedRecord[\"nfromage\"],ntoage:selectedRecord[\"ntoage\"],shigha:selectedRecord[\"nhigha\"],shighb:selectedRecord[\"nhighb\"],slowa:selectedRecord[\"nlowa\"],slowb:selectedRecord[\"nlowb\"],sresultvalue:selectedRecord[\"sresultvalue\"],ntestgrouptestclinicspeccode:selectedRecord[\"ntestgrouptestclinicspeccode\"]};var inputParam={inputData:{testgroupaddspecification:TestGroupAddSpecification,userinfo:_this.props.userInfo,testgroupspecification:_this.props.masterData.SelectedSpecification},classUrl:\"testgroup\",operation:_this.props.operation,methodUrl:\"TestGroupAddSpecification\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};return inputParam;// }else{\n//     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \n// }\n};_this.onSaveMaterial=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var testGroupTestMaterial=[];if(_this.props.operation===\"create\"){testGroupTestMaterial={ntestgrouptestcode:_this.props.masterData.SelectedTest.ntestgrouptestcode,ntestgrouptestmaterialcode:_this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,nmaterialtypecode:selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,nmaterialcatcode:selectedRecord[\"nmaterialcatcode\"].value,nmaterialcode:selectedRecord[\"nmaterialcode\"].value,smaterialname:selectedRecord[\"nmaterialcode\"].label,sremarks:selectedRecord[\"sremarks\"],nstatus:transactionStatus.ACTIVE};}else{testGroupTestMaterial={ntestgrouptestcode:_this.props.masterData.SelectedTest.ntestgrouptestcode,ntestgrouptestmaterialcode:_this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,nmaterialtypecode:selectedRecord[\"nmaterialtypecode\"].value,nmaterialcatcode:selectedRecord[\"nmaterialcatcode\"].value,nmaterialcode:selectedRecord[\"nmaterialcode\"].value,sremarks:selectedRecord[\"sremarks\"],nstatus:transactionStatus.ACTIVE};}var inputParam={inputData:{testgrouptestmaterial:testGroupTestMaterial,ntreeversiontempcode:_this.props.masterData.selectedNode.ntreeversiontempcode,userinfo:_this.props.userInfo},classUrl:\"testgroup\",operation:_this.props.operation,methodUrl:\"TestGroupTestMaterial\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};return inputParam;};_this.deleteTest=function(deleteParam){var masterData=_this.props.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var screenName=deleteParam.screenName;var inputParam={inputData:{testgrouptest:deleteParam.selectedRecord,userinfo:_this.props.userInfo,testgroupspecification:testgroupspecification,treetemplatemanipulation:_this.props.masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"Test\",screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:deleteParam.selectedRecord.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};var _masterData=_this.props.masterData;if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData},openModal:true,screenName:screenName,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.deleteAction=function(item,operation,ncontrolCode,methodUrl,modalName){var masterData=_this.props.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var _inputData;var selected=item;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,methodUrl.toLowerCase(),selected),_defineProperty(_inputData,\"userinfo\",_this.props.userInfo),_defineProperty(_inputData,\"testgroupspecification\",_this.props.masterData.SelectedSpecification),_defineProperty(_inputData,\"deletetestgroupsubcoded\",_this.state.selectedsubcodedresult),_inputData),classUrl:\"testgroup\",operation:operation,methodUrl:methodUrl,screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:_this.props.masterData.SelectedTest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.userInfo},masterData:_this.props.masterData,searchFieldList:_this.searchFieldList}};var _masterData2=_this.props.masterData;if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,ncontrolCode)){var _data;var updateInfo={typeName:DEFAULT_RETURN,data:(_data={loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData2}},_defineProperty(_data,modalName,true),_defineProperty(_data,\"screenName\",\"IDS_TEST\"),_defineProperty(_data,\"operation\",operation),_defineProperty(_data,\"selectedRecord\",{}),_data)};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_masterData2,\"openChildModal\",{});}}};_this.onSwitchChange=function(item,key,methodUrl,event){var masterData=_this.props.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{//NIBSCRT-2236\nvar testgroupspecification=_this.props.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var _inputData2;var dataItem=item;if(methodUrl===\"TestGroupTestFormula\"){dataItem[\"ntransactionstatus\"]=transactionStatus.YES;}else if(methodUrl==='TestGroupPredefParameter'){// if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\n// {\ndataItem['ndefaultstatus']=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;// }\n// else{\n//     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n// }\n}else{dataItem[\"ndefaultstatus\"]=transactionStatus.YES;}var inputParam={inputData:(_inputData2={},_defineProperty(_inputData2,key,dataItem),_defineProperty(_inputData2,\"userinfo\",_this.props.userInfo),_defineProperty(_inputData2,\"testgroupspecification\",_this.props.masterData.SelectedSpecification),_inputData2),classUrl:\"testgroup\",operation:\"default\",methodUrl:methodUrl};_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\",{});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName,caseNo){var _inputParam;var inputData=[];var masterData=_objectSpread({},_this.props.masterData);var inputParam=[];var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[\"parameterTypeCode\"]=comboData.value;selectedRecord[fieldName]=comboData;var needRoundingDigit=comboData.value===parameterType.NUMERIC?false:true;var needUnit=comboData.value===parameterType.NUMERIC?false:true;selectedRecord[\"nroundingdigits\"]=0;selectedRecord[\"nunitcode\"]=comboData.value===parameterType.NUMERIC?_this.props.parameterData.defaultUnit:undefined;var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,testGroupInputData:_objectSpread(_objectSpread({},_this.props.testGroupInputData),{},{needRoundingDigit:needRoundingDigit,needUnit:needUnit})}};_this.props.updateStore(updateInfo);break;case 3:selectedRecord[\"schecklistversionname\"]=comboData.item.schecklistversionname;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 4:var oldnmaterialtypecode=selectedRecord[\"nmaterialtypecode\"].value?selectedRecord[\"nmaterialtypecode\"].value:selectedRecord[\"nmaterialtypecode\"];if(oldnmaterialtypecode!==comboData.value){delete selectedRecord['nmaterialcatcode'];delete selectedRecord['nmaterialcode'];}selectedRecord[\"nmaterialtypecode\"]=comboData.value;selectedRecord[fieldName]=comboData;inputData={userinfo:_this.props.userInfo,nmaterialtypecode:parseInt(comboData.value)};inputParam={materialType:_this.props.materialType,operation:_this.props.operation,masterData:masterData,inputData:inputData,selectedRecord:selectedRecord,screenName:\"IDS_TESTGROUPMATERIAL\",ncontrolCode:_this.props.ncontrolCode};_this.props.getMaterialCategoryBasedMaterialType(inputParam);break;case 5:if(selectedRecord[\"nmaterialcatcode\"]){var oldnmaterialcatcode=selectedRecord[\"nmaterialcatcode\"].value?selectedRecord[\"nmaterialcatcode\"].value:selectedRecord[\"nmaterialcatcode\"];if(oldnmaterialcatcode!==comboData.value){delete selectedRecord['nmaterialcode'];}}selectedRecord[\"nmaterialcatcode\"]=comboData.value;selectedRecord[fieldName]=comboData;inputData={userinfo:_this.props.userInfo,nmaterialcatcode:parseInt(selectedRecord[\"nmaterialcatcode\"].value),nmaterialtypecode:parseInt(selectedRecord[\"nmaterialtypecode\"].value)};inputParam=(_inputParam={masterData:masterData,inputData:inputData,selectedRecord:selectedRecord,operation:_this.props.operation},_defineProperty(_inputParam,\"selectedRecord\",selectedRecord),_defineProperty(_inputParam,\"screenName\",\"IDS_TESTGROUPMATERIAL\"),_defineProperty(_inputParam,\"ncontrolCode\",_this.props.ncontrolCode),_inputParam);_this.props.getMaterialBasedMaterialCategory(inputParam);break;default:break;}};_this.addSubCodedResult=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         loadEsign: true,\n//         openModal: true,\n//         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\n//     },\n// };\n// this.props.updateStore(updateInfo);\nvar updateInfo={typeName:DEFAULT_RETURN,data:{//operation: \"create\", \nselectedId:null,//selectedsubcodedresult:\"\",\nopenChildModal:true,screenName:\"IDS_SUBCODEDRESULT\"}};_this.props.updateStore(updateInfo);};_this.deleteSubCodedResult=function(index,subCodedResult,index1){var selectedsubcodedresult=_this.state.selectedsubcodedresult;selectedsubcodedresult.splice(index1.dataIndex,1);//const selectsubcodedelete=[];\nvar selectsubcodedelete=_this.state.selectsubcodedelete||[];if(index[\"ntestgrouptestpredefsubcode\"])selectsubcodedelete.push({\"ntestgrouptestpredefsubcode\":index[\"ntestgrouptestpredefsubcode\"],\"ssubcodedresult\":index[\"ssubcodedresult\"],\"ntestgrouptestpredefcode\":index[\"ntestgrouptestpredefcode\"]});var updateInfo={typeName:DEFAULT_RETURN,data:{selectedId:null,selectedsubcodedresult:selectedsubcodedresult,selectsubcodedelete:selectsubcodedelete}};_this.props.updateStore(updateInfo);};_this.onInputOnChange=function(event,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];if(selectedRecord[\"nneedresultentryalert\"]===4){selectedRecord[\"nneedsubcodedresult\"]=4;delete selectedRecord[\"salertmessage\"];_this.setState({selectedsubcodedresult:[]});}if(selectedRecord[\"nneedsubcodedresult\"]===4){_this.setState({selectedsubcodedresult:[]});}}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[event.target.name]=event.target.value;var indexKey=Object.keys(optional)[0];var value=Object.values(optional)[0];var treeData={ntreeversiontempcode:value.ntreeversiontempcode,npositioncode:value.nlevelno-1,sleveldescription:event.target.value,ntemptranstestgroupcode:value.ntemptranstestgroupcode,nformcode:62,schildnode:value.schildnode,nnextchildcode:value.schildnode};var treetemplatemanipulation=selectedRecord.treetemplatemanipulation||[];treetemplatemanipulation[indexKey]=treeData;selectedRecord[\"treetemplatemanipulation\"]=treetemplatemanipulation;_this.setState({selectedRecord:selectedRecord});break;case 4:var inputValue=event.target.value;if(/^-?\\d*?\\.?\\d*?$/.test(inputValue)||inputValue===\"\"){selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 6:// selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\n// this.setState({ selectedRecord });\n// break;\n//selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\nselectedRecord[event.target.name]=selectedRecord[\"spredefinedsynonym\"]=event.target.value;//selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\n_this.setState({selectedRecord:selectedRecord});break;case 5:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];if(selectedRecord[\"nneedresultentryalert\"]===4){selectedRecord[\"nneedsubcodedresult\"]=4;delete selectedRecord[\"salertmessage\"];_this.codedResultMandatory=[{\"idsName\":\"IDS_CODEDRESULT\",\"dataField\":\"spredefinedname\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_CODEDRESULTSYNONYM\",\"dataField\":\"spredefinedsynonym\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_ACTUALRESULT\",\"dataField\":\"ngradecode\",\"width\":\"200px\",\"mandatory\":true}];var selectsubcodedelete=_this.state.selectedsubcodedresult||[];_this.setState({selectedsubcodedresult:[],selectsubcodedelete:selectsubcodedelete,codedResultMandatory:_this.codedResultMandatory});}if(selectedRecord[\"nneedresultentryalert\"]===3){_this.codedResultMandatory=[{\"idsName\":\"IDS_CODEDRESULT\",\"dataField\":\"spredefinedname\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_CODEDRESULTSYNONYM\",\"dataField\":\"spredefinedsynonym\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_ALERTMESSAGE\",\"dataField\":\"salertmessage\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_ACTUALRESULT\",\"dataField\":\"ngradecode\",\"width\":\"200px\",\"mandatory\":true}];_this.setState({codedResultMandatory:[]});}// if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\n//     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\n//     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\n//     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\n//     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\n//     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\n//     this.setState({ codedResultMandatory: [] });\n// }\nif(selectedRecord[\"nneedsubcodedresult\"]===4){var _selectsubcodedelete=_this.state.selectedsubcodedresult||[];_this.setState({selectedsubcodedresult:[],selectsubcodedelete:_selectsubcodedelete});}}_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onNumericInputChange=function(value,name){console.log(\"value:\",value,name);var selectedRecord=_this.state.selectedRecord||{};if(name===\"nroundingdigits\"){// if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\n//     console.log(\"val:\", value.target.value);\n//     selectedRecord[name] = value.target.value;\n// }\n// if (/^-?\\d*?$/.test(value) || value === \"\") {\n//    // console.log(\"val:\", value);\n//     selectedRecord[name] = value;\n// }\n//const values = value.target.value.replace(/[^-^0-9]/g, '');\nif(/^[0-9]+$/.test(value.target.value)||value.target.value===\"\"){selectedRecord[name]=value.target.value;}else{selectedRecord[name]=\"\";}}else{selectedRecord[name]=value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};_this.state={selectedRecord:{}};_this.confirmMessage=new ConfirmMessage();_this.codedResultMandatory=[{\"idsName\":\"IDS_CODEDRESULT\",\"dataField\":\"spredefinedname\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_CODEDRESULTSYNONYM\",\"dataField\":\"spredefinedsynonym\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_ACTUALRESULT\",\"dataField\":\"ngradecode\",\"width\":\"200px\",\"mandatory\":true}];_this.clinicalSpecMandatory=[{\"idsName\":\"IDS_GENDER\",\"dataField\":\"ngendercode\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_FROMAGE\",\"dataField\":\"nfromage\",\"width\":\"200px\",\"mandatory\":true},{\"idsName\":\"IDS_TOAGE\",\"dataField\":\"ntoage\",\"width\":\"200px\",\"mandatory\":true}];return _this;}_createClass(TestGroupTestTab,[{key:\"render\",value:function render(){var _this2=this;if(this.props.masterData.TestGroupTestClinicalSpec){sortData(this.props.masterData.TestGroupTestClinicalSpec,\"ascending\",\"nfromage\");}this.paramColumnList=[{\"idsName\":\"IDS_PARAMETERSYNONYM\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PARAMETERTYPE\",\"dataField\":\"nparametertypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];if(this.state.selectedRecord[\"parameterTypeCode\"]&&this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.NUMERIC){this.paramColumnList=[{\"idsName\":\"IDS_PARAMETERSYNONYM\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PARAMETERTYPE\",\"dataField\":\"nparametertypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_ROUNDINGDIGITS\",\"dataField\":\"nroundingdigits\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_UNIT\",\"dataField\":\"nunitcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}if(this.state.selectedRecord[\"parameterTypeCode\"]&&this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.PREDEFINED){this.paramColumnList=[{\"idsName\":\"IDS_PARAMETERSYNONYM\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PARAMETERTYPE\",\"dataField\":\"nparametertypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}// { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n//  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n];}var paramMandatoryFields=[];this.paramColumnList.forEach(function(item){return item.mandatory===true?paramMandatoryFields.push(item):\"\";});this.materialColumnList=[{\"idsName\":\"IDS_MATERIALTYPE\",\"dataField\":\"nmaterialtypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_MATERIALCATEGORY\",\"dataField\":\"nmaterialcatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_MATERIALNAME\",\"dataField\":\"nmaterialcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"grouped-param-inner grouped-tab-inner\"},!this.props.testView?/*#__PURE__*/React.createElement(CustomTab,{paneHeight:this.props.paneHeight,tabDetail:this.tabDetail(),onTabChange:this.onTabChange}):/*#__PURE__*/React.createElement(CustomTab,{paneHeight:this.props.paneHeight,tabDetail:this.testTabDetail(),onTabChange:this.onTabChange})),this.props.openChildModal&&this.props.screenName&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,esign:this.props.loadEsign,validateEsign:this.validateEsign,onSaveClick:this.onSaveClick//showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\n,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.screenName===\"IDS_PARAMETER\"?paramMandatoryFields:this.props.screenName===\"IDS_CODEDRESULT\"?this.codedResultMandatory:this.props.screenName===\"IDS_CLINICALSPEC\"?this.clinicalSpecMandatory:this.props.screenName===\"IDS_TESTGROUPMATERIAL\"?this.materialColumnList:[],addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_PARAMETER\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EditTestGroupParameter,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.testGroupInputData,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange//TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\n}),this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.PREDEFINED||this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.CHARACTER||this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.NUMERIC?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"horizontal-line\"}))):\"\",this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.CHARACTER&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(FormTextarea,{name:\"scharname\",label:this.props.intl.formatMessage({id:\"IDS_TESTCHARACTER\"}),onChange:function onChange(event){return _this2.onInputOnChange(event,1);},placeholder:this.props.intl.formatMessage({id:\"IDS_TESTCHARACTER\"}),value:this.state.selectedRecord[\"scharname\"],rows:\"2\",required:false,maxLength:255}))),this.state.selectedRecord[\"parameterTypeCode\"]===parameterType.NUMERIC&&this.props.masterData.selectedNode.nsampletypecode!==SampleType.CLINICALTYPE&&/*#__PURE__*/React.createElement(AddSpecification,{selectedRecord:this.state.selectedRecord,onInputOnChange:this.onInputOnChange})):this.props.screenName===\"IDS_CODEDRESULT\"?/*#__PURE__*/React.createElement(AddCodedResult,{onInputOnChange:this.onInputOnChange,parameterData:this.props.parameterData,selectedRecord:this.state.selectedRecord,onComboChange:this.onComboChange,addSubCodedResult:this.addSubCodedResult,deleteSubCodedResult:this.deleteSubCodedResult,selectedsubcodedresult:this.state.selectedsubcodedresult||[],controlMap:this.props.controlMap,userRoleControlRights:this.props.userRoleControlRights,userInfo:this.props.userInfo}):this.props.screenName===\"IDS_SUBCODEDRESULT\"?/*#__PURE__*/React.createElement(AddSubCodedResult,{onInputOnChange:this.onInputOnChange,parameterData:this.props.parameterData,selectedRecord:this.state.selectedRecord,onComboChange:this.onComboChange,addSubCodedResult:this.addSubCodedResult}):this.props.screenName===\"IDS_CLINICALSPEC\"?/*#__PURE__*/React.createElement(AddTestGroupNumericSpecification,{onInputOnChange:this.onInputOnChange,parameterData:this.props.parameterData,selectedRecord:this.state.selectedRecord,onComboChange:this.onComboChange,onNumericInputChange:this.onNumericInputChange}):/*#__PURE__*/React.createElement(AddTestGroupTestMaterial,{materialType:this.props.materialType,selectedRecord:this.state.selectedRecord,materialCategoryList:this.props.materialCategoryList,materialList:this.props.materialList,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange})}),this.props.testGroupCheckList&&this.props.testGroupCheckList.templateData&&this.props.testGroupCheckList.templateData.length>0&&/*#__PURE__*/React.createElement(TemplateForm,{templateData:this.props.testGroupCheckList.templateData,handleClose:this.handleClose,screenName:\"IDS_VIEWCHECKLIST\",needSaveButton:false,viewScreen:this.props.openTemplateModal,onTemplateInputChange:this.onTemplateInputChange,onTemplateComboChange:this.onTemplateComboChange,onTemplateDateChange:this.onTemplateDateChange}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}if(this.props.selectedsubcodedresult!==previousProps.selectedsubcodedresult){this.setState({selectedsubcodedresult:this.props.selectedsubcodedresult});}if(this.props.selectsubcodedelete!==previousProps.selectsubcodedelete){this.setState({selectsubcodedelete:this.props.selectsubcodedelete});}}}]);return TestGroupTestTab;}(Component);export default injectIntl(TestGroupTestTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroupTestTab.jsx"],"names":["React","Component","injectIntl","Row","Col","PerfectScrollbar","DEFAULT_RETURN","TestGroupParameterTab","CustomTab","showEsign","sortData","Esign","SlideOutModal","parameterType","SampleType","transactionStatus","EditTestGroupParameter","AddCodedResult","FormTextarea","AddSpecification","TemplateForm","toast","TestGroupMaterialTab","AddTestGroupTestMaterial","AddTestGroupNumericSpecification","ConfirmMessage","TestGroupRulesEngineTab","AddSubCodedResult","TestGroupTestTab","props","onTemplateInputChange","event","selectedRecord","state","target","type","name","checked","YES","NO","value","setState","onTemplateComboChange","comboData","fieldName","onTemplateDateChange","dateName","dateValue","Date","handleClose","updateInfo","typeName","data","testGroupCheckList","openTemplateModal","updateStore","closeModal","screenName","operation","selectedId","openChildModal","loadEsign","selectedsubcodedresult","onTabChange","tabProps","EditSpecDetails","viewdetails","ncontrolCode","addTestGroupNumericTab","userInfo","testgroupspecification","masterData","SelectedSpecification","DeleteSpecDetails","SpecConfirmDelete","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","inputParam","deleteAction","onSwitchChange","addTestFile","viewTestFile","defaultRecord","filterData","getTestGroupParameter","editTestGroupParameter","addTestGroupCodedResult","viewTestGroupCheckList","dataState","dataStateChange","testTabDetail","paneHeight","subCodedResultView","ConfirmDelete","getDataForTestMaterial","getTestGroupMaterial","getDataForEditTestMaterial","getTestGroupRulesEngineAdd","settings","skipRulesEngine","takeRulesEngine","getEditTestGroupRulesEngine","getSelectedTestGroupRulesEngine","ConfirmDeleteRule","approveVersion","openflowview","handlePageChangeRuleEngine","viewOutcome","filterParamRulesEngine","filterTransactionList","deleteId","confirmMessage","confirm","intl","formatMessage","id","DeleteTestMaterial","selectedSpecification","napprovalstatus","DRAFT","CORRECTION","inputData","ntreeversiontempcode","selectedNode","ntestgrouptestmaterialcode","selectedMaterial","ntestgrouptestcode","methodUrl","classUrl","esignRights","nformcode","screenData","openModal","crudMaster","warn","onSaveClick","saveType","formRef","onSaveFormula","onSaveParameter","length","onSaveCodedResult","onSaveSubCodedResult","onSaveSpecification","onSaveMaterial","parameterList","testGroupTestParameter","nparametertypecode","nunitcode","nchecklistversioncode","map","item","testgrouptestparameter","userinfo","NUMERIC","testGroupTestNumericParameter","numericList","ntestgrouptestparametercode","replace","ntestformulacode","testFormula","testgrouptestformula","sformulacalculationcode","sformulacalculationdetail","ntransactionstatus","CHARACTER","characterList","testGroupTestCharParameter","console","log","searchRef","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","SelectedTest","fetchUrl","fecthInputObject","searchFieldList","selectedParameter","testFormulaArray","test","testgroupsubcoded","testGroupPredefParameter","ndefaultstatus","nstatus","ACTIVE","ntestgrouptestpredefcode","ngradecode","spredefinedname","spredefinedsynonym","spredefinedcomments","salertmessage","nneedresultentryalert","nneedsubcodedresult","ntestpredefinedcode","testgrouptestpredefinedparameter","deletetestgroupsubcoded","selectsubcodedelete","addsubcodedresult","filter","x","hasOwnProperty","ssubcodedresult","push","loading","submit","TestGroupAddSpecification","ngendercode","nfromage","ntoage","shigha","shighb","slowa","slowb","sresultvalue","ntestgrouptestclinicspeccode","testgroupaddspecification","testGroupTestMaterial","nmaterialtypecode","jsondata","nmaterialcatcode","nmaterialcode","smaterialname","label","sremarks","testgrouptestmaterial","deleteTest","deleteParam","treeVersionTemplateIndex","findIndex","templateVersionStatus","RETIRED","testgrouptest","treetemplatemanipulation","modalName","selected","toLowerCase","key","dataItem","onEsignInputOnChange","onComboChange","caseNo","needRoundingDigit","needUnit","parameterData","defaultUnit","undefined","testGroupInputData","schecklistversionname","oldnmaterialtypecode","parseInt","materialType","getMaterialCategoryBasedMaterialType","oldnmaterialcatcode","getMaterialBasedMaterialCategory","addSubCodedResult","deleteSubCodedResult","index","subCodedResult","index1","splice","dataIndex","onInputOnChange","optional","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","inputValue","codedResultMandatory","onNumericInputChange","validateEsign","sreason","nreasoncode","spredefinedreason","password","validateEsignCredential","clinicalSpecMandatory","TestGroupTestClinicalSpec","paramColumnList","PREDEFINED","paramMandatoryFields","forEach","mandatory","materialColumnList","testView","nsampletypecode","CLINICALTYPE","materialCategoryList","materialList","templateData","previousProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport TestGroupParameterTab from './TestGroupParameterTab';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport { showEsign, sortData } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { parameterType, SampleType, transactionStatus } from '../../components/Enumeration';\r\nimport EditTestGroupParameter from './EditTestGroupParameter';\r\nimport AddCodedResult from '../testmanagement/AddCodedResult';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport AddSpecification from '../testmanagement/AddSpecification';\r\nimport TemplateForm from '../checklist/checklist/TemplateForm';\r\nimport { toast } from 'react-toastify';\r\nimport TestGroupMaterialTab from './TestGroupMaterialTab';\r\nimport AddTestGroupTestMaterial from './AddTestGroupTestMaterial';\r\nimport AddTestGroupNumericSpecification from './AddTestGroupNumericSpecification';\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport TestGroupRulesEngineTab from './TestGroupRulesEngineTab';\r\nimport AddSubCodedResult from '../testmanagement/AddSubCodedResult';\r\n\r\nclass TestGroupTestTab extends Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedRecord: {}\r\n        }\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n\r\n        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n        this.clinicalSpecMandatory = [{ \"idsName\": \"IDS_GENDER\", \"dataField\": \"ngendercode\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_FROMAGE\", \"dataField\": \"nfromage\", \"width\": \"200px\", \"mandatory\": true },\r\n        { \"idsName\": \"IDS_TOAGE\", \"dataField\": \"ntoage\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.props.masterData.TestGroupTestClinicalSpec) {\r\n            sortData(this.props.masterData.TestGroupTestClinicalSpec, \"ascending\", \"nfromage\");\r\n        }\r\n\r\n\r\n        this.paramColumnList = [\r\n            { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ]\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_ROUNDINGDIGITS\", \"dataField\": \"nroundingdigits\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_UNIT\", \"dataField\": \"nunitcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n        }\r\n        if (this.state.selectedRecord[\"parameterTypeCode\"] && this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED) {\r\n            this.paramColumnList = [\r\n                { \"idsName\": \"IDS_PARAMETERSYNONYM\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"nparametertypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n               // { \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n              //  { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n        }\r\n        const paramMandatoryFields = [];\r\n\r\n        this.paramColumnList.forEach(item => item.mandatory === true ?\r\n            paramMandatoryFields.push(item) : \"\"\r\n        );\r\n        this.materialColumnList = [\r\n            { \"idsName\": \"IDS_MATERIALTYPE\", \"dataField\": \"nmaterialtypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALCATEGORY\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_MATERIALNAME\", \"dataField\": \"nmaterialcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n\r\n        ]\r\n        return (\r\n            <>\r\n                    <div className='grouped-param-inner grouped-tab-inner'>\r\n                        {!this.props.testView ?\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                            :\r\n                            <CustomTab paneHeight={this.props.paneHeight} tabDetail={this.testTabDetail()} onTabChange={this.onTabChange} />\r\n\r\n                        }\r\n                    </div>\r\n\r\n                {this.props.openChildModal && this.props.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        //showSaveContinue={this.props.screenName === \"IDS_SUBCODEDRESULT\"?true:false}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"IDS_PARAMETER\" ? paramMandatoryFields :\r\n                            this.props.screenName === \"IDS_CODEDRESULT\" ? this.codedResultMandatory : this.props.screenName === \"IDS_CLINICALSPEC\" ? this.clinicalSpecMandatory : this.props.screenName === \"IDS_TESTGROUPMATERIAL\"\r\n                                ? this.materialColumnList : []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"IDS_PARAMETER\" ?\r\n                                <>\r\n                                    <EditTestGroupParameter\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.testGroupInputData}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputChange}\r\n                                    //TestGroupTestClinicalSpec={this.props.masterData.TestGroupTestClinicalSpec}\r\n                                    />\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER ||\r\n                                        this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC ?\r\n                                        <Row>\r\n                                            <Col>\r\n                                                <div className=\"horizontal-line\"></div>\r\n                                            </Col>\r\n                                        </Row> : \"\"\r\n                                    }\r\n\r\n                                    {/* {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.PREDEFINED &&\r\n                                        <Row>\r\n                                            <AddCodedResult\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                addSubCodedResult={this.addSubCodedResult}\r\n                                                deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                                selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                                selectsubcodedelete={this.state.selectsubcodedelete || []}\r\n                                                controlMap={this.props.controlMap}\r\n                                                userRoleControlRights={this.props.userRoleControlRights}\r\n\r\n                                            />\r\n                                        </Row>\r\n                                        } */}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.CHARACTER &&\r\n                                        <Row>\r\n                                            <Col md=\"12\">\r\n                                                <FormTextarea\r\n                                                    name={\"scharname\"}\r\n                                                    label={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TESTCHARACTER\" })}\r\n                                                    value={this.state.selectedRecord[\"scharname\"]}\r\n                                                    rows=\"2\"\r\n                                                    required={false}\r\n                                                    maxLength={255}\r\n                                                >\r\n                                                </FormTextarea>\r\n                                            </Col>\r\n                                        </Row>}\r\n                                    {this.state.selectedRecord[\"parameterTypeCode\"] === parameterType.NUMERIC && this.props.masterData.selectedNode.nsampletypecode !== SampleType.CLINICALTYPE &&\r\n                                        <AddSpecification\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                        />}\r\n                                </> :\r\n                                this.props.screenName === \"IDS_CODEDRESULT\" ?\r\n                                    <AddCodedResult\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        parameterData={this.props.parameterData}\r\n                                        selectedRecord={this.state.selectedRecord}\r\n                                        onComboChange={this.onComboChange}\r\n                                        addSubCodedResult={this.addSubCodedResult}\r\n                                        deleteSubCodedResult={this.deleteSubCodedResult}\r\n                                        selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                                        controlMap={this.props.controlMap}\r\n                                        userRoleControlRights={this.props.userRoleControlRights}\r\n                                        userInfo={this.props.userInfo}\r\n                                    />\r\n                                    :\r\n                                    this.props.screenName === \"IDS_SUBCODEDRESULT\" ?\r\n                                        <AddSubCodedResult\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            parameterData={this.props.parameterData}\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            onComboChange={this.onComboChange}\r\n                                            addSubCodedResult={this.addSubCodedResult}\r\n\r\n                                        />\r\n                                        :\r\n                                        this.props.screenName === \"IDS_CLINICALSPEC\" ?\r\n                                            <AddTestGroupNumericSpecification\r\n\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                parameterData={this.props.parameterData}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n                                            />\r\n                                            : <AddTestGroupTestMaterial\r\n                                                materialType={this.props.materialType}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                                materialCategoryList={this.props.materialCategoryList}\r\n                                                materialList={this.props.materialList}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onNumericInputChange={this.onNumericInputChange}\r\n\r\n                                            />\r\n\r\n                        }\r\n                    />\r\n                }\r\n                {this.props.testGroupCheckList && this.props.testGroupCheckList.templateData &&\r\n                    this.props.testGroupCheckList.templateData.length > 0 &&\r\n                    <TemplateForm\r\n                        templateData={this.props.testGroupCheckList.templateData}\r\n                        handleClose={this.handleClose}\r\n                        screenName=\"IDS_VIEWCHECKLIST\"\r\n                        needSaveButton={false}\r\n                        viewScreen={this.props.openTemplateModal}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    onTemplateInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onTemplateDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state.selectedRecord || {};\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleClose = () => {\r\n        let updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord: {},\r\n                testGroupCheckList: {},\r\n                openTemplateModal: false\r\n            }\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeModal = () => {\r\n        if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            //screenName = \"IDS_CODEDRESULT\";\r\n            //operation = \"update\";\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    operation: \"create\", selectedId: null,\r\n                    openChildModal: true, screenName: \"IDS_CODEDRESULT\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            let loadEsign = this.props.loadEsign;\r\n            let openChildModal = this.props.openChildModal;\r\n            let selectedRecord = this.props.selectedRecord;\r\n            let selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            if (this.props.loadEsign) {\r\n                if (this.props.operation === \"delete\" || this.props.operation === \"Default\") {\r\n                    loadEsign = false;\r\n                    openChildModal = false;\r\n                    selectedRecord = {};\r\n                } else {\r\n                    loadEsign = false;\r\n                    selectedRecord[\"agree\"] = 4;\r\n                    selectedRecord['esignpassword'] = \"\"\r\n                    selectedRecord['esigncomments'] = \"\"\r\n                    selectedRecord['esignreason'] = \"\"\r\n                }\r\n            } else {\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openChildModal, loadEsign, selectedRecord, selectedsubcodedresult }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            //this.setState({selectedsubcodedresult: []}); \r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    EditSpecDetails = (viewdetails, ncontrolCode) => {\r\n\r\n        this.props.addTestGroupNumericTab(\"update\", viewdetails, this.props.userInfo, { testgroupspecification: this.props.masterData.SelectedSpecification }, this.props.masterData, ncontrolCode)\r\n    };\r\n\r\n    DeleteSpecDetails = (viewdetails, ncontrolCode) => {\r\n        this.SpecConfirmDelete(\"delete\", 1, viewdetails, ncontrolCode)\r\n    };\r\n\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n\r\n            />);\r\n        return tabMap;\r\n    }\r\n    testTabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_PARAMETER\",\r\n            <TestGroupParameterTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                deleteAction={this.deleteAction}\r\n                onSwitchChange={this.onSwitchChange}\r\n                addTestFile={this.props.addTestFile}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                filterData={this.props.filterData}\r\n                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                subCodedResultView={this.props.subCodedResultView}\r\n                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                EditSpecDetails={this.EditSpecDetails}\r\n                DeleteSpecDetails={this.DeleteSpecDetails}\r\n                hasDynamicColSize={true}\r\n                dataState={this.props.dataState}\r\n                dataStateChange={this.props.dataStateChange}\r\n            />);\r\n        tabMap.set(\"IDS_MATERIAL\",\r\n            <TestGroupMaterialTab\r\n                paneHeight={this.props.paneHeight}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                masterData={this.props.masterData}\r\n                ConfirmDelete={this.ConfirmDelete}\r\n                getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                selectedRecord={this.state.selectedRecord}\r\n\r\n            />);\r\n        tabMap.set(\"IDS_RULESENGINE\",\r\n            <TestGroupRulesEngineTab\r\n                paneHeight={this.props.paneHeight}\r\n                getTestGroupRulesEngineAdd={this.props.getTestGroupRulesEngineAdd}\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                selectedRecord={this.state.selectedRecord}\r\n                masterData={this.props.masterData}\r\n                settings={this.props.settings}\r\n                skipRulesEngine={this.props.skipRulesEngine}\r\n                takeRulesEngine={this.props.takeRulesEngine}\r\n                getEditTestGroupRulesEngine={this.props.getEditTestGroupRulesEngine}\r\n                getSelectedTestGroupRulesEngine={this.props.getSelectedTestGroupRulesEngine}\r\n                ConfirmDeleteRule={this.props.ConfirmDeleteRule}\r\n                approveVersion={this.props.approveVersion}\r\n                openflowview={this.props.openflowview}\r\n                handlePageChangeRuleEngine={this.props.handlePageChangeRuleEngine}\r\n                viewOutcome={this.props.viewOutcome}\r\n                filterParamRulesEngine={this.props.filterParamRulesEngine}\r\n                filterTransactionList={this.props.filterTransactionList}\r\n\r\n            />);\r\n        return tabMap;\r\n    }\r\n    ConfirmDelete = (operation, deleteId, selectedRecord) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.DeleteTestMaterial(\r\n                    operation,\r\n                    deleteId, selectedRecord\r\n                )\r\n        );\r\n    };\r\n\r\n    SpecConfirmDelete = (operation, deleteId, selectedRecord, ncontrolCode) => {\r\n        this.confirmMessage.confirm(\r\n            \"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () =>\r\n                this.deleteAction(selectedRecord, \"delete\", ncontrolCode, \"TestGroupAddSpecification\", \"openChildModal\")\r\n        );\r\n    };\r\n    DeleteTestMaterial = (operation, ncontrolCode) => {\r\n        let selectedSpecification = this.props.masterData.SelectedSpecification;\r\n        if (selectedSpecification.napprovalstatus === transactionStatus.DRAFT\r\n            || selectedSpecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n            let selectedRecord = this.state.selectedRecord\r\n            let inputData = [];\r\n            inputData = { ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode }\r\n\r\n            inputData[\"testgrouptestmaterial\"] = {\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                ntestgrouptestcode: this.props.masterData.selectedMaterial.ntestgrouptestcode,\r\n\r\n            };\r\n\r\n            inputData[\"userinfo\"] = this.props.userInfo;\r\n            const inputParam = {\r\n                methodUrl: \"TestGroupTestMaterial\",\r\n                classUrl: this.props.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: \"delete\",\r\n            };\r\n            const masterData = this.props.masterData;\r\n            if (\r\n                showEsign(\r\n                    this.props.esignRights,\r\n                    this.props.userInfo.nformcode,\r\n                    ncontrolCode\r\n                )\r\n            ) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true,\r\n                        screenData: { inputParam, masterData },\r\n                        openModal: true,\r\n                        screenName: \"IDS_TESTGROUPMATERIAL\",\r\n                        operation: operation.operation,\r\n                    },\r\n                };\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        }\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        // if(this.props.screenName === \"IDS_TEST\" \r\n        //     || this.props.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n        //     inputParam = this.onSaveTest(saveType, formRef);\r\n        // } else \r\n        if (this.props.screenName === \"IDS_FORMULA\") {\r\n            inputParam = this.onSaveFormula(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_PARAMETER\") {\r\n            inputParam = this.onSaveParameter(saveType, formRef);\r\n        } else if (this.props.screenName === \"IDS_CODEDRESULT\") {\r\n            if ((this.state.selectedRecord[\"nneedsubcodedresult\"] === 3 && this.state.selectedsubcodedresult.length>0) ||(this.state.selectedRecord[\"nneedsubcodedresult\"] === 4) ) {\r\n            inputParam = this.onSaveCodedResult(saveType, formRef);\r\n            }else\r\n            {\r\n                return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ADDSUBCODEDRESULT\" }));\r\n            }\r\n\r\n        } else if (this.props.screenName === \"IDS_SUBCODEDRESULT\") {\r\n            return this.onSaveSubCodedResult(saveType, formRef);\r\n\r\n        } else if (this.props.screenName === \"IDS_CLINICALSPEC\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === \"IDS_TESTGROUPMATERIAL\") {\r\n            inputParam = this.onSaveMaterial(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            //(this.props.screenName !== \"IDS_CODEDRESULT\")\r\n            // if(this.props.submit!==\"SUBCODERESULT\")\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveParameter = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const parameterList = [\"ntestgrouptestparametercode\", \"ntestgrouptestcode\", \"ntestparametercode\", \"sparametersynonym\", \"nroundingdigits\",\r\n            \"nresultmandatory\", \"nreportmandatory\", \"sspecdesc\", \"nsorter\"];\r\n        let testGroupTestParameter = {\r\n            nparametertypecode: selectedRecord.nparametertypecode.value,\r\n            nunitcode: selectedRecord.nunitcode ? selectedRecord.nunitcode.value : -1,\r\n            nchecklistversioncode: selectedRecord.nchecklistversioncode ? selectedRecord.nchecklistversioncode.value : -1\r\n        }\r\n        parameterList.map(item => {\r\n            return testGroupTestParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n        });\r\n        let inputData = {\r\n            testgrouptestparameter: testGroupTestParameter,\r\n            userinfo: this.props.userInfo\r\n        };\r\n        if (selectedRecord.nparametertypecode.value === parameterType.NUMERIC) {\r\n            let testGroupTestNumericParameter = {};\r\n            const numericList = [\"sminlod\", \"smaxlod\", \"sminb\", \"smina\", \"smaxa\", \"smaxb\", \"sminloq\", \"smaxloq\", \"sdisregard\", \"sresultvalue\"];\r\n            testGroupTestNumericParameter[\"ntestgrouptestparametercode\"] = selectedRecord.ntestgrouptestparametercode;\r\n            numericList.map(item => {\r\n                return testGroupTestNumericParameter[item] = selectedRecord[item] ? selectedRecord[item] === \"0\" ? selectedRecord[item] : selectedRecord[item].replace(/^0+/, '') : null;\r\n            });\r\n            inputData[\"testgrouptestnumericparameter\"] = testGroupTestNumericParameter;\r\n            if (selectedRecord.ntestformulacode) {\r\n                const testFormula = selectedRecord.ntestformulacode.item;\r\n                const testgrouptestformula = {\r\n                    ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    ntestformulacode: testFormula.ntestformulacode,\r\n                    sformulacalculationcode: testFormula.sformulacalculationcode,\r\n                    sformulacalculationdetail: testFormula.sformulacalculationdetail,\r\n                    ntransactionstatus: transactionStatus.YES\r\n                };\r\n                inputData[\"testgrouptestformula\"] = testgrouptestformula;\r\n            } else {\r\n                inputData[\"testgrouptestformula\"] = null;\r\n            }\r\n        } else if (selectedRecord.nparametertypecode.value === parameterType.CHARACTER) {\r\n            const characterList = [\"ntestgrouptestparametercode\", \"scharname\"];\r\n            let testGroupTestCharParameter = {};\r\n            characterList.map(item => {\r\n                return testGroupTestCharParameter[item] = selectedRecord[item] ? selectedRecord[item] : \"\";\r\n            });\r\n            inputData[\"testgrouptestcharparameter\"] = testGroupTestCharParameter;\r\n        }\r\n        //  else if (selectedRecord.nparametertypecode.value === parameterType.PREDEFINED) {\r\n        //     const testGroupTestPredefParameter = {\r\n        //         ntestgrouptestparametercode: selectedRecord.ntestgrouptestparametercode,\r\n        //         ngradecode: selectedRecord.ngradecode.value,\r\n        //         spredefinedname: selectedRecord.spredefinedname,\r\n        //         ntestgrouptestpredefcode: selectedRecord.ntestgrouptestpredefcode,\r\n        //         ndefaultstatus: selectedRecord.ndefaultstatus\r\n        //     }\r\n        //     inputData[\"testgrouptestpredefparameter\"] = testGroupTestPredefParameter;\r\n        // }\r\n        console.log(\"input data:\", inputData);\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: \"update\",\r\n            methodUrl: \"TestGroupParameter\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveFormula = (saveType, formRef) => {\r\n        const masterData = this.props.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedParameter = masterData.selectedParameter;\r\n        const testFormulaArray = selectedRecord.ntestformulacode.map(test => {\r\n            return {\r\n                ntestgrouptestcode: selectedParameter.ntestgrouptestcode,\r\n                ntestgrouptestparametercode: selectedParameter.ntestgrouptestparametercode,\r\n                ntestformulacode: test.item.ntestformulacode,\r\n                sformulacalculationcode: test.item.sformulacalculationcode,\r\n                sformulacalculationdetail: test.item.sformulacalculationdetail,\r\n                ntransactionstatus: transactionStatus.NO\r\n            }\r\n        });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgrouptestformula: testFormulaArray,\r\n            userinfo: this.props.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestFormula\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveCodedResult = (saveType, formRef) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            //const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            const testgroupsubcoded = [];\r\n            const testGroupPredefParameter = {\r\n                ndefaultstatus: transactionStatus.NO,\r\n                nstatus: transactionStatus.ACTIVE,\r\n                ntestgrouptestpredefcode: selectedRecord[\"ntestgrouptestpredefcode\"],\r\n                ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n                ngradecode: selectedRecord[\"ngradecode\"].value,\r\n                spredefinedname: selectedRecord[\"spredefinedname\"],\r\n                //sresultparacomment: selectedRecord[\"sresultparacomment\"],\r\n                spredefinedsynonym: selectedRecord[\"spredefinedsynonym\"],\r\n                spredefinedcomments: selectedRecord[\"spredefinedcomments\"],\r\n                salertmessage: selectedRecord[\"salertmessage\"],\r\n                nneedresultentryalert: selectedRecord[\"nneedresultentryalert\"],\r\n                nneedsubcodedresult: selectedRecord[\"nneedsubcodedresult\"],\r\n                ntestpredefinedcode: this.props.masterData.selectedParameter[\"ntestpredefinedcode\"],\r\n\r\n            };\r\n            const inputParam = {\r\n                inputData: {\r\n                    testgrouptestpredefinedparameter: testGroupPredefParameter,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    testgroupsubcoded: this.state.selectedsubcodedresult,\r\n                    deletetestgroupsubcoded: this.state.selectsubcodedelete,\r\n                    addsubcodedresult : this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| []\r\n\r\n                },\r\n\r\n                classUrl: \"testgroup\",\r\n                operation: this.props.operation,\r\n                methodUrl: \"TestGroupPredefParameter\",\r\n                saveType, formRef, searchRef: this.searchRef,\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            //this.setState({selectedsubcodedresult: []}); \r\n            return inputParam;\r\n\r\n        \r\n    }\r\n\r\n\r\n\r\n    onSaveSubCodedResult = (saveType, formRef) => {\r\n        // const ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        let selectedsubcodedresult = [];\r\n        //let addsubcodedresult = [];\r\n        selectedsubcodedresult[\"ssubcodedresult\"] = [];\r\n        selectedsubcodedresult = this.state.selectedsubcodedresult || [];\r\n        //addsubcodedresult = this.state.selectedsubcodedresult.filter(x =>!x.hasOwnProperty('ntestgrouptestpredefsubcode') )|| [];\r\n        let ssubcodedresult = this.state.selectedRecord[\"ssubcodedresult\"];\r\n        selectedsubcodedresult.push({ \"ssubcodedresult\": this.state.selectedRecord[\"ssubcodedresult\"] });\r\n        const selectedRecord = this.state.selectedRecord\r\n        delete selectedRecord[\"ssubcodedresult\"]\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null, selectedsubcodedresult, selectedRecord,\r\n                screenName: \"IDS_CODEDRESULT\", loading: false//,openChildModal: false,,\r\n                , submit: \"SUBCODERESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //this.setState({ selectedsubcodedresult });\r\n    }\r\n\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        // if(selectedRecord[\"nfromage\"]<selectedRecord[\"ntoage\"]){\r\n\r\n        const TestGroupAddSpecification = {\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntestgrouptestparametercode: this.props.masterData.selectedParameter[\"ntestgrouptestparametercode\"],\r\n            ngendercode: selectedRecord[\"ngendercode\"].value,\r\n            nfromage: selectedRecord[\"nfromage\"],\r\n            ntoage: selectedRecord[\"ntoage\"],\r\n            shigha: selectedRecord[\"nhigha\"],\r\n            shighb: selectedRecord[\"nhighb\"],\r\n            slowa: selectedRecord[\"nlowa\"],\r\n            slowb: selectedRecord[\"nlowb\"],\r\n            sresultvalue: selectedRecord[\"sresultvalue\"],\r\n\r\n            ntestgrouptestclinicspeccode: selectedRecord[\"ntestgrouptestclinicspeccode\"],\r\n\r\n        };\r\n\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgroupaddspecification: TestGroupAddSpecification,\r\n                userinfo: this.props.userInfo,\r\n                testgroupspecification: this.props.masterData.SelectedSpecification\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupAddSpecification\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n        // }else{\r\n        //     toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"})); \r\n        // }\r\n    }\r\n    onSaveMaterial = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let testGroupTestMaterial = []\r\n        if (this.props.operation === \"create\") {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.SelectedTest.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].item.jsondata.nmaterialtypecode,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                smaterialname: selectedRecord[\"nmaterialcode\"].label,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n        else {\r\n            testGroupTestMaterial = {\r\n                ntestgrouptestcode: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                ntestgrouptestmaterialcode: this.props.masterData.selectedMaterial.ntestgrouptestmaterialcode,\r\n                nmaterialtypecode: selectedRecord[\"nmaterialtypecode\"].value,\r\n                nmaterialcatcode: selectedRecord[\"nmaterialcatcode\"].value,\r\n                nmaterialcode: selectedRecord[\"nmaterialcode\"].value,\r\n                sremarks: selectedRecord[\"sremarks\"],\r\n                nstatus: transactionStatus.ACTIVE,\r\n\r\n            };\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData: {\r\n                testgrouptestmaterial: testGroupTestMaterial,\r\n                ntreeversiontempcode: this.props.masterData.selectedNode.ntreeversiontempcode,\r\n                userinfo: this.props.userInfo,\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.operation,\r\n            methodUrl: \"TestGroupTestMaterial\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam: {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n            }\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const screenName = deleteParam.screenName;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgrouptest: deleteParam.selectedRecord,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"Test\",\r\n                    screenName: \"IDS_TEST\",\r\n                    postParam: {\r\n                        inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                        primaryKeyValue: deleteParam.selectedRecord.ntestgrouptestcode,\r\n                        fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                        masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                    }\r\n                }\r\n                const masterData = this.props.masterData;\r\n                if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteAction = (item, operation, ncontrolCode, methodUrl, modalName) => {\r\n\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const selected = item;\r\n            const inputParam = {\r\n                inputData: {\r\n                    [methodUrl.toLowerCase()]: selected,\r\n                    userinfo: this.props.userInfo,\r\n                    testgroupspecification: this.props.masterData.SelectedSpecification,\r\n                    deletetestgroupsubcoded:this.state.selectedsubcodedresult\r\n                },\r\n                classUrl: \"testgroup\",\r\n                operation: operation,\r\n                methodUrl: methodUrl,\r\n                screenName: \"IDS_TEST\",\r\n                postParam: {\r\n                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                    primaryKeyValue: this.props.masterData.SelectedTest.ntestgrouptestcode,\r\n                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.userInfo },\r\n                    masterData: this.props.masterData, searchFieldList: this.searchFieldList\r\n                }\r\n            }\r\n            const masterData = this.props.masterData;\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        [modalName]: true, screenName: \"IDS_TEST\", operation: operation, selectedRecord: {}\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onSwitchChange = (item, key, methodUrl, event) => {\r\n        const masterData = this.props.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            //NIBSCRT-2236\r\n            const testgroupspecification = this.props.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                let dataItem = item;\r\n                if (methodUrl === \"TestGroupTestFormula\") {\r\n                    dataItem[\"ntransactionstatus\"] = transactionStatus.YES;\r\n                } else if (methodUrl === 'TestGroupPredefParameter') {\r\n                    // if(this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.DRAFT || this.props.masterData.SelectedSpecification.napprovalstatus === transactionStatus.CORRECTION)\r\n                    // {\r\n                    dataItem['ndefaultstatus'] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                    // }\r\n                    // else{\r\n                    //     return toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                    // }\r\n\r\n                }\r\n                else {\r\n                    dataItem[\"ndefaultstatus\"] = transactionStatus.YES;\r\n                }\r\n                const inputParam = {\r\n                    inputData: {\r\n                        [key]: dataItem,\r\n                        userinfo: this.props.userInfo,\r\n                        testgroupspecification: this.props.masterData.SelectedSpecification\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"default\",\r\n                    methodUrl: methodUrl\r\n                }\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\", {});\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        let inputData = [];\r\n        let masterData = { ...this.props.masterData }\r\n        let inputParam = []\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                const needRoundingDigit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                const needUnit = comboData.value === parameterType.NUMERIC ? false : true;\r\n                selectedRecord[\"nroundingdigits\"] = 0;\r\n                selectedRecord[\"nunitcode\"] = comboData.value === parameterType.NUMERIC ? this.props.parameterData.defaultUnit : undefined;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        selectedRecord,\r\n                        testGroupInputData: {\r\n                            ...this.props.testGroupInputData,\r\n                            needRoundingDigit, needUnit\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n            case 4:\r\n                let oldnmaterialtypecode = selectedRecord[\"nmaterialtypecode\"].value ? selectedRecord[\"nmaterialtypecode\"].value : selectedRecord[\"nmaterialtypecode\"];\r\n\r\n                if (oldnmaterialtypecode !== comboData.value) {\r\n                    delete selectedRecord['nmaterialcatcode']\r\n                    delete selectedRecord['nmaterialcode']\r\n                }\r\n                selectedRecord[\"nmaterialtypecode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialtypecode: parseInt(comboData.value),\r\n                }\r\n                inputParam = {\r\n                    materialType: this.props.materialType,\r\n                    operation: this.props.operation, masterData,\r\n                    inputData, selectedRecord,\r\n                    screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialCategoryBasedMaterialType(inputParam)\r\n                break;\r\n            case 5:\r\n                if (selectedRecord[\"nmaterialcatcode\"]) {\r\n                    let oldnmaterialcatcode = selectedRecord[\"nmaterialcatcode\"].value ? selectedRecord[\"nmaterialcatcode\"].value : selectedRecord[\"nmaterialcatcode\"];\r\n                    if (oldnmaterialcatcode !== comboData.value) {\r\n\r\n                        delete selectedRecord['nmaterialcode']\r\n                    }\r\n                }\r\n                selectedRecord[\"nmaterialcatcode\"] = comboData.value;\r\n\r\n                selectedRecord[fieldName] = comboData;\r\n                inputData = {\r\n                    userinfo: this.props.userInfo,\r\n                    nmaterialcatcode: parseInt(selectedRecord[\"nmaterialcatcode\"].value),\r\n                    nmaterialtypecode: parseInt(selectedRecord[\"nmaterialtypecode\"].value),\r\n\r\n                }\r\n                inputParam = {\r\n                    masterData, inputData,\r\n                    selectedRecord, operation: this.props.operation,\r\n                    selectedRecord, screenName: \"IDS_TESTGROUPMATERIAL\", ncontrolCode: this.props.ncontrolCode\r\n                }\r\n                this.props.getMaterialBasedMaterialCategory(inputParam)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    addSubCodedResult = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         loadEsign: true,\r\n        //         openModal: true,\r\n        //         screenName: \"IDS_TESTGROUPTESTMATERIAL\"\r\n        //     },\r\n        // };\r\n        // this.props.updateStore(updateInfo);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                //operation: \"create\", \r\n                selectedId: null,//selectedsubcodedresult:\"\",\r\n                openChildModal: true, screenName: \"IDS_SUBCODEDRESULT\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteSubCodedResult = (index, subCodedResult, index1) => {\r\n        const selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n        selectedsubcodedresult.splice(index1.dataIndex, 1);\r\n        //const selectsubcodedelete=[];\r\n        const selectsubcodedelete= this.state.selectsubcodedelete || [];\r\n        if(index[\"ntestgrouptestpredefsubcode\"])\r\n        selectsubcodedelete.push({ \"ntestgrouptestpredefsubcode\":index[\"ntestgrouptestpredefsubcode\"], \"ssubcodedresult\":index[\"ssubcodedresult\"],\"ntestgrouptestpredefcode\":index[\"ntestgrouptestpredefcode\"] });\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedId: null, selectedsubcodedresult,selectsubcodedelete\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        this.setState({ selectedsubcodedresult: [] });\r\n                    }\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: value.schildnode,\r\n                    nnextchildcode: value.schildnode\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 4:\r\n                const inputValue = event.target.value;\r\n                if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n\r\n            case 6:\r\n                // selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = { label: event.target.value, value: event.target.value };\r\n                // this.setState({ selectedRecord });\r\n                // break;\r\n                //selectedRecord[event.target.name] = selectedRecord[\"sresultparacomment\"] = event.target.value;\r\n                selectedRecord[event.target.name] = selectedRecord[\"spredefinedsynonym\"] = event.target.value;\r\n                //selectedRecord[\"sparametername\"] = { label: event.target.value, value: event.target.value };\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 5:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 4) {\r\n                        selectedRecord[\"nneedsubcodedresult\"] = 4\r\n                        delete selectedRecord[\"salertmessage\"]\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete,codedResultMandatory:this.codedResultMandatory });\r\n                    }\r\n                    if (selectedRecord[\"nneedresultentryalert\"] === 3) {\r\n                        this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"spredefinedsynonym\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                        { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                        this.setState({ codedResultMandatory: [] });\r\n                    }\r\n\r\n\r\n\r\n                    // if (selectedRecord[\"nneedsubcodedresult\"] === 3) {\r\n                    //     this.codedResultMandatory = [{ \"idsName\": \"IDS_CODEDRESULT\", \"dataField\": \"spredefinedname\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_CODEDRESULTSYNONYM\", \"dataField\": \"sresultparacomment\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ALERTMESSAGE\", \"dataField\": \"salertmessage\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_SUBCODEDRESULT\", \"dataField\": \"ssubcodedresult\", \"width\": \"200px\", \"mandatory\": true },\r\n                    //     { \"idsName\": \"IDS_ACTUALRESULT\", \"dataField\": \"ngradecode\", \"width\": \"200px\", \"mandatory\": true }];\r\n\r\n\r\n                    //     this.setState({ codedResultMandatory: [] });\r\n                    // }\r\n\r\n                    if (selectedRecord[\"nneedsubcodedresult\"] === 4) {\r\n                        const selectsubcodedelete=this.state.selectedsubcodedresult || []\r\n                        this.setState({ selectedsubcodedresult: [],selectsubcodedelete });\r\n                    }\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        console.log(\"value:\", value, name);\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (name === \"nroundingdigits\") {\r\n\r\n            // if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            //     console.log(\"val:\", value.target.value);\r\n            //     selectedRecord[name] = value.target.value;\r\n            // }\r\n            // if (/^-?\\d*?$/.test(value) || value === \"\") {\r\n            //    // console.log(\"val:\", value);\r\n            //     selectedRecord[name] = value;\r\n            // }\r\n            //const values = value.target.value.replace(/[^-^0-9]/g, '');\r\n            if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n                selectedRecord[name] = value.target.value;\r\n\r\n            } else {\r\n                selectedRecord[name] = \"\";\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[name] = value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n        if (this.props.selectedsubcodedresult !== previousProps.selectedsubcodedresult) {\r\n            this.setState({ selectedsubcodedresult: this.props.selectedsubcodedresult });\r\n        }\r\n\r\n        if (this.props.selectsubcodedelete !== previousProps.selectsubcodedelete) {\r\n            this.setState({ selectsubcodedelete: this.props.selectsubcodedelete });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default injectIntl(TestGroupTestTab);"]},"metadata":{},"sourceType":"module"}