{"ast":null,"code":"import rsapi from '../rsapi';\nimport Axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { DEFAULT_RETURN } from './LoginTypes';\nimport { initRequest } from './LoginAction';\nimport { sortData, constructOptionList, rearrangeDateFormat } from '../components/CommonScript';\nimport { transactionStatus, attachmentType } from '../components/Enumeration';\nimport { intl } from \"../components/App\";\nexport const getreloadQuotation = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"/quotation/get\" + inputParam.methodUrl, inputParam.inputData).then(response => {\n      const masterData = response.data;\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          dataState: undefined,\n          masterData: { ...masterData // quotation: inputParam.inputData.quotation\n\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport function getClientCategoryComboService(methodParam, selectedRecord) {\n  return function (dispatch) {\n    let URL = [];\n    URL = rsapi.post(\"/client/getClientByCategory\", {\n      \"userinfo\": methodParam.inputData.userinfo,\n      \"nclientcatcode\": methodParam.inputData.primarykey\n    });\n    dispatch(initRequest(true));\n    Axios.all([URL]).then(response => {\n      let Client, sclientsiteaddress;\n      let SelectedClient = [];\n      const usertMap = constructOptionList(response[0].data.Client || [], \"nclientcode\", \"sclientname\", undefined, undefined, false);\n      Client = usertMap.get(\"OptionList\"); // SelectedClient=response[0].data.selectedClient;\n      //  sclientsiteaddress= response[0].data.selectedClientSite.saddress1;\n      // selectedRecord={...selectedRecord,...response[0].data.selectedClient}\n      // selectedRecord={...selectedRecord,...response[0].data.selectedClientSite.saddress1} \n\n      selectedRecord[\"nclientcode\"] = {\n        label: response[0].data.selectedClient.sclientname,\n        value: response[0].data.selectedClient.nclientcode,\n        item: response[0].data.selectedClient\n      }; // selectedRecord[\"nclientcode\"]=response[0].data.selectedClient.nclientcode;\n      // selectedRecord[\"sclientname\"]=response[0].data.selectedClient.sclientname;\n\n      selectedRecord[\"sclientsiteaddress\"] = response[0].data.selectedClientSite.saddress1; // selectedRecord={response[0].data.selectedClientSite.saddress1}\n\n      selectedRecord = { ...selectedRecord\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          Client,\n          selectedRecord,\n          loading: false,\n          data: undefined,\n          dataState: undefined,\n          sclientsiteaddress,\n          SelectedClient\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getQuotaionClientComboService(methodParam, selectedRecord) {\n  return function (dispatch) {\n    let URL = [];\n    URL = rsapi.post(\"/client/getSelectedClientDetail\", {\n      \"userinfo\": methodParam.inputData.userinfo,\n      \"nclientcode\": methodParam.inputData.primarykey\n    });\n    dispatch(initRequest(true));\n    Axios.all([URL]).then(response => {\n      let sclientsiteaddress;\n      let SelectedClient = []; // SelectedClient=response[0].data.selectedClient;\n      // sclientsiteaddress= response[0].data.selectedClientSite.saddress1;\n\n      selectedRecord[\"sclientname\"] = response[0].data.selectedClient.sclientname;\n      selectedRecord[\"sclientsiteaddress\"] = response[0].data.selectedClientSite.saddress1;\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          selectedRecord,\n          loading: false,\n          data: undefined,\n          dataState: undefined,\n          sclientsiteaddress,\n          SelectedClient\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getProjectTypeComboService(methodParam, selectedRecord) {\n  return function (dispatch) {\n    let URL = [];\n    URL = rsapi.post(\"/projectmaster/getApprovedProjectMasterByProjectType\", {\n      \"userinfo\": methodParam.inputData.userinfo,\n      \"nprojecttypecode\": methodParam.inputData.primarykey\n    });\n    dispatch(initRequest(true));\n    Axios.all([URL]).then(response => {\n      let ProjectCode,\n          ProjectMaster = [];\n      let srfwdate, sprojecttitle, suserrolename, susername;\n      const usertMap = constructOptionList(response[0].data.ProjectCode || [], \"nprojectmastercode\", \"sprojectcode\", undefined, undefined, false);\n      ProjectCode = usertMap.get(\"OptionList\");\n      selectedRecord[\"nprojectmastercode\"] = {\n        label: response[0].data.SelectedProjectCode.sprojectcode,\n        value: response[0].data.SelectedProjectCode.nprojectmastercode,\n        item: response[0].data.SelectedProjectCode\n      };\n      srfwdate = rearrangeDateFormat(methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate); //  srfwdate=response[0].data.Projectmaster[0].srfwdate;\n\n      selectedRecord[\"sprojecttitle\"] = { ...response[0].data.Projectmaster[0],\n        sprojecttitle: sprojecttitle\n      }; // selectedRecord[\"srfwdate\"]={...response[0].data.Projectmaster[0],srfwdate:srfwdate};\n\n      selectedRecord[\"suserrolename\"] = { ...response[0].data.Projectmaster[0],\n        suserrolename: suserrolename\n      };\n      selectedRecord[\"susername\"] = { ...response[0].data.Projectmaster[0],\n        susername: susername\n      };\n      ProjectMaster = { ...response[0].data.Projectmaster[0],\n        srfwdate: srfwdate\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          selectedRecord,\n          loading: false,\n          data: undefined,\n          dataState: undefined,\n          ProjectCode,\n          ProjectMaster\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getProjectCodeComboService(methodParam, selectedRecord) {\n  return function (dispatch) {\n    let URL = [];\n    URL = rsapi.post(\"/projectmaster/getActiveProjectMasterById\", {\n      \"userinfo\": methodParam.inputData.userinfo,\n      \"nprojectmastercode\": methodParam.inputData.primarykey\n    });\n    dispatch(initRequest(true));\n    Axios.all([URL]).then(response => {\n      let ProjectMaster = [];\n      let srfwdate; // srfwdate= rearrangeDateFormat( methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate);\n\n      ProjectMaster = response[0].data.SelectedProjectMaster;\n      selectedRecord[\"nprojectmastercode\"] = {\n        label: response[0].data.SelectedProjectMaster.sprojectcode,\n        value: response[0].data.SelectedProjectMaster.nprojectmastercode,\n        item: response[0].data.SelectedProjectMaster\n      }; // srfwdate= rearrangeDateFormat( methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate);\n      // srfwdate=response[0].data.SelectedProjectMaster.srfwdate;\n\n      selectedRecord[\"srfwdate\"] = rearrangeDateFormat(methodParam.inputData.userinfo, response[0].data.SelectedProjectMaster.srfwdate);\n      ProjectMaster = { ...response[0].data.SelectedProjectMaster,\n        srfwdate: srfwdate\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          selectedRecord,\n          loading: false,\n          data: undefined,\n          dataState: undefined,\n          ProjectMaster\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n} //Add Project Master\n\nexport const addQuotation = (operation, userInfo, ncontrolCode, selectedQuotation) => {\n  return function (dispatch) {\n    if (operation === \"create\" || operation === \"update\" && selectedQuotation.ntransactionstatus !== transactionStatus.RETIRED) {\n      dispatch(initRequest(true));\n      const urlArray = [];\n      let selectedRecord = {};\n\n      if (operation === \"create\" || operation === \"update\") {\n        urlArray.push(rsapi.post(\"clientcategory/getClientCategory\", {\n          \"userinfo\": userInfo\n        }));\n        urlArray.push(rsapi.post(\"client/getClientByCategory\", {\n          \"nclientcatcode\": selectedQuotation.nclientcatcode,\n          \"userinfo\": userInfo\n        }));\n        urlArray.push(rsapi.post(\"projecttype/getProjectType\", {\n          \"userinfo\": userInfo\n        }));\n        urlArray.push(rsapi.post(\"quotation/getQuotationType\", {\n          \"userinfo\": userInfo\n        }));\n      }\n\n      if (operation === \"update\") {\n        urlArray.push(rsapi.post(\"quotation/getActiveQuotationById\", {\n          \"userinfo\": userInfo,\n          \"nquotationcode\": selectedQuotation.nquotationcode\n        }));\n      }\n\n      Axios.all(urlArray).then(response => {\n        let testData = {};\n        let {\n          ClientCategory,\n          Client,\n          ProjectType,\n          ProjectMaster,\n          sclientsiteaddress,\n          QuotationType\n        } = [];\n\n        if (operation === \"create\") {\n          ClientCategory = constructOptionList(response[0].data || [], \"nclientcatcode\", \"sclientcatname\", false, false, true).get(\"OptionList\"); //       Client = constructOptionList(response[1].data || [], \"nclientcode\", \"sclientname\", false, false, true).get(\"OptionList\");\n\n          ProjectType = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", false, false, true).get(\"OptionList\");\n          QuotationType = constructOptionList(response[3].data || [], \"nquotationtypecode\", \"squotationname\", false, false, true).get(\"OptionList\");\n        } else if (operation === \"update\") {\n          const editData = response[4].data.SelectedQuotation;\n          ProjectMaster = response[4].data.SelectedQuotation; // sclientsiteaddress = editData.sclientsiteaddress;\n\n          selectedRecord[\"sclientsiteaddress\"] = editData.sclientsiteaddress;\n          selectedRecord[\"sinvoiceaddress\"] = editData.sinvoiceaddress;\n          selectedRecord[\"sprojecttitle\"] = editData.sprojecttitle;\n          selectedRecord[\"sdescription\"] = editData.sdescription;\n          selectedRecord[\"sdeviationremarks\"] = editData.sdeviationremarks;\n          selectedRecord[\"suserrolename\"] = editData.suserrolename;\n          selectedRecord[\"susername\"] = editData.susername;\n          selectedRecord = { ...selectedRecord\n          };\n          ClientCategory = constructOptionList(response[0].data || [], \"nclientcatcode\", \"sclientcatname\", false, false, true).get(\"OptionList\");\n          Client = constructOptionList(response[1].data.Client || [], \"nclientcode\", \"sclientname\", false, false, true).get(\"OptionList\");\n          ProjectType = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", false, false, true).get(\"OptionList\");\n          QuotationType = constructOptionList(response[3].data || [], \"nquotationtypecode\", \"squotationname\", false, false, true).get(\"OptionList\");\n          selectedRecord[\"nprojecttypecode\"] = {\n            \"value\": editData[\"nprojecttypecode\"],\n            \"label\": editData[\"sprojecttypename\"]\n          };\n          selectedRecord[\"nclientcatcode\"] = {\n            \"value\": editData[\"nclientcatcode\"],\n            \"label\": editData[\"sclientcatname\"]\n          };\n          selectedRecord[\"nclientcode\"] = {\n            \"value\": editData[\"nclientcode\"],\n            \"label\": editData[\"sclientname\"]\n          };\n          selectedRecord[\"nquotationtypecode\"] = {\n            \"value\": editData[\"nquotationtypecode\"],\n            \"label\": editData[\"squotationname\"]\n          };\n          selectedRecord[\"nprojectmastercode\"] = {\n            \"value\": editData[\"nprojectmastercode\"],\n            \"label\": editData[\"sprojectcode\"]\n          };\n          selectedRecord[\"srfwdate\"] = rearrangeDateFormat(userInfo, editData.srfwdate);\n          selectedRecord[\"dquotationdate\"] = rearrangeDateFormat(userInfo, editData.squotationdate);\n        }\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            openModal: true,\n            ProjectType,\n            operation: operation,\n            ClientCategory,\n            Client,\n            ProjectMaster,\n            sclientsiteaddress,\n            QuotationType,\n            screenName: \"IDS_QUOTATION\",\n            selectedRecord,\n            ncontrolCode,\n            testData,\n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_SELECTDRAFTVERSION\"\n      }));\n    }\n  };\n};\nexport const GrossQuotation = (operation, userInfo, ncontrolCode, selectedQuotation) => {\n  return function (dispatch) {\n    //  if (operation === \"create\" || (operation === \"update\" && selectedQuotation.ntransactionstatus !== transactionStatus.RETIRED)) {\n    dispatch(initRequest(true));\n    const urlArray = [];\n    let selectedRecord = {};\n    urlArray.push(rsapi.post(\"discountband/getDiscountBand\", {\n      \"userinfo\": userInfo\n    }));\n    urlArray.push(rsapi.post(\"vatband/getVATBand\", {\n      \"userinfo\": userInfo\n    }));\n    urlArray.push(rsapi.post(\"quotation/getQuotationGrossAmount\", {\n      \"nquotationcode\": selectedQuotation.nquotationcode,\n      \"userinfo\": userInfo\n    }));\n    Axios.all(urlArray).then(response => {\n      let {\n        DiscountBand,\n        VATBand\n      } = [];\n      DiscountBand = constructOptionList(response[0].data || [], \"ndiscountbandcode\", \"sdiscountbandname\", false, false, true).get(\"OptionList\");\n      VATBand = constructOptionList(response[1].data || [], \"nvatbandcode\", \"svatbandname\", false, false, true).get(\"OptionList\");\n      const QuotationGrossAmount = response[2].data;\n      selectedRecord.ndiscountbandcode.item[\"namount\"] = QuotationGrossAmount[0].ndiscountpercentage;\n      selectedRecord.nvatbandcode.item[\"namount\"] = QuotationGrossAmount[0].nvatpercentage;\n      selectedRecord[\"ndiscountamount\"] = QuotationGrossAmount[0].ndiscountamount;\n      selectedRecord[\"nvatamount\"] = QuotationGrossAmount[0].nvatamount;\n      selectedRecord[\"nvatbandcode\"] = {\n        \"value\": QuotationGrossAmount[0][\"nvatbandcode\"],\n        \"label\": QuotationGrossAmount[0][\"svatbandname\"]\n      };\n      selectedRecord[\"ndiscountbandcode\"] = {\n        \"value\": QuotationGrossAmount[0][\"ndiscountbandcode\"],\n        \"label\": QuotationGrossAmount[0][\"sdiscountbandname\"]\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          openModal: true,\n          DiscountBand,\n          edit: true,\n          operation: operation,\n          VATBand,\n          QuotationGrossAmount,\n          screenName: \"IDS_GROSSQUOTATION\",\n          selectedRecord,\n          ncontrolCode,\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    }); //  } else {\n    //         toast.warn(intl.formatMessage({id: \"IDS_SELECTDRAFTVERSION\"}));\n    //  }\n  };\n}; //Quotation Record Click \n\nexport const getQuotation = (quotationItem, userInfo, masterData) => {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"/quotation/getActiveQuotationById\", {\n      nquotationcode: quotationItem.nquotationcode,\n      userinfo: userInfo\n    }).then(response => {\n      let masterData1 = { ...masterData,\n        ...response.data\n      }; // ...masterData,\n      // ...response.data\n\n      masterData = masterData1;\n      sortData(masterData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          // masterData,\n          loading: false,\n          dataState: undefined,\n          masterData\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport function getQuotationAddTestService(screenName, operation, masterData, userInfo, ncontrolCode) {\n  return function (dispatch) {\n    if (masterData.SelectedQuotation.ntransactionstatus === transactionStatus.DRAFT) {\n      dispatch(initRequest(true));\n      rsapi.post(\"quotation/getQuotationUnmappedTest\", {\n        \"nquotationcode\": masterData.SelectedQuotation[\"nquotationcode\"],\n        userinfo: userInfo\n      }).then(response => {\n        let masterData1 = { ...masterData,\n          ...response.data\n        };\n        masterData = masterData1;\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            QuotationTestList: response.data,\n            masterData,\n            openModal: true,\n            operation,\n            screenName,\n            ncontrolCode,\n            //selectedRecord, \n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_SELECTDRAFTVERSION\"\n      }));\n    }\n  };\n}\nexport function getQuotationPricingEditService(editParam) {\n  return function (dispatch) {\n    // screenName, operation, masterData, userInfo, ncontrolCode\n    //console.log(\"editParam:\", editParam);\n    if (editParam.masterData.SelectedQuotation.ntransactionstatus === transactionStatus.DRAFT) {\n      dispatch(initRequest(true));\n      rsapi.post(\"quotation/getQuotationPrice\", {\n        \"nquotationcode\": editParam.masterData.SelectedQuotation[\"nquotationcode\"],\n        \"nquotationtestcode\": editParam.editRow ? editParam.editRow.nquotationtestcode : null,\n        userinfo: editParam.userInfo\n      }).then(response => {\n        let selectedRecord = [];\n\n        if (editParam.editRow) {\n          selectedRecord.push(response.data[\"SelectedQuotationPrice\"]);\n        } else {\n          selectedRecord = sortData(response.data[\"QuotationPrice\"]);\n        }\n\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            //pricingTestList:testList, \n            //testPriceList:response.data[\"TestPrice\"],\n            openModal: true,\n            edit: true,\n            operation: editParam.operation,\n            screenName: editParam.screenName,\n            ncontrolCode: editParam.ncontrolCode,\n            selectedRecord,\n            selectedId: editParam.editRow ? editParam.editRow.nquotationtestcode : null,\n            loading: false,\n            quotationDataState: editParam.quotationDataState\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_SELECTDRAFTTESTPRICEVERSION\"\n      }));\n    }\n  };\n}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/QuotationAction.js"],"names":["rsapi","Axios","toast","DEFAULT_RETURN","initRequest","sortData","constructOptionList","rearrangeDateFormat","transactionStatus","attachmentType","intl","getreloadQuotation","inputParam","dispatch","post","methodUrl","inputData","then","response","masterData","data","type","payload","loading","dataState","undefined","catch","error","message","getClientCategoryComboService","methodParam","selectedRecord","URL","userinfo","primarykey","all","Client","sclientsiteaddress","SelectedClient","usertMap","get","label","selectedClient","sclientname","value","nclientcode","item","selectedClientSite","saddress1","status","warn","getQuotaionClientComboService","getProjectTypeComboService","ProjectCode","ProjectMaster","srfwdate","sprojecttitle","suserrolename","susername","SelectedProjectCode","sprojectcode","nprojectmastercode","Projectmaster","getProjectCodeComboService","SelectedProjectMaster","addQuotation","operation","userInfo","ncontrolCode","selectedQuotation","ntransactionstatus","RETIRED","urlArray","push","nclientcatcode","nquotationcode","testData","ClientCategory","ProjectType","QuotationType","editData","SelectedQuotation","sinvoiceaddress","sdescription","sdeviationremarks","squotationdate","openModal","screenName","formatMessage","id","GrossQuotation","DiscountBand","VATBand","QuotationGrossAmount","ndiscountbandcode","ndiscountpercentage","nvatbandcode","nvatpercentage","ndiscountamount","nvatamount","edit","getQuotation","quotationItem","masterData1","getQuotationAddTestService","DRAFT","QuotationTestList","getQuotationPricingEditService","editParam","editRow","nquotationtestcode","selectedId","quotationDataState"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport Axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport { DEFAULT_RETURN} from './LoginTypes';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData ,constructOptionList,rearrangeDateFormat } from '../components/CommonScript';\r\nimport { transactionStatus,attachmentType } from '../components/Enumeration';\r\nimport { intl } from \"../components/App\"; \r\n\r\nexport const getreloadQuotation = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/quotation/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                const masterData = response.data\r\n                sortData(masterData);\r\n                    \r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        masterData: {\r\n                            ...masterData,\r\n                            // quotation: inputParam.inputData.quotation\r\n                            \r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport function getClientCategoryComboService(methodParam,selectedRecord) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let URL = [];\r\n\r\n            URL=rsapi.post(\"/client/getClientByCategory\", { \"userinfo\": methodParam.inputData.userinfo, \"nclientcatcode\":  methodParam.inputData.primarykey  })\r\n\r\n         dispatch(initRequest(true));\r\n\r\n        Axios.all([URL])\r\n\r\n            .then(response => {\r\n\r\n                let Client,sclientsiteaddress;\r\n                let SelectedClient=[];\r\n             \r\n\r\n                const usertMap = constructOptionList(response[0].data.Client || [], \"nclientcode\",\"sclientname\", undefined, undefined, false);              \r\n\r\n                Client = usertMap.get(\"OptionList\");\r\n\r\n                // SelectedClient=response[0].data.selectedClient;\r\n               //  sclientsiteaddress= response[0].data.selectedClientSite.saddress1;\r\n                // selectedRecord={...selectedRecord,...response[0].data.selectedClient}\r\n                // selectedRecord={...selectedRecord,...response[0].data.selectedClientSite.saddress1} \r\n                selectedRecord[\"nclientcode\"]=  {\r\n                                                label: response[0].data.selectedClient.sclientname,\r\n                                                value: response[0].data.selectedClient.nclientcode,\r\n                                                item: response[0].data.selectedClient}\r\n                // selectedRecord[\"nclientcode\"]=response[0].data.selectedClient.nclientcode;\r\n                // selectedRecord[\"sclientname\"]=response[0].data.selectedClient.sclientname;\r\n                selectedRecord[\"sclientsiteaddress\"]=response[0].data.selectedClientSite.saddress1;\r\n             // selectedRecord={response[0].data.selectedClientSite.saddress1}\r\n               selectedRecord = {...selectedRecord}\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload:\r\n\r\n                     { Client,selectedRecord, loading: false, data: undefined, dataState: undefined,sclientsiteaddress,SelectedClient } })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function getQuotaionClientComboService(methodParam,selectedRecord) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let URL = [];\r\n\r\n            URL=rsapi.post(\"/client/getSelectedClientDetail\", { \"userinfo\": methodParam.inputData.userinfo, \"nclientcode\":  methodParam.inputData.primarykey  })\r\n\r\n         dispatch(initRequest(true));\r\n\r\n        Axios.all([URL])\r\n\r\n            .then(response => {\r\n\r\n                let sclientsiteaddress;\r\n                let SelectedClient=[];\r\n\r\n                // SelectedClient=response[0].data.selectedClient;\r\n                // sclientsiteaddress= response[0].data.selectedClientSite.saddress1;\r\n                selectedRecord[\"sclientname\"]=response[0].data.selectedClient.sclientname;\r\n                selectedRecord[\"sclientsiteaddress\"]=response[0].data.selectedClientSite.saddress1;\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload:\r\n\r\n                     { selectedRecord, loading: false, data: undefined, dataState: undefined,sclientsiteaddress,SelectedClient } })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function getProjectTypeComboService(methodParam,selectedRecord) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let URL = [];\r\n\r\n            URL=rsapi.post(\"/projectmaster/getApprovedProjectMasterByProjectType\", { \"userinfo\": methodParam.inputData.userinfo, \"nprojecttypecode\":  methodParam.inputData.primarykey  })\r\n\r\n         dispatch(initRequest(true));\r\n\r\n        Axios.all([URL])\r\n\r\n            .then(response => {\r\n\r\n                let ProjectCode,ProjectMaster=[];    \r\n                let srfwdate,sprojecttitle,suserrolename,susername;\r\n\r\n                const usertMap = constructOptionList(response[0].data.ProjectCode || [], \"nprojectmastercode\",\"sprojectcode\", undefined, undefined, false);              \r\n\r\n                ProjectCode = usertMap.get(\"OptionList\");\r\n    \r\n                selectedRecord[\"nprojectmastercode\"]=  {\r\n                            label: response[0].data.SelectedProjectCode.sprojectcode,\r\n                            value: response[0].data.SelectedProjectCode.nprojectmastercode,\r\n                            item: response[0].data.SelectedProjectCode}\r\n\r\n                srfwdate= rearrangeDateFormat( methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate);\r\n            //  srfwdate=response[0].data.Projectmaster[0].srfwdate;\r\n                selectedRecord[\"sprojecttitle\"]={...response[0].data.Projectmaster[0],sprojecttitle:sprojecttitle};\r\n                // selectedRecord[\"srfwdate\"]={...response[0].data.Projectmaster[0],srfwdate:srfwdate};\r\n                selectedRecord[\"suserrolename\"]={...response[0].data.Projectmaster[0],suserrolename:suserrolename};\r\n                selectedRecord[\"susername\"]={...response[0].data.Projectmaster[0],susername:susername};\r\n                ProjectMaster={...response[0].data.Projectmaster[0],srfwdate:srfwdate};\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload:\r\n\r\n                     { selectedRecord, loading: false, data: undefined, dataState: undefined,ProjectCode,ProjectMaster } })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function getProjectCodeComboService(methodParam,selectedRecord) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let URL = [];\r\n\r\n            URL=rsapi.post(\"/projectmaster/getActiveProjectMasterById\", { \"userinfo\": methodParam.inputData.userinfo, \"nprojectmastercode\":  methodParam.inputData.primarykey  })\r\n\r\n         dispatch(initRequest(true));\r\n\r\n        Axios.all([URL])\r\n\r\n            .then(response => {\r\n\r\n                let ProjectMaster=[];  \r\n                let srfwdate;  \r\n               \r\n                // srfwdate= rearrangeDateFormat( methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate);\r\n                \r\n                ProjectMaster=response[0].data.SelectedProjectMaster;\r\n\r\n                selectedRecord[\"nprojectmastercode\"]=  {\r\n                    label: response[0].data.SelectedProjectMaster.sprojectcode,\r\n                    value: response[0].data.SelectedProjectMaster.nprojectmastercode,\r\n                    item: response[0].data.SelectedProjectMaster}\r\n\r\n        // srfwdate= rearrangeDateFormat( methodParam.inputData.userinfo, response[0].data.Projectmaster[0].srfwdate);\r\n                // srfwdate=response[0].data.SelectedProjectMaster.srfwdate;\r\n                selectedRecord[\"srfwdate\"] = rearrangeDateFormat(methodParam.inputData.userinfo,response[0].data.SelectedProjectMaster.srfwdate);\r\n                ProjectMaster={...response[0].data.SelectedProjectMaster,srfwdate:srfwdate};\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload:\r\n\r\n                     { selectedRecord, loading: false, data: undefined, dataState: undefined,ProjectMaster } })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\n//Add Project Master\r\nexport const addQuotation = (operation, userInfo, ncontrolCode,selectedQuotation ) => {\r\n    return function (dispatch) {\r\n     if (operation === \"create\" || (operation === \"update\" && selectedQuotation.ntransactionstatus !== transactionStatus.RETIRED)) {\r\n                dispatch(initRequest(true));\r\n            const urlArray = [\r\n            ];\r\n            let selectedRecord = {};\r\n\r\n             if (operation === \"create\" || operation === \"update\") {\r\n\r\n                urlArray.push(rsapi.post(\"clientcategory/getClientCategory\", {\r\n                    \"userinfo\": userInfo\r\n                }));\r\n\r\n                urlArray.push(rsapi.post(\"client/getClientByCategory\", {\r\n                    \"nclientcatcode\": selectedQuotation.nclientcatcode,\r\n                    \"userinfo\": userInfo\r\n                })); \r\n\r\n\r\n                urlArray.push(rsapi.post(\"projecttype/getProjectType\", {\r\n                    \"userinfo\": userInfo \r\n                    \r\n                })); \r\n         \r\n                urlArray.push(rsapi.post(\"quotation/getQuotationType\", {\r\n                    \"userinfo\": userInfo \r\n                    \r\n                })); \r\n            } \r\n             if (operation === \"update\"){\r\n\r\n                urlArray.push(rsapi.post(\"quotation/getActiveQuotationById\", {\r\n                    \"userinfo\": userInfo,\r\n                    \"nquotationcode\": selectedQuotation.nquotationcode\r\n                }));\r\n\r\n            }\r\n\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n               \r\n                let testData = {};\r\n\r\n                let {ClientCategory,Client,ProjectType,ProjectMaster,sclientsiteaddress,QuotationType}=[]\r\n                \r\n\r\n              if (operation === \"create\") {\r\n                   \r\n                   \r\n                     ClientCategory = constructOptionList(response[0].data || [], \"nclientcatcode\", \"sclientcatname\", false, false, true).get(\"OptionList\");\r\n                   \r\n              //       Client = constructOptionList(response[1].data || [], \"nclientcode\", \"sclientname\", false, false, true).get(\"OptionList\");\r\n\r\n                     ProjectType = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", false, false, true).get(\"OptionList\");\r\n                     QuotationType = constructOptionList(response[3].data || [], \"nquotationtypecode\", \"squotationname\", false, false, true).get(\"OptionList\");\r\n\r\n                    \r\n\r\n                }else if (operation === \"update\") {\r\n                    \r\n                    const editData = response[4].data.SelectedQuotation;\r\n                    ProjectMaster=response[4].data.SelectedQuotation;\r\n\r\n                    // sclientsiteaddress = editData.sclientsiteaddress;\r\n                    selectedRecord[\"sclientsiteaddress\"]=editData.sclientsiteaddress;\r\n                    selectedRecord[\"sinvoiceaddress\"] = editData.sinvoiceaddress;\r\n                    selectedRecord[\"sprojecttitle\"] = editData.sprojecttitle;\r\n                    selectedRecord[\"sdescription\"] = editData.sdescription;\r\n                    selectedRecord[\"sdeviationremarks\"] = editData.sdeviationremarks;\r\n                    selectedRecord[\"suserrolename\"] = editData.suserrolename;\r\n                    selectedRecord[\"susername\"] = editData.susername;\r\n                   \r\n                \r\n                    selectedRecord = {...selectedRecord}\r\n\r\n                   \r\n                ClientCategory = constructOptionList(response[0].data || [], \"nclientcatcode\", \"sclientcatname\", false, false, true).get(\"OptionList\");\r\n                Client = constructOptionList(response[1].data.Client || [], \"nclientcode\", \"sclientname\", false, false, true).get(\"OptionList\");\r\n                ProjectType = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", false, false, true).get(\"OptionList\");\r\n                QuotationType = constructOptionList(response[3].data || [], \"nquotationtypecode\", \"squotationname\", false, false, true).get(\"OptionList\");\r\n\r\n                          \r\n\r\n                    selectedRecord[\"nprojecttypecode\"] = {\r\n                        \"value\": editData[\"nprojecttypecode\"],\r\n                        \"label\":  editData[\"sprojecttypename\"]\r\n                    };\r\n\r\n                    selectedRecord[\"nclientcatcode\"] = {\r\n                        \"value\": editData[\"nclientcatcode\"],\r\n                        \"label\": editData[\"sclientcatname\"]\r\n                    };\r\n\r\n                    selectedRecord[\"nclientcode\"] = {\r\n                        \"value\": editData[\"nclientcode\"],\r\n                        \"label\": editData[\"sclientname\"]\r\n                    };\r\n                    \r\n                    selectedRecord[\"nquotationtypecode\"] = {\r\n                        \"value\": editData[\"nquotationtypecode\"],\r\n                        \"label\": editData[\"squotationname\"]\r\n                    };\r\n\r\n                    selectedRecord[\"nprojectmastercode\"] = {\r\n                        \"value\": editData[\"nprojectmastercode\"],\r\n                        \"label\": editData[\"sprojectcode\"]\r\n                    };\r\n                  \r\n                selectedRecord[\"srfwdate\"] = rearrangeDateFormat(userInfo,editData.srfwdate);\r\n                selectedRecord[\"dquotationdate\"] = rearrangeDateFormat(userInfo,editData.squotationdate);\r\n               \r\n                }\r\n                   \r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n  \r\n                            openModal: true,\r\n                            ProjectType,\r\n                            operation: operation,ClientCategory,Client,ProjectMaster,sclientsiteaddress,QuotationType,\r\n                            screenName: \"IDS_QUOTATION\",\r\n                            selectedRecord,\r\n                            ncontrolCode,\r\n                            testData,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n         } else {\r\n                          \r\n                toast.warn(intl.formatMessage({id: \"IDS_SELECTDRAFTVERSION\"}));\r\n\r\n         }\r\n    }\r\n}\r\n\r\nexport const GrossQuotation = (operation, userInfo, ncontrolCode,selectedQuotation ) => {\r\n    return function (dispatch) {\r\n    //  if (operation === \"create\" || (operation === \"update\" && selectedQuotation.ntransactionstatus !== transactionStatus.RETIRED)) {\r\n                dispatch(initRequest(true));\r\n            const urlArray = [\r\n            ];\r\n            let selectedRecord = {};\r\n\r\n                urlArray.push(rsapi.post(\"discountband/getDiscountBand\", {\r\n                    \"userinfo\": userInfo\r\n                }));\r\n\r\n                urlArray.push(rsapi.post(\"vatband/getVATBand\", {\r\n                    \"userinfo\": userInfo\r\n                })); \r\n\r\n                urlArray.push(rsapi.post(\"quotation/getQuotationGrossAmount\", {\r\n                    \"nquotationcode\": selectedQuotation.nquotationcode,\r\n                    \"userinfo\": userInfo\r\n                })); \r\n\r\n            \r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n                let {DiscountBand,VATBand}=[]\r\n                \r\n                DiscountBand = constructOptionList(response[0].data || [], \"ndiscountbandcode\", \"sdiscountbandname\", false, false, true).get(\"OptionList\");\r\n                VATBand = constructOptionList(response[1].data || [], \"nvatbandcode\", \"svatbandname\", false, false, true).get(\"OptionList\");\r\n                const QuotationGrossAmount= response[2].data;\r\n\r\n\r\n                selectedRecord.ndiscountbandcode.item[\"namount\"] = QuotationGrossAmount[0].ndiscountpercentage;\r\n                selectedRecord.nvatbandcode.item[\"namount\"] = QuotationGrossAmount[0].nvatpercentage;\r\n                selectedRecord[\"ndiscountamount\"] = QuotationGrossAmount[0].ndiscountamount;\r\n                selectedRecord[\"nvatamount\"] = QuotationGrossAmount[0].nvatamount;\r\n\r\n                selectedRecord[\"nvatbandcode\"] = {\r\n                    \"value\": QuotationGrossAmount[0][\"nvatbandcode\"],\r\n                    \"label\":  QuotationGrossAmount[0][\"svatbandname\"]\r\n                };\r\n\r\n                selectedRecord[\"ndiscountbandcode\"] = {\r\n                    \"value\": QuotationGrossAmount[0][\"ndiscountbandcode\"],\r\n                    \"label\": QuotationGrossAmount[0][\"sdiscountbandname\"]\r\n                };\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n  \r\n                            openModal: true,\r\n                            DiscountBand,edit:true,\r\n                            operation: operation,VATBand,QuotationGrossAmount,\r\n                            screenName: \"IDS_GROSSQUOTATION\",\r\n                            selectedRecord,\r\n                            ncontrolCode,\r\n                            loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n        //  } else {\r\n                          \r\n        //         toast.warn(intl.formatMessage({id: \"IDS_SELECTDRAFTVERSION\"}));\r\n\r\n        //  }\r\n    }\r\n}\r\n\r\n//Quotation Record Click \r\nexport const getQuotation = (quotationItem, userInfo, masterData) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/quotation/getActiveQuotationById\", {\r\n            nquotationcode: quotationItem.nquotationcode,\r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                \r\n\r\n                    let masterData1  = {...masterData,\r\n\r\n                        ...response.data }\r\n\r\n                    // ...masterData,\r\n                    // ...response.data\r\n                    masterData=masterData1\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                       // masterData,\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        masterData\r\n                        \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport function getQuotationAddTestService(screenName, operation, masterData, userInfo, ncontrolCode){\r\n    return function (dispatch) {    \r\n        if (masterData.SelectedQuotation.ntransactionstatus === transactionStatus.DRAFT){     \r\n        \r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"quotation/getQuotationUnmappedTest\",{\r\n            \"nquotationcode\":masterData.SelectedQuotation[\"nquotationcode\"], \r\n            userinfo:userInfo})\r\n\r\n        .then(response=>{\r\n\r\n            let masterData1  = {...masterData,\r\n\r\n                ...response.data }\r\n                masterData=masterData1                       \r\n                dispatch({type: DEFAULT_RETURN, payload:{ \r\n                                                        QuotationTestList:response.data,\r\n                                                        masterData,\r\n                                                        openModal:true,\r\n                                                        operation, screenName, ncontrolCode,\r\n                                                        //selectedRecord, \r\n                                                        loading:false}});\r\n            })\r\n            .catch(error=>{\r\n                dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n                if (error.response.status === 500){\r\n                    toast.error(error.message);\r\n                } \r\n                else{               \r\n                    toast.warn(error.response.data);\r\n                }      \r\n            }) \r\n    }\r\n    else{\r\n        toast.warn(intl.formatMessage({id: \"IDS_SELECTDRAFTVERSION\"}));\r\n    }\r\n}}\r\n\r\n\r\nexport function getQuotationPricingEditService(editParam){\r\n    return function (dispatch) {    \r\n       // screenName, operation, masterData, userInfo, ncontrolCode\r\n       //console.log(\"editParam:\", editParam);\r\n        if (editParam.masterData.SelectedQuotation.ntransactionstatus === transactionStatus.DRAFT){     \r\n        \r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"quotation/getQuotationPrice\",{\"nquotationcode\":editParam.masterData.SelectedQuotation[\"nquotationcode\"], \r\n                                                \"nquotationtestcode\":editParam.editRow ? editParam.editRow.nquotationtestcode :null,\r\n                                                userinfo:editParam.userInfo})\r\n\r\n        .then(response=>{\r\n                   \r\n                let selectedRecord =[];\r\n                if (editParam.editRow){\r\n                    selectedRecord.push(response.data[\"SelectedQuotationPrice\"]);\r\n                }\r\n                else{\r\n                    selectedRecord = sortData(response.data[\"QuotationPrice\"])\r\n                }\r\n                dispatch({type: DEFAULT_RETURN, payload:{//pricingTestList:testList, \r\n                                                        //testPriceList:response.data[\"TestPrice\"],\r\n                                                        openModal:true,edit:true,\r\n                                                        operation:editParam.operation,\r\n                                                        screenName:editParam.screenName, \r\n                                                        ncontrolCode:editParam.ncontrolCode,\r\n                                                        selectedRecord, \r\n                                                        selectedId:editParam.editRow ? editParam.editRow.nquotationtestcode :null,\r\n                                                        loading:false,\r\n                                                        quotationDataState:editParam.quotationDataState}});\r\n            })\r\n            .catch(error=>{\r\n                dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n                if (error.response.status === 500){\r\n                    toast.error(error.message);\r\n                } \r\n                else{               \r\n                    toast.warn(error.response.data);\r\n                }      \r\n            }) \r\n    }\r\n    else{\r\n        toast.warn(intl.formatMessage({id: \"IDS_SELECTDRAFTTESTPRICEVERSION\"}));\r\n    }\r\n}}"]},"metadata":{},"sourceType":"module"}