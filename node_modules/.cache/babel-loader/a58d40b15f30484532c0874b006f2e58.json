{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import{Grid,GridColumn}from'@progress/kendo-react-grid';import{LocalizationProvider}from'@progress/kendo-react-intl';import React from'react';import{injectIntl}from'react-intl';import'rc-tabs/assets/index.css';import{AtTabs}from'../../components/custom-tabs/custom-tabs.styles';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import PerfectScrollbar from'react-perfect-scrollbar';import Tabs,{TabPane}from\"rc-tabs\";import{AtTableWrap}from'../../components/data-grid/data-grid.styles';import{formCode,SampleType}from'../../components/Enumeration';import DataGrid from'../../components/data-grid/data-grid.component';var ReleaseReportHistory=/*#__PURE__*/function(_React$Component){_inherits(ReleaseReportHistory,_React$Component);var _super=_createSuper(ReleaseReportHistory);function ReleaseReportHistory(props){var _this;_classCallCheck(this,ReleaseReportHistory);_this=_super.call(this,props);// const preliminaryHistoryDataState = {\n//     skip: 0,\n//     take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\n// };\n_this.onTabChange=function(tab){_this.setState({selectedScreen:_this.state.screens.find(function(screen){return screen.eventKey===tab;})});};var screens=[];screens.push({eventKey:'PreliminaryReportHistory',name:\"IDS_PRELIMINARYHISTORY\",formcode:formCode.RESULTENTRY},{eventKey:'ReleaseReportHistory',name:\"IDS_RELEASEHISTORY\",formcode:formCode.APPROVAL},{eventKey:'RegenerateReportHistory',name:\"IDS_REGENERATEHISTORY\",formcode:formCode.RELEASE});_this.state={screens:screens,selectedScreen:{eventKey:'PreliminaryReportHistory',name:\"IDS_PRELIMINARYHISTORY\",formcode:43}};return _this;}_createClass(ReleaseReportHistory,[{key:\"render\",value:function render(){var _this2=this;//console.log(\"props:\",this.props, this.state.screens, this.state.selectedScreen);\nvar extractedColumnList=[];if(this.state&&this.state.selectedScreen&&(this.state.selectedScreen.eventKey===\"ReleaseReportHistory\"||this.state.selectedScreen.eventKey===\"RegenerateReportHistory\")){extractedColumnList.push({\"idsName\":\"IDS_REPORTREFERENCENO\",\"dataField\":\"sreportno\",\"width\":\"100px\"},{\"idsName\":\"IDS_VERSION\",\"dataField\":\"nversionno\",\"width\":\"75px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"100px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"100px\"},{\"idsName\":\"IDS_GENERATEDDATETIME\",\"dataField\":\"sgenerateddate\",\"width\":\"155px\"});}else{extractedColumnList.push({\"idsName\":\"IDS_PRELIMINARYREFERENCENO\",\"dataField\":\"ncoaparentcode\",\"width\":\"100px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"100px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"100px\"},{\"idsName\":\"IDS_GENERATEDDATETIME\",\"dataField\":\"sgenerateddate\",\"width\":\"155px\"});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTabs,null,/*#__PURE__*/React.createElement(Tabs,{activeKey:this.state.selectedScreen.eventKey,moreIcon:\"...\",onChange:this.onTabChange},this.state.screens.map(function(screen){return/*#__PURE__*/React.createElement(TabPane,{name:screen.eventKey,tab:_this2.props.intl.formatMessage({id:screen.name}),key:screen.eventKey},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:\"lang\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DataGrid,{key:\"ncoaparentcode\",primaryKeyField:\"ncoaparentcode\",data:_this2.props.dataResult[_this2.state.selectedScreen.eventKey]||[],dataResult:_this2.props.dataResult[_this2.state.selectedScreen.eventKey],dataState:{skip:0,take:10}//expandField=\"expanded\"\n,isExportExcelRequired:false// dataStateChange={props.dataStateChange}\n,extractedColumnList:extractedColumnList,controlMap:_this2.props.controlMap,userRoleControlRights:_this2.props.userRoleControlRights// detailedFieldList={this.props.detailedFieldList}\n// //editParam={editReportParam}\n// selectedId={this.props.Login.selectedId}\n// fetchRecord={this.props.fetchReportInfoReleaseById}\n,pageable:true// dataStateChange={this.dataStateChange}\n,scrollable:'scrollable',gridHeight:'630px',isActionRequired:_this2.state&&_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?false:true,methodUrl:'ReleaseVersion',isDownload:_this2.state&&_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?false:true,viewDownloadFile:_this2.props.viewDownloadFile// actionIcons={[{\n//     title: this.props.intl.formatMessage({ id: \"IDS_PREVIOUSRESULTVIEW\" }),\n//     controlname: \"faEye\",\n//     objectName: \"ExceptionLogs\",\n//     hidden: -1 === -1,\n//    onClick: (viewSample) => this.props.viewSample(viewSample)\n// }]}\n}))))));}))));}}]);return ReleaseReportHistory;}(React.Component);export default injectIntl(ReleaseReportHistory);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/release/ReleaseReportHistory.jsx"],"names":["Grid","GridColumn","LocalizationProvider","React","injectIntl","AtTabs","CustomSwitch","PerfectScrollbar","Tabs","TabPane","AtTableWrap","formCode","SampleType","DataGrid","ReleaseReportHistory","props","onTabChange","tab","setState","selectedScreen","state","screens","find","screen","eventKey","push","name","formcode","RESULTENTRY","APPROVAL","RELEASE","extractedColumnList","map","intl","formatMessage","id","dataResult","skip","take","controlMap","userRoleControlRights","viewDownloadFile","Component"],"mappings":"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","sourcesContent":["import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport React from 'react'\r\nimport { injectIntl } from 'react-intl'\r\nimport 'rc-tabs/assets/index.css';\r\nimport { AtTabs } from '../../components/custom-tabs/custom-tabs.styles';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\n\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport Tabs, { TabPane } from \"rc-tabs\";\r\nimport { AtTableWrap } from '../../components/data-grid/data-grid.styles';\r\nimport { formCode, SampleType } from '../../components/Enumeration';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\n\r\nclass ReleaseReportHistory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // const preliminaryHistoryDataState = {\r\n        //     skip: 0,\r\n        //     take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        // };\r\n      \r\n    \r\n        const screens = [];      \r\n\r\n        screens.push({ eventKey: 'PreliminaryReportHistory', name: \"IDS_PRELIMINARYHISTORY\", formcode: formCode.RESULTENTRY },\r\n                    { eventKey: 'ReleaseReportHistory', name: \"IDS_RELEASEHISTORY\", formcode: formCode.APPROVAL },\r\n                    { eventKey: 'RegenerateReportHistory', name: \"IDS_REGENERATEHISTORY\", formcode: formCode.RELEASE }\r\n                    );\r\n\r\n        \r\n           \r\n        \r\n        \r\n        this.state = {\r\n            screens,\r\n            selectedScreen: { eventKey: 'PreliminaryReportHistory', name: \"IDS_PRELIMINARYHISTORY\", formcode: 43 }\r\n        }\r\n    }\r\n    onTabChange = (tab) => {\r\n        this.setState({\r\n            selectedScreen: this.state.screens.find(screen => screen.eventKey === tab)\r\n        })\r\n    }\r\n    render() {\r\n        //console.log(\"props:\",this.props, this.state.screens, this.state.selectedScreen);\r\n        const extractedColumnList = [];\r\n        if (this.state && this.state.selectedScreen &&\r\n            (this.state.selectedScreen.eventKey === \"ReleaseReportHistory\" || this.state.selectedScreen.eventKey === \"RegenerateReportHistory\")) {\r\n            extractedColumnList.push(\r\n                { \"idsName\": \"IDS_REPORTREFERENCENO\", \"dataField\": \"sreportno\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_VERSION\", \"dataField\": \"nversionno\", \"width\": \"75px\" },\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_GENERATEDDATETIME\", \"dataField\": \"sgenerateddate\", \"width\": \"155px\" }\r\n            );\r\n        }  \r\n        else {\r\n            extractedColumnList.push(\r\n                { \"idsName\": \"IDS_PRELIMINARYREFERENCENO\", \"dataField\": \"ncoaparentcode\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"100px\" },\r\n                { \"idsName\": \"IDS_GENERATEDDATETIME\", \"dataField\": \"sgenerateddate\", \"width\": \"155px\" }\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n            {\r\n                <AtTabs>\r\n                    <Tabs activeKey={this.state.selectedScreen.eventKey} moreIcon=\"...\" onChange={this.onTabChange}>\r\n                        {this.state.screens.map(screen =>\r\n                            <TabPane name={screen.eventKey} tab={this.props.intl.formatMessage({ id: screen.name })} key={screen.eventKey}>\r\n                                <PerfectScrollbar>\r\n                                    {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n                                    <AtTableWrap className=\"at-list-table\">\r\n                                        <LocalizationProvider language=\"lang\">\r\n                                            <>\r\n                                            <DataGrid\r\n                        key=\"ncoaparentcode\"\r\n                        primaryKeyField=\"ncoaparentcode\"\r\n                        data={this.props.dataResult[this.state.selectedScreen.eventKey] || []}\r\n                        dataResult={this.props.dataResult[this.state.selectedScreen.eventKey]}\r\n                        dataState={{ skip: 0, take: 10 }}\r\n                        //expandField=\"expanded\"\r\n                        isExportExcelRequired={false}\r\n                        // dataStateChange={props.dataStateChange}\r\n                        extractedColumnList = {extractedColumnList}\r\n                        controlMap={this.props.controlMap}\r\n                        userRoleControlRights={this.props.userRoleControlRights}\r\n                    // detailedFieldList={this.props.detailedFieldList}\r\n                    // //editParam={editReportParam}\r\n                    // selectedId={this.props.Login.selectedId}\r\n                    // fetchRecord={this.props.fetchReportInfoReleaseById}\r\n                        pageable={true}\r\n                        // dataStateChange={this.dataStateChange}\r\n                        scrollable={'scrollable'}\r\n                        gridHeight={'630px'}\r\n                        isActionRequired={this.state&&this.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?false:true}\r\n                        methodUrl={'ReleaseVersion'}\r\n                        isDownload={this.state&&this.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?false:true}\r\n                        viewDownloadFile={this.props.viewDownloadFile}\r\n                    // actionIcons={[{\r\n                    //     title: this.props.intl.formatMessage({ id: \"IDS_PREVIOUSRESULTVIEW\" }),\r\n                    //     controlname: \"faEye\",\r\n                    //     objectName: \"ExceptionLogs\",\r\n                    //     hidden: -1 === -1,\r\n                    //    onClick: (viewSample) => this.props.viewSample(viewSample)\r\n                    // }]}\r\n                >\r\n                </DataGrid>\r\n\r\n                                            </>\r\n                                        </LocalizationProvider>\r\n                                    </AtTableWrap>\r\n                                    {/* <ReactTooltip /> */}\r\n                                </PerfectScrollbar>\r\n                            </TabPane>\r\n                        )}\r\n                    </Tabs>\r\n                </AtTabs>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default injectIntl(ReleaseReportHistory)"]},"metadata":{},"sourceType":"module"}