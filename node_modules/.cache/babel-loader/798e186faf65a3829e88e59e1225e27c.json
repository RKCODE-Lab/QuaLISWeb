{"ast":null,"code":"import _slicedToArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{faPlus}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{SchedulerEditSlot}from'@progress/kendo-react-scheduler';import React from'react';import{Button}from'react-bootstrap';import{connect}from'react-redux';import{intl}from\"../../../components/App\";import{toast}from'react-toastify';import{parseAdjustDate}from'./NewJobAlloct';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var CustomEditSlotForMonth=function CustomEditSlotForMonth(props){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),formItem=_React$useState2[0],setFormItem=_React$useState2[1];var handleFormItemChange=React.useCallback(function(event){if(event.value){if(event.value.buttonClick){if(event.value.ntransactionstatus){if(event.value.ntransactionstatus!==20){setFormItem(event.value);}else{toast.info(intl.formatMessage({id:\"IDS_ALREADYALLOTED\"}));}}else{setFormItem(event.value);}}}else{setFormItem(event.value);}},[]);return/*#__PURE__*/React.createElement(SchedulerEditSlot,Object.assign({},props,{//  onDoubleClick={ondoubleClick}\nformItem:formItem,onFormItemChange:handleFormItemChange}),props.Login.personalLeaveRestrict&&props.Login.calenderUserHolidays.some(function(x){return parseAdjustDate(x.start)===parseAdjustDate(props.start);})||props.Login.holidaydateRestrict&&props.Login.calenderPublicHolidays.some(function(x){return parseAdjustDate(x.start)===parseAdjustDate(props.start);})||props.Login.commonHolidaydateRestrict&&Object.keys(props.Login.calenderCommonHolidays1).some(function(x){return props.Login.calenderCommonHolidays1[x]===3?new Date(props.start).getDay()===0?x===\"nsunday\":new Date(props.start).getDay()===1?x===\"nmonday\":new Date(props.start).getDay()===2?x===\"ntuesday\":new Date(props.start).getDay()===3?x===\"nwednesday\":new Date(props.start).getDay()===4?x===\"nthursday\":new Date(props.start).getDay()===5?x===\"nfriday\":new Date(props.start).getDay()===6?x===\"nsaturday\":false:false;})?\"\":props.editable.add&&/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey nav-link bg-transparent \",style:{\"padding-bottom\":\"16px\"},role:\"button\",onClick:function onClick(e){return handleFormItemChange({value:{start:props.start,end:props.end,isAllDay:true,buttonClick:true}});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),props.children);};export default connect(mapStateToProps,{})(CustomEditSlotForMonth);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/joballocation/calender/SlotEditForMonth.jsx"],"names":["faPlus","FontAwesomeIcon","SchedulerEditSlot","React","Button","connect","intl","toast","parseAdjustDate","mapStateToProps","state","Login","CustomEditSlotForMonth","props","useState","formItem","setFormItem","handleFormItemChange","useCallback","event","value","buttonClick","ntransactionstatus","info","formatMessage","id","personalLeaveRestrict","calenderUserHolidays","some","x","start","holidaydateRestrict","calenderPublicHolidays","commonHolidaydateRestrict","Object","keys","calenderCommonHolidays1","Date","getDay","editable","add","e","end","isAllDay","children"],"mappings":"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","sourcesContent":["import { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { SchedulerEditSlot } from '@progress/kendo-react-scheduler';\r\nimport React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { intl } from \"../../../components/App\"\r\nimport { toast } from 'react-toastify';\r\nimport { parseAdjustDate } from './NewJobAlloct';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nconst CustomEditSlotForMonth = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (event.value) {\r\n                if (event.value.buttonClick) {\r\n                    if (event.value.ntransactionstatus) {\r\n                        if (event.value.ntransactionstatus !== 20) {\r\n                            setFormItem(event.value);\r\n                        } else {\r\n                            toast.info(intl.formatMessage({ id: \"IDS_ALREADYALLOTED\" }))\r\n                        }\r\n\r\n                    } else {\r\n                        setFormItem(event.value);\r\n                    }\r\n                }\r\n            } else {\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        []\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            //  onDoubleClick={ondoubleClick}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        >\r\n\r\n            {\r\n                (props.Login.personalLeaveRestrict\r\n                    && props.Login.calenderUserHolidays.some(x => parseAdjustDate(x.start) === parseAdjustDate(props.start)))\r\n                    ||\r\n                    (props.Login.holidaydateRestrict\r\n                        && props.Login.calenderPublicHolidays.some(x => parseAdjustDate(x.start) === parseAdjustDate(props.start)))\r\n                    ||\r\n                    (props.Login.commonHolidaydateRestrict\r\n                        && Object.keys(props.Login.calenderCommonHolidays1).some(x =>\r\n                            props.Login.calenderCommonHolidays1[x] === 3 ?\r\n                                new Date(props.start).getDay() === 0 ? x === \"nsunday\" :\r\n                                    new Date(props.start).getDay() === 1 ? x === \"nmonday\" :\r\n                                        new Date(props.start).getDay() === 2 ? x === \"ntuesday\" :\r\n                                            new Date(props.start).getDay() === 3 ? x === \"nwednesday\" :\r\n                                                new Date(props.start).getDay() === 4 ? x === \"nthursday\" :\r\n                                                    new Date(props.start).getDay() === 5 ? x === \"nfriday\" :\r\n                                                        new Date(props.start).getDay() === 6 ? x === \"nsaturday\" : false\r\n                                : false\r\n                        )) ? \"\" : props.editable.add &&\r\n                <Button className=\"btn btn-circle outline-grey nav-link bg-transparent \" style={{\"padding-bottom\": \"16px\"}} role=\"button\"\r\n                    onClick={(e) => handleFormItemChange({\r\n                        value: {\r\n                            start: props.start,\r\n                            end: props.end, isAllDay: true, buttonClick: true\r\n                        }\r\n                    })}\r\n                >\r\n                    <FontAwesomeIcon icon={faPlus} />\r\n                </Button>\r\n            }\r\n            {/* <div className='pt-4'> */}\r\n            {props.children}\r\n\r\n            {/* </div> */}\r\n\r\n        </SchedulerEditSlot>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(CustomEditSlotForMonth);"]},"metadata":{},"sourceType":"module"}