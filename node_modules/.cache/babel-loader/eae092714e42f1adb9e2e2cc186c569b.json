{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster}from'../../../actions';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faCopy,faThumbsUp,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{sortData,getControlMap,showEsign,constructOptionList}from'../../../components/CommonScript';import{process}from'@progress/kendo-data-query';import ListMaster from'../../../components/list-master/list-master.component';import Esign from'../../audittrail/Esign';import SampleFilter from'./SampleFilter';import AddApprovalConfig from'./AddApprovalConfig';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{openModal,updateStore,getApprovalConfigVersion,getApprovalConfigEditData,copyVersion,setDefault,validateEsignCredential,getFilterChange,getRoleDetails,getCopySubType,filterColumnData,getApprovalConfigurationVersion}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{ApprovalSubType,transactionStatus}from'../../../components/Enumeration';import FilterStatusTab from'./FilterStatusTab';import ValidationStatusTab from'./ValidationStatusTab';import UserRoleAccordion from'./UserRoleAccordion';import CustomAccordion from'../../../components/custom-accordion/custom-accordion.component';import DecisionStatusTab from'./DecisionStatusTab';import ActionStatusTab from'./ActionStatusTab';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import{Affix}from'rsuite';import ReactTooltip from'react-tooltip';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ApprovalConfig=/*#__PURE__*/function(_React$Component){_inherits(ApprovalConfig,_React$Component);var _super=_createSuper(ApprovalConfig);function ApprovalConfig(props){var _this;_classCallCheck(this,ApprovalConfig);_this=_super.call(this,props);_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.handleClose=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.deleteApprovalConfigVersion=function(deleteId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo},unchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\"]};var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue.value,userinfo:_this.props.Login.userInfo}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"delete\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.approveVersion=function(approveId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo},unchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\"]};var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"approve\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.onSaveClick=function(saveType,formRef){var postParam=undefined;if(_this.props.Login.operation===\"copy\"){var subTypeCode=_this.approvalSubTypeValue.value;var inputData={approvalconfigversion:{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:subTypeCode,sversionname:_this.state.selectedRecord.sversionname,nregtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regtype']?_this.state.selectedRecord['regtype'].value:_this.state.registrationTypeValue[0].value:-1,nregsubtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regsubtype']?_this.state.selectedRecord['regsubtype'].value:_this.state.registrationSubTypeValue[0].value:-1,userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:\"copy\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"copy\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{var bool=true;var errormessage=[];var _inputData={};var approvalconfigrole=[];var filterDetailCount=0;var validationDetailCount=0;var decisionDetailCount=0;var actionDetailCount=0;_inputData[\"userinfo\"]=_this.props.Login.userInfo;_inputData['napprovalconfigcode']=_this.props.Login.masterData.realApprovalConfigCode;_inputData['ntreeversiontempcode']=_this.props.Login.userRoleTree[0].ntreeversiontempcode;_inputData['napprovalsubtypecode']=_this.approvalSubTypeValue.value;var isAutoApprovalVersion=_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?true:false;_this.props.Login.userRoleTree.map(function(role){var approvalconfigrolefilterdetail=[];var approvalconfigrolevalidationdetail=[];var approvalconfigroledecisiondetail=[];var approvalconfigroleactiondetail=[];//to fill role details\nif(_this.state.selectedRecord[role.nuserrolecode]){approvalconfigrole.push({napprovalconfigrolecode:_this.props.Login.operation==='create'?0:role.napprovalconfigrolecode,napprovalconfigcode:role.napprovalconfigcode,ntreeversiontempcode:role.ntreeversiontempcode,nuserrolecode:role.nuserrolecode,nchecklistversioncode:_this.state.selectedRecord[role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode].checklist?_this.state.selectedRecord[role.nuserrolecode].checklist:transactionStatus.NA:transactionStatus.NA,npartialapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]:transactionStatus.YES,nsectionwiseapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']===transactionStatus.NO?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']:transactionStatus.NO:transactionStatus.NO,// nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\n// nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\n// nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\n// nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\n// nlevelno: role.nlevelno,\nnrecomretestneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]:transactionStatus.NO,nrecomrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]:transactionStatus.NO,nretestneed:_this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode]:transactionStatus.NO,nrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode]:transactionStatus.NO,nlevelno:role.nlevelno,napprovalstatuscode:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautoapproval:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?transactionStatus.YES:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']?_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']:transactionStatus.NO,nautoapprovalstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]:transactionStatus.PASS:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus.length>0?_this.state.selectedRecord[role.nuserrolecode].decisionstatus[0]:transactionStatus.DRAFT// :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\n// :transactionStatus.NA\n,ncorrectionneed:_this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION']?_this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION']:transactionStatus.NO,nesignneed:_this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode]:transactionStatus.NO,ntransactionstatus:transactionStatus.DRAFT,nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE});if(_this.state.selectedRecord[role.nuserrolecode].filterstatus){_this.state.selectedRecord[role.nuserrolecode].filterstatus.map(function(filterValue){filterDetailCount++;approvalconfigrolefilterdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:filterValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].validationstatus){_this.state.selectedRecord[role.nuserrolecode].validationstatus.map(function(validationValue){validationDetailCount++;approvalconfigrolevalidationdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:validationValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].decisionstatus){_this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(function(decisionValue){decisionDetailCount++;approvalconfigroledecisiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:decisionValue,nstatus:transactionStatus.ACTIVE});return null;});}_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]?_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)].map(function(actionValue){actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:actionValue,nstatus:transactionStatus.ACTIVE});return null;}):approvalconfigroleactiondetail.push();actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:-1,nstatus:transactionStatus.ACTIVE});_inputData[\"approvalconfigrolefilterdetail_\".concat([role.nuserrolecode])]=approvalconfigrolefilterdetail;_inputData[\"approvalconfigrolevalidationdetail_\".concat([role.nuserrolecode])]=approvalconfigrolevalidationdetail;_inputData[\"approvalconfigroledecisiondetail_\".concat([role.nuserrolecode])]=approvalconfigroledecisiondetail;_inputData[\"approvalconfigroleactiondetail_\".concat([role.nuserrolecode])]=approvalconfigroleactiondetail;bool=bool?true:false;return null;}else{bool=false;errormessage.push(role.suserrolename);return false;}});//role map\n_inputData['approvalconfigrole']=approvalconfigrole;_inputData['rolecount']=_this.props.Login.userRoleTree.length;_inputData['filterdetailcount']=filterDetailCount;_inputData['validationdetailcount']=validationDetailCount;_inputData['decisiondetailcount']=decisionDetailCount;_inputData['actioncount']=actionDetailCount;_inputData['ntreeversiontempcode']=_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1;var finalInputData={};var _inputParam={};if(bool){if(_this.props.Login.operation===\"update\"){// edit\npostParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\"};var temp1={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===81){temp1['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===85){temp1['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData['approvalconfigautoapproval']=_objectSpread({napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,//  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE},temp1);}else{_inputData['approveconfigversion']={napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napproveconfversionno:-1,ntransactionstatus:transactionStatus.DRAFT,ntreeversiontempcode:_this.props.Login.userRoleTree[0].ntreeversiontempcode,sapproveconfversiondesc:'-',nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE};var _temp={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===81){_temp['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===85){_temp['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData['approvalconfigautoapproval']=_objectSpread({napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,// nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE},_temp);}finalInputData['approvalconfigversion']=_inputData;finalInputData['userinfo']=_this.props.Login.userInfo;_inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:finalInputData,saveType:saveType,formRef:formRef,operation:_this.props.Login.operation,postParam:postParam,searchRef:_this.searchRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType,openModal:true,operation:_this.props.Login.operation,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam,_masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FILLDETAILSFOR\"})+\" \"+errormessage.join(\",\"));}}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteApprovalConfigVersion(deleteId);});};_this.onInputOnChange=function(event,role,action){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=event.target.name.split('_')[0]+'_'+event.target.name.split('_')[1];var actionArray=selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]||[];if(event.target.type==='checkbox'){if(action){if(event.target.checked){actionArray.push(action.ntranscode);}else{actionArray.splice(actionArray.indexOf(action.ntranscode),1);}selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]=actionArray;}roleDetails[fieldName]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;if(fieldName==='IDS_PARTIALAPPROVAL'&&roleDetails[\"IDS_PARTIALAPPROVAL\"]&&roleDetails[\"IDS_PARTIALAPPROVAL\"]===transactionStatus.YES){roleDetails['IDS_SECTIONWISEAPPROVE']=transactionStatus.NO;}selectedRecord[role.nuserrolecode]=roleDetails;}else{roleDetails[fieldName]=event.target.value;selectedRecord[role.nuserrolecode]=roleDetails;}}else{if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,role,comboName){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=comboName.split('_')[0];var filterArray=[];roleDetails[fieldName]=[];if(comboData){selectedRecord[comboName]=comboData;if(fieldName==='checklist'){selectedRecord[\"checklistVersion_\".concat(role.nuserrolecode)]={label:comboData.item.schecklistversionname,value:comboData.item.nchecklistversioncode};filterArray=comboData.item.nchecklistversioncode;}else{if(Array.isArray(comboData)){comboData.map(function(item){return filterArray.push(item.value);});}else{filterArray=comboData.value;}}roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}else{selectedRecord[comboName]=[];filterArray=[];roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[comboName]=comboData;if(comboName==='regtype'){_this.props.getCopySubType(comboData,selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.optCopyRegType);}else{_this.setState({selectedRecord:selectedRecord});}}};_this.onFilterComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var approvalSubTypeValue=_this.props.Login.masterData.approvalSubTypeValue;var registrationTypeValue=_this.props.Login.masterData.registrationTypeValue;var registrationSubTypeValue;if(comboData){selectedRecord[fieldName]=comboData.value;var inputData={};if(fieldName==='napprovalsubtypecode'){approvalSubTypeValue=comboData;inputData={nFlag:2,napprovalsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregtypecode'){registrationTypeValue=comboData;inputData={nFlag:3,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregsubtypecode'){registrationSubTypeValue=comboData;inputData={nFlag:4,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:registrationTypeValue.value,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}if(fieldName==='ntreeversiontempcode'){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{userroleTemplateValue:comboData})}};_this.props.updateStore(updateInfo);}else{var oldState={approvalsubtype:_this.props.Login.masterData.approvalsubtype,registrationtype:_this.props.Login.masterData.registrationType,registrationsubtype:_this.props.Login.masterData.registrationSubType,approvalSubTypeValue:approvalSubTypeValue,registrationTypeValue:registrationTypeValue,registrationSubTypeValue:registrationSubTypeValue,RegistrationTypeList:_this.state.RegistrationTypeList,RegistrationSubTypeList:_this.state.RegistrationSubTypeList};var inputParamData={inputData:inputData,masterData:_this.props.Login.masterData};_this.props.getFilterChange(inputParamData,oldState);}}else{selectedRecord[fieldName]=\"\";if(fieldName==='napprovalsubtypecode'){_this.approvalSubTypeValue=[];registrationTypeValue=[];registrationSubTypeValue=[];}else if(fieldName==='nregtypecode'){registrationTypeValue=[];registrationSubTypeValue=[];}else{registrationSubTypeValue=[];}_this.setState({selectedRecord:selectedRecord});}// this.searchRef.current.value = \"\"\n};_this.getApprovalConfigurationVersion=function(){if(_this.props.Login.masterData.approvalSubTypeValue){_this.searchRef.current.value=\"\";var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realApprovalSubTypeValue:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue:-1,realRegistrationTypeValue:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue:-1,realRegistrationSubTypeValue:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue:-1,realApprovalConfigCode:_this.props.Login.masterData.approvalConfigCode||-1,realTreeVersionTemplateValue:_this.props.Login.masterData.userroleTemplateValue||-1});var inputData={napprovalsubtypecode:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue.value:-1,napprovalconfigcode:_this.props.Login.masterData.approvalConfigCode,ntreeversiontempcode:_this.props.Login.masterData.userroleTemplateValue.value,userinfo:_this.props.Login.userInfo};var inputParamData={inputData:inputData,masterData:masterData};_this.props.getApprovalConfigurationVersion(inputParamData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_APPROVALSUBTYPENOTAVAILABLE\"}));}};_this.reloadData=function(){// this.searchRef.current.value = \"\";\n// const inputParam = {\n//     inputData: { \"userinfo\": this.props.Login.userInfo },\n//     classUrl: \"approvalconfig\",\n//     methodUrl: \"ApprovalConfigFilter\",\n//     userInfo: this.props.Login.userInfo,\n//     displayName: \"IDS_APPROVALCONFIG\"\n// };\n// this.props.callService(inputParam);\n_this.getApprovalConfigurationVersion();};_this.userRoleAccordion=function(userRoleList){var accordionMap=new Map();userRoleList=sortData(userRoleList,'ascending','nlevelno');userRoleList.map(function(role){return accordionMap.set(role.napprovalconfigrolecode,/*#__PURE__*/React.createElement(UserRoleAccordion,{role:role,roleConfig:_this.props.Login.masterData.roleConfig,userRoleControlRights:_this.state.userRoleControlRights,controlMap:_this.state.controlMap,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,deleteRecord:_this.deleteRecord,tabDetail:_this.tabDetail(role),onTabOnChange:_this.onTabOnChange}));});return accordionMap;};_this.tabDetail=function(){var selectedRole=_this.props.Login.masterData.selectedRole?_this.props.Login.masterData.selectedRole:_this.props.Login.masterData.approvalconfigRoleNames&&_this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(_this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var tabMap=new Map();tabMap.set(\"IDS_FILTERSTATUS\",/*#__PURE__*/React.createElement(FilterStatusTab,{filterData:process(_this.props.Login.masterData.roleFilters?sortData(_this.props.Login.masterData.roleFilters):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData}));tabMap.set(\"IDS_VALIDATIONSTATUS\",/*#__PURE__*/React.createElement(ValidationStatusTab,{validationStatus:process(_this.props.Login.masterData.roleValidations?sortData(_this.props.Login.masterData.roleValidations):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData}));if(_this.props.Login.masterData.roleDecisions&&_this.props.Login.masterData.roleDecisions.length>0){tabMap.set(\"IDS_DECISIONSTATUS\",/*#__PURE__*/React.createElement(DecisionStatusTab,{decisionData:process(_this.props.Login.masterData.roleDecisions?sortData(_this.props.Login.masterData.roleDecisions):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData}));}tabMap.set(\"IDS_ACTIONSTATUS\",/*#__PURE__*/React.createElement(ActionStatusTab,{actionData:process(_this.props.Login.masterData.roleActions?sortData(_this.props.Login.masterData.roleActions):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData}));return tabMap;};_this.onTabOnChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};var dataState={skip:0,take:10};_this.state={userRoleControlRights:[],controlMap:new Map(),openModal:false,masterStatus:\"\",error:\"\",approvalConfigCode:-1,dataResult:[],dataState:dataState,selectedRecord:{},ApprovalsubtypeList:[],RegistrationTypeList:[],RegistrationSubTypeList:[],UserRoleTemplateList:[]};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ApprovalConfig,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){versionStatusCSS=\"outline-danger\";}var editId=this.state.controlMap.has(\"EditApprovalConfig\")&&this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteApprovalConfig\")&&this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveApprovalConfig\")&&this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode;var copyId=this.state.controlMap.has(\"CopyApprovalConfig\")&&this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode;var addId=this.state.controlMap.has(\"AddApprovalConfig\")&&this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode;this.approvalSubTypeValue=this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue?this.props.Login.masterData.approvalSubTypeValue:this.props.Login.masterData.approvalsubtype?this.props.Login.masterData.approvalsubtype.length>0?{value:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].napprovalsubtypecode,label:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].ssubtypename}:{}:{};var filterParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",searchFieldList:[\"sversionname\",\"sversionstatus\",\"sapproveconfversiondesc\"],fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:this.approvalSubTypeValue.value,userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,unchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\"]};var selectedRole=this.props.Login.masterData.selectedRole?this.props.Login.masterData.selectedRole:this.props.Login.masterData.approvalconfigRoleNames&&this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var mandatoryFields=[{\"idsName\":\"IDS_VERSIONNAME\",\"dataField\":\"sversionname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];this.props.Login.operation!=='copy'&&this.props.Login.userRoleTree&&this.props.Login.userRoleTree.map(function(role){mandatoryFields.push({\"idsName\":\"IDS_APPROVALSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"approvalstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_FILTERSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"filterstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_VALIDATIONSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"validationstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});// if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\n//     mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\n// }\nreturn null;});var breadCrumbData=[];if(this.props.Login.masterData.realApprovalSubTypeValue&&this.props.Login.masterData.realApprovalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL){breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONTYPE\",\"value\":this.props.Login.masterData.realRegistrationTypeValue?this.props.Login.masterData.realRegistrationTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONSUBTYPE\",\"value\":this.props.Login.masterData.realRegistrationSubTypeValue?this.props.Login.masterData.realRegistrationSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}else{breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{filterColumnData:this.props.filterColumnData,masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,screenName:this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.versionData,getMasterDetail:function getMasterDetail(version){return _this2.props.getApprovalConfigVersion(version,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedVersion,primaryKeyField:\"napproveconfversioncode\",mainField:\"sversionname\",firstField:\"sapproveconfversiondesc\",secondField:\"sversionstatus\",isIDSField:\"Yes\",searchRef:this.searchRef,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,openModal:function openModal(){return _this2.props.openModal(\"create\",_this2.props.Login.masterData.realApprovalConfigCode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,addId,_this2.props.Login.masterData.realTreeVersionTemplateValue.value);},needAccordianFilter:false,reloadData:this.reloadData,hidePaging:true,showFilterIcon:true,onFilterSubmit:this.getApprovalConfigurationVersion,filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{selectedRecord:this.state.selectedRecord||{},filterComboChange:this.onFilterComboChange,approvalSubTypeOptions:this.state.ApprovalsubtypeList,approvalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue,registrationTypeOptions:this.state.RegistrationTypeList,registrationTypeValue:this.props.Login.masterData.registrationTypeValue,registrationSubTypeOptions:this.state.RegistrationSubTypeList,registrationSubTypeValue:this.props.Login.masterData.registrationSubTypeValue,userroleTemplateOptions:this.state.UserRoleTemplateList,userroleTemplateValue:this.props.Login.masterData.userroleTemplateValue})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.selectedVersion?Object.entries(this.props.Login.masterData.selectedVersion).length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.selectedVersion.sversionname)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"readonly-text font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},\"\".concat(this.props.intl.formatMessage({id:\"IDS_VERSIONNO\"}),\":\").concat(this.props.Login.masterData.selectedVersion.sapproveconfversiondesc),/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},this.props.Login.masterData.selectedVersion.sversionstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline \"},/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(editId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.props.getApprovalConfigEditData(_this2.props.Login.masterData.selectedVersion.napproveconfversioncode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.approveVersion(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(copyId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),\"data-for\":\"tooltip_list_wrap\",onClick:function onClick(){return _this2.props.copyVersion(_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy,title:this.props.intl.formatMessage({id:\"IDS_COPY\"})}))))))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Text,null,/*#__PURE__*/React.createElement(Row,null,this.props.Login.masterData.versionConfig?this.props.Login.masterData.versionConfig.map(function(item){return/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:item.stransdisplaystatus})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this2.props.Login.masterData.selectedVersion[\"\".concat(item.ntranscode)])));}):\"\")),/*#__PURE__*/React.createElement(Row,{oGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},this.props.Login.masterData?this.props.Login.masterData.approvalconfigRoleNames.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"UserRoles\",accordionTitle:\"suserrolename\",accordionComponent:this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames),inputParam:{masterData:this.props.Login.masterData,userinfo:this.props.Login.userInfo,napprovalsubtypecode:this.approvalSubTypeValue.value},accordionClick:this.props.getRoleDetails,accordionPrimaryKey:\"napprovalconfigrolecode\",accordionObjectName:\"role\",selectedKey:selectedRole.napprovalconfigrolecode}):\"\":\"\"))))):\"\":\"\"))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{onSaveClick:this.onSaveClick,operation:this.props.Login.operation,screenName:\"IDS_APPROVALCONFIG\",closeModal:this.handleClose,show:this.props.Login.openModal,inputParam:this.props.Login.inputParam,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddApprovalConfig,{selectedRecord:this.state.selectedRecord?this.state.selectedRecord:{},userRoleTree:this.props.Login.userRoleTree,approvalSubTypeValue:this.approvalSubTypeValue,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,approvalStatusOptions:this.props.Login.approvalStatusOptions,approvalStatusValue:this.props.Login.approvalStatusValue,filterStatusOptions:this.props.Login.filterStatusOptions,filterStatusValues:this.props.Login.filterStatusValues,validationStatusOptions:this.props.Login.validationStatusOptions,validationStatusValues:this.props.Login.validationStatusValues,decisionStatusOptions:this.props.Login.decisionStatusOptions,decisionStatusValues:this.props.Login.decisionStatusValues,actionStatus:this.props.Login.actionStatus,checklistOptions:this.props.Login.checklistOptions,checklistValues:this.props.Login.checklistValues,roleConfig:this.props.Login.roleConfig,versionConfig:this.props.Login.versionConfig,operation:this.props.Login.operation,nsubType:this.approvalSubTypeValue.value,registrationTypeOptions:this.props.Login.optCopyRegType,registrationTypeValue:this.state.registrationTypeValue,registrationSubTypeOptions:this.props.Login.optCopyRegSubType,registrationSubTypeValue:this.state.registrationSubTypeValue,selectedVersion:this.props.Login.masterData.selectedVersion,masterData:this.props.Login.masterData})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,ApprovalsubtypeList=_this$state.ApprovalsubtypeList,RegistrationTypeList=_this$state.RegistrationTypeList,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,UserRoleTemplateList=_this$state.UserRoleTemplateList;var updateState=false;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);// const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\n// const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\n// const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\nvar ApprovalsubtypeListMap=constructOptionList(this.props.Login.masterData.approvalsubtype||[],\"napprovalsubtypecode\",\"ssubtypename\",'ntemplatecode','ascending',false);var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);ApprovalsubtypeList=ApprovalsubtypeListMap.get(\"OptionList\");RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=UserRoleTemplateListMap.get(\"OptionList\");updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){//this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \n// RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\n// RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\nvar _RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var _RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var _UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);RegistrationTypeList=_RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=_RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=_UserRoleTemplateListMap.get(\"OptionList\");updateState=true;}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,ApprovalsubtypeList:ApprovalsubtypeList,RegistrationTypeList:RegistrationTypeList,RegistrationSubTypeList:RegistrationSubTypeList,UserRoleTemplateList:UserRoleTemplateList});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ApprovalConfig;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,openModal:openModal,updateStore:updateStore,getApprovalConfigVersion:getApprovalConfigVersion,getApprovalConfigEditData:getApprovalConfigEditData,copyVersion:copyVersion,getFilterChange:getFilterChange,validateEsignCredential:validateEsignCredential,getCopySubType:getCopySubType,getRoleDetails:getRoleDetails,setDefault:setDefault,filterColumnData:filterColumnData,getApprovalConfigurationVersion:getApprovalConfigurationVersion})(injectIntl(ApprovalConfig));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/configurationmaster/approvalconfig/ApprovalConfig.jsx"],"names":["React","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faCopy","faThumbsUp","faTrashAlt","sortData","getControlMap","showEsign","constructOptionList","process","ListMaster","Esign","SampleFilter","AddApprovalConfig","SlideOutModal","ReadOnlyText","ContentPanel","openModal","updateStore","getApprovalConfigVersion","getApprovalConfigEditData","copyVersion","setDefault","validateEsignCredential","getFilterChange","getRoleDetails","getCopySubType","filterColumnData","getApprovalConfigurationVersion","DEFAULT_RETURN","ApprovalSubType","transactionStatus","FilterStatusTab","ValidationStatusTab","UserRoleAccordion","CustomAccordion","DecisionStatusTab","ActionStatusTab","BreadcrumbComponent","ConfirmMessage","Affix","ReactTooltip","mapStateToProps","state","Login","ApprovalConfig","props","validateEsign","inputParam","inputData","userInfo","sreason","selectedRecord","password","screenData","handleClose","loadEsign","operation","updateInfo","typeName","data","selectedId","deleteApprovalConfigVersion","deleteId","masterData","selectedVersion","ntransactionstatus","APPROVED","RETIRED","warn","intl","formatMessage","id","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","napproveconfversioncode","fetchUrl","fecthInputObject","napprovalsubtypecode","approvalSubTypeValue","value","userinfo","unchangeList","napprovalconfigversioncode","napprovalconfigcode","realApprovalConfigCode","ntreeversiontempcode","realTreeVersionTemplateValue","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","screenName","approveVersion","approveId","onSaveClick","saveType","formRef","undefined","subTypeCode","approvalconfigversion","sversionname","nregtypecode","TESTRESULTAPPROVAL","registrationTypeValue","nregsubtypecode","registrationSubTypeValue","searchRef","ncontrolcode","bool","errormessage","approvalconfigrole","filterDetailCount","validationDetailCount","decisionDetailCount","actionDetailCount","userRoleTree","isAutoApprovalVersion","YES","map","role","approvalconfigrolefilterdetail","approvalconfigrolevalidationdetail","approvalconfigroledecisiondetail","approvalconfigroleactiondetail","nuserrolecode","push","napprovalconfigrolecode","nchecklistversioncode","checklist","NA","npartialapprovalneed","nsectionwiseapprovalneed","NO","nrecomretestneed","nrecomrecalcneed","nretestneed","nrecalcneed","nlevelno","napprovalstatuscode","approvalstatus","nautoapproval","nautoapprovalstatuscode","nautodescisionstatuscode","decisionstatus","PASS","length","DRAFT","ncorrectionneed","nesignneed","nsitecode","nmastersitecode","nstatus","ACTIVE","filterstatus","filterValue","validationstatus","validationValue","decisionValue","actionValue","suserrolename","finalInputData","temp1","versionConfig","temp","ntranscode","stransdisplaystatus","nautoapprovalstatus","nautodescisionstatus","nautoallot","nneedjoballocation","napproveconfversionno","sapproveconfversiondesc","join","ConfirmDelete","confirmMessage","confirm","onInputOnChange","event","action","roleDetails","fieldName","target","name","split","actionArray","type","checked","splice","indexOf","setState","onComboChange","comboData","comboName","filterArray","label","item","schecklistversionname","Array","isArray","optCopyRegType","onFilterComboChange","nFlag","userroleTemplateValue","oldState","approvalsubtype","registrationtype","registrationType","registrationsubtype","registrationSubType","RegistrationTypeList","RegistrationSubTypeList","inputParamData","current","realApprovalSubTypeValue","realRegistrationTypeValue","realRegistrationSubTypeValue","approvalConfigCode","reloadData","userRoleAccordion","userRoleList","accordionMap","Map","set","roleConfig","controlMap","deleteRecord","tabDetail","onTabOnChange","selectedRole","approvalconfigRoleNames","tabMap","roleFilters","skip","dataState","take","roleValidations","roleDecisions","roleActions","tabProps","masterStatus","error","dataResult","ApprovalsubtypeList","UserRoleTemplateList","createRef","versionStatusCSS","editId","has","get","copyId","addId","ssubtypename","filterParam","searchFieldList","mandatoryFields","breadCrumbData","searchedData","versionData","version","Object","entries","sversionstatus","float","approvalStatusOptions","approvalStatusValue","filterStatusOptions","filterStatusValues","validationStatusOptions","validationStatusValues","decisionStatusOptions","decisionStatusValues","actionStatus","checklistOptions","checklistValues","optCopyRegSubType","previousProps","updateState","values","ApprovalsubtypeListMap","RegistrationTypeListMap","RegistrationSubTypeListMap","UserRoleTemplateListMap","treeVersionTemplate","modalName","Component"],"mappings":"yxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,YAA7C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,CAAsBC,UAAtB,KAAwC,kBAAxC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,SAA9B,CAAyCC,SAAzC,KAA0D,iBAA1D,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,WAAT,CAAsBC,MAAtB,CAA8BC,UAA9B,CAA0CC,UAA1C,KAA4D,mCAA5D,CACA,OAASC,QAAT,CAAmBC,aAAnB,CAAkCC,SAAlC,CAA6CC,mBAA7C,KAAwE,kCAAxE,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uDAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,aAAP,KAA0B,mDAA1B,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,gCAA3C,CACA,OACIC,SADJ,CACeC,WADf,CAC4BC,wBAD5B,CACsDC,yBADtD,CACiFC,WADjF,CAC8FC,UAD9F,CAC0GC,uBAD1G,CAEIC,eAFJ,CAEqBC,cAFrB,CAEqCC,cAFrC,CAEqDC,gBAFrD,CAEuEC,+BAFvE,KAGO,kBAHP,CAIA,OAASC,cAAT,KAA+B,6BAA/B,CACA,OAASC,eAAT,CAA0BC,iBAA1B,KAAmD,iCAAnD,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,iEAA5B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA;AACA,MAAOC,CAAAA,mBAAP,KAAgC,0CAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,6DAA3B,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAQ,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAf,CAAR,CACH,CAFD,C,GAIMC,CAAAA,c,4HACF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EADe,MAqCnBC,aArCmB,CAqCH,UAAM,CAClB,GAAMC,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP,0CAEO,MAAKH,KAAL,CAAWF,KAAX,CAAiBM,QAFxB,MAGIC,OAAO,CAAE,MAAKR,KAAL,CAAWS,cAAX,CAA0B,eAA1B,CAHb,EADO,CAMPC,QAAQ,CAAE,MAAKV,KAAL,CAAWS,cAAX,CAA0B,eAA1B,CANH,CADI,CASfE,UAAU,CAAE,MAAKR,KAAL,CAAWF,KAAX,CAAiBU,UATd,CAAnB,CAYA,MAAKR,KAAL,CAAWvB,uBAAX,CAAmCyB,UAAnC,CAA+C,WAA/C,EACH,CAnDkB,OAqDnBO,WArDmB,CAqDL,UAAM,CAChB,GAAIC,CAAAA,SAAS,CAAG,MAAKV,KAAL,CAAWF,KAAX,CAAiBY,SAAjC,CACA,GAAIvC,CAAAA,SAAS,CAAG,MAAK6B,KAAL,CAAWF,KAAX,CAAiB3B,SAAjC,CACA,GAAImC,CAAAA,cAAc,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,cAAtC,CACA,GAAI,MAAKN,KAAL,CAAWF,KAAX,CAAiBY,SAArB,CAAgC,CAC5B,GAAI,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,QAA/B,EAA2C,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,SAA9E,CAAyF,CACrFD,SAAS,CAAG,KAAZ,CACAvC,SAAS,CAAG,KAAZ,CACAmC,cAAc,CAAG,EAAjB,CACH,CAJD,IAKK,CACDI,SAAS,CAAG,KAAZ,CACAJ,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACH,CACJ,CAXD,IAWO,CACHnC,SAAS,CAAG,KAAZ,CACAmC,cAAc,CAAG,EAAjB,CACH,CAED,GAAMM,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CAAE3C,SAAS,CAATA,SAAF,CAAauC,SAAS,CAATA,SAAb,CAAwBJ,cAAc,CAAdA,cAAxB,CAAwCS,UAAU,CAAE,IAApD,CAFS,CAAnB,CAIA,MAAKf,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,CA9EkB,OAgFnBI,2BAhFmB,CAgFW,SAACC,QAAD,CAAc,CAExC,GAAI,MAAKjB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACoC,QAArF,EACA,MAAKrB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACqC,OADzF,CACkG,CAC9F7E,KAAK,CAAC8E,IAAN,CAAW,MAAKvB,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,wBAAN,CAA9B,CAAX,EACH,CAHD,IAIK,CACD,GAAMC,CAAAA,SAAS,CAAG,CACdC,aAAa,CAAE,aADD,CACgBC,cAAc,CAAE,iBADhC,CAEdC,eAAe,CAAE,yBAFH,CAGdC,eAAe,CAAE,MAAK/B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBAH/C,CAIdC,QAAQ,CAAE,yCAJI,CAKdC,gBAAgB,CAAE,CAAEC,oBAAoB,CAAE,MAAKC,oBAAL,CAA0BC,KAAlD,CAAyDC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAApF,CALJ,CAMdmC,YAAY,CAAE,CAAC,iBAAD,CAAoB,sBAApB,CAA4C,kBAA5C,CAAgE,uBAAhE,CAAyF,qBAAzF,CAAgH,0BAAhH,CACV,qBADU,CACa,sBADb,CACqC,yBADrC,CANA,CAAlB,CASA,GAAMpC,CAAAA,SAAS,CAAG,CACd,wBAAyB,CACrBqC,0BAA0B,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBADnD,CAErBS,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAF5B,CAGrBP,oBAAoB,CAAE,MAAKC,oBAAL,CAA0BC,KAH3B,CAIrBM,oBAAoB,CAAE,MAAK3C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyDP,KAJ1D,CAKrBC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QALN,CADX,CAAlB,CASAD,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKH,KAAL,CAAWF,KAAX,CAAiBM,QAAzC,CACA,GAAMF,CAAAA,UAAU,CAAG,CACf2C,SAAS,CAAE,uBADI,CAEfC,QAAQ,CAAE,MAAK9C,KAAL,CAAWF,KAAX,CAAiBI,UAAjB,CAA4B4C,QAFvB,CAGfC,WAAW,CAAE,oBAHE,CAIf5C,SAAS,CAAEA,SAJI,CAIOwB,SAAS,CAATA,SAJP,CAKfhB,SAAS,CAAE,QALI,CAAnB,CASA,GAAMO,CAAAA,UAAU,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAApC,CACA,GAAIzD,SAAS,CAAC,MAAKuC,KAAL,CAAWF,KAAX,CAAiBkD,qBAAlB,CAAyC,MAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAnE,CAA8EhC,QAA9E,CAAb,CAAsG,CAClG,GAAML,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFJ,SAAS,CAAE,IADT,CACeF,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcgB,UAAU,CAAVA,UAAd,CAD3B,CACuDP,SAAS,CAAE,QADlE,CAEFxC,SAAS,CAAE,IAFT,CAEe+E,UAAU,CAAE,MAAKlD,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAF3B,CAFS,CAAnB,CAOA,MAAK1B,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,CATD,IAUK,CACD,MAAKZ,KAAL,CAAWrD,UAAX,CAAsBuD,UAAtB,CAAkCgB,UAAlC,CAA8C,WAA9C,EACH,CACJ,CAEJ,CAnIkB,OAoInBiC,cApImB,CAoIF,SAACC,SAAD,CAAe,CAC5B,GAAI,MAAKpD,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACoC,QAArF,EACA,MAAKrB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACqC,OADzF,CACkG,CAC9F7E,KAAK,CAAC8E,IAAN,CAAW,MAAKvB,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,wBAAN,CAA9B,CAAX,EACH,CAHD,IAGO,CACH,GAAMC,CAAAA,SAAS,CAAG,CACdC,aAAa,CAAE,aADD,CACgBC,cAAc,CAAE,iBADhC,CAEdC,eAAe,CAAE,yBAFH,CAGdC,eAAe,CAAE,MAAK/B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBAH/C,CAIdC,QAAQ,CAAE,yCAJI,CAKdC,gBAAgB,CAAE,CAAEC,oBAAoB,CAAE,MAAKC,oBAAL,CAA0BC,KAAlD,CAAyDC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAApF,CALJ,CAMdmC,YAAY,CAAE,CAAC,iBAAD,CAAoB,sBAApB,CAA4C,kBAA5C,CAAgE,uBAAhE,CAAyF,qBAAzF,CACV,0BADU,CACkB,qBADlB,CACyC,sBADzC,CACiE,yBADjE,CANA,CAAlB,CASA,GAAMpC,CAAAA,SAAS,CAAG,CACd,wBAAyB,CACrBqC,0BAA0B,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBADnD,CAErBS,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAF5B,CAGrBP,oBAAoB,CAAE,MAAKC,oBAAL,CAA0BC,KAH3B,CAIrBM,oBAAoB,CAAE,MAAK3C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAA2D,MAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyDP,KAApH,CAA4H,CAAC,CAJ9H,CAKrBC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QALN,CADX,CAAlB,CAUAD,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKH,KAAL,CAAWF,KAAX,CAAiBM,QAAzC,CACA,GAAMF,CAAAA,UAAU,CAAG,CACf2C,SAAS,CAAE,uBADI,CAEfC,QAAQ,CAAE,MAAK9C,KAAL,CAAWF,KAAX,CAAiBI,UAAjB,CAA4B4C,QAFvB,CAGfC,WAAW,CAAE,oBAHE,CAIf5C,SAAS,CAAEA,SAJI,CAIOwB,SAAS,CAATA,SAJP,CAKfhB,SAAS,CAAE,SALI,CAAnB,CAOA,GAAMO,CAAAA,UAAU,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAApC,CAEA,GAAIzD,SAAS,CAAC,MAAKuC,KAAL,CAAWF,KAAX,CAAiBkD,qBAAlB,CAAyC,MAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAnE,CAA8EG,SAA9E,CAAb,CAAuG,CACnG,GAAMxC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFJ,SAAS,CAAE,IADT,CACeF,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcgB,UAAU,CAAVA,UAAd,CAD3B,CAEF/C,SAAS,CAAE,IAFT,CAEe+E,UAAU,CAAE,MAAKlD,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAF3B,CAEwFf,SAAS,CAAE,SAFnG,CAFS,CAAnB,CAOA,MAAKX,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,CATD,IAUK,CACD,MAAKZ,KAAL,CAAWrD,UAAX,CAAsBuD,UAAtB,CAAkCgB,UAAlC,CAA8C,WAA9C,EACH,CACJ,CAEJ,CArLkB,OAuLnBmC,WAvLmB,CAuLL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CACjC,GAAI5B,CAAAA,SAAS,CAAG6B,SAAhB,CACA,GAAI,MAAKxD,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,MAAnC,CAA2C,CAEvC,GAAM8C,CAAAA,WAAW,CAAG,MAAKrB,oBAAL,CAA0BC,KAA9C,CAEA,GAAMlC,CAAAA,SAAS,CAAG,CACduD,qBAAqB,CAAE,CACnBlB,0BAA0B,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBADrD,CAEnBS,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAF9B,CAGnBP,oBAAoB,CAAEsB,WAHH,CAInBE,YAAY,CAAE,MAAK9D,KAAL,CAAWS,cAAX,CAA0BqD,YAJrB,CAKnBC,YAAY,CAAEH,WAAW,GAAKzE,eAAe,CAAC6E,kBAAhC,CAAqD,MAAKhE,KAAL,CAAWS,cAAX,CAA0B,SAA1B,EAAuC,MAAKT,KAAL,CAAWS,cAAX,CAA0B,SAA1B,EAAqC+B,KAA5E,CAAoF,MAAKxC,KAAL,CAAWiE,qBAAX,CAAiC,CAAjC,EAAoCzB,KAA7K,CAAqL,CAAC,CALjL,CAMnB0B,eAAe,CAAEN,WAAW,GAAKzE,eAAe,CAAC6E,kBAAhC,CAAqD,MAAKhE,KAAL,CAAWS,cAAX,CAA0B,YAA1B,EAA0C,MAAKT,KAAL,CAAWS,cAAX,CAA0B,YAA1B,EAAwC+B,KAAlF,CAA0F,MAAKxC,KAAL,CAAWmE,wBAAX,CAAoC,CAApC,EAAuC3B,KAAtL,CAA8L,CAAC,CAN7L,CAOnBC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAPR,CAQnBuC,oBAAoB,CAAE,MAAK3C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAA2D,MAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyDP,KAApH,CAA4H,CAAC,CARhI,CADT,CAAlB,CAaAlC,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKH,KAAL,CAAWF,KAAX,CAAiBM,QAAzC,CACA,GAAMF,CAAAA,UAAU,CAAG,CACf2C,SAAS,CAAE,uBADI,CAEfC,QAAQ,CAAE,MAAK9C,KAAL,CAAWF,KAAX,CAAiBI,UAAjB,CAA4B4C,QAFvB,CAGfC,WAAW,CAAE,oBAHE,CAIf5C,SAAS,CAAEA,SAJI,CAIOwB,SAAS,CAATA,SAJP,CAIkBsC,SAAS,CAAE,MAAKA,SAJlC,CAKftD,SAAS,CAAE,MALI,CAAnB,CAQA,GAAMO,CAAAA,UAAU,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAApC,CAEA,GAAIzD,SAAS,CAAC,MAAKuC,KAAL,CAAWF,KAAX,CAAiBkD,qBAAlB,CAAyC,MAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAnE,CAA8E,MAAKjD,KAAL,CAAWF,KAAX,CAAiBoE,YAA/F,CAAb,CAA2H,CAEvH,GAAMtD,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFJ,SAAS,CAAE,IADT,CACeF,UAAU,CAAE,CAAEN,UAAU,CAAVA,UAAF,CAAcgB,UAAU,CAAVA,UAAd,CAD3B,CAEF/C,SAAS,CAAE,IAFT,CAEe+E,UAAU,CAAE,MAAKlD,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAF3B,CAEwFf,SAAS,CAAE,MAFnG,CAFS,CAAnB,CAQA,MAAKX,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EAEH,CAZD,IAYO,CAEH,MAAKZ,KAAL,CAAWrD,UAAX,CAAsBuD,UAAtB,CAAkCgB,UAAlC,CAA8C,WAA9C,EAEH,CAEJ,CA9CD,IA+CK,CAED,GAAIiD,CAAAA,IAAI,CAAG,IAAX,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIjE,CAAAA,UAAS,CAAG,EAAhB,CACA,GAAIkE,CAAAA,kBAAkB,CAAG,EAAzB,CACA,GAAIC,CAAAA,iBAAiB,CAAG,CAAxB,CACA,GAAIC,CAAAA,qBAAqB,CAAG,CAA5B,CACA,GAAIC,CAAAA,mBAAmB,CAAG,CAA1B,CACA,GAAIC,CAAAA,iBAAiB,CAAG,CAAxB,CACAtE,UAAS,CAAC,UAAD,CAAT,CAAwB,MAAKH,KAAL,CAAWF,KAAX,CAAiBM,QAAzC,CACAD,UAAS,CAAC,qBAAD,CAAT,CAAmC,MAAKH,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAA/D,CACAvC,UAAS,CAAC,sBAAD,CAAT,CAAoC,MAAKH,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiC/B,oBAArE,CACAxC,UAAS,CAAC,sBAAD,CAAT,CAAoC,MAAKiC,oBAAL,CAA0BC,KAA9D,CACA,GAAIsC,CAAAA,qBAAqB,CAAG,MAAK9E,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,GAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,IAAkDrB,iBAAiB,CAAC2F,GAArH,CAA2H,IAA3H,CAAgI,KAA5J,CACA,MAAK5E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8BG,GAA9B,CAAkC,SAAAC,IAAI,CAAI,CACtC,GAAIC,CAAAA,8BAA8B,CAAG,EAArC,CACA,GAAIC,CAAAA,kCAAkC,CAAG,EAAzC,CACA,GAAIC,CAAAA,gCAAgC,CAAG,EAAvC,CACA,GAAIC,CAAAA,8BAA8B,CAAG,EAArC,CACA;AACA,GAAI,MAAKrF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,CAAJ,CAAmD,CAC/Cd,kBAAkB,CAACe,IAAnB,CAAwB,CACpBC,uBAAuB,CAAE,MAAKrF,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,QAA/B,CAA0C,CAA1C,CAA8CmE,IAAI,CAACO,uBADxD,CAEpB5C,mBAAmB,CAAEqC,IAAI,CAACrC,mBAFN,CAGpBE,oBAAoB,CAAEmC,IAAI,CAACnC,oBAHP,CAIpBwC,aAAa,CAAEL,IAAI,CAACK,aAJA,CAKpBG,qBAAqB,CAAE,MAAKzF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAAgD,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CI,SAA9C,CACnE,MAAK1F,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CI,SADqB,CACTtG,iBAAiB,CAACuG,EADzD,CAC8DvG,iBAAiB,CAACuG,EANnF,CAOpBC,oBAAoB,CAAE,MAAK5F,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,EAClB,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,CADkB,CACsElG,iBAAiB,CAAC2F,GAR1F,CASpBc,wBAAwB,CAAE,MAAK7F,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,qBAA9C,GAAwE,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,qBAA9C,IAAyElG,iBAAiB,CAAC0G,EAAnK,CACtB,MAAK9F,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,wBAA9C,EACI,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,wBAA9C,CADJ,CAC8ElG,iBAAiB,CAAC0G,EAF1E,CAGpB1G,iBAAiB,CAAC0G,EAZJ,CAapB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,gBAAgB,CAAE,MAAK/F,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,EAClB,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,CADkB,CACsElG,iBAAiB,CAAC0G,EAvBtF,CAwBxBE,gBAAgB,CAAE,MAAKhG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,EACd,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,oBAAoBL,IAAI,CAACK,aAAvE,CADc,CAC0ElG,iBAAiB,CAAC0G,EAzBtF,CA0BxBG,WAAW,CAAE,MAAKjG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,EACT,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,CADS,CACqElG,iBAAiB,CAAC0G,EA3B5E,CA4BxBI,WAAW,CAAE,MAAKlG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,EACT,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,CADS,CACqElG,iBAAiB,CAAC0G,EA7B5E,CA8BxBK,QAAQ,CAAElB,IAAI,CAACkB,QA9BS,CA+BpBC,mBAAmB,CAAE,MAAKpG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cAA9C,CAA+D,MAAKrG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cAA7G,CAA8HjH,iBAAiB,CAACuG,EA/BjJ,CAiCpBW,aAAa,CAAE,MAAKtG,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,GAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,IAAkDrB,iBAAiB,CAAC2F,GAArH,CAA2H3F,iBAAiB,CAAC2F,GAA7I,CACX,MAAK/E,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,kBAA9C,EAAoE,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,kBAA9C,CAApE,CAAwIlG,iBAAiB,CAAC0G,EAlC1I,CAoCpBS,uBAAuB,CAAE,MAAKvG,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,GAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,IAAkDrB,iBAAiB,CAAC2F,GAArH,CACrB,MAAK/E,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0Ee,cADrD,CAEnB,MAAKrG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,kBAA9C,GAAqE,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cAAnH,CACE,MAAKrG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cADhD,CAEIjH,iBAAiB,CAACuG,EAxCR,CA0CpBa,wBAAwB,CAAE,MAAKxG,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,GAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,kBAA1B,IAAkDrB,iBAAiB,CAAC2F,GAArH,CACtB,MAAK/E,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAA1E,EAA4F,MAAKzG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAA1E,CAAyF,CAAzF,CAA5F,CAA0L,MAAKzG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAA1E,CAAyF,CAAzF,CAA1L,CAAwRrH,iBAAiB,CAACsH,IADpR,CAEpB,MAAK1G,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,kBAA9C,GAAqE,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CmB,cAAnH,EAAqI,MAAKzG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CmB,cAA9C,CAA6DE,MAA7D,CAAsE,CAA3M,CACE,MAAK3G,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CmB,cAA9C,CAA6D,CAA7D,CADF,CACoErH,iBAAiB,CAACwH,KAC5F;AACA;AA/CoB,CAiDpBC,eAAe,CAAE,MAAK7G,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,gBAA9C,EACb,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,gBAA9C,CADa,CACqDlG,iBAAiB,CAAC0G,EAlDpE,CAmDpBgB,UAAU,CAAE,MAAK9G,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,EACR,MAAKtF,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C,UAAUL,IAAI,CAACK,aAA7D,CADQ,CACsElG,iBAAiB,CAAC0G,EApDhF,CAqDpBvE,kBAAkB,CAAEnC,iBAAiB,CAACwH,KArDlB,CAsDpBG,SAAS,CAAE,MAAK5G,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0ByG,eAtDjB,CAuDpBC,OAAO,CAAE7H,iBAAiB,CAAC8H,MAvDP,CAAxB,EA4DA,GAAI,MAAKlH,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C6B,YAAlD,CAAgE,CAC5D,MAAKnH,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C6B,YAA9C,CAA2DnC,GAA3D,CAA+D,SAAAoC,WAAW,CAAI,CAC1E3C,iBAAiB,GACjBS,8BAA8B,CAACK,IAA/B,CAAoC,CAChC3C,mBAAmB,CAAEqC,IAAI,CAACrC,mBADM,CAEhC0C,aAAa,CAAEL,IAAI,CAACK,aAFY,CAGhCa,QAAQ,CAAElB,IAAI,CAACkB,QAHiB,CAIhC5E,kBAAkB,CAAE6F,WAJY,CAKhCH,OAAO,CAAE7H,iBAAiB,CAAC8H,MALK,CAApC,EAOA,MAAO,KAAP,CACH,CAVD,EAWH,CAED,GAAI,MAAKlH,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C+B,gBAAlD,CAAoE,CAChE,MAAKrH,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8C+B,gBAA9C,CAA+DrC,GAA/D,CAAmE,SAAAsC,eAAe,CAAI,CAClF5C,qBAAqB,GACrBS,kCAAkC,CAACI,IAAnC,CAAwC,CACpC3C,mBAAmB,CAAEqC,IAAI,CAACrC,mBADU,CAEpC0C,aAAa,CAAEL,IAAI,CAACK,aAFgB,CAGpCa,QAAQ,CAAElB,IAAI,CAACkB,QAHqB,CAIpC5E,kBAAkB,CAAE+F,eAJgB,CAKpCL,OAAO,CAAE7H,iBAAiB,CAAC8H,MALS,CAAxC,EAOA,MAAO,KAAP,CACH,CAVD,EAWH,CAED,GAAI,MAAKlH,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CmB,cAAlD,CAAkE,CAC9D,MAAKzG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8CmB,cAA9C,CAA6DzB,GAA7D,CAAiE,SAAAuC,aAAa,CAAI,CAC9E5C,mBAAmB,GACnBS,gCAAgC,CAACG,IAAjC,CAAsC,CAClC3C,mBAAmB,CAAEqC,IAAI,CAACrC,mBADQ,CAElC0C,aAAa,CAAEL,IAAI,CAACK,aAFc,CAGlCa,QAAQ,CAAElB,IAAI,CAACkB,QAHmB,CAIlC5E,kBAAkB,CAAEgG,aAJc,CAKlCN,OAAO,CAAE7H,iBAAiB,CAAC8H,MALO,CAAtC,EAOA,MAAO,KAAP,CACH,CAVD,EAWH,CAED,MAAKlH,KAAL,CAAWS,cAAX,wBAA0CwE,IAAI,CAACK,aAA/C,GAAkE,MAAKtF,KAAL,CAAWS,cAAX,wBAA0CwE,IAAI,CAACK,aAA/C,GAAgEN,GAAhE,CAAoE,SAAAwC,WAAW,CAAI,CACjJ5C,iBAAiB,GACjBS,8BAA8B,CAACE,IAA/B,CAAoC,CAChC3C,mBAAmB,CAAEqC,IAAI,CAACrC,mBADM,CAEhC0C,aAAa,CAAEL,IAAI,CAACK,aAFY,CAGhCa,QAAQ,CAAElB,IAAI,CAACkB,QAHiB,CAIhC5E,kBAAkB,CAAEiG,WAJY,CAKhCP,OAAO,CAAE7H,iBAAiB,CAAC8H,MALK,CAApC,EAOA,MAAO,KAAP,CACH,CAViE,CAAlE,CAUK7B,8BAA8B,CAACE,IAA/B,EAVL,CAWAX,iBAAiB,GACjBS,8BAA8B,CAACE,IAA/B,CAAoC,CAChC3C,mBAAmB,CAAEqC,IAAI,CAACrC,mBADM,CAEhC0C,aAAa,CAAEL,IAAI,CAACK,aAFY,CAGhCa,QAAQ,CAAElB,IAAI,CAACkB,QAHiB,CAIhC5E,kBAAkB,CAAE,MAAKvB,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cAA9C,CAA+D,MAAKrG,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,EAA8Ce,cAA7G,CAA8H,CAAC,CAJnH,CAKhCY,OAAO,CAAE7H,iBAAiB,CAAC8H,MALK,CAApC,EAQA5G,UAAS,0CAAmC,CAAC2E,IAAI,CAACK,aAAN,CAAnC,EAAT,CAAsEJ,8BAAtE,CACA5E,UAAS,8CAAuC,CAAC2E,IAAI,CAACK,aAAN,CAAvC,EAAT,CAA0EH,kCAA1E,CACA7E,UAAS,4CAAqC,CAAC2E,IAAI,CAACK,aAAN,CAArC,EAAT,CAAwEF,gCAAxE,CACA9E,UAAS,0CAAmC,CAAC2E,IAAI,CAACK,aAAN,CAAnC,EAAT,CAAsED,8BAAtE,CACAf,IAAI,CAAGA,IAAI,CAAG,IAAH,CAAU,KAArB,CACA,MAAO,KAAP,CACH,CAjID,IAiIO,CACHA,IAAI,CAAG,KAAP,CACAC,YAAY,CAACgB,IAAb,CAAkBN,IAAI,CAACwC,aAAvB,EACA,MAAO,MAAP,CACH,CACJ,CA5ID,EA4IE;AAEFnH,UAAS,CAAC,oBAAD,CAAT,CAAkCkE,kBAAlC,CACAlE,UAAS,CAAC,WAAD,CAAT,CAAyB,MAAKH,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B8B,MAAvD,CACArG,UAAS,CAAC,mBAAD,CAAT,CAAiCmE,iBAAjC,CACAnE,UAAS,CAAC,uBAAD,CAAT,CAAqCoE,qBAArC,CACApE,UAAS,CAAC,qBAAD,CAAT,CAAmCqE,mBAAnC,CACArE,UAAS,CAAC,aAAD,CAAT,CAA2BsE,iBAA3B,CACAtE,UAAS,CAAC,sBAAD,CAAT,CAAoC,MAAKH,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAA2D,MAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyDP,KAApH,CAA4H,CAAC,CAAjK,CACA,GAAIkF,CAAAA,cAAc,CAAG,EAArB,CACA,GAAIrH,CAAAA,WAAU,CAAG,EAAjB,CACA,GAAIiE,IAAJ,CAAU,CACN,GAAI,MAAKnE,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,QAAnC,CAA6C,CACzC;AACAgB,SAAS,CAAG,CAAEC,aAAa,CAAE,aAAjB,CAAgCC,cAAc,CAAE,iBAAhD,CAAmEC,eAAe,CAAE,yBAApF,CAAZ,CAEZ,GAAM0F,CAAAA,KAAK,CAAE,EAAb,CACA,MAAKxH,KAAL,CAAWF,KAAX,CAAiB2H,aAAjB,CAA+B5C,GAA/B,CAAmC,SAAA6C,IAAI,CAAE,CACzB,GAAGA,IAAI,CAACC,UAAL,GAAkB,EAArB,CACA,CACIH,KAAK,CAAC,mBAAD,CAAL,CAA4B,MAAK3H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,EAAsD,MAAK/H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,CAAtD,CAA4G3I,iBAAiB,CAAC0G,EAA1J,CACH,CAHD,IAIK,IAAG+B,IAAI,CAACC,UAAL,GAAkB,EAArB,CACL,CACIH,KAAK,CAAC,mBAAD,CAAL,CAA6B,MAAK3H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,EAAsD,MAAK/H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,CAAtD,CAA4G3I,iBAAiB,CAAC0G,EAA3J,CACH,CAIJ,CAZb,EAeYxF,UAAS,CAAC,4BAAD,CAAT,gBACIqC,0BAA0B,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBAD5E,CAEIS,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAFrD,CAGIiB,YAAY,CAAE,MAAK9D,KAAL,CAAWS,cAAX,CAA0BqD,YAH5C,CAIE;AACA;AACEkE,mBAAmB,CAAE,MAAK7H,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,EAAiC,MAAK1E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B8B,MAA9B,CAAuC,CAAxE,EAA6E,MAAK3G,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0Ee,cAAvJ,CAAwK,MAAKrG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0Ee,cAAlP,CAAmQjH,iBAAiB,CAACuG,EAN9S,CAOIsC,oBAAoB,CAAEnD,qBAAqB,CAAG1F,iBAAiB,CAACsH,IAArB,CAA4B,MAAKvG,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,EAAiC,MAAK1E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B8B,MAA9B,CAAuC,CAAxE,EAA6E,MAAK3G,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAAvJ,CAAyK,MAAKzG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAA1E,CAAyF,CAAzF,GAA+FrH,iBAAiB,CAACwH,KAA1R,CAAmSxH,iBAAiB,CAACwH,KAPhY,CAQIsB,UAAU,CAAE,MAAKlI,KAAL,CAAWS,cAAX,CAA0B,eAA1B,EAA6C,MAAKT,KAAL,CAAWS,cAAX,CAA0B,eAA1B,CAA7C,CAA0FrB,iBAAiB,CAAC0G,EAR5H,CASIqC,kBAAkB,CAAE,MAAKnI,KAAL,CAAWS,cAAX,CAA0B,mBAA1B,EAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,mBAA1B,CAAjD,CAAkGrB,iBAAiB,CAAC0G,EAT5I,CAUImB,OAAO,CAAE7H,iBAAiB,CAAC8H,MAV/B,EAWOS,KAXP,EAaH,CAjCD,IAkCK,CAGDrH,UAAS,CAAC,sBAAD,CAAT,CAAoC,CAChCsC,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBADjB,CAEhCuF,qBAAqB,CAAE,CAAC,CAFQ,CAGhC7G,kBAAkB,CAAEnC,iBAAiB,CAACwH,KAHN,CAIhC9D,oBAAoB,CAAE,MAAK3C,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiC/B,oBAJvB,CAKhCuF,uBAAuB,CAAE,GALO,CAMhCtB,SAAS,CAAE,MAAK5G,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0ByG,eANL,CAOhCC,OAAO,CAAE7H,iBAAiB,CAAC8H,MAPK,CAApC,CASA,GAAMS,CAAAA,KAAK,CAAE,EAAb,CACA,MAAKxH,KAAL,CAAWF,KAAX,CAAiB2H,aAAjB,CAA+B5C,GAA/B,CAAmC,SAAA6C,IAAI,CAAE,CACzB,GAAGA,IAAI,CAACC,UAAL,GAAkB,EAArB,CACA,CACIH,KAAK,CAAC,mBAAD,CAAL,CAA4B,MAAK3H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,EAAsD,MAAK/H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,CAAtD,CAA4G3I,iBAAiB,CAAC0G,EAA1J,CACH,CAHD,IAIK,IAAG+B,IAAI,CAACC,UAAL,GAAkB,EAArB,CACL,CACIH,KAAK,CAAC,mBAAD,CAAL,CAA6B,MAAK3H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,EAAsD,MAAK/H,KAAL,CAAWS,cAAX,CAA0BoH,IAAI,CAACE,mBAA/B,CAAtD,CAA4G3I,iBAAiB,CAAC0G,EAA3J,CACH,CAIJ,CAZb,EAaAxF,UAAS,CAAC,4BAAD,CAAT,gBACIsC,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBADrD,CAEIiB,YAAY,CAAE,MAAK9D,KAAL,CAAWS,cAAX,CAA0BqD,YAF5C,CAGG;AACD;AACEkE,mBAAmB,CAAE,MAAK7H,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,EAAiC,MAAK1E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B8B,MAA9B,CAAuC,CAAxE,EAA6E,MAAK3G,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0Ee,cAAvJ,CAAwK,MAAKrG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0Ee,cAAlP,CAAmQjH,iBAAiB,CAACuG,EAL9S,CAMIsC,oBAAoB,CAAEnD,qBAAqB,CAAG1F,iBAAiB,CAACsH,IAArB,CAA2B,MAAKvG,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,EAAiC,MAAK1E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B8B,MAA9B,CAAuC,CAAxE,EAA6E,MAAK3G,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAAvJ,CAAyK,MAAKzG,KAAL,CAAWS,cAAX,CAA0B,MAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8B,CAA9B,EAAiCS,aAA3D,EAA0EmB,cAA1E,CAAyF,CAAzF,GAA+FrH,iBAAiB,CAACwH,KAA1R,CAAmSxH,iBAAiB,CAACwH,KAN/X,CAOIsB,UAAU,CAAE,MAAKlI,KAAL,CAAWS,cAAX,CAA0B,eAA1B,EAA6C,MAAKT,KAAL,CAAWS,cAAX,CAA0B,eAA1B,CAA7C,CAA0FrB,iBAAiB,CAAC0G,EAP5H,CAQIqC,kBAAkB,CAAE,MAAKnI,KAAL,CAAWS,cAAX,CAA0B,mBAA1B,EAAiD,MAAKT,KAAL,CAAWS,cAAX,CAA0B,mBAA1B,CAAjD,CAAkGrB,iBAAiB,CAAC0G,EAR5I,CASImB,OAAO,CAAE7H,iBAAiB,CAAC8H,MAT/B,EAUOS,KAVP,EAYH,CACDD,cAAc,CAAC,uBAAD,CAAd,CAA0CpH,UAA1C,CACAoH,cAAc,CAAC,UAAD,CAAd,CAA6B,MAAKvH,KAAL,CAAWF,KAAX,CAAiBM,QAA9C,CACAF,WAAU,CAAG,CACT2C,SAAS,CAAE,uBADF,CAETC,QAAQ,CAAE,MAAK9C,KAAL,CAAWF,KAAX,CAAiBI,UAAjB,CAA4B4C,QAF7B,CAGTC,WAAW,CAAE,oBAHJ,CAIT5C,SAAS,CAAEoH,cAJF,CAIkBjE,QAAQ,CAARA,QAJlB,CAI4BC,OAAO,CAAPA,OAJ5B,CAKT5C,SAAS,CAAE,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,SALnB,CAMTgB,SAAS,CAATA,SANS,CAMEsC,SAAS,CAAE,MAAKA,SANlB,CAAb,CASA,GAAM/C,CAAAA,WAAU,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAApC,CACA,GAAIzD,SAAS,CAAC,MAAKuC,KAAL,CAAWF,KAAX,CAAiBkD,qBAAlB,CAAyC,MAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAnE,CAA8E,MAAKjD,KAAL,CAAWF,KAAX,CAAiBoE,YAA/F,CAAb,CAA2H,CACvH,GAAMtD,CAAAA,WAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFJ,SAAS,CAAE,IADT,CACeF,UAAU,CAAE,CAAEN,UAAU,CAAVA,WAAF,CAAcgB,UAAU,CAAVA,WAAd,CAD3B,CACuDoC,QAAQ,CAARA,QADvD,CAEFnF,SAAS,CAAE,IAFT,CAEewC,SAAS,CAAE,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,SAF3C,CAEsDuC,UAAU,CAAE,MAAKlD,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAFlE,CAFS,CAAnB,CAOA,MAAK1B,KAAL,CAAW5B,WAAX,CAAuBwC,WAAvB,EACH,CATD,IAUK,CACD,MAAKZ,KAAL,CAAWrD,UAAX,CAAsBuD,WAAtB,CAAkCgB,WAAlC,CAA8C,WAA9C,EACH,CACJ,CAnGD,IAmGO,CACHzE,KAAK,CAAC8E,IAAN,CAAW,MAAKvB,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,EAA8D,GAA9D,CAAoE0C,YAAY,CAAC+D,IAAb,CAAkB,GAAlB,CAA/E,EACH,CACJ,CACJ,CArfkB,OA+xBnBC,aA/xBmB,CA+xBH,SAACnH,QAAD,CAAc,CAC1B,MAAKoH,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAKtI,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAK1B,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAK1B,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAK1B,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAKV,2BAAL,CAAiCC,QAAjC,CAAN,EAFJ,EAGH,CAnyBkB,OAs1BnBsH,eAt1BmB,CAs1BD,SAACC,KAAD,CAAQ1D,IAAR,CAAc2D,MAAd,CAAyB,CAEvC,GAAMnI,CAAAA,cAAc,CAAG,MAAKT,KAAL,CAAWS,cAAX,EAA6B,EAApD,CACA,GAAIwE,IAAJ,CAAU,CACN,GAAI4D,CAAAA,WAAW,CAAG,MAAK7I,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,GAAiD,EAAnE,CACA,GAAMwD,CAAAA,SAAS,CAAGH,KAAK,CAACI,MAAN,CAAaC,IAAb,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,EAAkC,GAAlC,CAAwCN,KAAK,CAACI,MAAN,CAAaC,IAAb,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAA1D,CACA,GAAIC,CAAAA,WAAW,CAAGzI,cAAc,wBAAiBwE,IAAI,CAACK,aAAtB,EAAd,EAAwD,EAA1E,CACA,GAAIqD,KAAK,CAACI,MAAN,CAAaI,IAAb,GAAsB,UAA1B,CAAsC,CAClC,GAAIP,MAAJ,CAAY,CACR,GAAID,KAAK,CAACI,MAAN,CAAaK,OAAjB,CAA0B,CACtBF,WAAW,CAAC3D,IAAZ,CAAiBqD,MAAM,CAACd,UAAxB,EACH,CAFD,IAEO,CACHoB,WAAW,CAACG,MAAZ,CAAmBH,WAAW,CAACI,OAAZ,CAAoBV,MAAM,CAACd,UAA3B,CAAnB,CAA2D,CAA3D,EACH,CACDrH,cAAc,wBAAiBwE,IAAI,CAACK,aAAtB,EAAd,CAAuD4D,WAAvD,CACH,CACDL,WAAW,CAACC,SAAD,CAAX,CAAyBH,KAAK,CAACI,MAAN,CAAaK,OAAb,GAAyB,IAAzB,CAAgChK,iBAAiB,CAAC2F,GAAlD,CAAwD3F,iBAAiB,CAAC0G,EAAnG,CACA,GAAIgD,SAAS,GAAK,qBAAd,EAAuCD,WAAW,CAAC,qBAAD,CAAlD,EAA6EA,WAAW,CAAC,qBAAD,CAAX,GAAuCzJ,iBAAiB,CAAC2F,GAA1I,CAA+I,CAC3I8D,WAAW,CAAC,wBAAD,CAAX,CAAwCzJ,iBAAiB,CAAC0G,EAA1D,CACH,CACDrF,cAAc,CAACwE,IAAI,CAACK,aAAN,CAAd,CAAqCuD,WAArC,CACH,CAdD,IAeK,CACDA,WAAW,CAACC,SAAD,CAAX,CAAyBH,KAAK,CAACI,MAAN,CAAavG,KAAtC,CACA/B,cAAc,CAACwE,IAAI,CAACK,aAAN,CAAd,CAAqCuD,WAArC,CACH,CACJ,CAvBD,IAwBK,CACD,GAAIF,KAAK,CAACI,MAAN,CAAaI,IAAb,GAAsB,UAA1B,CAAsC,CAClC1I,cAAc,CAACkI,KAAK,CAACI,MAAN,CAAaC,IAAd,CAAd,CAAoCL,KAAK,CAACI,MAAN,CAAaK,OAAb,GAAyB,IAAzB,CAAgChK,iBAAiB,CAAC2F,GAAlD,CAAwD3F,iBAAiB,CAAC0G,EAA9G,CACH,CAFD,IAGK,CACDrF,cAAc,CAACkI,KAAK,CAACI,MAAN,CAAaC,IAAd,CAAd,CAAoCL,KAAK,CAACI,MAAN,CAAavG,KAAjD,CACH,CACJ,CACD,MAAK+G,QAAL,CAAc,CAAE9I,cAAc,CAAdA,cAAF,CAAd,EACH,CA13BkB,OA23BnB+I,aA33BmB,CA23BH,SAACC,SAAD,CAAYxE,IAAZ,CAAkByE,SAAlB,CAAgC,CAC5C,GAAMjJ,CAAAA,cAAc,CAAG,MAAKT,KAAL,CAAWS,cAAX,EAA6B,EAApD,CACA,GAAIwE,IAAJ,CAAU,CACN,GAAI4D,CAAAA,WAAW,CAAG,MAAK7I,KAAL,CAAWS,cAAX,CAA0BwE,IAAI,CAACK,aAA/B,GAAiD,EAAnE,CACA,GAAMwD,CAAAA,SAAS,CAAGY,SAAS,CAACT,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAlB,CACA,GAAIU,CAAAA,WAAW,CAAG,EAAlB,CACAd,WAAW,CAACC,SAAD,CAAX,CAAyB,EAAzB,CACA,GAAIW,SAAJ,CAAe,CACXhJ,cAAc,CAACiJ,SAAD,CAAd,CAA4BD,SAA5B,CACA,GAAIX,SAAS,GAAK,WAAlB,CAA+B,CAC3BrI,cAAc,4BAAqBwE,IAAI,CAACK,aAA1B,EAAd,CAA2D,CAAEsE,KAAK,CAAEH,SAAS,CAACI,IAAV,CAAeC,qBAAxB,CAA+CtH,KAAK,CAAEiH,SAAS,CAACI,IAAV,CAAepE,qBAArE,CAA3D,CACAkE,WAAW,CAAGF,SAAS,CAACI,IAAV,CAAepE,qBAA7B,CAEH,CAJD,IAIO,CACH,GAAIsE,KAAK,CAACC,OAAN,CAAcP,SAAd,CAAJ,CAA8B,CAC1BA,SAAS,CAACzE,GAAV,CAAc,SAAA6E,IAAI,CAAI,CAClB,MAAQF,CAAAA,WAAW,CAACpE,IAAZ,CAAiBsE,IAAI,CAACrH,KAAtB,CAAR,CACH,CAFD,EAGH,CAJD,IAIO,CACHmH,WAAW,CAAGF,SAAS,CAACjH,KAAxB,CACH,CACJ,CACDqG,WAAW,CAACC,SAAD,CAAX,CAAyBa,WAAzB,CACAlJ,cAAc,CAACwE,IAAI,CAACK,aAAN,CAAd,CAAqCuD,WAArC,CACH,CAjBD,IAiBO,CACHpI,cAAc,CAACiJ,SAAD,CAAd,CAA4B,EAA5B,CACAC,WAAW,CAAG,EAAd,CACAd,WAAW,CAACC,SAAD,CAAX,CAAyBa,WAAzB,CACAlJ,cAAc,CAACwE,IAAI,CAACK,aAAN,CAAd,CAAqCuD,WAArC,CACH,CACD,MAAKU,QAAL,CAAc,CAAE9I,cAAc,CAAdA,cAAF,CAAd,EACH,CA7BD,IA6BO,CACHA,cAAc,CAACiJ,SAAD,CAAd,CAA4BD,SAA5B,CAEA,GAAIC,SAAS,GAAK,SAAlB,CAA6B,CACzB,MAAKvJ,KAAL,CAAWpB,cAAX,CAA0B0K,SAA1B,CAAqChJ,cAArC,CAAqD,MAAKN,KAAL,CAAWF,KAAX,CAAiBM,QAAtE,CAAgF,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAjG,CAA6G,MAAKlB,KAAL,CAAWF,KAAX,CAAiBgK,cAA9H,EACH,CAFD,IAEO,CACH,MAAKV,QAAL,CAAc,CAAE9I,cAAc,CAAdA,cAAF,CAAd,EACH,CAEJ,CACJ,CAp6BkB,OAq6BnByJ,mBAr6BmB,CAq6BG,SAACT,SAAD,CAAYX,SAAZ,CAA0B,CAE5C,GAAMrI,CAAAA,cAAc,CAAG,MAAKT,KAAL,CAAWS,cAAX,EAA6B,EAApD,CAEA,GAAI8B,CAAAA,oBAAoB,CAAG,MAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAAvD,CACA,GAAI0B,CAAAA,qBAAqB,CAAG,MAAK9D,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4C,qBAAxD,CACA,GAAIE,CAAAA,wBAAJ,CAEA,GAAIsF,SAAJ,CAAe,CAEXhJ,cAAc,CAACqI,SAAD,CAAd,CAA4BW,SAAS,CAACjH,KAAtC,CACA,GAAIlC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIwI,SAAS,GAAK,sBAAlB,CAA0C,CAEtCvG,oBAAoB,CAAGkH,SAAvB,CACAnJ,SAAS,CAAG,CAAE6J,KAAK,CAAE,CAAT,CAAY7H,oBAAoB,CAAEmH,SAAS,CAACjH,KAA5C,CAAmDC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAA9E,CAAZ,CAEH,CALD,IAKO,IAAIuI,SAAS,GAAK,cAAlB,CAAkC,CAErC7E,qBAAqB,CAAGwF,SAAxB,CACAnJ,SAAS,CAAG,CAAE6J,KAAK,CAAE,CAAT,CAAY7H,oBAAoB,CAAEC,oBAAoB,CAACC,KAAvD,CAA8DuB,YAAY,CAAE0F,SAAS,CAACjH,KAAtF,CAA6FC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAAxH,CAAZ,CAEH,CALM,IAKA,IAAIuI,SAAS,GAAK,iBAAlB,CAAqC,CAExC3E,wBAAwB,CAAGsF,SAA3B,CACAnJ,SAAS,CAAG,CACR6J,KAAK,CAAE,CADC,CACE7H,oBAAoB,CAAEC,oBAAoB,CAACC,KAD7C,CAERuB,YAAY,CAAEE,qBAAqB,CAACzB,KAF5B,CAGR0B,eAAe,CAAEuF,SAAS,CAACjH,KAHnB,CAIRC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAJnB,CAAZ,CAMH,CACD,GAAIuI,SAAS,GAAK,sBAAlB,CAA0C,CACtC,GAAM/H,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFI,UAAU,gCACH,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UADd,MAEN+I,qBAAqB,CAAEX,SAFjB,EADR,CAFS,CAAnB,CASA,MAAKtJ,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,CAXD,IAWO,CACH,GAAMsJ,CAAAA,QAAQ,CAAG,CACbC,eAAe,CAAE,MAAKnK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eADhC,CAEbC,gBAAgB,CAAE,MAAKpK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BmJ,gBAFjC,CAGbC,mBAAmB,CAAE,MAAKtK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BqJ,mBAHpC,CAIbnI,oBAAoB,CAApBA,oBAJa,CAKb0B,qBAAqB,CAArBA,qBALa,CAMbE,wBAAwB,CAAxBA,wBANa,CAObwG,oBAAoB,CAAE,MAAK3K,KAAL,CAAW2K,oBAPpB,CAQbC,uBAAuB,CAAE,MAAK5K,KAAL,CAAW4K,uBARvB,CAAjB,CAUA,GAAIC,CAAAA,cAAc,CAAG,CAAEvK,SAAS,CAATA,SAAF,CAAae,UAAU,CAAE,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAA1C,CAArB,CACA,MAAKlB,KAAL,CAAWtB,eAAX,CAA2BgM,cAA3B,CAA2CR,QAA3C,EACH,CAEJ,CAlDD,IAkDO,CACH5J,cAAc,CAACqI,SAAD,CAAd,CAA4B,EAA5B,CACA,GAAIA,SAAS,GAAK,sBAAlB,CAA0C,CAEtC,MAAKvG,oBAAL,CAA4B,EAA5B,CACA0B,qBAAqB,CAAG,EAAxB,CACAE,wBAAwB,CAAG,EAA3B,CAEH,CAND,IAMO,IAAI2E,SAAS,GAAK,cAAlB,CAAkC,CAErC7E,qBAAqB,CAAG,EAAxB,CACAE,wBAAwB,CAAG,EAA3B,CAEH,CALM,IAKA,CAEHA,wBAAwB,CAAG,EAA3B,CAEH,CAGD,MAAKoF,QAAL,CAAc,CAAE9I,cAAc,CAAdA,cAAF,CAAd,EACH,CACD;AAEH,CAv/BkB,OAw/BnBxB,+BAx/BmB,CAw/Be,UAAM,CACpC,GAAI,MAAKkB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAAhC,CAAsD,CAClD,MAAK6B,SAAL,CAAe0G,OAAf,CAAuBtI,KAAvB,CAA+B,EAA/B,CACA,GAAInB,CAAAA,UAAU,gCACP,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UADV,MAEV0J,wBAAwB,CAAE,MAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAA5B,CAAmD,MAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAA/E,CAAsG,CAAC,CAFvH,CAGVyI,yBAAyB,CAAE,MAAK7K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4C,qBAA5B,CAAoD,MAAK9D,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4C,qBAAhF,CAAwG,CAAC,CAH1H,CAIVgH,4BAA4B,CAAE,MAAK9K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B8C,wBAA5B,CAAuD,MAAKhE,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B8C,wBAAnF,CAA8G,CAAC,CAJnI,CAKVtB,sBAAsB,CAAE,MAAK1C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B6J,kBAA5B,EAAkD,CAAC,CALjE,CAMVnI,4BAA4B,CAAE,MAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B+I,qBAA5B,EAAqD,CAAC,CAN1E,EAAd,CASA,GAAM9J,CAAAA,SAAS,CAAG,CACdgC,oBAAoB,CAAE,MAAKnC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAA5B,CAClB,MAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAA5B,CAAiDC,KAD/B,CACuC,CAAC,CAFhD,CAGdI,mBAAmB,CAAE,MAAKzC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B6J,kBAHnC,CAIdpI,oBAAoB,CAAE,MAAK3C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B+I,qBAA5B,CAAkD5H,KAJ1D,CAKdC,QAAQ,CAAE,MAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QALb,CAAlB,CAOA,GAAIsK,CAAAA,cAAc,CAAG,CAAEvK,SAAS,CAATA,SAAF,CAAae,UAAU,CAAVA,UAAb,CAArB,CACA,MAAKlB,KAAL,CAAWlB,+BAAX,CAA2C4L,cAA3C,EACH,CApBD,IAoBO,CACHjO,KAAK,CAAC8E,IAAN,CAAW,MAAKvB,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,iCAAN,CAA9B,CAAX,EACH,CACJ,CAhhCkB,OA0hCnBsJ,UA1hCmB,CA0hCN,UAAM,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAKlM,+BAAL,GACH,CAriCkB,OAsiCnBmM,iBAtiCmB,CAsiCC,SAACC,YAAD,CAAkB,CAClC,GAAMC,CAAAA,YAAY,CAAG,GAAIC,CAAAA,GAAJ,EAArB,CACAF,YAAY,CAAG3N,QAAQ,CAAC2N,YAAD,CAAe,WAAf,CAA4B,UAA5B,CAAvB,CACAA,YAAY,CAACrG,GAAb,CAAiB,SAACC,IAAD,QACbqG,CAAAA,YAAY,CAACE,GAAb,CAAiBvG,IAAI,CAACO,uBAAtB,cACI,oBAAC,iBAAD,EACI,IAAI,CAAEP,IADV,CAEI,UAAU,CAAE,MAAK9E,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BoK,UAF5C,CAGI,qBAAqB,CAAE,MAAKzL,KAAL,CAAWmD,qBAHtC,CAII,UAAU,CAAE,MAAKnD,KAAL,CAAW0L,UAJ3B,CAKI,QAAQ,CAAE,MAAKvL,KAAL,CAAWF,KAAX,CAAiBM,QAL/B,CAMI,UAAU,CAAE,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UANjC,CAOI,YAAY,CAAE,MAAKsK,YAPvB,CAQI,SAAS,CAAE,MAAKC,SAAL,CAAe3G,IAAf,CARf,CASI,aAAa,CAAE,MAAK4G,aATxB,EADJ,CADa,EAAjB,EAcA,MAAOP,CAAAA,YAAP,CACH,CAxjCkB,OAyjCnBM,SAzjCmB,CAyjCP,UAAM,CACd,GAAME,CAAAA,YAAY,CAAG,MAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4ByK,YAA5B,CAA2C,MAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4ByK,YAAvE,CAAsF,MAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA5B,EAAuD,MAAK5L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA5B,CAAoDpF,MAApD,CAA6D,CAApH,EAAyHjJ,QAAQ,CAAC,MAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA7B,CAAsD,WAAtD,CAAmE,UAAnE,CAAR,CAAuF,CAAvF,CAApO,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIT,CAAAA,GAAJ,EAAf,CACAS,MAAM,CAACR,GAAP,CAAW,kBAAX,cACI,oBAAC,eAAD,EACI,UAAU,CAAE1N,OAAO,CAAC,MAAKqC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4K,WAA5B,CAA0CvO,QAAQ,CAAC,MAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4K,WAA7B,CAAlD,CAA8F,EAA/F,CACf,CAAEC,IAAI,CAAE,MAAKlM,KAAL,CAAWmM,SAAX,CAAqBD,IAA7B,CAAmCE,IAAI,CAAE,MAAKpM,KAAL,CAAWmM,SAAX,CAAqBC,IAA9D,CADe,CADvB,CAGI,UAAU,CAAE,MAAKjM,KAAL,CAAWxB,UAH3B,CAII,YAAY,CAAEmN,YAJlB,CAKI,oBAAoB,CAAE,MAAKvJ,oBAAL,CAA0BC,KALpD,CAMI,QAAQ,CAAE,MAAKrC,KAAL,CAAWF,KAAX,CAAiBM,QAN/B,CAOI,UAAU,CAAE,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UAPjC,EADJ,EAYA2K,MAAM,CAACR,GAAP,CAAW,sBAAX,cACI,oBAAC,mBAAD,EACI,gBAAgB,CAAE1N,OAAO,CAAC,MAAKqC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BgL,eAA5B,CAA8C3O,QAAQ,CAAC,MAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BgL,eAA7B,CAAtD,CAAsG,EAAvG,CACrB,CAAEH,IAAI,CAAE,MAAKlM,KAAL,CAAWmM,SAAX,CAAqBD,IAA7B,CAAmCE,IAAI,CAAE,MAAKpM,KAAL,CAAWmM,SAAX,CAAqBC,IAA9D,CADqB,CAD7B,CAGI,YAAY,CAAEN,YAHlB,CAII,oBAAoB,CAAE,MAAKvJ,oBAAL,CAA0BC,KAJpD,CAKI,QAAQ,CAAE,MAAKrC,KAAL,CAAWF,KAAX,CAAiBM,QAL/B,CAMI,UAAU,CAAE,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UANjC,EADJ,EASA,GAAI,MAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiL,aAA5B,EAA6C,MAAKnM,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiL,aAA5B,CAA0C3F,MAA1C,CAAmD,CAApG,CAAuG,CACnGqF,MAAM,CAACR,GAAP,CAAW,oBAAX,cACI,oBAAC,iBAAD,EACI,YAAY,CAAE1N,OAAO,CAAC,MAAKqC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiL,aAA5B,CAA4C5O,QAAQ,CAAC,MAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiL,aAA7B,CAApD,CAAkG,EAAnG,CACjB,CAAEJ,IAAI,CAAE,MAAKlM,KAAL,CAAWmM,SAAX,CAAqBD,IAA7B,CAAmCE,IAAI,CAAE,MAAKpM,KAAL,CAAWmM,SAAX,CAAqBC,IAA9D,CADiB,CADzB,CAGI,UAAU,CAAE,MAAKjM,KAAL,CAAWxB,UAH3B,CAII,YAAY,CAAEmN,YAJlB,CAKI,oBAAoB,CAAE,MAAKvJ,oBAAL,CAA0BC,KALpD,CAMI,QAAQ,CAAE,MAAKrC,KAAL,CAAWF,KAAX,CAAiBM,QAN/B,CAOI,UAAU,CAAE,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UAPjC,EADJ,EAUH,CACD2K,MAAM,CAACR,GAAP,CAAW,kBAAX,cACI,oBAAC,eAAD,EACI,UAAU,CAAE1N,OAAO,CAAC,MAAKqC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkL,WAA5B,CAA0C7O,QAAQ,CAAC,MAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkL,WAA7B,CAAlD,CAA8F,EAA/F,CACf,CAAEL,IAAI,CAAE,MAAKlM,KAAL,CAAWmM,SAAX,CAAqBD,IAA7B,CAAmCE,IAAI,CAAE,MAAKpM,KAAL,CAAWmM,SAAX,CAAqBC,IAA9D,CADe,CADvB,CAGI,UAAU,CAAE,MAAKjM,KAAL,CAAWxB,UAH3B,CAII,YAAY,CAAEmN,YAJlB,CAKI,oBAAoB,CAAE,MAAKvJ,oBAAL,CAA0BC,KALpD,CAMI,QAAQ,CAAE,MAAKrC,KAAL,CAAWF,KAAX,CAAiBM,QAN/B,CAOI,UAAU,CAAE,MAAKJ,KAAL,CAAWF,KAAX,CAAiBoB,UAPjC,EADJ,EAUA,MAAO2K,CAAAA,MAAP,CACH,CAxmCkB,OAymCnBH,aAzmCmB,CAymCH,SAACW,QAAD,CAAc,CAC1B,GAAMnJ,CAAAA,UAAU,CAAGmJ,QAAQ,CAACnJ,UAA5B,CACA,GAAMtC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CAAEoC,UAAU,CAAVA,UAAF,CAFS,CAAnB,CAIA,MAAKlD,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,CAhnCkB,CAEf,GAAMoL,CAAAA,SAAS,CAAG,CACdD,IAAI,CAAE,CADQ,CAEdE,IAAI,CAAE,EAFQ,CAAlB,CAIA,MAAKpM,KAAL,CAAa,CACTmD,qBAAqB,CAAE,EADd,CAETuI,UAAU,CAAE,GAAIH,CAAAA,GAAJ,EAFH,CAGTjN,SAAS,CAAE,KAHF,CAGSmO,YAAY,CAAE,EAHvB,CAG2BC,KAAK,CAAE,EAHlC,CAITxB,kBAAkB,CAAE,CAAC,CAJZ,CAKTyB,UAAU,CAAE,EALH,CAKOR,SAAS,CAAEA,SALlB,CAK6B1L,cAAc,CAAE,EAL7C,CAMTmM,mBAAmB,CAAE,EANZ,CAOTjC,oBAAoB,CAAE,EAPb,CAQTC,uBAAuB,CAAE,EARhB,CASTiC,oBAAoB,CAAE,EATb,CAAb,CAYA,MAAKzI,SAAL,CAAiB5H,KAAK,CAACsQ,SAAN,EAAjB,CACA,MAAKtE,cAAL,CAAsB,GAAI5I,CAAAA,cAAJ,EAAtB,CAnBe,aAoBlB,C,iDAkeD,iBAAS,iBACL,GAAImN,CAAAA,gBAAgB,CAAG,mBAAvB,CACA,GAAI,KAAK5M,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,EAA+C,KAAKnB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACoC,QAAxI,CAAkJ,CAC9IuL,gBAAgB,CAAG,iBAAnB,CACH,CAFD,IAGK,IAAI,KAAK5M,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,EAA+C,KAAKnB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CC,kBAA5C,GAAmEnC,iBAAiB,CAACqC,OAAxI,CAAiJ,CAClJsL,gBAAgB,CAAG,gBAAnB,CACH,CACD,GAAMC,CAAAA,MAAM,CAAG,KAAKhN,KAAL,CAAW0L,UAAX,CAAsBuB,GAAtB,CAA0B,oBAA1B,GAAmD,KAAKjN,KAAL,CAAW0L,UAAX,CAAsBwB,GAAtB,CAA0B,oBAA1B,EAAgD7I,YAAlH,CACA,GAAMjD,CAAAA,QAAQ,CAAG,KAAKpB,KAAL,CAAW0L,UAAX,CAAsBuB,GAAtB,CAA0B,sBAA1B,GAAqD,KAAKjN,KAAL,CAAW0L,UAAX,CAAsBwB,GAAtB,CAA0B,sBAA1B,EAAkD7I,YAAxH,CACA,GAAMd,CAAAA,SAAS,CAAG,KAAKvD,KAAL,CAAW0L,UAAX,CAAsBuB,GAAtB,CAA0B,uBAA1B,GAAsD,KAAKjN,KAAL,CAAW0L,UAAX,CAAsBwB,GAAtB,CAA0B,uBAA1B,EAAmD7I,YAA3H,CACA,GAAM8I,CAAAA,MAAM,CAAG,KAAKnN,KAAL,CAAW0L,UAAX,CAAsBuB,GAAtB,CAA0B,oBAA1B,GAAmD,KAAKjN,KAAL,CAAW0L,UAAX,CAAsBwB,GAAtB,CAA0B,oBAA1B,EAAgD7I,YAAlH,CACA,GAAM+I,CAAAA,KAAK,CAAG,KAAKpN,KAAL,CAAW0L,UAAX,CAAsBuB,GAAtB,CAA0B,mBAA1B,GAAkD,KAAKjN,KAAL,CAAW0L,UAAX,CAAsBwB,GAAtB,CAA0B,mBAA1B,EAA+C7I,YAA/G,CAEA,KAAK9B,oBAAL,CAA4B,KAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CACxB,KAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBADJ,CAEtB,KAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAA5B,CACE,KAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAD9B,CAEI,KAAKpC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eAA5B,CAA8C,KAAKnK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eAA5B,CAA4C3D,MAA5C,CAAqD,CAArD,CAC5C,CACInE,KAAK,CAAE9E,QAAQ,CAAC,KAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eAA7B,CAA8C,WAA9C,CAA2D,sBAA3D,CAAR,CAA2F,CAA3F,EAA8FhI,oBADzG,CAEIsH,KAAK,CAAElM,QAAQ,CAAC,KAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eAA7B,CAA8C,WAA9C,CAA2D,sBAA3D,CAAR,CAA2F,CAA3F,EAA8F+C,YAFzG,CAD4C,CAIxC,EAJN,CAIW,EARrB,CAUA,GAAMC,CAAAA,WAAW,CAAG,CAChBvL,aAAa,CAAE,aADC,CAEhBC,cAAc,CAAE,iBAFA,CAGhBC,eAAe,CAAE,yBAHD,CAIhBsL,eAAe,CAAE,CAAC,cAAD,CAAiB,gBAAjB,CAAmC,yBAAnC,CAJD,CAKhBnL,QAAQ,CAAE,yCALM,CAMhBC,gBAAgB,CAAE,CAAEC,oBAAoB,CAAE,KAAKC,oBAAL,CAA0BC,KAAlD,CAAyDC,QAAQ,CAAE,KAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAApF,CANF,CAOhBc,UAAU,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAPb,CAQhBqB,YAAY,CAAE,CAAC,iBAAD,CAAoB,sBAApB,CAA4C,kBAA5C,CAAgE,uBAAhE,CAAyF,qBAAzF,CACV,0BADU,CACkB,qBADlB,CACyC,sBADzC,CACiE,yBADjE,CARE,CAApB,CAWA,GAAMoJ,CAAAA,YAAY,CAAG,KAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4ByK,YAA5B,CAA2C,KAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4ByK,YAAvE,CAAsF,KAAK3L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA5B,EAAuD,KAAK5L,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA5B,CAAoDpF,MAApD,CAA6D,CAApH,EAAyHjJ,QAAQ,CAAC,KAAKyC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA7B,CAAsD,WAAtD,CAAmE,UAAnE,CAAR,CAAuF,CAAvF,CAApO,CAEA,GAAMyB,CAAAA,eAAe,CAAG,CAAC,CAAE,UAAW,iBAAb,CAAgC,YAAa,cAA7C,CAA6D,iBAAiB,WAA9E,CAA2F,cAAe,SAA1G,CAAD,CAAxB,CACA,KAAKrN,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,MAA/B,EAAyC,KAAKX,KAAL,CAAWF,KAAX,CAAiB4E,YAA1D,EAA0E,KAAK1E,KAAL,CAAWF,KAAX,CAAiB4E,YAAjB,CAA8BG,GAA9B,CAAkC,SAAAC,IAAI,CAAI,CAChHuI,eAAe,CAACjI,IAAhB,CAAqB,CAAE,UAAW,oBAAb,CAAmC,2BAAqBN,IAAI,CAACwC,aAA1B,CAAnC,CAA8E,qCAA+BxC,IAAI,CAACK,aAApC,CAA9E,CAAmI,iBAAiB,YAApJ,CAAkK,cAAe,WAAjL,CAArB,EACAkI,eAAe,CAACjI,IAAhB,CAAqB,CAAE,UAAW,kBAAb,CAAiC,2BAAqBN,IAAI,CAACwC,aAA1B,CAAjC,CAA4E,mCAA6BxC,IAAI,CAACK,aAAlC,CAA5E,CAA+H,iBAAiB,YAAhJ,CAA8J,cAAe,WAA7K,CAArB,EACAkI,eAAe,CAACjI,IAAhB,CAAqB,CAAE,UAAW,sBAAb,CAAqC,2BAAqBN,IAAI,CAACwC,aAA1B,CAArC,CAAgF,uCAAiCxC,IAAI,CAACK,aAAtC,CAAhF,CAAwI,iBAAiB,YAAzJ,CAAuK,cAAe,WAAtL,CAArB,EACA;AACA;AACA;AACA,MAAO,KAAP,CACH,CARyE,CAA1E,CASA,GAAImI,CAAAA,cAAc,CAAG,EAArB,CACA,GAAI,KAAKtN,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,EAAwD,KAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CAAqDvI,KAArD,GAA+DrD,eAAe,CAAC6E,kBAA3I,CAA+J,CAC3JyJ,cAAc,CAAG,CACb,CACI,QAAS,qBADb,CAEI,QAAS,KAAKtN,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CAAuD,KAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CAAqDnB,KAA5G,CAAoH,IAFjI,CADa,CAIV,CACC,QAAS,sBADV,CAEC,QAAS,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B2J,yBAA5B,CAAwD,KAAK7K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B2J,yBAA5B,CAAsDpB,KAA9G,CAAsH,IAFhI,CAJU,CAOV,CACC,QAAS,yBADV,CAEC,QAAS,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4J,4BAA5B,CAA2D,KAAK9K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4J,4BAA5B,CAAyDrB,KAApH,CAA4H,IAFtI,CAPU,CAUV,CACC,QAAS,sBADV,CAEC,QAAS,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAA2D,KAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyD6G,KAApH,CAA4H,IAFtI,CAVU,CAAjB,CAeH,CAhBD,IAgBO,CACH6D,cAAc,CAAG,CACb,CACI,QAAS,qBADb,CAEI,QAAS,KAAKtN,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CAAuD,KAAK5K,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0J,wBAA5B,CAAqDnB,KAA5G,CAAoH,IAFjI,CADa,CAIV,CACC,QAAS,sBADV,CAEC,QAAS,KAAKzJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAA2D,KAAK5C,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyD6G,KAApH,CAA4H,IAFtI,CAJU,CAAjB,CASH,CAED,mBACI,qDACI,2BAAK,SAAS,CAAC,4DAAf,eACI,oBAAC,KAAD,EAAO,GAAG,CAAE,EAAZ,eACI,oBAAC,mBAAD,EAAqB,cAAc,CAAE6D,cAArC,EADJ,CADJ,cAII,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,UAAD,EACI,gBAAgB,CAAE,KAAKtN,KAAL,CAAWnB,gBADjC,CAEI,UAAU,CAAE,KAAKmB,KAAL,CAAWF,KAAX,CAAiBoB,UAFjC,CAGI,QAAQ,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBM,QAH/B,CAII,UAAU,CAAE,KAAKJ,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAJhB,CAKI,UAAU,CAAE,KAAK1B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BqM,YAA5B,EAA4C,KAAKvN,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BsM,WALxF,CAMI,eAAe,CAAE,yBAACC,OAAD,QAAa,CAAA,MAAI,CAACzN,KAAL,CAAW3B,wBAAX,CAAoCoP,OAApC,CAA6C,MAAI,CAACrL,oBAAL,CAA0BC,KAAvE,CAA8E,MAAI,CAACrC,KAAL,CAAWF,KAAX,CAAiBM,QAA/F,CAAyG,MAAI,CAACJ,KAAL,CAAWF,KAAX,CAAiBoB,UAA1H,CAAb,EANrB,CAOI,cAAc,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAPhD,CAQI,eAAe,CAAC,yBARpB,CASI,SAAS,CAAC,cATd,CAUI,UAAU,CAAC,yBAVf,CAWI,WAAW,CAAC,gBAXhB,CAYI,UAAU,CAAC,KAZf,CAaI,SAAS,CAAE,KAAK8C,SAbpB,CAcI,WAAW,CAAEkJ,WAdjB,CAeI,qBAAqB,CAAE,KAAKtN,KAAL,CAAWmD,qBAftC,CAgBI,KAAK,CAAEiK,KAhBX,CAiBI,SAAS,CAAE,2BAAM,CAAA,MAAI,CAACjN,KAAL,CAAW7B,SAAX,CAAqB,QAArB,CAA+B,MAAI,CAAC6B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BwB,sBAA3D,CAAmF,MAAI,CAACN,oBAAL,CAA0BC,KAA7G,CACX,MAAI,CAACrC,KAAL,CAAWF,KAAX,CAAiBM,QADN,CACgB6M,KADhB,CACuB,MAAI,CAACjN,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0B,4BAA5B,CAAyDP,KADhF,CAAN,EAjBf,CAmBI,mBAAmB,CAAE,KAnBzB,CAoBI,UAAU,CAAE,KAAK2I,UApBrB,CAqBI,UAAU,CAAE,IArBhB,CAsBI,cAAc,CAAE,IAtBpB,CAuBI,cAAc,CAAE,KAAKlM,+BAvBzB,CAwBI,eAAe,CAAE,CACb,CACI,gCACI,oBAAC,YAAD,EACI,cAAc,CAAE,KAAKe,KAAL,CAAWS,cAAX,EAA6B,EADjD,CAEI,iBAAiB,CAAE,KAAKyJ,mBAF5B,CAGI,sBAAsB,CAAE,KAAKlK,KAAL,CAAW4M,mBAHvC,CAII,oBAAoB,CAAE,KAAKzM,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BkB,oBAJtD,CAKI,uBAAuB,CAAE,KAAKvC,KAAL,CAAW2K,oBALxC,CAMI,qBAAqB,CAAE,KAAKxK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B4C,qBANvD,CAOI,0BAA0B,CAAE,KAAKjE,KAAL,CAAW4K,uBAP3C,CAQI,wBAAwB,CAAE,KAAKzK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B8C,wBAR1D,CASI,uBAAuB,CAAE,KAAKnE,KAAL,CAAW6M,oBATxC,CAUI,qBAAqB,CAAE,KAAK1M,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B+I,qBAVvD,EAFR,CADa,CAxBrB,EADJ,CADJ,cA6CI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,EACK,KAAKjK,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA8CuM,MAAM,CAACC,OAAP,CAAe,KAAK3N,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA3C,EAA4DqF,MAA5D,CAAqE,CAArE,cAC3C,qDACI,oBAAC,IAAD,CAAM,MAAN,mBACI,oBAAC,YAAD,EAAc,KAAK,CAAC,QAApB,CAA6B,cAAc,CAAC,OAA5C,CAAoD,EAAE,CAAC,mBAAvD,EADJ,cAEI,oBAAC,IAAD,CAAM,KAAN,mBACI,0BAAI,SAAS,CAAC,oBAAd,EAAoC,KAAKxG,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CwC,YAAhF,CADJ,CAFJ,cAKI,oBAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,kCAAzB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,0BAAI,SAAS,CAAC,+BAAd,YACQ,KAAK3D,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,eAAN,CAA9B,CADR,aACkE,KAAK1B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4C+G,uBAD9G,eAEI,4BAAM,SAAS,4BAAsB0E,gBAAtB,gBAAf,EAEK,KAAK5M,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4CyM,cAFjD,CAFJ,CADJ,CADJ,cAUI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,qDACI,2BAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAhD,eAEI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,GAAD,CAAK,IAAL,EACI,MAAM,CAAE,KAAKhO,KAAL,CAAWmD,qBAAX,CAAiCmG,OAAjC,CAAyC0D,MAAzC,IAAqD,CAAC,CADlE,CAEI,SAAS,CAAC,kCAFd,CAGI,WAAU,KAAK7M,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAHd,CAII,WAAS,mBAJb,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC1B,KAAL,CAAW1B,yBAAX,CAAqC,MAAI,CAAC0B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,CAA4Ca,uBAAjF,CAA0G,MAAI,CAACI,oBAAL,CAA0BC,KAApI,CAA2I,MAAI,CAACrC,KAAL,CAAWF,KAAX,CAAiBM,QAA5J,CAAsK,MAAI,CAACJ,KAAL,CAAWF,KAAX,CAAiBoB,UAAvL,CAAmM2L,MAAnM,CAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE1P,WAAvB,CAAoC,KAAK,CAAE,KAAK6C,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAA3C,EANJ,CADJ,cASI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACI,WAAU,KAAK1B,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADd,CAEI,WAAS,mBAFb,CAGI,MAAM,CAAE,KAAK7B,KAAL,CAAWmD,qBAAX,CAAiCmG,OAAjC,CAAyClI,QAAzC,IAAuD,CAAC,CAHpE,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACmH,aAAL,CAAmBnH,QAAnB,CAAN,EAJb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAE3D,UAAvB,EALJ,CATJ,cA0BI,oBAAC,GAAD,CAAK,IAAL,EACI,MAAM,CAAE,KAAKuC,KAAL,CAAWmD,qBAAX,CAAiCmG,OAAjC,CAAyC/F,SAAzC,IAAwD,CAAC,CADrE,CAEI,SAAS,CAAC,kCAFd,CAGI,WAAU,KAAKpD,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,aAAN,CAA9B,CAHd,CAII,WAAS,mBAJb,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACyB,cAAL,CAAoBC,SAApB,CAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE/F,UAAvB,EANJ,CA1BJ,cAkCI,oBAAC,GAAD,CAAK,IAAL,EACI,MAAM,CAAE,KAAKwC,KAAL,CAAWmD,qBAAX,CAAiCmG,OAAjC,CAAyC6D,MAAzC,IAAqD,CAAC,CADlE,CAEI,SAAS,CAAC,kCAFd,CAGI,WAAU,KAAKhN,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAHd,CAII,WAAS,mBAJb,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC1B,KAAL,CAAWzB,WAAX,CAAuB,MAAI,CAAC6D,oBAAL,CAA0BC,KAAjD,CAAwD,MAAI,CAACrC,KAAL,CAAWF,KAAX,CAAiBM,QAAzE,CAAmF,MAAI,CAACJ,KAAL,CAAWF,KAAX,CAAiBoB,UAApG,CAAgH8L,MAAhH,CAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE5P,MAAvB,CAA+B,KAAK,CAAE,KAAK4C,KAAL,CAAWwB,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAAtC,EANJ,CAlCJ,CAFJ,CADJ,CADJ,CAVJ,CADJ,CALJ,CADJ,cAuEI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,GAAD,MACK,KAAK1B,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BuG,aAA5B,CAA4C,KAAKzH,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BuG,aAA5B,CAA0C5C,GAA1C,CAA8C,SAAA6E,IAAI,qBAC3F,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAEA,IAAI,CAAC9B,mBAA3B,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,MAAI,CAAC5H,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAA5B,WAA+CuI,IAAI,CAAC/B,UAApD,EAAf,CAFJ,CADJ,CAD2F,EAAlD,CAA5C,CAOG,EARR,CADJ,CADJ,cAaI,oBAAC,GAAD,EAAK,QAAQ,CAAE,IAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,EACK,KAAK3H,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA8B,KAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAA5B,CAAoDpF,MAApD,CAA6D,CAA7D,cAC3B,oBAAC,eAAD,EACI,GAAG,CAAC,WADR,CAEI,cAAc,CAAC,eAFnB,CAGI,kBAAkB,CAAE,KAAKyE,iBAAL,CAAuB,KAAKjL,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B0K,uBAAnD,CAHxB,CAII,UAAU,CAAE,CAAE1K,UAAU,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBoB,UAA/B,CAA2CoB,QAAQ,CAAE,KAAKtC,KAAL,CAAWF,KAAX,CAAiBM,QAAtE,CAAgF+B,oBAAoB,CAAE,KAAKC,oBAAL,CAA0BC,KAAhI,CAJhB,CAKI,cAAc,CAAE,KAAKrC,KAAL,CAAWrB,cAL/B,CAMI,mBAAmB,CAAE,yBANzB,CAOI,mBAAmB,CAAE,MAPzB,CAQI,WAAW,CAAEgN,YAAY,CAACtG,uBAR9B,EAD2B,CAYzB,EAZL,CAYU,EAbf,CADJ,CADJ,CAbJ,CAvEJ,CAD2C,CA0GzC,EA1GL,CA0GU,EA3Gf,CADJ,CADJ,CA7CJ,CAJJ,CADJ,CAqKK,KAAKrF,KAAL,CAAWF,KAAX,CAAiB3B,SAAjB,cACG,oBAAC,aAAD,EACI,WAAW,CAAE,KAAKkF,WADtB,CAEI,SAAS,CAAE,KAAKrD,KAAL,CAAWF,KAAX,CAAiBa,SAFhC,CAGI,UAAU,CAAE,oBAHhB,CAII,UAAU,CAAE,KAAKF,WAJrB,CAKI,IAAI,CAAE,KAAKT,KAAL,CAAWF,KAAX,CAAiB3B,SAL3B,CAMI,UAAU,CAAE,KAAK6B,KAAL,CAAWF,KAAX,CAAiBI,UANjC,CAOI,KAAK,CAAE,KAAKF,KAAL,CAAWF,KAAX,CAAiBY,SAP5B,CAQI,aAAa,CAAE,KAAKT,aARxB,CASI,YAAY,CAAE,KAAKD,KAAL,CAAWF,KAAX,CAAiBwM,YATnC,CAUI,WAAW,CAAE,KAAKtM,KAAL,CAAW5B,WAV5B,CAWI,cAAc,CAAE,KAAKyB,KAAL,CAAWS,cAAX,EAA6B,EAXjD,CAYI,eAAe,CAAE+M,eAZrB,CAaI,YAAY,CAAE,KAAKrN,KAAL,CAAWF,KAAX,CAAiBY,SAAjB,cACV,oBAAC,KAAD,EAAO,SAAS,CAAE,KAAKV,KAAL,CAAWF,KAAX,CAAiBa,SAAnC,CACI,eAAe,CAAE,KAAK4H,eAD1B,CAEI,UAAU,CAAE,KAAKvI,KAAL,CAAWF,KAAX,CAAiBI,UAFjC,CAGI,cAAc,CAAE,KAAKL,KAAL,CAAWS,cAAX,EAA6B,EAHjD,EADU,cAOV,oBAAC,iBAAD,EACI,cAAc,CAAE,KAAKT,KAAL,CAAWS,cAAX,CAA4B,KAAKT,KAAL,CAAWS,cAAvC,CAAwD,EAD5E,CAEI,YAAY,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiB4E,YAFnC,CAGI,oBAAoB,CAAE,KAAKtC,oBAH/B,CAII,eAAe,CAAE,KAAKmG,eAJ1B,CAKI,aAAa,CAAE,KAAKc,aALxB,CAMI,qBAAqB,CAAE,KAAKrJ,KAAL,CAAWF,KAAX,CAAiBgO,qBAN5C,CAOI,mBAAmB,CAAE,KAAK9N,KAAL,CAAWF,KAAX,CAAiBiO,mBAP1C,CAQI,mBAAmB,CAAE,KAAK/N,KAAL,CAAWF,KAAX,CAAiBkO,mBAR1C,CASI,kBAAkB,CAAE,KAAKhO,KAAL,CAAWF,KAAX,CAAiBmO,kBATzC,CAUI,uBAAuB,CAAE,KAAKjO,KAAL,CAAWF,KAAX,CAAiBoO,uBAV9C,CAWI,sBAAsB,CAAE,KAAKlO,KAAL,CAAWF,KAAX,CAAiBqO,sBAX7C,CAYI,qBAAqB,CAAE,KAAKnO,KAAL,CAAWF,KAAX,CAAiBsO,qBAZ5C,CAaI,oBAAoB,CAAE,KAAKpO,KAAL,CAAWF,KAAX,CAAiBuO,oBAb3C,CAcI,YAAY,CAAE,KAAKrO,KAAL,CAAWF,KAAX,CAAiBwO,YAdnC,CAeI,gBAAgB,CAAE,KAAKtO,KAAL,CAAWF,KAAX,CAAiByO,gBAfvC,CAgBI,eAAe,CAAE,KAAKvO,KAAL,CAAWF,KAAX,CAAiB0O,eAhBtC,CAiBI,UAAU,CAAE,KAAKxO,KAAL,CAAWF,KAAX,CAAiBwL,UAjBjC,CAkBI,aAAa,CAAE,KAAKtL,KAAL,CAAWF,KAAX,CAAiB2H,aAlBpC,CAmBI,SAAS,CAAE,KAAKzH,KAAL,CAAWF,KAAX,CAAiBa,SAnBhC,CAoBI,QAAQ,CAAE,KAAKyB,oBAAL,CAA0BC,KApBxC,CAqBI,uBAAuB,CAAE,KAAKrC,KAAL,CAAWF,KAAX,CAAiBgK,cArB9C,CAsBI,qBAAqB,CAAE,KAAKjK,KAAL,CAAWiE,qBAtBtC,CAuBI,0BAA0B,CAAE,KAAK9D,KAAL,CAAWF,KAAX,CAAiB2O,iBAvBjD,CAwBI,wBAAwB,CAAE,KAAK5O,KAAL,CAAWmE,wBAxBzC,CAyBI,eAAe,CAAE,KAAKhE,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,eAzBjD,CA0BI,UAAU,CAAE,KAAKnB,KAAL,CAAWF,KAAX,CAAiBoB,UA1BjC,EApBR,EADH,CAmDK,EAxNV,CADJ,CA4NH,C,kCAMD,4BAAmBwN,aAAnB,CAAkC,CAC9B,gBAC4E,KAAK7O,KADjF,CAAMS,cAAN,aAAMA,cAAN,CAAsB0C,qBAAtB,aAAsBA,qBAAtB,CAA6CuI,UAA7C,aAA6CA,UAA7C,CAAyDkB,mBAAzD,aAAyDA,mBAAzD,CACIjC,oBADJ,aACIA,oBADJ,CAC0BC,uBAD1B,aAC0BA,uBAD1B,CACmDiC,oBADnD,aACmDA,oBADnD,CAEA,GAAIiC,CAAAA,WAAW,CAAG,KAAlB,CACA,GAAI,KAAK3O,KAAL,CAAWF,KAAX,CAAiBQ,cAAjB,GAAoCoO,aAAa,CAAC5O,KAAd,CAAoBQ,cAA5D,CAA4E,CACxEA,cAAc,CAAG,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,cAAlC,CACAqO,WAAW,CAAG,IAAd,CACH,CACD,GAAI,KAAK3O,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAA1B,GAAwCyL,aAAa,CAAC5O,KAAd,CAAoBM,QAApB,CAA6B6C,SAAzE,CAAoF,CAChFD,qBAAqB,CAAG,EAAxB,CACA,GAAI,KAAKhD,KAAL,CAAWF,KAAX,CAAiBkD,qBAArB,CAA4C,CACxC,KAAKhD,KAAL,CAAWF,KAAX,CAAiBkD,qBAAjB,CAAuC,KAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAjE,GAA+EyK,MAAM,CAACkB,MAAP,CAAc,KAAK5O,KAAL,CAAWF,KAAX,CAAiBkD,qBAAjB,CAAuC,KAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAjE,CAAd,EAA2F4B,GAA3F,CAA+F,SAAA6E,IAAI,QAC9K1G,CAAAA,qBAAqB,CAACoC,IAAtB,CAA2BsE,IAAI,CAACxF,YAAhC,CAD8K,EAAnG,CAA/E,CAEH,CACDqH,UAAU,CAAG/N,aAAa,CAAC,KAAKwC,KAAL,CAAWF,KAAX,CAAiBkD,qBAAlB,CAAyC,KAAKhD,KAAL,CAAWF,KAAX,CAAiBM,QAAjB,CAA0B6C,SAAnE,CAA1B,CACA;AACA;AACA;AACA,GAAM4L,CAAAA,sBAAsB,CAAGnR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BiJ,eAA5B,EAA+C,EAAhD,CAAoD,sBAApD,CAA4E,cAA5E,CAA4F,eAA5F,CAA6G,WAA7G,CAA0H,KAA1H,CAAlD,CACA,GAAM2E,CAAAA,uBAAuB,CAAGpR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BmJ,gBAA5B,EAAgD,EAAjD,CAAqD,cAArD,CAAqE,cAArE,CAAqF,SAArF,CAAgG,WAAhG,CAA6G,KAA7G,CAAnD,CACA,GAAM0E,CAAAA,0BAA0B,CAAGrR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BqJ,mBAA5B,EAAmD,EAApD,CAAwD,iBAAxD,CAA2E,iBAA3E,CAA8F,SAA9F,CAAyG,WAAzG,CAAsH,KAAtH,CAAtD,CACA,GAAMyE,CAAAA,uBAAuB,CAAGtR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B+N,mBAA5B,EAAmD,EAApD,CAAwD,sBAAxD,CAAgF,qBAAhF,CAAuG,oBAAvG,CAA6H,YAA7H,CAA2I,KAA3I,CAAnD,CAEAxC,mBAAmB,CAAGoC,sBAAsB,CAAC9B,GAAvB,CAA2B,YAA3B,CAAtB,CACAvC,oBAAoB,CAAGsE,uBAAuB,CAAC/B,GAAxB,CAA4B,YAA5B,CAAvB,CACAtC,uBAAuB,CAAGsE,0BAA0B,CAAChC,GAA3B,CAA+B,YAA/B,CAA1B,CACAL,oBAAoB,CAAGsC,uBAAuB,CAACjC,GAAxB,CAA4B,YAA5B,CAAvB,CACA4B,WAAW,CAAG,IAAd,CACH,CACD,GAAI,KAAK3O,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,GAAgCwN,aAAa,CAAC5O,KAAd,CAAoBoB,UAAxD,CAAoE,CAChE;AACA;AACA;AAEA,GAAM4N,CAAAA,wBAAuB,CAAGpR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BmJ,gBAA5B,EAAgD,EAAjD,CAAqD,cAArD,CAAqE,cAArE,CAAqF,SAArF,CAAgG,WAAhG,CAA6G,KAA7G,CAAnD,CACA,GAAM0E,CAAAA,2BAA0B,CAAGrR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BqJ,mBAA5B,EAAmD,EAApD,CAAwD,iBAAxD,CAA2E,iBAA3E,CAA8F,SAA9F,CAAyG,WAAzG,CAAsH,KAAtH,CAAtD,CACA,GAAMyE,CAAAA,wBAAuB,CAAGtR,mBAAmB,CAAC,KAAKsC,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4B+N,mBAA5B,EAAmD,EAApD,CAAwD,sBAAxD,CAAgF,qBAAhF,CAAuG,oBAAvG,CAA6H,YAA7H,CAA2I,KAA3I,CAAnD,CAEAzE,oBAAoB,CAAGsE,wBAAuB,CAAC/B,GAAxB,CAA4B,YAA5B,CAAvB,CACAtC,uBAAuB,CAAGsE,2BAA0B,CAAChC,GAA3B,CAA+B,YAA/B,CAA1B,CACAL,oBAAoB,CAAGsC,wBAAuB,CAACjC,GAAxB,CAA4B,YAA5B,CAAvB,CACA4B,WAAW,CAAG,IAAd,CACH,CACD,GAAIA,WAAJ,CAAiB,CACb,KAAKvF,QAAL,CAAc,CACV9I,cAAc,CAAdA,cADU,CACM0C,qBAAqB,CAArBA,qBADN,CAC6BuI,UAAU,CAAVA,UAD7B,CACyCkB,mBAAmB,CAAnBA,mBADzC,CAEVjC,oBAAoB,CAApBA,oBAFU,CAEYC,uBAAuB,CAAvBA,uBAFZ,CAEqCiC,oBAAoB,CAApBA,oBAFrC,CAAd,EAIH,CACJ,C,oCA4LD,+BAAuB,CACnB,GAAM9L,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE9B,cADK,CAEf+B,IAAI,CAAE,CACFI,UAAU,CAAE,EADV,CACchB,UAAU,CAAEsD,SAD1B,CACqC7C,SAAS,CAAE,IADhD,CACsDuO,SAAS,CAAE1L,SADjE,CAFS,CAAnB,CAMA,KAAKxD,KAAL,CAAW5B,WAAX,CAAuBwC,UAAvB,EACH,C,0CApgCD,kCAAgCZ,KAAhC,CAAuCH,KAAvC,CAA8C,CAE1C,GAAIG,KAAK,CAACF,KAAN,CAAYwM,YAAZ,GAA6B,EAAjC,CAAqC,CACjC7P,KAAK,CAAC8E,IAAN,CAAWvB,KAAK,CAACF,KAAN,CAAYwM,YAAvB,EACAtM,KAAK,CAACF,KAAN,CAAYwM,YAAZ,CAA2B,EAA3B,CACH,CAED,GAAItM,KAAK,CAACF,KAAN,CAAYyM,KAAZ,GAAsB1M,KAAK,CAAC0M,KAAhC,CAAuC,CACnC9P,KAAK,CAAC8P,KAAN,CAAYvM,KAAK,CAACF,KAAN,CAAYyM,KAAxB,EACAvM,KAAK,CAACF,KAAN,CAAYyM,KAAZ,CAAoB,EAApB,CACH,CACD,GAAIvM,KAAK,CAACF,KAAN,CAAYQ,cAAZ,GAA+BkD,SAAnC,CAA8C,CAC1C,MAAO,CAAElD,cAAc,CAAE,EAAlB,CAAP,CACH,CACD,MAAO,KAAP,CACH,C,4BArCwBjE,KAAK,CAAC8S,S,EAmnCnC,cAAe7S,CAAAA,OAAO,CAACsD,eAAD,CAClB,CACIlD,WAAW,CAAXA,WADJ,CACiBC,UAAU,CAAVA,UADjB,CAC6BwB,SAAS,CAATA,SAD7B,CACwCC,WAAW,CAAXA,WADxC,CACqDC,wBAAwB,CAAxBA,wBADrD,CAC+EC,yBAAyB,CAAzBA,yBAD/E,CAC0GC,WAAW,CAAXA,WAD1G,CACuHG,eAAe,CAAfA,eADvH,CAEMD,uBAAuB,CAAvBA,uBAFN,CAE+BG,cAAc,CAAdA,cAF/B,CAE+CD,cAAc,CAAdA,cAF/C,CAE+DH,UAAU,CAAVA,UAF/D,CAE2EK,gBAAgB,CAAhBA,gBAF3E,CAE6FC,+BAA+B,CAA/BA,+BAF7F,CADkB,CAAP,CAKVvC,UAAU,CAACwD,cAAD,CALA,CAAf","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { callService, crudMaster } from '../../../actions';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faCopy, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../../components/CommonScript'\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport Esign from '../../audittrail/Esign';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddApprovalConfig from './AddApprovalConfig';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\r\nimport {\r\n    openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, setDefault, validateEsignCredential,\r\n    getFilterChange, getRoleDetails, getCopySubType, filterColumnData, getApprovalConfigurationVersion\r\n} from '../../../actions'\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { ApprovalSubType, transactionStatus } from '../../../components/Enumeration';\r\nimport FilterStatusTab from './FilterStatusTab';\r\nimport ValidationStatusTab from './ValidationStatusTab';\r\nimport UserRoleAccordion from './UserRoleAccordion';\r\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\r\nimport DecisionStatusTab from './DecisionStatusTab';\r\nimport ActionStatusTab from './ActionStatusTab';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass ApprovalConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const dataState = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n        this.state = {\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            openModal: false, masterStatus: \"\", error: \"\",\r\n            approvalConfigCode: -1,\r\n            dataResult: [], dataState: dataState, selectedRecord: {},\r\n            ApprovalsubtypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            UserRoleTemplateList: []\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\":\r\n                {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    handleClose = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {}\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteApprovalConfigVersion = (deleteId) => {\r\n\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        }\r\n        else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\r\n                    \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"delete\"\r\n\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\",\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n    approveVersion = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\",\r\n                    \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"approve\"\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let postParam = undefined;\r\n        if (this.props.Login.operation === \"copy\") {\r\n\r\n            const subTypeCode = this.approvalSubTypeValue.value;\r\n\r\n            const inputData = {\r\n                approvalconfigversion: {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: subTypeCode,\r\n                    sversionname: this.state.selectedRecord.sversionname,\r\n                    nregtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regtype'] ? this.state.selectedRecord['regtype'].value : this.state.registrationTypeValue[0].value : -1,\r\n                    nregsubtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regsubtype'] ? this.state.selectedRecord['regsubtype'].value : this.state.registrationSubTypeValue[0].value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1\r\n                }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam, searchRef: this.searchRef,\r\n                operation: \"copy\"\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"copy\"\r\n                    }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n\r\n            } else {\r\n\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            let bool = true;\r\n            let errormessage = [];\r\n            let inputData = {};\r\n            let approvalconfigrole = [];\r\n            let filterDetailCount = 0;\r\n            let validationDetailCount = 0;\r\n            let decisionDetailCount = 0;\r\n            let actionDetailCount = 0;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData['napprovalconfigcode'] = this.props.Login.masterData.realApprovalConfigCode\r\n            inputData['ntreeversiontempcode'] = this.props.Login.userRoleTree[0].ntreeversiontempcode\r\n            inputData['napprovalsubtypecode'] = this.approvalSubTypeValue.value\r\n            let isAutoApprovalVersion = this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? true:false;\r\n            this.props.Login.userRoleTree.map(role => {\r\n                let approvalconfigrolefilterdetail = [];\r\n                let approvalconfigrolevalidationdetail = [];\r\n                let approvalconfigroledecisiondetail = [];\r\n                let approvalconfigroleactiondetail = [];\r\n                //to fill role details\r\n                if (this.state.selectedRecord[role.nuserrolecode]) {\r\n                    approvalconfigrole.push({\r\n                        napprovalconfigrolecode: this.props.Login.operation === 'create' ? 0 : role.napprovalconfigrolecode,\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        ntreeversiontempcode: role.ntreeversiontempcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nchecklistversioncode: this.state.selectedRecord[role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode].checklist ?\r\n                            this.state.selectedRecord[role.nuserrolecode].checklist : transactionStatus.NA : transactionStatus.NA,\r\n                        npartialapprovalneed: this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode] : transactionStatus.YES,\r\n                        nsectionwiseapprovalneed: this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] === transactionStatus.NO ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] ?\r\n                                this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] : transactionStatus.NO\r\n                            : transactionStatus.NO,\r\n                        // nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\r\n                        // nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\r\n                        // nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\r\n                        // nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\r\n                        // nlevelno: role.nlevelno,\r\n                        nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode] ?\r\n                        this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode] : transactionStatus.NO,\r\n                    nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode] ?\r\n                        this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode] : transactionStatus.NO,\r\n                    nretestneed: this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode] ?\r\n                        this.state.selectedRecord[role.nuserrolecode]['Retest_'+role.nuserrolecode] : transactionStatus.NO,\r\n                    nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode] ?\r\n                        this.state.selectedRecord[role.nuserrolecode]['Recalc_'+role.nuserrolecode] : transactionStatus.NO,\r\n                    nlevelno: role.nlevelno,\r\n                        napprovalstatuscode: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\r\n\r\n                        nautoapproval: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? transactionStatus.YES :\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] : transactionStatus.NO,\r\n\r\n                        nautoapprovalstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].approvalstatus ?\r\n                                this.state.selectedRecord[role.nuserrolecode].approvalstatus\r\n                                : transactionStatus.NA\r\n                        ,\r\n                        nautodescisionstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] : transactionStatus.PASS\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].decisionstatus && this.state.selectedRecord[role.nuserrolecode].decisionstatus.length > 0 ?\r\n                                this.state.selectedRecord[role.nuserrolecode].decisionstatus[0] : transactionStatus.DRAFT\r\n                        // :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\r\n                        // :transactionStatus.NA\r\n                        ,\r\n                        ncorrectionneed: this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION'] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_CORRECTION'] : transactionStatus.NO,\r\n                        nesignneed: this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['e-Sign_'+role.nuserrolecode] : transactionStatus.NO,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n\r\n                    })\r\n\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].filterstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].filterstatus.map(filterValue => {\r\n                            filterDetailCount++;\r\n                            approvalconfigrolefilterdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: filterValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].validationstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].validationstatus.map(validationValue => {\r\n                            validationDetailCount++;\r\n                            approvalconfigrolevalidationdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: validationValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].decisionstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(decisionValue => {\r\n                            decisionDetailCount++;\r\n                            approvalconfigroledecisiondetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: decisionValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            });\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`] ? this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`].map(actionValue => {\r\n                        actionDetailCount++;\r\n                        approvalconfigroleactiondetail.push({\r\n                            napprovalconfigcode: role.napprovalconfigcode,\r\n                            nuserrolecode: role.nuserrolecode,\r\n                            nlevelno: role.nlevelno,\r\n                            ntransactionstatus: actionValue,\r\n                            nstatus: transactionStatus.ACTIVE\r\n                        });\r\n                        return null;\r\n                    }) : approvalconfigroleactiondetail.push();\r\n                    actionDetailCount++;\r\n                    approvalconfigroleactiondetail.push({\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nlevelno: role.nlevelno,\r\n                        ntransactionstatus: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : -1,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    });\r\n\r\n                    inputData[`approvalconfigrolefilterdetail_${[role.nuserrolecode]}`] = approvalconfigrolefilterdetail\r\n                    inputData[`approvalconfigrolevalidationdetail_${[role.nuserrolecode]}`] = approvalconfigrolevalidationdetail\r\n                    inputData[`approvalconfigroledecisiondetail_${[role.nuserrolecode]}`] = approvalconfigroledecisiondetail\r\n                    inputData[`approvalconfigroleactiondetail_${[role.nuserrolecode]}`] = approvalconfigroleactiondetail\r\n                    bool = bool ? true : false\r\n                    return null;\r\n                } else {\r\n                    bool = false\r\n                    errormessage.push(role.suserrolename)\r\n                    return false;\r\n                }\r\n            })//role map\r\n\r\n            inputData['approvalconfigrole'] = approvalconfigrole\r\n            inputData['rolecount'] = this.props.Login.userRoleTree.length\r\n            inputData['filterdetailcount'] = filterDetailCount\r\n            inputData['validationdetailcount'] = validationDetailCount\r\n            inputData['decisiondetailcount'] = decisionDetailCount\r\n            inputData['actioncount'] = actionDetailCount\r\n            inputData['ntreeversiontempcode'] = this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1;\r\n            let finalInputData = {}\r\n            let inputParam = {}\r\n            if (bool) {\r\n                if (this.props.Login.operation === \"update\") {\r\n                    // edit\r\n                    postParam = { inputListName: \"versionData\", selectedObject: \"selectedVersion\", primaryKeyField: \"napproveconfversioncode\" };\r\n                   \r\n        const temp1= {};\r\n        this.props.Login.versionConfig.map(temp=>{\r\n                        if(temp.ntranscode===81)\r\n                        {\r\n                            temp1['nneedautoapproval']= this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if(temp.ntranscode===85)\r\n                        {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n                \r\n\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                      //  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                      //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT ): transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                else {\r\n\r\n\r\n                    inputData['approveconfigversion'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napproveconfversionno: -1,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        ntreeversiontempcode: this.props.Login.userRoleTree[0].ntreeversiontempcode,\r\n                        sapproveconfversiondesc: '-',\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    }\r\n                    const temp1= {};\r\n                    this.props.Login.versionConfig.map(temp=>{\r\n                                    if(temp.ntranscode===81)\r\n                                    {\r\n                                        temp1['nneedautoapproval']= this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                                    }\r\n                                    else if(temp.ntranscode===85)\r\n                                    {\r\n                                        temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                                    }\r\n            \r\n            \r\n            \r\n                                })\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                       // nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                      //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS :this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                finalInputData['approvalconfigversion'] = inputData\r\n                finalInputData['userinfo'] = this.props.Login.userInfo\r\n                inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: finalInputData, saveType, formRef,\r\n                    operation: this.props.Login.operation,\r\n                    postParam, searchRef: this.searchRef\r\n\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                            openModal: true, operation: this.props.Login.operation, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FILLDETAILSFOR\" }) + \" \" + errormessage.join(\",\"))\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let versionStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED) {\r\n            versionStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            versionStatusCSS = \"outline-danger\";\r\n        }\r\n        const editId = this.state.controlMap.has(\"EditApprovalConfig\") && this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteApprovalConfig\") && this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode\r\n        const approveId = this.state.controlMap.has(\"ApproveApprovalConfig\") && this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode\r\n        const copyId = this.state.controlMap.has(\"CopyApprovalConfig\") && this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode\r\n        const addId = this.state.controlMap.has(\"AddApprovalConfig\") && this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode\r\n\r\n        this.approvalSubTypeValue = this.props.Login.masterData.realApprovalSubTypeValue ?\r\n            this.props.Login.masterData.realApprovalSubTypeValue\r\n            : this.props.Login.masterData.approvalSubTypeValue ?\r\n                this.props.Login.masterData.approvalSubTypeValue\r\n                : this.props.Login.masterData.approvalsubtype ? this.props.Login.masterData.approvalsubtype.length > 0 ?\r\n                    {\r\n                        value: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].napprovalsubtypecode,\r\n                        label: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].ssubtypename\r\n                    } : {} : {};\r\n\r\n        const filterParam = {\r\n            inputListName: \"versionData\",\r\n            selectedObject: \"selectedVersion\",\r\n            primaryKeyField: \"napproveconfversioncode\",\r\n            searchFieldList: [\"sversionname\", \"sversionstatus\", \"sapproveconfversiondesc\"],\r\n            fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n            fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\",\r\n                \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n        };\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n\r\n        const mandatoryFields = [{ \"idsName\": \"IDS_VERSIONNAME\", \"dataField\": \"sversionname\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }]\r\n        this.props.Login.operation !== 'copy' && this.props.Login.userRoleTree && this.props.Login.userRoleTree.map(role => {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_APPROVALSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `approvalstatus_${role.nuserrolecode}`, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_FILTERSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `filterstatus_${role.nuserrolecode}`, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"  });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_VALIDATIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `validationstatus_${role.nuserrolecode}` , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            // if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\r\n            //     mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\r\n            // }\r\n            return null;\r\n        });\r\n        let breadCrumbData = []\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ];\r\n        } else {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ]\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Affix top={53}>\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    </Affix>\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.versionData}\r\n                                getMasterDetail={(version) => this.props.getApprovalConfigVersion(version, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedVersion}\r\n                                primaryKeyField=\"napproveconfversioncode\"\r\n                                mainField=\"sversionname\"\r\n                                firstField=\"sapproveconfversiondesc\"\r\n                                secondField=\"sversionstatus\"\r\n                                isIDSField=\"Yes\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                openModal={() => this.props.openModal(\"create\", this.props.Login.masterData.realApprovalConfigCode, this.approvalSubTypeValue.value\r\n                                    , this.props.Login.userInfo, addId, this.props.Login.masterData.realTreeVersionTemplateValue.value)}\r\n                                needAccordianFilter={false}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.getApprovalConfigurationVersion}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_SAMPLEFILTER\":\r\n                                            <SampleFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                filterComboChange={this.onFilterComboChange}\r\n                                                approvalSubTypeOptions={this.state.ApprovalsubtypeList}\r\n                                                approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                                                registrationTypeOptions={this.state.RegistrationTypeList}\r\n                                                registrationTypeValue={this.props.Login.masterData.registrationTypeValue}\r\n                                                registrationSubTypeOptions={this.state.RegistrationSubTypeList}\r\n                                                registrationSubTypeValue={this.props.Login.masterData.registrationSubTypeValue}\r\n                                                userroleTemplateOptions={this.state.UserRoleTemplateList}\r\n                                                userroleTemplateValue={this.props.Login.masterData.userroleTemplateValue}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.selectedVersion ? Object.entries(this.props.Login.masterData.selectedVersion).length > 0 ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedVersion.sversionname}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"readonly-text font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={8} >\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSIONNO\" })}:${this.props.Login.masterData.selectedVersion.sapproveconfversiondesc}`}\r\n                                                                <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                                                                    {/* <i class=\"fas fa-check \"></i>  */}\r\n                                                                    {this.props.Login.masterData.selectedVersion.sversionstatus}\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={4}>\r\n                                                            <>\r\n                                                                <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                                    <div className=\"d-inline \">\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                            data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.getApprovalConfigEditData(this.props.Login.masterData.selectedVersion.napproveconfversioncode, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, editId)}>\r\n                                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            data-for=\"tooltip_list_wrap\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            {/* <ConfirmDialog\r\n                                                                        name=\"deleteMessage\"\r\n                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                        icon={faTrashAlt}\r\n                                                                        //title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        handleClickDelete={() => this.deleteApprovalConfigVersion(deleteId)}\r\n                                                                    /> */}\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                            data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.approveVersion(approveId)}>\r\n                                                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                            data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.copyVersion(this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, copyId)}>\r\n                                                                            <FontAwesomeIcon icon={faCopy} title={this.props.intl.formatMessage({ id: \"IDS_COPY\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                    </div>\r\n                                                                    {/* </Tooltip> */}\r\n                                                                </div>\r\n                                                            </>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card.Text>\r\n                                                    <Row>\r\n                                                        {this.props.Login.masterData.versionConfig ? this.props.Login.masterData.versionConfig.map(item =>\r\n                                                            <Col md=\"6\">\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id={item.stransdisplaystatus} /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedVersion[`${item.ntranscode}`]}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                        ) : \"\"}\r\n                                                    </Row>\r\n                                                </Card.Text>\r\n                                                <Row oGutters={true}>\r\n                                                    <Col md={12}>\r\n                                                        <Card className=\"at-tabs\">\r\n                                                            {this.props.Login.masterData ? this.props.Login.masterData.approvalconfigRoleNames.length > 0 ?\r\n                                                                <CustomAccordion\r\n                                                                    key=\"UserRoles\"\r\n                                                                    accordionTitle=\"suserrolename\"\r\n                                                                    accordionComponent={this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames)}\r\n                                                                    inputParam={{ masterData: this.props.Login.masterData, userinfo: this.props.Login.userInfo, napprovalsubtypecode: this.approvalSubTypeValue.value }}\r\n                                                                    accordionClick={this.props.getRoleDetails}\r\n                                                                    accordionPrimaryKey={\"napprovalconfigrolecode\"}\r\n                                                                    accordionObjectName={\"role\"}\r\n                                                                    selectedKey={selectedRole.napprovalconfigrolecode}\r\n\r\n                                                                />\r\n                                                                : \"\" : \"\"}\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\" : \"\"}\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal\r\n                        onSaveClick={this.onSaveClick}\r\n                        operation={this.props.Login.operation}\r\n                        screenName={\"IDS_APPROVALCONFIG\"}\r\n                        closeModal={this.handleClose}\r\n                        show={this.props.Login.openModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <AddApprovalConfig\r\n                                selectedRecord={this.state.selectedRecord ? this.state.selectedRecord : {}}\r\n                                userRoleTree={this.props.Login.userRoleTree}\r\n                                approvalSubTypeValue={this.approvalSubTypeValue}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                onComboChange={this.onComboChange}\r\n                                approvalStatusOptions={this.props.Login.approvalStatusOptions}\r\n                                approvalStatusValue={this.props.Login.approvalStatusValue}\r\n                                filterStatusOptions={this.props.Login.filterStatusOptions}\r\n                                filterStatusValues={this.props.Login.filterStatusValues}\r\n                                validationStatusOptions={this.props.Login.validationStatusOptions}\r\n                                validationStatusValues={this.props.Login.validationStatusValues}\r\n                                decisionStatusOptions={this.props.Login.decisionStatusOptions}\r\n                                decisionStatusValues={this.props.Login.decisionStatusValues}\r\n                                actionStatus={this.props.Login.actionStatus}\r\n                                checklistOptions={this.props.Login.checklistOptions}\r\n                                checklistValues={this.props.Login.checklistValues}\r\n                                roleConfig={this.props.Login.roleConfig}\r\n                                versionConfig={this.props.Login.versionConfig}\r\n                                operation={this.props.Login.operation}\r\n                                nsubType={this.approvalSubTypeValue.value}\r\n                                registrationTypeOptions={this.props.Login.optCopyRegType}\r\n                                registrationTypeValue={this.state.registrationTypeValue}\r\n                                registrationSubTypeOptions={this.props.Login.optCopyRegSubType}\r\n                                registrationSubTypeValue={this.state.registrationSubTypeValue}\r\n                                selectedVersion={this.props.Login.masterData.selectedVersion}\r\n                                masterData={this.props.Login.masterData}\r\n\r\n                            />}\r\n                    />\r\n                    : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteApprovalConfigVersion(deleteId));\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n            RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList } = this.state;\r\n        let updateState = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            // const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\r\n            // const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\r\n            // const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\r\n            const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            //this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \r\n            // RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\r\n            // RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\r\n\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n                RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList\r\n            })\r\n        }\r\n    }\r\n    onInputOnChange = (event, role, action) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = event.target.name.split('_')[0] + '_' + event.target.name.split('_')[1]\r\n            let actionArray = selectedRecord[`actionStatus_${role.nuserrolecode}`] || [];\r\n            if (event.target.type === 'checkbox') {\r\n                if (action) {\r\n                    if (event.target.checked) {\r\n                        actionArray.push(action.ntranscode);\r\n                    } else {\r\n                        actionArray.splice(actionArray.indexOf(action.ntranscode), 1)\r\n                    }\r\n                    selectedRecord[`actionStatus_${role.nuserrolecode}`] = actionArray\r\n                }\r\n                roleDetails[fieldName] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO\r\n                if (fieldName === 'IDS_PARTIALAPPROVAL' && roleDetails[\"IDS_PARTIALAPPROVAL\"] && roleDetails[\"IDS_PARTIALAPPROVAL\"] === transactionStatus.YES) {\r\n                    roleDetails['IDS_SECTIONWISEAPPROVE'] = transactionStatus.NO\r\n                }\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            else {\r\n                roleDetails[fieldName] = event.target.value\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, role, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = comboName.split('_')[0]\r\n            let filterArray = [];\r\n            roleDetails[fieldName] = [];\r\n            if (comboData) {\r\n                selectedRecord[comboName] = comboData\r\n                if (fieldName === 'checklist') {\r\n                    selectedRecord[`checklistVersion_${role.nuserrolecode}`] = { label: comboData.item.schecklistversionname, value: comboData.item.nchecklistversioncode }\r\n                    filterArray = comboData.item.nchecklistversioncode;\r\n\r\n                } else {\r\n                    if (Array.isArray(comboData)) {\r\n                        comboData.map(item => {\r\n                            return (filterArray.push(item.value))\r\n                        })\r\n                    } else {\r\n                        filterArray = comboData.value;\r\n                    }\r\n                }\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            } else {\r\n                selectedRecord[comboName] = []\r\n                filterArray = []\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            selectedRecord[comboName] = comboData\r\n\r\n            if (comboName === 'regtype') {\r\n                this.props.getCopySubType(comboData, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType)\r\n            } else {\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n        }\r\n    }\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        let approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue;\r\n        let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\r\n        let registrationSubTypeValue;\r\n\r\n        if (comboData) {\r\n\r\n            selectedRecord[fieldName] = comboData.value;\r\n            let inputData = {};\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                approvalSubTypeValue = comboData\r\n                inputData = { nFlag: 2, napprovalsubtypecode: comboData.value, userinfo: this.props.Login.userInfo };\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = comboData\r\n                inputData = { nFlag: 3, napprovalsubtypecode: approvalSubTypeValue.value, nregtypecode: comboData.value, userinfo: this.props.Login.userInfo }\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = comboData\r\n                inputData = {\r\n                    nFlag: 4, napprovalsubtypecode: approvalSubTypeValue.value,\r\n                    nregtypecode: registrationTypeValue.value,\r\n                    nregsubtypecode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            if (fieldName === 'ntreeversiontempcode') {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            userroleTemplateValue: comboData\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                const oldState = {\r\n                    approvalsubtype: this.props.Login.masterData.approvalsubtype,\r\n                    registrationtype: this.props.Login.masterData.registrationType,\r\n                    registrationsubtype: this.props.Login.masterData.registrationSubType,\r\n                    approvalSubTypeValue,\r\n                    registrationTypeValue,\r\n                    registrationSubTypeValue,\r\n                    RegistrationTypeList: this.state.RegistrationTypeList,\r\n                    RegistrationSubTypeList: this.state.RegistrationSubTypeList,\r\n                }\r\n                let inputParamData = { inputData, masterData: this.props.Login.masterData }\r\n                this.props.getFilterChange(inputParamData, oldState)\r\n            }\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = \"\";\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = []\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else {\r\n\r\n                registrationSubTypeValue = []\r\n\r\n            }\r\n\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n        // this.searchRef.current.value = \"\"\r\n\r\n    }\r\n    getApprovalConfigurationVersion = () => {\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n            this.searchRef.current.value = \"\"\r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n\r\n            }\r\n            const inputData = {\r\n                napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                    this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\r\n                ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            let inputParamData = { inputData, masterData }\r\n            this.props.getApprovalConfigurationVersion(inputParamData);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        // this.searchRef.current.value = \"\";\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"approvalconfig\",\r\n        //     methodUrl: \"ApprovalConfigFilter\",\r\n        //     userInfo: this.props.Login.userInfo,\r\n        //     displayName: \"IDS_APPROVALCONFIG\"\r\n        // };\r\n        // this.props.callService(inputParam);\r\n        this.getApprovalConfigurationVersion()\r\n    }\r\n    userRoleAccordion = (userRoleList) => {\r\n        const accordionMap = new Map();\r\n        userRoleList = sortData(userRoleList, 'ascending', 'nlevelno')\r\n        userRoleList.map((role) =>\r\n            accordionMap.set(role.napprovalconfigrolecode,\r\n                <UserRoleAccordion\r\n                    role={role}\r\n                    roleConfig={this.props.Login.masterData.roleConfig}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    controlMap={this.state.controlMap}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                    deleteRecord={this.deleteRecord}\r\n                    tabDetail={this.tabDetail(role)}\r\n                    onTabOnChange={this.onTabOnChange}\r\n                />)\r\n        )\r\n        return accordionMap;\r\n    }\r\n    tabDetail = () => {\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILTERSTATUS\",\r\n            <FilterStatusTab\r\n                filterData={process(this.props.Login.masterData.roleFilters ? sortData(this.props.Login.masterData.roleFilters) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n            />\r\n        )\r\n\r\n        tabMap.set(\"IDS_VALIDATIONSTATUS\",\r\n            <ValidationStatusTab\r\n                validationStatus={process(this.props.Login.masterData.roleValidations ? sortData(this.props.Login.masterData.roleValidations) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n            />)\r\n        if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\r\n            tabMap.set(\"IDS_DECISIONSTATUS\",\r\n                <DecisionStatusTab\r\n                    decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\r\n                        { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                    setDefault={this.props.setDefault}\r\n                    selectedRole={selectedRole}\r\n                    napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                />)\r\n        }\r\n        tabMap.set(\"IDS_ACTIONSTATUS\",\r\n            <ActionStatusTab\r\n                actionData={process(this.props.Login.masterData.roleActions ? sortData(this.props.Login.masterData.roleActions) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n            />)\r\n        return tabMap;\r\n    }\r\n    onTabOnChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, getFilterChange\r\n        , validateEsignCredential, getCopySubType, getRoleDetails, setDefault, filterColumnData, getApprovalConfigurationVersion\r\n    })\r\n    (injectIntl(ApprovalConfig));"]},"metadata":{},"sourceType":"module"}