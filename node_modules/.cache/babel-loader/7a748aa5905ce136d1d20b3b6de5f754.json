{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\ResultEntryBySample\\\\ResultEntryResultsTab.jsx\";\nimport React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport { process } from '@progress/kendo-data-query';\nimport ResultGrid from '../resultgrid/ResultGrid';\nimport { sortData } from '../../components/CommonScript';\n\nclass ResultEntryResultsTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      testParameters: this.props.masterData.TestParameters //sortData(this.props.masterData.TestParameters || [],'ascending','ntransactionresultcode')\n\n    };\n  }\n\n  render() {\n    const extractedColumnList = [];\n\n    if (this.props.masterData[\"RegSubTypeValue\"] && this.props.masterData[\"RegSubTypeValue\"].nneedsubsample) {\n      extractedColumnList.push({\n        \"idsName\": \"IDS_SAMPLEARNO\",\n        \"dataField\": \"ssamplearno\",\n        \"width\": \"155px\"\n      });\n    } else {\n      extractedColumnList.push({\n        \"idsName\": \"IDS_ARNUMBER\",\n        \"dataField\": \"sarno\",\n        \"width\": \"155px\"\n      });\n    }\n\n    extractedColumnList.push( //{\"idsName\":\"IDS_ARNUMBER\",\"dataField\":\"sarno\", \"width\": \"155px\"},\n    // {\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"width\": \"155px\"},\n    {\n      \"idsName\": \"IDS_TESTNAME\",\n      \"dataField\": \"stestsynonym\",\n      \"width\": \"155px\"\n    }, {\n      \"idsName\": \"IDS_PARAMETERNAME\",\n      \"dataField\": \"sparametersynonym\",\n      \"width\": \"155px\"\n    }, {\n      \"idsName\": \"IDS_RESULTS\",\n      \"dataField\": \"sresult\",\n      \"width\": \"125px\",\n      \"fieldType\": \"attachment\"\n    }, {\n      \"idsName\": \"IDS_FINALRESULT\",\n      \"dataField\": \"sfinal\",\n      \"width\": \"125px\",\n      \"fieldType\": \"attachment\"\n    }, {\n      \"idsName\": \"IDS_CHECKLIST\",\n      \"dataField\": \"schecklistname\",\n      \"width\": \"125px\",\n      \"fieldType\": \"checklistview\",\n      \"checklistKey\": \"nchecklistversioncode\"\n    }, // { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"300px\" },\n    {\n      \"idsName\": \"IDS_PASSFLAG\",\n      \"dataField\": \"sgradename\",\n      \"width\": \"110px\",\n      \"fieldType\": \"gradeColumn\"\n    }, {\n      \"idsName\": \"IDS_ENFORCESTATUS\",\n      \"dataField\": \"senforcestatus\",\n      \"width\": \"150px\"\n    }); //  {/* Don't delete these below commented object, because this feature is needed for Agaram LIMS */}\n\n    const detailedFieldList = [{\n      \"idsName\": \"IDS_PARAMETERTYPE\",\n      \"dataField\": \"sparametertypename\"\n    }, // { \"idsName\": \"IDS_MINA\", \"dataField\": \"smina\" },\n    // { \"idsName\": \"IDS_MAXA\", \"dataField\": \"smaxa\" },\n    {\n      \"idsName\": \"IDS_MINB\",\n      \"dataField\": \"sminb\"\n    }, {\n      \"idsName\": \"IDS_MAXB\",\n      \"dataField\": \"smaxb\"\n    }, // { \"idsName\": \"IDS_MINLOD\", \"dataField\": \"sminlod\" },\n    // { \"idsName\": \"IDS_MAXLOD\", \"dataField\": \"smaxlod\" },\n    // { \"idsName\": \"IDS_MINLOQ\", \"dataField\": \"sminloq\" },\n    // { \"idsName\": \"IDS_MAXLOQ\", \"dataField\": \"smaxloq\" },\n    {\n      \"idsName\": \"IDS_ENTERBY\",\n      \"dataField\": \"senteredby\"\n    }, {\n      \"idsName\": \"IDS_ENTERROLE\",\n      \"dataField\": \"suserrolename\"\n    }, {\n      \"idsName\": \"IDS_ENTERDATE\",\n      \"dataField\": \"sentereddate\"\n    }, {\n      \"idsName\": \"IDS_SPECDESCRIPTION\",\n      \"dataField\": \"sspecdesc\"\n    }, {\n      \"idsName\": \"IDS_PARAMETERCOMMENTS\",\n      \"dataField\": \"sresultcomment\"\n    }];\n    const attachmentParam = {\n      classUrl: \"approval\",\n      operation: \"view\",\n      methodUrl: \"Attachment\",\n      userinfo: this.props.userInfo\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ResultGrid, {\n      primaryKeyField: \"ntransactionresultcode\",\n      data: this.props.masterData.TestParameters,\n      dataResult: process(this.props.masterData.TestParameters || [], this.props.dataState),\n      dataState: this.props.dataState,\n      dataStateChange: this.props.dataStateChange,\n      expandField: \"expanded\",\n      detailedFieldList: detailedFieldList,\n      extractedColumnList: extractedColumnList,\n      editParam: this.props.parameterParam,\n      checklistParam: this.props.checklistParam,\n      userInfo: this.props.userInfo,\n      controlMap: this.props.controlMap,\n      userRoleControlRights: this.props.userRoleControlRights,\n      inputParam: this.props.inputParam,\n      fetchRecord: this.props.fetchRecord,\n      checkListRecord: this.props.checkListRecord,\n      pageable: true,\n      viewFile: this.props.viewFile,\n      isComponent: true,\n      isActionRequired: true,\n      isToolBarRequired: false,\n      scrollable: \"scrollable\",\n      selectedId: this.props.selectedId,\n      gridHeight: \"500px !important\",\n      attachmentParam: attachmentParam,\n      getMeanTestParameter: this.props.getMeanTestParameter,\n      meanParam: this.props.meanParam,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.masterData.TestParameters !== previousProps.masterData.TestParameters) {\n      this.setState({\n        testParameters: sortData(this.props.masterData.TestParameters, 'ascending', 'ntransactionresultcode')\n      });\n    }\n\n    if (this.props.masterData.TestParameters && this.props.masterData.TestParameters !== this.state.testParameters) {\n      this.setState({\n        testParameters: sortData(this.props.masterData.TestParameters, 'ascending', 'ntransactionresultcode')\n      });\n    }\n  }\n\n}\n\nexport default injectIntl(ResultEntryResultsTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/ResultEntryBySample/ResultEntryResultsTab.jsx"],"names":["React","Row","Col","injectIntl","process","ResultGrid","sortData","ResultEntryResultsTab","Component","constructor","props","state","testParameters","masterData","TestParameters","render","extractedColumnList","nneedsubsample","push","detailedFieldList","attachmentParam","classUrl","operation","methodUrl","userinfo","userInfo","dataState","dataStateChange","parameterParam","checklistParam","controlMap","userRoleControlRights","inputParam","fetchRecord","checkListRecord","viewFile","selectedId","getMeanTestParameter","meanParam","componentDidUpdate","previousProps","setState"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ResultGrid from '../resultgrid/ResultGrid';\r\nimport { sortData } from '../../components/CommonScript';\r\n\r\nclass ResultEntryResultsTab extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            testParameters: this.props.masterData.TestParameters  //sortData(this.props.masterData.TestParameters || [],'ascending','ntransactionresultcode')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const extractedColumnList = [];\r\n        if (this.props.masterData[\"RegSubTypeValue\"] && this.props.masterData[\"RegSubTypeValue\"].nneedsubsample){\r\n            extractedColumnList.push({\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\", \"width\": \"155px\"} );\r\n        }\r\n        else{\r\n            extractedColumnList.push({\"idsName\":\"IDS_ARNUMBER\",\"dataField\":\"sarno\", \"width\": \"155px\"});\r\n        }\r\n            extractedColumnList.push(\r\n            //{\"idsName\":\"IDS_ARNUMBER\",\"dataField\":\"sarno\", \"width\": \"155px\"},\r\n            // {\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"width\": \"155px\"},\r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"155px\" },\r\n            { \"idsName\": \"IDS_PARAMETERNAME\", \"dataField\": \"sparametersynonym\", \"width\": \"155px\" },\r\n            { \"idsName\": \"IDS_RESULTS\", \"dataField\": \"sresult\", \"width\": \"125px\", \"fieldType\": \"attachment\" },\r\n            { \"idsName\": \"IDS_FINALRESULT\", \"dataField\": \"sfinal\", \"width\": \"125px\", \"fieldType\": \"attachment\" },\r\n            { \"idsName\": \"IDS_CHECKLIST\", \"dataField\": \"schecklistname\", \"width\": \"125px\", \"fieldType\": \"checklistview\", \"checklistKey\": \"nchecklistversioncode\" },\r\n            // { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"300px\" },\r\n            { \"idsName\": \"IDS_PASSFLAG\", \"dataField\": \"sgradename\", \"width\": \"110px\", \"fieldType\": \"gradeColumn\" },\r\n            { \"idsName\": \"IDS_ENFORCESTATUS\", \"dataField\": \"senforcestatus\", \"width\": \"150px\" },\r\n            );\r\n        //  {/* Don't delete these below commented object, because this feature is needed for Agaram LIMS */}\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_PARAMETERTYPE\", \"dataField\": \"sparametertypename\" },\r\n            // { \"idsName\": \"IDS_MINA\", \"dataField\": \"smina\" },\r\n            // { \"idsName\": \"IDS_MAXA\", \"dataField\": \"smaxa\" },\r\n            { \"idsName\": \"IDS_MINB\", \"dataField\": \"sminb\" },\r\n            { \"idsName\": \"IDS_MAXB\", \"dataField\": \"smaxb\" },\r\n            // { \"idsName\": \"IDS_MINLOD\", \"dataField\": \"sminlod\" },\r\n            // { \"idsName\": \"IDS_MAXLOD\", \"dataField\": \"smaxlod\" },\r\n            // { \"idsName\": \"IDS_MINLOQ\", \"dataField\": \"sminloq\" },\r\n            // { \"idsName\": \"IDS_MAXLOQ\", \"dataField\": \"smaxloq\" },\r\n            { \"idsName\": \"IDS_ENTERBY\", \"dataField\": \"senteredby\" },\r\n            { \"idsName\": \"IDS_ENTERROLE\", \"dataField\": \"suserrolename\" },\r\n            { \"idsName\": \"IDS_ENTERDATE\", \"dataField\": \"sentereddate\" },\r\n            { \"idsName\": \"IDS_SPECDESCRIPTION\", \"dataField\": \"sspecdesc\" },\r\n            { \"idsName\": \"IDS_PARAMETERCOMMENTS\", \"dataField\": \"sresultcomment\" }\r\n        ]\r\n        const attachmentParam = {\r\n            classUrl: \"approval\",\r\n            operation: \"view\",\r\n            methodUrl: \"Attachment\",\r\n            userinfo: this.props.userInfo\r\n\r\n        }\r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <ResultGrid\r\n                            primaryKeyField={\"ntransactionresultcode\"}\r\n                            data={this.props.masterData.TestParameters}\r\n                            dataResult={process(this.props.masterData.TestParameters || [], this.props.dataState)}\r\n                            dataState={this.props.dataState}\r\n                            dataStateChange={this.props.dataStateChange}\r\n                            expandField=\"expanded\"\r\n                            detailedFieldList={detailedFieldList}\r\n                            extractedColumnList={extractedColumnList}\r\n                            editParam={this.props.parameterParam}\r\n                            checklistParam={this.props.checklistParam}\r\n                            userInfo={this.props.userInfo}\r\n                            controlMap={this.props.controlMap}\r\n                            userRoleControlRights={this.props.userRoleControlRights}\r\n                            inputParam={this.props.inputParam}\r\n                            fetchRecord={this.props.fetchRecord}\r\n                            checkListRecord={this.props.checkListRecord}\r\n                            pageable={true}\r\n                            viewFile={this.props.viewFile}\r\n                            isComponent={true}\r\n                            isActionRequired={true}\r\n                            isToolBarRequired={false}\r\n                            scrollable={\"scrollable\"}\r\n                            selectedId={this.props.selectedId}\r\n                            gridHeight={\"500px !important\"}\r\n                            attachmentParam={attachmentParam}\r\n                            getMeanTestParameter={this.props.getMeanTestParameter}\r\n                            meanParam={this.props.meanParam}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        )\r\n    }\r\n    componentDidUpdate(previousProps){\r\n        if(this.props.masterData.TestParameters!==previousProps.masterData.TestParameters){\r\n            this.setState({\r\n                testParameters:sortData(this.props.masterData.TestParameters,'ascending','ntransactionresultcode')\r\n            })\r\n        }\r\n        if(this.props.masterData.TestParameters&&this.props.masterData.TestParameters!==this.state.testParameters){\r\n            this.setState({\r\n                testParameters:sortData(this.props.masterData.TestParameters,'ascending','ntransactionresultcode')\r\n            })\r\n        }\r\n        \r\n    }\r\n}\r\nexport default injectIntl(ResultEntryResultsTab);"]},"metadata":{},"sourceType":"module"}