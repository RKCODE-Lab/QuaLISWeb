{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React from'react';import{forwardRef,useRef,useState}from'react';import Dropdown from'react-bootstrap/Dropdown';import withClickOutside from'./withClickOutside';import'./ButtonDropdownCss.css';import{Form,InputGroup}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faAngleRight,faArrowRight,faGreaterThan}from'@fortawesome/free-solid-svg-icons';import{createRef}from'react';var ButtonMultiSelectDropDown=forwardRef(function(_ref,ref){var show=_ref.show,setShow=_ref.setShow,options=_ref.options,groupingKey=_ref.groupingKey,groupingDisplayname=_ref.groupingDisplayname,value=_ref.value,label=_ref.label,onClick=_ref.onClick;var listData=[];var count=0;var onClick1=function onClick1(e,item,type,check,prevent){if(prevent){e.preventDefault();}else{e.stopPropagation();}var list=value;if(type===1){if(check){list=list.filter(function(x){return x.value!==item.value;});}else{list.push(item);}}else if(type===2){if(check){list=list.filter(function(x){return x.item[groupingKey]!==item.item[groupingKey];});}else{list=list.filter(function(x){return x.item[groupingKey]!==item.item[groupingKey];});var list1=options.filter(function(x){return x.item[groupingKey]===item.item[groupingKey];});list=[].concat(_toConsumableArray(list),_toConsumableArray(list1));}}onClick(list);};return/*#__PURE__*/React.createElement(\"div\",{className:\"sqlbuilder-dropdown dropdown\",ref:ref},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary dropdown-toggle \".concat(show?\"show\":\"\"),onClick:function onClick(e){return setShow(!show);},type:\"button\",id:\"dropdownMenuButton\",\"data-mdb-toggle\":\"dropdown\",\"aria-expanded\":\"false\"},value.length===options.length?\"All \"+label:value.length+\" \"+label),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu \".concat(show?\"show\":\"\"),\"aria-labelledby\":\"dropdownMenuButton\"},options.map(function(item,index){if(listData.findIndex(function(x){return item.item[groupingKey]===x.item[groupingKey];})===-1){listData=options.filter(function(x){return item.item[groupingKey]===x.item[groupingKey];});count=1;}else if(listData.length>1&&listData.length!==options.length){count=2;}if(listData.length>1&&listData.length!==options.length&&count===1){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"is-flex mb-1 is-justify-content-space-between has-text-weight-bold\"},/*#__PURE__*/React.createElement(\"span\",{className:' has-text-black '},/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\"},item.item[groupingDisplayname])),/*#__PURE__*/React.createElement(\"span\",{className:'icon mr-3'},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"mt-2\",icon:faAngleRight}))),/*#__PURE__*/React.createElement(\"ul\",{className:\"dropdown-menu dropdown-submenu\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:'mb-1 py-0 dropdown-item'},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{className:'checkbox has-text-weight-light is-size-6'},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:'mr-3',style:{\"transform\":\"scale(1.25)\"},onClick:function onClick(e){onClick1(e,item,2,listData.length===value.filter(function(x){return x.item[groupingKey]===item.item[groupingKey];}).length?true:false);},checked:listData.length===value.filter(function(x){return x.item[groupingKey]===item.item[groupingKey];}).length?true:false}),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){onClick1(e,item,2,listData.length===value.filter(function(x){return x.item[groupingKey]===item.item[groupingKey];}).length?true:false,true);}},\"Select All\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"mx-3 my-2\",\"data-v-671a1db2\":\"\",style:{\"border-bottom\":\"1px solid rgb(244, 244, 244)\"}})),listData.map(function(item1,index1){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:'mb-1 py-0 dropdown-item'},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{className:'checkbox has-text-weight-light is-size-6'},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:'mr-3',style:{\"transform\":\"scale(1.25)\"},onClick:function onClick(e){onClick1(e,item1,1,value.findIndex(function(x){return x.value===item1.value;})!==-1?true:false);},checked:value.findIndex(function(x){return x.value===item1.value;})!==-1?true:false}),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){onClick1(e,item1,1,value.findIndex(function(x){return x.value===item1.value;})!==-1?true:false,true);}},item1.label)))));})));}else if(count===1){console.log(value);return/*#__PURE__*/React.createElement(React.Fragment,null,index===0?/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:'mb-1 py-0 dropdown-item'},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{className:'checkbox has-text-weight-light is-size-6'},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:'mr-3',style:{\"transform\":\"scale(1.25)\"},onClick:function onClick(e){onClick1(e,item,2,value.length===options.length?true:false);},checked:value.length===options.length?true:false}),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){onClick1(e,item,2,value.length===options.length?true:false,true);}},\"Select All\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"mx-3 my-4\",\"data-v-671a1db2\":\"\",style:{\"border-bottom\":\"1px solid rgb(244, 244, 244)\"}})):\"\",/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:'mb-1 py-0 dropdown-item'},/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"label\",{className:'checkbox has-text-weight-light is-size-6'},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:'mr-3',style:{\"transform\":\"scale(1.25)\"},onClick:function onClick(e){onClick1(e,item,1,value.findIndex(function(x){return x.value===item.value;})!==-1?true:false);},checked:value.findIndex(function(x){return x.value===item.value;})!==-1?true:false}),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){return onClick1(e,item,1,value.findIndex(function(x){return x.value===item.value;})!==-1?true:false,true);}},item.label))))));}})))// <Dropdown>\n//     <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n//         {\"column selected\"}\n//     </Dropdown.Toggle>\n//     <Dropdown.Menu>\n//         <Dropdown.Item href=\"#/action-1\">\n//             <Dropdown.Toggle  id=\"dropdown-basic1\">\n//                 {\"column selected\"}\n//             </Dropdown.Toggle>\n//             <Dropdown.Menu>\n//                 <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n//                 <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n//                 <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n//             </Dropdown.Menu>\n//         </Dropdown.Item>\n//         <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n//         <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n//         <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n//     </Dropdown.Menu>\n// </Dropdown>\n;});export default withClickOutside(ButtonMultiSelectDropDown);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dashboard/ButtonDropdown.jsx"],"names":["React","forwardRef","useRef","useState","Dropdown","withClickOutside","Form","InputGroup","FontAwesomeIcon","faAngleRight","faArrowRight","faGreaterThan","createRef","ButtonMultiSelectDropDown","ref","show","setShow","options","groupingKey","groupingDisplayname","value","label","onClick","listData","count","onClick1","e","item","type","check","prevent","preventDefault","stopPropagation","list","filter","x","push","list1","length","map","index","findIndex","item1","index1","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { forwardRef, useRef, useState } from 'react';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport withClickOutside from './withClickOutside';\r\nimport './ButtonDropdownCss.css'\r\nimport { Form, InputGroup } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleRight, faArrowRight, faGreaterThan } from '@fortawesome/free-solid-svg-icons';\r\nimport { createRef } from 'react';\r\n\r\n\r\n\r\n\r\nconst ButtonMultiSelectDropDown = forwardRef(({\r\n    show, setShow, options, groupingKey,\r\n    groupingDisplayname, value, label, onClick }, ref) => {\r\n\r\n    let listData = []\r\n    let count = 0;\r\n\r\n    const onClick1 = (e, item, type, check, prevent) => {\r\n     \r\n        if (prevent) {\r\n            e.preventDefault();\r\n        } else {\r\n            e.stopPropagation();\r\n        }\r\n\r\n        let list = value;\r\n        if (type === 1) {\r\n            if (check) {\r\n                list = list.filter(x => x.value !== item.value)\r\n            } else {\r\n                list.push(item)\r\n            }\r\n        } else if (type === 2) {\r\n            if (check) {\r\n                list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey])\r\n            } else {\r\n                list = list.filter(x => x.item[groupingKey] !== item.item[groupingKey])\r\n                const list1 = options.filter(x => x.item[groupingKey] === item.item[groupingKey])\r\n                list = [...list, ...list1]\r\n            }\r\n\r\n        }\r\n        onClick(list);\r\n    }\r\n    return (\r\n        <div className=\"sqlbuilder-dropdown dropdown\" ref={ref}>\r\n            <button className={`btn btn-primary dropdown-toggle ${show ? \"show\" : \"\"}`} onClick={e => setShow(!show)} type=\"button\" id=\"dropdownMenuButton\"\r\n                data-mdb-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                {value.length === options.length ? \"All \" + label : value.length + \" \" + label}\r\n            </button>\r\n            <ul className={`dropdown-menu ${show ? \"show\" : \"\"}`} aria-labelledby=\"dropdownMenuButton\">\r\n\r\n                {options.map((item, index) => {\r\n                    if (listData.findIndex(x => item.item[groupingKey] === x.item[groupingKey]) === -1) {\r\n                        listData = options.filter(x => item.item[groupingKey] === x.item[groupingKey])\r\n                        count = 1;\r\n                    } else if (listData.length > 1\r\n                        && listData.length !== options.length) {\r\n                        count = 2;\r\n                    }\r\n                    if (listData.length > 1\r\n                        && listData.length !== options.length && count === 1) {\r\n                        return <li>\r\n                            <div className='is-flex mb-1 is-justify-content-space-between has-text-weight-bold'>\r\n                                <span className={' has-text-black '}>\r\n                                    <a className=\"dropdown-item\" >\r\n                                        {item.item[groupingDisplayname]}\r\n                                    </a>\r\n                                </span>\r\n                                <span className={'icon mr-3'}>\r\n                                    <FontAwesomeIcon className='mt-2' icon={faAngleRight} />\r\n                                </span>\r\n                            </div>\r\n                            <ul className=\"dropdown-menu dropdown-submenu\">\r\n                                <li >\r\n                                    <div className={'mb-1 py-0 dropdown-item'}>\r\n                                        <div className='control'>\r\n                                            <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                <input type=\"checkbox\" className={'mr-3'}\r\n                                                    style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                    onClick={(e) => {\r\n                                                        onClick1(e, item, 2,\r\n                                                            (listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false))\r\n                                                    }}\r\n                                                    checked={listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false} />\r\n\r\n                                                <span onClick={(e) => {\r\n                                                    onClick1(e, item, 2,\r\n                                                        (listData.length === value.filter(x => x.item[groupingKey] === item.item[groupingKey]).length ? true : false), true)\r\n                                                }}>\r\n                                                    {\"Select All\"}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mx-3 my-2\" data-v-671a1db2=\"\" style={{ \"border-bottom\": \"1px solid rgb(244, 244, 244)\" }} />\r\n                                </li>\r\n\r\n                                {listData.map((item1, index1) => {\r\n\r\n                                    return <li >\r\n                                        <div className={'mb-1 py-0 dropdown-item'}>\r\n                                            <div className='control'>\r\n                                                <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                    <input type=\"checkbox\" className={'mr-3'}\r\n                                                        style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                        onClick={(e) => { onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false) }}\r\n                                                        checked={value.findIndex(x => x.value === item1.value) !== -1 ? true : false} />\r\n\r\n                                                    <span onClick={(e) => { onClick1(e, item1, 1, value.findIndex(x => x.value === item1.value) !== -1 ? true : false, true )}}>\r\n                                                        {item1.label}\r\n                                                    </span>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n\r\n                                })\r\n                                }\r\n                            </ul>\r\n                        </li>\r\n                    } else if (count === 1) {\r\n                        console.log(value)\r\n                        return <>\r\n                            {index === 0 ?\r\n                                <li >\r\n                                    <div className={'mb-1 py-0 dropdown-item'}>\r\n                                        <div className='control'>\r\n                                            <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                                <input type=\"checkbox\" className={'mr-3'}\r\n                                                    style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                    onClick={(e) => { onClick1(e, item, 2, value.length === options.length ? true : false) }}\r\n                                                    checked={value.length === options.length ? true : false} />\r\n\r\n                                                <span onClick={(e) => { onClick1(e, item, 2, value.length === options.length ? true : false, true) }}>\r\n                                                    {\"Select All\"}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"mx-3 my-4\" data-v-671a1db2=\"\" style={{ \"border-bottom\": \"1px solid rgb(244, 244, 244)\" }} />\r\n                                </li> : \"\"\r\n                            }\r\n                            <li >\r\n                                <div className={'mb-1 py-0 dropdown-item'}>\r\n                                    <div className='control'>\r\n                                        <label className={'checkbox has-text-weight-light is-size-6'}>\r\n                                            <input type=\"checkbox\" className={'mr-3'}\r\n                                                style={{ \"transform\": \"scale(1.25)\" }}\r\n                                                onClick={(e) => { onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false) }}\r\n                                                checked={value.findIndex(x => x.value === item.value) !== -1 ? true : false} />\r\n\r\n                                            <span onClick={(e) =>  onClick1(e, item, 1, value.findIndex(x => x.value === item.value) !== -1 ? true : false, true) }\r\n                                            >\r\n                                                {item.label}\r\n                                            </span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                        </>\r\n                    }\r\n                })\r\n\r\n                }\r\n            </ul>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // <Dropdown>\r\n        //     <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n        //         {\"column selected\"}\r\n        //     </Dropdown.Toggle>\r\n        //     <Dropdown.Menu>\r\n        //         <Dropdown.Item href=\"#/action-1\">\r\n        //             <Dropdown.Toggle  id=\"dropdown-basic1\">\r\n        //                 {\"column selected\"}\r\n        //             </Dropdown.Toggle>\r\n        //             <Dropdown.Menu>\r\n        //                 <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\r\n        //                 <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\r\n        //                 <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\r\n        //             </Dropdown.Menu>\r\n        //         </Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\r\n        //         <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\r\n        //     </Dropdown.Menu>\r\n        // </Dropdown>\r\n    );\r\n}\r\n)\r\n\r\nexport default withClickOutside(ButtonMultiSelectDropDown);"]},"metadata":{},"sourceType":"module"}