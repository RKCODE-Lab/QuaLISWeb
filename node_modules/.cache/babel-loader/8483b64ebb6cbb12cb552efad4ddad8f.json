{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import Axios from'axios';import{toast}from'react-toastify';import{DEFAULT_RETURN}from'./LoginTypes';import{initRequest}from'./LoginAction';import{sortData,constructOptionList}from'../components/CommonScript';export var changeSampleTypeFilter=function changeSampleTypeFilter(inputParam,filterSampleType,SelectedSampleType){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/projectview/get\"+inputParam.methodUrl,inputParam.inputData).then(function(response){// const masterData = response.data\nvar responseData=_objectSpread({},response.data);responseData=sortData(responseData);var masterData=_objectSpread(_objectSpread({},inputParam.inputData),responseData);dispatch({type:DEFAULT_RETURN,payload:{loading:false,dataState:undefined,masterData:_objectSpread(_objectSpread({},masterData),{},{filterSampleType:filterSampleType,nfilterSampleType:inputParam.inputData.nfilterSampleType,SelectedSampleType:SelectedSampleType.item})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};export function getuserComboServices(methodParam,selectedRecord){return function(dispatch){var URL=[];URL=rsapi.post(\"/projectmaster/getUsers\",{\"userinfo\":methodParam.inputData.userinfo,\"nuserrolecode\":methodParam.inputData.primarykey});dispatch(initRequest(true));Axios.all([URL]).then(function(response){var userList;var districtMap=constructOptionList(response[0].data||[],\"nusercode\",\"susername\",undefined,undefined,false);userList=districtMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{userList:userList,selectedRecord:selectedRecord,loading:false,data:undefined,dataState:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}//ProjectView Click\nexport var getProjectView=function getProjectView(projectviewItem,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/projectview/getActiveProjectViewById\",{nprojectmastercode:projectviewItem.nprojectmastercode,nsampletypecode:masterData.filterSampleType[0].nsampletypecode,userinfo:userInfo}).then(function(response){var masterData1=_objectSpread(_objectSpread({},masterData),response.data);// ...masterData,\n// ...response.data\nmasterData=masterData1;sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{// masterData,\nloading:false,dataState:undefined,masterData:masterData}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(error.message);});};};","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/ProjectViewAction.js"],"names":["rsapi","Axios","toast","DEFAULT_RETURN","initRequest","sortData","constructOptionList","changeSampleTypeFilter","inputParam","filterSampleType","SelectedSampleType","dispatch","post","methodUrl","inputData","then","response","responseData","data","masterData","type","payload","loading","dataState","undefined","nfilterSampleType","item","catch","error","message","getuserComboServices","methodParam","selectedRecord","URL","userinfo","primarykey","all","userList","districtMap","get","status","warn","getProjectView","projectviewItem","userInfo","nprojectmastercode","nsampletypecode","masterData1"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport Axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport { DEFAULT_RETURN} from './LoginTypes';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData ,constructOptionList } from '../components/CommonScript';\r\n\r\nexport const changeSampleTypeFilter = (inputParam, filterSampleType, SelectedSampleType) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/projectview/get\" + inputParam.methodUrl, inputParam.inputData)\r\n            .then(response => {\r\n                // const masterData = response.data\r\n                let responseData = { ...response.data }\r\n                responseData= sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.inputData,\r\n                    ...responseData,\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        \r\n                        masterData: {\r\n                            ...masterData,\r\n                            filterSampleType,\r\n                            nfilterSampleType: inputParam.inputData.nfilterSampleType,\r\n                            SelectedSampleType: SelectedSampleType.item\r\n                            \r\n                            \r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\nexport function getuserComboServices(methodParam,selectedRecord) {\r\n\r\n    return function (dispatch) {\r\n\r\n        let URL = [];\r\n\r\n            URL=rsapi.post(\"/projectmaster/getUsers\", { \"userinfo\": methodParam.inputData.userinfo, \"nuserrolecode\":  methodParam.inputData.primarykey  })\r\n\r\n         dispatch(initRequest(true));\r\n\r\n        Axios.all([URL])\r\n\r\n            .then(response => {\r\n\r\n                let userList;\r\n\r\n                const districtMap = constructOptionList(response[0].data || [], \"nusercode\",\r\n\r\n                \"susername\", undefined, undefined, false);              \r\n\r\n                userList = districtMap.get(\"OptionList\");\r\n\r\n                 \r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload:\r\n\r\n                     { userList,selectedRecord, loading: false, data: undefined, dataState: undefined } })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n//ProjectView Click\r\nexport const getProjectView = (projectviewItem, userInfo, masterData) => {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/projectview/getActiveProjectViewById\", {\r\n            nprojectmastercode: projectviewItem.nprojectmastercode,\r\n            nsampletypecode: masterData.filterSampleType[0].nsampletypecode,          \r\n                userinfo: userInfo\r\n            })\r\n            .then(response => {\r\n                \r\n\r\n                    let masterData1  = {...masterData,\r\n\r\n                        ...response.data }\r\n\r\n                    // ...masterData,\r\n                    // ...response.data\r\n                    masterData=masterData1\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                       // masterData,\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        masterData\r\n                        \r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}