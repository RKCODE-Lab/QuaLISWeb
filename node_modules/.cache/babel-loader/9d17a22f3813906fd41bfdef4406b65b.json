{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{connect}from'react-redux';import{designProperties}from'../../../components/Enumeration';import ListAttachment from'../../../components/ListAttachment';import{Component}from'react';import{Nav}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{addtrainingdocfile}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingDocTab=/*#__PURE__*/function(_Component){_inherits(TrainingDocTab,_Component);var _super=_createSuper(TrainingDocTab);function TrainingDocTab(){var _this;_classCallCheck(this,TrainingDocTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.addtrainingdocfile=function(ncontrolCode){var openChildModal=_this.props.Login.openChildModal;var operation=\"create\";var screenName=_this.props.Login.screenName;screenName=\"IDS_TRAININGDOCUMENTS\";openChildModal=true;var selectedRecord=_this.props.selectedRecord;var updateInfo={userInfo:_this.props.Login.userInfo,operation:operation,selectedRecord:selectedRecord,ncontrolCode:ncontrolCode,screenName:screenName};_this.props.addtrainingdocfile(updateInfo);// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: true,\n//         operation: \"create\",\n//         selectedRecord: {},\n//         ncontrolcode: ncontrolcode,\n//         screenName:\"IDS_TRAININGDOCUMENTS\"\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};return _this;}_createClass(TrainingDocTab,[{key:\"render\",value:function render(){var _ref,_ref2,_ref3,_ref4,_this2=this;var addFileId=this.props.controlMap.has(\"AddTrainingDocFile\")&&this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;var deleteFileId=this.props.controlMap.has(\"DeleteTrainingDocFile\")&&this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;var editFileId=this.props.controlMap.has(\"EditTrainingDocFile\")&&this.props.controlMap.get(\"EditTrainingDocFile\").ncontrolcode;var viewFileId=this.props.controlMap.has(\"ViewTrainingDocFile\")&&this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;var editParam={screenName:\"IDS_TRAININGDOCUMENTS\",operation:\"update\",inputParam:this.props.inputParam,userInfo:this.props.userInfo,ncontrolCode:editFileId,modalName:\"openChildModal\"};var subFields=[(_ref={},_defineProperty(_ref,designProperties.LABEL,\"IDS_FILESIZE\"),_defineProperty(_ref,designProperties.VALUE,\"sfilesize\"),_defineProperty(_ref,\"fieldType\",\"size\"),_ref)];var moreField=[(_ref2={},_defineProperty(_ref2,designProperties.LABEL,\"IDS_LINK\"),_defineProperty(_ref2,designProperties.VALUE,\"slinkname\"),_ref2),(_ref3={},_defineProperty(_ref3,designProperties.LABEL,\"IDS_CREATEDDATE\"),_defineProperty(_ref3,designProperties.VALUE,\"screateddate\"),_ref3),(_ref4={},_defineProperty(_ref4,designProperties.LABEL,\"IDS_DESCRIPTION\"),_defineProperty(_ref4,designProperties.VALUE,\"sfiledesc\"),_ref4)];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addtrainingdocfile\",className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addFileId)===-1,onClick:function onClick(){return _this2.addtrainingdocfile({ncontrolCode:addFileId});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ADDTRAININGFILE\",defaultMessage:\"File\"})))),/*#__PURE__*/React.createElement(ListAttachment,{attachmentList:this.props.TrainingDocument,fileName:\"sfilename\",deleteRecord:this.props.deleteRecord,deleteParam:{operation:\"delete\",methodUrl:\"TrainingDoc\",screenName:\"IDS_TRAININGDOCUMENTS\"},fetchRecord:this.props.addtrainingdocfile,deleteId:deleteFileId,editId:editFileId,editParam:editParam,viewId:viewFileId,controlMap:this.props.controlMap||[],userRoleControlRights:this.props.userRoleControlRights||[],subFields:subFields||[],settings:this.props.settings,userInfo:this.props.userInfo,moreField:moreField,viewFile:this.props.viewTrainingDocumentFile}));}}]);return TrainingDocTab;}(Component);export default connect(mapStateToProps,{addtrainingdocfile:addtrainingdocfile})(injectIntl(TrainingDocTab));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingDocTab.jsx"],"names":["React","FormattedMessage","injectIntl","connect","designProperties","ListAttachment","Component","Nav","FontAwesomeIcon","faPlus","addtrainingdocfile","DEFAULT_RETURN","mapStateToProps","state","Login","TrainingDocTab","ncontrolCode","openChildModal","props","operation","screenName","selectedRecord","updateInfo","userInfo","addFileId","controlMap","has","get","ncontrolcode","deleteFileId","editFileId","viewFileId","editParam","inputParam","modalName","subFields","LABEL","VALUE","moreField","userRoleControlRights","indexOf","TrainingDocument","deleteRecord","methodUrl","settings","viewTrainingDocumentFile"],"mappings":"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","sourcesContent":["import React  from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { connect } from 'react-redux';\r\nimport { designProperties } from '../../../components/Enumeration';\r\nimport ListAttachment from '../../../components/ListAttachment';\r\nimport { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { addtrainingdocfile } from '../../../actions';\r\n\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass TrainingDocTab  extends Component {\r\n    render() {\r\n        const addFileId = this.props.controlMap.has(\"AddTrainingDocFile\") && this.props.controlMap.get(\"AddTrainingDocFile\").ncontrolcode;\r\n        const deleteFileId = this.props.controlMap.has(\"DeleteTrainingDocFile\") && this.props.controlMap.get(\"DeleteTrainingDocFile\").ncontrolcode;\r\n       \r\n        const editFileId = this.props.controlMap.has(\"EditTrainingDocFile\") && this.props.controlMap.get(\"EditTrainingDocFile\").ncontrolcode;\r\n\r\n        const viewFileId = this.props.controlMap.has(\"ViewTrainingDocFile\") && this.props.controlMap.get(\"ViewTrainingDocFile\").ncontrolcode;\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_TRAININGDOCUMENTS\", operation: \"update\", inputParam: this.props.inputParam,\r\n            userInfo: this.props.userInfo, ncontrolCode: editFileId, modalName: \"openChildModal\"\r\n        };\r\n\r\n         const subFields=[\r\n            {[designProperties.LABEL]: \"IDS_FILESIZE\",[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"},];\r\n\r\n        const moreField=[\r\n                        {[designProperties.LABEL]: \"IDS_LINK\",[designProperties.VALUE]:\"slinkname\"}, \r\n                        {[designProperties.LABEL]: \"IDS_CREATEDDATE\",[designProperties.VALUE]:\"screateddate\"}, \r\n                        {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"}\r\n                        // {[designProperties.LABEL]: \"IDS_DESCRIPTION\",[designProperties.VALUE]:\"sfiledesc\"},\r\n                        //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n                    ];\r\n        return (\r\n            <>\r\n                <div className=\"actions-stripe border-bottom\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Nav.Link \r\n                        name=\"addtrainingdocfile\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addFileId) === -1}\r\n                        onClick={()=>this.addtrainingdocfile({ncontrolCode: addFileId})}\r\n                        >\r\n                            <FontAwesomeIcon icon={faPlus} /> {\" \"}\r\n                            <FormattedMessage id=\"IDS_ADDTRAININGFILE\" defaultMessage=\"File\" />\r\n                        </Nav.Link>\r\n                    </div>\r\n                </div>\r\n                <ListAttachment\r\n                    attachmentList={this.props.TrainingDocument}\r\n                    fileName=\"sfilename\"\r\n                    deleteRecord={this.props.deleteRecord}\r\n                    deleteParam ={{operation:\"delete\", methodUrl: \"TrainingDoc\",screenName: \"IDS_TRAININGDOCUMENTS\"}}\r\n                    fetchRecord={this.props.addtrainingdocfile}\r\n                    deleteId={deleteFileId}\r\n                    editId={editFileId}\r\n                    editParam={editParam}\r\n                    viewId={viewFileId}\r\n                    controlMap={this.props.controlMap || []}\r\n                    userRoleControlRights={this.props.userRoleControlRights || []}\r\n                    subFields={subFields || []}\r\n                    settings = {this.props.settings}\r\n                    userInfo={this.props.userInfo}\r\n                    moreField={moreField}\r\n                    viewFile={this.props.viewTrainingDocumentFile}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n\r\n    addtrainingdocfile = (ncontrolCode) => {\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let operation = \"create\";\r\n        let screenName = this.props.Login.screenName;\r\n        screenName = \"IDS_TRAININGDOCUMENTS\";\r\n        openChildModal = true;\r\n        const selectedRecord = this.props.selectedRecord;\r\n        const updateInfo = {\r\n            userInfo: this.props.Login.userInfo, operation, selectedRecord, ncontrolCode, screenName\r\n           };\r\n           this.props.addtrainingdocfile(updateInfo);\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: true,\r\n        //         operation: \"create\",\r\n        //         selectedRecord: {},\r\n        //         ncontrolcode: ncontrolcode,\r\n        //         screenName:\"IDS_TRAININGDOCUMENTS\"\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n \r\n}\r\n\r\nexport default connect(mapStateToProps, {addtrainingdocfile})(injectIntl(TrainingDocTab));"]},"metadata":{},"sourceType":"module"}