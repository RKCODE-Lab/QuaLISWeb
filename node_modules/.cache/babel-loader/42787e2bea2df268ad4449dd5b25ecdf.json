{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card}from'react-bootstrap';//, Nav, Tab\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\nimport{injectIntl}from'react-intl';//FormattedMessage,\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\nimport{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';//import Axios from 'axios';\n//import rsapi from '../../rsapi';\nimport{toast}from'react-toastify';import AddSupplierCategory from'./AddSupplierCategory';import AddMaterialCategory from'./AddMaterialCategory';import Esign from'../audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{constructOptionList,showEsign,onDropAttachFileList,create_UUID,validatePhoneNumber,validateEmail,deleteAttachmentDropZone,Lims_JSON_stringify}from'../../components/CommonScript';//import DataGrid from '../../components/DataGrid';\nimport SupplierTabs from'./SupplierTabs';import SupplierFileTab from'./SupplierFileTabs';import{transactionStatus,attachmentType}from'../../components/Enumeration';import CustomTabs from'../../components/custom-tabs/custom-tabs.component';import AddSupplierFile from'./AddSupplierFile';import AddSupplierContact from'./AddSupplierContact';var SupplierMaterialCategoryTab=/*#__PURE__*/function(_React$Component){_inherits(SupplierMaterialCategoryTab,_React$Component);var _super=_createSuper(SupplierMaterialCategoryTab);function SupplierMaterialCategoryTab(props){var _this;_classCallCheck(this,SupplierMaterialCategoryTab);_this=_super.call(this,props);_this.supplierDataStateChange=function(event){_this.setState({dataState:event.dataState});};_this.materialDataStateChange=function(event){_this.setState({dataStateMaterial:event.dataState});};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropSupplierFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.tabDetail=function(){var addSupCatId=_this.props.controlMap.has(\"AddSupplierCategory\")&&_this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode;var deleteSupCatId=_this.props.controlMap.has(\"DeleteSupplierCategory\")&&_this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode;var addMatCatId=_this.props.controlMap.has(\"AddMaterialCategory\")&&_this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode;var deleteMatCatId=_this.props.controlMap.has(\"DeleteMaterialCategory\")&&_this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode;var addSupCotId=_this.props.controlMap.has(\"AddSupplierContact\")&&_this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode;var editSupCotId=_this.props.controlMap.has(\"EditSupplierContact\")&&_this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode;var deleteSupCotId=_this.props.controlMap.has(\"DeleteSupplierContact\")&&_this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode;var supcatAddParam={screenName:\"IDS_SUPPLIERCATEGORY\",operation:\"create\",primaryKeyField:\"nsuppliercatcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addSupCatId};var supcatDeleteParam={screenName:\"IDS_SUPPLIERCATEGORY\",methodUrl:\"SupplierMatrix\",operation:\"delete\",ncontrolCode:deleteSupCatId};var matericatAddParam={screenName:\"IDS_MATERIALCATEGORY\",operation:\"create\",primaryKeyField:\"nmaterialcatcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addMatCatId};var materialcatDeleteParam={screenName:\"IDS_MATERIALCATEGORY\",methodUrl:\"SupplierMatrix\",operation:\"delete\",ncontrolCode:deleteMatCatId};var supcotAddParam={screenName:\"IDS_SUPPLIERCONTACT\",operation:\"create\",primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:addSupCotId};var editcotAddParam={screenName:\"IDS_SUPPLIERCONTACT\",operation:\"update\",primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,userInfo:_this.props.userInfo,ncontrolCode:editSupCotId};var supcotDeleteParam={screenName:\"IDS_SUPPLIERCONTACT\",methodUrl:\"Supplier\",operation:\"delete\",ncontrolCode:deleteSupCotId};var tabMap=new Map();var detailedFieldList=[{\"idsName\":\"IDS_DESIGNATION\",\"dataField\":\"sdesignation\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_MOBILENO\",\"dataField\":\"smobileno\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TELEPHONENO\",\"dataField\":\"stelephoneno\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_EMAIL\",\"dataField\":\"semail\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"150px\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DEFAULTSTATUS\",\"dataField\":\"sdisplaystatus\",\"width\":\"250px\"}];tabMap.set(\"IDS_SUPPLIERCATEGORY\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,addId:addSupCatId,addParam:supcatAddParam,comboDataService:_this.props.getSupplierCategoryComboDataService,addTitleIDS:\"IDS_SUPPLIERCATEGORY\",addTitleDefaultMsg:'SupplierCategory',primaryKeyField:\"nsuppliermatrixcode\",masterData:_this.props.masterData,primaryList:\"SupplierCategory\",dataResult:process(_this.props.masterData[\"SupplierCategory\"]||[],_this.state.dataState)// dataState={this.state.dataState}\n// dataStateChange={this.supplierDataStateChange}\n,dataState:_this.props.screenName===undefined||_this.props.screenName===''||_this.props.screenName===\"SupplierCategory\"||_this.props.screenName===\"IDS_SUPPLIERCATEGORY\"?_this.state.dataState:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataState:event.dataState});},columnList:_this.suppliercatColumnList,methodUrl:\"SupplierMatrix\",deleteRecord:_this.deleteRecord,deleteParam:supcatDeleteParam//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_MATERIALCATEGORY\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,addId:addMatCatId,addParam:matericatAddParam,comboDataService:_this.props.getMaterialCategoryComboDataService,addTitleIDS:\"IDS_MATERIALCATEGORY\",addTitleDefaultMsg:'MaterialCategory',primaryKeyField:\"nsuppliermatrixcode\",masterData:_this.props.masterData,primaryList:\"MaterialCategory\",dataResult:process(_this.props.masterData[\"MaterialCategory\"]||[],_this.state.dataStateMaterial)// dataState={this.state.dataStateMaterial}\n// dataStateChange={this.materialDataStateChange}\n,dataState:_this.props.screenName===undefined||_this.props.screenName===\"MaterialCategory\"||_this.props.screenName===\"IDS_MATERIALCATEGORY\"?_this.state.dataStateMaterial:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataStateMaterial:event.dataState});},columnList:_this.materialcatColumnList,methodUrl:\"SupplierMatrix\",deleteRecord:_this.deleteRecord,deleteParam:materialcatDeleteParam//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_SUPPLIERCONTACT\",/*#__PURE__*/React.createElement(SupplierTabs,{userRoleControlRights:_this.props.userRoleControlRights,selectedId:_this.props.selectedId,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,fetchRecord:_this.props.getSupplierContactComboDataService,addId:addSupCotId,editId:editSupCotId,editParam:editcotAddParam,addParam:supcotAddParam,comboDataService:_this.props.getSupplierContactComboDataService,addTitleIDS:\"IDS_SUPPLIERCONTACT\",addTitleDefaultMsg:'SupplierContact',primaryKeyField:\"nsuppliercontactcode\",masterData:_this.props.masterData,primaryList:\"SupplierContact\",dataResult:process(_this.props.masterData[\"SupplierContact\"]||[],_this.state.dataState)// dataState={this.state.dataStateMaterial}\n// dataStateChange={this.materialDataStateChange}\n,dataState:_this.props.screenName===undefined||supcotAddParam.screenName===\"IDS_SUPPLIERCONTACT\"?_this.state.dataState:{skip:0},dataStateChange:function dataStateChange(event){return _this.setState({dataState:event.dataState});},columnList:_this.supplierContactColumnList,methodUrl:\"SupplierContact\",deleteRecord:_this.deleteRecord,deleteParam:supcotDeleteParam,detailedFieldList:detailedFieldList//selectedId={this.props.selectedId}\n}));tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(SupplierFileTab,{controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,deleteRecord:_this.deleteRecord,supplierFile:_this.props.masterData.supplierFile||[],getAvailableData:_this.props.getAvailableData,addSupplierFile:_this.props.addSupplierFile,viewSupplierFile:_this.viewSupplierFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_SUPPLIERFILE\",settings:_this.props.settings,masterData:_this.props.masterData}));return tabMap;};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;var selectedId=_this.props.selectedId;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']='';selectedRecord['esigncomments']='';}}else{openChildModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;if(fieldName===\"nsuppliercatcode\"){var selectedSupplierCategory=comboData;_this.setState({selectedRecord:selectedRecord,selectedSupplierCategory:selectedSupplierCategory});}if(fieldName===\"nmaterialcatcode\"){var selectedMaterialCategory=comboData;_this.setState({selectedRecord:selectedRecord,selectedMaterialCategory:selectedMaterialCategory});}if(fieldName===\"ncountrycode\"){var selectedSupplierContact=comboData;_this.setState({selectedRecord:selectedRecord,selectedSupplierContact:selectedSupplierContact});}};_this.viewSupplierFile=function(filedata){var inputParam={inputData:{supplierfile:filedata,userinfo:_this.props.userInfo},classUrl:\"supplier\",operation:\"view\",methodUrl:\"AttachedSupplierFile\",screenName:\"Supplier File\"};_this.props.viewAttachment(inputParam);};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{if(event.target.name===\"stelephoneno\"||event.target.name===\"smobileno\"){if(event.target.value!==\"\"){event.target.value=validatePhoneNumber(event.target.value);selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}else selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){//add / edit  \nif(_this.state.selectedRecord['semail']?validateEmail(_this.state.selectedRecord['semail']):true){var inputParam={};if(_this.props.screenName===\"IDS_SUPPLIERCATEGORY\"){inputParam=_this.saveSupplierCategory(saveType,formRef);}else if(_this.props.screenName===\"IDS_MATERIALCATEGORY\"){inputParam=_this.saveMaterial(saveType,formRef);}else if(_this.props.screenName===\"IDS_SUPPLIERCONTACT\"){inputParam=_this.saveSupplierContact(saveType,formRef);}else if(_this.props.screenName===\"IDS_SUPPLIERFILE\"){inputParam=_this.onSaveSupplierFile(saveType,formRef);}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALIDEMAIL\"}));}};_this.onSaveSupplierFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var supplierFileArray=[];var supplierFile={nsuppliercode:_this.props.masterData.SelectedSupplier.nsuppliercode,nsupplierfilecode:selectedRecord.nsupplierfilecode?selectedRecord.nsupplierfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode// ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\n};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},supplierFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename?selectedRecord.ssystemfilename.split('.'):\"\";var filesystemfileext=selectedRecord.ssystemfilename?file.name.split('.')[ssystemfilename.length-1]:\"\";var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.nsupplierfilecode&&selectedRecord.nsupplierfilecode>0&&selectedRecord.ssystemfilename!==\"\"?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=Lims_JSON_stringify(file.name,false);tempData[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);supplierFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{supplierFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.sfilename,false);supplierFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);supplierFile[\"nlinkcode\"]=transactionStatus.NA;supplierFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;supplierFile[\"nfilesize\"]=selectedRecord.nfilesize;supplierFileArray.push(supplierFile);}}else{supplierFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.slinkfilename.trim(),false);supplierFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\",false);supplierFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;supplierFile[\"ssystemfilename\"]=\"\";supplierFile[\"nfilesize\"]=0;supplierFileArray.push(supplierFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"supplierfile\",JSON.stringify(supplierFileArray));// formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\nvar selectedId=null;var postParam=undefined;if(_this.props.operation===\"update\"){// edit\npostParam={inputListName:\"Supplier\",selectedObject:\"SelectedSupplier\",primaryKeyField:\"nsuppliercode\"};selectedId=selectedRecord[\"nsupplierfilecode\"];}var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.userInfo.smodulename),//ALPD-1620(while saving the file and link,audit trail is not captured the respective language)\nslanguagename:Lims_JSON_stringify(_this.props.userInfo.slanguagename)})},formData:formData,isFileupload:true,operation:_this.props.operation,classUrl:\"supplier\",saveType:saveType,formRef:formRef,methodUrl:\"SupplierFile\",postParam:postParam};return inputParam;};_this.deleteRecord=function(supplierparam){if(_this.props.masterData.SelectedSupplier.napprovalstatus!==transactionStatus.DRAFT){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}else{if(supplierparam.selectedRecord.expanded!==undefined){delete supplierparam.selectedRecord.expanded;}var inputParam={};if(_this.props.screenName===\"IDS_SUPPLIERFILE\"){var _inputData;inputParam={classUrl:\"supplier\",methodUrl:supplierparam.methodUrl,inputData:(_inputData={},_defineProperty(_inputData,supplierparam.methodUrl.toLowerCase(),supplierparam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_objectSpread(_objectSpread({},_this.props.userInfo),{},{slanguagename:Lims_JSON_stringify(_this.props.userInfo.slanguagename)})),_inputData),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}else if(supplierparam.screenName===\"IDS_SUPPLIERCONTACT\"){var _inputData2;inputParam={classUrl:\"supplier\",methodUrl:\"SupplierContact\",inputData:(_inputData2={},_defineProperty(_inputData2,supplierparam.methodUrl.toLowerCase(),_objectSpread(_objectSpread({},supplierparam.selectedRecord),{},{napprovalstatus:_this.props.masterData.SelectedSupplier.napprovalstatus})),_defineProperty(_inputData2,\"userinfo\",_this.props.userInfo),_inputData2),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}else{var _inputData3;inputParam={classUrl:\"suppliermatrix\",methodUrl:supplierparam.methodUrl,inputData:(_inputData3={},_defineProperty(_inputData3,supplierparam.methodUrl.toLowerCase(),supplierparam.selectedRecord),_defineProperty(_inputData3,\"userinfo\",_this.props.userInfo),_inputData3),operation:supplierparam.operation,//dataState: this.state.dataState,\n//dataStateMaterial: this.state.dataStateMaterial\ndataState:_this.state.dataState};}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,supplierparam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:supplierparam.screenName,operation:supplierparam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};var dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var dataStateMaterial={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isOpen:false,selectedRecord:{},dataResult:[],activeTab:'SupplierCategory-tab',dataState:dataState,dataStateMaterial:dataStateMaterial,supplierCategory:[],materialCategory:[],countryList:[]};_this.supplerCategoryFieldList=['nsuppliercode','ncategorycode','ntypecode','ssuppliercatname','smaterialcatname','sremarks','ntransactionstatus'];_this.supplierContactFieldList=['ssuppliercontactname','sdescription','sdesignation','saddress1','saddress2','saddress3','sphoneno','smobileno','sfaxno','semail','ndefaultstatus','ncountrycode'];_this.suppliercatColumnList=[{\"idsName\":\"IDS_SUPPLIERCATNAME\",\"dataField\":\"ssuppliercatname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.materialcatColumnList=[{\"idsName\":\"IDS_MATERIALCATNAME\",\"dataField\":\"smaterialcatname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.supplierContactColumnList=[{\"idsName\":\"IDS_SUPPLIERCONTACTNAME\",\"dataField\":\"ssuppliercontactname\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DEFAULTSTATUS\",\"dataField\":\"sdisplaystatus\",\"width\":\"250px\",\"mandatory\":false,\"controlType\":\"checkbox\"}];_this.validationSuppliercatColumnList=[{\"idsName\":\"IDS_SUPPLIERCATNAME\",\"dataField\":\"nsuppliercatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.validationMaterialcatColumnList=[{\"idsName\":\"IDS_MATERIALCATNAME\",\"dataField\":\"nmaterialcatcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return _this;}_createClass(SupplierMaterialCategoryTab,[{key:\"render\",value:function render(){var mandatoryFields=[];var matmandatoryFields=[];this.validationSuppliercatColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});if(this.props.screenName===\"IDS_MATERIALCATEGORY\"){this.validationMaterialcatColumnList.forEach(function(item){return item.mandatory===true?matmandatoryFields.push(item):\"\";});}else if(this.props.screenName===\"IDS_SUPPLIERFILE\"){if(this.state.selectedRecord&&this.state.selectedRecord.nattachmenttypecode===attachmentType.LINK){matmandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{// if (this.props.operation !== 'update') {\nmatmandatoryFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else if(this.props.screenName===\"IDS_SUPPLIERCONTACT\"){matmandatoryFields=[{\"idsName\":\"IDS_SUPPLIERCONTACT\",\"dataField\":\"ssuppliercontactname\",\"width\":\"150px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(CustomTabs,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange})))),this.props.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.screenName===\"IDS_SUPPLIERCATEGORY\"?mandatoryFields:matmandatoryFields||[],addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_SUPPLIERCATEGORY\"?/*#__PURE__*/React.createElement(AddSupplierCategory,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,selectedSupplierCategory:this.props.masterData.selectedSupplierCategory,supplierCategory:this.state.supplierCategory||[]//{this.props.supplierCategory || []}\n}):this.props.screenName===\"IDS_MATERIALCATEGORY\"?/*#__PURE__*/React.createElement(AddMaterialCategory,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,operation:this.props.operation,selectedMaterialCategory:this.props.masterData.selectedMaterialCategory,materialCategory:this.state.materialCategory//{this.props.materialCategory}\n}):this.props.screenName===\"IDS_SUPPLIERCONTACT\"?/*#__PURE__*/React.createElement(AddSupplierContact,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,operation:this.props.operation,formatMessage:this.props.intl.formatMessage,selectedSupplierContact:this.props.masterData.selectedSupplierContact,countryList:this.state.countryList||[]}):this.props.screenName===\"IDS_SUPPLIERFILE\"?/*#__PURE__*/React.createElement(AddSupplierFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropSupplierFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20// maxFiles={this.props.operation === \"update\" ? 1 : 3}\n// multiple={this.props.operation === \"update\" ? false : true}\n,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_SUPPLIERFILE\"}),name:\"supplierfilename\"}):\"\"}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var isOpen=false;if(this.props.errorCode!==undefined&&(this.state.operation===\"create\"||this.state.operation===\"update\")){isOpen=true;}var _this$state=this.state,_dataState=_this$state.dataState,_dataStateMaterial=_this$state.dataStateMaterial;if(this.props.dataState===undefined){_dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};_dataStateMaterial={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};}this.setState({isOpen:isOpen,activeTab:'SupplierCategory-tab',dataState:_dataState,dataStateMaterial:_dataStateMaterial});}if(this.props.selectedRecord!==previousProps.selectedRecord){var countryList=constructOptionList(this.props.selectedRecord.countryList||[],\"ncountrycode\",\"scountryname\",undefined,undefined,undefined);var countryListSupplier=countryList.get(\"OptionList\");this.setState({selectedRecord:this.props.selectedRecord,countryList:countryListSupplier});}var _this$state2=this.state,dataState=_this$state2.dataState,dataStateMaterial=_this$state2.dataStateMaterial;if(this.props.dataState!==previousProps.dataState&&this.props.dataState!==dataState){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};dataStateMaterial={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};this.setState({dataState:dataState,dataStateMaterial:dataStateMaterial});}// {\n//     dataState={...dataState,filter:undefined,sort:undefined}\n//     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\n//     this.setState({ dataState, dataStateMaterial });\n// }\nif(this.props.supplierCategory!==previousProps.supplierCategory||this.props.materialCategory!==previousProps.materialCategory){var supplierCategory=constructOptionList(this.props.supplierCategory||[],\"nsuppliercatcode\",\"ssuppliercatname\",undefined,undefined,undefined);var supplierCategoryList=supplierCategory.get(\"OptionList\");var materialCategory=constructOptionList(this.props.materialCategory||[],\"nmaterialcatcode\",\"smaterialcatname\",undefined,undefined,undefined);var materialCategoryList=materialCategory.get(\"OptionList\");this.setState({supplierCategory:supplierCategoryList,materialCategory:materialCategoryList});}}},{key:\"saveSupplierCategory\",value:function saveSupplierCategory(saveType,formRef){var _this2=this;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliermatrix\"]={};var dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};var suppliermatrixArray=[];suppliermatrixArray=this.state.selectedRecord.nsuppliercatcode.map(function(item){var suppliermat={};suppliermat[\"nsuppliercode\"]=_this2.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"ntypecode\"]=1;suppliermat[\"sremarks\"]=\"\";suppliermat[\"ntransactionstatus\"]=transactionStatus.ACTIVE;suppliermat[\"ncategorycode\"]=item.value;//suppliermatrixArray.push(suppliermat);\nreturn suppliermat;});inputData['suppliermatrix']=suppliermatrixArray;inputData[\"napprovalstatus\"]=this.props.masterData.SelectedSupplier.napprovalstatus;var inputParam={classUrl:\"suppliermatrix\",methodUrl:\"SupplierMatrix\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;}},{key:\"saveMaterial\",value:function saveMaterial(saveType,formRef){var _this3=this;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliermatrix\"]={};var dataStateMaterial=undefined;var suppliermatrixArray=[];suppliermatrixArray=this.state.selectedRecord.nmaterialcatcode.map(function(item){var suppliermat={};suppliermat[\"nsuppliercode\"]=_this3.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"ntypecode\"]=2;suppliermat[\"sremarks\"]=\"\";suppliermat[\"ntransactionstatus\"]=transactionStatus.ACTIVE;suppliermat[\"ncategorycode\"]=item.value;//suppliermatrixArray.push(suppliermat);\nreturn suppliermat;});inputData['suppliermatrix']=suppliermatrixArray;var inputParam={classUrl:\"suppliermatrix\",methodUrl:\"SupplierMatrix\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef,dataStateMaterial:dataStateMaterial};return inputParam;}},{key:\"saveSupplierContact\",value:function saveSupplierContact(saveType,formRef){var inputData=[];var postParam={};inputData[\"userinfo\"]=this.props.userInfo;inputData[\"supplier\"]=this.props.masterData.SelectedSupplier;inputData[\"suppliercontact\"]={};var dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};// let suppliercontactArray = []\nvar suppliermat={};if(this.props.operation===\"update\"){postParam={inputListName:\"Suppliercontact\",selectedObject:\"SupplierContact\",primaryKeyField:\"nsuppliercontactcode\"};inputData[\"nsuppliercontactcode\"]=this.state.selectedRecord.nsuppliercontactcode;suppliermat[\"nsuppliercode\"]=this.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"sdescription\"]=this.state.selectedRecord.sdescription;suppliermat[\"sdesignation\"]=this.state.selectedRecord.sdesignation;suppliermat[\"smobileno\"]=this.state.selectedRecord.smobileno;suppliermat[\"stelephoneno\"]=this.state.selectedRecord.stelephoneno;suppliermat[\"semail\"]=this.state.selectedRecord.semail;suppliermat[\"ndefaultstatus\"]=this.state.selectedRecord.ndefaultstatus?this.state.selectedRecord.ndefaultstatus:\"4\";suppliermat[\"ssuppliercontactname\"]=this.state.selectedRecord.ssuppliercontactname;suppliermat[\"nsuppliercontactcode\"]=this.state.selectedRecord.nsuppliercontactcode;inputData['suppliercontact']=suppliermat;}else{suppliermat[\"nsuppliercode\"]=this.props.masterData.SelectedSupplier.nsuppliercode;//this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\nsuppliermat[\"sdescription\"]=this.state.selectedRecord.sdescription;suppliermat[\"sdesignation\"]=this.state.selectedRecord.sdesignation;suppliermat[\"smobileno\"]=this.state.selectedRecord.smobileno;suppliermat[\"stelephoneno\"]=this.state.selectedRecord.stelephoneno;suppliermat[\"semail\"]=this.state.selectedRecord.semail;suppliermat[\"ndefaultstatus\"]=this.state.selectedRecord.ndefaultstatus?this.state.selectedRecord.ndefaultstatus:\"4\";suppliermat[\"ssuppliercontactname\"]=this.state.selectedRecord.ssuppliercontactname;//suppliermat[\"ncategorycode\"] = item.value\n//   suppliercontactArray.push(suppliermat);\n//  return suppliermat;\ninputData['suppliercontact']=suppliermat;}var inputParam={classUrl:\"supplier\",methodUrl:\"SupplierContact\",inputData:inputData,operation:this.props.operation,postParam:postParam,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;}}]);return SupplierMaterialCategoryTab;}(React.Component);export default injectIntl(SupplierMaterialCategoryTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/SupplierMaterialCategoryTab.jsx"],"names":["React","Row","Col","Card","injectIntl","process","SlideOutModal","toast","AddSupplierCategory","AddMaterialCategory","Esign","DEFAULT_RETURN","constructOptionList","showEsign","onDropAttachFileList","create_UUID","validatePhoneNumber","validateEmail","deleteAttachmentDropZone","Lims_JSON_stringify","SupplierTabs","SupplierFileTab","transactionStatus","attachmentType","CustomTabs","AddSupplierFile","AddSupplierContact","SupplierMaterialCategoryTab","props","supplierDataStateChange","event","setState","dataState","materialDataStateChange","dataStateMaterial","onTabChange","tabProps","screenName","updateInfo","typeName","data","updateStore","onDropSupplierFile","attachedFiles","fieldName","maxSize","selectedRecord","state","actionType","tabDetail","addSupCatId","controlMap","has","get","ncontrolcode","deleteSupCatId","addMatCatId","deleteMatCatId","addSupCotId","editSupCotId","deleteSupCotId","supcatAddParam","operation","primaryKeyField","masterData","userInfo","ncontrolCode","supcatDeleteParam","methodUrl","matericatAddParam","materialcatDeleteParam","supcotAddParam","editcotAddParam","supcotDeleteParam","tabMap","Map","detailedFieldList","set","userRoleControlRights","inputParam","getSupplierCategoryComboDataService","undefined","skip","suppliercatColumnList","deleteRecord","getMaterialCategoryComboDataService","materialcatColumnList","selectedId","getSupplierContactComboDataService","supplierContactColumnList","supplierFile","getAvailableData","addSupplierFile","viewSupplierFile","defaultRecord","settings","closeModal","loadEsign","openChildModal","onComboChange","comboData","selectedSupplierCategory","selectedMaterialCategory","selectedSupplierContact","filedata","inputData","supplierfile","userinfo","classUrl","viewAttachment","onInputOnChange","optional","target","type","name","checked","ACTIVE","DEACTIVE","YES","NO","value","onSaveClick","saveType","formRef","saveSupplierCategory","saveMaterial","saveSupplierContact","onSaveSupplierFile","esignRights","nformcode","screenData","crudMaster","warn","intl","formatMessage","id","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","supplierFileArray","nsuppliercode","SelectedSupplier","nsupplierfilecode","nstatus","formData","FormData","FTP","Array","isArray","length","forEach","file","index","tempData","Object","assign","splittedFileName","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","sdescription","trim","NA","size","append","push","nfilesize","slinkfilename","slinkdescription","nlinkcode","JSON","stringify","postParam","inputListName","selectedObject","sformname","smodulename","slanguagename","isFileupload","supplierparam","napprovalstatus","DRAFT","expanded","toLowerCase","deleteAttachment","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","validateEsignCredential","take","parseInt","isOpen","dataResult","activeTab","supplierCategory","materialCategory","countryList","supplerCategoryFieldList","supplierContactFieldList","validationSuppliercatColumnList","validationMaterialcatColumnList","mandatoryFields","matmandatoryFields","item","mandatory","LINK","onDropAccepted","linkMaster","editFiles","previousProps","errorCode","filter","sort","countryListSupplier","supplierCategoryList","materialCategoryList","suppliermatrixArray","nsuppliercatcode","map","suppliermat","nmaterialcatcode","nsuppliercontactcode","sdesignation","smobileno","stelephoneno","semail","ndefaultstatus","ssuppliercontactname","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card } from 'react-bootstrap';//, Nav, Tab\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\r\nimport { injectIntl } from 'react-intl';//FormattedMessage,\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\n//import Axios from 'axios';\r\n//import rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport AddSupplierCategory from './AddSupplierCategory';\r\nimport AddMaterialCategory from './AddMaterialCategory';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {\r\n    constructOptionList, showEsign, onDropAttachFileList, create_UUID, validatePhoneNumber,\r\n    validateEmail, deleteAttachmentDropZone, Lims_JSON_stringify\r\n} from '../../components/CommonScript';\r\n//import DataGrid from '../../components/DataGrid';\r\nimport SupplierTabs from './SupplierTabs';\r\nimport SupplierFileTab from './SupplierFileTabs';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport AddSupplierFile from './AddSupplierFile';\r\nimport AddSupplierContact from './AddSupplierContact';\r\n\r\nclass SupplierMaterialCategoryTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        const dataStateMaterial = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'SupplierCategory-tab',\r\n            dataState: dataState,\r\n            dataStateMaterial: dataStateMaterial, supplierCategory: [], materialCategory: [], countryList: []\r\n        };\r\n        this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname',\r\n            'sremarks', 'ntransactionstatus'];\r\n        this.supplierContactFieldList = ['ssuppliercontactname', 'sdescription', 'sdesignation', 'saddress1', 'saddress2', 'saddress3',\r\n            'sphoneno', 'smobileno', 'sfaxno', 'semail', 'ndefaultstatus', 'ncountrycode'];\r\n        this.suppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"ssuppliercatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.materialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"smaterialcatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.supplierContactColumnList = [{ \"idsName\": \"IDS_SUPPLIERCONTACTNAME\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\", \"mandatory\": false, \"controlType\": \"checkbox\" }\r\n        ]\r\n        this.validationSuppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"nsuppliercatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n        this.validationMaterialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n\r\n\r\n    }\r\n    supplierDataStateChange = (event) => {\r\n        this.setState({\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    materialDataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateMaterial: event.dataState\r\n        });\r\n    }\r\n    render() {\r\n        const mandatoryFields = [];\r\n        let matmandatoryFields = [];\r\n\r\n        this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        if (this.props.screenName === \"IDS_MATERIALCATEGORY\") {\r\n            this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ?\r\n                matmandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        else if (this.props.screenName === \"IDS_SUPPLIERFILE\") {\r\n            if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                matmandatoryFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                // if (this.props.operation !== 'update') {\r\n                matmandatoryFields = [{ \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" }];\r\n                // }\r\n            }\r\n        }\r\n        else if (this.props.screenName === \"IDS_SUPPLIERCONTACT\") {\r\n            matmandatoryFields = [{ \"idsName\": \"IDS_SUPPLIERCONTACT\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            ]\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.openChildModal &&\r\n                    <SlideOutModal show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        updateStore={this.props.updateStore}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === \"IDS_SUPPLIERCATEGORY\" ? mandatoryFields : matmandatoryFields || []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign operation={this.props.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === \"IDS_SUPPLIERCATEGORY\" ?\r\n                                <AddSupplierCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedSupplierCategory={this.props.masterData.selectedSupplierCategory}\r\n                                    supplierCategory={this.state.supplierCategory || []} //{this.props.supplierCategory || []}\r\n                                /> :\r\n                                this.props.screenName === \"IDS_MATERIALCATEGORY\" ?\r\n                                    <AddMaterialCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n                                        operation={this.props.operation}\r\n                                        selectedMaterialCategory={this.props.masterData.selectedMaterialCategory}\r\n                                        materialCategory={this.state.materialCategory}//{this.props.materialCategory}\r\n                                    /> :\r\n                                    this.props.screenName === \"IDS_SUPPLIERCONTACT\" ?\r\n                                        <AddSupplierContact\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            operation={this.props.operation}\r\n                                            formatMessage={this.props.intl.formatMessage}\r\n                                            selectedSupplierContact={this.props.masterData.selectedSupplierContact}\r\n                                            countryList={this.state.countryList || []}\r\n                                        /> :\r\n                                        this.props.screenName === \"IDS_SUPPLIERFILE\" ?\r\n                                            <AddSupplierFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onDrop={this.onDropSupplierFile}\r\n                                                onDropAccepted={this.onDropAccepted}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                actionType={this.state.actionType}\r\n                                                onComboChange={this.onComboChange}\r\n                                                linkMaster={this.props.linkMaster}\r\n                                                editFiles={this.props.editFiles}\r\n                                                maxSize={20}\r\n                                                // maxFiles={this.props.operation === \"update\" ? 1 : 3}\r\n                                                // multiple={this.props.operation === \"update\" ? false : true}\r\n                                                maxFiles={1}\r\n                                                multiple={false}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })}\r\n                                                name=\"supplierfilename\"\r\n                                            /> : \"\"\r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onDropSupplierFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n\r\n    tabDetail = () => {\r\n        const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode\r\n\r\n        const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode\r\n\r\n        const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode\r\n\r\n        const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode\r\n\r\n        const addSupCotId = this.props.controlMap.has(\"AddSupplierContact\") && this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode\r\n\r\n        const editSupCotId = this.props.controlMap.has(\"EditSupplierContact\") && this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode\r\n\r\n        const deleteSupCotId = this.props.controlMap.has(\"DeleteSupplierContact\") && this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode\r\n\r\n        const supcatAddParam = {\r\n            screenName: \"IDS_SUPPLIERCATEGORY\", operation: \"create\", primaryKeyField: \"nsuppliercatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCatId\r\n        };\r\n\r\n        const supcatDeleteParam = { screenName: \"IDS_SUPPLIERCATEGORY\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteSupCatId };\r\n\r\n        const matericatAddParam = {\r\n            screenName: \"IDS_MATERIALCATEGORY\", operation: \"create\", primaryKeyField: \"nmaterialcatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addMatCatId\r\n        };\r\n\r\n        const materialcatDeleteParam = { screenName: \"IDS_MATERIALCATEGORY\", methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteMatCatId };\r\n\r\n        const supcotAddParam = {\r\n            screenName: \"IDS_SUPPLIERCONTACT\", operation: \"create\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCotId\r\n        };\r\n        const editcotAddParam = {\r\n            screenName: \"IDS_SUPPLIERCONTACT\", operation: \"update\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: editSupCotId\r\n        };\r\n\r\n\r\n        const supcotDeleteParam = { screenName: \"IDS_SUPPLIERCONTACT\", methodUrl: \"Supplier\", operation: \"delete\", ncontrolCode: deleteSupCotId };\r\n\r\n        const tabMap = new Map();\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_DESIGNATION\", \"dataField\": \"sdesignation\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_MOBILENO\", \"dataField\": \"smobileno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_TELEPHONENO\", \"dataField\": \"stelephoneno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\" },\r\n\r\n        ];\r\n\r\n        tabMap.set(\"IDS_SUPPLIERCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addSupCatId}\r\n            addParam={supcatAddParam}\r\n            comboDataService={this.props.getSupplierCategoryComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCATEGORY\"}\r\n            addTitleDefaultMsg={'SupplierCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierCategory\"}\r\n            dataResult={process(this.props.masterData[\"SupplierCategory\"] || [], this.state.dataState)}\r\n            // dataState={this.state.dataState}\r\n            // dataStateChange={this.supplierDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\" || this.props.screenName === \"IDS_SUPPLIERCATEGORY\") ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.suppliercatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_MATERIALCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addMatCatId}\r\n            addParam={matericatAddParam}\r\n            comboDataService={this.props.getMaterialCategoryComboDataService}\r\n            addTitleIDS={\"IDS_MATERIALCATEGORY\"}\r\n            addTitleDefaultMsg={'MaterialCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"MaterialCategory\"}\r\n            dataResult={process(this.props.masterData[\"MaterialCategory\"] || [], this.state.dataStateMaterial)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\" || this.props.screenName === \"IDS_MATERIALCATEGORY\") ? this.state.dataStateMaterial : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataStateMaterial: event.dataState })}\r\n            columnList={this.materialcatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={materialcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_SUPPLIERCONTACT\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            selectedId={this.props.selectedId}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            fetchRecord={this.props.getSupplierContactComboDataService}\r\n            addId={addSupCotId}\r\n            editId={editSupCotId}\r\n            editParam={editcotAddParam}\r\n            addParam={supcotAddParam}\r\n            comboDataService={this.props.getSupplierContactComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCONTACT\"}\r\n            addTitleDefaultMsg={'SupplierContact'}\r\n            primaryKeyField={\"nsuppliercontactcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierContact\"}\r\n            dataResult={process(this.props.masterData[\"SupplierContact\"] || [], this.state.dataState)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || supcotAddParam.screenName === \"IDS_SUPPLIERCONTACT\") ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.supplierContactColumnList}\r\n            methodUrl={\"SupplierContact\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcotDeleteParam}\r\n            detailedFieldList={detailedFieldList}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n\r\n        tabMap.set(\"IDS_FILE\",\r\n            <SupplierFileTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                supplierFile={this.props.masterData.supplierFile || []}\r\n                getAvailableData={this.props.getAvailableData}\r\n                addSupplierFile={this.props.addSupplierFile}\r\n                viewSupplierFile={this.viewSupplierFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName={\"IDS_SUPPLIERFILE\"}\r\n                settings={this.props.settings}\r\n                masterData={this.props.masterData}\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        let selectedId = this.props.selectedId;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = '';\r\n                selectedRecord['esigncomments'] = '';\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n\r\n        if (fieldName === \"nsuppliercatcode\") {\r\n            let selectedSupplierCategory = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierCategory });\r\n        }\r\n        if (fieldName === \"nmaterialcatcode\") {\r\n            let selectedMaterialCategory = comboData;\r\n            this.setState({ selectedRecord, selectedMaterialCategory });\r\n        }\r\n        if (fieldName === \"ncountrycode\") {\r\n            let selectedSupplierContact = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierContact });\r\n        }\r\n    }\r\n    viewSupplierFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                supplierfile: filedata,\r\n                userinfo: this.props.userInfo\r\n            },\r\n            classUrl: \"supplier\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedSupplierFile\",\r\n            screenName: \"Supplier File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    onInputOnChange = (event, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            // else if (event.target.name === \"nlockmode\")\r\n            //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = optional;\r\n        }\r\n        else {\r\n            if (event.target.name === \"stelephoneno\" || event.target.name === \"smobileno\") {\r\n                if (event.target.value !== \"\") {\r\n                    event.target.value = validatePhoneNumber(event.target.value);\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                }\r\n                else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n            }\r\n            else\r\n                selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            let { dataState, dataStateMaterial } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n                dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n            }\r\n            this.setState({ isOpen, activeTab: 'SupplierCategory-tab', dataState, dataStateMaterial });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n\r\n            const countryList = constructOptionList(this.props.selectedRecord.countryList || [], \"ncountrycode\",\r\n                \"scountryname\", undefined, undefined, undefined);\r\n            const countryListSupplier = countryList.get(\"OptionList\");\r\n            this.setState({ selectedRecord: this.props.selectedRecord, countryList: countryListSupplier });\r\n        }\r\n        let { dataState, dataStateMaterial } = this.state;\r\n        if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\r\n            dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            this.setState({ dataState, dataStateMaterial });\r\n        }\r\n\r\n        // {\r\n        //     dataState={...dataState,filter:undefined,sort:undefined}\r\n        //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\r\n        //     this.setState({ dataState, dataStateMaterial });\r\n        // }\r\n        if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\r\n\r\n            const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\",\r\n                \"ssuppliercatname\", undefined, undefined, undefined);\r\n            const supplierCategoryList = supplierCategory.get(\"OptionList\");\r\n\r\n            const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            const materialCategoryList = materialCategory.get(\"OptionList\");\r\n\r\n            this.setState({ supplierCategory: supplierCategoryList, materialCategory: materialCategoryList });\r\n        }\r\n    }\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\r\n\r\n            let inputParam = {};\r\n\r\n            if (this.props.screenName === \"IDS_SUPPLIERCATEGORY\") {\r\n                inputParam = this.saveSupplierCategory(saveType, formRef);\r\n            }\r\n            else if (this.props.screenName === \"IDS_MATERIALCATEGORY\") {\r\n                inputParam = this.saveMaterial(saveType, formRef);\r\n            }\r\n            else if (this.props.screenName === \"IDS_SUPPLIERCONTACT\") {\r\n                inputParam = this.saveSupplierContact(saveType, formRef);\r\n            }\r\n            else if (this.props.screenName === \"IDS_SUPPLIERFILE\") {\r\n                inputParam = this.onSaveSupplierFile(saveType, formRef);\r\n            }\r\n\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }));\r\n        }\r\n\r\n    }\r\n\r\n    saveSupplierCategory(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 1;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n         \r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n        inputData[\"napprovalstatus\"]=this.props.masterData.SelectedSupplier.napprovalstatus;\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    saveMaterial(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataStateMaterial = undefined;\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 2;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataStateMaterial\r\n        }\r\n        return inputParam;\r\n    }\r\n    saveSupplierContact(saveType, formRef) {\r\n        let inputData = [];\r\n        let postParam = {};\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliercontact\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n        // let suppliercontactArray = []\r\n\r\n        let suppliermat = {}\r\n        if (this.props.operation === \"update\") {\r\n            postParam = { inputListName: \"Suppliercontact\", selectedObject: \"SupplierContact\", primaryKeyField: \"nsuppliercontactcode\" };\r\n\r\n            inputData[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n            suppliermat[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            inputData['suppliercontact'] = suppliermat;\r\n\r\n        }\r\n        else {\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n\r\n            //suppliermat[\"ncategorycode\"] = item.value\r\n            //   suppliercontactArray.push(suppliermat);\r\n            //  return suppliermat;\r\n\r\n            inputData['suppliercontact'] = suppliermat;\r\n        }\r\n        let inputParam = {\r\n            classUrl: \"supplier\",\r\n            methodUrl: \"SupplierContact\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, postParam, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n\r\n\r\n    onSaveSupplierFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let supplierFileArray = [];\r\n        let supplierFile = {\r\n            nsuppliercode: this.props.masterData.SelectedSupplier.nsuppliercode,\r\n            nsupplierfilecode: selectedRecord.nsupplierfilecode ? selectedRecord.nsupplierfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n            // ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, supplierFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nsupplierfilecode && selectedRecord.nsupplierfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = Lims_JSON_stringify(file.name, false);\r\n                    tempData[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    supplierFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                supplierFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.sfilename, false);\r\n                supplierFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\", false);\r\n                supplierFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                supplierFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                supplierFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                supplierFileArray.push(supplierFile);\r\n            }\r\n        } else {\r\n            supplierFile[\"sfilename\"] = Lims_JSON_stringify(selectedRecord.slinkfilename.trim(), false);\r\n            supplierFile[\"sdescription\"] = Lims_JSON_stringify(selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\", false);\r\n            supplierFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            supplierFile[\"ssystemfilename\"] = \"\";\r\n            supplierFile[\"nfilesize\"] = 0;\r\n            supplierFileArray.push(supplierFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"supplierfile\", JSON.stringify(supplierFileArray));\r\n        // formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\r\n\r\n\r\n\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n        if (this.props.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n            selectedId = selectedRecord[\"nsupplierfilecode\"];\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sformname: Lims_JSON_stringify(this.props.userInfo.sformname),\r\n                    smodulename: Lims_JSON_stringify(this.props.userInfo.smodulename),\r\n\t//ALPD-1620(while saving the file and link,audit trail is not captured the respective language)\r\n                    slanguagename: Lims_JSON_stringify(this.props.userInfo.slanguagename)\r\n                }\r\n            },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"supplier\",\r\n            saveType, formRef, methodUrl: \"SupplierFile\", postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteRecord = (supplierparam) => {\r\n        if (this.props.masterData.SelectedSupplier.napprovalstatus !== transactionStatus.DRAFT) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        }\r\n        else {\r\n            if (supplierparam.selectedRecord.expanded !== undefined) {\r\n                delete (supplierparam.selectedRecord.expanded);\r\n            }\r\n            let inputParam = {};\r\n            if (this.props.screenName === \"IDS_SUPPLIERFILE\") {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \t//ALPD-1620(while saving the file and link,audit trail is not captured the respective language)\r\n                        \"userinfo\": {...this.props.userInfo, slanguagename: Lims_JSON_stringify(this.props.userInfo.slanguagename)},\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            } else if (supplierparam.screenName === \"IDS_SUPPLIERCONTACT\") {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: \"SupplierContact\",\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]:{ ...supplierparam.selectedRecord,\r\n                        napprovalstatus:this.props.masterData.SelectedSupplier.napprovalstatus},\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n            else {\r\n                inputParam = {\r\n                    classUrl: \"suppliermatrix\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: supplierparam.screenName, operation: supplierparam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\n\r\nexport default injectIntl(SupplierMaterialCategoryTab);\r\n\r\n"]},"metadata":{},"sourceType":"module"}