{"ast":null,"code":"var _jsxFileName = \"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\src\\\\components\\\\TransactionListMaster.jsx\";\nimport React from 'react';\nimport { injectIntl } from 'react-intl';\nimport { InputGroup, FormControl, Media, ListGroup, Form, Nav, Col } from 'react-bootstrap';\nimport { ClientList, SearchAdd, MediaHeader, MediaSubHeader, MediaLabel, MediaSubHeaderText, SearchIcon, ContentPanel } from '../components/App.styles';\nimport { ListMasterWrapper } from '../components/list-master/list-master.styles';\nimport { getActionIcon } from '../components/HoverIcons';\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport AdvFilter from './AdvFilter';\nimport { toast } from 'react-toastify';\nimport { getStatusIcon } from './StatusIcon';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { designProperties, transactionStatus } from './Enumeration';\nimport QuickSearch from './QuickSearch';\nimport FilterAccordion from './custom-accordion/filter-accordion.component';\nimport '../pages/registration/registration.css';\nimport { connect } from 'react-redux';\nimport { ListView } from '@progress/kendo-react-listview';\nimport { filterRecordBasedOnTwoArrays, filterStatusBasedOnTwoArrays, getSameRecordFromTwoArrays } from './CommonScript';\nimport CustomPager from './CustomPager';\nimport ReactTooltip from 'react-tooltip';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown, faChevronUp, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport CustomSwitch from './custom-switch/custom-switch.component';\nimport Iframe from 'react-iframe'; //import useLongPress from \"../actions/longPress\";\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass TransationListMaster extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n      this.props.scrollChange();\n    };\n\n    this.filterColumn = event => {\n      let filterValue = event.target.value;\n\n      if (event.keyCode === 13) {\n        this.props.filterColumnData(filterValue, this.props.filterParam, this.props.searchListName);\n      }\n    };\n\n    this.selectMultiple = (selectionKey, inputData) => {\n      let selectedArray = this.props.selectedMaster;\n      let dataList = [];\n      let removeElementFromArray = []; // let MultipleSelectCount = this.props.Login.settings[3];\n\n      let masterList = this.props.masterList && this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take);\n\n      if (selectionKey === transactionStatus.ALL) {\n        //Select All\n        let filteredList = filterRecordBasedOnTwoArrays(masterList, selectedArray, this.props.primaryKeyField);\n        filteredList.map((item, index) => {\n          // if (index < this.state.take) {\n          selectedArray.push(item);\n          dataList.push(item[this.props.primaryKeyField]); // }\n\n          return null;\n        });\n        inputData[`${this.props.selectedListName}`] = selectedArray;\n        inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\");\n        inputData[`${this.props.objectName}`] = selectedArray;\n        inputData[\"checkBoxOperation\"] = 1;\n        inputData[\"childTabsKey\"] = this.props.childTabsKey;\n\n        if (dataList.length > 0) {\n          this.props.getMasterDetail(inputData, true);\n        } // else {\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_NOITEMSFOUND\" }))\n        // }\n\n      } else if (selectionKey === transactionStatus.NA) {\n        let filteredList = getSameRecordFromTwoArrays(masterList, selectedArray, this.props.primaryKeyField);\n\n        if (filteredList.length > 0) {\n          if (selectedArray.length === filteredList.length) {\n            selectedArray = [filteredList[0]];\n            dataList = [selectedArray[0][this.props.primaryKeyField]];\n          } else {\n            selectedArray = filterRecordBasedOnTwoArrays(selectedArray, masterList, this.props.primaryKeyField);\n            dataList = [selectedArray[0][this.props.primaryKeyField]];\n          }\n\n          inputData[`${this.props.selectedListName}`] = selectedArray;\n          inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\");\n          inputData[`${this.props.objectName}`] = selectedArray;\n          inputData[\"checkBoxOperation\"] = 6;\n          inputData[\"childTabsKey\"] = this.props.childTabsKey;\n          inputData[\"removeElementFromArray\"] = filteredList;\n\n          if (dataList.length > 0) {\n            this.props.getMasterDetail(inputData, false);\n          }\n        }\n      } else {\n        //Select Status Wise\n        selectedArray = filterRecordBasedOnTwoArrays(selectedArray, masterList, this.props.primaryKeyField);\n        removeElementFromArray = getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField);\n        masterList.map(item => {\n          // if (index < this.state.take) {\n          if (item[this.props.selectionField] === selectionKey) {\n            selectedArray.push(item);\n            dataList.push(item[this.props.primaryKeyField]);\n          }\n\n          return null;\n        }); // this.props.masterList && this.props.masterList.map((item) => {\n        //     if (item[this.props.selectionField] === selectionKey) {\n        //         selectedArray.push(item)\n        //         dataList.push(item[this.props.primaryKeyField]);\n        //     }\n        //     return null;\n        // })\n\n        inputData[`${this.props.selectedListName}`] = selectedArray;\n        inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\");\n        inputData[`${this.props.objectName}`] = selectedArray;\n        inputData[\"checkBoxOperation\"] = 5;\n        inputData[\"childTabsKey\"] = this.props.childTabsKey;\n        inputData[\"removeElementFromArray\"] = removeElementFromArray;\n\n        if (selectedArray.length > 0) {\n          this.props.getMasterDetail(inputData, true);\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_NOITEMSFOUND\"\n          }));\n        }\n      }\n    };\n\n    this.getselectedDetailAvoidDuplicateProps = (master, inputData, needMultiSelect) => {\n      if (this.props.selectedMaster.length === 1 && this.props.selectedMaster.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) !== -1 || needMultiSelect === false) {\n        // const showMore = {};\n        this.getSelectedDetail(master, inputData, needMultiSelect);\n      }\n\n      this.setState({\n        showList: null,\n        index: null\n      });\n    };\n\n    this.getSelectedDetail = (master, inputData, needMultiSelect) => {\n      let bool;\n      let selectedMaster;\n\n      if (needMultiSelect === false) {\n        if (this.state.multipleselectionFlag) {\n          selectedMaster = getSameRecordFromTwoArrays(this.props.selectedMaster, this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.primaryKeyField);\n        } else {\n          selectedMaster = master;\n        }\n\n        if (selectedMaster.length > 2) {\n          bool = true;\n        }\n\n        if (selectedMaster.length === 1 && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === master[this.props.primaryKeyField]) !== -1) {\n          bool = false;\n        } else {\n          bool = true;\n        }\n      } else {\n        bool = true;\n      }\n\n      if (bool) {\n        let selectedArray = this.props.selectedMaster ? needMultiSelect ? this.props.selectedMaster : this.state.multipleselectionFlag ? filterRecordBasedOnTwoArrays(this.props.selectedMaster, this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.primaryKeyField) : [] : [];\n        let dataList = [];\n        let removeElementFromArray = [];\n        const indexValue = selectedArray ? selectedArray.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) : -2;\n\n        if (indexValue === -1) {\n          //add new item\n          // let MultipleSelectCount = this.props.Login.settings[3];\n          // if (selectedArray.length < MultipleSelectCount) {\n          removeElementFromArray = this.state.multipleselectionFlag ? getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField) : getSameRecordFromTwoArrays(this.props.masterList, this.props.selectedMaster, this.props.primaryKeyField);\n\n          if (this.props.needMultiSelect) {\n            //uselect an Item\n            selectedArray.push(master);\n            dataList.push(master[this.props.primaryKeyField]);\n          } else {\n            //Click new Item\n            selectedArray = [master];\n            dataList = [master[this.props.primaryKeyField]];\n          }\n\n          inputData[`${this.props.selectedListName}`] = selectedArray;\n          inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\");\n          inputData[`${this.props.objectName}`] = selectedArray;\n          inputData[\"checkBoxOperation\"] = needMultiSelect ? 1 : this.state.multipleselectionFlag ? 5 : 3;\n          inputData[\"childTabsKey\"] = this.props.childTabsKey;\n          inputData[\"removeElementFromArray\"] = needMultiSelect ? [] : removeElementFromArray;\n\n          if (selectedArray.length > 0) {\n            this.props.getMasterDetail(inputData, true);\n          } // } else {\n          //     toast.warn(`${this.props.intl.formatMessage({ id: \"IDS_SELECTIONLIMITEXCEED\" })} ${MultipleSelectCount} ${this.props.intl.formatMessage({ id: \"IDS_RECORDS\" })}`);\n          // }\n\n        } else if (needMultiSelect) {\n          // let removeElementFromArray = [];\n          if (needMultiSelect) {\n            //uselect an Item\n            removeElementFromArray.push(this.props.selectedMaster[indexValue]);\n            selectedArray.splice(indexValue, 1);\n            dataList.splice(indexValue, 1);\n          } else {\n            //Click new Item\n            removeElementFromArray.push(master);\n            selectedArray.push(master);\n            dataList.push(master[this.props.primaryKeyField]);\n          }\n\n          inputData[`${this.props.selectedListName}`] = selectedArray;\n          inputData[`${this.props.primaryKeyField}`] = selectedArray.map(x => x[this.props.primaryKeyField]).join(\",\");\n          inputData[`${this.props.objectName}`] = selectedArray;\n          inputData[\"checkBoxOperation\"] = needMultiSelect ? 2 : 4;\n          inputData[\"childTabsKey\"] = this.props.childTabsKey;\n          inputData[\"removeElementFromArray\"] = removeElementFromArray;\n\n          if (selectedArray.length > 0) {\n            this.props.getMasterDetail(inputData, false);\n          }\n        } else {\n          selectedArray.push(master);\n          dataList.push(master[this.props.primaryKeyField]);\n          inputData[`${this.props.selectedListName}`] = selectedArray;\n          inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\");\n          inputData[`${this.props.objectName}`] = selectedArray;\n          inputData[\"checkBoxOperation\"] = needMultiSelect ? 1 : this.state.multipleselectionFlag ? 5 : 3;\n          inputData[\"childTabsKey\"] = this.props.childTabsKey;\n\n          if (selectedArray.length > 0) {\n            this.props.getMasterDetail(inputData, true);\n          }\n        }\n      }\n    };\n\n    this.onCheckBoxselect = (event, master, inputData) => {\n      if (this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === master[this.props.primaryKeyField]) === -1) {\n        this.getSelectedDetail(master, inputData, true);\n      } else if (this.props.selectedMaster.length > 1) {\n        this.getSelectedDetail(master, inputData, true);\n      }\n\n      this.setState({\n        showList: null\n      });\n      event.preventDefault();\n      event.stopPropagation(); // else{\n      //     event.preventDefault();\n      //     event.stopPropagation();\n      //     this.getSelectedDetail(master, inputData, true);\n      // }\n    };\n\n    this.onClickActions1 = (event, dataItem) => {\n      event.stopPropagation();\n      this.props.ListmasterSwitch({\n        event,\n        nusersrolehidescreencode: dataItem.nusersrolehidescreencode\n      });\n    };\n\n    this.onClickActions = (event, master, action) => {\n      event.stopPropagation();\n      let selectedArray = this.props.selectedMaster ? this.props.selectedMaster : [];\n      let dataList = selectedArray.map(item => item[this.props.primaryKeyField]);\n      const indexValue = this.props.selectedMaster ? this.props.selectedMaster.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) : -2;\n\n      if (indexValue === -1) {\n        if (this.props.needMultiSelect) {\n          selectedArray.push(master);\n          dataList.push(master[this.props.primaryKeyField]);\n        } else {\n          selectedArray = [master];\n          dataList = [master[this.props.primaryKeyField]];\n        }\n      }\n\n      action.onClick({ ...action.inputData,\n        [action.objectName]: master,\n        [this.props.selectedListName]: selectedArray,\n        [this.props.primaryKeyField]: dataList.join(\",\")\n      });\n    };\n\n    this.showHideDetails = (event, index) => {\n      event.stopPropagation();\n      let showMore = { ...this.state.showMore,\n        [index]: !this.state.showMore[index]\n      }; //   const check=showMore.map(item=>{return})\n\n      const expandAll = [...Object.values(showMore)];\n      let allFieldExpanded = this.state.allFieldExpanded;\n\n      if (expandAll.includes(false)) {\n        allFieldExpanded = false;\n      } else {\n        let len = this.props.masterList.length;\n\n        if (len === expandAll.length) {\n          allFieldExpanded = true;\n        }\n      }\n\n      this.setState({\n        showMore,\n        allFieldExpanded,\n        expandCheck: expandAll,\n        disableClick: true\n      });\n    };\n\n    this.ExpandAll = masterData => {\n      const allFieldExpanded = this.state.allFieldExpanded;\n      let showMore = {};\n\n      if (!allFieldExpanded) {\n        showMore = masterData.map((master, index) => {\n          return showMore = { ...showMore,\n            [index]: true\n          };\n        });\n      }\n\n      this.setState({\n        showMore,\n        allFieldExpanded: !allFieldExpanded\n      });\n    };\n\n    this.transactionListDesign = props => {\n      let item = props.dataItem;\n      const customswitchposition = {\n        // 'padding-left': '290px',\n        'padding-top': '-20px'\n      }; // let index;\n      // const onLongPress = (e) => {\n      //     e.preventDefault();\n      //     e.stopPropagation();\n      //     this.setState({\n      //         index: props.index === this.state.index ? null : props.index\n      //     })\n      // };\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactTooltip, {\n        place: \"bottom\",\n        id: \"tooltip-common-wrap\",\n        globalEventOff: \"click\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 16\n        }\n      }), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        as: \"li\",\n        className: `${this.state.showList === props.index ? \"hover\" : \"\"}  list-custom-ico-on-hover list-bgcolor  ${this.props.selectedMaster && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1 ? \"active\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Media, {\n        onClick: () => this.getselectedDetailAvoidDuplicateProps(item, { ...this.props.inputParam\n        }, false),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 21\n        }\n      }, this.props.needMultiSelect ? /*#__PURE__*/React.createElement(Form.Check, {\n        custom: true,\n        type: \"checkbox\",\n        id: \"customControl\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Form.Check.Input, {\n        type: \"checkbox\",\n        id: `tm_customCheck_${this.props.listName}_${props.index}`,\n        checked: this.props.selectedMaster && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1 ? true : false,\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Form.Check.Label, {\n        className: `mr-3`,\n        onClick: event => this.onCheckBoxselect(event, item, { ...this.props.inputParam\n        }, true),\n        htmlFor: `tm_customCheck_${this.props.listName}_${props.index}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 33\n        }\n      })) : \"\", /*#__PURE__*/React.createElement(Media.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ContentPanel, {\n        className: \"product-category title-grid-wrap-width-md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(ContentPanel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(MediaHeader, {\n        \"data-tip\": item[this.props.mainField] ? item[this.props.mainField] : item['jsondata'][this.props.mainField],\n        \"data-for\": \"tooltip-common-wrap\",\n        style: {\n          maxWidth: this.props.objectName === \"test\" ? \"30rem\" : \"15rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 37\n        }\n      }, this.props.mainFieldLabel && this.props.mainFieldLabel.concat(\" : \"), item[this.props.mainField] ? item[this.props.mainField] : item['jsondata'][this.props.mainField], console.log(item[this.props.mainField] ? item[this.props.mainField] : item['jsondata'][this.props.mainField])), this.props.showStatusLink && /*#__PURE__*/React.createElement(Nav.Link, {\n        className: \"add-txt-btn blue-text ml-1 pl-2\",\n        style: {\n          padding: \"0\",\n          display: 'inline',\n          color: this.props.statusColor ? item[this.props.statusColor] : item.scolorhexcode\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 41\n        }\n      }, this.props.showStatusIcon && getStatusIcon(item[this.props.statusField]), this.props.showStatusName && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"ml-1 text-nowrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 75\n        }\n      }, item[this.props.statusFieldName])))), /*#__PURE__*/React.createElement(MediaSubHeaderText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 29\n        }\n      }, this.props.subFields && this.props.subFields.map((field, index) => this.props.subFieldsLabel ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 45\n        }\n      }, `${field[designProperties.LABEL] ? this.props.intl.formatMessage({\n        id: field[designProperties.LABEL]\n      }) + \" : \" : \"\"}`), /*#__PURE__*/React.createElement(MediaLabel, {\n        style: {\n          color: field[designProperties.COLOUR] ? item.scolorhexcode || item[field[designProperties.COLOUR]] : \"\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 45\n        }\n      }, item[field[designProperties.VALUE]]), index % 2 === 0 && index !== this.props.subFields.length - 1 ? /*#__PURE__*/React.createElement(MediaLabel, {\n        className: \"seperator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 109\n        }\n      }, \"|\") : \"\", (index + 1) % 2 === 0 ? /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 70\n        }\n      }) : \"\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaLabel, {\n        style: {\n          color: field[designProperties.COLOUR] ? item.scolorhexcode || item[field[designProperties.COLOUR]] : \"\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 45\n        }\n      }, ` ${item[field[designProperties.VALUE]]}`), index % 2 === 0 && index !== this.props.subFields.length - 1 ? /*#__PURE__*/React.createElement(MediaLabel, {\n        className: \"seperator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 109\n        }\n      }, \"|\") : \"\", (index + 1) % 2 === 0 ? /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 70\n        }\n      }) : \"\")), this.props.moreField && this.props.moreField.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        name: `show-wrap_${props.index}`,\n        className: `show-more-action showmore`,\n        onClick: event => this.showHideDetails(event, props.index, \"inner\"),\n        style: {\n          display: \"inline\"\n        },\n        title: this.props.intl.formatMessage({\n          id: this.state.allFieldExpanded ? \"IDS_SHOWLESS\" : this.state.showMore[props.index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        className: `show-more-link mr-1 showmore`,\n        htmlFor: `show-wrap_${props.index}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 49\n        }\n      }, ` ${this.props.intl.formatMessage({\n        id: this.state.allFieldExpanded ? \"IDS_SHOWLESS\" : this.state.showMore[props.index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\"\n      })}`), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        size: \"sm\",\n        htmlFor: `show-wrap_${props.index}`,\n        icon: this.state.allFieldExpanded ? faChevronUp : this.state.showMore[props.index] ? faChevronUp : faChevronDown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 49\n        }\n      }))), /*#__PURE__*/React.createElement(Media.Body, {\n        className: `show-more-wrap ${this.state.allFieldExpanded ? \"showmore\" : this.state.showMore[props.index] ? \"showmore\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(MediaSubHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 45\n        }\n      }, this.props.moreField.map((field, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 57\n        }\n      }, `${field[1] ? this.props.intl.formatMessage({\n        id: field[designProperties.LABEL]\n      }) + \" : \" : \"\"} ${item[field[designProperties.VALUE]]}`), index % 2 === 0 && index !== this.props.moreField.length - 1 ? /*#__PURE__*/React.createElement(MediaLabel, {\n        className: \"seperator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 121\n        }\n      }, \"|\") : \"\", (index + 1) % 2 === 0 ? /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 82\n        }\n      }) : \"\"))))) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: `icon-list-sm-wrap ${props.index === this.state.index ? 'active' : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 25\n        }\n      }, this.props.actionIcons && this.props.selectedMaster && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1 && this.props.actionIcons.length > 0 ? // <div onClick={onLongPress} className=\"icon-list-sm\" >\n      //  <div className=\"icon-list-sm\" >\n      //      <FontAwesomeIcon size=\"sm\" icon={faChevronDown} />\n      //  </div>\n      \"\" : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"icon-group-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 25\n        }\n      }, this.props.actionIcons && this.props.actionIcons.length > 0 && this.props.actionIcons.map(action => action.needConditionalIcon ? action.conditionalIconFunction(item) && /*#__PURE__*/React.createElement(Nav.Link, {\n        className: \"btn btn-circle outline-grey ml-2\",\n        \"data-for\": \"tooltip-common-wrap\",\n        \"data-place\": action.dataplace && action.dataplace ? action.dataplace : \"\",\n        \"data-tip\": action.title,\n        hidden: action.hidden === undefined ? true : action.hidden,\n        onClick: event => this.onClickActions(event, item, action),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 37\n        }\n      }, getActionIcon(action.controlname)) : /*#__PURE__*/React.createElement(Nav.Link, {\n        className: \"btn btn-circle outline-grey ml-2\",\n        \"data-for\": \"tooltip-common-wrap\",\n        \"data-tip\": action.title,\n        \"data-place\": action.dataplace && action.dataplace ? action.dataplace : \"\",\n        hidden: action.hidden === undefined ? true : action.hidden,\n        onClick: event => this.onClickActions(event, item, action),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 37\n        }\n      }, getActionIcon(action.controlname))))), this.props.ListmasterSwitch && this.props.ListScreenHidebtn && /*#__PURE__*/React.createElement(\"span\", {\n        \"data-for\": \"screenrights_wrap\",\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_ENABLEDISABLESCREEN\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: customswitchposition,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CustomSwitch, {\n        type: \"switch\",\n        id: props.dataItem.nusersrolehidescreencode //  id={\"ListmasterSwitch\"}\n        ,\n        onChange: event => this.props.ListmasterSwitch(event, props.dataItem.nusersrolehidescreencode),\n        checked: props.dataItem.needrights === transactionStatus.YES ? true : false,\n        name: props.dataItem.nusersrolehidescreencode,\n        className: \"custom-switch-md customeswitchmanual\" //data-tip={\"Enable to group by screen name\"}\n        // data-for=\"screenrights_wrap\"\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 30\n        }\n      })))));\n    };\n\n    this.state = {\n      showMore: {},\n      allFieldExpanded: false,\n      buttonCount: 4,\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[3]) : 5,\n      info: true,\n      expandCheck: [],\n      scrollHeight: '100vh',\n      multipleselectionFlag: this.props.Login.settings && parseInt(this.props.Login.settings[7]) === 3 ? true : false,\n      showList: null,\n      disableClick: false\n    };\n  }\n\n  componentDidMount() {\n    // let val = document.getElementsByClassName('navbar')[0].clientHeight;\n    setTimeout(() => {\n      const pagerheight = document.querySelector('.pager_wrap');\n      const navHeight = document.querySelector('.navbar.navbar-expand');\n      const filterAccHeight = document.querySelector('.filter-accordian');\n      const filterHeight = document.querySelector('.filter-wrap-group');\n      const breadCrumbsHeight = document.querySelector('.breadcrumbs-scroll-container');\n      let val = navHeight ? navHeight.clientHeight : 53;\n\n      if (this.props.needAccordianFilter) {\n        val = val + (filterAccHeight ? filterAccHeight.clientHeight : 45);\n      }\n\n      if (this.props.needFilter) {\n        val = val + (breadCrumbsHeight ? breadCrumbsHeight.clientHeight : 36);\n      }\n\n      if (!this.props.notSearchable) {\n        val = val + (filterHeight ? filterHeight.clientHeight : 55);\n      }\n\n      if (!this.props.hidePaging) {\n        val = val + (pagerheight ? pagerheight.clientHeight : 32);\n      }\n\n      this.setState({\n        scrollHeight: 'calc(100vh - ' + val + 'px)'\n      });\n    }, 1000);\n  }\n\n  render() {\n    //console.log(this.props);\n    // const { skip, take } = this.state;\n    let checkStatus = '';\n    let masterList = this.props.masterList ? this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take) : [];\n    let selectedMaster = this.props.selectedMaster && this.props.masterList ? getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField) : [];\n\n    if (masterList && masterList.length > 0 && selectedMaster && selectedMaster.length > 0) {\n      if (masterList.length === selectedMaster.length) {\n        checkStatus = 'all';\n      } else if (masterList.length !== selectedMaster.length) {\n        checkStatus = 'partial';\n      } else if (this.props.selectedMaster.length === 0) {\n        checkStatus = '';\n      }\n    } // className=\"client-list-scroll\"\n\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactTooltip, {\n      place: \"bottom\",\n      id: \"tooltip-common-wrap\",\n      globalEventOff: \"click\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ListMasterWrapper, {\n      className: `${this.state.showModalBg ? 'show_modal_bg' : ''} ${this.props.splitModeClass}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SearchAdd, {\n      className: `d-flex filter-wrap-group justify-content-between pad-15 ${this.props.titleClasses ? this.props.titleClasses : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, !this.props.notSearchable ? /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"search-with-ico-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 33\n      }\n    }, this.props.needMultiSelect ? /*#__PURE__*/React.createElement(QuickSearch, {\n      checkStatus: checkStatus //selectionList={this.props.hideQuickSearch ? \"\" : filterStatusBasedOnTwoArrays(this.props.selectionList || [], this.props.masterList ? this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take) : [], this.props.selectionField, this.props.selectionColorField)}\n      ,\n      selectionList: this.props.hideQuickSearch ? \"\" : filterStatusBasedOnTwoArrays(this.props.selectionList || [], this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectionField, this.props.selectionColorField),\n      selectionField: this.props.selectionField,\n      selectionFieldName: this.props.selectionFieldName,\n      selectionColorField: this.props.selectionColorField,\n      selectMultiple: this.selectMultiple,\n      inputParam: this.props.inputParam,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 41\n      }\n    }) : \"\"), this.props.hideSearch ? \"\" :\n    /*#__PURE__*/\n    // <FormControl ref={this.props.searchRef} autoComplete=\"off\" placeholder={`${this.props.intl.formatMessage({ id: \"IDS_SEARCH\" })} ${this.props.intl.formatMessage({ id: this.props.listName })}`} name={\"search\"} onKeyUp={(e) => this.filterColumn(e)} />\n    React.createElement(\"div\", {\n      className: \"list-group-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      className: \"search-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(FormControl, {\n      ref: this.props.searchRef,\n      autoComplete: \"off\",\n      placeholder: `${this.props.intl.formatMessage({\n        id: \"IDS_SEARCH\"\n      })}`,\n      name: \"search\",\n      onKeyUp: e => this.filterColumn(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 41\n      }\n    })), this.props.needFilter ? /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(AdvFilter, {\n      filterComponent: this.props.filterComponent,\n      dataFor: \"tooltip-common-wrap\",\n      onFilterSubmit: this.props.onFilterSubmit,\n      showFilter: this.props.showFilter,\n      openFilter: this.props.openFilter,\n      closeFilter: this.props.closeFilter,\n      showModalBg: e => this.setState({\n        showModalBg: e\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 41\n      }\n    })) : \"\", this.props.moreField && this.props.moreField.length > 0 ? /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"p-0\",\n      name: \"gridexpand\",\n      onClick: () => this.ExpandAll(masterList),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 45\n      }\n    }, this.props.intl.formatMessage({\n      id: this.props.masterList.length ? this.state.expandCheck ? this.props.masterList.length === this.state.expandCheck.length ? this.state.expandCheck.includes(false) ? \"IDS_EXPANDALL\" : \"IDS_EXPANDLESS\" : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\" : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\" : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\"\n    })))) : \"\") : '', /*#__PURE__*/React.createElement(React.Fragment, null, this.props.titleHead ? /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 53\n      }\n    }, this.props.titleHead) : '', this.props.commonActions)), this.props.needAccordianFilter ? /*#__PURE__*/React.createElement(FilterAccordion, {\n      key: \"filter\",\n      className: \"filter-accordian\",\n      filterComponent: this.props.accordianfilterComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 29\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(PerfectScrollbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ClientList, {\n      className: \"product-list port-height-inner\",\n      style: {\n        height: this.props.paneHeight ? this.props.paneHeight : this.state.scrollHeight\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListView //  data={this.props.hidePaging ? this.props.masterList : this.props.masterList ? this.props.masterList.slice(this.state.skip, this.props.skip + this.props.take) : []}\n    //                data={this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip ? \n    //                    this.props.skip : this.state.skip, ((this.props.skip ? this.props.skip : this.state.skip) + \n    //                (this.props.take ? this.props.take : this.state.take)))}\n    //   //  item={(props, index) => this.transactionListDesign(props, this.props.skip, index)}\n    //        //       data={this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip ? this.props.skip : this.state.skip, ((this.props.skip ? this.props.skip : this.state.skip) + (this.props.take ? this.props.take : this.state.take)))}\n    //        item={(props) => this.transactionListDesign(props)}\n    , {\n      data: this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take),\n      item: (props, index) => this.transactionListDesign(props, this.props.skip, index) //  item={(props, index) => this.transactionListDesign(props, 0, 0)}\n      // style={{ width: \"100%\" }}\n      // header={myHeader}\n      // footer={this.myFooter}\n      //item={React.ComponentType<ListViewItemProps>} \n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 29\n      }\n    }))), this.props.hidePaging ? \"\" : this.props.masterList && this.props.masterList.length > 0 ? /*#__PURE__*/React.createElement(CustomPager, {\n      skip: this.props.skip,\n      width: this.props.splitChangeWidthPercentage,\n      take: this.props.take,\n      handlePageChange: this.props.handlePageChange,\n      total: this.props.masterList.length,\n      buttonCount: this.props.splitChangeWidthPercentage >= 30 ? this.state.buttonCount : this.props.buttonCount ? this.props.buttonCount : 2,\n      userInfo: this.props.Login.userInfo,\n      info: this.state.info,\n      pagershowwidth: 30 // pageSize={this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting))}\n      ,\n      pageSize: this.props.pageSize || this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting)) //  pageSize={this.props.pageSize || (this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting)))}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 33\n      }\n    }) //     <CustomPager\n    //     skip={this.props.skip ? this.props.skip : this.state.skip}\n    //     take={this.props.take ? this.props.take : this.state.take}\n    //     width={20}\n    //     pagershowwidth={18}\n    //     handlePageChange={this.props.handlePageChange}\n    //     total={this.props.masterList ? this.props.masterList.length : 0}\n    //     buttonCount={this.state.buttonCount}\n    //     info={this.state.info}\n    //     userInfo={this.props.Login.userInfo}\n    //     pageSize={this.props.pageSize? this.props.pageSize :this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting))}\n    // >\n    //s </CustomPager>\n    : ''));\n  } // myFooter = () => {\n  //     return (\n  //     )\n  // }\n\n\n  componentDidUpdate(previousProps) {\n    ReactTooltip.rebuild();\n\n    if (this.props.showMoreResetList) {\n      if (this.props.inputParam.masterData[this.props.showMoreResetListName] !== previousProps.inputParam.masterData[this.props.showMoreResetListName]) {\n        this.setState({\n          allFieldExpanded: false,\n          showList: null,\n          showMore: {}\n        });\n      }\n    } //  if(this.props.masterList !== previousProps.masterList){\n    // if( this.props.masterList && this.props.masterList.length >= this.state.skip){\n    //       this.setState({skip:0});\n    //    }\n    //  }\n\n  }\n\n}\n\nexport default connect(mapStateToProps, undefined)(injectIntl(TransationListMaster));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/components/TransactionListMaster.jsx"],"names":["React","injectIntl","InputGroup","FormControl","Media","ListGroup","Form","Nav","Col","ClientList","SearchAdd","MediaHeader","MediaSubHeader","MediaLabel","MediaSubHeaderText","SearchIcon","ContentPanel","ListMasterWrapper","getActionIcon","AdvFilter","toast","getStatusIcon","PerfectScrollbar","designProperties","transactionStatus","QuickSearch","FilterAccordion","connect","ListView","filterRecordBasedOnTwoArrays","filterStatusBasedOnTwoArrays","getSameRecordFromTwoArrays","CustomPager","ReactTooltip","FontAwesomeIcon","faChevronDown","faChevronUp","faSearch","CustomSwitch","Iframe","mapStateToProps","state","Login","TransationListMaster","Component","constructor","props","handlePageChange","e","setState","skip","take","scrollChange","filterColumn","event","filterValue","target","value","keyCode","filterColumnData","filterParam","searchListName","selectMultiple","selectionKey","inputData","selectedArray","selectedMaster","dataList","removeElementFromArray","masterList","slice","ALL","filteredList","primaryKeyField","map","item","index","push","selectedListName","join","objectName","childTabsKey","length","getMasterDetail","NA","selectionField","warn","intl","formatMessage","id","getselectedDetailAvoidDuplicateProps","master","needMultiSelect","findIndex","x","getSelectedDetail","showList","bool","multipleselectionFlag","m1","indexValue","splice","onCheckBoxselect","preventDefault","stopPropagation","onClickActions1","dataItem","ListmasterSwitch","nusersrolehidescreencode","onClickActions","action","onClick","showHideDetails","showMore","expandAll","Object","values","allFieldExpanded","includes","len","expandCheck","disableClick","ExpandAll","masterData","transactionListDesign","customswitchposition","inputParam","listName","mainField","maxWidth","mainFieldLabel","concat","console","log","showStatusLink","padding","display","color","statusColor","scolorhexcode","showStatusIcon","statusField","showStatusName","statusFieldName","subFields","field","subFieldsLabel","LABEL","COLOUR","VALUE","moreField","actionIcons","needConditionalIcon","conditionalIconFunction","dataplace","title","hidden","undefined","controlname","ListScreenHidebtn","needrights","YES","buttonCount","settings","parseInt","info","scrollHeight","componentDidMount","setTimeout","pagerheight","document","querySelector","navHeight","filterAccHeight","filterHeight","breadCrumbsHeight","val","clientHeight","needAccordianFilter","needFilter","notSearchable","hidePaging","render","checkStatus","showModalBg","splitModeClass","titleClasses","hideQuickSearch","selectionList","selectionColorField","selectionFieldName","hideSearch","searchRef","filterComponent","onFilterSubmit","showFilter","openFilter","closeFilter","titleHead","commonActions","accordianfilterComponent","height","paneHeight","splitChangeWidthPercentage","userInfo","pageSize","split","setting","componentDidUpdate","previousProps","rebuild","showMoreResetList","showMoreResetListName"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport { InputGroup, FormControl, Media, ListGroup, Form, Nav, Col } from 'react-bootstrap';\r\nimport { ClientList, SearchAdd, MediaHeader, MediaSubHeader, MediaLabel, MediaSubHeaderText, SearchIcon, ContentPanel } from '../components/App.styles';\r\nimport { ListMasterWrapper } from '../components/list-master/list-master.styles';\r\nimport { getActionIcon } from '../components/HoverIcons';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport AdvFilter from './AdvFilter';\r\nimport { toast } from 'react-toastify';\r\nimport { getStatusIcon } from './StatusIcon'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { designProperties, transactionStatus } from './Enumeration';\r\nimport QuickSearch from './QuickSearch';\r\nimport FilterAccordion from './custom-accordion/filter-accordion.component';\r\nimport '../pages/registration/registration.css'\r\nimport { connect } from 'react-redux';\r\nimport { ListView } from '@progress/kendo-react-listview';\r\nimport { filterRecordBasedOnTwoArrays, filterStatusBasedOnTwoArrays, getSameRecordFromTwoArrays } from './CommonScript';\r\nimport CustomPager from './CustomPager';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronDown, faChevronUp, faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport CustomSwitch from './custom-switch/custom-switch.component';\r\nimport Iframe from 'react-iframe';\r\n//import useLongPress from \"../actions/longPress\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nclass TransationListMaster extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            showMore: {},\r\n            allFieldExpanded: false,\r\n            buttonCount: 4,\r\n            skip:0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[3]) : 5,\r\n            info: true,\r\n            expandCheck: [],\r\n            scrollHeight: '100vh',\r\n            multipleselectionFlag: this.props.Login.settings && parseInt(this.props.Login.settings[7]) === 3 ? true : false,\r\n            showList: null,\r\n            disableClick: false\r\n        }\r\n    }\r\n\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        this.props.scrollChange()\r\n    };\r\n\r\n    filterColumn = (event) => {\r\n        let filterValue = event.target.value;\r\n        if (event.keyCode === 13) {\r\n            this.props.filterColumnData(filterValue, this.props.filterParam, this.props.searchListName);\r\n        }\r\n    }\r\n    selectMultiple = (selectionKey, inputData) => {\r\n        let selectedArray = this.props.selectedMaster;\r\n\r\n        let dataList = [];\r\n        let removeElementFromArray = [];\r\n        // let MultipleSelectCount = this.props.Login.settings[3];\r\n        let masterList = this.props.masterList && this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take);\r\n\r\n        if (selectionKey === transactionStatus.ALL) {//Select All\r\n\r\n            let filteredList = filterRecordBasedOnTwoArrays(masterList, selectedArray, this.props.primaryKeyField);\r\n            filteredList.map((item, index) => {\r\n                // if (index < this.state.take) {\r\n                selectedArray.push(item)\r\n                dataList.push(item[this.props.primaryKeyField]);\r\n                // }\r\n                return null;\r\n            });\r\n            inputData[`${this.props.selectedListName}`] = selectedArray\r\n            inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\")\r\n            inputData[`${this.props.objectName}`] = selectedArray;\r\n            inputData[\"checkBoxOperation\"] = 1;\r\n            inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n            if (dataList.length > 0) {\r\n                this.props.getMasterDetail(inputData, true);\r\n            }\r\n            // else {\r\n            //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_NOITEMSFOUND\" }))\r\n            // }\r\n\r\n        } else if (selectionKey === transactionStatus.NA) {\r\n            let filteredList = getSameRecordFromTwoArrays(masterList, selectedArray, this.props.primaryKeyField);\r\n            if (filteredList.length > 0) {\r\n                if (selectedArray.length === filteredList.length) {\r\n                    selectedArray = [filteredList[0]];\r\n                    dataList = [selectedArray[0][this.props.primaryKeyField]];\r\n                } else {\r\n                    selectedArray = filterRecordBasedOnTwoArrays(selectedArray, masterList, this.props.primaryKeyField);\r\n                    dataList = [selectedArray[0][this.props.primaryKeyField]];\r\n                }\r\n                inputData[`${this.props.selectedListName}`] = selectedArray\r\n                inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\")\r\n                inputData[`${this.props.objectName}`] = selectedArray;\r\n                inputData[\"checkBoxOperation\"] = 6;\r\n                inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n                inputData[\"removeElementFromArray\"] = filteredList;\r\n                if (dataList.length > 0) {\r\n                    this.props.getMasterDetail(inputData, false);\r\n                }\r\n            }\r\n\r\n        } else {//Select Status Wise\r\n            selectedArray = filterRecordBasedOnTwoArrays(selectedArray, masterList, this.props.primaryKeyField);\r\n\r\n            removeElementFromArray = getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField)\r\n            masterList.map((item) => {\r\n                // if (index < this.state.take) {\r\n                if (item[this.props.selectionField] === selectionKey) {\r\n                    selectedArray.push(item)\r\n                    dataList.push(item[this.props.primaryKeyField]);\r\n                }\r\n                return null;\r\n            });\r\n\r\n            // this.props.masterList && this.props.masterList.map((item) => {\r\n            //     if (item[this.props.selectionField] === selectionKey) {\r\n            //         selectedArray.push(item)\r\n            //         dataList.push(item[this.props.primaryKeyField]);\r\n            //     }\r\n            //     return null;\r\n            // })\r\n            inputData[`${this.props.selectedListName}`] = selectedArray\r\n            inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\")\r\n            inputData[`${this.props.objectName}`] = selectedArray\r\n            inputData[\"checkBoxOperation\"] = 5;\r\n            inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n            inputData[\"removeElementFromArray\"] = removeElementFromArray;\r\n            if (selectedArray.length > 0) {\r\n                this.props.getMasterDetail(inputData, true);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_NOITEMSFOUND\" }))\r\n            }\r\n        }\r\n    }\r\n    getselectedDetailAvoidDuplicateProps = (master, inputData, needMultiSelect) => {\r\n        if ((this.props.selectedMaster.length === 1 &&\r\n            this.props.selectedMaster.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) !== -1)\r\n            || (needMultiSelect === false)) {\r\n            // const showMore = {};\r\n            this.getSelectedDetail(master, inputData, needMultiSelect);\r\n        }\r\n        this.setState({\r\n            showList: null,\r\n            index: null\r\n        })\r\n    }\r\n    getSelectedDetail = (master, inputData, needMultiSelect) => {\r\n        let bool;\r\n        let selectedMaster;\r\n        if (needMultiSelect === false) {\r\n            if (this.state.multipleselectionFlag) {\r\n                selectedMaster = getSameRecordFromTwoArrays(this.props.selectedMaster, this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.primaryKeyField)\r\n            } else {\r\n                selectedMaster = master;\r\n            }\r\n\r\n            if (selectedMaster.length > 2) {\r\n                bool = true;\r\n            }\r\n            if (selectedMaster.length === 1 && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === master[this.props.primaryKeyField]) !== -1) {\r\n                bool = false\r\n            } else {\r\n                bool = true\r\n            }\r\n        } else {\r\n            bool = true;\r\n        }\r\n        if (bool) {\r\n            let selectedArray = this.props.selectedMaster ? needMultiSelect ? this.props.selectedMaster : this.state.multipleselectionFlag ?\r\n                filterRecordBasedOnTwoArrays(this.props.selectedMaster, this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.primaryKeyField) : [] : [];\r\n            let dataList = [];\r\n            let removeElementFromArray = [];\r\n            const indexValue = selectedArray ?\r\n                selectedArray.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) : -2;\r\n            if (indexValue === -1) {//add new item\r\n                // let MultipleSelectCount = this.props.Login.settings[3];\r\n                // if (selectedArray.length < MultipleSelectCount) {\r\n                removeElementFromArray = this.state.multipleselectionFlag ? getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField) :\r\n                    getSameRecordFromTwoArrays(this.props.masterList, this.props.selectedMaster, this.props.primaryKeyField);\r\n\r\n\r\n                if (this.props.needMultiSelect) {//uselect an Item\r\n                    selectedArray.push(master);\r\n                    dataList.push(master[this.props.primaryKeyField]);\r\n                } else {//Click new Item\r\n                    selectedArray = [master];\r\n                    dataList = [master[this.props.primaryKeyField]];\r\n\r\n                }\r\n                inputData[`${this.props.selectedListName}`] = selectedArray\r\n                inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\")\r\n                inputData[`${this.props.objectName}`] = selectedArray\r\n                inputData[\"checkBoxOperation\"] = needMultiSelect ? 1 : this.state.multipleselectionFlag ? 5 : 3;\r\n                inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n                inputData[\"removeElementFromArray\"] = needMultiSelect ? [] : removeElementFromArray;\r\n                if (selectedArray.length > 0) {\r\n                    this.props.getMasterDetail(inputData, true);\r\n\r\n                }\r\n                // } else {\r\n                //     toast.warn(`${this.props.intl.formatMessage({ id: \"IDS_SELECTIONLIMITEXCEED\" })} ${MultipleSelectCount} ${this.props.intl.formatMessage({ id: \"IDS_RECORDS\" })}`);\r\n                // }\r\n            } else if (needMultiSelect) {\r\n                // let removeElementFromArray = [];\r\n                if (needMultiSelect) {//uselect an Item\r\n                    removeElementFromArray.push(this.props.selectedMaster[indexValue]);\r\n                    selectedArray.splice(indexValue, 1)\r\n                    dataList.splice(indexValue, 1);\r\n\r\n                } else {//Click new Item\r\n                    removeElementFromArray.push(master);\r\n                    selectedArray.push(master);\r\n                    dataList.push(master[this.props.primaryKeyField])\r\n\r\n                }\r\n                inputData[`${this.props.selectedListName}`] = selectedArray;\r\n                inputData[`${this.props.primaryKeyField}`] = selectedArray.map(x => x[this.props.primaryKeyField]).join(\",\");\r\n                inputData[`${this.props.objectName}`] = selectedArray\r\n                inputData[\"checkBoxOperation\"] = needMultiSelect ? 2 : 4;\r\n                inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n                inputData[\"removeElementFromArray\"] = removeElementFromArray;\r\n                if (selectedArray.length > 0) {\r\n                    this.props.getMasterDetail(inputData, false);\r\n                }\r\n            } else {\r\n                selectedArray.push(master);\r\n                dataList.push(master[this.props.primaryKeyField])\r\n                inputData[`${this.props.selectedListName}`] = selectedArray\r\n                inputData[`${this.props.primaryKeyField}`] = dataList.join(\",\")\r\n                inputData[`${this.props.objectName}`] = selectedArray\r\n                inputData[\"checkBoxOperation\"] = needMultiSelect ? 1 : this.state.multipleselectionFlag ? 5 : 3;\r\n\r\n\r\n                inputData[\"childTabsKey\"] = this.props.childTabsKey;\r\n                if (selectedArray.length > 0) {\r\n                    this.props.getMasterDetail(inputData, true);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    onCheckBoxselect = (event, master, inputData) => {\r\n        if (this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === master[this.props.primaryKeyField]) === -1) {\r\n            this.getSelectedDetail(master, inputData, true);\r\n        } else if (this.props.selectedMaster.length > 1) {\r\n            this.getSelectedDetail(master, inputData, true);\r\n        }\r\n        this.setState({\r\n            showList: null\r\n        })\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        // else{\r\n        //     event.preventDefault();\r\n        //     event.stopPropagation();\r\n        //     this.getSelectedDetail(master, inputData, true);\r\n        // }\r\n    }\r\n    componentDidMount() {\r\n        // let val = document.getElementsByClassName('navbar')[0].clientHeight;\r\n        setTimeout(() => {\r\n            const pagerheight = document.querySelector('.pager_wrap');\r\n            const navHeight = document.querySelector('.navbar.navbar-expand');\r\n            const filterAccHeight = document.querySelector('.filter-accordian');\r\n            const filterHeight = document.querySelector('.filter-wrap-group');\r\n            const breadCrumbsHeight = document.querySelector('.breadcrumbs-scroll-container');\r\n            let val = navHeight ? navHeight.clientHeight : 53;\r\n            if (this.props.needAccordianFilter) {\r\n                val = val + (filterAccHeight ? filterAccHeight.clientHeight : 45);\r\n            }\r\n            if (this.props.needFilter) {\r\n                val = val + (breadCrumbsHeight ? breadCrumbsHeight.clientHeight : 36);\r\n            }\r\n            if (!this.props.notSearchable) {\r\n                val = val + (filterHeight ? filterHeight.clientHeight : 55);\r\n            }\r\n            if (!this.props.hidePaging) {\r\n                val = val + (pagerheight ? pagerheight.clientHeight : 32);\r\n            }\r\n            this.setState({\r\n                scrollHeight: 'calc(100vh - ' + val + 'px)'\r\n\r\n            })\r\n        }, 1000)\r\n    }\r\n    render() {\r\n\r\n        //console.log(this.props);\r\n        // const { skip, take } = this.state;\r\n        let checkStatus = ''\r\n        let masterList = this.props.masterList ? this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take) : [];\r\n        let selectedMaster = this.props.selectedMaster && this.props.masterList ? getSameRecordFromTwoArrays(this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectedMaster, this.props.primaryKeyField) : [];\r\n        if (masterList && masterList.length > 0 && selectedMaster && selectedMaster.length > 0) {\r\n\r\n            if (masterList.length === selectedMaster.length) {\r\n                checkStatus = 'all'\r\n            } else if (masterList.length !== selectedMaster.length) {\r\n                checkStatus = 'partial'\r\n            } else if (this.props.selectedMaster.length === 0) {\r\n                checkStatus = ''\r\n            }\r\n        }\r\n\r\n        // className=\"client-list-scroll\"\r\n        return (\r\n            <>\r\n                <ReactTooltip place=\"bottom\" id=\"tooltip-common-wrap\" globalEventOff='click' />\r\n                <ListMasterWrapper className={`${this.state.showModalBg ? 'show_modal_bg' : ''} ${this.props.splitModeClass}`}>\r\n                    <SearchAdd className={`d-flex filter-wrap-group justify-content-between pad-15 ${this.props.titleClasses ? this.props.titleClasses : ''}`} >\r\n                        {!this.props.notSearchable ?\r\n                            <InputGroup className=\"search-with-ico-list\">\r\n                                <InputGroup.Append>\r\n                                    {this.props.needMultiSelect ?\r\n                                        <QuickSearch\r\n                                            checkStatus={checkStatus}\r\n                                            //selectionList={this.props.hideQuickSearch ? \"\" : filterStatusBasedOnTwoArrays(this.props.selectionList || [], this.props.masterList ? this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take) : [], this.props.selectionField, this.props.selectionColorField)}\r\n                                            selectionList={this.props.hideQuickSearch ? \"\" : filterStatusBasedOnTwoArrays(this.props.selectionList || [], this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take), this.props.selectionField, this.props.selectionColorField)}\r\n                                            selectionField={this.props.selectionField}\r\n                                            selectionFieldName={this.props.selectionFieldName}\r\n                                            selectionColorField={this.props.selectionColorField}\r\n                                            selectMultiple={this.selectMultiple}\r\n                                            inputParam={this.props.inputParam}\r\n                                        />\r\n                                        : \"\"}\r\n                                </InputGroup.Append>\r\n                                {this.props.hideSearch ? \"\" :\r\n                                    // <FormControl ref={this.props.searchRef} autoComplete=\"off\" placeholder={`${this.props.intl.formatMessage({ id: \"IDS_SEARCH\" })} ${this.props.intl.formatMessage({ id: this.props.listName })}`} name={\"search\"} onKeyUp={(e) => this.filterColumn(e)} />\r\n                                    <div className=\"list-group-search\">\r\n                                        <SearchIcon className=\"search-icon\">\r\n                                            <FontAwesomeIcon icon={faSearch} />\r\n                                        </SearchIcon>\r\n                                        <FormControl ref={this.props.searchRef} autoComplete=\"off\" placeholder={`${this.props.intl.formatMessage({ id: \"IDS_SEARCH\" })}`} name={\"search\"} onKeyUp={(e) => this.filterColumn(e)} />\r\n                                    </div>\r\n\r\n                                }\r\n\r\n                                {this.props.needFilter ?\r\n                                    <InputGroup.Append>\r\n                                        <AdvFilter\r\n                                            filterComponent={this.props.filterComponent}\r\n                                            dataFor=\"tooltip-common-wrap\"\r\n                                            onFilterSubmit={this.props.onFilterSubmit}\r\n                                            showFilter={this.props.showFilter}\r\n                                            openFilter={this.props.openFilter}\r\n                                            closeFilter={this.props.closeFilter}\r\n                                            showModalBg={(e) => this.setState({ showModalBg: e })}\r\n\r\n                                        />\r\n                                    </InputGroup.Append>\r\n                                    : \"\"}\r\n\r\n\r\n\r\n                                {this.props.moreField && this.props.moreField.length > 0 ?\r\n                                    <InputGroup.Append>\r\n                                        <InputGroup.Text>\r\n                                            {/* <ProductList className=\"d-flex justify-content-end icon-group-wrap\"> */}\r\n                                            <Nav.Link className=\"p-0\" name=\"gridexpand\" onClick={() => this.ExpandAll(masterList)}>\r\n                                                {/* <FontAwesomeIcon icon={faArrowsAltV} /> */}\r\n                                                {this.props.intl.formatMessage({\r\n                                                    id: this.props.masterList.length ? this.state.expandCheck ?\r\n                                                        this.props.masterList.length === this.state.expandCheck.length ?\r\n                                                            this.state.expandCheck.includes(false) ? \"IDS_EXPANDALL\" : \"IDS_EXPANDLESS\"\r\n                                                            : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\"\r\n                                                        : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\"\r\n                                                        : this.state.allFieldExpanded ? \"IDS_EXPANDLESS\" : \"IDS_EXPANDALL\"\r\n                                                })}\r\n                                            </Nav.Link>\r\n                                            {/* </ProductList> */}\r\n                                        </InputGroup.Text>\r\n                                    </InputGroup.Append>\r\n                                    : \"\"}\r\n                            </InputGroup> : ''}\r\n                        <>\r\n\r\n                            {this.props.titleHead ? <h4>{this.props.titleHead}</h4> : ''}\r\n                            {this.props.commonActions}\r\n                        </>\r\n                    </SearchAdd>\r\n                    {\r\n                        this.props.needAccordianFilter ?\r\n                            <FilterAccordion key=\"filter\" className=\"filter-accordian\"\r\n                                filterComponent={this.props.accordianfilterComponent}\r\n                            />\r\n                            : \"\"\r\n                    }\r\n                    {/* className={` ${this.props.masterList && this.props.masterList.length > 0 ? 'parent-port-height' : 0}`} className=\"box-shadow-box-btm\" */}\r\n                    <PerfectScrollbar >\r\n                        {/*<ClientList className=\"product-list\" style={{ height: this.props.paneHeight ? this.props.paneHeight : this.props.masterList && this.props.masterList.length > 0 ? 'calc(100vh - 230px)' : 'calc(100vh - 180px)' }}>\r\n                   */}\r\n                        <ClientList className=\"product-list port-height-inner\" style={{ height: this.props.paneHeight ? this.props.paneHeight : this.state.scrollHeight }}>\r\n                            <ListView\r\n               //  data={this.props.hidePaging ? this.props.masterList : this.props.masterList ? this.props.masterList.slice(this.state.skip, this.props.skip + this.props.take) : []}\r\n            //                data={this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip ? \r\n            //                    this.props.skip : this.state.skip, ((this.props.skip ? this.props.skip : this.state.skip) + \r\n            //                (this.props.take ? this.props.take : this.state.take)))}\r\n            //   //  item={(props, index) => this.transactionListDesign(props, this.props.skip, index)}\r\n            //        //       data={this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip ? this.props.skip : this.state.skip, ((this.props.skip ? this.props.skip : this.state.skip) + (this.props.take ? this.props.take : this.state.take)))}\r\n            //        item={(props) => this.transactionListDesign(props)}\r\n            data={this.props.hidePaging ? this.props.masterList : this.props.masterList.slice(this.props.skip, this.props.skip + this.props.take)}\r\n            item={(props, index) => this.transactionListDesign(props, this.props.skip, index)}\r\n                         \r\n                         \r\n                          //  item={(props, index) => this.transactionListDesign(props, 0, 0)}\r\n\r\n                            // style={{ width: \"100%\" }}\r\n                            // header={myHeader}\r\n                            // footer={this.myFooter}\r\n                            //item={React.ComponentType<ListViewItemProps>} \r\n\r\n                            />\r\n                        </ClientList>\r\n                    </PerfectScrollbar >\r\n                    {\r\n                        this.props.hidePaging ? \"\" :\r\n                            this.props.masterList && this.props.masterList.length > 0 ?\r\n                                <CustomPager\r\n                                skip={this.props.skip}\r\n                                width={this.props.splitChangeWidthPercentage}\r\n                                take={this.props.take}\r\n                                handlePageChange={this.props.handlePageChange}\r\n                                total={this.props.masterList.length}\r\n                                buttonCount={this.props.splitChangeWidthPercentage >= 30 ? this.state.buttonCount : this.props.buttonCount ? this.props.buttonCount : 2}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                info={this.state.info}\r\n                                pagershowwidth={30}\r\n                                // pageSize={this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting))}\r\n                                pageSize = {this.props.pageSize || (this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting)))}\r\n                                  //  pageSize={this.props.pageSize || (this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting)))}\r\n                                >\r\n                                </CustomPager>\r\n                            //     <CustomPager\r\n                            //     skip={this.props.skip ? this.props.skip : this.state.skip}\r\n                            //     take={this.props.take ? this.props.take : this.state.take}\r\n                            //     width={20}\r\n                            //     pagershowwidth={18}\r\n                            //     handlePageChange={this.props.handlePageChange}\r\n                            //     total={this.props.masterList ? this.props.masterList.length : 0}\r\n                            //     buttonCount={this.state.buttonCount}\r\n                            //     info={this.state.info}\r\n                            //     userInfo={this.props.Login.userInfo}\r\n                            //     pageSize={this.props.pageSize? this.props.pageSize :this.props.Login.settings && this.props.Login.settings[4].split(\",\").map(setting => parseInt(setting))}\r\n                            // >\r\n                           //s </CustomPager>\r\n                             : ''\r\n                    }\r\n                </ListMasterWrapper >\r\n            </>\r\n        )\r\n    }\r\n    // myFooter = () => {\r\n    //     return (\r\n\r\n    //     )\r\n    // }\r\n    onClickActions1 = (event, dataItem) => {\r\n\r\n        event.stopPropagation();\r\n        this.props.ListmasterSwitch({ event, nusersrolehidescreencode:dataItem.nusersrolehidescreencode })\r\n    }\r\n    \r\n    onClickActions = (event, master, action) => {\r\n\r\n        event.stopPropagation();\r\n        let selectedArray = this.props.selectedMaster ? this.props.selectedMaster : [];\r\n        let dataList = selectedArray.map(item => item[this.props.primaryKeyField]);\r\n        const indexValue = this.props.selectedMaster ? this.props.selectedMaster.findIndex(x => x[this.props.primaryKeyField] === master[this.props.primaryKeyField]) : -2;\r\n        if (indexValue === -1) {\r\n            if (this.props.needMultiSelect) {\r\n                selectedArray.push(master);\r\n                dataList.push(master[this.props.primaryKeyField]);\r\n            } else {\r\n                selectedArray = [master];\r\n                dataList = [master[this.props.primaryKeyField]];\r\n            }\r\n        }\r\n        action.onClick({ ...action.inputData, [action.objectName]: master, [this.props.selectedListName]: selectedArray, [this.props.primaryKeyField]: dataList.join(\",\") })\r\n    }\r\n\r\n    showHideDetails = (event, index) => {\r\n        event.stopPropagation();\r\n        let showMore = { ...this.state.showMore, [index]: !this.state.showMore[index] }\r\n        //   const check=showMore.map(item=>{return})\r\n        const expandAll = [...Object.values(showMore)]\r\n        let allFieldExpanded = this.state.allFieldExpanded;\r\n        if (expandAll.includes(false)) {\r\n            allFieldExpanded = false\r\n        } else {\r\n            let len = this.props.masterList.length\r\n            if (len === expandAll.length) {\r\n                allFieldExpanded = true\r\n            }\r\n        }\r\n        this.setState({ showMore, allFieldExpanded, expandCheck: expandAll, disableClick: true })\r\n\r\n    }\r\n    ExpandAll = (masterData) => {\r\n        const allFieldExpanded = this.state.allFieldExpanded;\r\n        let showMore = {};\r\n        if (!allFieldExpanded) {\r\n            showMore = masterData.map((master, index) => {\r\n                return showMore = { ...showMore, [index]: true };\r\n            });\r\n        }\r\n        this.setState({ showMore, allFieldExpanded: !allFieldExpanded });\r\n    }\r\n    transactionListDesign = (props) => {\r\n        let item = props.dataItem;\r\n        const customswitchposition = {\r\n            // 'padding-left': '290px',\r\n            'padding-top': '-20px'\r\n        }\r\n        // let index;\r\n        // const onLongPress = (e) => {\r\n        //     e.preventDefault();\r\n        //     e.stopPropagation();\r\n        //     this.setState({\r\n        //         index: props.index === this.state.index ? null : props.index\r\n        //     })\r\n        // };\r\n        return (\r\n            <>\r\n               <ReactTooltip place=\"bottom\" id=\"tooltip-common-wrap\" globalEventOff='click' /> \r\n                <ListGroup.Item as=\"li\"\r\n                    className={`${this.state.showList === props.index ? \"hover\" : \"\"}  list-custom-ico-on-hover list-bgcolor  ${this.props.selectedMaster && this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1 ? \"active\" : \"\"}`}>\r\n                    <Media onClick={() => this.getselectedDetailAvoidDuplicateProps(item, { ...this.props.inputParam }, false)}>\r\n                        {this.props.needMultiSelect ?\r\n                            <Form.Check custom type=\"checkbox\" id=\"customControl\">\r\n                                <Form.Check.Input type=\"checkbox\" id={`tm_customCheck_${this.props.listName}_${props.index}`}\r\n                                    checked={this.props.selectedMaster &&\r\n                                        this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1 ? true : false}\r\n                                    readOnly\r\n                                />\r\n                                <Form.Check.Label className={`mr-3`}\r\n                                    onClick={(event) => this.onCheckBoxselect(event, item, { ...this.props.inputParam }, true)}\r\n                                    htmlFor={`tm_customCheck_${this.props.listName}_${props.index}`}></Form.Check.Label>\r\n                            </Form.Check>\r\n                            : \"\"}\r\n                        <Media.Body>\r\n\r\n                            {/* <MediaHeader>\r\n                        {this.props.mainFieldLabel && this.props.mainFieldLabel.concat(\" : \")}\r\n                        {item[this.props.mainField]}\r\n                        {this.props.showStatusLink &&\r\n                            <Nav.Link className='add-txt-btn blue-text ml-1' style={{ display: 'inline', color: this.props.statusColor ? item[this.props.statusColor] : item.scolorhexcode }}>\r\n                                {this.props.showStatusIcon && getStatusIcon(item[this.props.statusField])}\r\n                                {this.props.showStatusName && <span className='ml-1 text-nowrap'>{item[this.props.statusFieldName]}</span>}\r\n                            </Nav.Link>\r\n                        }\r\n                    </MediaHeader> */}\r\n\r\n                            <ContentPanel className=\"product-category title-grid-wrap-width-md\">\r\n                                <ContentPanel>\r\n                                    <MediaHeader data-tip={item[this.props.mainField]?item[this.props.mainField]:item['jsondata'][this.props.mainField]} data-for=\"tooltip-common-wrap\"\r\n                                        style={{ maxWidth: this.props.objectName === \"test\" ? \"30rem\" : \"15rem\" }}>\r\n                                        {this.props.mainFieldLabel && this.props.mainFieldLabel.concat(\" : \")}\r\n                                        {item[this.props.mainField]?item[this.props.mainField]:item['jsondata'][this.props.mainField]}\r\n                                             {console.log(item[this.props.mainField]?item[this.props.mainField]:item['jsondata'][this.props.mainField])}\r\n                                    </MediaHeader>\r\n                                    {this.props.showStatusLink &&\r\n                                        <Nav.Link className='add-txt-btn blue-text ml-1 pl-2'\r\n                                            style={{ padding: \"0\", display: 'inline', color: this.props.statusColor ? item[this.props.statusColor] : item.scolorhexcode }}>\r\n                                            {this.props.showStatusIcon && getStatusIcon(item[this.props.statusField])}\r\n                                            {this.props.showStatusName && <span className='ml-1 text-nowrap'>{item[this.props.statusFieldName]}</span>}\r\n                                        </Nav.Link>\r\n                                    }\r\n\r\n                                </ContentPanel>\r\n\r\n                            </ContentPanel>\r\n\r\n                            <MediaSubHeaderText>\r\n\r\n                                {this.props.subFields && this.props.subFields.map((field, index) =>\r\n                                    this.props.subFieldsLabel ?\r\n                                        <>\r\n                                            <MediaLabel>{`${field[designProperties.LABEL] ? this.props.intl.formatMessage({ id: field[designProperties.LABEL] }) + \" : \" : \"\"}`}</MediaLabel>\r\n                                            <MediaLabel style={{ color: field[designProperties.COLOUR] ? item.scolorhexcode || item[field[designProperties.COLOUR]] : \"\" }}>{item[field[designProperties.VALUE]]}</MediaLabel>\r\n                                            {index % 2 === 0 && index !== this.props.subFields.length - 1 ? <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                            {(index + 1) % 2 === 0 ? <br></br> : \"\"}\r\n                                        </> :\r\n                                        <>\r\n                                            <MediaLabel style={{ color: field[designProperties.COLOUR] ? item.scolorhexcode || item[field[designProperties.COLOUR]] : \"\" }}>{` ${item[field[designProperties.VALUE]]}`}</MediaLabel>\r\n                                            {index % 2 === 0 && index !== this.props.subFields.length - 1 ? <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                            {(index + 1) % 2 === 0 ? <br></br> : \"\"}\r\n                                        </>\r\n                                )}\r\n                                {this.props.moreField && this.props.moreField.length > 0 ?\r\n                                    <>\r\n                                        {/* <MediaLabel>\r\n                                    <Nav.Link name={`show-wrap_${props.index}`} className={`show-more-action showmore`} onClick={(event) => this.showHideDetails(event, props.index)} style={{ display: \"inline\" }}>\r\n                                        <Form.Label className={`show-more-link showmore`} htmlFor={`show-wrap_${props.index}`}>{` ...${this.props.intl.formatMessage({ id: this.state.allFieldExpanded ? \"IDS_SHOWLESS\" : this.state.showMore[props.index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\" })}`}</Form.Label>\r\n                                    </Nav.Link>\r\n                                </MediaLabel> */}\r\n\r\n                                        <MediaLabel>\r\n\r\n                                            <Nav.Link name={`show-wrap_${props.index}`} className={`show-more-action showmore`} onClick={(event) => this.showHideDetails(event, props.index, \"inner\")} style={{ display: \"inline\" }} title={this.props.intl.formatMessage({ id: this.state.allFieldExpanded ? \"IDS_SHOWLESS\" : this.state.showMore[props.index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\" })}>\r\n                                                <Form.Label className={`show-more-link mr-1 showmore`} htmlFor={`show-wrap_${props.index}`}>{` ${this.props.intl.formatMessage({ id: this.state.allFieldExpanded ? \"IDS_SHOWLESS\" : this.state.showMore[props.index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\" })}`}</Form.Label>\r\n                                                <FontAwesomeIcon size=\"sm\" htmlFor={`show-wrap_${props.index}`} icon={this.state.allFieldExpanded ? faChevronUp : this.state.showMore[props.index] ? faChevronUp : faChevronDown} />\r\n                                            </Nav.Link>\r\n                                        </MediaLabel>\r\n\r\n                                        <Media.Body className={`show-more-wrap ${this.state.allFieldExpanded ? \"showmore\" : this.state.showMore[props.index] ? \"showmore\" : \"\"}`}>\r\n                                            <MediaSubHeader>\r\n                                                {this.props.moreField.map((field, index) =>\r\n                                                    <>\r\n                                                        <MediaLabel>{`${field[1] ? this.props.intl.formatMessage({ id: field[designProperties.LABEL] }) + \" : \" : \"\"} ${item[field[designProperties.VALUE]]}`}</MediaLabel>\r\n                                                        {index % 2 === 0 && index !== this.props.moreField.length - 1 ? <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                                        {(index + 1) % 2 === 0 ? <br></br> : \"\"}\r\n                                                    </>\r\n                                                )}\r\n                                            </MediaSubHeader>\r\n                                        </Media.Body>\r\n                                    </> : \"\"}\r\n                            </MediaSubHeaderText>\r\n                        </Media.Body>\r\n                        <div className={`icon-list-sm-wrap ${props.index === this.state.index ? 'active' : \"\"}`}>\r\n                            {this.props.actionIcons && this.props.selectedMaster &&\r\n                                (this.props.selectedMaster.findIndex(m1 => m1[this.props.primaryKeyField] === item[this.props.primaryKeyField]) !== -1)\r\n                                && this.props.actionIcons.length > 0 ?\r\n                                // <div onClick={onLongPress} className=\"icon-list-sm\" >\r\n                              //  <div className=\"icon-list-sm\" >\r\n                              //      <FontAwesomeIcon size=\"sm\" icon={faChevronDown} />\r\n                              //  </div>\r\n\"\" : \"\"}\r\n                        </div>\r\n                        <div className=\"icon-group-wrap\">\r\n                            {this.props.actionIcons && this.props.actionIcons.length > 0 && this.props.actionIcons.map(action =>\r\n                                action.needConditionalIcon ?\r\n                                    action.conditionalIconFunction(item) &&\r\n                                    <Nav.Link\r\n                                        className=\"btn btn-circle outline-grey ml-2\"\r\n                                        data-for=\"tooltip-common-wrap\"\r\n                                        data-place={action.dataplace && action.dataplace ? action.dataplace : \"\"}\r\n                                        data-tip={action.title}\r\n                                        hidden={action.hidden === undefined ? true : action.hidden}\r\n                                        onClick={(event) => this.onClickActions(event, item, action)}>\r\n                                        {getActionIcon(action.controlname)}\r\n                                    </Nav.Link>\r\n                                    :\r\n                                    <Nav.Link\r\n                                        className=\"btn btn-circle outline-grey ml-2\"\r\n                                        data-for=\"tooltip-common-wrap\"\r\n                                        data-tip={action.title}\r\n                                        data-place={action.dataplace && action.dataplace ? action.dataplace : \"\"}\r\n                                        hidden={action.hidden === undefined ? true : action.hidden}\r\n                                        onClick={(event) => this.onClickActions(event, item, action)}>\r\n                                        {getActionIcon(action.controlname)}\r\n                                    </Nav.Link>\r\n                            )}\r\n                            \r\n                         \r\n                            {/* {this.props.ListmasterSwitch && this.props.ListScreenHidebtn &&\r\n                                    <span data-for=\"screenrights_wrap\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_ENABLEDISABLESCREEN\" })}>\r\n                                           <Nav.Link  onChange={(event) => this.onClickActions1(event, props.dataItem)}>\r\n                                         <div style={customswitchposition} > \r\n                                            { \r\n                                                <CustomSwitch type=\"switch\" id={props.dataItem.nusersrolehidescreencode}\r\n                                                //  id={\"ListmasterSwitch\"}\r\n                                                //onChange={(event) => this.onClickActions1(event, props.dataItem)}\r\n                                                checked={props.dataItem.needrights === transactionStatus.YES ? true : false}\r\n                                                name={props.dataItem.nusersrolehidescreencode}\r\n                                                className=\"custom-switch-md customeswitchmanual\"\r\n                                                //data-tip={\"Enable to group by screen name\"}\r\n                                                // data-for=\"screenrights_wrap\"\r\n                                                />\r\n                                            }\r\n                                          </div> \r\n                                        </Nav.Link>\r\n                                    </span>\r\n                            } */}\r\n                          \r\n                        </div>\r\n                        \r\n                        \r\n                    \r\n                    </Media >\r\n\r\n                    {this.props.ListmasterSwitch && this.props.ListScreenHidebtn &&\r\n                    <span data-for=\"screenrights_wrap\" data-tip={this.props.intl.formatMessage({ id: \"IDS_ENABLEDISABLESCREEN\" })}>\r\n                        <div style={customswitchposition} >\r\n                            {<CustomSwitch type=\"switch\" id={props.dataItem.nusersrolehidescreencode}\r\n                                //  id={\"ListmasterSwitch\"}\r\n                                onChange={(event) => this.props.ListmasterSwitch(event, props.dataItem.nusersrolehidescreencode)}\r\n                                checked={props.dataItem.needrights === transactionStatus.YES ? true : false}\r\n                                name={props.dataItem.nusersrolehidescreencode}\r\n                                className=\"custom-switch-md customeswitchmanual\"\r\n                            //data-tip={\"Enable to group by screen name\"}\r\n                            // data-for=\"screenrights_wrap\"\r\n                            />}\r\n                        </div>\r\n                    </span>\r\n                    }\r\n                </ListGroup.Item >\r\n            </>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        ReactTooltip.rebuild();\r\n        if (this.props.showMoreResetList) {\r\n            if (this.props.inputParam.masterData[this.props.showMoreResetListName]\r\n                !== previousProps.inputParam.masterData[this.props.showMoreResetListName]) {\r\n                this.setState({ allFieldExpanded: false, showList: null, showMore: {} });\r\n            }\r\n        }\r\n        //  if(this.props.masterList !== previousProps.masterList){\r\n        // if( this.props.masterList && this.props.masterList.length >= this.state.skip){\r\n        //       this.setState({skip:0});\r\n        //    }\r\n        //  }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, undefined)(injectIntl(TransationListMaster));\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}