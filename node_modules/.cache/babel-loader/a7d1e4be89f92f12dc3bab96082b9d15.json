{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { DialogTitleBar } from './DialogTitleBar';\nimport { DialogActionsBar } from './DialogActionsBar';\nimport { guid, dispatchEvent, Keys } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata'; // tslint:enable:max-line-length\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  __extends(Dialog, _super);\n\n  function Dialog(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n\n\n    _this.DialogRef = React.createRef();\n    _this.titleId = _this.generateTitleId();\n\n    _this.handleCloseDialog = function (event) {\n      event.preventDefault();\n      dispatchEvent(_this.props.onClose, event, _this, undefined);\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (event.keyCode === Keys.esc && _this.props.onClose) {\n        event.preventDefault();\n\n        _this.handleCloseDialog(event);\n      }\n\n      var kDialog = _this.DialogRef.current;\n\n      if (kDialog && event.keyCode === Keys.tab) {\n        var focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n        var focusableContent = kDialog.querySelectorAll(focusableElements);\n        var firstFocusableElement = focusableContent[0];\n        var lastFocusableElement = focusableContent[focusableContent.length - 1];\n\n        if (event.shiftKey) {\n          if (document.activeElement === firstFocusableElement) {\n            lastFocusableElement.focus();\n            event.preventDefault();\n          }\n        } else {\n          if (document.activeElement === lastFocusableElement) {\n            firstFocusableElement.focus();\n            event.preventDefault();\n          }\n        }\n      }\n    };\n\n    validatePackage(packageMetadata);\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  Dialog.prototype.componentDidMount = function () {\n    if (this.DialogRef.current && this.props.autoFocus) {\n      this.DialogRef.current.focus();\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  Dialog.prototype.render = function () {\n    var id = this.props.id !== undefined ? this.props.id : this.titleId;\n    var _a = this.props,\n        title = _a.title,\n        width = _a.width,\n        height = _a.height,\n        children = _a.children,\n        minWidth = _a.minWidth,\n        dir = _a.dir,\n        style = _a.style,\n        contentStyle = _a.contentStyle;\n    var elementsArray = React.Children.toArray(children);\n    var content = this.getContent(elementsArray);\n    var actions = this.getActionBar(elementsArray);\n    var aria = title ? {\n      'aria-labelledby': id\n    } : null;\n    var closeIcon = this.props.closeIcon !== undefined ? this.props.closeIcon : true;\n    var output = React.createElement(\"div\", {\n      className: 'k-dialog-wrapper' + (this.props.className ? ' ' + this.props.className : ''),\n      onKeyDown: this.handleKeyDown,\n      tabIndex: 0,\n      dir: dir,\n      style: style,\n      ref: this.DialogRef\n    }, React.createElement(\"div\", {\n      className: \"k-overlay\"\n    }), React.createElement(\"div\", __assign({}, aria, {\n      className: \"k-widget k-window k-dialog\",\n      role: \"dialog\",\n      style: {\n        width: width,\n        height: height,\n        minWidth: minWidth\n      }\n    }), this.props.title && React.createElement(DialogTitleBar, {\n      closeIcon: closeIcon,\n      onCloseButtonClick: this.handleCloseDialog,\n      id: id\n    }, title), React.createElement(\"div\", {\n      className: \"k-window-content k-dialog-content\",\n      style: contentStyle\n    }, content), actions));\n    return this.props.appendTo ? createPortal(output, this.props.appendTo) : output;\n  };\n\n  Dialog.prototype.getActionBar = function (children) {\n    return children.filter(function (child) {\n      return child && child.type === DialogActionsBar;\n    });\n  };\n\n  Dialog.prototype.getContent = function (children) {\n    return children.filter(function (child) {\n      return child && child.type !== DialogActionsBar;\n    });\n  };\n\n  Dialog.prototype.generateTitleId = function () {\n    return 'dialog-title' + guid();\n  };\n  /**\n   * @hidden\n   */\n\n\n  Dialog.propTypes = {\n    title: PropTypes.any,\n    id: PropTypes.string,\n    dir: PropTypes.string,\n    style: PropTypes.object,\n    closeIcon: PropTypes.bool,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    autoFocus: PropTypes.bool\n  };\n  /**\n   * @hidden\n   */\n\n  Dialog.defaultProps = {\n    autoFocus: false\n  };\n  return Dialog;\n}(React.Component);\n\nexport { Dialog };","map":{"version":3,"sources":["../../src/Dialog.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport * as PropTypes from 'prop-types';\nimport { DialogTitleBar } from './DialogTitleBar';\nimport { DialogActionsBar } from './DialogActionsBar';\nimport { guid, dispatchEvent, Keys } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from './package-metadata';\n// tslint:enable:max-line-length\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    function Dialog(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.DialogRef = React.createRef();\n        _this.titleId = _this.generateTitleId();\n        _this.handleCloseDialog = function (event) {\n            event.preventDefault();\n            dispatchEvent(_this.props.onClose, event, _this, undefined);\n        };\n        _this.handleKeyDown = function (event) {\n            if (event.keyCode === Keys.esc && _this.props.onClose) {\n                event.preventDefault();\n                _this.handleCloseDialog(event);\n            }\n            var kDialog = _this.DialogRef.current;\n            if (kDialog && (event.keyCode === Keys.tab)) {\n                var focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n                var focusableContent = kDialog.querySelectorAll(focusableElements);\n                var firstFocusableElement = focusableContent[0];\n                var lastFocusableElement = focusableContent[focusableContent.length - 1];\n                if (event.shiftKey) {\n                    if (document.activeElement === firstFocusableElement) {\n                        lastFocusableElement.focus();\n                        event.preventDefault();\n                    }\n                }\n                else {\n                    if (document.activeElement === lastFocusableElement) {\n                        firstFocusableElement.focus();\n                        event.preventDefault();\n                    }\n                }\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Dialog.prototype.componentDidMount = function () {\n        if (this.DialogRef.current && this.props.autoFocus) {\n            this.DialogRef.current.focus();\n        }\n    };\n    /**\n     * @hidden\n     */\n    Dialog.prototype.render = function () {\n        var id = this.props.id !== undefined ? this.props.id : this.titleId;\n        var _a = this.props, title = _a.title, width = _a.width, height = _a.height, children = _a.children, minWidth = _a.minWidth, dir = _a.dir, style = _a.style, contentStyle = _a.contentStyle;\n        var elementsArray = React.Children.toArray(children);\n        var content = this.getContent(elementsArray);\n        var actions = this.getActionBar(elementsArray);\n        var aria = title ? {\n            'aria-labelledby': id\n        } : null;\n        var closeIcon = this.props.closeIcon !== undefined ? this.props.closeIcon : true;\n        var output = (React.createElement(\"div\", { className: 'k-dialog-wrapper' + (this.props.className ? ' ' + this.props.className : ''), onKeyDown: this.handleKeyDown, tabIndex: 0, dir: dir, style: style, ref: this.DialogRef },\n            React.createElement(\"div\", { className: \"k-overlay\" }),\n            React.createElement(\"div\", __assign({}, aria, { className: \"k-widget k-window k-dialog\", role: \"dialog\", style: { width: width, height: height, minWidth: minWidth } }),\n                this.props.title &&\n                    React.createElement(DialogTitleBar, { closeIcon: closeIcon, onCloseButtonClick: this.handleCloseDialog, id: id }, title),\n                React.createElement(\"div\", { className: \"k-window-content k-dialog-content\", style: contentStyle }, content),\n                actions)));\n        return this.props.appendTo ? createPortal(output, this.props.appendTo) : output;\n    };\n    Dialog.prototype.getActionBar = function (children) {\n        return children.filter(function (child) { return child && child.type === DialogActionsBar; });\n    };\n    Dialog.prototype.getContent = function (children) {\n        return children.filter(function (child) {\n            return child && child.type !== DialogActionsBar;\n        });\n    };\n    Dialog.prototype.generateTitleId = function () {\n        return 'dialog-title' + guid();\n    };\n    /**\n     * @hidden\n     */\n    Dialog.propTypes = {\n        title: PropTypes.any,\n        id: PropTypes.string,\n        dir: PropTypes.string,\n        style: PropTypes.object,\n        closeIcon: PropTypes.bool,\n        width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        minWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n        autoFocus: PropTypes.bool\n    };\n    /**\n     * @hidden\n     */\n    Dialog.defaultProps = {\n        autoFocus: false\n    };\n    return Dialog;\n}(React.Component));\nexport { Dialog };\n//# sourceMappingURL=Dialog.js.map"]},"metadata":{},"sourceType":"module"}