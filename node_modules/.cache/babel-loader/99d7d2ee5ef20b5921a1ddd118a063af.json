{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\testmanagement\\\\Method.jsx\";\nimport React, { Component } from 'react';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport rsapi from '../../rsapi';\nimport { process } from '@progress/kendo-data-query';\nimport DataGrid from '../../components/data-grid/data-grid.component'; // import {\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\n// } from '../../actions'\n\nimport { callService, crudMaster, getMethodComboService, getMethodDetail, getAvailableValidityData, fetchMethodValidityById, getMethodValidityUTCDate, updateStore, validateEsignCredential, filterColumnData } from '../../actions';\nimport MethodValidityView from './MethodValidityView';\nimport { injectIntl } from 'react-intl';\nimport { toast } from 'react-toastify'; //import AddParameter from './AddParameter'\n//import AddTest from '../../pages/testmanagement/AddTest'\n\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { getControlMap, showEsign, constructOptionList } from '../../components/CommonScript'; //import TestCategoryFilter from './TestCategoryFilter';\n\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { faTrashAlt, faPencilAlt, faCopy, faCheck } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport Esign from '../audittrail/Esign'; // import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\n\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\nimport 'react-perfect-scrollbar/dist/css/styles.css'; // import { Tooltip } from '@progress/kendo-react-tooltip';\n\nimport AddMethod from './AddMethod';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { Affix } from 'rsuite'; //import ReactTooltip from 'react-tooltip';\n\nclass Method extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSaveClick = (saveType, formRef) => {\n      // if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\n      //     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\n      //         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\n      //         return;\n      //     }\n      // }\n      //add / edit            \n      let inputData = [];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let dataState = undefined;\n      let selectedId = null;\n\n      if (this.props.Login.operation === \"update\") {\n        // edit\n        dataState = this.state.dataState;\n        inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = JSON.parse(JSON.stringify(this.state.selectedRecord));\n        selectedId = this.props.Login.selectedRecord.nmethodcode;\n      } else {\n        //add               \n        inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = {\n          \"nsitecode\": this.props.Login.userInfo.nmastersitecode\n        };\n      }\n\n      inputData[\"method\"][\"ndefaultstatus\"] = this.state.selectedRecord[\"ndefaultstatus\"] !== undefined && this.state.selectedRecord[\"ndefaultstatus\"] ? this.state.selectedRecord[\"ndefaultstatus\"] : transactionStatus.NO;\n      inputData[\"method\"][\"nmethodcatcode\"] = this.state.selectedRecord[\"nmethodcatcode\"] ? this.state.selectedRecord[\"nmethodcatcode\"].value : \"\";\n      inputData[\"method\"][\"smethodname\"] = this.state.selectedRecord[\"smethodname\"] ? this.state.selectedRecord[\"smethodname\"] : \"\";\n      inputData[\"method\"][\"sdescription\"] = this.state.selectedRecord[\"sdescription\"] ? this.state.selectedRecord[\"sdescription\"] : \"\";\n      inputData[\"methodvalidity\"] = {};\n\n      if (this.state.selectedRecord[\"nvalidityenable\"] === 3) {\n        inputData[\"methodvalidity\"][\"dvaliditystartdate\"] = this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date();\n        inputData[\"methodvalidity\"][\"dvalidityenddate\"] = this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date();\n        inputData[\"methodvalidity\"][\"svaliditystartdate\"] = this.state.selectedRecord[\"svaliditystartdate\"] ? this.state.selectedRecord[\"svaliditystartdate\"] : new Date();\n        inputData[\"methodvalidity\"][\"svalidityenddate\"] = this.state.selectedRecord[\"svalidityenddate\"] ? this.state.selectedRecord[\"svalidityenddate\"] : new Date();\n      }\n\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: this.props.Login.inputParam.methodUrl,\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: inputData,\n        selectedId,\n        dataState,\n        operation: this.props.Login.operation,\n        saveType,\n        formRef,\n        searchRef: this.searchRef\n      };\n      const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\n\n      if (esignNeeded) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: this.props.Login.inputParam.displayName\n            }),\n            operation: this.props.Login.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.ConfirmDelete = (deleteParam, deleteID) => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteRecord(deleteParam, deleteID));\n    };\n\n    this.deleteRecord = (deleteParam, nControlcode) => {\n      const postParam = {\n        inputListName: \"Method\",\n        selectedObject: \"SelectedMethod\",\n        primaryKeyField: \"nmethodcode\",\n        primaryKeyValue: this.props.Login.masterData.SelectedMethod.nmethodcode,\n        fetchUrl: \"method/getMethod\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: this.props.Login.inputParam.methodUrl,\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: {\n          [this.props.Login.inputParam.methodUrl.toLowerCase()]: this.props.Login.masterData.SelectedMethod,\n          //deleteParam.selectedRecord,\n          \"userinfo\": this.props.Login.userInfo\n        },\n        operation: deleteParam.operation,\n        dataState: this.state.dataState,\n        postParam\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, nControlcode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: this.props.Login.inputParam.displayName\n            }),\n            operation: deleteParam.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.onEsignInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      ;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handleDateChange = (dateName, dateValue, sdatename) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (dateName === \"dvaliditystartdate\") {\n        selectedRecord[\"dvalidityenddate\"] = dateValue;\n      }\n\n      selectedRecord[dateName] = dateValue;\n      selectedRecord[sdatename] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord[\"agree\"] = transactionStatus.NO;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"]\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Method\",\n        //this.props.Login.inputParam.methodUrl,\n        displayName: this.props.Login.inputParam.displayName,\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.state = {\n      selectedRecord: {},\n      error: \"\",\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25\n    };\n    this.searchRef = React.createRef(); // this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\n\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\n        toast.warn(props.Login.masterStatus);\n        props.Login.masterStatus = \"\";\n      }\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    //     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\n    //     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\n    //    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\n    //     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\n    const addId = this.state.controlMap.has(\"AddMethod\") && this.state.controlMap.get(\"AddMethod\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditMethod\") && this.state.controlMap.get(\"EditMethod\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteMethod\") && this.state.controlMap.get(\"DeleteMethod\").ncontrolcode; // const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \n    //     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\n    //   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \n    //    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\n\n    const addParam = {\n      screenName: \"IDS_METHOD\",\n      operation: \"create\",\n      primaryKeyName: \"nmethodcode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: addId\n    };\n    const editParam = {\n      screenName: \"IDS_METHOD\",\n      operation: \"update\",\n      primaryKeyName: \"nmethodcode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: editId,\n      inputListName: \"Method\",\n      selectedObject: \"SelectedMethod\"\n    };\n    const editValidityId = this.state.controlMap.has(\"EditMethodValidity\") && this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;\n    const editValidityParam = {\n      screenName: \"IDS_METHODVALIDITY\",\n      operation: \"update\",\n      primaryKeyName: \"nmethodvaliditycode\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      ncontrolcode: editValidityId,\n      inputListName: \"MethodValidity\",\n      selectedObject: \"selectedRecord\"\n    };\n    const mandatoryFields = [{\n      \"idsName\": \"IDS_METHODCATEGORY\",\n      \"dataField\": \"nmethodcatcode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_METHODNAME\",\n      \"dataField\": \"smethodname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    } // {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n    // {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\n    ];\n    const deleteParam = {\n      operation: \"delete\"\n    };\n    const filterParam = {\n      inputListName: \"Method\",\n      selectedObject: \"SelectedMethod\",\n      primaryKeyField: \"nmethodcode\",\n      fetchUrl: \"method/getMethod\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"smethodname\", \"sdescription\", \"smethodcategoryname\", \"stransactionstatus\"]\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      masterData: this.props.Login.masterData,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_METHOD\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Method,\n      getMasterDetail: method => this.props.getMethodDetail(method, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.SelectedMethod,\n      primaryKeyField: \"nmethodcode\",\n      mainField: \"smethodname\",\n      firstField: \"smethodcatname\",\n      secondField: \"sdisplaystatus\",\n      openModal: () => this.props.getMethodComboService(addParam),\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, this.props.Login.masterData.Method && this.props.Login.masterData.Method.length > 0 && this.props.Login.masterData.SelectedMethod && Object.values(this.props.Login.masterData.SelectedMethod).length > 0 ? /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.SelectedMethod.smethodname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      name: \"editmethodname\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      onClick: () => this.props.getMethodComboService(editParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      name: \"deletemethodname\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      onClick: () => this.ConfirmDelete(deleteParam, deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 61\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"form-static-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 57\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_DESCRIPTION\"\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData.SelectedMethod.sdescription)))), /*#__PURE__*/React.createElement(MethodValidityView, {\n      userInfo: this.props.Login.userInfo,\n      dataState: this.props.Login.dataState,\n      masterData: this.props.Login.masterData,\n      inputParam: this.props.Login.inputParam,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      esignRights: this.props.Login.userRoleControlRights,\n      screenData: this.props.Login.screenData,\n      openChildModal: this.props.Login.openChildModal,\n      fetchMethodValidityById: this.props.fetchMethodValidityById,\n      editParam: editValidityParam,\n      operation: this.props.Login.operation,\n      screenName: this.props.Login.screenName,\n      selectedRecord: this.props.Login.selectedRecord,\n      selectedMethod: this.props.Login.masterData.SelectedMethod,\n      loadEsign: this.props.Login.loadEsign,\n      ncontrolCode: this.props.Login.ncontrolCode,\n      crudMaster: this.props.crudMaster,\n      getAvailableValidityData: this.props.getAvailableValidityData,\n      getMethodDetails: this.props.getMethodDetails,\n      getMethodValidityUTCDate: this.props.getMethodValidityUTCDate,\n      updateStore: this.props.updateStore,\n      validateEsignCredential: this.props.validateEsignCredential,\n      settings: this.props.Login.settings,\n      selectedId: this.props.Login.selectedId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 45\n      }\n    })))) : \"\"))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: mandatoryFields || [],\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onEsignInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 29\n        }\n      }) : /*#__PURE__*/React.createElement(AddMethod, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        handleDateChange: this.handleDateChange,\n        methodCategoryList: this.props.Login.methodCategoryList || [],\n        operation: this.props.Login.operation,\n        userInfo: this.props.Login.userInfo,\n        inputParam: this.props.Login.inputParam,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 31\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    let isComponentUpdated = false; // if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\n    //     this.setState({\n    //         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\n    //         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\n    //         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\n    //     });\n    // }\n\n    if (this.props.Login.showSaveContinue !== previousProps.Login.showSaveContinue) {\n      this.setState({\n        showSaveContinue: this.props.Login.showSaveContinue\n      });\n    }\n\n    if (this.props.Login !== previousProps.Login) {\n      this.PrevoiusLoginData = previousProps;\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap\n      });\n    }\n  } // generateBreadCrumData() {\n  //     const breadCrumbData = [];\n  //     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\n  //         breadCrumbData.push(\n  //             {\n  //                 \"label\": \"IDS_TESTCATEGORY\",\n  //                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\n  //             }\n  //         );\n  //     }\n  //     return breadCrumbData;\n  // }\n\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  getMethodComboService,\n  getMethodDetail,\n  getAvailableValidityData,\n  fetchMethodValidityById,\n  getMethodValidityUTCDate,\n  updateStore,\n  validateEsignCredential,\n  filterColumnData\n})(injectIntl(Method));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testmanagement/Method.jsx"],"names":["React","Component","ListWrapper","Row","Col","Card","Nav","FormGroup","FormLabel","connect","rsapi","process","DataGrid","callService","crudMaster","getMethodComboService","getMethodDetail","getAvailableValidityData","fetchMethodValidityById","getMethodValidityUTCDate","updateStore","validateEsignCredential","filterColumnData","MethodValidityView","injectIntl","toast","SlideOutModal","getControlMap","showEsign","constructOptionList","ListMaster","faTrashAlt","faPencilAlt","faCopy","faCheck","FontAwesomeIcon","ReadOnlyText","ContentPanel","MediaLabel","DEFAULT_RETURN","Esign","parameterType","transactionStatus","AddMethod","ConfirmMessage","BreadcrumbComponent","Affix","Method","constructor","props","onSaveClick","saveType","formRef","inputData","Login","userInfo","dataState","undefined","selectedId","operation","state","inputParam","methodUrl","toLowerCase","JSON","parse","stringify","selectedRecord","nmethodcode","nmastersitecode","NO","value","Date","classUrl","displayName","searchRef","esignNeeded","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","masterData","openModal","screenName","intl","formatMessage","id","ConfirmDelete","deleteParam","deleteID","confirmMessage","confirm","deleteRecord","nControlcode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","SelectedMethod","fetchUrl","fecthInputObject","userinfo","onEsignInputOnChange","event","target","type","name","checked","YES","setState","onInputOnChange","onComboChange","comboData","fieldName","handleDateChange","dateName","dateValue","sdatename","closeModal","validateEsign","sreason","password","reloadData","current","error","controlMap","Map","skip","take","settings","createRef","getDerivedStateFromProps","masterStatus","errorCode","warn","render","addId","has","get","ncontrolcode","editId","deleteId","addParam","primaryKeyName","editParam","editValidityId","editValidityParam","mandatoryFields","filterParam","searchFieldList","searchedData","method","length","Object","values","smethodname","indexOf","sdescription","openChildModal","getMethodDetails","methodCategoryList","componentDidUpdate","previousProps","isComponentUpdated","showSaveContinue","PrevoiusLoginData","map","item","push","componentWillUnmount","modalName","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {ListWrapper} from '../../components/client-group.styles';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport rsapi from '../../rsapi';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\n// import {\r\n//     callService, crudMaster, getTestMaster, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\r\n//     addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\r\n//     changeTestCategoryFilter, addTestFile, viewAttachment,getActiveTestContainerTypeById\r\n// } from '../../actions'\r\nimport { callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData } from '../../actions';\r\nimport MethodValidityView from './MethodValidityView';\r\nimport { injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\n//import AddParameter from './AddParameter'\r\n//import AddTest from '../../pages/testmanagement/AddTest'\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { getControlMap, showEsign, constructOptionList } from '../../components/CommonScript';\r\n//import TestCategoryFilter from './TestCategoryFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { faTrashAlt, faPencilAlt, faCopy, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport Esign from '../audittrail/Esign';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { parameterType, transactionStatus } from '../../components/Enumeration';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport AddMethod from './AddMethod';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\n//import ReactTooltip from 'react-tooltip';\r\n\r\n\r\nclass Method extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25\r\n        });\r\n        this.searchRef = React.createRef();\r\n       // this.searchFieldList = [\"smethodname\", \"sdescription\",  \"smethodcategoryname\", \"stransactionstatus\"];\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n    //     const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n\r\n    //    const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\r\n    //     && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n    const addId = this.state.controlMap.has(\"AddMethod\") && this.state.controlMap.get(\"AddMethod\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditMethod\") && this.state.controlMap.get(\"EditMethod\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteMethod\") && this.state.controlMap.get(\"DeleteMethod\").ncontrolcode;\r\n        \r\n        // const addParam = {screenName:\"Method\", primaryeyField: \"nmethodcode\", primaryKeyValue:undefined,  \r\n        //     operation:\"create\", inputParam:this.props.Login.inputParam, userInfo : this.props.Login.userInfo, ncontrolCode: addId};\r\n\r\n        //   const editParam = {screenName:this.props.Login.inputParam && this.props.Login.inputParam.displayName && this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }), operation:\"update\", \r\n        //    primaryKeyField:\"nmethodcode\", inputParam:this.props.Login.inputParam,  userInfo:this.props.Login.userInfo,  ncontrolCode:editId};\r\n        const addParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"create\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: addId\r\n        }\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_METHOD\", operation: \"update\", primaryKeyName: \"nmethodcode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: editId, inputListName: \"Method\", selectedObject: \"SelectedMethod\"\r\n        };\r\n        const editValidityId = this.state.controlMap.has(\"EditMethodValidity\") && this.state.controlMap.get(\"EditMethodValidity\").ncontrolcode;\r\n    const editValidityParam = {\r\n      screenName: \"IDS_METHODVALIDITY\", operation: \"update\", primaryKeyName: \"nmethodvaliditycode\",\r\n      masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n      ncontrolcode: editValidityId, inputListName: \"MethodValidity\", selectedObject: \"selectedRecord\"\r\n  };\r\n        const mandatoryFields = [{\"idsName\":\"IDS_METHODCATEGORY\",\"dataField\":\"nmethodcatcode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n        {\"idsName\":\"IDS_METHODNAME\",\"dataField\":\"smethodname\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        // {idsName: \"IDS_VALIDITYSTARTDATE\",dataField: \"dvaliditystartdate\", mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        // {idsName: \"IDS_VALIDITYENDDATE\",dataField: \"dvalidityenddate\",mandatoryLabel: \"IDS_SELECT\",controlType: \"selectbox\"},\r\n        ];\r\n        const deleteParam = { operation: \"delete\" };\r\n        const filterParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\", primaryKeyField: \"nmethodcode\",\r\n            fetchUrl: \"method/getMethod\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"smethodname\", \"sdescription\", \"smethodcategoryname\", \"stransactionstatus\"]\r\n        };\r\n\r\n        return (\r\n            <>\r\n                {/* Start of get display */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {/* {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    } */}\r\n                    <Row noGutters={true}>\r\n                        <Col md=\"4\">\r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_METHOD\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Method}\r\n                                getMasterDetail={(method) => this.props.getMethodDetail(method, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedMethod}\r\n                                primaryKeyField=\"nmethodcode\"\r\n                                mainField=\"smethodname\"\r\n                                firstField=\"smethodcatname\"\r\n                                secondField=\"sdisplaystatus\"\r\n                                openModal={() => this.props.getMethodComboService(addParam)}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n\r\n                                \r\n                                \r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            {this.props.Login.masterData.Method && this.props.Login.masterData.Method.length > 0 && this.props.Login.masterData.SelectedMethod && Object.values(this.props.Login.masterData.SelectedMethod).length > 0 ?\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                                            <Card.Title className=\"product-title-main\">\r\n                                                {this.props.Login.masterData.SelectedMethod.smethodname}\r\n                                            </Card.Title>\r\n                                            <Card.Subtitle>\r\n                                                {/* <Row>\r\n                                                <Col md={8}> */}\r\n                                                <div className=\"d-flex product-category\">\r\n                                                    {/* <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        <MediaLabel className={`btn btn-outlined ${this.props.Login.masterData.SelectedMethod.nstatus === 1 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                                            {this.props.Login.masterData.SelectedMethod.nstatus === 1 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                                            {this.props.Login.masterData.SelectedMethod.sdisplaystatus}\r\n                                                        </MediaLabel>\r\n                                                        \r\n                                                    </h2> */}\r\n                                                    {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <div className=\"d-inline\">\r\n                                                       \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"editmethodname\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            data-for=\"tooltip_list_wrap\"\r\n                                                            onClick={() => this.props.getMethodComboService(editParam)}>\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletemethodname\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            data-for=\"tooltip_list_wrap\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            onClick={() => this.ConfirmDelete(deleteParam,deleteId)}\r\n                                                        >\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            {/* <ConfirmDialog\r\n                                                                    name=\"deleteMessage\"\r\n                                                                    message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                    doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                    doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                    icon={faTrashAlt}\r\n                                                                    // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    handleClickDelete={() => this.deleteAction(SelectedTest, \"delete\", deleteId, \"TestMaster\", \"openModal\")}\r\n                                                                /> */}\r\n                                                        </Nav.Link>\r\n                                                        \r\n                                                    </div>\r\n                                                    {/* </Tooltip> */}\r\n                                                </div>\r\n                                                {/* </Col>\r\n                                            </Row> */}\r\n                                            </Card.Subtitle>\r\n                                        </Card.Header>\r\n                                        <Card.Body className=\"form-static-wrap\">\r\n                                            <Row>\r\n                                                <Col md=\"12\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DESCRIPTION\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdescription}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                {/* <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DISPLAYSTATUS\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedMethod.sdisplaystatus}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col> */}\r\n\r\n                                                \r\n                                               \r\n                                                {/* End Here */}\r\n                                            </Row>\r\n                                            <MethodValidityView\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                dataState={this.props.Login.dataState}\r\n                                                masterData={this.props.Login.masterData}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                controlMap={this.state.controlMap}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                esignRights={this.props.Login.userRoleControlRights}\r\n                                                screenData={this.props.Login.screenData}\r\n                                                openChildModal={this.props.Login.openChildModal}\r\n                                                fetchMethodValidityById={this.props.fetchMethodValidityById}\r\n                                                editParam={editValidityParam}\r\n                                                operation={this.props.Login.operation}\r\n                                                screenName={this.props.Login.screenName}\r\n                                                selectedRecord={this.props.Login.selectedRecord}\r\n                                                selectedMethod={this.props.Login.masterData.SelectedMethod}\r\n                                                loadEsign={this.props.Login.loadEsign}\r\n                                                ncontrolCode={this.props.Login.ncontrolCode}\r\n                                                crudMaster={this.props.crudMaster}\r\n                                                getAvailableValidityData={this.props.getAvailableValidityData}\r\n                                                getMethodDetails={this.props.getMethodDetails}\r\n                                                getMethodValidityUTCDate={this.props.getMethodValidityUTCDate}\r\n                                                updateStore={this.props.updateStore}\r\n                                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                                settings = {this.props.Login.settings}\r\n                                                selectedId={this.props.Login.selectedId}\r\n                                            ></MethodValidityView>\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </ContentPanel>\r\n                                : \"\"\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {/* End of get display */}\r\n\r\n                {/* Start of Modal Sideout for Test Creation */}\r\n                {this.props.Login.openModal && \r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields || []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddMethod  \r\n                            selectedRecord={this.state.selectedRecord ||{}}                                  \r\n                            onInputOnChange={this.onInputOnChange}\r\n                            onComboChange={this.onComboChange} \r\n                            handleDateChange={this.handleDateChange}\r\n                            methodCategoryList={this.props.Login.methodCategoryList ||[]}\r\n                            operation={this.props.Login.operation}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            inputParam={this.props.Login.inputParam}  \r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n                {/* End of Modal Sideout for Test Creation */}\r\n            </>\r\n        );\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        // if (this.state.selectedRecord[\"dvalidityenddate\"] !== undefined && this.state.selectedRecord[\"dvaliditystartdate\"] !== undefined) {\r\n        //     if (this.state.selectedRecord[\"dvalidityenddate\"] < this.state.selectedRecord[\"dvaliditystartdate\"]) {\r\n        //         toast.info(this.props.intl.formatMessage({ id: \"IDS_ENDDATEGRATERTHANSTARTDATE\" }));\r\n        //         return;\r\n        //     }\r\n        // }\r\n        //add / edit            \r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let dataState = undefined;\r\n        let selectedId = null;\r\n        if ( this.props.Login.operation === \"update\"){\r\n            // edit\r\n            dataState = this.state.dataState;\r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = JSON.parse(JSON.stringify(this.state.selectedRecord));\r\n            selectedId = this.props.Login.selectedRecord.nmethodcode;              \r\n        }\r\n        else{\r\n            //add               \r\n            inputData[this.props.Login.inputParam.methodUrl.toLowerCase()] = {\"nsitecode\":this.props.Login.userInfo.nmastersitecode};      \r\n           \r\n        }   \r\n\r\n        inputData[\"method\"][\"ndefaultstatus\"] = this.state.selectedRecord[\"ndefaultstatus\"] !== undefined && this.state.selectedRecord[\"ndefaultstatus\"]? this.state.selectedRecord[\"ndefaultstatus\"]:transactionStatus.NO;\r\n        inputData[\"method\"][\"nmethodcatcode\"] = this.state.selectedRecord[\"nmethodcatcode\"]? this.state.selectedRecord[\"nmethodcatcode\"].value:\"\";\r\n        inputData[\"method\"][\"smethodname\"] = this.state.selectedRecord[\"smethodname\"]? this.state.selectedRecord[\"smethodname\"]:\"\";\r\n      \r\n        inputData[\"method\"][\"sdescription\"] = this.state.selectedRecord[\"sdescription\"]? this.state.selectedRecord[\"sdescription\"]:\"\";\r\n        inputData[\"methodvalidity\"]={};\r\n        if(this.state.selectedRecord[\"nvalidityenable\"]===3)\r\n        {\r\n        inputData[\"methodvalidity\"][\"dvaliditystartdate\"] = this.state.selectedRecord[\"dvaliditystartdate\"] ? this.state.selectedRecord[\"dvaliditystartdate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"dvalidityenddate\"] = this.state.selectedRecord[\"dvalidityenddate\"] ? this.state.selectedRecord[\"dvalidityenddate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"svaliditystartdate\"] = this.state.selectedRecord[\"svaliditystartdate\"] ? this.state.selectedRecord[\"svaliditystartdate\"] : new Date();\r\n        inputData[\"methodvalidity\"][\"svalidityenddate\"] = this.state.selectedRecord[\"svalidityenddate\"] ? this.state.selectedRecord[\"svalidityenddate\"] : new Date();\r\n        }   \r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName:this.props.Login.inputParam.displayName,  \r\n            inputData: inputData, selectedId, dataState,\r\n            operation: this.props.Login.operation, saveType, formRef,\r\n            searchRef: this.searchRef,\r\n\r\n        }\r\n       \r\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n        if (esignNeeded){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName:this.props.intl.formatMessage({ id:this.props.Login.inputParam.displayName}),\r\n                    operation:this.props.Login.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n       \r\n}\r\n\r\n    ConfirmDelete = (deleteParam,deleteID) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(deleteParam,deleteID));\r\n    }\r\n    deleteRecord = (deleteParam, nControlcode) => {\r\n        const postParam = {\r\n            inputListName: \"Method\", selectedObject: \"SelectedMethod\",\r\n            primaryKeyField: \"nmethodcode\",\r\n            primaryKeyValue: this.props.Login.masterData.SelectedMethod.nmethodcode,\r\n            fetchUrl: \"method/getMethod\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n                                classUrl: this.props.Login.inputParam.classUrl,\r\n                                methodUrl: this.props.Login.inputParam.methodUrl,                        \r\n                                displayName:this.props.Login.inputParam.displayName,\r\n                                inputData: {[this.props.Login.inputParam.methodUrl.toLowerCase()] :this.props.Login.masterData.SelectedMethod,   //deleteParam.selectedRecord,\r\n                                            \"userinfo\": this.props.Login.userInfo},\r\n                                operation:deleteParam.operation,\r\n            dataState: this.state.dataState,\r\n            postParam\r\n                            }       \r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, nControlcode)){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.Login.masterData}, \r\n                    openModal:true, screenName:this.props.intl.formatMessage({ id:this.props.Login.inputParam.displayName}),\r\n                    operation:deleteParam.operation\r\n                    }\r\n                }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onInputOnChange=(event) => {\r\n        \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox')\r\n        {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else{\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        \r\n        this.setState({selectedRecord});\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {      \r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;   \r\n     \r\n        this.setState({selectedRecord});        \r\n    }\r\n    handleDateChange = (dateName, dateValue, sdatename) => {\r\n        const { selectedRecord } = this.state;\r\n        if(dateName === \"dvaliditystartdate\")\r\n        {\r\n           selectedRecord[\"dvalidityenddate\"] = dateValue;  \r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        selectedRecord[sdatename] = dateValue;\r\n        this.setState({ selectedRecord });\r\n      };\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = transactionStatus.NO;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        const inputParam = {\r\n                        inputData : {\"userinfo\":this.props.Login.userInfo},                        \r\n                        classUrl: this.props.Login.inputParam.classUrl,\r\n                        methodUrl: \"Method\",//this.props.Login.inputParam.methodUrl,\r\n                        displayName:this.props.Login.inputParam.displayName,\r\n                        userInfo: this.props.Login.userInfo\r\n                    };     \r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let isComponentUpdated = false;\r\n\r\n       \r\n\r\n        // if (this.props.Login.regparentSubSampleColumnList !== previousProps.Login.regparentSubSampleColumnList) {\r\n        //     this.setState({\r\n        //         regparentSubSampleColumnList: this.props.Login.regparentSubSampleColumnList,\r\n        //         regSubSamplecomboComponents: this.props.Login.regSubSamplecomboComponents,\r\n        //         regSubSamplewithoutCombocomponent: this.props.Login.regSubSamplewithoutCombocomponent\r\n        //     });\r\n\r\n        // }\r\n\r\n\r\n        if (this.props.Login.showSaveContinue !== previousProps.Login.showSaveContinue) {\r\n            this.setState({ showSaveContinue: this.props.Login.showSaveContinue });\r\n\r\n        }\r\n        if (this.props.Login !== previousProps.Login) {\r\n            this.PrevoiusLoginData = previousProps\r\n        }\r\n\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n        \r\n\r\n        \r\n       \r\n        \r\n    }\r\n\r\n    // generateBreadCrumData() {\r\n    //     const breadCrumbData = [];\r\n    //     if (this.props.Login.masterData && this.props.Login.masterData.filterTestCategory) {\r\n\r\n    //         breadCrumbData.push(\r\n    //             {\r\n    //                 \"label\": \"IDS_TESTCATEGORY\",\r\n    //                 \"value\": this.props.Login.masterData.SelectedTestCat ? this.props.Login.masterData.SelectedTestCat.stestcategoryname : \"NA\"\r\n    //             }\r\n    //         );\r\n    //     }\r\n    //     return breadCrumbData;\r\n    // }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n                \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster,getMethodComboService,getMethodDetail,getAvailableValidityData,fetchMethodValidityById,getMethodValidityUTCDate,updateStore, validateEsignCredential,filterColumnData\r\n})(injectIntl(Method));"]},"metadata":{},"sourceType":"module"}