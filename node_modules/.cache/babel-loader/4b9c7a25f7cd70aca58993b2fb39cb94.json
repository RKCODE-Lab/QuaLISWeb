{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _stuff = require(\"../../utils/stuff\");\n\nvar _excluded = [\"factory\"];\n\nvar _default = function _default(_ref) {\n  var delta = _ref.delta,\n      isFuncArg = _ref.isFuncArg,\n      valueSrc = _ref.valueSrc,\n      immValue = _ref.value,\n      immValueError = _ref.valueError,\n      asyncListValues = _ref.asyncListValues,\n      isSpecialRange = _ref.isSpecialRange,\n      fieldDefinition = _ref.fieldDefinition,\n      widget = _ref.widget,\n      widgetDefinition = _ref.widgetDefinition,\n      widgetValueLabel = _ref.widgetValueLabel,\n      valueLabels = _ref.valueLabels,\n      textSeparators = _ref.textSeparators,\n      setValueHandler = _ref.setValueHandler,\n      config = _ref.config,\n      field = _ref.field,\n      operator = _ref.operator,\n      readonly = _ref.readonly,\n      parentField = _ref.parentField,\n      parentFuncs = _ref.parentFuncs,\n      id = _ref.id,\n      groupId = _ref.groupId;\n  var widgetFactory = widgetDefinition.factory,\n      fieldWidgetProps = (0, _objectWithoutProperties2[\"default\"])(widgetDefinition, _excluded);\n  var isConst = isFuncArg && fieldDefinition.valueSources && fieldDefinition.valueSources.length == 1 && fieldDefinition.valueSources[0] == \"const\";\n  var defaultValue = fieldDefinition.defaultValue;\n\n  if (!widgetFactory) {\n    return \"?\";\n  }\n\n  var value = isSpecialRange ? [immValue.get(0), immValue.get(1)] : immValue ? immValue.get(delta) : undefined;\n  var valueError = immValueError && (isSpecialRange ? [immValueError.get(0), immValueError.get(1)] : immValueError.get(delta)) || null;\n  if (isSpecialRange && value[0] === undefined && value[1] === undefined) value = undefined;\n\n  var _ref2 = fieldDefinition || {},\n      fieldSettings = _ref2.fieldSettings;\n\n  var widgetProps = Object.assign({}, fieldWidgetProps, fieldSettings, {\n    config: config,\n    field: field,\n    parentField: parentField,\n    parentFuncs: parentFuncs,\n    fieldDefinition: fieldDefinition,\n    operator: operator,\n    delta: delta,\n    isSpecialRange: isSpecialRange,\n    isFuncArg: isFuncArg,\n    value: value,\n    valueError: valueError,\n    label: widgetValueLabel.label,\n    placeholder: widgetValueLabel.placeholder,\n    placeholders: valueLabels ? valueLabels.placeholder : null,\n    textSeparators: textSeparators,\n    setValue: setValueHandler,\n    readonly: readonly,\n    asyncListValues: asyncListValues,\n    id: id,\n    groupId: groupId\n  });\n\n  if (widget == \"field\") {//\n  }\n\n  if (isConst && defaultValue) {\n    if (typeof defaultValue == \"boolean\") {\n      return defaultValue ? widgetProps.labelYes || \"YES\" : widgetProps.labelNo || \"NO\";\n    } else if (fieldSettings.listValues) {\n      if (Array.isArray(defaultValue)) return defaultValue.map(function (v) {\n        return (0, _stuff.getTitleInListValues)(fieldSettings.listValues, v) || v;\n      }).join(\", \");else return (0, _stuff.getTitleInListValues)(fieldSettings.listValues, defaultValue) || defaultValue;\n    }\n\n    return \"\" + defaultValue;\n  }\n\n  return widgetFactory(widgetProps);\n};\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/node_modules/react-awesome-query-builder/lib/components/rule/WidgetFactory.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_objectWithoutProperties2","_react","_stuff","_excluded","_default","_ref","delta","isFuncArg","valueSrc","immValue","immValueError","valueError","asyncListValues","isSpecialRange","fieldDefinition","widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler","config","field","operator","readonly","parentField","parentFuncs","id","groupId","widgetFactory","factory","fieldWidgetProps","isConst","valueSources","length","defaultValue","get","undefined","_ref2","fieldSettings","widgetProps","assign","label","placeholder","placeholders","setValue","labelYes","labelNo","listValues","Array","isArray","map","v","getTitleInListValues","join"],"mappings":"AAAA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,yBAAyB,GAAGN,sBAAsB,CAACC,OAAO,CAAC,gDAAD,CAAR,CAAtD;;AAEA,IAAIM,MAAM,GAAGP,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIO,MAAM,GAAGP,OAAO,CAAC,mBAAD,CAApB;;AAEA,IAAIQ,SAAS,GAAG,CAAC,SAAD,CAAhB;;AAEA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACrC,MAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AAAA,MACIC,SAAS,GAAGF,IAAI,CAACE,SADrB;AAAA,MAEIC,QAAQ,GAAGH,IAAI,CAACG,QAFpB;AAAA,MAGIC,QAAQ,GAAGJ,IAAI,CAACN,KAHpB;AAAA,MAIIW,aAAa,GAAGL,IAAI,CAACM,UAJzB;AAAA,MAKIC,eAAe,GAAGP,IAAI,CAACO,eAL3B;AAAA,MAMIC,cAAc,GAAGR,IAAI,CAACQ,cAN1B;AAAA,MAOIC,eAAe,GAAGT,IAAI,CAACS,eAP3B;AAAA,MAQIC,MAAM,GAAGV,IAAI,CAACU,MARlB;AAAA,MASIC,gBAAgB,GAAGX,IAAI,CAACW,gBAT5B;AAAA,MAUIC,gBAAgB,GAAGZ,IAAI,CAACY,gBAV5B;AAAA,MAWIC,WAAW,GAAGb,IAAI,CAACa,WAXvB;AAAA,MAYIC,cAAc,GAAGd,IAAI,CAACc,cAZ1B;AAAA,MAaIC,eAAe,GAAGf,IAAI,CAACe,eAb3B;AAAA,MAcIC,MAAM,GAAGhB,IAAI,CAACgB,MAdlB;AAAA,MAeIC,KAAK,GAAGjB,IAAI,CAACiB,KAfjB;AAAA,MAgBIC,QAAQ,GAAGlB,IAAI,CAACkB,QAhBpB;AAAA,MAiBIC,QAAQ,GAAGnB,IAAI,CAACmB,QAjBpB;AAAA,MAkBIC,WAAW,GAAGpB,IAAI,CAACoB,WAlBvB;AAAA,MAmBIC,WAAW,GAAGrB,IAAI,CAACqB,WAnBvB;AAAA,MAoBIC,EAAE,GAAGtB,IAAI,CAACsB,EApBd;AAAA,MAqBIC,OAAO,GAAGvB,IAAI,CAACuB,OArBnB;AAsBA,MAAIC,aAAa,GAAGb,gBAAgB,CAACc,OAArC;AAAA,MACIC,gBAAgB,GAAG,CAAC,GAAG/B,yBAAyB,CAAC,SAAD,CAA7B,EAA0CgB,gBAA1C,EAA4Db,SAA5D,CADvB;AAEA,MAAI6B,OAAO,GAAGzB,SAAS,IAAIO,eAAe,CAACmB,YAA7B,IAA6CnB,eAAe,CAACmB,YAAhB,CAA6BC,MAA7B,IAAuC,CAApF,IAAyFpB,eAAe,CAACmB,YAAhB,CAA6B,CAA7B,KAAmC,OAA1I;AACA,MAAIE,YAAY,GAAGrB,eAAe,CAACqB,YAAnC;;AAEA,MAAI,CAACN,aAAL,EAAoB;AAClB,WAAO,GAAP;AACD;;AAED,MAAI9B,KAAK,GAAGc,cAAc,GAAG,CAACJ,QAAQ,CAAC2B,GAAT,CAAa,CAAb,CAAD,EAAkB3B,QAAQ,CAAC2B,GAAT,CAAa,CAAb,CAAlB,CAAH,GAAwC3B,QAAQ,GAAGA,QAAQ,CAAC2B,GAAT,CAAa9B,KAAb,CAAH,GAAyB+B,SAAnG;AACA,MAAI1B,UAAU,GAAGD,aAAa,KAAKG,cAAc,GAAG,CAACH,aAAa,CAAC0B,GAAd,CAAkB,CAAlB,CAAD,EAAuB1B,aAAa,CAAC0B,GAAd,CAAkB,CAAlB,CAAvB,CAAH,GAAkD1B,aAAa,CAAC0B,GAAd,CAAkB9B,KAAlB,CAArE,CAAb,IAA+G,IAAhI;AACA,MAAIO,cAAc,IAAId,KAAK,CAAC,CAAD,CAAL,KAAasC,SAA/B,IAA4CtC,KAAK,CAAC,CAAD,CAAL,KAAasC,SAA7D,EAAwEtC,KAAK,GAAGsC,SAAR;;AAExE,MAAIC,KAAK,GAAGxB,eAAe,IAAI,EAA/B;AAAA,MACIyB,aAAa,GAAGD,KAAK,CAACC,aAD1B;;AAGA,MAAIC,WAAW,GAAG5C,MAAM,CAAC6C,MAAP,CAAc,EAAd,EAAkBV,gBAAlB,EAAoCQ,aAApC,EAAmD;AACnElB,IAAAA,MAAM,EAAEA,MAD2D;AAEnEC,IAAAA,KAAK,EAAEA,KAF4D;AAGnEG,IAAAA,WAAW,EAAEA,WAHsD;AAInEC,IAAAA,WAAW,EAAEA,WAJsD;AAKnEZ,IAAAA,eAAe,EAAEA,eALkD;AAMnES,IAAAA,QAAQ,EAAEA,QANyD;AAOnEjB,IAAAA,KAAK,EAAEA,KAP4D;AAQnEO,IAAAA,cAAc,EAAEA,cARmD;AASnEN,IAAAA,SAAS,EAAEA,SATwD;AAUnER,IAAAA,KAAK,EAAEA,KAV4D;AAWnEY,IAAAA,UAAU,EAAEA,UAXuD;AAYnE+B,IAAAA,KAAK,EAAEzB,gBAAgB,CAACyB,KAZ2C;AAanEC,IAAAA,WAAW,EAAE1B,gBAAgB,CAAC0B,WAbqC;AAcnEC,IAAAA,YAAY,EAAE1B,WAAW,GAAGA,WAAW,CAACyB,WAAf,GAA6B,IAda;AAenExB,IAAAA,cAAc,EAAEA,cAfmD;AAgBnE0B,IAAAA,QAAQ,EAAEzB,eAhByD;AAiBnEI,IAAAA,QAAQ,EAAEA,QAjByD;AAkBnEZ,IAAAA,eAAe,EAAEA,eAlBkD;AAmBnEe,IAAAA,EAAE,EAAEA,EAnB+D;AAoBnEC,IAAAA,OAAO,EAAEA;AApB0D,GAAnD,CAAlB;;AAuBA,MAAIb,MAAM,IAAI,OAAd,EAAuB,CAAC;AACvB;;AAED,MAAIiB,OAAO,IAAIG,YAAf,EAA6B;AAC3B,QAAI,OAAOA,YAAP,IAAuB,SAA3B,EAAsC;AACpC,aAAOA,YAAY,GAAGK,WAAW,CAACM,QAAZ,IAAwB,KAA3B,GAAmCN,WAAW,CAACO,OAAZ,IAAuB,IAA7E;AACD,KAFD,MAEO,IAAIR,aAAa,CAACS,UAAlB,EAA8B;AACnC,UAAIC,KAAK,CAACC,OAAN,CAAcf,YAAd,CAAJ,EAAiC,OAAOA,YAAY,CAACgB,GAAb,CAAiB,UAAUC,CAAV,EAAa;AACpE,eAAO,CAAC,GAAGlD,MAAM,CAACmD,oBAAX,EAAiCd,aAAa,CAACS,UAA/C,EAA2DI,CAA3D,KAAiEA,CAAxE;AACD,OAFuC,EAErCE,IAFqC,CAEhC,IAFgC,CAAP,CAAjC,KAEmB,OAAO,CAAC,GAAGpD,MAAM,CAACmD,oBAAX,EAAiCd,aAAa,CAACS,UAA/C,EAA2Db,YAA3D,KAA4EA,YAAnF;AACpB;;AAED,WAAO,KAAKA,YAAZ;AACD;;AAED,SAAON,aAAa,CAACW,WAAD,CAApB;AACD,CA9ED;;AAgFA1C,OAAO,CAAC,SAAD,CAAP,GAAqBM,QAArB","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _stuff = require(\"../../utils/stuff\");\n\nvar _excluded = [\"factory\"];\n\nvar _default = function _default(_ref) {\n  var delta = _ref.delta,\n      isFuncArg = _ref.isFuncArg,\n      valueSrc = _ref.valueSrc,\n      immValue = _ref.value,\n      immValueError = _ref.valueError,\n      asyncListValues = _ref.asyncListValues,\n      isSpecialRange = _ref.isSpecialRange,\n      fieldDefinition = _ref.fieldDefinition,\n      widget = _ref.widget,\n      widgetDefinition = _ref.widgetDefinition,\n      widgetValueLabel = _ref.widgetValueLabel,\n      valueLabels = _ref.valueLabels,\n      textSeparators = _ref.textSeparators,\n      setValueHandler = _ref.setValueHandler,\n      config = _ref.config,\n      field = _ref.field,\n      operator = _ref.operator,\n      readonly = _ref.readonly,\n      parentField = _ref.parentField,\n      parentFuncs = _ref.parentFuncs,\n      id = _ref.id,\n      groupId = _ref.groupId;\n  var widgetFactory = widgetDefinition.factory,\n      fieldWidgetProps = (0, _objectWithoutProperties2[\"default\"])(widgetDefinition, _excluded);\n  var isConst = isFuncArg && fieldDefinition.valueSources && fieldDefinition.valueSources.length == 1 && fieldDefinition.valueSources[0] == \"const\";\n  var defaultValue = fieldDefinition.defaultValue;\n\n  if (!widgetFactory) {\n    return \"?\";\n  }\n\n  var value = isSpecialRange ? [immValue.get(0), immValue.get(1)] : immValue ? immValue.get(delta) : undefined;\n  var valueError = immValueError && (isSpecialRange ? [immValueError.get(0), immValueError.get(1)] : immValueError.get(delta)) || null;\n  if (isSpecialRange && value[0] === undefined && value[1] === undefined) value = undefined;\n\n  var _ref2 = fieldDefinition || {},\n      fieldSettings = _ref2.fieldSettings;\n\n  var widgetProps = Object.assign({}, fieldWidgetProps, fieldSettings, {\n    config: config,\n    field: field,\n    parentField: parentField,\n    parentFuncs: parentFuncs,\n    fieldDefinition: fieldDefinition,\n    operator: operator,\n    delta: delta,\n    isSpecialRange: isSpecialRange,\n    isFuncArg: isFuncArg,\n    value: value,\n    valueError: valueError,\n    label: widgetValueLabel.label,\n    placeholder: widgetValueLabel.placeholder,\n    placeholders: valueLabels ? valueLabels.placeholder : null,\n    textSeparators: textSeparators,\n    setValue: setValueHandler,\n    readonly: readonly,\n    asyncListValues: asyncListValues,\n    id: id,\n    groupId: groupId\n  });\n\n  if (widget == \"field\") {//\n  }\n\n  if (isConst && defaultValue) {\n    if (typeof defaultValue == \"boolean\") {\n      return defaultValue ? widgetProps.labelYes || \"YES\" : widgetProps.labelNo || \"NO\";\n    } else if (fieldSettings.listValues) {\n      if (Array.isArray(defaultValue)) return defaultValue.map(function (v) {\n        return (0, _stuff.getTitleInListValues)(fieldSettings.listValues, v) || v;\n      }).join(\", \");else return (0, _stuff.getTitleInListValues)(fieldSettings.listValues, defaultValue) || defaultValue;\n    }\n\n    return \"\" + defaultValue;\n  }\n\n  return widgetFactory(widgetProps);\n};\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}