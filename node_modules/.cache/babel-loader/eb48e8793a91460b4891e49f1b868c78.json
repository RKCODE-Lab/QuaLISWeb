{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/core\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { SwitchGroupActions } from \"./SwitchGroupActions\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport classNames from \"classnames\";\nvar _Utils$TreeUtils = Utils.TreeUtils,\n    getTotalReordableNodesCountInTree = _Utils$TreeUtils.getTotalReordableNodesCountInTree,\n    getTotalRulesCountInTree = _Utils$TreeUtils.getTotalRulesCountInTree;\n\nvar SwitchGroup = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(SwitchGroup, _BasicGroup);\n\n  var _super = _createSuper(SwitchGroup);\n\n  function SwitchGroup(props) {\n    var _this;\n\n    _classCallCheck(this, SwitchGroup);\n\n    _this = _super.call(this, props);\n\n    _this.childrenClassName = function () {\n      return \"switch_group--children\";\n    };\n\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n\n    _this.hasDefaultCase = function () {\n      var _this$props$children;\n\n      return ((_this$props$children = _this.props.children1) === null || _this$props$children === void 0 ? void 0 : _this$props$children.size) && _this.props.children1.filter(function (c) {\n        return c.get(\"children1\") == null;\n      }).size > 0;\n    };\n\n    useOnPropsChanged(_assertThisInitialized(_this));\n\n    _this.onPropsChanged(props);\n\n    return _this;\n  }\n\n  _createClass(SwitchGroup, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"canAddGroup\",\n    value: function canAddGroup() {\n      var _this$props$children2;\n\n      var maxNumberOfCases = this.props.config.settings.maxNumberOfCases;\n      var totalCasesCnt = ((_this$props$children2 = this.props.children1) === null || _this$props$children2 === void 0 ? void 0 : _this$props$children2.size) || 0;\n\n      if (maxNumberOfCases) {\n        return totalCasesCnt < maxNumberOfCases;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"canAddRule\",\n    value: function canAddRule() {\n      return false;\n    }\n  }, {\n    key: \"reordableNodesCnt\",\n    value: function reordableNodesCnt() {\n      var _this$props$children3; // result will be passed to each case's `parentReordableNodesCnt` prop\n\n\n      var totalCasesCnt = ((_this$props$children3 = this.props.children1) === null || _this$props$children3 === void 0 ? void 0 : _this$props$children3.size) || 0;\n      var casesToReorder = totalCasesCnt;\n\n      if (this.hasDefaultCase()) {\n        casesToReorder--;\n      }\n\n      return casesToReorder;\n    }\n  }, {\n    key: \"totalRulesCntForItem\",\n    value: function totalRulesCntForItem(item) {\n      return getTotalRulesCountInTree(item);\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(item) {\n      var _this$props$children4;\n\n      if (this.props.isLocked) return 0;\n      var _this$props$config$se = this.props.config.settings,\n          canLeaveEmptyCase = _this$props$config$se.canLeaveEmptyCase,\n          canRegroupCases = _this$props$config$se.canRegroupCases;\n      var totalCasesCnt = ((_this$props$children4 = this.props.children1) === null || _this$props$children4 === void 0 ? void 0 : _this$props$children4.size) || 0;\n      var casesToReorder = totalCasesCnt;\n\n      if (this.hasDefaultCase()) {\n        casesToReorder--;\n      }\n\n      var nodesInCase = getTotalReordableNodesCountInTree(item);\n      var cnt = nodesInCase;\n      if (cnt == 1 && canRegroupCases && canLeaveEmptyCase && casesToReorder > 1) cnt = 111;\n      return cnt;\n    }\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\" //this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\"\n        )\n      }, this.renderHeader(), this.renderActions());\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderConjs\",\n    value: function renderConjs() {\n      var renderSwitchPrefix = this.props.config.settings.renderSwitchPrefix;\n      return renderSwitchPrefix ? renderSwitchPrefix() : null;\n    }\n  }, {\n    key: \"showNot\",\n    value: function showNot() {\n      return false;\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props = this.props,\n          config = _this$props.config,\n          addCaseGroup = _this$props.addCaseGroup,\n          addDefaultCaseGroup = _this$props.addDefaultCaseGroup,\n          isLocked = _this$props.isLocked,\n          isTrueLocked = _this$props.isTrueLocked,\n          id = _this$props.id;\n      return /*#__PURE__*/React.createElement(SwitchGroupActions, {\n        config: config,\n        addCaseGroup: addCaseGroup,\n        addDefaultCaseGroup: addDefaultCaseGroup,\n        canAddDefault: !this.hasDefaultCase(),\n        canAddGroup: this.canAddGroup(),\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }]);\n\n  return SwitchGroup;\n}(BasicGroup);\n\nSwitchGroup.propTypes = _objectSpread({}, BasicGroup.propTypes);\nexport default GroupContainer(Draggable(\"group switch_group\")(ConfirmFn(SwitchGroup)));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/node_modules/@react-awesome-query-builder/ui/esm/components/item/SwitchGroup.js"],"names":["_defineProperty","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","React","Utils","PropTypes","GroupContainer","Draggable","BasicGroup","SwitchGroupActions","useOnPropsChanged","Col","dummyFn","ConfirmFn","classNames","_Utils$TreeUtils","TreeUtils","getTotalReordableNodesCountInTree","getTotalRulesCountInTree","SwitchGroup","_BasicGroup","_super","props","_this","childrenClassName","renderFooterWrapper","hasDefaultCase","_this$props$children","children1","size","c","get","onPropsChanged","value","nextProps","canAddGroup","_this$props$children2","maxNumberOfCases","config","settings","totalCasesCnt","canAddRule","reordableNodesCnt","_this$props$children3","casesToReorder","totalRulesCntForItem","item","reordableNodesCntForItem","_this$props$children4","isLocked","_this$props$config$se","canLeaveEmptyCase","canRegroupCases","nodesInCase","cnt","renderHeaderWrapper","createElement","className","isOneChild","isNoChildren","showDragIcon","renderHeader","renderActions","renderConjs","renderDrag","renderSwitchPrefix","showNot","_this$props","addCaseGroup","addDefaultCaseGroup","isTrueLocked","id","canAddDefault","setLock","propTypes"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,uCAA5B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,sBAAP,MAAmC,8CAAnC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,0BAAP,MAAuC,kDAAvC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;;AACA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;AAAoDC,IAAAA,cAAc,KAAKI,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAf,CAAd,EAAkIP,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB,CAAlI;AAAmK;;AAAC,SAAOH,IAAP;AAAc;;AACrV,SAASU,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAG,QAAQF,SAAS,CAACD,CAAD,CAAjB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;AAAuDA,IAAAA,CAAC,GAAG,CAAJ,GAAQf,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,CAAC,CAAlB,CAAP,CAA4BC,OAA5B,CAAoC,UAAUC,GAAV,EAAe;AAAE3B,MAAAA,eAAe,CAACqB,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,KAAjG,CAAR,GAA6GhB,MAAM,CAACiB,yBAAP,GAAmCjB,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC,CAAnC,GAA+GlB,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEhB,MAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BM,GAA9B,EAAmChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,KAApI,CAA5N;AAAoW;;AAAC,SAAON,MAAP;AAAgB;;AAC1f,SAASU,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAG9B,eAAe,CAAC0B,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGhC,eAAe,CAAC,IAAD,CAAf,CAAsBiC,WAAtC;;AAAmDF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBb,SAAzB,EAAoCe,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACjB,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAT;AAAwC;;AAAC,WAAOlB,0BAA0B,CAAC,IAAD,EAAOgC,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AACza,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBC,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,CAA0BC,IAA1B,CAA+BP,OAAO,CAACC,SAAR,CAAkBG,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;AAAgF,WAAO,IAAP;AAAc,GAApG,CAAqG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AACzU,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,mCAAtB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,iBAAT,QAAkC,wBAAlC;AACA,SAASC,GAAT,EAAcC,OAAd,EAAuBC,SAAvB,QAAwC,UAAxC;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,IAAIC,gBAAgB,GAAGX,KAAK,CAACY,SAA7B;AAAA,IACEC,iCAAiC,GAAGF,gBAAgB,CAACE,iCADvD;AAAA,IAEEC,wBAAwB,GAAGH,gBAAgB,CAACG,wBAF9C;;AAGA,IAAIC,WAAW,GAAG,aAAa,UAAUC,WAAV,EAAuB;AACpD9D,EAAAA,SAAS,CAAC6D,WAAD,EAAcC,WAAd,CAAT;;AACA,MAAIC,MAAM,GAAGpC,YAAY,CAACkC,WAAD,CAAzB;;AACA,WAASA,WAAT,CAAqBG,KAArB,EAA4B;AAC1B,QAAIC,KAAJ;;AACApE,IAAAA,eAAe,CAAC,IAAD,EAAOgE,WAAP,CAAf;;AACAI,IAAAA,KAAK,GAAGF,MAAM,CAACpB,IAAP,CAAY,IAAZ,EAAkBqB,KAAlB,CAAR;;AACAC,IAAAA,KAAK,CAACC,iBAAN,GAA0B,YAAY;AACpC,aAAO,wBAAP;AACD,KAFD;;AAGAD,IAAAA,KAAK,CAACE,mBAAN,GAA4B,YAAY;AACtC,aAAO,IAAP;AACD,KAFD;;AAGAF,IAAAA,KAAK,CAACG,cAAN,GAAuB,YAAY;AACjC,UAAIC,oBAAJ;;AACA,aAAO,CAAC,CAACA,oBAAoB,GAAGJ,KAAK,CAACD,KAAN,CAAYM,SAApC,MAAmD,IAAnD,IAA2DD,oBAAoB,KAAK,KAAK,CAAzF,GAA6F,KAAK,CAAlG,GAAsGA,oBAAoB,CAACE,IAA5H,KAAqIN,KAAK,CAACD,KAAN,CAAYM,SAAZ,CAAsB5D,MAAtB,CAA6B,UAAU8D,CAAV,EAAa;AACpL,eAAOA,CAAC,CAACC,GAAF,CAAM,WAAN,KAAsB,IAA7B;AACD,OAF2I,EAEzIF,IAFyI,GAElI,CAFV;AAGD,KALD;;AAMAnB,IAAAA,iBAAiB,CAACrD,sBAAsB,CAACkE,KAAD,CAAvB,CAAjB;;AACAA,IAAAA,KAAK,CAACS,cAAN,CAAqBV,KAArB;;AACA,WAAOC,KAAP;AACD;;AACDnE,EAAAA,YAAY,CAAC+D,WAAD,EAAc,CAAC;AACzBtC,IAAAA,GAAG,EAAE,gBADoB;AAEzBoD,IAAAA,KAAK,EAAE,SAASD,cAAT,CAAwBE,SAAxB,EAAmC,CAAE;AAFnB,GAAD,EAGvB;AACDrD,IAAAA,GAAG,EAAE,aADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASE,WAAT,GAAuB;AAC5B,UAAIC,qBAAJ;;AACA,UAAIC,gBAAgB,GAAG,KAAKf,KAAL,CAAWgB,MAAX,CAAkBC,QAAlB,CAA2BF,gBAAlD;AACA,UAAIG,aAAa,GAAG,CAAC,CAACJ,qBAAqB,GAAG,KAAKd,KAAL,CAAWM,SAApC,MAAmD,IAAnD,IAA2DQ,qBAAqB,KAAK,KAAK,CAA1F,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAACP,IAA9H,KAAuI,CAA3J;;AACA,UAAIQ,gBAAJ,EAAsB;AACpB,eAAOG,aAAa,GAAGH,gBAAvB;AACD;;AACD,aAAO,IAAP;AACD;AAVA,GAHuB,EAcvB;AACDxD,IAAAA,GAAG,EAAE,YADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASQ,UAAT,GAAsB;AAC3B,aAAO,KAAP;AACD;AAJA,GAduB,EAmBvB;AACD5D,IAAAA,GAAG,EAAE,mBADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASS,iBAAT,GAA6B;AAClC,UAAIC,qBAAJ,CADkC,CAElC;;;AACA,UAAIH,aAAa,GAAG,CAAC,CAACG,qBAAqB,GAAG,KAAKrB,KAAL,CAAWM,SAApC,MAAmD,IAAnD,IAA2De,qBAAqB,KAAK,KAAK,CAA1F,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAACd,IAA9H,KAAuI,CAA3J;AACA,UAAIe,cAAc,GAAGJ,aAArB;;AACA,UAAI,KAAKd,cAAL,EAAJ,EAA2B;AACzBkB,QAAAA,cAAc;AACf;;AACD,aAAOA,cAAP;AACD;AAXA,GAnBuB,EA+BvB;AACD/D,IAAAA,GAAG,EAAE,sBADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASY,oBAAT,CAA8BC,IAA9B,EAAoC;AACzC,aAAO5B,wBAAwB,CAAC4B,IAAD,CAA/B;AACD;AAJA,GA/BuB,EAoCvB;AACDjE,IAAAA,GAAG,EAAE,0BADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASc,wBAAT,CAAkCD,IAAlC,EAAwC;AAC7C,UAAIE,qBAAJ;;AACA,UAAI,KAAK1B,KAAL,CAAW2B,QAAf,EAAyB,OAAO,CAAP;AACzB,UAAIC,qBAAqB,GAAG,KAAK5B,KAAL,CAAWgB,MAAX,CAAkBC,QAA9C;AAAA,UACEY,iBAAiB,GAAGD,qBAAqB,CAACC,iBAD5C;AAAA,UAEEC,eAAe,GAAGF,qBAAqB,CAACE,eAF1C;AAGA,UAAIZ,aAAa,GAAG,CAAC,CAACQ,qBAAqB,GAAG,KAAK1B,KAAL,CAAWM,SAApC,MAAmD,IAAnD,IAA2DoB,qBAAqB,KAAK,KAAK,CAA1F,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAACnB,IAA9H,KAAuI,CAA3J;AACA,UAAIe,cAAc,GAAGJ,aAArB;;AACA,UAAI,KAAKd,cAAL,EAAJ,EAA2B;AACzBkB,QAAAA,cAAc;AACf;;AACD,UAAIS,WAAW,GAAGpC,iCAAiC,CAAC6B,IAAD,CAAnD;AACA,UAAIQ,GAAG,GAAGD,WAAV;AACA,UAAIC,GAAG,IAAI,CAAP,IAAYF,eAAZ,IAA+BD,iBAA/B,IAAoDP,cAAc,GAAG,CAAzE,EAA4EU,GAAG,GAAG,GAAN;AAC5E,aAAOA,GAAP;AACD;AAjBA,GApCuB,EAsDvB;AACDzE,IAAAA,GAAG,EAAE,qBADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASsB,mBAAT,GAA+B;AACpC,aAAO,aAAapD,KAAK,CAACqD,aAAN,CAAoB,KAApB,EAA2B;AAC7C3E,QAAAA,GAAG,EAAE,cADwC;AAE7C4E,QAAAA,SAAS,EAAE3C,UAAU,CAAC,eAAD,EAAkB,KAAK4C,UAAL,KAAoB,YAApB,GAAmC,EAArD,EAAyD,KAAKA,UAAL,KAAoB,YAApB,GAAmC,EAA5F,EAAgG,KAAKC,YAAL,KAAsB,cAAtB,GAAuC,EAAvI,EAA2I,KAAKC,YAAL,KAAsB,YAAtB,GAAqC,YAAhL,CACrB;AADqB;AAFwB,OAA3B,EAKjB,KAAKC,YAAL,EALiB,EAKI,KAAKC,aAAL,EALJ,CAApB;AAMD;AATA,GAtDuB,EAgEvB;AACDjF,IAAAA,GAAG,EAAE,cADJ;AAEDoD,IAAAA,KAAK,EAAE,SAAS4B,YAAT,GAAwB;AAC7B,aAAO,aAAa1D,KAAK,CAACqD,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,QAAAA,SAAS,EAAE;AADkC,OAA3B,EAEjB,KAAKM,WAAL,EAFiB,EAEG,KAAKC,UAAL,EAFH,CAApB;AAGD;AANA,GAhEuB,EAuEvB;AACDnF,IAAAA,GAAG,EAAE,aADJ;AAEDoD,IAAAA,KAAK,EAAE,SAAS8B,WAAT,GAAuB;AAC5B,UAAIE,kBAAkB,GAAG,KAAK3C,KAAL,CAAWgB,MAAX,CAAkBC,QAAlB,CAA2B0B,kBAApD;AACA,aAAOA,kBAAkB,GAAGA,kBAAkB,EAArB,GAA0B,IAAnD;AACD;AALA,GAvEuB,EA6EvB;AACDpF,IAAAA,GAAG,EAAE,SADJ;AAEDoD,IAAAA,KAAK,EAAE,SAASiC,OAAT,GAAmB;AACxB,aAAO,KAAP;AACD;AAJA,GA7EuB,EAkFvB;AACDrF,IAAAA,GAAG,EAAE,eADJ;AAEDoD,IAAAA,KAAK,EAAE,SAAS6B,aAAT,GAAyB;AAC9B,UAAIK,WAAW,GAAG,KAAK7C,KAAvB;AAAA,UACEgB,MAAM,GAAG6B,WAAW,CAAC7B,MADvB;AAAA,UAEE8B,YAAY,GAAGD,WAAW,CAACC,YAF7B;AAAA,UAGEC,mBAAmB,GAAGF,WAAW,CAACE,mBAHpC;AAAA,UAIEpB,QAAQ,GAAGkB,WAAW,CAAClB,QAJzB;AAAA,UAKEqB,YAAY,GAAGH,WAAW,CAACG,YAL7B;AAAA,UAMEC,EAAE,GAAGJ,WAAW,CAACI,EANnB;AAOA,aAAO,aAAapE,KAAK,CAACqD,aAAN,CAAoB/C,kBAApB,EAAwC;AAC1D6B,QAAAA,MAAM,EAAEA,MADkD;AAE1D8B,QAAAA,YAAY,EAAEA,YAF4C;AAG1DC,QAAAA,mBAAmB,EAAEA,mBAHqC;AAI1DG,QAAAA,aAAa,EAAE,CAAC,KAAK9C,cAAL,EAJ0C;AAK1DS,QAAAA,WAAW,EAAE,KAAKA,WAAL,EAL6C;AAM1DsC,QAAAA,OAAO,EAAE,KAAKA,OAN4C;AAO1DxB,QAAAA,QAAQ,EAAEA,QAPgD;AAQ1DqB,QAAAA,YAAY,EAAEA,YAR4C;AAS1DC,QAAAA,EAAE,EAAEA;AATsD,OAAxC,CAApB;AAWD;AArBA,GAlFuB,CAAd,CAAZ;;AAyGA,SAAOpD,WAAP;AACD,CAjI8B,CAiI7BX,UAjI6B,CAA/B;;AAkIAW,WAAW,CAACuD,SAAZ,GAAwBpG,aAAa,CAAC,EAAD,EAAKkC,UAAU,CAACkE,SAAhB,CAArC;AACA,eAAepE,cAAc,CAACC,SAAS,CAAC,oBAAD,CAAT,CAAgCM,SAAS,CAACM,WAAD,CAAzC,CAAD,CAA7B","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/core\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { SwitchGroupActions } from \"./SwitchGroupActions\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport classNames from \"classnames\";\nvar _Utils$TreeUtils = Utils.TreeUtils,\n  getTotalReordableNodesCountInTree = _Utils$TreeUtils.getTotalReordableNodesCountInTree,\n  getTotalRulesCountInTree = _Utils$TreeUtils.getTotalRulesCountInTree;\nvar SwitchGroup = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(SwitchGroup, _BasicGroup);\n  var _super = _createSuper(SwitchGroup);\n  function SwitchGroup(props) {\n    var _this;\n    _classCallCheck(this, SwitchGroup);\n    _this = _super.call(this, props);\n    _this.childrenClassName = function () {\n      return \"switch_group--children\";\n    };\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n    _this.hasDefaultCase = function () {\n      var _this$props$children;\n      return ((_this$props$children = _this.props.children1) === null || _this$props$children === void 0 ? void 0 : _this$props$children.size) && _this.props.children1.filter(function (c) {\n        return c.get(\"children1\") == null;\n      }).size > 0;\n    };\n    useOnPropsChanged(_assertThisInitialized(_this));\n    _this.onPropsChanged(props);\n    return _this;\n  }\n  _createClass(SwitchGroup, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"canAddGroup\",\n    value: function canAddGroup() {\n      var _this$props$children2;\n      var maxNumberOfCases = this.props.config.settings.maxNumberOfCases;\n      var totalCasesCnt = ((_this$props$children2 = this.props.children1) === null || _this$props$children2 === void 0 ? void 0 : _this$props$children2.size) || 0;\n      if (maxNumberOfCases) {\n        return totalCasesCnt < maxNumberOfCases;\n      }\n      return true;\n    }\n  }, {\n    key: \"canAddRule\",\n    value: function canAddRule() {\n      return false;\n    }\n  }, {\n    key: \"reordableNodesCnt\",\n    value: function reordableNodesCnt() {\n      var _this$props$children3;\n      // result will be passed to each case's `parentReordableNodesCnt` prop\n      var totalCasesCnt = ((_this$props$children3 = this.props.children1) === null || _this$props$children3 === void 0 ? void 0 : _this$props$children3.size) || 0;\n      var casesToReorder = totalCasesCnt;\n      if (this.hasDefaultCase()) {\n        casesToReorder--;\n      }\n      return casesToReorder;\n    }\n  }, {\n    key: \"totalRulesCntForItem\",\n    value: function totalRulesCntForItem(item) {\n      return getTotalRulesCountInTree(item);\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(item) {\n      var _this$props$children4;\n      if (this.props.isLocked) return 0;\n      var _this$props$config$se = this.props.config.settings,\n        canLeaveEmptyCase = _this$props$config$se.canLeaveEmptyCase,\n        canRegroupCases = _this$props$config$se.canRegroupCases;\n      var totalCasesCnt = ((_this$props$children4 = this.props.children1) === null || _this$props$children4 === void 0 ? void 0 : _this$props$children4.size) || 0;\n      var casesToReorder = totalCasesCnt;\n      if (this.hasDefaultCase()) {\n        casesToReorder--;\n      }\n      var nodesInCase = getTotalReordableNodesCountInTree(item);\n      var cnt = nodesInCase;\n      if (cnt == 1 && canRegroupCases && canLeaveEmptyCase && casesToReorder > 1) cnt = 111;\n      return cnt;\n    }\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\"\n        //this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\"\n        )\n      }, this.renderHeader(), this.renderActions());\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderConjs\",\n    value: function renderConjs() {\n      var renderSwitchPrefix = this.props.config.settings.renderSwitchPrefix;\n      return renderSwitchPrefix ? renderSwitchPrefix() : null;\n    }\n  }, {\n    key: \"showNot\",\n    value: function showNot() {\n      return false;\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props = this.props,\n        config = _this$props.config,\n        addCaseGroup = _this$props.addCaseGroup,\n        addDefaultCaseGroup = _this$props.addDefaultCaseGroup,\n        isLocked = _this$props.isLocked,\n        isTrueLocked = _this$props.isTrueLocked,\n        id = _this$props.id;\n      return /*#__PURE__*/React.createElement(SwitchGroupActions, {\n        config: config,\n        addCaseGroup: addCaseGroup,\n        addDefaultCaseGroup: addDefaultCaseGroup,\n        canAddDefault: !this.hasDefaultCase(),\n        canAddGroup: this.canAddGroup(),\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }]);\n  return SwitchGroup;\n}(BasicGroup);\nSwitchGroup.propTypes = _objectSpread({}, BasicGroup.propTypes);\nexport default GroupContainer(Draggable(\"group switch_group\")(ConfirmFn(SwitchGroup)));"]},"metadata":{},"sourceType":"module"}