{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\dashboard\\\\QueryBuilder.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faCopy } from '@fortawesome/free-solid-svg-icons';\nimport { process } from '@progress/kendo-data-query';\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport Esign from '../audittrail/Esign';\nimport AddQuery from './AddQuery';\nimport AddParameter from './AddParameter';\nimport QueryTypeFilter from './QueryTypeFilter';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getSQLQueryDetail, getSQLQueryComboService, filterColumnData, comboChangeQueryType, executeUserQuery, comboColumnValues, getColumnNamesByTableName, getTablesName, getModuleFormName, getDatabaseTables, executeQuery, getForeignTable, getViewColumns, getMasterData, createQueryBuilder, getParameterFromQuery, getSelectedQueryBuilder, updateQueryBuilder, getQueryBuilder } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { transactionStatus, queryTypeFilter, tableType, ColumnType } from '../../components/Enumeration';\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\nimport rsapi from '../../rsapi';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport { Affix } from 'rsuite';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { ListWrapper } from '../../components/client-group.styles'; // import ReactTooltip from 'react-tooltip';\n\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\nimport BuildQuery from './BuildQuery';\nimport { render } from '@testing-library/react';\nimport { format } from 'date-fns';\nimport { ProductList } from '../product/product.styled';\nimport QueryBuilderParamter from './QueryBuilderParamter';\nimport { ReactComponent as ParameterConfigurationIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-configuration.svg\";\nimport { ReactComponent as ParameterMappingIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/parameter-mapping.svg\";\nimport DataGridComponent from '../../components/data-grid/data-grid.component';\nimport { stringOperatorData } from './QueryBuilderData'; // import {validationData} from './QueryBuilderData';\n\nconst jsonSql = require('json-sql')({\n  separatedValues: false\n});\n\nconst jsonSqlParam = require('json-sql')({\n  separatedValues: true\n});\n\nclass QueryBuilder extends Component {\n  constructor(props) {\n    super(props);\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataResult: process(this.props.Login.queryData, event.dataState),\n        dataState: event.dataState\n      });\n    };\n\n    this.dataStateChangeMain = event => {\n      this.setState({\n        dataResultMain: process(this.props.Login.queryDataMain, event.dataStateMain),\n        dataStateMain: event.dataStateMain\n      });\n    };\n\n    this.copySQLQuery = type => {\n      if (type === 2) {\n        let query = this.state.selectedRecord[\"squerywithparam\"] || \"\";\n\n        if (this.state.selectedRecord[\"sdefaultvalue\"] && this.state.selectedRecord[\"sdefaultvalue\"]) {\n          this.state.selectedRecord[\"sdefaultvalue\"].forEach((dataItem, index) => {\n            if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.valuemember + \"$P\");\n            } else if (dataItem.items.sforeigncolumnname !== undefined && dataItem.items.sforeigncolumnname !== \"\") {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\n            } else {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.columnname + \"$P\");\n            }\n          });\n        }\n\n        if (query.includes(\"$L\")) {\n          query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\n        }\n\n        navigator.clipboard.writeText(query);\n      } else {\n        let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"] || \"\";\n\n        if (this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"] && this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value) {\n          const sdefaultValue = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value);\n          sdefaultValue.sdefaultvalue.forEach((dataItem, index) => {\n            if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.valuemember + \"$P\");\n            } else if (dataItem.items.sforeigncolumnname !== undefined && dataItem.items.sforeigncolumnname !== \"\") {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\n            } else {\n              query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.columnname + \"$P\");\n            }\n          });\n        }\n\n        if (query.includes(\"$L\")) {\n          query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\n        }\n\n        navigator.clipboard.writeText(query);\n      }\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: \"querybuilder\",\n        methodUrl: \"QueryBuilder\",\n        // displayName: \"IDS_DASHBOARDTYPES\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.saveParam = (saveType, formRef) => {\n      let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"];\n      this.props.Login.comboData.sdefaultvalue.forEach((dataItem, index) => {\n        if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\n          let sqryData = \"\";\n\n          if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\n            dataItem.value.forEach(item => {\n              sqryData += item.value + \",\";\n            });\n            query = query.replace(\"$p\" + (index + 1), sqryData.trimEnd(\",\"));\n          } else {\n            query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\n          }\n        } else if (dataItem.items.sforeigncolumnname !== undefined && dataItem.items.sforeigncolumnname !== \"\") {\n          query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\n        } else if (dataItem.items.columntype === ColumnType.DATATIME || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\n          query = query.replace(\"$p\" + (index + 1), \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\n        } else {\n          query = query.replace(\"$p\" + (index + 1), \"'\" + dataItem.value + \"'\");\n        }\n      });\n\n      if (query.includes(\"$L\")) {\n        query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\n      }\n\n      const jsonData = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"jsondata\"].value);\n      const inputParam = {\n        sgeneratedquery: query,\n        columnList: jsonData[\"columnList\"],\n        userInfo: this.props.Login.userInfo\n      };\n      let inputData = []; // inputData[\"userinfo\"] = this.props.Login.userInfo;\n      // inputData[\"queryBuilder\"] = { \"nstatus\": 1 };\n      // inputData[\"queryBuilder\"][\"nquerybuildercode\"] = this.props.Login.masterData.selectedQueryBuilder[\"nquerybuildercode\"]\n      // inputData[\"queryBuilder\"][\"sdefaultvalue\"] = comboData;\n\n      this.props.updateQueryBuilder(inputParam, inputData, this.props.Login.masterData);\n    };\n\n    this.save = (saveType, formRef) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (selectedRecord[\"querybuildername\"] && selectedRecord[\"querybuildername\"].length > 0) {\n        if (selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0) {\n          let inputData = [];\n          let jsondata = {};\n          let postParam = undefined;\n\n          if (selectedRecord[\"sdefaultvalue\"].length > 0) {\n            selectedRecord[\"sdefaultvalue\"].forEach((item, i) => {\n              if (item.symbolObject.items.symbolType === 4) {\n                delete item.symbolObject.items[\"replacewith\"];\n              }\n            });\n          }\n\n          postParam = {\n            inputListName: \"QueryBuilder\",\n            selectedObject: \"selectedQueryBuilder\",\n            primaryKeyField: \"nquerybuildercode\"\n          };\n          inputData[\"userinfo\"] = this.props.Login.userInfo;\n          inputData[\"queryBuilder\"] = {\n            \"nstatus\": 1\n          };\n          jsondata[\"groupList\"] = selectedRecord[\"groupList\"];\n          jsondata[\"aggregate\"] = selectedRecord[\"aggregate\"];\n          jsondata[\"orderby\"] = selectedRecord[\"orderby\"];\n          jsondata[\"columnList\"] = this.props.Login.viewColumnListByRule; //selectedRecord[\"filtercolumns\"];\n\n          inputData[\"sgeneratedquery\"] = selectedRecord[\"sgeneratedquery\"];\n          inputData[\"queryBuilder\"][\"squerybuildername\"] = selectedRecord[\"querybuildername\"];\n          inputData[\"queryBuilder\"][\"nquerytype\"] = 1;\n          inputData[\"queryBuilder\"][\"sviewname\"] = selectedRecord[\"sviewname\"].label;\n          inputData[\"queryBuilder\"][\"squerywithparam\"] = selectedRecord[\"squerywithparam\"];\n          inputData[\"queryBuilder\"][\"squerywithvalue\"] = selectedRecord[\"sgeneratedquery\"];\n          inputData[\"queryBuilder\"][\"sdefaultvalue\"] = {\n            sdefaultvalue: selectedRecord[\"sdefaultvalue\"]\n          };\n          inputData[\"queryBuilder\"][\"jsondata\"] = jsondata;\n          const inputParam = {\n            classUrl: \"querybuilder\",\n            methodUrl: \"QueryBuilder\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            operation: \"create\",\n            saveType,\n            formRef,\n            postParam\n          };\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\"); // this.props.createQueryBuilder(inputData, this.props.Login);\n        } else {\n          toast.info(this.props.intl.formatMessage({\n            id: \"IDS_SELECTANYCOLUMNS\"\n          }));\n        }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_INVALIDQUERYBUILDERNAME\"\n        }));\n      }\n    };\n\n    this.deleteQB = ncontrolCode => {\n      let inputData = []; // let postParam = {\n      //     inputListName: \"QueryBuilder\",\n      //     selectedObject: \"selectedDashBoardTypes\",\n      //     primaryKeyField: \"ndashboardtypecode\",\n      //     primaryKeyValue: this.props.Login.masterData.selectedDashBoardTypes.ndashboardtypecode,\n      //     fetchUrl: \"dashboardtypes/getAllSelectionDashBoardTypes\",\n      //     fecthInputObject: { userinfo: this.props.Login.userInfo }\n      // };\n\n      inputData[\"queryBuilder\"] = this.props.Login.masterData.selectedQueryBuilder;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const inputParam = {\n        methodUrl: \"QueryBuilder\",\n        classUrl: \"querybuilder\",\n        inputData: inputData,\n        operation: \"delete\",\n        searchRef: this.searchRef\n      };\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n    };\n\n    this.confirmDelete = ncontrolCode => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteQB(\"delete\", ncontrolCode));\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n\n      if (this.state.selectedcombo[\"nquerytypecode\"]) {\n        console.log(this.state.selectedcombo[\"nquerytypecode\"].value);\n      }\n\n      const nquerytypecode = this.state.selectedcombo[\"nquerytypecode\"] ? this.state.selectedcombo[\"nquerytypecode\"].value : this.props.Login.masterData.queryTypeCode;\n      this.props.getQueryBuilder(nquerytypecode, this.props.Login.userInfo, this.props.Login.masterData);\n    };\n\n    this.onFilterComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onParamComboChange = (data, index) => {\n      let comboData = this.props.Login.comboData;\n      comboData[\"sdefaultvalue\"][index].value = data;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          comboData\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onParamInputChange = (event, type, index, dataItem) => {\n      let comboData = this.props.Login.comboData;\n\n      if (type === 2) {\n        const inputValue = event.target.value;\n\n        if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\n          comboData[\"sdefaultvalue\"][index].value = event.target.value;\n        }\n      } else if (type === 1) {\n        comboData[\"sdefaultvalue\"][index].value = event.target.checked;\n      } else if (type === 3) {\n        if (dataItem.symbolObject.items.symbolType === 4) {\n          // const symbolObject = stringOperatorData.filter(data => data.value === dataItem.symbolObject.value);\n          let symbolObject = \"\";\n\n          if (dataItem.symbolObject.value === 7 || dataItem.symbolObject.value === 8) {\n            symbolObject = \"'%_%'\";\n          } else if (dataItem.symbolObject.value === 9) {\n            symbolObject = \"'_%'\";\n          } else {\n            symbolObject = \"'%_'\";\n          }\n\n          const index1 = symbolObject.indexOf('_');\n          let inputname = undefined;\n          inputname = symbolObject.substr(0, index1) + event.target.value + symbolObject.substr(index1 + 1);\n          inputname = inputname.slice(1, inputname.length - 1);\n          comboData[\"sdefaultvalue\"][index].value = inputname;\n          comboData[\"sdefaultvalue\"][index].showInputValue = event.target.value;\n        } else {\n          comboData[\"sdefaultvalue\"][index].value = event.target.value;\n        }\n      } else {\n        comboData[\"sdefaultvalue\"][index].value = event.target.value;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          comboData\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.handleFilterDateChange = (dateName, dateValue, groupIndex, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (dateValue === null) {\n        dateValue = new Date();\n      }\n\n      selectedRecord[\"groupList\"][groupIndex][index][dateName] = dateValue;\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedcombo = this.state.selectedcombo || {};\n      selectedcombo[fieldName] = comboData;\n      this.setState({\n        selectedcombo\n      });\n    };\n\n    this.onViewComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      const inputParam = {\n        sviewname: comboData.value,\n        selectedRecord,\n        userinfo: this.props.Login.userInfo\n      };\n      this.props.getViewColumns(inputParam);\n    };\n\n    this.onAggregateChange = (comboData, fieldName, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[\"aggregate\"] = selectedRecord[\"aggregate\"] || [];\n\n      if (fieldName === \"columnname\") {\n        selectedRecord[\"aggregate\"][index] = {\n          \"columnname\": comboData,\n          \"aggfunctionname\": \"\"\n        };\n      } else {\n        if (selectedRecord[\"aggregate\"][index][\"columnname\"] && selectedRecord[\"aggregate\"][index][\"columnname\"] !== undefined) {\n          selectedRecord[\"aggregate\"][index][\"aggfunctionname\"] = comboData;\n        } else {}\n      } // this.setState({ selectedRecord });\n\n\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onRuleChange = (comboData, fieldName, groupIndex, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n      this.clearSelectedRule(selectedRecord, index);\n      const sqlQuery = this.props.Login.sqlQuery;\n      const oldselectedRecord = selectedRecord;\n      selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\n      const tableData = comboData.items;\n      const mastertablename = tableData.mastertablename;\n\n      if (comboData.items.needmasterdata && mastertablename) {\n        const inputParam = {\n          userinfo: this.props.Login.userInfo,\n          data: {\n            nflag: 2,\n            mastertablename,\n            valuemember: tableData.valuemember,\n            displaymember: tableData.displaymember\n          },\n          selectedRecord,\n          groupIndex,\n          index,\n          optionId: tableData.valuemember\n        };\n        this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\n      } else if (comboData.items && comboData.items.columntype === ColumnType.COMBO) {\n        if (sqlQuery) {\n          const inputParam = {\n            userinfo: this.props.Login.userInfo,\n            stablename: comboData.items.foriegntablename,\n            scolumnname: comboData.value,\n            selectedRecord,\n            groupIndex,\n            index\n          };\n          this.props.getForeignTable(inputParam, 'column');\n        } else {\n          selectedRecord[\"groupList\"][groupIndex][index][`${comboData.items.sforeigncolumnname}`] = \"\";\n          const inputParam = {\n            data: { ...comboData.items,\n              nflag: 1\n            },\n            userinfo: this.props.Login.userInfo,\n            selectedRecord,\n            groupIndex,\n            index,\n            optionId: comboData.items.sforeigncolumnname\n          };\n          this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\n        }\n      } else if (comboData.items && comboData.items.columntype === ColumnType.TEXTINPUT && oldselectedRecord[\"groupList\"][groupIndex][index][fieldName].items.columntype !== ColumnType.TEXTINPUT) {\n        selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"] = \"\";\n        this.setState({\n          selectedRecord\n        });\n      } else {\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onOrderbyChange = (comboData, fieldName, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[\"orderby\"] = selectedRecord[\"orderby\"] || [];\n\n      if (fieldName === \"columnname\") {\n        selectedRecord[\"orderby\"][index] = {\n          \"columnname\": comboData,\n          \"ordertype\": \"\"\n        };\n      } else {\n        if (selectedRecord[\"orderby\"][index][\"columnname\"] && selectedRecord[\"orderby\"][index][\"columnname\"] !== undefined) {\n          selectedRecord[\"orderby\"][index][\"ordertype\"] = comboData;\n        } else {}\n      } // this.setState({ selectedRecord });\n\n\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.deleteOrderby = index => {\n      let addOrderbyList = this.props.Login.addOrderbyList;\n      let selectedRecord = this.state.selectedRecord;\n      selectedRecord[\"orderby\"].splice(index, 1);\n      addOrderbyList.splice(index, 1);\n      addOrderbyList.forEach((data, index) => {\n        addOrderbyList[index] = index;\n      });\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          addOrderbyList\n        }\n      };\n      this.props.updateStore(updateInfo);\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.addOrderby = () => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (selectedRecord[\"sviewname\"]) {\n        const addOrderbyList = this.props.Login.addOrderbyList || [];\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\n        const arrayLength = addOrderbyList.length;\n        viewColumnListByRule = this.props.Login.viewColumnList;\n        addOrderbyList[arrayLength] = arrayLength;\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            addOrderbyList,\n            viewColumnListByRule\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTVIEW\"\n        }));\n      }\n    };\n\n    this.deleteAggregate = index => {\n      let addAggregateList = this.props.Login.addAggregateList;\n      let selectedRecord = this.state.selectedRecord;\n      selectedRecord[\"aggregate\"].splice(index, 1);\n      addAggregateList.splice(index, 1);\n      addAggregateList.forEach((data, index) => {\n        addAggregateList[index] = index;\n      });\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          addAggregateList\n        }\n      };\n      this.props.updateStore(updateInfo); // this.setState({ selectedRecord });\n\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.addAggregate = () => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (selectedRecord[\"sviewname\"]) {\n        // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\n        const addAggregateList = this.props.Login.addAggregateList || [];\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\n        const arrayLength = addAggregateList.length;\n        viewColumnListByRule = this.props.Login.viewColumnList;\n        addAggregateList[arrayLength] = arrayLength;\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            addAggregateList,\n            viewColumnListByRule\n          }\n        };\n        this.props.updateStore(updateInfo); // } else {\n        //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTGROUPBY\" }));\n        // }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTVIEW\"\n        }));\n      }\n    };\n\n    this.addRule = (type, groupIndex) => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (type === \"sql\") {// let addRuleList = this.props.Login.addRuleList || [];\n        // if (addRuleList.length > 0) {\n        //     const arrayLength = addRuleList.length;\n        //     addRuleList[arrayLength] = arrayLength;\n        //     selectedRecord[\"button_and_\" + arrayLength] = true;\n        //     const updateInfo = {\n        //         typeName: DEFAULT_RETURN,\n        //         data: {\n        //             addRuleList,\n        //             selectedRecord\n        //         }\n        //     }\n        //     this.props.updateStore(updateInfo);\n        // } else {\n        //     addRuleList[0] = 0;\n        //     this.props.getDatabaseTables(this.props.Login.userInfo, this.props.Login.sqlQuery, { addRuleList, selectedRecord: {} });\n        // }\n      } else {\n        if (selectedRecord[\"sviewname\"]) {\n          let viewColumnListByRule = this.props.Login.viewColumnListByRule || []; // const addRuleList = this.props.Login.addRuleList || [];\n          // const arrayLength = addRuleList.length;\n          // addRuleList[arrayLength] = arrayLength;\n\n          const addGroupList = this.props.Login.addGroupList || [];\n          const arrayLength = addGroupList[groupIndex];\n          addGroupList[groupIndex] = arrayLength + 1; // const addGroupList = {...this.props.Login.addGroupList, [groupIndex]: addRuleList};\n\n          selectedRecord[\"groupList\"][groupIndex][arrayLength] = {}; // viewColumnListByRule[groupIndex][arrayLength] = this.props.Login.viewColumnList;\n\n          viewColumnListByRule = this.props.Login.viewColumnList;\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              addGroupList,\n              viewColumnListByRule\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          toast.info(this.props.intl.formatMessage({\n            id: \"IDS_SELECTVIEW\"\n          }));\n        }\n      }\n    };\n\n    this.addGroup = () => {\n      const {\n        selectedRecord\n      } = this.state;\n      var sql1 = jsonSql.build({\n        table: 'testmaster',\n        alias: 'tm',\n        join: [{\n          type: 'inner',\n          table: 'testcategory',\n          alias: 'tc',\n          on: {\n            'tm.ntestcategorycode': 'tc.ntestcategorycode'\n          }\n        }, {\n          type: 'inner',\n          table: 'transactionstatus',\n          alias: 'ts',\n          on: {\n            'tm.naccredited': 'ts.ntranscode'\n          }\n        }]\n      });\n      console.log(sql1.query);\n      var sql21 = jsonSql.build({\n        table: 'testmaster',\n        alias: 'tm',\n        join: [{\n          type: 'inner',\n          table: 'testcategory',\n          alias: 'tc',\n          on: {\n            'tm.ntestcategorycode': 'tc.ntestcategorycode'\n          }\n        }, {\n          type: 'right outer',\n          table: 'transactionstatus',\n          alias: 'ts',\n          on: {\n            'tm.naccredited': 'ts.ntranscode'\n          }\n        }, {\n          type: 'left outer',\n          table: 'transactionstatus',\n          alias: 'ts',\n          on: [{\n            'tm.naccredited': 'ts.ntranscode'\n          }, {\n            'tc.naccredited': 'ts.ntranscode'\n          }]\n        }],\n        condition: [{\n          a: {\n            $gt: 1\n          }\n        }, {\n          b: {\n            $lt: 10\n          }\n        }],\n        group: ['a', 'b']\n      });\n      console.log(sql21.query);\n\n      if (selectedRecord[\"sviewname\"]) {\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\n        const addGroupList = this.props.Login.addGroupList || [];\n        const arrayLength = addGroupList.length;\n        addGroupList[arrayLength] = 1; // viewColumnListByRule[arrayLength] = [];\n        // viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\n\n        viewColumnListByRule = this.props.Login.viewColumnList;\n\n        if (arrayLength === 0) {\n          selectedRecord[\"groupList\"] = [];\n          selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\n        }\n\n        selectedRecord[\"groupList\"][arrayLength] = [];\n        selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\n        selectedRecord[\"groupList\"][arrayLength][0] = {};\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            addGroupList,\n            viewColumnListByRule,\n            selectedRecord\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTVIEW\"\n        }));\n      }\n    };\n\n    this.getDatabaseTables = () => {\n      const sqlQuery = false;\n      this.setState({\n        selectedRecord: {}\n      });\n      this.props.getDatabaseTables(this.props.Login.userInfo, sqlQuery, {\n        addRuleList: [],\n        addGroupList: [],\n        addAggregateList: [],\n        addOrderbyList: []\n      });\n    };\n\n    this.closePortalModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openPortalModal: false,\n          selectedRecord: {},\n          addRuleList: [],\n          count: 0\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: false,\n          selectedRecord: {}\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onExecuteRule = () => {\n      const {\n        selectedRecord\n      } = this.state;\n\n      if (selectedRecord[\"sgeneratedquery\"]) {\n        let query = selectedRecord[\"squerywithparam\"];\n        selectedRecord[\"sdefaultvalue\"].forEach((dataItem, index) => {\n          if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\n            let sqryData = \"\";\n\n            if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\n              dataItem.value.forEach(item => {\n                sqryData += item.value + \",\";\n              });\n              query = query.replace(\"$p\" + (index + 1), sqryData.trimEnd(\",\"));\n            } else {\n              query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\n            }\n          } else if (dataItem.items.sforeigncolumnname !== undefined && dataItem.items.sforeigncolumnname !== \"\") {\n            query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\n          } else if (dataItem.items.columntype === ColumnType.DATATIME || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\n            query = query.replace(\"$p\" + (index + 1), \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\n          } else {\n            query = query.replace(\"$p\" + (index + 1), \"'\" + dataItem.value + \"'\");\n          }\n        });\n\n        if (query.includes(\"$L\")) {\n          query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\n        }\n\n        const inputParam = {\n          sgeneratedquery: query,\n          //selectedRecord[\"sgeneratedquery\"],\n          selectedRecord,\n          columnList: this.props.Login.viewColumnListByRule,\n          //selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"] || this.props.Login.viewColumnListByRule,\n          userInfo: this.props.Login.userInfo\n        };\n        this.props.executeQuery(inputParam);\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_QUERYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.deleteRule = (groupIndex, index) => {\n      let addGroupList = this.props.Login.addGroupList;\n      const selectedRecord = this.state.selectedRecord;\n      addGroupList[groupIndex] = addGroupList[groupIndex] - 1; // selectedRecord[`button_and_${index}`] && delete selectedRecord[`button_and_${index}`];\n      // selectedRecord[`button_or_${index}`] && delete selectedRecord[`button_or_${index}`];\n      // selectedRecord[`notoperator_${index}`] && delete selectedRecord[`notoperator_${index}`];\n\n      if (addGroupList[groupIndex] === 0) {\n        addGroupList.splice(groupIndex, 1);\n        selectedRecord[\"groupList\"].splice(index, 1);\n      } else {\n        selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\n      } // this.clearSelectedRule(selectedRecord, index);\n\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          addGroupList,\n          selectedRecord\n        }\n      };\n      this.props.updateStore(updateInfo);\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.clearRule = () => {\n      const sviewname = this.state.selectedRecord.sviewname || \"\";\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          addRuleList: [],\n          selectedRecord: {\n            sviewname\n          },\n          sqlQuery: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.resetRule = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          addRuleList: [],\n          addGroupList: [],\n          addAggregateList: [],\n          addOrderbyList: []\n        }\n      };\n      this.props.updateStore(updateInfo);\n      this.setState({\n        selectedRecord: {}\n      });\n    };\n\n    this.onSymbolChange = (comboData, fieldName, groupIndex, index) => {\n      const {\n        selectedRecord\n      } = this.state;\n      const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\n      selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\n      const items = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items;\n      selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"] = items.needmasterdata !== undefined ? comboData.items.needmasterdata : false;\n\n      if (comboData.items.symbolType === 2 || comboData.items.symbolType === 3) {\n        selectedRecord[\"groupList\"][groupIndex][index][items[\"valuemember\"]] && delete selectedRecord[\"groupList\"][groupIndex][index][items[\"valuemember\"]];\n        selectedRecord[\"groupList\"][groupIndex][index][items[\"foreigncolumnname\"]] && delete selectedRecord[\"groupList\"][groupIndex][index][items[\"foreigncolumnname\"]];\n        selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];\n      } else if (comboData.items.symbolType === 5 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType !== 5) {\n        selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];\n        selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];\n      } else if (comboData.items.symbolType === 6 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 1 || comboData.items.symbolType === 1 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 6) {\n        selectedRecord[\"groupList\"][groupIndex][index][`${items.sforeigncolumnname}`] && delete selectedRecord[\"groupList\"][groupIndex][index][`${items.sforeigncolumnname}`];\n        selectedRecord[\"groupList\"][groupIndex][index][`${items.valuemember}`] && delete selectedRecord[\"groupList\"][groupIndex][index][`${items.valuemember}`];\n      } else {}\n\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onInputChange = (event, type, groupIndex, index) => {\n      let selectedRecord = this.state.selectedRecord;\n\n      if (type === 2) {\n        const inputValue = event.target.value;\n\n        if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\n          selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\n        }\n      } else if (type === 1) {\n        selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.checked;\n      } else if (type === 3) {\n        selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.generateFilterQuery = selectedRecord => {\n      const addGroupList = this.props.Login.addGroupList;\n      jsonSql.setDialect('mssql');\n      let databaseCondition = [];\n      let displayCondition = [];\n      let databaseConditionParam = [];\n      let fieldWithValue = [];\n      let notOperator = false;\n\n      if (addGroupList && addGroupList.length > 0) {\n        let groupConditionDatabase = [];\n        let groupConditionDatabaseParam = [];\n        let groupConditionDisplay = [];\n        addGroupList.forEach((items, groupIndex) => {\n          let symbolObject = {};\n          databaseCondition = [];\n          databaseConditionParam = [];\n          displayCondition = [];\n          [...Array(items)].map((data, index) => {\n            if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"]) {\n              symbolObject = selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"] && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items || {};\n              const current_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\n              const current_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`];\n              const next_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\n              const next_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`] ? selectedRecord[\"groupList\"][groupIndex][`button_or`] : false;\n              let inputname = selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];\n              const symbolname = symbolObject.symbol;\n              let numericinput = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];\n              const columnLabel = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].label;\n              const columnValue = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].value;\n              const snumericinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];\n              let columnName = undefined;\n              const needmasterdata = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata ? selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata : false;\n\n              if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata) {\n                columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember;\n              } else if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname) {\n                columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname;\n              }\n\n              const dateinput = selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"]), \"yyyy-MM-dd HH:mm:ss.SS\"); //selectedRecord[\"dateinput_\" + index];\n\n              const dateinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"]), \"yyyy-MM-dd HH:mm:ss.SS\"); //selectedRecord[\"dateinputtwo_\" + index];\n\n              if (symbolObject && inputname) {\n                if (symbolObject.symbolType === 4) {\n                  const showInputValue = inputname;\n                  const index1 = symbolObject.replacewith.indexOf('_');\n                  inputname = symbolObject.replacewith.substr(0, index1) + inputname + symbolObject.replacewith.substr(index1 + 1);\n                  inputname = inputname.slice(1, inputname.length - 1);\n                  databaseCondition.push({\n                    [columnValue]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  displayCondition.push({\n                    [columnLabel]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  databaseConditionParam.push({\n                    [columnValue]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: inputname,\n                    showInputValue: showInputValue,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                } else {\n                  databaseCondition.push({\n                    [columnValue]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  displayCondition.push({\n                    [columnLabel]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  databaseConditionParam.push({\n                    [columnValue]: {\n                      [symbolname]: inputname\n                    }\n                  });\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: inputname,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                }\n              } else if (symbolObject && numericinput && symbolObject.symbolType !== 5) {\n                databaseCondition.push({\n                  [columnValue]: {\n                    [symbolname]: numericinput\n                  }\n                });\n                displayCondition.push({\n                  [columnLabel]: {\n                    [symbolname]: numericinput\n                  }\n                });\n                databaseConditionParam.push({\n                  [columnValue]: {\n                    [symbolname]: numericinput\n                  }\n                });\n                fieldWithValue.push({\n                  columnName: columnValue,\n                  value: numericinput,\n                  symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                  items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                });\n              } else if (symbolObject && symbolObject.symbolType === 2 || symbolObject && symbolObject.symbolType === 3) {\n                databaseCondition.push({\n                  [columnValue]: {\n                    [symbolname]: ''\n                  }\n                });\n                displayCondition.push({\n                  [columnLabel]: {\n                    [symbolname]: ''\n                  }\n                });\n                databaseConditionParam.push({\n                  [columnValue]: {\n                    [symbolname]: ''\n                  }\n                });\n                fieldWithValue.push({\n                  columnName: columnValue,\n                  value: '',\n                  symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                  items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                });\n              } else if (symbolObject && numericinput && snumericinputtwo && symbolObject.symbolType === 5) {\n                if (symbolObject.symbol === \"\") {\n                  const tempValue = [{\n                    [columnValue]: {\n                      [symbolObject.replacewith[0]]: +numericinput\n                    }\n                  }, {\n                    [columnValue]: {\n                      [symbolObject.replacewith[1]]: snumericinputtwo\n                    }\n                  }];\n                  const tempValue1 = [{\n                    [columnLabel]: {\n                      [symbolObject.replacewith[0]]: +numericinput\n                    }\n                  }, {\n                    [columnLabel]: {\n                      [symbolObject.replacewith[1]]: snumericinputtwo\n                    }\n                  }];\n                  databaseCondition.push(tempValue);\n                  displayCondition.push(tempValue1);\n                  databaseConditionParam.push(tempValue);\n                } else {\n                  const tempValue = [{\n                    [symbolObject.symbol]: [{\n                      [columnValue]: {\n                        [symbolObject.replacewith[0]]: +numericinput\n                      }\n                    }, {\n                      [columnValue]: {\n                        [symbolObject.replacewith[1]]: snumericinputtwo\n                      }\n                    }]\n                  }];\n                  const tempValue1 = [{\n                    [symbolObject.symbol]: [{\n                      [columnLabel]: {\n                        [symbolObject.replacewith[0]]: +numericinput\n                      }\n                    }, {\n                      [columnLabel]: {\n                        [symbolObject.replacewith[1]]: snumericinputtwo\n                      }\n                    }]\n                  }];\n                  databaseCondition.push(tempValue);\n                  displayCondition.push(tempValue1);\n                  databaseConditionParam.push(tempValue);\n                }\n              } else if (symbolObject && symbolObject.symbolType === 6 && columnName && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\n                const data = selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => {\n                  return item.value;\n                }) || [];\n                const data1 = selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => {\n                  return item.label;\n                }) || [];\n\n                if (data.length > 0) {\n                  if (needmasterdata) {\n                    databaseCondition.push({\n                      [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: {\n                        [symbolname]: data\n                      }\n                    });\n                    databaseConditionParam.push({\n                      [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: {\n                        [symbolname]: data\n                      }\n                    });\n                    fieldWithValue.push({\n                      columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember,\n                      value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => {\n                        return item;\n                      }),\n                      symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                      items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                    });\n                  } else {\n                    databaseCondition.push({\n                      [columnValue]: {\n                        [symbolname]: data\n                      }\n                    });\n                    databaseConditionParam.push({\n                      [columnValue]: {\n                        [symbolname]: data\n                      }\n                    });\n                    fieldWithValue.push({\n                      columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember,\n                      value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => {\n                        return item;\n                      }),\n                      symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                      items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                    });\n                  }\n                }\n\n                if (data1.length > 0) {\n                  displayCondition.push({\n                    [columnLabel]: {\n                      [symbolname]: data1\n                    }\n                  });\n                } // }\n\n              } else if (symbolObject && columnName && symbolObject.isInputVisible && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\n                if (needmasterdata) {\n                  databaseCondition.push({\n                    [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value\n                    }\n                  });\n                  displayCondition.push({\n                    [columnLabel]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label\n                    }\n                  });\n                  databaseConditionParam.push({\n                    [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label\n                    }\n                  });\n                  fieldWithValue.push({\n                    columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember,\n                    value: selectedRecord[\"groupList\"][groupIndex][index][columnName],\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                } else {\n                  databaseCondition.push({\n                    [columnValue]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value\n                    }\n                  });\n                  displayCondition.push({\n                    [columnLabel]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label\n                    }\n                  });\n                  databaseConditionParam.push({\n                    [columnValue]: {\n                      [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label\n                    }\n                  });\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: selectedRecord[\"groupList\"][groupIndex][index][columnName],\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                }\n              } else if (symbolObject && dateinput && symbolObject.symbolType !== 5) {\n                databaseCondition.push({\n                  [columnValue]: {\n                    [symbolname]: dateinput\n                  }\n                });\n                displayCondition.push({\n                  [columnLabel]: {\n                    [symbolname]: dateinput\n                  }\n                });\n                databaseConditionParam.push({\n                  [columnValue]: {\n                    [symbolname]: dateinput\n                  }\n                });\n                fieldWithValue.push({\n                  columnName: columnValue,\n                  value: dateinput,\n                  symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                  items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                });\n              } else if (symbolObject && dateinput && dateinputtwo && symbolObject.symbolType === 5) {\n                if (symbolObject.symbol === \"\") {\n                  const tempValue = [{\n                    [columnValue]: {\n                      [symbolObject.replacewith[0]]: dateinput\n                    }\n                  }, {\n                    [columnValue]: {\n                      [symbolObject.replacewith[1]]: dateinputtwo\n                    }\n                  }];\n                  const tempValue1 = [{\n                    [columnLabel]: {\n                      [symbolObject.replacewith[0]]: dateinput\n                    }\n                  }, {\n                    [columnLabel]: {\n                      [symbolObject.replacewith[1]]: dateinputtwo\n                    }\n                  }];\n                  databaseCondition.push(tempValue);\n                  displayCondition.push(tempValue1);\n                  databaseConditionParam.push(tempValue);\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: dateinput,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: dateinputtwo,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                } else {\n                  const tempValue = [{\n                    [symbolObject.symbol]: [{\n                      [columnValue]: {\n                        [symbolObject.replacewith[0]]: dateinput\n                      }\n                    }, {\n                      [columnValue]: {\n                        [symbolObject.replacewith[1]]: dateinputtwo\n                      }\n                    }]\n                  }];\n                  const tempValue1 = [{\n                    [symbolObject.symbol]: [{\n                      [columnLabel]: {\n                        [symbolObject.replacewith[0]]: dateinput\n                      }\n                    }, {\n                      [columnLabel]: {\n                        [symbolObject.replacewith[1]]: dateinputtwo\n                      }\n                    }]\n                  }];\n                  databaseCondition.push(tempValue);\n                  displayCondition.push(tempValue1);\n                  databaseConditionParam.push(tempValue);\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: dateinput,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                  fieldWithValue.push({\n                    columnName: columnValue,\n                    value: dateinputtwo,\n                    symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"],\n                    items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items\n                  });\n                }\n              }\n            } else {\n              this.groupByFunction(selectedRecord, databaseCondition, displayCondition);\n            }\n          });\n\n          if (selectedRecord[\"groupList\"][groupIndex][`button_and`] === true) {\n            if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\n              groupConditionDisplay.push([{\n                $not: [{\n                  $and: [...displayCondition]\n                }]\n              }]);\n              groupConditionDatabase.push([{\n                $not: [{\n                  $and: [...databaseCondition]\n                }]\n              }]);\n              groupConditionDatabaseParam.push([{\n                $not: [{\n                  $and: [...databaseConditionParam]\n                }]\n              }]);\n            } else {\n              groupConditionDisplay.push([{\n                $and: [...displayCondition]\n              }]);\n              groupConditionDatabase.push([{\n                $and: [...databaseCondition]\n              }]);\n              groupConditionDatabaseParam.push([{\n                $and: [...databaseConditionParam]\n              }]);\n            }\n          } else if (selectedRecord[\"groupList\"][groupIndex][`button_or`] === true) {\n            if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\n              groupConditionDisplay.push([{\n                $not: [{\n                  $or: [...displayCondition]\n                }]\n              }]);\n              groupConditionDatabase.push([{\n                $not: [{\n                  $or: [...databaseCondition]\n                }]\n              }]);\n              groupConditionDatabaseParam.push([{\n                $not: [{\n                  $or: [...databaseConditionParam]\n                }]\n              }]);\n            } else {\n              groupConditionDisplay.push([{\n                $or: [...displayCondition]\n              }]);\n              groupConditionDatabase.push([{\n                $or: [...databaseCondition]\n              }]);\n              groupConditionDatabaseParam.push([{\n                $or: [...databaseConditionParam]\n              }]);\n            }\n          } else {\n            groupConditionDisplay.push([{ ...displayCondition\n            }]);\n            groupConditionDatabase.push([{ ...databaseCondition\n            }]);\n            groupConditionDatabaseParam.push([{ ...databaseConditionParam\n            }]);\n          }\n\n          let finalConditionDisplay = undefined;\n          let finalConditionDatabase = undefined;\n          let finalConditionDatabaseParam = undefined;\n\n          if (addGroupList.length - 1 === 0) {\n            finalConditionDisplay = [...groupConditionDisplay];\n            finalConditionDatabase = [...groupConditionDatabase];\n            finalConditionDatabaseParam = [...groupConditionDatabaseParam];\n          } else if (addGroupList.length - 1 === groupIndex) {\n            if (selectedRecord[\"groupList\"][0][`button_and`] === true) {\n              finalConditionDisplay = [{\n                $and: [...groupConditionDisplay]\n              }];\n              finalConditionDatabase = [{\n                $and: [...groupConditionDatabase]\n              }];\n              finalConditionDatabaseParam = [{\n                $and: [...groupConditionDatabaseParam]\n              }];\n            } else if (selectedRecord[\"groupList\"][0][`button_or`] === true) {\n              finalConditionDisplay = [{\n                $or: [...groupConditionDisplay]\n              }];\n              finalConditionDatabase = [{\n                $or: [...groupConditionDatabase]\n              }];\n              finalConditionDatabaseParam = [{\n                $or: [...groupConditionDatabaseParam]\n              }];\n            } else {\n              finalConditionDisplay = [{ ...groupConditionDisplay\n              }];\n              finalConditionDatabase = [{ ...groupConditionDatabase\n              }];\n              finalConditionDatabaseParam = [{ ...groupConditionDatabaseParam\n              }];\n            }\n          }\n\n          if (this.props.Login.sqlQuery) {\n            const databaseSQLQuery = jsonSql.build({\n              type: 'select',\n              table: selectedRecord[\"stablename_0\"].value,\n              condition: databaseCondition\n            });\n            const displaySQLQuery = jsonSql.build({\n              type: 'select',\n              table: selectedRecord[\"stablename_0\"].label,\n              condition: displayCondition\n            });\n            selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\n            selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\n          } else {\n            // const fields = this.props.Login.viewColumnList;\n            const dbFields = selectedRecord[\"filtercolumns\"];\n            let fieldList = [];\n            let dbfieldList = [];\n            let groupByAggregateFields = [];\n            let groupByFields = [];\n            let groupByAggregateFieldsDisplay = [];\n            let groupByFieldsDisplay = [];\n            let orderByDefault = [];\n            let orderByCustom = {};\n            let orderByDefaultDisplay = [];\n            let orderByCustomDisplay = {};\n            selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\n              if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\n                orderByCustom[data[\"columnname\"].items.columnname] = -1;\n                orderByCustomDisplay[data[\"columnname\"].label] = -1;\n              } else {\n                orderByCustom[data[\"columnname\"].items.columnname] = 1;\n                orderByCustomDisplay[data[\"columnname\"].label] = 1;\n              }\n            });\n\n            if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\n              selectedRecord[\"aggregate\"].forEach(data => {\n                if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\n                  groupByAggregateFields.push({\n                    func: {\n                      name: data[\"aggfunctionname\"].label,\n                      args: [{\n                        field: data[\"columnname\"].items.columnname\n                      }]\n                    },\n                    alias: data[\"columnname\"].items.columnname\n                  });\n                  groupByAggregateFieldsDisplay.push({\n                    func: {\n                      name: data[\"aggfunctionname\"].label,\n                      args: [{\n                        field: data[\"columnname\"].label\n                      }]\n                    }\n                  });\n                } else {\n                  groupByAggregateFields.push(data[\"columnname\"].items.columnname);\n                  groupByFields.push(data[\"columnname\"].items.columnname);\n                  groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\n                  groupByFieldsDisplay.push(data[\"columnname\"].label);\n                }\n              });\n            } // fields.forEach(item => {\n            //     fieldList.push(item.label);\n            // })\n\n\n            dbFields.forEach(item => {\n              if (item.items.languagecode === true) {\n                // let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\n                let fieldValue = item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\n                dbfieldList.push(fieldValue);\n              } else {\n                dbfieldList.push(item.value);\n              }\n\n              fieldList.push(item.label);\n            });\n            const databaseSQLQueryParam = jsonSqlParam.build({\n              type: 'select',\n              table: selectedRecord[\"sviewname\"].value,\n              fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\n              group: groupByFields,\n              sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\n              condition: finalConditionDatabaseParam\n            });\n            const databaseSQLQuery = jsonSql.build({\n              type: 'select',\n              table: selectedRecord[\"sviewname\"].value,\n              fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\n              group: groupByFields,\n              sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\n              condition: finalConditionDatabase\n            });\n            const displaySQLQuery = jsonSql.build({\n              type: 'select',\n              fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFieldsDisplay : fieldList,\n              group: groupByFieldsDisplay,\n              table: selectedRecord[\"sviewname\"].label,\n              sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\n              condition: finalConditionDisplay //&& finalCondition.length === 1 ? finalCondition[0] : finalCondition\n\n            }); // databaseSQLQueryParam.query.split('\"').join('')\n            // databaseSQLQuery.query.split('\"').join('')\n\n            let dbQueryParam = databaseSQLQueryParam.query.split('\"').join('');\n            let dbQuery = databaseSQLQuery.query.split('\"').join('');\n            selectedRecord[\"squerywithparam\"] = dbQueryParam.replace(\"like\", \"Ilike\");\n            selectedRecord[\"sgeneratedquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ? dbQuery.replace(\"like\", \"Ilike\") : \"\";\n            selectedRecord[\"sdisplayquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ? displaySQLQuery.query.replace(\"like\", \"Ilike\") : \"\";\n            selectedRecord[\"sdefaultvalue\"] = fieldWithValue;\n            const paramIndex = [];\n\n            if (fieldWithValue.length > 0) {\n              fieldWithValue.forEach((item, i) => {\n                if (item.symbolObject.items.symbolType === 4) {\n                  paramIndex.push(\"$p\" + (i + 1));\n                }\n              });\n            }\n\n            if (paramIndex.length > 0) {\n              paramIndex.forEach(data => {\n                selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\n              });\n            } // if (selectedRecord[\"squerywithparam\"].indexOf('Ilike') > 0) {\n            //     let newQuery = selectedRecord[\"squerywithparam\"];\n            //     while (newQuery.indexOf(\"Ilike\") !== -1) {\n            //         const paramLabelStartIndex = newQuery.indexOf(\"Ilike\");\n            //         const paramLabel = newQuery.substring(paramLabelStartIndex, newQuery.length);\n            //     }\n            // }\n\n          }\n\n          this.setState({\n            selectedRecord\n          });\n        });\n      } else {\n        this.groupByFunction(selectedRecord, databaseCondition, displayCondition);\n      }\n\n      this.setState({\n        selectedRecord\n      }); // for temporary\n    };\n\n    this.onConditionClick = (fieldName, index) => {\n      let {\n        selectedRecord\n      } = this.state;\n\n      if (fieldName === `button_and`) {\n        selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\n        selectedRecord[\"groupList\"][index][`button_or`] = false;\n      } else if (fieldName === `button_or`) {\n        selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\n        selectedRecord[\"groupList\"][index][`button_and`] = false; // if (selectedRecord[\"groupList\"][index][`notoperator`] && selectedRecord[\"groupList\"][index][`notoperator`] === true) {\n        //     selectedRecord[\"groupList\"][index][`notoperator`] = false;\n        // }\n      } else if (fieldName === `button_not`) {\n        selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\n      } else {}\n\n      this.generateFilterQuery(selectedRecord);\n    };\n\n    this.onQueryTypeOnclick = value => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[\"selectedQueryType\"] = value;\n      let sqlQuery = false;\n\n      if (value.value === \"sql\") {\n        sqlQuery = true;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          sqlQuery: sqlQuery\n        }\n      };\n      this.props.updateStore(updateInfo);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    const dataState = {\n      skip: 0,\n      take: props.settings ? parseInt(props.settings[14]) : 5\n    };\n    const dataStateMain = {\n      skip: 0,\n      take: props.settings ? parseInt(props.settings[14]) : 5\n    };\n    const dataStateUserQuery = {\n      skip: 0,\n      take: 10\n    };\n    this.state = {\n      selectedRecord: {},\n      error: \"\",\n      // modalIsOpen: false,\n      parameters: [],\n      // objparam: [],\n      // objDparam: [],\n      queryName: '',\n      // queryResult: [],\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      dataStateUserQuery: dataStateUserQuery,\n      queryTypeName: '',\n      selectedcombo: [],\n      selectedTableType: [],\n      moduleFormName: [],\n      ntableTypeCode: -1,\n      nFormCode: -1,\n      queryType: [],\n      tableType: [],\n      chartList: [],\n      skip: 0,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      //tableName : undefined,tableList:[]\n      outputColumns: [],\n      selectedTableList: [],\n      tableColumnList: [],\n      foreignTableColumnList: [],\n      joinTableList: [],\n      symbolsList: [],\n      foreignTableList: [],\n      count: 0,\n      foreignTableCount: [],\n      selectedforeignTableList: [],\n      filterColumnList: [],\n      sqlQuery: false,\n      // viewColumnList: [],\n      switchRecord: {},\n      dataState: dataState,\n      dataStateMain: dataStateMain,\n      data: [],\n      dataMainList: [],\n      dataResult: [],\n      dataResultMain: [],\n      queryType: [{\n        squerytypename: this.props.intl.formatMessage({\n          id: \"IDS_VIEWS\"\n        }),\n        nquerytypecode: 1\n      }, {\n        squerytypename: this.props.intl.formatMessage({\n          id: \"IDS_SQL\"\n        }),\n        nquerytypecode: 2\n      }],\n      queryTypeOptions: [{\n        label: this.props.intl.formatMessage({\n          id: \"IDS_VIEWS\"\n        }),\n        views: 1\n      }, {\n        label: this.props.intl.formatMessage({\n          id: \"IDS_SQL\"\n        }),\n        value: 2\n      }]\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage(); // this.dropItemRef = React.createRef(); \n\n    this.queryFieldList = ['nquerytypecode', 'ssqlqueryname', 'ssqlquery', 'sscreenrecordquery', 'sscreenheader', 'svaluemember', 'sdisplaymember', 'ncharttypecode']; // this.queryList = [];\n\n    this.searchFieldList = [\"ssqlqueryname\", \"ssqlquery\", \"sscreenheader\", \"svaluemember\", \"sdisplaymember\", \"squerytypename\", \"schartname\"];\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      filterData\n    } = this.state;\n\n    if (this.props.Login.queryData !== previousProps.Login.queryData) {\n      this.setState({\n        data: this.props.Login.queryData,\n        dataResult: process(this.props.Login.queryData, this.state.dataState)\n      });\n    }\n\n    if (this.props.Login.masterData.queryDataMain !== previousProps.Login.masterData.queryDataMain) {\n      if (this.props.Login.masterData.queryDataMain !== undefined) {\n        this.setState({\n          dataMainList: this.props.Login.masterData.queryDataMain,\n          dataResultMain: process(this.props.Login.masterData.queryDataMain === null ? [] : this.props.Login.masterData.queryDataMain, this.state.dataStateMain)\n        });\n      }\n    }\n\n    if (this.props.Login.masterData.queryTypeCode !== previousProps.Login.masterData.queryTypeCode) {\n      filterData = this.generateBreadCrumData();\n      this.setState({\n        filterData\n      });\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        controlMap,\n        userRoleControlRights\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\n      const item = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\n      breadCrumbData.push({\n        \"label\": \"IDS_QUERYTYPE\",\n        \"value\": this.props.Login.masterData.queryTypeCode ? item[0].squerytypename : \"\"\n      });\n    }\n\n    return breadCrumbData;\n  }\n\n  render() {\n    const addId = this.state.controlMap.has(\"Add QueryBuilder\") && this.state.controlMap.get(\"Add QueryBuilder\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"Edit QueryBuilder\") && this.state.controlMap.get(\"Edit QueryBuilder\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"Delete QueryBuilder\") && this.state.controlMap.get(\"Delete QueryBuilder\").ncontrolcode;\n    const breadCrumbData = this.state.filterData || [];\n    let gridColumnListMain = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.columnList && this.props.Login.masterData.columnList.length > 0) {\n      this.props.Login.masterData.columnList.forEach(item => {\n        gridColumnListMain.push({\n          idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode],\n          dataField: item.items.columnname,\n          width: '200px'\n        });\n      });\n    }\n\n    let selectedQueryType = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\n      selectedQueryType = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      masterData: this.props.Login.masterData || [],\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_QUERYBUILDER\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.queryBuilderList,\n      getMasterDetail: qryBuilder => this.props.getSelectedQueryBuilder(qryBuilder, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedQueryBuilder,\n      primaryKeyField: \"nquerybuildercode\",\n      mainField: \"squerybuildername\" //firstField=\"squerybuildername\"\n      // secondField={this.state.selectedcombo[\"nquerytypecode\"] && this.state.selectedcombo[\"nquerytypecode\"].value === queryTypeFilter.LIMSDASHBOARDQUERY ? \"schartname\" : \"\"}\n      // filterColumnData={this.props.filterColumnData}\n      // filterParam={filterParam}\n      ,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      openModal: this.getDatabaseTables // openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\n      //     this.props.Login.masterData, this.props.Login.userInfo,\n      //     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \n      //     addId)} \n      //{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\n      ,\n      needAccordianFilter: false // skip={this.state.skip}\n      // take={this.state.take}\n      ,\n      handlePageChange: this.handlePageChange,\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      showBuildQuery: false,\n      builderData: this.getDatabaseTables,\n      filterComponent: [{\n        \"IDS_QUERYTYPEFILTER\": /*#__PURE__*/React.createElement(QueryTypeFilter, {\n          queryType: this.state.queryTypeOptions || [],\n          selectedRecord: this.state.selectedcombo || {},\n          onComboChange: this.onComboChange,\n          filterQueryType: selectedQueryType[0],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 29\n      }\n    }, this.props.Login.masterData.queryBuilderList && this.props.Login.masterData.queryBuilderList.length > 0 && this.props.Login.masterData.selectedQueryBuilder ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.selectedQueryBuilder.squerybuildername), /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      style: {\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"d-inline dropdown badget_menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\" // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\n      //  data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_PARAMETERMAPPING\"\n      }),\n      onClick: e => this.props.getParameterFromQuery(this.props.Login),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(ParameterConfigurationIcon, {\n      className: \"custom_icons\",\n      width: \"20\",\n      height: \"20\",\n      name: \"configreporticon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"QB\",\n      className: \"btn btn-circle outline-grey mr-2\" // hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      onClick: () => this.confirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\" // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\n      //  data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_COPYSQL\"\n      }),\n      onClick: () => this.copySQLQuery(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCopy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 65\n      }\n    }))))))), this.props.Login.masterData.queryDataMain && gridColumnListMain && gridColumnListMain.length > 0 ? /*#__PURE__*/React.createElement(DataGridComponent, {\n      data: this.state.dataMainList,\n      dataResult: this.state.dataResultMain || [],\n      dataState: this.state.dataStateMain,\n      dataStateChange: this.dataStateChangeMain,\n      extractedColumnList: gridColumnListMain,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      userInfo: this.props.Login.userInfo,\n      pageable: true,\n      scrollable: \"scrollable\",\n      isActionRequired: false,\n      isToolBarRequired: true,\n      isRefreshRequired: false,\n      selectedId: -1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 45\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null)) : \"\")))), this.props.Login.openPortalModal && /*#__PURE__*/React.createElement(PortalModalSlideout, {\n      show: this.props.Login.openPortalModal,\n      closeModal: this.closePortalModal,\n      screenName: this.props.Login.screenName,\n      handleSaveClick: this.save,\n      addComponent: /*#__PURE__*/React.createElement(BuildQuery, {\n        selectedRecord: this.state.selectedRecord || {},\n        databaseTableList: this.props.Login.databaseTableList,\n        tableColumnList: this.state.tableColumnList,\n        foreignTableList: this.state.foreignTableList || [],\n        foreignTableColumnList: this.props.Login.foreignTableColumnList || [] // validationData={validationData}\n        ,\n        count: this.state.count,\n        foreignTableCount: this.state.foreignTableCount,\n        sqlQuery: this.state.sqlQuery,\n        viewMasterListByRule: this.props.Login.viewMasterListByRule || [],\n        userInfo: this.props.Login.userInfo,\n        onExecuteRule: this.onExecuteRule,\n        onInputChange: this.onInputChange,\n        deleteRule: this.deleteRule,\n        clearRule: this.clearRule,\n        resetRule: this.resetRule,\n        onSymbolChange: this.onSymbolChange // onForeignTableChange={this.onForeignTableChange}\n        // addJoinTable={this.addJoinTable}\n        ,\n        onQueryTypeOnclick: this.onQueryTypeOnclick,\n        onRuleChange: this.onRuleChange,\n        onViewComboChange: this.onViewComboChange,\n        addRule: this.addRule,\n        onConditionClick: this.onConditionClick,\n        onMasterDataChange: this.onMasterDataChange,\n        handleFilterDateChange: this.handleFilterDateChange,\n        databaseviewList: this.props.Login.databaseviewList,\n        addRuleList: this.props.Login.addRuleList || [],\n        viewColumnListByRule: this.props.Login.viewColumnListByRule || [],\n        masterdata: this.props.Login.masterdata,\n        switchRecord: this.state.switchRecord,\n        data: this.state.data,\n        dataResult: this.state.dataResult || [],\n        dataState: this.state.dataState,\n        dataStateChange: this.dataStateChange,\n        userRoleControlRights: this.state.userRoleControlRights,\n        gridColumnList: this.props.Login.gridColumnList || [],\n        queryType: this.state.queryType,\n        addAggregate: this.addAggregate,\n        addAggregateList: this.props.Login.addAggregateList || [],\n        onAggregateChange: this.onAggregateChange,\n        deleteAggregate: this.deleteAggregate,\n        addOrderby: this.addOrderby,\n        addOrderbyList: this.props.Login.addOrderbyList || [],\n        onOrderbyChange: this.onOrderbyChange,\n        deleteOrderby: this.deleteOrderby,\n        addGroup: this.addGroup,\n        addGroupList: this.props.Login.addGroupList || [],\n        copySQLQuery: this.copySQLQuery,\n        onFilterComboChange: this.onFilterComboChange,\n        selectFields: this.props.Login.selectFields || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 21\n      }\n    }), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: \"create\",\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_PARAMETERMAPPING\"\n      }),\n      onExecuteClick: this.saveParam,\n      showExecute: true,\n      showParam: true,\n      hideSave: true,\n      selectedRecord: this.state.selectedRecord || {},\n      addComponent: /*#__PURE__*/React.createElement(QueryBuilderParamter, {\n        onParamInputChange: this.onParamInputChange,\n        selectedQueryBuilder: this.props.Login.masterData.selectedQueryBuilder || [],\n        viewMasterData: this.props.Login.viewMasterData || [],\n        comboData: this.props.Login.comboData || [],\n        onParamComboChange: this.onParamComboChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  clearSelectedRule(selectedRecord, index) {\n    selectedRecord[\"sinputname_\" + index] && delete selectedRecord[\"sinputname_\" + index];\n    selectedRecord[\"ssymbolname_\" + index] && delete selectedRecord[\"ssymbolname_\" + index];\n    selectedRecord[\"snumericinput_\" + index] && delete selectedRecord[\"snumericinput_\" + index];\n    selectedRecord[\"columnname_\" + index] && delete selectedRecord[\"columnname_\" + index];\n    selectedRecord[\"snumericinputtwo_\" + index] && delete selectedRecord[\"snumericinputtwo_\" + index];\n    selectedRecord[\"dateinput_\" + index] && delete selectedRecord[\"dateinput_\" + index];\n    selectedRecord[\"dateinputtwo_\" + index] && delete selectedRecord[\"dateinputtwo_\" + index];\n  }\n\n  groupByFunction(selectedRecord, databaseCondition, displayCondition) {\n    let groupByAggregateFields = [];\n    let groupByFields = [];\n    let groupByAggregateFieldsDisplay = [];\n    let groupByFieldsDisplay = [];\n    let orderByDefault = [];\n    let orderByCustom = {};\n    let orderByDefaultDisplay = [];\n    let orderByCustomDisplay = {}; // if (selectedRecord[\"customorderby\"] && selectedRecord[\"customorderby\"] === true) {\n\n    selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\n      if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\n        orderByCustom[data[\"columnname\"].items.columnname] = -1;\n        orderByCustomDisplay[data[\"columnname\"].label] = -1;\n      } else {\n        orderByCustom[data[\"columnname\"].items.columnname] = 1;\n        orderByCustomDisplay[data[\"columnname\"].label] = 1;\n      }\n    }); // } else {\n    //     selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\n    //         orderByDefault.push(data[\"columnname\"].items.columnname);\n    //         orderByDefaultDisplay.push(data[\"columnname\"].label);\n    //     })\n    // }\n    // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\n\n    if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\n      selectedRecord[\"aggregate\"].forEach(data => {\n        if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\n          groupByAggregateFields.push({\n            func: {\n              name: data[\"aggfunctionname\"].label,\n              args: [{\n                field: data[\"columnname\"].items.columnname\n              }]\n            },\n            alias: data[\"columnname\"].items.columnname\n          });\n          groupByAggregateFieldsDisplay.push({\n            func: {\n              name: data[\"aggfunctionname\"].label,\n              args: [{\n                field: data[\"columnname\"].label\n              }]\n            }\n          });\n        } else {\n          groupByAggregateFields.push(data[\"columnname\"].items.columnname);\n          groupByFields.push(data[\"columnname\"].items.columnname);\n          groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\n          groupByFieldsDisplay.push(data[\"columnname\"].label);\n        }\n      });\n      const databaseSQLQuery = jsonSql.build({\n        type: 'select',\n        table: selectedRecord[\"sviewname\"].value,\n        fields: groupByAggregateFields,\n        group: groupByFields,\n        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\n        condition: databaseCondition\n      });\n      const displaySQLQuery = jsonSql.build({\n        type: 'select',\n        fields: groupByAggregateFieldsDisplay,\n        group: groupByFieldsDisplay,\n        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\n        table: selectedRecord[\"sviewname\"].label,\n        condition: displayCondition\n      });\n      selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\n      selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\n      this.setState({\n        selectedRecord\n      });\n    } // }\n\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  filterColumnData,\n  validateEsignCredential,\n  getSQLQueryDetail,\n  getSQLQueryComboService,\n  comboChangeQueryType,\n  executeUserQuery,\n  comboColumnValues,\n  getColumnNamesByTableName,\n  getTablesName,\n  getModuleFormName,\n  getDatabaseTables,\n  executeQuery,\n  getForeignTable,\n  getViewColumns,\n  getMasterData,\n  createQueryBuilder,\n  getParameterFromQuery,\n  getSelectedQueryBuilder,\n  updateQueryBuilder,\n  getQueryBuilder\n})(injectIntl(QueryBuilder));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dashboard/QueryBuilder.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faTrashAlt","faCopy","process","toast","ListMaster","SlideOutModal","Esign","AddQuery","AddParameter","QueryTypeFilter","callService","crudMaster","validateEsignCredential","updateStore","getSQLQueryDetail","getSQLQueryComboService","filterColumnData","comboChangeQueryType","executeUserQuery","comboColumnValues","getColumnNamesByTableName","getTablesName","getModuleFormName","getDatabaseTables","executeQuery","getForeignTable","getViewColumns","getMasterData","createQueryBuilder","getParameterFromQuery","getSelectedQueryBuilder","updateQueryBuilder","getQueryBuilder","DEFAULT_RETURN","transactionStatus","queryTypeFilter","tableType","ColumnType","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","rsapi","ConfirmMessage","Affix","BreadcrumbComponent","ListWrapper","PortalModalSlideout","BuildQuery","render","format","ProductList","QueryBuilderParamter","DataGridComponent","stringOperatorData","jsonSql","require","separatedValues","jsonSqlParam","QueryBuilder","constructor","props","dataStateChange","event","setState","dataResult","Login","queryData","dataState","dataStateChangeMain","dataResultMain","queryDataMain","dataStateMain","copySQLQuery","type","query","state","selectedRecord","forEach","dataItem","index","items","needmasterdata","mastertablename","replace","valuemember","sforeigncolumnname","undefined","columnname","includes","userInfo","slanguagetypecode","navigator","clipboard","writeText","masterData","selectedQueryBuilder","value","sdefaultValue","JSON","parse","sdefaultvalue","reloadData","searchRef","current","inputParam","inputData","classUrl","methodUrl","saveParam","saveType","formRef","comboData","sqryData","symbolObject","item","trimEnd","columntype","DATATIME","DATE","isInputVisible","symbolType","Date","jsonData","sgeneratedquery","columnList","save","length","jsondata","postParam","i","inputListName","selectedObject","primaryKeyField","viewColumnListByRule","label","displayName","operation","info","intl","formatMessage","id","deleteQB","ncontrolCode","confirmDelete","confirmMessage","confirm","openFilter","showFilter","updateInfo","typeName","data","closeFilter","onFilterSubmit","selectedcombo","console","log","nquerytypecode","queryTypeCode","onFilterComboChange","fieldName","generateFilterQuery","onParamComboChange","onParamInputChange","inputValue","target","test","checked","index1","indexOf","inputname","substr","slice","showInputValue","handleFilterDateChange","dateName","dateValue","groupIndex","onComboChange","onViewComboChange","sviewname","userinfo","onAggregateChange","onRuleChange","clearSelectedRule","sqlQuery","oldselectedRecord","tableData","nflag","displaymember","optionId","viewMasterListByRule","COMBO","stablename","foriegntablename","scolumnname","TEXTINPUT","onMasterDataChange","onOrderbyChange","deleteOrderby","addOrderbyList","splice","addOrderby","arrayLength","viewColumnList","deleteAggregate","addAggregateList","addAggregate","addRule","addGroupList","addGroup","sql1","build","table","alias","join","on","sql21","condition","a","$gt","b","$lt","group","selectFields","addRuleList","closePortalModal","openPortalModal","count","closeModal","openModal","onExecuteRule","deleteRule","clearRule","resetRule","onSymbolChange","oldSelectedRecord","onInputChange","name","setDialect","databaseCondition","displayCondition","databaseConditionParam","fieldWithValue","notOperator","groupConditionDatabase","groupConditionDatabaseParam","groupConditionDisplay","Array","map","current_button_and","current_button_or","next_button_and","next_button_or","symbolname","symbol","numericinput","columnLabel","columnValue","snumericinputtwo","columnName","dateinput","dateinputtwo","replacewith","push","tempValue","tempValue1","data1","groupByFunction","$not","$and","$or","finalConditionDisplay","finalConditionDatabase","finalConditionDatabaseParam","databaseSQLQuery","displaySQLQuery","dbFields","fieldList","dbfieldList","groupByAggregateFields","groupByFields","groupByAggregateFieldsDisplay","groupByFieldsDisplay","orderByDefault","orderByCustom","orderByDefaultDisplay","orderByCustomDisplay","func","args","field","languagecode","fieldValue","databaseSQLQueryParam","fields","sort","dbQueryParam","split","dbQuery","paramIndex","onConditionClick","onQueryTypeOnclick","skip","take","settings","parseInt","dataStateUserQuery","error","parameters","queryName","userRoleControlRights","controlMap","Map","queryTypeName","selectedTableType","moduleFormName","ntableTypeCode","nFormCode","queryType","chartList","outputColumns","selectedTableList","tableColumnList","foreignTableColumnList","joinTableList","symbolsList","foreignTableList","foreignTableCount","selectedforeignTableList","filterColumnList","switchRecord","dataMainList","squerytypename","queryTypeOptions","views","createRef","queryFieldList","searchFieldList","componentDidUpdate","previousProps","filterData","generateBreadCrumData","nformcode","Object","values","ncontrolcode","breadCrumbData","filter","addId","has","get","editId","deleteId","gridColumnListMain","idsName","displayname","dataField","width","selectedQueryType","searchedData","queryBuilderList","qryBuilder","handlePageChange","squerybuildername","float","e","screenName","databaseTableList","databaseviewList","masterdata","gridColumnList","viewMasterData","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport AddQuery from './AddQuery';\r\nimport AddParameter from './AddParameter';\r\nimport QueryTypeFilter from './QueryTypeFilter';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSQLQueryDetail,\r\n    getSQLQueryComboService, filterColumnData, comboChangeQueryType, executeUserQuery,\r\n    comboColumnValues, getColumnNamesByTableName, getTablesName, getModuleFormName,\r\n    getDatabaseTables, executeQuery, getForeignTable, getViewColumns, getMasterData, createQueryBuilder,\r\n    getParameterFromQuery, getSelectedQueryBuilder, updateQueryBuilder, getQueryBuilder\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, queryTypeFilter, tableType, ColumnType } from '../../components/Enumeration';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport rsapi from '../../rsapi';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\r\nimport BuildQuery from './BuildQuery';\r\nimport { render } from '@testing-library/react';\r\nimport { format } from 'date-fns';\r\nimport { ProductList } from '../product/product.styled';\r\nimport QueryBuilderParamter from './QueryBuilderParamter';\r\nimport { ReactComponent as ParameterConfigurationIcon } from '../../assets/image/parameter-configuration.svg';\r\nimport { ReactComponent as ParameterMappingIcon } from '../../assets/image/parameter-mapping.svg';\r\nimport DataGridComponent from '../../components/data-grid/data-grid.component';\r\nimport { stringOperatorData } from './QueryBuilderData';\r\n// import {validationData} from './QueryBuilderData';\r\n\r\nconst jsonSql = require('json-sql')({ separatedValues: false });\r\nconst jsonSqlParam = require('json-sql')({ separatedValues: true });\r\n\r\nclass QueryBuilder extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateMain = {\r\n            skip: 0,\r\n            take: props.settings ? parseInt(props.settings[14]) : 5,\r\n        };\r\n        const dataStateUserQuery = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            // modalIsOpen: false,\r\n            parameters: [],\r\n            // objparam: [],\r\n            // objDparam: [],\r\n            queryName: '',\r\n            // queryResult: [],\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            dataStateUserQuery: dataStateUserQuery,\r\n            queryTypeName: '',\r\n            selectedcombo: [],\r\n            selectedTableType: [],\r\n            moduleFormName: [],\r\n            ntableTypeCode: -1,\r\n            nFormCode: -1,\r\n            queryType: [],\r\n            tableType: [],\r\n            chartList: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25, //tableName : undefined,tableList:[]\r\n            outputColumns: [],\r\n            selectedTableList: [],\r\n            tableColumnList: [],\r\n            foreignTableColumnList: [],\r\n            joinTableList: [],\r\n            symbolsList: [],\r\n            foreignTableList: [],\r\n            count: 0,\r\n            foreignTableCount: [],\r\n            selectedforeignTableList: [],\r\n            filterColumnList: [],\r\n            sqlQuery: false,\r\n            // viewColumnList: [],\r\n            switchRecord: {},\r\n            dataState: dataState,\r\n            dataStateMain: dataStateMain,\r\n            data: [],\r\n            dataMainList: [],\r\n            dataResult: [],\r\n            dataResultMain: [],\r\n            queryType: [{ squerytypename: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), nquerytypecode: 1 }, { squerytypename: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), nquerytypecode: 2 }],\r\n            queryTypeOptions: [{ label: this.props.intl.formatMessage({ id: \"IDS_VIEWS\" }), views: 1 }, { label: this.props.intl.formatMessage({ id: \"IDS_SQL\" }), value: 2 }]\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // this.dropItemRef = React.createRef(); \r\n\r\n        this.queryFieldList = ['nquerytypecode', 'ssqlqueryname', 'ssqlquery',\r\n            'sscreenrecordquery', 'sscreenheader', 'svaluemember', 'sdisplaymember', 'ncharttypecode'];\r\n        // this.queryList = [];\r\n\r\n        this.searchFieldList = [\"ssqlqueryname\", \"ssqlquery\", \"sscreenheader\", \"svaluemember\", \"sdisplaymember\",\r\n            \"squerytypename\", \"schartname\"];\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    dataStateChangeMain = (event) => {\r\n        this.setState({\r\n            dataResultMain: process(this.props.Login.queryDataMain, event.dataStateMain),\r\n            dataStateMain: event.dataStateMain\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let { filterData } = this.state;\r\n        if (this.props.Login.queryData !== previousProps.Login.queryData) {\r\n            this.setState({\r\n                data: this.props.Login.queryData,\r\n                dataResult: process(this.props.Login.queryData, this.state.dataState)\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.queryDataMain !== previousProps.Login.masterData.queryDataMain) {\r\n            if (this.props.Login.masterData.queryDataMain !== undefined) {\r\n                this.setState({\r\n                    dataMainList: this.props.Login.masterData.queryDataMain,\r\n                    dataResultMain: process(this.props.Login.masterData.queryDataMain === null ? [] : this.props.Login.masterData.queryDataMain, this.state.dataStateMain)\r\n                });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.queryTypeCode !== previousProps.Login.masterData.queryTypeCode) {\r\n            filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n            const item = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_QUERYTYPE\",\r\n                    \"value\": this.props.Login.masterData.queryTypeCode ?\r\n                        item[0].squerytypename : \"\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n    render() {\r\n        const addId = this.state.controlMap.has(\"Add QueryBuilder\") && this.state.controlMap.get(\"Add QueryBuilder\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit QueryBuilder\") && this.state.controlMap.get(\"Edit QueryBuilder\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete QueryBuilder\") && this.state.controlMap.get(\"Delete QueryBuilder\").ncontrolcode;\r\n        const breadCrumbData = this.state.filterData || [];\r\n        let gridColumnListMain = [];\r\n\r\n        if (this.props.Login.masterData && this.props.Login.masterData.columnList && this.props.Login.masterData.columnList.length > 0) {\r\n            this.props.Login.masterData.columnList.forEach(item => {\r\n                gridColumnListMain.push({ idsName: item.items.displayname[this.props.Login.userInfo.slanguagetypecode], dataField: item.items.columnname, width: '200px' })\r\n            })\r\n        }\r\n        let selectedQueryType = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.queryTypeCode) {\r\n\r\n            selectedQueryType = this.state.queryType.filter(item => item.nquerytypecode === this.props.Login.masterData.queryTypeCode);\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    {/* Start of get display*/}\r\n                    <Row noGutters={true}>\r\n                        <Col md=\"4\">\r\n                            <ListMaster\r\n                                masterData={this.props.Login.masterData || []}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_QUERYBUILDER\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.queryBuilderList}\r\n                                getMasterDetail={(qryBuilder) => this.props.getSelectedQueryBuilder(qryBuilder, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedQueryBuilder}\r\n                                primaryKeyField=\"nquerybuildercode\"\r\n                                mainField=\"squerybuildername\"\r\n                                //firstField=\"squerybuildername\"\r\n                                // secondField={this.state.selectedcombo[\"nquerytypecode\"] && this.state.selectedcombo[\"nquerytypecode\"].value === queryTypeFilter.LIMSDASHBOARDQUERY ? \"schartname\" : \"\"}\r\n                                // filterColumnData={this.props.filterColumnData}\r\n                                // filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                openModal={this.getDatabaseTables}\r\n                                // openModal={() => this.props.getSQLQueryComboService(\"\", \"create\", \"nsqlquerycode\", null,\r\n                                //     this.props.Login.masterData, this.props.Login.userInfo,\r\n                                //     this.props.Login.masterData.SelectedQueryType.nquerytypecode,                                   \r\n                                //     addId)} \r\n                                //{() => this.props.addTest(\"create\", selectedTest, userInfo, addId, this.state.nfilterTestCategory)} Already commented\r\n                                needAccordianFilter={false}\r\n                                // skip={this.state.skip}\r\n                                // take={this.state.take}\r\n                                handlePageChange={this.handlePageChange}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                showBuildQuery={false}\r\n                                builderData={this.getDatabaseTables}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_QUERYTYPEFILTER\":\r\n                                            <QueryTypeFilter\r\n                                                queryType={this.state.queryTypeOptions || []}\r\n                                                selectedRecord={this.state.selectedcombo || {}}\r\n                                                onComboChange={this.onComboChange}\r\n                                                filterQueryType={selectedQueryType[0]}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md=\"8\">\r\n                            <ProductList className=\"panel-main-content\">\r\n                                {this.props.Login.masterData.queryBuilderList && this.props.Login.masterData.queryBuilderList.length > 0 && this.props.Login.masterData.selectedQueryBuilder ?\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedQueryBuilder.squerybuildername}</Card.Title>\r\n                                            <ContentPanel className=\"d-flex product-category\">\r\n                                                <Col md='6' >\r\n                                                    {/* {this.props.Login.masterData.selectedQueryBuilder.squerybuildername} */}\r\n\r\n                                                </Col>\r\n                                                <Col md='6'>\r\n                                                    <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                        {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                        <ProductList className=\"d-inline dropdown badget_menu\">\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                              //  data-for=\"tooltip_list_wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_PARAMETERMAPPING\" })}\r\n                                                                onClick={(e) => this.props.getParameterFromQuery(this.props.Login)}\r\n                                                            >\r\n                                                                {/* <FontAwesomeIcon icon={faPencilAlt} className=\"ActionIconColor\"/> */}\r\n                                                                <ParameterConfigurationIcon className=\"custom_icons\" width=\"20\" height=\"20\" name=\"configreporticon\" />\r\n                                                            </Nav.Link>\r\n                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                            </Nav.Link>\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                              //  data-for=\"tooltip_list_wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_COPYSQL\" })}\r\n                                                                onClick={() => this.copySQLQuery(1)}\r\n                                                            >\r\n\r\n                                                                <FontAwesomeIcon icon={faCopy} />\r\n                                                            </Nav.Link>\r\n                                                        </ProductList>\r\n                                                    </div>\r\n                                                </Col>\r\n                                            </ContentPanel>\r\n                                        </Card.Header>\r\n                                        {this.props.Login.masterData.queryDataMain && gridColumnListMain && gridColumnListMain.length > 0 ?\r\n                                            <DataGridComponent\r\n                                                data={this.state.dataMainList}\r\n                                                dataResult={this.state.dataResultMain || []}\r\n                                                dataState={this.state.dataStateMain}\r\n                                                dataStateChange={this.dataStateChangeMain}\r\n                                                extractedColumnList={gridColumnListMain}\r\n                                                controlMap={this.state.controlMap}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                pageable={true}\r\n                                                scrollable={\"scrollable\"}\r\n                                                isActionRequired={false}\r\n                                                isToolBarRequired={true}\r\n                                                isRefreshRequired={false}\r\n                                                selectedId={-1}\r\n                                            />\r\n                                            : <></>\r\n                                        }\r\n                                    </Card>\r\n                                    : \"\"}\r\n\r\n                            </ProductList>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.props.Login.openPortalModal &&\r\n                    <PortalModalSlideout\r\n                        show={this.props.Login.openPortalModal}\r\n                        closeModal={this.closePortalModal}\r\n                        screenName={this.props.Login.screenName}\r\n                        handleSaveClick={this.save}\r\n                        addComponent={\r\n                            <BuildQuery\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                databaseTableList={this.props.Login.databaseTableList}\r\n                                tableColumnList={this.state.tableColumnList}\r\n                                foreignTableList={this.state.foreignTableList || []}\r\n                                foreignTableColumnList={this.props.Login.foreignTableColumnList || []}\r\n                                // validationData={validationData}\r\n                                count={this.state.count}\r\n                                foreignTableCount={this.state.foreignTableCount}\r\n                                sqlQuery={this.state.sqlQuery}\r\n                                viewMasterListByRule={this.props.Login.viewMasterListByRule || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                onExecuteRule={this.onExecuteRule}\r\n                                onInputChange={this.onInputChange}\r\n                                deleteRule={this.deleteRule}\r\n                                clearRule={this.clearRule}\r\n                                resetRule={this.resetRule}\r\n                                onSymbolChange={this.onSymbolChange}\r\n                                // onForeignTableChange={this.onForeignTableChange}\r\n                                // addJoinTable={this.addJoinTable}\r\n                                onQueryTypeOnclick={this.onQueryTypeOnclick}\r\n\r\n                                onRuleChange={this.onRuleChange}\r\n                                onViewComboChange={this.onViewComboChange}\r\n                                addRule={this.addRule}\r\n                                onConditionClick={this.onConditionClick}\r\n                                onMasterDataChange={this.onMasterDataChange}\r\n                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                databaseviewList={this.props.Login.databaseviewList}\r\n                                addRuleList={this.props.Login.addRuleList || []}\r\n                                viewColumnListByRule={this.props.Login.viewColumnListByRule || []}\r\n                                masterdata={this.props.Login.masterdata}\r\n                                switchRecord={this.state.switchRecord}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult || []}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                gridColumnList={this.props.Login.gridColumnList || []}\r\n                                queryType={this.state.queryType}\r\n                                addAggregate={this.addAggregate}\r\n                                addAggregateList={this.props.Login.addAggregateList || []}\r\n                                onAggregateChange={this.onAggregateChange}\r\n                                deleteAggregate={this.deleteAggregate}\r\n                                addOrderby={this.addOrderby}\r\n                                addOrderbyList={this.props.Login.addOrderbyList || []}\r\n                                onOrderbyChange={this.onOrderbyChange}\r\n                                deleteOrderby={this.deleteOrderby}\r\n                                addGroup={this.addGroup}\r\n                                addGroupList={this.props.Login.addGroupList || []}\r\n                                copySQLQuery={this.copySQLQuery}\r\n                                onFilterComboChange={this.onFilterComboChange}\r\n                                selectFields={this.props.Login.selectFields || []}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={\"create\"}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_PARAMETERMAPPING\" })}\r\n                        onExecuteClick={this.saveParam}\r\n                        showExecute={true}\r\n                        showParam={true}\r\n                        hideSave={true}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            <QueryBuilderParamter\r\n                                onParamInputChange={this.onParamInputChange}\r\n                                selectedQueryBuilder={this.props.Login.masterData.selectedQueryBuilder || []}\r\n                                viewMasterData={this.props.Login.viewMasterData || []}\r\n                                comboData={this.props.Login.comboData || []}\r\n                                onParamComboChange={this.onParamComboChange}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n    copySQLQuery = (type) => {\r\n        if (type === 2) {\r\n\r\n            let query = this.state.selectedRecord[\"squerywithparam\"] || \"\";\r\n\r\n            if (this.state.selectedRecord[\"sdefaultvalue\"] && this.state.selectedRecord[\"sdefaultvalue\"]) {\r\n                this.state.selectedRecord[\"sdefaultvalue\"].forEach((dataItem, index) => {\r\n\r\n                    if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.valuemember + \"$P\");\r\n                    }\r\n                    else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                        dataItem.items.sforeigncolumnname !== \"\") {\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                    } else {\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.columnname + \"$P\");\r\n                    }\r\n                })\r\n            }\r\n            if (query.includes(\"$L\")) {\r\n                query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n            navigator.clipboard.writeText(query);\r\n\r\n        } else {\r\n            let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"] || \"\";\r\n\r\n            if (this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"] && this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value) {\r\n                const sdefaultValue = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"sdefaultvalue\"].value);\r\n\r\n                sdefaultValue.sdefaultvalue.forEach((dataItem, index) => {\r\n                    if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.valuemember + \"$P\");\r\n                    }\r\n                    else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                        dataItem.items.sforeigncolumnname !== \"\") {\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.sforeigncolumnname + \"$P\");\r\n                    } else {\r\n                        query = query.replace(\"$p\" + (index + 1), \"P$\" + dataItem.items.columnname + \"$P\");\r\n                    }\r\n                })\r\n            }\r\n            if (query.includes(\"$L\")) {\r\n                query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n            navigator.clipboard.writeText(query);\r\n        }\r\n\r\n\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"querybuilder\",\r\n            methodUrl: \"QueryBuilder\",\r\n            // displayName: \"IDS_DASHBOARDTYPES\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    saveParam = (saveType, formRef) => {\r\n\r\n        let query = this.props.Login.masterData.selectedQueryBuilder[\"squerywithparam\"];\r\n\r\n        this.props.Login.comboData.sdefaultvalue.forEach((dataItem, index) => {\r\n\r\n            if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                let sqryData = \"\";\r\n                if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                    dataItem.value.forEach(item => {\r\n                        sqryData += item.value + \",\";\r\n                    })\r\n\r\n                    query = query.replace(\"$p\" + (index + 1), sqryData.trimEnd(\",\"));\r\n                } else {\r\n                    query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\r\n                }\r\n\r\n\r\n            } else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                dataItem.items.sforeigncolumnname !== \"\") {\r\n\r\n                query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\r\n\r\n            } else if (dataItem.items.columntype === ColumnType.DATATIME\r\n                || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true\r\n                && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\r\n\r\n                query = query.replace(\"$p\" + (index + 1), \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\r\n\r\n\r\n            } else {\r\n                query = query.replace(\"$p\" + (index + 1), \"'\" + dataItem.value + \"'\");\r\n            }\r\n        })\r\n        if (query.includes(\"$L\")) {\r\n            query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n        }\r\n        const jsonData = JSON.parse(this.props.Login.masterData.selectedQueryBuilder[\"jsondata\"].value);\r\n        const inputParam = {\r\n            sgeneratedquery: query,\r\n            columnList: jsonData[\"columnList\"],\r\n            userInfo: this.props.Login.userInfo,\r\n\r\n        }\r\n        let inputData = [];\r\n        // inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        // inputData[\"queryBuilder\"] = { \"nstatus\": 1 };\r\n        // inputData[\"queryBuilder\"][\"nquerybuildercode\"] = this.props.Login.masterData.selectedQueryBuilder[\"nquerybuildercode\"]\r\n        // inputData[\"queryBuilder\"][\"sdefaultvalue\"] = comboData;\r\n\r\n        this.props.updateQueryBuilder(inputParam, inputData, this.props.Login.masterData);\r\n\r\n    }\r\n    save = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        if (selectedRecord[\"querybuildername\"] && selectedRecord[\"querybuildername\"].length > 0) {\r\n            if (selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0) {\r\n\r\n                let inputData = [];\r\n                let jsondata = {}\r\n                let postParam = undefined;\r\n\r\n                if (selectedRecord[\"sdefaultvalue\"].length > 0) {\r\n                    selectedRecord[\"sdefaultvalue\"].forEach((item, i) => {\r\n                        if (item.symbolObject.items.symbolType === 4) {\r\n                            delete item.symbolObject.items[\"replacewith\"];\r\n                        }\r\n                    })\r\n                }\r\n\r\n                postParam = { inputListName: \"QueryBuilder\", selectedObject: \"selectedQueryBuilder\", primaryKeyField: \"nquerybuildercode\" };\r\n\r\n                inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                inputData[\"queryBuilder\"] = { \"nstatus\": 1 };\r\n\r\n                jsondata[\"groupList\"] = selectedRecord[\"groupList\"];\r\n                jsondata[\"aggregate\"] = selectedRecord[\"aggregate\"];\r\n                jsondata[\"orderby\"] = selectedRecord[\"orderby\"];\r\n                jsondata[\"columnList\"] = this.props.Login.viewColumnListByRule; //selectedRecord[\"filtercolumns\"];\r\n                inputData[\"sgeneratedquery\"] = selectedRecord[\"sgeneratedquery\"];\r\n\r\n\r\n                inputData[\"queryBuilder\"][\"squerybuildername\"] = selectedRecord[\"querybuildername\"];\r\n                inputData[\"queryBuilder\"][\"nquerytype\"] = 1;\r\n                inputData[\"queryBuilder\"][\"sviewname\"] = selectedRecord[\"sviewname\"].label;\r\n                inputData[\"queryBuilder\"][\"squerywithparam\"] = selectedRecord[\"squerywithparam\"];\r\n                inputData[\"queryBuilder\"][\"squerywithvalue\"] = selectedRecord[\"sgeneratedquery\"];\r\n                inputData[\"queryBuilder\"][\"sdefaultvalue\"] = { sdefaultvalue: selectedRecord[\"sdefaultvalue\"] };\r\n                inputData[\"queryBuilder\"][\"jsondata\"] = jsondata;\r\n\r\n                const inputParam = {\r\n                    classUrl: \"querybuilder\",\r\n                    methodUrl: \"QueryBuilder\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef, postParam\r\n                }\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\");\r\n                // this.props.createQueryBuilder(inputData, this.props.Login);\r\n            }\r\n            else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCOLUMNS\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_INVALIDQUERYBUILDERNAME\" }));\r\n        }\r\n    }\r\n    deleteQB = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        // let postParam = {\r\n        //     inputListName: \"QueryBuilder\",\r\n        //     selectedObject: \"selectedDashBoardTypes\",\r\n        //     primaryKeyField: \"ndashboardtypecode\",\r\n        //     primaryKeyValue: this.props.Login.masterData.selectedDashBoardTypes.ndashboardtypecode,\r\n        //     fetchUrl: \"dashboardtypes/getAllSelectionDashBoardTypes\",\r\n        //     fecthInputObject: { userinfo: this.props.Login.userInfo }\r\n        // };\r\n        inputData[\"queryBuilder\"] = this.props.Login.masterData.selectedQueryBuilder;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n\r\n        const inputParam = {\r\n            methodUrl: \"QueryBuilder\",\r\n            classUrl: \"querybuilder\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n\r\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n\r\n    }\r\n\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteQB(\"delete\", ncontrolCode));\r\n    };\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        this.searchRef.current.value = \"\";\r\n\r\n        if (this.state.selectedcombo[\"nquerytypecode\"]) {\r\n            console.log(this.state.selectedcombo[\"nquerytypecode\"].value);\r\n        }\r\n        const nquerytypecode = this.state.selectedcombo[\"nquerytypecode\"] ?\r\n            this.state.selectedcombo[\"nquerytypecode\"].value : this.props.Login.masterData.queryTypeCode;\r\n\r\n        this.props.getQueryBuilder(nquerytypecode, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onParamComboChange = (data, index) => {\r\n\r\n        let comboData = this.props.Login.comboData;\r\n        comboData[\"sdefaultvalue\"][index].value = data;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                comboData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onParamInputChange = (event, type, index, dataItem) => {\r\n        let comboData = this.props.Login.comboData;\r\n        if (type === 2) {\r\n            const inputValue = event.target.value;\r\n            if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n            }\r\n        }\r\n        else if (type === 1) {\r\n            comboData[\"sdefaultvalue\"][index].value = event.target.checked;\r\n        }\r\n        else if (type === 3) {\r\n\r\n            if (dataItem.symbolObject.items.symbolType === 4) {\r\n                // const symbolObject = stringOperatorData.filter(data => data.value === dataItem.symbolObject.value);\r\n                let symbolObject = \"\"\r\n                if (dataItem.symbolObject.value === 7 || dataItem.symbolObject.value === 8) {\r\n                    symbolObject = \"'%_%'\";\r\n                } else if (dataItem.symbolObject.value === 9) {\r\n                    symbolObject = \"'_%'\";\r\n                } else {\r\n                    symbolObject = \"'%_'\";\r\n                }\r\n                const index1 = symbolObject.indexOf('_');\r\n                let inputname = undefined\r\n\r\n                inputname = symbolObject.substr(0, index1) + event.target.value + symbolObject.substr(index1 + 1);\r\n                inputname = inputname.slice(1, inputname.length - 1);\r\n\r\n                comboData[\"sdefaultvalue\"][index].value = inputname;\r\n                comboData[\"sdefaultvalue\"][index].showInputValue = event.target.value;\r\n            } else {\r\n                comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n            }\r\n        }\r\n        else {\r\n\r\n\r\n            comboData[\"sdefaultvalue\"][index].value = event.target.value;\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                comboData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleFilterDateChange = (dateName, dateValue, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[\"groupList\"][groupIndex][index][dateName] = dateValue;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedcombo = this.state.selectedcombo || {};\r\n        selectedcombo[fieldName] = comboData;\r\n\r\n        this.setState({ selectedcombo });\r\n    }\r\n\r\n    onViewComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        const inputParam = {\r\n            sviewname: comboData.value,\r\n            selectedRecord,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        this.props.getViewColumns(inputParam);\r\n    }\r\n\r\n    onAggregateChange = (comboData, fieldName, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"aggregate\"] = selectedRecord[\"aggregate\"] || [];\r\n        if (fieldName === \"columnname\") {\r\n            selectedRecord[\"aggregate\"][index] = { \"columnname\": comboData, \"aggfunctionname\": \"\" };\r\n        } else {\r\n            if (selectedRecord[\"aggregate\"][index][\"columnname\"] && selectedRecord[\"aggregate\"][index][\"columnname\"] !== undefined) {\r\n                selectedRecord[\"aggregate\"][index][\"aggfunctionname\"] = comboData;\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onRuleChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        this.clearSelectedRule(selectedRecord, index);\r\n        const sqlQuery = this.props.Login.sqlQuery;\r\n        const oldselectedRecord = selectedRecord;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        const tableData = comboData.items;\r\n        const mastertablename = tableData.mastertablename;\r\n\r\n        if (comboData.items.needmasterdata && mastertablename) {\r\n            const inputParam = {\r\n                userinfo: this.props.Login.userInfo,\r\n                data: {\r\n                    nflag: 2,\r\n                    mastertablename,\r\n                    valuemember: tableData.valuemember,\r\n                    displaymember: tableData.displaymember,\r\n                },\r\n                selectedRecord,\r\n                groupIndex,\r\n                index,\r\n                optionId: tableData.valuemember\r\n            };\r\n            this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\r\n        } else if (comboData.items && comboData.items.columntype === ColumnType.COMBO) {\r\n            if (sqlQuery) {\r\n                const inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    stablename: comboData.items.foriegntablename,\r\n                    scolumnname: comboData.value,\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index\r\n                };\r\n                this.props.getForeignTable(inputParam, 'column');\r\n            } else {\r\n                selectedRecord[\"groupList\"][groupIndex][index][`${comboData.items.sforeigncolumnname}`] = \"\";\r\n                const inputParam = {\r\n                    data: { ...comboData.items, nflag: 1 },\r\n                    userinfo: this.props.Login.userInfo,\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index,\r\n                    optionId: comboData.items.sforeigncolumnname\r\n                };\r\n                this.props.getMasterData(inputParam, this.props.Login.viewMasterListByRule);\r\n            }\r\n        } else if (comboData.items && comboData.items.columntype === ColumnType.TEXTINPUT\r\n            && oldselectedRecord[\"groupList\"][groupIndex][index][fieldName].items.columntype !== ColumnType.TEXTINPUT) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"] = \"\";\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    onOrderbyChange = (comboData, fieldName, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"orderby\"] = selectedRecord[\"orderby\"] || [];\r\n        if (fieldName === \"columnname\") {\r\n            selectedRecord[\"orderby\"][index] = { \"columnname\": comboData, \"ordertype\": \"\" };\r\n        } else {\r\n            if (selectedRecord[\"orderby\"][index][\"columnname\"] && selectedRecord[\"orderby\"][index][\"columnname\"] !== undefined) {\r\n                selectedRecord[\"orderby\"][index][\"ordertype\"] = comboData;\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    deleteOrderby = (index) => {\r\n        let addOrderbyList = this.props.Login.addOrderbyList;\r\n        let selectedRecord = this.state.selectedRecord;\r\n\r\n        selectedRecord[\"orderby\"].splice(index, 1);\r\n        addOrderbyList.splice(index, 1);\r\n        addOrderbyList.forEach((data, index) => {\r\n            addOrderbyList[index] = index;\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addOrderbyList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    addOrderby = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            const addOrderbyList = this.props.Login.addOrderbyList || [];\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const arrayLength = addOrderbyList.length;\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            addOrderbyList[arrayLength] = arrayLength;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addOrderbyList,\r\n                    viewColumnListByRule\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        }\r\n    }\r\n    deleteAggregate = (index) => {\r\n        let addAggregateList = this.props.Login.addAggregateList;\r\n        let selectedRecord = this.state.selectedRecord;\r\n\r\n        selectedRecord[\"aggregate\"].splice(index, 1);\r\n        addAggregateList.splice(index, 1);\r\n        addAggregateList.forEach((data, index) => {\r\n            addAggregateList[index] = index;\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addAggregateList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        // this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n    addAggregate = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\r\n            const addAggregateList = this.props.Login.addAggregateList || [];\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const arrayLength = addAggregateList.length;\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            addAggregateList[arrayLength] = arrayLength;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addAggregateList,\r\n                    viewColumnListByRule\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            // } else {\r\n            //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTGROUPBY\" }));\r\n            // }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        }\r\n    }\r\n    addRule = (type, groupIndex) => {\r\n        const { selectedRecord } = this.state;\r\n        if (type === \"sql\") {\r\n            // let addRuleList = this.props.Login.addRuleList || [];\r\n            // if (addRuleList.length > 0) {\r\n            //     const arrayLength = addRuleList.length;\r\n            //     addRuleList[arrayLength] = arrayLength;\r\n            //     selectedRecord[\"button_and_\" + arrayLength] = true;\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             addRuleList,\r\n            //             selectedRecord\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // } else {\r\n            //     addRuleList[0] = 0;\r\n            //     this.props.getDatabaseTables(this.props.Login.userInfo, this.props.Login.sqlQuery, { addRuleList, selectedRecord: {} });\r\n            // }\r\n\r\n        } else {\r\n            if (selectedRecord[\"sviewname\"]) {\r\n                let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n\r\n\r\n                // const addRuleList = this.props.Login.addRuleList || [];\r\n                // const arrayLength = addRuleList.length;\r\n                // addRuleList[arrayLength] = arrayLength;\r\n\r\n\r\n                const addGroupList = this.props.Login.addGroupList || [];\r\n                const arrayLength = addGroupList[groupIndex];\r\n                addGroupList[groupIndex] = arrayLength + 1;\r\n\r\n                // const addGroupList = {...this.props.Login.addGroupList, [groupIndex]: addRuleList};\r\n\r\n                selectedRecord[\"groupList\"][groupIndex][arrayLength] = {};\r\n\r\n                // viewColumnListByRule[groupIndex][arrayLength] = this.props.Login.viewColumnList;\r\n                viewColumnListByRule = this.props.Login.viewColumnList;\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        addGroupList,\r\n                        viewColumnListByRule\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    addGroup = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        var sql1 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'inner',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            }]\r\n        });\r\n        console.log(sql1.query);\r\n\r\n        var sql21 = jsonSql.build({\r\n            table: 'testmaster',\r\n            alias: 'tm',\r\n            join: [{\r\n                type: 'inner',\r\n                table: 'testcategory',\r\n                alias: 'tc',\r\n                on: { 'tm.ntestcategorycode': 'tc.ntestcategorycode' }\r\n            },\r\n            {\r\n                type: 'right outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: { 'tm.naccredited': 'ts.ntranscode' }\r\n            },\r\n            {\r\n                type: 'left outer',\r\n                table: 'transactionstatus',\r\n                alias: 'ts',\r\n                on: [{ 'tm.naccredited': 'ts.ntranscode' }, { 'tc.naccredited': 'ts.ntranscode' }]\r\n            }],\r\n            condition: [\r\n                { a: { $gt: 1 } },\r\n                { b: { $lt: 10 } }\r\n            ],\r\n            group: ['a', 'b']\r\n        });\r\n        console.log(sql21.query);\r\n\r\n        if (selectedRecord[\"sviewname\"]) {\r\n            let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n            const addGroupList = this.props.Login.addGroupList || [];\r\n            const arrayLength = addGroupList.length;\r\n            addGroupList[arrayLength] = 1;\r\n            // viewColumnListByRule[arrayLength] = [];\r\n            // viewColumnListByRule[arrayLength].push(this.props.Login.viewColumnList);\r\n            viewColumnListByRule = this.props.Login.viewColumnList;\r\n            if (arrayLength === 0) {\r\n                selectedRecord[\"groupList\"] = [];\r\n                selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\r\n            }\r\n            selectedRecord[\"groupList\"][arrayLength] = [];\r\n            selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\r\n            selectedRecord[\"groupList\"][arrayLength][0] = {};\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    addGroupList,\r\n                    viewColumnListByRule,\r\n                    selectedRecord\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTVIEW\" }));\r\n        }\r\n    }\r\n    getDatabaseTables = () => {\r\n        const sqlQuery = false;\r\n        this.setState({ selectedRecord: {} });\r\n        this.props.getDatabaseTables(this.props.Login.userInfo, sqlQuery, {\r\n            addRuleList: [], addGroupList: [],\r\n            addAggregateList: [], addOrderbyList: []\r\n        });\r\n\r\n    }\r\n\r\n    closePortalModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onExecuteRule = () => {\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"sgeneratedquery\"]) {\r\n\r\n\r\n            let query = selectedRecord[\"squerywithparam\"];\r\n\r\n            selectedRecord[\"sdefaultvalue\"].forEach((dataItem, index) => {\r\n\r\n                if (dataItem.items.needmasterdata && dataItem.items.mastertablename) {\r\n\r\n                    let sqryData = \"\";\r\n                    if (dataItem.symbolObject.items[\"ismulti\"] && dataItem.symbolObject.items[\"ismulti\"] === true) {\r\n\r\n                        dataItem.value.forEach(item => {\r\n                            sqryData += item.value + \",\";\r\n                        })\r\n\r\n                        query = query.replace(\"$p\" + (index + 1), sqryData.trimEnd(\",\"));\r\n                    } else {\r\n                        query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\r\n                    }\r\n\r\n\r\n                } else if (dataItem.items.sforeigncolumnname !== undefined &&\r\n                    dataItem.items.sforeigncolumnname !== \"\") {\r\n\r\n                    query = query.replace(\"$p\" + (index + 1), dataItem.value.value);\r\n\r\n                } else if (dataItem.items.columntype === ColumnType.DATATIME\r\n                    || dataItem.items.columntype === ColumnType.DATE && dataItem.symbolObject.items.isInputVisible === true\r\n                    && (dataItem.symbolObject.items.symbolType === 5 || dataItem.symbolObject.items.symbolType === 1)) {\r\n\r\n                    query = query.replace(\"$p\" + (index + 1), \"'\" + format(new Date(dataItem.value), \"yyyy-MM-dd HH:mm:ss.SS\") + \"'\");\r\n\r\n\r\n                } else {\r\n                    query = query.replace(\"$p\" + (index + 1), \"'\" + dataItem.value + \"'\");\r\n                }\r\n\r\n            });\r\n            if (query.includes(\"$L\")) {\r\n                query = query.replace(\"$L\", \"'\" + this.props.Login.userInfo.slanguagetypecode + \"'\");\r\n            }\r\n            const inputParam = {\r\n                sgeneratedquery: query,//selectedRecord[\"sgeneratedquery\"],\r\n                selectedRecord,\r\n                columnList: this.props.Login.viewColumnListByRule, //selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"] || this.props.Login.viewColumnListByRule,\r\n                userInfo: this.props.Login.userInfo,\r\n\r\n            }\r\n            this.props.executeQuery(inputParam);\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_QUERYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n\r\n    deleteRule = (groupIndex, index) => {\r\n        let addGroupList = this.props.Login.addGroupList;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        addGroupList[groupIndex] = addGroupList[groupIndex] - 1;\r\n        // selectedRecord[`button_and_${index}`] && delete selectedRecord[`button_and_${index}`];\r\n        // selectedRecord[`button_or_${index}`] && delete selectedRecord[`button_or_${index}`];\r\n        // selectedRecord[`notoperator_${index}`] && delete selectedRecord[`notoperator_${index}`];\r\n\r\n        if (addGroupList[groupIndex] === 0) {\r\n            addGroupList.splice(groupIndex, 1);\r\n            selectedRecord[\"groupList\"].splice(index, 1);\r\n        } else {\r\n            selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\r\n        }\r\n\r\n        // this.clearSelectedRule(selectedRecord, index);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addGroupList, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    clearSelectedRule(selectedRecord, index) {\r\n        selectedRecord[\"sinputname_\" + index] && delete selectedRecord[\"sinputname_\" + index];\r\n        selectedRecord[\"ssymbolname_\" + index] && delete selectedRecord[\"ssymbolname_\" + index];\r\n        selectedRecord[\"snumericinput_\" + index] && delete selectedRecord[\"snumericinput_\" + index];\r\n        selectedRecord[\"columnname_\" + index] && delete selectedRecord[\"columnname_\" + index];\r\n        selectedRecord[\"snumericinputtwo_\" + index] && delete selectedRecord[\"snumericinputtwo_\" + index];\r\n        selectedRecord[\"dateinput_\" + index] && delete selectedRecord[\"dateinput_\" + index];\r\n        selectedRecord[\"dateinputtwo_\" + index] && delete selectedRecord[\"dateinputtwo_\" + index];\r\n    }\r\n\r\n    clearRule = () => {\r\n        const sviewname = this.state.selectedRecord.sviewname || \"\";\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addRuleList: [], selectedRecord: { sviewname }, sqlQuery: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    resetRule = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addRuleList: [], addGroupList: [],\r\n                addAggregateList: [], addOrderbyList: []\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({\r\n            selectedRecord: {}\r\n        });\r\n\r\n    }\r\n\r\n    onSymbolChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        const items = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items;\r\n        selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"][\"items\"][\"needmasterdata\"] = items.needmasterdata !== undefined ? comboData.items.needmasterdata : false;\r\n        if (comboData.items.symbolType === 2 || comboData.items.symbolType === 3) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][items[\"valuemember\"]] && delete selectedRecord[\"groupList\"][groupIndex][index][items[\"valuemember\"]];\r\n            selectedRecord[\"groupList\"][groupIndex][index][items[\"foreigncolumnname\"]] && delete selectedRecord[\"groupList\"][groupIndex][index][items[\"foreigncolumnname\"]];\r\n            selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];\r\n        } else if (comboData.items.symbolType === 5 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType !== 5) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];\r\n            selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"] && delete selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];\r\n        } else if ((comboData.items.symbolType === 6 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 1)\r\n            || (comboData.items.symbolType === 1 && oldSelectedRecord.items && oldSelectedRecord.items.symbolType === 6)) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][`${items.sforeigncolumnname}`] && delete selectedRecord[\"groupList\"][groupIndex][index][`${items.sforeigncolumnname}`];\r\n            selectedRecord[\"groupList\"][groupIndex][index][`${items.valuemember}`] && delete selectedRecord[\"groupList\"][groupIndex][index][`${items.valuemember}`];\r\n        } else {\r\n\r\n        }\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onInputChange = (event, type, groupIndex, index) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        if (type === 2) {\r\n            const inputValue = event.target.value;\r\n            if (/^-?\\d*?\\.?\\d*?$/.test(inputValue) || inputValue === \"\") {\r\n                selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\r\n            }\r\n\r\n        }\r\n        else if (type === 1) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.checked;\r\n        }\r\n        else if (type === 3) {\r\n            selectedRecord[\"groupList\"][groupIndex][index][event.target.name] = event.target.value;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    generateFilterQuery = (selectedRecord) => {\r\n\r\n        const addGroupList = this.props.Login.addGroupList;\r\n        jsonSql.setDialect('mssql');\r\n        let databaseCondition = [];\r\n        let displayCondition = [];\r\n        let databaseConditionParam = [];\r\n        let fieldWithValue = [];\r\n        let notOperator = false;\r\n        if (addGroupList && addGroupList.length > 0) {\r\n\r\n            let groupConditionDatabase = [];\r\n            let groupConditionDatabaseParam = [];\r\n            let groupConditionDisplay = [];\r\n\r\n\r\n            addGroupList.forEach((items, groupIndex) => {\r\n                let symbolObject = {};\r\n\r\n\r\n                databaseCondition = [];\r\n                databaseConditionParam = [];\r\n                displayCondition = [];\r\n\r\n                [...Array(items)].map((data, index) => {\r\n\r\n                    if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"]) {\r\n                        symbolObject = selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"] && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items && selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"].items || {};\r\n\r\n                        const current_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\r\n                        const current_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`];\r\n                        const next_button_and = selectedRecord[\"groupList\"][groupIndex][`button_and`];\r\n                        const next_button_or = selectedRecord[\"groupList\"][groupIndex][`button_or`] ? selectedRecord[\"groupList\"][groupIndex][`button_or`] : false;\r\n\r\n                        let inputname = selectedRecord[\"groupList\"][groupIndex][index][\"sinputname\"];\r\n                        const symbolname = symbolObject.symbol;\r\n                        let numericinput = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinput\"];\r\n                        const columnLabel = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].label;\r\n                        const columnValue = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].value;\r\n                        const snumericinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"snumericinputtwo\"];\r\n                        let columnName = undefined;\r\n                        const needmasterdata = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata ?\r\n                            selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata : false;\r\n\r\n                        if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.needmasterdata) {\r\n                            columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember;\r\n                        } else if (selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname) {\r\n                            columnName = selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.sforeigncolumnname;\r\n                        }\r\n                        const dateinput = selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinput\"]), \"yyyy-MM-dd HH:mm:ss.SS\")//selectedRecord[\"dateinput_\" + index];\r\n                        const dateinputtwo = selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"] && format(new Date(selectedRecord[\"groupList\"][groupIndex][index][\"dateinputtwo\"]), \"yyyy-MM-dd HH:mm:ss.SS\")//selectedRecord[\"dateinputtwo_\" + index];\r\n\r\n                        if (symbolObject && inputname) {\r\n                            if (symbolObject.symbolType === 4) {\r\n                                const showInputValue = inputname;\r\n                                const index1 = symbolObject.replacewith.indexOf('_');\r\n                                inputname = symbolObject.replacewith.substr(0, index1) + inputname + symbolObject.replacewith.substr(index1 + 1);\r\n                                inputname = inputname.slice(1, inputname.length - 1);\r\n\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: inputname } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: inputname, showInputValue: showInputValue, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: inputname } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: inputname } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: inputname, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        } else if (symbolObject && numericinput && symbolObject.symbolType !== 5) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: numericinput } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: numericinput } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: numericinput } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: numericinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && symbolObject.symbolType === 2\r\n                            || symbolObject && symbolObject.symbolType === 3) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: '' } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: '' } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: '' } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: '', symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && numericinput && snumericinputtwo && symbolObject.symbolType === 5) {\r\n                            if (symbolObject.symbol === \"\") {\r\n                                const tempValue = [{ [columnValue]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                { [columnValue]: { [symbolObject.replacewith[1]]: snumericinputtwo } }];\r\n                                const tempValue1 = [{ [columnLabel]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                { [columnLabel]: { [symbolObject.replacewith[1]]: snumericinputtwo } }];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n\r\n                            } else {\r\n                                const tempValue = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnValue]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                        { [columnValue]: { [symbolObject.replacewith[1]]: snumericinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                const tempValue1 = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnLabel]: { [symbolObject.replacewith[0]]: +numericinput } },\r\n                                        { [columnLabel]: { [symbolObject.replacewith[1]]: snumericinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                            }\r\n                        } else if (symbolObject && symbolObject.symbolType === 6 && columnName && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\r\n\r\n                            const data = selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item.value }) || [];\r\n                            const data1 = selectedRecord[\"groupList\"][groupIndex][index][columnName] && selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item.label }) || [];\r\n                            if (data.length > 0) {\r\n                                if (needmasterdata) {\r\n                                    databaseCondition.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: { [symbolname]: data } });\r\n                                    databaseConditionParam.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: { [symbolname]: data } });\r\n                                    fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item }), symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                } else {\r\n                                    databaseCondition.push({ [columnValue]: { [symbolname]: data } });\r\n                                    databaseConditionParam.push({ [columnValue]: { [symbolname]: data } });\r\n                                    fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName].map(item => { return item }), symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                }\r\n                            }\r\n                            if (data1.length > 0) {\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: data1 } });\r\n                            }\r\n                            // }\r\n                        } else if (symbolObject && columnName && symbolObject.isInputVisible && selectedRecord[\"groupList\"][groupIndex][index][columnName]) {\r\n                            if (needmasterdata) {\r\n                                databaseCondition.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                databaseConditionParam.push({ [selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                fieldWithValue.push({ columnName: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items.valuemember, value: selectedRecord[\"groupList\"][groupIndex][index][columnName], symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                databaseCondition.push({ [columnValue]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].value } });\r\n                                displayCondition.push({ [columnLabel]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                databaseConditionParam.push({ [columnValue]: { [symbolname]: selectedRecord[\"groupList\"][groupIndex][index][columnName].label } });\r\n                                fieldWithValue.push({ columnName: columnValue, value: selectedRecord[\"groupList\"][groupIndex][index][columnName], symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        } else if (symbolObject && dateinput && symbolObject.symbolType !== 5) {\r\n                            databaseCondition.push({ [columnValue]: { [symbolname]: dateinput } });\r\n                            displayCondition.push({ [columnLabel]: { [symbolname]: dateinput } });\r\n                            databaseConditionParam.push({ [columnValue]: { [symbolname]: dateinput } });\r\n                            fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                        } else if (symbolObject && dateinput && dateinputtwo && symbolObject.symbolType === 5) {\r\n                            if (symbolObject.symbol === \"\") {\r\n                                const tempValue = [{ [columnValue]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                { [columnValue]: { [symbolObject.replacewith[1]]: dateinputtwo } }];\r\n                                const tempValue1 = [{ [columnLabel]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                { [columnLabel]: { [symbolObject.replacewith[1]]: dateinputtwo } }];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinputtwo, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            } else {\r\n                                const tempValue = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnValue]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                        { [columnValue]: { [symbolObject.replacewith[1]]: dateinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                const tempValue1 = [\r\n                                    {\r\n                                        [symbolObject.symbol]: [{ [columnLabel]: { [symbolObject.replacewith[0]]: dateinput } },\r\n                                        { [columnLabel]: { [symbolObject.replacewith[1]]: dateinputtwo } }]\r\n                                    }\r\n                                ];\r\n                                databaseCondition.push(tempValue);\r\n                                displayCondition.push(tempValue1);\r\n                                databaseConditionParam.push(tempValue);\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinput, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                                fieldWithValue.push({ columnName: columnValue, value: dateinputtwo, symbolObject: selectedRecord[\"groupList\"][groupIndex][index][\"ssymbolname\"], items: selectedRecord[\"groupList\"][groupIndex][index][\"columnname\"].items });\r\n                            }\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        this.groupByFunction(selectedRecord, databaseCondition, displayCondition);\r\n                    }\r\n                });\r\n\r\n                if (selectedRecord[\"groupList\"][groupIndex][`button_and`] === true) {\r\n\r\n                    if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\r\n                        groupConditionDisplay.push([{ $not: [{ $and: [...displayCondition] }] }]);\r\n                        groupConditionDatabase.push([{ $not: [{ $and: [...databaseCondition] }] }]);\r\n                        groupConditionDatabaseParam.push([{ $not: [{ $and: [...databaseConditionParam] }] }]);\r\n                    } else {\r\n                        groupConditionDisplay.push([{ $and: [...displayCondition] }]);\r\n                        groupConditionDatabase.push([{ $and: [...databaseCondition] }]);\r\n                        groupConditionDatabaseParam.push([{ $and: [...databaseConditionParam] }]);\r\n                    }\r\n\r\n                } else if (selectedRecord[\"groupList\"][groupIndex][`button_or`] === true) {\r\n\r\n                    if (selectedRecord[\"groupList\"][groupIndex][`button_not`] === true) {\r\n                        groupConditionDisplay.push([{ $not: [{ $or: [...displayCondition] }] }]);\r\n                        groupConditionDatabase.push([{ $not: [{ $or: [...databaseCondition] }] }]);\r\n                        groupConditionDatabaseParam.push([{ $not: [{ $or: [...databaseConditionParam] }] }]);\r\n                    }\r\n                    else {\r\n                        groupConditionDisplay.push([{ $or: [...displayCondition] }]);\r\n                        groupConditionDatabase.push([{ $or: [...databaseCondition] }]);\r\n                        groupConditionDatabaseParam.push([{ $or: [...databaseConditionParam] }]);\r\n                    }\r\n\r\n                } else {\r\n                    groupConditionDisplay.push([{ ...displayCondition }]);\r\n                    groupConditionDatabase.push([{ ...databaseCondition }]);\r\n                    groupConditionDatabaseParam.push([{ ...databaseConditionParam }]);\r\n                }\r\n\r\n\r\n                let finalConditionDisplay = undefined;\r\n                let finalConditionDatabase = undefined;\r\n                let finalConditionDatabaseParam = undefined;\r\n                if (addGroupList.length - 1 === 0) {\r\n\r\n\r\n                    finalConditionDisplay = [...groupConditionDisplay];\r\n                    finalConditionDatabase = [...groupConditionDatabase];\r\n                    finalConditionDatabaseParam = [...groupConditionDatabaseParam];\r\n\r\n\r\n                } else if (addGroupList.length - 1 === groupIndex) {\r\n                    if (selectedRecord[\"groupList\"][0][`button_and`] === true) {\r\n\r\n\r\n                        finalConditionDisplay = [{ $and: [...groupConditionDisplay] }];\r\n                        finalConditionDatabase = [{ $and: [...groupConditionDatabase] }];\r\n                        finalConditionDatabaseParam = [{ $and: [...groupConditionDatabaseParam] }];\r\n\r\n\r\n                    } else if (selectedRecord[\"groupList\"][0][`button_or`] === true) {\r\n\r\n\r\n                        finalConditionDisplay = [{ $or: [...groupConditionDisplay] }];\r\n                        finalConditionDatabase = [{ $or: [...groupConditionDatabase] }];\r\n                        finalConditionDatabaseParam = [{ $or: [...groupConditionDatabaseParam] }];\r\n\r\n\r\n                    } else {\r\n\r\n\r\n                        finalConditionDisplay = [{ ...groupConditionDisplay }];\r\n                        finalConditionDatabase = [{ ...groupConditionDatabase }];\r\n                        finalConditionDatabaseParam = [{ ...groupConditionDatabaseParam }];\r\n\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                if (this.props.Login.sqlQuery) {\r\n                    const databaseSQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"stablename_0\"].value,\r\n                        condition: databaseCondition\r\n                    });\r\n                    const displaySQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"stablename_0\"].label,\r\n                        condition: displayCondition\r\n                    });\r\n                    selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\r\n                    selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\r\n                } else {\r\n\r\n\r\n                    // const fields = this.props.Login.viewColumnList;\r\n                    const dbFields = selectedRecord[\"filtercolumns\"];\r\n\r\n                    let fieldList = [];\r\n                    let dbfieldList = [];\r\n                    let groupByAggregateFields = [];\r\n                    let groupByFields = [];\r\n\r\n                    let groupByAggregateFieldsDisplay = [];\r\n                    let groupByFieldsDisplay = [];\r\n\r\n                    let orderByDefault = [];\r\n                    let orderByCustom = {};\r\n\r\n                    let orderByDefaultDisplay = [];\r\n                    let orderByCustomDisplay = {};\r\n\r\n                    selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n                        if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\r\n                            orderByCustom[data[\"columnname\"].items.columnname] = -1\r\n                            orderByCustomDisplay[data[\"columnname\"].label] = -1\r\n                        } else {\r\n                            orderByCustom[data[\"columnname\"].items.columnname] = 1\r\n                            orderByCustomDisplay[data[\"columnname\"].label] = 1\r\n                        }\r\n                    })\r\n                    if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\r\n                        selectedRecord[\"aggregate\"].forEach(data => {\r\n                            if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\r\n                                groupByAggregateFields.push({\r\n                                    func: {\r\n                                        name: data[\"aggfunctionname\"].label,\r\n                                        args: [{ field: data[\"columnname\"].items.columnname }]\r\n\r\n                                    }, alias: data[\"columnname\"].items.columnname\r\n                                })\r\n                                groupByAggregateFieldsDisplay.push({\r\n                                    func: {\r\n                                        name: data[\"aggfunctionname\"].label,\r\n                                        args: [{ field: data[\"columnname\"].label }]\r\n\r\n                                    }\r\n                                })\r\n\r\n                            } else {\r\n                                groupByAggregateFields.push(data[\"columnname\"].items.columnname);\r\n                                groupByFields.push(data[\"columnname\"].items.columnname);\r\n                                groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\r\n                                groupByFieldsDisplay.push(data[\"columnname\"].label);\r\n                            }\r\n                        })\r\n                    }\r\n                    // fields.forEach(item => {\r\n                    //     fieldList.push(item.label);\r\n                    // })\r\n                    dbFields.forEach(item => {\r\n                        if (item.items.languagecode === true) {\r\n                            // let languageCode = this.props.Login.userInfo.slanguagetypecode ? this.props.Login.userInfo.slanguagetypecode : \"en-US\";\r\n                            let fieldValue = item.value.replace(item.value, item.value + \"->> $L as \" + item.value);\r\n                            dbfieldList.push(fieldValue);\r\n\r\n                        } else {\r\n                            dbfieldList.push(item.value);\r\n                        }\r\n                        fieldList.push(item.label);\r\n                    })\r\n                    const databaseSQLQueryParam = jsonSqlParam.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"sviewname\"].value,\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\r\n                        group: groupByFields,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                        condition: finalConditionDatabaseParam\r\n                    });\r\n                    const databaseSQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        table: selectedRecord[\"sviewname\"].value,\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFields : dbfieldList,\r\n                        group: groupByFields,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                        condition: finalConditionDatabase\r\n                    });\r\n                    const displaySQLQuery = jsonSql.build({\r\n                        type: 'select',\r\n                        fields: selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0 ? groupByAggregateFieldsDisplay : fieldList,\r\n                        group: groupByFieldsDisplay,\r\n                        table: selectedRecord[\"sviewname\"].label,\r\n                        sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\r\n                        condition: finalConditionDisplay //&& finalCondition.length === 1 ? finalCondition[0] : finalCondition\r\n                    });\r\n                    // databaseSQLQueryParam.query.split('\"').join('')\r\n                    // databaseSQLQuery.query.split('\"').join('')\r\n\r\n                    let dbQueryParam = databaseSQLQueryParam.query.split('\"').join('');\r\n                    let dbQuery = databaseSQLQuery.query.split('\"').join('');\r\n                    selectedRecord[\"squerywithparam\"] = dbQueryParam.replace(\"like\", \"Ilike\");\r\n\r\n                    selectedRecord[\"sgeneratedquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n                        dbQuery.replace(\"like\", \"Ilike\") : \"\";\r\n                    selectedRecord[\"sdisplayquery\"] = selectedRecord[\"filtercolumns\"] && selectedRecord[\"filtercolumns\"].length > 0 ?\r\n                        displaySQLQuery.query.replace(\"like\", \"Ilike\") : \"\";\r\n\r\n                    selectedRecord[\"sdefaultvalue\"] = fieldWithValue;\r\n\r\n\r\n                    const paramIndex = [];\r\n                    if (fieldWithValue.length > 0) {\r\n                        fieldWithValue.forEach((item, i) => {\r\n                            if (item.symbolObject.items.symbolType === 4) {\r\n                                paramIndex.push(\"$p\" + (i + 1));\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    if (paramIndex.length > 0) {\r\n                        paramIndex.forEach(data => {\r\n                            selectedRecord[\"squerywithparam\"] = selectedRecord[\"squerywithparam\"].replace(data, data + \" COLLATE pg_catalog.default \");\r\n                        })\r\n                    }\r\n                    // if (selectedRecord[\"squerywithparam\"].indexOf('Ilike') > 0) {\r\n\r\n                    //     let newQuery = selectedRecord[\"squerywithparam\"];\r\n\r\n                    //     while (newQuery.indexOf(\"Ilike\") !== -1) {\r\n\r\n                    //         const paramLabelStartIndex = newQuery.indexOf(\"Ilike\");\r\n\r\n                    //         const paramLabel = newQuery.substring(paramLabelStartIndex, newQuery.length);\r\n\r\n\r\n\r\n                    //     }\r\n                    // }\r\n                }\r\n                this.setState({ selectedRecord });\r\n            });\r\n        } else {\r\n            this.groupByFunction(selectedRecord, databaseCondition, displayCondition);\r\n        }\r\n        this.setState({ selectedRecord });// for temporary\r\n    }\r\n\r\n    groupByFunction(selectedRecord, databaseCondition, displayCondition) {\r\n        let groupByAggregateFields = [];\r\n        let groupByFields = [];\r\n\r\n        let groupByAggregateFieldsDisplay = [];\r\n        let groupByFieldsDisplay = [];\r\n\r\n        let orderByDefault = [];\r\n        let orderByCustom = {};\r\n\r\n        let orderByDefaultDisplay = [];\r\n        let orderByCustomDisplay = {};\r\n\r\n        // if (selectedRecord[\"customorderby\"] && selectedRecord[\"customorderby\"] === true) {\r\n        selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n            if (data[\"ordertype\"] && data[\"ordertype\"].value === 2) {\r\n                orderByCustom[data[\"columnname\"].items.columnname] = -1\r\n                orderByCustomDisplay[data[\"columnname\"].label] = -1\r\n            } else {\r\n                orderByCustom[data[\"columnname\"].items.columnname] = 1\r\n                orderByCustomDisplay[data[\"columnname\"].label] = 1\r\n            }\r\n        })\r\n        // } else {\r\n        //     selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].forEach(data => {\r\n        //         orderByDefault.push(data[\"columnname\"].items.columnname);\r\n        //         orderByDefaultDisplay.push(data[\"columnname\"].label);\r\n        //     })\r\n        // }\r\n\r\n\r\n        // if (selectedRecord[\"groupby\"] && selectedRecord[\"groupby\"] === true) {\r\n        if (selectedRecord[\"aggregate\"] && selectedRecord[\"aggregate\"].length > 0) {\r\n            selectedRecord[\"aggregate\"].forEach(data => {\r\n                if (data[\"aggfunctionname\"] && data[\"aggfunctionname\"].label !== '') {\r\n                    groupByAggregateFields.push({\r\n                        func: {\r\n                            name: data[\"aggfunctionname\"].label,\r\n                            args: [{ field: data[\"columnname\"].items.columnname }]\r\n\r\n                        }, alias: data[\"columnname\"].items.columnname\r\n                    })\r\n                    groupByAggregateFieldsDisplay.push({\r\n                        func: {\r\n                            name: data[\"aggfunctionname\"].label,\r\n                            args: [{ field: data[\"columnname\"].label }]\r\n\r\n                        }\r\n                    })\r\n\r\n                } else {\r\n                    groupByAggregateFields.push(data[\"columnname\"].items.columnname);\r\n                    groupByFields.push(data[\"columnname\"].items.columnname);\r\n                    groupByAggregateFieldsDisplay.push(data[\"columnname\"].label);\r\n                    groupByFieldsDisplay.push(data[\"columnname\"].label);\r\n                }\r\n            })\r\n\r\n            const databaseSQLQuery = jsonSql.build({\r\n                type: 'select',\r\n                table: selectedRecord[\"sviewname\"].value,\r\n                fields: groupByAggregateFields,\r\n                group: groupByFields,\r\n                sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustom : \"\",\r\n                condition: databaseCondition\r\n            });\r\n            const displaySQLQuery = jsonSql.build({\r\n                type: 'select',\r\n                fields: groupByAggregateFieldsDisplay,\r\n                group: groupByFieldsDisplay,\r\n                sort: selectedRecord[\"orderby\"] && selectedRecord[\"orderby\"].length > 0 ? orderByCustomDisplay : \"\",\r\n                table: selectedRecord[\"sviewname\"].label,\r\n                condition: displayCondition\r\n            });\r\n            selectedRecord[\"sgeneratedquery\"] = databaseSQLQuery.query;\r\n            selectedRecord[\"sdisplayquery\"] = displaySQLQuery.query;\r\n            this.setState({ selectedRecord });\r\n        }\r\n        // }\r\n    }\r\n    onConditionClick = (fieldName, index) => {\r\n        let { selectedRecord } = this.state;\r\n        if (fieldName === `button_and`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            selectedRecord[\"groupList\"][index][`button_or`] = false;\r\n        } else if (fieldName === `button_or`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            selectedRecord[\"groupList\"][index][`button_and`] = false;\r\n            // if (selectedRecord[\"groupList\"][index][`notoperator`] && selectedRecord[\"groupList\"][index][`notoperator`] === true) {\r\n            //     selectedRecord[\"groupList\"][index][`notoperator`] = false;\r\n            // }\r\n        } else if (fieldName === `button_not`) {\r\n            selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n        }\r\n        else {\r\n\r\n        }\r\n        this.generateFilterQuery(selectedRecord);\r\n    }\r\n\r\n    onQueryTypeOnclick = (value) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"selectedQueryType\"] = value;\r\n        let sqlQuery = false;\r\n        if (value.value === \"sql\") {\r\n            sqlQuery = true;\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { sqlQuery: sqlQuery }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({ selectedRecord });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, filterColumnData,\r\n    validateEsignCredential, getSQLQueryDetail, getSQLQueryComboService, comboChangeQueryType,\r\n    executeUserQuery, comboColumnValues, getColumnNamesByTableName,\r\n    getTablesName, getModuleFormName, getDatabaseTables, executeQuery, getForeignTable,\r\n    getViewColumns, getMasterData, createQueryBuilder,\r\n    getParameterFromQuery, getSelectedQueryBuilder, updateQueryBuilder, getQueryBuilder\r\n})(injectIntl(QueryBuilder));"]},"metadata":{},"sourceType":"module"}