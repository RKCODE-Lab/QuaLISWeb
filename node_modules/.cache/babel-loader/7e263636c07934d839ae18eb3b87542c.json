{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\joballocation\\\\EditItem.jsx\";\nimport { SchedulerEditItem, SchedulerEditSlot, SchedulerTask, SchedulerViewSlot } from \"@progress/kendo-react-scheduler\";\nimport React from \"react\";\nimport { Popup } from \"@progress/kendo-react-popup\";\nimport { connect } from 'react-redux';\nimport { getInstrumentForSchedule } from '../../actions';\nimport { FormWithCustomEditor } from './custom-form';\nimport { toast } from \"react-toastify\";\nimport { Col, Row } from \"react-bootstrap\";\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\nimport { parseAdjust } from \"./NewJobAlloct\";\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nconst CustomEditItem = props => {\n  const ref = React.useRef(null);\n  const [show, setShow] = React.useState(false);\n  const [formItem, setFormItem] = React.useState(null);\n  const handleFocus = React.useCallback(event => {\n    setShow(true);\n\n    if (props.onFocus) {\n      props.onFocus(event);\n    }\n  }, [props]);\n  const handleCloseClick = React.useCallback(() => {\n    setShow(false);\n  }, []);\n  const handleEditClick = React.useCallback(() => {\n    console.log(\"hello1\", props.dataItem);\n\n    if (props.dataItem && props.dataItem.InstrumentCategory) {\n      if (props.dataItem.ntransactionstatus) {\n        if (props.dataItem.ntransactionstatus !== 20) {\n          props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n          setFormItem(props.dataItem);\n          setShow(false);\n        } else {\n          toast.info(\"Already allocted\");\n        }\n      } else {\n        props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\n        setFormItem(props.dataItem);\n        setShow(false);\n      }\n    }\n  }, [props.dataItem]);\n  const handleFormItemChange = React.useCallback(event => {\n    console.log(\"hello\");\n    console.log(\"handleFormItemChange\", event.value);\n    console.log(\"handleFormItemChange1\", formItem);\n\n    if (event.value) {\n      if (event.value.ntransactionstatus) {\n        if (event.value.ntransactionstatus !== 20) {\n          setFormItem(event.value);\n        } else {\n          toast.info(\"Already Allocted\");\n        }\n      } else {\n        setFormItem(event.value);\n      }\n    } else {\n      setFormItem(event.value);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SchedulerEditItem, Object.assign({\n    ref: ref\n  }, props, {\n    onFocus: handleFocus,\n    formItem: formItem,\n    onFormItemChange: handleFormItemChange,\n    form: FormWithCustomEditor //    title={generateTitle(props.dataItem)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Popup, {\n    anchor: ref.current && ref.current.element,\n    show: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, console.log(props.dataItem), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"ArNo : \", props.dataItem.sarno && props.dataItem.sarno), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \"Test Name : \", props.dataItem.stestsynonym && props.dataItem.stestsynonym), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      \"color\": \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"Status : \", props.dataItem.stransdisplaystatus && props.dataItem.stransdisplaystatus), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      \"color\": \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Start Date : \", parseAdjust(props.dataItem.start).toLocaleDateString()), /*#__PURE__*/React.createElement(\"h5\", {\n    style: {\n      \"color\": \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"End Date : \", parseAdjust(props.dataItem.end).toLocaleDateString()), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"k-icon k-i-edit\",\n    onClick: handleEditClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"k-icon k-i-close\",\n    onClick: handleCloseClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default connect(mapStateToProps, {\n  getInstrumentForSchedule\n})(CustomEditItem);\nexport const CustomTask = props => {\n  return /*#__PURE__*/React.createElement(SchedulerTask, Object.assign({}, props, {\n    style: { ...props.style,\n      backgroundColor: props.isAllDay ? \"#ccccff\" : \"#ffcccc\",\n      borderRadius: \"8px\",\n      height: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }));\n};\nexport const CustomEditSlot = props => {\n  const [formItem, setFormItem] = React.useState(null);\n  const handleFormItemChange = React.useCallback(event => {\n    if (props.isWorkDay && props.isWorkHour) {\n      setFormItem(event.value);\n    }\n  }, [props.isWorkDay, props.isWorkHour]);\n  return /*#__PURE__*/React.createElement(SchedulerEditSlot, Object.assign({}, props, {\n    formItem: formItem,\n    onFormItemChange: handleFormItemChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }));\n};\nexport const CustomViewSlot = props => {\n  return /*#__PURE__*/React.createElement(SchedulerViewSlot, Object.assign({}, props, {\n    style: { ...props.style,\n      cursor: !props.isWorkDay || !props.isWorkHour ? \"no-drop\" : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }));\n};\nexport const CustomEditSlotForMonth = props => {\n  const [formItem, setFormItem] = React.useState(null);\n  const handleFormItemChange = React.useCallback(event => {\n    if (event.value) {\n      if (event.value.ntransactionstatus) {\n        if (event.value.ntransactionstatus !== 20) {\n          setFormItem(event.value);\n        } else {\n          toast.info(\"Already Allocted\");\n        }\n      } else {\n        setFormItem(event.value);\n      }\n    } else {\n      setFormItem(event.value);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(SchedulerEditSlot, Object.assign({}, props, {\n    formItem: formItem,\n    onFormItemChange: handleFormItemChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }));\n};\nexport const CustomViewSlotForMonth = props => {\n  // { console.log(\"slotmonth\", props) }\n  return /*#__PURE__*/React.createElement(SchedulerViewSlot, Object.assign({}, props, {\n    style: { ...props.style,\n      cursor: props.end < new Date() ? \"no-drop\" : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }));\n};\nexport const headerComponent = props => {\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, \"hello\"));\n};","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/joballocation/EditItem.jsx"],"names":["SchedulerEditItem","SchedulerEditSlot","SchedulerTask","SchedulerViewSlot","React","Popup","connect","getInstrumentForSchedule","FormWithCustomEditor","toast","Col","Row","FormSelectSearch","parseAdjust","mapStateToProps","state","Login","CustomEditItem","props","ref","useRef","show","setShow","useState","formItem","setFormItem","handleFocus","useCallback","event","onFocus","handleCloseClick","handleEditClick","console","log","dataItem","InstrumentCategory","ntransactionstatus","userInfo","info","handleFormItemChange","value","current","element","sarno","stestsynonym","stransdisplaystatus","start","toLocaleDateString","end","CustomTask","style","backgroundColor","isAllDay","borderRadius","height","CustomEditSlot","isWorkDay","isWorkHour","CustomViewSlot","cursor","undefined","CustomEditSlotForMonth","CustomViewSlotForMonth","Date","headerComponent"],"mappings":"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","sourcesContent":["import { SchedulerEditItem, SchedulerEditSlot, SchedulerTask, SchedulerViewSlot } from \"@progress/kendo-react-scheduler\";\r\nimport React from \"react\";\r\nimport { Popup } from \"@progress/kendo-react-popup\";\r\nimport { connect } from 'react-redux';\r\nimport { getInstrumentForSchedule } from '../../actions'\r\nimport { FormWithCustomEditor } from './custom-form';\r\nimport { toast } from \"react-toastify\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport { parseAdjust } from \"./NewJobAlloct\";\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nconst CustomEditItem = (props) => {\r\n    const ref = React.useRef(null);\r\n    const [show, setShow] = React.useState(false);\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFocus = React.useCallback(\r\n        (event) => {\r\n            setShow(true);\r\n            if (props.onFocus) {\r\n                props.onFocus(event);\r\n            }\r\n        },\r\n        [props]\r\n    );\r\n    const handleCloseClick = React.useCallback(() => {\r\n        setShow(false);\r\n    }, []);\r\n    const handleEditClick = React.useCallback(() => {\r\n        console.log(\"hello1\", props.dataItem);\r\n        if (props.dataItem &&\r\n            props.dataItem.InstrumentCategory) {\r\n            if (props.dataItem.ntransactionstatus) {\r\n                if (props.dataItem.ntransactionstatus !== 20) {\r\n                    props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                    setFormItem(props.dataItem);\r\n                    setShow(false);\r\n                } else {\r\n                    toast.info(\"Already allocted\")\r\n                }\r\n\r\n            } else {\r\n                props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                setFormItem(props.dataItem);\r\n                setShow(false);\r\n            }\r\n\r\n        }\r\n       \r\n    }, [props.dataItem]);\r\n    const handleFormItemChange = React.useCallback((event) => {\r\n        console.log(\"hello\")\r\n        console.log(\"handleFormItemChange\", event.value)\r\n        console.log(\"handleFormItemChange1\", formItem)\r\n\r\n        if(event.value){\r\n            if(event.value.ntransactionstatus){\r\n                if(event.value.ntransactionstatus!==20){\r\n                    setFormItem(event.value);\r\n                }else{\r\n                    toast.info(\"Already Allocted\")\r\n                }\r\n\r\n            }else{\r\n                setFormItem(event.value);\r\n            }\r\n\r\n        }else{\r\n            setFormItem(event.value);\r\n        }\r\n\r\n    }, []);\r\n    return (\r\n        <React.Fragment>\r\n            <SchedulerEditItem\r\n                ref={ref}\r\n                {...props}\r\n                onFocus={handleFocus}\r\n                formItem={formItem}\r\n                onFormItemChange={handleFormItemChange}\r\n                form={FormWithCustomEditor}\r\n            //    title={generateTitle(props.dataItem)}\r\n            />\r\n            <Popup anchor={ref.current && ref.current.element} show={show}>\r\n                {console.log(props.dataItem)}\r\n                <div className=\"p-1\">\r\n                    <h5>{\"ArNo : \"}{props.dataItem.sarno && props.dataItem.sarno}</h5>\r\n                    <h5>{\"Test Name : \"}{props.dataItem.stestsynonym && props.dataItem.stestsynonym }</h5>\r\n                    <h5 style={{\"color\":\"red\"}}>{\"Status : \"}{props.dataItem.stransdisplaystatus && props.dataItem.stransdisplaystatus}</h5>\r\n                    <h5 style={{\"color\":\"red\"}}>{\"Start Date : \"}{ parseAdjust(props.dataItem.start).toLocaleDateString()}</h5>\r\n                    <h5 style={{\"color\":\"red\"}}>{\"End Date : \"}{ parseAdjust(props.dataItem.end).toLocaleDateString()}</h5>\r\n                    <a className=\"k-icon k-i-edit\" onClick={handleEditClick} />\r\n                    <a className=\"k-icon k-i-close\" onClick={handleCloseClick} />\r\n                </div>\r\n            </Popup>\r\n        </React.Fragment>\r\n    );\r\n};\r\nexport default connect(mapStateToProps, { getInstrumentForSchedule })(CustomEditItem);\r\n\r\nexport const CustomTask = (props) => {\r\n    return (\r\n        <SchedulerTask\r\n\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                backgroundColor: props.isAllDay ? \"#ccccff\" : \"#ffcccc\",\r\n                borderRadius: \"8px\",\r\n                height: 32,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomEditSlot = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if (props.isWorkDay && props.isWorkHour) {\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        [props.isWorkDay, props.isWorkHour]\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        />\r\n    );\r\n};\r\nexport const CustomViewSlot = (props) => {\r\n    return (\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                cursor: !props.isWorkDay || !props.isWorkHour ? \"no-drop\" : undefined,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport const CustomEditSlotForMonth = (props) => {\r\n    const [formItem, setFormItem] = React.useState(null);\r\n    const handleFormItemChange = React.useCallback(\r\n        (event) => {\r\n            if(event.value){\r\n                if(event.value.ntransactionstatus){\r\n                    if(event.value.ntransactionstatus!==20){\r\n                        setFormItem(event.value);\r\n                    }else{\r\n                        toast.info(\"Already Allocted\")\r\n                    }\r\n    \r\n                }else{\r\n                    setFormItem(event.value);\r\n                }\r\n    \r\n            }else{\r\n                setFormItem(event.value);\r\n            }\r\n        },\r\n        []\r\n    );\r\n    return (\r\n        <SchedulerEditSlot\r\n            {...props}\r\n            formItem={formItem}\r\n            onFormItemChange={handleFormItemChange}\r\n        />\r\n    );\r\n};\r\nexport const CustomViewSlotForMonth = (props) => {\r\n    // { console.log(\"slotmonth\", props) }\r\n    return (\r\n\r\n        <SchedulerViewSlot\r\n            {...props}\r\n            style={{\r\n                ...props.style,\r\n                cursor: props.end < new Date() ? \"no-drop\" : undefined,\r\n            }}\r\n\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport const headerComponent = (props) => {\r\n    return (\r\n\r\n        <Row>\r\n        <Col md={6}>\r\n            {\"hello\"}\r\n           </Col>\r\n    </Row>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}