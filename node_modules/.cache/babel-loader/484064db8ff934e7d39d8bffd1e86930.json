{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import{Row,Col,Card,Nav}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{formatInputDate,rearrangeDateFormat}from'../../components/CommonScript';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign}from'../../components/CommonScript';import Esign from'../audittrail/Esign';import AddChainCustody from'./AddChainCustody';import DataGrid from'../../components/data-grid/data-grid.component';import{transactionStatus}from'../../components/Enumeration';var SampleReceivingTabs=/*#__PURE__*/function(_React$Component){_inherits(SampleReceivingTabs,_React$Component);var _super=_createSuper(SampleReceivingTabs);function SampleReceivingTabs(props){var _this;_classCallCheck(this,SampleReceivingTabs);_this=_super.call(this,props);_this.ccDataStateChange=function(event){_this.setState({dataResult:process(_this.props.masterData[\"ChainCustody\"],event.dataState),dataState:event.dataState});};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;selectedRecord[\"dreceiveddate\"]=rearrangeDateFormat(_this.props.userInfo,selectedRecord[\"sreceiveddate\"]);if(_this.props.loadEsign){if(_this.props.operation===\"delete\"){loadEsign=false;openChildModal=false;}else{loadEsign=false;}}else{openChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;if(fieldName===\"ntzreceiveddate\"){if(comboData===null){selectedRecord[\"ntzreceiveddate\"]=0;selectedRecord[\"stzreceiveddate\"]=\"\";}else{selectedRecord[\"stzreceiveddate\"]=comboData.label;}}_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){//add / edit         \nvar inputData=[];inputData[\"fromDate\"]=_this.props.fromDate;inputData[\"toDate\"]=_this.props.toDate;inputData[\"userinfo\"]=_this.props.userInfo;inputData[\"chaincustody\"]={\"nsitecode\":_this.props.userInfo.ntranssitecode};var selectedId=null;var dataState=undefined;var postParam=undefined;if(_this.props.operation===\"update\"){// edit            \ninputData[\"chaincustody\"]=JSON.parse(JSON.stringify(_this.props.selectedRecord));selectedId=_this.props.selectedRecord.nchaincustodycode;dataState=_this.state.dataState;}else{postParam={inputListName:\"GoodsInList\",selectedObject:\"SelectedGoodsIn\",primaryKeyField:\"nrmsno\",isSingleGet:true};inputData[\"chaincustody\"][\"nrmsno\"]=_this.props.masterData.SelectedGoodsIn.nrmsno;}inputData[\"chaincustody\"][\"npackagersqty\"]=_this.state.selectedRecord[\"npackagersqty\"];inputData[\"chaincustody\"][\"nreceivedownercode\"]=_this.props.userInfo.nusercode;// inputData[\"chaincustody\"][\"ndeptcode\"] = this.props.userInfo.ndeptcode;\ninputData[\"chaincustody\"][\"dreceiveddate\"]=_this.state.selectedRecord[\"dreceiveddate\"];inputData[\"chaincustody\"][\"scomments\"]=_this.state.selectedRecord[\"scomments\"]||\"\";inputData[\"chaincustody\"][\"ntzreceiveddate\"]=_this.state.selectedRecord[\"ntzreceiveddate\"]?_this.state.selectedRecord[\"ntzreceiveddate\"].value:1;inputData[\"chaincustody\"][\"stzreceiveddate\"]=_this.state.selectedRecord[\"stzreceiveddate\"]||\"\";var receivedDate=inputData[\"chaincustody\"][\"dreceiveddate\"];//need this conversion when the datatype of the field is 'Instant'      \ninputData[\"chaincustody\"][\"dreceiveddate\"]=//\"2020-10-12T11:25:00.000Z\";\nformatInputDate(receivedDate,false);if(Object.keys(inputData[\"chaincustody\"]).indexOf(\"expanded\")!==-1)delete inputData[\"chaincustody\"][\"expanded\"];var inputParam={classUrl:_this.props.inputParam.classUrl,methodUrl:\"ChainCustody\",postParam:postParam,inputData:inputData,selectedId:selectedId,dataState:dataState,operation:_this.props.operation,saveType:saveType,formRef:formRef};if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}};_this.deleteRecord=function(deleteParam){if(deleteParam.selectedRecord.nreceivedownercode===_this.props.userInfo.nusercode){if(Object.keys(deleteParam.selectedRecord).indexOf(\"expanded\")!==-1)delete deleteParam.selectedRecord[\"expanded\"];var inputParam={classUrl:_this.props.inputParam.classUrl,methodUrl:\"ChainCustody\",displayName:\"IDS_CHAINCUSTODY\",inputData:{\"chaincustody\":deleteParam.selectedRecord,\"userinfo\":_this.props.userInfo,\"fromDate\":_this.props.fromDate,\"toDate\":_this.props.toDate},operation:deleteParam.operation,dataState:_this.state.dataState};if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_INVALIDOWNERTODELETE\"}));}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};var _dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={// isOpen:false, //activeTab:'chaincustody-tab', \nselectedRecord:{},dataResult:[],dataState:_dataState};_this.chainCustodyColumnList=[{\"idsName\":\"IDS_RECEIVEDOWNER\",\"dataField\":\"sreceivedowner\",\"width\":\"200px\"},//{\"idsName\":\"IDS_DEPARTMENT\",\"dataField\":\"sdeptname\",\"width\":\"150px\"},\n{\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\",\"width\":\"200px\"}// {\"idsName\":\"IDS_RECEIVEDDATE\",\"dataField\":\"sreceiveddate\",\"width\":\"150px\"},                    \n];_this.detailedFieldList=[// {\"idsName\":\"IDS_RECEIVEDOWNER\",\"dataField\":\"sreceivedowner\"},\n{\"idsName\":\"IDS_DEPARTMENT\",\"dataField\":\"sdeptname\"},//   {\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\"},\n{\"idsName\":\"IDS_RECEIVEDDATETIME\",\"dataField\":\"sreceiveddate\"},{\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"stzreceiveddate\"},{\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\"}];return _this;}_createClass(SampleReceivingTabs,[{key:\"render\",value:function render(){var _this2=this;var addChainCustodyId=this.props.controlMap.has(\"AddChainCustody\")&&this.props.controlMap.get(\"AddChainCustody\").ncontrolcode;var editChainCustodyId=this.props.controlMap.has(\"EditChainCustody\")&&this.props.controlMap.get(\"EditChainCustody\").ncontrolcode;var ccAddParam={screenName:\"ChainCustody\",operation:\"create\",primaryKeyField:\"nchaincustodycode\",primaryKeyValue:-2,masterData:this.props.masterData,userInfo:this.props.userInfo,ncontrolCode:addChainCustodyId};var ccEditParam={screenName:\"ChainCustody\",operation:\"update\",primaryKeyField:\"nchaincustodycode\",masterData:this.props.masterData,userInfo:this.props.userInfo,ncontrolCode:editChainCustodyId};var ccDeleteParam={screenName:\"ChainCustody\",methodUrl:\"ChainCustody\",operation:\"delete\"};var mandatoryFields=[{\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_RECEIVEDDATE\",\"dataField\":\"dreceiveddate\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"ntzreceiveddate\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"add-txt-btn\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CHAINCUSTODY\",defaultMessage:\"Chain Custody\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addchaincustody\",className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addChainCustodyId)===-1,onClick:function onClick(){return _this2.props.getChainCustodyComboDataService(ccAddParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CHAINCUSTODY\",defaultMessage:\"Chain Custody\"})))),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"nchaincustodycode\",data:this.props.masterData[\"ChainCustody\"],dataResult:process(this.props.masterData[\"ChainCustody\"],this.state.dataState),dataState:this.state.dataState,dataStateChange:this.ccDataStateChange,extractedColumnList:this.chainCustodyColumnList,controlMap:this.props.controlMap,userRoleControlRights:this.props.userRoleControlRights,inputParam:this.props.inputParam,userInfo:this.props.userInfo,methodUrl:\"ChainCustody\",fetchRecord:this.props.getChainCustodyComboDataService,editParam:ccEditParam,deleteRecord:this.deleteRecord,deleteParam:ccDeleteParam,pageable:true,scrollable:\"scrollable\"//isComponent={true}\n,isActionRequired:true,isToolBarRequired:false,selectedId:this.props.selectedId,expandField:\"expanded\",detailedFieldList:this.detailedFieldList}))))))),this.props.openChildModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation//formatMessage={this.props.formatMessage}\n,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddChainCustody,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,handleDateChange:this.handleDateChange,onNumericInputOnChange:this.onNumericInputOnChange,selectedGoodsIn:this.props.masterData.SelectedGoodsIn||{},operation:this.props.operation,userInfo:this.props.userInfo,timeZoneList:this.props.timeZoneList||[],currentTime:this.props.currentTime})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var dataState=this.state.dataState;if(this.props.dataState===undefined){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}this.setState({activeTab:'chaincustody-tab',dataState:dataState});}if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}}}]);return SampleReceivingTabs;}(React.Component);export default injectIntl(SampleReceivingTabs);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/goodsin/SampleReceivingTabs.jsx"],"names":["React","FormattedMessage","injectIntl","toast","process","Row","Col","Card","Nav","FontAwesomeIcon","faPlus","SlideOutModal","formatInputDate","rearrangeDateFormat","DEFAULT_RETURN","showEsign","Esign","AddChainCustody","DataGrid","transactionStatus","SampleReceivingTabs","props","ccDataStateChange","event","setState","dataResult","masterData","dataState","closeModal","loadEsign","openChildModal","selectedRecord","userInfo","operation","updateInfo","typeName","data","selectedId","updateStore","handleDateChange","dateName","dateValue","state","onComboChange","comboData","fieldName","label","onInputOnChange","target","type","name","checked","YES","NO","value","onNumericInputOnChange","onSaveClick","saveType","formRef","inputData","fromDate","toDate","ntranssitecode","undefined","postParam","JSON","parse","stringify","nchaincustodycode","inputListName","selectedObject","primaryKeyField","isSingleGet","SelectedGoodsIn","nrmsno","nusercode","receivedDate","Object","keys","indexOf","inputParam","classUrl","methodUrl","esignRights","nformcode","ncontrolCode","screenData","crudMaster","deleteRecord","deleteParam","nreceivedownercode","displayName","screenName","warn","intl","formatMessage","id","validateEsign","sreason","password","validateEsignCredential","skip","take","settings","parseInt","chainCustodyColumnList","detailedFieldList","addChainCustodyId","controlMap","has","get","ncontrolcode","editChainCustodyId","ccAddParam","primaryKeyValue","ccEditParam","ccDeleteParam","mandatoryFields","userRoleControlRights","getChainCustodyComboDataService","timeZoneList","currentTime","previousProps","activeTab","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { process } from '@progress/kendo-data-query';\r\n\r\nimport {Row, Col, Card, Nav} from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { formatInputDate, rearrangeDateFormat } from '../../components/CommonScript';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {showEsign} from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport AddChainCustody from './AddChainCustody';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {transactionStatus} from '../../components/Enumeration';\r\n\r\nclass SampleReceivingTabs extends React.Component{\r\n    constructor(props){\r\n        super(props);  \r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };       \r\n        this.state = {// isOpen:false, //activeTab:'chaincustody-tab', \r\n                        selectedRecord:{},  dataResult:[],\r\n                        dataState:dataState};\r\n\r\n        this.chainCustodyColumnList=[\r\n                        {\"idsName\":\"IDS_RECEIVEDOWNER\",\"dataField\":\"sreceivedowner\",\"width\":\"200px\"},\r\n                        //{\"idsName\":\"IDS_DEPARTMENT\",\"dataField\":\"sdeptname\",\"width\":\"150px\"},\r\n                        {\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\",\"width\":\"200px\"},\r\n                       // {\"idsName\":\"IDS_RECEIVEDDATE\",\"dataField\":\"sreceiveddate\",\"width\":\"150px\"},                    \r\n                       \r\n                        ];   \r\n                        \r\n        this.detailedFieldList = [\r\n                           // {\"idsName\":\"IDS_RECEIVEDOWNER\",\"dataField\":\"sreceivedowner\"},\r\n                            {\"idsName\":\"IDS_DEPARTMENT\",\"dataField\":\"sdeptname\"},\r\n                         //   {\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\"},\r\n                            {\"idsName\":\"IDS_RECEIVEDDATETIME\",\"dataField\":\"sreceiveddate\"},\r\n                            {\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"stzreceiveddate\"}, \r\n                            {\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\"},  \r\n                                     \r\n                        ];\r\n                       \r\n    } \r\n\r\n    ccDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.masterData[\"ChainCustody\"], event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    render(){        \r\n        const addChainCustodyId = this.props.controlMap.has(\"AddChainCustody\") && this.props.controlMap.get(\"AddChainCustody\").ncontrolcode\r\n        const editChainCustodyId = this.props.controlMap.has(\"EditChainCustody\") && this.props.controlMap.get(\"EditChainCustody\").ncontrolcode;\r\n        \r\n        const ccAddParam = {screenName:\"ChainCustody\", operation:\"create\", primaryKeyField:\"nchaincustodycode\", \r\n                            primaryKeyValue:-2, masterData:this.props.masterData, userInfo:this.props.userInfo,\r\n                            ncontrolCode:addChainCustodyId};\r\n                            \r\n        const ccEditParam = {screenName:\"ChainCustody\", operation:\"update\",  primaryKeyField:\"nchaincustodycode\", \r\n                            masterData:this.props.masterData,   userInfo:this.props.userInfo,  ncontrolCode:editChainCustodyId};\r\n\r\n        const ccDeleteParam ={screenName:\"ChainCustody\",methodUrl:\"ChainCustody\", operation:\"delete\"};\r\n\r\n        const mandatoryFields =[{\"idsName\":\"IDS_NPACKAGERSQTY\",\"dataField\":\"npackagersqty\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n                                    {\"idsName\":\"IDS_RECEIVEDDATE\",\"dataField\":\"dreceiveddate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n                                    {\"idsName\":\"IDS_TIMEZONE\",\"dataField\":\"ntzreceiveddate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}];\r\n        return(\r\n            <>\r\n                <Row noGutters>\r\n                    <Col md={12}>  \r\n                        <Card>  \r\n                            <Card.Header className=\"add-txt-btn\">\r\n                                <strong><FormattedMessage id=\"IDS_CHAINCUSTODY\" defaultMessage=\"Chain Custody\"/></strong> \r\n                            </Card.Header>   \r\n                            <Card.Body>\r\n                                {/* <Row className=\"no-gutters text-right border-bottom pb-2\" >                                            \r\n                                    <Col md={12}>\r\n                                        <Nav.Link name=\"addchaincustody\"  className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addChainCustodyId) === -1}\r\n                                                    onClick={()=>this.props.getChainCustodyComboDataService(ccAddParam)}>\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id='IDS_CHAINCUSTODY' defaultMessage='Chain Custody' />\r\n                                        </Nav.Link>\r\n                                    </Col>\r\n                                </Row> */}\r\n\r\n                                <div className=\"actions-stripe\">\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <Nav.Link name=\"addchaincustody\"  className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addChainCustodyId) === -1}\r\n                                                    onClick={()=>this.props.getChainCustodyComboDataService(ccAddParam)}>\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id='IDS_CHAINCUSTODY' defaultMessage='Chain Custody' />\r\n                                        </Nav.Link>\r\n                                    </div>\r\n                                </div>\r\n                                       \r\n                                <Row noGutters>\r\n                                    <Col md={12}>\r\n                                        <DataGrid\r\n                                            primaryKeyField={\"nchaincustodycode\"}\r\n                                            data={this.props.masterData[\"ChainCustody\"]}\r\n                                            dataResult={process(this.props.masterData[\"ChainCustody\"], this.state.dataState)}\r\n                                            dataState={this.state.dataState}\r\n                                            dataStateChange={this.ccDataStateChange}\r\n                                            extractedColumnList={this.chainCustodyColumnList}\r\n                                            controlMap={this.props.controlMap}\r\n                                            userRoleControlRights={this.props.userRoleControlRights}\r\n                                            inputParam={this.props.inputParam}\r\n                                            userInfo={this.props.userInfo}\r\n                                            methodUrl=\"ChainCustody\"\r\n                                            fetchRecord={this.props.getChainCustodyComboDataService}\r\n                                            editParam={ccEditParam}\r\n                                            deleteRecord={this.deleteRecord}   \r\n                                            deleteParam={ccDeleteParam}                                                                                         \r\n                                            pageable={true}\r\n                                            scrollable={\"scrollable\"}\r\n                                            //isComponent={true}\r\n                                            isActionRequired={true}\r\n                                            isToolBarRequired={false}\r\n                                            selectedId={this.props.selectedId}\r\n                                            expandField=\"expanded\"\r\n                                            detailedFieldList = {this.detailedFieldList}\r\n                                        />                                                \r\n                                    </Col>\r\n                                </Row>        \r\n                        </Card.Body>                   \r\n                                                                       \r\n                            {/* <Tab.Container defaultActiveKey={this.state.activeTab}>\r\n                                <Card.Header className=\"d-flex tab-card-header\">\r\n                                    <Nav className=\"nav nav-tabs card-header-tabs flex-grow-1\" as=\"ul\">  \r\n                                        <Nav.Item as='li'>\r\n                                            <Nav.Link   name=\"chaincustodytab\" eventKey=\"chaincustody-tab\"> \r\n                                                <FormattedMessage id=\"IDS_CHAINCUSTODY\" defaultMessage=\"Chain Custody\"/>                                                      \r\n                                            </Nav.Link>\r\n                                        </Nav.Item>                                      \r\n                                    </Nav>\r\n                                </Card.Header>\r\n                                <Tab.Content>\r\n                                    <Tab.Pane className=\"fade p-0 \" eventKey=\"chaincustody-tab\">\r\n                                        <Row className=\"no-gutters text-right border-bottom pt-2 pb-2\" >                                            \r\n                                            <Col md={12}>\r\n                                                <Nav.Link name=\"addchaincustody\"  className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addChainCustodyId) === -1}\r\n                                                            onClick={()=>this.props.getChainCustodyComboDataService(ccAddParam)}>\r\n                                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                                    <FormattedMessage id='IDS_ADDCHAINCUSTODY' defaultMessage='Add Chain Custody' />\r\n                                                </Nav.Link>\r\n                                            </Col>\r\n                                        </Row>\r\n                                       \r\n                                        <Row className=\"no-gutters\">\r\n                                            <Col md={12}>\r\n                                            <DataGrid\r\n                                                        primaryKeyField={\"nchaincustodycode\"}\r\n                                                        data={this.props.masterData[\"ChainCustody\"]}\r\n                                                        dataResult={process(this.props.masterData[\"ChainCustody\"], this.state.dataState)}\r\n                                                        dataState={this.state.dataState}\r\n                                                        dataStateChange={this.ccDataStateChange}\r\n                                                        extractedColumnList={this.chainCustodyColumnList}\r\n                                                        controlMap={this.props.controlMap}\r\n                                                        userRoleControlRights={this.props.userRoleControlRights}\r\n                                                        inputParam={this.props.inputParam}\r\n                                                        userInfo={this.props.userInfo}\r\n                                                        methodUrl=\"ChainCustody\"\r\n                                                        fetchRecord={this.props.getChainCustodyComboDataService}\r\n                                                        editParam={ccEditParam}\r\n                                                        deleteRecord={this.deleteRecord}   \r\n                                                        deleteParam={ccDeleteParam}                                                                                         \r\n                                                        pageable={false}\r\n                                                        scrollable={\"scrollable\"}\r\n                                                        isComponent={true}\r\n                                                        isActionRequired={true}\r\n                                                        isToolBarRequired={false}\r\n                                                        selectedId={this.props.selectedId}\r\n                                                        expandField=\"expanded\"\r\n                                                        detailedFieldList = {this.detailedFieldList}\r\n                                                    />                                                \r\n                                            </Col>\r\n                                        </Row>                                        \r\n                                    </Tab.Pane> \r\n                                    \r\n                                </Tab.Content>\r\n                            </Tab.Container>  */}\r\n                                                                       \r\n                                                                 \r\n                        </Card>   \r\n                    </Col>\r\n                </Row>\r\n                {/* Below Condition Added to avoid unwanted rendering of SlideOut */}\r\n                {this.props.openChildModal ? \r\n                <SlideOutModal show={this.props.openChildModal} \r\n                    closeModal={this.closeModal}  \r\n                    operation={this.props.operation}\r\n                    inputParam={this.props.inputParam}  \r\n                    screenName={this.props.screenName}    \r\n                    onSaveClick={this.onSaveClick} \r\n                    updateStore={this.props.updateStore}\r\n                    esign={this.props.loadEsign}\r\n                    validateEsign={this.validateEsign}   \r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    mandatoryFields={mandatoryFields}               \r\n                    addComponent ={this.props.loadEsign ? \r\n                                <Esign  operation={this.props.operation}\r\n                                        //formatMessage={this.props.formatMessage}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        inputParam={this.props.inputParam}                                               \r\n                                        selectedRecord={this.state.selectedRecord ||{}}\r\n                                 /> : <AddChainCustody selectedRecord={this.state.selectedRecord ||{}}                                  \r\n                                                            onInputOnChange={this.onInputOnChange}\r\n                                                            onComboChange={this.onComboChange}\r\n                                                            handleDateChange={this.handleDateChange}                                                                                                                      \r\n                                                            onNumericInputOnChange={this.onNumericInputOnChange}                                                          \r\n                                                            selectedGoodsIn={this.props.masterData.SelectedGoodsIn ||{}}\r\n                                                            operation={this.props.operation}\r\n                                                            userInfo={this.props.userInfo}\r\n                                                            timeZoneList={this.props.timeZoneList || []}\r\n                                                            currentTime={this.props.currentTime}\r\n                                                         />\r\n                                    }               \r\n                        \r\n                />:\"\"}\r\n            </>\r\n        )\r\n \r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        selectedRecord[\"dreceiveddate\"] = rearrangeDateFormat(this.props.userInfo, selectedRecord[\"sreceiveddate\"]);\r\n        if (this.props.loadEsign){          \r\n            if (this.props.operation === \"delete\"){\r\n                loadEsign = false;\r\n                openChildModal =  false;\r\n            }\r\n            else{\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else{\r\n            openChildModal =  false;\r\n            selectedRecord={};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {openChildModal, loadEsign, selectedRecord, selectedId:null}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        \r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {        \r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue; \r\n        this.setState({selectedRecord});\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n\r\n        if (fieldName === \"ntzreceiveddate\"){\r\n            if (comboData === null) {\r\n                selectedRecord[\"ntzreceiveddate\"] = 0;\r\n                selectedRecord[\"stzreceiveddate\"] = \"\";\r\n            }\r\n            else {\r\n                selectedRecord[\"stzreceiveddate\"] = comboData.label;\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n      \r\n        if (event.target.type === 'checkbox')\r\n        {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else{\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({selectedRecord});\r\n    }\r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    componentDidUpdate(previousProps){       \r\n        if (this.props.masterData !== previousProps.masterData ){\r\n            let {dataState} = this.state;\r\n            if(this.props.dataState === undefined){\r\n               dataState = {skip:0,take:this.props.settings ? parseInt(this.props.settings[14]) : 5};\r\n            }\r\n                    \r\n            this.setState({  activeTab:'chaincustody-tab', dataState});\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord ){             \r\n            this.setState({selectedRecord:this.props.selectedRecord});\r\n         }       \r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n              //add / edit         \r\n     \r\n        let inputData = [];\r\n       \r\n        inputData[\"fromDate\"]=this.props.fromDate;\r\n        inputData[\"toDate\"]=this.props.toDate;\r\n  \r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"chaincustody\"] = {\"nsitecode\":this.props.userInfo.ntranssitecode};\r\n       \r\n        let selectedId = null;\r\n        let dataState = undefined;\r\n        let postParam = undefined;\r\n        if ( this.props.operation === \"update\"){\r\n            // edit            \r\n          \r\n            inputData[\"chaincustody\"] = JSON.parse(JSON.stringify(this.props.selectedRecord));  \r\n            selectedId = this.props.selectedRecord.nchaincustodycode;  \r\n            dataState = this.state.dataState;       \r\n        }\r\n        else{       \r\n            postParam =  { inputListName : \"GoodsInList\", selectedObject : \"SelectedGoodsIn\", primaryKeyField : \"nrmsno\", isSingleGet:true};\r\n            inputData[\"chaincustody\"][\"nrmsno\"] = this.props.masterData.SelectedGoodsIn.nrmsno;\r\n        }\r\n            \r\n        inputData[\"chaincustody\"][\"npackagersqty\"] =  this.state.selectedRecord[\"npackagersqty\"] ;\r\n        inputData[\"chaincustody\"][\"nreceivedownercode\"] = this.props.userInfo.nusercode;\r\n       // inputData[\"chaincustody\"][\"ndeptcode\"] = this.props.userInfo.ndeptcode;\r\n        inputData[\"chaincustody\"][\"dreceiveddate\"]= this.state.selectedRecord[\"dreceiveddate\"];\r\n        inputData[\"chaincustody\"][\"scomments\"]= this.state.selectedRecord[\"scomments\"]||\"\";\r\n        inputData[\"chaincustody\"][\"ntzreceiveddate\"] = this.state.selectedRecord[\"ntzreceiveddate\"] ? this.state.selectedRecord[\"ntzreceiveddate\"].value : 1;\r\n        inputData[\"chaincustody\"][\"stzreceiveddate\"] = this.state.selectedRecord[\"stzreceiveddate\"] || \"\";\r\n      \r\n\r\n        const receivedDate =  inputData[\"chaincustody\"][\"dreceiveddate\"];\r\n        //need this conversion when the datatype of the field is 'Instant'      \r\n        inputData[\"chaincustody\"][\"dreceiveddate\"] = //\"2020-10-12T11:25:00.000Z\";\r\n        formatInputDate(receivedDate, false);\r\n\r\n        if (Object.keys(inputData[\"chaincustody\"]).indexOf(\"expanded\") !== -1)\r\n            delete inputData[\"chaincustody\"][\"expanded\"]\r\n        const inputParam = {\r\n                                classUrl: this.props.inputParam.classUrl,\r\n                                methodUrl: \"ChainCustody\", postParam,\r\n                                inputData: inputData,  selectedId, dataState,\r\n                                operation: this.props.operation , saveType, formRef       \r\n                            }       \r\n           \r\n       if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)){\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign:true, screenData:{inputParam, masterData:this.props.masterData}, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else{\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n        }           \r\n    }   \r\n\r\n    deleteRecord = (deleteParam) =>{       \r\n        if (deleteParam.selectedRecord.nreceivedownercode === this.props.userInfo.nusercode){ \r\n\r\n            if (Object.keys(deleteParam.selectedRecord).indexOf(\"expanded\") !== -1)\r\n            delete deleteParam.selectedRecord[\"expanded\"]\r\n            const inputParam = {\r\n                                    classUrl: this.props.inputParam.classUrl,\r\n                                    methodUrl:\"ChainCustody\",   \r\n                                    displayName:\"IDS_CHAINCUSTODY\",                               \r\n                                    inputData: {\"chaincustody\" :deleteParam.selectedRecord,\r\n                                                \"userinfo\": this.props.userInfo,\r\n                                                \"fromDate\":this.props.fromDate,\r\n                                                \"toDate\":this.props.toDate},\r\n                                    operation:deleteParam.operation ,\r\n                                    dataState : this.state.dataState\r\n                            }        \r\n             \r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)){\r\n                const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign:true, screenData:{inputParam, masterData:this.props.masterData}, \r\n                            openChildModal:true, screenName:deleteParam.screenName, operation:deleteParam.operation\r\n                            }\r\n                        }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else{\r\n                \r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n        else{\r\n            toast.warn(this.props.intl.formatMessage({id:\"IDS_INVALIDOWNERTODELETE\"}));\r\n        }\r\n        \r\n    }  \r\n\r\n    validateEsign = () =>{       \r\n        const inputParam = {\r\n                                inputData: {\"userinfo\": {...this.props.userInfo, \r\n                                                        sreason: this.state.selectedRecord[\"esigncomments\"] },\r\n                                             password : this.state.selectedRecord[\"esignpassword\"]\r\n                                            },\r\n                                screenData : this.props.screenData\r\n                            }        \r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\n\r\nexport default injectIntl(SampleReceivingTabs);"]},"metadata":{},"sourceType":"module"}