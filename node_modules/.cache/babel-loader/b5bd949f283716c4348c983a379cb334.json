{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useRef}from\"react\";import{useDrag}from\"react-dnd\";import Componentexp from\"./Componentexp\";import{COMPONENT,COMPONENTROW}from\"./constants\";import DropArea from\"./DropArea\";import\"./styles.css\";var Componentrow=function Componentrow(_ref){var data=_ref.data,components=_ref.components,baselength=_ref.baselength,path=_ref.path,handleDrop=_ref.handleDrop,onclickcomponent=_ref.onclickcomponent,selectedFieldRecord=_ref.selectedFieldRecord;var ref=useRef(null);var _useDrag=useDrag({type:COMPONENT,item:{type:COMPONENT,id:data.id,data:data,children:data.children,path:path},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=_slicedToArray(_useDrag,2),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1];var style={border:\"\".concat(data.children?\"1px dashed black\":\"\"),padding:\"0rem 1rem\",// backgroundColor: \"white\",\ncursor:\"move\"};var getScale=function getScale(){var scale=1;if(data.children&&data.children.length){if(baselength==1){if(data.children.length<10){scale=1-(\".\"+data.children.length)/2;}else{scale=.5-(\".\"+data.children.length);}}else if(baselength==2){if(data.children.length<10){scale=1-(\".\"+data.children.length)/1.2;}else{scale=.5-(\".\"+data.children.length);}}else if(baselength==3){if(data.children.length<10){scale=1-(\".\"+data.children.length)/.7;}else{scale=.5-(\".\"+data.children.length);}}else if(baselength==4){if(data.children.length<10){scale=1-(\".\"+data.children.length)/.6;}else{scale=.5-(\".\"+data.children.length);}}}return scale<.2?.2:scale;};var opacity=isDragging?0:1;drag(ref);//const component = components[data.id];\nvar renderColumn=function renderColumn(column,currentPath){return/*#__PURE__*/React.createElement(Componentexp,{key:column.id,data:column,components:components,handleDrop:handleDrop,path:currentPath,onclickcomponent:onclickcomponent,selectedFieldRecord:selectedFieldRecord});};return/*#__PURE__*/React.createElement(\"div\",{ref:ref,style:_objectSpread(_objectSpread({},style),{},{opacity:opacity,\"transform\":\"scale(\"+getScale()+\")\"}),className:\"base draggable row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"columns d-flex justify-content-center\"},data.children?data.children.map(function(column,index){var currentPath=\"\".concat(path,\"-\").concat(index);return/*#__PURE__*/React.createElement(React.Fragment,{key:column.id},/*#__PURE__*/React.createElement(DropArea,{data:{path:currentPath,childrenCount:data.children.length},onDrop:handleDrop,className:\"horizontalDrag\"}),renderColumn(column,currentPath));}):/*#__PURE__*/React.createElement(React.Fragment,{key:data.id},/*#__PURE__*/React.createElement(DropArea,{data:{path:\"\".concat(path,\"-\",0),childrenCount:1},onDrop:handleDrop,className:\"horizontalDrag\"}),renderColumn(data,\"\".concat(path,\"-\",0))),/*#__PURE__*/React.createElement(DropArea,{data:{path:data.children?\"\".concat(path,\"-\").concat(data.children.length):\"\".concat(path,\"-\",1),childrenCount:data.children?data.children.length:1},onDrop:handleDrop,className:\"horizontalDrag\",isLast:true})));};export default Componentrow;","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/components/droparea/Componentrow.jsx"],"names":["React","useRef","useDrag","Componentexp","COMPONENT","COMPONENTROW","DropArea","Componentrow","data","components","baselength","path","handleDrop","onclickcomponent","selectedFieldRecord","ref","type","item","id","children","collect","monitor","isDragging","drag","style","border","padding","cursor","getScale","scale","length","opacity","renderColumn","column","currentPath","map","index","childrenCount"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport Componentexp from \"./Componentexp\";\r\nimport { COMPONENT, COMPONENTROW } from \"./constants\";\r\nimport DropArea from \"./DropArea\";\r\nimport \"./styles.css\"\r\n\r\n\r\nconst Componentrow = ({ data, components, baselength, path, handleDrop, onclickcomponent, selectedFieldRecord }) => {\r\n  const ref = useRef(null);\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    \r\n    type: COMPONENT,\r\n    item: {\r\n      type: COMPONENT,\r\n      id: data.id,\r\n      data: data,\r\n      children: data.children,\r\n      path\r\n    },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging()\r\n    })\r\n  });\r\n  const style = {\r\n    border: `${data.children ? \"1px dashed black\" : \"\"}`,\r\n    padding: \"0rem 1rem\",\r\n    // backgroundColor: \"white\",\r\n    cursor: \"move\"\r\n  };\r\n  const getScale = ()=>{\r\n    let scale = 1;\r\n    if(data.children && data.children.length){\r\n      if(baselength == 1){\r\n        if(data.children.length < 10){\r\n          scale = 1-((\".\"+data.children.length)/2)\r\n        }else{\r\n          scale = .5-((\".\"+data.children.length))\r\n        }\r\n      }else if(baselength == 2){\r\n        if(data.children.length < 10){\r\n          scale = 1-((\".\"+data.children.length)/1.2)\r\n        }else{\r\n          scale = .5-((\".\"+data.children.length))\r\n        }\r\n      } else if(baselength == 3){\r\n        if(data.children.length < 10){\r\n          scale = 1-((\".\"+data.children.length)/.7)\r\n        }else{\r\n          scale = .5-((\".\"+data.children.length))\r\n        }\r\n      }else if(baselength == 4){\r\n        if(data.children.length < 10){\r\n          scale = 1-((\".\"+data.children.length)/.6)\r\n        }else{\r\n          scale = .5-((\".\"+data.children.length))\r\n        }\r\n      }\r\n\r\n\r\n\r\n    }\r\n    return scale < .2 ? .2 : scale;\r\n  }\r\n  const opacity = isDragging ? 0 : 1;\r\n  drag(ref);\r\n\r\n  //const component = components[data.id];\r\n\r\n\r\n\r\n  const renderColumn = (column, currentPath) => {\r\n    return (\r\n      <Componentexp\r\n        key={column.id}\r\n        data={column}\r\n        components={components}\r\n        handleDrop={handleDrop}\r\n        path={currentPath}\r\n        onclickcomponent={onclickcomponent}\r\n        selectedFieldRecord={selectedFieldRecord}\r\n        />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div ref={ref} style={{ ...style, opacity , \"transform\": \"scale(\"+getScale()+\")\" }} className={`base draggable row`}>\r\n      <div className=\"columns d-flex justify-content-center\">\r\n        {data.children ?\r\n          data.children.map((column, index) => {\r\n            const currentPath = `${path}-${index}`;\r\n\r\n            return (\r\n              <React.Fragment key={column.id}>\r\n                <DropArea\r\n                  data={{\r\n                    path: currentPath,\r\n                    childrenCount: data.children.length,\r\n                  }}\r\n                  onDrop={handleDrop}\r\n                  className=\"horizontalDrag\"\r\n                />\r\n                {renderColumn(column, currentPath)}\r\n              </React.Fragment>\r\n            );\r\n          }) :\r\n          <React.Fragment key={data.id}>\r\n            <DropArea\r\n              data={{\r\n                path: `${path}-${0}`,\r\n                childrenCount: 1,\r\n              }}\r\n              onDrop={handleDrop}\r\n              className=\"horizontalDrag\"\r\n            />\r\n            {renderColumn(data, `${path}-${0}`)}\r\n          </React.Fragment>\r\n        }\r\n        <DropArea\r\n          data={{\r\n            path: data.children ? `${path}-${data.children.length}` : `${path}-${1}`,\r\n            childrenCount: data.children ? data.children.length : 1\r\n          }}\r\n          onDrop={handleDrop}\r\n          className=\"horizontalDrag\"\r\n          isLast\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Componentrow;\r\n"]},"metadata":{},"sourceType":"module"}