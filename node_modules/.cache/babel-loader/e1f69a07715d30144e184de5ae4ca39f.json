{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\basemaster\\\\SampleStorageLocation.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faFileImport, faEye, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { constructOptionList, getControlMap, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles'; //import SortableTree from 'react-sortable-tree'; \n\nimport ScrollBar from 'react-perfect-scrollbar';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterTransactionList, changeStorageCategoryFilter, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation, additionalInformationData } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { ProductList } from '../product/product.styled'; // import ReactTooltip from 'react-tooltip';\n\nimport { uuid } from \"uuidv4\";\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport AddTreeview from './AddTreeview';\nimport AddTreeProperties from './AddTreeProperties';\nimport { Splitter } from '@progress/kendo-react-layout';\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport SplitterLayout from 'react-splitter-layout';\nimport StorageCategoryFilter from './StorageCategoryFilter';\nimport { transactionStatus } from '../../components/Enumeration';\nimport Esign from '../audittrail/Esign';\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\nimport { ReactComponent as RefreshIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\";\nimport ModalShow from '../../components/ModalShow';\nimport { //faBell, \nfaChevronDown, faChevronUp, faExclamationCircle } from '@fortawesome/free-solid-svg-icons';\nimport { Grid } from '@progress/kendo-react-grid';\nimport Axios from 'axios';\nimport rsapi from '../../rsapi'; //import { Upload } from '@progress/kendo-react-upload';\n\nclass SampleStorageLocation extends Component {\n  constructor(_props) {\n    super(_props);\n    this.dragOverCnt = 0;\n    this.isDragDrop = false;\n    this.SEPARATOR = '_';\n    this.uniqueIDArr = [];\n    this.countforTree = 0;\n    this.pointedItem = undefined;\n    this.getitemPath = {};\n\n    this.onChange = event => {\n      this.setState({\n        panes: event.newState\n      });\n    };\n\n    this.getSiblings = (itemIndex, data) => {\n      let result = data;\n      const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\n\n      for (let i = 0; i < indices.length - 1; i++) {\n        result = result[indices[i]].items || [];\n      }\n\n      return result;\n    };\n\n    this.onItemDragOver = event => {\n      this.dragOverCnt++;\n      this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\n    };\n\n    this.onItemDragEnd = event => {\n      this.isDragDrop = this.dragOverCnt > 0;\n      this.dragOverCnt = 0;\n      this.dragClue.hide();\n      const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n\n      if (eventAnalyzer.isDropAllowed) {\n        const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\n        this.setState({\n          tree: updatedTree\n        });\n      }\n    };\n\n    this.addChildNode = (e, clickedItem) => {\n      let iscontainerlastnode = false;\n      let ParentItem = this.searchClickedItemParent(this.state.treeData[0]);\n\n      if (ParentItem) {\n        ParentItem.items.map(item => {\n          item.expanded = false;\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === clickedItem.id) {\n          if (item['containerlastnode'] === true) {\n            iscontainerlastnode = true;\n          } else {\n            item.items = item.items || [];\n            item.expanded = true;\n            item.items.push({\n              id: uuid(),\n              text: this.props.intl.formatMessage({\n                id: \"IDS_LABEL\"\n              }),\n              expanded: true,\n              editable: false,\n              locationlastnode: false,\n              containerfirstnode: false,\n              containerlastnode: false,\n              itemhierarchy: \"\"\n            });\n          }\n        }\n\n        return item;\n      });\n\n      if (iscontainerlastnode === true) {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\"\n        }));\n      } else {\n        this.setState({\n          treeData: newData\n        });\n      }\n    };\n\n    this.cloneNode = (e, clickedItem) => {\n      let parentItem = {};\n      let parentID = '';\n      let clonedParentID = '';\n      let parentFound = false;\n      let cloneItems = {};\n      let clonedparentFound = false;\n      let newData = [...this.state.treeData];\n      let newData1 = [...this.state.treeData];\n      mapTree(this.state.treeData, \"items\", item => {\n        // if (item.items) {\n        //     if (parentFound&&(item.id===parentID)) {\n        //         parentItem = item;\n        //         parentFound = false;\n        //     }\n        // }\n        if (item.id === clickedItem.id) {\n          parentFound = true;\n          parentID = clickedItem.parentID;\n          parentItem = this.searchClickedItemParent(this.state.treeData[0]);\n        }\n\n        if (item.editable === true) {\n          clonedParentID = uuid();\n          let clonedNewParentID = uuid(); //     //  let clonedObject=//{...item}\n          //     //   Object.assign({}, item);\n          //       const clonedObject = JSON.parse(JSON.stringify(item1));\n          //      cloneItems =//[{...clonedObject}].map((data) => {\n          //       // return \n          //        this.generateUUID(clonedObject)\n          //    // })\n\n          let levelBasedParents = {};\n          cloneItems = mapTree([{ ...item\n          }], \"items\", cloneditem => {\n            // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\n            // let x=getItemPath(this.state.treeData,indices,\"items\")\n            // console.log('------------->',cloneditem)\n            // if(cloneditem.items===undefined&&clonedparentFound){\n            //     clonedParentID=uuid();\n            //     clonedparentFound=false;\n            // }\n            // else{\n            //     clonedNewParentID=uuid();\n            // }\n            // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\n            //     let level=cloneditem.itemHierarchicalIndex;\n            //     levelBasedParents={...levelBasedParents,\n            //                         [level]:uuid()\n            //                     }\n            // }\n            // if(cloneditem.items){\n            //      //if ClonedItem is a Parent\n            //     cloneditem={\n            //         ...cloneditem,\n            //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\n            //         ,\n            //         'id':clonedParentID,\n            //         'editable': false \n            //     } \n            //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n            //     //  clonedParentID=uuid()//clonedNewParentID;\n            //     // clonedparentFound=true;\n            // }else{\n            //if ClonedItem is a Child\n            cloneditem = { ...cloneditem,\n              //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\n              // ,\n              'id': uuid(),\n              'editable': false,\n              'expanded': false //   }\n              //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n\n            };\n            return cloneditem;\n          });\n        } // item={\n        //    ...item,\n        //     'id':uuid(),\n        //   'editable': false \n        //     } \n\n\n        return item;\n      });\n\n      if (parentItem === undefined) {\n        return toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_ROOTNODECANNOTBEDELETED\"\n        }));\n      }\n\n      let count = 1;\n      newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === parentItem.id) {\n          count++;\n          item.items.push( // {\n          // ...cloneItem,\n          // 'id':uuid(),\n          // 'editable': false,\n          // 'text': cloneItem['text']+'('+count+')'\n          // } \n          { ...cloneItems[0],\n            'parentID': parentID // 'id':clonedParentID\n\n          });\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData\n      });\n    };\n\n    this.equalNode = (e, clickedItem) => {\n      let parentItem = {};\n      let parentFound = false;\n      let newData = [...this.state.treeData];\n      mapTree(this.state.treeData, \"items\", item => {\n        if (item.items) {\n          if (parentFound) {\n            parentItem = item;\n            parentFound = false;\n          }\n        }\n\n        if (item.id === clickedItem.id) {\n          parentFound = true;\n        }\n\n        return item;\n      });\n\n      if (parentItem.text === undefined) {\n        newData.push({\n          id: uuid(),\n          text: this.props.intl.formatMessage({\n            id: \"IDS_LABEL\"\n          }),\n          expanded: true,\n          editable: false,\n          locationlastnode: false,\n          containerfirstnode: false,\n          containerlastnode: false,\n          itemhierarchy: \"\"\n        });\n        this.setState({\n          treeData: newData\n        });\n      } else {\n        newData = mapTree(this.state.treeData, \"items\", item => {\n          if (item.id === parentItem.id) {\n            item.items.push({\n              id: uuid(),\n              text: this.props.intl.formatMessage({\n                id: \"IDS_LABEL\"\n              }),\n              expanded: true,\n              editable: false,\n              locationlastnode: false,\n              containerfirstnode: false,\n              containerlastnode: false,\n              itemhierarchy: \"\"\n            });\n          }\n\n          return item;\n        });\n        this.setState({\n          treeData: newData\n        });\n      }\n    };\n\n    this.deleteNode = clickedItem => {\n      if (clickedItem.root && clickedItem.root === true) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PARENTNODENOTALLOWTODELETE\"\n        }));\n      } else {\n        const newData = removeItems(this.state.treeData, \"items\", item => {\n          return item.id === clickedItem.id;\n        });\n        this.setState({\n          treeData: newData\n        });\n      }\n    };\n\n    this.editRecord = (e, clickedItem) => {\n      this.setState({\n        toggleAction: !this.state.toggleAction\n      });\n    };\n\n    this.openModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: true,\n          selectedRecord: {},\n          loadTreeProperties: false,\n          treeData: [{\n            text: \"root\",\n            expanded: true,\n            editable: true,\n            root: true,\n            id: uuid()\n          }],\n          operation: \"create\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModalShow = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          loadTreeProperties: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         openModal: false, selectedRecord: {}\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedId = this.props.Login.selectedId;\n      let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n          selectedId = null;\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n        selectedId = null;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId,\n          isView: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === \"checkbox\") {\n        if (event.target.checked && event.target.name === 'nneedposition') {\n          selectedRecord['ncontainertypecode'] && delete selectedRecord['ncontainertypecode'];\n          selectedRecord['ncontainerstructurecode'] && delete selectedRecord['ncontainerstructurecode'];\n          selectedRecord['containerStructureOptions'] && delete selectedRecord['containerStructureOptions'];\n          selectedRecord['nrow'] && delete selectedRecord['nrow'];\n          selectedRecord['ncolumn'] && delete selectedRecord['ncolumn'];\n          selectedRecord['ndirectionmastercode'] && delete selectedRecord['ndirectionmastercode']; //  selectedRecord['nquantity'] = this.calculateRowColumn(selectedRecord['nrow'], selectedRecord['ncolumn']);\n        }\n\n        selectedRecord[event.target.name] = event.target.checked;\n\n        if (event.target.checked === false && event.target.name === 'nneedposition') {\n          selectedRecord['nrow'] = 1;\n          selectedRecord['ncolumn'] = 1;\n          selectedRecord['nnoofcontainer'] = 1;\n        }\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.itemRender = props => {\n      if (this.state.toggleAction) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, props.item.editable ? /*#__PURE__*/React.createElement(Form.Group, {\n          className: \"k-editable-text-wrap\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Form.Control, {\n          id: \"nodename\",\n          name: \"nodename\",\n          type: \"text\",\n          onKeyDown: e => e.stopPropagation(),\n          value: props.item.text,\n          autoFocus: true,\n          autoComplete: \"off\",\n          onChange: e => this.handleChange(e, props.item),\n          onBlur: e => this.handleBlur(e, props.item, props.itemHierarchicalIndex),\n          maxLength: \"50\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 29\n          }\n        })) : /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 25\n          }\n        }, props.item.text));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, props.item ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"d-flex align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node text-truncate\n                            ${props.item.editable ? \"active-node\" : \"\"}\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\n                            `,\n          \"data-tip\": props.item.text,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 33\n          }\n        }, props.item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 70\n          }\n        }) : props.item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 71\n          }\n        }) : props.item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 76\n          }\n        }) : props.item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 71\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 113\n          }\n        }), props.item.text), props.item.editable ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-level2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_CHILDNODE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.addChildNode(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 41\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"k-icon k-i-edit k-i-pencil ml-2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_EDIT\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.editRecord(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 715,\n            columnNumber: 41\n          }\n        }), !props.item.isRoot ? /*#__PURE__*/React.createElement(\"span\", {\n          className: \"k-icon k-i-delete ml-2\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_DELETE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.deleteNode(props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 45\n          }\n        }) : null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-toggle m-l-half\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_PROPERTIES\"\n          }),\n          onClick: e => this.setProperties(e, props),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 44\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"action-icon tree-level1\",\n          \"data-tip\": this.props.intl.formatMessage({\n            id: \"IDS_CLONENODE\"\n          }),\n          onClick: e => {\n            e.stopPropagation();\n            this.cloneNode(e, props.item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 43\n          }\n        })) : null)) : \"\");\n      }\n    };\n\n    this.onItemClick = event => {\n      // if (selectedItem) {\n      //     selectedItem.editable = false;\n      //   }\n      //   event.item.editable = true;\n      //   selectedItem = event.item; \n      // let searchedData =undefined;\n      // if(this.state.searchedTreeData){\n      //      searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\n      //         if (item1.editable === true) {\n      //             item1.editable = false;\n      //         } else if (item1.id === event.item.id) {\n      //             item1.editable = true;\n      //         }\n      //         return item1;\n      //     });\n      // } \n      // let newData = mapTree(this.state.treeData, \"items\", (item) => {\n      //     if (item.editable === true) {\n      //         item.editable = false;\n      //     } else if (item.id === event.item.id) {\n      //         item.editable = true;\n      //     }\n      //     return item;\n      // });\n      // this.setState({ treeData: newData,searchedTreeData: searchedData  }); \n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item => {\n          if (item.editable === true) {\n            item.editable = false;\n          } else if (item.id === event.item.id) {\n            item.editable = true;\n\n            if (this.pointedItem) {\n              if (this.pointedItem.id === item.id) {\n                this.pointedItem = undefined;\n              }\n            }\n\n            let result = this.state.searchedTreeData;\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n            let itemText = \"\";\n\n            for (let i = 0; i < indices.length; i++) {\n              if (i === 0) {\n                result = result[0];\n              } else {\n                result = result.items[indices[i]];\n              }\n\n              itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n            }\n\n            item.itemhierarchy = itemText;\n          }\n\n          return item;\n        });\n        searchedData.map(data => {\n          this.clearSelected(data, event.item);\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        } else if (item.id === event.item.id) {\n          item.editable = true;\n          let result = this.state.treeData;\n          const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n          let itemText = \"\";\n\n          for (let i = 0; i < indices.length; i++) {\n            if (i === 0) {\n              result = result[0];\n            } else {\n              result = result.items[indices[i]];\n            }\n\n            itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n          }\n\n          item.itemhierarchy = itemText;\n        }\n\n        return item;\n      });\n      newData.map(data => {\n        this.clearSelected(data, event.item);\n      });\n      this.setState({\n        treeData: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.toggleSearch = () => {\n      this.setState({\n        showSearch: !this.state.showSearch\n      });\n    };\n\n    this.clearSearchedState = () => {\n      this.setState({\n        searchedTreeData: undefined,\n        showSearch: false\n      });\n    };\n\n    this.navigationCounter = () => {\n      let counter = this.state.counter || 0;\n      return counter;\n    };\n\n    this.handleSearch = () => {\n      this.uniqueIDArr = [];\n      this.pointedItem = undefined;\n      this.countforTree = 0; //this.setState({searchedTreeData: undefined})\n    };\n\n    this.search = (items, term) => {\n      return items.reduce((acc, item) => {\n        if (this.contains(item.text, term)) {\n          this.uniqueIDArr.push(item.id);\n          acc.push(item);\n        } else if (item.items && item.items.length > 0) {\n          let newItems = this.search(item.items, term);\n\n          if (newItems && newItems.length > 0) {\n            acc.push({ ...item,\n              text: item.text,\n              items: newItems,\n              expanded: acc.length === 0 ? true : false //item.expanded\n\n            });\n          }\n        }\n\n        return acc;\n      }, []);\n    };\n\n    this.handlenavigation = (e, direction) => {\n      if (e.key === 'Enter' || e.type === 'click') {\n        let value = document.querySelector('.k-textbox').value;\n\n        if (value !== \"\") {\n          if (direction === 'up') {\n            //Navigate up\n            this.countforTree--;\n\n            if (this.countforTree <= 0) {\n              this.countforTree = 0;\n            }\n          } else {\n            //if(direction==='down'){\n            //Navigate down\n            this.countforTree++;\n\n            if (this.countforTree >= this.uniqueIDArr.length) {\n              if (this.uniqueIDArr.length - 1 === -1) {\n                this.countforTree = 0;\n              } else {\n                this.countforTree = this.uniqueIDArr.length - 1;\n              } //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\n\n            }\n          }\n\n          let newData = this.navigateSearchedTree(this.state.treeDataView, value);\n          this.setState({\n            searchedTreeData: JSON.parse(JSON.stringify(newData))\n          });\n        } else {\n          this.setState({\n            searchedTreeData: undefined\n          });\n        }\n      }\n    };\n\n    this.navigateSearchedTree = (items, term) => {\n      return items.reduce((acc, item) => {\n        if (item.editable) {\n          item.editable = false;\n        }\n\n        if (item.selected) {\n          item.selected = false;\n        }\n\n        if (this.contains(item.text, term)) {\n          if (!this.uniqueIDArr.includes(item.id)) {\n            this.uniqueIDArr.push(item.id);\n          }\n\n          if (item.id === this.uniqueIDArr[this.countforTree]) {\n            if (this.pointedItem) {\n              this.pointedItem = undefined;\n            }\n\n            this.pointedItem = item;\n          }\n\n          if (item.items && item.items.length > 0) {\n            let newItems = this.navigateSearchedTree(item.items, term);\n\n            if (newItems && newItems.length > 0) {\n              if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\n                acc.push({ ...item,\n                  text: item.text,\n                  items: newItems,\n                  expanded: true\n                });\n              } else {\n                acc.push({ ...item,\n                  text: item.text,\n                  items: newItems,\n                  expanded: newItems.some(item => item.expanded === true) ? true : false\n                });\n              }\n            } else {\n              acc.push(item);\n            }\n          } else {\n            acc.push(item);\n          }\n        } else if (item.items && item.items.length > 0) {\n          let newItems = this.navigateSearchedTree(item.items, term);\n\n          if (newItems && newItems.length > 0) {\n            if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\n              acc.push({ ...item,\n                text: item.text,\n                items: newItems,\n                expanded: true\n              });\n            } else {\n              acc.push({ ...item,\n                text: item.text,\n                items: newItems,\n                expanded: newItems.some(item => item.expanded === true) ? true : false\n              });\n            }\n          }\n        }\n\n        return acc;\n      }, []);\n    };\n\n    this.contains = (text, term) => {\n      return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\n    };\n\n    this.onExpandChange = event => {\n      let clickedItem = event.item;\n\n      if (!event.item.expanded) {\n        //this.onItemClick(event)\n        let ParentItem = this.searchClickedItemParent( //this.state.searchedTreeData&&\n        //this.state.searchedTreeData[0]||\n        this.state.treeData[0], clickedItem);\n\n        if (ParentItem) {\n          ParentItem.items.map(item => {\n            item.expanded = false;\n          });\n        }\n\n        this.shrinkNodes(event.item);\n      }\n\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.itemRenderView = clickedItem => {\n      let item = clickedItem.item;\n      this.getitemPath = { ...this.getitemPath,\n        [item.id]: clickedItem.itemHierarchicalIndex\n      };\n\n      if (!this.state.toggleActionView) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, clickedItem.item ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"d-flex align-items-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 29\n          }\n        }, this.pointedItem ? item.id === this.pointedItem.id && !item.selected ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"hidden-treeview-focus\",\n          id: \"selected-tree-point\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1095,\n            columnNumber: 41\n          }\n        })) : /*#__PURE__*/React.createElement(React.Fragment, null) : '', /*#__PURE__*/React.createElement(\"span\", {\n          className: `normal-node text-truncate\n                                ${this.pointedItem ? item.id === this.pointedItem.id && !item.selected ? \"pointed-node\" : item.selected ? \"active-node\" : \"\" : item.selected ? \"active-node\" : \"\"}\n                                ${item.expanded ? \"expand-node\" : \"collapse-node\"}\n                                `,\n          \"data-tip\": item.text,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 33\n          }\n        }, item.containerfirstnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBoxOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 64\n          }\n        }) : item.locationlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faLocationArrow,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1105,\n            columnNumber: 65\n          }\n        }) : item.containerlastnode ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faBox,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 70\n          }\n        }) : item.expanded ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolderOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 65\n          }\n        }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faFolder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 107\n          }\n        }), item.text), this.pointedItem && item.id === this.pointedItem.id ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n          icon: faHandPointLeft,\n          bounce: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1113,\n            columnNumber: 37\n          }\n        }) : clickedItem.item.editable ? /*#__PURE__*/React.createElement(React.Fragment, null) : null)) : \"\");\n      }\n    };\n\n    this.onItemClickView = event => {\n      // if (this.state.selectedItem) {\n      //     let selectedobj = this.state.selectedItem;\n      //         selectedobj.selected = false\n      //     this.setState({\n      //         selectedItem : selectedobj\n      //     })\n      // }\n      // this.setState({\n      //     selectedItem : event.item\n      // })             \n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item => {\n          if (item.editable === true) {\n            item.editable = false;\n          } else if (item.id === event.item.id) {\n            item.editable = true;\n\n            if (this.pointedItem) {\n              if (this.pointedItem.id === item.id) {\n                this.pointedItem = undefined;\n              }\n            }\n\n            let result = this.state.searchedTreeData;\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n            let itemText = \"\";\n\n            for (let i = 0; i < indices.length; i++) {\n              if (i === 0) {\n                result = result[0];\n              } else {\n                result = result.items[indices[i]];\n              }\n\n              itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n            }\n\n            item.itemhierarchy = itemText;\n          }\n\n          return item;\n        });\n        searchedData.map(data => {\n          this.clearSelected(data, event.item);\n        });\n      }\n\n      let newData = mapTree(this.state.treeDataView, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        } else if (item.id === event.item.id) {\n          item.editable = true;\n          let result = this.state.treeDataView;\n          const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\n          let itemText = \"\";\n\n          for (let i = 0; i < indices.length; i++) {\n            if (i === 0) {\n              result = result[0];\n            } else {\n              result = result.items[indices[i]];\n            }\n\n            itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n          }\n\n          item.itemhierarchy = itemText;\n        }\n\n        return item;\n      });\n      newData.map(data => {\n        this.clearSelected(data, event.item);\n      });\n      this.setState({\n        treeDataView: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.onExpandChangeView = event => {\n      let clickedItem = event.item;\n\n      if (!event.item.expanded) {\n        //this.onItemClick(event)\n        let ParentItem = this.searchClickedItemParent(this.state.searchedTreeData && this.state.searchedTreeData[0] || this.state.treeDataView[0], clickedItem);\n\n        if (ParentItem) {\n          ParentItem.items.map(item => {\n            item.expanded = false;\n          });\n        }\n\n        this.shrinkNodes(event.item);\n      }\n\n      event.item.expanded = !event.item.expanded;\n      this.forceUpdate();\n    };\n\n    this.setProperties = (event, clickedItem) => {\n      const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode; //this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\n\n      this.openPropertyModal(clickedItem, editId);\n    };\n\n    this.handleChange = (e, clickedItem) => {\n      let searchedData = undefined;\n\n      if (this.state.searchedTreeData) {\n        searchedData = mapTree(this.state.searchedTreeData, \"items\", item => {\n          if (item.id === clickedItem.id) {\n            item.text = e.target.value;\n          }\n\n          return item;\n        });\n      }\n\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.id === clickedItem.id) {\n          item.text = e.target.value;\n        }\n\n        return item;\n      });\n      this.setState({\n        treeData: newData,\n        searchedTreeData: searchedData\n      });\n    };\n\n    this.handleBlur = (e, clickedItem, itemHierarchicalIndex) => {\n      clickedItem.editable = false; //Added for creating path after edit \n\n      const indices = itemHierarchicalIndex.split('_').map(index => Number(index));\n      this.generatePathForEditedItem(clickedItem, indices);\n      this.setState({\n        toggleAction: !this.state.toggleAction\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.loadTreeProperties === true) {\n        this.onSaveProperties(saveType, formRef);\n      } else if (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") {\n        this.onSaveSampleStorageLocation(saveType, formRef);\n      } else if (this.props.Login.operation === \"addinfo\") {\n        this.onSaveAdditionalInformation(saveType, formRef);\n      }\n    };\n\n    this.onSaveProperties = (saveType, formRef) => {\n      const {\n        selectedRecord\n      } = this.state; // if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\n\n      if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\n        let inputData = [];\n        let jsondata = {};\n        let postParam = undefined;\n        let count = 0;\n\n        if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\n          count = count + 1;\n        }\n\n        if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\n          count = count + 1;\n        }\n\n        if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\n          count = count + 1;\n        }\n\n        if (count > 1) {\n          toast.info(this.props.intl.formatMessage({\n            id: \"IDS_SELECTONLYONE\"\n          }));\n        } else {\n          let haschild = false;\n          let newData = mapTree(this.state.treeData, \"items\", item => {\n            if (item.id === this.props.Login.clickedItem.item.id) {\n              if (item.hasOwnProperty('items') && item.items !== undefined && selectedRecord[\"containerlastnode\"] === true) {\n                haschild = true;\n              } else {\n                item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\n                item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\n                item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\n              }\n            }\n\n            if (item.selected && item.selected === true) {\n              item.selected = false;\n            }\n\n            return item;\n          });\n\n          if (haschild === true) {\n            toast.info(this.props.intl.formatMessage({\n              id: \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\"\n            }));\n          } else {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                treeData: newData,\n                selectedRecord,\n                loadTreeProperties: false,\n                loading: false\n              }\n            };\n            this.props.updateStore(updateInfo);\n          }\n        }\n      } // } else {\n      //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\n      // }\n\n    };\n\n    this.onSaveSampleStorageLocation = (saveType, formRef) => {\n      const {\n        selectedRecord\n      } = this.state; // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n      //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\n\n      let inputData = [];\n      let jsondata = {};\n      let postParam = undefined;\n      let countLevels = 0;\n      let newData = mapTree(this.state.treeData, \"items\", item => {\n        if (item.editable === true) {\n          item.editable = false;\n        }\n\n        if (item.expanded === false) {\n          item.expanded = true;\n        }\n\n        item.expanded = false;\n        countLevels++;\n        return item;\n      }); // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n      // let rhs = newData;\n      // console.log(detailedDiff(lhs, rhs));\n      // return;\n      // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\n\n      if (countLevels > 3) {\n        jsondata[\"data\"] = newData;\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        inputData[\"sampleStorageLocation\"] = {\n          \"nstatus\": 1\n        };\n        inputData[\"sampleStorageVersion\"] = {\n          \"nstatus\": 1\n        };\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\n\n        if (this.props.Login.operation === \"create\") {\n          inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? selectedRecord[\"nproductcode\"].value : -1;\n          inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ? selectedRecord[\"nprojecttypecode\"].value : -1;\n          inputData[\"sampleStorageLocation\"][\"nquantity\"] = selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 0;\n          inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord['nunitcode'] ? parseInt(selectedRecord['nunitcode']) : -1;\n          inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"] ? 3 : 4;\n          inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ? { ...inputData[\"sampleStorageLocation\"],\n            ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\n            ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\n            nneedposition: 3,\n            ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\n            nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n            nrow: selectedRecord['nrow'],\n            ncolumn: selectedRecord['ncolumn']\n          } : { ...inputData[\"sampleStorageLocation\"],\n            ncontainertypecode: -1,\n            ndirectionmastercode: 1,\n            nneedposition: 4,\n            ncontainerstructurecode: -1,\n            nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n            //ALPD-3353\n            nrow: selectedRecord['nrow'] === undefined || selectedRecord['nrow'] === 0 ? 1 : selectedRecord['nrow'],\n            ncolumn: selectedRecord['ncolumn'] === undefined || selectedRecord['ncolumn'] === 0 ? 1 : selectedRecord['ncolumn']\n          };\n        } //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\n\n\n        inputData[\"sampleStorageVersion\"][\"jsondata\"] = { ...jsondata\n        }; //ALPD-4734-Vignesh R(28-10-2024)--storage structure-->while edit the record, Feilds became empty.\n\n        if (this.props.Login.operation === \"create\") {\n          inputData[\"sampleStorageVersion\"][\"jsondata\"] = { ...inputData[\"sampleStorageVersion\"][\"jsondata\"],\n            \"additionalinfo\": { ...inputData[\"sampleStorageLocation\"],\n              \"sstoragecategoryname\": this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname ? this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname : 'NA'\n            }\n          };\n        } else if (this.props.Login.operation === \"update\") {\n          inputData[\"sampleStorageVersion\"][\"jsondata\"] = { ...inputData[\"sampleStorageVersion\"][\"jsondata\"],\n            \"additionalinfo\": { ...this.props.Login.masterData.selectedSampleStorageVersion,\n              ...inputData[\"sampleStorageLocation\"],\n              \"nstoragecategorycode\": selectedRecord[\"nstoragecategorycode\"] ? selectedRecord[\"nstoragecategorycode\"].value : -1,\n              \"sstoragecategoryname\": selectedRecord[\"nstoragecategorycode\"] ? selectedRecord[\"nstoragecategorycode\"].label : 'NA'\n            }\n          };\n        }\n\n        if (this.props.Login.operation === \"create\") {\n          const inputParam = {\n            classUrl: \"samplestoragelocation\",\n            methodUrl: \"SampleStorageLocation\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            searchRef: this.searchRef,\n            operation: \"create\",\n            saveType,\n            formRef\n          };\n          const masterData = this.props.Login.masterData;\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // }\n            // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n          }\n        } else {\n          postParam = {\n            inputListName: \"sampleStorageLocation\",\n            selectedObject: \"selectedSampleStorageLocation\",\n            primaryKeyField: \"nsamplestoragelocationcode\"\n          };\n          inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]; // inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"].value\n          // inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"].value\n\n          inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n          inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n          const inputParam = {\n            classUrl: \"samplestoragelocation\",\n            methodUrl: \"SampleStorageLocation\",\n            displayName: this.props.Login.inputParam.displayName,\n            inputData: inputData,\n            searchRef: this.searchRef,\n            postParam,\n            operation: \"update\",\n            saveType,\n            formRef\n          };\n          const masterData = this.props.Login.masterData;\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n          }\n        }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_CREATEATLEASTFOURLEVELS\"\n        }));\n      }\n    };\n\n    this.onSaveAdditionalInformation = (saveType, formRef) => {\n      let postParam = undefined;\n      postParam = {\n        inputListName: \"sampleStorageLocation\",\n        selectedObject: \"selectedSampleStorageLocation\",\n        primaryKeyField: \"nsamplestoragelocationcode\"\n      };\n      const {\n        selectedRecord\n      } = this.state;\n      let inputData = [];\n      let jsondata = {};\n      inputData[\"sampleStorageLocation\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ? selectedRecord[\"nprojecttypecode\"].value : -1;\n      inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord[\"nunitcode\"] && selectedRecord[\"nunitcode\"].value ? selectedRecord[\"nunitcode\"].value : -1;\n      inputData[\"sampleStorageLocation\"][\"nquantity\"] = selectedRecord[\"nquantity\"] && selectedRecord[\"nquantity\"] ? parseFloat(selectedRecord[\"nquantity\"]) : 0;\n      inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? selectedRecord[\"nproductcode\"].value : -1;\n      inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"] ? 3 : 4;\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode ? this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode : 0;\n      inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ? { ...inputData[\"sampleStorageLocation\"],\n        ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\n        ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\n        nneedposition: 3,\n        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\n        // nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 1,\n        nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n        nrow: selectedRecord['nrow'],\n        ncolumn: selectedRecord['ncolumn']\n      } : { ...inputData[\"sampleStorageLocation\"],\n        ncontainertypecode: -1,\n        ndirectionmastercode: 1,\n        nneedposition: 4,\n        ncontainerstructurecode: -1,\n        // nquantity: selectedRecord['nquantity'] ?  parseInt(selectedRecord['nquantity']) : 1,\n        nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n        nrow: selectedRecord['nrow'],\n        ncolumn: selectedRecord['ncolumn']\n      }; //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\n\n      jsondata = { ...inputData[\"sampleStorageLocation\"],\n        \"sproductname\": selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].label ? selectedRecord[\"nproductcode\"].label : \"-\",\n        \"sprojecttypename\": selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].label ? selectedRecord[\"nprojecttypecode\"].label : 'NA',\n        \"scontainertype\": selectedRecord['ncontainertypecode'] && selectedRecord[\"ncontainertypecode\"].label ? selectedRecord[\"ncontainertypecode\"].label : 'NA',\n        \"sdirection\": selectedRecord['ndirectionmastercode'] && selectedRecord[\"ndirectionmastercode\"].label ? selectedRecord[\"ndirectionmastercode\"].label : 'NA',\n        \"scontainerstructurename\": selectedRecord['ncontainerstructurecode'] && selectedRecord[\"ncontainerstructurecode\"].label ? selectedRecord[\"ncontainerstructurecode\"].label : 'NA',\n        \"sstoragecategoryname\": this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname ? this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname : 'NA',\n        \"sunitname\": selectedRecord[\"nunitcode\"] && selectedRecord[\"nunitcode\"].label ? selectedRecord[\"nunitcode\"].label : \"NA\"\n      };\n      inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\n      const inputParam = {\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageLocation\",\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: inputData,\n        searchRef: this.searchRef,\n        postParam,\n        operation: \"addinfo\",\n        saveType,\n        formRef\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.deleteSampleStorageLocation = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      }); // if (this.searchRef.current) {\n      //     this.searchRef.current.value = \"\";\n      // }\n\n      const postParam = {\n        inputListName: \"sampleStorageLocation\",\n        selectedObject: \"selectedSampleStorageLocation\",\n        primaryKeyField: \"nsamplestoragelocationcode\",\n        primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\n        fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        },\n        unchangeList: []\n      };\n      let inputData = [];\n      inputData[\"sampleStorageVersion\"] = {};\n      inputData[\"sampleStorageLocation\"] = {};\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\n      const inputParam = {\n        methodUrl: \"SampleStorageLocation\",\n        classUrl: \"samplestoragelocation\",\n        inputData: inputData,\n        postParam,\n        operation: \"delete\" //searchRef: this.searchRef\n\n      };\n      const masterData = this.props.Login.masterData; // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            operation: \"delete\",\n            openModal: true,\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.confirmDelete = ncontrolCode => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteSampleStorageLocation(ncontrolCode));\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.handleDetailPageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.calculateRowColumn = (Row, column) => {\n      let nnoofcontainer = Row * column;\n      return nnoofcontainer;\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (caseNo === 3) {\n        let nfilterStorageCategory = this.state.nfilterStorageCategory || {};\n        nfilterStorageCategory = comboData;\n\n        if (this.searchRef.current) {\n          this.searchRef.current.value = \"\";\n        }\n\n        this.setState({\n          nfilterStorageCategory\n        });\n      } else {\n        if (fieldName === 'nstoragecategorycode') {\n          this.getSampleStorageLocation({\n            userinfo: this.props.userInfo,\n            nstoragecategorycode: comboData.value\n          }, fieldName, comboData);\n        } else if (fieldName === 'ncontainertypecode') {\n          this.getContainerStructure({\n            userinfo: this.props.userInfo,\n            ncontainertypecode: comboData.value\n          }, fieldName, comboData);\n        } else if (fieldName === 'ncontainerstructurecode') {\n          selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\n          selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\n          selectedRecord['nnoofcontainer'] = selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(selectedRecord['nrow'], selectedRecord['ncolumn']) : 1;\n        } else if (fieldName === 'nsamplestoragelocationcode') {\n          this.getSampleStorageLocation({\n            userinfo: this.props.userInfo,\n            nstoragecategorycode: this.props.selectedRecordFilter['nstoragecategorycode'].value,\n            nsamplestoragelocationcode: comboData.value\n          }, fieldName, comboData);\n        }\n\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n\n      if (this.state.nfilterStorageCategory.value) {\n        let inputParam = {\n          inputData: {\n            nstoragecategorycode: this.state.nfilterStorageCategory.value,\n            userinfo: this.props.Login.userInfo,\n            nfilterStorageCategory: this.state.nfilterStorageCategory\n          }\n        };\n        this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_STORAGECATEGORYNOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.onApproveSampleStorageLocation = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      }); // if (this.searchRef.current) {\n      //     this.searchRef.current.value = \"\";\n      // }\n\n      const postParam = {\n        inputListName: \"sampleStorageLocation\",\n        selectedObject: \"selectedSampleStorageLocation\",\n        primaryKeyField: \"nsamplestoragelocationcode\",\n        primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\n        fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      let inputData = [];\n      let locationEnd = false;\n      let storageStart = false;\n      let storageEnd = false;\n      let containers = [];\n      let containerpath = [];\n      let containerlastnode = [];\n      mapTree(this.state.treeDataView //this.state.treeData\n      , \"items\", item => {\n        if (item.locationlastnode === true) {\n          locationEnd = true;\n        }\n\n        if (item.containerfirstnode === true) {\n          storageStart = true;\n          containers.push({\n            itemHierarchy: item.itemhierarchy,\n            scontainercode: item.id\n          });\n        }\n\n        if (item.containerlastnode === true) {\n          storageEnd = true;\n          containerpath.push({\n            scontainerpath: item.itemhierarchy\n          });\n          containerlastnode.push(item.text);\n        }\n\n        return null;\n      }); // if (locationEnd === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\n      //     return;\n      // }\n      // if (storageStart === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\n      //     return;\n      // }\n      // if (storageEnd === false) {\n      //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\n      //     return;\n      // }\n\n      const masterData = this.props.Login.masterData;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"containers\"] = containers;\n      inputData[\"containerpath\"] = JSON.stringify(containerpath);\n      inputData[\"containerpathsize\"] = containerpath.length;\n      inputData[\"containerlastnode\"] = JSON.stringify(containerlastnode);\n      inputData[\"propertyValidation\"] = {\n        \"locationEnd\": locationEnd,\n        \"storageStart\": storageStart,\n        \"storageEnd\": storageEnd\n      };\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      inputData[\"selectedSampleStorageLocation\"] = masterData.selectedSampleStorageLocation;\n      const inputParam = {\n        inputData: inputData,\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageLocation\",\n        displayName: \"IDS_STORAGESTRUCTURE\",\n        userInfo: this.props.Login.userInfo,\n        operation: \"Approve\",\n        postParam,\n        searchRef: this.searchRef,\n        selectedRecord: { ...this.state.selectedRecord\n        }\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            operation: \"Approve\",\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.viewAdditionalInfo = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          isView: true,\n          openModal: true\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.additionalInformation = (selectedSampleStorageVersion, userInfo, addInfoId) => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      }); // if (this.searchRef.current) {\n      //     this.searchRef.current.value = \"\";\n      // }\n\n      let isOnlyDraft = false;\n\n      if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\n        isOnlyDraft = true;\n      }\n\n      this.props.additionalInformationData(selectedSampleStorageVersion, userInfo, isOnlyDraft, addInfoId);\n    };\n\n    this.importdata = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName: 'IDS_IMPORT',\n          openModal: true\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.copySampleStorageversion = ncontrolCode => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      }); // if (this.searchRef.current) {\n      //     this.searchRef.current.value = \"\";\n      // }\n\n      let postParam = undefined;\n      postParam = {\n        inputListName: \"sampleStorageLocation\",\n        selectedObject: \"selectedSampleStorageLocation\",\n        primaryKeyField: \"nsamplestoragelocationcode\",\n        primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\n        fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      let inputData = [];\n      let jsondata = [];\n      const masterData = this.props.Login.masterData;\n      let selectedRecord = this.state.selectedRecord;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      inputData[\"sampleStorageLocation\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"] = {\n        \"nstatus\": 1\n      };\n      inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\n      inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]; //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\n\n      jsondata = {\n        \"nprojecttypecode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nprojecttypecode || -1,\n        \"nquantity\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nquantity ? parseFloat(masterData.selectedSampleStorageLocation.nquantity) : 0 || 0,\n        \"nunitcode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nunitcode || -1,\n        \"nproductcode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nproductcode || -1,\n        \"nneedautomapping\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nneedautomapping || -1,\n        \"nstoragecategorycode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nstoragecategorycode || -1,\n        \"ncontainertypecode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncontainertypecode || -1,\n        \"nneedposition\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nneedposition || -1,\n        \"ndirectionmastercode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ndirectionmastercode || -1,\n        \"ncontainerstructurecode\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncontainerstructurecode || -1,\n        \"nrow\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nrow || -1,\n        \"ncolumn\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncolumn || -1,\n        \"nnoofcontainer\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nnoofcontainer || -1,\n        \"sprojecttypename\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sprojecttypename || 'NA',\n        \"sproductname\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sproductname || 'NA',\n        \"scontainertype\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.scontainertype || 'NA',\n        \"sdirection\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sdirection || 'NA',\n        \"scontainerstructurename\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.scontainerstructurename || 'NA',\n        \"sstoragecategoryname\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sstoragecategoryname || 'NA',\n        \"sunitname\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sunitname || 'NA'\n      };\n      inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\n      inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\n      inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\n      const inputParam = {\n        inputData: inputData,\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageVersion\",\n        displayName: \"IDS_STORAGESTRUCTURE\",\n        postParam,\n        searchRef: this.searchRef,\n        userInfo: this.props.Login.userInfo,\n        operation: \"copy\"\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            operation: \"copy\",\n            screenName: this.props.Login.inputParam.displayName\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.reloadData = () => {\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      } // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\n\n\n      let nfilterStorageCategory = this.props.Login.masterData.selectedStorageCategory && this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode;\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo,\n          \"nstoragecategorycode\": nfilterStorageCategory\n        },\n        classUrl: \"samplestoragelocation\",\n        methodUrl: \"SampleStorageLocation\",\n        displayName: \"IDS_STORAGESTRUCTURE\",\n        userInfo: this.props.Login.userInfo\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.onNumericInputChange = (value, field) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let constantvalue = value.target.value; // Added by reukshana for restricting negative symbol \n      // ALPD-5172 Sample storage mapping screen -> While saving sample storage mapping 500 error is occurring in specific scenario.\n\n      let regAllow = /^-\\d+(\\.\\d+)?$/;\n\n      if (!regAllow.test(constantvalue)) {\n        if (field === 'nnoofcontainer') {\n          if (constantvalue !== 0) {\n            selectedRecord['nrow'] = 1;\n            selectedRecord['ncolumn'] = constantvalue;\n          } else {\n            selectedRecord['nrow'] && delete selectedRecord['nrow'];\n            selectedRecord['ncolumn'] && delete selectedRecord['ncolumn'];\n          }\n        }\n\n        if (!isNaN(constantvalue)) {\n          selectedRecord[field] = constantvalue;\n          this.setState({\n            selectedRecord\n          });\n        }\n      }\n    };\n\n    this.onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      }); // if (this.searchRef.current) {\n      //     this.searchRef.current.value = \"\";\n      // }\n\n      let isOnlyDraft = false;\n\n      if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\n        isOnlyDraft = true;\n      }\n\n      this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\n    };\n\n    this.openStorageLocation = addId => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\n        this.props.fetchStorageCategory({\n          userInfo: this.props.Login.userInfo,\n          id: uuid(),\n          nfilterStorageCategory: this.state.nfilterStorageCategory,\n          addId\n        });\n      } else {\n        toast.warning(this.props.intl.formatMessage({\n          id: \"IDS_SELECTSTORAGECATEGORY\"\n        }));\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        }\n      } else if (event.target.type === 'select-one') {\n        selectedRecord[event.target.name] = event.target.value;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.state = {\n      treeData: [{\n        title: 'Chicken',\n        children: [{\n          title: 'Egg'\n        }]\n      }],\n      toggleAction: false,\n      treeDataView: undefined,\n      toggleActionView: false,\n      keyIndentify: false,\n      treeData: [{\n        //  text: \"root\",\n        text: this.props.intl.formatMessage({\n          id: \"IDS_ROOT\"\n        }),\n        expanded: true,\n        editable: true,\n        root: true,\n        id: uuid()\n      }],\n      panes: [{\n        size: '50%',\n        scrollable: false\n      }],\n      selectedRecord: {},\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      detailSkip: 0,\n      detailTake: 10,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      splitChangeWidthPercentage: 22,\n      selectedItem: undefined\n    };\n    this.searchRef = React.createRef();\n    this.dragClue = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== \"\" && props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.pointedItem) {\n      let scrollDoc = document.getElementById('selected-tree-point');\n\n      if (scrollDoc) {\n        scrollDoc.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n    }\n\n    let isComponentUpdated = false;\n    let {\n      filterData\n    } = this.state;\n    let selectedRecord = this.state.selectedRecord || {};\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        controlMap,\n        userRoleControlRights\n      });\n    }\n\n    if (this.props.Login.treeData !== previousProps.Login.treeData) {\n      this.setState({\n        treeData: this.props.Login.treeData\n      });\n    }\n\n    if (this.props.Login.treeDataView !== previousProps.Login.treeDataView) {\n      this.setState({\n        treeDataView: this.props.Login.treeDataView\n      });\n    }\n\n    if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\n      if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\n        if (this.searchRef.current) {//  this.searchRef.current.value = \"\";\n        }\n\n        this.handleSearch();\n        this.setState({\n          treeDataView: JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\n          searchedTreeData: undefined,\n          showSearch: false\n        });\n      } else {\n        if (this.searchRef.current) {//  this.searchRef.current.value = \"\";\n        }\n\n        this.handleSearch();\n        this.setState({\n          treeDataView: undefined,\n          searchedTreeData: undefined,\n          showSearch: false\n        });\n      }\n    }\n\n    let nfilterStorageCategory = this.state.nStorageCategory || {};\n    let filterStorageCategory = this.state.filterStorageCategory || {};\n\n    if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\n      const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\", \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\n      filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\n\n      if (filterStorageCategory && filterStorageCategory.length > 0) {\n        const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory); //filterStorageCategory[0];\n\n        nfilterStorageCategory = filterCategory[0];\n      }\n\n      isComponentUpdated = true;\n      const filterData = this.generateBreadCrumData(); //ALPD-4495 ALPD-4733 janakumar  pagination  work \n\n      let take = this.state.take;\n      let skip = 0;\n      this.setState({\n        filterData,\n        skip,\n        take\n      });\n    } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\n      nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\n      isComponentUpdated = true;\n      const filterData = this.generateBreadCrumData(); //ALPD-4495 ALPD-4733 janakumar  pagination  work \n\n      let take = this.state.take;\n      let skip = 0;\n      this.setState({\n        filterData,\n        skip,\n        take\n      });\n    }\n\n    if (isComponentUpdated) {\n      this.setState({\n        nfilterStorageCategory,\n        selectedRecord,\n        filterStorageCategory\n      });\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    } //below lines commented by rukshana\n    //Added by janakumar ALPD-5125 Storage Structure  Search Pagination Error on Page 2\n    // if(this.props.Login.dataState !==previousProps.Login.dataState){\n    //     if(this.props.Login.dataState!==undefined){\n    //         const take=this.props.Login.dataState.take;\n    //         const skip=this.props.Login.dataState.skip;\n    //         this.setState({ skip ,take});\n    //     }\n    // }\n    // if (this.props.Login.masterData !== previousProps.Login.masterData) {\n    //     const filterData = this.generateBreadCrumData();\n    //     //ALPD-4495 janakumar  pagination  work \n    //     let take=this.state.take;\n    //     let skip=0\n    //     this.setState({ filterData ,skip ,take});\n    // }\n\n  }\n\n  getClueClassName(event) {\n    const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\n    const {\n      itemHierarchicalIndex: itemIndex\n    } = eventAnalyzer.destinationMeta;\n\n    if (eventAnalyzer.isDropAllowed) {\n      switch (eventAnalyzer.getDropOperation()) {\n        case 'child':\n          return 'k-i-plus';\n\n        case 'before':\n          return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\n\n        case 'after':\n          const siblings = this.getSiblings(itemIndex, this.state.tree);\n          const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\n          return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\n\n        default:\n          break;\n      }\n    }\n\n    return 'k-i-cancel';\n  }\n\n  // generateUUID(innerObj) {\n  //     // let parentIDNew=uuid()\n  //     // let innerObjNew={...innerObj,\n  //     //                 'id':parentIDNew } \n  //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\n  //     //     innerObjNew.items.map((childObj) => { \n  //     //         childObj={...childObj,\n  //     //         'parentID':parentIDNew}\n  //     //         this.generateUUID(childObj)\n  //     //     })\n  //     // }\n  //     let parentIDNew=uuid()\n  //     let innerObjNew={...innerObj,\n  //            'id':parentIDNew } \n  //  if (innerObjNew.items && innerObjNew.items.length > 0) {\n  //        innerObjNew.items.map((childObj) => { \n  //                 childObj={...childObj,\n  //                 'parentID':parentIDNew}\n  //                 return  this.generateUUID(childObj)\n  //             })\n  // } \n  //     return innerObjNew\n  // }\n  generateUUID(innerObj) {\n    let parentIDNew = uuid();\n    let innerObjNew = { ...innerObj,\n      'id': parentIDNew\n    }; //  innerObj['id']=parentIDNew  \n\n    if (innerObj.items && innerObj.items.length > 0) {\n      for (let Obj of innerObj.items) {\n        let childObj = Obj;\n        childObj = { ...childObj,\n          'parentID': parentIDNew\n        }; //childObj['parentID']=parentIDNew\n\n        this.generateUUID(childObj);\n      }\n    }\n\n    return innerObj;\n  }\n\n  searchClickedItemParent(treeData, clickedItem) {\n    let ParentItem = { ...treeData\n    };\n\n    if (ParentItem.items && ParentItem.items.length > 0) {\n      let childArray = ParentItem.items;\n\n      if (childArray.length > 0) {\n        for (var i = 0; i < childArray.length; i++) {\n          let childData = childArray[i];\n\n          if (clickedItem ? clickedItem.id === childData.id : childData.editable === true) {\n            return treeData;\n          } else {\n            if (childData.items) {\n              ParentItem = this.searchClickedItemParent(childData, clickedItem);\n\n              if (ParentItem) {\n                return ParentItem;\n              }\n            }\n          }\n        }\n      }\n    } //    return ParentItem;\n\n  }\n\n  shrinkNodes(ParentItem) {\n    //  ParentItem.expanded=false;\n    if (ParentItem.items && ParentItem.items.length > 0) {\n      let childArray = ParentItem.items;\n\n      if (childArray.length > 0) {\n        for (var i = 0; i < childArray.length; i++) {\n          let childData = childArray[i];\n          childData.expanded = false;\n\n          if (childData.items) {\n            this.shrinkNodes(childData);\n          }\n        }\n      }\n    }\n  }\n\n  clearSelected(innerObj, selectedItem) {\n    if (innerObj.id == selectedItem.id) {\n      innerObj.selected = true;\n    } else {\n      innerObj.selected = false;\n    }\n\n    if (innerObj.items && innerObj.items.length > 0) {\n      innerObj.items.map(childObj => {\n        this.clearSelected(childObj, selectedItem);\n      });\n    }\n\n    return innerObj;\n  }\n\n  openPropertyModal(clickedItem, editId) {\n    let selectedRecord = this.state.selectedRecord || {};\n    selectedRecord[\"locationlastnode\"] = clickedItem.item.locationlastnode === undefined ? false : clickedItem.item.locationlastnode;\n    selectedRecord[\"containerfirstnode\"] = clickedItem.item.containerfirstnode === undefined ? false : clickedItem.item.containerfirstnode;\n    selectedRecord[\"containerlastnode\"] = clickedItem.item.containerlastnode === undefined ? false : clickedItem.item.containerlastnode;\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        selectedRecord,\n        loadTreeProperties: true,\n        clickedItem,\n        loading: false\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  //generate Path for edited item \n  generatePathForEditedItem(ParentItem, indices) {\n    if (ParentItem.items && ParentItem.items.length > 0) {\n      let childArray = ParentItem.items;\n\n      if (childArray.length > 0) {\n        for (var i = 0; i < childArray.length; i++) {\n          let childData = childArray[i];\n          let result = this.state.treeData;\n          indices.push(i);\n          let itemText = \"\";\n\n          for (let i = 0; i < indices.length; i++) {\n            if (i === 0) {\n              result = result[0];\n            } else {\n              result = result.items[indices[i]];\n            }\n\n            itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n          }\n\n          childData.itemhierarchy = itemText;\n\n          if (childData.items) {\n            this.generatePathForEditedItem(childData, indices);\n          }\n\n          indices.pop();\n        }\n      }\n    } else {\n      let result = this.state.treeData;\n      let itemText = \"\";\n\n      for (let i = 0; i < indices.length; i++) {\n        if (i === 0) {\n          result = result[0];\n        } else {\n          result = result.items[indices[i]];\n        }\n\n        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\n      }\n\n      ParentItem.itemhierarchy = itemText;\n    }\n  }\n\n  getSampleStorageLocation(inputData, fieldName, comboData) {\n    let selectedRecordFilter = this.props.selectedRecordFilter || {};\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n\n    if (fieldName === 'nsamplestoragelocationcode') {\n      inputParamData = {\n        nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\n        nsamplestoragelocationcode: comboData.value,\n        userinfo: this.props.Login.userInfo\n      };\n    } else {\n      inputParamData = {\n        nstoragecategorycode: comboData.value,\n        userinfo: this.props.Login.userInfo\n      };\n    }\n\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        storageLocationOptions,\n        sampleStorageVersionOptions\n      } = this.state;\n      let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", undefined, undefined, undefined);\n      storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\n      let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\", \"nversionno\", undefined, undefined, undefined);\n      sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\n      selectedRecordFilter = { ...selectedRecordFilter,\n        nsamplestoragelocationcode: storageLocationOptions.length > 0 ? storageLocationOptions[0] : [],\n        nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ? sampleStorageVersionOptions[0] : []\n      };\n      this.setState({\n        storageLocationOptions,\n        sampleStorageVersionOptions,\n        selectedRecordFilter: { ...selectedRecordFilter,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  getContainerStructure(inputData, fieldName, comboData) {\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n    inputParamData = {\n      ncontainertypecode: comboData.value,\n      userinfo: inputData.userinfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        containerStructureOptions,\n        selectedRecord\n      } = this.state;\n      let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, undefined);\n      containerStructureOptions = containerStructureList.get(\"OptionList\");\n      selectedRecord = { ...selectedRecord,\n        nnoofcontainer: selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(containerStructureOptions[0].item.nrow, containerStructureOptions[0].item.ncolumn) : 1,\n        nrow: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.nrow : 1,\n        ncolumn: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.ncolumn : 1,\n        ncontainerstructurecode: containerStructureOptions.length > 0 ? containerStructureOptions[0] : [],\n        containerStructureOptions: containerStructureOptions.length > 0 ? [...containerStructureOptions] : []\n      };\n      this.setState({\n        selectedRecord: { ...selectedRecord,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n\n    if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_STORAGECATEGORY\",\n        \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\" // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n        //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n\n      });\n    }\n\n    return breadCrumbData;\n  }\n\n  render() {\n    const addId = this.state.controlMap.has(\"Add SampleStorageStructure\") && this.state.controlMap.get(\"Add SampleStorageStructure\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"Edit SampleStorageStructure\") && this.state.controlMap.get(\"Edit SampleStorageStructure\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"Delete SampleStorageStructure\") && this.state.controlMap.get(\"Delete SampleStorageStructure\").ncontrolcode;\n    const copyId = this.state.controlMap.has(\"Copy SampleStorageStructure\") && this.state.controlMap.get(\"Copy SampleStorageStructure\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"Approve SampleStorageStructure\") && this.state.controlMap.get(\"Approve SampleStorageStructure\").ncontrolcode;\n    const addInfoId = this.state.controlMap.has(\"AdditionalInformation\") && this.state.controlMap.get(\"AdditionalInformation\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"sampleStorageLocation\",\n      selectedObject: \"selectedSampleStorageLocation\",\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchRef: this.searchRef,\n      searchFieldList: [\"ssamplestoragelocationname\"]\n    };\n    const infoFields = [{\n      \"dataField\": \"sstoragecategoryname\",\n      \"idsName\": \"IDS_STORAGECATEGORY\"\n    }, {\n      \"dataField\": \"ssamplestoragelocationname\",\n      \"idsName\": \"IDS_STORAGESTRUCTURENAME\"\n    }, {\n      \"dataField\": \"sprojecttypename\",\n      \"idsName\": \"IDS_PROJECT\"\n    }, {\n      \"dataField\": \"sproductname\",\n      \"idsName\": \"IDS_PRODUCT\"\n    }, {\n      \"dataField\": \"nquantity\",\n      \"idsName\": \"IDS_QUANTITY\"\n    }, {\n      \"dataField\": \"sunitname\",\n      \"idsName\": \"IDS_UNIT\"\n    }, {\n      \"dataField\": \"scontainertype\",\n      \"idsName\": \"IDS_CONTAINERTYPE\"\n    }, {\n      \"dataField\": \"scontainerstructurename\",\n      \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\"\n    }, {\n      \"dataField\": \"nnoofcontainer\",\n      \"idsName\": \"IDS_NOOFSAMPLECONTAINER\"\n    }, {\n      \"dataField\": \"sdirection\",\n      \"idsName\": \"IDS_DIRECTION\"\n    }, {\n      \"dataField\": \"nrow\",\n      \"idsName\": \"IDS_ROWS\"\n    }, {\n      \"dataField\": \"ncolumn\",\n      \"idsName\": \"IDS_COLUMNS\"\n    }, {\n      \"dataField\": \"sneedautomapping\",\n      \"idsName\": \"IDS_AUTOMAPPING\"\n    }]; // const mandatoryFields =\n    //     this.state.selectedRecord[\"nneedposition\"] === undefined ||\n    //         this.state.selectedRecord[\"nneedposition\"] === false ?\n    //         [\n    //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\n    //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n    //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n    //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n    //             // {\n    //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n    //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n    //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n    //             // }\n    //         ]\n    //         : [\n    //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\n    //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n    //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n    //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n    //             // {\n    //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n    //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n    //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n    //             // },  \n    //             {\n    //                 \"idsName\": \"IDS_CONTAINERTYPE\",\n    //                 \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\n    //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\n    //             },\n    //             {\n    //                 \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n    //                 \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\n    //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\n    //             },\n    //             {\n    //                 \"idsName\": \"IDS_DIRECTION\",\n    //                 \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\n    //                     \"IDS_ENTER\", \"controlType\": \"selectbox\"\n    //             }\n    //         ]\n\n    const mandatoryFields = this.state.selectedRecord[\"nneedposition\"] === undefined || this.state.selectedRecord[\"nneedposition\"] === false && this.props.Login.operation !== \"addinfo\" ? [{\n      \"idsName\": \"IDS_STORAGECATEGORY\",\n      \"dataField\": \"nstoragecategorycode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_STORAGESTRUCTURENAME\",\n      \"dataField\": \"ssamplestoragelocationname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }] : this.props.Login.operation === \"create\" ? [{\n      \"idsName\": \"IDS_STORAGECATEGORY\",\n      \"dataField\": \"nstoragecategorycode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_STORAGESTRUCTURENAME\",\n      \"dataField\": \"ssamplestoragelocationname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }] : this.props.Login.operation === \"addinfo\" && this.state.selectedRecord[\"nneedposition\"] !== undefined && this.state.selectedRecord[\"nneedposition\"] === true ? [{\n      \"idsName\": \"IDS_CONTAINERTYPE\",\n      \"dataField\": \"ncontainertypecode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n      \"dataField\": \"ncontainerstructurecode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }, {\n      \"idsName\": \"IDS_DIRECTION\",\n      \"dataField\": \"ndirectionmastercode\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"selectbox\"\n    }] : \"\";\n    const breadCrumbData = this.state.filterData || [];\n    const confirmMessage = new ConfirmMessage();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-4 screen-height-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2370,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2372,\n        columnNumber: 25\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2374,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      className: \"parent-port-height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2375,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SplitterLayout, {\n      borderColor: \"#999\",\n      percentage: true,\n      primaryIndex: 1,\n      onSecondaryPaneSizeChange: this.paneSizeChange,\n      secondaryInitialSize: 25,\n      primaryMinSize: 40,\n      secondaryMinSize: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2378,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMasterJsonView, {\n      paneHeight: this.state.parentHeight,\n      needMultiSelect: false,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || [],\n      selectedMaster: this.props.Login.masterData.selectedSampleStorageLocation && [this.props.Login.masterData.selectedSampleStorageLocation] || [],\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      getMasterDetail: selectedItem => this.props.getSelectedSampleStorageLocation(selectedItem, this.props.Login.userInfo, this.props.Login.masterData),\n      inputParam: {\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData\n      },\n      mainField: \"ssamplestoragelocationname\",\n      selectedListName: \"selectedSampleStorageLocation\",\n      objectName: \"LocationMaster\",\n      listName: \"IDS_STORAGESTRUCTURE\",\n      filterColumnData: this.props.filterTransactionList,\n      searchListName: \"searchedData\",\n      searchRef: this.searchRef,\n      filterParam: filterParam,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      needFilter: true,\n      hidePaging: false,\n      handlePageChange: this.handlePageChange,\n      skip: this.state.skip,\n      take: this.state.take,\n      commonActions: /*#__PURE__*/React.createElement(ProductList, {\n        className: \"d-flex product-category float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2415,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-icon-rounded btn-circle solid-blue\",\n        role: \"button\",\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_ADD\"\n        }) // data-for=\"tooltip-common-wrap\"\n        ,\n        hidden: this.state.userRoleControlRights.indexOf(addId) === -1,\n        onClick: () => this.openStorageLocation(addId),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2416,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faPlus,\n        title: this.props.intl.formatMessage({\n          id: \"IDS_ADD\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2421,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-circle outline-grey ml-2 p-0\",\n        variant: \"link\",\n        onClick: () => this.reloadData() // data-for=\"tooltip-common-wrap\"\n        ,\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_REFRESH\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2423,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(RefreshIcon, {\n        className: \"custom_icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2427,\n          columnNumber: 53\n        }\n      }))),\n      filterComponent: [{\n        \"IDS_TESTFILTER\": /*#__PURE__*/React.createElement(StorageCategoryFilter, {\n          filterStorageCategory: this.state.filterStorageCategory || [],\n          nfilterStorageCategory: this.state.nfilterStorageCategory || {},\n          onComboChange: this.onComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2434,\n            columnNumber: 49\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2380,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(SplitterLayout, {\n      vertical: true,\n      borderColor: \"#999\",\n      percentage: true,\n      primaryIndex: 1 //secondaryInitialSize={400}\n      ,\n      customClassName: \"fixed_list_height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2445,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2449,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2450,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      style: {\n        paddingRight: '0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2451,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMasterJsonView, {\n      masterList: //this.props.Login.masterData.searchedData ||\n      this.props.Login.masterData.sampleStorageVersion || [],\n      needMultiSelect: false,\n      selectedMaster: this.props.Login.masterData.selectedSampleStorageVersion && [this.props.Login.masterData.selectedSampleStorageVersion] || [],\n      primaryKeyField: \"nsamplestorageversioncode\",\n      getMasterDetail: selectedItem => this.props.getSelectedSampleStorageVersion(selectedItem, this.props.Login.userInfo, this.props.Login.masterData),\n      inputParam: {\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData\n      },\n      mainField: \"nversionno\",\n      mainFieldLabel: this.props.intl.formatMessage({\n        id: \"IDS_VERSION\"\n      }),\n      selectedListName: \"selectedSampleStorageVersion\",\n      objectName: \"Version\",\n      listName: \"IDS_SAMPLESTORAGEVersion\",\n      hideSearch: true,\n      needValidation: false,\n      needFilter: false,\n      moreField: [],\n      skip: this.state.detailSkip,\n      take: this.state.detailTake,\n      hidePaging: true,\n      handlePageChange: this.handleDetailPageChange,\n      splitModeClass: this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : '' // actionIcons={\n      //     [\n      //         {\n      //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n      //             controlname: \"faPencilAlt\",\n      //             objectName: \"detailtoedit\",\n      //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n      //         },\n      //         {\n      //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n      //             controlname: \"faTrashAlt\",\n      //             objectName: \"mastertodelete\",\n      //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      //             onClick: () => this.confirmDelete(deleteId)\n      //         }\n      //     ]\n      // }\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2453,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2504,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"panel-main-content grid-master \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2506,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2508,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2509,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2510,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2511,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2512,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2513,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"action-icons-wrap mr-2 pl-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2514,\n        columnNumber: 77\n      }\n    }, this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined  outline-secondary btn-sm mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2517,\n        columnNumber: 85\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_DRAFT\",\n      defaultMessage: \"Draft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2518,\n        columnNumber: 89\n      }\n    })) : this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ? /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined outline-danger btn-sm mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2523,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_RETIRED\",\n      defaultMessage: \"Retired\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2524,\n        columnNumber: 93\n      }\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined outline-success btn-sm mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2527,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_APPROVED\",\n      defaultMessage: \"Approved\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2528,\n        columnNumber: 93\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2533,\n        columnNumber: 73\n      }\n    }, this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle 1 outline-grey mr-2 \",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      onClick: e => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2535,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2541,\n        columnNumber: 85\n      }\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, \"    \", /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(copyId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_COPY\"\n      }),\n      onClick: e => this.copySampleStorageversion(copyId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2545,\n        columnNumber: 87\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCopy,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2551,\n        columnNumber: 85\n      }\n    }))), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(addInfoId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_ADDITIONALINFO\"\n      }),\n      onClick: e => this.additionalInformation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, addInfoId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2567,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faInfoCircle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2572,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"QB\",\n      className: \"btn btn-circle outline-grey mr-2\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      onClick: () => this.confirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2575,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2581,\n        columnNumber: 81\n      }\n    })), this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"QB\",\n      className: \"btn btn-circle outline-grey mr-2\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1 // data-for=\"tooltip_list_wrap\"\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      onClick: () => this.onApproveSampleStorageLocation(approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2584,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2590,\n        columnNumber: 85\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 \",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_VIEW\"\n      }),\n      onClick: e => this.viewAdditionalInfo(copyId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2594,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEye,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2598,\n        columnNumber: 81\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2604,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2605,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2607,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(SearchIcon, {\n      className: \"search-icon\",\n      onClick: this.toggleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2608,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2609,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(FormControl // ref={this.searchRef}\n    , {\n      autoComplete: \"off\",\n      className: \"k-textbox\",\n      onChange: this.handleSearch,\n      placeholder: `${this.props.intl.formatMessage({\n        id: \"IDS_FILTER\"\n      })}`,\n      name: \"search\",\n      onKeyUp: e => this.handlenavigation(e, 'down'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2611,\n        columnNumber: 73\n      }\n    }), !this.props.showSearch ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"search-up-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2619,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faChevronUp,\n      onClick: e => this.handlenavigation(e, 'up'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2620,\n        columnNumber: 85\n      }\n    }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faChevronDown,\n      onClick: e => this.handlenavigation(e, 'down'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2621,\n        columnNumber: 85\n      }\n    }))) : \"\", this.props.showSearch ? /*#__PURE__*/React.createElement(SearchIcon, {\n      className: \"close-right-icon\",\n      onClick: this.toggleSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2637,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2638,\n        columnNumber: 81\n      }\n    })) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tree-view-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2642,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(TreeViewEditable, {\n      id: \"samplestoragelocation\",\n      name: \"samplestoragelocation\" // label=\"Sample Storage Location\"\n      ,\n      data: this.state.searchedTreeData || this.state.treeDataView,\n      expandIcons: true,\n      selectField: 'active-node',\n      item: this.itemRenderView,\n      onExpandChange: this.onExpandChangeView,\n      onItemClick: this.onItemClickView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2643,\n        columnNumber: 73\n      }\n    }))))) : \"\"))))))))), /*#__PURE__*/React.createElement(ModalShow, {\n      modalShow: this.props.Login.loadTreeProperties,\n      modalTitle: this.props.intl.formatMessage({\n        id: \"IDS_STORAGESTRUCTURE\"\n      }),\n      closeModal: this.closeModalShow,\n      onSaveClick: this.onSaveClick,\n      selectedRecord: this.state.selectedRecord || {},\n      modalBody: /*#__PURE__*/React.createElement(AddTreeProperties, {\n        onInputChange: e => this.onInputChange(e),\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2683,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2676,\n        columnNumber: 18\n      }\n    }), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      hideSave: this.props.Login.isView,\n      operation: this.props.Login.isView ? \"\" : this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.isView ? this.props.intl.formatMessage({\n        id: \"IDS_VIEW\"\n      }) : this.props.Login.operation === \"addinfo\" ? \"\" : this.props.intl.formatMessage({\n        id: \"IDS_STORAGESTRUCTURE\"\n      }),\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.loadTreeProperties === true ? [] : mandatoryFields,\n      addComponent: this.props.Login.isView ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2711,\n          columnNumber: 37\n        }\n      }, infoFields.map((item, index) => {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n          md: 6,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2716,\n            columnNumber: 57\n          }\n        }, /*#__PURE__*/React.createElement(FormGroup, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2717,\n            columnNumber: 61\n          }\n        }, /*#__PURE__*/React.createElement(FormLabel, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2718,\n            columnNumber: 65\n          }\n        }, this.props.intl.formatMessage({\n          id: item.idsName\n        })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 2719,\n            columnNumber: 65\n          }\n        }, this.props.Login.masterData.selectedSampleStorageVersion[item.dataField] ? this.props.Login.masterData.selectedSampleStorageVersion[item.dataField] : '-'))));\n      }))) : this.props.Login.screenName === 'IDS_IMPORT' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2740,\n          columnNumber: 41\n        }\n      })) : this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2744,\n          columnNumber: 41\n        }\n      }) : // this.props.Login.loadTreeProperties ? (\n      //     <AddTreeProperties\n      //         onInputChange={(e) => this.onInputChange(e)}\n      //         selectedRecord={this.state.selectedRecord || {}}\n      //     />\n      // ) \n      // :\n      this.state.treeData ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2760,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(AddTreeview, {\n        clearSearchedState: this.clearSearchedState,\n        toggleSearch: this.toggleSearch,\n        handleSearch: this.handleSearch,\n        handlenavigation: this.handlenavigation,\n        showSearch: this.state.showSearch,\n        treeData: //this.state.searchedTreeData||\n        this.state.treeData,\n        onInputChange: e => this.onInputChange(e),\n        selectedRecord: this.state.selectedRecord || {},\n        itemRender: this.itemRender,\n        onExpandChange: this.onExpandChange,\n        onItemClick: this.onItemClick,\n        onComboChange: this.onComboChange,\n        onItemDragOver: this.onItemDragOver,\n        onItemDragEnd: this.onItemDragEnd,\n        onNumericInputChange: this.onNumericInputChange,\n        operation: this.props.Login.operation,\n        storageCategoryList: this.props.Login.storageCategoryList || [],\n        projectTypeMapList: this.props.Login.projectTypeMapList || [],\n        sampleTypeList: this.props.Login.sampleTypeList || [],\n        isOnlyDraft: this.props.Login.isOnlyDraft,\n        unitMapList: this.props.Login.unitMapList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 2763,\n          columnNumber: 53\n        }\n      }))) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 2692,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  validateEsignCredential,\n  filterTransactionList,\n  changeStorageCategoryFilter,\n  getSelectedSampleStorageLocation,\n  openPropertyModal,\n  editSampleStorageLocation,\n  approveSampleStorageLocation,\n  getSelectedSampleStorageVersion,\n  fetchStorageCategory,\n  copySampleStorageVersion,\n  crudSampleStorageLocation,\n  additionalInformationData\n})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faFileImport","faEye","faInfoCircle","toast","ListMaster","constructOptionList","getControlMap","searchData","searchJsonData","showEsign","sortData","ReadOnlyText","ContentPanel","SearchIcon","ScrollBar","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterTransactionList","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","additionalInformationData","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMasterJsonView","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","ModalShow","faChevronDown","faChevronUp","faExclamationCircle","Grid","Axios","rsapi","SampleStorageLocation","constructor","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","onChange","event","setState","panes","newState","getSiblings","itemIndex","data","result","indices","split","map","index","Number","i","length","items","onItemDragOver","dragClue","show","pageY","pageX","item","text","getClueClassName","onItemDragEnd","hide","eventAnalyzer","init","isDropAllowed","updatedTree","itemHierarchicalIndex","state","treeData","getDropOperation","destinationMeta","tree","addChildNode","e","clickedItem","iscontainerlastnode","ParentItem","searchClickedItemParent","expanded","newData","id","push","intl","formatMessage","editable","locationlastnode","containerfirstnode","containerlastnode","itemhierarchy","info","cloneNode","parentItem","parentID","clonedParentID","parentFound","cloneItems","clonedparentFound","newData1","clonedNewParentID","levelBasedParents","cloneditem","warn","count","equalNode","deleteNode","root","editRecord","toggleAction","openModal","updateInfo","typeName","selectedRecord","loadTreeProperties","operation","closeModalShow","closeModal","loadEsign","Login","selectedId","isView","onInputChange","target","type","checked","name","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","setProperties","onItemClick","searchedData","searchedTreeData","itemText","clearSelected","toggleSearch","showSearch","clearSearchedState","navigationCounter","counter","handleSearch","search","term","reduce","acc","contains","newItems","handlenavigation","direction","key","document","querySelector","navigateSearchedTree","treeDataView","JSON","parse","stringify","selected","includes","some","toLowerCase","indexOf","onExpandChange","shrinkNodes","forceUpdate","itemRenderView","toggleActionView","onItemClickView","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","generatePathForEditedItem","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","onSaveAdditionalInformation","inputData","jsondata","postParam","haschild","hasOwnProperty","loading","countLevels","userInfo","parseInt","ncontainertypecode","ndirectionmastercode","nneedposition","ncontainerstructurecode","nnoofcontainer","nrow","ncolumn","masterData","selectedStorageCategory","sstoragecategoryname","selectedSampleStorageVersion","label","inputParam","classUrl","methodUrl","displayName","searchRef","userRoleControlRights","nformcode","screenData","inputListName","selectedObject","primaryKeyField","selectedSampleStorageLocation","parseFloat","nstoragecategorycode","deleteSampleStorageLocation","ncontrolCode","primaryKeyValue","fetchUrl","fecthInputObject","userinfo","unchangeList","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","calculateRowColumn","column","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","current","getSampleStorageLocation","getContainerStructure","selectedRecordFilter","nsamplestoragelocationcode","openFilter","showFilter","closeFilter","onFilterSubmit","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","containers","containerpath","itemHierarchy","scontainercode","scontainerpath","viewAdditionalInfo","additionalInformation","addInfoId","isOnlyDraft","sampleStorageVersion","importdata","copySampleStorageversion","nprojecttypecode","nquantity","nunitcode","nproductcode","nneedautomapping","sprojecttypename","sproductname","scontainertype","sdirection","scontainerstructurename","sunitname","reloadData","onNumericInputChange","field","constantvalue","regAllow","test","isNaN","onEditSampleStorageLocation","openStorageLocation","addId","Object","keys","warning","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","password","title","children","keyIndentify","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","getDerivedStateFromProps","masterStatus","error","componentDidUpdate","previousProps","scrollDoc","getElementById","scrollIntoView","behavior","isComponentUpdated","filterData","values","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","endsWith","siblings","lastIndex","pop","generateUUID","innerObj","parentIDNew","innerObjNew","Obj","childObj","childArray","childData","inputParamData","urlArray","url1","post","all","then","response","storageLocationOptions","sampleStorageVersionOptions","sampleStorageLocationList","sampleStorageLocation","sampleStorageVersionList","nsamplestorageversioncode","catch","status","message","containerStructureOptions","containerStructureList","containerStructure","componentDidMount","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","render","deleteId","copyId","approveId","filterParam","searchFieldList","infoFields","mandatoryFields","paddingRight","ssamplestoragelocationname","napprovalstatus","DRAFT","RETIRED","idsName","dataField","storageCategoryList","projectTypeMapList","sampleTypeList","unitMapList","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,YAA7C;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,GAAzB,EAA8BC,SAA9B,EAAyCC,SAAzC,EAAoDC,IAApD,EAA0DC,MAA1D,EAAkEC,WAAlE,QAAqF,iBAArF;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,WAA7B,EAA0CC,MAA1C,EAAkDC,MAAlD,EAA0DC,UAA1D,EAAsEC,SAAtE,EAAiFC,KAAjF,EAAwFC,eAAxF,EAAyGC,aAAzG,EAAwHC,QAAxH,EAAkIC,YAAlI,EAAgJC,YAAhJ,EAA8JC,QAA9J,EAAwKC,OAAxK,EAAiLC,WAAjL,EAA8LC,eAA9L,EAA+MC,SAA/M,EAA0NC,OAA1N,EAAmOC,YAAnO,EAAiPC,KAAjP,EAAwPC,YAAxP,QAA4Q,mCAA5Q;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,UAAP,MAAuB,oDAAvB;AACA,SAASC,mBAAT,EAA8BC,aAA9B,EAA6CC,UAA7C,EAAyDC,cAAzD,EAAyEC,SAAzE,EAAoFC,QAApF,QAAoG,+BAApG;AACA,SAASC,YAAT,EAAuBC,YAAvB,EAAqCC,UAArC,QAAuD,6BAAvD,C,CACA;;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,aAAP,MAA0B,gDAA1B;AACA,SACIC,WADJ,EACiBC,UADjB,EAC6BC,uBAD7B,EACsDC,WADtD,EACmEC,gCADnE,EACqGC,qBADrG,EAC4HC,2BAD5H,EAEIC,iBAFJ,EAEuBC,yBAFvB,EAEkDC,4BAFlD,EAEgFC,+BAFhF,EAEiHC,oBAFjH,EAEuIC,wBAFvI,EAGIC,yBAHJ,EAG8BC,yBAH9B,QAIO,eAJP;AAKA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,WAAT,QAA4B,sCAA5B;AACA,SAASC,WAAT,QAA4B,2BAA5B,C,CACA;;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,YAAP,MAAyB,kDAAzB;AACA,OAAOC,gBAAP,MAA6B,kEAA7B;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,WAA/B,QAAkD,gCAAlD;AACA,OAAOC,cAAP,MAA2B,0DAA3B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,QAAT,QAAyB,8BAAzB;AACA,OAAOC,6BAAP,MAA0C,gDAA1C;AACA,OAAOC,mBAAP,MAAgC,uCAAhC;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,oBAAT,EAA+BC,gBAA/B,QAAuD,gCAAvD;;AAEA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,SAAS;AACLC,aADJ,EACmBC,WADnB,EACgCC,mBADhC,QAEO,mCAFP;AAGA,SAASC,IAAT,QAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB,C,CACA;;AAGA,MAAMC,qBAAN,SAAoC7F,SAApC,CAA8C;AAU1C8F,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACf,UAAMA,MAAN;AADe,SATnBC,WASmB,GATL,CASK;AAAA,SARnBC,UAQmB,GARN,KAQM;AAAA,SAPnBC,SAOmB,GAPP,GAOO;AAAA,SANnBC,WAMmB,GANL,EAMK;AAAA,SALnBC,YAKmB,GALJ,CAKI;AAAA,SAJnBC,WAImB,GAJLC,SAIK;AAAA,SAHnBC,WAGmB,GAHL,EAGK;;AAAA,SAkDnBC,QAlDmB,GAkDPC,KAAD,IAAW;AAClB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEF,KAAK,CAACG;AAAf,OAAd;AACH,KApDkB;;AAAA,SAqKnBC,WArKmB,GAqKL,CAACC,SAAD,EAAYC,IAAZ,KAAqB;AAC/B,UAAIC,MAAM,GAAGD,IAAb;AACA,YAAME,OAAO,GAAGH,SAAS,CAACI,KAAV,CAAgB,KAAKhB,SAArB,EAAgCiB,GAAhC,CAAoCC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAAnD,CAAhB;;AACA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAAR,GAAiB,CAArC,EAAwCD,CAAC,EAAzC,EAA6C;AACzCN,QAAAA,MAAM,GAAGA,MAAM,CAACC,OAAO,CAACK,CAAD,CAAR,CAAN,CAAmBE,KAAnB,IAA4B,EAArC;AACH;;AACD,aAAOR,MAAP;AACH,KA5KkB;;AAAA,SAmMnBS,cAnMmB,GAmMFhB,KAAK,IAAI;AACtB,WAAKT,WAAL;AACA,WAAK0B,QAAL,CAAcC,IAAd,CAAmBlB,KAAK,CAACmB,KAAN,GAAc,EAAjC,EAAqCnB,KAAK,CAACoB,KAA3C,EAAkDpB,KAAK,CAACqB,IAAN,CAAWC,IAA7D,EAAmE,KAAKC,gBAAL,CAAsBvB,KAAtB,CAAnE;AACH,KAtMkB;;AAAA,SAuMnBwB,aAvMmB,GAuMHxB,KAAK,IAAI;AACrB,WAAKR,UAAL,GAAkB,KAAKD,WAAL,GAAmB,CAArC;AACA,WAAKA,WAAL,GAAmB,CAAnB;AACA,WAAK0B,QAAL,CAAcQ,IAAd;AACA,YAAMC,aAAa,GAAG,IAAI/C,oBAAJ,CAAyBqB,KAAzB,EAAgC2B,IAAhC,EAAtB;;AACA,UAAID,aAAa,CAACE,aAAlB,EAAiC;AAC7B,cAAMC,WAAW,GAAGjD,gBAAgB,CAACoB,KAAK,CAAC8B,qBAAP,EAA8B,KAAKC,KAAL,CAAWC,QAAzC,EAAmDN,aAAa,CAACO,gBAAd,MAAoC,OAAvF,EAAgGP,aAAa,CAACQ,eAAd,CAA8BJ,qBAA9H,CAApC;AACA,aAAK7B,QAAL,CAAc;AACVkC,UAAAA,IAAI,EAAEN;AADI,SAAd;AAGH;AACJ,KAlNkB;;AAAA,SAmNnBO,YAnNmB,GAmNJ,CAACC,CAAD,EAAIC,WAAJ,KAAoB;AAC/B,UAAIC,mBAAmB,GAAC,KAAxB;AACA,UAAIC,UAAU,GAAG,KAAKC,uBAAL,CAA6B,KAAKV,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAA7B,CAAjB;;AACA,UAAIQ,UAAJ,EAAgB;AACZA,QAAAA,UAAU,CAACzB,KAAX,CAAiBL,GAAjB,CAAqBW,IAAI,IAAI;AACzBA,UAAAA,IAAI,CAACqB,QAAL,GAAgB,KAAhB;AACH,SAFD;AAGH;;AAED,UAAIC,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC1D,YAAIA,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA5B,EAAgC;AAC5B,cAAGvB,IAAI,CAAC,mBAAD,CAAJ,KAA4B,IAA/B,EAAoC;AAChCkB,YAAAA,mBAAmB,GAAC,IAApB;AACH,WAFD,MAEK;AACDlB,YAAAA,IAAI,CAACN,KAAL,GAAaM,IAAI,CAACN,KAAL,IAAc,EAA3B;AACAM,YAAAA,IAAI,CAACqB,QAAL,GAAgB,IAAhB;AACArB,YAAAA,IAAI,CAACN,KAAL,CAAW8B,IAAX,CAAgB;AACZD,cAAAA,EAAE,EAAEjF,IAAI,EADI;AAEZ2D,cAAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,gBAAAA,EAAE,EAAE;AAAN,eAA9B,CAFM;AAGZF,cAAAA,QAAQ,EAAE,IAHE;AAIZM,cAAAA,QAAQ,EAAE,KAJE;AAKZC,cAAAA,gBAAgB,EAAE,KALN;AAMZC,cAAAA,kBAAkB,EAAE,KANR;AAOZC,cAAAA,iBAAiB,EAAE,KAPP;AAQZC,cAAAA,aAAa,EAAE;AARH,aAAhB;AAUH;AAEJ;;AACD,eAAO/B,IAAP;AACH,OArBoB,CAArB;;AAsBA,UAAGkB,mBAAmB,KAAG,IAAzB,EAA8B;AAC1B3G,QAAAA,KAAK,CAACyH,IAAN,CAAY,KAAK/D,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAI;AAAR,SAA9B,CAAZ;AAGH,OAJD,MAIK;AACD,aAAK3C,QAAL,CAAc;AAAE+B,UAAAA,QAAQ,EAAEW;AAAZ,SAAd;AACH;AACJ,KAzPkB;;AAAA,SAiUnBW,SAjUmB,GAiUP,CAACjB,CAAD,EAAIC,WAAJ,KAAoB;AAC5B,UAAIiB,UAAU,GAAG,EAAjB;AACA,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAIC,cAAc,GAAG,EAArB;AACA,UAAIC,WAAW,GAAG,KAAlB;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,iBAAiB,GAAG,KAAxB;AACA,UAAIjB,OAAO,GAAG,CAAC,GAAG,KAAKZ,KAAL,CAAWC,QAAf,CAAd;AACA,UAAI6B,QAAQ,GAAG,CAAC,GAAG,KAAK9B,KAAL,CAAWC,QAAf,CAAf;AACAjE,MAAAA,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EACD,OADC,EACSX,IAAD,IAAU;AACjB;AACA;AACA;AACA;AACA;AACA;AAEA,YAAIA,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA5B,EAAgC;AAC5Bc,UAAAA,WAAW,GAAG,IAAd;AACAF,UAAAA,QAAQ,GAAGlB,WAAW,CAACkB,QAAvB;AACAD,UAAAA,UAAU,GAAG,KAAKd,uBAAL,CAA6B,KAAKV,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAA7B,CAAb;AACH;;AACD,YAAIX,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxBS,UAAAA,cAAc,GAAG9F,IAAI,EAArB;AACA,cAAImG,iBAAiB,GAAGnG,IAAI,EAA5B,CAFwB,CAGxB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,cAAIoG,iBAAiB,GAAG,EAAxB;AACAJ,UAAAA,UAAU,GAAG5F,OAAO,CAAC,CAAC,EAAE,GAAGsD;AAAL,WAAD,CAAD,EAAgB,OAAhB,EAA0B2C,UAAD,IAAgB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,YAAAA,UAAU,GAAG,EACT,GAAGA,UADM;AAET;AACA;AACA,oBAAMrG,IAAI,EAJD;AAKT,0BAAY,KALH;AAMT,0BAAY,KANH,CAOT;AACA;;AARS,aAAb;AAUA,mBAAOqG,UAAP;AACH,WA3CmB,CAApB;AA4CH,SApEgB,CAsEjB;AACA;AACA;AACA;AACA;;;AACA,eAAO3C,IAAP;AACH,OA7EE,CAAP;;AA8EA,UAAIkC,UAAU,KAAK1D,SAAnB,EAA8B;AAC1B,eAAOjE,KAAK,CAACqI,IAAN,CAAW,KAAK3E,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAX,CAAP;AACH;;AACD,UAAIsB,KAAK,GAAG,CAAZ;AACAvB,MAAAA,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAEtD,YAAIA,IAAI,CAACuB,EAAL,KAAYW,UAAU,CAACX,EAA3B,EAA+B;AAC3BsB,UAAAA,KAAK;AACL7C,UAAAA,IAAI,CAACN,KAAL,CAAW8B,IAAX,EACI;AACA;AACA;AACA;AACA;AACA;AACA,YACI,GAAGc,UAAU,CAAC,CAAD,CADjB;AAGI,wBAAYH,QAHhB,CAII;;AAJJ,WAPJ;AAcH;;AACD,eAAOnC,IAAP;AACH,OApBgB,CAAjB;AAqBA,WAAKpB,QAAL,CAAc;AAAE+B,QAAAA,QAAQ,EAAEW;AAAZ,OAAd;AACH,KAlbkB;;AAAA,SAmbnBwB,SAnbmB,GAmbP,CAAC9B,CAAD,EAAIC,WAAJ,KAAoB;AAC5B,UAAIiB,UAAU,GAAG,EAAjB;AACA,UAAIG,WAAW,GAAG,KAAlB;AACA,UAAIf,OAAO,GAAG,CAAC,GAAG,KAAKZ,KAAL,CAAWC,QAAf,CAAd;AACAjE,MAAAA,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC5C,YAAIA,IAAI,CAACN,KAAT,EAAgB;AACZ,cAAI2C,WAAJ,EAAiB;AACbH,YAAAA,UAAU,GAAGlC,IAAb;AACAqC,YAAAA,WAAW,GAAG,KAAd;AACH;AACJ;;AAED,YAAIrC,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA5B,EAAgC;AAC5Bc,UAAAA,WAAW,GAAG,IAAd;AACH;;AAED,eAAOrC,IAAP;AACH,OAbM,CAAP;;AAcA,UAAIkC,UAAU,CAACjC,IAAX,KAAoBzB,SAAxB,EAAmC;AAC/B8C,QAAAA,OAAO,CAACE,IAAR,CAAa;AACTD,UAAAA,EAAE,EAAEjF,IAAI,EADC;AAET2D,UAAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFG;AAGTF,UAAAA,QAAQ,EAAE,IAHD;AAITM,UAAAA,QAAQ,EAAE,KAJD;AAKTC,UAAAA,gBAAgB,EAAE,KALT;AAMTC,UAAAA,kBAAkB,EAAE,KANX;AAOTC,UAAAA,iBAAiB,EAAE,KAPV;AAQTC,UAAAA,aAAa,EAAE;AARN,SAAb;AAUA,aAAKnD,QAAL,CAAc;AAAE+B,UAAAA,QAAQ,EAAEW;AAAZ,SAAd;AACH,OAZD,MAYO;AACHA,QAAAA,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AACtD,cAAIA,IAAI,CAACuB,EAAL,KAAYW,UAAU,CAACX,EAA3B,EAA+B;AAC3BvB,YAAAA,IAAI,CAACN,KAAL,CAAW8B,IAAX,CAAgB;AACZD,cAAAA,EAAE,EAAEjF,IAAI,EADI;AAEZ2D,cAAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,gBAAAA,EAAE,EAAE;AAAN,eAA9B,CAFM;AAGZF,cAAAA,QAAQ,EAAE,IAHE;AAIZM,cAAAA,QAAQ,EAAE,KAJE;AAKZC,cAAAA,gBAAgB,EAAE,KALN;AAMZC,cAAAA,kBAAkB,EAAE,KANR;AAOZC,cAAAA,iBAAiB,EAAE,KAPP;AAQZC,cAAAA,aAAa,EAAE;AARH,aAAhB;AAUH;;AACD,iBAAO/B,IAAP;AACH,SAdgB,CAAjB;AAeA,aAAKpB,QAAL,CAAc;AAAE+B,UAAAA,QAAQ,EAAEW;AAAZ,SAAd;AACH;AACJ,KAnekB;;AAAA,SAoenByB,UApemB,GAoeL9B,WAAD,IAAiB;AAC1B,UAAIA,WAAW,CAAC+B,IAAZ,IAAoB/B,WAAW,CAAC+B,IAAZ,KAAqB,IAA7C,EAAmD;AAC/CzI,QAAAA,KAAK,CAACqI,IAAN,CAAW,KAAK3E,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAX;AACH,OAFD,MAEO;AACH,cAAMD,OAAO,GAAG3E,WAAW,CAAC,KAAK+D,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAChE,iBAAOA,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA/B;AACH,SAF0B,CAA3B;AAGA,aAAK3C,QAAL,CAAc;AAAE+B,UAAAA,QAAQ,EAAEW;AAAZ,SAAd;AACH;AACJ,KA7ekB;;AAAA,SA8enB2B,UA9emB,GA8eN,CAACjC,CAAD,EAAIC,WAAJ,KAAoB;AAC7B,WAAKrC,QAAL,CAAc;AAAEsE,QAAAA,YAAY,EAAE,CAAC,KAAKxC,KAAL,CAAWwC;AAA5B,OAAd;AACH,KAhfkB;;AAAA,SAifnBC,SAjfmB,GAifP,MAAM;AACd,YAAMC,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AACFkE,UAAAA,SAAS,EAAE,IADT;AACeG,UAAAA,cAAc,EAAE,EAD/B;AACmCC,UAAAA,kBAAkB,EAAE,KADvD;AAEF5C,UAAAA,QAAQ,EAAE,CACN;AACIV,YAAAA,IAAI,EAAE,MADV;AAEIoB,YAAAA,QAAQ,EAAE,IAFd;AAGIM,YAAAA,QAAQ,EAAE,IAHd;AAIIqB,YAAAA,IAAI,EAAE,IAJV;AAKIzB,YAAAA,EAAE,EAAEjF,IAAI;AALZ,WADM,CAFR;AAUCkH,UAAAA,SAAS,EAAE;AAVZ;AAFS,OAAnB;AAeA,WAAKvF,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KAlgBkB;;AAAA,SAmgBnBK,cAngBmB,GAmgBF,MAAM;AACnB,YAAML,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AAAEsE,UAAAA,kBAAkB,EAAE;AAAtB;AAFS,OAAnB;AAIA,WAAKtF,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KAzgBkB;;AAAA,SA0gBnBM,UA1gBmB,GA0gBN,MAAM;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAIC,SAAS,GAAG,KAAK1F,KAAL,CAAW2F,KAAX,CAAiBD,SAAjC;AACA,UAAIR,SAAS,GAAG,KAAKlF,KAAL,CAAW2F,KAAX,CAAiBT,SAAjC;AACA,UAAIU,UAAU,GAAG,KAAK5F,KAAL,CAAW2F,KAAX,CAAiBC,UAAlC;AACA,UAAIP,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAhC,CAXe,CAWiC;;AAChD,UAAI,KAAKrF,KAAL,CAAW2F,KAAX,CAAiBD,SAArB,EAAgC;AAC5B,YAAI,KAAK1F,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,QAA/B,IAA2C,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,SAA1E,IAAuF,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,MAA1H,EAAkI;AAC9HG,UAAAA,SAAS,GAAG,KAAZ;AACAR,UAAAA,SAAS,GAAG,KAAZ;AACAG,UAAAA,cAAc,GAAG,EAAjB;AACAO,UAAAA,UAAU,GAAG,IAAb;AACH,SALD,MAMK;AACDF,UAAAA,SAAS,GAAG,KAAZ;AAEH;AACJ,OAXD,MAYK;AACDR,QAAAA,SAAS,GAAG,KAAZ;AACAU,QAAAA,UAAU,GAAG,IAAb;AACAP,QAAAA,cAAc,GAAG,EAAjB;AACH;;AAED,YAAMF,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AAAEkE,UAAAA,SAAF;AAAaQ,UAAAA,SAAb;AAAwBL,UAAAA,cAAxB;AAAwCO,UAAAA,UAAxC;AAAoDC,UAAAA,MAAM,EAAE;AAA5D;AAFS,OAAnB;AAIA,WAAK7F,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KA7iBkB;;AAAA,SA8iBnBW,aA9iBmB,GA8iBFpF,KAAD,IAAW;AACvB,YAAM2E,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAApD;;AACA,UAAI3E,KAAK,CAACqF,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AAClC,YAAItF,KAAK,CAACqF,MAAN,CAAaE,OAAb,IAAwBvF,KAAK,CAACqF,MAAN,CAAaG,IAAb,KAAsB,eAAlD,EAAmE;AAC/Db,UAAAA,cAAc,CAAC,oBAAD,CAAd,IAAwC,OAAOA,cAAc,CAAC,oBAAD,CAA7D;AACAA,UAAAA,cAAc,CAAC,yBAAD,CAAd,IAA6C,OAAOA,cAAc,CAAC,yBAAD,CAAlE;AACAA,UAAAA,cAAc,CAAC,2BAAD,CAAd,IAA+C,OAAOA,cAAc,CAAC,2BAAD,CAApE;AACAA,UAAAA,cAAc,CAAC,MAAD,CAAd,IAA0B,OAAOA,cAAc,CAAC,MAAD,CAA/C;AACAA,UAAAA,cAAc,CAAC,SAAD,CAAd,IAA6B,OAAOA,cAAc,CAAC,SAAD,CAAlD;AACAA,UAAAA,cAAc,CAAC,sBAAD,CAAd,IAA0C,OAAOA,cAAc,CAAC,sBAAD,CAA/D,CAN+D,CAQ/D;AACH;;AAEDA,QAAAA,cAAc,CAAC3E,KAAK,CAACqF,MAAN,CAAaG,IAAd,CAAd,GAAoCxF,KAAK,CAACqF,MAAN,CAAaE,OAAjD;;AACA,YAAGvF,KAAK,CAACqF,MAAN,CAAaE,OAAb,KAAuB,KAAvB,IAAgCvF,KAAK,CAACqF,MAAN,CAAaG,IAAb,KAAsB,eAAzD,EAAyE;AACrEb,UAAAA,cAAc,CAAC,MAAD,CAAd,GAAwB,CAAxB;AACAA,UAAAA,cAAc,CAAC,SAAD,CAAd,GAA0B,CAA1B;AACAA,UAAAA,cAAc,CAAC,gBAAD,CAAd,GAAiC,CAAjC;AACH;AAEJ,OAnBD,MAmBO;AACHA,QAAAA,cAAc,CAAC3E,KAAK,CAACqF,MAAN,CAAaG,IAAd,CAAd,GAAoCxF,KAAK,CAACqF,MAAN,CAAaI,KAAjD;AACH;;AAED,WAAKxF,QAAL,CAAc;AAAE0E,QAAAA;AAAF,OAAd;AACH,KAxkBkB;;AAAA,SA0kBnBe,UA1kBmB,GA0kBLpG,KAAD,IAAW;AACpB,UAAI,KAAKyC,KAAL,CAAWwC,YAAf,EAA6B;AACzB,4BACI,0CACKjF,KAAK,CAAC+B,IAAN,CAAW2B,QAAX,gBACG,oBAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,sBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,IAAD,CAAM,OAAN;AACI,UAAA,EAAE,EAAE,UADR;AAEI,UAAA,IAAI,EAAE,UAFV;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,SAAS,EAAGX,CAAD,IAAOA,CAAC,CAACsD,eAAF,EAJtB;AAKI,UAAA,KAAK,EAAErG,KAAK,CAAC+B,IAAN,CAAWC,IALtB;AAMI,UAAA,SAAS,MANb;AAOI,UAAA,YAAY,EAAC,KAPjB;AAQI,UAAA,QAAQ,EAAGe,CAAD,IAAO,KAAKuD,YAAL,CAAkBvD,CAAlB,EAAqB/C,KAAK,CAAC+B,IAA3B,CARrB;AASI,UAAA,MAAM,EAAGgB,CAAD,IAAO,KAAKwD,UAAL,CAAgBxD,CAAhB,EAAmB/C,KAAK,CAAC+B,IAAzB,EAA+B/B,KAAK,CAACwC,qBAArC,CATnB;AAUI,UAAA,SAAS,EAAC,IAVd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADH,gBAgBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAOxC,KAAK,CAAC+B,IAAN,CAAWC,IAAlB,CAjBR,CADJ;AAsBH,OAvBD,MAuBO;AACH,4BACI,0CACKhC,KAAK,CAAC+B,IAAN,gBACG,uDACI;AAAM,UAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAM,UAAA,SAAS,EAAG;AAClD,8BAA8B/B,KAAK,CAAC+B,IAAN,CAAW2B,QAAX,GAAsB,aAAtB,GAAsC,EAAG;AACvE,8BAA8B1D,KAAK,CAAC+B,IAAN,CAAWqB,QAAX,GAAsB,aAAtB,GAAsC,eAAgB;AACpF,6BAHgC;AAGD,sBAAUpD,KAAK,CAAC+B,IAAN,CAAWC,IAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIKhC,KAAK,CAAC+B,IAAN,CAAW6B,kBAAX,gBAAgC,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEtI,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAhC,GACG0E,KAAK,CAAC+B,IAAN,CAAW4B,gBAAX,gBAA8B,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEnI,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA9B,GACIwE,KAAK,CAAC+B,IAAN,CAAW8B,iBAAX,gBAA+B,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEtI,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA/B,GACIyE,KAAK,CAAC+B,IAAN,CAAWqB,QAAX,gBAAsB,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEzH,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAtB,gBAAgE,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAED,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPhF,EAQKsE,KAAK,CAAC+B,IAAN,CAAWC,IARhB,CADJ,EAWKhC,KAAK,CAAC+B,IAAN,CAAW2B,QAAX,gBACG,uDAmBI;AACI,UAAA,SAAS,EAAC,yBADd;AAEI,sBAAU,KAAK1D,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFd;AAGI,UAAA,OAAO,EAAGP,CAAD,IAAO;AACZA,YAAAA,CAAC,CAACsD,eAAF;AACA,iBAAKvD,YAAL,CAAkBC,CAAlB,EAAqB/C,KAAK,CAAC+B,IAA3B;AACH,WANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAnBJ,eA2BI;AACI,UAAA,SAAS,EAAC,iCADd;AAEI,sBAAU,KAAK/B,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFd;AAGI,UAAA,OAAO,EAAGP,CAAD,IAAO;AACZA,YAAAA,CAAC,CAACsD,eAAF;AACA,iBAAKrB,UAAL,CAAgBjC,CAAhB,EAAmB/C,KAAK,CAAC+B,IAAzB;AACH,WANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA3BJ,EAmCK,CAAC/B,KAAK,CAAC+B,IAAN,CAAWyE,MAAZ,gBACG;AACI,UAAA,SAAS,EAAC,wBADd;AAEI,sBAAU,KAAKxG,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFd;AAGI,UAAA,OAAO,EAAGP,CAAD,IAAO;AACZA,YAAAA,CAAC,CAACsD,eAAF;AACA,iBAAKvB,UAAL,CAAgB9E,KAAK,CAAC+B,IAAtB;AACH,WANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,GASG,IA5CR,eA6CO;AACC,UAAA,SAAS,EAAC,kCADX;AAEC,sBAAU,KAAK/B,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFX;AAGC,UAAA,OAAO,EAAGP,CAAD,IAAO,KAAK0D,aAAL,CAAmB1D,CAAnB,EAAsB/C,KAAtB,CAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA7CP,eAkDM;AACE,UAAA,SAAS,EAAC,yBADZ;AAEE,sBAAU,KAAKA,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAFZ;AAGE,UAAA,OAAO,EAAGP,CAAD,IAAO;AACZA,YAAAA,CAAC,CAACsD,eAAF;AACA,iBAAKrC,SAAL,CAAejB,CAAf,EAAkB/C,KAAK,CAAC+B,IAAxB;AACH,WANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAlDN,CADH,GA4DG,IAvER,CADJ,CADH,GA6EG,EA9ER,CADJ;AAmFH;AACJ,KAvrBkB;;AAAA,SAyrBnB2E,WAzrBmB,GAyrBJhG,KAAD,IAAW;AACrB;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAIiG,YAAY,GAAGpG,SAAnB;;AACA,UAAI,KAAKkC,KAAL,CAAWmE,gBAAf,EAAiC;AAC7BD,QAAAA,YAAY,GAAGlI,OAAO,CAAC,KAAKgE,KAAL,CAAWmE,gBAAZ,EAA8B,OAA9B,EAAwC7E,IAAD,IAAU;AACnE,cAAIA,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxB3B,YAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH,WAFD,MAEO,IAAI3B,IAAI,CAACuB,EAAL,KAAY5C,KAAK,CAACqB,IAAN,CAAWuB,EAA3B,EAA+B;AAClCvB,YAAAA,IAAI,CAAC2B,QAAL,GAAgB,IAAhB;;AACA,gBAAI,KAAKpD,WAAT,EAAsB;AAClB,kBAAI,KAAKA,WAAL,CAAiBgD,EAAjB,KAAwBvB,IAAI,CAACuB,EAAjC,EAAqC;AACjC,qBAAKhD,WAAL,GAAmBC,SAAnB;AACH;AACJ;;AACD,gBAAIU,MAAM,GAAG,KAAKwB,KAAL,CAAWmE,gBAAxB;AACA,kBAAM1F,OAAO,GACTR,KAAK,CAAC8B,qBAAN,CAA4BrB,KAA5B,CAAkC,GAAlC,EAAuCC,GAAvC,CAA2CC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAA1D,CADJ;AAEA,gBAAIwF,QAAQ,GAAG,EAAf;;AAEA,iBAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,kBAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,gBAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,eAFD,MAEO;AACHA,gBAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,cAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDD,YAAAA,IAAI,CAAC+B,aAAL,GAAqB+C,QAArB;AACH;;AACD,iBAAO9E,IAAP;AACH,SA1BqB,CAAtB;AA4BA4E,QAAAA,YAAY,CAACvF,GAAb,CAAkBJ,IAAD,IAAU;AACvB,eAAK8F,aAAL,CAAmB9F,IAAnB,EAAyBN,KAAK,CAACqB,IAA/B;AACH,SAFD;AAGH;;AACD,UAAIsB,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC1D,YAAIA,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxB3B,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH,SAFD,MAEO,IAAI3B,IAAI,CAACuB,EAAL,KAAY5C,KAAK,CAACqB,IAAN,CAAWuB,EAA3B,EAA+B;AAClCvB,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,IAAhB;AAEA,cAAIzC,MAAM,GAAG,KAAKwB,KAAL,CAAWC,QAAxB;AACA,gBAAMxB,OAAO,GACTR,KAAK,CAAC8B,qBAAN,CAA4BrB,KAA5B,CAAkC,GAAlC,EAAuCC,GAAvC,CAA2CC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAA1D,CADJ;AAEA,cAAIwF,QAAQ,GAAG,EAAf;;AAEA,eAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,gBAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,cAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,aAFD,MAEO;AACHA,cAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,YAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDD,UAAAA,IAAI,CAAC+B,aAAL,GAAqB+C,QAArB;AACH;;AACD,eAAO9E,IAAP;AACH,OAtBoB,CAArB;AAuBAsB,MAAAA,OAAO,CAACjC,GAAR,CAAaJ,IAAD,IAAU;AAClB,aAAK8F,aAAL,CAAmB9F,IAAnB,EAAyBN,KAAK,CAACqB,IAA/B;AACH,OAFD;AAKA,WAAKpB,QAAL,CAAc;AAAE+B,QAAAA,QAAQ,EAAEW,OAAZ;AAAqBuD,QAAAA,gBAAgB,EAAED;AAAvC,OAAd;AACH,KArxBkB;;AAAA,SAwyBnBI,YAxyBmB,GAwyBJ,MAAM;AACjB,WAAKpG,QAAL,CAAc;AACVqG,QAAAA,UAAU,EAAE,CAAC,KAAKvE,KAAL,CAAWuE;AADd,OAAd;AAGH,KA5yBkB;;AAAA,SA+yBnBC,kBA/yBmB,GA+yBE,MAAM;AACvB,WAAKtG,QAAL,CAAc;AACViG,QAAAA,gBAAgB,EAAErG,SADR;AAEVyG,QAAAA,UAAU,EAAE;AAFF,OAAd;AAIH,KApzBkB;;AAAA,SAszBnBE,iBAtzBmB,GAszBC,MAAM;AACtB,UAAIC,OAAO,GAAG,KAAK1E,KAAL,CAAW0E,OAAX,IAAsB,CAApC;AAEA,aAAOA,OAAP;AACH,KA1zBkB;;AAAA,SAy0BnBC,YAz0BmB,GAy0BJ,MAAM;AACjB,WAAKhH,WAAL,GAAmB,EAAnB;AACA,WAAKE,WAAL,GAAmBC,SAAnB;AACA,WAAKF,YAAL,GAAoB,CAApB,CAHiB,CAIjB;AACH,KA90BkB;;AAAA,SA+0BnBgH,MA/0BmB,GA+0BV,CAAC5F,KAAD,EAAQ6F,IAAR,KAAiB;AACtB,aAAO7F,KAAK,CAAC8F,MAAN,CAAa,CAACC,GAAD,EAAMzF,IAAN,KAAe;AAC/B,YAAI,KAAK0F,QAAL,CAAc1F,IAAI,CAACC,IAAnB,EAAyBsF,IAAzB,CAAJ,EAAoC;AAChC,eAAKlH,WAAL,CAAiBmD,IAAjB,CAAsBxB,IAAI,CAACuB,EAA3B;AACAkE,UAAAA,GAAG,CAACjE,IAAJ,CAASxB,IAAT;AACH,SAHD,MAGO,IAAIA,IAAI,CAACN,KAAL,IAAcM,IAAI,CAACN,KAAL,CAAWD,MAAX,GAAoB,CAAtC,EAAyC;AAC5C,cAAIkG,QAAQ,GAAG,KAAKL,MAAL,CAAYtF,IAAI,CAACN,KAAjB,EAAwB6F,IAAxB,CAAf;;AACA,cAAII,QAAQ,IAAIA,QAAQ,CAAClG,MAAT,GAAkB,CAAlC,EAAqC;AACjCgG,YAAAA,GAAG,CAACjE,IAAJ,CAAS,EACL,GAAGxB,IADE;AACIC,cAAAA,IAAI,EAAED,IAAI,CAACC,IADf;AACqBP,cAAAA,KAAK,EAAEiG,QAD5B;AACsCtE,cAAAA,QAAQ,EAAEoE,GAAG,CAAChG,MAAJ,KAAe,CAAf,GACjD,IADiD,GAC1C,KAFN,CAEW;;AAFX,aAAT;AAKH;AACJ;;AACD,eAAOgG,GAAP;AACH,OAfM,EAeJ,EAfI,CAAP;AAgBH,KAh2BkB;;AAAA,SAk2BnBG,gBAl2BmB,GAk2BA,CAAC5E,CAAD,EAAI6E,SAAJ,KAAkB;AACjC,UAAI7E,CAAC,CAAC8E,GAAF,KAAU,OAAV,IAAqB9E,CAAC,CAACiD,IAAF,KAAW,OAApC,EAA6C;AACzC,YAAIG,KAAK,GAAG2B,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqC5B,KAAjD;;AACA,YAAIA,KAAK,KAAK,EAAd,EAAkB;AAEd,cAAIyB,SAAS,KAAK,IAAlB,EAAwB;AACpB;AACA,iBAAKvH,YAAL;;AACA,gBAAI,KAAKA,YAAL,IAAqB,CAAzB,EAA4B;AACxB,mBAAKA,YAAL,GAAoB,CAApB;AAEH;AACJ,WAPD,MAOO;AACH;AACA;AACA,iBAAKA,YAAL;;AACA,gBAAI,KAAKA,YAAL,IAAqB,KAAKD,WAAL,CAAiBoB,MAA1C,EAAkD;AAC9C,kBAAK,KAAKpB,WAAL,CAAiBoB,MAAjB,GAA0B,CAA3B,KAAkC,CAAC,CAAvC,EAA0C;AACtC,qBAAKnB,YAAL,GAAoB,CAApB;AACH,eAFD,MAEO;AACH,qBAAKA,YAAL,GAAoB,KAAKD,WAAL,CAAiBoB,MAAjB,GAA0B,CAA9C;AACH,eAL6C,CAO9C;;AACH;AACJ;;AAED,cAAI6B,OAAO,GAAG,KAAK2E,oBAAL,CAA0B,KAAKvF,KAAL,CAAWwF,YAArC,EAAmD9B,KAAnD,CAAd;AAGA,eAAKxF,QAAL,CAAc;AAAEiG,YAAAA,gBAAgB,EAAEsB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe/E,OAAf,CAAX;AAApB,WAAd;AACH,SA5BD,MA6BK;AACD,eAAK1C,QAAL,CAAc;AAAEiG,YAAAA,gBAAgB,EAAErG;AAApB,WAAd;AACH;AACJ;AACJ,KAt4BkB;;AAAA,SAw4BnByH,oBAx4BmB,GAw4BI,CAACvG,KAAD,EAAQ6F,IAAR,KAAiB;AACpC,aAAO7F,KAAK,CAAC8F,MAAN,CAAa,CAACC,GAAD,EAAMzF,IAAN,KAAe;AAC/B,YAAIA,IAAI,CAAC2B,QAAT,EAAmB;AACf3B,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH;;AACD,YAAI3B,IAAI,CAACsG,QAAT,EAAmB;AACftG,UAAAA,IAAI,CAACsG,QAAL,GAAgB,KAAhB;AACH;;AACD,YAAI,KAAKZ,QAAL,CAAc1F,IAAI,CAACC,IAAnB,EAAyBsF,IAAzB,CAAJ,EAAoC;AAEhC,cAAI,CAAC,KAAKlH,WAAL,CAAiBkI,QAAjB,CAA0BvG,IAAI,CAACuB,EAA/B,CAAL,EAAyC;AACrC,iBAAKlD,WAAL,CAAiBmD,IAAjB,CAAsBxB,IAAI,CAACuB,EAA3B;AACH;;AACD,cAAIvB,IAAI,CAACuB,EAAL,KAAY,KAAKlD,WAAL,CAAiB,KAAKC,YAAtB,CAAhB,EAAqD;AACjD,gBAAI,KAAKC,WAAT,EAAsB;AAClB,mBAAKA,WAAL,GAAmBC,SAAnB;AACH;;AACD,iBAAKD,WAAL,GAAmByB,IAAnB;AACH;;AAED,cAAIA,IAAI,CAACN,KAAL,IAAcM,IAAI,CAACN,KAAL,CAAWD,MAAX,GAAoB,CAAtC,EAAyC;AACrC,gBAAIkG,QAAQ,GAAG,KAAKM,oBAAL,CAA0BjG,IAAI,CAACN,KAA/B,EAAsC6F,IAAtC,CAAf;;AACA,gBAAII,QAAQ,IAAIA,QAAQ,CAAClG,MAAT,GAAkB,CAAlC,EAAqC;AACjC,kBAAIkG,QAAQ,CAACa,IAAT,CAAcxG,IAAI,IAAIA,IAAI,CAACuB,EAAL,KAAY,KAAKlD,WAAL,CAAiB,KAAKC,YAAtB,CAAlC,CAAJ,EAA4E;AACxEmH,gBAAAA,GAAG,CAACjE,IAAJ,CAAS,EAAE,GAAGxB,IAAL;AAAWC,kBAAAA,IAAI,EAAED,IAAI,CAACC,IAAtB;AAA4BP,kBAAAA,KAAK,EAAEiG,QAAnC;AAA6CtE,kBAAAA,QAAQ,EAAE;AAAvD,iBAAT;AACH,eAFD,MAEO;AACHoE,gBAAAA,GAAG,CAACjE,IAAJ,CAAS,EACL,GAAGxB,IADE;AACIC,kBAAAA,IAAI,EAAED,IAAI,CAACC,IADf;AACqBP,kBAAAA,KAAK,EAAEiG,QAD5B;AACsCtE,kBAAAA,QAAQ,EAC/CsE,QAAQ,CAACa,IAAT,CAAcxG,IAAI,IAAIA,IAAI,CAACqB,QAAL,KAAkB,IAAxC,IAAgD,IAAhD,GAAuD;AAFtD,iBAAT;AAIH;AAEJ,aAVD,MAUK;AACDoE,cAAAA,GAAG,CAACjE,IAAJ,CAASxB,IAAT;AACH;AACJ,WAfD,MAeK;AACDyF,YAAAA,GAAG,CAACjE,IAAJ,CAASxB,IAAT;AACH;AACJ,SA9BD,MA+BM,IAAIA,IAAI,CAACN,KAAL,IAAcM,IAAI,CAACN,KAAL,CAAWD,MAAX,GAAoB,CAAtC,EAAyC;AAC3C,cAAIkG,QAAQ,GAAG,KAAKM,oBAAL,CAA0BjG,IAAI,CAACN,KAA/B,EAAsC6F,IAAtC,CAAf;;AACA,cAAII,QAAQ,IAAIA,QAAQ,CAAClG,MAAT,GAAkB,CAAlC,EAAqC;AACjC,gBAAIkG,QAAQ,CAACa,IAAT,CAAcxG,IAAI,IAAIA,IAAI,CAACuB,EAAL,KAAY,KAAKlD,WAAL,CAAiB,KAAKC,YAAtB,CAAlC,CAAJ,EAA4E;AACxEmH,cAAAA,GAAG,CAACjE,IAAJ,CAAS,EAAE,GAAGxB,IAAL;AAAWC,gBAAAA,IAAI,EAAED,IAAI,CAACC,IAAtB;AAA4BP,gBAAAA,KAAK,EAAEiG,QAAnC;AAA6CtE,gBAAAA,QAAQ,EAAE;AAAvD,eAAT;AACH,aAFD,MAEO;AACHoE,cAAAA,GAAG,CAACjE,IAAJ,CAAS,EACL,GAAGxB,IADE;AACIC,gBAAAA,IAAI,EAAED,IAAI,CAACC,IADf;AACqBP,gBAAAA,KAAK,EAAEiG,QAD5B;AACsCtE,gBAAAA,QAAQ,EAC/CsE,QAAQ,CAACa,IAAT,CAAcxG,IAAI,IAAIA,IAAI,CAACqB,QAAL,KAAkB,IAAxC,IAAgD,IAAhD,GAAuD;AAFtD,eAAT;AAIH;AAEJ;AACJ;;AACD,eAAOoE,GAAP;AACH,OArDM,EAqDJ,EArDI,CAAP;AAsDH,KA/7BkB;;AAAA,SAs+BnBC,QAt+BmB,GAs+BR,CAACzF,IAAD,EAAOsF,IAAP,KAAgB;AACvB,aAAOtF,IAAI,CAACwG,WAAL,GAAmBC,OAAnB,CAA2BnB,IAAI,CAACkB,WAAL,EAA3B,KAAkD,CAAzD;AACH,KAx+BkB;;AAAA,SAy+BnBE,cAz+BmB,GAy+BDhI,KAAD,IAAW;AACxB,UAAIsC,WAAW,GAAGtC,KAAK,CAACqB,IAAxB;;AACA,UAAI,CAACrB,KAAK,CAACqB,IAAN,CAAWqB,QAAhB,EAA0B;AACtB;AACA,YAAIF,UAAU,GAAG,KAAKC,uBAAL,EAA6B;AAC1C;AACA,aAAKV,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAFa,EAEWM,WAFX,CAAjB;;AAGA,YAAIE,UAAJ,EAAgB;AACZA,UAAAA,UAAU,CAACzB,KAAX,CAAiBL,GAAjB,CAAqBW,IAAI,IAAI;AACzBA,YAAAA,IAAI,CAACqB,QAAL,GAAgB,KAAhB;AACH,WAFD;AAGH;;AACD,aAAKuF,WAAL,CAAiBjI,KAAK,CAACqB,IAAvB;AACH;;AACDrB,MAAAA,KAAK,CAACqB,IAAN,CAAWqB,QAAX,GAAsB,CAAC1C,KAAK,CAACqB,IAAN,CAAWqB,QAAlC;AAEA,WAAKwF,WAAL;AACH,KA1/BkB;;AAAA,SA4/BnBC,cA5/BmB,GA4/BD7F,WAAD,IAAiB;AAC9B,UAAIjB,IAAI,GAAGiB,WAAW,CAACjB,IAAvB;AACA,WAAKvB,WAAL,GAAmB,EAAE,GAAG,KAAKA,WAAV;AAAuB,SAACuB,IAAI,CAACuB,EAAN,GAAWN,WAAW,CAACR;AAA9C,OAAnB;;AAGA,UAAI,CAAC,KAAKC,KAAL,CAAWqG,gBAAhB,EAAkC;AAC9B,4BACI,0CACK9F,WAAW,CAACjB,IAAZ,gBACG,uDAEI;AAAM,UAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,KAAKzB,WAAL,GAAoByB,IAAI,CAACuB,EAAL,KAAY,KAAKhD,WAAL,CAAiBgD,EAA9B,IAAqC,CAACvB,IAAI,CAACsG,QAA3C,gBAChB,uDACI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,SAAS,EAAC,uBAA7B;AAAqD,UAAA,EAAE,EAAC,qBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADgB,gBAIhB,yCAJH,GAIW,EALhB,eAOI;AAAM,UAAA,SAAS,EAAG;AAClD,kCAAkC,KAAK/H,WAAL,GAAoByB,IAAI,CAACuB,EAAL,KAAY,KAAKhD,WAAL,CAAiBgD,EAA9B,IAAqC,CAACvB,IAAI,CAACsG,QAA3C,GAAsD,cAAtD,GAAuEtG,IAAI,CAACsG,QAAL,GAAgB,aAAhB,GAAgC,EAA1H,GACMtG,IAAI,CAACsG,QAAL,GAAgB,aAAhB,GAAgC,EAAG;AAC3E,kCAAkCtG,IAAI,CAACqB,QAAL,GAAgB,aAAhB,GAAgC,eAAgB;AAClF,iCAJgC;AAIG,sBAAUrB,IAAI,CAACC,IAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKKD,IAAI,CAAC6B,kBAAL,gBAA0B,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEtI,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA1B,GACGyG,IAAI,CAAC4B,gBAAL,gBAAwB,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEnI,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAxB,GACIuG,IAAI,CAAC8B,iBAAL,gBAAyB,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEtI,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAzB,GACIwG,IAAI,CAACqB,QAAL,gBAAgB,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEzH,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAhB,gBAA0D,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAED,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAR1E,EASKqG,IAAI,CAACC,IATV,CAPJ,EAoBK,KAAK1B,WAAL,IAAoByB,IAAI,CAACuB,EAAL,KAAY,KAAKhD,WAAL,CAAiBgD,EAAjD,gBACG,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAEtH,eAAvB;AAAwC,UAAA,MAAM,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,GAIGgH,WAAW,CAACjB,IAAZ,CAAiB2B,QAAjB,gBAEQ,yCAFR,GAUM,IAlCd,CAFJ,CADH,GA2CG,EA5CR,CADJ;AAiDH;AACJ,KApjCkB;;AAAA,SAsjCnBqF,eAtjCmB,GAsjCArI,KAAD,IAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAIiG,YAAY,GAAGpG,SAAnB;;AACA,UAAI,KAAKkC,KAAL,CAAWmE,gBAAf,EAAiC;AAC7BD,QAAAA,YAAY,GAAGlI,OAAO,CAAC,KAAKgE,KAAL,CAAWmE,gBAAZ,EAA8B,OAA9B,EAAwC7E,IAAD,IAAU;AACnE,cAAIA,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxB3B,YAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH,WAFD,MAEO,IAAI3B,IAAI,CAACuB,EAAL,KAAY5C,KAAK,CAACqB,IAAN,CAAWuB,EAA3B,EAA+B;AAClCvB,YAAAA,IAAI,CAAC2B,QAAL,GAAgB,IAAhB;;AACA,gBAAI,KAAKpD,WAAT,EAAsB;AAClB,kBAAI,KAAKA,WAAL,CAAiBgD,EAAjB,KAAwBvB,IAAI,CAACuB,EAAjC,EAAqC;AACjC,qBAAKhD,WAAL,GAAmBC,SAAnB;AACH;AACJ;;AACD,gBAAIU,MAAM,GAAG,KAAKwB,KAAL,CAAWmE,gBAAxB;AACA,kBAAM1F,OAAO,GACTR,KAAK,CAAC8B,qBAAN,CAA4BrB,KAA5B,CAAkC,GAAlC,EAAuCC,GAAvC,CAA2CC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAA1D,CADJ;AAEA,gBAAIwF,QAAQ,GAAG,EAAf;;AAEA,iBAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,kBAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,gBAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,eAFD,MAEO;AACHA,gBAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,cAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDD,YAAAA,IAAI,CAAC+B,aAAL,GAAqB+C,QAArB;AACH;;AACD,iBAAO9E,IAAP;AACH,SA1BqB,CAAtB;AA4BA4E,QAAAA,YAAY,CAACvF,GAAb,CAAkBJ,IAAD,IAAU;AACvB,eAAK8F,aAAL,CAAmB9F,IAAnB,EAAyBN,KAAK,CAACqB,IAA/B;AACH,SAFD;AAGH;;AACD,UAAIsB,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWwF,YAAZ,EAA0B,OAA1B,EAAoClG,IAAD,IAAU;AAC9D,YAAIA,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxB3B,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH,SAFD,MAEO,IAAI3B,IAAI,CAACuB,EAAL,KAAY5C,KAAK,CAACqB,IAAN,CAAWuB,EAA3B,EAA+B;AAClCvB,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,IAAhB;AAEA,cAAIzC,MAAM,GAAG,KAAKwB,KAAL,CAAWwF,YAAxB;AACA,gBAAM/G,OAAO,GACTR,KAAK,CAAC8B,qBAAN,CAA4BrB,KAA5B,CAAkC,GAAlC,EAAuCC,GAAvC,CAA2CC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAA1D,CADJ;AAEA,cAAIwF,QAAQ,GAAG,EAAf;;AAEA,eAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,gBAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,cAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,aAFD,MAEO;AACHA,cAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,YAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDD,UAAAA,IAAI,CAAC+B,aAAL,GAAqB+C,QAArB;AACH;;AACD,eAAO9E,IAAP;AACH,OAtBoB,CAArB;AAuBAsB,MAAAA,OAAO,CAACjC,GAAR,CAAaJ,IAAD,IAAU;AAClB,aAAK8F,aAAL,CAAmB9F,IAAnB,EAAyBN,KAAK,CAACqB,IAA/B;AACH,OAFD;AAKA,WAAKpB,QAAL,CAAc;AAAEsH,QAAAA,YAAY,EAAE5E,OAAhB;AAAyBuD,QAAAA,gBAAgB,EAAED;AAA3C,OAAd;AACH,KAhoCkB;;AAAA,SA8oCnBqC,kBA9oCmB,GA8oCGtI,KAAD,IAAW;AAE5B,UAAIsC,WAAW,GAAGtC,KAAK,CAACqB,IAAxB;;AACA,UAAI,CAACrB,KAAK,CAACqB,IAAN,CAAWqB,QAAhB,EAA0B;AACtB;AACA,YAAIF,UAAU,GAAG,KAAKC,uBAAL,CAA6B,KAAKV,KAAL,CAAWmE,gBAAX,IAC1C,KAAKnE,KAAL,CAAWmE,gBAAX,CAA4B,CAA5B,CAD0C,IACR,KAAKnE,KAAL,CAAWwF,YAAX,CAAwB,CAAxB,CADrB,EACiDjF,WADjD,CAAjB;;AAEA,YAAIE,UAAJ,EAAgB;AACZA,UAAAA,UAAU,CAACzB,KAAX,CAAiBL,GAAjB,CAAqBW,IAAI,IAAI;AACzBA,YAAAA,IAAI,CAACqB,QAAL,GAAgB,KAAhB;AACH,WAFD;AAGH;;AACD,aAAKuF,WAAL,CAAiBjI,KAAK,CAACqB,IAAvB;AACH;;AAEDrB,MAAAA,KAAK,CAACqB,IAAN,CAAWqB,QAAX,GAAsB,CAAC1C,KAAK,CAACqB,IAAN,CAAWqB,QAAlC;AACA,WAAKwF,WAAL;AACH,KA/pCkB;;AAAA,SAgqCnBnC,aAhqCmB,GAgqCH,CAAC/F,KAAD,EAAQsC,WAAR,KAAwB;AACpC,YAAMiG,MAAM,GAAG,KAAKxG,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,4BAA1B,KAA2D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,4BAA1B,EAAwDC,YAAlI,CADoC,CAEpC;;AACA,WAAK3L,iBAAL,CAAuBsF,WAAvB,EAAoCiG,MAApC;AAEH,KArqCkB;;AAAA,SAyrCnB3C,YAzrCmB,GAyrCJ,CAACvD,CAAD,EAAIC,WAAJ,KAAoB;AAC/B,UAAI2D,YAAY,GAAGpG,SAAnB;;AACA,UAAI,KAAKkC,KAAL,CAAWmE,gBAAf,EAAiC;AAC7BD,QAAAA,YAAY,GAAGlI,OAAO,CAAC,KAAKgE,KAAL,CAAWmE,gBAAZ,EAA8B,OAA9B,EAAwC7E,IAAD,IAAU;AACnE,cAAIA,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA5B,EAAgC;AAC5BvB,YAAAA,IAAI,CAACC,IAAL,GAAYe,CAAC,CAACgD,MAAF,CAASI,KAArB;AACH;;AACD,iBAAOpE,IAAP;AACH,SALqB,CAAtB;AAMH;;AACD,UAAIsB,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC1D,YAAIA,IAAI,CAACuB,EAAL,KAAYN,WAAW,CAACM,EAA5B,EAAgC;AAC5BvB,UAAAA,IAAI,CAACC,IAAL,GAAYe,CAAC,CAACgD,MAAF,CAASI,KAArB;AACH;;AACD,eAAOpE,IAAP;AACH,OALoB,CAArB;AAMA,WAAKpB,QAAL,CAAc;AAAE+B,QAAAA,QAAQ,EAAEW,OAAZ;AAAqBuD,QAAAA,gBAAgB,EAAED;AAAvC,OAAd;AACH,KA1sCkB;;AAAA,SAovCnBJ,UApvCmB,GAovCN,CAACxD,CAAD,EAAIC,WAAJ,EAAiBR,qBAAjB,KAA2C;AACpDQ,MAAAA,WAAW,CAACU,QAAZ,GAAuB,KAAvB,CADoD,CAEpD;;AACA,YAAMxC,OAAO,GAAGsB,qBAAqB,CAACrB,KAAtB,CAA4B,GAA5B,EAAiCC,GAAjC,CAAqCC,KAAK,IAAIC,MAAM,CAACD,KAAD,CAApD,CAAhB;AACA,WAAKiI,yBAAL,CAA+BtG,WAA/B,EAA4C9B,OAA5C;AACA,WAAKP,QAAL,CAAc;AAAEsE,QAAAA,YAAY,EAAE,CAAC,KAAKxC,KAAL,CAAWwC;AAA5B,OAAd;AACH,KA1vCkB;;AAAA,SA4vCnBsE,WA5vCmB,GA4vCL,CAACC,QAAD,EAAWC,OAAX,KAAuB;AACjC,UAAI,KAAKzJ,KAAL,CAAW2F,KAAX,CAAiBL,kBAAjB,KAAwC,IAA5C,EAAkD;AAC9C,aAAKoE,gBAAL,CAAsBF,QAAtB,EAAgCC,OAAhC;AACH,OAFD,MAEO,IAAG,KAAKzJ,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,QAA9B,IAA0C,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,QAA3E,EAAoF;AACvF,aAAKoE,2BAAL,CAAiCH,QAAjC,EAA2CC,OAA3C;AACH,OAFM,MAEA,IAAG,KAAKzJ,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,SAAlC,EAA4C;AAC/C,aAAKqE,2BAAL,CAAiCJ,QAAjC,EAA2CC,OAA3C;AACH;AACJ,KApwCkB;;AAAA,SAqwCnBC,gBArwCmB,GAqwCA,CAACF,QAAD,EAAWC,OAAX,KAAuB;AAEtC,YAAM;AAAEpE,QAAAA;AAAF,UAAqB,KAAK5C,KAAhC,CAFsC,CAGtC;;AACA,UAAI,KAAKzC,KAAL,CAAW2F,KAAX,CAAiB3C,WAAjB,IAAgC,KAAKhD,KAAL,CAAW2F,KAAX,CAAiB3C,WAAjB,KAAiCzC,SAArE,EAAgF;AAC5E,YAAIsJ,SAAS,GAAG,EAAhB;AACA,YAAIC,QAAQ,GAAG,EAAf;AACA,YAAIC,SAAS,GAAGxJ,SAAhB;AACA,YAAIqE,KAAK,GAAG,CAAZ;;AACA,YAAIS,cAAc,CAAC,kBAAD,CAAd,KAAuC9E,SAAvC,IAAoD8E,cAAc,CAAC,kBAAD,CAAd,KAAuC,IAA/F,EAAqG;AACjGT,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACH;;AACD,YAAIS,cAAc,CAAC,oBAAD,CAAd,KAAyC9E,SAAzC,IAAsD8E,cAAc,CAAC,oBAAD,CAAd,KAAyC,IAAnG,EAAyG;AACrGT,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACH;;AACD,YAAIS,cAAc,CAAC,mBAAD,CAAd,KAAwC9E,SAAxC,IAAqD8E,cAAc,CAAC,mBAAD,CAAd,KAAwC,IAAjG,EAAuG;AACnGT,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACH;;AACD,YAAIA,KAAK,GAAG,CAAZ,EAAe;AACXtI,UAAAA,KAAK,CAACyH,IAAN,CAAW,KAAK/D,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,YAAAA,EAAE,EAAE;AAAN,WAA9B,CAAX;AACH,SAFD,MAEO;AACH,cAAI0G,QAAQ,GAAC,KAAb;AACA,cAAI3G,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC1D,gBAAIA,IAAI,CAACuB,EAAL,KAAY,KAAKtD,KAAL,CAAW2F,KAAX,CAAiB3C,WAAjB,CAA6BjB,IAA7B,CAAkCuB,EAAlD,EAAsD;AAClD,kBAAGvB,IAAI,CAACkI,cAAL,CAAoB,OAApB,KAA8BlI,IAAI,CAACN,KAAL,KAAalB,SAA3C,IAAsD8E,cAAc,CAAC,mBAAD,CAAd,KAAsC,IAA/F,EAAoG;AAChG2E,gBAAAA,QAAQ,GAAC,IAAT;AACH,eAFD,MAEK;AACDjI,gBAAAA,IAAI,CAAC4B,gBAAL,GAAwB0B,cAAc,CAAC,kBAAD,CAAd,KAAuC9E,SAAvC,GAAmD8E,cAAc,CAAC,kBAAD,CAAjE,GAAwF,KAAhH;AACAtD,gBAAAA,IAAI,CAAC6B,kBAAL,GAA0ByB,cAAc,CAAC,oBAAD,CAAd,KAAyC9E,SAAzC,GAAqD8E,cAAc,CAAC,oBAAD,CAAnE,GAA4F,KAAtH;AACAtD,gBAAAA,IAAI,CAAC8B,iBAAL,GAAyBwB,cAAc,CAAC,mBAAD,CAAd,KAAwC9E,SAAxC,GAAoD8E,cAAc,CAAC,mBAAD,CAAlE,GAA0F,KAAnH;AACH;AACJ;;AACD,gBAAItD,IAAI,CAACsG,QAAL,IAAiBtG,IAAI,CAACsG,QAAL,KAAkB,IAAvC,EAA6C;AACzCtG,cAAAA,IAAI,CAACsG,QAAL,GAAgB,KAAhB;AACH;;AACD,mBAAOtG,IAAP;AACH,WAdoB,CAArB;;AAeA,cAAGiI,QAAQ,KAAG,IAAd,EAAmB;AACf1N,YAAAA,KAAK,CAACyH,IAAN,CAAY,KAAK/D,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,cAAAA,EAAE,EAAG;AAAP,aAA9B,CAAZ;AAGH,WAJD,MAIK;AACD,kBAAM6B,UAAU,GAAG;AACfC,cAAAA,QAAQ,EAAElH,cADK;AAEf8C,cAAAA,IAAI,EAAE;AACF0B,gBAAAA,QAAQ,EAAEW,OADR;AAEFgC,gBAAAA,cAFE;AAEcC,gBAAAA,kBAAkB,EAAE,KAFlC;AAGF4E,gBAAAA,OAAO,EAAE;AAHP;AAFS,aAAnB;AAQA,iBAAKlK,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH;AACJ;AACJ,OArDqC,CAsDtC;AACA;AACA;;AACH,KA9zCkB;;AAAA,SA+zCnBwE,2BA/zCmB,GA+zCW,CAACH,QAAD,EAAWC,OAAX,KAAuB;AAEjD,YAAM;AAAEpE,QAAAA;AAAF,UAAqB,KAAK5C,KAAhC,CAFiD,CAIjD;AACA;;AAEA,UAAIoH,SAAS,GAAG,EAAhB;AACA,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAIC,SAAS,GAAGxJ,SAAhB;AACA,UAAI4J,WAAW,GAAG,CAAlB;AAEA,UAAI9G,OAAO,GAAG5E,OAAO,CAAC,KAAKgE,KAAL,CAAWC,QAAZ,EAAsB,OAAtB,EAAgCX,IAAD,IAAU;AAC1D,YAAIA,IAAI,CAAC2B,QAAL,KAAkB,IAAtB,EAA4B;AACxB3B,UAAAA,IAAI,CAAC2B,QAAL,GAAgB,KAAhB;AACH;;AACD,YAAI3B,IAAI,CAACqB,QAAL,KAAkB,KAAtB,EAA6B;AACzBrB,UAAAA,IAAI,CAACqB,QAAL,GAAgB,IAAhB;AACH;;AACDrB,QAAAA,IAAI,CAACqB,QAAL,GAAgB,KAAhB;AACA+G,QAAAA,WAAW;AACX,eAAOpI,IAAP;AACH,OAVoB,CAArB,CAZiD,CAwBjD;AACA;AAEA;AAEA;AACA;;AAEA,UAAIoI,WAAW,GAAG,CAAlB,EAAqB;AAGjBL,QAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmBzG,OAAnB;AACAwG,QAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAAzC;AACAP,QAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqC;AAAE,qBAAW;AAAb,SAArC;AACAA,QAAAA,SAAS,CAAC,sBAAD,CAAT,GAAoC;AAAE,qBAAW;AAAb,SAApC;AAGAA,QAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmExE,cAAc,CAAC,4BAAD,CAAjF;AACAwE,QAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,IAA6DxE,cAAc,CAAC,sBAAD,CAAd,CAAuCc,KAApG;;AAGA,YAAG,KAAKnG,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,QAAlC,EAA2C;AACtCsE,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,cAAnC,IAAqDxE,cAAc,CAAC,cAAD,CAAd,IAAkCA,cAAc,CAAC,cAAD,CAAd,CAA+Bc,KAAjE,GACAd,cAAc,CAAC,cAAD,CAAd,CAA+Bc,KAD/B,GAC0C,CAAC,CADhG;AAED0D,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,kBAAnC,IAAyDxE,cAAc,CAAC,kBAAD,CAAd,IAAsCA,cAAc,CAAC,kBAAD,CAAd,CAAmCc,KAAzE,GACAd,cAAc,CAAC,kBAAD,CAAd,CAAmCc,KADnC,GAC2C,CAAC,CADrG;AAEA0D,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,WAAnC,IAAiDxE,cAAc,CAAC,WAAD,CAAd,GAA6BgF,QAAQ,CAAChF,cAAc,CAAC,WAAD,CAAf,CAArC,GAAqE,CAAtH;AACAwE,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,WAAnC,IAAkDxE,cAAc,CAAC,WAAD,CAAd,GAA8BgF,QAAQ,CAAChF,cAAc,CAAC,WAAD,CAAf,CAAtC,GAAsE,CAAC,CAAzH;AAEAwE,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,kBAAnC,IAAyDxE,cAAc,CAAC,kBAAD,CAAd,GAAsC,CAAtC,GAA0C,CAAnG;AACAwE,UAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqCxE,cAAc,CAAC,eAAD,CAAd,KAAoC,IAApC,GACjC,EACI,GAAGwE,SAAS,CAAC,uBAAD,CADhB;AAEIS,YAAAA,kBAAkB,EAAEjF,cAAc,CAAC,oBAAD,CAAd,CAAqCc,KAArC,GAA6Cd,cAAc,CAAC,oBAAD,CAAd,CAAqCc,KAAlF,GAA0F,CAAC,CAFnH;AAGIoE,YAAAA,oBAAoB,EAAElF,cAAc,CAAC,sBAAD,CAAd,CAAuCc,KAHjE;AAIIqE,YAAAA,aAAa,EAAE,CAJnB;AAKIC,YAAAA,uBAAuB,EAAEpF,cAAc,CAAC,yBAAD,CAAd,CAA0Cc,KAA1C,GAAkDd,cAAc,CAAC,yBAAD,CAAd,CAA0Cc,KAA5F,GAAoG,CAAC,CALlI;AAMIuE,YAAAA,cAAc,EAAErF,cAAc,CAAC,gBAAD,CAAd,GAAoCgF,QAAQ,CAAChF,cAAc,CAAC,gBAAD,CAAf,CAA5C,GAAiF,CANrG;AAOIsF,YAAAA,IAAI,EAACtF,cAAc,CAAC,MAAD,CAPvB;AAQIuF,YAAAA,OAAO,EAAEvF,cAAc,CAAC,SAAD;AAR3B,WADiC,GAW7B,EACA,GAAGwE,SAAS,CAAC,uBAAD,CADZ;AAEAS,YAAAA,kBAAkB,EAAE,CAAC,CAFrB;AAGAC,YAAAA,oBAAoB,EAAE,CAHtB;AAIAC,YAAAA,aAAa,EAAE,CAJf;AAKAC,YAAAA,uBAAuB,EAAE,CAAC,CAL1B;AAK6BC,YAAAA,cAAc,EAAErF,cAAc,CAAC,gBAAD,CAAd,GAAmCgF,QAAQ,CAAChF,cAAc,CAAC,gBAAD,CAAf,CAA3C,GAAgF,CAL7H;AAMA;AACAsF,YAAAA,IAAI,EAACtF,cAAc,CAAC,MAAD,CAAd,KAAyB9E,SAAzB,IAAsC8E,cAAc,CAAC,MAAD,CAAd,KAAyB,CAA/D,GAAkE,CAAlE,GAAqEA,cAAc,CAAC,MAAD,CAPxF;AAQAuF,YAAAA,OAAO,EAAEvF,cAAc,CAAC,SAAD,CAAd,KAA4B9E,SAA5B,IAAyC8E,cAAc,CAAC,SAAD,CAAd,KAA4B,CAArE,GAAwE,CAAxE,GAA0EA,cAAc,CAAC,SAAD;AARjG,WAXR;AAsBH,SA5CgB,CAkDxB;;;AACOwE,QAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,IAA8C,EAC1C,GAAGC;AADuC,SAA9C,CAnDiB,CAsDzB;;AAEY,YAAG,KAAK9J,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,QAAlC,EAA2C;AACvCsE,UAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,IAA8C,EAC1C,GAAGA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,CADuC;AAE1C,8BAAiB,EACb,GAAGA,SAAS,CAAC,uBAAD,CADC;AAEb,sCAAuB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDC,oBAApD,GAA0E,KAAK/K,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDC,oBAA9H,GAAmJ;AAF7J;AAFyB,WAA9C;AAQH,SATD,MAUI,IAAG,KAAK/K,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,QAAlC,EAA2C;AAC3CsE,UAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,IAA8C,EAC3C,GAAGA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,CADwC;AAE1C,8BAAiB,EACd,GAAG,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BADjB;AAEd,iBAAGnB,SAAS,CAAC,uBAAD,CAFE;AAGd,sCAAuBxE,cAAc,CAAC,sBAAD,CAAd,GAAwCA,cAAc,CAAC,sBAAD,CAAd,CAAuCc,KAA/E,GAAqF,CAAC,CAH/F;AAId,sCAAuBd,cAAc,CAAC,sBAAD,CAAd,GAAwCA,cAAc,CAAC,sBAAD,CAAd,CAAuC4F,KAA/E,GAAqF;AAJ9F;AAFyB,WAA9C;AAUP;;AACD,YAAI,KAAKjL,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA+B,QAAnC,EAA6C;AACzC,gBAAM2F,UAAU,GAAG;AACfC,YAAAA,QAAQ,EAAE,uBADK;AAEfC,YAAAA,SAAS,EAAE,uBAFI;AAGfC,YAAAA,WAAW,EAAE,KAAKrL,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG,WAH1B;AAIfxB,YAAAA,SAAS,EAAEA,SAJI;AAIMyB,YAAAA,SAAS,EAAE,KAAKA,SAJtB;AAKf/F,YAAAA,SAAS,EAAE,QALI;AAKMiE,YAAAA,QALN;AAKgBC,YAAAA;AALhB,WAAnB;AAOA,gBAAMoB,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC;;AAEA,cAAIjO,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8E,KAAKxL,KAAL,CAAW2F,KAAX,CAAiB0D,YAA/F,CAAb,EAA2H;AACvH,kBAAMlE,UAAU,GAAG;AACfC,cAAAA,QAAQ,EAAElH,cADK;AAEf8C,cAAAA,IAAI,EAAE;AACF0E,gBAAAA,SAAS,EAAE,IADT;AACe+F,gBAAAA,UAAU,EAAE;AAAEP,kBAAAA,UAAF;AAAcL,kBAAAA;AAAd,iBAD3B;AACuDrB,gBAAAA;AADvD;AAFS,aAAnB;AAMA,iBAAKxJ,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,WARD,MASK;AACD,iBAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D,EADC,CAED;AACA;AACH;AACJ,SAxBD,MAwBO;AAEHd,UAAAA,SAAS,GAAG;AACR2B,YAAAA,aAAa,EAAE,uBADP;AAERC,YAAAA,cAAc,EAAE,+BAFR;AAGRC,YAAAA,eAAe,EAAE;AAHT,WAAZ;AAKA/B,UAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAAnE,CAPG,CAQH;AACA;;AAEAhC,UAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,IAAiE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,2BAAzD,CAAjE;AACAnB,UAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,IAAuD,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,iBAAzD,CAAvD;AAEA,gBAAME,UAAU,GAAG;AACfC,YAAAA,QAAQ,EAAE,uBADK;AAEfC,YAAAA,SAAS,EAAE,uBAFI;AAGfC,YAAAA,WAAW,EAAE,KAAKrL,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG,WAH1B;AAIfxB,YAAAA,SAAS,EAAEA,SAJI;AAIMyB,YAAAA,SAAS,EAAE,KAAKA,SAJtB;AAIgCvB,YAAAA,SAJhC;AAKfxE,YAAAA,SAAS,EAAE,QALI;AAKMiE,YAAAA,QALN;AAKgBC,YAAAA;AALhB,WAAnB;AAOA,gBAAMoB,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC;;AAEA,cAAIjO,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8E,KAAKxL,KAAL,CAAW2F,KAAX,CAAiB0D,YAA/F,CAAb,EAA2H;AACvH,kBAAMlE,UAAU,GAAG;AACfC,cAAAA,QAAQ,EAAElH,cADK;AAEf8C,cAAAA,IAAI,EAAE;AACF0E,gBAAAA,SAAS,EAAE,IADT;AACe+F,gBAAAA,UAAU,EAAE;AAAEP,kBAAAA,UAAF;AAAcL,kBAAAA;AAAd,iBAD3B;AACuDrB,gBAAAA;AADvD;AAFS,aAAnB;AAMA,iBAAKxJ,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,WARD,MAQO;AACH,iBAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D,EADG,CAEH;AACH;AAEJ;AACJ,OA3ID,MA2IO;AACHvO,QAAAA,KAAK,CAACyH,IAAN,CAAW,KAAK/D,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAX;AACH;AAEJ,KA9+CkB;;AAAA,SAg/CnBsG,2BAh/CmB,GAg/CW,CAACJ,QAAD,EAAWC,OAAX,KAAuB;AACjD,UAAIM,SAAS,GAAGxJ,SAAhB;AACAwJ,MAAAA,SAAS,GAAG;AACR2B,QAAAA,aAAa,EAAE,uBADP;AAERC,QAAAA,cAAc,EAAE,+BAFR;AAGRC,QAAAA,eAAe,EAAE;AAHT,OAAZ;AAKA,YAAM;AAAEvG,QAAAA;AAAF,UAAqB,KAAK5C,KAAhC;AACA,UAAIoH,SAAS,GAAG,EAAhB;AACA,UAAIC,QAAQ,GAAC,EAAb;AACAD,MAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqC;AAAE,mBAAW;AAAb,OAArC;AACAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,GAAoC;AAAE,mBAAW;AAAb,OAApC;AACAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,IAAiE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,2BAAzD,CAAjE;AACAnB,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAAzC;AACAP,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAAnE;AACAhC,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,IAAkE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,2BAAzD,CAAlE;AACAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,kBAAnC,IAAyDxE,cAAc,CAAC,kBAAD,CAAd,IAAsCA,cAAc,CAAC,kBAAD,CAAd,CAAmCc,KAAzE,GAAiFd,cAAc,CAAC,kBAAD,CAAd,CAAmCc,KAApH,GAA4H,CAAC,CAAtL;AACA0D,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,WAAnC,IAAkDxE,cAAc,CAAC,WAAD,CAAd,IAA+BA,cAAc,CAAC,WAAD,CAAd,CAA4Bc,KAA3D,GAAmEd,cAAc,CAAC,WAAD,CAAd,CAA4Bc,KAA/F,GAAuG,CAAC,CAA1J;AACA0D,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,WAAnC,IAAkDxE,cAAc,CAAC,WAAD,CAAd,IAA+BA,cAAc,CAAC,WAAD,CAA7C,GAA6DyG,UAAU,CAACzG,cAAc,CAAC,WAAD,CAAf,CAAvE,GAAuG,CAAzJ;AACAwE,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,cAAnC,IAAqDxE,cAAc,CAAC,cAAD,CAAd,IAAkCA,cAAc,CAAC,cAAD,CAAd,CAA+Bc,KAAjE,GAAyEd,cAAc,CAAC,cAAD,CAAd,CAA+Bc,KAAxG,GAAgH,CAAC,CAAtK;AACA0D,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,kBAAnC,IAAyDxE,cAAc,CAAC,kBAAD,CAAd,GAAqC,CAArC,GAAyC,CAAlG;AACAwE,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,IAA4D,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDiB,oBAApD,GAA0E,KAAK/L,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDiB,oBAA9H,GAAmJ,CAA/M;AAQAlC,MAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqCxE,cAAc,CAAC,eAAD,CAAd,KAAoC,IAApC,GAC7B,EACI,GAAGwE,SAAS,CAAC,uBAAD,CADhB;AAEIS,QAAAA,kBAAkB,EAAEjF,cAAc,CAAC,oBAAD,CAAd,CAAqCc,KAArC,GAA6Cd,cAAc,CAAC,oBAAD,CAAd,CAAqCc,KAAlF,GAA0F,CAAC,CAFnH;AAGIoE,QAAAA,oBAAoB,EAAElF,cAAc,CAAC,sBAAD,CAAd,CAAuCc,KAHjE;AAIIqE,QAAAA,aAAa,EAAE,CAJnB;AAKIC,QAAAA,uBAAuB,EAAEpF,cAAc,CAAC,yBAAD,CAAd,CAA0Cc,KAA1C,GAAkDd,cAAc,CAAC,yBAAD,CAAd,CAA0Cc,KAA5F,GAAoG,CAAC,CALlI;AAMI;AACAuE,QAAAA,cAAc,EAAErF,cAAc,CAAC,gBAAD,CAAd,GAAmCgF,QAAQ,CAAChF,cAAc,CAAC,gBAAD,CAAf,CAA3C,GAAgF,CAPpG;AAQIsF,QAAAA,IAAI,EAACtF,cAAc,CAAC,MAAD,CARvB;AASXuF,QAAAA,OAAO,EAAEvF,cAAc,CAAC,SAAD;AATZ,OAD6B,GAYzB,EACA,GAAGwE,SAAS,CAAC,uBAAD,CADZ;AAEAS,QAAAA,kBAAkB,EAAE,CAAC,CAFrB;AAGAC,QAAAA,oBAAoB,EAAE,CAHtB;AAIAC,QAAAA,aAAa,EAAE,CAJf;AAKAC,QAAAA,uBAAuB,EAAE,CAAC,CAL1B;AAMA;AACCC,QAAAA,cAAc,EAAErF,cAAc,CAAC,gBAAD,CAAd,GAAmCgF,QAAQ,CAAChF,cAAc,CAAC,gBAAD,CAAf,CAA3C,GAAgF,CAPjG;AAQAsF,QAAAA,IAAI,EAACtF,cAAc,CAAC,MAAD,CARnB;AASAuF,QAAAA,OAAO,EAAEvF,cAAc,CAAC,SAAD;AATvB,OAZZ,CA7BiD,CAoDpD;;AACWyE,MAAAA,QAAQ,GAAE,EAAE,GAAGD,SAAS,CAAC,uBAAD,CAAd;AACN,wBAAexE,cAAc,CAAC,cAAD,CAAd,IAAkCA,cAAc,CAAC,cAAD,CAAd,CAA+B4F,KAAjE,GACf5F,cAAc,CAAC,cAAD,CAAd,CAA+B4F,KADhB,GACwB,GAFjC;AAGN,4BAAmB5F,cAAc,CAAC,kBAAD,CAAd,IAAsCA,cAAc,CAAC,kBAAD,CAAd,CAAmC4F,KAAzE,GACkC5F,cAAc,CAAC,kBAAD,CAAd,CAAmC4F,KADrE,GAC6E,IAJ1F;AAKP,0BAAkB5F,cAAc,CAAC,oBAAD,CAAd,IAAuCA,cAAc,CAAC,oBAAD,CAAd,CAAqC4F,KAA5E,GACoC5F,cAAc,CAAC,oBAAD,CAAd,CAAqC4F,KADzE,GACiF,IAN5F;AAON,sBAAc5F,cAAc,CAAC,sBAAD,CAAd,IAAyCA,cAAc,CAAC,sBAAD,CAAd,CAAuC4F,KAAhF,GACuC5F,cAAc,CAAC,sBAAD,CAAd,CAAuC4F,KAD9E,GACsF,IAR9F;AASL,mCAA2B5F,cAAc,CAAC,yBAAD,CAAd,IAA4CA,cAAc,CAAC,yBAAD,CAAd,CAA0C4F,KAAtF,GAC1B5F,cAAc,CAAC,yBAAD,CAAd,CAA0C4F,KADhB,GACwB,IAV9C;AAWJ,gCAAuB,KAAKjL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDC,oBAApD,GAA0E,KAAK/K,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDC,oBAA9H,GAAmJ,IAXtK;AAYJ,qBAAY1F,cAAc,CAAC,WAAD,CAAd,IAA+BA,cAAc,CAAC,WAAD,CAAd,CAA4B4F,KAA3D,GAAmE5F,cAAc,CAAC,WAAD,CAAd,CAA4B4F,KAA/F,GAAuG;AAZ/G,OAAV;AAcApB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,IAA+CC,QAA/C;AACA,YAAMoB,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAE,uBADK;AAEfC,QAAAA,SAAS,EAAE,uBAFI;AAGfC,QAAAA,WAAW,EAAE,KAAKrL,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG,WAH1B;AAIfxB,QAAAA,SAAS,EAAEA,SAJI;AAIMyB,QAAAA,SAAS,EAAE,KAAKA,SAJtB;AAIgCvB,QAAAA,SAJhC;AAKfxE,QAAAA,SAAS,EAAE,SALI;AAKOiE,QAAAA,QALP;AAKiBC,QAAAA;AALjB,OAAnB;AAOA,YAAMoB,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC;;AAEA,UAAIjO,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8E,KAAKxL,KAAL,CAAW2F,KAAX,CAAiB0D,YAA/F,CAAb,EAA2H;AACvH,cAAMlE,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAElH,cADK;AAEf8C,UAAAA,IAAI,EAAE;AACF0E,YAAAA,SAAS,EAAE,IADT;AACe+F,YAAAA,UAAU,EAAE;AAAEP,cAAAA,UAAF;AAAcL,cAAAA;AAAd,aAD3B;AACuDrB,YAAAA;AADvD;AAFS,SAAnB;AAMA,aAAKxJ,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,OARD,MAQO;AACH,aAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D;AACH;AAIZ,KA3kDkB;;AAAA,SA6kDnBmB,2BA7kDmB,GA6kDYC,YAAD,IAAkB;AAC5C,WAAK7E,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd,EAF4C,CAG5C;AACA;AACA;;AAEA,YAAMwJ,SAAS,GAAG;AACd2B,QAAAA,aAAa,EAAE,uBADD;AAC0BC,QAAAA,cAAc,EAAE,+BAD1C;AAEdC,QAAAA,eAAe,EAAE,4BAFH;AAGdM,QAAAA,eAAe,EAAE,KAAKlM,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAHH;AAIdM,QAAAA,QAAQ,EAAE,wDAJI;AAKdC,QAAAA,gBAAgB,EAAE;AACdC,UAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AADb,SALJ;AAQdkC,QAAAA,YAAY,EAAC;AARC,OAAlB;AAUA,UAAIzC,SAAS,GAAG,EAAhB;AACAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,GAAoC,EAApC;AACAA,MAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqC,EAArC;AAEAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,IAAkE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,4BAAzD,CAAlE;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,IAAiE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,2BAAzD,CAAjE;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,IAAuD,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,iBAAzD,CAAvD;AAEAnB,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAAzC;AACAP,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,IAA6D,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,sBAAzD,CAA7D;AACAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,sBAAzD,CAAnE;AACAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmE,KAAK7J,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAAnE;AAEA,YAAMX,UAAU,GAAG;AACfE,QAAAA,SAAS,EAAE,uBADI;AAEfD,QAAAA,QAAQ,EAAE,uBAFK;AAGftB,QAAAA,SAAS,EAAEA,SAHI;AAGME,QAAAA,SAHN;AAIfxE,QAAAA,SAAS,EAAE,QAJI,CAIK;;AAJL,OAAnB;AAMA,YAAMsF,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC,CApC4C,CAqC5C;;AACA,UAAIjO,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8ES,YAA9E,CAAb,EAA0G;AACtG,cAAM9G,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAElH,cADK;AAEf8C,UAAAA,IAAI,EAAE;AACF0E,YAAAA,SAAS,EAAE,IADT;AACe+F,YAAAA,UAAU,EAAE;AAAEP,cAAAA,UAAF;AAAcL,cAAAA;AAAd,aAD3B;AACuDtF,YAAAA,SAAS,EAAE,QADlE;AAC4EL,YAAAA,SAAS,EAAE,IADvF;AAEFqH,YAAAA,UAAU,EAAE,KAAKvM,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG;AAFtC;AAFS,SAAnB;AAOA,aAAKrL,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,OATD,MAUK;AACD,aAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D;AACH;AAEJ,KAjoDkB;;AAAA,SAkoDnB2B,aAloDmB,GAkoDFP,YAAD,IAAkB;AAC9B,WAAKQ,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,EACI,KAAK1M,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CADJ,EAEI,KAAKtD,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAFJ,EAGI,KAAKtD,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAHJ,EAII,KAAKtD,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAJJ,EAKI,MAAM,KAAK0I,2BAAL,CAAiCC,YAAjC,CALV;AAMH,KAzoDkB;;AAAA,SA2oDnBU,cA3oDmB,GA2oDDC,CAAD,IAAO;AACpB,WAAKjM,QAAL,CAAc;AACVkM,QAAAA,0BAA0B,EAAED;AADlB,OAAd;AAGH,KA/oDkB;;AAAA,SAgpDnBE,gBAhpDmB,GAgpDA/J,CAAC,IAAI;AACpB,WAAKpC,QAAL,CAAc;AACVoM,QAAAA,IAAI,EAAEhK,CAAC,CAACgK,IADE;AAEVC,QAAAA,IAAI,EAAEjK,CAAC,CAACiK;AAFE,OAAd;AAIH,KArpDkB;;AAAA,SAspDnBC,sBAtpDmB,GAspDMlK,CAAC,IAAI;AAC1B,WAAKpC,QAAL,CAAc;AACVoM,QAAAA,IAAI,EAAEhK,CAAC,CAACgK,IADE;AAEVC,QAAAA,IAAI,EAAEjK,CAAC,CAACiK;AAFE,OAAd;AAIH,KA3pDkB;;AAAA,SAstDnBE,kBAttDmB,GAstDE,CAAC7S,GAAD,EAAM8S,MAAN,KAAiB;AAClC,UAAIzC,cAAc,GAAGrQ,GAAG,GAAG8S,MAA3B;AACA,aAAOzC,cAAP;AACH,KAztDkB;;AAAA,SA8wDnB0C,aA9wDmB,GA8wDH,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,MAAvB,KAAkC;AAC9C,YAAMlI,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAApD;;AACA,UAAIkI,MAAM,KAAK,CAAf,EAAkB;AAEd,YAAIC,sBAAsB,GAAG,KAAK/K,KAAL,CAAW+K,sBAAX,IAAqC,EAAlE;AACAA,QAAAA,sBAAsB,GAAGH,SAAzB;;AACA,YAAI,KAAK/B,SAAL,CAAemC,OAAnB,EAA4B;AACxB,eAAKnC,SAAL,CAAemC,OAAf,CAAuBtH,KAAvB,GAA+B,EAA/B;AACH;;AAED,aAAKxF,QAAL,CAAc;AAAE6M,UAAAA;AAAF,SAAd;AAEH,OAVD,MAUO;AACH,YAAIF,SAAS,KAAK,sBAAlB,EAA0C;AACtC,eAAKI,wBAAL,CAA8B;AAC1BrB,YAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAWoK,QADK;AAE1B2B,YAAAA,oBAAoB,EAAEsB,SAAS,CAAClH;AAFN,WAA9B,EAGGmH,SAHH,EAGcD,SAHd;AAIH,SALD,MAKO,IAAIC,SAAS,KAAK,oBAAlB,EAAwC;AAC3C,eAAKK,qBAAL,CAA2B;AACvBtB,YAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAWoK,QADE;AAEvBE,YAAAA,kBAAkB,EAAE+C,SAAS,CAAClH;AAFP,WAA3B,EAGGmH,SAHH,EAGcD,SAHd;AAKH,SANM,MAMA,IAAIC,SAAS,KAAK,yBAAlB,EAA6C;AAChDjI,UAAAA,cAAc,CAAC,MAAD,CAAd,GAAyBgI,SAAS,CAACtL,IAAV,CAAe4I,IAAf,GAAsB0C,SAAS,CAACtL,IAAV,CAAe4I,IAArC,GAA4C,CAArE;AACAtF,UAAAA,cAAc,CAAC,SAAD,CAAd,GAA4BgI,SAAS,CAACtL,IAAV,CAAe6I,OAAf,GAAyByC,SAAS,CAACtL,IAAV,CAAe6I,OAAxC,GAAkD,CAA9E;AACAvF,UAAAA,cAAc,CAAC,gBAAD,CAAd,GAAmCA,cAAc,CAAC,eAAD,CAAd,KAAoC,IAApC,GAA2C,KAAK6H,kBAAL,CAAwB7H,cAAc,CAAC,MAAD,CAAtC,EAC1EA,cAAc,CAAC,SAAD,CAD4D,CAA3C,GACF,CADjC;AAGH,SANM,MAMA,IAAIiI,SAAS,KAAK,4BAAlB,EAAgD;AACnD,eAAKI,wBAAL,CAA8B;AAC1BrB,YAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAWoK,QADK;AAE1B2B,YAAAA,oBAAoB,EAAE,KAAK/L,KAAL,CAAW4N,oBAAX,CAAgC,sBAAhC,EAAwDzH,KAFpD;AAG1B0H,YAAAA,0BAA0B,EAAER,SAAS,CAAClH;AAHZ,WAA9B,EAKGmH,SALH,EAKcD,SALd;AAMH;;AACDhI,QAAAA,cAAc,CAACiI,SAAD,CAAd,GAA4BD,SAA5B;AACA,aAAK1M,QAAL,CAAc;AAAE0E,UAAAA;AAAF,SAAd;AACH;AAGJ,KAzzDkB;;AAAA,SAm1DnByI,UAn1DmB,GAm1DN,MAAM;AACf,UAAIC,UAAU,GAAG,CAAC,KAAK/N,KAAL,CAAW2F,KAAX,CAAiBoI,UAAnC;AACA,YAAM5I,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AAAE+M,UAAAA;AAAF;AAFS,OAAnB;AAIA,WAAK/N,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KA11DkB;;AAAA,SA41DnB6I,WA51DmB,GA41DL,MAAM;AAEhB,YAAM7I,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AAAE+M,UAAAA,UAAU,EAAE;AAAd;AAFS,OAAnB;AAIA,WAAK/N,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KAn2DkB;;AAAA,SAq2DnB8I,cAr2DmB,GAq2DF,MAAM;AACnB,WAAK3C,SAAL,CAAemC,OAAf,CAAuBtH,KAAvB,GAA+B,EAA/B;;AACA,UAAI,KAAK1D,KAAL,CAAW+K,sBAAX,CAAkCrH,KAAtC,EAA6C;AACzC,YAAI+E,UAAU,GAAG;AACbrB,UAAAA,SAAS,EAAE;AACPkC,YAAAA,oBAAoB,EAAE,KAAKtJ,KAAL,CAAW+K,sBAAX,CAAkCrH,KADjD;AAEPkG,YAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE,QAFpB;AAGPoD,YAAAA,sBAAsB,EAAE,KAAK/K,KAAL,CAAW+K;AAH5B;AADE,SAAjB;AAQA,aAAKxN,KAAL,CAAWvC,2BAAX,CAAuCyN,UAAvC,EAAmD,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqD,qBAA/E;AACH,OAVD,MAUO;AACH5R,QAAAA,KAAK,CAACqI,IAAN,CAAW,KAAK3E,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAX;AACH;AACJ,KAp3DkB;;AAAA,SAu3DnB6K,8BAv3DmB,GAu3DelC,YAAD,IAAkB;AAC/C,WAAK7E,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd,EAF+C,CAG/C;AACA;AACA;;AAEA,YAAMwJ,SAAS,GAAG;AACd2B,QAAAA,aAAa,EAAE,uBADD;AAC0BC,QAAAA,cAAc,EAAE,+BAD1C;AAEdC,QAAAA,eAAe,EAAE,4BAFH;AAGdM,QAAAA,eAAe,EAAE,KAAKlM,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAHH;AAIdM,QAAAA,QAAQ,EAAE,wDAJI;AAKdC,QAAAA,gBAAgB,EAAE;AACdC,UAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AADb;AALJ,OAAlB;AAUA,UAAIP,SAAS,GAAG,EAAhB;AACA,UAAIuE,WAAW,GAAG,KAAlB;AACA,UAAIC,YAAY,GAAG,KAAnB;AACA,UAAIC,UAAU,GAAG,KAAjB;AACA,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,aAAa,GAAG,EAApB;AACA,UAAI3K,iBAAiB,GAAG,EAAxB;AACApF,MAAAA,OAAO,CAAC,KAAKgE,KAAL,CAAWwF,YAAZ,CACH;AADG,QAED,OAFC,EAESlG,IAAD,IAAU;AACjB,YAAIA,IAAI,CAAC4B,gBAAL,KAA0B,IAA9B,EAAoC;AAChCyK,UAAAA,WAAW,GAAG,IAAd;AACH;;AACD,YAAIrM,IAAI,CAAC6B,kBAAL,KAA4B,IAAhC,EAAsC;AAClCyK,UAAAA,YAAY,GAAG,IAAf;AACAE,UAAAA,UAAU,CAAChL,IAAX,CAAgB;AAAEkL,YAAAA,aAAa,EAAE1M,IAAI,CAAC+B,aAAtB;AAAqC4K,YAAAA,cAAc,EAAE3M,IAAI,CAACuB;AAA1D,WAAhB;AACH;;AACD,YAAIvB,IAAI,CAAC8B,iBAAL,KAA2B,IAA/B,EAAqC;AACjCyK,UAAAA,UAAU,GAAG,IAAb;AACAE,UAAAA,aAAa,CAACjL,IAAd,CAAmB;AAACoL,YAAAA,cAAc,EAAC5M,IAAI,CAAC+B;AAArB,WAAnB;AACAD,UAAAA,iBAAiB,CAACN,IAAlB,CAAuBxB,IAAI,CAACC,IAA5B;AACH;;AACD,eAAO,IAAP;AACH,OAhBE,CAAP,CAxB+C,CAyC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,YAAM6I,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC;AAEAhB,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAAzC;AACAP,MAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqC;AAAE,mBAAW;AAAb,OAArC;AACAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,GAAoC;AAAE,mBAAW;AAAb,OAApC;AACAA,MAAAA,SAAS,CAAC,YAAD,CAAT,GAA0B0E,UAA1B;AACA1E,MAAAA,SAAS,CAAC,eAAD,CAAT,GAA6B3B,IAAI,CAACE,SAAL,CAAeoG,aAAf,CAA7B;AACA3E,MAAAA,SAAS,CAAC,mBAAD,CAAT,GAAiC2E,aAAa,CAAChN,MAA/C;AACAqI,MAAAA,SAAS,CAAC,mBAAD,CAAT,GAAiC3B,IAAI,CAACE,SAAL,CAAevE,iBAAf,CAAjC;AACAgG,MAAAA,SAAS,CAAC,oBAAD,CAAT,GAAkC;AAAE,uBAAeuE,WAAjB;AAA8B,wBAAgBC,YAA9C;AAA4D,sBAAcC;AAA1E,OAAlC;AACAzE,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,IAAuDgB,UAAU,CAACG,4BAAX,CAAwC,iBAAxC,CAAvD;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,IAAiEgB,UAAU,CAACG,4BAAX,CAAwC,2BAAxC,CAAjE;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,IAAkEgB,UAAU,CAACG,4BAAX,CAAwC,4BAAxC,CAAlE;AAEAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,IAA6DgB,UAAU,CAACG,4BAAX,CAAwC,sBAAxC,CAA7D;AACAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmEgB,UAAU,CAACG,4BAAX,CAAwC,4BAAxC,CAAnE;AACAnB,MAAAA,SAAS,CAAC,+BAAD,CAAT,GAA6CgB,UAAU,CAACgB,6BAAxD;AAEA,YAAMX,UAAU,GAAG;AACfrB,QAAAA,SAAS,EAAEA,SADI;AAEfsB,QAAAA,QAAQ,EAAE,uBAFK;AAGfC,QAAAA,SAAS,EAAE,uBAHI;AAIfC,QAAAA,WAAW,EAAE,sBAJE;AAKfjB,QAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE,QALZ;AAKsB7E,QAAAA,SAAS,EAAE,SALjC;AAK2CwE,QAAAA,SAL3C;AAKqDuB,QAAAA,SAAS,EAAC,KAAKA,SALpE;AAMfjG,QAAAA,cAAc,EAAC,EAAC,GAAG,KAAK5C,KAAL,CAAW4C;AAAf;AANA,OAAnB;;AASA,UAAIzI,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8ES,YAA9E,CAAb,EAA0G;AACtG,cAAM9G,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAElH,cADK;AAEf8C,UAAAA,IAAI,EAAE;AACF0E,YAAAA,SAAS,EAAE,IADT;AACe+F,YAAAA,UAAU,EAAE;AAAEP,cAAAA,UAAF;AAAcL,cAAAA;AAAd,aAD3B;AACuD3F,YAAAA,SAAS,EAAE,IADlE;AACwEK,YAAAA,SAAS,EAAE,SADnF;AAEFgH,YAAAA,UAAU,EAAE,KAAKvM,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG;AAFtC;AAFS,SAAnB;AAOA,aAAKrL,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,OATD,MAUK;AACD;AACA,aAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D;AACH;AACJ,KAr9DkB;;AAAA,SAs9DnB+D,kBAt9DmB,GAs9DE,MAAM;AACvB,YAAMzJ,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AACF6E,UAAAA,MAAM,EAAE,IADN;AAEFX,UAAAA,SAAS,EAAE;AAFT;AAFS,OAAnB;AAOA,WAAKlF,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KA/9DkB;;AAAA,SAi+DnB0J,qBAj+DmB,GAi+DG,CAAC7D,4BAAD,EAA8BZ,QAA9B,EAAuC0E,SAAvC,KAAqD;AAEvE,WAAK1H,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd,EAHuE,CAIvE;AACA;AACA;;AAEA,UAAIwO,WAAW,GAAG,KAAlB;;AACA,UAAI,KAAK/O,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BmE,oBAA5B,IAAoD,KAAKhP,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BmE,oBAA5B,CAAiDxN,MAAjD,GAA0D,CAAlH,EAAqH;AACjHuN,QAAAA,WAAW,GAAG,IAAd;AACH;;AACD,WAAK/O,KAAL,CAAW/B,yBAAX,CAAqC+M,4BAArC,EAAmEZ,QAAnE,EAA6E2E,WAA7E,EAA0FD,SAA1F;AAEH,KA/+DkB;;AAAA,SAk/DnBG,UAl/DmB,GAk/DN,MAAM;AACf,YAAM9J,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAElH,cADK;AAEf8C,QAAAA,IAAI,EAAE;AACFuL,UAAAA,UAAU,EAAE,YADV;AAEFrH,UAAAA,SAAS,EAAE;AAFT;AAFS,OAAnB;AAOA,WAAKlF,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,KA3/DkB;;AAAA,SA4/DnB+J,wBA5/DmB,GA4/DSjD,YAAD,IAAkB;AACzC,WAAK7E,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd,EAFyC,CAGzC;AACA;AACA;;AACA,UAAIwJ,SAAS,GAAGxJ,SAAhB;AACCwJ,MAAAA,SAAS,GAAG;AACT2B,QAAAA,aAAa,EAAE,uBADN;AAC+BC,QAAAA,cAAc,EAAE,+BAD/C;AAETC,QAAAA,eAAe,EAAE,4BAFR;AAGTM,QAAAA,eAAe,EAAE,KAAKlM,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D,4BAA1D,CAHR;AAITM,QAAAA,QAAQ,EAAE,wDAJD;AAKTC,QAAAA,gBAAgB,EAAE;AACdC,UAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AADb;AALT,OAAZ;AASD,UAAIP,SAAS,GAAG,EAAhB;AACA,UAAIC,QAAQ,GAAC,EAAb;AACA,YAAMe,UAAU,GAAG,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAApC;AACA,UAAIxF,cAAc,GAAC,KAAK5C,KAAL,CAAW4C,cAA9B;AAEAwE,MAAAA,SAAS,CAAC,UAAD,CAAT,GAAwB,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAAzC;AACAP,MAAAA,SAAS,CAAC,uBAAD,CAAT,GAAqC;AAAE,mBAAW;AAAb,OAArC;AACAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,GAAoC;AAAE,mBAAW;AAAb,OAApC;AAEAA,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,iBAAlC,IAAuDgB,UAAU,CAACG,4BAAX,CAAwC,iBAAxC,CAAvD;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,2BAAlC,IAAiEgB,UAAU,CAACG,4BAAX,CAAwC,2BAAxC,CAAjE;AACAnB,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,4BAAlC,IAAkEgB,UAAU,CAACG,4BAAX,CAAwC,4BAAxC,CAAlE,CA3ByC,CA6B3C;;AACElB,MAAAA,QAAQ,GAAC;AACL,4BAAsBe,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCmE,gBAAnF,IAAsG,CAAC,CADxH;AAEN,qBAAatE,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCoE,SAAnF,GAA8FtD,UAAU,CAACjB,UAAU,CAACgB,6BAAX,CAAyCuD,SAA1C,CAAxG,GAA6J,KAAI,CAFxK;AAGN,qBAAevE,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCqE,SAAnF,IAA+F,CAAC,CAHzG;AAIN,wBAAkBxE,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCsE,YAAnF,IAAkG,CAAC,CAJ/G;AAKN,4BAAsBzE,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCuE,gBAAnF,IAAsG,CAAC,CALvH;AAMN,gCAA0B1E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCe,oBAAnF,IAA0G,CAAC,CAN/H;AAON,8BAAwBlB,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCV,kBAAnF,IAAwG,CAAC,CAP3H;AAQN,yBAAmBO,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCR,aAAnF,IAAmG,CAAC,CARjH;AASN,gCAA0BK,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCT,oBAAnF,IAA0G,CAAC,CAT/H;AAUN,mCAA6BM,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCP,uBAAnF,IAA6G,CAAC,CAVrI;AAWN,gBAAUI,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCL,IAAnF,IAA0F,CAAC,CAX/F;AAYN,mBAAaE,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCJ,OAAnF,IAA6F,CAAC,CAZrG;AAaN,0BAAoBC,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCN,cAAnF,IAAoG,CAAC,CAbnH;AAcN,4BAAqBG,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCwE,gBAAnF,IAAsG,IAdrH;AAeN,wBAAiB3E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCyE,YAAnF,IAAkG,IAf7G;AAgBN,0BAAmB5E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwC0E,cAAnF,IAAoG,IAhBjH;AAiBN,sBAAe7E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwC2E,UAAnF,IAAgG,IAjBzG;AAkBN,mCAA4B9E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwC4E,uBAAnF,IAA6G,IAlBnI;AAmBN,gCAAyB/E,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwCD,oBAAnF,IAA0G,IAnB7H;AAoBN,qBAAcF,UAAU,CAACG,4BAAX,IAA2CH,UAAU,CAACG,4BAAX,CAAwC6E,SAAnF,IAA+F;AApBvG,OAAT;AAwBAhG,MAAAA,SAAS,CAAC,sBAAD,CAAT,CAAkC,UAAlC,IAAgDC,QAAhD;AAEAD,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,sBAAnC,IAA6DgB,UAAU,CAACG,4BAAX,CAAwC,sBAAxC,CAA7D;AACAnB,MAAAA,SAAS,CAAC,uBAAD,CAAT,CAAmC,4BAAnC,IAAmEgB,UAAU,CAACG,4BAAX,CAAwC,4BAAxC,CAAnE;AACA,YAAME,UAAU,GAAG;AACfrB,QAAAA,SAAS,EAAEA,SADI;AAEfsB,QAAAA,QAAQ,EAAE,uBAFK;AAGfC,QAAAA,SAAS,EAAE,sBAHI;AAIfC,QAAAA,WAAW,EAAE,sBAJE;AAIqBtB,QAAAA,SAJrB;AAI+BuB,QAAAA,SAAS,EAAC,KAAKA,SAJ9C;AAKflB,QAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE,QALZ;AAKsB7E,QAAAA,SAAS,EAAE;AALjC,OAAnB;;AAQA,UAAI3I,SAAS,CAAC,KAAKoD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,EAA8ES,YAA9E,CAAb,EAA0G;AACtG,cAAM9G,UAAU,GAAG;AACfC,UAAAA,QAAQ,EAAElH,cADK;AAEf8C,UAAAA,IAAI,EAAE;AACF0E,YAAAA,SAAS,EAAE,IADT;AACe+F,YAAAA,UAAU,EAAE;AAAEP,cAAAA,UAAF;AAAcL,cAAAA;AAAd,aAD3B;AACuD3F,YAAAA,SAAS,EAAE,IADlE;AACwEK,YAAAA,SAAS,EAAE,MADnF;AAEFgH,YAAAA,UAAU,EAAE,KAAKvM,KAAL,CAAW2F,KAAX,CAAiBuF,UAAjB,CAA4BG;AAFtC;AAFS,SAAnB;AAOA,aAAKrL,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH,OATD,MAUK;AACD;AACA,aAAKnF,KAAL,CAAW5C,UAAX,CAAsB8N,UAAtB,EAAkC,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAnD,EAA+D,WAA/D;AACH;AACJ,KA5kEkB;;AAAA,SA6kEnBiF,UA7kEmB,GA6kEN,MAAM;AACf,UAAI,KAAKxE,SAAL,CAAemC,OAAnB,EAA4B;AACxB,aAAKnC,SAAL,CAAemC,OAAf,CAAuBtH,KAAvB,GAA+B,EAA/B;AACH,OAHc,CAKf;;;AACA,UAAIqH,sBAAsB,GAAG,KAAKxN,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,IAAuD,KAAK9K,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BC,uBAA5B,CAAoDiB,oBAAxI;AACA,YAAMb,UAAU,GAAG;AACfrB,QAAAA,SAAS,EAAE;AAAE,sBAAY,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QAA/B;AAAyC,kCAAwBoD;AAAjE,SADI;AAEfrC,QAAAA,QAAQ,EAAE,uBAFK;AAGfC,QAAAA,SAAS,EAAE,uBAHI;AAIfC,QAAAA,WAAW,EAAE,sBAJE;AAKfjB,QAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE;AALZ,OAAnB;AAQA,WAAKpK,KAAL,CAAW7C,WAAX,CAAuB+N,UAAvB;AACH,KA7lEkB;;AAAA,SA8lEnB6E,oBA9lEmB,GA8lEI,CAAC5J,KAAD,EAAQ6J,KAAR,KAAkB;AACrC,YAAM3K,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAApD;AACA,UAAI4K,aAAa,GAAG9J,KAAK,CAACJ,MAAN,CAAaI,KAAjC,CAFqC,CAGrC;AACA;;AACA,UAAI+J,QAAQ,GAAG,gBAAf;;AACA,UAAI,CAACA,QAAQ,CAACC,IAAT,CAAcF,aAAd,CAAL,EAAmC;AAC/B,YAAID,KAAK,KAAK,gBAAd,EAAgC;AAC5B,cAAIC,aAAa,KAAK,CAAtB,EAAyB;AACrB5K,YAAAA,cAAc,CAAC,MAAD,CAAd,GAAyB,CAAzB;AACAA,YAAAA,cAAc,CAAC,SAAD,CAAd,GAA4B4K,aAA5B;AACH,WAHD,MAGO;AACH5K,YAAAA,cAAc,CAAC,MAAD,CAAd,IAA0B,OAAOA,cAAc,CAAC,MAAD,CAA/C;AACAA,YAAAA,cAAc,CAAC,SAAD,CAAd,IAA6B,OAAOA,cAAc,CAAC,SAAD,CAAlD;AACH;AACJ;;AAED,YAAI,CAAC+K,KAAK,CAACH,aAAD,CAAV,EAA2B;AACvB5K,UAAAA,cAAc,CAAC2K,KAAD,CAAd,GAAwBC,aAAxB;AACA,eAAKtP,QAAL,CAAc;AAAE0E,YAAAA;AAAF,WAAd;AACA;AAEH;AACJ,KArnEc;;AAAA,SAunEnBgL,2BAvnEmB,GAunEW,CAACrF,4BAAD,EAA+BZ,QAA/B,EAAyCnB,MAAzC,KAAoD;AAC9E,WAAK7B,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd,EAF8E,CAG9E;AACA;AACA;;AAEA,UAAIwO,WAAW,GAAG,KAAlB;;AACA,UAAI,KAAK/O,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BmE,oBAA5B,IAAoD,KAAKhP,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BmE,oBAA5B,CAAiDxN,MAAjD,GAA0D,CAAlH,EAAqH;AACjHuN,QAAAA,WAAW,GAAG,IAAd;AACH;;AACD,WAAK/O,KAAL,CAAWrC,yBAAX,CAAqCqN,4BAArC,EAAmEZ,QAAnE,EAA6E2E,WAA7E,EAA0F9F,MAA1F;AACH,KAnoEkB;;AAAA,SAooEnBqH,mBApoEmB,GAooEIC,KAAD,IAAW;AAC7B,WAAKnJ,YAAL;AACA,WAAKzG,QAAL,CAAc;AAAEiG,QAAAA,gBAAgB,EAAErG;AAApB,OAAd;;AACA,UAAI,KAAK+K,SAAL,CAAemC,OAAnB,EAA4B;AACxB,aAAKnC,SAAL,CAAemC,OAAf,CAAuBtH,KAAvB,GAA+B,EAA/B;AACH;;AACD,UAAI,KAAK1D,KAAL,CAAW+K,sBAAX,IAAqCgD,MAAM,CAACC,IAAP,CAAY,KAAKhO,KAAL,CAAW+K,sBAAvB,EAA+ChM,MAA/C,KAA0D,CAAnG,EAAsG;AAClG,aAAKxB,KAAL,CAAWlC,oBAAX,CAAgC;AAAEsM,UAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE,QAA7B;AAAuC9G,UAAAA,EAAE,EAAEjF,IAAI,EAA/C;AAAmDmP,UAAAA,sBAAsB,EAAE,KAAK/K,KAAL,CAAW+K,sBAAtF;AAA8G+C,UAAAA;AAA9G,SAAhC;AACH,OAFD,MAEO;AACHjU,QAAAA,KAAK,CAACoU,OAAN,CAAc,KAAK1Q,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAd;AACH;AACJ,KA/oEkB;;AAAA,SAgpEnBqN,eAhpEmB,GAgpEAjQ,KAAD,IAAW;AAEzB,YAAM2E,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAApD;;AACA,UAAI3E,KAAK,CAACqF,MAAN,CAAaC,IAAb,KAAsB,UAA1B,EAAsC;AAClC,YAAItF,KAAK,CAACqF,MAAN,CAAaG,IAAb,KAAsB,OAA1B,EAAmC;AAC/Bb,UAAAA,cAAc,CAAC3E,KAAK,CAACqF,MAAN,CAAaG,IAAd,CAAd,GAAoCxF,KAAK,CAACqF,MAAN,CAAaE,OAAb,KAAyB,IAAzB,GAAgC,CAAhC,GAAoC,CAAxE;AACH;AACJ,OAJD,MAKK,IAAIvF,KAAK,CAACqF,MAAN,CAAaC,IAAb,KAAsB,YAA1B,EAAwC;AAEzCX,QAAAA,cAAc,CAAC3E,KAAK,CAACqF,MAAN,CAAaG,IAAd,CAAd,GAAoCxF,KAAK,CAACqF,MAAN,CAAaI,KAAjD;AAEH,OAJI,MAKA;AACDd,QAAAA,cAAc,CAAC3E,KAAK,CAACqF,MAAN,CAAaG,IAAd,CAAd,GAAoCxF,KAAK,CAACqF,MAAN,CAAaI,KAAjD;AACH;;AAED,WAAKxF,QAAL,CAAc;AAAE0E,QAAAA;AAAF,OAAd;AAGH,KApqEkB;;AAAA,SA+qFnBuL,aA/qFmB,GA+qFH,MAAM;AAClB,YAAM1F,UAAU,GAAG;AACfrB,QAAAA,SAAS,EAAE;AACP,sBAAY,EACR,GAAG,KAAK7J,KAAL,CAAW2F,KAAX,CAAiByE,QADZ;AAERyG,YAAAA,OAAO,EAAE,KAAKpO,KAAL,CAAW4C,cAAX,CAA0B,eAA1B,CAFD;AAGRyL,YAAAA,WAAW,EAAE,KAAKrO,KAAL,CAAW4C,cAAX,CAA0B,aAA1B,KAA4C,KAAK5C,KAAL,CAAW4C,cAAX,CAA0B,aAA1B,EAAyCc,KAH1F;AAIR4K,YAAAA,iBAAiB,EAAE,KAAKtO,KAAL,CAAW4C,cAAX,CAA0B,aAA1B,KAA4C,KAAK5C,KAAL,CAAW4C,cAAX,CAA0B,aAA1B,EAAyC4F;AAJhG,WADL;AAQP+F,UAAAA,QAAQ,EAAE,KAAKvO,KAAL,CAAW4C,cAAX,CAA0B,eAA1B;AARH,SADI;AAWfoG,QAAAA,UAAU,EAAE,KAAKzL,KAAL,CAAW2F,KAAX,CAAiB8F;AAXd,OAAnB;AAaA,WAAKzL,KAAL,CAAW3C,uBAAX,CAAmC6N,UAAnC,EAA+C,WAA/C;AACH,KA9rFkB;;AAGf,SAAKzI,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,CAAC;AAAEuO,QAAAA,KAAK,EAAE,SAAT;AAAoBC,QAAAA,QAAQ,EAAE,CAAC;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAD;AAA9B,OAAD,CADD;AAEThM,MAAAA,YAAY,EAAE,KAFL;AAGTgD,MAAAA,YAAY,EAAE1H,SAHL;AAITuI,MAAAA,gBAAgB,EAAE,KAJT;AAKTqI,MAAAA,YAAY,EAAE,KALL;AAMTzO,MAAAA,QAAQ,EAAE,CACN;AACI;AACAV,QAAAA,IAAI,EAAE,KAAKhC,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAFV;AAGIF,QAAAA,QAAQ,EAAE,IAHd;AAIIM,QAAAA,QAAQ,EAAE,IAJd;AAKIqB,QAAAA,IAAI,EAAE,IALV;AAMIzB,QAAAA,EAAE,EAAEjF,IAAI;AANZ,OADM,CAND;AAeTuC,MAAAA,KAAK,EAAE,CAAC;AACJwQ,QAAAA,IAAI,EAAE,KADF;AAEJC,QAAAA,UAAU,EAAE;AAFR,OAAD,CAfE;AAmBThM,MAAAA,cAAc,EAAE,EAnBP;AAoBTkG,MAAAA,qBAAqB,EAAE,EApBd;AAqBTrC,MAAAA,UAAU,EAAE,IAAIoI,GAAJ,EArBH;AAsBTvE,MAAAA,IAAI,EAAE,CAtBG;AAuBTwE,MAAAA,UAAU,EAAE,CAvBH;AAwBTC,MAAAA,UAAU,EAAE,EAxBH;AAyBTxE,MAAAA,IAAI,EAAE,KAAKhN,KAAL,CAAW2F,KAAX,CAAiB8L,QAAjB,GACF,KAAKzR,KAAL,CAAW2F,KAAX,CAAiB8L,QAAjB,CAA0B,CAA1B,CADE,GAC6B,EA1B1B;AA2BT5E,MAAAA,0BAA0B,EAAE,EA3BnB;AA4BT6E,MAAAA,YAAY,EAAEnR;AA5BL,KAAb;AA8BA,SAAK+K,SAAL,GAAiBtR,KAAK,CAAC2X,SAAN,EAAjB;AACA,SAAKhQ,QAAL,GAAgB3H,KAAK,CAAC2X,SAAN,EAAhB;AACA,SAAKlF,cAAL,GAAsB,IAAI9N,cAAJ,EAAtB;AACH;;AAC8B,SAAxBiT,wBAAwB,CAAC5R,KAAD,EAAQyC,KAAR,EAAe;AAE1C,QAAIzC,KAAK,CAAC2F,KAAN,CAAYkM,YAAZ,KAA6B,EAA7B,IAAmC7R,KAAK,CAAC2F,KAAN,CAAYkM,YAAZ,KAA6BpP,KAAK,CAACoP,YAA1E,EAAwF;AACpFvV,MAAAA,KAAK,CAACqI,IAAN,CAAW3E,KAAK,CAAC2F,KAAN,CAAYkM,YAAvB;AACA7R,MAAAA,KAAK,CAAC2F,KAAN,CAAYkM,YAAZ,GAA2B,EAA3B;AACH;;AAED,QAAI7R,KAAK,CAAC2F,KAAN,CAAYmM,KAAZ,KAAsB,EAAtB,IAA4B9R,KAAK,CAAC2F,KAAN,CAAYmM,KAAZ,KAAsBrP,KAAK,CAACqP,KAA5D,EAAmE;AAC/DxV,MAAAA,KAAK,CAACwV,KAAN,CAAY9R,KAAK,CAAC2F,KAAN,CAAYmM,KAAxB;AACA9R,MAAAA,KAAK,CAAC2F,KAAN,CAAYmM,KAAZ,GAAoB,EAApB;AACH;;AACD,WAAO,IAAP;AACH;;AAIDC,EAAAA,kBAAkB,CAACC,aAAD,EAAgB;AAC9B,QAAI,KAAK1R,WAAT,EAAsB;AAClB,UAAI2R,SAAS,GAAGnK,QAAQ,CAACoK,cAAT,CAAwB,qBAAxB,CAAhB;;AACA,UAAID,SAAJ,EAAe;AACXA,QAAAA,SAAS,CAACE,cAAV,CAAyB;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAzB;AACH;AACJ;;AACD,QAAIC,kBAAkB,GAAG,KAAzB;AACA,QAAI;AAAEC,MAAAA;AAAF,QAAiB,KAAK7P,KAA1B;AACA,QAAI4C,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAAlD;;AACA,QAAI,KAAKrF,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAA1B,KAAwCwG,aAAa,CAACrM,KAAd,CAAoByE,QAApB,CAA6BoB,SAAzE,EAAoF;AAChF,YAAMD,qBAAqB,GAAG,EAA9B;;AACA,UAAI,KAAKvL,KAAL,CAAW2F,KAAX,CAAiB4F,qBAArB,EAA4C;AACxC,aAAKvL,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAjB,CAAuC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAjE,KAA+EgF,MAAM,CAAC+B,MAAP,CAAc,KAAKvS,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAjB,CAAuC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAjE,CAAd,EAA2FpK,GAA3F,CAA+FW,IAAI,IAC9KwJ,qBAAqB,CAAChI,IAAtB,CAA2BxB,IAAI,CAACsH,YAAhC,CAD2E,CAA/E;AAEH;;AACD,YAAMH,UAAU,GAAGzM,aAAa,CAAC,KAAKuD,KAAL,CAAW2F,KAAX,CAAiB4F,qBAAlB,EAAyC,KAAKvL,KAAL,CAAW2F,KAAX,CAAiByE,QAAjB,CAA0BoB,SAAnE,CAAhC;AACA,WAAK7K,QAAL,CAAc;AAAEuI,QAAAA,UAAF;AAAcqC,QAAAA;AAAd,OAAd;AACH;;AACD,QAAI,KAAKvL,KAAL,CAAW2F,KAAX,CAAiBjD,QAAjB,KAA8BsP,aAAa,CAACrM,KAAd,CAAoBjD,QAAtD,EAAgE;AAC5D,WAAK/B,QAAL,CAAc;AACV+B,QAAAA,QAAQ,EAAE,KAAK1C,KAAL,CAAW2F,KAAX,CAAiBjD;AADjB,OAAd;AAGH;;AACD,QAAI,KAAK1C,KAAL,CAAW2F,KAAX,CAAiBsC,YAAjB,KAAkC+J,aAAa,CAACrM,KAAd,CAAoBsC,YAA1D,EAAwE;AACpE,WAAKtH,QAAL,CAAc;AACVsH,QAAAA,YAAY,EAAE,KAAKjI,KAAL,CAAW2F,KAAX,CAAiBsC;AADrB,OAAd;AAGH;;AACD,QAAI,KAAKjI,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,KAA6DgH,aAAa,CAACrM,KAAd,CAAoBkF,UAApB,CAA+BG,4BAAhG,EAA8H;AAE1H,UAAI,KAAKhL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,IAA4D,KAAKhL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,KAA6DzK,SAA7H,EAAwI;AACpI,YAAI,KAAK+K,SAAL,CAAemC,OAAnB,EAA4B,CAC1B;AACD;;AACD,aAAKrG,YAAL;AACA,aAAKzG,QAAL,CAAc;AACVsH,UAAAA,YAAY,EACRC,IAAI,CAACC,KAAL,CAAW,KAAKnI,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD,UAAzD,EAAqE7E,KAAhF,EAAuFnF,IAFjF;AAGV4F,UAAAA,gBAAgB,EAAErG,SAHR;AAIVyG,UAAAA,UAAU,EAAE;AAJF,SAAd;AAMH,OAXD,MAWO;AACH,YAAI,KAAKsE,SAAL,CAAemC,OAAnB,EAA4B,CAC1B;AACD;;AACD,aAAKrG,YAAL;AACA,aAAKzG,QAAL,CAAc;AACVsH,UAAAA,YAAY,EAAE1H,SADJ;AAEVqG,UAAAA,gBAAgB,EAAErG,SAFR;AAGVyG,UAAAA,UAAU,EAAE;AAHF,SAAd;AAKH;AACJ;;AACD,QAAIwG,sBAAsB,GAAG,KAAK/K,KAAL,CAAW+P,gBAAX,IAA+B,EAA5D;AACA,QAAItE,qBAAqB,GAAG,KAAKzL,KAAL,CAAWyL,qBAAX,IAAoC,EAAhE;;AAEA,QAAI,KAAKlO,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqD,qBAA5B,KAAsD8D,aAAa,CAACrM,KAAd,CAAoBkF,UAApB,CAA+BqD,qBAAzF,EAAgH;AAC5G,YAAMuE,wBAAwB,GAAGjW,mBAAmB,CAAC,KAAKwD,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqD,qBAA5B,IAAqD,EAAtD,EAA0D,sBAA1D,EAChD,sBADgD,EACxB,sBADwB,EACA,WADA,EACa,KADb,CAApD;AAEAA,MAAAA,qBAAqB,GAAGuE,wBAAwB,CAACrJ,GAAzB,CAA6B,YAA7B,CAAxB;;AACA,UAAI8E,qBAAqB,IAAIA,qBAAqB,CAAC1M,MAAtB,GAA+B,CAA5D,EAA+D;AAE3D,cAAMkR,cAAc,GAAGxE,qBAAqB,CAACyE,MAAtB,CAA6B5Q,IAAI,IAAIA,IAAI,CAACoE,KAAL,KAAe,KAAKnG,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4B2C,sBAAhF,CAAvB,CAF2D,CAEoE;;AAC/HA,QAAAA,sBAAsB,GAAGkF,cAAc,CAAC,CAAD,CAAvC;AACH;;AACDL,MAAAA,kBAAkB,GAAG,IAArB;AAEA,YAAMC,UAAU,GAAG,KAAKM,qBAAL,EAAnB,CAX4G,CAY5G;;AACA,UAAI5F,IAAI,GAAC,KAAKvK,KAAL,CAAWuK,IAApB;AACA,UAAID,IAAI,GAAC,CAAT;AAEA,WAAKpM,QAAL,CAAc;AAAE2R,QAAAA,UAAF;AAAcvF,QAAAA,IAAd;AAAoBC,QAAAA;AAApB,OAAd;AAEH,KAlBD,MAkBO,IAAI,KAAKhN,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4B2C,sBAA5B,KAAuDwE,aAAa,CAACrM,KAAd,CAAoBkF,UAApB,CAA+B2C,sBAA1F,EAAkH;AACrHA,MAAAA,sBAAsB,GAAG,KAAKxN,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4B2C,sBAArD;AACA6E,MAAAA,kBAAkB,GAAG,IAArB;AACA,YAAMC,UAAU,GAAG,KAAKM,qBAAL,EAAnB,CAHqH,CAIrH;;AACA,UAAI5F,IAAI,GAAC,KAAKvK,KAAL,CAAWuK,IAApB;AACA,UAAID,IAAI,GAAC,CAAT;AAEA,WAAKpM,QAAL,CAAc;AAAE2R,QAAAA,UAAF;AAAcvF,QAAAA,IAAd;AAAoBC,QAAAA;AAApB,OAAd;AACH;;AACD,QAAIqF,kBAAJ,EAAwB;AACpB,WAAK1R,QAAL,CAAc;AAAE6M,QAAAA,sBAAF;AAA0BnI,QAAAA,cAA1B;AAA0C6I,QAAAA;AAA1C,OAAd;AACH;;AACD,QAAI,KAAKlO,KAAL,CAAW2F,KAAX,CAAiBN,cAAjB,KAAoC2M,aAAa,CAACrM,KAAd,CAAoBN,cAA5D,EAA4E;AACxE,WAAK1E,QAAL,CAAc;AACV0E,QAAAA,cAAc,EAAE,KAAKrF,KAAL,CAAW2F,KAAX,CAAiBN;AADvB,OAAd;AAGH,KA5F6B,CA6F9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACH;;AAUDpD,EAAAA,gBAAgB,CAACvB,KAAD,EAAQ;AACpB,UAAM0B,aAAa,GAAG,IAAI/C,oBAAJ,CAAyBqB,KAAzB,EAAgC2B,IAAhC,EAAtB;AACA,UAAM;AACFG,MAAAA,qBAAqB,EAAEzB;AADrB,QAEFqB,aAAa,CAACQ,eAFlB;;AAGA,QAAIR,aAAa,CAACE,aAAlB,EAAiC;AAC7B,cAAQF,aAAa,CAACO,gBAAd,EAAR;AACI,aAAK,OAAL;AACI,iBAAO,UAAP;;AACJ,aAAK,QAAL;AACI,iBAAO5B,SAAS,KAAK,GAAd,IAAqBA,SAAS,CAAC8R,QAAV,CAAoB,GAAE,KAAK1S,SAAU,GAArC,CAArB,GAAgE,eAAhE,GAAkF,mBAAzF;;AACJ,aAAK,OAAL;AACI,gBAAM2S,QAAQ,GAAG,KAAKhS,WAAL,CAAiBC,SAAjB,EAA4B,KAAK0B,KAAL,CAAWI,IAAvC,CAAjB;AACA,gBAAMkQ,SAAS,GAAGzR,MAAM,CAACP,SAAS,CAACI,KAAV,CAAgB,KAAKhB,SAArB,EAAgC6S,GAAhC,EAAD,CAAxB;AACA,iBAAOD,SAAS,GAAGD,QAAQ,CAACtR,MAAT,GAAkB,CAA9B,GAAkC,mBAAlC,GAAwD,iBAA/D;;AACJ;AACI;AAVR;AAYH;;AACD,WAAO,YAAP;AACH;;AAyDD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAyR,EAAAA,YAAY,CAACC,QAAD,EAAW;AACnB,QAAIC,WAAW,GAAG9U,IAAI,EAAtB;AACA,QAAI+U,WAAW,GAAG,EACd,GAAGF,QADW;AAEd,YAAMC;AAFQ,KAAlB,CAFmB,CAOnB;;AACA,QAAID,QAAQ,CAACzR,KAAT,IAAkByR,QAAQ,CAACzR,KAAT,CAAeD,MAAf,GAAwB,CAA9C,EAAiD;AAC7C,WAAK,IAAI6R,GAAT,IAAgBH,QAAQ,CAACzR,KAAzB,EAAgC;AAC5B,YAAI6R,QAAQ,GAAGD,GAAf;AACAC,QAAAA,QAAQ,GAAG,EACP,GAAGA,QADI;AAEP,sBAAYH;AAFL,SAAX,CAF4B,CAM5B;;AAEA,aAAKF,YAAL,CAAkBK,QAAlB;AACH;AACJ;;AACD,WAAOJ,QAAP;AACH;;AAED/P,EAAAA,uBAAuB,CAACT,QAAD,EAAWM,WAAX,EAAwB;AAC3C,QAAIE,UAAU,GAAG,EAAE,GAAGR;AAAL,KAAjB;;AACA,QAAIQ,UAAU,CAACzB,KAAX,IAAoByB,UAAU,CAACzB,KAAX,CAAiBD,MAAjB,GAA0B,CAAlD,EAAqD;AACjD,UAAI+R,UAAU,GAAGrQ,UAAU,CAACzB,KAA5B;;AACA,UAAI8R,UAAU,CAAC/R,MAAX,GAAoB,CAAxB,EAA2B;AACvB,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgS,UAAU,CAAC/R,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,cAAIiS,SAAS,GAAGD,UAAU,CAAChS,CAAD,CAA1B;;AACA,cAAIyB,WAAW,GAAIA,WAAW,CAACM,EAAZ,KAAmBkQ,SAAS,CAAClQ,EAAjC,GAAwCkQ,SAAS,CAAC9P,QAAV,KAAuB,IAA9E,EAAqF;AACjF,mBAAOhB,QAAP;AACH,WAFD,MAEO;AACH,gBAAI8Q,SAAS,CAAC/R,KAAd,EAAqB;AACjByB,cAAAA,UAAU,GAAG,KAAKC,uBAAL,CAA6BqQ,SAA7B,EAAwCxQ,WAAxC,CAAb;;AACA,kBAAIE,UAAJ,EAAgB;AACZ,uBAAOA,UAAP;AACH;AACJ;AACJ;AACJ;AACJ;AACJ,KAnB0C,CAoB3C;;AACH;;AAwdDyF,EAAAA,WAAW,CAACzF,UAAD,EAAa;AACpB;AACA,QAAIA,UAAU,CAACzB,KAAX,IAAoByB,UAAU,CAACzB,KAAX,CAAiBD,MAAjB,GAA0B,CAAlD,EAAqD;AACjD,UAAI+R,UAAU,GAAGrQ,UAAU,CAACzB,KAA5B;;AACA,UAAI8R,UAAU,CAAC/R,MAAX,GAAoB,CAAxB,EAA2B;AACvB,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgS,UAAU,CAAC/R,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,cAAIiS,SAAS,GAAGD,UAAU,CAAChS,CAAD,CAA1B;AACAiS,UAAAA,SAAS,CAACpQ,QAAV,GAAqB,KAArB;;AACA,cAAIoQ,SAAS,CAAC/R,KAAd,EAAqB;AACjB,iBAAKkH,WAAL,CAAiB6K,SAAjB;AACH;AACJ;AACJ;AACJ;AACJ;;AA2VD1M,EAAAA,aAAa,CAACoM,QAAD,EAAWxB,YAAX,EAAyB;AAClC,QAAIwB,QAAQ,CAAC5P,EAAT,IAAeoO,YAAY,CAACpO,EAAhC,EAAoC;AAChC4P,MAAAA,QAAQ,CAAC7K,QAAT,GAAoB,IAApB;AACH,KAFD,MAEO;AACH6K,MAAAA,QAAQ,CAAC7K,QAAT,GAAoB,KAApB;AACH;;AACD,QAAI6K,QAAQ,CAACzR,KAAT,IAAkByR,QAAQ,CAACzR,KAAT,CAAeD,MAAf,GAAwB,CAA9C,EAAiD;AAC7C0R,MAAAA,QAAQ,CAACzR,KAAT,CAAeL,GAAf,CAAoBkS,QAAD,IAAc;AAC7B,aAAKxM,aAAL,CAAmBwM,QAAnB,EAA6B5B,YAA7B;AACH,OAFD;AAGH;;AACD,WAAOwB,QAAP;AACH;;AA0BDxV,EAAAA,iBAAiB,CAACsF,WAAD,EAAciG,MAAd,EAAsB;AACnC,QAAI5D,cAAc,GAAG,KAAK5C,KAAL,CAAW4C,cAAX,IAA6B,EAAlD;AACAA,IAAAA,cAAc,CAAC,kBAAD,CAAd,GAAqCrC,WAAW,CAACjB,IAAZ,CAAiB4B,gBAAjB,KAAsCpD,SAAtC,GAAkD,KAAlD,GACjCyC,WAAW,CAACjB,IAAZ,CAAiB4B,gBADrB;AAEA0B,IAAAA,cAAc,CAAC,oBAAD,CAAd,GAAuCrC,WAAW,CAACjB,IAAZ,CAAiB6B,kBAAjB,KAAwCrD,SAAxC,GAAoD,KAApD,GACnCyC,WAAW,CAACjB,IAAZ,CAAiB6B,kBADrB;AAEAyB,IAAAA,cAAc,CAAC,mBAAD,CAAd,GAAsCrC,WAAW,CAACjB,IAAZ,CAAiB8B,iBAAjB,KAAuCtD,SAAvC,GAAmD,KAAnD,GAClCyC,WAAW,CAACjB,IAAZ,CAAiB8B,iBADrB;AAEA,UAAMsB,UAAU,GAAG;AACfC,MAAAA,QAAQ,EAAElH,cADK;AAEf8C,MAAAA,IAAI,EAAE;AACFqE,QAAAA,cADE;AACcC,QAAAA,kBAAkB,EAAE,IADlC;AAEFtC,QAAAA,WAFE;AAEWkH,QAAAA,OAAO,EAAE;AAFpB;AAFS,KAAnB;AAOA,SAAKlK,KAAL,CAAW1C,WAAX,CAAuB6H,UAAvB;AACH;;AAoBD;AACAmE,EAAAA,yBAAyB,CAACpG,UAAD,EAAahC,OAAb,EAAsB;AAC3C,QAAIgC,UAAU,CAACzB,KAAX,IAAoByB,UAAU,CAACzB,KAAX,CAAiBD,MAAjB,GAA0B,CAAlD,EAAqD;AACjD,UAAI+R,UAAU,GAAGrQ,UAAU,CAACzB,KAA5B;;AACA,UAAI8R,UAAU,CAAC/R,MAAX,GAAoB,CAAxB,EAA2B;AACvB,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgS,UAAU,CAAC/R,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,cAAIiS,SAAS,GAAGD,UAAU,CAAChS,CAAD,CAA1B;AACA,cAAIN,MAAM,GAAG,KAAKwB,KAAL,CAAWC,QAAxB;AACAxB,UAAAA,OAAO,CAACqC,IAAR,CAAahC,CAAb;AACA,cAAIsF,QAAQ,GAAG,EAAf;;AACA,eAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,gBAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,cAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,aAFD,MAEO;AACHA,cAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,YAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDwR,UAAAA,SAAS,CAAC1P,aAAV,GAA0B+C,QAA1B;;AAEA,cAAI2M,SAAS,CAAC/R,KAAd,EAAqB;AACjB,iBAAK6H,yBAAL,CAA+BkK,SAA/B,EAA0CtS,OAA1C;AACH;;AACDA,UAAAA,OAAO,CAAC8R,GAAR;AACH;AACJ;AACJ,KAxBD,MAwBO;AACH,UAAI/R,MAAM,GAAG,KAAKwB,KAAL,CAAWC,QAAxB;AACA,UAAImE,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAItF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,OAAO,CAACM,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACrC,YAAIA,CAAC,KAAK,CAAV,EAAa;AACTN,UAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACH,SAFD,MAEO;AACHA,UAAAA,MAAM,GAAGA,MAAM,CAACQ,KAAP,CAAaP,OAAO,CAACK,CAAD,CAApB,CAAT;AACH;;AACDsF,QAAAA,QAAQ,GAAGtF,CAAC,GAAG,CAAJ,GAAQsF,QAAQ,GAAG,KAAX,GAAmB5F,MAAM,CAACe,IAAlC,GAAyCf,MAAM,CAACe,IAA3D;AACH;;AACDkB,MAAAA,UAAU,CAACY,aAAX,GAA2B+C,QAA3B;AACH;AACJ;;AA0aD6G,EAAAA,wBAAwB,CAAC7D,SAAD,EAAYyD,SAAZ,EAAuBD,SAAvB,EAAkC;AACtD,QAAIO,oBAAoB,GAAG,KAAK5N,KAAL,CAAW4N,oBAAX,IAAmC,EAA9D;AACA,QAAI6F,cAAc,GAAG,EAArB;AACA,SAAK9S,QAAL,CAAc;AAAEuJ,MAAAA,OAAO,EAAE;AAAX,KAAd;;AACA,QAAIoD,SAAS,KAAK,4BAAlB,EAAgD;AAC5CmG,MAAAA,cAAc,GAAG;AACb1H,QAAAA,oBAAoB,EAAE6B,oBAAoB,CAAC,sBAAD,CAApB,CAA6CzH,KADtD;AAEb0H,QAAAA,0BAA0B,EAAER,SAAS,CAAClH,KAFzB;AAGbkG,QAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AAHd,OAAjB;AAKH,KAND,MAMO;AACHqJ,MAAAA,cAAc,GAAG;AACb1H,QAAAA,oBAAoB,EAAEsB,SAAS,CAAClH,KADnB;AAEbkG,QAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AAFd,OAAjB;AAIH;;AACD,QAAIsJ,QAAQ,GAAG,EAAf;AACA,UAAMC,IAAI,GAAG9T,KAAK,CAAC+T,IAAN,CAAW,8CAAX,EAA2DH,cAA3D,CAAb;AAEAC,IAAAA,QAAQ,GAAG,CAACC,IAAD,CAAX;AACA/T,IAAAA,KAAK,CAACiU,GAAN,CAAUH,QAAV,EACKI,IADL,CACUC,QAAQ,IAAI;AACd,UAAI;AAAEC,QAAAA,sBAAF;AACAC,QAAAA;AADA,UACgC,KAAKxR,KADzC;AAGA,UAAIyR,yBAAyB,GAAG1X,mBAAmB,CAACuX,QAAQ,CAAC,CAAD,CAAR,CAAY/S,IAAZ,CAAiBmT,qBAAjB,IAA0C,EAA3C,EAA+C,4BAA/C,EAC/C,4BAD+C,EACjB5T,SADiB,EACNA,SADM,EACKA,SADL,CAAnD;AAEAyT,MAAAA,sBAAsB,GAAGE,yBAAyB,CAAC9K,GAA1B,CAA8B,YAA9B,CAAzB;AACA,UAAIgL,wBAAwB,GAAG5X,mBAAmB,CAACuX,QAAQ,CAAC,CAAD,CAAR,CAAY/S,IAAZ,CAAiBgO,oBAAjB,IAAyC,EAA1C,EAA8C,2BAA9C,EAC9C,YAD8C,EAChCzO,SADgC,EACrBA,SADqB,EACVA,SADU,CAAlD;AAEA0T,MAAAA,2BAA2B,GAAGG,wBAAwB,CAAChL,GAAzB,CAA6B,YAA7B,CAA9B;AACAwE,MAAAA,oBAAoB,GAAG,EACnB,GAAGA,oBADgB;AAEnBC,QAAAA,0BAA0B,EAAEmG,sBAAsB,CAACxS,MAAvB,GAAgC,CAAhC,GACxBwS,sBAAsB,CAAC,CAAD,CADE,GACI,EAHb;AAInBK,QAAAA,yBAAyB,EAAEJ,2BAA2B,CAACzS,MAA5B,GAAqC,CAArC,GACvByS,2BAA2B,CAAC,CAAD,CADJ,GACU;AALlB,OAAvB;AAQA,WAAKtT,QAAL,CAAc;AACVqT,QAAAA,sBADU;AACcC,QAAAA,2BADd;AAEVrG,QAAAA,oBAAoB,EAAE,EAClB,GAAGA,oBADe;AAElB,WAACN,SAAD,GAAaD;AAFK,SAFZ;AAMVnD,QAAAA,OAAO,EAAE;AANC,OAAd;AAQH,KA3BL,EA2BOoK,KA3BP,CA2BaxC,KAAK,IAAI;AACd,UAAIA,KAAK,CAACiC,QAAN,CAAeQ,MAAf,KAA0B,GAA9B,EAAmC;AAC/BjY,QAAAA,KAAK,CAACwV,KAAN,CAAYA,KAAK,CAAC0C,OAAlB;AACH,OAFD,MAEO;AACHlY,QAAAA,KAAK,CAACqI,IAAN,CAAWmN,KAAK,CAACiC,QAAN,CAAe/S,IAA1B;AACH;;AACD,WAAKL,QAAL,CAAc;AACVuJ,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KApCL;AAqCH;;AAKDyD,EAAAA,qBAAqB,CAAC9D,SAAD,EAAYyD,SAAZ,EAAuBD,SAAvB,EAAkC;AACnD,QAAIoG,cAAc,GAAG,EAArB;AACA,SAAK9S,QAAL,CAAc;AAAEuJ,MAAAA,OAAO,EAAE;AAAX,KAAd;AACAuJ,IAAAA,cAAc,GAAG;AACbnJ,MAAAA,kBAAkB,EAAE+C,SAAS,CAAClH,KADjB;AAEbkG,MAAAA,QAAQ,EAAExC,SAAS,CAACwC;AAFP,KAAjB;AAIA,QAAIqH,QAAQ,GAAG,EAAf;AACA,UAAMC,IAAI,GAAG9T,KAAK,CAAC+T,IAAN,CAAW,4CAAX,EAAyDH,cAAzD,CAAb;AAEAC,IAAAA,QAAQ,GAAG,CAACC,IAAD,CAAX;AACA/T,IAAAA,KAAK,CAACiU,GAAN,CAAUH,QAAV,EACKI,IADL,CACUC,QAAQ,IAAI;AACd,UAAI;AAAEU,QAAAA,yBAAF;AAA6BpP,QAAAA;AAA7B,UAAgD,KAAK5C,KAAzD;AAEA,UAAIiS,sBAAsB,GAAGlY,mBAAmB,CAACuX,QAAQ,CAAC,CAAD,CAAR,CAAY/S,IAAZ,CAAiB2T,kBAAjB,IAAuC,EAAxC,EAA4C,yBAA5C,EAC5C,yBAD4C,EACjBpU,SADiB,EACNA,SADM,EACKA,SADL,CAAhD;AAEAkU,MAAAA,yBAAyB,GAAGC,sBAAsB,CAACtL,GAAvB,CAA2B,YAA3B,CAA5B;AACA/D,MAAAA,cAAc,GAAG,EACb,GAAGA,cADU;AAEbqF,QAAAA,cAAc,EAAErF,cAAc,CAAC,eAAD,CAAd,KAAoC,IAApC,GAA2C,KAAK6H,kBAAL,CAAwBuH,yBAAyB,CAAC,CAAD,CAAzB,CAA6B1S,IAA7B,CAAkC4I,IAA1D,EACvD8J,yBAAyB,CAAC,CAAD,CAAzB,CAA6B1S,IAA7B,CAAkC6I,OADqB,CAA3C,GACiC,CAHpC;AAIbD,QAAAA,IAAI,EAAE8J,yBAAyB,CAACjT,MAA1B,GAAmC,CAAnC,GACFiT,yBAAyB,CAAC,CAAD,CAAzB,CAA6B1S,IAA7B,CAAkC4I,IADhC,GACuC,CALhC;AAMbC,QAAAA,OAAO,EAAE6J,yBAAyB,CAACjT,MAA1B,GAAmC,CAAnC,GACLiT,yBAAyB,CAAC,CAAD,CAAzB,CAA6B1S,IAA7B,CAAkC6I,OAD7B,GACuC,CAPnC;AAQbH,QAAAA,uBAAuB,EAAEgK,yBAAyB,CAACjT,MAA1B,GAAmC,CAAnC,GACrBiT,yBAAyB,CAAC,CAAD,CADJ,GACU,EATtB;AAUbA,QAAAA,yBAAyB,EAAEA,yBAAyB,CAACjT,MAA1B,GAAmC,CAAnC,GACvB,CAAC,GAAGiT,yBAAJ,CADuB,GACU;AAXxB,OAAjB;AAeA,WAAK9T,QAAL,CAAc;AAEV0E,QAAAA,cAAc,EAAE,EACZ,GAAGA,cADS;AAEZ,WAACiI,SAAD,GAAaD;AAFD,SAFN;AAMVnD,QAAAA,OAAO,EAAE;AANC,OAAd;AAQH,KA9BL,EA8BOoK,KA9BP,CA8BaxC,KAAK,IAAI;AACd,UAAIA,KAAK,CAACiC,QAAN,CAAeQ,MAAf,KAA0B,GAA9B,EAAmC;AAC/BjY,QAAAA,KAAK,CAACwV,KAAN,CAAYA,KAAK,CAAC0C,OAAlB;AACH,OAFD,MAEO;AACHlY,QAAAA,KAAK,CAACqI,IAAN,CAAWmN,KAAK,CAACiC,QAAN,CAAe/S,IAA1B;AACH;;AACD,WAAKL,QAAL,CAAc;AACVuJ,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,KAvCL;AAwCH;;AA6CD0K,EAAAA,iBAAiB,GAAG;AAChB,QAAI,KAAKC,YAAT,EAAuB;AACnB,YAAMC,MAAM,GAAG,KAAKD,YAAL,CAAkBE,YAAjC;AACA,WAAKpU,QAAL,CAAc;AACVqU,QAAAA,SAAS,EAAEF,MAAM,GAAG,EADV;AAEVD,QAAAA,YAAY,EAAEC,MAAM,GAAG;AAFb,OAAd;AAIH;AACJ;;AACDlC,EAAAA,qBAAqB,GAAG;AACpB,UAAMqC,cAAc,GAAG,EAAvB;;AACA,QAAI,KAAKjV,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,IAA+B,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqD,qBAA/D,EAAsF;AAElF+G,MAAAA,cAAc,CAAC1R,IAAf,CACI;AACI,iBAAS,qBADb;AAEI,iBAAS,KAAKvD,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqK,2BAA5B,IAA2D,KAAKlV,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqK,2BAA5B,KAA4D,IAAvH,GAA8H,KAAKlV,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BqK,2BAA1J,GAAwL,IAFrM,CAGI;AACA;;AAJJ,OADJ;AAQH;;AACD,WAAOD,cAAP;AACH;;AAoVDE,EAAAA,MAAM,GAAG;AAEL,UAAM5E,KAAK,GAAG,KAAK9N,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,4BAA1B,KAA2D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,4BAA1B,EAAwDC,YAAjI;AACA,UAAMJ,MAAM,GAAG,KAAKxG,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,6BAA1B,KAA4D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,6BAA1B,EAAyDC,YAApI;AACA,UAAM+L,QAAQ,GAAG,KAAK3S,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,+BAA1B,KAA8D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,+BAA1B,EAA2DC,YAA1I;AACA,UAAMgM,MAAM,GAAG,KAAK5S,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,6BAA1B,KAA4D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,6BAA1B,EAAyDC,YAApI;AACA,UAAMiM,SAAS,GAAG,KAAK7S,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,gCAA1B,KAA+D,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,gCAA1B,EAA4DC,YAA7I;AACA,UAAMyF,SAAS,GAAG,KAAKrM,KAAL,CAAWyG,UAAX,CAAsBC,GAAtB,CAA0B,uBAA1B,KAAsD,KAAK1G,KAAL,CAAWyG,UAAX,CAAsBE,GAAtB,CAA0B,uBAA1B,EAAmDC,YAA3H;AAGA,UAAMkM,WAAW,GAAG;AAChB7J,MAAAA,aAAa,EAAE,uBADC;AACwBC,MAAAA,cAAc,EAAE,+BADxC;AACyEC,MAAAA,eAAe,EAAE,4BAD1F;AAEhBO,MAAAA,QAAQ,EAAE,wDAFM;AAGhBC,MAAAA,gBAAgB,EAAE;AAAEC,QAAAA,QAAQ,EAAE,KAAKrM,KAAL,CAAW2F,KAAX,CAAiByE;AAA7B,OAHF;AAIhBS,MAAAA,UAAU,EAAE,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF,UAJb;AAIyBS,MAAAA,SAAS,EAAC,KAAKA,SAJxC;AAKhBkK,MAAAA,eAAe,EAAE,CAAC,4BAAD;AALD,KAApB;AAOA,UAAMC,UAAU,GAAG,CACf;AAAE,mBAAa,sBAAf;AAAuC,iBAAW;AAAlD,KADe,EAEf;AAAE,mBAAa,4BAAf;AAA6C,iBAAW;AAAxD,KAFe,EAGf;AAAE,mBAAa,kBAAf;AAAmC,iBAAW;AAA9C,KAHe,EAIf;AAAE,mBAAa,cAAf;AAA+B,iBAAW;AAA1C,KAJe,EAKf;AAAE,mBAAa,WAAf;AAA4B,iBAAW;AAAvC,KALe,EAMf;AAAE,mBAAa,WAAf;AAA4B,iBAAW;AAAvC,KANe,EAOf;AAAE,mBAAa,gBAAf;AAAiC,iBAAW;AAA5C,KAPe,EAQf;AAAE,mBAAa,yBAAf;AAA0C,iBAAW;AAArD,KARe,EASf;AAAE,mBAAa,gBAAf;AAAiC,iBAAW;AAA5C,KATe,EAUf;AAAE,mBAAa,YAAf;AAA6B,iBAAW;AAAxC,KAVe,EAWf;AAAE,mBAAa,MAAf;AAAuB,iBAAW;AAAlC,KAXe,EAYf;AAAE,mBAAa,SAAf;AAA0B,iBAAW;AAArC,KAZe,EAaf;AAAE,mBAAa,kBAAf;AAAmC,iBAAW;AAA9C,KAbe,CAAnB,CAjBK,CAgCL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKI,UAAMC,eAAe,GACnB,KAAKjT,KAAL,CAAW4C,cAAX,CAA0B,eAA1B,MAA+C9E,SAA/C,IAA6D,KAAKkC,KAAL,CAAW4C,cAAX,CAA0B,eAA1B,MAA+C,KAA/C,IAAwD,KAAKrF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,SAAnJ,GACE,CACI;AAAE,iBAAW,qBAAb;AAAoC,mBAAa,sBAAjD;AAAyE,wBAAkB,YAA3F;AAAyG,qBAAe;AAAxH,KADJ,EAEI;AAAE,iBAAW,0BAAb;AAAyC,mBAAa,4BAAtD;AAAoF,wBAAkB,WAAtG;AAAmH,qBAAe;AAAlI,KAFJ,CADF,GAIM,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,QAA9B,GAAyC,CACzC;AAAE,iBAAW,qBAAb;AAAoC,mBAAa,sBAAjD;AAAyE,wBAAkB,YAA3F;AAAyG,qBAAe;AAAxH,KADyC,EAEzC;AAAE,iBAAW,0BAAb;AAAyC,mBAAa,4BAAtD;AAAoF,wBAAkB,WAAtG;AAAmH,qBAAe;AAAlI,KAFyC,CAAzC,GAGA,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,SAA9B,IAA2C,KAAK9C,KAAL,CAAW4C,cAAX,CAA0B,eAA1B,MAA+C9E,SAA1F,IAAsG,KAAKkC,KAAL,CAAW4C,cAAX,CAA0B,eAA1B,MAA+C,IAArJ,GAA8J,CAC9J;AAAE,iBAAW,mBAAb;AAAiC,mBAAa,oBAA9C;AAAoE,wBAAiB,YAArF;AAAmG,qBAAe;AAAlH,KAD8J,EAE9J;AAAE,iBAAW,4BAAb;AAA0C,mBAAa,yBAAvD;AAAkF,wBAAiB,YAAnG;AAAiH,qBAAe;AAAhI,KAF8J,EAG9J;AAAE,iBAAW,eAAb;AAA6B,mBAAa,sBAA1C;AAAkE,wBAAiB,WAAnF;AAAgG,qBAAe;AAA/G,KAH8J,CAA9J,GAKD,EAbP;AAcJ,UAAM4P,cAAc,GAAG,KAAKxS,KAAL,CAAW6P,UAAX,IAAyB,EAAhD;AAEA,UAAM7F,cAAc,GAAG,IAAI9N,cAAJ,EAAvB;AACA,wBACI,uDACI,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,iDAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKsW,cAAc,CAACzT,MAAf,GAAwB,CAAxB,gBACG,oBAAC,mBAAD;AAAqB,MAAA,cAAc,EAAEyT,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,GAEK,EAHV,eAII,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAE,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,SAAS,EAAC,oBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGI,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAC,MAA5B;AAAmC,MAAA,UAAU,EAAE,IAA/C;AAAqD,MAAA,YAAY,EAAE,CAAnE;AAAsE,MAAA,yBAAyB,EAAE,KAAKtI,cAAtG;AAAsH,MAAA,oBAAoB,EAAE,EAA5I;AAAgJ,MAAA,cAAc,EAAE,EAAhK;AAAoK,MAAA,gBAAgB,EAAE,EAAtL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,6BAAD;AACI,MAAA,UAAU,EAAE,KAAKlK,KAAL,CAAWoS,YAD3B;AAEI,MAAA,eAAe,EAAE,KAFrB;AAGI,MAAA,UAAU,EAAE,KAAK7U,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BlE,YAA5B,IAA4C,KAAK3G,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BsJ,qBAAxE,IAAiG,EAHjH;AAII,MAAA,cAAc,EAAE,KAAKnU,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,IACZ,CAAC,KAAK7L,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA7B,CADY,IACiD,EALrE;AAMI,MAAA,eAAe,EAAC,4BANpB;AAOI,MAAA,eAAe,EAAG6F,YAAD,IACb,KAAK1R,KAAL,CAAWzC,gCAAX,CACImU,YADJ,EAEI,KAAK1R,KAAL,CAAW2F,KAAX,CAAiByE,QAFrB,EAE+B,KAAKpK,KAAL,CAAW2F,KAAX,CAAiBkF,UAFhD,CARR;AAYI,MAAA,UAAU,EAAE;AACRT,QAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE,QADnB;AAERS,QAAAA,UAAU,EAAE,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF;AAFrB,OAZhB;AAgBI,MAAA,SAAS,EAAE,4BAhBf;AAiBI,MAAA,gBAAgB,EAAC,+BAjBrB;AAkBI,MAAA,UAAU,EAAC,gBAlBf;AAmBI,MAAA,QAAQ,EAAC,sBAnBb;AAoBI,MAAA,gBAAgB,EAAE,KAAK7K,KAAL,CAAWxC,qBApBjC;AAqBI,MAAA,cAAc,EAAC,cArBnB;AAsBI,MAAA,SAAS,EAAE,KAAK8N,SAtBpB;AAuBI,MAAA,WAAW,EAAEiK,WAvBjB;AAwBI,MAAA,UAAU,EAAE,KAAKvV,KAAL,CAAW2F,KAAX,CAAiBoI,UAxBjC;AAyBI,MAAA,UAAU,EAAE,KAAKD,UAzBrB;AA0BI,MAAA,WAAW,EAAE,KAAKE,WA1BtB;AA2BI,MAAA,cAAc,EAAE,KAAKC,cA3BzB;AA4BI,MAAA,UAAU,EAAE,IA5BhB;AA6BI,MAAA,UAAU,EAAE,KA7BhB;AA8BI,MAAA,gBAAgB,EAAE,KAAKnB,gBA9B3B;AA+BI,MAAA,IAAI,EAAE,KAAKrK,KAAL,CAAWsK,IA/BrB;AAgCI,MAAA,IAAI,EAAE,KAAKtK,KAAL,CAAWuK,IAhCrB;AAkCI,MAAA,aAAa,eACT,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,qCAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,4CAAlB;AAA+D,QAAA,IAAI,EAAC,QAApE;AACI,oBAAU,KAAKhN,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CADd,CAEI;AAFJ;AAGI,QAAA,MAAM,EAAE,KAAKb,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyC8H,KAAzC,MAAoD,CAAC,CAHjE;AAII,QAAA,OAAO,EAAE,MAAM,KAAKD,mBAAL,CAAyBC,KAAzB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKI,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAEnV,MAAvB;AAA+B,QAAA,KAAK,EAAE,KAAK4E,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CADJ,eAQI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,sCAAlB;AAAyD,QAAA,OAAO,EAAC,MAAjE;AACI,QAAA,OAAO,EAAE,MAAM,KAAKwM,UAAL,EADnB,CAEI;AAFJ;AAGI,oBAAU,KAAK9P,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAE;AAAN,SAA9B,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIQ,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJR,CARJ,CAnCR;AAmDI,MAAA,eAAe,EAAE,CACb;AACI,uCACI,oBAAC,qBAAD;AACI,UAAA,qBAAqB,EAAE,KAAKb,KAAL,CAAWyL,qBAAX,IAAoC,EAD/D;AAEI,UAAA,sBAAsB,EAAE,KAAKzL,KAAL,CAAW+K,sBAAX,IAAqC,EAFjE;AAGI,UAAA,aAAa,EAAE,KAAKJ,aAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFR,OADa,CAnDrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAmEI,oBAAC,cAAD;AAAgB,MAAA,QAAQ,MAAxB;AAAyB,MAAA,WAAW,EAAC,MAArC;AAA4C,MAAA,UAAU,EAAE,IAAxD;AAA8D,MAAA,YAAY,EAAE,CAA5E,CAA+E;AAA/E;AACI,MAAA,eAAe,EAAC,mBADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAY,MAAA,KAAK,EAAE;AAAEuI,QAAAA,YAAY,EAAE;AAAhB,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,6BAAD;AACI,MAAA,UAAU,EAAG;AACT,WAAK3V,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BmE,oBAA5B,IAAoD,EAF5D;AAGI,MAAA,eAAe,EAAE,KAHrB;AAII,MAAA,cAAc,EAAE,KAAKhP,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,IACZ,CAAC,KAAKhL,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA7B,CADY,IACgD,EALpE;AAMI,MAAA,eAAe,EAAC,2BANpB;AAOI,MAAA,eAAe,EAAG0G,YAAD,IACb,KAAK1R,KAAL,CAAWnC,+BAAX,CACI6T,YADJ,EACkB,KAAK1R,KAAL,CAAW2F,KAAX,CAAiByE,QADnC,EAEI,KAAKpK,KAAL,CAAW2F,KAAX,CAAiBkF,UAFrB,CARR;AAYI,MAAA,UAAU,EAAE;AACRT,QAAAA,QAAQ,EAAE,KAAKpK,KAAL,CAAW2F,KAAX,CAAiByE,QADnB;AAERS,QAAAA,UAAU,EAAE,KAAK7K,KAAL,CAAW2F,KAAX,CAAiBkF;AAFrB,OAZhB;AAgBI,MAAA,SAAS,EAAE,YAhBf;AAiBI,MAAA,cAAc,EAAE,KAAK7K,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAjBpB;AAkBI,MAAA,gBAAgB,EAAC,8BAlBrB;AAmBI,MAAA,UAAU,EAAC,SAnBf;AAoBI,MAAA,QAAQ,EAAC,0BApBb;AAqBI,MAAA,UAAU,EAAE,IArBhB;AAsBI,MAAA,cAAc,EAAE,KAtBpB;AAuBI,MAAA,UAAU,EAAE,KAvBhB;AAwBI,MAAA,SAAS,EAAE,EAxBf;AAyBI,MAAA,IAAI,EAAE,KAAKb,KAAL,CAAW8O,UAzBrB;AA0BI,MAAA,IAAI,EAAE,KAAK9O,KAAL,CAAW+O,UA1BrB;AA2BI,MAAA,UAAU,EAAE,IA3BhB;AA4BI,MAAA,gBAAgB,EAAE,KAAKvE,sBA5B3B;AA6BI,MAAA,cAAc,EAAE,KAAKxK,KAAL,CAAWoK,0BAAX,IAAyC,KAAKpK,KAAL,CAAWoK,0BAAX,GAAwC,EAAjF,GAAsF,YAAtF,GAAqG,KAAKpK,KAAL,CAAWoK,0BAAX,GAAwC,EAAxC,GAA6C,UAA7C,GAA0D,EA7BnL,CA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAsDI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,iCAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK7M,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BsJ,qBAA5B,IAAqD,KAAKnU,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BsJ,qBAA5B,CAAkD3S,MAAlD,GAA2D,CAAhH,IAAqH,KAAKxB,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAAjJ,gBACG,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4C,KAAK7L,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BgB,6BAA5B,CAA0D+J,0BAAtG,CADJ,eAEI,oBAAC,IAAD,CAAM,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,+BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,6BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK5V,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD6K,eAAzD,KAA6E1W,iBAAiB,CAAC2W,KAA/F,gBAEG;AAAM,MAAA,SAAS,EAAG,iDAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAE,WAAtB;AAAmC,MAAA,cAAc,EAAC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFH,GAMG,KAAK9V,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD6K,eAAzD,KAA6E1W,iBAAiB,CAAC4W,OAA/F,gBAEI;AAAM,MAAA,SAAS,EAAG,6CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAE,aAAtB;AAAqC,MAAA,cAAc,EAAC,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAFJ,gBAMI;AAAM,MAAA,SAAS,EAAG,8CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAE,cAAtB;AAAsC,MAAA,cAAc,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAbZ,CADJ,CADJ,eAqBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK/V,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD6K,eAAzD,KAA6E1W,iBAAiB,CAAC2W,KAA/F,gBACG,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,qCAApB;AAA0D,MAAA,IAAI,EAAC,GAA/D;AACI,MAAA,MAAM,EAAE,KAAKrT,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyCQ,MAAzC,MAAqD,CAAC,CADlE,CAEI;AAFJ;AAGI,kBAAU,KAAKjJ,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAHd;AAII,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAKsN,2BAAL,CAAiC,KAAKrQ,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA7D,EAA2F,KAAKhL,KAAL,CAAW2F,KAAX,CAAiByE,QAA5G,EAAsHnB,MAAtH,CAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAE/N,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADH,gBAWG,+DAAM,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,mCAApB;AAAwD,MAAA,IAAI,EAAC,GAA7D;AACF,MAAA,MAAM,EAAE,KAAKuH,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyC4M,MAAzC,MAAqD,CAAC,CAD5D,CAEF;AAFE;AAGF,kBAAU,KAAKrV,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAHR;AAIF,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAKmM,wBAAL,CAA8BmG,MAA9B,CAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMF,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEpa,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANE,CAAN,CAZR,eAkCI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,mCAApB;AAAwD,MAAA,IAAI,EAAC,GAA7D;AACI,MAAA,MAAM,EAAE,KAAKwH,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyCqG,SAAzC,MAAwD,CAAC,CADrE;AAEI,kBAAU,KAAK9O,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAFd;AAGI,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAK8L,qBAAL,CAA2B,KAAK7O,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAAvD,EAAqF,KAAKhL,KAAL,CAAW2F,KAAX,CAAiByE,QAAtG,EAAgH0E,SAAhH,CAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEzS,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAlCJ,eA0CI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,IAAI,EAAC,IAAf;AAAoB,MAAA,SAAS,EAAC,kCAA9B;AACI,MAAA,MAAM,EAAE,KAAKoG,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyC2M,QAAzC,MAAuD,CAAC,CADpE,CAEI;AAFJ;AAGI,kBAAU,KAAKpV,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAHd;AAII,MAAA,OAAO,EAAE,MAAM,KAAKkJ,aAAL,CAAmB4I,QAAnB,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEpa,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CA1CJ,EAkDK,KAAKgF,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyD6K,eAAzD,KAA6E1W,iBAAiB,CAAC2W,KAA/F,gBACG,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,IAAI,EAAC,IAAf;AAAoB,MAAA,SAAS,EAAC,kCAA9B;AACI,MAAA,MAAM,EAAE,KAAKrT,KAAL,CAAW8I,qBAAX,CAAiC9C,OAAjC,CAAyC6M,SAAzC,MAAwD,CAAC,CADrE,CAEI;AAFJ;AAGI,kBAAU,KAAKtV,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAHd;AAII,MAAA,OAAO,EAAE,MAAM,KAAK6K,8BAAL,CAAoCmH,SAApC,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEja,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADH,GASK,EA3DV,eA6DI,oBAAC,GAAD,CAAK,IAAL;AAAU,MAAA,SAAS,EAAC,mCAApB;AAAwD,MAAA,IAAI,EAAC,GAA7D;AACI,kBAAU,KAAK2E,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CADd;AAEI,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAK6L,kBAAL,CAAwByG,MAAxB,CAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEjZ,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CA7DJ,CArBJ,CADJ,CAFJ,CADJ,eAgGI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAG,iCAAgC,KAAKqG,KAAL,CAAWuE,UAAX,GAAwB,cAAxB,GAAyC,EAAG,EAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAoC,MAAA,OAAO,EAAE,KAAKD,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAElL,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,eAII,oBAAC,WAAD,CAAa;AAAb;AACC,MAAA,YAAY,EAAC,KADd;AAEI,MAAA,SAAS,EAAC,WAFd;AAE0B,MAAA,QAAQ,EAAE,KAAKuL,YAFzC;AAGI,MAAA,WAAW,EAAG,GAAE,KAAKpH,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAAoD,EAHxE;AAII,MAAA,IAAI,EAAE,QAJV;AAIoB,MAAA,OAAO,EAAGP,CAAD,IAAO,KAAK4E,gBAAL,CAAsB5E,CAAtB,EAAyB,MAAzB,CAJpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAUK,CAAC,KAAK/C,KAAL,CAAWgH,UAAZ,gBACG,uDACI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEvH,WAAvB;AAAoC,MAAA,OAAO,EAAGsD,CAAD,IAAO,KAAK4E,gBAAL,CAAsB5E,CAAtB,EAAyB,IAAzB,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEvD,aAAvB;AAAsC,MAAA,OAAO,EAAGuD,CAAD,IAAO,KAAK4E,gBAAL,CAAsB5E,CAAtB,EAAyB,MAAzB,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADH,GAkBK,EA5BV,EA6BK,KAAK/C,KAAL,CAAWgH,UAAX,gBACG,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,kBAAtB;AAAyC,MAAA,OAAO,EAAE,KAAKD,YAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAEjL,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADH,GAIK,EAjCV,CAFJ,eAqCI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,gBAAD;AACI,MAAA,EAAE,EAAC,uBADP;AAEI,MAAA,IAAI,EAAC,uBAFT,CAGI;AAHJ;AAII,MAAA,IAAI,EAAE,KAAK2G,KAAL,CAAWmE,gBAAX,IAA+B,KAAKnE,KAAL,CAAWwF,YAJpD;AAKI,MAAA,WAAW,EAAE,IALjB;AAMI,MAAA,WAAW,EAAE,aANjB;AAOI,MAAA,IAAI,EAAE,KAAKY,cAPf;AAQI,MAAA,cAAc,EAAE,KAAKG,kBARzB;AASI,MAAA,WAAW,EAAE,KAAKD,eATtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CArCJ,CADJ,CAhGJ,CADH,GAuJK,EAxJV,CAFJ,CAtDJ,CADJ,CAJJ,CAnEJ,CAHJ,CADJ,CAJJ,CADJ,eAmTK,oBAAC,SAAD;AACG,MAAA,SAAS,EAAE,KAAK/I,KAAL,CAAW2F,KAAX,CAAiBL,kBAD/B;AAEG,MAAA,UAAU,EAAE,KAAKtF,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAFf;AAGG,MAAA,UAAU,EAAE,KAAKkC,cAHpB;AAIG,MAAA,WAAW,EAAE,KAAK+D,WAJrB;AAKG,MAAA,cAAc,EAAE,KAAK9G,KAAL,CAAW4C,cAAX,IAA6B,EALhD;AAMG,MAAA,SAAS,eACL,oBAAC,iBAAD;AACI,QAAA,aAAa,EAAGtC,CAAD,IAAO,KAAK+C,aAAL,CAAmB/C,CAAnB,CAD1B;AAEI,QAAA,cAAc,EAAE,KAAKN,KAAL,CAAW4C,cAAX,IAA6B,EAFjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnTL,EAkUK,KAAKrF,KAAL,CAAW2F,KAAX,CAAiBT,SAAjB,iBACG,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAE,KAAKlF,KAAL,CAAW2F,KAAX,CAAiBT,SAAtC;AACI,MAAA,UAAU,EAAE,KAAKO,UADrB;AAEI,MAAA,QAAQ,EAAE,KAAKzF,KAAL,CAAW2F,KAAX,CAAiBE,MAF/B;AAGI,MAAA,SAAS,EAAE,KAAK7F,KAAL,CAAW2F,KAAX,CAAiBE,MAAjB,GAA0B,EAA1B,GAA+B,KAAK7F,KAAL,CAAW2F,KAAX,CAAiBJ,SAH/D;AAII,MAAA,UAAU,EAAE,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBuF,UAJjC;AAKI,MAAA,UAAU,EAAE,KAAKlL,KAAL,CAAW2F,KAAX,CAAiBE,MAAjB,GAA0B,KAAK7F,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAA1B,GACR,KAAKtD,KAAL,CAAW2F,KAAX,CAAiBJ,SAAjB,KAA8B,SAA9B,GAA0C,EAA1C,GACA,KAAKvF,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,QAAAA,EAAE,EAAE;AAAN,OAA9B,CAPR;AAQI,MAAA,WAAW,EAAE,KAAKiG,WARtB;AASI,MAAA,KAAK,EAAE,KAAKvJ,KAAL,CAAW2F,KAAX,CAAiBD,SAT5B;AAUI,MAAA,aAAa,EAAE,KAAKkL,aAVxB;AAWI,MAAA,YAAY,EAAE,KAAK5Q,KAAL,CAAW2F,KAAX,CAAiBkM,YAXnC;AAYI,MAAA,WAAW,EAAE,KAAK7R,KAAL,CAAW1C,WAZ5B;AAaI,MAAA,cAAc,EAAE,KAAKmF,KAAL,CAAW4C,cAAX,IAA6B,EAbjD;AAcI,MAAA,eAAe,EAAE,KAAKrF,KAAL,CAAW2F,KAAX,CAAiBL,kBAAjB,KAAwC,IAAxC,GAA+C,EAA/C,GAAoDoQ,eAdzE;AAeI,MAAA,YAAY,EACR,KAAK1V,KAAL,CAAW2F,KAAX,CAAiBE,MAAjB,gBACI,uDAEI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ4P,UAAU,CAACrU,GAAX,CAAe,CAACW,IAAD,EAAOV,KAAP,KAAiB;AAC5B,4BACI,uDACI,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAY,KAAKrB,KAAL,CAAWwD,IAAX,CAAgBC,aAAhB,CAA8B;AAAEH,UAAAA,EAAE,EAAEvB,IAAI,CAACiU;AAAX,SAA9B,CAAZ,CADJ,eAEI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAe,KAAKhW,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyDjJ,IAAI,CAACkU,SAA9D,IACX,KAAKjW,KAAL,CAAW2F,KAAX,CAAiBkF,UAAjB,CAA4BG,4BAA5B,CAAyDjJ,IAAI,CAACkU,SAA9D,CADW,GACgE,GAD/E,CAFJ,CADJ,CADJ,CADJ;AAYH,OAbD,CAFR,CAFJ,CADJ,GAsBI,KAAKjW,KAAL,CAAW2F,KAAX,CAAiB4G,UAAjB,KAAgC,YAAhC,gBACM,uDASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADN,GAaI,KAAKvM,KAAL,CAAW2F,KAAX,CAAiBD,SAAjB,gBACI,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE,KAAK1F,KAAL,CAAW2F,KAAX,CAAiBJ,SAAnC;AACI,QAAA,aAAa,EAAE,KAAKvF,KAAL,CAAWwD,IAAX,CAAgBC,aADnC;AAEI,QAAA,eAAe,EAAE,KAAKkN,eAF1B;AAGI,QAAA,UAAU,EAAE,KAAK3Q,KAAL,CAAW2F,KAAX,CAAiBuF,UAHjC;AAII,QAAA,cAAc,EAAE,KAAKzI,KAAL,CAAW4C,cAAX,IAA6B,EAJjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,GAQI;AACA;AACA;AACA;AACA;AACA;AACD;AACE,WAAK5C,KAAL,CAAWC,QAAX,gBACG,uDACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI,oBAAC,WAAD;AACI,QAAA,kBAAkB,EAAE,KAAKuE,kBAD7B;AAEI,QAAA,YAAY,EAAE,KAAKF,YAFvB;AAGI,QAAA,YAAY,EAAE,KAAKK,YAHvB;AAII,QAAA,gBAAgB,EAAE,KAAKO,gBAJ3B;AAKI,QAAA,UAAU,EAAE,KAAKlF,KAAL,CAAWuE,UAL3B;AAMI,QAAA,QAAQ,EAAE;AACN,aAAKvE,KAAL,CAAWC,QAPnB;AAQI,QAAA,aAAa,EAAGK,CAAD,IAAO,KAAK+C,aAAL,CAAmB/C,CAAnB,CAR1B;AASI,QAAA,cAAc,EAAE,KAAKN,KAAL,CAAW4C,cAAX,IAA6B,EATjD;AAUI,QAAA,UAAU,EAAE,KAAKe,UAVrB;AAWI,QAAA,cAAc,EAAE,KAAKsC,cAXzB;AAYI,QAAA,WAAW,EAAE,KAAKhC,WAZtB;AAaI,QAAA,aAAa,EAAE,KAAK0G,aAbxB;AAcI,QAAA,cAAc,EAAE,KAAK1L,cAdzB;AAeI,QAAA,aAAa,EAAE,KAAKQ,aAfxB;AAgBI,QAAA,oBAAoB,EAAE,KAAK6N,oBAhB/B;AAiBI,QAAA,SAAS,EAAG,KAAK/P,KAAL,CAAW2F,KAAX,CAAiBJ,SAjBjC;AAkBI,QAAA,mBAAmB,EAAE,KAAKvF,KAAL,CAAW2F,KAAX,CAAiBuQ,mBAAjB,IAAwC,EAlBjE;AAmBI,QAAA,kBAAkB,EAAE,KAAKlW,KAAL,CAAW2F,KAAX,CAAiBwQ,kBAAjB,IAAuC,EAnB/D;AAoBI,QAAA,cAAc,EAAE,KAAKnW,KAAL,CAAW2F,KAAX,CAAiByQ,cAAjB,IAAmC,EApBvD;AAqBI,QAAA,WAAW,EAAE,KAAKpW,KAAL,CAAW2F,KAAX,CAAiBoJ,WArBlC;AAsBI,QAAA,WAAW,EAAE,KAAK/O,KAAL,CAAW2F,KAAX,CAAiB0Q,WAtBlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CADJ,CADH,GA8BE,EAhGvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnUR,CADJ;AA0aH;;AAvrFyC;;AA0sF9C,MAAMC,eAAe,GAAI7T,KAAD,IAAW;AAC/B,SAAO;AACHkD,IAAAA,KAAK,EAAElD,KAAK,CAACkD;AADV,GAAP;AAGH,CAJD;;AAMA,eAAezL,OAAO,CAACoc,eAAD,EAAkB;AACpCnZ,EAAAA,WADoC;AACvBC,EAAAA,UADuB;AACXE,EAAAA,WADW;AACED,EAAAA,uBADF;AAC2BG,EAAAA,qBAD3B;AACkDC,EAAAA,2BADlD;AAEpCF,EAAAA,gCAFoC;AAEFG,EAAAA,iBAFE;AAEiBC,EAAAA,yBAFjB;AAE4CC,EAAAA,4BAF5C;AAGpCC,EAAAA,+BAHoC;AAGHC,EAAAA,oBAHG;AAGmBC,EAAAA,wBAHnB;AAG6CC,EAAAA,yBAH7C;AAGuEC,EAAAA;AAHvE,CAAlB,CAAP,CAIZ9D,UAAU,CAAC2F,qBAAD,CAJE,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faFileImport, faEye, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\n\r\nimport ScrollBar from 'react-perfect-scrollbar';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterTransactionList, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation,additionalInformationData\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport { //faBell, \r\n    faChevronDown, faChevronUp, faExclamationCircle\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Grid } from '@progress/kendo-react-grid';\r\nimport Axios from 'axios';\r\nimport rsapi from '../../rsapi';\r\n//import { Upload } from '@progress/kendo-react-upload';\r\n\r\n\r\nclass SampleStorageLocation extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            treeData: [{ title: 'Chicken', children: [{ title: 'Egg' }] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            keyIndentify: false,\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n        this.setState({ panes: event.newState })\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n        if (this.pointedItem) {\r\n            let scrollDoc = document.getElementById('selected-tree-point');\r\n            if (scrollDoc) {\r\n                scrollDoc.scrollIntoView({ behavior: 'smooth' })\r\n            }\r\n        }\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.treeDataView !== previousProps.Login.treeDataView) {\r\n            this.setState({\r\n                treeDataView: this.props.Login.treeDataView\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                if (this.searchRef.current) {\r\n                  //  this.searchRef.current.value = \"\";\r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\r\n                    searchedTreeData: undefined,\r\n                    showSearch: false\r\n                });\r\n            } else {\r\n                if (this.searchRef.current) {\r\n                  //  this.searchRef.current.value = \"\";\r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView: undefined,\r\n                    searchedTreeData: undefined,\r\n                    showSearch: false\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n\r\n            const filterData = this.generateBreadCrumData();\r\n            //ALPD-4495 ALPD-4733 janakumar  pagination  work \r\n            let take=this.state.take;\r\n            let skip=0\r\n\r\n            this.setState({ filterData ,skip ,take});\r\n\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n            const filterData = this.generateBreadCrumData();\r\n            //ALPD-4495 ALPD-4733 janakumar  pagination  work \r\n            let take=this.state.take;\r\n            let skip=0\r\n\r\n            this.setState({ filterData ,skip ,take});\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        //below lines commented by rukshana\r\n        //Added by janakumar ALPD-5125 Storage Structure  Search Pagination Error on Page 2\r\n        // if(this.props.Login.dataState !==previousProps.Login.dataState){\r\n        //     if(this.props.Login.dataState!==undefined){\r\n        //         const take=this.props.Login.dataState.take;\r\n        //         const skip=this.props.Login.dataState.skip;\r\n        //         this.setState({ skip ,take});\r\n        //     }\r\n                  \r\n        // }\r\n        // if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n        //     const filterData = this.generateBreadCrumData();\r\n        //     //ALPD-4495 janakumar  pagination  work \r\n        //     let take=this.state.take;\r\n        //     let skip=0\r\n\r\n        //     this.setState({ filterData ,skip ,take});\r\n        // }\r\n    }\r\n    getSiblings = (itemIndex, data) => {\r\n        let result = data;\r\n        const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\r\n        for (let i = 0; i < indices.length - 1; i++) {\r\n            result = result[indices[i]].items || [];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    getClueClassName(event) {\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        const {\r\n            itemHierarchicalIndex: itemIndex\r\n        } = eventAnalyzer.destinationMeta;\r\n        if (eventAnalyzer.isDropAllowed) {\r\n            switch (eventAnalyzer.getDropOperation()) {\r\n                case 'child':\r\n                    return 'k-i-plus';\r\n                case 'before':\r\n                    return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\r\n                case 'after':\r\n                    const siblings = this.getSiblings(itemIndex, this.state.tree);\r\n                    const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\r\n                    return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        return 'k-i-cancel';\r\n    }\r\n    onItemDragOver = event => {\r\n        this.dragOverCnt++;\r\n        this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\r\n    };\r\n    onItemDragEnd = event => {\r\n        this.isDragDrop = this.dragOverCnt > 0;\r\n        this.dragOverCnt = 0;\r\n        this.dragClue.hide();\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        if (eventAnalyzer.isDropAllowed) {\r\n            const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\r\n            this.setState({\r\n                tree: updatedTree\r\n            });\r\n        }\r\n    };\r\n    addChildNode = (e, clickedItem) => {\r\n        let iscontainerlastnode=false;\r\n        let ParentItem = this.searchClickedItemParent(this.state.treeData[0])\r\n        if (ParentItem) {\r\n            ParentItem.items.map(item => {\r\n                item.expanded = false;\r\n            });\r\n        }\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                if(item['containerlastnode']===true){\r\n                    iscontainerlastnode=true;\r\n                }else{\r\n                    item.items = item.items || [];\r\n                    item.expanded = true\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n               \r\n            }\r\n            return item;\r\n        });\r\n        if(iscontainerlastnode===true){\r\n            toast.info (this.props.intl.formatMessage({ id:   \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\" })\r\n          \r\n            );\r\n        }else{\r\n            this.setState({ treeData: newData });\r\n        } \r\n    };\r\n\r\n    // generateUUID(innerObj) {\r\n\r\n    //     // let parentIDNew=uuid()\r\n    //     // let innerObjNew={...innerObj,\r\n    //     //                 'id':parentIDNew } \r\n    //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //     //     innerObjNew.items.map((childObj) => { \r\n    //     //         childObj={...childObj,\r\n    //     //         'parentID':parentIDNew}\r\n    //     //         this.generateUUID(childObj)\r\n    //     //     })\r\n    //     // }\r\n    //     let parentIDNew=uuid()\r\n    //     let innerObjNew={...innerObj,\r\n    //            'id':parentIDNew } \r\n    //  if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //        innerObjNew.items.map((childObj) => { \r\n    //                 childObj={...childObj,\r\n    //                 'parentID':parentIDNew}\r\n    //                 return  this.generateUUID(childObj)\r\n    //             })\r\n    // } \r\n    //     return innerObjNew\r\n    // }\r\n\r\n    generateUUID(innerObj) {\r\n        let parentIDNew = uuid()\r\n        let innerObjNew = {\r\n            ...innerObj,\r\n            'id': parentIDNew\r\n        }\r\n\r\n        //  innerObj['id']=parentIDNew  \r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            for (let Obj of innerObj.items) {\r\n                let childObj = Obj;\r\n                childObj = {\r\n                    ...childObj,\r\n                    'parentID': parentIDNew\r\n                }\r\n                //childObj['parentID']=parentIDNew\r\n\r\n                this.generateUUID(childObj);\r\n            }\r\n        }\r\n        return innerObj;\r\n    }\r\n\r\n    searchClickedItemParent(treeData, clickedItem) {\r\n        let ParentItem = { ...treeData };\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    if (clickedItem ? (clickedItem.id === childData.id) : (childData.editable === true)) {\r\n                        return treeData;\r\n                    } else {\r\n                        if (childData.items) {\r\n                            ParentItem = this.searchClickedItemParent(childData, clickedItem)\r\n                            if (ParentItem) {\r\n                                return ParentItem;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //    return ParentItem;\r\n    }\r\n    cloneNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentID = '';\r\n        let clonedParentID = '';\r\n        let parentFound = false;\r\n        let cloneItems = {};\r\n        let clonedparentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        let newData1 = [...this.state.treeData];\r\n        mapTree(this.state.treeData\r\n            , \"items\", (item) => {\r\n                // if (item.items) {\r\n                //     if (parentFound&&(item.id===parentID)) {\r\n                //         parentItem = item;\r\n                //         parentFound = false;\r\n                //     }\r\n                // }\r\n\r\n                if (item.id === clickedItem.id) {\r\n                    parentFound = true;\r\n                    parentID = clickedItem.parentID\r\n                    parentItem = this.searchClickedItemParent(this.state.treeData[0])\r\n                }\r\n                if (item.editable === true) {\r\n                    clonedParentID = uuid();\r\n                    let clonedNewParentID = uuid();\r\n                    //     //  let clonedObject=//{...item}\r\n                    //     //   Object.assign({}, item);\r\n                    //       const clonedObject = JSON.parse(JSON.stringify(item1));\r\n                    //      cloneItems =//[{...clonedObject}].map((data) => {\r\n                    //       // return \r\n                    //        this.generateUUID(clonedObject)\r\n                    //    // })\r\n                    let levelBasedParents = {}\r\n                    cloneItems = mapTree([{ ...item }], \"items\", (cloneditem) => {\r\n                        // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                        // let x=getItemPath(this.state.treeData,indices,\"items\")\r\n                        // console.log('------------->',cloneditem)\r\n                        // if(cloneditem.items===undefined&&clonedparentFound){\r\n                        //     clonedParentID=uuid();\r\n                        //     clonedparentFound=false;\r\n                        // }\r\n                        // else{\r\n                        //     clonedNewParentID=uuid();\r\n                        // }\r\n                        // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\r\n                        //     let level=cloneditem.itemHierarchicalIndex;\r\n                        //     levelBasedParents={...levelBasedParents,\r\n                        //                         [level]:uuid()\r\n                        //                     }\r\n                        // }\r\n                        // if(cloneditem.items){\r\n                        //      //if ClonedItem is a Parent\r\n\r\n                        //     cloneditem={\r\n                        //         ...cloneditem,\r\n                        //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\r\n                        //         ,\r\n                        //         'id':clonedParentID,\r\n                        //         'editable': false \r\n                        //     } \r\n                        //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                        //     //  clonedParentID=uuid()//clonedNewParentID;\r\n                        //     // clonedparentFound=true;\r\n                        // }else{\r\n                        //if ClonedItem is a Child\r\n                        cloneditem = {\r\n                            ...cloneditem,\r\n                            //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\r\n                            // ,\r\n                            'id': uuid(),\r\n                            'editable': false,\r\n                            'expanded': false\r\n                            //   }\r\n                            //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                        }\r\n                        return cloneditem;\r\n                    });\r\n                }\r\n\r\n                // item={\r\n                //    ...item,\r\n                //     'id':uuid(),\r\n                //   'editable': false \r\n                //     } \r\n                return item;\r\n            });\r\n        if (parentItem === undefined) {\r\n            return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ROOTNODECANNOTBEDELETED\" }))\r\n        }\r\n        let count = 1;\r\n        newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n\r\n            if (item.id === parentItem.id) {\r\n                count++;\r\n                item.items.push(\r\n                    // {\r\n                    // ...cloneItem,\r\n                    // 'id':uuid(),\r\n                    // 'editable': false,\r\n                    // 'text': cloneItem['text']+'('+count+')'\r\n                    // } \r\n                    {\r\n                        ...cloneItems[0]\r\n                        ,\r\n                        'parentID': parentID,\r\n                        // 'id':clonedParentID\r\n                    }\r\n                );\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    }\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false,\r\n                itemhierarchy: \"\"\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModalShow = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { loadTreeProperties: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId, isView: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            if (event.target.checked && event.target.name === 'nneedposition') {\r\n                selectedRecord['ncontainertypecode'] && delete selectedRecord['ncontainertypecode'];\r\n                selectedRecord['ncontainerstructurecode'] && delete selectedRecord['ncontainerstructurecode'];\r\n                selectedRecord['containerStructureOptions'] && delete selectedRecord['containerStructureOptions'];\r\n                selectedRecord['nrow'] && delete selectedRecord['nrow'];\r\n                selectedRecord['ncolumn'] && delete selectedRecord['ncolumn'];\r\n                selectedRecord['ndirectionmastercode'] && delete selectedRecord['ndirectionmastercode'];\r\n\r\n                //  selectedRecord['nquantity'] = this.calculateRowColumn(selectedRecord['nrow'], selectedRecord['ncolumn']);\r\n            }\r\n               \r\n            selectedRecord[event.target.name] = event.target.checked;\r\n            if(event.target.checked===false && event.target.name === 'nneedposition'){\r\n                selectedRecord['nrow'] =1;\r\n                selectedRecord['ncolumn']=1;\r\n                selectedRecord['nnoofcontainer']=1;\r\n            }\r\n           \r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item, props.itemHierarchicalIndex)}\r\n                                maxLength=\"50\"\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                            <span className='d-flex align-items-center'>\r\n                                <span className={`normal-node text-truncate\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `} data-tip={props.item.text}>\r\n                                    {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                        props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                            props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                                props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                    {props.item.text}\r\n                                </span>\r\n                                {props.item.editable ? (\r\n                                    <>  \r\n                                        {/* \r\n                                <Button   className=\"action-icon tree-level1\" role=\"button\"\r\n                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.cloneNode(e, props.item);\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faClone}\r\n                                                 title={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })} />\r\n                                            </Button> */}\r\n                                        {/* <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span> */}\r\n                                        <span\r\n                                            className=\"action-icon tree-level2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.addChildNode(e, props.item);\r\n                                            }}\r\n                                        ></span> \r\n                                        <span\r\n                                            className=\"k-icon k-i-edit k-i-pencil ml-2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.editRecord(e, props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                        {!props.item.isRoot ? (\r\n                                            <span\r\n                                                className=\"k-icon k-i-delete ml-2\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.deleteNode(props.item);\r\n                                                }}\r\n                                            ></span>\r\n                                        ) : null}\r\n                                           <span\r\n                                            className=\"action-icon tree-toggle m-l-half\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                            onClick={(e) => this.setProperties(e, props)}\r\n                                        ></span>\r\n                                          <span\r\n                                            className=\"action-icon tree-level1\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.cloneNode(e, props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    </>\r\n                                ) : null}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (selectedItem) {\r\n        //     selectedItem.editable = false;\r\n        //   }\r\n        //   event.item.editable = true;\r\n        //   selectedItem = event.item; \r\n\r\n\r\n        // let searchedData =undefined;\r\n        // if(this.state.searchedTreeData){\r\n        //      searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\r\n        //         if (item1.editable === true) {\r\n        //             item1.editable = false;\r\n        //         } else if (item1.id === event.item.id) {\r\n        //             item1.editable = true;\r\n        //         }\r\n        //         return item1;\r\n        //     });\r\n        // } \r\n\r\n        // let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n        // this.setState({ treeData: newData,searchedTreeData: searchedData  }); \r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if (this.pointedItem) {\r\n                        if (this.pointedItem.id === item.id) {\r\n                            this.pointedItem = undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices =\r\n                        event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            searchedData.map((data) => {\r\n                this.clearSelected(data, event.item)\r\n            })\r\n        }\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeData;\r\n                const indices =\r\n                    event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeData: newData, searchedTreeData: searchedData });\r\n    };\r\n\r\n\r\n    shrinkNodes(ParentItem) {\r\n        //  ParentItem.expanded=false;\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    childData.expanded = false;\r\n                    if (childData.items) {\r\n                        this.shrinkNodes(childData)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleSearch = () => {\r\n        this.setState({\r\n            showSearch: !this.state.showSearch\r\n        })\r\n    }\r\n\r\n\r\n    clearSearchedState = () => {\r\n        this.setState({\r\n            searchedTreeData: undefined,\r\n            showSearch: false\r\n        })\r\n    }\r\n\r\n    navigationCounter = () => {\r\n        let counter = this.state.counter || 0;\r\n\r\n        return counter;\r\n    }\r\n    // handleSearch = () => { \r\n    //     let value = document.querySelector('.k-textbox').value\r\n    //     this.uniqueIDArr=[]\r\n    //     this.countforTree=0;\r\n    //     let newData = this.search(this.state.treeDataView, value) \r\n    //     //Always root node should be expanded\r\n    //     newData[0].expanded=true;  \r\n    //     if(value===\"\"){\r\n    //         this.pointedItem=undefined\r\n    //         this.setState({ searchedTreeData: undefined })\r\n    //     }else{\r\n    //         this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n    //     }\r\n    //   }\r\n    handleSearch = () => {\r\n        this.uniqueIDArr = []\r\n        this.pointedItem = undefined\r\n        this.countforTree = 0;\r\n        //this.setState({searchedTreeData: undefined})\r\n    }\r\n    search = (items, term) => {\r\n        return items.reduce((acc, item) => {\r\n            if (this.contains(item.text, term)) {\r\n                this.uniqueIDArr.push(item.id);\r\n                acc.push(item);\r\n            } else if (item.items && item.items.length > 0) {\r\n                let newItems = this.search(item.items, term);\r\n                if (newItems && newItems.length > 0) {\r\n                    acc.push({\r\n                        ...item, text: item.text, items: newItems, expanded: acc.length === 0 ?\r\n                            true : false//item.expanded\r\n\r\n                    });\r\n                }\r\n            }\r\n            return acc;\r\n        }, []);\r\n    }\r\n\r\n    handlenavigation = (e, direction) => {\r\n        if (e.key === 'Enter' || e.type === 'click') {\r\n            let value = document.querySelector('.k-textbox').value\r\n            if (value !== \"\") {\r\n\r\n                if (direction === 'up') {\r\n                    //Navigate up\r\n                    this.countforTree--;\r\n                    if (this.countforTree <= 0) {\r\n                        this.countforTree = 0;\r\n\r\n                    }\r\n                } else {\r\n                    //if(direction==='down'){\r\n                    //Navigate down\r\n                    this.countforTree++;\r\n                    if (this.countforTree >= this.uniqueIDArr.length) {\r\n                        if ((this.uniqueIDArr.length - 1) === -1) {\r\n                            this.countforTree = 0;\r\n                        } else {\r\n                            this.countforTree = this.uniqueIDArr.length - 1;\r\n                        }\r\n\r\n                        //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\r\n                    }\r\n                }\r\n\r\n                let newData = this.navigateSearchedTree(this.state.treeDataView, value)\r\n\r\n\r\n                this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n            }\r\n            else {\r\n                this.setState({ searchedTreeData: undefined })\r\n            }\r\n        }\r\n    }\r\n\r\n    navigateSearchedTree = (items, term) => {\r\n        return items.reduce((acc, item) => {\r\n            if (item.editable) {\r\n                item.editable = false\r\n            }\r\n            if (item.selected) {\r\n                item.selected = false\r\n            }\r\n            if (this.contains(item.text, term)) {\r\n \r\n                if (!this.uniqueIDArr.includes(item.id)) {\r\n                    this.uniqueIDArr.push(item.id);\r\n                }\r\n                if (item.id === this.uniqueIDArr[this.countforTree]) {\r\n                    if (this.pointedItem) {\r\n                        this.pointedItem = undefined;\r\n                    }\r\n                    this.pointedItem = item;\r\n                }\r\n               \r\n                if (item.items && item.items.length > 0) {\r\n                    let newItems = this.navigateSearchedTree(item.items, term);\r\n                    if (newItems && newItems.length > 0) {\r\n                        if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n                            acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n                        } else {\r\n                            acc.push({\r\n                                ...item, text: item.text, items: newItems, expanded:\r\n                                    newItems.some(item => item.expanded === true) ? true : false\r\n                            });\r\n                        }\r\n   \r\n                    }else{\r\n                        acc.push(item);\r\n                    }\r\n                }else{\r\n                    acc.push(item);\r\n                }\r\n            }\r\n             else if (item.items && item.items.length > 0) {\r\n                let newItems = this.navigateSearchedTree(item.items, term);\r\n                if (newItems && newItems.length > 0) {\r\n                    if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n                        acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n                    } else {\r\n                        acc.push({\r\n                            ...item, text: item.text, items: newItems, expanded:\r\n                                newItems.some(item => item.expanded === true) ? true : false\r\n                        });\r\n                    }\r\n \r\n                }\r\n            }\r\n            return acc;\r\n        }, []);\r\n    }\r\n    // navigateSearchedTree = (items, term) => {\r\n    //     return items.reduce((acc, item) => {\r\n    //         if (item.editable) {\r\n    //             item.editable = false\r\n    //         }\r\n    //         if (item.selected) {\r\n    //             item.selected = false\r\n    //         }\r\n    //         if (this.contains(item.text, term)) {\r\n\r\n    //             if (!this.uniqueIDArr.includes(item.id)) {\r\n    //                 this.uniqueIDArr.push(item.id);\r\n    //             }\r\n    //             if (item.id === this.uniqueIDArr[this.countforTree]) {\r\n    //                 if (this.pointedItem) {\r\n    //                     this.pointedItem = undefined;\r\n    //                 }\r\n    //                 this.pointedItem = item;\r\n    //             }\r\n    //             acc.push(item);\r\n    //         } else if (item.items && item.items.length > 0) {\r\n    //             let newItems = this.navigateSearchedTree(item.items, term);\r\n    //             if (newItems && newItems.length > 0) {\r\n    //                 if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n    //                     acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n    //                 } else {\r\n    //                     acc.push({\r\n    //                         ...item, text: item.text, items: newItems, expanded:\r\n    //                             newItems.some(item => item.expanded === true) ? true : false\r\n    //                     });\r\n    //                 }\r\n\r\n    //             }\r\n    //         }\r\n    //         return acc;\r\n    //     }, []);\r\n    // }\r\n\r\n    contains = (text, term) => {\r\n        return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\r\n    }\r\n    onExpandChange = (event) => {\r\n        let clickedItem = event.item\r\n        if (!event.item.expanded) {\r\n            //this.onItemClick(event)\r\n            let ParentItem = this.searchClickedItemParent(//this.state.searchedTreeData&&\r\n                //this.state.searchedTreeData[0]||\r\n                this.state.treeData[0], clickedItem)\r\n            if (ParentItem) {\r\n                ParentItem.items.map(item => {\r\n                    item.expanded = false;\r\n                });\r\n            }\r\n            this.shrinkNodes(event.item);\r\n        }\r\n        event.item.expanded = !event.item.expanded;\r\n\r\n        this.forceUpdate();\r\n    };\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        this.getitemPath = { ...this.getitemPath, [item.id]: clickedItem.itemHierarchicalIndex }\r\n\r\n\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n\r\n                            <span className='d-flex align-items-center'>\r\n                                {this.pointedItem ? (item.id === this.pointedItem.id) && !item.selected ?\r\n                                    <>\r\n                                        <input type=\"text\" className='hidden-treeview-focus' id='selected-tree-point' />\r\n                                    </> :\r\n                                    <></> : ''\r\n                                }\r\n                                <span className={`normal-node text-truncate\r\n                                ${this.pointedItem ? (item.id === this.pointedItem.id) && !item.selected ? \"pointed-node\" : item.selected ? \"active-node\" : \"\" :\r\n                                        item.selected ? \"active-node\" : \"\"}\r\n                                ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                                `} data-tip={item.text}>\r\n                                    {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                        item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                            item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                                item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                    {item.text}\r\n                                </span>\r\n                                {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                                {this.pointedItem && item.id === this.pointedItem.id ?\r\n                                    <FontAwesomeIcon icon={faHandPointLeft} bounce\r\n                                    />\r\n                                    :\r\n                                    clickedItem.item.editable ?\r\n                                        (\r\n                                            <>\r\n                                                {/* <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>  */}\r\n                                            </>\r\n                                        )\r\n                                        : null\r\n                                }\r\n                                {/* </ul> */}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })             \r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if (this.pointedItem) {\r\n                        if (this.pointedItem.id === item.id) {\r\n                            this.pointedItem = undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices =\r\n                        event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            searchedData.map((data) => {\r\n                this.clearSelected(data, event.item)\r\n            })\r\n        }\r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeDataView;\r\n                const indices =\r\n                    event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeDataView: newData, searchedTreeData: searchedData });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n\r\n        let clickedItem = event.item\r\n        if (!event.item.expanded) {\r\n            //this.onItemClick(event)\r\n            let ParentItem = this.searchClickedItemParent(this.state.searchedTreeData &&\r\n                this.state.searchedTreeData[0] || this.state.treeDataView[0], clickedItem)\r\n            if (ParentItem) {\r\n                ParentItem.items.map(item => {\r\n                    item.expanded = false;\r\n                });\r\n            }\r\n            this.shrinkNodes(event.item);\r\n        }\r\n\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        //this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\r\n        this.openPropertyModal(clickedItem, editId);\r\n\r\n    };\r\n\r\n    openPropertyModal(clickedItem, editId) {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"locationlastnode\"] = clickedItem.item.locationlastnode === undefined ? false :\r\n            clickedItem.item.locationlastnode;\r\n        selectedRecord[\"containerfirstnode\"] = clickedItem.item.containerfirstnode === undefined ? false :\r\n            clickedItem.item.containerfirstnode;\r\n        selectedRecord[\"containerlastnode\"] = clickedItem.item.containerlastnode === undefined ? false :\r\n            clickedItem.item.containerlastnode;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord, loadTreeProperties: true,\r\n                clickedItem, loading: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.id === clickedItem.id) {\r\n                    item.text = e.target.value;\r\n                }\r\n                return item;\r\n            });\r\n        }\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData, searchedTreeData: searchedData });\r\n    };\r\n    //generate Path for edited item \r\n    generatePathForEditedItem(ParentItem, indices) {\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i];\r\n                    let result = this.state.treeData;\r\n                    indices.push(i);\r\n                    let itemText = \"\";\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    childData.itemhierarchy = itemText;\r\n\r\n                    if (childData.items) {\r\n                        this.generatePathForEditedItem(childData, indices)\r\n                    }\r\n                    indices.pop();\r\n                }\r\n            }\r\n        } else {\r\n            let result = this.state.treeData;\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length; i++) {\r\n                if (i === 0) {\r\n                    result = result[0];\r\n                } else {\r\n                    result = result.items[indices[i]];\r\n                }\r\n                itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n            }\r\n            ParentItem.itemhierarchy = itemText;\r\n        }\r\n    }\r\n\r\n    handleBlur = (e, clickedItem, itemHierarchicalIndex) => {\r\n        clickedItem.editable = false;\r\n        //Added for creating path after edit \r\n        const indices = itemHierarchicalIndex.split('_').map(index => Number(index));\r\n        this.generatePathForEditedItem(clickedItem, indices);\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if(this.props.Login.operation ===\"create\" || this.props.Login.operation ===\"update\"){\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        } else if(this.props.Login.operation === \"addinfo\"){\r\n            this.onSaveAdditionalInformation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        // if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\r\n        if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n            let inputData = [];\r\n            let jsondata = {}\r\n            let postParam = undefined;\r\n            let count = 0;\r\n            if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (count > 1) {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n            } else {\r\n                let haschild=false;\r\n                let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                    if (item.id === this.props.Login.clickedItem.item.id) {\r\n                        if(item.hasOwnProperty('items')&&item.items!==undefined&&selectedRecord[\"containerlastnode\"]===true){\r\n                            haschild=true;\r\n                        }else{\r\n                            item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                            item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                            item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                        } \r\n                    }\r\n                    if (item.selected && item.selected === true) {\r\n                        item.selected = false;\r\n                    }\r\n                    return item;\r\n                });\r\n                if(haschild===true){\r\n                    toast.info( this.props.intl.formatMessage({ id:  \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\" })\r\n                   \r\n                    );\r\n                }else{\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            treeData: newData,\r\n                            selectedRecord, loadTreeProperties: false,\r\n                            loading: false\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo)\r\n                } \r\n            }\r\n        }\r\n        // } else {\r\n        //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        // }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            item.expanded = false;\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n\r\n\r\n            if(this.props.Login.operation === \"create\"){\r\n                 inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? \r\n                                                                      selectedRecord[\"nproductcode\"].value    : -1;\r\n                inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ?\r\n                                                                         selectedRecord[\"nprojecttypecode\"].value : -1;\r\n                inputData[\"sampleStorageLocation\"][\"nquantity\"]= selectedRecord['nquantity'] ?parseInt(selectedRecord['nquantity']) : 0;\r\n                inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord['nunitcode'] ? parseInt(selectedRecord['nunitcode']) : -1;\r\n\r\n                inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"]  ? 3 : 4;\r\n                inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ?\r\n                    {\r\n                        ...inputData[\"sampleStorageLocation\"],\r\n                        ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\r\n                        ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\r\n                        nneedposition: 3,\r\n                        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?  parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        nrow:selectedRecord['nrow'] ,\r\n                        ncolumn: selectedRecord['ncolumn']\r\n\r\n                    } : {\r\n                        ...inputData[\"sampleStorageLocation\"],\r\n                        ncontainertypecode: -1,\r\n                        ndirectionmastercode: 1,\r\n                        nneedposition: 4,\r\n                        ncontainerstructurecode: -1, nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        //ALPD-3353\r\n                        nrow:selectedRecord['nrow']===undefined || selectedRecord['nrow']===0 ?1 :selectedRecord['nrow'] ,\r\n                        ncolumn: selectedRecord['ncolumn']===undefined || selectedRecord['ncolumn']===0 ?1:selectedRecord['ncolumn']\r\n                    }\r\n\r\n            }\r\n\r\n\r\n           \r\n           \r\n\r\n     //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"]={\r\n                ...jsondata\r\n                }\r\n    //ALPD-4734-Vignesh R(28-10-2024)--storage structure-->while edit the record, Feilds became empty.\r\n\r\n                if(this.props.Login.operation === \"create\"){\r\n                    inputData[\"sampleStorageVersion\"][\"jsondata\"]={\r\n                        ...inputData[\"sampleStorageVersion\"][\"jsondata\"],\r\n                        \"additionalinfo\":{\r\n                            ...inputData[\"sampleStorageLocation\"],\r\n                            \"sstoragecategoryname\":this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname? this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname:'NA',\r\n\r\n                            }\r\n                    }\r\n                }\r\n               else if(this.props.Login.operation === \"update\"){\r\n                    inputData[\"sampleStorageVersion\"][\"jsondata\"]={\r\n                       ...inputData[\"sampleStorageVersion\"][\"jsondata\"],\r\n                        \"additionalinfo\":{\r\n                           ...this.props.Login.masterData.selectedSampleStorageVersion,\r\n                           ...inputData[\"sampleStorageLocation\"],\r\n                           \"nstoragecategorycode\":selectedRecord[\"nstoragecategorycode\"]? selectedRecord[\"nstoragecategorycode\"].value:-1,\r\n                           \"sstoragecategoryname\":selectedRecord[\"nstoragecategorycode\"]? selectedRecord[\"nstoragecategorycode\"].label:'NA',\r\n\r\n                            }\r\n                }\r\n            }\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,searchRef: this.searchRef,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n\r\n                postParam = {\r\n                    inputListName: \"sampleStorageLocation\",\r\n                    selectedObject: \"selectedSampleStorageLocation\",\r\n                    primaryKeyField: \"nsamplestoragelocationcode\"\r\n                };\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                // inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"].value\r\n                // inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"].value\r\n\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,searchRef: this.searchRef,postParam,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    onSaveAdditionalInformation = (saveType, formRef) => {\r\n        let postParam = undefined;\r\n        postParam = {\r\n            inputListName: \"sampleStorageLocation\",\r\n            selectedObject: \"selectedSampleStorageLocation\",\r\n            primaryKeyField: \"nsamplestoragelocationcode\"\r\n        };\r\n        const { selectedRecord } = this.state;\r\n        let inputData = [];\r\n        let jsondata={};\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ? selectedRecord[\"nprojecttypecode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord[\"nunitcode\"] && selectedRecord[\"nunitcode\"].value ? selectedRecord[\"nunitcode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nquantity\"] = selectedRecord[\"nquantity\"] && selectedRecord[\"nquantity\"] ? parseFloat(selectedRecord[\"nquantity\"]) : 0;\r\n        inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? selectedRecord[\"nproductcode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"] ? 3 : 4;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] =this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode? this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode:0;\r\n      \r\n       \r\n\r\n        \r\n\r\n       \r\n\r\n        inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ?\r\n                {\r\n                    ...inputData[\"sampleStorageLocation\"],\r\n                    ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\r\n                    ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\r\n                    nneedposition: 3,\r\n                    ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\r\n                    // nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 1,\r\n                    nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                    nrow:selectedRecord['nrow'] ,\r\n\t\t\t\t\tncolumn: selectedRecord['ncolumn']\r\n\r\n                } : {\r\n                    ...inputData[\"sampleStorageLocation\"],\r\n                    ncontainertypecode: -1,\r\n                    ndirectionmastercode: 1,\r\n                    nneedposition: 4,\r\n                    ncontainerstructurecode: -1,\r\n                    // nquantity: selectedRecord['nquantity'] ?  parseInt(selectedRecord['nquantity']) : 1,\r\n                     nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                    nrow:selectedRecord['nrow'] ,\r\n                    ncolumn: selectedRecord['ncolumn']\r\n                }\r\n     //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\r\n                jsondata= { ...inputData[\"sampleStorageLocation\"],\r\n                    \"sproductname\":selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].label ? \r\n                    selectedRecord[\"nproductcode\"].label : \"-\",\r\n                    \"sprojecttypename\":selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].label ?\r\n                                                                         selectedRecord[\"nprojecttypecode\"].label : 'NA',\r\n                   \"scontainertype\": selectedRecord['ncontainertypecode']&& selectedRecord[\"ncontainertypecode\"].label ?\r\n                                                                         selectedRecord[\"ncontainertypecode\"].label : 'NA',\r\n                    \"sdirection\": selectedRecord['ndirectionmastercode']&& selectedRecord[\"ndirectionmastercode\"].label ?\r\n                                                                         selectedRecord[\"ndirectionmastercode\"].label : 'NA' ,\r\n                     \"scontainerstructurename\": selectedRecord['ncontainerstructurecode']&& selectedRecord[\"ncontainerstructurecode\"].label ?\r\n                      selectedRecord[\"ncontainerstructurecode\"].label : 'NA' ,\r\n                      \"sstoragecategoryname\":this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname? this.props.Login.masterData.selectedStorageCategory.sstoragecategoryname:'NA',\r\n                      \"sunitname\":selectedRecord[\"nunitcode\"] && selectedRecord[\"nunitcode\"].label ? selectedRecord[\"nunitcode\"].label : \"NA\"  }\r\n\r\n                inputData[\"sampleStorageVersion\"][\"jsondata\"]= jsondata;\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,searchRef: this.searchRef,postParam,\r\n                    operation: \"addinfo\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n\r\n            \r\n        \r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        // if (this.searchRef.current) {\r\n        //     this.searchRef.current.value = \"\";\r\n        // }\r\n\r\n        const postParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\",\r\n            primaryKeyField: \"nsamplestoragelocationcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: {\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            unchangeList:[]\r\n            }\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,postParam,\r\n            operation: \"delete\",//searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.props.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    calculateRowColumn = (Row, column) => {\r\n        let nnoofcontainer = Row * column;\r\n        return nnoofcontainer;\r\n    }\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nnoofcontainer: selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(containerStructureOptions[0].item.nrow,\r\n                        containerStructureOptions[0].item.ncolumn) : 1,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            if (this.searchRef.current) {\r\n                this.searchRef.current.value = \"\";\r\n            }\r\n\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            if (fieldName === 'nstoragecategorycode') {\r\n                this.getSampleStorageLocation({\r\n                    userinfo: this.props.userInfo,\r\n                    nstoragecategorycode: comboData.value\r\n                }, fieldName, comboData);\r\n            } else if (fieldName === 'ncontainertypecode') {\r\n                this.getContainerStructure({\r\n                    userinfo: this.props.userInfo,\r\n                    ncontainertypecode: comboData.value\r\n                }, fieldName, comboData);\r\n\r\n            } else if (fieldName === 'ncontainerstructurecode') {\r\n                selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n                selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n                selectedRecord['nnoofcontainer'] = selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(selectedRecord['nrow'],\r\n                    selectedRecord['ncolumn']) : 1\r\n\r\n            } else if (fieldName === 'nsamplestoragelocationcode') {\r\n                this.getSampleStorageLocation({\r\n                    userinfo: this.props.userInfo,\r\n                    nstoragecategorycode: this.props.selectedRecordFilter['nstoragecategorycode'].value,\r\n                    nsamplestoragelocationcode: comboData.value\r\n\r\n                }, fieldName, comboData);\r\n            }\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        // if (this.searchRef.current) {\r\n        //     this.searchRef.current.value = \"\";\r\n        // }\r\n\r\n        const postParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\",\r\n            primaryKeyField: \"nsamplestoragelocationcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: {\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n        }\r\n\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        let containers = [];\r\n        let containerpath = [];\r\n        let containerlastnode = [];\r\n        mapTree(this.state.treeDataView\r\n            //this.state.treeData\r\n            , \"items\", (item) => {\r\n                if (item.locationlastnode === true) {\r\n                    locationEnd = true;\r\n                }\r\n                if (item.containerfirstnode === true) {\r\n                    storageStart = true;\r\n                    containers.push({ itemHierarchy: item.itemhierarchy, scontainercode: item.id });\r\n                }\r\n                if (item.containerlastnode === true) {\r\n                    storageEnd = true;\r\n                    containerpath.push({scontainerpath:item.itemhierarchy});\r\n                    containerlastnode.push(item.text);\r\n                }\r\n                return null;\r\n            });\r\n        // if (locationEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageStart === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n        //     return;\r\n        // }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"containers\"] = containers;\r\n        inputData[\"containerpath\"] = JSON.stringify(containerpath);\r\n        inputData[\"containerpathsize\"] = containerpath.length;\r\n        inputData[\"containerlastnode\"] = JSON.stringify(containerlastnode);\r\n        inputData[\"propertyValidation\"] = { \"locationEnd\": locationEnd, \"storageStart\": storageStart, \"storageEnd\": storageEnd };\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        inputData[\"selectedSampleStorageLocation\"] = masterData.selectedSampleStorageLocation;\r\n\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\",postParam,searchRef:this.searchRef,\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    viewAdditionalInfo = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                isView: true,\r\n                openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    additionalInformation=(selectedSampleStorageVersion,userInfo,addInfoId) => {\r\n\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        // if (this.searchRef.current) {\r\n        //     this.searchRef.current.value = \"\";\r\n        // }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.additionalInformationData(selectedSampleStorageVersion, userInfo, isOnlyDraft, addInfoId);\r\n\r\n    }\r\n\r\n\r\n    importdata = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: 'IDS_IMPORT',\r\n                openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        // if (this.searchRef.current) {\r\n        //     this.searchRef.current.value = \"\";\r\n        // }\r\n        let postParam = undefined;\r\n         postParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\",\r\n            primaryKeyField: \"nsamplestoragelocationcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"],\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: {\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n        }\r\n        let inputData = [];\r\n        let jsondata=[];\r\n        const masterData = this.props.Login.masterData;\r\n        let selectedRecord=this.state.selectedRecord;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n      \r\n\t     //ALPD-4493-Vignesh R(20-07-2024)--storage structure->approved records also edited after copy the version.\r\n        jsondata={\r\n            \"nprojecttypecode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nprojecttypecode ||-1,\r\n           \"nquantity\": masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nquantity? parseFloat(masterData.selectedSampleStorageLocation.nquantity):0 ||0,\r\n           \"nunitcode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nunitcode ||-1,\r\n           \"nproductcode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nproductcode ||-1,\r\n           \"nneedautomapping\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nneedautomapping ||-1,\r\n           \"nstoragecategorycode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nstoragecategorycode ||-1,\r\n           \"ncontainertypecode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncontainertypecode ||-1,\r\n           \"nneedposition\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nneedposition ||-1,\r\n           \"ndirectionmastercode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ndirectionmastercode ||-1,\r\n           \"ncontainerstructurecode\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncontainerstructurecode ||-1,\r\n           \"nrow\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nrow ||-1,\r\n           \"ncolumn\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.ncolumn ||-1,\r\n           \"nnoofcontainer\" :  masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.nnoofcontainer ||-1,\r\n           \"sprojecttypename\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sprojecttypename ||'NA',\r\n           \"sproductname\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sproductname ||'NA',\r\n           \"scontainertype\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.scontainertype ||'NA',\r\n           \"sdirection\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sdirection ||'NA',\r\n           \"scontainerstructurename\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.scontainerstructurename ||'NA',\r\n           \"sstoragecategoryname\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sstoragecategoryname ||'NA',\r\n           \"sunitname\" : masterData.selectedSampleStorageVersion && masterData.selectedSampleStorageVersion.sunitname ||'NA',\r\n\r\n        \r\n        }\r\n        inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",postParam,searchRef:this.searchRef,\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n       \r\n        // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        let nfilterStorageCategory = this.props.Login.masterData.selectedStorageCategory && this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onNumericInputChange = (value, field) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let constantvalue = value.target.value ;\r\n        // Added by reukshana for restricting negative symbol \r\n        // ALPD-5172 Sample storage mapping screen -> While saving sample storage mapping 500 error is occurring in specific scenario.\r\n        let regAllow = /^-\\d+(\\.\\d+)?$/;\r\n        if (!regAllow.test(constantvalue)) {\r\n            if (field === 'nnoofcontainer') {\r\n                if (constantvalue !== 0) {\r\n                    selectedRecord['nrow'] = 1;\r\n                    selectedRecord['ncolumn'] = constantvalue;\r\n                } else {\r\n                    selectedRecord['nrow'] && delete selectedRecord['nrow'];\r\n                    selectedRecord['ncolumn'] && delete selectedRecord['ncolumn']\r\n                }\r\n            }\r\n            \r\n            if (!isNaN(constantvalue)) {\r\n                selectedRecord[field] = constantvalue;\r\n                this.setState({ selectedRecord });\r\n               }\r\n             \r\n            }\r\n        }\r\n\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        // if (this.searchRef.current) {\r\n        //     this.searchRef.current.value = \"\";\r\n        // }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageStructure\") && this.state.controlMap.get(\"Add SampleStorageStructure\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageStructure\") && this.state.controlMap.get(\"Edit SampleStorageStructure\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageStructure\") && this.state.controlMap.get(\"Delete SampleStorageStructure\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageStructure\") && this.state.controlMap.get(\"Copy SampleStorageStructure\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageStructure\") && this.state.controlMap.get(\"Approve SampleStorageStructure\").ncontrolcode;\r\n        const addInfoId = this.state.controlMap.has(\"AdditionalInformation\") && this.state.controlMap.get(\"AdditionalInformation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData, searchRef:this.searchRef,\r\n            searchFieldList: [\"ssamplestoragelocationname\"],\r\n        };\r\n        const infoFields = [\r\n            { \"dataField\": \"sstoragecategoryname\", \"idsName\": \"IDS_STORAGECATEGORY\" },\r\n            { \"dataField\": \"ssamplestoragelocationname\", \"idsName\": \"IDS_STORAGESTRUCTURENAME\" },\r\n            { \"dataField\": \"sprojecttypename\", \"idsName\": \"IDS_PROJECT\" },\r\n            { \"dataField\": \"sproductname\", \"idsName\": \"IDS_PRODUCT\" }, \r\n            { \"dataField\": \"nquantity\", \"idsName\": \"IDS_QUANTITY\" },\r\n            { \"dataField\": \"sunitname\", \"idsName\": \"IDS_UNIT\" },\r\n            { \"dataField\": \"scontainertype\", \"idsName\": \"IDS_CONTAINERTYPE\" },\r\n            { \"dataField\": \"scontainerstructurename\", \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\" },\r\n            { \"dataField\": \"nnoofcontainer\", \"idsName\": \"IDS_NOOFSAMPLECONTAINER\" },\r\n            { \"dataField\": \"sdirection\", \"idsName\": \"IDS_DIRECTION\" },\r\n            { \"dataField\": \"nrow\", \"idsName\": \"IDS_ROWS\" },\r\n            { \"dataField\": \"ncolumn\", \"idsName\": \"IDS_COLUMNS\" },  \r\n            { \"dataField\": \"sneedautomapping\", \"idsName\": \"IDS_AUTOMAPPING\" }];\r\n\r\n        // const mandatoryFields =\r\n        //     this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n        //         this.state.selectedRecord[\"nneedposition\"] === false ?\r\n        //         [\r\n        //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // {\r\n        //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n        //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n        //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             // }\r\n        //         ]\r\n        //         : [\r\n\r\n        //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // {\r\n        //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n        //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n        //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             // },  \r\n        //             {\r\n        //                 \"idsName\": \"IDS_CONTAINERTYPE\",\r\n        //                 \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n        //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n        //             },\r\n        //             {\r\n        //                 \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n        //                 \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n        //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n        //             },\r\n        //             {\r\n        //                 \"idsName\": \"IDS_DIRECTION\",\r\n        //                 \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n        //                     \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             }\r\n        //         ]\r\n\r\n\r\n\r\n\r\n            const mandatoryFields =\r\n              this.state.selectedRecord[\"nneedposition\"] === undefined ||  this.state.selectedRecord[\"nneedposition\"] === false && this.props.Login.operation !==\"addinfo\" ?\r\n                [\r\n                    { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                ] : this.props.Login.operation ===\"create\" ? [                    \r\n                    { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                ] : this.props.Login.operation ===\"addinfo\" && this.state.selectedRecord[\"nneedposition\"] !== undefined&& this.state.selectedRecord[\"nneedposition\"] === true   ? [ \r\n                    { \"idsName\": \"IDS_CONTAINERTYPE\",\"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n                    { \"idsName\": \"IDS_DIRECTION\",\"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"selectbox\" }\r\n\r\n                ] :\"\"\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMasterJsonView\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={this.props.Login.masterData.selectedSampleStorageLocation &&\r\n                                        [this.props.Login.masterData.selectedSampleStorageLocation]||[]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) =>\r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_STORAGESTRUCTURE\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                    <RefreshIcon className='custom_icons'/>\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMasterJsonView\r\n                                                    masterList={ //this.props.Login.masterData.searchedData ||\r\n                                                        this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion &&\r\n                                                        [this.props.Login.masterData.selectedSampleStorageVersion]||[]}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master \">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2 pl-0\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm mr-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <>    <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                    {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                        //hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                        // data-for=\"tooltip_list_wrap\"\r\n                                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_IMPORT\" })}\r\n                                                                                        onClick={(e) => this.importdata(copyId)}\r\n                                                                                    >\r\n                                                                                        <FontAwesomeIcon icon={faFileImport} />\r\n\r\n                                                                                    </Nav.Link> */}\r\n\r\n                                                                                </>\r\n\r\n                                                                            } \r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(addInfoId) === -1}\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDITIONALINFO\" })}\r\n                                                                                onClick={(e) => this.additionalInformation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, addInfoId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faInfoCircle} />\r\n                                                                            </Nav.Link>                                                                            \r\n\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEW\" })}\r\n                                                                                onClick={(e) => this.viewAdditionalInfo(copyId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faEye} />\r\n                                                                            </Nav.Link>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body >\r\n                                                                <Col md={12}>\r\n\r\n                                                                    <div className={`list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`}>\r\n                                                                        <SearchIcon className=\"search-icon\" onClick={this.toggleSearch}>\r\n                                                                            <FontAwesomeIcon icon={faSearch} />\r\n                                                                        </SearchIcon>\r\n                                                                        <FormControl // ref={this.searchRef}\r\n                                                                         autoComplete=\"off\"\r\n                                                                            className='k-textbox' onChange={this.handleSearch}\r\n                                                                            placeholder={`${this.props.intl.formatMessage({ id: \"IDS_FILTER\" })}`}\r\n                                                                            name={\"search\"} onKeyUp={(e) => this.handlenavigation(e, 'down')}\r\n                                                                        />\r\n                                                                        {!this.props.showSearch ?\r\n                                                                            <>\r\n                                                                                <span className='search-up-down'>\r\n                                                                                    <FontAwesomeIcon icon={faChevronUp} onClick={(e) => this.handlenavigation(e, 'up')} />\r\n                                                                                    <FontAwesomeIcon icon={faChevronDown} onClick={(e) => this.handlenavigation(e, 'down')} />\r\n                                                                                    {/* <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'down')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowDown} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button>\r\n\r\n                                                                                                <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEUP\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'up')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowUp} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button> */}\r\n                                                                                </span>\r\n                                                                            </>\r\n                                                                            : \"\"}\r\n                                                                        {this.props.showSearch ?\r\n                                                                            <SearchIcon className=\"close-right-icon\" onClick={this.toggleSearch}>\r\n                                                                                <FontAwesomeIcon icon={faTimes} />\r\n                                                                            </SearchIcon>\r\n                                                                            : \"\"}\r\n                                                                    </div>\r\n                                                                    <div className='tree-view-container'>\r\n                                                                        <TreeViewEditable\r\n                                                                            id=\"samplestoragelocation\"\r\n                                                                            name=\"samplestoragelocation\"\r\n                                                                            // label=\"Sample Storage Location\"\r\n                                                                            data={this.state.searchedTreeData || this.state.treeDataView}\r\n                                                                            expandIcons={true}\r\n                                                                            selectField={'active-node'}\r\n                                                                            item={this.itemRenderView}\r\n                                                                            onExpandChange={this.onExpandChangeView}\r\n                                                                            onItemClick={this.onItemClickView}\r\n                                                                        />\r\n                                                                    </div>\r\n                                                                </Col>\r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {<ModalShow\r\n                    modalShow={this.props.Login.loadTreeProperties}\r\n                    modalTitle={this.props.intl.formatMessage({ id: \"IDS_STORAGESTRUCTURE\" })}\r\n                    closeModal={this.closeModalShow}\r\n                    onSaveClick={this.onSaveClick}\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    modalBody={\r\n                        <AddTreeProperties\r\n                            onInputChange={(e) => this.onInputChange(e)}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                    }\r\n                />}\r\n\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        hideSave={this.props.Login.isView}\r\n                        operation={this.props.Login.isView ? \"\" : this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.isView ? this.props.intl.formatMessage({ id: \"IDS_VIEW\" }) :\r\n                            this.props.Login.operation ===\"addinfo\" ? \"\" :\r\n                            this.props.intl.formatMessage({ id: \"IDS_STORAGESTRUCTURE\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={\r\n                            this.props.Login.isView ?\r\n                                <>\r\n\r\n                                    <Row>\r\n                                        {\r\n                                            infoFields.map((item, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        <Col md={6} >\r\n                                                            <FormGroup>\r\n                                                                <FormLabel>{this.props.intl.formatMessage({ id: item.idsName })}</FormLabel>\r\n                                                                <ReadOnlyText>{this.props.Login.masterData.selectedSampleStorageVersion[item.dataField] ?\r\n                                                                    this.props.Login.masterData.selectedSampleStorageVersion[item.dataField] : '-'\r\n                                                                }</ReadOnlyText>\r\n                                                            </FormGroup>\r\n                                                        </Col>\r\n                                                    </>\r\n                                                )\r\n                                            })}\r\n                                    </Row>\r\n                                </>\r\n                                :\r\n                                this.props.Login.screenName === 'IDS_IMPORT'\r\n                                    ? <>\r\n                                        {/* <Upload\r\n                                        batch={false}\r\n                                        multiple={false}\r\n                                        defaultFiles={[]}\r\n                                        withCredentials={false}\r\n                                        autoUpload={false}\r\n                                        onAdd={this.handleAdd}\r\n                                    /> */}\r\n                                        <hr />\r\n                                        {/* <Grid data={this.state.data} key={this.state.data} /> */}\r\n                                    </> :\r\n                                    this.props.Login.loadEsign ?\r\n                                        <Esign operation={this.props.Login.operation}\r\n                                            formatMessage={this.props.intl.formatMessage}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            inputParam={this.props.Login.inputParam}\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                        />\r\n                                        :\r\n                                        // this.props.Login.loadTreeProperties ? (\r\n                                        //     <AddTreeProperties\r\n                                        //         onInputChange={(e) => this.onInputChange(e)}\r\n                                        //         selectedRecord={this.state.selectedRecord || {}}\r\n                                        //     />\r\n                                        // ) \r\n                                       // :\r\n                                         this.state.treeData ? (\r\n                                            <>\r\n                                                <div>\r\n                                                    {/* <input className='k-textbox' onChange={this.handleSearch}/>\r\n                                <hr /> */}\r\n                                                    <AddTreeview\r\n                                                        clearSearchedState={this.clearSearchedState}\r\n                                                        toggleSearch={this.toggleSearch}\r\n                                                        handleSearch={this.handleSearch}\r\n                                                        handlenavigation={this.handlenavigation}\r\n                                                        showSearch={this.state.showSearch}\r\n                                                        treeData={//this.state.searchedTreeData||\r\n                                                            this.state.treeData}\r\n                                                        onInputChange={(e) => this.onInputChange(e)}\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        itemRender={this.itemRender}\r\n                                                        onExpandChange={this.onExpandChange}\r\n                                                        onItemClick={this.onItemClick}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onItemDragOver={this.onItemDragOver}\r\n                                                        onItemDragEnd={this.onItemDragEnd}\r\n                                                        onNumericInputChange={this.onNumericInputChange}\r\n                                                        operation ={this.props.Login.operation}\r\n                                                        storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                                        projectTypeMapList={this.props.Login.projectTypeMapList || []}\r\n                                                        sampleTypeList={this.props.Login.sampleTypeList || []}\r\n                                                        isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                                        unitMapList={this.props.Login.unitMapList}\r\n                                                    />\r\n                                                </div></>\r\n                                        ) :\"\"\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterTransactionList, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation,additionalInformationData\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}