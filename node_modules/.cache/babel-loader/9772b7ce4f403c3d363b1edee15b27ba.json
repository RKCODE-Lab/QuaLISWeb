{"ast":null,"code":"import { transactionStatus } from \"../../../components/Enumeration\";\nexport function onSaveTestComments(saveParam, selectedMaster) {\n  const inputData = {};\n  const selectedRecord = saveParam.selectedRecord;\n  let commentArray = [];\n\n  if (saveParam.operation === 'update') {\n    let comment = {};\n    comment['ntestcommentcode'] = selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0;\n    comment[\"npreregno\"] = selectedRecord.npreregno;\n    comment[\"ntransactionsamplecode\"] = selectedRecord.ntransactionsamplecode;\n    comment[\"ntransactiontestcode\"] = selectedRecord.ntransactiontestcode;\n    comment['nformcode'] = saveParam.userInfo.nformcode;\n    comment['nusercode'] = saveParam.userInfo.nusercode;\n    comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n    comment[\"jsondata\"] = {\n      stestsynonym: selectedRecord.jsondata.stestsynonym,\n      scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n    };\n    comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n    comment['nstatus'] = transactionStatus.ACTIVE;\n    inputData[\"testcomment\"] = comment;\n  } else {\n    selectedMaster.forEach(test => {\n      let comment = {};\n      comment['ntestcommentcode'] = selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0;\n      comment[\"npreregno\"] = test.npreregno;\n      comment[\"ntransactionsamplecode\"] = test.ntransactionsamplecode;\n      comment[\"ntransactiontestcode\"] = test.ntransactiontestcode;\n      comment['nformcode'] = saveParam.userInfo.nformcode;\n      comment['nusercode'] = saveParam.userInfo.nusercode;\n      comment['nuserrolecode'] = saveParam.userInfo.nuserrole;\n      comment[\"jsondata\"] = {\n        stestsynonym: test.jsondata.stestsynonym,\n        scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\n      };\n      comment[\"nsamplecommentscode\"] = saveParam.isTestComment && selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\n      comment['nstatus'] = transactionStatus.ACTIVE;\n      commentArray.push(comment);\n    });\n    inputData[\"testcomment\"] = commentArray;\n  }\n\n  inputData[\"ntransactiontestcode\"] = saveParam.ntransactiontestcode;\n  const inputParam = {\n    inputData: {\n      userinfo: saveParam.userInfo,\n      ...inputData\n    },\n    operation: saveParam.operation,\n    selectedId: selectedRecord.ntestcommentcode ? selectedRecord.ntestcommentcode : 0,\n    classUrl: \"comments\",\n    saveType: saveParam.saveType,\n    formRef: saveParam.formRef,\n    methodUrl: \"TestComment\"\n  };\n  return inputParam;\n}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/attachmentscomments/comments/CommentFunctions.js"],"names":["transactionStatus","onSaveTestComments","saveParam","selectedMaster","inputData","selectedRecord","commentArray","operation","comment","ntestcommentcode","npreregno","ntransactionsamplecode","ntransactiontestcode","userInfo","nformcode","nusercode","nuserrole","stestsynonym","jsondata","scomments","trim","isTestComment","nsamplecommentscode","value","ACTIVE","forEach","test","push","inputParam","userinfo","selectedId","classUrl","saveType","formRef","methodUrl"],"mappings":"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","sourcesContent":["\r\nimport {  transactionStatus } from \"../../../components/Enumeration\";\r\n\r\nexport function onSaveTestComments(saveParam,selectedMaster){\r\n\r\n    const inputData = {};\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    let commentArray = [];\r\n    \r\n    if(saveParam.operation==='update'){\r\n        let comment = {};\r\n        comment['ntestcommentcode']=selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0;\r\n        comment[\"npreregno\"]=selectedRecord.npreregno;\r\n        comment[\"ntransactionsamplecode\"]=selectedRecord.ntransactionsamplecode;\r\n        comment[\"ntransactiontestcode\"]=selectedRecord.ntransactiontestcode;\r\n        comment['nformcode']=saveParam.userInfo.nformcode\r\n        comment['nusercode']=saveParam.userInfo.nusercode\r\n        comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n        comment[\"jsondata\"] = {\r\n            stestsynonym :  selectedRecord.jsondata.stestsynonym,\r\n            scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n        }\r\n        comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n        comment['nstatus']=transactionStatus.ACTIVE;\r\n        inputData[\"testcomment\"]= comment;\r\n    }else{\r\n        selectedMaster.forEach(test=>{\r\n            let comment = {};\r\n            comment['ntestcommentcode']=selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0;\r\n            comment[\"npreregno\"]=test.npreregno;\r\n            comment[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;\r\n            comment[\"ntransactiontestcode\"]=test.ntransactiontestcode;\r\n            comment['nformcode']=saveParam.userInfo.nformcode\r\n            comment['nusercode']=saveParam.userInfo.nusercode\r\n            comment['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            comment[\"jsondata\"] = {\r\n                stestsynonym :  test.jsondata.stestsynonym,\r\n                scomments: selectedRecord.scomments ? selectedRecord.scomments.trim() : \"\"\r\n            }\r\n            comment[\"nsamplecommentscode\"] = saveParam.isTestComment&&selectedRecord.nsamplecommentscode? selectedRecord.nsamplecommentscode.value: -1;\r\n            comment['nstatus']=transactionStatus.ACTIVE;\r\n            commentArray.push(comment);\r\n        })  \r\n        inputData[\"testcomment\"]= commentArray;\r\n    }\r\n    \r\n   \r\n    \r\n    inputData[\"ntransactiontestcode\"]=saveParam.ntransactiontestcode\r\n    const inputParam = {\r\n        inputData: {userinfo: saveParam.userInfo,...inputData},\r\n        operation: saveParam.operation, selectedId:selectedRecord.ntestcommentcode ?selectedRecord.ntestcommentcode: 0,\r\n        classUrl: \"comments\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"TestComment\"\r\n    }\r\n    return inputParam;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}