{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';//import Axios from 'axios';\nimport{initRequest}from'./LoginAction';import{sortData}from'../components/CommonScript';//, constructOptionList\nimport{intl}from'../components/App';export function getAuditTrailDetail(inputData){return function(dispatch){var inputParamData={userinfo:inputData.userinfo,fromDate:inputData.fromDate,toDate:inputData.toDate,modulecode:inputData.moduleCode,formcode:inputData.formCode,usercode:inputData.userCode,userrole:inputData.userRole,viewtypecode:inputData.viewTypeCode,saudittraildate:inputData.saudittraildate};dispatch(initRequest(true));return rsapi.post(\"audittrail/getAuditTrailDetail\",inputParamData).then(function(response){console.log(new Date());var masterData=_objectSpread(_objectSpread({},inputData.masterData),response.data);//  sortData(masterData);     \ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,skip:inputData.skip,take:inputData.take}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getFilterAuditTrailRecords(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"audittrail/getFilterAuditTrailRecords\",_objectSpread({},inputData.inputData)).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{ViewType:inputData.masterData.breadCrumbViewType.item});// sortData(masterData);\n// dispatch({\n//     type: DEFAULT_RETURN, payload: {\n//         masterData,\n//         loading: false,\n//         showFilter: false\n//     }\n// })\nif(inputData.searchRef!==undefined&&inputData.searchRef.current!==null){inputData.searchRef.current.value=\"\";masterData['searchedAudit']=undefined;}var resetDataGridPage=false;if(masterData.AuditDetails&&masterData.AuditDetails.length<inputData.detailSkip){resetDataGridPage=true;}else{resetDataGridPage=false;}var respObject={masterData:masterData,loading:false,showFilter:false,resetDataGridPage:resetDataGridPage};// dispatch(postCRUDOrganiseTransSearch(inputData.inputData.postParamList, respObject))\ndispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{skip:0,take:20})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getFormNameByModule(inputData,selectedRecord){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"audittrail/getFormNameByModule\",_objectSpread({},inputData.inputData)).then(function(response){var masterData=_objectSpread(_objectSpread({},inputData.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,selectedRecord:selectedRecord,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getExportExcel(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"audittrail/getexportdata\",_objectSpread({},inputData.inputData)).then(function(response){//sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{resultStatus:response.data[\"ExportExcel\"]||'',loading:false}});if(response.data[\"ExportExcel\"]===\"Success\"){document.getElementById(\"download_data\").setAttribute(\"href\",response.data[\"ExportExcelPath\"]);document.getElementById(\"download_data\").click();}else{toast.warn(response.data[\"ExportExcel\"]);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function ViewAuditDetails(masterData,userInfo,viewdetails,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"audittrail/getAuditTrailDetails\",{nauditcode:viewdetails.nauditcode,userinfo:userInfo}).then(function(response){//  masterData = {\n//     ...masterData,\n//     ...response.data\n// }\nmasterData['AuditModifiedComments']=[];masterData['AuditModifiedComments']=response.data['AuditModifiedComments'];//sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:{auditAction:viewdetails['sauditaction'],auditformName:viewdetails['sformname'],auditsauditdate:viewdetails['sauditdate'],viewdetails:viewdetails,masterData:masterData,selectedId:viewdetails.nauditcode,screenName:screenName,loading:false,openModal:true,needOldValueColumn:response.data['needOldValueColumn']}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/AuditTrailAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","sortData","intl","getAuditTrailDetail","inputData","dispatch","inputParamData","userinfo","fromDate","toDate","modulecode","moduleCode","formcode","formCode","usercode","userCode","userrole","userRole","viewtypecode","viewTypeCode","saudittraildate","post","then","response","console","log","Date","masterData","data","type","payload","loading","skip","take","catch","error","status","formatMessage","id","message","warn","getFilterAuditTrailRecords","ViewType","breadCrumbViewType","item","searchRef","undefined","current","value","resetDataGridPage","AuditDetails","length","detailSkip","respObject","showFilter","getFormNameByModule","selectedRecord","getExportExcel","resultStatus","document","getElementById","setAttribute","click","ViewAuditDetails","userInfo","viewdetails","screenName","nauditcode","auditAction","auditformName","auditsauditdate","selectedId","openModal","needOldValueColumn"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\n//import Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport {sortData} from '../components/CommonScript';//, constructOptionList\r\nimport { intl } from '../components/App';\r\n\r\n\r\n\r\nexport function getAuditTrailDetail(inputData) {\r\n    return function (dispatch) {  \r\n        let inputParamData = {\r\n            userinfo:inputData.userinfo,\r\n            fromDate: inputData.fromDate,\r\n            toDate: inputData.toDate,\r\n            modulecode: inputData.moduleCode,\r\n            formcode: inputData.formCode,\r\n            usercode: inputData.userCode,\r\n            userrole: inputData.userRole,\r\n            viewtypecode: inputData.viewTypeCode,\r\n            saudittraildate: inputData.saudittraildate\r\n        } \r\n    dispatch(initRequest(true)); \r\n    return rsapi.post(\"audittrail/getAuditTrailDetail\", inputParamData)\r\n   .then(response=>{ \r\n      console.log(new Date());\r\n        let masterData = {...inputData.masterData, ...response.data};        \r\n      //  sortData(masterData);     \r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData,  \r\n             loading:false,skip:inputData.skip,take:inputData.take}});   \r\n   })\r\n   .catch(error=>{\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n       if (error.response.status === 500){\r\n           toast.error(intl.formatMessage({id: error.message}));\r\n       } \r\n       else{               \r\n           toast.warn(intl.formatMessage({id: error.response.data}));\r\n       }  \r\n  \r\n   })\r\n}}\r\n\r\nexport function getFilterAuditTrailRecords(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"audittrail/getFilterAuditTrailRecords\", { ...inputData.inputData })\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    ...response.data,\r\n                    ViewType:inputData.masterData.breadCrumbViewType.item\r\n                }\r\n                // sortData(masterData);\r\n                // dispatch({\r\n                //     type: DEFAULT_RETURN, payload: {\r\n                //         masterData,\r\n                //         loading: false,\r\n                //         showFilter: false\r\n                //     }\r\n                // })\r\n                if(inputData.searchRef!==undefined && inputData.searchRef.current!==null){\r\n                    inputData.searchRef.current.value = \"\";\r\n                    masterData['searchedAudit']=undefined;\r\n                }\r\n                let resetDataGridPage = false;\r\n                if(masterData.AuditDetails&&masterData.AuditDetails.length<inputData.detailSkip){\r\n                    resetDataGridPage=true\r\n                }else{\r\n                    resetDataGridPage = false\r\n                }\r\n                let respObject = {\r\n                    \r\n                    masterData,\r\n                    loading: false,\r\n                    showFilter: false,\r\n                    resetDataGridPage\r\n                }\r\n                // dispatch(postCRUDOrganiseTransSearch(inputData.inputData.postParamList, respObject))\r\n                dispatch({ type: DEFAULT_RETURN, payload: { ...respObject ,skip:0,take:20} })\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getFormNameByModule(inputData,selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"audittrail/getFormNameByModule\", { ...inputData.inputData})\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    ...response.data\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        \r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getExportExcel(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"audittrail/getexportdata\", { ...inputData.inputData})\r\n            .then(response => {\r\n                \r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        resultStatus: response.data[\"ExportExcel\"] || '',\r\n                        loading: false,\r\n                        \r\n                    }\r\n                })\r\n                if(response.data[\"ExportExcel\"] === \"Success\")\r\n                {\r\n                    document.getElementById(\"download_data\").setAttribute(\"href\", response.data[\"ExportExcelPath\"]);\r\n                    document.getElementById(\"download_data\").click();\r\n                }\r\n                else\r\n                {\r\n                    toast.warn(response.data[\"ExportExcel\"]);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function ViewAuditDetails(masterData, userInfo,viewdetails,screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"audittrail/getAuditTrailDetails\", { nauditcode:viewdetails.nauditcode,userinfo:userInfo})\r\n            .then(response => {\r\n                //  masterData = {\r\n                //     ...masterData,\r\n                //     ...response.data\r\n                // }\r\n                masterData['AuditModifiedComments']=[];\r\n                masterData['AuditModifiedComments']=response.data['AuditModifiedComments']\r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        auditAction:viewdetails['sauditaction'],\r\n                        auditformName:viewdetails['sformname'],\r\n                        auditsauditdate: viewdetails['sauditdate'],\r\n                        viewdetails:viewdetails,\r\n                        masterData,\r\n                        selectedId:viewdetails.nauditcode,\r\n                        screenName,\r\n                        loading: false,\r\n                        openModal:true,\r\n                        needOldValueColumn:response.data['needOldValueColumn'] \r\n                        \r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}