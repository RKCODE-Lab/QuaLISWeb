{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData,constructOptionList,rearrangeDateFormat}from'../components/CommonScript';import{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{designProperties}from'../components/Enumeration';export function getDesignTemplateMappingDetail(designtemplatemapping,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"designtemplatemapping/getDesignTemplateMapping\",{ndesigntemplatemappingcode:designtemplatemapping.ndesigntemplatemappingcode,nsampletypecode:designtemplatemapping.nsampletypecode,nregtypecode:designtemplatemapping.nregtypecode,nregsubtypecode:designtemplatemapping.nregsubtypecode,\"userinfo\":userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function getDesignTemplateMappingComboService(screenName,operation,userInfo,nsampletypecode,nregtypecode,nregsubtypecode,ncontrolCode){return function(dispatch){if(operation===\"create\"&&nsampletypecode!=-1&&nregtypecode!=-1&&nregsubtypecode!=-1){var designtemplatemappingService=rsapi.post(\"designtemplatemapping/getDynamicPreRegDesign\",{userinfo:userInfo,nsampletypecode:nsampletypecode,nregtypecode:nregtypecode,nregsubtypecode:nregsubtypecode});var urlArray=[designtemplatemappingService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var designtemplatemappingMap=constructOptionList(response[0].data.DesignTemplateMapping||[],\"nreactregtemplatecode\",\"sregtemplatename\",undefined,undefined,true);var designtemplatemappingList=designtemplatemappingMap.get(\"OptionList\");designtemplatemappingMap=constructOptionList(response[0].data.SubSampleTemplate||[],\"nreactregtemplatecode\",\"sregtemplatename\",undefined,undefined,true);var subSampleTemplateList=designtemplatemappingMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{designtemplatemappingList:designtemplatemappingList,subSampleTemplateList:subSampleTemplateList,testListFields:response[0].data.TestListFields.jsondata,operation:operation,screenName:screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};}export function reloadDesignTemplateMapping(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"designtemplatemapping/getDesignTemplateMapping\",_objectSpread({},inputParam.inputData)).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchRef!==undefined&&inputParam.searchRef.current!==null){inputParam.searchRef.current.value=\"\";masterData['searchedData']=undefined;}dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTMPFilterRegType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"designtemplatemapping/getTemplateRegType\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getTMPFilterRegSubType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"designtemplatemapping/getTemplateRegSubType\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getTMPFilterSubmit(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"designtemplatemapping/getFilterSubmit\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);var listdesigntemplatemapping=sortData(response.data.listdesigntemplatemapping);masterData=_objectSpread(_objectSpread({},masterData),{},{listdesigntemplatemapping:listdesigntemplatemapping});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getMappedFieldProps(inputParam){return function(dispatch){rsapi.post('designtemplatemapping/getMappedFieldProps',inputParam.inputData).then(function(response){var dataResult={};var designData=response.data.jsondataobj||{};Object.keys(designData).map(function(formcode){dataResult[formcode]=[];designData.sampletemplatefields.map(function(field){return!Array.isArray(designData[formcode])&&dataResult[formcode].push({label:field[designProperties.VALUE],sampledisplayfields:designData[formcode].sampledisplayfields.find(function(val){return val[\"2\"]===field[designProperties.VALUE];})!==undefined,samplelistitem:designData[formcode].samplelistitem.find(function(val){return val[\"2\"]===field[designProperties.VALUE];})!==undefined,samplelistmoreitems:designData[formcode].samplelistmoreitems?designData[formcode].samplelistmoreitems.find(function(val){return val[\"2\"]===field[designProperties.VALUE];})!==undefined:false,samplegriditem:designData[formcode].samplegriditem.find(function(val){return val[\"2\"]===field[designProperties.VALUE];})!==undefined,samplegridmoreitem:designData[formcode].samplegridmoreitem.find(function(val){return val[\"2\"]===field[designProperties.VALUE];})!==undefined,realData:field});});});dispatch({type:DEFAULT_RETURN,payload:{openModal:true,loading:false,designData:response.data.jsondataobj,dataResult:dataResult,operation:inputParam.operation,screenName:inputParam.screenName,ncontrolcode:inputParam.ncontrolcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/DesignTemplateMappingAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","constructOptionList","rearrangeDateFormat","toast","Axios","initRequest","intl","designProperties","getDesignTemplateMappingDetail","designtemplatemapping","userInfo","masterData","dispatch","post","ndesigntemplatemappingcode","nsampletypecode","nregtypecode","nregsubtypecode","then","response","data","type","payload","loading","catch","error","status","formatMessage","id","message","warn","getDesignTemplateMappingComboService","screenName","operation","ncontrolCode","designtemplatemappingService","userinfo","urlArray","all","selectedRecord","designtemplatemappingMap","DesignTemplateMapping","undefined","designtemplatemappingList","get","SubSampleTemplate","subSampleTemplateList","testListFields","TestListFields","jsondata","openModal","reloadDesignTemplateMapping","inputParam","inputData","responseData","searchRef","current","value","showFilter","getTMPFilterRegType","getTMPFilterRegSubType","getTMPFilterSubmit","listdesigntemplatemapping","getMappedFieldProps","dataResult","designData","jsondataobj","Object","keys","map","formcode","sampletemplatefields","field","Array","isArray","push","label","VALUE","sampledisplayfields","find","val","samplelistitem","samplelistmoreitems","samplegriditem","samplegridmoreitem","realData","ncontrolcode"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData, constructOptionList, rearrangeDateFormat } from '../components/CommonScript'\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { designProperties } from '../components/Enumeration';\r\n\r\n\r\nexport function getDesignTemplateMappingDetail(designtemplatemapping, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n\r\n        return rsapi.post(\"designtemplatemapping/getDesignTemplateMapping\", {\r\n            ndesigntemplatemappingcode: designtemplatemapping.ndesigntemplatemappingcode,\r\n            nsampletypecode: designtemplatemapping.nsampletypecode,\r\n            nregtypecode: designtemplatemapping.nregtypecode,\r\n            nregsubtypecode: designtemplatemapping.nregsubtypecode,\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDesignTemplateMappingComboService(screenName, operation, userInfo, nsampletypecode, nregtypecode, nregsubtypecode, ncontrolCode) {\r\n    return function (dispatch) {\r\n\r\n        if ((operation === \"create\") && (nsampletypecode != -1) && (nregtypecode != -1) && (nregsubtypecode != -1)) {\r\n\r\n            const designtemplatemappingService = rsapi.post(\"designtemplatemapping/getDynamicPreRegDesign\", { userinfo: userInfo, nsampletypecode, nregtypecode, nregsubtypecode });\r\n\r\n\r\n            let urlArray = [designtemplatemappingService];\r\n\r\n\r\n\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n\r\n\r\n                    let selectedRecord = {};\r\n\r\n\r\n                    let designtemplatemappingMap = constructOptionList(response[0].data.DesignTemplateMapping || [], \"nreactregtemplatecode\",\r\n                        \"sregtemplatename\", undefined, undefined, true);\r\n\r\n                    const designtemplatemappingList = designtemplatemappingMap.get(\"OptionList\");\r\n                    designtemplatemappingMap = constructOptionList(response[0].data.SubSampleTemplate || [], \"nreactregtemplatecode\",\r\n                        \"sregtemplatename\", undefined, undefined, true);\r\n\r\n                    const subSampleTemplateList = designtemplatemappingMap.get(\"OptionList\");\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n\r\n                            designtemplatemappingList,\r\n                            subSampleTemplateList,\r\n                            testListFields: response[0].data.TestListFields.jsondata,\r\n                            operation, screenName, selectedRecord, openModal: true,\r\n                            ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }));\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function reloadDesignTemplateMapping(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"designtemplatemapping/getDesignTemplateMapping\", { ...inputParam.inputData })\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchRef !== undefined && inputParam.searchRef.current !== null) {\r\n                    inputParam.searchRef.current.value = \"\";\r\n                    masterData['searchedData'] = undefined\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getTMPFilterRegType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"designtemplatemapping/getTemplateRegType\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = { ...inputParam.masterData, ...response.data }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTMPFilterRegSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"designtemplatemapping/getTemplateRegSubType\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = { ...inputParam.masterData, ...response.data }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getTMPFilterSubmit(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"designtemplatemapping/getFilterSubmit\", inputParam.inputData)\r\n            .then(response => {\r\n                let masterData = { ...inputParam.masterData, ...response.data }\r\n                let listdesigntemplatemapping = sortData(response.data.listdesigntemplatemapping);\r\n                masterData = { ...masterData, listdesigntemplatemapping }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData, loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n\r\n}\r\nexport function getMappedFieldProps(inputParam) {\r\n    return function (dispatch) {\r\n        rsapi.post('designtemplatemapping/getMappedFieldProps', inputParam.inputData)\r\n            .then(response => {\r\n                let dataResult = {};\r\n                let designData = response.data.jsondataobj || {}\r\n                Object.keys(designData).map(formcode => {\r\n                    dataResult[formcode] = [];\r\n                    designData.sampletemplatefields.map(field =>\r\n                        !Array.isArray(designData[formcode])&&\r\n                        dataResult[formcode].push({\r\n                            label: field[designProperties.VALUE],\r\n                            sampledisplayfields: designData[formcode].sampledisplayfields.find(val => val[\"2\"] === field[designProperties.VALUE]) !== undefined,\r\n                            samplelistitem: designData[formcode].samplelistitem.find(val => val[\"2\"] === field[designProperties.VALUE]) !== undefined,\r\n                            samplelistmoreitems: designData[formcode].samplelistmoreitems ? designData[formcode].samplelistmoreitems.find(val => val[\"2\"] === field[designProperties.VALUE]) !== undefined : false,\r\n                            samplegriditem: designData[formcode].samplegriditem.find(val => val[\"2\"] === field[designProperties.VALUE]) !== undefined,\r\n                            samplegridmoreitem: designData[formcode].samplegridmoreitem.find(val => val[\"2\"] === field[designProperties.VALUE]) !== undefined,\r\n                            realData : field\r\n                        })\r\n                    )\r\n                })\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        openModal: true,\r\n                        loading: false,\r\n                        designData: response.data.jsondataobj,\r\n                        dataResult,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolcode: inputParam.ncontrolcode\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } });\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}