{"ast":null,"code":"var _jsxFileName = \"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\src\\\\pages\\\\Material\\\\Material.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Row, Col, Nav, Card, FormGroup, FormLabel } from 'react-bootstrap';\nimport { process } from '@progress/kendo-data-query';\nimport { toast } from 'react-toastify';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport Esign from '../audittrail/Esign';\nimport { constructjsonOptionList, convertDateTimetoString, convertDateTimetoStringDBformat, formatInputDate } from '../../components/CommonScript';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\nimport { showEsign, getControlMap, constructOptionList, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormat } from '../../components/CommonScript';\nimport { callService, updateStore, crudMaster, filterColumnData, validateEsignCredential, viewAttachment, initialcombochangeget, addSafetyInstructions, getAddMaterialPopup, getMaterialDetails, addMaterialProperty, getMaterialReload, getMaterialEdit, getMaterialByTypeCode, getAddMaterialSectionPopup, getMaterialSectionEdit, addMaterialFile } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\nimport { ContentPanel, ReadOnlyText, MediaLabel } from '../../components/App.styles';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport ReactTooltip from 'react-tooltip';\nimport MaterialFilter from './MaterialFilter';\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\nimport MaterialSectionTab from './MaterialSectionTab';\nimport AddMaterialSection from './AddMaterialSection';\nimport { Affix } from 'rsuite';\nimport MaterialMsdsAttachmentTab from './MaterialMsdsAttachmentTab';\nimport AddMaterialFile from './AddMaterialFile';\nimport { ReactComponent as Safety } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/safety.svg\";\nimport { ReactComponent as Property } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/managed-hosting.svg\";\nimport { ProductList } from '../product/product.styled';\nimport PortalModal from '../../PortalModal';\nimport ModalShow from '../../components/ModalShow';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass Material extends Component {\n  constructor(props) {\n    super(props);\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.dynamicmandatoryFeilds = () => {\n      let mandatoryFeildsMaterial = [];\n      this.props.Login.masterData.selectedTemplate && this.props.Login.masterData.selectedTemplate[0].sjsonobjstr.map(row => {\n        row.children.map(column => {\n          column.children.map(component => {\n            if (component.mandatory) {\n              if (component.inputtype === 'combo') {\n                mandatoryFeildsMaterial.push({\n                  \"idsName\": [component.label],\n                  \"dataField\": [component.label],\n                  \"mandatoryLabel\": \"IDS_SELECT\",\n                  \"controlType\": \"selectbox\"\n                });\n              } else {\n                mandatoryFeildsMaterial.push({\n                  \"idsName\": [component.label],\n                  \"dataField\": [component.label],\n                  \"mandatoryLabel\": \"IDS_ENTER\",\n                  \"controlType\": \"selectbox\"\n                });\n              }\n            }\n\n            component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n              if (componentrow.mandatory) {\n                if (componentrow.inputtype === 'combo') {\n                  mandatoryFeildsMaterial.push({\n                    \"idsName\": [componentrow.label],\n                    \"dataField\": [componentrow.label],\n                    \"mandatoryLabel\": \"IDS_SELECT\",\n                    \"controlType\": \"selectbox\"\n                  });\n                } else {\n                  mandatoryFeildsMaterial.push({\n                    \"idsName\": [componentrow.label],\n                    \"dataField\": [componentrow.label],\n                    \"mandatoryLabel\": \"IDS_ENTER\",\n                    \"controlType\": \"selectbox\"\n                  });\n                }\n              }\n            });\n          });\n        });\n      });\n      return mandatoryFeildsMaterial;\n    };\n\n    this.accordianDesign = () => {\n      let selectedmasterlistmain = [];\n      this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata !== undefined && selectedmasterlistmain.push(this.props.Login.masterData.SelectedMaterial.jsondata);\n      let designaccordian = [];\n      this.props.Login.masterData.selectedTemplate[0].sjsonobjstr.map(row => {\n        row.children.map(column => {\n          column.children.map(component => {\n            if (component.inputtype === 'combo') {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label]['label'] : \"\"))));\n              }\n            } else if (component.inputtype === 'toggle') {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 484,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] && selectedmasterlistmain[0][component.label] === transactionStatus.YES ? 'Yes' : 'No'))));\n              }\n            } else {\n              if (component.label !== undefined) {\n                designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                  md: \"4\",\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 50\n                  }\n                }, /*#__PURE__*/React.createElement(FormGroup, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 33\n                  }\n                }, /*#__PURE__*/React.createElement(FormLabel, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 37\n                  }\n                }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                  id: [component.label],\n                  message: [component.label],\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 48\n                  }\n                })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 37\n                  }\n                }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label] : \"-\"))));\n              }\n            }\n\n            component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n              if (componentrow.inputtype === 'combo') {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 515,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 516,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] ? selectedmasterlistmain[0][componentrow.label]['label'] : \"-\"))));\n                }\n              } else if (componentrow.inputtype === 'toggle') {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 531,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 531,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] && selectedmasterlistmain[0][componentrow.label]['label'] === transactionStatus.YES ? 'Yes' : 'No'))));\n                }\n              } else {\n                if (componentrow.label !== undefined) {\n                  designaccordian.push( /*#__PURE__*/React.createElement(Col, {\n                    md: \"4\",\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 54\n                    }\n                  }, /*#__PURE__*/React.createElement(FormGroup, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 546,\n                      columnNumber: 37\n                    }\n                  }, /*#__PURE__*/React.createElement(FormLabel, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 547,\n                      columnNumber: 41\n                    }\n                  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n                    id: [componentrow.label],\n                    message: [componentrow.label],\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 547,\n                      columnNumber: 52\n                    }\n                  })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 41\n                    }\n                  }, selectedmasterlistmain.length > 0 && selectedmasterlistmain[0][componentrow.label] ? selectedmasterlistmain[0][componentrow.label] : \"-\"))));\n                }\n              }\n            });\n          });\n        });\n      });\n      return designaccordian;\n    };\n\n    this.handleDateChange = (dateValue, dateName) => {\n      const {\n        selectedRecord\n      } = this.state;\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n      isSelectedRecordChange = true;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord,\n        isSelectedRecordChange\n      });\n    };\n\n    this.onTabChange = tabProps => {\n      const tabScreen = tabProps.screenName;\n      let masterData = this.props.Login.masterData;\n      masterData['tabScreen'] = tabScreen;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          masterData\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onDropMaterialFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\"\n      });\n    };\n\n    this.onSaveMaterialFile = () => {\n      const selectedRecord = this.state.selectedRecord;\n      const acceptedFiles = selectedRecord.sfilename;\n      const nattachmenttypecode = selectedRecord.nattachmenttypecode;\n      let isFileEdited = transactionStatus.NO;\n      let testFileArray = [];\n      let testFile = {\n        nmaterialcode: this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode,\n        nmaterialfilecode: selectedRecord.nmaterialfilecode ? selectedRecord.nmaterialfilecode : 0,\n        nstatus: transactionStatus.ACTIVE,\n        nattachmenttypecode,\n        ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\n      };\n      const formData = new FormData();\n\n      if (nattachmenttypecode === attachmentType.FTP) {\n        if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\n          acceptedFiles.forEach((file, index) => {\n            const tempData = Object.assign({}, testFile);\n            const splittedFileName = file.name.split('.');\n            const fileExtension = file.name.split('.')[splittedFileName.length - 1];\n            const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\n            const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\n            const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntestfilecode && selectedRecord.ntestfilecode > 0 && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\n            tempData[\"sfilename\"] = file.name;\n            tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\n            tempData[\"nlinkcode\"] = transactionStatus.NA;\n            tempData[\"ssystemfilename\"] = uniquefilename;\n            tempData[\"nfilesize\"] = file.size;\n            formData.append(\"uploadedFile\" + index, file);\n            formData.append(\"uniquefilename\" + index, uniquefilename);\n            testFileArray.push(tempData);\n          });\n          formData.append(\"filecount\", acceptedFiles.length);\n          isFileEdited = transactionStatus.YES;\n        } else {\n          testFile[\"sfilename\"] = selectedRecord.sfilename;\n          testFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\n          testFile[\"nlinkcode\"] = transactionStatus.NA;\n          testFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\n          testFile[\"nfilesize\"] = selectedRecord.nfilesize;\n          testFileArray.push(testFile);\n        }\n      } else {\n        testFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\n        testFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\n        testFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\n        testFile[\"ssystemfilename\"] = \"\";\n        testFile[\"nfilesize\"] = 0;\n        testFileArray.push(testFile);\n      }\n\n      formData.append(\"isFileEdited\", isFileEdited);\n      formData.append(\"materialmsdsattachment\", JSON.stringify(testFileArray[0]));\n      let inputParam;\n\n      if (this.props.Login.operation === 'create') {\n        inputParam = {\n          inputData: {\n            userinfo: this.props.Login.userInfo\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: \"create\",\n          classUrl: \"material\",\n          methodUrl: \"MaterialMsdsAttachment\"\n        };\n      } else {\n        inputParam = {\n          inputData: {\n            userinfo: this.props.Login.userInfo\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: \"update\",\n          classUrl: \"material\",\n          methodUrl: \"MaterialMsdsAttachment\"\n        };\n      }\n\n      return inputParam;\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      {\n        let dataresultarr = [];\n        this.props.Login.masterData[\"MaterialSection\"] && this.props.Login.masterData[\"MaterialSection\"].map(temp => {\n          return dataresultarr.push(temp.jsondata);\n        });\n        this.props.Login.masterData.ismaterialSectionneed === 3 && tabMap.set(\"IDS_MATERIALSECTION\", /*#__PURE__*/React.createElement(MaterialSectionTab, {\n          controlMap: this.state.controlMap,\n          userRoleControlRights: this.state.userRoleControlRights,\n          dataResult: process(dataresultarr, this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n            skip: 0,\n            take: 10\n          }),\n          dataState: this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\" ? this.state.sectionDataState : {\n            skip: 0,\n            take: 10\n          },\n          dataStateChange: event => this.setState({\n            sectionDataState: event.dataState\n          }),\n          masterData: this.props.Login.masterData,\n          userInfo: this.props.Login.userInfo,\n          getTestDetails: this.props.getTestDetails,\n          getAddMaterialSectionPopup: this.props.getAddMaterialSectionPopup,\n          addParameter: this.addMaterialSection,\n          deleteRecord: this.deleteRecordmain,\n          fetchRecord: this.props.getMaterialSectionEdit,\n          selectedRecord: this.props.Login.selectedRecord,\n          screenName: \"IDS_MATERIALSECTION\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 21\n          }\n        }));\n        tabMap.set(\"IDS_MATERIALMSDSATTACHMENT\", /*#__PURE__*/React.createElement(MaterialMsdsAttachmentTab, {\n          controlMap: this.state.controlMap,\n          userRoleControlRights: this.state.userRoleControlRights,\n          userInfo: this.props.Login.userInfo,\n          deleteRecord: this.deleteRecordmain,\n          MaterialMsdsAttachment: this.props.Login.masterData.MaterialMsdsAttachment || [],\n          addMaterialFile: param => this.props.addMaterialFile(param, this.props.Login.masterData.SelectedMaterial),\n          viewMaterialFile: this.viewMaterialFile,\n          screenName: \"IDS_MATERIALMSDSATTACHMENT\",\n          settings: this.props.settings,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 17\n          }\n        }));\n      }\n      return tabMap;\n    };\n\n    this.deleteRecordmain = deleteParam => {\n      const methodUrl = deleteParam.methodUrl;\n      const selected = deleteParam.methodUrl === 'MaterialSection' ? JSON.stringify(deleteParam.selectedRecord) : JSON.stringify(deleteParam.selectedRecord[\"jsondata\"]);\n      let dataState = undefined;\n\n      if (this.props.screenName === \"IDS_SECTION\") {\n        dataState = this.state.sectionDataState;\n      } else if (this.props.screenName === \"IDS_METHOD\") {\n        dataState = this.state.methodDataState;\n      } else if (this.props.screenName === \"IDS_INSTRUMENTCATEGORY\") {\n        dataState = this.state.instrumentCatDataState;\n      }\n\n      const inputParam = {\n        inputData: {\n          ncontrolCode: deleteParam.ncontrolCode,\n          [methodUrl.toLowerCase()]: selected,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"material\",\n        operation: deleteParam.operation,\n        ncontrolCode: deleteParam.ncontrolCode,\n        methodUrl: methodUrl,\n        screenName: \"IDS_MATERIAL\",\n        dataState\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_MATERIAL\",\n            operation: deleteParam.operation,\n            selectedRecord: {}\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\n      }\n    };\n\n    this.addMaterialSection = param => {\n      let showMaterialSection = this.props.Login.showMaterialSection;\n      let ncontrolCode = this.props.Login.ncontrolCode;\n      let openModal = this.props.Login.openModal;\n      let isneedcombomulti = this.props.Login.isneedcombomulti;\n      isneedcombomulti = false;\n      showMaterialSection = true;\n      openModal = true;\n      ncontrolCode = param;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showMaterialSection,\n          isneedcombomulti,\n          openModal\n        }\n      };\n      this.props.getAddMaterialSectionPopup(this.props.Login.masterData, this.props.Login.userInfo, updateInfo, ncontrolCode);\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n      let inputData = [];\n      inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\n      inputData[\"materialCatList\"] = this.state.materialCatList;\n\n      if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\n        this.props.getMaterialByTypeCode(this.state.selectedcombo, this.state.selectedMaterialCat, this.props.Login.masterData, this.props.Login.userInfo);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTUSERROLE\"\n        }));\n      }\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"]\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.viewMaterialFile = filedata => {\n      const inputParam = {\n        inputData: {\n          nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\n          materialmsdsattachment: JSON.stringify(filedata['jsondata']),\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"material\",\n        operation: \"view\",\n        methodUrl: \"AttachedMaterialMsdsAttachment\",\n        screenname: \"IDS_MATERIALMSDSATTACHMENT\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let showMaterialSection = this.props.Login.showMaterialSection;\n      let isneedcombomulti = this.props.Login.isneedcombomulti;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"retire\") {\n          loadEsign = false;\n          openModal = false;\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n        showMaterialSection = false;\n        isneedcombomulti = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          showMaterialSection,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      if (comboData != null) {\n        if (fieldName === \"nmaterialtypecode\") {\n          const selectedcombo = this.state.selectedcombo || {};\n          selectedcombo[fieldName] = comboData;\n          this.searchRef.current.value = \"\";\n          this.props.initialcombochangeget(comboData.item.nmaterialtypecode, this.props.Login.masterData, this.props.Login.userInfo);\n        } else if (fieldName === \"nmaterialcatcode\") {\n          const selectedMaterialCat = this.state.selectedMaterialCat || {};\n          selectedMaterialCat[fieldName] = comboData;\n          this.setState({\n            selectedMaterialCat\n          });\n        } else if (fieldName === \"nmaterialsectioncode\") {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[\"nmaterialsectioncode\"] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        } else if (fieldName === \"nlinkcode\") {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[\"nlinkcode\"] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        } else if (fieldName.displaymember === \"smaterialcatname\" || fieldName.displaymember === \"sunitname\" || fieldName.displaymember === \"speriodname\") {\n          const selectedMaterialCat = this.state.selectedMaterialCat || {};\n          selectedMaterialCat[fieldName] = comboData;\n          this.setState({\n            selectedMaterialCat\n          });\n          let comboName = fieldName.label;\n          const selectedRecord = this.state.selectedRecord || {};\n\n          if (comboData) {\n            selectedRecord[comboName] = comboData;\n          } else {\n            selectedRecord[comboName] = [];\n          }\n\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else if (fieldName.label === \"IDS_STORAGECONDITION\") {\n          let comboName = fieldName.label;\n          const selectedRecord = this.state.selectedRecord || {};\n\n          if (comboData) {\n            selectedRecord[comboName] = comboData;\n          } else {\n            selectedRecord[comboName] = [];\n          }\n\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              selectedRecord\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else if (fieldName === \"value\") {\n          const comboitem = this.state.comboitem || {};\n          comboitem[fieldName] = comboData;\n          this.setState({\n            comboitem\n          });\n        }\n      }\n    };\n\n    this.onComboChangedynamic = (comboData, control) => {\n      if (control.inputtype === 'date') {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[`tz${control.label}`] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      } else {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[control.label] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onInputOnChange = (event, optional2) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let isSelectedRecordChange = this.state.isSelectedRecordChange;\n\n      if (this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\") {\n        if (event.target.type === 'checkbox') {\n          if (event.target.name === \"ntransactionstatus\") selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;else selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n\n          if (event.target.name === 'IDS_EXPIRY') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['IDS_EXPIRYPOLICY']) delete selectedRecord['IDS_EXPIRYPOLICY'];\n              if (selectedRecord['tzIDS_EXPIRYPOLICY']) delete selectedRecord['tzIDS_EXPIRYPOLICY'];\n            }\n          }\n\n          if (event.target.name === 'IDS_OPENEXIPIRYNEED') {\n            if (selectedRecord[event.target.name] === 4) {\n              if (selectedRecord['IDS_OPENEXIPIRY']) delete selectedRecord['IDS_OPENEXIPIRY'];\n              if (selectedRecord['tzIDS_OPENEXIPIRY']) delete selectedRecord['tzIDS_OPENEXIPIRY'];\n            }\n          }\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n\n        isSelectedRecordChange = true;\n        this.setState({\n          selectedRecord,\n          isSelectedRecordChange\n        });\n      } else {\n        if (event.target.type === 'checkbox') {\n          selectedRecord[event.target.name] = event.target.checked === true ? optional2[0] : optional2[1];\n        } else if (event.target.type === 'radio') {\n          selectedRecord[event.target.name] = optional2;\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let inputData = [];\n      let inputParam = {};\n      let varmain = {};\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let postParam = undefined;\n\n      if (this.props.Login.screenname === \"IDS_MATERIAL\") {\n        if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\n          varmain = \"IDS_STANDARDMATERIALNAME\";\n        } else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\n          varmain = \"IDS_VOLUMETRICMATERIALNAME\";\n        } else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\n          varmain = \"IDS_MATERIALNAME\";\n        }\n\n        inputData[\"Material\"] = {};\n        const Layout = this.props.Login.masterData.selectedTemplate[0].sjsonobjstr;\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.inputtype === 'combo') {\n                inputData[\"Material\"][component.label] = inputData[\"Material\"][component.label] ? {\n                  label: this.state.selectedRecord[component.label][\"label\"],\n                  value: this.state.selectedRecord[component.label][\"value\"]\n                } : \"\";\n              } else if (component.label === 'IDS_QUARANTINE') {\n                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label];\n              } else if (component.label === 'IDS_EXPIRY') {\n                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label];\n              } else if (component.label === 'IDS_REUSABLE') {\n                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label];\n              } else {\n                if (this.state.selectedRecord[component.label] !== \"\") {\n                  inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label];\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                if (componentrow.inputtype === 'combo') {\n                  if (inputData[\"Material\"][componentrow.label]) {\n                    inputData[\"Material\"][componentrow.label] = {\n                      label: this.state.selectedRecord[componentrow.label][\"label\"],\n                      value: this.state.selectedRecord[componentrow.label][\"value\"]\n                    };\n                  }\n                } else {\n                  if (this.state.selectedRecord[componentrow.label] !== \"\") {\n                    inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  }\n                }\n              });\n            });\n          });\n        });\n        inputData[\"Material\"][varmain] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ? this.state.selectedRecord.IDS_STANDARDMATERIALNAME : this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ? this.state.selectedRecord.IDS_VOLUMETRICMATERIALNAME : this.state.selectedRecord.IDS_MATERIALNAME;\n        inputData[\"Material\"] = { ...inputData[\"Material\"],\n          \"nmaterialcatcode\": this.state.selectedRecord.IDS_MATERIALCAT.value,\n          \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\n        };\n        inputData[\"materialJson\"] = JSON.stringify(inputData[\"Material\"]);\n        inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode;\n        inputData[\"nmaterialcatcode\"] = this.state.selectedRecord.IDS_MATERIALCAT.value;\n\n        if (this.props.Login.operation === 'create') {\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"Material\",\n            inputData: inputData,\n            operation: this.props.Login.operation,\n            saveType,\n            formRef,\n            postParam,\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            dataState: this.state.dataState\n          };\n        } else {\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode;\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"Material\",\n            inputData: inputData,\n            operation: this.props.Login.operation,\n            saveType,\n            formRef,\n            postParam,\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef,\n            dataState: this.state.dataState\n          };\n        }\n\n        const masterData = this.props.Login.masterData;\n\n        if (this.props.Login.screenName === \"IDS_MATERIAL\") {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\n          }\n        } else {\n          if (this.props.Login.masterData.copyScreenRights ? this.props.Login.masterData.copyScreenRights.length > 0 : false) {\n            this.ConfirmComponent();\n          } else {\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n              const updateInfo = {\n                typeName: DEFAULT_RETURN,\n                data: {\n                  loadEsign: true,\n                  screenData: {\n                    inputParam,\n                    masterData\n                  },\n                  saveType\n                }\n              };\n              this.props.updateStore(updateInfo);\n            } else {\n              this.props.crudMaster(inputParam, masterData, \"openModal\");\n            }\n          }\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALSAFETYINSTRUCTIONS\") {\n        const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].sjsonobjstr;\n        const dynamicobj = {};\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.inputtype === 'combo') {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[component.label] = {\n                    label: this.state.selectedRecord[component.label][\"label\"],\n                    value: this.state.selectedRecord[component.label][\"value\"]\n                  };\n                }\n              } else {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                if (componentrow.inputtype === 'combo') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = {\n                      label: this.state.selectedRecord[componentrow.label][\"label\"],\n                      value: this.state.selectedRecord[componentrow.label][\"value\"]\n                    };\n                  }\n                } else {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  }\n                }\n              });\n            });\n          });\n        });\n        inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode;\n\n        if (this.props.Login.masterData.MaterialSafetyInstructions.length > 0) {\n          inputData[\"nmaterialsafetyinstructionscode\"] = this.props.Login.masterData.MaterialSafetyInstructions[0].nmaterialsafetyinstructionscode;\n        } else {\n          inputData[\"nmaterialsafetyinstructionscode\"] = 0;\n        }\n\n        inputData[\"materialSafetyInstructions\"] = JSON.stringify(dynamicobj);\n        inputData[\"nflag\"] = 1;\n        inputParam = {\n          classUrl: \"material\",\n          methodUrl: \"MaterialSafetyInstructions\",\n          inputData: inputData,\n          operation: 'create',\n          saveType,\n          formRef,\n          postParam,\n          selectedRecord: this.state.selectedRecord,\n          searchRef: this.searchRef,\n          dataState: this.state.dataState\n        };\n        let masterData = this.props.Login.masterData;\n\n        if (this.state.isSelectedRecordChange) {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n          }\n        } else {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              openModal: false\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALMSDSATTACHMENT\") {\n        inputParam = this.onSaveMaterialFile();\n        let masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      } else if (this.props.Login.screenname === \"IDS_MATERIALPROPERTY\") {\n        let masterData = this.props.Login.masterData;\n        const Layout = this.props.Login.masterData.selectedTemplateProperties[0].sjsonobjstr;\n        const dynamicobj = {};\n        inputData[\"DateList\"] = [];\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.inputtype === 'combo') {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[component.label] = {\n                    label: this.state.selectedRecord[component.label][\"label\"],\n                    value: this.state.selectedRecord[component.label][\"value\"]\n                  };\n                }\n              } else if (component.inputtype === 'date') {\n                if (this.state.selectedRecord[component.label]) {\n                  dynamicobj[`tz${component.label}`] = {\n                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\n                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\n                  };\n                  dynamicobj[component.label] = convertDateTimetoString(this.state.selectedRecord[component.label], this.props.Login.userInfo);\n                  inputData[\"DateList\"].push(component.label);\n                }\n              } else {\n                if (this.state.selectedRecord.hasOwnProperty(component.label)) {\n                  dynamicobj[component.label] = this.state.selectedRecord[component.label];\n                }\n              }\n\n              component.hasOwnProperty(\"children\") && component.children.map(componentrow => {\n                if (componentrow.inputtype === 'combo') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = {\n                      label: this.state.selectedRecord[componentrow.label][\"label\"],\n                      value: this.state.selectedRecord[componentrow.label][\"value\"]\n                    };\n                  }\n                } else if (componentrow.inputtype === 'date') {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[`tz${componentrow.label}`] = {\n                      label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\n                      value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\n                    };\n                    dynamicobj[componentrow.label] = convertDateTimetoString(this.state.selectedRecord[componentrow.label], this.props.Login.userInfo);\n                    inputData[\"DateList\"].push(componentrow.label);\n                  }\n                } else {\n                  if (this.state.selectedRecord[componentrow.label]) {\n                    dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label];\n                  }\n                }\n              });\n            });\n          });\n        });\n        inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode;\n\n        if (this.props.Login.masterData.MaterialProperties.length > 0) {\n          inputData[\"nmaterialpropertycode\"] = this.props.Login.masterData.MaterialProperties[0].nmaterialpropertycode;\n        } else {\n          inputData[\"nmaterialpropertycode\"] = 0;\n        } //inputData[\"DateList\"] = JSON.stringify(DateList)\n\n\n        inputData[\"materialProperty\"] = JSON.stringify(dynamicobj);\n        inputData[\"nflag\"] = 2;\n        inputParam = {\n          classUrl: \"material\",\n          methodUrl: \"MaterialSafetyInstructions\",\n          inputData: inputData,\n          operation: 'create',\n          saveType,\n          formRef,\n          postParam,\n          selectedRecord: this.state.selectedRecord,\n          searchRef: this.searchRef,\n          dataState: this.state.dataState\n        };\n\n        if (this.state.isSelectedRecordChange) {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n          }\n        } else {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              openModal: false\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      } else {\n        if (this.props.Login.operation !== \"update\") {\n          let showMaterialSection = this.props.Login.showMaterialSection;\n          let newarr = [];\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode;\n\n          if (this.state.selectedRecord[\"nmaterialsectioncode\"].length > 1) {\n            newarr = this.state.selectedRecord.nmaterialsectioncode.map(temp => {\n              return {\n                \"ssectionname\": temp.label,\n                \"nsectioncode\": temp.value,\n                \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\n                \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\n              };\n            });\n          } else {\n            newarr.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\n            });\n          }\n\n          inputData[\"materialSectionJson\"] = JSON.stringify(newarr);\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"MaterialSection\",\n            inputData: inputData,\n            operation: \"create\",\n            showMaterialSection: showMaterialSection,\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef\n          };\n        } else {\n          let newarrobj = [];\n          inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode;\n\n          if (Array.isArray(this.state.selectedRecord[\"nmaterialsectioncode\"])) {\n            newarrobj.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\n            });\n          } else {\n            newarrobj.push({\n              \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"].label,\n              \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"].value,\n              \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\n              \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\n            });\n          }\n\n          inputData[\"materialSectionJson\"] = JSON.stringify(newarrobj);\n          inputData[\"MaterialSection\"] = {\n            \"IDS_REORDERLEVEL\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"]\n          };\n          inputData[\"nmaterialsectioncode\"] = this.state.selectedRecord.nmaterialsectioncodeprimaryKeyValue;\n          inputParam = {\n            classUrl: \"material\",\n            methodUrl: \"MaterialSection\",\n            inputData: inputData,\n            showMaterialSection: false,\n            operation: \"update\",\n            selectedRecord: this.state.selectedRecord,\n            searchRef: this.searchRef\n          };\n        }\n\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.onNumericInputChange = (value, name) => {\n      let selectedRecord = this.state.selectedRecord;\n      selectedRecord[name] = value;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.ConfirmComponent = () => {\n      this.confirmMessage.confirm(\"confirmation\", \"Confiramtion!\", this.props.intl.formatMessage({\n        id: \"IDS_OVERWRITRTHEEXISTINGSCREENRIGHTS\"\n      }), \"ok\", \"cancel\", () => this.copyAlertSave());\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let inputData = [];\n      inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\n      inputData[\"materialCatList\"] = this.state.materialCatList;\n      this.setState({\n        sectionDataState: {\n          skip: 0,\n          take: 10\n        }\n      });\n\n      if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\n        this.props.getMaterialReload(this.props.Login.masterData.SelectedMaterialType, this.props.Login.masterData.SelectedMaterialCategory, this.props.Login.masterData, this.props.Login.userInfo);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTUSERROLE\"\n        }));\n      }\n    };\n\n    const _dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      masterStatus: \"\",\n      sectionDataState: {\n        skip: 0,\n        take: 10\n      },\n      error: \"\",\n      selectedRecord: {},\n      filterCatList: [],\n      operation: \"\",\n      comboitem: undefined,\n      screenName: undefined,\n      selectedcombo: undefined,\n      isSelectedRecordChange: false,\n      selectedMaterialCat: undefined,\n      materialCatList: [],\n      userRoleControlRights: [],\n      ControlRights: undefined,\n      controlMap: new Map(),\n      dataResult: [],\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      dataState: _dataState,\n      data: [],\n      splitChangeWidthPercentage: 30\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    const addId = this.state.controlMap.has(\"AddMaterial\") && this.state.controlMap.get(\"AddMaterial\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditMaterial\") && this.state.controlMap.get(\"EditMaterial\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteMaterial\") && this.state.controlMap.get(\"DeleteMaterial\").ncontrolcode;\n    const addParameterId = this.state.controlMap.has(\"AddMaterialSafetyInstructions\") && this.state.controlMap.get(\"AddMaterialSafetyInstructions\").ncontrolcode;\n    const addMaterialProperty = this.state.controlMap.has(\"AddMaterialProperties\") && this.state.controlMap.get(\"AddMaterialProperties\").ncontrolcode;\n    let masterlistmain = [];\n    this.props.Login.masterData.Material && this.props.Login.masterData.Material.map((temp, i) => {\n      return masterlistmain.push(this.props.Login.masterData.Material[i].jsondata);\n    });\n    let searchedDatalistmain = [];\n\n    if (this.props.Login.masterData.searchedData === undefined) {\n      searchedDatalistmain = undefined;\n    } else {\n      this.props.Login.masterData.searchedData && this.props.Login.masterData.searchedData.map((temp, i) => {\n        return searchedDatalistmain.push(this.props.Login.masterData.searchedData[i].jsondata);\n      });\n    }\n\n    let searchFieldList = [];\n    let mandatoryFieldsMaterialFile = [];\n\n    if (this.props.Login.masterData.SelectedMaterialType) {\n      if (this.props.Login.masterData.SelectedMaterialType.length > 0) {\n        if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\n          searchFieldList = [{\n            feild: \"IDS_STANDARDMATERIALNAME\",\n            jsonfeild: \"jsondata\"\n          }];\n        } else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\n          searchFieldList = [{\n            feild: \"IDS_VOLUMETRICMATERIALNAME\",\n            jsonfeild: \"jsondata\"\n          }];\n        } else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\n          searchFieldList = [{\n            feild: \"IDS_MATERIALNAME\",\n            jsonfeild: \"jsondata\"\n          }];\n        }\n      }\n    }\n\n    const filterParam = {\n      inputListName: \"Material\",\n      selectedObject: \"SelectedMaterial\",\n      primaryKeyField: \"nmaterialcode\",\n      fetchUrl: \"material/getMaterialByID\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      isjsondata: true,\n      searchFieldList: searchFieldList\n    };\n    this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' && this.props.Login.selectedRecord && this.props.Login.selectedRecord.nattachmenttypecode === attachmentType.LINK ? mandatoryFieldsMaterialFile = [{\n      \"idsName\": \"IDS_FILENAME\",\n      \"dataField\": \"slinkfilename\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_CHOOSE\",\n      \"controlType\": \"file\"\n    }, {\n      \"idsName\": \"IDS_LINKNAME\",\n      \"dataField\": \"nlinkcode\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }] : mandatoryFieldsMaterialFile = [{\n      \"idsName\": \"IDS_FILE\",\n      \"dataField\": \"sfilename\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_CHOOSE\",\n      \"controlType\": \"file\"\n    }];\n    const mandatoryFieldsMaterialSection = [{\n      \"mandatory\": false,\n      \"idsName\": \"IDS_MATERIALSECTION\",\n      \"dataField\": \"nmaterialsectioncode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    const breadCrumbData = this.state.filterData || [];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb  fixed_breadcrumd \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 64,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"Material\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: searchedDatalistmain || masterlistmain,\n      getMasterDetail: master => this.props.getMaterialDetails(master, this.props.Login.masterData, this.props.Login.userInfo),\n      selectedMaster: this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata,\n      primaryKeyField: \"nmaterialcode\",\n      mainField: this.props.Login.masterData.SelectedMaterialType ? this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ? \"IDS_STANDARDMATERIALNAME\" : this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ? \"IDS_VOLUMETRICMATERIALNAME\" : \"IDS_MATERIALNAME\" : \"\",\n      firstField: \"IDS_REORDERLEVEL\",\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      showFilterIcon: true,\n      onFilterSubmit: this.onFilterSubmit,\n      filterComponent: [{\n        \"IDS_FILTER\": /*#__PURE__*/React.createElement(MaterialFilter, {\n          filterCatList: this.state.filterCatList || [],\n          materialCatList: this.state.materialCatList || [],\n          selectedRecord: this.state.selectedcombo || {} //\n          ,\n          selectedMaterialCat: this.state.selectedMaterialCat || {},\n          onComboChange: this.onComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 45\n          }\n        })\n      }],\n      openModal: () => this.props.getAddMaterialPopup(\"create\", this.props.Login.userInfo, this.state.selectedcombo, addId, this.props.Login.masterData, this.state.selectedRecord),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.Material && this.props.Login.masterData.Material.length > 0 && this.props.Login.masterData.SelectedMaterial ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.SelectedMaterialType ? this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ? this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_STANDARDMATERIALNAME : this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ? this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_VOLUMETRICMATERIALNAME : this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_MATERIALNAME : \"\"), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(ProductList, {\n      className: \"d-flex product-category icon-group-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(MediaLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 65\n      }\n    }, \"Quarantine :\"), /*#__PURE__*/React.createElement(MediaLabel, {\n      className: `btn-normal ${this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_QUARANTINE === transactionStatus.YES ? \"outline-success\" : \"normal-danger\"} pl-1 mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_QUARANTINE === transactionStatus.YES ? 'Yes' : 'No')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(ReactTooltip, {\n      place: \"bottom\",\n      globalEventOff: \"click\",\n      id: \"tooltip_list_wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 65\n      }\n    }), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      onClick: e => this.props.getAddMaterialPopup(\"update\", this.props.Login.userInfo, this.state.selectedcombo, editId, this.props.Login.masterData, this.state.selectedRecord),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_ADDMATERIALSAFETYINSTRUCTIONS\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      onClick: e => this.props.addSafetyInstructions(this.props.Login.masterData, this.props.Login.userInfo, addParameterId, \"create\", {}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Safety, {\n      className: \"custom_icons\",\n      width: \"15\",\n      height: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_ADDMATERIALPROPERTY\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      onClick: e => this.props.addMaterialProperty(this.props.Login.masterData, this.props.Login.userInfo, addMaterialProperty, \"create\", {}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(Property, {\n      className: \"custom_icons\",\n      width: \"15\",\n      height: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 69\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 53\n      }\n    }, this.accordianDesign()), this.props.Login.masterData && /*#__PURE__*/React.createElement(CustomTab, {\n      activeKey: this.props.Login.masterData.tabScreen || 'IDS_MATERIALMSDSATTACHMENT',\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 85\n      }\n    }))) : \"\")))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.screenname === 'IDS_MATERIALSAFETYINSTRUCTIONS' ? '' : this.props.Login.screenname === 'IDS_MATERIALPROPERTY' ? '' : this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenname,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' ? mandatoryFieldsMaterialFile : this.props.Login.screenname === 'IDS_MATERIAL' ? this.dynamicmandatoryFeilds() : this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ? this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? mandatoryFieldsMaterialSection : '' : '',\n      updateStore: this.props.updateStore,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 33\n        }\n      }) : this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\" ? this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ? this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? this.props.Login.showMaterialSection ? /*#__PURE__*/React.createElement(AddMaterialSection, {\n        selectedRecord: this.props.Login.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        MaterialSectionCombodata: this.props.Login.masterData.MaterialSection && this.props.Login.masterData.MaterialSection,\n        onNumericInputChange: this.onNumericInputChange,\n        onComboChange: this.onComboChange,\n        isDisabled: this.props.Login.isneedcombomulti && this.props.Login.isneedcombomulti,\n        ismaterialsectionEdit: this.props.Login.ismaterialsectionEdit,\n        comboData: this.props.Login.masterData.productCategoryList,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 49\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideout, {\n        selectedRecord: this.state.selectedRecord,\n        enableDisableExpiryPolicy: this.props.Login.selectedRecord['IDS_EXPIRY'],\n        enableDisableOpenExpiry: this.props.Login.selectedRecord['IDS_OPENEXIPIRYNEED'],\n        templateData: this.props.Login.masterData.selectedTemplate && this.props.Login.masterData.selectedTemplate[0].sjsonobjstr,\n        onNumericInputChange: this.onNumericInputChange,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChange,\n        comboData: this.props.Login.templateData && this.props.Login.templateData.comboData,\n        onComboChange: this.onComboChangedynamic,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 49\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideout, {\n        selectedRecord: this.props.Login.selectedRecord,\n        templateData: this.props.Login.masterData.selectedTemplateSafetyInstructions && this.props.Login.masterData.selectedTemplateSafetyInstructions[0].sjsonobjstr,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 45\n        }\n      }) : /*#__PURE__*/React.createElement(DynamicSlideout, {\n        selectedRecord: this.props.Login.selectedRecord,\n        templateData: this.props.Login.masterData.selectedTemplateProperties && this.props.Login.masterData.selectedTemplateProperties[0].sjsonobjstr,\n        userInfo: this.props.Login.userInfo,\n        handleChange: this.handleChange,\n        onInputOnChange: this.onInputOnChange,\n        handleDateChange: this.handleDateChange,\n        timeZoneList: this.props.Login.timeZoneList,\n        onComboChange: this.onComboChangedynamic,\n        defaultTimeZone: this.props.Login.defaultTimeZone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 41\n        }\n      }) : /*#__PURE__*/React.createElement(AddMaterialFile, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onDrop: this.onDropMaterialFile,\n        deleteAttachment: this.deleteAttachment,\n        onComboChange: this.onComboChange,\n        linkMaster: this.props.Login.linkMaster,\n        maxSize: 20,\n        maxFiles: 1,\n        multiple: false,\n        label: this.props.intl.formatMessage({\n          id: \"IDS_MATERIALMSDSATTACHMENT\"\n        }),\n        name: \"testfilename\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 37\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height\n      });\n    }\n  }\n\n  generateBreadCrumData() {\n    const breadCrumbData = [];\n    breadCrumbData.push({\n      \"label\": \"IDS_MATERIALTYPE\",\n      \"value\": this.props.Login.masterData.SelectedMaterialType && this.props.Login.masterData.SelectedMaterialType.length > 0 ? this.props.Login.masterData.SelectedMaterialType[0].smaterialtypename : \"NA\"\n    }, {\n      \"label\": \"IDS_MATERIALCAT\",\n      \"value\": this.props.Login.masterData.SelectedMaterialCategory ? this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname !== undefined ? this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname : \"NA\" : \"NA\"\n    });\n    return breadCrumbData;\n  }\n\n  componentDidUpdate(previousProps) {\n    let bool = false;\n    let {\n      selectedRecord,\n      selectedcombo,\n      comboitem,\n      filterData,\n      filterCatList,\n      selectedMaterialCat,\n      materialCatList\n    } = this.state;\n    const masterData = this.props.Login.masterData; // if (this.props.Login.isSelectedRecordChange !== previousProps.Login.isSelectedRecordChange) {\n    //     bool = true;\n    //   isSelectedRecordChange = this.props.Login.isSelectedRecordChange\n    // }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      bool = true;\n      selectedRecord = this.props.Login.selectedRecord;\n    }\n\n    if (this.props.Login.selectedcombo !== previousProps.Login.selectedcombo) {\n      bool = true;\n      selectedcombo = this.props.Login.selectedcombo;\n    }\n\n    if (this.props.Login.comboitem !== previousProps.Login.comboitem) {\n      bool = true;\n      comboitem = this.props.Login.comboitem;\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        data: this.props.Login.masterData.ControlRights\n      });\n    }\n\n    if (this.props.Login.masterData.MaterialType !== undefined) {\n      if (this.props.Login.masterData.MaterialType !== previousProps.Login.masterData.MaterialType) {\n        bool = true; // const materialTypeList = constructOptionList(this.props.Login.masterData.MaterialType || [], \"nmaterialtypecode\",\n        //     \"smaterialtypename\", undefined, undefined, undefined);\n        //     constructOptionList(options, optionId,\n        //         optionValue, sortField, sortOrder, alphabeticalSort,\n        //          defaultStatusFieldName) \n\n        const materialTypeList = constructjsonOptionList(this.props.Login.masterData.MaterialType, \"nmaterialtypecode\", \"smaterialtypename\", undefined, undefined, undefined, undefined, undefined, true, this.props.Login.userInfo.slanguagetypecode);\n        filterCatList = materialTypeList.get(\"OptionList\");\n        console.log('masterData.MaterialType :', masterData.MaterialType);\n        selectedcombo = {\n          nmaterialtypecode: masterData.MaterialType && masterData.MaterialType.length > 0 ? {\n            \"value\": masterData.MaterialType[0].nmaterialtypecode,\n            \"label\": masterData.MaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode]\n          } : \"\"\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.MaterialCategoryMain !== previousProps.Login.masterData.MaterialCategoryMain) {\n      const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\n      materialCatList = MaterialCategoryMain.get(\"OptionList\");\n      selectedMaterialCat = {\n        nmaterialcatcode: masterData.MaterialCategoryMain && masterData.MaterialCategoryMain.length > 0 ? {\n          \"value\": masterData.MaterialCategoryMain[0].nmaterialcatcode,\n          \"label\": masterData.MaterialCategoryMain[0].smaterialcatname\n        } : \"\"\n      };\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      filterData = this.generateBreadCrumData();\n    }\n\n    if (this.props.Login.masterData.searchedData !== previousProps.Login.masterData.searchedData) {\n      if (this.props.Login.masterData.searchedData) {\n        if (this.props.Login.masterData.searchedData.length <= this.state.skip) {\n          this.setState({\n            skip: 0\n          });\n        }\n      }\n    }\n\n    if (bool) {\n      this.setState({\n        selectedRecord,\n        comboitem,\n        filterData,\n        selectedcombo,\n        filterCatList,\n        selectedMaterialCat,\n        materialCatList,\n        isSelectedRecordChange: false\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  handleClickDelete(masterData, ncontrolcode, modalName) {\n    const fieldArray = [];\n    let postParam = {\n      inputListName: \"Material\",\n      selectedObject: \"SelectedMaterial\",\n      primaryKeyField: \"nmaterialcode\",\n      primaryKeyValue: fieldArray,\n      fetchUrl: \"material/getMaterial\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      }\n    };\n    modalName = 'openModal';\n    const inputParam = {\n      methodUrl: \"Material\",\n      classUrl: \"material\",\n      inputData: {\n        \"material\": this.props.Login.masterData.SelectedMaterial,\n        \"nmaterialcatcode\": this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\n        \"userinfo\": this.props.Login.userInfo,\n        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode,\n        \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\n      },\n      operation: \"delete\",\n      postParam,\n      displayName: \"Material\"\n    };\n\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          loadEsign: true,\n          screenData: {\n            inputParam,\n            masterData\n          },\n          [modalName]: true,\n          operation: 'delete',\n          screenName: \"Material\",\n          id: \"material\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    } else {\n      this.props.crudMaster(inputParam, masterData, modalName);\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  updateStore,\n  initialcombochangeget,\n  getAddMaterialPopup,\n  viewAttachment,\n  getMaterialReload,\n  crudMaster,\n  getMaterialDetails,\n  getMaterialEdit,\n  getMaterialByTypeCode,\n  addMaterialFile,\n  getAddMaterialSectionPopup,\n  getMaterialSectionEdit,\n  filterColumnData,\n  validateEsignCredential,\n  addSafetyInstructions,\n  addMaterialProperty\n})(injectIntl(Material));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/Material/Material.jsx"],"names":["React","Component","connect","FormattedMessage","injectIntl","Row","Col","Nav","Card","FormGroup","FormLabel","process","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","SlideOutModal","Esign","constructjsonOptionList","convertDateTimetoString","convertDateTimetoStringDBformat","formatInputDate","ListMaster","CustomTab","showEsign","getControlMap","constructOptionList","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormat","callService","updateStore","crudMaster","filterColumnData","validateEsignCredential","viewAttachment","initialcombochangeget","addSafetyInstructions","getAddMaterialPopup","getMaterialDetails","addMaterialProperty","getMaterialReload","getMaterialEdit","getMaterialByTypeCode","getAddMaterialSectionPopup","getMaterialSectionEdit","addMaterialFile","DEFAULT_RETURN","transactionStatus","attachmentType","ContentPanel","ReadOnlyText","MediaLabel","ConfirmMessage","BreadcrumbComponent","ReactTooltip","MaterialFilter","DynamicSlideout","MaterialSectionTab","AddMaterialSection","Affix","MaterialMsdsAttachmentTab","AddMaterialFile","ProductList","PortalModal","ModalShow","mapStateToProps","state","Login","Material","constructor","props","paneSizeChange","d","setState","splitChangeWidthPercentage","dynamicmandatoryFeilds","mandatoryFeildsMaterial","masterData","selectedTemplate","sjsonobjstr","map","row","children","column","component","mandatory","inputtype","push","label","hasOwnProperty","componentrow","accordianDesign","selectedmasterlistmain","SelectedMaterial","jsondata","undefined","designaccordian","length","YES","handleDateChange","dateValue","dateName","selectedRecord","isSelectedRecordChange","onTabChange","tabProps","tabScreen","screenName","updateInfo","typeName","data","onDropMaterialFile","attachedFiles","fieldName","maxSize","actionType","deleteAttachment","event","file","onSaveMaterialFile","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","NO","testFileArray","testFile","nmaterialcode","nmaterialfilecode","nstatus","ACTIVE","ndefaultstatus","LINK","formData","FormData","FTP","Array","isArray","forEach","index","tempData","Object","assign","splittedFileName","name","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","ntestfilecode","sdescription","trim","NA","size","append","nfilesize","slinkfilename","slinkdescription","nlinkcode","value","JSON","stringify","inputParam","operation","inputData","userinfo","userInfo","isFileupload","classUrl","methodUrl","tabDetail","tabMap","Map","dataresultarr","temp","ismaterialSectionneed","set","controlMap","userRoleControlRights","sectionDataState","skip","take","screenname","dataState","getTestDetails","addMaterialSection","deleteRecordmain","MaterialMsdsAttachment","param","viewMaterialFile","settings","deleteParam","selected","methodDataState","instrumentCatDataState","ncontrolCode","toLowerCase","nformcode","loadEsign","screenData","openModal","showMaterialSection","isneedcombomulti","ConfirmDelete","deleteId","confirmMessage","confirm","intl","formatMessage","id","handleClickDelete","openFilter","showFilter","closeFilter","onFilterSubmit","searchRef","current","selectedcombo","materialCatList","selectedMaterialCat","warn","handlePageChange","e","validateEsign","sreason","password","filedata","materialmsdsattachment","closeModal","selectedId","onComboChange","comboData","item","nmaterialtypecode","displaymember","comboName","comboitem","onComboChangedynamic","control","onInputOnChange","optional2","target","type","checked","DEACTIVE","onSaveClick","saveType","formRef","varmain","postParam","SelectedMaterialType","Layout","IDS_STANDARDMATERIALNAME","IDS_VOLUMETRICMATERIALNAME","IDS_MATERIALNAME","IDS_MATERIALCAT","copyScreenRights","ConfirmComponent","selectedTemplateSafetyInstructions","dynamicobj","MaterialSafetyInstructions","nmaterialsafetyinstructionscode","selectedTemplateProperties","MaterialProperties","nmaterialpropertycode","newarr","nmaterialsectioncode","newarrobj","nmaterialsectioncodeprimaryKeyValue","onNumericInputChange","copyAlertSave","reloadData","SelectedMaterialCategory","parseInt","masterStatus","error","filterCatList","ControlRights","dataResult","createRef","getDerivedStateFromProps","render","addId","has","get","ncontrolcode","editId","addParameterId","masterlistmain","i","searchedDatalistmain","searchedData","searchFieldList","mandatoryFieldsMaterialFile","feild","jsonfeild","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","isjsondata","mandatoryFieldsMaterialSection","breadCrumbData","filterData","master","IDS_QUARANTINE","MaterialSection","ismaterialsectionEdit","productCategoryList","handleChange","templateData","timeZoneList","defaultTimeZone","linkMaster","componentDidMount","parentHeight","height","clientHeight","firstPane","generateBreadCrumData","smaterialtypename","smaterialcatname","componentDidUpdate","previousProps","bool","values","MaterialType","materialTypeList","slanguagetypecode","console","log","MaterialCategoryMain","nmaterialcatcode","componentWillUnmount","modalName","fieldArray","primaryKeyValue","displayName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Row, Col, Nav, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport { constructjsonOptionList, convertDateTimetoString, convertDateTimetoStringDBformat, formatInputDate } from '../../components/CommonScript';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component'\r\nimport { showEsign, getControlMap, constructOptionList, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormat } from '../../components/CommonScript';\r\nimport {\r\n    callService, updateStore, crudMaster, filterColumnData, validateEsignCredential, viewAttachment,\r\n    initialcombochangeget, addSafetyInstructions, getAddMaterialPopup, getMaterialDetails, addMaterialProperty, getMaterialReload,\r\n    getMaterialEdit, getMaterialByTypeCode, getAddMaterialSectionPopup, getMaterialSectionEdit, addMaterialFile\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport { ContentPanel, ReadOnlyText, MediaLabel } from '../../components/App.styles';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport MaterialFilter from './MaterialFilter';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\r\nimport MaterialSectionTab from './MaterialSectionTab';\r\nimport AddMaterialSection from './AddMaterialSection';\r\nimport { Affix } from 'rsuite';\r\nimport MaterialMsdsAttachmentTab from './MaterialMsdsAttachmentTab';\r\nimport AddMaterialFile from './AddMaterialFile';\r\nimport { ReactComponent as Safety } from '../../assets/image/safety.svg';\r\nimport { ReactComponent as Property } from '../../assets/image/managed-hosting.svg';\r\nimport { ProductList } from '../product/product.styled';\r\nimport PortalModal from '../../PortalModal';\r\nimport ModalShow from '../../components/ModalShow';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass Material extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            sectionDataState: { skip: 0, take: 10 },\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            filterCatList: [],\r\n            operation: \"\",\r\n            comboitem: undefined,\r\n            screenName: undefined,\r\n            selectedcombo: undefined,\r\n            isSelectedRecordChange: false,\r\n            selectedMaterialCat: undefined,\r\n            materialCatList: [],\r\n            userRoleControlRights: [],\r\n            ControlRights: undefined,\r\n            controlMap: new Map(),\r\n            dataResult: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],\r\n            dataState: dataState,\r\n            data: [],\r\n            splitChangeWidthPercentage: 30,\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    render() {\r\n        const addId = this.state.controlMap.has(\"AddMaterial\") && this.state.controlMap.get(\"AddMaterial\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditMaterial\") && this.state.controlMap.get(\"EditMaterial\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteMaterial\") && this.state.controlMap.get(\"DeleteMaterial\").ncontrolcode;\r\n        const addParameterId = this.state.controlMap.has(\"AddMaterialSafetyInstructions\")\r\n            && this.state.controlMap.get(\"AddMaterialSafetyInstructions\").ncontrolcode;\r\n        const addMaterialProperty = this.state.controlMap.has(\"AddMaterialProperties\")\r\n            && this.state.controlMap.get(\"AddMaterialProperties\").ncontrolcode;\r\n        let masterlistmain = []\r\n        this.props.Login.masterData.Material &&\r\n            this.props.Login.masterData.Material.map((temp, i) => {\r\n                return masterlistmain.push(this.props.Login.masterData.Material[i].jsondata)\r\n            })\r\n        let searchedDatalistmain = []\r\n\r\n        if (this.props.Login.masterData.searchedData === undefined) {\r\n            searchedDatalistmain = undefined\r\n        } else {\r\n            this.props.Login.masterData.searchedData &&\r\n                this.props.Login.masterData.searchedData.map((temp, i) => {\r\n                    return searchedDatalistmain.push(this.props.Login.masterData.searchedData[i].jsondata)\r\n                })\r\n        }\r\n        let searchFieldList = []\r\n        let mandatoryFieldsMaterialFile = []\r\n        if (this.props.Login.masterData.SelectedMaterialType) {\r\n            if (this.props.Login.masterData.SelectedMaterialType.length > 0) {\r\n                if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\r\n                    searchFieldList = [{\r\n                        feild: \"IDS_STANDARDMATERIALNAME\", jsonfeild: \"jsondata\"\r\n                    }]\r\n                }\r\n                else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\r\n                    searchFieldList = [{\r\n                        feild: \"IDS_VOLUMETRICMATERIALNAME\", jsonfeild: \"jsondata\"\r\n                    }]\r\n                }\r\n                else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\r\n                    searchFieldList = [{\r\n                        feild: \"IDS_MATERIALNAME\", jsonfeild: \"jsondata\"\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n        const filterParam = {\r\n            inputListName: \"Material\", selectedObject: \"SelectedMaterial\", primaryKeyField: \"nmaterialcode\",\r\n            fetchUrl: \"material/getMaterialByID\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            isjsondata: true,\r\n            searchFieldList: searchFieldList\r\n        };\r\n        this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' && (this.props.Login.selectedRecord &&\r\n            this.props.Login.selectedRecord.nattachmenttypecode === attachmentType.LINK) ?\r\n            mandatoryFieldsMaterialFile = [\r\n                { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n            ]\r\n            :\r\n            mandatoryFieldsMaterialFile = [\r\n                { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n            ]\r\n\r\n        const mandatoryFieldsMaterialSection = [\r\n            {\r\n                \"mandatory\": false, \"idsName\": \"IDS_MATERIALSECTION\", \"dataField\": \"nmaterialsectioncode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n        ];\r\n        const breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb  fixed_breadcrumd \">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={64}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix>\r\n                        : \"\"\r\n                    }\r\n                    <Row noGutters>\r\n                        <Col md={4} >\r\n\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"Material\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={searchedDatalistmain || masterlistmain}\r\n                                getMasterDetail={(master) => this.props.getMaterialDetails(master, this.props.Login.masterData, this.props.Login.userInfo)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata}\r\n                                primaryKeyField=\"nmaterialcode\"\r\n                                mainField={this.props.Login.masterData.SelectedMaterialType ?\r\n                                    this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\r\n                                        \"IDS_STANDARDMATERIALNAME\" :\r\n                                        this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\r\n                                            \"IDS_VOLUMETRICMATERIALNAME\" :\r\n                                            \"IDS_MATERIALNAME\" : \"\"}\r\n                                firstField={\"IDS_REORDERLEVEL\"}\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_FILTER\":\r\n                                            <MaterialFilter\r\n                                                filterCatList={this.state.filterCatList || []}\r\n                                                materialCatList={this.state.materialCatList || []}\r\n                                                selectedRecord={this.state.selectedcombo || {}}//\r\n                                                selectedMaterialCat={this.state.selectedMaterialCat || {}}\r\n                                                onComboChange={this.onComboChange}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                                openModal={() => this.props.getAddMaterialPopup(\r\n                                    \"create\", this.props.Login.userInfo, this.state.selectedcombo,\r\n                                    addId, this.props.Login.masterData,\r\n                                    this.state.selectedRecord)}\r\n                            />\r\n                        </Col>\r\n                        <Col md='8'>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.Material && this.props.Login.masterData.Material.length > 0 && this.props.Login.masterData.SelectedMaterial ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                    <Card.Title className=\"product-title-main\">\r\n                                                        {this.props.Login.masterData.SelectedMaterialType ?\r\n                                                            this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\r\n                                                                this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_STANDARDMATERIALNAME :\r\n                                                                this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\r\n                                                                    this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_VOLUMETRICMATERIALNAME :\r\n                                                                    this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_MATERIALNAME : \"\"}\r\n                                                    </Card.Title>\r\n                                                    <Card.Subtitle>\r\n                                                        <ProductList className=\"d-flex product-category icon-group-wrap\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                <MediaLabel >\r\n                                                                    Quarantine :\r\n                                                                </MediaLabel>\r\n                                                                <MediaLabel className={`btn-normal ${this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_QUARANTINE === transactionStatus.YES ? \"outline-success\" : \"normal-danger\"} pl-1 mr-3`}>\r\n                                                                    {this.props.Login.masterData.SelectedMaterial[\"jsondata\"].IDS_QUARANTINE === transactionStatus.YES ?\r\n                                                                        'Yes' : 'No'}\r\n                                                                </MediaLabel>\r\n                                                            </h2>\r\n\r\n                                                            <div className=\"d-inline \">\r\n                                                                <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={(e) =>\r\n                                                                        this.props.getAddMaterialPopup(\r\n                                                                            \"update\", this.props.Login.userInfo, this.state.selectedcombo,\r\n                                                                            editId, this.props.Login.masterData,\r\n                                                                            this.state.selectedRecord)\r\n                                                                    }\r\n                                                                >\r\n\r\n                                                                    <FontAwesomeIcon icon={faPencilAlt}\r\n                                                                        title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                </Nav.Link>\r\n\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.ConfirmDelete(deleteId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                                                                </Nav.Link>\r\n\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDMATERIALSAFETYINSTRUCTIONS\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={(e) => this.props.addSafetyInstructions(this.props.Login.masterData,\r\n                                                                        this.props.Login.userInfo, addParameterId, \"create\", {})}\r\n                                                                >\r\n                                                                    <Safety className=\"custom_icons\" width=\"15\" height=\"15\" />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDMATERIALPROPERTY\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={(e) => this.props.addMaterialProperty(this.props.Login.masterData,\r\n                                                                        this.props.Login.userInfo, addMaterialProperty, \"create\", {})}\r\n                                                                >\r\n                                                                    <Property className=\"custom_icons\" width=\"15\" height=\"15\" />\r\n                                                                </Nav.Link>\r\n                                                            </div>\r\n                                                        </ProductList>\r\n                                                    </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>\r\n                                                    <Row>\r\n                                                        {this.accordianDesign()}\r\n                                                    </Row>\r\n                                                    {this.props.Login.masterData && <CustomTab activeKey={this.props.Login.masterData.tabScreen || 'IDS_MATERIALMSDSATTACHMENT'} tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n                                                </Card.Body>\r\n                                            </Card> : \"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {/* {this.props.Login.openPortal &&\r\n\r\n                        <DynamicSlideout\r\n                            selectedRecord={this.state.selectedRecord}\r\n                            enableDisableTextInput={this.props.Login.selectedRecord['IDS_EXPIRY']}\r\n                            templateData={this.props.Login.masterData.selectedTemplate &&\r\n                                this.props.Login.masterData.selectedTemplate[0].sjsonobjstr}\r\n                            onNumericInputChange={this.onNumericInputChange}\r\n                            handleChange={this.handleChange}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            comboData={this.props.Login.templateData && this.props.Login.templateData.comboData}\r\n                            onComboChange={this.onComboChangedynamic}\r\n\r\n                        />\r\n                } */}\r\n                {\r\n                    this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.screenname === 'IDS_MATERIALSAFETYINSTRUCTIONS' ? '' :\r\n                            this.props.Login.screenname === 'IDS_MATERIALPROPERTY' ? '' :\r\n                                this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenname}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.screenname === 'IDS_MATERIALMSDSATTACHMENT' ? mandatoryFieldsMaterialFile : this.props.Login.screenname === 'IDS_MATERIAL' ? this.dynamicmandatoryFeilds() :\r\n                            this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ?\r\n                                this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ? mandatoryFieldsMaterialSection : ''\r\n                                : ''}\r\n                        updateStore={this.props.updateStore}\r\n                        addComponent={\r\n                            this.props.Login.loadEsign ?\r\n                                <Esign operation={this.props.Login.operation}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                                :\r\n                                this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\" ?\r\n                                    this.props.Login.screenname !== 'IDS_MATERIALPROPERTY' ?\r\n                                        this.props.Login.screenname !== 'IDS_MATERIALSAFETYINSTRUCTIONS' ?\r\n                                            this.props.Login.showMaterialSection ?\r\n                                                <AddMaterialSection\r\n                                                    selectedRecord={this.props.Login.selectedRecord || {}}\r\n                                                    onInputOnChange={this.onInputOnChange}\r\n                                                    MaterialSectionCombodata={this.props.Login.masterData.MaterialSection && this.props.Login.masterData.MaterialSection}\r\n                                                    onNumericInputChange={this.onNumericInputChange}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                    isDisabled={this.props.Login.isneedcombomulti && this.props.Login.isneedcombomulti}\r\n                                                    ismaterialsectionEdit={this.props.Login.ismaterialsectionEdit}\r\n                                                    comboData={this.props.Login.masterData.productCategoryList}\r\n                                                />\r\n                                                :\r\n                                                <DynamicSlideout\r\n                                                    selectedRecord={this.state.selectedRecord}\r\n                                                    enableDisableExpiryPolicy={this.props.Login.selectedRecord['IDS_EXPIRY']}\r\n                                                    enableDisableOpenExpiry={this.props.Login.selectedRecord['IDS_OPENEXIPIRYNEED']}\r\n                                                    templateData={this.props.Login.masterData.selectedTemplate &&\r\n                                                        this.props.Login.masterData.selectedTemplate[0].sjsonobjstr}\r\n                                                    onNumericInputChange={this.onNumericInputChange}\r\n                                                    handleChange={this.handleChange}\r\n                                                    onInputOnChange={this.onInputOnChange}\r\n                                                    comboData={this.props.Login.templateData && this.props.Login.templateData.comboData}\r\n                                                    onComboChange={this.onComboChangedynamic}\r\n\r\n                                                />\r\n                                            :\r\n                                            <DynamicSlideout\r\n                                                selectedRecord={this.props.Login.selectedRecord}\r\n                                                templateData={this.props.Login.masterData.selectedTemplateSafetyInstructions &&\r\n                                                    this.props.Login.masterData.selectedTemplateSafetyInstructions[0].sjsonobjstr}\r\n                                                handleChange={this.handleChange}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                            />\r\n                                        :\r\n                                        <DynamicSlideout\r\n                                            selectedRecord={this.props.Login.selectedRecord}\r\n                                            templateData={this.props.Login.masterData.selectedTemplateProperties &&\r\n                                                this.props.Login.masterData.selectedTemplateProperties[0].sjsonobjstr}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                            handleChange={this.handleChange}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            handleDateChange={this.handleDateChange}\r\n                                            timeZoneList={this.props.Login.timeZoneList}\r\n                                            onComboChange={this.onComboChangedynamic}\r\n                                            defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                        /> :\r\n                                    <AddMaterialFile\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onDrop={this.onDropMaterialFile}\r\n                                        deleteAttachment={this.deleteAttachment}\r\n                                        onComboChange={this.onComboChange}\r\n                                        linkMaster={this.props.Login.linkMaster}\r\n                                        maxSize={20}\r\n                                        maxFiles={1}\r\n                                        multiple={false}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_MATERIALMSDSATTACHMENT\" })}\r\n                                        name=\"testfilename\"\r\n                                    />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n    dynamicmandatoryFeilds = () => {\r\n        let mandatoryFeildsMaterial = [];\r\n        this.props.Login.masterData.selectedTemplate &&\r\n            this.props.Login.masterData.selectedTemplate[0].sjsonobjstr.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.mandatory) {\r\n                            if (component.inputtype === 'combo') {\r\n                                mandatoryFeildsMaterial.push({\r\n                                    \"idsName\": [component.label], \"dataField\": [component.label],\r\n                                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                                })\r\n                            }\r\n                            else {\r\n                                mandatoryFeildsMaterial.push({\r\n                                    \"idsName\": [component.label], \"dataField\": [component.label],\r\n                                    \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                                })\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map((componentrow) => {\r\n                            if (componentrow.mandatory) {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    mandatoryFeildsMaterial.push({\r\n                                        \"idsName\": [componentrow.label], \"dataField\": [componentrow.label],\r\n                                        \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    mandatoryFeildsMaterial.push({\r\n                                        \"idsName\": [componentrow.label], \"dataField\": [componentrow.label],\r\n                                        \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                                    })\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n            })\r\n        return mandatoryFeildsMaterial;\r\n    }\r\n    accordianDesign = () => {\r\n        let selectedmasterlistmain = [];\r\n        this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata !== undefined &&\r\n            selectedmasterlistmain.push(this.props.Login.masterData.SelectedMaterial.jsondata)\r\n\r\n        let designaccordian = [];\r\n        this.props.Login.masterData.selectedTemplate[0].sjsonobjstr.map((row) => {\r\n            row.children.map((column) => {\r\n                column.children.map((component) => {\r\n                    if (component.inputtype === 'combo') {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] ?\r\n                                            selectedmasterlistmain[0][component.label]['label'] : \"\"}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    else if (component.inputtype === 'toggle') {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] &&\r\n                                            selectedmasterlistmain[0][component.label] === transactionStatus.YES ?\r\n                                            'Yes' : 'No'}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (component.label !== undefined) {\r\n                            designaccordian.push(<Col md='4'>\r\n                                <FormGroup>\r\n                                    <FormLabel><FormattedMessage id={[component.label]} message={[component.label]} /></FormLabel>\r\n                                    <ReadOnlyText>\r\n                                        {selectedmasterlistmain.length > 0 &&\r\n                                            selectedmasterlistmain[0][component.label] ? selectedmasterlistmain[0][component.label] : \"-\"}\r\n                                    </ReadOnlyText>\r\n\r\n                                </FormGroup>\r\n                            </Col>)\r\n                        }\r\n                    }\r\n                    component.hasOwnProperty(\"children\") && component.children.map((componentrow) => {\r\n                        if (componentrow.inputtype === 'combo') {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] ?\r\n                                                selectedmasterlistmain[0][componentrow.label]['label'] : \"-\"}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                        else if (componentrow.inputtype === 'toggle') {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] &&\r\n                                                selectedmasterlistmain[0][componentrow.label]['label'] === transactionStatus.YES ?\r\n                                                'Yes' : 'No'}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (componentrow.label !== undefined) {\r\n                                designaccordian.push(<Col md='4'>\r\n                                    <FormGroup>\r\n                                        <FormLabel><FormattedMessage id={[componentrow.label]} message={[componentrow.label]} /></FormLabel>\r\n                                        <ReadOnlyText>\r\n                                            {selectedmasterlistmain.length > 0 &&\r\n                                                selectedmasterlistmain[0][componentrow.label] ?\r\n                                                selectedmasterlistmain[0][componentrow.label] : \"-\"}\r\n                                        </ReadOnlyText>\r\n\r\n                                    </FormGroup>\r\n                                </Col>)\r\n                            }\r\n                        }\r\n                    }\r\n                    )\r\n                })\r\n            })\r\n        })\r\n        return designaccordian;\r\n    }\r\n    handleDateChange = (dateValue, dateName) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        isSelectedRecordChange = true;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord, isSelectedRecordChange });\r\n    }\r\n    onTabChange = (tabProps) => {\r\n        const tabScreen = tabProps.screenName;\r\n        let masterData = this.props.Login.masterData\r\n        masterData['tabScreen'] = tabScreen\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onDropMaterialFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\"\r\n        });\r\n    }\r\n    onSaveMaterialFile = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let testFileArray = [];\r\n        let testFile = {\r\n            nmaterialcode: this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode,\r\n            nmaterialfilecode: selectedRecord.nmaterialfilecode ? selectedRecord.nmaterialfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n            ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, testFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntestfilecode && selectedRecord.ntestfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    testFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                testFile[\"sfilename\"] = selectedRecord.sfilename;\r\n                testFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                testFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                testFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                testFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                testFileArray.push(testFile);\r\n            }\r\n        } else {\r\n            testFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            testFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\r\n            testFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            testFile[\"ssystemfilename\"] = \"\";\r\n            testFile[\"nfilesize\"] = 0;\r\n            testFileArray.push(testFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"materialmsdsattachment\", JSON.stringify(testFileArray[0]));\r\n\r\n        let inputParam;\r\n        if (this.props.Login.operation === 'create') {\r\n            inputParam = {\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: \"create\",\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialMsdsAttachment\"\r\n            }\r\n        }\r\n        else {\r\n            inputParam = {\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: \"update\",\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialMsdsAttachment\"\r\n            }\r\n        }\r\n\r\n        return inputParam;\r\n    }\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        {\r\n\r\n            let dataresultarr = []\r\n            this.props.Login.masterData[\"MaterialSection\"] &&\r\n                this.props.Login.masterData[\"MaterialSection\"].map((temp) => {\r\n                    return dataresultarr.push(temp.jsondata)\r\n                })\r\n            this.props.Login.masterData.ismaterialSectionneed === 3 &&\r\n                tabMap.set(\"IDS_MATERIALSECTION\",\r\n                    <MaterialSectionTab\r\n                        controlMap={this.state.controlMap}\r\n                        userRoleControlRights={this.state.userRoleControlRights}\r\n                        dataResult={process(dataresultarr,\r\n                            (this.props.screenName === undefined || this.props.screenName === \"IDS_MATERIALSECTION\")\r\n                                ? this.state.sectionDataState : { skip: 0, take: 10 })}\r\n                        dataState={(this.props.screenName === undefined || this.props.screenname === \"IDS_MATERIALSECTION\")\r\n                            ? this.state.sectionDataState : { skip: 0, take: 10 }}\r\n                        dataStateChange={(event) => this.setState({ sectionDataState: event.dataState })}\r\n                        masterData={this.props.Login.masterData}\r\n                        userInfo={this.props.Login.userInfo}\r\n                        getTestDetails={this.props.getTestDetails}\r\n                        getAddMaterialSectionPopup={this.props.getAddMaterialSectionPopup}\r\n                        addParameter={this.addMaterialSection}\r\n                        deleteRecord={this.deleteRecordmain}\r\n                        fetchRecord={this.props.getMaterialSectionEdit}\r\n                        selectedRecord={this.props.Login.selectedRecord}\r\n                        screenName=\"IDS_MATERIALSECTION\"\r\n                    />\r\n                );\r\n            tabMap.set(\"IDS_MATERIALMSDSATTACHMENT\",\r\n                <MaterialMsdsAttachmentTab\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    deleteRecord={this.deleteRecordmain}\r\n                    MaterialMsdsAttachment={this.props.Login.masterData.MaterialMsdsAttachment || []}\r\n                    addMaterialFile={(param) => this.props.addMaterialFile(param, this.props.Login.masterData.SelectedMaterial)}\r\n                    viewMaterialFile={this.viewMaterialFile}\r\n                    screenName=\"IDS_MATERIALMSDSATTACHMENT\"\r\n                    settings={this.props.settings}\r\n                />);\r\n\r\n\r\n        }\r\n\r\n        return tabMap;\r\n    }\r\n    deleteRecordmain = (deleteParam) => {\r\n        const methodUrl = deleteParam.methodUrl;\r\n        const selected = deleteParam.methodUrl === 'MaterialSection' ? JSON.stringify(deleteParam.selectedRecord) :\r\n            JSON.stringify(deleteParam.selectedRecord[\"jsondata\"]);\r\n        let dataState = undefined;\r\n        if (this.props.screenName === \"IDS_SECTION\") {\r\n            dataState = this.state.sectionDataState;\r\n        } else if (this.props.screenName === \"IDS_METHOD\") {\r\n            dataState = this.state.methodDataState;\r\n        } else if (this.props.screenName === \"IDS_INSTRUMENTCATEGORY\") {\r\n            dataState = this.state.instrumentCatDataState;\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                ncontrolCode: deleteParam.ncontrolCode,\r\n                [methodUrl.toLowerCase()]: selected,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"material\",\r\n            operation: deleteParam.operation,\r\n            ncontrolCode: deleteParam.ncontrolCode,\r\n            methodUrl: methodUrl,\r\n            screenName: \"IDS_MATERIAL\", dataState\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_MATERIAL\", operation: deleteParam.operation, selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openChildModal\", {});\r\n        }\r\n    }\r\n\r\n    addMaterialSection = (param) => {\r\n        let showMaterialSection = this.props.Login.showMaterialSection\r\n        let ncontrolCode = this.props.Login.ncontrolCode\r\n\r\n        let openModal = this.props.Login.openModal\r\n        let isneedcombomulti = this.props.Login.isneedcombomulti;\r\n        isneedcombomulti = false;\r\n        showMaterialSection = true\r\n        openModal = true\r\n        ncontrolCode = param;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showMaterialSection, isneedcombomulti, openModal }\r\n        }\r\n        this.props.getAddMaterialSectionPopup(this.props.Login.masterData, this.props.Login.userInfo, updateInfo, ncontrolCode)\r\n\r\n\r\n    }\r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let inputData = [];\r\n        inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\r\n        inputData[\"materialCatList\"] = this.state.materialCatList;\r\n        if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\r\n            this.props.getMaterialByTypeCode(this.state.selectedcombo,\r\n                this.state.selectedMaterialCat, this.props.Login.masterData, this.props.Login.userInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTUSERROLE\" }));\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height\r\n            });\r\n        }\r\n    }\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        breadCrumbData.push(\r\n            {\r\n                \"label\": \"IDS_MATERIALTYPE\",\r\n                \"value\": this.props.Login.masterData.SelectedMaterialType&&this.props.Login.masterData.SelectedMaterialType.length>0 ? \r\n                this.props.Login.masterData.SelectedMaterialType[0].smaterialtypename : \"NA\",\r\n  \r\n\r\n            }, {\r\n\r\n            \"label\": \"IDS_MATERIALCAT\",\r\n            \"value\": this.props.Login.masterData.SelectedMaterialCategory ?\r\n                this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname !== undefined ?\r\n                    this.props.Login.masterData.SelectedMaterialCategory.smaterialcatname : \"NA\" : \"NA\",\r\n        }\r\n        );\r\n        return breadCrumbData;\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let bool = false;\r\n        let { selectedRecord, selectedcombo, comboitem, filterData, filterCatList, selectedMaterialCat,\r\n            materialCatList } = this.state\r\n        const masterData = this.props.Login.masterData;\r\n        // if (this.props.Login.isSelectedRecordChange !== previousProps.Login.isSelectedRecordChange) {\r\n        //     bool = true;\r\n        //   isSelectedRecordChange = this.props.Login.isSelectedRecordChange\r\n        // }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            bool = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n        if (this.props.Login.selectedcombo !== previousProps.Login.selectedcombo) {\r\n            bool = true;\r\n            selectedcombo = this.props.Login.selectedcombo\r\n        }\r\n\r\n        if (this.props.Login.comboitem !== previousProps.Login.comboitem) {\r\n            bool = true;\r\n            comboitem = this.props.Login.comboitem\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({\r\n                userRoleControlRights, controlMap, data: this.props.Login.masterData.ControlRights\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.MaterialType !== undefined) {\r\n            if (this.props.Login.masterData.MaterialType !== previousProps.Login.masterData.MaterialType) {\r\n                bool = true;\r\n                // const materialTypeList = constructOptionList(this.props.Login.masterData.MaterialType || [], \"nmaterialtypecode\",\r\n                //     \"smaterialtypename\", undefined, undefined, undefined);\r\n                //     constructOptionList(options, optionId,\r\n                //         optionValue, sortField, sortOrder, alphabeticalSort,\r\n                //          defaultStatusFieldName) \r\n                const materialTypeList = constructjsonOptionList(this.props.Login.masterData.MaterialType,\r\n                    \"nmaterialtypecode\", \"smaterialtypename\", undefined, undefined,\r\n                    undefined, undefined,\r\n                    undefined, true, this.props.Login.userInfo.slanguagetypecode)\r\n                filterCatList = materialTypeList.get(\"OptionList\");\r\n                console.log('masterData.MaterialType :', masterData.MaterialType)\r\n                selectedcombo = {\r\n                    nmaterialtypecode: masterData.MaterialType && masterData.MaterialType.length > 0 ? {\r\n                        \"value\": masterData.MaterialType[0].nmaterialtypecode,\r\n                        \"label\": masterData.MaterialType[0]['jsondata'].smaterialtypename[this.props.Login.userInfo.slanguagetypecode]\r\n                    } : \"\"\r\n                }\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.MaterialCategoryMain !== previousProps.Login.masterData.MaterialCategoryMain) {\r\n            const MaterialCategoryMain = constructOptionList(this.props.Login.masterData.MaterialCategoryMain || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            materialCatList = MaterialCategoryMain.get(\"OptionList\");\r\n\r\n            selectedMaterialCat = {\r\n                nmaterialcatcode: masterData.MaterialCategoryMain && masterData.MaterialCategoryMain.length > 0 ? {\r\n                    \"value\": masterData.MaterialCategoryMain[0].nmaterialcatcode,\r\n                    \"label\": masterData.MaterialCategoryMain[0].smaterialcatname\r\n                } : \"\"\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData();\r\n        }\r\n\r\n\r\n        if (this.props.Login.masterData.searchedData !== previousProps.Login.masterData.searchedData) {\r\n            if (this.props.Login.masterData.searchedData) {\r\n                if (this.props.Login.masterData.searchedData.length <= this.state.skip) {\r\n                    this.setState({ skip: 0 });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (bool) {\r\n            this.setState({\r\n                selectedRecord, comboitem, filterData, selectedcombo, filterCatList, selectedMaterialCat,\r\n                materialCatList, isSelectedRecordChange: false\r\n            });\r\n        }\r\n    }\r\n\r\n    handlePageChange = e => {\r\n\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n\r\n    };\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    viewMaterialFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                nmaterialcode: this.props.Login.masterData.SelectedMaterial.nmaterialcode\r\n                    && this.props.Login.masterData.SelectedMaterial.nmaterialcode,\r\n                materialmsdsattachment: JSON.stringify(filedata['jsondata']),\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"material\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedMaterialMsdsAttachment\",\r\n            screenname: \"IDS_MATERIALMSDSATTACHMENT\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let showMaterialSection = this.props.Login.showMaterialSection\r\n        let isneedcombomulti = this.props.Login.isneedcombomulti;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"retire\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            showMaterialSection = false;\r\n            isneedcombomulti = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, showMaterialSection, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData != null) {\r\n            if (fieldName === \"nmaterialtypecode\") {\r\n                const selectedcombo = this.state.selectedcombo || {};\r\n                selectedcombo[fieldName] = comboData;\r\n                this.searchRef.current.value = \"\";\r\n                this.props.initialcombochangeget(comboData.item.nmaterialtypecode, this.props.Login.masterData, this.props.Login.userInfo);\r\n\r\n            }\r\n            else if (fieldName === \"nmaterialcatcode\") {\r\n                const selectedMaterialCat = this.state.selectedMaterialCat || {};\r\n                selectedMaterialCat[fieldName] = comboData;\r\n                this.setState({ selectedMaterialCat });\r\n            }\r\n\r\n            else if (fieldName === \"nmaterialsectioncode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[\"nmaterialsectioncode\"] = comboData;\r\n                this.setState({ selectedRecord });\r\n            }\r\n            else if (fieldName === \"nlinkcode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[\"nlinkcode\"] = comboData;\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n            else if (fieldName.displaymember === \"smaterialcatname\" || fieldName.displaymember === \"sunitname\" || fieldName.displaymember === \"speriodname\") {\r\n                const selectedMaterialCat = this.state.selectedMaterialCat || {};\r\n                selectedMaterialCat[fieldName] = comboData;\r\n                this.setState({ selectedMaterialCat });\r\n\r\n                let comboName = fieldName.label\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                if (comboData) {\r\n                    selectedRecord[comboName] = comboData;\r\n                } else {\r\n                    selectedRecord[comboName] = []\r\n                }\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedRecord }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n\r\n            else if (fieldName.label === \"IDS_STORAGECONDITION\") {\r\n                let comboName = fieldName.label\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                if (comboData) {\r\n                    selectedRecord[comboName] = comboData;\r\n                } else {\r\n                    selectedRecord[comboName] = []\r\n                }\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { selectedRecord }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else if (fieldName === \"value\") {\r\n                const comboitem = this.state.comboitem || {};\r\n                comboitem[fieldName] = comboData;\r\n                this.setState({ comboitem });\r\n            }\r\n        }\r\n    }\r\n\r\n    onComboChangedynamic = (comboData, control) => {\r\n        if (control.inputtype === 'date') {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[`tz${control.label}`] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[control.label] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n    onInputOnChange = (event, optional2) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let isSelectedRecordChange = this.state.isSelectedRecordChange\r\n        if (this.props.Login.screenname !== \"IDS_MATERIALMSDSATTACHMENT\") {\r\n            if (event.target.type === 'checkbox') {\r\n                if (event.target.name === \"ntransactionstatus\")\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n                else\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                if (event.target.name === 'IDS_EXPIRY') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['IDS_EXPIRYPOLICY'])\r\n                            delete selectedRecord['IDS_EXPIRYPOLICY']\r\n                        if (selectedRecord['tzIDS_EXPIRYPOLICY'])\r\n                            delete selectedRecord['tzIDS_EXPIRYPOLICY']\r\n                    }\r\n                }\r\n                if (event.target.name === 'IDS_OPENEXIPIRYNEED') {\r\n                    if (selectedRecord[event.target.name] === 4) {\r\n                        if (selectedRecord['IDS_OPENEXIPIRY'])\r\n                            delete selectedRecord['IDS_OPENEXIPIRY']\r\n                        if (selectedRecord['tzIDS_OPENEXIPIRY'])\r\n                            delete selectedRecord['tzIDS_OPENEXIPIRY']\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            isSelectedRecordChange = true\r\n            this.setState({ selectedRecord, isSelectedRecordChange });\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? optional2[0] : optional2[1];\r\n            } else if (event.target.type === 'radio') {\r\n                selectedRecord[event.target.name] = optional2;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputData = [];\r\n        let inputParam = {};\r\n        let varmain = {};\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n\r\n        if (this.props.Login.screenname === \"IDS_MATERIAL\") {\r\n\r\n            if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1) {\r\n                varmain = \"IDS_STANDARDMATERIALNAME\"\r\n            }\r\n            else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2) {\r\n                varmain = \"IDS_VOLUMETRICMATERIALNAME\"\r\n            }\r\n            else if (this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 3) {\r\n                varmain = \"IDS_MATERIALNAME\"\r\n            }\r\n            inputData[\"Material\"] = {}\r\n            const Layout = this.props.Login.masterData.selectedTemplate[0].sjsonobjstr\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.inputtype === 'combo') {\r\n                           \r\n                                inputData[\"Material\"][component.label] =inputData[\"Material\"][component.label] ? {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"]\r\n                                }:\"\"\r\n                          \r\n                        }\r\n                        else if (component.label === 'IDS_QUARANTINE') {\r\n                            inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                        }\r\n                        else if (component.label === 'IDS_EXPIRY') {\r\n                            inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                        }\r\n                        else if (component.label === 'IDS_REUSABLE') {\r\n                            inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord[component.label] !== \"\") {\r\n                                inputData[\"Material\"][component.label] = this.state.selectedRecord[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    if (inputData[\"Material\"][componentrow.label]) {\r\n                                        inputData[\"Material\"][componentrow.label] =\r\n                                        {\r\n                                            label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                            value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label] !== \"\") {\r\n                                        inputData[\"Material\"][componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            inputData[\"Material\"][varmain] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 1 ?\r\n                this.state.selectedRecord.IDS_STANDARDMATERIALNAME :\r\n                this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode === 2 ?\r\n                    this.state.selectedRecord.IDS_VOLUMETRICMATERIALNAME :\r\n                    this.state.selectedRecord.IDS_MATERIALNAME\r\n            inputData[\"Material\"] = {\r\n                ...inputData[\"Material\"],\r\n                \"nmaterialcatcode\": this.state.selectedRecord.IDS_MATERIALCAT.value,\r\n                \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            }\r\n            inputData[\"materialJson\"] = JSON.stringify(inputData[\"Material\"])\r\n            inputData[\"nmaterialtypecode\"] = this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            inputData[\"nmaterialcatcode\"] = this.state.selectedRecord.IDS_MATERIALCAT.value\r\n            if (this.props.Login.operation === 'create') {\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"Material\",\r\n                    inputData: inputData,\r\n                    operation: this.props.Login.operation,\r\n                    saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef,\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n            else {\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"Material\",\r\n                    inputData: inputData,\r\n                    operation: this.props.Login.operation,\r\n                    saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef,\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (this.props.Login.screenName === \"IDS_MATERIAL\") {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n            } else {\r\n                if (this.props.Login.masterData.copyScreenRights ? this.props.Login.masterData.copyScreenRights.length > 0 : false) {\r\n                    this.ConfirmComponent()\r\n                }\r\n                else {\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    }\r\n                    else {\r\n                        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALSAFETYINSTRUCTIONS\") {\r\n            const Layout = this.props.Login.masterData.selectedTemplateSafetyInstructions[0].sjsonobjstr\r\n            const dynamicobj = {};\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.inputtype === 'combo') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"]\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] =\r\n                                        {\r\n                                            label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                            value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n            if (this.props.Login.masterData.MaterialSafetyInstructions.length > 0) {\r\n                inputData[\"nmaterialsafetyinstructionscode\"] =\r\n                    this.props.Login.masterData.MaterialSafetyInstructions[0].nmaterialsafetyinstructionscode\r\n            }\r\n            else {\r\n                inputData[\"nmaterialsafetyinstructionscode\"] = 0\r\n            }\r\n\r\n            inputData[\"materialSafetyInstructions\"] = JSON.stringify(dynamicobj)\r\n            inputData[\"nflag\"] = 1;\r\n            inputParam = {\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialSafetyInstructions\",\r\n                inputData: inputData,\r\n                operation: 'create',\r\n                saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                searchRef: this.searchRef,\r\n                dataState: this.state.dataState\r\n            }\r\n            let masterData = this.props.Login.masterData\r\n            if (this.state.isSelectedRecordChange) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n            else {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: false\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALMSDSATTACHMENT\") {\r\n            inputParam = this.onSaveMaterialFile();\r\n            let masterData = this.props.Login.masterData\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else if (this.props.Login.screenname === \"IDS_MATERIALPROPERTY\") {\r\n\r\n            let masterData = this.props.Login.masterData\r\n            const Layout = this.props.Login.masterData.selectedTemplateProperties[0].sjsonobjstr\r\n            const dynamicobj = {};\r\n            inputData[\"DateList\"] = [];\r\n            Layout.map((row) => {\r\n                row.children.map((column) => {\r\n                    column.children.map((component) => {\r\n                        if (component.inputtype === 'combo') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[component.label] = {\r\n                                    label: this.state.selectedRecord[component.label][\"label\"],\r\n                                    value: this.state.selectedRecord[component.label][\"value\"]\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (component.inputtype === 'date') {\r\n                            if (this.state.selectedRecord[component.label]) {\r\n                                dynamicobj[`tz${component.label}`] = {\r\n                                    label: this.state.selectedRecord[`tz${component.label}`][\"label\"],\r\n                                    value: this.state.selectedRecord[`tz${component.label}`][\"value\"]\r\n                                }\r\n                                dynamicobj[component.label] = convertDateTimetoString(this.state.selectedRecord[component.label], this.props.Login.userInfo)\r\n                                inputData[\"DateList\"].push(component.label)\r\n                            }\r\n\r\n                        }\r\n                        else {\r\n                            if (this.state.selectedRecord.hasOwnProperty(component.label)) {\r\n                                dynamicobj[component.label] = this.state.selectedRecord[component.label]\r\n                            }\r\n                        }\r\n                        component.hasOwnProperty(\"children\") && component.children.map(\r\n                            (componentrow) => {\r\n                                if (componentrow.inputtype === 'combo') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] =\r\n                                        {\r\n                                            label: this.state.selectedRecord[componentrow.label][\"label\"],\r\n                                            value: this.state.selectedRecord[componentrow.label][\"value\"]\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else if (componentrow.inputtype === 'date') {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[`tz${componentrow.label}`] = {\r\n                                            label: this.state.selectedRecord[`tz${componentrow.label}`][\"label\"],\r\n                                            value: this.state.selectedRecord[`tz${componentrow.label}`][\"value\"]\r\n                                        }\r\n                                        dynamicobj[componentrow.label] = convertDateTimetoString(this.state.selectedRecord[componentrow.label],\r\n                                            this.props.Login.userInfo)\r\n                                        inputData[\"DateList\"].push(componentrow.label)\r\n                                    }\r\n\r\n                                }\r\n                                else {\r\n                                    if (this.state.selectedRecord[componentrow.label]) {\r\n                                        dynamicobj[componentrow.label] = this.state.selectedRecord[componentrow.label]\r\n                                    }\r\n                                }\r\n                            }\r\n                        )\r\n                    })\r\n                })\r\n            })\r\n            inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n            if (this.props.Login.masterData.MaterialProperties.length > 0) {\r\n                inputData[\"nmaterialpropertycode\"] =\r\n                    this.props.Login.masterData.MaterialProperties[0].nmaterialpropertycode\r\n            } else {\r\n                inputData[\"nmaterialpropertycode\"] = 0\r\n            }\r\n            //inputData[\"DateList\"] = JSON.stringify(DateList)\r\n            inputData[\"materialProperty\"] = JSON.stringify(dynamicobj)\r\n            inputData[\"nflag\"] = 2;\r\n            inputParam = {\r\n                classUrl: \"material\",\r\n                methodUrl: \"MaterialSafetyInstructions\",\r\n                inputData: inputData,\r\n                operation: 'create',\r\n                saveType, formRef, postParam, selectedRecord: this.state.selectedRecord,\r\n                searchRef: this.searchRef,\r\n                dataState: this.state.dataState\r\n            }\r\n            if (this.state.isSelectedRecordChange) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n            else {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openModal: false\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.Login.operation !== \"update\") {\r\n                let showMaterialSection = this.props.Login.showMaterialSection\r\n                let newarr = []\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                if (this.state.selectedRecord[\"nmaterialsectioncode\"].length > 1) {\r\n                    newarr = this.state.selectedRecord.nmaterialsectioncode.map(temp => {\r\n                        return {\r\n                            \"ssectionname\": temp.label,\r\n                            \"nsectioncode\": temp.value,\r\n                            \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\r\n                            \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    newarr.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                    });\r\n                }\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(newarr)\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"MaterialSection\",\r\n                    inputData: inputData,\r\n                    operation: \"create\",\r\n                    showMaterialSection: showMaterialSection,\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef\r\n                }\r\n            }\r\n            else {\r\n                let newarrobj = []\r\n                inputData[\"nmaterialcode\"] = this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                if (Array.isArray(this.state.selectedRecord[\"nmaterialsectioncode\"])) {\r\n                    newarrobj.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"][0].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                    });\r\n                }\r\n                else {\r\n                    newarrobj.push({\r\n                        \"ssectionname\": this.state.selectedRecord[\"nmaterialsectioncode\"].label,\r\n                        \"nsectioncode\": this.state.selectedRecord[\"nmaterialsectioncode\"].value,\r\n                        \"nreorderlevel\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"],\r\n                        \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode\r\n                    });\r\n                }\r\n                inputData[\"materialSectionJson\"] = JSON.stringify(newarrobj)\r\n                inputData[\"MaterialSection\"] = {\r\n                    \"IDS_REORDERLEVEL\": this.state.selectedRecord[\"nreorderlevel\"] && this.state.selectedRecord[\"nreorderlevel\"]\r\n\r\n                }\r\n                inputData[\"nmaterialsectioncode\"] = this.state.selectedRecord.nmaterialsectioncodeprimaryKeyValue\r\n\r\n                inputParam = {\r\n                    classUrl: \"material\",\r\n                    methodUrl: \"MaterialSection\",\r\n                    inputData: inputData,\r\n                    showMaterialSection: false,\r\n                    operation: \"update\",\r\n                    selectedRecord: this.state.selectedRecord,\r\n                    searchRef: this.searchRef\r\n                }\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n    }\r\n    onNumericInputChange = (value, name) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    ConfirmComponent = () => {\r\n        this.confirmMessage.confirm(\"confirmation\", \"Confiramtion!\", this.props.intl.formatMessage({ id: \"IDS_OVERWRITRTHEEXISTINGSCREENRIGHTS\" }),\r\n            \"ok\", \"cancel\", () => this.copyAlertSave());\r\n    }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    handleClickDelete(masterData, ncontrolcode, modalName) {\r\n        const fieldArray = [];\r\n        let postParam = {\r\n            inputListName: \"Material\", selectedObject: \"SelectedMaterial\",\r\n            primaryKeyField: \"nmaterialcode\",\r\n            primaryKeyValue: fieldArray,\r\n            fetchUrl: \"material/getMaterial\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        modalName = 'openModal'\r\n        const inputParam = {\r\n            methodUrl: \"Material\",\r\n            classUrl: \"material\",\r\n            inputData: {\r\n                \"material\": this.props.Login.masterData.SelectedMaterial,\r\n                \"nmaterialcatcode\": this.props.Login.masterData.SelectedMaterialCategory.nmaterialcatcode,\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"nmaterialcode\": this.props.Login.masterData.SelectedMaterial && this.props.Login.masterData.SelectedMaterial.jsondata.nmaterialcode,\r\n                \"nmaterialtypecode\": this.props.Login.masterData.SelectedMaterialType[0].nmaterialtypecode\r\n            },\r\n            operation: \"delete\", postParam,\r\n            displayName: \"Material\",\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, [modalName]: true,\r\n                    operation: 'delete', screenName: \"Material\", id: \"material\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, modalName);\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let inputData = [];\r\n        inputData[\"nmaterialtypecode\"] = this.state.selectedcombo[\"nmaterialtypecode\"];\r\n        inputData[\"materialCatList\"] = this.state.materialCatList;\r\n        this.setState({ sectionDataState: { skip: 0, take: 10 } })\r\n        if (this.state.selectedcombo[\"nmaterialtypecode\"]) {\r\n            this.props.getMaterialReload(this.props.Login.masterData.SelectedMaterialType, this.props.Login.masterData.SelectedMaterialCategory,\r\n                this.props.Login.masterData, this.props.Login.userInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTUSERROLE\" }));\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, updateStore, initialcombochangeget, getAddMaterialPopup, viewAttachment, getMaterialReload,\r\n    crudMaster, getMaterialDetails, getMaterialEdit, getMaterialByTypeCode, addMaterialFile\r\n    , getAddMaterialSectionPopup, getMaterialSectionEdit, filterColumnData, validateEsignCredential, addSafetyInstructions, addMaterialProperty\r\n})(injectIntl(Material));\r\n\r\n"]},"metadata":{},"sourceType":"module"}