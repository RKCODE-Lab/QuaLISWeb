{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\credentialmanagement\\\\MISRights.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport MISRightsTab from './MISRightsTab';\nimport { getAlertRightsComboDataService, getMISRightsDetail, callService, crudMaster, getReportRightsComboDataService, getDashBoardRightsComboDataService, filterColumnData, validateEsignCredential, updateStore, getHomeRightsComboDataService, getAlertHomeRightsComboDataService } from '../../actions';\nimport { getControlMap } from '../../components/CommonScript';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { ContentPanel } from '../../components/App.styles';\nimport ListMaster from '../../components/list-master/list-master.component';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass MISRights extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"MISRights\",\n        displayName: \"MIS Rights\",\n        userInfo: this.props.Login.userInfo // displayName: this.props.Login.inputParam.displayName\n\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.formRef = React.createRef(); // this.closeModal = this.closeModal.bind(this);\n\n    this.extractedColumnList = [];\n    this.userColumnList = [];\n    this.fieldList = [];\n    this.state = {\n      availableDatas: \"\",\n      availableList: \"\",\n      dataSource: [],\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      isOpen: false,\n      userRoleControlRights: [],\n      sidebarview: false,\n      controlMap: new Map()\n    };\n    this.searchRef = React.createRef();\n    this.searchFieldList = [\"suserrolename\"];\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    const filterParam = {\n      inputListName: \"UserRole\",\n      selectedObject: \"SelectedMIS\",\n      primaryKeyField: \"nuserrolecode\",\n      fetchUrl: \"misrights/getMISRights\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: this.searchFieldList\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => this.setState({\n        sidebarview: !this.state.sidebarview\n      }),\n      className: \"sidebar-view-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, !this.state.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-fixed-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_USERROLE\"\n      }),\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.UserRole,\n      getMasterDetail: MISRights => this.props.getMISRightsDetail(MISRights, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.SelectedMIS,\n      primaryKeyField: \"nuserrolecode\",\n      mainField: \"suserrolename\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      isMultiSelecct: false,\n      hidePaging: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '8' : \"10\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, this.props.Login.masterData.UserRole && this.props.Login.masterData.UserRole.length > 0 && this.props.Login.masterData.SelectedMIS ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.SelectedMIS.suserrolename)), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(MISRightsTab, {\n      formatMessage: this.props.intl.formatMessage,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      userInfo: this.props.Login.userInfo,\n      masterData: this.props.Login.masterData,\n      crudMaster: this.props.crudMaster,\n      errorCode: this.props.Login.errorCode,\n      masterStatus: this.props.Login.masterStatus,\n      openChildModal: this.props.Login.openChildModal,\n      DashBoardType: this.props.Login.DashBoardType,\n      Reports: this.props.Login.Reports,\n      Alert: this.props.Login.Alert,\n      HomeRights: this.props.Login.HomeRights,\n      AlertHomeRights: this.props.Login.AlertHomeRights,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.props.Login.selectedRecord,\n      getDashBoardRightsComboDataService: this.props.getDashBoardRightsComboDataService,\n      getReportRightsComboDataService: this.props.getReportRightsComboDataService,\n      getAlertRightsComboDataService: this.props.getAlertRightsComboDataService,\n      getHomeRightsComboDataService: this.props.getHomeRightsComboDataService,\n      getAlertHomeRightsComboDataService: this.props.getAlertHomeRightsComboDataService,\n      ncontrolCode: this.props.Login.ncontrolCode,\n      userRoleControlRights: this.state.userRoleControlRights,\n      esignRights: this.props.Login.userRoleControlRights,\n      screenData: this.props.Login.screenData,\n      validateEsignCredential: this.props.validateEsignCredential,\n      loadEsign: this.props.Login.loadEsign,\n      controlMap: this.state.controlMap,\n      showAccordian: this.state.showAccordian //selectedId={this.props.Login.selectedId}\n      ,\n      dataState: this.props.Login.dataState,\n      onTabChange: this.onTabChange,\n      searchRef: this.searchRef,\n      updateDataState: this.props.Login.masterData.updateDataState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 37\n      }\n    }))) : \"\"))))))));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        const userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        this.setState({\n          userRoleControlRights,\n          controlMap\n        });\n      }\n    } else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  getAlertRightsComboDataService,\n  getMISRightsDetail,\n  callService,\n  filterColumnData,\n  getReportRightsComboDataService,\n  getDashBoardRightsComboDataService,\n  crudMaster,\n  validateEsignCredential,\n  updateStore,\n  getHomeRightsComboDataService,\n  getAlertHomeRightsComboDataService\n})(injectIntl(MISRights));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/credentialmanagement/MISRights.jsx"],"names":["React","connect","injectIntl","Row","Col","Card","toast","MISRightsTab","getAlertRightsComboDataService","getMISRightsDetail","callService","crudMaster","getReportRightsComboDataService","getDashBoardRightsComboDataService","filterColumnData","validateEsignCredential","updateStore","getHomeRightsComboDataService","getAlertHomeRightsComboDataService","getControlMap","DEFAULT_RETURN","ContentPanel","ListMaster","mapStateToProps","state","Login","MISRights","Component","constructor","props","sidebarExpandCollapse","setState","sidebarview","closeModal","loadEsign","openModal","selectedRecord","operation","updateInfo","typeName","data","selectedId","reloadData","searchRef","current","value","inputParam","inputData","userInfo","classUrl","methodUrl","displayName","onTabChange","tabProps","screenName","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","screenData","formRef","createRef","extractedColumnList","userColumnList","fieldList","availableDatas","availableList","dataSource","masterStatus","error","isOpen","userRoleControlRights","controlMap","Map","searchFieldList","getDerivedStateFromProps","warn","render","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","userinfo","masterData","intl","formatMessage","id","searchedData","UserRole","SelectedMIS","length","suserrolename","errorCode","openChildModal","DashBoardType","Reports","Alert","HomeRights","AlertHomeRights","ncontrolCode","showAccordian","dataState","updateDataState","componentDidUpdate","previousProps","nformcode","Object","values","map","item","push","ncontrolcode","componentWillUnmount","undefined","modalName"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col, Card  } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport MISRightsTab from './MISRightsTab';\r\nimport {getAlertRightsComboDataService,getMISRightsDetail, callService, crudMaster,getReportRightsComboDataService,\r\n    getDashBoardRightsComboDataService,filterColumnData, validateEsignCredential, updateStore,getHomeRightsComboDataService,getAlertHomeRightsComboDataService } from '../../actions';\r\nimport { getControlMap } from '../../components/CommonScript';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ContentPanel} from '../../components/App.styles';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass MISRights extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n        // this.closeModal = this.closeModal.bind(this);\r\n        this.extractedColumnList = [];\r\n        this.userColumnList=[];\r\n        this.fieldList = [];\r\n       \r\n       \r\n        this.state = {\r\n            availableDatas:\"\",\r\n            availableList:\"\",\r\n            dataSource: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            isOpen: false,\r\n            userRoleControlRights: [],\r\n            sidebarview: false,\r\n            controlMap: new Map()\r\n        };\r\n        this.searchRef = React.createRef();\r\n\r\n        this.searchFieldList=[\"suserrolename\"];\r\n     \r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord ,selectedId:null}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    render() {\r\n      \r\n\r\n        const filterParam = { inputListName :\"UserRole\", selectedObject : \"SelectedMIS\",  primaryKeyField: \"nuserrolecode\",\r\n                             fetchUrl : \"misrights/getMISRights\", fecthInputObject : {userinfo:this.props.Login.userInfo},\r\n                             masterData:this.props.Login.masterData, searchFieldList: this.searchFieldList\r\n                            };\r\n  \r\n\r\n        return(<>\r\n            {/* Start of get display*/}\r\n            <div className=\"client-listing-wrap mtop-4\">\r\n            <Row noGutters={true}>\r\n                <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                    <span onClick= {()=>this.setState({sidebarview:!this.state.sidebarview})} className='sidebar-view-btn'>\r\n                        {!this.state.sidebarview ?\r\n                            <i class=\"fa fa-less-than\"></i> :\r\n                            <i class=\"fa fa-greater-than\"></i> \r\n                        }\r\n                    </span>\r\n                    <Row noGutters={true}><Col md={12}>\r\n                        <div className=\"list-fixed-wrap\">\r\n                            <ListMaster\r\n                                screenName = {this.props.intl.formatMessage({id:\"IDS_USERROLE\"})}     \r\n                                masterData ={this.props.Login.masterData}\r\n                                userInfo = {this.props.Login.userInfo}                         \r\n                                masterList = {this.props.Login.masterData.searchedData ||this.props.Login.masterData.UserRole}\r\n                                getMasterDetail = {(MISRights)=>this.props.getMISRightsDetail(MISRights, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster = {this.props.Login.masterData.SelectedMIS}\r\n                                primaryKeyField = \"nuserrolecode\"\r\n                                mainField = \"suserrolename\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                searchRef = {this.searchRef}\r\n                                reloadData = {this.reloadData}\r\n                                isMultiSelecct={false}\r\n                                hidePaging={true}\r\n                               />\r\n                        </div>\r\n                    </Col></Row>\r\n                </Col>\r\n                <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                    <Row><Col md={12}>\r\n                    <ContentPanel className=\"panel-main-content\">\r\n                        <Card className=\"border-0\">\r\n                            {this.props.Login.masterData.UserRole && this.props.Login.masterData.UserRole.length > 0 && this.props.Login.masterData.SelectedMIS ?\r\n                                <>\r\n                                <Card.Header>\r\n                                    <Card.Title className=\"product-title-main\">\r\n                                            {this.props.Login.masterData.SelectedMIS.suserrolename}\r\n                                    </Card.Title>\r\n                                  \r\n                                </Card.Header>                                   \r\n                                <Card.Body>\r\n                                    <MISRightsTab\r\n                                               formatMessage={this.props.intl.formatMessage}\r\n                                               operation={this.props.Login.operation}\r\n                                               inputParam={this.props.Login.inputParam}\r\n                                               screenName={this.props.Login.screenName}\r\n                                               userInfo={this.props.Login.userInfo}\r\n                                               masterData={this.props.Login.masterData}\r\n                                               crudMaster={this.props.crudMaster}\r\n                                               errorCode={this.props.Login.errorCode}\r\n                                               masterStatus={this.props.Login.masterStatus}\r\n                                               openChildModal={this.props.Login.openChildModal}\r\n                                               DashBoardType={this.props.Login.DashBoardType}\r\n                                               Reports={this.props.Login.Reports}\r\n                                               Alert={this.props.Login.Alert}\r\n                                               HomeRights={this.props.Login.HomeRights}\r\n                                               AlertHomeRights={this.props.Login.AlertHomeRights}\r\n                                               updateStore={this.props.updateStore}\r\n                                               selectedRecord={this.props.Login.selectedRecord}\r\n                                               getDashBoardRightsComboDataService={this.props.getDashBoardRightsComboDataService}\r\n                                               getReportRightsComboDataService={this.props.getReportRightsComboDataService}\r\n                                               getAlertRightsComboDataService={this.props.getAlertRightsComboDataService}\r\n                                               getHomeRightsComboDataService={this.props.getHomeRightsComboDataService}\r\n                                               getAlertHomeRightsComboDataService={this.props.getAlertHomeRightsComboDataService}\r\n                                               ncontrolCode={this.props.Login.ncontrolCode}\r\n                                               userRoleControlRights={this.state.userRoleControlRights}\r\n                                               esignRights={this.props.Login.userRoleControlRights}\r\n                                               screenData={this.props.Login.screenData}\r\n                                               validateEsignCredential={this.props.validateEsignCredential}\r\n                                               loadEsign={this.props.Login.loadEsign}\r\n                                               controlMap={this.state.controlMap}\r\n                                               showAccordian={this.state.showAccordian}\r\n                                               //selectedId={this.props.Login.selectedId}\r\n                                               dataState={this.props.Login.dataState}\r\n                                               onTabChange={this.onTabChange}\r\n                                               searchRef = {this.searchRef}\r\n                                               updateDataState = {this.props.Login.masterData.updateDataState}\r\n                                            />\r\n                                </Card.Body>                                \r\n                                </>\r\n                                :\"\"\r\n                            }\r\n                        </Card>\r\n                    </ContentPanel>\r\n                    </Col></Row>\r\n                </Col>\r\n            </Row>    \r\n            </div>\r\n               \r\n            </>\r\n        );\r\n    }\r\n\r\n    \r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap\r\n                   \r\n                });\r\n            }\r\n           \r\n        } else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n           \r\n        }   \r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"MISRights\",\r\n            displayName:\"MIS Rights\",\r\n            userInfo: this.props.Login.userInfo\r\n           // displayName: this.props.Login.inputParam.displayName\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, { getAlertRightsComboDataService,getMISRightsDetail,callService,filterColumnData,getReportRightsComboDataService,\r\n    getDashBoardRightsComboDataService, crudMaster, validateEsignCredential, updateStore,getHomeRightsComboDataService ,getAlertHomeRightsComboDataService})(injectIntl(MISRights));"]},"metadata":{},"sourceType":"module"}