{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus,faUserPlus}from'@fortawesome/free-solid-svg-icons';import{MediaLabel}from'../../../components/add-client.styles';import{FormattedMessage,injectIntl}from'react-intl';import{process}from'@progress/kendo-data-query';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{toast}from'react-toastify';import AddParticipants from'./AddParticipants';import Esign from'../../audittrail/Esign';import{callService,crudMaster,getTrainingParticipantsComboDataService,getSectionUsersDataService,updateStore,validateEsignCredential,getTrainingParticipantsInvite,getTrainingParticipantsCancel}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{showEsign}from'../../../components/CommonScript';import DataGrid from'../../../components/data-grid/data-grid.component';import{transactionStatus}from'../../../components/Enumeration';import AddParticipantsStatus from'./AddParticipantsStatus';//import ReactTooltip from 'react-tooltip';\nimport{ReactComponent as Reject}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/image/reject.svg\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingCertificateParticipantsTab=/*#__PURE__*/function(_React$Component){_inherits(TrainingCertificateParticipantsTab,_React$Component);var _super=_createSuper(TrainingCertificateParticipantsTab);function TrainingCertificateParticipantsTab(_props){var _this;_classCallCheck(this,TrainingCertificateParticipantsTab);_this=_super.call(this,_props);_this.participantDataStateChange=function(event){_this.setState({dataResult:process(_this.props.masterData[\"TrainingParticipants\"],event.dataState),dataState:event.dataState});};_this.expandChange=function(event){var isExpanded=event.dataItem.expanded===undefined?event.dataItem.aggregates:event.dataItem.expanded;event.dataItem.expanded=!isExpanded;_this.setState(_objectSpread({},_this.props));};_this.detailBand=function(props){var Dataitem=props.dataItem;var OptionalFieldList=[{datafield:\"ssectionname\",Column:\"Section Name\"},{datafield:\"sfullname\",Column:\"Participants Details\"}];return/*#__PURE__*/React.createElement(Row,null,OptionalFieldList.map(function(fields){return/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:fields.Column,message:fields.Column})),/*#__PURE__*/React.createElement(MediaLabel,{className:\"readonly-text font-weight-normal\"},Dataitem[fields.datafield])));}));};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"||_this.props.operation===\"cancel\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.getTabContent=function(event){_this.setState({activeTab:event.currentTarget.name});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;;if(fieldName===\"ndeputyusersitecode\"){_this.state.deputyUserList.map(function(item){if(item.nusersitecode===comboData.value){selectedRecord[\"sdeputyname\"]=item.sfirstname+\" \"+item.slastname;}return null;});}_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;else selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handleChange=function(value,valueParam,isSection){if(value!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[valueParam]=value;var SelectedTrainingCertificate=_this.props.masterData.SelectedTrainingCertificate.ntrainingcode||{};if(isSection===\"Section\"){_this.props.getSectionUsersDataService(value.value,selectedRecord,_this.props.Login.userInfo,SelectedTrainingCertificate);selectedRecord[\"nusercode\"]=undefined;_this.setState({selectedRecord:selectedRecord});}else{_this.setState({selectedRecord:selectedRecord});}}};_this.onSaveClick=function(saveType,formRef){//add / edit  \nvar inputParam={};if(_this.props.screenName===\"IDS_PARTICIPANTSDETAILS\"){inputParam=_this.saveParticipantDetails(saveType,formRef);}if(_this.props.screenName===\"IDS_INVITEDPARTICIPANTSDETAILS\"){inputParam=_this.saveParticipantInvite(saveType,formRef);}if(_this.props.screenName===\"IDS_CANCELPARTICIPANTSDETAILS\"){inputParam=_this.saveParticipantCancel(saveType,formRef);}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}};_this.saveParticipantInvite=function(saveType,formRef){var inputData=[];var trainingparticipants=[];var dataState=undefined;var postParam={inputListName:\"TrainingCertificate\",selectedObject:\"SelectedTrainingCertificate\",primaryKeyField:\"ntrainingcode\"};inputData[\"userinfo\"]=_this.props.userInfo;_this.props.selectedRecord.nusercode&&_this.props.selectedRecord.nusercode.map(function(participants){trainingparticipants.push({ntrainingcode:_this.props.masterData.SelectedTrainingCertificate.ntrainingcode,//        nparticipantcode: this.props.masterData.SelectedTrainingParticipants.nparticipantcode,\nnusercode:participants.item.nusercode,ntrainingcategorycode:_this.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,ntechniquecode:_this.props.masterData.SelectedTrainingCertificate.ntechniquecode,susername:participants.item.sfullname});});inputData[\"trainingparticipants\"]=trainingparticipants;var inputParam={classUrl:'trainingcertificate',methodUrl:\"TrainingParticipants\",inputData:inputData,operation:\"invite\",saveType:saveType,formRef:formRef,dataState:dataState,postParam:postParam};return inputParam;};_this.saveParticipantCancel=function(saveType,formRef){var inputData=[];var trainingparticipants=[];var dataState=undefined;var postParam={inputListName:\"TrainingCertificate\",selectedObject:\"SelectedTrainingCertificate\",primaryKeyField:\"ntrainingcode\"};inputData[\"userinfo\"]=_this.props.userInfo;_this.props.selectedRecord.nusercode&&_this.props.selectedRecord.nusercode.map(function(participants){trainingparticipants.push({ntrainingcode:_this.props.masterData.SelectedTrainingCertificate.ntrainingcode,//   nparticipantcode: this.props.masterData.selectedTrainingParticipants.nparticipantcode,\nnusercode:participants.item.nusercode,nparticipantcode:participants.item.nparticipantcode,ntrainingcategorycode:_this.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,ntechniquecode:_this.props.masterData.SelectedTrainingCertificate.ntechniquecode});});inputData[\"trainingparticipants\"]=trainingparticipants;var inputParam={classUrl:'trainingcertificate',methodUrl:\"TrainingParticipants\",inputData:inputData,operation:\"cancel\",saveType:saveType,formRef:formRef,dataState:dataState,postParam:postParam};return inputParam;};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};_this.getTrainingCertificateData=function(participantParam,selectedRecord,masterData,operation){if(masterData.SelectedTrainingCertificate.ntransactionstatus!==transactionStatus.CANCELLED&&masterData.SelectedTrainingCertificate.ntransactionstatus!==transactionStatus.COMPLETED){if(masterData.SelectedTrainingCertificate.ntransactionstatus!==transactionStatus.CONDUCTED){if(participantParam.operation===\"create\"){_this.props.getTrainingParticipantsComboDataService(participantParam,masterData);}else if(participantParam.operation===\"invite\"){_this.props.getTrainingParticipantsInvite(participantParam,selectedRecord,masterData,operation);}else{_this.props.getTrainingParticipantsCancel(participantParam,selectedRecord,masterData,operation);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_TESTTRAININGALREADYCONDUCTED\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:masterData.SelectedTrainingCertificate.ntransactionstatus===transactionStatus.CANCELLED?\"IDS_TESTTRAININGALREADYCANCELLED\":\"IDS_TESTTRAININGALREADYCOMPLETED\"}));}};_this.detailedFieldList=[{dataField:\"ssectionname\",idsName:\"IDS_SECTIONNAME\",columnSize:\"4\"},{dataField:\"sfullname\",idsName:\"IDS_PARTICIPANTS\",columnSize:\"4\"}// { dataField: \"sfaxno\", idsName: \"IDS_FAXNO\", columnSize:\"4\" },\n// //{ dataField: \"sdisplaystatus\", idsName: \"IDS_DISPLAYSTATUS\" },\n//{ \"idsName\": \"IDS_DISPLAYSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"20%\", \"isIdsField\": true, \"controlName\": \"ndefaultstatus\" }\n];var _dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isOpen:false,selectedRecord:{},dataResult:[],activeTab:'TrainingParticipants-tab',dataState:_dataState};// this.mandatoryColumnList =\n//     [{ \"idsName\": \"IDS_SECTION\", \"dataField\": \"nsectioncode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"select\" },\n//     { \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n//     ];\n// this.mandatoryStatusList=\n// [{ \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\n_this.participantsColumnList=[{\"idsName\":\"IDS_PARTICIPANTNAME\",\"dataField\":\"sfullname\",\"width\":\"150px\"},{\"idsName\":\"IDS_PARTICIPANTSTATUS\",\"dataField\":\"sdisplaystatus\",\"width\":\"150px\"}// { \"idsName\": \"IDS_DATE\", \"dataField\": \"smodifieddate\", \"width\": \"150px\" }\n];return _this;}_createClass(TrainingCertificateParticipantsTab,[{key:\"render\",value:function render(){var _this2=this;var addParticipantsId=this.props.controlMap.has(\"AddparticipantsTrainingCertificate\")&&this.props.controlMap.get(\"AddparticipantsTrainingCertificate\").ncontrolcode;var iniviteParticipantsId=this.props.controlMap.has(\"InviteParticipant\")&&this.props.controlMap.get(\"InviteParticipant\").ncontrolcode;var cancelParticipantsId=this.props.controlMap.has(\"CancelTrainingCertificate\")&&this.props.controlMap.get(\"CancelTrainingCertificate\").ncontrolcode;var ParticipantsAddParam={screenName:\"ParticipantsDetails\",operation:\"create\",primaryKeyField:\"nparticipantcode\",masterData:this.props.masterData,userInfo:this.props.userInfo,ncontrolCode:addParticipantsId};var ParticipantsIniviteParam={screenName:\"ParticipantsDetails\",operation:\"invite\",primaryKeyField:\"nparticipantcode\",masterData:this.props.masterData,userInfo:this.props.userInfo,ncontrolCode:iniviteParticipantsId};var ParticipantsCancelParam={screenName:\"ParticipantsDetails\",methodUrl:\"trainingcertificate\",operation:\"cancel\",ncontrolCode:cancelParticipantsId,userInfo:this.props.userInfo};//         const mandatoryFields = [];\n//         const mandatoryColumnList =this.props.Login.nFlag===2||this.props.Login.nFlag===3?\n//                  [{ \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }]\n// :\n//             [{ \"idsName\": \"IDS_SECTION\", \"dataField\": \"nsectioncode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"select\" },\n//             { \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\n//             ];\n//         mandatoryColumnList.forEach(item => item.mandatory === true ?\n//             mandatoryFields.push(item) : \"\");\nvar mandatoryFields=[];if(this.props.Login.screenName===\"IDS_PARTICIPANTSDETAILS\"){mandatoryFields.push({mandatory:true,idsName:\"IDS_SECTION\",dataField:\"nsectioncode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"},{mandatory:true,idsName:\"IDS_PARTICIPANTNAME\",dataField:\"nusercode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"});}else{mandatoryFields.push({mandatory:true,idsName:\"IDS_PARTICIPANTNAME\",dataField:\"nusercode\",mandatoryLabel:\"IDS_SELECT\",controlType:\"selectbox\"});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card//className=\"at-tabs border-0\"\n,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"add-txt-btn\"},/*#__PURE__*/React.createElement(\"strong\",null,\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_PARTICIPANTSDETAILS\",defaultMessage:\"Participants Details\"}))),/*#__PURE__*/React.createElement(Card.Body,{style:{paddingTop:'unset'}},/*#__PURE__*/React.createElement(Row,{className:\"no-gutters text-right border-bottom pt-2 pb-2\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADDPARTICIPANTS\"})//  data-for=\"tooltip_list_wrap\"\n,hidden:this.props.userRoleControlRights.indexOf(addParticipantsId)===-1,onClick:function onClick(){return _this2.getTrainingCertificateData(ParticipantsAddParam,_this2.state.selectedRecord,_this2.props.Login.masterData,\"Create\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_INVITEPARTICIPANTS\"})//    data-for=\"tooltip_list_wrap\"\n,hidden:this.props.userRoleControlRights.indexOf(iniviteParticipantsId)===-1,onClick:function onClick(){return _this2.getTrainingCertificateData(ParticipantsIniviteParam,_this2.state.selectedRecord,_this2.props.Login.masterData,\"Invite\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CANCELPARTICIPANTS\"})//  data-for=\"tooltip_list_wrap\"\n,hidden:this.props.userRoleControlRights.indexOf(cancelParticipantsId)===-1,onClick:function onClick(){return _this2.getTrainingCertificateData(ParticipantsCancelParam,_this2.state.selectedRecord,_this2.props.Login.masterData,\"Cancel\");}},/*#__PURE__*/React.createElement(Reject,{className:\"custom_icons\",width:\"20\",height:\"20\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"nparticipantcode\"//  expandField=\"expanded\"\n,detailedFieldList:this.detailedFieldList,data:this.props.masterData[\"TrainingParticipants\"],dataResult:process(this.props.masterData[\"TrainingParticipants\"],this.state.dataState),dataState:this.state.dataState,dataStateChange:this.participantDataStateChange,extractedColumnList:this.participantsColumnList,controlMap:this.props.controlMap,userRoleControlRights:this.props.userRoleControlRights,inputParam:this.props.inputParam,userInfo:this.props.userInfo,methodUrl:\"TrainingParticipants\",addRecord:function addRecord(){return _this2.props.getTrainingParticipantsComboDataService(ParticipantsAddParam,_this2.props.Login.masterData);},fetchRecord:this.props.getTrainingParticipantsComboDataService,editParam:ParticipantsIniviteParam,deleteRecord:this.deleteRecord,deleteParam:ParticipantsCancelParam,pageable:true,scrollable:\"scrollable\",isActionRequired:false,isToolBarRequired:false,selectedId:this.props.selectedId,oldActionRequired:false,hasDynamicColSize:true,actionIcons:false//     [\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_INVITE\" }),\n//             controlname: \"faUserPlus\",\n//             objectName: \"mastertoedit\",\n//             hidden: this.props.userRoleControlRights.indexOf(iniviteParticipantsId) === -1,\n//             onClick: this.oninviteListClick,\n//             inputData: {}\n//         },{\n//             title: this.props.intl.formatMessage({ id: \"IDS_TRAININGSCHEDULECANCEL\" }),\n//             controlname: \"reject\",\n//             objectName: \"mastertoedit\",\n//             hidden: this.props.userRoleControlRights.indexOf(cancelParticipantsId) === -1,\n//             onClick: this.onCancelListClick,\n//             inputData: {}\n//         }\n//     ]\n//  }\n}))))))),this.props.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,formatMessage:this.props.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_PARTICIPANTSDETAILS\"?/*#__PURE__*/React.createElement(AddParticipants,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,handleChange:this.handleChange,formatMessage:this.props.formatMessage,section:this.props.Login.section||[],sectionUsers:this.props.Login.sectionUsers||[],nusercode:this.props.Login.nusercode||[],nsectioncode:this.props.Login.nsectioncode||[],selectedTrainingParticipants:this.props.masterData.SelectedTrainingParticipants||{},extractedColumnList:this.extractedColumnList}):/*#__PURE__*/React.createElement(AddParticipantsStatus,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,handleChange:this.handleChange,formatMessage:this.props.formatMessage,usersStatus:this.props.Login.usersStatus||[],nusercode:this.props.Login.nusercode||[],selectedTrainingParticipants:this.props.masterData.SelectedTrainingParticipants||{},extractedColumnList:this.extractedColumnList})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var dataState=this.state.dataState;if(this.props.dataState===undefined){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}var isOpen=false;if(this.props.errorCode!==undefined&&(this.state.operation===\"create\"||this.state.operation===\"update\")){isOpen=true;}this.setState({isOpen:isOpen,activeTab:'TrainingParticipants-tab',dataState:dataState});}if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}}},{key:\"saveParticipantDetails\",value:function saveParticipantDetails(saveType,formRef){var _this3=this;var inputData=[];var dataState=undefined;inputData[\"userinfo\"]=this.props.userInfo;var selectedId=null;var trainingparticipants=[];this.props.selectedRecord.nusercode&&this.props.selectedRecord.nusercode.map(function(participants){trainingparticipants.push({ntrainingcode:_this3.props.masterData.SelectedTrainingCertificate.ntrainingcode,ntrainingcategorycode:_this3.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,ntechniquecode:_this3.props.masterData.SelectedTrainingCertificate.ntechniquecode,nusercode:participants.item.nusercode,susername:participants.item.sfullname,ntransactionstatus:_this3.props.masterData.SelectedTrainingCertificate.ntransactionstatus});});inputData[\"trainingparticipants\"]=trainingparticipants;var inputParam={classUrl:\"trainingcertificate\",methodUrl:\"TrainingParticipants\",inputData:inputData,selectedId:selectedId,operation:this.props.operation,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;}}]);return TrainingCertificateParticipantsTab;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getTrainingParticipantsComboDataService:getTrainingParticipantsComboDataService,getSectionUsersDataService:getSectionUsersDataService,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getTrainingParticipantsInvite:getTrainingParticipantsInvite,getTrainingParticipantsCancel:getTrainingParticipantsCancel})(injectIntl(TrainingCertificateParticipantsTab));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/competencemanagement/trainingcertificate/TrainingCertificateParticipantsTab.jsx"],"names":["React","connect","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPlus","faUserPlus","MediaLabel","FormattedMessage","injectIntl","process","SlideOutModal","toast","AddParticipants","Esign","callService","crudMaster","getTrainingParticipantsComboDataService","getSectionUsersDataService","updateStore","validateEsignCredential","getTrainingParticipantsInvite","getTrainingParticipantsCancel","DEFAULT_RETURN","showEsign","DataGrid","transactionStatus","AddParticipantsStatus","mapStateToProps","state","Login","TrainingCertificateParticipantsTab","props","participantDataStateChange","event","setState","dataResult","masterData","dataState","expandChange","isExpanded","dataItem","expanded","undefined","aggregates","detailBand","Dataitem","OptionalFieldList","datafield","Column","map","fields","closeModal","loadEsign","openChildModal","selectedRecord","operation","updateInfo","typeName","data","selectedId","getTabContent","activeTab","currentTarget","name","onComboChange","comboData","fieldName","deputyUserList","item","nusersitecode","value","sfirstname","slastname","onInputOnChange","target","type","checked","ACTIVE","DEACTIVE","YES","NO","handleChange","valueParam","isSection","SelectedTrainingCertificate","ntrainingcode","userInfo","onSaveClick","saveType","formRef","inputParam","screenName","saveParticipantDetails","saveParticipantInvite","saveParticipantCancel","esignRights","nformcode","ncontrolCode","screenData","inputData","trainingparticipants","postParam","inputListName","selectedObject","primaryKeyField","nusercode","participants","push","ntrainingcategorycode","ntechniquecode","susername","sfullname","classUrl","methodUrl","nparticipantcode","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","getTrainingCertificateData","participantParam","ntransactionstatus","CANCELLED","COMPLETED","CONDUCTED","warn","intl","formatMessage","id","detailedFieldList","dataField","idsName","columnSize","skip","take","settings","parseInt","isOpen","participantsColumnList","addParticipantsId","controlMap","has","get","ncontrolcode","iniviteParticipantsId","cancelParticipantsId","ParticipantsAddParam","ParticipantsIniviteParam","ParticipantsCancelParam","mandatoryFields","mandatory","mandatoryLabel","controlType","paddingTop","userRoleControlRights","indexOf","deleteRecord","section","sectionUsers","nsectioncode","SelectedTrainingParticipants","extractedColumnList","usersStatus","previousProps","errorCode","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faUserPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { MediaLabel } from '../../../components/add-client.styles';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { toast } from 'react-toastify';\r\nimport AddParticipants from './AddParticipants';\r\nimport Esign from '../../audittrail/Esign';\r\nimport { callService, crudMaster, getTrainingParticipantsComboDataService, getSectionUsersDataService, updateStore, validateEsignCredential ,getTrainingParticipantsInvite,getTrainingParticipantsCancel} from '../../../actions';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { showEsign } from '../../../components/CommonScript';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\nimport AddParticipantsStatus from './AddParticipantsStatus';\r\n//import ReactTooltip from 'react-tooltip';\r\nimport { ReactComponent as Reject } from '../../../assets/image/reject.svg'\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass TrainingCertificateParticipantsTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'TrainingParticipants-tab',\r\n            dataState: dataState\r\n        };\r\n\r\n\r\n        // this.mandatoryColumnList =\r\n        //     [{ \"idsName\": \"IDS_SECTION\", \"dataField\": \"nsectioncode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"select\" },\r\n        //     { \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        //     ];\r\n        // this.mandatoryStatusList=\r\n        // [{ \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n\r\n\r\n        this.participantsColumnList =\r\n            [{ \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"sfullname\", \"width\": \"150px\" },\r\n            { \"idsName\": \"IDS_PARTICIPANTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"150px\" },\r\n            // { \"idsName\": \"IDS_DATE\", \"dataField\": \"smodifieddate\", \"width\": \"150px\" }\r\n            ];\r\n    }\r\n\r\n    participantDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.masterData[\"TrainingParticipants\"], event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const addParticipantsId = this.props.controlMap.has(\"AddparticipantsTrainingCertificate\") && this.props.controlMap.get(\"AddparticipantsTrainingCertificate\").ncontrolcode\r\n        const iniviteParticipantsId = this.props.controlMap.has(\"InviteParticipant\") && this.props.controlMap.get(\"InviteParticipant\").ncontrolcode;\r\n        const cancelParticipantsId = this.props.controlMap.has(\"CancelTrainingCertificate\") && this.props.controlMap.get(\"CancelTrainingCertificate\").ncontrolcode\r\n\r\n\r\n        const ParticipantsAddParam = {\r\n            screenName: \"ParticipantsDetails\", operation: \"create\", primaryKeyField: \"nparticipantcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addParticipantsId\r\n        };\r\n\r\n        const ParticipantsIniviteParam = {\r\n            screenName: \"ParticipantsDetails\", operation: \"invite\", primaryKeyField: \"nparticipantcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: iniviteParticipantsId\r\n        };\r\n\r\n        const ParticipantsCancelParam = { screenName: \"ParticipantsDetails\", methodUrl: \"trainingcertificate\", operation: \"cancel\", ncontrolCode: cancelParticipantsId ,userInfo: this.props.userInfo};\r\n//         const mandatoryFields = [];\r\n//         const mandatoryColumnList =this.props.Login.nFlag===2||this.props.Login.nFlag===3?\r\n//                  [{ \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }]\r\n// :\r\n//             [{ \"idsName\": \"IDS_SECTION\", \"dataField\": \"nsectioncode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"select\" },\r\n//             { \"idsName\": \"IDS_PARTICIPANTNAME\", \"dataField\": \"nusercode\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n//             ];\r\n//         mandatoryColumnList.forEach(item => item.mandatory === true ?\r\n//             mandatoryFields.push(item) : \"\");\r\n    \r\n            let mandatoryFields = [];\r\n           \r\n                if (this.props.Login.screenName===\"IDS_PARTICIPANTSDETAILS\") {\r\n                    mandatoryFields.push(\r\n                        {\r\n                          mandatory: true,\r\n                          idsName: \"IDS_SECTION\",\r\n                          dataField: \"nsectioncode\",\r\n                          mandatoryLabel: \"IDS_SELECT\",\r\n                          controlType: \"selectbox\",\r\n                        },\r\n                       \r\n                            {\r\n                              mandatory: true,\r\n                              idsName: \"IDS_PARTICIPANTNAME\",\r\n                              dataField: \"nusercode\",\r\n                              mandatoryLabel: \"IDS_SELECT\",\r\n                              controlType: \"selectbox\",\r\n                            });\r\n                        }\r\n                            else{\r\n                                mandatoryFields.push(\r\n                                    {\r\n                                      mandatory: true,\r\n                                      idsName: \"IDS_PARTICIPANTNAME\",\r\n                                      dataField: \"nusercode\",\r\n                                      mandatoryLabel: \"IDS_SELECT\",\r\n                                      controlType: \"selectbox\",\r\n                                    });\r\n                            }\r\n                \r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card //className=\"at-tabs border-0\"\r\n                        >\r\n                            <Card.Header className=\"add-txt-btn\">\r\n                                <strong> <FormattedMessage id=\"IDS_PARTICIPANTSDETAILS\" defaultMessage=\"Participants Details\" /></strong>\r\n                            </Card.Header>\r\n                            <Card.Body style={{ paddingTop: 'unset' }}>\r\n                                <Row className=\"no-gutters text-right border-bottom pt-2 pb-2\" >\r\n                                    <Col md={12}>\r\n                                        <div className=\"d-flex justify-content-end\">\r\n\r\n                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDPARTICIPANTS\" })}\r\n                          //  data-for=\"tooltip_list_wrap\"\r\n                            hidden={this.props.userRoleControlRights.indexOf(addParticipantsId) === -1}\r\n                            onClick={() => this.getTrainingCertificateData(ParticipantsAddParam, this.state.selectedRecord, this.props.Login.masterData, \"Create\")}>\r\n                            \r\n                        <FontAwesomeIcon icon={faPlus} />\r\n                        </Nav.Link>\r\n                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={this.props.intl.formatMessage({ id: \"IDS_INVITEPARTICIPANTS\" })}\r\n                        //    data-for=\"tooltip_list_wrap\"\r\n                            hidden={this.props.userRoleControlRights.indexOf(iniviteParticipantsId) === -1}\r\n                            onClick={() => this.getTrainingCertificateData(ParticipantsIniviteParam,this.state.selectedRecord,this.props.Login.masterData,\"Invite\")}>\r\n                           \r\n                                <FontAwesomeIcon icon={faUserPlus} />\r\n                           \r\n                        </Nav.Link>\r\n                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CANCELPARTICIPANTS\" })}\r\n                          //  data-for=\"tooltip_list_wrap\"\r\n                            hidden={this.props.userRoleControlRights.indexOf(cancelParticipantsId) === -1}\r\n                            onClick={() => this.getTrainingCertificateData(ParticipantsCancelParam,this.state.selectedRecord,this.props.Login.masterData,\"Cancel\")}>\r\n                            <Reject className=\"custom_icons\" width=\"20\" height=\"20\" />\r\n\r\n                        </Nav.Link>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                                <Row className=\"no-gutters\">\r\n                                    <Col md={12}>\r\n                                        <DataGrid\r\n                                            primaryKeyField={\"nparticipantcode\"}\r\n                                          //  expandField=\"expanded\"\r\n                                            detailedFieldList={this.detailedFieldList}\r\n                                            data={this.props.masterData[\"TrainingParticipants\"]}\r\n                                            dataResult={process(this.props.masterData[\"TrainingParticipants\"], this.state.dataState)}\r\n                                            dataState={this.state.dataState}\r\n                                            dataStateChange={this.participantDataStateChange}\r\n                                            extractedColumnList={this.participantsColumnList}\r\n                                            controlMap={this.props.controlMap}\r\n                                            userRoleControlRights={this.props.userRoleControlRights}\r\n                                            inputParam={this.props.inputParam}\r\n                                            userInfo={this.props.userInfo}\r\n                                            methodUrl=\"TrainingParticipants\"\r\n                                            addRecord={() => this.props.getTrainingParticipantsComboDataService(ParticipantsAddParam, this.props.Login.masterData)}\r\n                                            fetchRecord={this.props.getTrainingParticipantsComboDataService}\r\n                                            editParam={ParticipantsIniviteParam}\r\n                                            deleteRecord={this.deleteRecord}\r\n                                            deleteParam={ParticipantsCancelParam}\r\n                                            pageable={true}\r\n                                            scrollable={\"scrollable\"}\r\n                                            isActionRequired={false}\r\n                                            isToolBarRequired={false}\r\n                                            selectedId={this.props.selectedId}\r\n                                            oldActionRequired={false}\r\n                                            hasDynamicColSize={true}\r\n                                             actionIcons={false}\r\n                                                \r\n                                            //     [\r\n                                            //         {\r\n                                            //             title: this.props.intl.formatMessage({ id: \"IDS_INVITE\" }),\r\n                                            //             controlname: \"faUserPlus\",\r\n                                            //             objectName: \"mastertoedit\",\r\n                                            //             hidden: this.props.userRoleControlRights.indexOf(iniviteParticipantsId) === -1,\r\n                                            //             onClick: this.oninviteListClick,\r\n                                            //             inputData: {}\r\n                                            //         },{\r\n                                            //             title: this.props.intl.formatMessage({ id: \"IDS_TRAININGSCHEDULECANCEL\" }),\r\n                                            //             controlname: \"reject\",\r\n                                            //             objectName: \"mastertoedit\",\r\n                                            //             hidden: this.props.userRoleControlRights.indexOf(cancelParticipantsId) === -1,\r\n                                            //             onClick: this.onCancelListClick,\r\n                                            //             inputData: {}\r\n                                            //         }\r\n                                            //     ]\r\n                                          //  }\r\n                                        />\r\n\r\n                                    </Col>\r\n                                </Row>\r\n\r\n\r\n                            </Card.Body>\r\n\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.openChildModal &&\r\n                    <SlideOutModal show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        updateStore={this.props.updateStore}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.loadEsign ?\r\n\r\n\r\n                            <Esign operation={this.props.operation}\r\n                                formatMessage={this.props.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :  this.props.screenName === \"IDS_PARTICIPANTSDETAILS\" ?\r\n                            <AddParticipants\r\n\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                handleChange={this.handleChange}\r\n                                formatMessage={this.props.formatMessage}\r\n                                section={this.props.Login.section || []}\r\n                                sectionUsers={this.props.Login.sectionUsers || []}\r\n                                nusercode={this.props.Login.nusercode || []}\r\n                                nsectioncode={this.props.Login.nsectioncode || []}\r\n                                selectedTrainingParticipants={this.props.masterData.SelectedTrainingParticipants || {}}\r\n                                extractedColumnList={this.extractedColumnList}\r\n                            />\r\n\r\n                            :<AddParticipantsStatus \r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            handleChange={this.handleChange}\r\n                            formatMessage={this.props.formatMessage}\r\n                            usersStatus={this.props.Login.usersStatus || []}\r\n                            nusercode={this.props.Login.nusercode || []}\r\n                            selectedTrainingParticipants={this.props.masterData.SelectedTrainingParticipants || {}}\r\n                            extractedColumnList={this.extractedColumnList}\r\n                            />\r\n                            \r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n    expandChange = (event) => {\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n        event.dataItem.expanded = !isExpanded;\r\n        this.setState({ ...this.props });\r\n    }\r\n    detailBand = (props) => {\r\n\r\n        const Dataitem = props.dataItem\r\n        const OptionalFieldList = [\r\n            { datafield: \"ssectionname\", Column: \"Section Name\" },\r\n            { datafield: \"sfullname\", Column: \"Participants Details\" },\r\n\r\n        ];\r\n        return (<Row>\r\n            {OptionalFieldList.map((fields) => {\r\n                return (\r\n                    <Col md='6'>\r\n                        <FormGroup>\r\n                            <FormLabel><FormattedMessage id={fields.Column} message={fields.Column} /></FormLabel>\r\n                            <MediaLabel className=\"readonly-text font-weight-normal\">{Dataitem[fields.datafield]}</MediaLabel>\r\n                        </FormGroup>\r\n                    </Col>\r\n                )\r\n            })\r\n            }\r\n        </Row>)\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\" || this.props.operation === \"cancel\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\";\r\n                selectedRecord['esigncomments'] = \"\";\r\n                selectedRecord['esignreason']=\"\";\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    getTabContent = (event) => {\r\n        this.setState({ activeTab: event.currentTarget.name });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n        if (fieldName === \"ndeputyusersitecode\") {\r\n            this.state.deputyUserList.map(item => {\r\n                if (item.nusersitecode === comboData.value) {\r\n                    selectedRecord[\"sdeputyname\"] = item.sfirstname + \" \" + item.slastname\r\n                }\r\n                return null;\r\n            })\r\n        }\r\n        this.setState({ selectedRecord });\r\n\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    handleChange = (value, valueParam, isSection) => {\r\n\r\n        if (value !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n\r\n            selectedRecord[valueParam] = value;\r\n            const SelectedTrainingCertificate = this.props.masterData.SelectedTrainingCertificate.ntrainingcode || {};\r\n\r\n            if (isSection === \"Section\") {\r\n                this.props.getSectionUsersDataService(value.value, selectedRecord, this.props.Login.userInfo, SelectedTrainingCertificate);\r\n\r\n                selectedRecord[\"nusercode\"] = undefined;\r\n\r\n                this.setState({ selectedRecord });\r\n            }\r\n            else {\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let { dataState } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            }\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            this.setState({ isOpen, activeTab: 'TrainingParticipants-tab', dataState });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        //add / edit  \r\n        let inputParam = {};\r\n\r\n        if (this.props.screenName === \"IDS_PARTICIPANTSDETAILS\" ) {\r\n            inputParam = this.saveParticipantDetails(saveType, formRef);\r\n        }\r\nif(this.props.screenName === \"IDS_INVITEDPARTICIPANTSDETAILS\"){\r\n    inputParam = this.saveParticipantInvite(saveType, formRef);\r\n\r\n}\r\nif(this.props.screenName === \"IDS_CANCELPARTICIPANTSDETAILS\"){\r\n    inputParam = this.saveParticipantCancel(saveType, formRef);\r\n\r\n}\r\n\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n        }\r\n    }\r\n\r\n\r\n    saveParticipantDetails(saveType, formRef) {\r\n        let inputData = [];\r\n        let dataState = undefined;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n\r\n        let selectedId = null;\r\n\r\n        let trainingparticipants = [];\r\n\r\n\r\n        this.props.selectedRecord.nusercode && this.props.selectedRecord.nusercode.map(participants => {\r\n            trainingparticipants.push({\r\n                ntrainingcode: this.props.masterData.SelectedTrainingCertificate.ntrainingcode,\r\n                ntrainingcategorycode: this.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,\r\n                ntechniquecode: this.props.masterData.SelectedTrainingCertificate.ntechniquecode,\r\n                nusercode: participants.item.nusercode,\r\n                susername:participants.item.sfullname,\r\n            ntransactionstatus:this.props.masterData.SelectedTrainingCertificate.ntransactionstatus\r\n            })\r\n\r\n        })\r\n\r\n\r\n\r\n        inputData[\"trainingparticipants\"] = trainingparticipants\r\n\r\n\r\n\r\n\r\n        const inputParam = {\r\n            classUrl: \"trainingcertificate\",\r\n            methodUrl: \"TrainingParticipants\",\r\n            inputData: inputData, selectedId,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n\r\n    saveParticipantInvite = (saveType, formRef) => {\r\n        let inputData = [];\r\n        let trainingparticipants = [];\r\n        let dataState = undefined;\r\n        let postParam = { inputListName: \"TrainingCertificate\", selectedObject: \"SelectedTrainingCertificate\", primaryKeyField: \"ntrainingcode\" };\r\n\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n            this.props.selectedRecord.nusercode && this.props.selectedRecord.nusercode.map(participants => {\r\n                trainingparticipants.push({\r\n                    ntrainingcode: this.props.masterData.SelectedTrainingCertificate.ntrainingcode,\r\n            //        nparticipantcode: this.props.masterData.SelectedTrainingParticipants.nparticipantcode,\r\n                    nusercode: participants.item.nusercode,\r\n                    ntrainingcategorycode: this.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,\r\n                ntechniquecode: this.props.masterData.SelectedTrainingCertificate.ntechniquecode,\r\n                susername:participants.item.sfullname,\r\n                })\r\n    \r\n            })\r\n            inputData[\"trainingparticipants\"] = trainingparticipants\r\n\r\n            const inputParam = {\r\n                classUrl: 'trainingcertificate',\r\n                methodUrl: \"TrainingParticipants\",\r\n                inputData: inputData,\r\n                operation: \"invite\",saveType, formRef, dataState,\r\n                postParam\r\n            }\r\n            return inputParam;\r\n\r\n            \r\n    }\r\n\r\n    saveParticipantCancel = (saveType, formRef) => {\r\n        let inputData = [];\r\n        let trainingparticipants = [];\r\n        let dataState = undefined;\r\n        let postParam = { inputListName: \"TrainingCertificate\", selectedObject: \"SelectedTrainingCertificate\", primaryKeyField: \"ntrainingcode\" };\r\n\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n            this.props.selectedRecord.nusercode && this.props.selectedRecord.nusercode.map(participants => {\r\n                trainingparticipants.push({\r\n                    ntrainingcode: this.props.masterData.SelectedTrainingCertificate.ntrainingcode,\r\n                //   nparticipantcode: this.props.masterData.selectedTrainingParticipants.nparticipantcode,\r\n                    nusercode: participants.item.nusercode,\r\n                    nparticipantcode: participants.item.nparticipantcode,\r\n                    ntrainingcategorycode: this.props.masterData.SelectedTrainingCertificate.ntrainingcategorycode,\r\n                ntechniquecode: this.props.masterData.SelectedTrainingCertificate.ntechniquecode\r\n                })\r\n    \r\n            })\r\n            inputData[\"trainingparticipants\"] = trainingparticipants\r\n\r\n            const inputParam = {\r\n                classUrl: 'trainingcertificate',\r\n                methodUrl: \"TrainingParticipants\",\r\n                inputData: inputData,\r\n                operation: \"cancel\",saveType, formRef, dataState,postParam\r\n            }\r\n            return inputParam;\r\n\r\n        \r\n            \r\n    }\r\n    // onCancelListClick = (row) => {\r\n    //     //if (this.props.Login.masterData.SelectedTrainingCertificate.ntransactionstatus === transactionStatus.DRAFT) {\r\n    //     const ncontrolCode = this.props.controlMap.has(\"CancelTrainingCertificate\") && this.props.controlMap.get(\"CancelTrainingCertificate\").ncontrolcode\r\n    //     let inputData = [];\r\n    //     inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    //     //add               \r\n    //     let postParam = undefined;\r\n    //     inputData[\"trainingparticipants\"] = { \"nparticipantcode\": row.nparticipantcode };\r\n    //     inputData[\"trainingparticipants\"][\"ntrainingcode\"] = this.props.Login.masterData.TrainingParticipants[0].ntrainingcode;\r\n\r\n    //     postParam = { inputListName: \"TrainingParticipants\", selectedObject: \"TrainingParticipants\", primaryKeyField: \"nparticipantcode\" };\r\n\r\n\r\n    //     const inputParam = {\r\n    //         classUrl: 'trainingcertificate',\r\n    //         methodUrl: \"TrainingParticipants\",\r\n    //         inputData: inputData,\r\n    //         operation: \"cancel\", postParam,\r\n    //         selectedId: row.nparticipantcode\r\n    //     }\r\n    //     let saveType;\r\n\r\n    //     const masterData = this.props.Login.masterData;\r\n\r\n    //     const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n    //     if (esignNeeded) {\r\n    //         const updateInfo = {\r\n    //             typeName: DEFAULT_RETURN,\r\n    //             data: {\r\n    //                 loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"cancel\"\r\n    //             }\r\n    //         }\r\n    //         this.props.updateStore(updateInfo);\r\n    //     }\r\n    //     else {\r\n    //         this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    //     }\r\n\r\n\r\n    // }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n\r\n    getTrainingCertificateData = (participantParam,selectedRecord, masterData, operation) => {\r\n\r\n        if(masterData.SelectedTrainingCertificate.ntransactionstatus !== transactionStatus.CANCELLED && masterData.SelectedTrainingCertificate.ntransactionstatus !== transactionStatus.COMPLETED){\r\n            if(masterData.SelectedTrainingCertificate.ntransactionstatus !== transactionStatus.CONDUCTED){\r\n                if(participantParam.operation === \"create\"){\r\n                    this.props.getTrainingParticipantsComboDataService(participantParam,masterData);\r\n                }\r\n                else if(participantParam.operation === \"invite\"){\r\n                    this.props.getTrainingParticipantsInvite(participantParam,selectedRecord, masterData, operation);\r\n                }\r\n                else{\r\n                    this.props.getTrainingParticipantsCancel(participantParam,selectedRecord, masterData, operation);\r\n                }\r\n            }\r\n            else{\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_TESTTRAININGALREADYCONDUCTED\"}));\r\n            }\r\n        }\r\n        else{\r\n                toast.warn(this.props.intl.formatMessage({ id: masterData.SelectedTrainingCertificate.ntransactionstatus === transactionStatus.CANCELLED? \"IDS_TESTTRAININGALREADYCANCELLED\" : \"IDS_TESTTRAININGALREADYCOMPLETED\"}));\r\n        }\r\n    }\r\n\r\n    detailedFieldList = [\r\n        { dataField: \"ssectionname\", idsName: \"IDS_SECTIONNAME\", columnSize: \"4\" },\r\n        { dataField: \"sfullname\", idsName: \"IDS_PARTICIPANTS\", columnSize: \"4\" },\r\n        // { dataField: \"sfaxno\", idsName: \"IDS_FAXNO\", columnSize:\"4\" },\r\n        // //{ dataField: \"sdisplaystatus\", idsName: \"IDS_DISPLAYSTATUS\" },\r\n        //{ \"idsName\": \"IDS_DISPLAYSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"20%\", \"isIdsField\": true, \"controlName\": \"ndefaultstatus\" }\r\n\r\n    ];\r\n}\r\n\r\nexport default connect(mapStateToProps, { callService, crudMaster,getTrainingParticipantsComboDataService, getSectionUsersDataService, updateStore, validateEsignCredential,getTrainingParticipantsInvite,getTrainingParticipantsCancel })(injectIntl(TrainingCertificateParticipantsTab));\r\n\r\n"]},"metadata":{},"sourceType":"module"}