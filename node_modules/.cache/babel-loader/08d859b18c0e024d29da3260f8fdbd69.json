{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{intl}from'../components/App';import{initRequest}from'./LoginAction';import{constructOptionList,parentChildComboLoad,constructjsonOptionList,constructjsonOptionDefault,childComboLoad,rearrangeDateFormatforUI,childComboLoadForEdit}from'../components/CommonScript';import Axios from'axios';import{getTreeByProduct}from'./RegistrationAction';export function getDynamicMasterCombo(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName){return function(dispatch){dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}),childcolumnlist:childColumnList,userinfo:userinfo});var urlArray=[timeZoneService,actualService];//const operation = fetchRecordParam.operation;\n// if (operation === \"update\"){\n//     const url = \"dynamicmaster/getActiveDynamicMasterById\";\n//     urlArray.push(rsapi.post(url, {\n//       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\n//     }));\n// }\nAxios.all(urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};// if (operation === \"update\"){\n//     selectedRecord = response[2].data;\n// }\nvar newcomboData=parentChildComboLoad(columnList.filter(function(x){return x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter'&&x.readonly!==true;}),response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?new Date():\"\";}}else if(componentrow.inputtype===\"radio\"||componentrow.inputtype===\"checkbox\"||componentrow.inputtype===\"predefineddropdown\"){if(componentrow['radiodefaultvalue']){if(componentrow.inputtype===\"checkbox\"){var val='';componentrow.radiodefaultvalue&&componentrow.radiodefaultvalue.length>0&&componentrow.radiodefaultvalue.map(function(x,i){val=val+(i===componentrow.radiodefaultvalue.length-1?x.label:x.label+',');});selectedRecord1[componentrow.label]=val;}else if(componentrow.inputtype===\"predefineddropdown\"){selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue:\"\";}else{selectedRecord1[componentrow.label]=componentrow.radiodefaultvalue?componentrow.radiodefaultvalue.label:\"\";}}else{if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}}}});if(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:operation}});}else{if(mapOfFilterRegData.nsampletypecode===1){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label].value;var ncategorybasedFlow=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=newcomboData.selectedRecord[Product[0].label]&&newcomboData.selectedRecord[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===2){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label].value;var _ncategorybasedFlow=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam2));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=newcomboData.selectedRecord[Instrument[0].label]&&newcomboData.selectedRecord[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam3));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===3){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=newcomboData.selectedRecord[MaterialType[0].label]&&newcomboData.selectedRecord[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label].value;var _ncategorybasedFlow2=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam4));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=newcomboData.selectedRecord[Material[0].label]&&newcomboData.selectedRecord[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam5));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{}}}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditDynamicMasterCombo(inputParam,columnList,selectedRecord1,childColumnList,comboComponents,withoutCombocomponent){return function(dispatch){var _rsapi$post;console.log(\"input:\",inputParam);dispatch(initRequest(true));var _inputParam6=_objectSpread({},inputParam),userInfo=_inputParam6.userInfo;var urlArray=[];var timeZoneService=rsapi.post(\"timezone/getTimeZone\");// const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\n//     parentcolumnlist: columnList,\n//     childcolumnlist: childColumnList,\n//     userinfo: inputParam.userInfo\n// })\nvar selectedMaster=rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\",(_rsapi$post={\"userinfo\":inputParam.userInfo},_defineProperty(_rsapi$post,inputParam.primaryKeyField,inputParam.primaryKeyValue),_defineProperty(_rsapi$post,\"parentcolumnlist\",columnList),_defineProperty(_rsapi$post,\"childcolumnlist\",childColumnList),_rsapi$post));urlArray=[timeZoneService,selectedMaster];Axios.all(urlArray).then(function(response){// let selectedRecord = { ...response[1].data };\nvar selectedRecord=_objectSpread({},response[1].data[\"EditData\"]);// selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\nconsole.log(\"selectedRecord:\",selectedRecord);var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userInfo.stimezoneid,value:userInfo.ntimezonecode};var languagetypeCode=undefined;var comboData=response[1].data;delete comboData['EditData'];var comboValues={};if(columnList.length>0){columnList.map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0)//&& comboData[x.label][0].hasOwnProperty(x.source) \n{if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues=childComboLoadForEdit(x,comboData,selectedRecord,childColumnList,withoutCombocomponent);}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}else{comboValues={\"comboData\":comboData};}if(withoutCombocomponent.length>0){withoutCombocomponent.map(function(item){if(item.inputtype===\"date\"){if(selectedRecord[item.label]){selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},item.label,rearrangeDateFormatforUI(userInfo,selectedRecord[item.label])));}}});}dispatch({type:DEFAULT_RETURN,payload:{operation:\"update\",screenName:inputParam.screenName,timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false,comboData:comboValues.comboData,childColumnList:childColumnList,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,columnList:columnList,selectedId:inputParam.primaryKeyValue}});}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/actions/DynamicMasterAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","intl","initRequest","constructOptionList","parentChildComboLoad","constructjsonOptionList","constructjsonOptionDefault","childComboLoad","rearrangeDateFormatforUI","childComboLoadForEdit","Axios","getTreeByProduct","getDynamicMasterCombo","masterData","userinfo","editId","columnList","selectedRecord","childColumnList","comboComponents","withoutCombocomponent","openPortal","openModal","mapOfFilterRegData","preview","operation","screenName","dispatch","timeZoneService","post","actualService","parentcolumnlist","filter","x","inputtype","readonly","childcolumnlist","urlArray","all","then","response","timeZoneMap","data","undefined","timeZoneList","get","defaultTimeZone","label","stimezoneid","value","ntimezonecode","newcomboData","slanguagetypecode","comboData1","comboData","selectedRecord1","map","componentrow","mandatory","loadcurrentdate","Date","val","radiodefaultvalue","length","i","radioOptions","tags","text","type","payload","ncontrolcode","loading","nsampletypecode","ProductCategory","name","nproductcatcode","ncategorybasedFlow","inputParam","Product","nproductcode","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","catch","error","console","log","status","message","warn","getEditDynamicMasterCombo","userInfo","selectedMaster","primaryKeyField","primaryKeyValue","languagetypeCode","comboValues","optionList","valuemember","displaymember","source","isMultiLingual","item","ncontrolCode","selectedId","formatMessage","id"],"mappings":"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","sourcesContent":["\r\nimport rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { intl } from '../components/App';\r\nimport { initRequest } from './LoginAction';\r\nimport {\r\n    constructOptionList, parentChildComboLoad, constructjsonOptionList,\r\n    constructjsonOptionDefault, childComboLoad, rearrangeDateFormatforUI, childComboLoadForEdit\r\n} from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct } from './RegistrationAction';\r\n\r\nexport function getDynamicMasterCombo(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation,\r\n    screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList.filter(x=>(x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter')&&(x.readonly!==true)),\r\n            childcolumnlist: childColumnList,\r\n            userinfo\r\n        })\r\n        let urlArray = [timeZoneService, actualService];\r\n        //const operation = fetchRecordParam.operation;\r\n        // if (operation === \"update\"){\r\n        //     const url = \"dynamicmaster/getActiveDynamicMasterById\";\r\n        //     urlArray.push(rsapi.post(url, {\r\n        //       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\r\n        //     }));\r\n        // }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                // if (operation === \"update\"){\r\n                //     selectedRecord = response[2].data;\r\n                // }\r\n                const newcomboData = parentChildComboLoad(columnList.filter(x=>(x.inputtype!=='backendsearchfilter'&&x.inputtype!=='frontendsearchfilter')&&(x.readonly!==true)), response[1].data, selectedRecord, childColumnList,\r\n                    withoutCombocomponent, undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        if (componentrow.mandatory) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\"\r\n                    ||componentrow.inputtype === \"checkbox\"\r\n                    ||componentrow.inputtype === \"predefineddropdown\") {\r\n\r\n                        if(componentrow['radiodefaultvalue']){\r\n                            if(componentrow.inputtype === \"checkbox\"){\r\n\r\n                                let val= ''\r\n                                componentrow.radiodefaultvalue &&\r\n                                componentrow.radiodefaultvalue.length>0&& componentrow.radiodefaultvalue.map((x,i)=>{\r\n                                    val=val+ (i===componentrow.radiodefaultvalue.length-1?x.label: x.label+',')\r\n                                }) \r\n\r\n                                selectedRecord1[componentrow.label]= val\r\n\r\n                            }else if(componentrow.inputtype === \"predefineddropdown\"){\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                componentrow.radiodefaultvalue : \"\";\r\n                            }else{\r\n                                selectedRecord1[componentrow.label] = componentrow.radiodefaultvalue ?\r\n                                componentrow.radiodefaultvalue.label : \"\";\r\n                            }\r\n\r\n                        }else{\r\n                            if(componentrow.inputtype === \"radio\"){\r\n                                selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                                componentrow.radioOptions.tags[0].text : \"\";\r\n                            }\r\n                        }\r\n                          \r\n                        }\r\n\r\n                })\r\n\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === 1) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = newcomboData.selectedRecord[ProductCategory[0].label] &&\r\n                                newcomboData.selectedRecord[ProductCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[ProductCategory[0].label]\r\n                                && newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = newcomboData.selectedRecord[Product[0].label]\r\n                                            && newcomboData.selectedRecord[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 2) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = newcomboData.selectedRecord[InstrumentCategory[0].label] &&\r\n                                newcomboData.selectedRecord[InstrumentCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[InstrumentCategory[0].label]\r\n                                && newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = newcomboData.selectedRecord[Instrument[0].label]\r\n                                            && newcomboData.selectedRecord[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 3) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = newcomboData.selectedRecord[MaterialType[0].label] &&\r\n                                newcomboData.selectedRecord[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = newcomboData.selectedRecord[MaterialCategory[0].label] &&\r\n                                        newcomboData.selectedRecord[MaterialCategory[0].label].value\r\n                                    const ncategorybasedFlow = newcomboData.selectedRecord[MaterialCategory[0].label]\r\n                                        && newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === 3) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                newcomboData.selectedRecord,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = newcomboData.selectedRecord[Material[0].label]\r\n                                                    && newcomboData.selectedRecord[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    newcomboData.selectedRecord,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                dispatch({\r\n                                                    type: DEFAULT_RETURN,\r\n                                                    payload: {\r\n                                                        timeZoneList,\r\n                                                        defaultTimeZone,\r\n                                                        masterData,\r\n                                                        ncontrolcode: editId,\r\n                                                        openModal,\r\n                                                        loading: false,\r\n                                                        comboData: newcomboData.comboData,\r\n                                                        selectedRecord: newcomboData.selectedRecord,\r\n                                                        comboComponents,\r\n                                                        withoutCombocomponent,\r\n                                                        openPortal,\r\n                                                        columnList,\r\n                                                        childColumnList,\r\n                                                        operation,\r\n                                                        screenName\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                } else {\r\n                                    dispatch({\r\n                                        type: DEFAULT_RETURN,\r\n                                        payload: {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            loading: false,\r\n                                            comboData: newcomboData.comboData,\r\n                                            selectedRecord: newcomboData.selectedRecord,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getEditDynamicMasterCombo(inputParam, columnList,\r\n    selectedRecord1, childColumnList, comboComponents, withoutCombocomponent) {\r\n    return function (dispatch) {\r\n\r\n        console.log(\"input:\", inputParam);\r\n        dispatch(initRequest(true));\r\n        const { userInfo } = { ...inputParam };\r\n\r\n        let urlArray = [];\r\n\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        // const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n        //     parentcolumnlist: columnList,\r\n        //     childcolumnlist: childColumnList,\r\n        //     userinfo: inputParam.userInfo\r\n        // })\r\n        const selectedMaster = rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\", {\r\n            \"userinfo\": inputParam.userInfo,\r\n            [inputParam.primaryKeyField]: inputParam.primaryKeyValue,\r\n            parentcolumnlist: columnList,\r\n            childcolumnlist: childColumnList,\r\n        })\r\n\r\n        urlArray = [timeZoneService, selectedMaster]\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n               // let selectedRecord = { ...response[1].data };\r\n                let selectedRecord = { ...response[1].data[\"EditData\"] };\r\n                // selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\r\n                console.log(\"selectedRecord:\", selectedRecord);\r\n\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userInfo.stimezoneid, value: userInfo.ntimezonecode };\r\n\r\n                const languagetypeCode = undefined;\r\n                const comboData = response[1].data;\r\n                delete comboData['EditData']\r\n                let comboValues = {}\r\n                if (columnList.length > 0) {\r\n                    columnList.map(x => {\r\n                        if (x.inputtype === 'combo') {\r\n                            if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \r\n                            {\r\n                                if (comboData[x.label].length > 0) {\r\n                                    if (comboData[x.label][0].label === undefined) {\r\n                                        const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        comboData[x.label] = optionList.get(\"OptionList\");\r\n                                    } else {\r\n                                        comboData[x.label] = comboData[x.label]\r\n                                        const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                    }\r\n                                } else {\r\n                                    comboData[x.label] = []\r\n                                }\r\n\r\n                                comboValues = childComboLoadForEdit(x, comboData, selectedRecord,\r\n                                    childColumnList, withoutCombocomponent)\r\n                            } else {\r\n                                comboValues = {\r\n                                    \"comboData\": comboData,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            comboValues = {\r\n                                comboData: comboData,\r\n                                ...comboValues\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    comboValues = {\r\n                        \"comboData\": comboData,\r\n                    }\r\n                }\r\n\r\n                if (withoutCombocomponent.length > 0) {\r\n                    withoutCombocomponent.map(item => {\r\n                        if (item.inputtype === \"date\") {\r\n                            if (selectedRecord[item.label]) {\r\n                                selectedRecord = { ...selectedRecord, [item.label]: rearrangeDateFormatforUI(userInfo, selectedRecord[item.label]) }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        operation: \"update\",\r\n                        screenName: inputParam.screenName,\r\n                        timeZoneList,\r\n                        defaultTimeZone,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        loading: false,\r\n                        comboData: comboValues.comboData,\r\n                        childColumnList, comboComponents,\r\n                        withoutCombocomponent,\r\n                        columnList,\r\n                        selectedId: inputParam.primaryKeyValue\r\n\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}