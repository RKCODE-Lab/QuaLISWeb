{"ast":null,"code":"var _jsxFileName = \"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\src\\\\pages\\\\audittrail\\\\AuditTrail.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { Row, Col, Button, Card, Nav } from 'react-bootstrap'; //Nav, Card, Button\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\n\nimport { process } from '@progress/kendo-data-query';\nimport { toast } from 'react-toastify';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { ContentPanel } from '../../components/App.styles';\nimport { constructOptionList, getStartOfDay, getEndOfDay, sortData, validateTwoDigitDate, convertDateValuetoString, rearrangeDateFormat } from '../../components/CommonScript'; //showEsign, getControlMap,\n\nimport { callService, crudMaster, validateEsignCredential, updateStore, filterTransactionList, filterColumnData, getAuditTrailDetail, getFilterAuditTrailRecords, getFormNameByModule, getExportExcel } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport AuditTrailFilter from './AuditTrailFilter';\nimport TransactionListMaster from '../../components/TransactionListMaster';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport SplitterLayout from 'react-splitter-layout';\nimport { ProductList } from '../product/product.styled';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFileExcel, faSync } from '@fortawesome/free-solid-svg-icons';\n\nclass AuditTrail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dataStateChange = event => {\n      if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\n        this.setState({\n          dataResult: process(this.props.Login.masterData.AuditDetails || [], event.dataState),\n          dataStateAll: event.dataState,\n          kendoSkip: event.dataState.skip,\n          kendoTake: event.dataState.skip\n        });\n      } else {\n        let data = [];\n\n        if (event.dataState.filter === null && event.dataState.sort === null) {\n          let auditdata = this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.slice(0, event.dataState.take + event.dataState.skip) || [];\n          data = process(auditdata || [], event.dataState);\n        } else {\n          data = process(this.props.Login.masterData.AuditDetails || [], event.dataState);\n        }\n\n        this.setState({\n          dataResult: data,\n          dataState: event.dataState\n        });\n      }\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.pageChange = event => {\n      this.setState({\n        kendoSkip: event.page.skip,\n        kendoTake: event.page.take\n      });\n    };\n\n    this.exportExcelNew = () => {\n      let fromDate = this.props.Login.masterData.FromDate;\n      let toDate = this.props.Login.masterData.ToDate;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n        formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n        usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n        userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n        viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\n        userinfo: this.props.Login.userInfo,\n        sauditdate: this.props.Login.masterData.SelectedAuditTrail.saudittraildate,\n        nauditformcode: 78,\n        ncontrolcode: 78\n      };\n      let inputParam = {\n        inputData\n      };\n      this.props.getExportExcel(inputParam); // if(this.props.Login.resultStatus === \"Success\"){\n      //     toast.info(\"Excel export successfully\");\n      // }\n    };\n\n    this.expandChange = event => {\n      event.dataItem[event.target.props.expandField] = event.value;\n      this.setState({\n        dataResult: process(this.props.Login.masterData.AuditDetails || [], this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll : this.state.dataState),\n        dataState: this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll : this.state.dataState\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      }); //setTimeout(() => { this._scrollBarRef.updateScroll() })\n    };\n\n    this.onReload = () => {\n      // let dFromDate = this.props.Login.masterData.breadCrumbFrom ? (this.props.Login.masterData.breadCrumbFrom) : this.props.Login.masterData.FromDate;\n      // let dToDate = this.props.Login.masterData.breadCrumbTo ? (this.props.Login.masterData.breadCrumbTo) : this.props.Login.masterData.ToDate;\n      //var dTempFromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\n      //let dTempToDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\n      //let temp = dFromDate.indexOf('-');\n      // let fromMonth = (dTempFromDate.getMonth()+1);\n      // let toMonth = (dTempToDate.getMonth()+1);\n      // let fromMonth = String(new Date(dFromDate).getMonth() + 1)\n      // let toMonth = String(new Date(dToDate).getMonth() + 1)\n      // let fromYear = dFromDate.substring(0, 4);\n      // let toYear = dToDate.substring(0, 4);\n      // let ntempviewtypecode = 0;\n      let breadCrumbFrom = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\n      let breadCrumbTo = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\n      let breadCrumbModule = this.props.Login.masterData.breadCrumbModule;\n      let breadCrumbForm = this.props.Login.masterData.breadCrumbForm;\n      let breadCrumbUser = this.props.Login.masterData.breadCrumbUser;\n      let breadCrumbRole = this.props.Login.masterData.breadCrumbRole;\n      let breadCrumbViewType = this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType : this.props.Login.ViewType;\n      let fromDate = this.props.Login.masterData.FromDate;\n      let toDate = this.props.Login.masterData.ToDate;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        modulecode: breadCrumbModule ? breadCrumbModule.value : 0,\n        formcode: breadCrumbForm ? breadCrumbForm.value : 0,\n        usercode: breadCrumbUser ? breadCrumbUser.value : 0,\n        userrole: breadCrumbRole ? breadCrumbRole.value : 0,\n        viewtypecode: breadCrumbViewType ? breadCrumbViewType.value : this.props.Login.masterData.ViewType.nauditactionfiltercode,\n        // viewtypecode : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode :0,\n        // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\n        userinfo: this.props.Login.userInfo,\n        postParamList: this.filterParam\n      };\n      let masterData = { ...this.props.Login.masterData,\n        breadCrumbFrom,\n        breadCrumbTo,\n        breadCrumbModule,\n        breadCrumbForm,\n        breadCrumbUser,\n        breadCrumbRole,\n        //breadCrumbViewType : breadCrumbViewType ? breadCrumbViewType :\n        // this.props.Login.masterData.ViewType\n        breadCrumbViewType: breadCrumbViewType ? breadCrumbViewType : {\n          label: this.props.Login.masterData.ViewType.sauditactionfiltername,\n          value: this.props.Login.masterData.ViewType.nauditactionfiltercode,\n          item: this.props.Login.masterData.ViewType\n        }\n      };\n      let inputParam = {\n        masterData,\n        inputData,\n        searchRef: this.searchRef,\n        detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip\n      };\n      this.props.getFilterAuditTrailRecords(inputParam);\n    };\n\n    this.onFilterSubmit = () => {\n      let breadCrumbFrom = this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\n      let breadCrumbTo = this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate);\n      let breadCrumbModule = this.state.selectedRecord['nmodulecode'];\n      let breadCrumbForm = this.state.selectedRecord['nformcode'];\n      let breadCrumbUser = this.state.selectedRecord['nusercode'];\n      let breadCrumbRole = this.state.selectedRecord['nuserrolecode'];\n      let breadCrumbViewType = this.state.selectedRecord['nauditactionfiltercode'];\n      let masterData = { ...this.props.Login.masterData,\n        breadCrumbFrom,\n        breadCrumbTo,\n        breadCrumbModule,\n        breadCrumbForm,\n        breadCrumbUser,\n        breadCrumbRole,\n        breadCrumbViewType\n      };\n      let fromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\n      let toDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n        formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n        usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n        userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n        //viewtypecode: ntempviewtypecode,//this.state.selectedcombo[\"nviewtypecode\"] ? this.state.selectedcombo[\"nviewtypecode\"].value:0,\n        viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : -1,\n        userinfo: this.props.Login.userInfo,\n        postParamList: this.filterParam\n      };\n      let inputParam = {\n        masterData,\n        inputData,\n        searchRef: this.searchRef,\n        detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip\n      };\n      this.props.getFilterAuditTrailRecords(inputParam);\n    };\n\n    this.onComboChange = (comboData, fieldName, caseNo) => {\n      if (comboData != null) {\n        if (fieldName === \"nmodulecode\" || fieldName === \"nformcode\" || fieldName === \"nusercode\" || fieldName === \"nuserrolecode\" || fieldName === \"nauditactionfiltercode\") {\n          const selectedRecord = this.state.selectedRecord || {};\n          selectedRecord[fieldName] = comboData; // let qualisForms = this.state.qualisForms;\n\n          let qualisForms = this.state.wholeQualisForms;\n\n          if (fieldName === \"nmodulecode\") {\n            selectedRecord[\"nformcode\"] = \"\";\n            qualisForms = qualisForms.filter(form => form.item.nmodulecode === comboData.value);\n          } else if (selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\n            qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\n          }\n\n          this.setState({\n            selectedRecord,\n            qualisForms\n          });\n        }\n        /*if (fieldName === \"nauditactionfiltercode\") {\r\n               this.searchRef.current.value = \"\";\r\n               const selectedcombo = this.state.selectedcombo || {};\r\n            selectedcombo[fieldName] = comboData;\r\n            const dataStateAll = {\r\n                skip: 0,\r\n                take: 100\r\n            };\r\n               this.setState({ selectedcombo, dataStateAll });\r\n               let masterData = {\r\n                ...this.props.Login.masterData, searchedAudit: undefined\r\n            }\r\n            let inputData = {\r\n                fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n                userinfo: this.props.Login.userInfo,\r\n                postParamList: this.filterParam,\r\n            }\r\n               let inputParam = { masterData, inputData }\r\n            this.props.getFilterAuditTrailRecords(inputParam)\r\n        }*/\n\n      } else {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[fieldName] = comboData;\n\n        if (fieldName === 'nmodulecode') {\n          selectedRecord[\"nformcode\"] = \"\";\n          const qualisForms = this.state.wholeQualisForms;\n          this.setState({\n            selectedRecord,\n            qualisForms\n          });\n        } else this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      let selectedRecord = this.state.selectedRecord;\n      selectedRecord[dateName] = dateValue; //this.setState({selectedRecord});\n\n      let viewTypeAuditList = this.state.viewTypeAudit;\n      let dFromDate = this.state.selectedRecord[\"fromdate\"] ? rearrangeDateFormat(this.props.Login.userInfo, this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\n      let dToDate = this.state.selectedRecord[\"todate\"] ? rearrangeDateFormat(this.props.Login.userInfo, this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate); // let ntempviewtypecode = 0;\n\n      let fromMonth = String(dFromDate.getMonth() + 1);\n      let toMonth = String(dToDate.getMonth() + 1);\n      let fromYear = String(dFromDate.getFullYear());\n      let toYear = String(dToDate.getFullYear());\n\n      if (fromYear !== toYear) {\n        selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\n          \"value\": viewTypeAuditList[2].item.nauditactionfiltercode,\n          \"label\": viewTypeAuditList[2].item.sauditactionfiltername\n        } : this.state.selectedRecord[\"nauditactionfiltercode\"]; // ntempviewtypecode = viewTypeAuditList[2].item.nauditactionfiltercode;\n      } else if (fromMonth !== toMonth) {\n        selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\n          \"value\": viewTypeAuditList[1].item.nauditactionfiltercode,\n          \"label\": viewTypeAuditList[1].item.sauditactionfiltername\n        } : this.state.selectedRecord[\"nauditactionfiltercode\"]; // ntempviewtypecode = viewTypeAuditList[1].item.nauditactionfiltercode;\n      } else {\n        selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\n          \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\n          \"label\": viewTypeAuditList[0].item.sauditactionfiltername\n        } : this.state.selectedRecord[\"nauditactionfiltercode\"]; // ntempviewtypecode = viewTypeAuditList[0].item.nauditactionfiltercode;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.breadcrumbList = () => {\n      let breadCrumbArray = []; // let fromDate = this.props.Login.masterData.breadCrumbFrom ? this.props.Login.masterData.breadCrumbFrom : this.props.Login.masterData.FromDate;\n      //    let toDate = this.props.Login.masterData.breadCrumbTo ? this.props.Login.masterData.breadCrumbTo : this.props.Login.masterData.ToDate;\n\n      let fromDate = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\n      let toDate = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\n      let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\n      breadCrumbArray.push({\n        \"label\": \"IDS_FROM\",\n        \"value\": obj.breadCrumbFrom\n      }, {\n        \"label\": \"IDS_TO\",\n        \"value\": obj.breadCrumbto\n      });\n      this.props.Login.masterData.breadCrumbModule && breadCrumbArray.push({\n        \"label\": \"IDS_MODULENAME\",\n        \"value\": this.props.Login.masterData.breadCrumbModule.label\n      });\n      this.props.Login.masterData.breadCrumbForm && breadCrumbArray.push({\n        \"label\": \"IDS_FORMNAME\",\n        \"value\": this.props.Login.masterData.breadCrumbForm.label\n      });\n      this.props.Login.masterData.breadCrumbUser && breadCrumbArray.push({\n        \"label\": \"IDS_USERNAME\",\n        \"value\": this.props.Login.masterData.breadCrumbUser.label\n      });\n      this.props.Login.masterData.breadCrumbRole && breadCrumbArray.push({\n        \"label\": \"IDS_USERROLE\",\n        \"value\": this.props.Login.masterData.breadCrumbRole.label\n      });\n      breadCrumbArray.push({\n        \"label\": \"IDS_VIEWPERIOD\",\n        \"value\": this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.label : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.sauditactionfiltername : \"\"\n      }); // this.state.selectedRecord[\"nformcode\"] &&\n      //  {\n      //     \"label\": \"IDS_FORMNAME\",\n      //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\n      // },\n      // this.state.selectedRecord[\"nusercode\"] &&\n      // {\n      //     \"label\": \"IDS_USERNAME\",\n      //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\n      // },\n      // this.state.selectedRecord[\"nuserrolecode\"] &&\n      // {\n      //     \"label\": \"IDS_USERROLE\",\n      //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\n      // }\n\n      return breadCrumbArray;\n    };\n\n    this.myRef = React.createRef(); // this.searchAuditRef = React.createRef();\n\n    const dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\n      group: [{\n        field: \"viewPeriod\",\n        dir: \"desc\"\n      }] //field: \"groupDate\" , dir: \"desc\" \n\n    };\n    const dataStateAll = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5\n    };\n    this.searchFieldList = [\"sauditdate\"];\n    this.state = {\n      masterStatus: \"\",\n      error: \"\",\n      isOpen: false,\n      selectedRecord: {},\n      //selectedcombo: {},\n      operation: \"\",\n      gridHeight: 'auto',\n      screenName: undefined,\n      userRoleControlRights: [],\n      ControlRights: undefined,\n      ConfirmDialogScreen: false,\n      controlMap: new Map(),\n      dataResult: [],\n      dataState: dataState,\n      dataStateAll: dataStateAll,\n      qualisModule: [],\n      qualisForms: [],\n      users: [],\n      userRole: [],\n      viewTypeAudit: [],\n      wholeQualisForms: [],\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      kendoSkip: 0,\n      kendoTake: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\n      splitChangeWidthPercentage: 30\n    };\n    this.searchRef = React.createRef();\n    this.searchAuditRef = React.createRef();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  render() {\n    this.extractedColumnList = [{\n      \"idsName\": \"IDS_AUDITDATE\",\n      \"dataField\": \"sauditdate\",\n      \"width\": \"200px\",\n      \"componentName\": \"date\"\n    }, {\n      \"idsName\": \"IDS_AUDITACTION\",\n      \"dataField\": \"sauditaction\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_COMMENTS\",\n      \"dataField\": \"scomments\",\n      \"width\": \"350px\"\n    }, {\n      \"idsName\": \"IDS_USERNAME\",\n      \"dataField\": \"susername\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_USERROLE\",\n      \"dataField\": \"suserrolename\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_ACTIONTYPE\",\n      \"dataField\": \"sactiontype\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_MODULENAME\",\n      \"dataField\": \"smodulename\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_FORMNAME\",\n      \"dataField\": \"sformname\",\n      \"width\": \"200px\"\n    }, {\n      \"idsName\": \"IDS_ESIGNCOMMENTS\",\n      \"dataField\": \"sreason\",\n      \"width\": \"200px\"\n    }];\n    let fromDate = \"\";\n    let toDate = \"\";\n\n    if (this.props.Login.masterData && this.props.Login.masterData.FromDate) {\n      fromDate = this.state.selectedRecord[\"fromdate\"] && getStartOfDay(this.state.selectedRecord[\"fromdate\"]) || rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\n      toDate = this.state.selectedRecord[\"todate\"] && getEndOfDay(this.state.selectedRecord[\"todate\"]) || rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.ToDate);\n    }\n\n    let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate, this.props.Login.userInfo);\n    let auditParam = {\n      masterData: this.props.Login.masterData,\n      userinfo: this.props.Login.userInfo,\n      // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n      // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n      // moduleCode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n      // formCode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n      // userCode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n      // userRole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n      // viewTypeCode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0\n      skip: this.state.skip,\n      take: this.state.take,\n      fromDate: obj.fromDate,\n      toDate: obj.toDate,\n      moduleCode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\n      formCode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\n      userCode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\n      userRole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\n      viewTypeCode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0 //viewTypeCode :this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode:0\n\n    };\n    this.filterParam = {\n      inputListName: \"AuditTrail\",\n      selectedObject: \"SelectedAuditTrail\",\n      primaryKeyField: \"saudittraildate\",\n      fetchUrl: \"audittrail/getAuditTrailDetail\",\n      masterData: this.props.Login.masterData,\n      fecthInputObject: {\n        // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n        // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n        // modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n        // formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n        // usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n        // userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n        // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\n        userinfo: this.props.Login.userInfo,\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        modulecode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\n        formcode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\n        usercode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\n        userrole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\n        viewtypecode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0\n      },\n      filteredListName: \"searchedAudit\",\n      clearFilter: \"no\",\n      updatedListname: \"SelectedAuditTrail\",\n      searchRef: this.searchAuditRef,\n      searchFieldList: this.searchFieldList,\n      unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"],\n      changeList: [\"AuditDetails\"]\n    };\n    this.breadCrumbData = this.breadcrumbList(); // this.state.selectedRecord && this.state.selectedRecord[\"nmodulecode\"] &&\n    // {\n    //     \"label\": \"IDS_MODULENAME\",\n    //     \"value\": this.state.selectedRecord[\"nmodulecode\"].label \n    // }\n    // this.state.selectedRecord[\"nformcode\"] &&\n    //  {\n    //     \"label\": \"IDS_FORMNAME\",\n    //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\n    // }, \n    // this.state.selectedRecord[\"nusercode\"] &&\n    // {\n    //     \"label\": \"IDS_USERNAME\",\n    //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\n    // }, \n    // this.state.selectedRecord[\"nuserrolecode\"] &&\n    // {\n    //     \"label\": \"IDS_USERROLE\",\n    //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\n    // }\n    // ]\n    // let auditInputData = {\n    //     fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\n    //     toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\n    //     modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\n    //     formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\n    //     usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\n    //     userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\n    //     viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\n    //     userinfo: this.props.Login.userInfo\n    // }\n\n    this.postParamList = [{\n      filteredListName: \"searchedAudit\",\n      clearFilter: \"no\",\n      searchRef: this.searchRef,\n      primaryKeyField: \"saudittraildate\",\n      fetchUrl: \"audittrail/getFilterAuditTrailRecords\",\n      fecthInputObject: this.filterParam,\n      //childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" }],\n      selectedObject: \"SelectedAuditTrail\",\n      inputListName: \"AuditTrail\",\n      updatedListname: \"SelectedAuditTrail\",\n      unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"]\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mtop-fixed-breadcrumb client-listing-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: this.breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      className: \"parent-port-height sticky_head_parent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SplitterLayout, {\n      borderColor: \"#999\",\n      primaryIndex: 1,\n      percentage: true,\n      secondaryInitialSize: this.state.splitChangeWidthPercentage,\n      onSecondaryPaneSizeChange: this.paneSizeChange,\n      primaryMinSize: 40,\n      secondaryMinSize: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMaster, {\n      splitChangeWidthPercentage: this.state.splitChangeWidthPercentage //paneHeight={this.state.parentHeight}\n      // masterList={this.props.Login.masterData.searchedAudit || \n      //     this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail,'descending','saudittraildate') : []}\n      // masterList={this.props.Login.masterData.searchedAudit ? this.props.Login.masterData.searchedAudit :\n      //   this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail, 'descending', 'saudittraildate') : []}\n      ,\n      masterList: this.props.Login.masterData.searchedAudit || this.props.Login.masterData.AuditTrail || [],\n      selectedMaster: [this.props.Login.masterData.SelectedAuditTrail],\n      primaryKeyField: \"saudittraildate\",\n      getMasterDetail: this.props.getAuditTrailDetail,\n      inputParam: auditParam //additionalParam={['napprovalversioncode']}\n      ,\n      mainField: \"sauditdate\",\n      selectedListName: \"SelectedAuditTrail\",\n      filterColumnData: this.props.filterTransactionList,\n      searchListName: \"searchedAudit\",\n      searchRef: this.searchRef,\n      filterParam: this.filterParam,\n      objectName: \"auditrail\",\n      listName: \"IDS_AUDITTRAIL\",\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit // needAccordianFilter={true}\n      ,\n      handlePageChange: this.handlePageChange,\n      skip: this.state.skip,\n      take: this.state.take,\n      needFilter: true,\n      needAccordianFilter: false,\n      filterComponent: [{\n        \"IDS_AUDITTRAIL\": /*#__PURE__*/React.createElement(AuditTrailFilter, {\n          selectedRecord: this.state.selectedRecord || {},\n          filterModuleName: this.state.qualisModule,\n          filterFormName: this.state.qualisForms,\n          filterViewType: this.state.viewTypeAudit,\n          filterUsers: this.state.users,\n          filterUserRole: this.state.userRole,\n          handleDateChange: this.handleDateChange,\n          fromDate: fromDate,\n          toDate: toDate,\n          userInfo: this.props.Login.userInfo,\n          onComboChange: this.onComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 49\n          }\n        })\n      }] // accordianfilterComponent={[\n      //     {\n      //         \"IDS_AUDITTRAIL\":\n      //             <ViewTypeFilter\n      //                 selectedRecord={this.state.selectedcombo || {}}\n      //                 filterViewType={this.state.viewTypeAudit}\n      //                 userInfo={this.props.Login.userInfo}\n      //                 onComboChange={this.onComboChange}\n      //             />\n      //     }\n      // ]}\n      ,\n      commonActions: /*#__PURE__*/React.createElement(ProductList, {\n        className: \"d-flex product-category float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-circle outline-grey ml-2\",\n        variant: \"link\",\n        onClick: () => this.onReload(),\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_REFRESH\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faSync,\n        style: {\n          \"width\": \"0.6!important\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 49\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(PerfectScrollbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 33\n      }\n    }, this.props.Login.masterData.SelectedAuditTrail && this.props.Login.masterData.SelectedAuditTrail !== undefined ? /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      className: \"padding-class\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.SelectedAuditTrail.sauditdate, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      style: {\n        float: \"right\",\n        marginRight: \"1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\" // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\n      ,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DOWNLOADEXCEL\"\n      }) //data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: this.exportExcelNew,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFileExcel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 65\n      }\n    }))))), /*#__PURE__*/React.createElement(Card.Body, {\n      className: \"form-static-wrap padding-class\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid // gridWidth={\"57.5rem\"}\n    , {\n      gridHeight: this.state.gridHeight + 'px',\n      pageable: true,\n      pageSizes: this.props.Login.settings && this.props.Login.settings[17].split(\",\").map(setting => parseInt(setting)),\n      scrollable: \"scrollable\",\n      primaryKeyField: \"nauditcode\",\n      data: this.props.Login.masterData.AuditDetails || [],\n      dataResult: this.state.dataResult,\n      total: this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.length || 0 //  dataResult={process(this.props.Login.masterData.AuditDetails || [],\n      //  this.state.selectedRecord[\"nauditactionfiltercode\"]\n      //     && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1\n      //   ? this.state.dataStateAll : this.state.dataState)}\n      ,\n      dataState: this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll : this.state.dataState,\n      dataStateChange: this.dataStateChange,\n      extractedColumnList: this.extractedColumnList || [],\n      controlMap: this.state.controlMap,\n      methodUrl: \"AuditTrail\",\n      groupable: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? true : false : false,\n      isActionRequired: false,\n      isToolBarRequired: false,\n      isAddRequired: false,\n      isRefreshRequired: false,\n      isDownloadPDFRequired: false,\n      isDownloadExcelRequired: false,\n      isExportExcelRequired: false // isIdsField=\"yes\"\n      ,\n      exportExcelNew: this.exportExcelNew,\n      onExpandChange: this.expandChange,\n      expandField: \"expanded\",\n      hideDetailBand: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 49\n      }\n    })))) : \"\")))))));\n  }\n\n  // covertDatetoString(startDateValue, endDateValue) {\n  //     const startDate = new Date(startDateValue);\n  //     const endDate = new Date(endDateValue);\n  //     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\n  //     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\n  //     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\n  //     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\n  //     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\n  //     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\n  //     const fromDate = fromDateOnly + \"T00:00:00\";\n  //     const toDate = toDateOnly + \"T23:59:59\";\n  //     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\n  // }\n  componentDidUpdate(previousProps) {\n    let updateState = false;\n    let {\n      selectedRecord,\n      qualisModule,\n      qualisForms,\n      wholeQualisForms,\n      users,\n      userRole,\n      viewTypeAudit,\n      dataStateAll,\n      dataState,\n      dataResult,\n      skip,\n      take\n    } = this.state;\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      updateState = true;\n      selectedRecord = this.props.Login.selectedRecord;\n    }\n\n    if (this.props.Login.masterData.QualisModule !== previousProps.Login.masterData.QualisModule || this.props.Login.masterData.QualisForms !== previousProps.Login.masterData.QualisForms || this.props.Login.masterData.Users !== previousProps.Login.masterData.Users || this.props.Login.masterData.UserRole !== previousProps.Login.masterData.UserRole) {\n      updateState = true;\n      const qualisModuleMap = constructOptionList(this.props.Login.masterData.QualisModule || [], \"nmodulecode\", \"smodulename\", \"nsorter\", \"ascending\", false); //const allQualisModuleList = qualisModule.get(\"OptionList\");\n\n      const qualisModuleList = qualisModuleMap.get(\"OptionList\");\n      const qualisFormsMap = constructOptionList(this.props.Login.masterData.QualisForms || [], \"nformcode\", \"sformname\", \"nsorter\", \"ascending\", false); // const allQualisFormsList = qualisForms.get(\"OptionList\");\n\n      let qualisFormsList = [];\n\n      if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\n        qualisFormsList = qualisFormsMap.get(\"OptionList\").filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\n      } else {\n        qualisFormsList = qualisFormsMap.get(\"OptionList\");\n      }\n\n      const usersMap = constructOptionList(this.props.Login.masterData.Users || [], \"nusercode\", \"susername\", undefined, undefined, undefined); //const allUsersList = users.get(\"OptionList\");\n\n      const usersList = usersMap.get(\"OptionList\");\n      const userRoleMap = constructOptionList(this.props.Login.masterData.UserRole || [], \"nuserrolecode\", \"suserrolename\", undefined, undefined, undefined); //const allUserRoleList = userRole.get(\"OptionList\");\n\n      const userRoleList = userRoleMap.get(\"OptionList\");\n      const viewTypeAuditMap = constructOptionList(this.props.Login.masterData.ViewTypeAudit || [], \"nauditactionfiltercode\", \"sauditactionfiltername\", \"nsorter\", \"ascending\", false);\n      const viewTypeAuditList = viewTypeAuditMap.get(\"OptionList\");\n      qualisModule = qualisModuleList;\n      qualisForms = qualisFormsList;\n      wholeQualisForms = qualisFormsList;\n      users = usersList;\n      userRole = userRoleList;\n      viewTypeAudit = viewTypeAuditList;\n      selectedRecord = {\n        nauditactionfiltercode: viewTypeAuditList.length > 0 ? {\n          \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\n          \"label\": viewTypeAuditList[0].item.sauditactionfiltername\n        } : this.state.selectedRecord[\"nauditactionfiltercode\"]\n      };\n    }\n\n    if (this.props.Login.resetDataGridPage && this.props.Login.resetDataGridPage !== previousProps.Login.resetDataGridPage) {\n      if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\n        dataStateAll.skip = 0;\n        updateState = true;\n      } else {\n        dataState.skip = 0;\n        updateState = true;\n      }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      updateState = true;\n\n      if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\n        qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\n      } else {\n        qualisForms = wholeQualisForms;\n      }\n\n      if (this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\n        dataStateAll = {\n          skip: 0,\n          take: dataStateAll.take,\n          group: dataStateAll.group\n        };\n        updateState = true;\n      } else {\n        dataState = {\n          skip: 0,\n          take: dataState.take,\n          group: dataState.group\n        };\n        updateState = true;\n      }\n\n      const auditdate = this.props.Login.masterData.AuditDetails && this.props.Login.masterData.AuditDetails.slice(dataState.skip, dataState.take + dataState.skip) || [];\n      dataResult = process(auditdate || [], dataState);\n      skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip;\n      take = this.props.Login.take || take;\n    }\n\n    if (updateState) {\n      this.setState({\n        selectedRecord,\n        qualisModule,\n        qualisForms,\n        wholeQualisForms,\n        users,\n        userRole,\n        viewTypeAudit,\n        dataStateAll,\n        dataState,\n        dataResult,\n        skip,\n        take\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.myRef.current.offsetParent.clientHeight !== this.state.gridHeight) {\n      this.setState({\n        gridHeight: this.myRef.current.offsetParent.clientHeight\n      });\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  validateEsignCredential,\n  filterTransactionList,\n  updateStore,\n  filterColumnData,\n  getAuditTrailDetail,\n  getFilterAuditTrailRecords,\n  getFormNameByModule,\n  getExportExcel\n})(injectIntl(AuditTrail));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/audittrail/AuditTrail.jsx"],"names":["React","connect","injectIntl","Row","Col","Button","Card","Nav","process","toast","PerfectScrollbar","ContentPanel","constructOptionList","getStartOfDay","getEndOfDay","sortData","validateTwoDigitDate","convertDateValuetoString","rearrangeDateFormat","callService","crudMaster","validateEsignCredential","updateStore","filterTransactionList","filterColumnData","getAuditTrailDetail","getFilterAuditTrailRecords","getFormNameByModule","getExportExcel","DEFAULT_RETURN","AuditTrailFilter","TransactionListMaster","BreadcrumbComponent","DataGrid","SplitterLayout","ProductList","FontAwesomeIcon","faFileExcel","faSync","AuditTrail","Component","constructor","props","dataStateChange","event","state","selectedRecord","value","setState","dataResult","Login","masterData","AuditDetails","dataState","dataStateAll","kendoSkip","skip","kendoTake","data","filter","sort","auditdata","slice","take","paneSizeChange","d","splitChangeWidthPercentage","pageChange","page","exportExcelNew","fromDate","FromDate","toDate","ToDate","obj","userInfo","inputData","modulecode","formcode","usercode","userrole","viewtypecode","userinfo","sauditdate","SelectedAuditTrail","saudittraildate","nauditformcode","ncontrolcode","inputParam","expandChange","dataItem","target","expandField","handlePageChange","e","onReload","breadCrumbFrom","breadCrumbTo","breadCrumbModule","breadCrumbForm","breadCrumbUser","breadCrumbRole","breadCrumbViewType","ViewType","nauditactionfiltercode","postParamList","filterParam","label","sauditactionfiltername","item","searchRef","detailSkip","onFilterSubmit","onComboChange","comboData","fieldName","caseNo","qualisForms","wholeQualisForms","form","nmodulecode","handleDateChange","dateName","dateValue","viewTypeAuditList","viewTypeAudit","dFromDate","dToDate","fromMonth","String","getMonth","toMonth","fromYear","getFullYear","toYear","length","openFilter","showFilter","updateInfo","typeName","closeFilter","breadcrumbList","breadCrumbArray","push","breadCrumbto","myRef","createRef","settings","parseInt","group","field","dir","searchFieldList","masterStatus","error","isOpen","operation","gridHeight","screenName","undefined","userRoleControlRights","ControlRights","ConfirmDialogScreen","controlMap","Map","qualisModule","users","userRole","searchAuditRef","getDerivedStateFromProps","warn","render","extractedColumnList","auditParam","moduleCode","formCode","userCode","viewTypeCode","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","filteredListName","clearFilter","updatedListname","unchangeList","changeList","breadCrumbData","searchedAudit","intl","formatMessage","id","float","marginRight","split","map","setting","componentDidUpdate","previousProps","updateState","QualisModule","QualisForms","Users","UserRole","qualisModuleMap","qualisModuleList","get","qualisFormsMap","qualisFormsList","usersMap","usersList","userRoleMap","userRoleList","viewTypeAuditMap","ViewTypeAudit","resetDataGridPage","auditdate","componentDidMount","current","offsetParent","clientHeight","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport {  injectIntl } from 'react-intl';\r\nimport { Row, Col, Button, Card,Nav } from 'react-bootstrap';//Nav, Card, Button\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { ContentPanel } from '../../components/App.styles';\r\nimport { constructOptionList, getStartOfDay, getEndOfDay, sortData, validateTwoDigitDate, convertDateValuetoString, rearrangeDateFormat } from '../../components/CommonScript';//showEsign, getControlMap,\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, filterTransactionList,\r\n     filterColumnData, \r\n    getAuditTrailDetail, getFilterAuditTrailRecords, getFormNameByModule, getExportExcel\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport AuditTrailFilter from './AuditTrailFilter';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { ProductList } from '../product/product.styled';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFileExcel, faSync } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nclass AuditTrail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        // this.searchAuditRef = React.createRef();\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\r\n            group: [{ field: \"viewPeriod\", dir: \"desc\"  }] //field: \"groupDate\" , dir: \"desc\" \r\n        };\r\n\r\n        const dataStateAll = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5\r\n        };\r\n\r\n        this.searchFieldList = [\"sauditdate\"]\r\n\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            isOpen: false,\r\n            selectedRecord: {},\r\n            //selectedcombo: {},\r\n            operation: \"\",\r\n            gridHeight: 'auto',\r\n            screenName: undefined,\r\n\r\n            userRoleControlRights: [],\r\n            ControlRights: undefined,\r\n            ConfirmDialogScreen: false,\r\n            controlMap: new Map(),\r\n\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            dataStateAll: dataStateAll,\r\n            qualisModule: [], \r\n            qualisForms: [],\r\n            users: [],\r\n            userRole: [],\r\n            viewTypeAudit: [],\r\n            wholeQualisForms: [],\r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],\r\n            kendoSkip:0,\r\n            kendoTake:this.props.Login.settings ? parseInt(this.props.Login.settings[16]) : 5,\r\n            splitChangeWidthPercentage: 30,\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.searchAuditRef = React.createRef();\r\n  \r\n    }\r\n    dataStateChange = (event) => {\r\n        if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n            this.setState({\r\n                dataResult: process(this.props.Login.masterData.AuditDetails|| [], event.dataState),\r\n                dataStateAll: event.dataState,kendoSkip:event.dataState.skip,kendoTake:event.dataState.skip\r\n            });\r\n        }\r\n        else {\r\n            let data=[];\r\n            if( event.dataState.filter === null && event.dataState.sort === null){\r\n            let auditdata=(this.props.Login.masterData.AuditDetails &&\r\n            this.props.Login.masterData.AuditDetails.slice(0,\r\n                event.dataState.take+event.dataState.skip))||[]\r\n              data=process(auditdata || [], event.dataState)\r\n            }else{\r\n                \r\n                data=process(this.props.Login.masterData.AuditDetails || [], event.dataState)\r\n            \r\n            }\r\n            this.setState({\r\n                dataResult: data,\r\n                dataState: event.dataState,\r\n            });\r\n        }\r\n    }\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n\r\n    pageChange = (event) => {\r\n            this.setState({\r\n                kendoSkip:event.page.skip,\r\n                kendoTake:event.page.take\r\n        })\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    exportExcelNew = () => {\r\n        let fromDate=  this.props.Login.masterData.FromDate;\r\n        let toDate=  this.props.Login.masterData.ToDate;\r\n \r\n         let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n            userinfo: this.props.Login.userInfo,\r\n            sauditdate: this.props.Login.masterData.SelectedAuditTrail.saudittraildate,\r\n            nauditformcode: 78,\r\n            ncontrolcode: 78\r\n\r\n        }\r\n\r\n        let inputParam = { inputData }\r\n        this.props.getExportExcel(inputParam);\r\n        // if(this.props.Login.resultStatus === \"Success\"){\r\n        //     toast.info(\"Excel export successfully\");\r\n        // }\r\n    }\r\n\r\n    render() {\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_AUDITDATE\", \"dataField\": \"sauditdate\", \"width\": \"200px\", \"componentName\": \"date\" },\r\n            { \"idsName\": \"IDS_AUDITACTION\", \"dataField\": \"sauditaction\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"350px\" },\r\n            { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_ACTIONTYPE\", \"dataField\": \"sactiontype\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_ESIGNCOMMENTS\", \"dataField\": \"sreason\", \"width\": \"200px\" },\r\n\r\n\r\n        ]\r\n\r\n        let fromDate = \"\";\r\n        let toDate = \"\";\r\n\r\n        if (this.props.Login.masterData && this.props.Login.masterData.FromDate) {\r\n            fromDate = (this.state.selectedRecord[\"fromdate\"] && getStartOfDay(this.state.selectedRecord[\"fromdate\"])) || rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.FromDate);\r\n            toDate = (this.state.selectedRecord[\"todate\"] && getEndOfDay(this.state.selectedRecord[\"todate\"])) || rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);\r\n        }\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, \r\n            this.props.Login.masterData.ToDate,\r\n            this.props.Login.userInfo); \r\n\r\n        let auditParam = {\r\n            masterData: this.props.Login.masterData,\r\n            userinfo: this.props.Login.userInfo,\r\n            // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n            // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n            // moduleCode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            // formCode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            // userCode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            // userRole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            // viewTypeCode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0\r\n\r\n            skip:this.state.skip,\r\n            take:this.state.take,\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            moduleCode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\r\n            formCode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\r\n            userCode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\r\n            userRole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\r\n            viewTypeCode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value :\r\n                this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0\r\n            //viewTypeCode :this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode:0\r\n        }\r\n        \r\n        this.filterParam = {\r\n            inputListName: \"AuditTrail\", selectedObject: \"SelectedAuditTrail\", primaryKeyField: \"saudittraildate\",\r\n            fetchUrl: \"audittrail/getAuditTrailDetail\", masterData: this.props.Login.masterData,\r\n           \r\n            fecthInputObject: {\r\n                // fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                // toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                // modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                // formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                // usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                // userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n\r\n                userinfo: this.props.Login.userInfo,\r\n                fromDate: obj.fromDate, \r\n                toDate: obj.toDate,\r\n                modulecode: this.props.Login.masterData.breadCrumbModule ? this.props.Login.masterData.breadCrumbModule.value : 0,\r\n                formcode: this.props.Login.masterData.breadCrumbForm ? this.props.Login.masterData.breadCrumbForm.value : 0,\r\n                usercode: this.props.Login.masterData.breadCrumbUser ? this.props.Login.masterData.breadCrumbUser.value : 0,\r\n                userrole: this.props.Login.masterData.breadCrumbRole ? this.props.Login.masterData.breadCrumbRole.value : 0,\r\n                viewtypecode: this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.value :\r\n                    this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode : 0\r\n\r\n            },\r\n            filteredListName: \"searchedAudit\",\r\n            clearFilter: \"no\",\r\n            updatedListname: \"SelectedAuditTrail\",\r\n            searchRef: this.searchAuditRef,\r\n            searchFieldList: this.searchFieldList,\r\n            unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"],\r\n            changeList: [\"AuditDetails\"]\r\n\r\n        };\r\n\r\n        this.breadCrumbData = this.breadcrumbList();\r\n\r\n\r\n\r\n        // this.state.selectedRecord && this.state.selectedRecord[\"nmodulecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_MODULENAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nmodulecode\"].label \r\n        // }\r\n        // this.state.selectedRecord[\"nformcode\"] &&\r\n        //  {\r\n        //     \"label\": \"IDS_FORMNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\r\n        // }, \r\n        // this.state.selectedRecord[\"nusercode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\r\n        // }, \r\n        // this.state.selectedRecord[\"nuserrolecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERROLE\",\r\n        //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\r\n\r\n        // }\r\n        // ]\r\n\r\n        // let auditInputData = {\r\n        //     fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n        //     toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n        //     modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n        //     formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n        //     usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n        //     userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n        //     viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n        //     userinfo: this.props.Login.userInfo\r\n        // }\r\n\r\n        this.postParamList = [\r\n            {\r\n                filteredListName: \"searchedAudit\",\r\n                clearFilter: \"no\",\r\n                searchRef: this.searchRef,\r\n                primaryKeyField: \"saudittraildate\",\r\n                fetchUrl: \"audittrail/getFilterAuditTrailRecords\",\r\n                fecthInputObject: this.filterParam,\r\n                //childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" }],\r\n                selectedObject: \"SelectedAuditTrail\",\r\n                inputListName: \"AuditTrail\",\r\n                updatedListname: \"SelectedAuditTrail\",\r\n                unchangeList: [\"QualisModule\", \"QualisForms\", \"Users\", \"UserRole\", \"ViewTypeAudit\"]\r\n            }];\r\n            return (\r\n            <>\r\n                <div className=\"mtop-fixed-breadcrumb client-listing-wrap\">\r\n                    <BreadcrumbComponent breadCrumbItem={this.breadCrumbData} />\r\n                    <Row noGutters>\r\n                        {/* //ref={(parentHeight) => { this.parentHeight = parentHeight }} */}\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" >\r\n                            <SplitterLayout borderColor=\"#999\" \r\n                            primaryIndex={1}\r\n                            percentage={true}\r\n                             secondaryInitialSize={this.state.splitChangeWidthPercentage}\r\n                             onSecondaryPaneSizeChange={this.paneSizeChange}\r\n                             primaryMinSize={40}\r\n                             secondaryMinSize={20}\r\n                             >\r\n                                {/* <Col md={3}> */}\r\n                                <TransactionListMaster\r\n                                 splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                    //paneHeight={this.state.parentHeight}\r\n                                    // masterList={this.props.Login.masterData.searchedAudit || \r\n                                    //     this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail,'descending','saudittraildate') : []}\r\n                                   // masterList={this.props.Login.masterData.searchedAudit ? this.props.Login.masterData.searchedAudit :\r\n                                     //   this.props.Login.masterData.AuditTrail ? sortData(this.props.Login.masterData.AuditTrail, 'descending', 'saudittraildate') : []}\r\n                                    \r\n                                     masterList={this.props.Login.masterData.searchedAudit ||\r\n                                        (this.props.Login.masterData.AuditTrail||[])}\r\n                                    selectedMaster={[this.props.Login.masterData.SelectedAuditTrail]}\r\n                                    primaryKeyField=\"saudittraildate\"\r\n                                    getMasterDetail={this.props.getAuditTrailDetail}\r\n                                    inputParam={auditParam}\r\n                                    //additionalParam={['napprovalversioncode']}\r\n                                    mainField=\"sauditdate\"\r\n                                    selectedListName=\"SelectedAuditTrail\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    searchListName=\"searchedAudit\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={this.filterParam}\r\n                                    objectName=\"auditrail\"\r\n                                    listName=\"IDS_AUDITTRAIL\"\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    // needAccordianFilter={true}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    needFilter={true}\r\n                                    needAccordianFilter={false}\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_AUDITTRAIL\":\r\n                                                <AuditTrailFilter\r\n                                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                                    filterModuleName={this.state.qualisModule}\r\n                                                    filterFormName={this.state.qualisForms}\r\n                                                    filterViewType={this.state.viewTypeAudit}\r\n                                                    filterUsers={this.state.users}\r\n                                                    filterUserRole={this.state.userRole}\r\n                                                    handleDateChange={this.handleDateChange}\r\n                                                    fromDate={fromDate}\r\n                                                    toDate={toDate}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n                                    // accordianfilterComponent={[\r\n                                    //     {\r\n                                    //         \"IDS_AUDITTRAIL\":\r\n                                    //             <ViewTypeFilter\r\n                                    //                 selectedRecord={this.state.selectedcombo || {}}\r\n                                    //                 filterViewType={this.state.viewTypeAudit}\r\n                                    //                 userInfo={this.props.Login.userInfo}\r\n                                    //                 onComboChange={this.onComboChange}\r\n                                    //             />\r\n                                    //     }\r\n                                    // ]}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                                onClick={() => this.onReload()}\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                            </Button>\r\n                                            {/* </Tooltip> */}\r\n                                        </ProductList>\r\n                                    }\r\n                                />\r\n                                {/* <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} secondaryInitialSize={400} customClassName=\"fixed_list_height\"> */}\r\n                                {/* <Col md={9}> */}\r\n                                <PerfectScrollbar>\r\n                                <div ref={this.myRef}>\r\n                                    {this.props.Login.masterData.SelectedAuditTrail && this.props.Login.masterData.SelectedAuditTrail !== undefined ?\r\n                                        <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            <Card.Header className=\"padding-class\">\r\n                                                    <Card.Title className=\"product-title-main\">{this.props.Login.masterData.SelectedAuditTrail.sauditdate}\r\n                                                            <div className=\"d-flex product-category\" style={{ float: \"right\",marginRight:\"1rem\" }}>\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                // hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADEXCEL\" })}\r\n                                                                //data-for=\"tooltip_list_wrap\"\r\n                                                                onClick={this.exportExcelNew}>\r\n                                                                <FontAwesomeIcon icon={faFileExcel} />\r\n                                                            </Nav.Link>\r\n                                                            </div>\r\n                                                    </Card.Title>\r\n                                            </Card.Header>\r\n                                            \r\n                                            <Card.Body className='form-static-wrap padding-class'>\r\n                                                <DataGrid\r\n                                                    // gridWidth={\"57.5rem\"}\r\n                                                    gridHeight={this.state.gridHeight + 'px'}\r\n                                                    pageable={true}\r\n                                                    pageSizes={this.props.Login.settings && this.props.Login.settings[17].split(\",\").map(setting => parseInt(setting))}\r\n                                                    scrollable={\"scrollable\"}\r\n                                                    primaryKeyField=\"nauditcode\"\r\n                                                    data={this.props.Login.masterData.AuditDetails||[]}\r\n                                                    dataResult={this.state.dataResult}\r\n                                                    total={this.props.Login.masterData.AuditDetails&&this.props.Login.masterData.AuditDetails.length||0}\r\n                                                //  dataResult={process(this.props.Login.masterData.AuditDetails || [],\r\n                                                    //  this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n                                                    //     && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1\r\n                                                        //   ? this.state.dataStateAll : this.state.dataState)}\r\n                                                    dataState={this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll\r\n                                                        : this.state.dataState}\r\n                                                    dataStateChange={this.dataStateChange}\r\n                                                    extractedColumnList={this.extractedColumnList || []}\r\n                                                    controlMap={this.state.controlMap}\r\n                                                    methodUrl=\"AuditTrail\"\r\n                                                    groupable={this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? true : false : false}\r\n                                                    isActionRequired={false}\r\n                                                    isToolBarRequired={false}\r\n                                                    isAddRequired={false}\r\n                                                    isRefreshRequired={false}\r\n                                                    isDownloadPDFRequired={false}\r\n                                                    isDownloadExcelRequired={false}\r\n                                                    isExportExcelRequired={false}\r\n                                                    // isIdsField=\"yes\"\r\n                                                    exportExcelNew={this.exportExcelNew}\r\n                                                    onExpandChange={this.expandChange}\r\n                                                    expandField=\"expanded\"\r\n                                                    hideDetailBand={true}\r\n                                                /> \r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                            \r\n                                   :\"\"\r\n                                    }\r\n                                     </div>\r\n                                </PerfectScrollbar>\r\n                            </SplitterLayout>\r\n                            {/* </SplitterLayout> */}\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </>\r\n        );\r\n\r\n    }\r\n    expandChange = (event) => {\r\n        event.dataItem[event.target.props.expandField] = event.value;\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.AuditDetails || [], this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll :\r\n                this.state.dataState),\r\n            dataState: this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll\r\n                : this.state.dataState,\r\n        });\r\n    };\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        //setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n\r\n    onReload = () => {\r\n\r\n        // let dFromDate = this.props.Login.masterData.breadCrumbFrom ? (this.props.Login.masterData.breadCrumbFrom) : this.props.Login.masterData.FromDate;\r\n        // let dToDate = this.props.Login.masterData.breadCrumbTo ? (this.props.Login.masterData.breadCrumbTo) : this.props.Login.masterData.ToDate;\r\n        //var dTempFromDate = this.state.selectedRecord[\"fromdate\"] ? this.state.selectedRecord[\"fromdate\"] : this.props.Login.masterData.FromDate;\r\n        //let dTempToDate = this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"] : this.props.Login.masterData.ToDate;\r\n        //let temp = dFromDate.indexOf('-');\r\n        // let fromMonth = (dTempFromDate.getMonth()+1);\r\n        // let toMonth = (dTempToDate.getMonth()+1);\r\n        // let fromMonth = String(new Date(dFromDate).getMonth() + 1)\r\n        // let toMonth = String(new Date(dToDate).getMonth() + 1)\r\n        // let fromYear = dFromDate.substring(0, 4);\r\n        // let toYear = dToDate.substring(0, 4);\r\n        // let ntempviewtypecode = 0;\r\n        let breadCrumbFrom = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\r\n        let breadCrumbTo = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\r\n        let breadCrumbModule = this.props.Login.masterData.breadCrumbModule\r\n        let breadCrumbForm = this.props.Login.masterData.breadCrumbForm\r\n        let breadCrumbUser = this.props.Login.masterData.breadCrumbUser\r\n        let breadCrumbRole = this.props.Login.masterData.breadCrumbRole\r\n        let breadCrumbViewType = this.props.Login.masterData.breadCrumbViewType\r\n            ? this.props.Login.masterData.breadCrumbViewType : this.props.Login.ViewType;\r\n\r\n            let fromDate=  this.props.Login.masterData.FromDate;\r\n            let toDate=  this.props.Login.masterData.ToDate;\r\n     \r\n             let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: breadCrumbModule ? breadCrumbModule.value : 0,\r\n            formcode: breadCrumbForm ? breadCrumbForm.value : 0,\r\n            usercode: breadCrumbUser ? breadCrumbUser.value : 0,\r\n            userrole: breadCrumbRole ? breadCrumbRole.value : 0,\r\n            viewtypecode: breadCrumbViewType ? breadCrumbViewType.value\r\n                : this.props.Login.masterData.ViewType.nauditactionfiltercode,\r\n\r\n            // viewtypecode : this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.nauditactionfiltercode :0,\r\n            // viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : 0,\r\n            userinfo: this.props.Login.userInfo,\r\n            postParamList: this.filterParam,\r\n        }\r\n\r\n        let masterData = {\r\n            ...this.props.Login.masterData, breadCrumbFrom, breadCrumbTo, breadCrumbModule,\r\n            breadCrumbForm, breadCrumbUser, breadCrumbRole,\r\n            //breadCrumbViewType : breadCrumbViewType ? breadCrumbViewType :\r\n            // this.props.Login.masterData.ViewType\r\n            breadCrumbViewType: breadCrumbViewType ? breadCrumbViewType\r\n                : {\r\n                    label: this.props.Login.masterData.ViewType.sauditactionfiltername,\r\n                    value: this.props.Login.masterData.ViewType.nauditactionfiltercode,\r\n                    item: this.props.Login.masterData.ViewType\r\n                }\r\n        }\r\n\r\n\r\n        let inputParam = { masterData, inputData, searchRef: this.searchRef, detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip }\r\n        this.props.getFilterAuditTrailRecords(inputParam)\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let breadCrumbFrom = this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.FromDate);\r\n        let breadCrumbTo = this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);\r\n        let breadCrumbModule = this.state.selectedRecord['nmodulecode']\r\n        let breadCrumbForm = this.state.selectedRecord['nformcode']\r\n        let breadCrumbUser = this.state.selectedRecord['nusercode']\r\n        let breadCrumbRole = this.state.selectedRecord['nuserrolecode']\r\n        let breadCrumbViewType = this.state.selectedRecord['nauditactionfiltercode']\r\n\r\n        let masterData = {\r\n            ...this.props.Login.masterData, breadCrumbFrom, breadCrumbTo, breadCrumbModule, breadCrumbForm, breadCrumbUser, breadCrumbRole, breadCrumbViewType\r\n        }\r\n       let fromDate= this.state.selectedRecord[\"fromdate\"] ?this.state.selectedRecord[\"fromdate\"]: this.props.Login.masterData.FromDate;\r\n       let toDate= this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"]: this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputData = {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n            formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n            usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n            userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n            //viewtypecode: ntempviewtypecode,//this.state.selectedcombo[\"nviewtypecode\"] ? this.state.selectedcombo[\"nviewtypecode\"].value:0,\r\n            viewtypecode: this.state.selectedRecord[\"nauditactionfiltercode\"] ? this.state.selectedRecord[\"nauditactionfiltercode\"].value : -1,\r\n            userinfo: this.props.Login.userInfo,\r\n            postParamList: this.filterParam,\r\n        }\r\n\r\n        let inputParam = {\r\n            masterData, inputData, searchRef: this.searchRef,\r\n            detailSkip: this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1 ? this.state.dataStateAll.skip : this.state.dataState.skip\r\n        }\r\n        this.props.getFilterAuditTrailRecords(inputParam)\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        if (comboData != null) {\r\n            if (fieldName === \"nmodulecode\" || fieldName === \"nformcode\"\r\n                || fieldName === \"nusercode\" || fieldName === \"nuserrolecode\" || fieldName === \"nauditactionfiltercode\") {\r\n                const selectedRecord = this.state.selectedRecord || {};\r\n                selectedRecord[fieldName] = comboData;\r\n                // let qualisForms = this.state.qualisForms;\r\n                let qualisForms = this.state.wholeQualisForms;\r\n                if (fieldName === \"nmodulecode\") {\r\n\r\n                    selectedRecord[\"nformcode\"] = \"\";\r\n                    qualisForms = qualisForms.filter(form => form.item.nmodulecode === comboData.value);\r\n\r\n                } else if (selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n\r\n                    qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n\r\n                }\r\n                this.setState({ selectedRecord, qualisForms });\r\n            }\r\n\r\n\r\n\r\n            /*if (fieldName === \"nauditactionfiltercode\") {\r\n \r\n                this.searchRef.current.value = \"\";\r\n \r\n                const selectedcombo = this.state.selectedcombo || {};\r\n                selectedcombo[fieldName] = comboData;\r\n                const dataStateAll = {\r\n                    skip: 0,\r\n                    take: 100\r\n                };\r\n \r\n                this.setState({ selectedcombo, dataStateAll });\r\n \r\n                let masterData = {\r\n                    ...this.props.Login.masterData, searchedAudit: undefined\r\n                }\r\n                let inputData = {\r\n                    fromDate: this.state.selectedRecord[\"fromdate\"] ? getStartOfDay(this.state.selectedRecord[\"fromdate\"]) : this.props.Login.masterData.FromDate,\r\n                    toDate: this.state.selectedRecord[\"todate\"] ? getEndOfDay(this.state.selectedRecord[\"todate\"]) : this.props.Login.masterData.ToDate,\r\n                    modulecode: this.state.selectedRecord[\"nmodulecode\"] ? this.state.selectedRecord[\"nmodulecode\"].value : 0,\r\n                    formcode: this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].value : 0,\r\n                    usercode: this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value : 0,\r\n                    userrole: this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : 0,\r\n                    viewtypecode: this.state.selectedcombo[\"nauditactionfiltercode\"] ? this.state.selectedcombo[\"nauditactionfiltercode\"].value : 0,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    postParamList: this.filterParam,\r\n                }\r\n \r\n                let inputParam = { masterData, inputData }\r\n                this.props.getFilterAuditTrailRecords(inputParam)\r\n            }*/\r\n\r\n        }\r\n        else {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;\r\n            if (fieldName === 'nmodulecode') {\r\n                selectedRecord[\"nformcode\"] = \"\";\r\n                const qualisForms = this.state.wholeQualisForms;\r\n                this.setState({ selectedRecord, qualisForms });\r\n            }\r\n            else\r\n                this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        selectedRecord[dateName] = dateValue;\r\n\r\n\r\n        //this.setState({selectedRecord});\r\n\r\n        let viewTypeAuditList = this.state.viewTypeAudit;\r\n\r\n        let dFromDate = this.state.selectedRecord[\"fromdate\"] ? rearrangeDateFormat(this.props.Login.userInfo,this.state.selectedRecord[\"fromdate\"]) : rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.FromDate);\r\n        let dToDate = this.state.selectedRecord[\"todate\"] ? rearrangeDateFormat(this.props.Login.userInfo,this.state.selectedRecord[\"todate\"]) : rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);\r\n        // let ntempviewtypecode = 0;\r\n        let fromMonth = String(dFromDate.getMonth() + 1)\r\n        let toMonth = String(dToDate.getMonth() + 1)\r\n        let fromYear = String(dFromDate.getFullYear()) ;\r\n        let toYear = String(dToDate.getFullYear()) ;\r\n\r\n        if (fromYear !== toYear) {\r\n\r\n            selectedRecord[\"nauditactionfiltercode\"] =\r\n                viewTypeAuditList.length > 0 ? {\r\n                    \"value\": viewTypeAuditList[2].item.nauditactionfiltercode,\r\n                    \"label\": viewTypeAuditList[2].item.sauditactionfiltername\r\n                } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[2].item.nauditactionfiltercode;\r\n        }\r\n        else if (fromMonth !== toMonth) {\r\n            selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\r\n                \"value\": viewTypeAuditList[1].item.nauditactionfiltercode,\r\n                \"label\": viewTypeAuditList[1].item.sauditactionfiltername\r\n            } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[1].item.nauditactionfiltercode;\r\n        }\r\n        else {\r\n            selectedRecord[\"nauditactionfiltercode\"] = viewTypeAuditList.length > 0 ? {\r\n                \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\r\n                \"label\": viewTypeAuditList[0].item.sauditactionfiltername\r\n            } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n\r\n            // ntempviewtypecode = viewTypeAuditList[0].item.nauditactionfiltercode;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    breadcrumbList = () => {\r\n        let breadCrumbArray = [];\r\n // let fromDate = this.props.Login.masterData.breadCrumbFrom ? this.props.Login.masterData.breadCrumbFrom : this.props.Login.masterData.FromDate;\r\n    //    let toDate = this.props.Login.masterData.breadCrumbTo ? this.props.Login.masterData.breadCrumbTo : this.props.Login.masterData.ToDate;\r\n       \r\n     let fromDate = this.props.Login.masterData.FromDate ? this.props.Login.masterData.FromDate : this.props.Login.masterData.breadCrumbFrom;\r\n     let toDate = this.props.Login.masterData.ToDate ? this.props.Login.masterData.ToDate : this.props.Login.masterData.breadCrumbTo;\r\n      \r\n    let obj = convertDateValuetoString(fromDate, \r\n            toDate,\r\n            this.props.Login.userInfo);   \r\n        breadCrumbArray.push({\r\n            \"label\": \"IDS_FROM\",\r\n            \"value\": obj.breadCrumbFrom\r\n        }, {\r\n            \"label\": \"IDS_TO\",\r\n            \"value\": obj.breadCrumbto\r\n        });\r\n        this.props.Login.masterData.breadCrumbModule &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_MODULENAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbModule.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbForm &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_FORMNAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbForm.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbUser &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_USERNAME\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbUser.label\r\n                });\r\n        this.props.Login.masterData.breadCrumbRole &&\r\n            breadCrumbArray.push(\r\n                {\r\n                    \"label\": \"IDS_USERROLE\",\r\n                    \"value\": this.props.Login.masterData.breadCrumbRole.label\r\n                });\r\n\r\n        breadCrumbArray.push(\r\n            {\r\n                \"label\": \"IDS_VIEWPERIOD\",\r\n                \"value\": this.props.Login.masterData.breadCrumbViewType ? this.props.Login.masterData.breadCrumbViewType.label :\r\n                    this.props.Login.masterData.ViewType ? this.props.Login.masterData.ViewType.sauditactionfiltername : \"\"\r\n            });\r\n\r\n\r\n        // this.state.selectedRecord[\"nformcode\"] &&\r\n        //  {\r\n        //     \"label\": \"IDS_FORMNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nformcode\"] ? this.state.selectedRecord[\"nformcode\"].label : \"\"\r\n        // },\r\n        // this.state.selectedRecord[\"nusercode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERNAME\",\r\n        //     \"value\": this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].label : \"\"\r\n        // },\r\n        // this.state.selectedRecord[\"nuserrolecode\"] &&\r\n        // {\r\n        //     \"label\": \"IDS_USERROLE\",\r\n        //     \"value\": this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].label : \"\"\r\n\r\n        // }\r\n        return breadCrumbArray;\r\n    };\r\n\r\n    // covertDatetoString(startDateValue, endDateValue) {\r\n    //     const startDate = new Date(startDateValue);\r\n    //     const endDate = new Date(endDateValue);\r\n\r\n    //     const prevMonth = validateTwoDigitDate(String(startDate.getMonth() + 1));\r\n    //     const currentMonth = validateTwoDigitDate(String(endDate.getMonth() + 1));\r\n    //     const prevDay = validateTwoDigitDate(String(startDate.getDate()));\r\n    //     const currentDay = validateTwoDigitDate(String(endDate.getDate()));\r\n\r\n    //     const fromDateOnly = startDate.getFullYear() + '-' + prevMonth + '-' + prevDay\r\n    //     const toDateOnly = endDate.getFullYear() + '-' + currentMonth + '-' + currentDay\r\n    //     const fromDate = fromDateOnly + \"T00:00:00\";\r\n    //     const toDate = toDateOnly + \"T23:59:59\";\r\n\r\n\r\n    //     return ({ fromDate, toDate, breadCrumbFrom: fromDateOnly, breadCrumbto: toDateOnly })\r\n    // }\r\n\r\n   \r\n\r\n    componentDidUpdate(previousProps) {\r\n        \r\n        let updateState = false;\r\n        let { selectedRecord, qualisModule, qualisForms, wholeQualisForms, users, userRole,\r\n            viewTypeAudit, dataStateAll, dataState, dataResult,skip,take } = this.state\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n        }\r\n        if (this.props.Login.masterData.QualisModule !== previousProps.Login.masterData.QualisModule\r\n            || this.props.Login.masterData.QualisForms !== previousProps.Login.masterData.QualisForms\r\n            || this.props.Login.masterData.Users !== previousProps.Login.masterData.Users\r\n            || this.props.Login.masterData.UserRole !== previousProps.Login.masterData.UserRole\r\n        ) {\r\n            updateState = true;\r\n            const qualisModuleMap = constructOptionList(this.props.Login.masterData.QualisModule || [], \"nmodulecode\",\r\n                \"smodulename\", \"nsorter\", \"ascending\", false);\r\n            //const allQualisModuleList = qualisModule.get(\"OptionList\");\r\n            const qualisModuleList = qualisModuleMap.get(\"OptionList\");\r\n\r\n            const qualisFormsMap = constructOptionList(this.props.Login.masterData.QualisForms || [], \"nformcode\",\r\n                \"sformname\", \"nsorter\", \"ascending\", false);\r\n            // const allQualisFormsList = qualisForms.get(\"OptionList\");\r\n            let qualisFormsList = []\r\n            if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n                qualisFormsList = qualisFormsMap.get(\"OptionList\").filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n            } else {\r\n                qualisFormsList = qualisFormsMap.get(\"OptionList\");\r\n            }\r\n\r\n            const usersMap = constructOptionList(this.props.Login.masterData.Users || [], \"nusercode\",\r\n                \"susername\", undefined, undefined, undefined);\r\n            //const allUsersList = users.get(\"OptionList\");\r\n            const usersList = usersMap.get(\"OptionList\");\r\n\r\n            const userRoleMap = constructOptionList(this.props.Login.masterData.UserRole || [], \"nuserrolecode\",\r\n                \"suserrolename\", undefined, undefined, undefined);\r\n            //const allUserRoleList = userRole.get(\"OptionList\");\r\n            const userRoleList = userRoleMap.get(\"OptionList\");\r\n\r\n            const viewTypeAuditMap = constructOptionList(this.props.Login.masterData.ViewTypeAudit || [], \"nauditactionfiltercode\",\r\n                \"sauditactionfiltername\", \"nsorter\", \"ascending\", false);\r\n            const viewTypeAuditList = viewTypeAuditMap.get(\"OptionList\");\r\n\r\n\r\n            qualisModule = qualisModuleList\r\n            qualisForms = qualisFormsList\r\n            wholeQualisForms = qualisFormsList\r\n            users = usersList\r\n            userRole = userRoleList\r\n            viewTypeAudit = viewTypeAuditList\r\n            selectedRecord = {\r\n                nauditactionfiltercode: viewTypeAuditList.length > 0 ? {\r\n                    \"value\": viewTypeAuditList[0].item.nauditactionfiltercode,\r\n                    \"label\": viewTypeAuditList[0].item.sauditactionfiltername\r\n                } : this.state.selectedRecord[\"nauditactionfiltercode\"]\r\n            }\r\n\r\n        }\r\n\r\n        if (this.props.Login.resetDataGridPage && this.props.Login.resetDataGridPage !== previousProps.Login.resetDataGridPage) {\r\n            if (this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n\r\n                dataStateAll.skip =  0\r\n                updateState = true;\r\n            }\r\n            else {\r\n\r\n                dataState.skip = 0\r\n                updateState = true;\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            updateState = true;\r\n            if (selectedRecord && selectedRecord.nmodulecode && selectedRecord.nmodulecode.value) {\r\n                qualisForms = qualisForms.filter(form => form.item.nmodulecode === selectedRecord.nmodulecode.value);\r\n            } else {\r\n                qualisForms = wholeQualisForms;\r\n            }\r\n            if (this.state.selectedRecord[\"nauditactionfiltercode\"] && this.state.selectedRecord[\"nauditactionfiltercode\"].value === 1) {\r\n\r\n                dataStateAll = {skip:0, take:dataStateAll.take, group:dataStateAll.group}\r\n                updateState = true;\r\n            }\r\n            else {\r\n\r\n                dataState = {skip:0, take:dataState.take, group:dataState.group}\r\n                updateState = true;\r\n            }\r\n            const auditdate=(this.props.Login.masterData.AuditDetails&&this.props.Login.masterData.AuditDetails.slice(dataState.skip,dataState.take+dataState.skip))||[]\r\n            dataResult = process(auditdate|| [],  dataState)\r\n\r\n                skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n                take = this.props.Login.take || take\r\n\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, qualisModule, qualisForms, wholeQualisForms, users, userRole,\r\n                viewTypeAudit, dataStateAll, dataState, dataResult,skip,take\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.myRef.current.offsetParent.clientHeight !== this.state.gridHeight) {\r\n            this.setState({\r\n                gridHeight: this.myRef.current.offsetParent.clientHeight\r\n            })\r\n    \r\n        }\r\n    }\r\n    \r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential, filterTransactionList,\r\n    updateStore, filterColumnData, getAuditTrailDetail, getFilterAuditTrailRecords, getFormNameByModule, getExportExcel\r\n})(injectIntl(AuditTrail));"]},"metadata":{},"sourceType":"module"}