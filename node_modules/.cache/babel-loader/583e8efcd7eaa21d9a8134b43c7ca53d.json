{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import{callService,crudMaster,getTrainingUpdate,addTest,updateStore,getTestDetails,formulaChangeFunction,filterColumnData,addParameter,validateEsignCredential,addCodedResult,addParameterSpecification,getAvailableData,addFormula,changeTechniqueFilter,addTestFile,viewAttachment}from'../../../actions';import TechniqueFilter from'./TechniqueFilter';import{injectIntl}from'react-intl';import{toast}from'react-toastify';import{getControlMap,constructOptionList,convertDateValuetoString,showEsign,formatInputDate}from'../../../components/CommonScript';import ListMaster from'../../../components/list-master/list-master.component';import{ReadOnlyText,ContentPanel,MediaLabel}from'../../../components/App.styles';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import'react-perfect-scrollbar/dist/css/styles.css';import ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import ReactTooltip from'react-tooltip';import BreadcrumbComponent from'../../../components/Breadcrumb.Component';import{Affix}from'rsuite';import TrainingUpdateChildTab from'./TrainingUpdateChildTab';import{ProductList}from'../../product/product.styled';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheckCircle}from'@fortawesome/free-regular-svg-icons';import{faCheck}from'@fortawesome/free-solid-svg-icons';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingUpdate=/*#__PURE__*/function(_React$Component){_inherits(TrainingUpdate,_React$Component);var _super=_createSuper(TrainingUpdate);function TrainingUpdate(props){var _this;_classCallCheck(this,TrainingUpdate);_this=_super.call(this,props);_this.completeTraining=function(version,ncontrolCode){var inputData=[];var obj=convertDateValuetoString(_this.props.Login.masterData.FromDate,_this.props.Login.masterData.ToDate,_this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;inputData[\"fromDate\"]=fromDate;inputData[\"toDate\"]=toDate;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"ntechniquecode\"]=_this.props.Login.masterData.SelectedTrainingUpdate[\"ntechniquecode\"];inputData[\"trainingupdate\"]={\"ntrainingcode\":_this.props.Login.masterData.SelectedTrainingUpdate.ntrainingcode,\"ntechniquecode\":_this.props.Login.masterData.selectedTechinque.ntechniquecode,\"ntransactionstatus\":_this.props.Login.masterData.SelectedTrainingUpdate.ntransactionstatus};var postParam={inputListName:\"TechniqueList\",selectedObject:\"SelectedTrainingUpdate\",primaryKeyField:\"ntrainingcode\",primaryKeyValue:_this.props.Login.masterData.TechniqueList.ntrainingcode,fetchUrl:\"trainingupdate/getTraningUpdateByTechnique\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"Training\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,postParam:postParam,operation:\"complete\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"complete\",screenName:'',id:'TrainingUpdate'}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData);}};_this.handlePageChange=function(event){_this.setState({skip:event.skip,take:event.take});};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 3:var nfilterTechnique=_this.state.nfilterTechnique||{};nfilterTechnique=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterTechnique:nfilterTechnique});break;default:break;}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.reloadData1=function(){_this.searchRef.current.value=\"\";var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputParam={inputData:{userinfo:_this.props.Login.userInfo,currentdate:formatInputDate(new Date(),true)},classUrl:\"trainingupdate\",methodUrl:\"TrainingUpdate\",userInfo:_this.props.Login.userInfo,displayName:\"IDS_TRAININGUPDATE\"};_this.props.callService(inputParam);};_this.onFilterSubmit=function(){_this.reloadData(true);};_this.reloadData=function(isFilterSubmit){_this.searchRef.current.value=\"\";var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;if(isFilterSubmit){var selectedRecord=_this.state.selectedRecord||{};if(selectedRecord&&selectedRecord[\"fromdate\"]!==undefined){fromDate=selectedRecord[\"fromdate\"];}if(selectedRecord&&selectedRecord[\"todate\"]!==undefined){toDate=selectedRecord[\"todate\"];}}var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);if(_this.state.nfilterTechnique.value){var _inputData;var inputParam={inputData:(_inputData={\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate,currentDate:null,ntechniquecode:_this.state.nfilterTechnique.value},_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData,\"nfilterTechnique\",_this.state.nfilterTechnique),_inputData),classUrl:\"trainingupdate\",methodUrl:\"TraningUpdateByTechnique\",displayName:\"IDS_TRAININGCERTIFICATE\",userInfo:_this.props.Login.userInfo};_this.props.changeTechniqueFilter(inputParam,_this.props.Login.masterData.filterTechnique,_this.state.nfilterTechnique);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_TECHNIQUENOTAVAILABLE\"}));}};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25};_this.searchRef=React.createRef();_this.searchFieldList=[\"stechniquename\",\"strainingtopic\",\"strainername\"];return _this;}_createClass(TrainingUpdate,[{key:\"render\",value:function render(){var _this2=this;this.confirmMessage=new ConfirmMessage();var _this$props$Login$mas=this.props.Login.masterData,TechniqueList=_this$props$Login$mas.TechniqueList,SelectedTrainingUpdate=_this$props$Login$mas.SelectedTrainingUpdate,searchedData=_this$props$Login$mas.searchedData;var _this$props$Login=this.props.Login,masterData=_this$props$Login.masterData,userInfo=_this$props$Login.userInfo,testData=_this$props$Login.testData,parameterData=_this$props$Login.parameterData,otherTestData=_this$props$Login.otherTestData,linkMaster=_this$props$Login.linkMaster,editFiles=_this$props$Login.editFiles;var obj=convertDateValuetoString(this.state.selectedRecord[\"fromdate\"]||this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.state.selectedRecord[\"todate\"]||this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var filterParam={inputListName:\"TechniqueList\",selectedObject:\"SelectedTrainingUpdate\",primaryKeyField:\"ntrainingcode\",fetchUrl:\"trainingupdate/getTrainingUpdateById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,unchangeList:[\"FromDate\",\"ToDate\"],searchFieldList:this.searchFieldList};this.props.Login.showAccordion=true;var breadCrumbData=this.state.filterData||[];var completeId=this.state.controlMap.has(\"CompleteTraining\")&&this.state.controlMap.get(\"CompleteTraining\").ncontrolcode;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{masterData:masterData,screenName:this.props.intl.formatMessage({id:\"IDS_TRAININGUPDATE\"}),masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.TechniqueList,getMasterDetail:function getMasterDetail(TechniqueList){return _this2.props.getTrainingUpdate(TechniqueList,userInfo,masterData);},selectedMaster:this.props.Login.masterData.SelectedTrainingUpdate,primaryKeyField:\"ntrainingcode\",mainField:\"strainingtopic\",firstField:\"strainername\"//secondField=\"strainername\"\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,searchRef:this.searchRef,reloadData:this.reloadData1,needAccordianFilter:false,skip:this.state.skip,take:this.state.take,handlePageChange:this.handlePageChange,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,userInfo:this.props.Login.userInfo,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_TRAININGUPDATEFILTER\":/*#__PURE__*/React.createElement(TechniqueFilter,{selectedRecord:this.state.selectedRecord||{},value:this.state.value||{},handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo,filterTechnique:this.state.filterTechnique||[],nfilterTechnique:this.state.nfilterTechnique||{},onComboChange:this.onComboChange,onFilterChange:this.onFilterChange,handleFilterDateChange:this.handleFilterDateChange,FilterStatusValue:this.props.Login.masterData.FilterStatusValue||{},FilterStatus:this.state.stateFilterStatus||[]})}]})),/*#__PURE__*/React.createElement(Col,{md:8},SelectedTrainingUpdate&&Object.values(SelectedTrainingUpdate).length>0?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",globalEventOff:\"click\",id:\"tooltip_list_wrap\"}),/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},SelectedTrainingUpdate.stechniquename),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(MediaLabel,{className:\"btn btn-outlined \".concat(SelectedTrainingUpdate.ntransactionstatus===22?\"outline-success\":\"outline-secondary\",\" btn-sm ml-3\")},SelectedTrainingUpdate.ntransactionstatus===22&&/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheck}),SelectedTrainingUpdate.stransdisplaystatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COMPLETETRAINING\"}),\"data-for\":\"tooltip_list_wrap\",hidden:this.state.userRoleControlRights.indexOf(completeId)===-1,onClick:function onClick(){return _this2.completeTraining(_this2.state.version,completeId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCheckCircle}))))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_VENUE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,SelectedTrainingUpdate.strainingvenue))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_TRAININGDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,SelectedTrainingUpdate.strainingdate))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_TRAININGTOPIC\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,SelectedTrainingUpdate.strainingtopic))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_TRAINERNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,SelectedTrainingUpdate.strainername)))),/*#__PURE__*/React.createElement(TrainingUpdateChildTab,{operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,masterStatus:this.props.Login.masterStatus,openChildModal:this.props.Login.openChildModal,participants:this.props.Login.participants,updateStore:this.props.updateStore,selectedRecord:this.props.Login.selectedRecord,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenData:this.props.Login.screenData,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,controlMap:this.state.controlMap,showAccordian:this.state.showAccordian,dataState:this.props.Login.dataState,onTabChange:this.onTabChange,settings:this.props.Login.settings})))):\"\"))));}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterTechnique&&this.props.Login.masterData.FromDate){var obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},{\"label\":\"IDS_TECHNIQUE\",\"value\":this.props.Login.masterData.selectedTechinque?this.props.Login.masterData.selectedTechinque[\"stechniquename\"]:\"NA\"});}return breadCrumbData;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var isComponentUpdated=false;var selectedRecord=this.state.selectedRecord||{};if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;isComponentUpdated=true;}var userRoleControlRights=this.state.userRoleControlRights||[];var controlMap=this.state.controlMap||new Map();if(this.props.Login.userInfo&&this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var nformCode=this.props.Login.userInfo.nformcode;if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[nformCode]&&Object.values(this.props.Login.userRoleControlRights[nformCode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,nformCode);isComponentUpdated=true;}var nfilterTechnique=this.state.nfilterTechnique||{};var filterTechnique=this.state.filterTechnique||{};if(this.props.Login.masterData.filterTechnique!==previousProps.Login.masterData.filterTechnique){var trainingupdateMap=constructOptionList(this.props.Login.masterData.filterTechnique||[],\"ntechniquecode\",\"stechniquename\",'ntechniquecode','ascending',false);filterTechnique=trainingupdateMap.get(\"OptionList\");if(trainingupdateMap.get(\"DefaultValue\")){nfilterTechnique=trainingupdateMap.get(\"DefaultValue\");}else if(filterTechnique&&filterTechnique.length>0){nfilterTechnique=filterTechnique[0];}isComponentUpdated=true;}else if(this.props.Login.masterData.nfilterTechnique!==previousProps.Login.masterData.nfilterTechnique){nfilterTechnique=this.props.Login.masterData.nfilterTechnique;isComponentUpdated=true;}if(isComponentUpdated){this.setState({nfilterTechnique:nfilterTechnique,userRoleControlRights:userRoleControlRights,controlMap:controlMap,selectedRecord:selectedRecord,filterTechnique:filterTechnique});}if(this.props.Login.masterData!==previousProps.Login.masterData){var filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return TrainingUpdate;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,updateStore:updateStore,filterColumnData:filterColumnData,getTrainingUpdate:getTrainingUpdate,changeTechniqueFilter:changeTechniqueFilter})(injectIntl(TrainingUpdate));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingUpdate.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","callService","crudMaster","getTrainingUpdate","addTest","updateStore","getTestDetails","formulaChangeFunction","filterColumnData","addParameter","validateEsignCredential","addCodedResult","addParameterSpecification","getAvailableData","addFormula","changeTechniqueFilter","addTestFile","viewAttachment","TechniqueFilter","injectIntl","toast","getControlMap","constructOptionList","convertDateValuetoString","showEsign","formatInputDate","ListMaster","ReadOnlyText","ContentPanel","MediaLabel","DEFAULT_RETURN","ConfirmMessage","ReactTooltip","BreadcrumbComponent","Affix","TrainingUpdateChildTab","ProductList","FontAwesomeIcon","faCheckCircle","faCheck","mapStateToProps","state","Login","TrainingUpdate","props","completeTraining","version","ncontrolCode","inputData","obj","masterData","FromDate","ToDate","userInfo","fromDate","toDate","SelectedTrainingUpdate","ntrainingcode","selectedTechinque","ntechniquecode","ntransactionstatus","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","TechniqueList","fetchUrl","fecthInputObject","userinfo","inputParam","methodUrl","classUrl","operation","userRoleControlRights","nformcode","updateInfo","typeName","data","loadEsign","screenData","openModal","screenName","id","handlePageChange","event","setState","skip","take","handleDateChange","dateName","dateValue","selectedRecord","onComboChange","comboData","fieldName","caseNo","nfilterTechnique","searchRef","current","value","openFilter","showFilter","closeFilter","reloadData1","currentdate","Date","displayName","onFilterSubmit","reloadData","isFilterSubmit","undefined","currentDate","filterTechnique","warn","intl","formatMessage","error","controlMap","Map","settings","createRef","searchFieldList","confirmMessage","searchedData","testData","parameterData","otherTestData","linkMaster","editFiles","filterParam","unchangeList","showAccordion","breadCrumbData","filterData","completeId","has","get","ncontrolcode","length","onFilterChange","handleFilterDateChange","FilterStatusValue","stateFilterStatus","Object","values","stechniquename","stransdisplaystatus","indexOf","strainingvenue","strainingdate","strainingtopic","strainername","errorCode","masterStatus","openChildModal","participants","showAccordian","dataState","onTabChange","push","breadCrumbFrom","breadCrumbto","previousProps","isComponentUpdated","nformCode","map","item","trainingupdateMap","generateBreadCrumData"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n    callService, crudMaster, getTrainingUpdate, addTest, updateStore, getTestDetails, formulaChangeFunction, filterColumnData,\r\n    addParameter, validateEsignCredential, addCodedResult, addParameterSpecification, getAvailableData, addFormula,\r\n    changeTechniqueFilter, addTestFile, viewAttachment\r\n} from '../../../actions'\r\nimport TechniqueFilter from './TechniqueFilter';\r\nimport { injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { getControlMap, constructOptionList, convertDateValuetoString, showEsign, formatInputDate } from '../../../components/CommonScript';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\n\r\nimport { ReadOnlyText, ContentPanel, MediaLabel } from '../../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\n\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\n\r\nimport ReactTooltip from 'react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport TrainingUpdateChildTab from './TrainingUpdateChildTab';\r\nimport { ProductList } from '../../product/product.styled';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheckCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass TrainingUpdate extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"stechniquename\", \"strainingtopic\", \"strainername\"]\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        const { TechniqueList, SelectedTrainingUpdate, searchedData } = this.props.Login.masterData;\r\n        const { masterData, userInfo, testData, parameterData, otherTestData, linkMaster, editFiles } = this.props.Login;\r\n\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n            this.props.Login.userInfo)\r\n\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n\r\n       \r\n        const filterParam = {\r\n            inputListName: \"TechniqueList\", selectedObject: \"SelectedTrainingUpdate\", primaryKeyField: \"ntrainingcode\",\r\n            fetchUrl: \"trainingupdate/getTrainingUpdateById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData, unchangeList: [\"FromDate\", \"ToDate\"],\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n              \r\n        this.props.Login.showAccordion = true;\r\n\r\n        let breadCrumbData = this.state.filterData || [];\r\n        const completeId = this.state.controlMap.has(\"CompleteTraining\") && this.state.controlMap.get(\"CompleteTraining\").ncontrolcode;\r\n\r\n\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                masterData={masterData}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_TRAININGUPDATE\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.TechniqueList}\r\n                                getMasterDetail={(TechniqueList) => this.props.getTrainingUpdate(TechniqueList, userInfo, masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedTrainingUpdate}\r\n                                primaryKeyField=\"ntrainingcode\"\r\n                                mainField=\"strainingtopic\"\r\n                                firstField=\"strainername\"\r\n                                //secondField=\"strainername\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData1}\r\n                                needAccordianFilter={false}\r\n                                skip={this.state.skip}\r\n                                take={this.state.take}\r\n                                handlePageChange={this.handlePageChange}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TRAININGUPDATEFILTER\":\r\n                                            <TechniqueFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                value={this.state.value || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                filterTechnique={this.state.filterTechnique || []}\r\n                                                nfilterTechnique={this.state.nfilterTechnique || {}}\r\n                                                onComboChange={this.onComboChange}\r\n                                                onFilterChange={this.onFilterChange}\r\n                                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                                FilterStatusValue={this.props.Login.masterData.FilterStatusValue || {}}\r\n                                                FilterStatus={this.state.stateFilterStatus || []}\r\n                                            />\r\n                                    }\r\n\r\n                            \r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            {SelectedTrainingUpdate && Object.values(SelectedTrainingUpdate).length > 0 ?\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    <Card className=\"border-0\">\r\n                                        <Card.Header>\r\n                                            <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />\r\n                                            <Card.Title className=\"product-title-main\">\r\n                                                {SelectedTrainingUpdate.stechniquename}\r\n                                            </Card.Title>\r\n                                            <Card.Subtitle>\r\n                                            <div className=\"d-flex product-category\">\r\n                                                    <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                        <MediaLabel className={`btn btn-outlined ${SelectedTrainingUpdate.ntransactionstatus === 22 ? \"outline-success\" : \"outline-secondary\"} btn-sm ml-3`}>\r\n                                                            {SelectedTrainingUpdate.ntransactionstatus === 22 && <FontAwesomeIcon icon={faCheck}></FontAwesomeIcon>}\r\n                                                            {SelectedTrainingUpdate.stransdisplaystatus}\r\n                                                        </MediaLabel>\r\n                                                    </h2>\r\n                                                    <div className=\"d-inline\">\r\n                                                   <ProductList className=\"d-flex justify-content-end\">                                                            \r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_COMPLETETRAINING\" })}\r\n                                                                data-for=\"tooltip_list_wrap\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(completeId) === -1}\r\n                                                                onClick={() => this.completeTraining(this.state.version,completeId)}\r\n                                                                >\r\n                                                                <FontAwesomeIcon icon={faCheckCircle} />                                                                \r\n                                                            </Nav.Link>\r\n                                                        </ProductList>     \r\n                                                         </div>                                           \r\n                                            </div>\r\n                                            </Card.Subtitle>\r\n                                        </Card.Header>\r\n                                        <Card.Body className=\"form-static-wrap\">\r\n                                            <Row>\r\n                                                <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_VENUE\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{SelectedTrainingUpdate.strainingvenue}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TRAININGDATE\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{SelectedTrainingUpdate.strainingdate}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n\r\n                                               \r\n                                                <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TRAININGTOPIC\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{SelectedTrainingUpdate.strainingtopic}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                                <Col md=\"6\">\r\n                                                    <FormGroup>\r\n                                                        <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TRAINERNAME\" })}</FormLabel>\r\n                                                        <ReadOnlyText>{SelectedTrainingUpdate.strainername}</ReadOnlyText>\r\n                                                    </FormGroup>\r\n                                                </Col>\r\n                                               \r\n                                            </Row>\r\n                                            <TrainingUpdateChildTab \r\n                                                operation={this.props.Login.operation}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                screenName={this.props.Login.screenName}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                masterData={this.props.Login.masterData}\r\n                                                crudMaster={this.props.crudMaster}\r\n                                                errorCode={this.props.Login.errorCode}\r\n                                                masterStatus={this.props.Login.masterStatus}\r\n                                                openChildModal={this.props.Login.openChildModal}\r\n                                                participants={this.props.Login.participants}\r\n                                                updateStore={this.props.updateStore}\r\n                                                selectedRecord={this.props.Login.selectedRecord}\r\n                                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                                esignRights={this.props.Login.userRoleControlRights}\r\n                                                screenData={this.props.Login.screenData}\r\n                                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                                loadEsign={this.props.Login.loadEsign}\r\n                                                controlMap={this.state.controlMap}\r\n                                                showAccordian={this.state.showAccordian}\r\n                                                dataState={this.props.Login.dataState}\r\n                                                onTabChange={this.onTabChange}\r\n                                                settings={this.props.Login.settings}\r\n                                            />\r\n                                        </Card.Body>\r\n                                    </Card>\r\n                                </ContentPanel>\r\n                                : \"\"\r\n                            }\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n    \r\n    completeTraining = (version,ncontrolCode) => {\r\n\r\n        let inputData = [];\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.FromDate, this.props.Login.masterData.ToDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"ntechniquecode\"]=this.props.Login.masterData.SelectedTrainingUpdate[\"ntechniquecode\"];\r\n        inputData[\"trainingupdate\"] = {\r\n            \r\n            \"ntrainingcode\": this.props.Login.masterData.SelectedTrainingUpdate.ntrainingcode,\r\n            \"ntechniquecode\":this.props.Login.masterData.selectedTechinque.ntechniquecode,\r\n            \"ntransactionstatus\":this.props.Login.masterData.SelectedTrainingUpdate.ntransactionstatus,\r\n            \r\n        }\r\n        const postParam = {\r\n            inputListName: \"TechniqueList\", \r\n            selectedObject: \"SelectedTrainingUpdate\",\r\n            primaryKeyField: \"ntrainingcode\",\r\n            primaryKeyValue: this.props.Login.masterData.TechniqueList.ntrainingcode,\r\n            fetchUrl: \"trainingupdate/getTraningUpdateByTechnique\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"Training\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData, postParam,\r\n            operation:\"complete\"\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, \r\n                    screenData: { inputParam, masterData }, \r\n                    openModal: true, \r\n                    operation:\"complete\", \r\n                    screenName: '', \r\n                    id: 'TrainingUpdate'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData);\r\n        }\r\n    }\r\n    handlePageChange = (event) => {\r\n        this.setState({\r\n            skip: event.skip,\r\n            take: event.take\r\n        });\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterTechnique && this.props.Login.masterData.FromDate) {\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n                this.props.Login.masterData.ToDate,\r\n                this.props.Login.userInfo);\r\n            breadCrumbData.push(\r\n\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TECHNIQUE\",\r\n                    \"value\": this.props.Login.masterData.selectedTechinque ? this.props.Login.masterData.selectedTechinque[\"stechniquename\"]: \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n           \r\n            case 3:\r\n                let nfilterTechnique = this.state.nfilterTechnique || {}\r\n                nfilterTechnique = comboData;\r\n                this.searchRef.current.value = \"\";\r\n                this.setState({ nfilterTechnique })\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    reloadData1 = () => {\r\n        this.searchRef.current.value = \"\";\r\n            let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n            let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\r\n            let inputParam = {\r\n                inputData: {\r\n\r\n                    userinfo: this.props.Login.userInfo,\r\n                    currentdate: formatInputDate(new Date(), true)\r\n                },\r\n                classUrl: \"trainingupdate\",\r\n                methodUrl: \"TrainingUpdate\",\r\n                userInfo: this.props.Login.userInfo,\r\n                displayName: \"IDS_TRAININGUPDATE\"\r\n\r\n            };\r\n            this.props.callService(inputParam);\r\n          \r\n        \r\n    }\r\n    onFilterSubmit = () => {\r\n        this.reloadData(true);\r\n    }\r\n\r\n    reloadData = (isFilterSubmit) => {\r\n\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n        if (isFilterSubmit) {\r\n            let selectedRecord = this.state.selectedRecord || {};\r\n            if (selectedRecord && selectedRecord[\"fromdate\"] !== undefined) {\r\n                fromDate = selectedRecord[\"fromdate\"];\r\n            }\r\n            if (selectedRecord && selectedRecord[\"todate\"] !== undefined) {\r\n                toDate = selectedRecord[\"todate\"];\r\n            }\r\n        }\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);\r\n        if (this.state.nfilterTechnique.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n                    fromDate: obj.fromDate,\r\n                    toDate: obj.toDate,\r\n                    currentDate: null,\r\n                    ntechniquecode: this.state.nfilterTechnique.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterTechnique: this.state.nfilterTechnique\r\n                },\r\n\r\n                classUrl: \"trainingupdate\",\r\n                methodUrl: \"TraningUpdateByTechnique\",\r\n                displayName: \"IDS_TRAININGCERTIFICATE\",\r\n                userInfo: this.props.Login.userInfo\r\n            };\r\n            this.props.changeTechniqueFilter(inputParam, this.props.Login.masterData.filterTechnique,this.state.nfilterTechnique);\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_TECHNIQUENOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let isComponentUpdated = false;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            isComponentUpdated = true;\r\n        }\r\n\r\n        let userRoleControlRights = this.state.userRoleControlRights || [];\r\n        let controlMap = this.state.controlMap || new Map();\r\n        if (this.props.Login.userInfo && this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const nformCode = this.props.Login.userInfo.nformcode;\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[nformCode] && Object.values(this.props.Login.userRoleControlRights[nformCode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode));\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, nformCode);\r\n            isComponentUpdated = true;\r\n        }\r\n        let nfilterTechnique = this.state.nfilterTechnique || {};\r\n        let filterTechnique = this.state.filterTechnique || {};\r\n\r\n        if (this.props.Login.masterData.filterTechnique !== previousProps.Login.masterData.filterTechnique) {\r\n            const trainingupdateMap = constructOptionList(this.props.Login.masterData.filterTechnique || [], \"ntechniquecode\",\r\n                \"stechniquename\", 'ntechniquecode', 'ascending', false);\r\n            filterTechnique = trainingupdateMap.get(\"OptionList\");\r\n            if (trainingupdateMap.get(\"DefaultValue\")) {\r\n                nfilterTechnique = trainingupdateMap.get(\"DefaultValue\");\r\n            } else if (filterTechnique && filterTechnique.length > 0) {\r\n                nfilterTechnique = filterTechnique[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterTechnique !== previousProps.Login.masterData.nfilterTechnique) {\r\n            nfilterTechnique = this.props.Login.masterData.nfilterTechnique;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterTechnique, userRoleControlRights, controlMap, selectedRecord, filterTechnique });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential,\r\n    updateStore, filterColumnData, getTrainingUpdate, changeTechniqueFilter\r\n})(injectIntl(TrainingUpdate));\r\n\r\n"]},"metadata":{},"sourceType":"module"}