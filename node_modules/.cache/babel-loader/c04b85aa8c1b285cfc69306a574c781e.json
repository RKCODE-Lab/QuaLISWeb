{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{version}from'react';import{Row,Col,Card}from'react-bootstrap';import{injectIntl}from'react-intl';import{process}from'@progress/kendo-data-query';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{constructOptionList,onDropAttachFileList,deleteAttachmentDropZone,showEsign,create_UUID}from'../../../components/CommonScript';import CustomTabs from'../../../components/custom-tabs/custom-tabs.component';import{connect}from'react-redux';import TrainingParticipantsTab from'./TrainingParticipantsTab';import TrainingDocTab from'./TrainingDocTab';import AddTrainingDocFile from'./AddTrainingDocFile';import AddTraineeDocFile from'./AddTraineeDocFile';import Esign from'../../audittrail/Esign';import{attachmentType,FORMULAFIELDTYPE,transactionStatus}from'../../../components/Enumeration';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var TrainingUpdateChildTab=/*#__PURE__*/function(_React$Component){_inherits(TrainingUpdateChildTab,_React$Component);var _super=_createSuper(TrainingUpdateChildTab);function TrainingUpdateChildTab(props){var _this;_classCallCheck(this,TrainingUpdateChildTab);_this=_super.call(this,props);_this.TrainingDocumentDataStateChange=function(event){_this.setState({dataState:event.dataState});};_this.ParticipantsDataStateChange=function(event){_this.setState({dataStateParticipants:event.dataState});};_this.tabDetail=function(){var _React$createElement;var tabMap=new Map();tabMap.set(\"IDS_TRAININGDOCUMENTS\",/*#__PURE__*/React.createElement(TrainingDocTab,{screenName:\"TrainingDocuments\",onInputOnChange:_this.onInputOnChange,controlMap:_this.props.controlMap,updateStore:_this.props.updateStore,userRoleControlRights:_this.props.userRoleControlRights,userInfo:_this.props.userInfo,inputParam:_this.props.inputParam,deleteRecord:_this.deleteRecord,TrainingDocument:_this.props.masterData.TrainingDocument||[],getAvailableData:_this.props.getAvailableData,settings:_this.props.settings}));tabMap.set(\"IDS_PARTICIPANTS\",/*#__PURE__*/React.createElement(TrainingParticipantsTab,(_React$createElement={userRoleControlRights:_this.props.userRoleControlRights,controlMap:_this.props.controlMap,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,screenName:\" TrainieeDocuments\",updateStore:_this.props.updateStore,primaryKeyField:\"nparticipantcode\",masterData:_this.props.masterData,primaryList:\"Participants\",dataResult:process(_this.props.Login.masterData[(\"Participants\",\"TraineeDocuments\")]||[],_this.state.dataStateParticipants),dataState:_this.state.dataStateParticipants},_defineProperty(_React$createElement,\"dataState\",_this.props.screenName===undefined||_this.props.screenName===\"Participants\"?_this.state.dataStateParticipants:{skip:0}),_defineProperty(_React$createElement,\"dataStateChange\",function dataStateChange(event){return _this.setState({dataStateParticipants:event.data});}),_defineProperty(_React$createElement,\"columnList\",_this.participantsColumnList),_defineProperty(_React$createElement,\"methodUrl\",\"TrainingParticipants\"),_defineProperty(_React$createElement,\"fetchParticipantsRecordByID\",_this.fetchParticipantsRecordByID),_defineProperty(_React$createElement,\"deleteRecord\",_this.deleteRecord),_defineProperty(_React$createElement,\"getAvailableData\",_this.props.getAvailableData),_defineProperty(_React$createElement,\"addtraineedoc\",_this.addtraineedoc),_React$createElement)));return tabMap;};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.addtraineedoc=function(ncontrolcode){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,operation:\"create\",selectedRecord:{},ncontrolcode:ncontrolcode,screenName:\"IDS_TRAINEEDOCUMENTS\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"certify\"||_this.props.Login.operation===\"attend\"||_this.props.Login.operation===\"competent\"||_this.props.Login.operation===\"complete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onDropTrainingDoc=function(attachedFiles,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onDropTrainieeDoc=function(attachedFiles,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.deleteRecord=function(deleteParam){var _inputData;var methodUrl=deleteParam.methodUrl;var selected=deleteParam.selectedRecord;var dataState=undefined;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,methodUrl.toLowerCase(),selected),_defineProperty(_inputData,\"userinfo\",_this.props.userInfo),_inputData),classUrl:\"trainingupdate\",operation:deleteParam.operation,methodUrl:methodUrl,dataState:dataState};var masterData=_this.props.masterData;if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}};_this.onSaveClick=function(saveType,formRef){var inputParam={};var defaultInput={};var isValidRequest=true;if(_this.props.screenName===\"IDS_TRAININGDOCUMENTS\"){inputParam=_this.onSaveTrainingDoc(saveType,formRef);}if(_this.props.screenName===\"IDS_TRAINEEDOCUMENTS\"){inputParam=_this.onSaveTrainieeDoc(saveType,formRef);}if(isValidRequest){if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openModal\",defaultInput);}}};_this.onSaveTrainingDoc=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var trainingdocArray=[];var trainingdoc={ntrainingcode:_this.props.masterData.SelectedTrainingUpdate.ntrainingcode,ntrainingdoccode:selectedRecord.ntrainingdoccode?selectedRecord.ntrainingdoccode:0,nstatus:transactionStatus.ACTIVE};var formData=new FormData();if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},trainingdoc);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename?selectedRecord.ssystemfilename.split('.'):\"\";var filesystemfileext=selectedRecord.ssystemfilename?file.name.split('.')[ssystemfilename.length-1]:\"\";var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.ntrainingdoccode&&selectedRecord.ntrainingdoccode>0&&selectedRecord.ssystemfilename!==\"\"?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=file.name;tempData[\"sfiledesc\"]=selectedRecord.sfiledesc?selectedRecord.sfiledesc.trim():\"\";tempData[\"ssystemfilename\"]=uniquefilename;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);trainingdocArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{trainingdoc[\"sfilename\"]=selectedRecord.sfilename;trainingdoc[\"sfiledesc\"]=selectedRecord.sfiledesc?selectedRecord.sfiledesc.trim():\"\";trainingdoc[\"ssystemfilename\"]=selectedRecord.ssystemfilename;trainingdocArray.push(trainingdoc);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"trainingdoc\",JSON.stringify(trainingdocArray));var inputParam={inputData:{userinfo:_this.props.userInfo},formData:formData,isFileupload:true,operation:_this.props.operation,classUrl:\"trainingupdate\",saveType:saveType,formRef:formRef,methodUrl:\"TrainingDoc\"};return inputParam;};_this.onSaveTrainieeDoc=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var trainieedocArray=[];var trainieedoc={nparticipantcode:_this.props.masterData.selectedParticipants.nparticipantcode,ntraineedoccode:selectedRecord.ntraineedoccode?selectedRecord.ntraineedoccode:0,nstatus:transactionStatus.ACTIVE};var formData=new FormData();if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},trainieedoc);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var ssystemfilename=selectedRecord.ssystemfilename?selectedRecord.ssystemfilename.split('.'):\"\";var filesystemfileext=selectedRecord.ssystemfilename?file.name.split('.')[ssystemfilename.length-1]:\"\";var uniquefilename=nattachmenttypecode===attachmentType.FTP?selectedRecord.ntraineedoccode&&selectedRecord.ntraineedoccode>0&&selectedRecord.ssystemfilename!==\"\"?ssystemfilename[0]+'.'+filesystemfileext:create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=file.name;tempData[\"sfiledesc\"]=selectedRecord.sfiledesc?selectedRecord.sfiledesc.trim():\"\";tempData[\"ssystemfilename\"]=uniquefilename;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);trainieedocArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{trainieedoc[\"sfilename\"]=selectedRecord.sfilename;trainieedoc[\"sfiledesc\"]=selectedRecord.sfiledesc?selectedRecord.sfiledesc.trim():\"\";trainieedoc[\"ssystemfilename\"]=selectedRecord.ssystemfilename;trainieedocArray.push(trainieedoc);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"trainieedoc\",JSON.stringify(trainieedocArray));var inputParam={inputData:{userinfo:_this.props.userInfo},formData:formData,isFileupload:true,operation:_this.props.operation,classUrl:\"trainingupdate\",saveType:saveType,formRef:formRef,methodUrl:\"TrainieeDoc\"};return inputParam;};_this.fetchParticipantsRecordByID=function(operation,version,ncontrolCode){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"trainingparticipants\"]={\"nusercode\":version.nusercode,\"nparticipantcode\":version.nparticipantcode,\"ntrainingcode\":version.ntrainingcode,\"ncertifiedstatus\":version.ncertifiedstatus,\"ncompetencystatus\":version.ncompetencystatus,\"ntransactionstatus\":version.ntransactionstatus};var postParam={inputListName:\"TechniqueList\",selectedObject:\"SelectedTrainingUpdate\",primaryKeyField:\"ntrainingcode\",primaryKeyValue:_this.props.Login.masterData.TechniqueList.ntrainingcode,fetchUrl:\"trainingupdate/getTraningUpdateByTechnique\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={methodUrl:\"TrainingParticipants\",classUrl:_this.props.Login.inputParam.classUrl,inputData:inputData,postParam:postParam,operation:operation};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:operation,screenName:'',id:'ParticipantsStatus'}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};var _dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var dataStateParticipants={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isOpen:false,selectedRecord:{},dataResult:[],activeTab:'Trainingdoc-tab',dataState:_dataState,dataStateParticipants:dataStateParticipants,trainingDocument:[],participants:[]};_this.trainingDocumentFieldList=['ntrainingdoccode','nparticipantcode','ntrainingcode','sfilename','ntechniquecode','sfullname','nstatus','ntransactionstatus'];_this.trainingDocumentColumnList=[{\"idsName\":\"IDS_TRAININGDOCUMENTNAME\",\"dataField\":\"sfilename\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.participantsColumnList=[{\"idsName\":\"IDS_PARTICIPANTSNAME\",\"dataField\":\"sfullname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.validationTrainingDocumentColumnList=[{\"idsName\":\"IDS_TRAININGDOCUMENTNAME\",\"dataField\":\"sfilename\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.validationParticipantsColumnList=[{\"idsName\":\"IDS_PARTICIPANTS\",\"dataField\":\"sfullname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return _this;}_createClass(TrainingUpdateChildTab,[{key:\"render\",value:function render(){var mandatoryFields=[];this.validationTrainingDocumentColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(CustomTabs,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange})))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_TRAININGDOCUMENTS\"?/*#__PURE__*/React.createElement(AddTrainingDocFile,{selectedRecord:this.state.selectedRecord||{},onDrop:this.onDropTrainingDoc,onInputOnChange:this.onInputOnChange,deleteAttachment:this.deleteAttachment,formatMessage:this.props.intl.formatMessage,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),operation:this.props.Login.operation,userLogged:this.props.Login.userLogged,inputParam:this.props.Login.inputParam,selectedId:this.props.Login.selectedId}):this.props.screenName===\"IDS_TRAINEEDOCUMENTS\"?/*#__PURE__*/React.createElement(AddTraineeDocFile,{selectedRecord:this.state.selectedRecord||{},onDrop:this.onDropTrainieeDoc,onInputOnChange:this.onInputOnChange,deleteAttachment:this.deleteAttachment,formatMessage:this.props.intl.formatMessage,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),operation:this.props.Login.operation,userLogged:this.props.Login.userLogged,inputParam:this.props.Login.inputParam,selectedId:this.props.Login.selectedId}):\"\"}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var isOpen=false;if(this.props.errorCode!==undefined&&(this.state.operation===\"create\"||this.state.operation===\"update\")){isOpen=true;}var _this$state=this.state,_dataState2=_this$state.dataState,_dataStateParticipants=_this$state.dataStateParticipants;if(this.props.dataState===undefined){_dataState2={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};_dataStateParticipants={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5,filter:undefined,sort:undefined};}this.setState({isOpen:isOpen,activeTab:'Trainingdocument-tab',dataState:_dataState2,dataStateParticipants:_dataStateParticipants});}if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}var _this$state2=this.state,dataState=_this$state2.dataState,dataStateParticipants=_this$state2.dataStateParticipants;if(this.props.dataState!==previousProps.dataState&&this.props.dataState!==dataState){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};dataStateParticipants={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};this.setState({dataState:dataState,dataStateParticipants:dataStateParticipants});}if(this.props.trainingDocument!==previousProps.trainingDocument||this.props.participants!==previousProps.participants){var participants=constructOptionList(this.props.participants||[],\"nparticipantcode\",\"sfullname\",undefined,undefined,undefined);var participantsList=participants.get(\"OptionList\");this.setState({participants:participantsList});}}}]);return TrainingUpdateChildTab;}(React.Component);export default connect(mapStateToProps,{})(injectIntl(TrainingUpdateChildTab));","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/competencemanagement/trainingupdate/TrainingUpdateChildTab.jsx"],"names":["React","version","Row","Col","Card","injectIntl","process","SlideOutModal","DEFAULT_RETURN","constructOptionList","onDropAttachFileList","deleteAttachmentDropZone","showEsign","create_UUID","CustomTabs","connect","TrainingParticipantsTab","TrainingDocTab","AddTrainingDocFile","AddTraineeDocFile","Esign","attachmentType","FORMULAFIELDTYPE","transactionStatus","mapStateToProps","state","Login","TrainingUpdateChildTab","props","TrainingDocumentDataStateChange","event","setState","dataState","ParticipantsDataStateChange","dataStateParticipants","tabDetail","tabMap","Map","set","onInputOnChange","controlMap","updateStore","userRoleControlRights","userInfo","inputParam","deleteRecord","masterData","TrainingDocument","getAvailableData","settings","screenName","undefined","skip","data","participantsColumnList","fetchParticipantsRecordByID","addtraineedoc","optional","selectedRecord","target","type","name","checked","value","ncontrolcode","updateInfo","typeName","openModal","operation","closeModal","loadEsign","selectedId","onDropTrainingDoc","attachedFiles","fieldName","actionType","onDropTrainieeDoc","validateEsign","inputData","sreason","password","screenData","validateEsignCredential","deleteAttachment","file","deleteParam","methodUrl","selected","toLowerCase","classUrl","esignRights","nformcode","ncontrolCode","crudMaster","onSaveClick","saveType","formRef","defaultInput","isValidRequest","onSaveTrainingDoc","onSaveTrainieeDoc","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","NO","trainingdocArray","trainingdoc","ntrainingcode","SelectedTrainingUpdate","ntrainingdoccode","nstatus","ACTIVE","formData","FormData","Array","isArray","length","forEach","index","tempData","Object","assign","splittedFileName","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","FTP","sfiledesc","trim","append","push","YES","JSON","stringify","userinfo","isFileupload","trainieedocArray","trainieedoc","nparticipantcode","selectedParticipants","ntraineedoccode","nusercode","ncertifiedstatus","ncompetencystatus","ntransactionstatus","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","TechniqueList","fetchUrl","fecthInputObject","id","onTabChange","tabProps","take","parseInt","isOpen","dataResult","activeTab","trainingDocument","participants","trainingDocumentFieldList","trainingDocumentColumnList","validationTrainingDocumentColumnList","validationParticipantsColumnList","mandatoryFields","item","mandatory","masterStatus","intl","formatMessage","userLogged","previousProps","errorCode","filter","sort","participantsList","get","Component"],"mappings":"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","sourcesContent":["import React, { version } from 'react'\r\nimport { Row, Col, Card } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { constructOptionList, onDropAttachFileList ,deleteAttachmentDropZone, showEsign,create_UUID} from '../../../components/CommonScript';\r\nimport CustomTabs from '../../../components/custom-tabs/custom-tabs.component';\r\nimport { connect } from 'react-redux';\r\nimport TrainingParticipantsTab from './TrainingParticipantsTab';\r\nimport TrainingDocTab from './TrainingDocTab';\r\nimport AddTrainingDocFile from './AddTrainingDocFile';\r\nimport AddTraineeDocFile from './AddTraineeDocFile';\r\nimport Esign from '../../audittrail/Esign';\r\nimport { attachmentType, FORMULAFIELDTYPE, transactionStatus } from '../../../components/Enumeration';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass TrainingUpdateChildTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        const dataStateParticipants = {\r\n            skip: 0,\r\n            take:this.props.settings? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'Trainingdoc-tab',\r\n            dataState: dataState,\r\n            dataStateParticipants: dataStateParticipants, trainingDocument: [], participants: []\r\n        };\r\n        this.trainingDocumentFieldList = ['ntrainingdoccode', 'nparticipantcode', 'ntrainingcode', 'sfilename', 'ntechniquecode', 'sfullname',\r\n            'nstatus', 'ntransactionstatus'];\r\n        this.trainingDocumentColumnList = [{ \"idsName\": \"IDS_TRAININGDOCUMENTNAME\", \"dataField\": \"sfilename\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.participantsColumnList = [{ \"idsName\": \"IDS_PARTICIPANTSNAME\", \"dataField\": \"sfullname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.validationTrainingDocumentColumnList = [{ \"idsName\": \"IDS_TRAININGDOCUMENTNAME\", \"dataField\": \"sfilename\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n        this.validationParticipantsColumnList = [{ \"idsName\": \"IDS_PARTICIPANTS\", \"dataField\": \"sfullname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n    }\r\n    TrainingDocumentDataStateChange = (event) => {\r\n        this.setState({\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    ParticipantsDataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateParticipants: event.dataState\r\n        });\r\n    }\r\n    render() {\r\n        const mandatoryFields = [];\r\n        this.validationTrainingDocumentColumnList.forEach(item => item.mandatory === true ?\r\n           mandatoryFields.push(item) : \"\"\r\n         );\r\n        \r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                             : this.props.screenName === \"IDS_TRAININGDOCUMENTS\" ?\r\n                            <AddTrainingDocFile\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onDrop={this.onDropTrainingDoc}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                deleteAttachment={this.deleteAttachment}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                                operation={this.props.Login.operation}\r\n                                userLogged={this.props.Login.userLogged}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedId={this.props.Login.selectedId}\r\n                            />\r\n                            : this.props.screenName === \"IDS_TRAINEEDOCUMENTS\" ?\r\n                            <AddTraineeDocFile\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onDrop={this.onDropTrainieeDoc}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                deleteAttachment={this.deleteAttachment}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                                operation={this.props.Login.operation}\r\n                                userLogged={this.props.Login.userLogged}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedId={this.props.Login.selectedId}\r\n                            />\r\n                            : \"\"\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n\r\n    tabDetail = () => {\r\n        \r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_TRAININGDOCUMENTS\", <TrainingDocTab\r\n                                                screenName={\"TrainingDocuments\"}\r\n\r\n                                                    onInputOnChange={this.onInputOnChange}\r\n                                                    controlMap={this.props.controlMap}\r\n                                                    updateStore={this.props.updateStore}\r\n                                                    userRoleControlRights={this.props.userRoleControlRights}\r\n                                                    userInfo={this.props.userInfo}\r\n                                                    inputParam={this.props.inputParam}\r\n                                                    deleteRecord={this.deleteRecord}\r\n                                                    TrainingDocument={this.props.masterData.TrainingDocument || []}\r\n                                                    getAvailableData={this.props.getAvailableData}\r\n                                                    settings = {this.props.settings}\r\n                                                    />)\r\n        tabMap.set(\"IDS_PARTICIPANTS\", <TrainingParticipantsTab \r\n                                                          \r\n                                                            userRoleControlRights={this.props.userRoleControlRights}\r\n                                                            controlMap={this.props.controlMap}\r\n                                                            inputParam={this.props.inputParam}\r\n                                                            userInfo={this.props.userInfo}\r\n                                                            screenName={\" TrainieeDocuments\"}   \r\n                                                            updateStore={this.props.updateStore}\r\n                                                            primaryKeyField={\"nparticipantcode\"}\r\n                                                            masterData={this.props.masterData}\r\n                                                            primaryList={\"Participants\"}\r\n                                                            dataResult={process(this.props.Login.masterData[\"Participants\", \"TraineeDocuments\"] || [], this.state.dataStateParticipants)}\r\n                                                            dataState={this.state.dataStateParticipants}\r\n                                                            dataState={(this.props.screenName === undefined || this.props.screenName === \"Participants\") ? this.state.dataStateParticipants : { skip: 0 }}\r\n                                                            dataStateChange={(event) => this.setState({ dataStateParticipants: event.data })}\r\n                                                            columnList={this.participantsColumnList}\r\n                                                            methodUrl={\"TrainingParticipants\"}\r\n                                                            fetchParticipantsRecordByID={this.fetchParticipantsRecordByID}\r\n                                                            deleteRecord={this.deleteRecord}\r\n                                                        getAvailableData={this.props.getAvailableData}\r\n                                                        addtraineedoc={this.addtraineedoc}\r\n                                                        \r\n                                                        />)\r\n        return tabMap;\r\n    }\r\n\r\n\r\n    onInputOnChange = (event,optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n       \r\n           \r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n             \r\n           \r\n                }\r\n\r\n                addtraineedoc =(ncontrolcode) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true,\r\n                operation: \"create\",\r\n                selectedRecord: {},\r\n                ncontrolcode: ncontrolcode,\r\n                screenName : \"IDS_TRAINEEDOCUMENTS\" \r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" ||\r\n                 this.props.Login.operation === \"certify\" ||\r\n                 this.props.Login.operation === \"attend\" ||\r\n                 this.props.Login.operation === \"competent\" || this.props.Login.operation === \"complete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n    onDropTrainingDoc = (attachedFiles, fieldName) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n    onDropTrainieeDoc = (attachedFiles, fieldName) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" \r\n        });\r\n    }\r\n        \r\n    \r\n    deleteRecord = (deleteParam) => {\r\n        const methodUrl = deleteParam.methodUrl;\r\n        const selected = deleteParam.selectedRecord;\r\n        let dataState = undefined;\r\n    const inputParam =   \r\n       {\r\n          inputData: {\r\n\r\n              [methodUrl.toLowerCase()]: selected,\r\n              userinfo: this.props.userInfo\r\n          },\r\n          classUrl: \"trainingupdate\",\r\n          operation: deleteParam.operation,\r\n          methodUrl: methodUrl,\r\n           dataState\r\n      }\r\n  \r\n   const masterData = this.props.masterData;\r\n      if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n          const updateInfo = {\r\n              typeName: DEFAULT_RETURN,\r\n              data: {\r\n                  loadEsign: true, screenData: { inputParam, masterData },\r\n                  openModal: true,  operation: deleteParam.operation, selectedRecord: {}\r\n              }\r\n          }\r\n          this.props.updateStore(updateInfo);\r\n      } else {\r\n          this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n      }\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        let defaultInput = {};\r\n        let isValidRequest = true;\r\n         if (this.props.screenName === \"IDS_TRAININGDOCUMENTS\") {\r\n            inputParam = this.onSaveTrainingDoc(saveType, formRef);\r\n        } \r\n        if (this.props.screenName === \"IDS_TRAINEEDOCUMENTS\") {\r\n            inputParam = this.onSaveTrainieeDoc(saveType, formRef);\r\n        } \r\n        if (isValidRequest) {\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openModal\", defaultInput);\r\n            }\r\n        }\r\n    }\r\n\r\n    onSaveTrainingDoc = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let trainingdocArray = [];\r\n        let trainingdoc = {\r\n            ntrainingcode: this.props.masterData.SelectedTrainingUpdate.ntrainingcode,\r\n            ntrainingdoccode: selectedRecord.ntrainingdoccode ? selectedRecord.ntrainingdoccode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n           \r\n        };\r\n        const formData = new FormData();\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, trainingdoc);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntrainingdoccode && selectedRecord.ntrainingdoccode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sfiledesc\"] = selectedRecord.sfiledesc ? selectedRecord.sfiledesc.trim() : \"\";\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    trainingdocArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                trainingdoc[\"sfilename\"] = selectedRecord.sfilename;\r\n                trainingdoc[\"sfiledesc\"] = selectedRecord.sfiledesc ? selectedRecord.sfiledesc.trim() : \"\";\r\n                trainingdoc[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                trainingdocArray.push(trainingdoc);\r\n            }\r\n        \r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"trainingdoc\", JSON.stringify(trainingdocArray));\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"trainingupdate\",\r\n            saveType, formRef, methodUrl: \"TrainingDoc\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveTrainieeDoc = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let trainieedocArray = [];\r\n        let trainieedoc = {\r\n            nparticipantcode: this.props.masterData.selectedParticipants.nparticipantcode,\r\n            ntraineedoccode: selectedRecord.ntraineedoccode ? selectedRecord.ntraineedoccode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n        };\r\n        const formData = new FormData();\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, trainieedoc);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.ntraineedoccode && selectedRecord.ntraineedoccode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sfiledesc\"] = selectedRecord.sfiledesc ? selectedRecord.sfiledesc.trim() : \"\";\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    trainieedocArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                trainieedoc[\"sfilename\"] = selectedRecord.sfilename;\r\n                trainieedoc[\"sfiledesc\"] = selectedRecord.sfiledesc ? selectedRecord.sfiledesc.trim() : \"\";\r\n                trainieedoc[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                trainieedocArray.push(trainieedoc);\r\n            }\r\n     \r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"trainieedoc\", JSON.stringify(trainieedocArray));\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"trainingupdate\",\r\n            saveType, formRef, methodUrl: \"TrainieeDoc\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    fetchParticipantsRecordByID = (operation,version,ncontrolCode) => {\r\n\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"trainingparticipants\"] = {\r\n            \"nusercode\": version.nusercode,\r\n            \"nparticipantcode\": version.nparticipantcode,\r\n            \"ntrainingcode\": version.ntrainingcode,\r\n            \"ncertifiedstatus\" : version.ncertifiedstatus,\r\n            \"ncompetencystatus\" : version.ncompetencystatus,\r\n            \"ntransactionstatus\" : version.ntransactionstatus\r\n\r\n        }\r\n        const postParam = {\r\n            inputListName: \"TechniqueList\", \r\n            selectedObject: \"SelectedTrainingUpdate\",\r\n            primaryKeyField: \"ntrainingcode\",\r\n            primaryKeyValue: this.props.Login.masterData.TechniqueList.ntrainingcode,\r\n            fetchUrl: \"trainingupdate/getTraningUpdateByTechnique\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"TrainingParticipants\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData, postParam,\r\n            operation\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, \r\n                    screenData: { inputParam, masterData }, \r\n                    openModal: true, \r\n                    operation, \r\n                    screenName: '', \r\n                    id: 'ParticipantsStatus'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n  \r\n \r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            let { dataState, dataStateParticipants } = this.state;\r\n            if(this.props.dataState === undefined)\r\n            {\r\n                dataState={skip: 0,take:this.props.settings? parseInt(this.props.settings[14]) : 5,filter:undefined,sort:undefined}\r\n                dataStateParticipants = { skip: 0, take :this.props.settings? parseInt(this.props.settings[14]) : 5,filter:undefined,sort:undefined }\r\n            } \r\n            this.setState({ isOpen, activeTab: 'Trainingdocument-tab',dataState, dataStateParticipants });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n        let { dataState, dataStateParticipants } = this.state;\r\n        if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\r\n            dataState = { skip: 0,take : this.props.settings? parseInt(this.props.settings[14]) : 5 }\r\n            dataStateParticipants = { skip: 0 , take:this.props.settings? parseInt(this.props.settings[14]) : 5}\r\n            this.setState({ dataState, dataStateParticipants });\r\n        }\r\n     \r\n       \r\n        if (this.props.trainingDocument !== previousProps.trainingDocument || this.props.participants !== previousProps.participants) {\r\n\r\n           \r\n            const participants = constructOptionList(this.props.participants || [], \"nparticipantcode\",\r\n                \"sfullname\", undefined, undefined, undefined);\r\n            const participantsList = participants.get(\"OptionList\");\r\n\r\n            this.setState({ \r\n                 participants: participantsList });\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) =>{\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {screenName}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps,{})(injectIntl(TrainingUpdateChildTab));\r\n\r\n"]},"metadata":{},"sourceType":"module"}