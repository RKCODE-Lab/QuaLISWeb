{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster,validateEsignCredential,updateStore,getBarcodeTemplateComboService,getBarcodeTemplateControl,getReactInputFields,getReactQuerybuilderTableRecord,getBarcodeTemplateDetail,getEditBarcodeTemplateComboService,filterColumnData}from'../../actions';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import ListMaster from'../../components/list-master/list-master.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../../pages/audittrail/Esign';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{SampleType,transactionStatus}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddBarcodeTemplate from'./AddBarcodeTemplate';import BarcodePreRegDesign from'./BarcodePreRegDesign';import PortalModal from'../../PortalModal';import{faPenAlt,faPencilAlt,faThumbsUp,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{NavHeader}from'../../components/sidebar/sidebar.styles';import FormInput from'../../components/form-input/form-input.component';import rsapi from'../../rsapi';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var BarcodeTemplate=/*#__PURE__*/function(_React$Component){_inherits(BarcodeTemplate,_React$Component);var _super=_createSuper(BarcodeTemplate);function BarcodeTemplate(props){var _this;_classCallCheck(this,BarcodeTemplate);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.onApproveClick=function(approveId){if(_this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus===transactionStatus.DRAFT){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;//add               \nvar postParam=undefined;inputData[\"barcodetemplate\"]={\"nbarcodetemplatecode\":_this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"]?_this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"].Value:\"\"};inputData[\"barcodetemplate\"]=_this.props.Login.masterData.SelectedBarcodeTemplate;postParam={inputListName:\"BarcodeTemplate\",selectedObject:\"SelectedBarcodeTemplate\",primaryKeyField:\"nbarcodetemplatecode\"};var inputParam={classUrl:'barcodetemplate',methodUrl:\"BarcodeTemplate\",inputData:inputData,operation:\"approve\",postParam:postParam,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}};_this.onRetireClick=function(approveId){if(_this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus===transactionStatus.APPROVED){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;//add               \nvar postParam=undefined;inputData[\"barcodetemplate\"]={\"nbarcodetemplatecode\":_this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"]?_this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"].Value:\"\"};inputData[\"barcodetemplate\"]=_this.props.Login.masterData.SelectedBarcodeTemplate;postParam={inputListName:\"BarcodeTemplate\",selectedObject:\"SelectedBarcodeTemplate\",primaryKeyField:\"nbarcodetemplatecode\"};var inputParam={classUrl:'barcodetemplate',methodUrl:\"BarcodeTemplate\",inputData:inputData,operation:\"retire\",postParam:postParam,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var saveType;var masterData=_this.props.Login.masterData;var esignNeeded=showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId);if(esignNeeded){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true,operation:\"retire\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTAPPROVERECORD\"}));}};_this.onEditClick=function(editId){var addParam={screenName:_this.props.intl.formatMessage({id:\"IDS_BARCODETEMPLATE\"}),operation:\"update\",userInfo:_this.props.Login.userInfo,controlId:editId,selectedRecord:_this.state.selectedRecord,nbarcodetemplatecode:_this.props.Login.masterData.SelectedBarcodeTemplate.nbarcodetemplatecode,userinfo:_this.props.Login.userInfo};_this.props.getEditBarcodeTemplateComboService(addParam);};_this.saveScreenFilter=function(inputData,modal){var lstFilterlevel=[];var totalLevel=0;var layout=JSON.parse(inputData.registrationtemplate.jsonString);layout.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){totalLevel=totalLevel++;lstFilterlevel.push({slabelname:componentrow.label});}});}else{if(component.inputtype===\"combo\"){lstFilterlevel.push({slabelname:component.label});totalLevel=totalLevel++;}}});});});var selectedRecord=_objectSpread({},_this.state.selectedRecord);selectedRecord['reactTemplate']=inputData.registrationtemplate;selectedRecord['lstFilterlevel']=lstFilterlevel;selectedRecord['totalLevel']=totalLevel;var updateInfo={typeName:DEFAULT_RETURN,data:{// reactTemplate: inputData.registrationtemplate,\n// lstFilterlevel, totalLevel,\nselectedRecord:selectedRecord,openPortal:false,openModal:true}};_this.props.updateStore(updateInfo);//        this.setState({ reactTemplate: inputData.registrationtemplate, lstFilterlevel,totalLevel })\n};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"barcodetemplate\",methodUrl:\"BarcodeTemplate\",displayName:_this.props.Login.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.AddFilterDesign=function(){if(_this.state.selectedRecord['nformcode']){if(_this.state.selectedRecord['ncontrolcode']){var design=[];if(_this.state.selectedRecord.reactTemplate&&_this.state.selectedRecord.reactTemplate.jsonString){design=JSON.parse(_this.state.selectedRecord.reactTemplate.jsonString);}else{design=[{\"id\":\"pv1OWbsMYq\",\"type\":\"row\",\"children\":[{\"id\":\"2zMtRhjb2t\",\"type\":\"column\",\"children\":[]}]}];}var updateInfo={typeName:DEFAULT_RETURN,data:{openPortal:true,openModal:false,design:design}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTHECONTROL\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTHEFORM\"}));}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteTemplate(deleteId);});};_this.deleteTemplate=function(ncontrolCode){if(_this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus!==transactionStatus.DRAFT){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORDTODELETE\"}));}else{var postParam={inputListName:\"BarcodeTemplate\",selectedObject:\"SelectedBarcodeTemplate\",primaryKeyField:\"nbarcodetemplatecode\",primaryKeyValue:_this.props.Login.masterData.SelectedBarcodeTemplate.nbarcodetemplatecode,fetchUrl:\"barcodetemplate/getBarcodeTemplate\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var operation=\"delete\";var inputParam={classUrl:\"barcodetemplate\",//this.props.Login.inputParam.classUrl,\nmethodUrl:\"BarcodeTemplate\",postParam:postParam,inputData:{// \"barcodetemplate\": selectedRecord,\n\"userinfo\":_this.props.Login.userInfo,\"barcodetemplate\":_this.props.Login.masterData.SelectedBarcodeTemplate},operation:operation,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.Login.screenName,operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.openPortal){var updateInfo={typeName:DEFAULT_RETURN,data:{openPortal:false,openModal:true}};_this.props.updateStore(updateInfo);}else{if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"approve\"||_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var _updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,dataList:[],dataListCount:[],dataListSubSample:[],dataListCountSubSample:[]}};_this.props.updateStore(_updateInfo);}};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_objectSpread({},_this.state.selectedRecord)||{};selectedRecord[fieldName]=comboData;if(fieldName==='nformcode'){selectedRecord['reactTemplate']=undefined;selectedRecord['lstFilterlevel']=[];selectedRecord['totalLevel']=0;selectedRecord['ncontrolcode']=undefined;var map={userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData};_this.props.getBarcodeTemplateControl(map,selectedRecord);//     // const updateInfo = {\n//     //     typeName: DEFAULT_RETURN,\n//     //     data: {\n//     //         loading: true,\n//     //     }\n//     // }\n//   //  this.props.updateStore(updateInfo);\n//     rsapi.post(\"barcodetemplate/getBarcodeTemplateControl\", { 'userinfo': this.props.Login.userInfo, nformcode: selectedRecord.nformcode.value })\n//         .then(response => {\n//             const qualisMap = constructOptionList(response.data[\"controlList\"] || [], \"ncontrolcode\",\n//                 \"sdisplayname\", undefined, undefined, true);\n//             const qualisList = qualisMap.get(\"OptionList\");\n//             const updateInfo = {\n//                 typeName: DEFAULT_RETURN,\n//                 data: {\n//                     loading: false,\n//                     controlList: qualisList,\n//                     selectedRecord,\n//                 }\n//             }\n//             this.props.updateStore(updateInfo);\n//             this.setState({selectedRecord})\n//         })\n}else if(fieldName==='ncontrolcode'){selectedRecord['reactTemplate']=undefined;selectedRecord['lstFilterlevel']=[];selectedRecord['totalLevel']=0;var updateInfo={typeName:DEFAULT_RETURN,data:{// reactTemplate: undefined,\n// lstFilterlevel: [], totalLevel: 0,\nselectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);}else{_this.setState({selectedRecord:selectedRecord});}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{if(event.target.name===\"nsqlqueryneed\"){if(event.target.value===false){delete selectedRecord['nsqlquerycode'];selectedRecord['nfiltersqlqueryneed']=4;}selectedRecord[event.target.name]=event.target.value;}else if(event.target.name===\"nfiltersqlqueryneed\"){if(event.target.value===true){delete selectedRecord['nsqlquerycode'];}selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}}if(event.target.name==='nneedconfiguration'){if(selectedRecord[event.target.name]===4){var updateInfo={typeName:DEFAULT_RETURN,data:{reactTemplate:undefined,lstFilterlevel:[],totalLevel:0}};_this.props.updateStore(updateInfo);}}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType){var check=true;if(_this.state.selectedRecord.nneedconfiguration===3){if(_this.state.selectedRecord.reactTemplate===undefined){check=false;toast.warn(_this.props.intl.formatMessage({id:\"IDS_CREATEFILTERCONFIGURATION\"}));}}if(check!==false){if(_this.state.selectedRecord.nsqlqueryneed===3){if(_this.state.selectedRecord.nfiltersqlqueryneed===3){if(_this.state.selectedRecord.nneedconfiguration!==3){check=false;toast.warn(_this.props.intl.formatMessage({id:\"IDS_CHOOSEFILTERCONFIGURATION\"}));}}else if(_this.state.selectedRecord.nsqlquerycode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELQCTSQLQUERY\"}));check=false;}}}if(check){var _barcodeTemplate$json;var inputData=[];var selectedRecord=_objectSpread({},_this.state.selectedRecord);var reactTemplate=selectedRecord.reactTemplate&&selectedRecord.reactTemplate;var masterData=_this.props.Login.masterData;var barcodeTemplate={};var postParam=undefined;if(_this.props.Login.operation==='update'){postParam={inputListName:\"BarcodeTemplate\",selectedObject:\"SelectedBarcodeTemplate\",primaryKeyField:\"nbarcodetemplatecode\"};barcodeTemplate['nbarcodetemplatecode']=masterData.SelectedBarcodeTemplate.nbarcodetemplatecode;}barcodeTemplate['nformcode']=selectedRecord.nformcode.value;barcodeTemplate['ncontrolcode']=selectedRecord.ncontrolcode.value;barcodeTemplate['stableprimarykeyname']=selectedRecord.ncontrolcode.item.stableprimarykeyname;barcodeTemplate['nquerybuildertablecode']=selectedRecord.ncontrolcode.item.nquerybuildertablecode;barcodeTemplate['stablename']=selectedRecord.ncontrolcode.item.stablename;barcodeTemplate['jsondata']=(_barcodeTemplate$json={},_defineProperty(_barcodeTemplate$json,'screenfilter',reactTemplate?JSON.parse(reactTemplate.jsonString):[]),_defineProperty(_barcodeTemplate$json,'nneedconfiguration',selectedRecord.nneedconfiguration===3?true:false),_defineProperty(_barcodeTemplate$json,'nbarcodeprint',selectedRecord.nbarcodeprint===3?true:false),_defineProperty(_barcodeTemplate$json,'valuemember',reactTemplate?reactTemplate.valuemember:\"\"),_defineProperty(_barcodeTemplate$json,'nsqlqueryneed',selectedRecord.nsqlqueryneed===3?true:false),_defineProperty(_barcodeTemplate$json,'nfiltersqlqueryneed',selectedRecord.nfiltersqlqueryneed===3?true:false),_defineProperty(_barcodeTemplate$json,'nsqlquerycode',selectedRecord.nsqlqueryneed===3?selectedRecord.nfiltersqlqueryneed===4||selectedRecord.nfiltersqlqueryneed===undefined?selectedRecord.nsqlquerycode.value:-1:-1),_barcodeTemplate$json);barcodeTemplate['jsondata']=barcodeTemplate['jsondata'];barcodeTemplate['jsonstring']=JSON.stringify(barcodeTemplate['jsondata']);inputData['barcodetemplate']=barcodeTemplate;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.operation,postParam:postParam,searchRef:_this.searchRef};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.state={isOpen:false,designtemplatemappingData:[],masterStatus:\"\",error:\"\",operation:\"\",screenName:undefined,userLogged:true,selectedDesignTemplateMapping:undefined,sidebarview:false,userRoleControlRights:[],controlMap:new Map(),showAccordian:true,selectedInput:\"\",selectedRecord:{\"nneedconfiguration\":4},totalLevel:0};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.searchFieldList=[\"sformname\",\"scontrolname\",\"sdisplayname\"];return _this;}_createClass(BarcodeTemplate,[{key:\"render\",value:function render(){var _this2=this;var data=[];this.props.Login.masterData.SelectedBarcodeTemplate&&this.props.Login.masterData.SelectedBarcodeTemplate.jsondata&&this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.screenfilter!==undefined&&this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.screenfilter.map(function(row){row.children.map(function(column){column.children.map(function(component){if(component.hasOwnProperty(\"children\")){component.children.map(function(componentrow){if(componentrow.inputtype===\"combo\"){data.push({slabelname:componentrow.label});}});}else{if(component.inputtype===\"combo\"){data.push({slabelname:component.label});}}});});});var addId=this.state.controlMap.has(\"AddBarcodeTemplate\")&&this.state.controlMap.get(\"AddBarcodeTemplate\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteBarcodeTemplate\")&&this.state.controlMap.get(\"DeleteBarcodeTemplate\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveBarcodeTemplate\")&&this.state.controlMap.get(\"ApproveBarcodeTemplate\").ncontrolcode;var editId=this.state.controlMap.has(\"EditBarcodeTemplate\")&&this.state.controlMap.get(\"EditBarcodeTemplate\").ncontrolcode;var retireId=this.state.controlMap.has(\"RetireBarcodeTemplate\")&&this.state.controlMap.get(\"RetireBarcodeTemplate\").ncontrolcode;var filterParam={inputListName:\"BarcodeTemplate\",selectedObject:\"SelectedBarcodeTemplate\",primaryKeyField:\"nbarcodetemplatecode\",fetchUrl:\"barcodetemplate/getBarcodeTemplate\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var addParam={screenName:this.props.intl.formatMessage({id:\"IDS_BARCODETEMPLATE\"}),operation:\"create\",userInfo:this.props.Login.userInfo,controlId:addId};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this2.setState({sidebarview:!_this2.state.sidebarview});},className:\"sidebar-view-btn\"},!this.state.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"})),/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATEMAPPING\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.BarcodeTemplate,getMasterDetail:function getMasterDetail(barcodeTemplate){return _this2.props.getBarcodeTemplateDetail(barcodeTemplate,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedBarcodeTemplate,primaryKeyField:\"nbarcodetemplatecode\",mainField:\"sformname\",firstField:\"scontrolname\",secondField:\"sdisplayname\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:true,openModal:function openModal(){return _this2.props.getBarcodeTemplateComboService(addParam);}})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'8':\"10\")},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.BarcodeTemplate&&this.props.Login.masterData.BarcodeTemplate.length>0&&this.props.Login.masterData.SelectedBarcodeTemplate?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.SelectedBarcodeTemplate.scontrolname)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"text-muted font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus===transactionStatus.DRAFT?\"outline-secondary\":this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus===transactionStatus.APPROVED?\"outline-success\":\"outline-danger\",\" btn-sm mx-md-3 mx-sm-2\")},this.props.Login.masterData.SelectedBarcodeTemplate.sdisplayname))),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(){return _this2.onEditClick(editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\" btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// onClick={() => this.ConfirmDelete(this.state.approveId)}>\n,onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this2.onApproveClick(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp,title:this.props.intl.formatMessage({id:\"IDS_APPROVE\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(retireId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"}),onClick:function onClick(){return _this2.onRetireClick(retireId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}))))))),/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SELECTSCREENCONTROL\",message:\"Screen Control\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.scontrolname))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ASKNUMBEROFBARCODEWANTTOPRINT\",message:\"Number Of Barcode Needed\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.sbarcodeprint))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SQLQUERYNEED\",message:\"Need Screen Filter\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.ssqlqueryneed))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_FILTERBASEDSQLQUERYNEED\",message:\"Need Screen Filter\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.sfiltersqlqueryneed))),this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.nsqlqueryneed&&this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.nsfilterqlqueryneed!==false&&/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SQLQUERYNAME\",message:\"Need Screen Filter\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.ssqlqueryname))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_NEEDSCREENFILTER\",message:\"Need Screen Filter\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedBarcodeTemplate.sneedconfiguration))))))),/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(ListWrapper,{className:\"card-body\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"tree-view1 border-left tree-left \"},data.length>0&&/*#__PURE__*/React.createElement(\"h4\",null,\"Filter Template\"),data.length>0?data.map(function(input,i){return/*#__PURE__*/React.createElement(ListWrapper,{key:i,className:\"form-label-group tree-level list_get\"},/*#__PURE__*/React.createElement(NavHeader,{className:\"line\",style:{width:(i+1)*10}},\" \"),/*#__PURE__*/React.createElement(ListWrapper,{style:{marginLeft:(i+8)*10}},/*#__PURE__*/React.createElement(FormInput,{className:\"input_custom\",value:input.slabelname,id:\"levelname\",type:\"text\"})));}):\"\"))))):\"\"))))),this.props.Login.openPortal?/*#__PURE__*/React.createElement(PortalModal,null,/*#__PURE__*/React.createElement(BarcodePreRegDesign,{closeModal:this.closeModal,saveScreenFilter:this.saveScreenFilter,selectedRecord:_objectSpread({},this.state.selectedRecord)// nsampletypecode={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item.value : -1}\n// sampleType={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item : undefined}\n// defaultTemplate={this.state.breadCrumbData.length ? this.state.breadCrumbData[1].label === \"IDS_TEMPLATETYPE\" ? this.state.breadCrumbData[1].item : this.state.breadCrumbData[2].item : undefined}\n//  ncategorybasedflowrequired={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item.item.ncategorybasedflowrequired : 4}\n//searchRef={this.searchRef}\n})):\"\",this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:[{\"idsName\":\"IDS_SCREEN\",\"dataField\":\"nformcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"combo\"},{\"idsName\":\"IDS_CONTROL\",\"dataField\":\"ncontrolcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"combo\"}],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddBarcodeTemplate,{qualisList:this.props.Login.qualisList,selectedRecord:_objectSpread({},this.state.selectedRecord),onComboChange:this.onComboChange,controlList:this.props.Login.controlList,onInputOnChange:this.onInputOnChange,AddFilterDesign:this.AddFilterDesign// lstFilterlevel={this.props.Login.lstFilterlevel}\n// totalLevel={this.props.Login.totalLevel}\n,SqlQuery:this.props.Login.SqlQuery})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap;if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);updateState=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){updateState=true;selectedRecord=_objectSpread({},this.props.Login.selectedRecord);}if(updateState){this.setState({selectedRecord:selectedRecord,controlMap:controlMap,userRoleControlRights:userRoleControlRights});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}// if (props.Login.selectedRecord === undefined) {\n//     return { selectedRecord: {} }\n// }\nreturn null;}}]);return BarcodeTemplate;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,updateStore:updateStore,getBarcodeTemplateComboService:getBarcodeTemplateComboService,getBarcodeTemplateControl:getBarcodeTemplateControl,getReactInputFields:getReactInputFields,getReactQuerybuilderTableRecord:getReactQuerybuilderTableRecord,getBarcodeTemplateDetail:getBarcodeTemplateDetail,getEditBarcodeTemplateComboService:getEditBarcodeTemplateComboService,filterColumnData:filterColumnData})(injectIntl(BarcodeTemplate));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/BarcodeTemplate/BarcodeTemplate.jsx"],"names":["React","Row","Col","Card","Nav","FormGroup","FormLabel","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","validateEsignCredential","updateStore","getBarcodeTemplateComboService","getBarcodeTemplateControl","getReactInputFields","getReactQuerybuilderTableRecord","getBarcodeTemplateDetail","getEditBarcodeTemplateComboService","filterColumnData","ReadOnlyText","ContentPanel","constructOptionList","getControlMap","showEsign","ListMaster","SlideOutModal","Esign","DEFAULT_RETURN","ListWrapper","SampleType","transactionStatus","ConfirmMessage","AddBarcodeTemplate","BarcodePreRegDesign","PortalModal","faPenAlt","faPencilAlt","faThumbsUp","faTrashAlt","FontAwesomeIcon","NavHeader","FormInput","rsapi","mapStateToProps","state","Login","BarcodeTemplate","props","sidebarExpandCollapse","setState","sidebarview","onApproveClick","approveId","masterData","SelectedBarcodeTemplate","ntransactionstatus","DRAFT","inputData","userInfo","postParam","undefined","Value","inputListName","selectedObject","primaryKeyField","inputParam","classUrl","methodUrl","operation","selectedRecord","saveType","esignNeeded","userRoleControlRights","nformcode","updateInfo","typeName","data","loadEsign","screenData","openModal","warn","intl","formatMessage","id","onRetireClick","APPROVED","onEditClick","editId","addParam","screenName","controlId","nbarcodetemplatecode","userinfo","saveScreenFilter","modal","lstFilterlevel","totalLevel","layout","JSON","parse","registrationtemplate","jsonString","map","row","children","column","component","hasOwnProperty","componentrow","inputtype","push","slabelname","label","openPortal","reloadData","searchRef","current","value","displayName","AddFilterDesign","design","reactTemplate","ConfirmDelete","deleteId","confirmMessage","confirm","deleteTemplate","ncontrolCode","primaryKeyValue","fetchUrl","fecthInputObject","validateEsign","sreason","nreasoncode","spredefinedreason","password","closeModal","selectedId","dataList","dataListCount","dataListSubSample","dataListCountSubSample","onComboChange","comboData","fieldName","onInputOnChange","event","target","type","name","checked","YES","NO","onSaveClick","check","nneedconfiguration","nsqlqueryneed","nfiltersqlqueryneed","nsqlquerycode","barcodeTemplate","ncontrolcode","item","stableprimarykeyname","nquerybuildertablecode","stablename","nbarcodeprint","valuemember","stringify","isOpen","designtemplatemappingData","masterStatus","error","userLogged","selectedDesignTemplateMapping","controlMap","Map","showAccordian","selectedInput","createRef","searchFieldList","jsondata","screenfilter","addId","has","get","retireId","filterParam","searchedData","length","scontrolname","sdisplayname","indexOf","sbarcodeprint","ssqlqueryneed","sfiltersqlqueryneed","nsfilterqlqueryneed","ssqlqueryname","sneedconfiguration","input","i","width","marginLeft","qualisList","controlList","SqlQuery","previousProps","updateState","Object","values","modalName","Component"],"mappings":"67BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,SAA9B,CAAyCC,SAAzC,KAA0D,iBAA1D,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,YAA7C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OACIC,WADJ,CACiBC,UADjB,CAC6BC,uBAD7B,CACsDC,WADtD,CACmEC,8BADnE,CAEIC,yBAFJ,CAE+BC,mBAF/B,CAEoDC,+BAFpD,CAEqFC,wBAFrF,CAGIC,kCAHJ,CAGwCC,gBAHxC,KAIO,eAJP,CAKA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,6BAA3C,CACA,OAASC,mBAAT,CAA8BC,aAA9B,CAA6CC,SAA7C,KAA8D,+BAA9D,CACA,MAAOC,CAAAA,UAAP,KAAuB,oDAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,WAAT,KAA4B,sCAA5B,CACA,OACIC,UADJ,CACgBC,iBADhB,KAEO,8BAFP,CAGA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,UAAhC,CAA4CC,UAA5C,KAA8D,mCAA9D,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,SAAT,KAA0B,yCAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,kDAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAQ,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAf,CAAR,CACH,CAFD,C,GAIMC,CAAAA,e,8HACF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EADe,MA0BnBC,qBA1BmB,CA0BK,UAAM,CAC1B,MAAKC,QAAL,CAAc,CACVC,WAAW,CAAE,IADH,CAAd,EAGH,CA9BkB,OA6UnBC,cA7UmB,CA6UF,SAACC,SAAD,CAAe,CAE5B,GAAI,MAAKL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDC,kBAApD,GAA2EzB,iBAAiB,CAAC0B,KAAjG,CAAwG,CAEpG,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QAAzC,CACA;AACA,GAAIC,CAAAA,SAAS,CAAGC,SAAhB,CACAH,SAAS,CAAC,iBAAD,CAAT,CAA+B,CAAE,uBAAwB,MAAKV,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD,sBAApD,EAA8E,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD,sBAApD,EAA4EO,KAA1J,CAAkK,EAA5L,CAA/B,CACAJ,SAAS,CAAC,iBAAD,CAAT,CAA+B,MAAKV,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA3D,CACAK,SAAS,CAAG,CAAEG,aAAa,CAAE,iBAAjB,CAAoCC,cAAc,CAAE,yBAApD,CAA+EC,eAAe,CAAE,sBAAhG,CAAZ,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,iBADK,CAEfC,SAAS,CAAE,iBAFI,CAGfV,SAAS,CAAEA,SAHI,CAIfW,SAAS,CAAE,SAJI,CAIOT,SAAS,CAATA,SAJP,CAKfU,cAAc,kBAAO,MAAKzB,KAAL,CAAWyB,cAAlB,CALC,CAAnB,CAOA,GAAIC,CAAAA,QAAJ,CAEA,GAAMjB,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CAEA,GAAMkB,CAAAA,WAAW,CAAGhD,SAAS,CAAC,MAAKwB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAlB,CAAyC,MAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAnE,CAA8ErB,SAA9E,CAA7B,CACA,GAAImB,WAAJ,CAAiB,CACb,GAAMG,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFC,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEb,UAAU,CAAVA,UAAF,CAAcZ,UAAU,CAAVA,UAAd,CAD3B,CACuDiB,QAAQ,CAARA,QADvD,CACiES,SAAS,CAAE,IAD5E,CACkFX,SAAS,CAAE,SAD7F,CAFS,CAAnB,CAMA,MAAKrB,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CARD,IASK,CACD,MAAK3B,KAAL,CAAWtC,UAAX,CAAsBwD,UAAtB,CAAkCZ,UAAlC,CAA8C,WAA9C,EACH,CAEJ,CAlCD,IAkCO,CACH9C,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAX,EACH,CAEJ,CArXkB,OAwXnBC,aAxXmB,CAwXH,SAAChC,SAAD,CAAe,CAE3B,GAAI,MAAKL,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDC,kBAApD,GAA2EzB,iBAAiB,CAACuD,QAAjG,CAA2G,CAEvG,GAAI5B,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QAAzC,CACA;AACA,GAAIC,CAAAA,SAAS,CAAGC,SAAhB,CACAH,SAAS,CAAC,iBAAD,CAAT,CAA+B,CAAE,uBAAwB,MAAKV,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD,sBAApD,EAA8E,MAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD,sBAApD,EAA4EO,KAA1J,CAAkK,EAA5L,CAA/B,CACAJ,SAAS,CAAC,iBAAD,CAAT,CAA+B,MAAKV,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA3D,CACAK,SAAS,CAAG,CAAEG,aAAa,CAAE,iBAAjB,CAAoCC,cAAc,CAAE,yBAApD,CAA+EC,eAAe,CAAE,sBAAhG,CAAZ,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,iBADK,CAEfC,SAAS,CAAE,iBAFI,CAGfV,SAAS,CAAEA,SAHI,CAIfW,SAAS,CAAE,QAJI,CAIMT,SAAS,CAATA,SAJN,CAKfU,cAAc,kBAAO,MAAKzB,KAAL,CAAWyB,cAAlB,CALC,CAAnB,CAOA,GAAIC,CAAAA,QAAJ,CAEA,GAAMjB,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CAEA,GAAMkB,CAAAA,WAAW,CAAGhD,SAAS,CAAC,MAAKwB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAlB,CAAyC,MAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAnE,CAA8ErB,SAA9E,CAA7B,CACA,GAAImB,WAAJ,CAAiB,CACb,GAAMG,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFC,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEb,UAAU,CAAVA,UAAF,CAAcZ,UAAU,CAAVA,UAAd,CAD3B,CACuDiB,QAAQ,CAARA,QADvD,CACiES,SAAS,CAAE,IAD5E,CACkFX,SAAS,CAAE,QAD7F,CAFS,CAAnB,CAMA,MAAKrB,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CARD,IASK,CACD,MAAK3B,KAAL,CAAWtC,UAAX,CAAsBwD,UAAtB,CAAkCZ,UAAlC,CAA8C,WAA9C,EACH,CAEJ,CAlCD,IAkCO,CACH9C,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CAEJ,CAhakB,OAmanBG,WAnamB,CAmaL,SAACC,MAAD,CAAY,CAEtB,GAAMC,CAAAA,QAAQ,CAAG,CACbC,UAAU,CAAE,MAAK1C,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qBAAN,CAA9B,CADC,CAEbf,SAAS,CAAE,QAFE,CAGbV,QAAQ,CAAE,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,QAHd,CAIbgC,SAAS,CAAEH,MAJE,CAKblB,cAAc,CAAE,MAAKzB,KAAL,CAAWyB,cALd,CAMbsB,oBAAoB,CAAE,MAAK5C,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDqC,oBAN7D,CAObC,QAAQ,CAAE,MAAK7C,KAAL,CAAWF,KAAX,CAAiBa,QAPd,CAAjB,CASA,MAAKX,KAAL,CAAW9B,kCAAX,CAA8CuE,QAA9C,EACH,CA/akB,OAkbnBK,gBAlbmB,CAkbA,SAACpC,SAAD,CAAYqC,KAAZ,CAAsB,CACrC,GAAMC,CAAAA,cAAc,CAAG,EAAvB,CACA,GAAIC,CAAAA,UAAU,CAAG,CAAjB,CACA,GAAMC,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAW1C,SAAS,CAAC2C,oBAAV,CAA+BC,UAA1C,CAAf,CAEAJ,MAAM,CAACK,GAAP,CAAW,SAAAC,GAAG,CAAI,CACdA,GAAG,CAACC,QAAJ,CAAaF,GAAb,CAAiB,SAAAG,MAAM,CAAI,CACvBA,MAAM,CAACD,QAAP,CAAgBF,GAAhB,CAAoB,SAAAI,SAAS,CAAI,CAC7B,GAAIA,SAAS,CAACC,cAAV,CAAyB,UAAzB,CAAJ,CAA0C,CACtCD,SAAS,CAACF,QAAV,CAAmBF,GAAnB,CAAuB,SAAAM,YAAY,CAAI,CACnC,GAAIA,YAAY,CAACC,SAAb,GAA2B,OAA/B,CAAwC,CACpCb,UAAU,CAAGA,UAAU,EAAvB,CACAD,cAAc,CAACe,IAAf,CAAoB,CAAEC,UAAU,CAAEH,YAAY,CAACI,KAA3B,CAApB,EACH,CACJ,CALD,EAMH,CAPD,IAOO,CACH,GAAIN,SAAS,CAACG,SAAV,GAAwB,OAA5B,CAAqC,CACjCd,cAAc,CAACe,IAAf,CAAoB,CAAEC,UAAU,CAAEL,SAAS,CAACM,KAAxB,CAApB,EACAhB,UAAU,CAAGA,UAAU,EAAvB,CACH,CAEJ,CAEJ,CAhBD,EAiBH,CAlBD,EAmBH,CApBD,EAuBA,GAAM3B,CAAAA,cAAc,kBAAQ,MAAKzB,KAAL,CAAWyB,cAAnB,CAApB,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkCZ,SAAS,CAAC2C,oBAA5C,CACA/B,cAAc,CAAC,gBAAD,CAAd,CAAmC0B,cAAnC,CACA1B,cAAc,CAAC,YAAD,CAAd,CAA+B2B,UAA/B,CAGA,GAAMtB,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACF;AACA;AACAP,cAAc,CAAdA,cAHE,CAIF4C,UAAU,CAAE,KAJV,CAIiBlC,SAAS,CAAE,IAJ5B,CAFS,CAAnB,CASA,MAAKhC,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EAEA;AACH,CAhekB,OAkenBwC,UAlemB,CAkeN,UAAM,CACf,MAAKC,SAAL,CAAeC,OAAf,CAAuBC,KAAvB,CAA+B,EAA/B,CACA,GAAMpD,CAAAA,UAAU,CAAG,CACfR,SAAS,CAAE,CAAE,WAAY,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QAA/B,CADI,CAEfQ,QAAQ,CAAE,iBAFK,CAGfC,SAAS,CAAE,iBAHI,CAIfmD,WAAW,CAAE,MAAKvE,KAAL,CAAWF,KAAX,CAAiByE,WAJf,CAKf5D,QAAQ,CAAE,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,QALZ,CAAnB,CAOA,MAAKX,KAAL,CAAWvC,WAAX,CAAuByD,UAAvB,EACH,CA5ekB,OA8enBsD,eA9emB,CA8eD,UAAM,CACpB,GAAI,MAAK3E,KAAL,CAAWyB,cAAX,CAA0B,WAA1B,CAAJ,CAA4C,CACxC,GAAI,MAAKzB,KAAL,CAAWyB,cAAX,CAA0B,cAA1B,CAAJ,CAA+C,CAE3C,GAAImD,CAAAA,MAAM,CAAG,EAAb,CACA,GAAI,MAAK5E,KAAL,CAAWyB,cAAX,CAA0BoD,aAA1B,EAA2C,MAAK7E,KAAL,CAAWyB,cAAX,CAA0BoD,aAA1B,CAAwCpB,UAAvF,CAAmG,CAC/FmB,MAAM,CAAGtB,IAAI,CAACC,KAAL,CAAW,MAAKvD,KAAL,CAAWyB,cAAX,CAA0BoD,aAA1B,CAAwCpB,UAAnD,CAAT,CACH,CAFD,IAEO,CACHmB,MAAM,CAAG,CACL,CACI,KAAM,YADV,CAEI,OAAQ,KAFZ,CAGI,WAAY,CACR,CACI,KAAM,YADV,CAEI,OAAQ,QAFZ,CAGI,WAAY,EAHhB,CADQ,CAHhB,CADK,CAAT,CAaH,CAED,GAAM9C,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFqC,UAAU,CAAE,IADV,CACgBlC,SAAS,CAAE,KAD3B,CACkCyC,MAAM,CAANA,MADlC,CAFS,CAAnB,CAMA,MAAKzE,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EAEH,CA7BD,IA6BO,CACHnE,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,wBAAN,CAA9B,CAAX,EACH,CAEJ,CAlCD,IAkCO,CACH5E,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qBAAN,CAA9B,CAAX,EACH,CACJ,CAphBkB,OAwjBnBuC,aAxjBmB,CAwjBH,SAACC,QAAD,CAAc,CAC1B,MAAKC,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAK9E,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAKpC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAKpC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAKpC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAK2C,cAAL,CAAoBH,QAApB,CAAN,EAFJ,EAGH,CA5jBkB,OA8jBnBG,cA9jBmB,CA8jBF,SAACC,YAAD,CAAkB,CAC/B,GAAI,MAAKhF,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDC,kBAApD,GAA2EzB,iBAAiB,CAAC0B,KAAjG,CAAwG,CACpGjD,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CAED,GAAMxB,CAAAA,SAAS,CAAG,CACdG,aAAa,CAAE,iBADD,CACoBC,cAAc,CAAE,yBADpC,CAEdC,eAAe,CAAE,sBAFH,CAGdgE,eAAe,CAAE,MAAKjF,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDqC,oBAHvD,CAIdsC,QAAQ,CAAE,oCAJI,CAKdC,gBAAgB,CAAE,CAAEtC,QAAQ,CAAE,MAAK7C,KAAL,CAAWF,KAAX,CAAiBa,QAA7B,CALJ,CAAlB,CAQA,GAAMU,CAAAA,SAAS,CAAG,QAAlB,CAEA,GAAMH,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,iBADK,CACc;AAC7BC,SAAS,CAAE,iBAFI,CAEeR,SAAS,CAATA,SAFf,CAGfF,SAAS,CAAE,CACP;AACA,WAAY,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QAFtB,CAGP,kBAAmB,MAAKX,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAHxC,CAHI,CAQfc,SAAS,CAATA,SARe,CASfC,cAAc,kBAAO,MAAKzB,KAAL,CAAWyB,cAAlB,CATC,CAAnB,CAYA,GAAMhB,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CAGA,GAAI9B,SAAS,CAAC,MAAKwB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAlB,CAAyC,MAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAnE,CAA8EsD,YAA9E,CAAb,CAA0G,CACtG,GAAMrD,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFC,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEb,UAAU,CAAVA,UAAF,CAAcZ,UAAU,CAAVA,UAAd,CAD3B,CAEF0B,SAAS,CAAE,IAFT,CAEeU,UAAU,CAAE,MAAK1C,KAAL,CAAWF,KAAX,CAAiB4C,UAF5C,CAEwDrB,SAAS,CAATA,SAFxD,CAFS,CAAnB,CAOA,MAAKrB,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CATD,IAUK,CACD,MAAK3B,KAAL,CAAWtC,UAAX,CAAsBwD,UAAtB,CAAkCZ,UAAlC,CAA8C,WAA9C,EACH,CACJ,CACJ,CA3mBkB,OA6mBnB8E,aA7mBmB,CA6mBH,UAAM,CAClB,GAAMlE,CAAAA,UAAU,CAAG,CACfR,SAAS,CAAE,CACP,0CACO,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QADxB,MAEI0E,OAAO,CAAE,MAAKxF,KAAL,CAAWyB,cAAX,CAA0B,eAA1B,CAFb,CAGIgE,WAAW,CAAE,MAAKzF,KAAL,CAAWyB,cAAX,CAA0B,aAA1B,GAA4C,MAAKzB,KAAL,CAAWyB,cAAX,CAA0B,aAA1B,EAAyCgD,KAHtG,CAIIiB,iBAAiB,CAAE,MAAK1F,KAAL,CAAWyB,cAAX,CAA0B,aAA1B,GAA4C,MAAKzB,KAAL,CAAWyB,cAAX,CAA0B,aAA1B,EAAyC2C,KAJ5G,EADO,CAQPuB,QAAQ,CAAE,MAAK3F,KAAL,CAAWyB,cAAX,CAA0B,eAA1B,CARH,CADI,CAWfS,UAAU,CAAE,MAAK/B,KAAL,CAAWF,KAAX,CAAiBiC,UAXd,CAAnB,CAcA,MAAK/B,KAAL,CAAWrC,uBAAX,CAAmCuD,UAAnC,CAA+C,WAA/C,EACH,CA7nBkB,OA+nBnBuE,UA/nBmB,CA+nBN,UAAM,CACf,GAAI3D,CAAAA,SAAS,CAAG,MAAK9B,KAAL,CAAWF,KAAX,CAAiBgC,SAAjC,CACA,GAAIE,CAAAA,SAAS,CAAG,MAAKhC,KAAL,CAAWF,KAAX,CAAiBkC,SAAjC,CACA,GAAIV,CAAAA,cAAc,CAAG,MAAKtB,KAAL,CAAWF,KAAX,CAAiBwB,cAAtC,CACA,GAAI,MAAKtB,KAAL,CAAWF,KAAX,CAAiBoE,UAArB,CAAiC,CAC7B,GAAMvC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CAAEqC,UAAU,CAAE,KAAd,CAAqBlC,SAAS,CAAE,IAAhC,CAFS,CAAnB,CAIA,MAAKhC,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CAND,IAMO,CACH,GAAI,MAAK3B,KAAL,CAAWF,KAAX,CAAiBgC,SAArB,CAAgC,CAC5B,GAAI,MAAK9B,KAAL,CAAWF,KAAX,CAAiBuB,SAAjB,GAA+B,SAA/B,EACG,MAAKrB,KAAL,CAAWF,KAAX,CAAiBuB,SAAjB,GAA+B,QADtC,CACgD,CAC5CS,SAAS,CAAG,KAAZ,CACAE,SAAS,CAAG,KAAZ,CACAV,cAAc,CAAG,EAAjB,CACH,CALD,IAMK,CACDQ,SAAS,CAAG,KAAZ,CACH,CACJ,CAVD,IAWK,CACDE,SAAS,CAAG,KAAZ,CACAV,cAAc,CAAG,EAAjB,CACH,CAED,GAAMK,CAAAA,WAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CAAEG,SAAS,CAATA,SAAF,CAAaF,SAAS,CAATA,SAAb,CAAwBR,cAAc,CAAdA,cAAxB,CAAwCoE,UAAU,CAAE,IAApD,CAA0DC,QAAQ,CAAE,EAApE,CAAwEC,aAAa,CAAE,EAAvF,CAA2FC,iBAAiB,CAAE,EAA9G,CAAkHC,sBAAsB,CAAE,EAA1I,CAFS,CAAnB,CAIA,MAAK9F,KAAL,CAAWpC,WAAX,CAAuB+D,WAAvB,EACH,CAGJ,CAlqBkB,OAoqBnBoE,aApqBmB,CAoqBH,SAACC,SAAD,CAAYC,SAAZ,CAA0B,CACtC,GAAM3E,CAAAA,cAAc,CAAG,iBAAK,MAAKzB,KAAL,CAAWyB,cAAhB,GAAoC,EAA3D,CACAA,cAAc,CAAC2E,SAAD,CAAd,CAA4BD,SAA5B,CAEA,GAAIC,SAAS,GAAK,WAAlB,CAA+B,CAC3B3E,cAAc,CAAC,eAAD,CAAd,CAAkCT,SAAlC,CACAS,cAAc,CAAC,gBAAD,CAAd,CAAmC,EAAnC,CACAA,cAAc,CAAC,YAAD,CAAd,CAA+B,CAA/B,CACAA,cAAc,CAAC,cAAD,CAAd,CAAiCT,SAAjC,CACA,GAAM0C,CAAAA,GAAG,CAAG,CACR5C,QAAQ,CAAE,MAAKX,KAAL,CAAWF,KAAX,CAAiBa,QADnB,CAERL,UAAU,CAAE,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAFrB,CAAZ,CAKA,MAAKN,KAAL,CAAWlC,yBAAX,CAAqCyF,GAArC,CAA0CjC,cAA1C,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGH,CAvCD,IAuCO,IAAI2E,SAAS,GAAK,cAAlB,CAAkC,CAErC3E,cAAc,CAAC,eAAD,CAAd,CAAkCT,SAAlC,CACAS,cAAc,CAAC,gBAAD,CAAd,CAAmC,EAAnC,CACAA,cAAc,CAAC,YAAD,CAAd,CAA+B,CAA/B,CAGA,GAAMK,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACF;AACA;AACAP,cAAc,CAAdA,cAHE,CAFS,CAAnB,CAQA,MAAKtB,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CAhBM,IAgBA,CACH,MAAKzB,QAAL,CAAc,CAAEoB,cAAc,CAAdA,cAAF,CAAd,EACH,CACJ,CAluBkB,OAouBnB4E,eApuBmB,CAouBD,SAACC,KAAD,CAAW,CACzB,GAAM7E,CAAAA,cAAc,CAAG,MAAKzB,KAAL,CAAWyB,cAAX,EAA6B,EAApD,CACA,GAAI6E,KAAK,CAACC,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC/E,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaE,IAAd,CAAd,CAAoCH,KAAK,CAACC,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgCxH,iBAAiB,CAACyH,GAAlD,CAAwDzH,iBAAiB,CAAC0H,EAA9G,CACH,CAFD,IAGK,CACD,GAAIN,KAAK,CAACC,MAAN,CAAaE,IAAb,GAAsB,eAA1B,CAA2C,CACvC,GAAIH,KAAK,CAACC,MAAN,CAAa9B,KAAb,GAAuB,KAA3B,CAAkC,CAC9B,MAAOhD,CAAAA,cAAc,CAAC,eAAD,CAArB,CACCA,cAAc,CAAC,qBAAD,CAAd,CAAsC,CAAtC,CACJ,CACDA,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaE,IAAd,CAAd,CAAoCH,KAAK,CAACC,MAAN,CAAa9B,KAAjD,CACH,CAND,IAOK,IAAG6B,KAAK,CAACC,MAAN,CAAaE,IAAb,GAAsB,qBAAzB,CAA+C,CAChD,GAAIH,KAAK,CAACC,MAAN,CAAa9B,KAAb,GAAuB,IAA3B,CAAiC,CAC7B,MAAOhD,CAAAA,cAAc,CAAC,eAAD,CAArB,CACH,CACDA,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaE,IAAd,CAAd,CAAoCH,KAAK,CAACC,MAAN,CAAa9B,KAAjD,CACH,CALI,IAMA,CACDhD,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaE,IAAd,CAAd,CAAoCH,KAAK,CAACC,MAAN,CAAa9B,KAAjD,CACH,CAEJ,CACD,GAAI6B,KAAK,CAACC,MAAN,CAAaE,IAAb,GAAsB,oBAA1B,CAAgD,CAC5C,GAAIhF,cAAc,CAAC6E,KAAK,CAACC,MAAN,CAAaE,IAAd,CAAd,GAAsC,CAA1C,CAA6C,CAEzC,GAAM3E,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACF6C,aAAa,CAAE7D,SADb,CAEFmC,cAAc,CAAE,EAFd,CAEkBC,UAAU,CAAE,CAF9B,CAFS,CAAnB,CAOA,MAAKjD,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EAEH,CAGJ,CAID,MAAKzB,QAAL,CAAc,CAAEoB,cAAc,CAAdA,cAAF,CAAd,EACH,CAhxBkB,OAkxBnBoF,WAlxBmB,CAkxBL,SAACnF,QAAD,CAAc,CACxB,GAAIoF,CAAAA,KAAK,CAAG,IAAZ,CACA,GAAI,MAAK9G,KAAL,CAAWyB,cAAX,CAA0BsF,kBAA1B,GAAiD,CAArD,CAAwD,CACpD,GAAI,MAAK/G,KAAL,CAAWyB,cAAX,CAA0BoD,aAA1B,GAA4C7D,SAAhD,CAA2D,CACvD8F,KAAK,CAAG,KAAR,CACAnJ,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAEJ,CACD,GAAGuE,KAAK,GAAG,KAAX,CAAiB,CACb,GAAI,MAAK9G,KAAL,CAAWyB,cAAX,CAA0BuF,aAA1B,GAA4C,CAAhD,CAAmD,CAC/C,GAAG,MAAKhH,KAAL,CAAWyB,cAAX,CAA0BwF,mBAA1B,GAAgD,CAAnD,CAAqD,CACjD,GAAI,MAAKjH,KAAL,CAAWyB,cAAX,CAA0BsF,kBAA1B,GAAiD,CAArD,CAAwD,CACpDD,KAAK,CAAG,KAAR,CACAnJ,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACP,CACJ,CALG,IAMK,IAAI,MAAKvC,KAAL,CAAWyB,cAAX,CAA0ByF,aAA1B,GAA4ClG,SAAhD,CAA2D,CAC5DrD,KAAK,CAACyE,IAAN,CAAW,MAAKjC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAAX,EACAuE,KAAK,CAAG,KAAR,CACH,CAEJ,CACJ,CAED,GAAIA,KAAJ,CAAW,2BACP,GAAIjG,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAMY,CAAAA,cAAc,kBAAQ,MAAKzB,KAAL,CAAWyB,cAAnB,CAApB,CACA,GAAMoD,CAAAA,aAAa,CAAGpD,cAAc,CAACoD,aAAf,EAAgCpD,cAAc,CAACoD,aAArE,CACA,GAAMpE,CAAAA,UAAU,CAAG,MAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAApC,CACA,GAAM0G,CAAAA,eAAe,CAAG,EAAxB,CACA,GAAIpG,CAAAA,SAAS,CAAGC,SAAhB,CACA,GAAI,MAAKb,KAAL,CAAWF,KAAX,CAAiBuB,SAAjB,GAA+B,QAAnC,CAA6C,CACzCT,SAAS,CAAG,CAAEG,aAAa,CAAE,iBAAjB,CAAoCC,cAAc,CAAE,yBAApD,CAA+EC,eAAe,CAAE,sBAAhG,CAAZ,CACA+F,eAAe,CAAC,sBAAD,CAAf,CAA0C1G,UAAU,CAACC,uBAAX,CAAmCqC,oBAA7E,CACH,CAEDoE,eAAe,CAAC,WAAD,CAAf,CAA+B1F,cAAc,CAACI,SAAf,CAAyB4C,KAAxD,CACA0C,eAAe,CAAC,cAAD,CAAf,CAAkC1F,cAAc,CAAC2F,YAAf,CAA4B3C,KAA9D,CACA0C,eAAe,CAAC,sBAAD,CAAf,CAA0C1F,cAAc,CAAC2F,YAAf,CAA4BC,IAA5B,CAAiCC,oBAA3E,CACAH,eAAe,CAAC,wBAAD,CAAf,CAA4C1F,cAAc,CAAC2F,YAAf,CAA4BC,IAA5B,CAAiCE,sBAA7E,CACAJ,eAAe,CAAC,YAAD,CAAf,CAAgC1F,cAAc,CAAC2F,YAAf,CAA4BC,IAA5B,CAAiCG,UAAjE,CACAL,eAAe,CAAC,UAAD,CAAf,iEACK,cADL,CACsBtC,aAAa,CAAGvB,IAAI,CAACC,KAAL,CAAWsB,aAAa,CAACpB,UAAzB,CAAH,CAA0C,EAD7E,wCAEK,oBAFL,CAE4BhC,cAAc,CAACsF,kBAAf,GAAsC,CAAtC,CAA0C,IAA1C,CAAiD,KAF7E,wCAGK,eAHL,CAGuBtF,cAAc,CAACgG,aAAf,GAAiC,CAAjC,CAAqC,IAArC,CAA4C,KAHnE,wCAIK,aAJL,CAIqB5C,aAAa,CAAGA,aAAa,CAAC6C,WAAjB,CAA+B,EAJjE,wCAKK,eALL,CAKuBjG,cAAc,CAACuF,aAAf,GAAiC,CAAjC,CAAqC,IAArC,CAA4C,KALnE,wCAMK,qBANL,CAM6BvF,cAAc,CAACwF,mBAAf,GAAuC,CAAvC,CAA2C,IAA3C,CAAkD,KAN/E,wCAOK,eAPL,CAOuBxF,cAAc,CAACuF,aAAf,GAAiC,CAAjC,CAAqCvF,cAAc,CAACwF,mBAAf,GAAqC,CAArC,EAAwCxF,cAAc,CAACwF,mBAAf,GAAqCjG,SAA9E,CAA2FS,cAAc,CAACyF,aAAf,CAA6BzC,KAAxH,CAA8H,CAAC,CAAnK,CAAuK,CAAC,CAP/L,yBAUA0C,eAAe,CAAC,UAAD,CAAf,CAA8BA,eAAe,CAAC,UAAD,CAA7C,CACAA,eAAe,CAAC,YAAD,CAAf,CAAgC7D,IAAI,CAACqE,SAAL,CAAeR,eAAe,CAAC,UAAD,CAA9B,CAAhC,CAEAtG,SAAS,CAAC,iBAAD,CAAT,CAA+BsG,eAA/B,CACAtG,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKV,KAAL,CAAWF,KAAX,CAAiBa,QAAzC,CACA,GAAMO,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAE,MAAKnB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BC,QADvB,CAEfC,SAAS,CAAE,MAAKpB,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BE,SAFxB,CAGfmD,WAAW,CAAE,MAAKvE,KAAL,CAAWF,KAAX,CAAiBoB,UAAjB,CAA4BqD,WAH1B,CAIf7D,SAAS,CAAEA,SAJI,CAKfW,SAAS,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBuB,SALb,CAKwBT,SAAS,CAATA,SALxB,CAKmCwD,SAAS,CAAE,MAAKA,SALnD,CAAnB,CAQA,GAAI5F,SAAS,CAAC,MAAKwB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAlB,CAAyC,MAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAnE,CAA8E,MAAK1B,KAAL,CAAWF,KAAX,CAAiBkF,YAA/F,CAAb,CAA2H,CACvH,GAAMrD,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFC,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEb,UAAU,CAAVA,UAAF,CAAcZ,UAAU,CAAVA,UAAd,CAD3B,CAEFiB,QAAQ,CAARA,QAFE,CAFS,CAAnB,CAQA,MAAKvB,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,CAVD,IAWK,CACD,MAAK3B,KAAL,CAAWtC,UAAX,CAAsBwD,UAAtB,CAAkCZ,UAAlC,CAA8C,WAA9C,EACH,CAEJ,CAEJ,CAp2BkB,CAGf,MAAKT,KAAL,CAAa,CACT4H,MAAM,CAAE,KADC,CAETC,yBAAyB,CAAE,EAFlB,CAGTC,YAAY,CAAE,EAHL,CAITC,KAAK,CAAE,EAJE,CAKTvG,SAAS,CAAE,EALF,CAMTqB,UAAU,CAAE7B,SANH,CAOTgH,UAAU,CAAE,IAPH,CAQTC,6BAA6B,CAAEjH,SARtB,CASTV,WAAW,CAAE,KATJ,CAUTsB,qBAAqB,CAAE,EAVd,CAWTsG,UAAU,CAAE,GAAIC,CAAAA,GAAJ,EAXH,CAYTC,aAAa,CAAE,IAZN,CAaTC,aAAa,CAAE,EAbN,CAcT5G,cAAc,CAAE,CAAE,qBAAsB,CAAxB,CAdP,CAeT2B,UAAU,CAAE,CAfH,CAAb,CAiBA,MAAKmB,SAAL,CAAiBtH,KAAK,CAACqL,SAAN,EAAjB,CACA,MAAKtD,cAAL,CAAsB,GAAI7F,CAAAA,cAAJ,EAAtB,CACA,MAAKoJ,eAAL,CAAuB,CAAC,WAAD,CAAc,cAAd,CAA8B,cAA9B,CAAvB,CAtBe,aAwBlB,C,kDA0BD,iBAAS,iBACL,GAAMvG,CAAAA,IAAI,CAAG,EAAb,CAEA,KAAK7B,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,EACI,KAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8H,QADxD,EAEI,KAAKrI,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8H,QAApD,CAA6DC,YAA7D,GAA8EzH,SAFlF,EAII,KAAKb,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8H,QAApD,CAA6DC,YAA7D,CAA0E/E,GAA1E,CAA8E,SAAAC,GAAG,CAAI,CACjFA,GAAG,CAACC,QAAJ,CAAaF,GAAb,CAAiB,SAAAG,MAAM,CAAI,CACvBA,MAAM,CAACD,QAAP,CAAgBF,GAAhB,CAAoB,SAAAI,SAAS,CAAI,CAC7B,GAAIA,SAAS,CAACC,cAAV,CAAyB,UAAzB,CAAJ,CAA0C,CACtCD,SAAS,CAACF,QAAV,CAAmBF,GAAnB,CAAuB,SAAAM,YAAY,CAAI,CACnC,GAAIA,YAAY,CAACC,SAAb,GAA2B,OAA/B,CAAwC,CACpCjC,IAAI,CAACkC,IAAL,CAAU,CAAEC,UAAU,CAAEH,YAAY,CAACI,KAA3B,CAAV,EACH,CACJ,CAJD,EAKH,CAND,IAMO,CACH,GAAIN,SAAS,CAACG,SAAV,GAAwB,OAA5B,CAAqC,CACjCjC,IAAI,CAACkC,IAAL,CAAU,CAAEC,UAAU,CAAEL,SAAS,CAACM,KAAxB,CAAV,EACH,CACJ,CACJ,CAZD,EAaH,CAdD,EAeH,CAhBD,CAJJ,CAsBA,GAAMsE,CAAAA,KAAK,CAAG,KAAK1I,KAAL,CAAWkI,UAAX,CAAsBS,GAAtB,CAA0B,oBAA1B,GAAmD,KAAK3I,KAAL,CAAWkI,UAAX,CAAsBU,GAAtB,CAA0B,oBAA1B,EAAgDxB,YAAjH,CACA,GAAMrC,CAAAA,QAAQ,CAAG,KAAK/E,KAAL,CAAWkI,UAAX,CAAsBS,GAAtB,CAA0B,uBAA1B,GAAsD,KAAK3I,KAAL,CAAWkI,UAAX,CAAsBU,GAAtB,CAA0B,uBAA1B,EAAmDxB,YAA1H,CACA,GAAM5G,CAAAA,SAAS,CAAG,KAAKR,KAAL,CAAWkI,UAAX,CAAsBS,GAAtB,CAA0B,wBAA1B,GAAuD,KAAK3I,KAAL,CAAWkI,UAAX,CAAsBU,GAAtB,CAA0B,wBAA1B,EAAoDxB,YAA7H,CACA,GAAMzE,CAAAA,MAAM,CAAG,KAAK3C,KAAL,CAAWkI,UAAX,CAAsBS,GAAtB,CAA0B,qBAA1B,GAAoD,KAAK3I,KAAL,CAAWkI,UAAX,CAAsBU,GAAtB,CAA0B,qBAA1B,EAAiDxB,YAApH,CACA,GAAMyB,CAAAA,QAAQ,CAAG,KAAK7I,KAAL,CAAWkI,UAAX,CAAsBS,GAAtB,CAA0B,uBAA1B,GAAsD,KAAK3I,KAAL,CAAWkI,UAAX,CAAsBU,GAAtB,CAA0B,uBAA1B,EAAmDxB,YAA1H,CAEA,GAAM0B,CAAAA,WAAW,CAAG,CAChB5H,aAAa,CAAE,iBADC,CACkBC,cAAc,CAAE,yBADlC,CAC6DC,eAAe,CAAE,sBAD9E,CAEhBiE,QAAQ,CAAE,oCAFM,CAEgCC,gBAAgB,CAAE,CAAEtC,QAAQ,CAAE,KAAK7C,KAAL,CAAWF,KAAX,CAAiBa,QAA7B,CAFlD,CAGhBL,UAAU,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAHb,CAGyB8H,eAAe,CAAE,KAAKA,eAH/C,CAApB,CAMA,GAAM3F,CAAAA,QAAQ,CAAG,CACbC,UAAU,CAAE,KAAK1C,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qBAAN,CAA9B,CADC,CAEbf,SAAS,CAAE,QAFE,CAGbV,QAAQ,CAAE,KAAKX,KAAL,CAAWF,KAAX,CAAiBa,QAHd,CAIbgC,SAAS,CAAE4F,KAJE,CAAjB,CAMA,mBACI,qDACI,oBAAC,WAAD,EAAa,SAAS,CAAC,4DAAvB,eACI,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,WAAK,CAAC,KAAK1I,KAAL,CAAWM,WAAZ,CAA0B,GAA1B,CAAgC,GAArC,CAAP,eACI,4BAAM,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,QAAL,CAAc,CAAEC,WAAW,CAAE,CAAC,MAAI,CAACN,KAAL,CAAWM,WAA3B,CAAd,CAAN,EAAf,CAA8E,SAAS,CAAC,kBAAxF,EACK,CAAC,KAAKN,KAAL,CAAWM,WAAZ,cACG,yBAAG,KAAK,CAAC,iBAAT,EADH,cAEG,yBAAG,KAAK,CAAC,oBAAT,EAHR,CADJ,cAOI,oBAAC,UAAD,EACI,aAAa,CAAE,KAAKH,KAAL,CAAWkC,IAAX,CAAgBC,aADnC,CAEI,UAAU,CAAE,KAAKnC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,2BAAN,CAA9B,CAFhB,CAGI,UAAU,CAAE,KAAKpC,KAAL,CAAWF,KAAX,CAAiBQ,UAHjC,CAII,QAAQ,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBa,QAJ/B,CAKI,UAAU,CAAE,KAAKX,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BsI,YAA5B,EAA4C,KAAK5I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BP,eALxF,CAMI,eAAe,CAAE,yBAACiH,eAAD,QAAqB,CAAA,MAAI,CAAChH,KAAL,CAAW/B,wBAAX,CAAoC+I,eAApC,CAAqD,MAAI,CAAChH,KAAL,CAAWF,KAAX,CAAiBa,QAAtE,CAAgF,MAAI,CAACX,KAAL,CAAWF,KAAX,CAAiBQ,UAAjG,CAArB,EANrB,CAOI,cAAc,CAAE,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAPhD,CAQI,eAAe,CAAC,sBARpB,CASI,SAAS,CAAC,WATd,CAUI,UAAU,CAAC,cAVf,CAWI,WAAW,CAAC,cAXhB,CAYI,gBAAgB,CAAE,KAAKP,KAAL,CAAW7B,gBAZjC,CAaI,WAAW,CAAEwK,WAbjB,CAcI,qBAAqB,CAAE,KAAK9I,KAAL,CAAW4B,qBAdtC,CAeI,KAAK,CAAE8G,KAfX,CAgBI,SAAS,CAAE,KAAKnE,SAhBpB,CAiBI,UAAU,CAAE,KAAKD,UAjBrB,CAkBI,UAAU,CAAE,IAlBhB,CAmBI,SAAS,CAAE,2BAAM,CAAA,MAAI,CAACnE,KAAL,CAAWnC,8BAAX,CAA0C4E,QAA1C,CAAN,EAnBf,EAPJ,CADJ,cA8BI,oBAAC,GAAD,EAAK,EAAE,WAAK,CAAC,KAAK5C,KAAL,CAAWM,WAAZ,CAA0B,GAA1B,CAAgC,IAArC,CAAP,eACI,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,EACK,KAAKH,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BP,eAA5B,EAA+C,KAAKC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BP,eAA5B,CAA4C8I,MAA5C,CAAqD,CAApG,EAAyG,KAAK7I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAArI,cACG,qDACI,oBAAC,IAAD,CAAM,MAAN,mBACI,oBAAC,IAAD,CAAM,KAAN,mBACI,0BAAI,SAAS,CAAC,oBAAd,EAAoC,KAAKP,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDuI,YAAxF,CADJ,CADJ,cAII,oBAAC,IAAD,CAAM,QAAN,EAAe,SAAS,CAAC,+BAAzB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,0BAAI,SAAS,CAAC,+BAAd,eAEI,4BAAM,SAAS,4BAAsB,KAAK9I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDC,kBAApD,GAA2EzB,iBAAiB,CAAC0B,KAA7F,CAAqG,mBAArG,CAA2H,KAAKT,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDC,kBAApD,GAA2EzB,iBAAiB,CAACuD,QAA7F,CAAwG,iBAAxG,CAA4H,gBAA7Q,2BAAf,EACK,KAAKtC,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDwI,YADzD,CAFJ,CADJ,CADJ,cAUI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,2BAAK,SAAS,CAAC,qDAAf,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACI,MAAM,CAAE,KAAKlJ,KAAL,CAAW4B,qBAAX,CAAiCuH,OAAjC,CAAyCxG,MAAzC,IAAqD,CAAC,CADlE,CAEI,WAAU,KAAKxC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACG,WAAL,CAAiBC,MAAjB,CAAN,EAHb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAEnD,WAAvB,CAAoC,KAAK,CAAE,KAAKW,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAA3C,EALJ,CADJ,cAQI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,mCAApB,CACI,WAAU,KAAKpC,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADd,CAEI,MAAM,CAAE,KAAKvC,KAAL,CAAW4B,qBAAX,CAAiCuH,OAAjC,CAAyCpE,QAAzC,IAAuD,CAAC,CAChE;AAHJ,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,aAAL,CAAmBC,QAAnB,CAAN,EAJb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAErF,UAAvB,EALJ,CARJ,cAgBI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACI,MAAM,CAAE,KAAKM,KAAL,CAAW4B,qBAAX,CAAiCuH,OAAjC,CAAyC3I,SAAzC,IAAwD,CAAC,CADrE,CAEI,WAAU,KAAKL,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,aAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChC,cAAL,CAAoBC,SAApB,CAAN,EAHb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAEf,UAAvB,CAAmC,KAAK,CAAE,KAAKU,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,aAAN,CAA9B,CAA1C,EALJ,CAhBJ,cAuBI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,kCAApB,CACI,MAAM,CAAE,KAAKvC,KAAL,CAAW4B,qBAAX,CAAiCuH,OAAjC,CAAyCN,QAAzC,IAAuD,CAAC,CADpE,CAEI,WAAU,KAAK1I,KAAL,CAAWkC,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFd,CAGI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,aAAL,CAAmBqG,QAAnB,CAAN,EAHb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAEnJ,UAAvB,EALJ,CAvBJ,CADJ,CAVJ,CADJ,CAJJ,CADJ,cAsDQ,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,eACI,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,kBAArB,eAEI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,yBAArB,CAA+C,OAAO,CAAC,gBAAvD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKS,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoDuI,YAAnE,CAFJ,CADJ,CADJ,cAQI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,mCAArB,CAAyD,OAAO,CAAC,0BAAjE,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAK9I,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD0I,aAAnE,CAFJ,CADJ,CARJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,kBAArB,CAAwC,OAAO,CAAC,oBAAhD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKjJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD2I,aAAnE,CAFJ,CADJ,CAfJ,cAsBI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,6BAArB,CAAmD,OAAO,CAAC,oBAA3D,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKlJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD4I,mBAAnE,CAFJ,CADJ,CAtBJ,CA8BQ,KAAKnJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8H,QAApD,CAA6DxB,aAA7D,EAA8E,KAAK7G,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8H,QAApD,CAA6De,mBAA7D,GAAoF,KAAlK,eAA2K,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACvK,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,kBAArB,CAAwC,OAAO,CAAC,oBAAhD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKpJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD8I,aAAnE,CAFJ,CADuK,CA9BnL,cAsCI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,SAAD,mBACI,oBAAC,SAAD,mBAAW,oBAAC,gBAAD,EAAkB,EAAE,CAAC,sBAArB,CAA4C,OAAO,CAAC,oBAApD,EAAX,CADJ,cAEI,oBAAC,YAAD,MAAe,KAAKrJ,KAAL,CAAWF,KAAX,CAAiBQ,UAAjB,CAA4BC,uBAA5B,CAAoD+I,kBAAnE,CAFJ,CADJ,CAtCJ,CAFJ,CADJ,CADJ,CAtDR,cAiHK,oBAAC,YAAD,EAAc,SAAS,CAAC,oBAAxB,eAEG,oBAAC,WAAD,EAAa,SAAS,CAAC,WAAvB,eACI,oBAAC,KAAD,CAAO,QAAP,mBACI,oBAAC,WAAD,EAAa,SAAS,CAAC,mCAAvB,EACCzH,IAAI,CAACgH,MAAL,CAAc,CAAd,eAAmB,8BAAK,iBAAL,CADpB,CAEKhH,IAAI,CAACgH,MAAL,CAAc,CAAd,CACGhH,IAAI,CAAC0B,GAAL,CAAS,SAACgG,KAAD,CAAQC,CAAR,qBACL,oBAAC,WAAD,EAAa,GAAG,CAAEA,CAAlB,CAAqB,SAAS,CAAC,sCAA/B,eACI,oBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,KAAK,CAAE,CAAEC,KAAK,CAAE,CAACD,CAAC,CAAG,CAAL,EAAU,EAAnB,CAAnC,MADJ,cAOI,oBAAC,WAAD,EAAa,KAAK,CAAE,CAAEE,UAAU,CAAE,CAACF,CAAC,CAAG,CAAL,EAAU,EAAxB,CAApB,eACI,oBAAC,SAAD,EAAW,SAAS,CAAC,cAArB,CAAoC,KAAK,CAAED,KAAK,CAACvF,UAAjD,CAA6D,EAAE,CAAC,WAAhE,CAA4E,IAAI,CAAC,MAAjF,EADJ,CAPJ,CADK,EAAT,CADH,CAaO,EAfZ,CADJ,CADJ,CAFH,CAjHL,CADH,CA4IK,EA7IV,CADJ,CADJ,CA9BJ,CADJ,CADJ,CAuLK,KAAKhE,KAAL,CAAWF,KAAX,CAAiBoE,UAAjB,cACG,oBAAC,WAAD,mBACI,oBAAC,mBAAD,EACI,UAAU,CAAE,KAAKuB,UADrB,CAEI,gBAAgB,CAAE,KAAK3C,gBAF3B,CAGI,cAAc,kBAAO,KAAKjD,KAAL,CAAWyB,cAAlB,CAClB;AACA;AACA;AACA;AACA;AARA,EADJ,CADH,CAYoB,EAnMzB,CAqMK,KAAKtB,KAAL,CAAWF,KAAX,CAAiBkC,SAAjB,eACG,oBAAC,aAAD,EACI,IAAI,CAAE,KAAKhC,KAAL,CAAWF,KAAX,CAAiBkC,SAD3B,CAEI,UAAU,CAAE,KAAKyD,UAFrB,CAGI,SAAS,CAAE,KAAKzF,KAAL,CAAWF,KAAX,CAAiBuB,SAHhC,CAII,UAAU,CAAE,KAAKrB,KAAL,CAAWF,KAAX,CAAiBoB,UAJjC,CAKI,UAAU,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiB4C,UALjC,CAMI,WAAW,CAAE,KAAKgE,WANtB,CAOI,KAAK,CAAE,KAAK1G,KAAL,CAAWF,KAAX,CAAiBgC,SAP5B,CAQI,aAAa,CAAE,KAAKsD,aARxB,CASI,YAAY,CAAE,KAAKpF,KAAL,CAAWF,KAAX,CAAiB6H,YATnC,CAUI,WAAW,CAAE,KAAK3H,KAAL,CAAWpC,WAV5B,CAWI,cAAc,CAAE,KAAKiC,KAAL,CAAWyB,cAAX,EAA6B,EAXjD,CAYI,eAAe,CAAE,CACb,CAAE,UAAW,YAAb,CAA2B,YAAa,WAAxC,CAAqD,YAAa,IAAlE,CAAwE,iBAAkB,YAA1F,CAAwG,cAAe,OAAvH,CADa,CAEb,CAAE,UAAW,aAAb,CAA4B,YAAa,cAAzC,CAAyD,YAAa,IAAtE,CAA4E,iBAAkB,YAA9F,CAA4G,cAAe,OAA3H,CAFa,CAZrB,CAgBI,YAAY,CAAE,KAAKtB,KAAL,CAAWF,KAAX,CAAiBgC,SAAjB,cACV,oBAAC,KAAD,EAAO,SAAS,CAAE,KAAK9B,KAAL,CAAWF,KAAX,CAAiBuB,SAAnC,CACI,aAAa,CAAE,KAAKrB,KAAL,CAAWkC,IAAX,CAAgBC,aADnC,CAEI,eAAe,CAAE,KAAK+D,eAF1B,CAGI,UAAU,CAAE,KAAKlG,KAAL,CAAWF,KAAX,CAAiBoB,UAHjC,CAII,cAAc,CAAE,KAAKrB,KAAL,CAAWyB,cAAX,EAA6B,EAJjD,EADU,cAOR,oBAAC,kBAAD,EACE,UAAU,CAAE,KAAKtB,KAAL,CAAWF,KAAX,CAAiB6J,UAD/B,CAEE,cAAc,kBAAO,KAAK9J,KAAL,CAAWyB,cAAlB,CAFhB,CAGE,aAAa,CAAE,KAAKyE,aAHtB,CAIE,WAAW,CAAE,KAAK/F,KAAL,CAAWF,KAAX,CAAiB8J,WAJhC,CAKE,eAAe,CAAE,KAAK1D,eALxB,CAME,eAAe,CAAE,KAAK1B,eACtB;AACA;AARF,CASE,QAAQ,CAAE,KAAKxE,KAAL,CAAWF,KAAX,CAAiB+J,QAT7B,EAvBV,EAtMR,CADJ,CA8OH,C,kCA2MD,4BAAmBC,aAAnB,CAAkC,CAC9B,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CAEA,gBAA4D,KAAKlK,KAAjE,CAAMyB,cAAN,aAAMA,cAAN,CAAsBG,qBAAtB,aAAsBA,qBAAtB,CAA6CsG,UAA7C,aAA6CA,UAA7C,CAGA,GAAI,KAAK/H,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAA1B,GAAwCoI,aAAa,CAAChK,KAAd,CAAoBa,QAApB,CAA6Be,SAAzE,CAAoF,CAChF,GAAI,KAAK1B,KAAL,CAAWF,KAAX,CAAiB2B,qBAArB,CAA4C,CACxC,KAAKzB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAjB,CAAuC,KAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAjE,GACOsI,MAAM,CAACC,MAAP,CAAc,KAAKjK,KAAL,CAAWF,KAAX,CAAiB2B,qBAAjB,CAAuC,KAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAjE,CAAd,EAA2F6B,GAA3F,CAA+F,SAAA2D,IAAI,QAClGzF,CAAAA,qBAAqB,CAACsC,IAAtB,CAA2BmD,IAAI,CAACD,YAAhC,CADkG,EAAnG,CADP,CAGAc,UAAU,CAAGxJ,aAAa,CAAC,KAAKyB,KAAL,CAAWF,KAAX,CAAiB2B,qBAAlB,CAAyC,KAAKzB,KAAL,CAAWF,KAAX,CAAiBa,QAAjB,CAA0Be,SAAnE,CAA1B,CAEAqI,WAAW,CAAG,IAAd,CACH,CAEJ,CACD,GAAI,KAAK/J,KAAL,CAAWF,KAAX,CAAiBwB,cAAjB,GAAoCwI,aAAa,CAAChK,KAAd,CAAoBwB,cAA5D,CAA4E,CACxEyI,WAAW,CAAG,IAAd,CACAzI,cAAc,kBAAQ,KAAKtB,KAAL,CAAWF,KAAX,CAAiBwB,cAAzB,CAAd,CACH,CAGD,GAAIyI,WAAJ,CAAiB,CACb,KAAK7J,QAAL,CAAc,CACVoB,cAAc,CAAdA,cADU,CACMyG,UAAU,CAAVA,UADN,CACkBtG,qBAAqB,CAArBA,qBADlB,CAAd,EAIH,CACJ,C,oCAmTD,+BAAuB,CACnB,GAAME,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAEhD,cADK,CAEfiD,IAAI,CAAE,CACFvB,UAAU,CAAE,EADV,CACcY,UAAU,CAAEL,SAD1B,CACqCQ,SAAS,CAAE,IADhD,CACsD6I,SAAS,CAAErJ,SADjE,CAFS,CAAnB,CAMA,KAAKb,KAAL,CAAWpC,WAAX,CAAuB+D,UAAvB,EACH,C,0CA90BD,kCAAgC3B,KAAhC,CAAuCH,KAAvC,CAA8C,CAE1C,GAAIG,KAAK,CAACF,KAAN,CAAY6H,YAAZ,GAA6B,EAA7B,EAAmC3H,KAAK,CAACF,KAAN,CAAY6H,YAAZ,GAA6B9H,KAAK,CAAC8H,YAA1E,CAAwF,CACpFnK,KAAK,CAACyE,IAAN,CAAWjC,KAAK,CAACF,KAAN,CAAY6H,YAAvB,EACA3H,KAAK,CAACF,KAAN,CAAY6H,YAAZ,CAA2B,EAA3B,CACH,CAED,GAAI3H,KAAK,CAACF,KAAN,CAAY8H,KAAZ,GAAsB/H,KAAK,CAAC+H,KAAhC,CAAuC,CACnCpK,KAAK,CAACoK,KAAN,CAAY5H,KAAK,CAACF,KAAN,CAAY8H,KAAxB,EACA5H,KAAK,CAACF,KAAN,CAAY8H,KAAZ,CAAoB,EAApB,CACH,CACD;AACA;AACA;AACA,MAAO,KAAP,CACH,C,6BAhDyB9K,KAAK,CAACqN,S,EAm3BpC,cAAe9M,CAAAA,OAAO,CAACuC,eAAD,CAAkB,CACpCnC,WAAW,CAAXA,WADoC,CACvBC,UAAU,CAAVA,UADuB,CACXC,uBAAuB,CAAvBA,uBADW,CAEpCC,WAAW,CAAXA,WAFoC,CAEvBC,8BAA8B,CAA9BA,8BAFuB,CAESC,yBAAyB,CAAzBA,yBAFT,CAGpCC,mBAAmB,CAAnBA,mBAHoC,CAGfC,+BAA+B,CAA/BA,+BAHe,CAGkBC,wBAAwB,CAAxBA,wBAHlB,CAIpCC,kCAAkC,CAAlCA,kCAJoC,CAIAC,gBAAgB,CAAhBA,gBAJA,CAAlB,CAAP,CAKZb,UAAU,CAACyC,eAAD,CALE,CAAf","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getBarcodeTemplateComboService,\r\n    getBarcodeTemplateControl, getReactInputFields, getReactQuerybuilderTableRecord, getBarcodeTemplateDetail,\r\n    getEditBarcodeTemplateComboService, filterColumnData\r\n} from '../../actions';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport ListMaster from '../../components/list-master/list-master.component'\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport {\r\n    SampleType, transactionStatus\r\n} from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddBarcodeTemplate from './AddBarcodeTemplate'\r\nimport BarcodePreRegDesign from './BarcodePreRegDesign';\r\nimport PortalModal from '../../PortalModal';\r\nimport { faPenAlt, faPencilAlt, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { NavHeader } from '../../components/sidebar/sidebar.styles';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport rsapi from '../../rsapi';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass BarcodeTemplate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isOpen: false,\r\n            designtemplatemappingData: [],\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            operation: \"\",\r\n            screenName: undefined,\r\n            userLogged: true,\r\n            selectedDesignTemplateMapping: undefined,\r\n            sidebarview: false,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            showAccordian: true,\r\n            selectedInput: \"\",\r\n            selectedRecord: { \"nneedconfiguration\": 4 },\r\n            totalLevel: 0\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"sformname\", \"scontrolname\", \"sdisplayname\"];\r\n\r\n    }\r\n\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        // if (props.Login.selectedRecord === undefined) {\r\n        //     return { selectedRecord: {} }\r\n        // }\r\n        return null;\r\n    }\r\n\r\n\r\n    render() {\r\n        const data = []\r\n\r\n        this.props.Login.masterData.SelectedBarcodeTemplate &&\r\n            this.props.Login.masterData.SelectedBarcodeTemplate.jsondata &&\r\n            this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.screenfilter !== undefined &&\r\n\r\n            this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.screenfilter.map(row => {\r\n                row.children.map(column => {\r\n                    column.children.map(component => {\r\n                        if (component.hasOwnProperty(\"children\")) {\r\n                            component.children.map(componentrow => {\r\n                                if (componentrow.inputtype === \"combo\") {\r\n                                    data.push({ slabelname: componentrow.label });\r\n                                }\r\n                            })\r\n                        } else {\r\n                            if (component.inputtype === \"combo\") {\r\n                                data.push({ slabelname: component.label });\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n\r\n        const addId = this.state.controlMap.has(\"AddBarcodeTemplate\") && this.state.controlMap.get(\"AddBarcodeTemplate\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteBarcodeTemplate\") && this.state.controlMap.get(\"DeleteBarcodeTemplate\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApproveBarcodeTemplate\") && this.state.controlMap.get(\"ApproveBarcodeTemplate\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditBarcodeTemplate\") && this.state.controlMap.get(\"EditBarcodeTemplate\").ncontrolcode;\r\n        const retireId = this.state.controlMap.has(\"RetireBarcodeTemplate\") && this.state.controlMap.get(\"RetireBarcodeTemplate\").ncontrolcode;\r\n\r\n        const filterParam = {\r\n            inputListName: \"BarcodeTemplate\", selectedObject: \"SelectedBarcodeTemplate\", primaryKeyField: \"nbarcodetemplatecode\",\r\n            fetchUrl: \"barcodetemplate/getBarcodeTemplate\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData, searchFieldList: this.searchFieldList\r\n        };\r\n\r\n        const addParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_BARCODETEMPLATE\" }),\r\n            operation: \"create\",\r\n            userInfo: this.props.Login.userInfo,\r\n            controlId: addId,\r\n        }\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                            <span onClick={() => this.setState({ sidebarview: !this.state.sidebarview })} className='sidebar-view-btn'>\r\n                                {!this.state.sidebarview ?\r\n                                    <i class=\"fa fa-less-than\"></i> :\r\n                                    <i class=\"fa fa-greater-than\"></i>\r\n                                }\r\n                            </span>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\" })}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.BarcodeTemplate}\r\n                                getMasterDetail={(barcodeTemplate) => this.props.getBarcodeTemplateDetail(barcodeTemplate, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.SelectedBarcodeTemplate}\r\n                                primaryKeyField=\"nbarcodetemplatecode\"\r\n                                mainField=\"sformname\"\r\n                                firstField=\"scontrolname\"\r\n                                secondField=\"sdisplayname\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                openModal={() => this.props.getBarcodeTemplateComboService(addParam)}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.BarcodeTemplate && this.props.Login.masterData.BarcodeTemplate.length > 0 && this.props.Login.masterData.SelectedBarcodeTemplate ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.SelectedBarcodeTemplate.scontrolname}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"text-muted font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={10} className=\"d-flex\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {/* {`${this.props.intl.formatMessage({ id: \"IDS_VERSION\" })} : ${this.props.Login.masterData.SelectedBarcodeTemplate.sversionno}`} */}\r\n                                                                <span className={`btn btn-outlined ${this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`}>\r\n                                                                    {this.props.Login.masterData.SelectedBarcodeTemplate.sdisplayname}\r\n                                                                </span>\r\n\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={2}>\r\n                                                            <div className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                    onClick={() => this.onEditClick(editId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\" btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    // onClick={() => this.ConfirmDelete(this.state.approveId)}>\r\n                                                                    onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                </Nav.Link>\r\n\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                    onClick={() => this.onApproveClick(approveId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })} />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(retireId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                                                                    onClick={() => this.onRetireClick(retireId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                </Nav.Link>\r\n                                                            </div>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n\r\n                                            {\r\n                                                <ContentPanel className=\"panel-main-content\">\r\n                                                    <Card className=\"border-0\">\r\n                                                        <Card.Body className=\"form-static-wrap\">\r\n\r\n                                                            <Row>\r\n                                                                <Col md={4}>\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id=\"IDS_SELECTSCREENCONTROL\" message=\"Screen Control\" /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.scontrolname}</ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n\r\n                                                                <Col md={4}>\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id=\"IDS_ASKNUMBEROFBARCODEWANTTOPRINT\" message=\"Number Of Barcode Needed\" /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.sbarcodeprint}</ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n\r\n                                                                <Col md={4}>\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id=\"IDS_SQLQUERYNEED\" message=\"Need Screen Filter\" /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.ssqlqueryneed}\r\n                                                                        </ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n                                                                <Col md={4}>\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id=\"IDS_FILTERBASEDSQLQUERYNEED\" message=\"Need Screen Filter\" /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.sfiltersqlqueryneed}\r\n                                                                        </ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n                                                                {\r\n                                                                    this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.nsqlqueryneed && this.props.Login.masterData.SelectedBarcodeTemplate.jsondata.nsfilterqlqueryneed !==false && <Col md={4}>\r\n                                                                        <FormGroup>\r\n                                                                            <FormLabel><FormattedMessage id=\"IDS_SQLQUERYNAME\" message=\"Need Screen Filter\" /></FormLabel>\r\n                                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.ssqlqueryname}\r\n                                                                            </ReadOnlyText>\r\n                                                                        </FormGroup>\r\n                                                                    </Col>\r\n                                                                }\r\n                                                                <Col md={4}>\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id=\"IDS_NEEDSCREENFILTER\" message=\"Need Screen Filter\" /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.SelectedBarcodeTemplate.sneedconfiguration}\r\n                                                                        </ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n\r\n                                                            </Row>\r\n\r\n\r\n                                                        </Card.Body>\r\n                                                    </Card>\r\n                                                </ContentPanel>\r\n\r\n                                            }\r\n                                           \r\n                                            {<ContentPanel className=\"panel-main-content\">\r\n\r\n                                                <ListWrapper className=\"card-body\">\r\n                                                    <React.Fragment>\r\n                                                        <ListWrapper className=\"tree-view1 border-left tree-left \">\r\n                                                       { data.length > 0 && <h4>{\"Filter Template\"}</h4>}\r\n                                                            {data.length > 0 ?\r\n                                                                data.map((input, i) =>\r\n                                                                    <ListWrapper key={i} className=\"form-label-group tree-level list_get\">\r\n                                                                        <NavHeader className=\"line\" style={{ width: (i + 1) * 10 }}> </NavHeader>\r\n                                                                        {/* <NavHeader id={i} \r\n                                                                        //value={totalLevel}\r\n                                                                            className=\"add_field_button\">+</NavHeader> */}\r\n                                                                        {/* <NavHeader className=\"levelcolour\" md={1}>Level {i + 1}</NavHeader>  */}\r\n                                                                        {/* <NavHeader className=\"levelcolour\" md={1}>{this.props.intl.formatMessage({ id: \"IDS_LEVEL\" })} {i + 1}</NavHeader> */}\r\n                                                                        <ListWrapper style={{ marginLeft: (i + 8) * 10 }}>\r\n                                                                            <FormInput className=\"input_custom\" value={input.slabelname} id=\"levelname\" type=\"text\" />\r\n                                                                        </ListWrapper>\r\n                                                                    </ListWrapper>\r\n                                                                ) : \"\"\r\n                                                            }\r\n                                                        </ListWrapper>\r\n                                                    </React.Fragment>\r\n                                                </ListWrapper>\r\n                                            </ContentPanel>}\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {this.props.Login.openPortal ?\r\n                    <PortalModal>\r\n                        <BarcodePreRegDesign\r\n                            closeModal={this.closeModal}\r\n                            saveScreenFilter={this.saveScreenFilter}\r\n                            selectedRecord={{ ...this.state.selectedRecord }}\r\n                        // nsampletypecode={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item.value : -1}\r\n                        // sampleType={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item : undefined}\r\n                        // defaultTemplate={this.state.breadCrumbData.length ? this.state.breadCrumbData[1].label === \"IDS_TEMPLATETYPE\" ? this.state.breadCrumbData[1].item : this.state.breadCrumbData[2].item : undefined}\r\n                        //  ncategorybasedflowrequired={this.state.breadCrumbData.length ? this.state.breadCrumbData[0].item.item.ncategorybasedflowrequired : 4}\r\n                        //searchRef={this.searchRef}\r\n                        />\r\n                    </PortalModal> : \"\"}\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={[\r\n                            { \"idsName\": \"IDS_SCREEN\", \"dataField\": \"nformcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"combo\" },\r\n                            { \"idsName\": \"IDS_CONTROL\", \"dataField\": \"ncontrolcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"combo\" }\r\n                        ]}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : <AddBarcodeTemplate\r\n                                qualisList={this.props.Login.qualisList}\r\n                                selectedRecord={{ ...this.state.selectedRecord }}\r\n                                onComboChange={this.onComboChange}\r\n                                controlList={this.props.Login.controlList}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                AddFilterDesign={this.AddFilterDesign}\r\n                                // lstFilterlevel={this.props.Login.lstFilterlevel}\r\n                                // totalLevel={this.props.Login.totalLevel}\r\n                                SqlQuery={this.props.Login.SqlQuery}\r\n                            ></AddBarcodeTemplate>}\r\n                    />\r\n                }\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n    onApproveClick = (approveId) => {\r\n\r\n        if (this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus === transactionStatus.DRAFT) {\r\n\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            //add               \r\n            let postParam = undefined;\r\n            inputData[\"barcodetemplate\"] = { \"nbarcodetemplatecode\": this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"] ? this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"].Value : \"\" };\r\n            inputData[\"barcodetemplate\"] = this.props.Login.masterData.SelectedBarcodeTemplate;\r\n            postParam = { inputListName: \"BarcodeTemplate\", selectedObject: \"SelectedBarcodeTemplate\", primaryKeyField: \"nbarcodetemplatecode\" };\r\n            const inputParam = {\r\n                classUrl: 'barcodetemplate',\r\n                methodUrl: \"BarcodeTemplate\",\r\n                inputData: inputData,\r\n                operation: \"approve\", postParam,\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    onRetireClick = (approveId) => {\r\n\r\n        if (this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            //add               \r\n            let postParam = undefined;\r\n            inputData[\"barcodetemplate\"] = { \"nbarcodetemplatecode\": this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"] ? this.props.Login.masterData.SelectedBarcodeTemplate[\"nbarcodetemplatecode\"].Value : \"\" };\r\n            inputData[\"barcodetemplate\"] = this.props.Login.masterData.SelectedBarcodeTemplate;\r\n            postParam = { inputListName: \"BarcodeTemplate\", selectedObject: \"SelectedBarcodeTemplate\", primaryKeyField: \"nbarcodetemplatecode\" };\r\n            const inputParam = {\r\n                classUrl: 'barcodetemplate',\r\n                methodUrl: \"BarcodeTemplate\",\r\n                inputData: inputData,\r\n                operation: \"retire\", postParam,\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"retire\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTAPPROVERECORD\" }))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    onEditClick = (editId) => {\r\n\r\n        const addParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_BARCODETEMPLATE\" }),\r\n            operation: \"update\",\r\n            userInfo: this.props.Login.userInfo,\r\n            controlId: editId,\r\n            selectedRecord: this.state.selectedRecord,\r\n            nbarcodetemplatecode: this.props.Login.masterData.SelectedBarcodeTemplate.nbarcodetemplatecode,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        this.props.getEditBarcodeTemplateComboService(addParam)\r\n    }\r\n\r\n\r\n    saveScreenFilter = (inputData, modal) => {\r\n        const lstFilterlevel = [];\r\n        let totalLevel = 0\r\n        const layout = JSON.parse(inputData.registrationtemplate.jsonString);\r\n\r\n        layout.map(row => {\r\n            row.children.map(column => {\r\n                column.children.map(component => {\r\n                    if (component.hasOwnProperty(\"children\")) {\r\n                        component.children.map(componentrow => {\r\n                            if (componentrow.inputtype === \"combo\") {\r\n                                totalLevel = totalLevel++;\r\n                                lstFilterlevel.push({ slabelname: componentrow.label })\r\n                            }\r\n                        })\r\n                    } else {\r\n                        if (component.inputtype === \"combo\") {\r\n                            lstFilterlevel.push({ slabelname: component.label })\r\n                            totalLevel = totalLevel++\r\n                        }\r\n\r\n                    }\r\n\r\n                })\r\n            })\r\n        })\r\n\r\n\r\n        const selectedRecord = { ...this.state.selectedRecord }\r\n        selectedRecord['reactTemplate'] = inputData.registrationtemplate\r\n        selectedRecord['lstFilterlevel'] = lstFilterlevel\r\n        selectedRecord['totalLevel'] = totalLevel\r\n\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                // reactTemplate: inputData.registrationtemplate,\r\n                // lstFilterlevel, totalLevel,\r\n                selectedRecord,\r\n                openPortal: false, openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n        //        this.setState({ reactTemplate: inputData.registrationtemplate, lstFilterlevel,totalLevel })\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"barcodetemplate\",\r\n            methodUrl: \"BarcodeTemplate\",\r\n            displayName: this.props.Login.displayName,\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    AddFilterDesign = () => {\r\n        if (this.state.selectedRecord['nformcode']) {\r\n            if (this.state.selectedRecord['ncontrolcode']) {\r\n\r\n                let design = []\r\n                if (this.state.selectedRecord.reactTemplate && this.state.selectedRecord.reactTemplate.jsonString) {\r\n                    design = JSON.parse(this.state.selectedRecord.reactTemplate.jsonString);\r\n                } else {\r\n                    design = [\r\n                        {\r\n                            \"id\": \"pv1OWbsMYq\",\r\n                            \"type\": \"row\",\r\n                            \"children\": [\r\n                                {\r\n                                    \"id\": \"2zMtRhjb2t\",\r\n                                    \"type\": \"column\",\r\n                                    \"children\": []\r\n                                }\r\n                            ]\r\n                        }\r\n                    ]\r\n                }\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        openPortal: true, openModal: false, design\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTHECONTROL\" }));\r\n            }\r\n\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTHEFORM\" }));\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n\r\n        let { selectedRecord, userRoleControlRights, controlMap } = this.state;\r\n\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]\r\n                    && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                updateState = true;\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = { ...this.props.Login.selectedRecord }\r\n        }\r\n\r\n\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, controlMap, userRoleControlRights\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteTemplate(deleteId));\r\n    }\r\n\r\n    deleteTemplate = (ncontrolCode) => {\r\n        if (this.props.Login.masterData.SelectedBarcodeTemplate.ntransactionstatus !== transactionStatus.DRAFT) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTODELETE\" }));\r\n        }\r\n        else {\r\n\r\n            const postParam = {\r\n                inputListName: \"BarcodeTemplate\", selectedObject: \"SelectedBarcodeTemplate\",\r\n                primaryKeyField: \"nbarcodetemplatecode\",\r\n                primaryKeyValue: this.props.Login.masterData.SelectedBarcodeTemplate.nbarcodetemplatecode,\r\n                fetchUrl: \"barcodetemplate/getBarcodeTemplate\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            }\r\n\r\n            const operation = \"delete\"\r\n\r\n            const inputParam = {\r\n                classUrl: \"barcodetemplate\", //this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"BarcodeTemplate\", postParam,\r\n                inputData: {\r\n                    // \"barcodetemplate\": selectedRecord,\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n                    \"barcodetemplate\": this.props.Login.masterData.SelectedBarcodeTemplate\r\n                },\r\n                operation,\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.Login.screenName, operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.openPortal) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openPortal: false, openModal: true }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            if (this.props.Login.loadEsign) {\r\n                if (this.props.Login.operation === \"approve\"\r\n                    || this.props.Login.operation === \"delete\") {\r\n                    loadEsign = false;\r\n                    openModal = false;\r\n                    selectedRecord = {};\r\n                }\r\n                else {\r\n                    loadEsign = false;\r\n                }\r\n            }\r\n            else {\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openModal, loadEsign, selectedRecord, selectedId: null, dataList: [], dataListCount: [], dataListSubSample: [], dataListCountSubSample: [] }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = { ...this.state.selectedRecord } || {};\r\n        selectedRecord[fieldName] = comboData;\r\n\r\n        if (fieldName === 'nformcode') {\r\n            selectedRecord['reactTemplate'] = undefined\r\n            selectedRecord['lstFilterlevel'] = []\r\n            selectedRecord['totalLevel'] = 0\r\n            selectedRecord['ncontrolcode'] = undefined\r\n            const map = {\r\n                userInfo: this.props.Login.userInfo,\r\n                masterData: this.props.Login.masterData,\r\n\r\n            }\r\n            this.props.getBarcodeTemplateControl(map, selectedRecord);\r\n\r\n            //     // const updateInfo = {\r\n            //     //     typeName: DEFAULT_RETURN,\r\n            //     //     data: {\r\n            //     //         loading: true,\r\n            //     //     }\r\n            //     // }\r\n            //   //  this.props.updateStore(updateInfo);\r\n\r\n            //     rsapi.post(\"barcodetemplate/getBarcodeTemplateControl\", { 'userinfo': this.props.Login.userInfo, nformcode: selectedRecord.nformcode.value })\r\n            //         .then(response => {\r\n            //             const qualisMap = constructOptionList(response.data[\"controlList\"] || [], \"ncontrolcode\",\r\n            //                 \"sdisplayname\", undefined, undefined, true);\r\n            //             const qualisList = qualisMap.get(\"OptionList\");\r\n\r\n            //             const updateInfo = {\r\n            //                 typeName: DEFAULT_RETURN,\r\n            //                 data: {\r\n            //                     loading: false,\r\n            //                     controlList: qualisList,\r\n            //                     selectedRecord,\r\n            //                 }\r\n            //             }\r\n            //             this.props.updateStore(updateInfo);\r\n            //             this.setState({selectedRecord})\r\n            //         })\r\n\r\n\r\n        } else if (fieldName === 'ncontrolcode') {\r\n\r\n            selectedRecord['reactTemplate'] = undefined\r\n            selectedRecord['lstFilterlevel'] = []\r\n            selectedRecord['totalLevel'] = 0\r\n\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    // reactTemplate: undefined,\r\n                    // lstFilterlevel: [], totalLevel: 0,\r\n                    selectedRecord\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            if (event.target.name === \"nsqlqueryneed\") {\r\n                if (event.target.value === false) {\r\n                    delete selectedRecord['nsqlquerycode']\r\n                     selectedRecord['nfiltersqlqueryneed']=4\r\n                }\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            } \r\n            else if(event.target.name === \"nfiltersqlqueryneed\"){\r\n                if (event.target.value === true) {\r\n                    delete selectedRecord['nsqlquerycode']\r\n                }\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n\r\n        }\r\n        if (event.target.name === 'nneedconfiguration') {\r\n            if (selectedRecord[event.target.name] === 4) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        reactTemplate: undefined,\r\n                        lstFilterlevel: [], totalLevel: 0,\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onSaveClick = (saveType) => {\r\n        let check = true;\r\n        if (this.state.selectedRecord.nneedconfiguration === 3) {\r\n            if (this.state.selectedRecord.reactTemplate === undefined) {\r\n                check = false\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CREATEFILTERCONFIGURATION\" }))\r\n            }\r\n\r\n        }\r\n        if(check!==false){\r\n            if (this.state.selectedRecord.nsqlqueryneed === 3) {\r\n                if(this.state.selectedRecord.nfiltersqlqueryneed===3){\r\n                    if (this.state.selectedRecord.nneedconfiguration !== 3) {\r\n                        check = false\r\n                        toast.warn(this.props.intl.formatMessage({ id: \"IDS_CHOOSEFILTERCONFIGURATION\" }))\r\n                }\r\n            }\r\n                else if (this.state.selectedRecord.nsqlquerycode === undefined) {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELQCTSQLQUERY\" }))\r\n                    check = false\r\n                }\r\n    \r\n            }\r\n        }\r\n       \r\n        if (check) {\r\n            let inputData = [];\r\n            const selectedRecord = { ...this.state.selectedRecord }\r\n            const reactTemplate = selectedRecord.reactTemplate && selectedRecord.reactTemplate\r\n            const masterData = this.props.Login.masterData;\r\n            const barcodeTemplate = {}\r\n            let postParam = undefined;\r\n            if (this.props.Login.operation === 'update') {\r\n                postParam = { inputListName: \"BarcodeTemplate\", selectedObject: \"SelectedBarcodeTemplate\", primaryKeyField: \"nbarcodetemplatecode\" };\r\n                barcodeTemplate['nbarcodetemplatecode'] = masterData.SelectedBarcodeTemplate.nbarcodetemplatecode\r\n            }\r\n\r\n            barcodeTemplate['nformcode'] = selectedRecord.nformcode.value\r\n            barcodeTemplate['ncontrolcode'] = selectedRecord.ncontrolcode.value\r\n            barcodeTemplate['stableprimarykeyname'] = selectedRecord.ncontrolcode.item.stableprimarykeyname\r\n            barcodeTemplate['nquerybuildertablecode'] = selectedRecord.ncontrolcode.item.nquerybuildertablecode\r\n            barcodeTemplate['stablename'] = selectedRecord.ncontrolcode.item.stablename\r\n            barcodeTemplate['jsondata'] = {\r\n                ['screenfilter']: reactTemplate ? JSON.parse(reactTemplate.jsonString) : [],\r\n                ['nneedconfiguration']: selectedRecord.nneedconfiguration === 3 ? true : false,\r\n                ['nbarcodeprint']: selectedRecord.nbarcodeprint === 3 ? true : false,\r\n                ['valuemember']: reactTemplate ? reactTemplate.valuemember : \"\",\r\n                ['nsqlqueryneed']: selectedRecord.nsqlqueryneed === 3 ? true : false,\r\n                ['nfiltersqlqueryneed']: selectedRecord.nfiltersqlqueryneed === 3 ? true : false,\r\n                ['nsqlquerycode']: selectedRecord.nsqlqueryneed === 3 ?(selectedRecord.nfiltersqlqueryneed===4||selectedRecord.nfiltersqlqueryneed===undefined)?  selectedRecord.nsqlquerycode.value:-1 : -1,\r\n            }\r\n\r\n            barcodeTemplate['jsondata'] = barcodeTemplate['jsondata'];\r\n            barcodeTemplate['jsonstring'] = JSON.stringify(barcodeTemplate['jsondata']);\r\n\r\n            inputData['barcodetemplate'] = barcodeTemplate;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: this.props.Login.inputParam.methodUrl,\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData,\r\n                operation: this.props.Login.operation, postParam, searchRef: this.searchRef,\r\n            }\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        saveType,\r\n\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential,\r\n    updateStore, getBarcodeTemplateComboService, getBarcodeTemplateControl,\r\n    getReactInputFields, getReactQuerybuilderTableRecord, getBarcodeTemplateDetail,\r\n    getEditBarcodeTemplateComboService, filterColumnData\r\n})(injectIntl(BarcodeTemplate));\r\n\r\n"]},"metadata":{},"sourceType":"module"}