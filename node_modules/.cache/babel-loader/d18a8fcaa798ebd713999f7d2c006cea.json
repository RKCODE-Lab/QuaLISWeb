{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{toast}from'react-toastify';import{sortData,searchData}from'../components/CommonScript';import{DEFAULT_RETURN}from'./LoginTypes';export function selectProductHistoryDetail(ProductHistory,masterData,userInfo){return function(dispatch){rsapi.post(\"/producthistory/getProductManufByProductID\",{\"nproducthistorycode\":parseInt(ProductHistory.nproducthistorycode),'userinfo':userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData}});console.log(response.data);}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function filterProductHistoryColumnData(filterValue,masterData,userInfo){return function(dispatch){var productHistoryCode=0;var searchedData=undefined;if(filterValue===\"\"){productHistoryCode=masterData[\"ProductHistory\"][0].nproducthistorycode;}else{searchedData=searchData(filterValue,masterData[\"ProductHistory\"]);if(searchedData.length>0){productHistoryCode=searchedData[0].nproducthistorycode;}}if(productHistoryCode!==0){return rsapi.post(\"producthistory/getProductManufByProductID\",{nproducthistorycode:parseInt(productHistoryCode),userinfo:userInfo}).then(function(response){masterData[\"searchedData\"]=searchedData;masterData[\"selectedProductHistory\"]=response.data[\"selectedProductHistory\"];masterData[\"ProductManufacturerHistory\"]=response.data[\"ProductManufacturerHistory\"];masterData[\"ProductMAholderHistory\"]=response.data[\"ProductMAholderHistory\"];dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData}});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{masterData[\"searchedData\"]=[];masterData[\"selectedProductHistory\"]=[];masterData[\"ProductManufacturerHistory\"]=[];masterData[\"ProductMAholderHistory\"]=[];dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData}});}};}export function getProductMaHolderHistory(inputParam){return function(dispatch){var ProductMaholderHistory=inputParam.objProductManufacturerHistory;var Map={};Map[\"nproductmanufhistorycode\"]=parseInt(ProductMaholderHistory.nproductmanufhistorycode);Map[\"userinfo\"]=inputParam.userInfo;rsapi.post(\"/producthistory/getproductMAholderHistoryByID\",Map).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},inputParam.masterData),{},{ProductMAholderHistory:response.data,SelectedProductManufHistory:inputParam.objProductManufacturerHistory})}});}).catch(function(error){console.log(error);});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/ProductHistoryAction.js"],"names":["rsapi","toast","sortData","searchData","DEFAULT_RETURN","selectProductHistoryDetail","ProductHistory","masterData","userInfo","dispatch","post","parseInt","nproducthistorycode","then","response","data","type","payload","console","log","catch","error","status","message","warn","filterProductHistoryColumnData","filterValue","productHistoryCode","searchedData","undefined","length","userinfo","getProductMaHolderHistory","inputParam","ProductMaholderHistory","objProductManufacturerHistory","Map","nproductmanufhistorycode","ProductMAholderHistory","SelectedProductManufHistory"],"mappings":"gKAAA,MAAOA,CAAAA,KAAP,KAAkB,UAAlB,CAEA,OACIC,KADJ,KAEO,gBAFP,CAGA,OACIC,QADJ,CAEIC,UAFJ,KAGO,4BAHP,CAIA,OACIC,cADJ,KAEO,cAFP,CAIA,MAAO,SAASC,CAAAA,0BAAT,CAAoCC,cAApC,CAAoDC,UAApD,CAAgEC,QAAhE,CAA0E,CAC7E,MAAO,UAAUC,QAAV,CAAoB,CACvBT,KAAK,CAACU,IAAN,CAAW,4CAAX,CAAyD,CACrD,sBACIC,QAAQ,CAACL,cAAc,CAACM,mBAAhB,CAFyC,CAGrD,WAAYJ,QAHyC,CAAzD,EAKKK,IALL,CAKU,SAAAC,QAAQ,CAAI,CACdP,UAAU,gCACHA,UADG,EAEHO,QAAQ,CAACC,IAFN,CAAV,CAIAb,QAAQ,CAACK,UAAD,CAAR,CACAE,QAAQ,CAAC,CACLO,IAAI,CAAEZ,cADD,CAELa,OAAO,CAAE,CACLV,UAAU,CAAVA,UADK,CAFJ,CAAD,CAAR,CAMAW,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACC,IAArB,EACH,CAlBL,EAmBKK,KAnBL,CAmBW,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACP,QAAN,CAAeQ,MAAf,GAA0B,GAA9B,CAAmC,CAC/BrB,KAAK,CAACoB,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAEO,CACHtB,KAAK,CAACuB,IAAN,CAAWH,KAAK,CAACP,QAAN,CAAeC,IAA1B,EACH,CAEJ,CA1BL,EA2BH,CA5BD,CA6BH,CAED,MAAO,SAASU,CAAAA,8BAAT,CAAwCC,WAAxC,CAAqDnB,UAArD,CAAiEC,QAAjE,CAA2E,CAC9E,MAAO,UAAUC,QAAV,CAAoB,CAEvB,GAAIkB,CAAAA,kBAAkB,CAAG,CAAzB,CACA,GAAIC,CAAAA,YAAY,CAAGC,SAAnB,CACA,GAAIH,WAAW,GAAK,EAApB,CAAwB,CACpBC,kBAAkB,CAAGpB,UAAU,CAAC,gBAAD,CAAV,CAA6B,CAA7B,EAAgCK,mBAArD,CACH,CAFD,IAEO,CACHgB,YAAY,CAAGzB,UAAU,CAACuB,WAAD,CAAcnB,UAAU,CAAC,gBAAD,CAAxB,CAAzB,CAEA,GAAIqB,YAAY,CAACE,MAAb,CAAsB,CAA1B,CAA6B,CACzBH,kBAAkB,CAAGC,YAAY,CAAC,CAAD,CAAZ,CAAgBhB,mBAArC,CACH,CACJ,CAED,GAAIe,kBAAkB,GAAK,CAA3B,CAA8B,CAC1B,MAAO3B,CAAAA,KAAK,CAACU,IAAN,CAAW,2CAAX,CAAwD,CAC3DE,mBAAmB,CAAED,QAAQ,CAACgB,kBAAD,CAD8B,CAE3DI,QAAQ,CAAEvB,QAFiD,CAAxD,EAIFK,IAJE,CAIG,SAAAC,QAAQ,CAAI,CAEdP,UAAU,CAAC,cAAD,CAAV,CAA6BqB,YAA7B,CACArB,UAAU,CAAC,wBAAD,CAAV,CAAuCO,QAAQ,CAACC,IAAT,CAAc,wBAAd,CAAvC,CACAR,UAAU,CAAC,4BAAD,CAAV,CAA2CO,QAAQ,CAACC,IAAT,CAAc,4BAAd,CAA3C,CACAR,UAAU,CAAC,wBAAD,CAAV,CAAuCO,QAAQ,CAACC,IAAT,CAAc,wBAAd,CAAvC,CAEAN,QAAQ,CAAC,CACLO,IAAI,CAAEZ,cADD,CAELa,OAAO,CAAE,CACLV,UAAU,CAAVA,UADK,CAFJ,CAAD,CAAR,CAMH,CAjBE,EAkBFa,KAlBE,CAkBI,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACP,QAAN,CAAeQ,MAAf,GAA0B,GAA9B,CAAmC,CAC/BrB,KAAK,CAACoB,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAEO,CACHtB,KAAK,CAACuB,IAAN,CAAWH,KAAK,CAACP,QAAN,CAAeC,IAA1B,EACH,CACJ,CAxBE,CAAP,CAyBH,CA1BD,IA0BO,CACHR,UAAU,CAAC,cAAD,CAAV,CAA6B,EAA7B,CACAA,UAAU,CAAC,wBAAD,CAAV,CAAuC,EAAvC,CACAA,UAAU,CAAC,4BAAD,CAAV,CAA2C,EAA3C,CACAA,UAAU,CAAC,wBAAD,CAAV,CAAuC,EAAvC,CACAE,QAAQ,CAAC,CACLO,IAAI,CAAEZ,cADD,CAELa,OAAO,CAAE,CACLV,UAAU,CAAVA,UADK,CAFJ,CAAD,CAAR,CAMH,CACJ,CApDD,CAqDH,CAED,MAAO,SAASyB,CAAAA,yBAAT,CAAmCC,UAAnC,CAA+C,CAClD,MAAO,UAAUxB,QAAV,CAAoB,CAEvB,GAAIyB,CAAAA,sBAAsB,CAAGD,UAAU,CAACE,6BAAxC,CACA,GAAIC,CAAAA,GAAG,CAAG,EAAV,CACAA,GAAG,CAAC,0BAAD,CAAH,CAAkCzB,QAAQ,CAACuB,sBAAsB,CAACG,wBAAxB,CAA1C,CACAD,GAAG,CAAC,UAAD,CAAH,CAAkBH,UAAU,CAACzB,QAA7B,CAEAR,KAAK,CAACU,IAAN,CAAW,+CAAX,CAA4D0B,GAA5D,EACKvB,IADL,CACU,SAAAC,QAAQ,CAAI,CACdL,QAAQ,CAAC,CACLO,IAAI,CAAEZ,cADD,CAELa,OAAO,CAAE,CACLV,UAAU,gCACH0B,UAAU,CAAC1B,UADR,MAEN+B,sBAAsB,CAAExB,QAAQ,CAACC,IAF3B,CAGNwB,2BAA2B,CAACN,UAAU,CAACE,6BAHjC,EADL,CAFJ,CAAD,CAAR,CAUH,CAZL,EAaKf,KAbL,CAaW,SAAAC,KAAK,CAAI,CACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACH,CAfL,EAgBH,CAvBD,CAwBH","sourcesContent":["import rsapi from '../rsapi';\r\n\r\nimport {\r\n    toast\r\n} from 'react-toastify';\r\nimport {\r\n    sortData,\r\n    searchData\r\n} from '../components/CommonScript'\r\nimport {\r\n    DEFAULT_RETURN\r\n} from './LoginTypes';\r\n\r\nexport function selectProductHistoryDetail(ProductHistory, masterData, userInfo) {\r\n    return function (dispatch) {\r\n        rsapi.post(\"/producthistory/getProductManufByProductID\", {\r\n            \"nproducthistorycode\":\r\n                parseInt(ProductHistory.nproducthistorycode),\r\n            'userinfo': userInfo\r\n        })\r\n            .then(response => {\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data\r\n                };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData\r\n                    }\r\n                });\r\n                console.log(response.data);\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function filterProductHistoryColumnData(filterValue, masterData, userInfo) {\r\n    return function (dispatch) {\r\n\r\n        let productHistoryCode = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            productHistoryCode = masterData[\"ProductHistory\"][0].nproducthistorycode;\r\n        } else {\r\n            searchedData = searchData(filterValue, masterData[\"ProductHistory\"]);\r\n\r\n            if (searchedData.length > 0) {\r\n                productHistoryCode = searchedData[0].nproducthistorycode;\r\n            }\r\n        }\r\n\r\n        if (productHistoryCode !== 0) {\r\n            return rsapi.post(\"producthistory/getProductManufByProductID\", {\r\n                nproducthistorycode: parseInt(productHistoryCode),\r\n                userinfo: userInfo\r\n            })\r\n                .then(response => {\r\n\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData[\"selectedProductHistory\"] = response.data[\"selectedProductHistory\"];\r\n                    masterData[\"ProductManufacturerHistory\"] = response.data[\"ProductManufacturerHistory\"];\r\n                    masterData[\"ProductMAholderHistory\"] = response.data[\"ProductMAholderHistory\"]\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            masterData[\"searchedData\"] = [];\r\n            masterData[\"selectedProductHistory\"] = [];\r\n            masterData[\"ProductManufacturerHistory\"] = [];\r\n            masterData[\"ProductMAholderHistory\"] = []\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    masterData\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport function getProductMaHolderHistory(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        let ProductMaholderHistory = inputParam.objProductManufacturerHistory\r\n        let Map = {};\r\n        Map[\"nproductmanufhistorycode\"] = parseInt(ProductMaholderHistory.nproductmanufhistorycode);\r\n        Map[\"userinfo\"] = inputParam.userInfo;\r\n\r\n        rsapi.post(\"/producthistory/getproductMAholderHistoryByID\", Map)\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData:{\r\n                            ...inputParam.masterData,\r\n                            ProductMAholderHistory: response.data,\r\n                            SelectedProductManufHistory:inputParam.objProductManufacturerHistory\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}