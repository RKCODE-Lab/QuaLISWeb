{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Button,Col,Modal,Row}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSave}from'@fortawesome/free-solid-svg-icons';import{FormattedMessage,injectIntl}from'react-intl';import{TouchBackend}from'react-dnd-touch-backend';import{HTML5Backend}from'react-dnd-html5-backend';import{DndProvider}from'react-dnd';import device from'current-device';// import MoreOptions from '../../components/configureui/MoreOptions';\nimport Dynamicinput from'../../components/droparea/Dynamicinputs';import{connect}from'react-redux';import{updateStore,crudMaster,getTableColumns,getForeignTableData,getDynamicFilter,getDynamicFilterExecuteData}from'../../actions/index';import{condition,transactionStatus}from'../../components/Enumeration';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign}from'../../components/CommonScript';import AlertModal from'./AlertModal';import FormInput from'../../components/form-input/form-input.component';import{getChildComponentForeignKey,getcomponentdata,getValidComponent,replaceChildFromChildren,removeChildFromChildren}from'../../components/droparea/helpers';// import {\n//     InstrumentDefaultTemplate, productDefaultTemplate, MaterialDefaultTemplate,\n//     clinicalTypeDefaultTemplateWithoutProduct, clinicalTypeDefaultTemplateWithProduct,\n//     projectDefaultTemplate, clinicalTemplateWithExternalOrder\n// } from './DefaultTemplates';\nimport{ReactComponents}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{toast}from'react-toastify';import{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var PreRegDesignPopUp=/*#__PURE__*/function(_React$Component){_inherits(PreRegDesignPopUp,_React$Component);var _super=_createSuper(PreRegDesignPopUp);function PreRegDesignPopUp(props){var _this;_classCallCheck(this,PreRegDesignPopUp);_this=_super.call(this,props);_this.validateDynamicDesign=function(){var valid=_this.validateTemplate(_this.state.design);if(!valid){return null;}else{_this.setState({openAlertModal:true,templatename:\"\"});}};_this.showPropFilter=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord.inputtype==='backendsearchfilter'){if(selectedFieldRecord.label!==''&&selectedFieldRecord.table&&selectedFieldRecord.filterfields){var inputparam={component:selectedFieldRecord,userinfo:_this.props.Login.userInfo,type:'design',selectedComponentpath:_this.state.selectedComponentpath};_this.props.getDynamicFilter(inputparam);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTMANDATORYFIELDS\"}));}}else if(selectedFieldRecord.inputtype==='frontendsearchfilter'){if(selectedFieldRecord.label!==''&&selectedFieldRecord.table&&selectedFieldRecord.filterfields){var _inputparam={component:selectedFieldRecord,userinfo:_this.props.Login.userInfo,type:'design',selectedComponentpath:_this.state.selectedComponentpath};_this.props.getDynamicFilter(_inputparam);}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTMANDATORYFIELDS\"}));}}else{var showFilter1;if(selectedFieldRecord.componentcode===ReactComponents.NUMERIC||selectedFieldRecord.componentcode===ReactComponents.EMAIL||selectedFieldRecord.componentcode===ReactComponents.RADIO||selectedFieldRecord.componentcode===ReactComponents.PREDEFINEDDROPDOWN||selectedFieldRecord.componentcode===ReactComponents.TEXTAREA){showFilter1=_this.state.showFilter;}else{showFilter1=!_this.state.showFilter;}var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter1}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n}};_this.hidePropFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n};_this.setLayout=function(design,splitDropZonePath,remove,removeChild){var selectedFieldRecord={};if(remove===undefined){selectedFieldRecord=getcomponentdata(design,splitDropZonePath.split(\"-\"));}else if(removeChild){var childRecord={};//ALPD-4263\n//When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\n//command the unwanted lines and later it iwill be deleted \n// this.state.toBeDeleted.deleteComponent.child.map(myChild => {\n//     childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\n//     childRecord['childValue'] = undefined;\n//     childRecord['parentPath'] = undefined;\n//     childRecord['valuecolumn'] = undefined;\n//    // design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\n//     return null;\n// })\n}design=_this.updatePath(design);// if (selectedFieldRecord.child) {\n//     let childRecord = {}\n//     selectedFieldRecord.child.map(myChild => {\n//         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\n//         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\n//         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\n//         return null;\n//     })\n// }\n// if (selectedFieldRecord.childValue) {\n//     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\n//     let newChildData = []\n//     parentData.child.map(child => child.label === selectedFieldRecord.label ?\n//         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\n//         newChildData.push(child))\n//     parentData = { ...parentData, child: newChildData };\n//     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\n// }\nvar components=_this.getComponents(design).components;var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);_this.setState({showConfirmAlert:false,toBeDeleted:{},design:design,selectedFieldRecord:selectedFieldRecord,components:components,validComponents:validComponents,selectedComponentpath:splitDropZonePath.split(\"-\").length>1?splitDropZonePath:'0-0-'+splitDropZonePath});};_this.updatePath=function(design){design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.inputtype!=='radio'){if(component.child){var newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});if(obj.path){design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);}});component=_objectSpread(_objectSpread({},component),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}else{if(component.child){var _newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});//Added below code to handle screen blank and edit issue for imported template record \n// in template design screen -- L.Subashini\nif(obj.path){design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);}});component=_objectSpread(_objectSpread({},component),{},{child:_newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}});}else{if(componnetrow.inputtype!=='radio'){if(componnetrow.child){var newChild=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});//Added below code to handle screen blank and edit issue for imported template record \n// in template design screen -- L.Subashini\nif(obj.path){design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);}});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}else{if(componnetrow.child){var _newChild2=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild2.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});//Added below code to handle screen blank and edit issue for imported template record \n// in template design screen -- L.Subashini\nif(obj.path){design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);}});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:_newChild2});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}}});});});return design;};_this.validateDelete=function(design,splitDropZonePath){var path=splitDropZonePath.split(\"-\");var showAlert=false;var toBeDeleted={};// let component = {}\n// let row = this.state.design[path[0]]\n// let column = row.children[path[1]]\n// let compRow = column.children[path[2]]\n// if (compRow.type === 'componentrow')\n//     component = compRow.children[path[3]]\n// else\n//     component = compRow\n//ALPD-4263\n//When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\ndesign=_toConsumableArray(_this.state.design);var component=getcomponentdata(_this.state.design,path);if(component.child&&component.child.length>0){var childRecord={};if(component.inputtype==='radio'){component.child.map(function(myChild){childRecord=getcomponentdata(_this.state.design,myChild.childPath.split(\"-\"));delete childRecord[\"radioparentLabel\"];delete childRecord[\"selectedrecordbasedhide\"];delete childRecord[\"recordbasedhide\"];delete childRecord[\"radioparent\"];delete childRecord[\"radioparentPath\"];delete childRecord[\"recordbasedshowhide\"];delete childRecord[\"recordbasedreadonly\"];design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}else{component.child.map(function(myChild){childRecord=getcomponentdata(_this.state.design,myChild.childPath.split(\"-\"));childRecord['childValue']=undefined;childRecord['parentPath']=undefined;childRecord['valuecolumn']=undefined;if(myChild.componentcode!==ReactComponents.COMBO){childRecord['column']=undefined;}design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}showAlert=true;toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};// this.showAlert(true, toBeDeleted);\n}if(component.childValue&&component.parentPath){var parentData=getcomponentdata(_this.state.design,component.parentPath.split(\"-\"));if(parentData.child&&parentData.child.length>0){var newChildData=parentData.child.filter(function(child){return child.label!==component.label;});parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});design=replaceChildFromChildren(design,component.parentPath.split(\"-\"),parentData);}toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}if(component.radioparent){var _parentData=getcomponentdata(_this.state.design,component.radioparentPath.split(\"-\"));var _newChildData=_parentData.child.filter(function(child){return child.label!==component.label;});_parentData=_objectSpread(_objectSpread({},_parentData),{},{child:_newChildData});design=replaceChildFromChildren(design,component.radioparentPath.split(\"-\"),_parentData);toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}//ALPD-4263\n//When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\ndesign=removeChildFromChildren(design,path);toBeDeleted=_objectSpread(_objectSpread({},toBeDeleted),{},{design:design});if(showAlert){_this.showAlert(true,toBeDeleted);}else{_this.setLayout(design,splitDropZonePath,true);}};_this.confirmAlert=function(){_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_WARNING\"}),_this.props.intl.formatMessage({id:\"IDS_WARNING\"}),_this.props.intl.formatMessage({id:\"IDS_PARENTCOMPONENTCANNOTBEDELETED\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.setLayout(_this.state.toBeDeleted.design,_this.state.toBeDeleted.splitDropZonePath,true,true);},undefined,function(){return _this.showAlert(false);});};_this.showAlert=function(bool,toBeDeleted){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { showConfirmAlert: bool, toBeDeleted }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({showConfirmAlert:bool,toBeDeleted:toBeDeleted});};_this.onclickcomponent=function(event,data,path){var selectedFieldRecord=_objectSpread({},data);var obj=_this.getComponents(_this.state.design);//console.log(\"obj:\", obj);\nvar components=obj.components;var dateComponents=obj.dateComponents;if(data.inputtype===\"date\"){var filterDataComponents=dateComponents.filter(function(item){return item.label!==data.label;});dateComponents=filterDataComponents;}var componentData={components:components,selectedComponentpath:path};var parentRadioValue=[];if((selectedFieldRecord.componentcode===ReactComponents.COMBO||selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER)&&selectedFieldRecord.source!==undefined&&(_this.props.Login.columnInfo===undefined||_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]===undefined)){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);var tableColumn=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn:[];var filterColumns=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns:[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}else{if(selectedFieldRecord.radioparentPath){if(selectedFieldRecord.radioparentPath){var _oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(_oldParentData.hasOwnProperty('child')){_oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=_oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}}if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){if(_this.props.Login.columnInfo&&selectedFieldRecord.childValue&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]){tableColumn=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;filterColumns=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}else{if(selectedFieldRecord.childValue){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}};_this.getComponents=function(design){var components=[];var dateComponents=[{label:\"Current Date\",value:\"utccurrentdate\"}];design.map(function(row,rowIndex){row.children.map(function(column,columnIndex){column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){componnetrow.inputtype==='date'&&componnetrow.label&&dateComponents.push({label:componnetrow.label,value:componnetrow.label});componnetrow.label&&components.push({label:componnetrow.label,value:componnetrow.label,nformcode:componnetrow.nformcode,// item: componnetrow,\ninputtype:componnetrow.inputtype,source:componnetrow.source,nquerybuildertablecode:componnetrow.nquerybuildertablecode,child:componnetrow.child,valuemember:componnetrow.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-\").concat(compRowIndex)});});}else{componnet.inputtype==='date'&&componnet.label&&dateComponents.push({label:componnet.label,value:componnet.label});componnet.label&&components.push({label:componnet.label,value:componnet.label,nformcode:componnet.nformcode,// item: componnet,\ninputtype:componnet.inputtype,source:componnet.source,nquerybuildertablecode:componnet.nquerybuildertablecode,child:componnet.child,valuemember:componnet.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-0\")});}});return null;});return null;});return{components:components,dateComponents:dateComponents};};_this.getValueMembers=function(selectedFieldRecord){if(selectedFieldRecord.childValue){var valueColumn=[];_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(function(x){if(x.foriegntablename===selectedFieldRecord.childValue.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname,item:{foriegntablePK:x.foriegntablePK}});return null;});if(valueColumn.length){return valueColumn;}else{_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(function(x){var item={};if(x.isdifferentdisplaycolumn&&x.isdifferentdisplaycolumn===true){item={foriegntablePK:x.foriegntablePK,displaycolumnname:x.displaycolumnname||\"\",isdifferentdisplaycolumn:x.isdifferentdisplaycolumn};}else{item={foriegntablePK:x.foriegntablePK};}if(x.foriegntablename===selectedFieldRecord.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname,item:item});return null;});return valueColumn;}}else{return null;}};_this.onInputOnChange=function(event,name,control){// console.log(\"event:\", event, name, control);\nvar selectedFieldRecord=_this.state.selectedFieldRecord||{};var selectedRecord=_this.state.selectedRecord||{};var chillabelUpdate=false;var newLabel=\"\";var oldLabel=\"\";if(event.target.type==='checkbox'){if(name===\"recordbasedreadonly\"||name===\"recordbasedshowhide\"){var design=_this.state.design;var splititemarray=_this.state.selectedComponentpath.split(\"-\");if(selectedFieldRecord[\"recordbasedshowhide\"]||selectedFieldRecord[\"recordbasedreadonly\"]){// let design = this.state.design\nif(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});design=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),oldParentData);}delete selectedFieldRecord[\"radioparentLabel\"];delete selectedFieldRecord[\"selectedrecordbasedhide\"];delete selectedFieldRecord[\"recordbasedhide\"];delete selectedFieldRecord[\"radioparent\"];}selectedFieldRecord[name===\"recordbasedreadonly\"?\"recordbasedshowhide\":\"recordbasedreadonly\"]=false;}selectedFieldRecord[event.target.name]=event.target.checked;var newdata=_objectSpread({},selectedFieldRecord);design=replaceChildFromChildren(design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else if(event.target.name===\"loadselecteddate\"||event.target.name===\"loadcurrentdate\"){if(event.target.name===\"loadselecteddate\"&&selectedFieldRecord['loadcurrentdate']){selectedFieldRecord['loadcurrentdate']=false;}else if(event.target.name===\"loadcurrentdate\"&&selectedFieldRecord['loadselecteddate']){selectedFieldRecord['loadselecteddate']=false;}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name===\"unique\"){//     const design = this.state.design\n//  let listUnique=[]\n//  if(event.target.checked){\n//     design && design.map(row => {\n//         return  row.children.map(column => {\n//              return column.children.map(component => {\n//                   if (component.hasOwnProperty(\"children\")) {\n//                      return component.children.map(componentrow => {\n//                        if(componentrow.unique){\n//                         listUnique.push(componentrow.unique)\n//                        }\n//                       }) \n//                   }\n//                   else {\n//                     if(component.unique){\n//                         listUnique.push(component.unique)\n//                     }\n//                   }\n//               }\n//               )\n//           })\n//       })   \n//     }\n//       if(listUnique.length===0){\n//         selectedFieldRecord[event.target.name] = event.target.checked;\n//         this.saveComponentProperties(selectedFieldRecord)\n//       }else{\n//           toast.info(\"Unique Must Be One Field\")\n//           selectedFieldRecord[event.target.name] = false;\n//         this.saveComponentProperties(selectedFieldRecord)\n//         //  this.setState({design})\n//       }\n// selectedFieldRecord[event.target.name] = event.target.checked;\nselectedFieldRecord[event.target.name]=selectedFieldRecord[\"mandatory\"]===false||selectedFieldRecord[\"mandatory\"]===undefined?false:event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name===\"startnospecialcharacter\"){selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name===\"iseditablereadonly\"){selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isAddMaster'||event.target.name==='isView'||event.target.name==='isEditMaster'){// if (event.target.name === 'isAddMaster') {\n//     if (event.target.checked) {\n//         selectedFieldRecord['isView'] = false\n//     }\n// } else {\n//     if (event.target.checked) {\n//         selectedFieldRecord['isAddMaster'] = false\n//     }\n// }\nselectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='autoFocus'){if(event.target.checked===true){var val=_this.checkAutoFocus();if(val===''){selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYFOCUSAPPLIEDON\"})+' '+val);}}else{selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}}else if(event.target.name==='isalphabetcaptial'){selectedFieldRecord['isalphabetcaptial']=event.target.checked?true:false;selectedFieldRecord['isalphabetsmall']=false;selectedFieldRecord['isalphabetspl']=false;selectedFieldRecord['isalphanumeric']=false;selectedFieldRecord['isnumeric']=false;selectedFieldRecord['isnumericspl']=false;selectedFieldRecord['ncustomization']=false;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isnumeric'){selectedFieldRecord['isnumeric']=event.target.checked?true:false;selectedFieldRecord['isalphabetspl']=false;selectedFieldRecord['isalphanumeric']=false;selectedFieldRecord['isalphabetcaptial']=false;selectedFieldRecord['isalphabetsmall']=false;selectedFieldRecord['isnumericspl']=false;selectedFieldRecord['ncustomization']=false;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isalphanumeric'){selectedFieldRecord['isalphanumeric']=event.target.checked?true:false;selectedFieldRecord['isalphabetsmall']=false;selectedFieldRecord['isalphabetspl']=false;selectedFieldRecord['isalphabetcaptial']=false;selectedFieldRecord['isnumeric']=false;selectedFieldRecord['isnumericspl']=false;delete selectedFieldRecord['ncasesensitive'];delete selectedFieldRecord['ncaptialletters'];delete selectedFieldRecord['nsmallletters'];delete selectedFieldRecord['nmaxletters'];delete selectedFieldRecord['nmaxnumeric'];selectedFieldRecord['ncustomization']=false;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isnumericspl'){selectedFieldRecord['isnumericspl']=event.target.checked?true:false;selectedFieldRecord['isalphabetsmall']=false;selectedFieldRecord['isalphabetspl']=false;selectedFieldRecord['isalphanumeric']=false;selectedFieldRecord['isnumeric']=false;selectedFieldRecord['isalphabetcaptial']=false;selectedFieldRecord['ncustomization']=false;delete selectedFieldRecord['nmaxnumeric'];delete selectedFieldRecord['nsplchar'];delete selectedFieldRecord['naviodsplchar'];delete selectedFieldRecord['nsplchar'];delete selectedFieldRecord['nsplcharnotallow'];delete selectedFieldRecord['ncasesensitive'];_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isalphabetsmall'){selectedFieldRecord['isalphabetsmall']=event.target.checked?true:false;selectedFieldRecord['isalphanumeric']=false;selectedFieldRecord['isalphabetspl']=false;selectedFieldRecord['isalphabetcaptial']=false;selectedFieldRecord['isnumeric']=false;selectedFieldRecord['isnumericspl']=false;selectedFieldRecord['ncustomization']=false;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='isalphabetspl'){selectedFieldRecord['isalphabetspl']=event.target.checked?true:false;selectedFieldRecord['isalphabetsmall']=false;selectedFieldRecord['isalphanumeric']=false;selectedFieldRecord['isalphabetcaptial']=false;selectedFieldRecord['isnumeric']=false;selectedFieldRecord['isnumericspl']=false;delete selectedFieldRecord['ncasesensitive'];delete selectedFieldRecord['ncaptialletters'];delete selectedFieldRecord['nsmallletters'];delete selectedFieldRecord['nmaxletters'];delete selectedFieldRecord['nmaxnumeric'];delete selectedFieldRecord['naviodsplchar'];delete selectedFieldRecord['nsplchar'];delete selectedFieldRecord['nsplcharnotallow'];selectedFieldRecord['ncustomization']=false;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='ncustomization'&&event.target.checked===false){selectedFieldRecord['ncustomization']=event.target.checked?true:false;delete selectedFieldRecord['nmaxletters'];delete selectedFieldRecord['nmaxnumeric'];delete selectedFieldRecord['nsplchar'];_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='naviodsplchar'&&event.target.checked===false){selectedFieldRecord['naviodsplchar']=event.target.checked?true:false;selectedFieldRecord['nsplcharnotallow']=\"\";_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='ncasesensitive'){selectedFieldRecord['ncasesensitive']=event.target.checked?true:false;delete selectedFieldRecord['nsmallletters'];delete selectedFieldRecord['ncaptialletters'];delete selectedFieldRecord['nmaxcapticalletters'];delete selectedFieldRecord['nmaxsmallletters'];_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='ncaptialletters'){selectedFieldRecord['ncaptialletters']=event.target.checked?true:false;delete selectedFieldRecord['nsmallletters'];delete selectedFieldRecord['ncasesensitive'];_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name==='nsmallletters'){selectedFieldRecord['nsmallletters']=event.target.checked?true:false;delete selectedFieldRecord['ncasesensitive'];delete selectedFieldRecord['ncaptialletters'];_this.saveComponentProperties(selectedFieldRecord);}else{if(event.target.name==='timeonly'){selectedFieldRecord['dateonly']=false;}if(event.target.name==='dateonly'){selectedFieldRecord['timeonly']=false;}if(event.target.name==='mandatory'){//  if (event.target.checked === false) {\nif(selectedFieldRecord['unique']){selectedFieldRecord['unique']=false;}// }\n}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}}// else if (event.target.name === 'templatename') {\n//     if (event.target.value !== \"\") {\n//         event.target.value = validateCreateView(event.target.value);\n//         selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\n//     } else {\n//         selectedRecord[event.target.name] = event.target.value;\n//     }\n//     this.setState({ selectedRecord });\n// }\nelse if(event.target.type==='label'){selectedFieldRecord[event.target.name]=event.target.value;}else{if(name==='synonym'){selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),{},_defineProperty({},event.target.name,event.target.value));}if(event.target.name==='label'){var langArray=_this.props.Login.languageList;var langDataObject={};langArray.map(function(item){return langDataObject[item.value]=event.target.value;});selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),langDataObject);chillabelUpdate=true;newLabel=event.target.value;oldLabel=selectedFieldRecord[event.target.name];selectedFieldRecord[event.target.name]=event.target.value;}else{// if(name === \"sfontsize\"){\n//     selectedFieldRecord[event.target.name] = event.target.value;\n//     if (selectedFieldRecord[control.label]) {\n//         if (control.max) {\n//             if ((selectedFieldRecord[control.label] < parseFloat(control.max))) {\n//                 selectedFieldRecord[control.label] = control.precision ? parseFloat(event.target.value) : parseInt(event.target.value);\n//             }\n//             else{\n//                 selectedFieldRecord[event.target.name] = control.precision ? parseFloat(control.max) : parseInt(control.max);\n//             }\n//         }\n//         if (control.min) {\n//             if ((selectedFieldRecord[control.label] > parseFloat(control.min))) {\n//                 selectedFieldRecord[control.label] = control.precision ? parseFloat(event.target.value) : parseInt(event.target.value);\n//             }\n//             else{\n//                 selectedFieldRecord[event.target.name] = control.precision ? parseFloat(control.min) : parseInt(control.min);\n//             }\n//         }\n//     }\n// }\n// else{\nselectedFieldRecord[event.target.name]=event.target.value;// }\n}_this.saveComponentProperties(selectedFieldRecord,chillabelUpdate,oldLabel,newLabel);}};_this.checkAutoFocus=function(){var val='';_this.state.design.map(function(item){return item.children.map(function(column){return column.children.map(function(componnet){if(componnet.hasOwnProperty('children')){componnet.children.map(function(componnetrow){if(componnetrow.inputtype==='combo'){if(componnetrow.autoFocus){val=componnetrow.label;}}});}else{if(componnet.inputtype==='combo'){if(componnet.autoFocus){val=componnet.label;}}}});});});return val;};_this.onNumericInputChange=function(event,columnname){var selectedFieldRecord=_this.state.selectedFieldRecord||{};var value=event.target.value;if(!isNaN(value)){// if (parseInt(value) < 10) {\nselectedFieldRecord[event.target.name]=value;_this.saveComponentProperties(selectedFieldRecord);// }\n}};_this.onChangeNumericInput=function(value,columnname){var selectedFieldRecord=_this.state.selectedFieldRecord||{};if(!isNaN(value)){selectedFieldRecord[columnname]=value;_this.saveComponentProperties(selectedFieldRecord);}};_this.handleDateChange=function(dateValue,dateName){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord[dateName]=dateValue;_this.saveComponentProperties(selectedFieldRecord);};_this.onComboChange=function(comboData,comboName){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord.label){if(comboName==='table'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['source']=comboData.item.stablename;selectedFieldRecord['nformcode']=comboData.item.nformcode;if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['conditionstring']=' and nformcode = '+comboData.item.nformcode;}selectedFieldRecord['nquerybuildertablecode']=comboData.value;selectedFieldRecord['isAddMaster']=false;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);//if(comboData.item.stablename==='unit'){\n// newdata['isAddNewRecord']=true;\n//}\nvar design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);if(selectedFieldRecord.inputtype==='frontendsearchfilter'||selectedFieldRecord.inputtype==='backendsearchfilter'){_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo,{validComponents:_this.state.validComponents});}else{_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo);}}else if(comboName==='column'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['displaymember']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray=_this.state.selectedComponentpath.split(\"-\");var _newdata=_objectSpread({},selectedFieldRecord);var _design=replaceChildFromChildren(_this.state.design,_splititemarray,_newdata);_this.setState({design:_design,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='childValue'){if(comboData){var _splititemarray2=_this.state.selectedComponentpath.split(\"-\");var _design2=_this.state.design;if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});_design2=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),oldParentData);}}var parentData=getcomponentdata(_design2,comboData.path.split(\"-\"));selectedFieldRecord['childValue']=comboData;selectedFieldRecord['parentPath']=comboData.path;if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){selectedFieldRecord['parentLabel']=comboData.label;}var _newdata2=_objectSpread({},selectedFieldRecord);_design2=replaceChildFromChildren(_design2,_splititemarray2,_newdata2);var newChildData=parentData.child||[];var validateChild=newChildData.filter(function(x){return x.label===selectedFieldRecord.label;});if(validateChild.length===0){var valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(valueMemberOptions.length===1){var displaycolumnname=valueMemberOptions[0].item.displaycolumnname||\"\";var isdifferentdisplaycolumn=valueMemberOptions[0].item.isdifferentdisplaycolumn||false;var foriegntablePK=getChildComponentForeignKey(selectedFieldRecord,comboData,_this.props.Login.columnInfo);newChildData.push({label:selectedFieldRecord.label,foriegntablePK:foriegntablePK,tablecolumnname:valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath,isDynamicMapping:selectedFieldRecord.valuemember===\"ndynamicmastercode\"?true:false,displaycolumnname:displaycolumnname,isdifferentdisplaycolumn:isdifferentdisplaycolumn,uniqueID:selectedFieldRecord.id});}else{newChildData.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath,uniqueID:selectedFieldRecord.id});}}parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});_design2=replaceChildFromChildren(_design2,comboData.path.split(\"-\"),parentData);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord});}else if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){var parentRadioValue=_this.state.parentRadioValue||[];parentRadioValue=parentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord,parentRadioValue:parentRadioValue});}else{_this.props.getTableColumns(_design2,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,_splititemarray2,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else{var _splititemarray3=_this.state.selectedComponentpath.split(\"-\");var _parentData2=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData2=_parentData2.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData2=_objectSpread(_objectSpread({},_parentData2),{},{child:_newChildData2});var _design3=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData2);selectedFieldRecord['childValue']=comboData;if(selectedFieldRecord.componentcode!==ReactComponents.COMBO)selectedFieldRecord['column']=comboData;var _newdata3=_objectSpread({},selectedFieldRecord);_design3=replaceChildFromChildren(_design3,_splititemarray3,_newdata3);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName==='valuecolumn'){selectedFieldRecord['valuecolumn']=comboData;var _parentData3=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData3=[];_parentData3.child.map(function(child){if(child.label===selectedFieldRecord.label){var _displaycolumnname=comboData.item.displaycolumnname||\"\";var _isdifferentdisplaycolumn=comboData.item.isdifferentdisplaycolumn||false;_newChildData3.push(_objectSpread(_objectSpread({},child),{},{tablecolumnname:comboData.value,foriegntablePK:comboData.item.foriegntablePK,isDynamicMapping:selectedFieldRecord.valuemember===\"ndynamicmastercode\"?true:false,displaycolumnname:_displaycolumnname,isdifferentdisplaycolumn:_isdifferentdisplaycolumn}));}else{_newChildData3.push(child);}return null;});_parentData3=_objectSpread(_objectSpread({},_parentData3),{},{child:_newChildData3});var _design4=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData3);var _newdata4=_objectSpread({},selectedFieldRecord);_design4=replaceChildFromChildren(_design4,_this.state.selectedComponentpath.split(\"-\"),_newdata4);_this.setState({design:_design4,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='filtercolumn'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord.filtervalue=\"\";selectedFieldRecord.staticfiltervalue=\"\";var _splititemarray4=_this.state.selectedComponentpath.split(\"-\");var _newdata5=_objectSpread({},selectedFieldRecord);var _design5=replaceChildFromChildren(_this.state.design,_splititemarray4,_newdata5);if(comboData.type!=='numeric'){_this.setState({design:_design5,selectedFieldRecord:selectedFieldRecord});}else{_this.props.getForeignTableData(_design5,selectedFieldRecord,'',_this.props.Login.userInfo,_splititemarray4,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else if(comboName==='customsearchfilter'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['filterfields']=[];_this.state.selectedFieldRecord[comboName].map(function(data){return selectedFieldRecord['filterfields'].push(data.item['item']?_objectSpread({type:data.type},data.item['item']):data.item);});var _splititemarray5=_this.state.selectedComponentpath.split(\"-\");var _newdata6=_objectSpread({},selectedFieldRecord);var _design6=replaceChildFromChildren(_this.state.design,_splititemarray5,_newdata6);_this.setState({design:_design6,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='selectedrecordbasedhide'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['recordbasedhide']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray6=_this.state.selectedComponentpath.split(\"-\");var _newdata7=_objectSpread({},selectedFieldRecord);var _design7=replaceChildFromChildren(_this.state.design,_splititemarray6,_newdata7);_this.setState({design:_design7,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='radioparent'){if(comboData){var _splititemarray7=_this.state.selectedComponentpath.split(\"-\");var _design8=_this.state.design;var _parentData4=getcomponentdata(_design8,comboData.path.split(\"-\"));selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['radioparentPath']=comboData.path;selectedFieldRecord['radioparentLabel']=comboData.label;delete selectedFieldRecord['recordbasedhide'];delete selectedFieldRecord[\"selectedrecordbasedhide\"];var _newdata8=_objectSpread({},selectedFieldRecord);_design8=replaceChildFromChildren(_design8,_splititemarray7,_newdata8);var _newChildData4=_parentData4.child||[];var _validateChild=_newChildData4.filter(function(x){return x.label===selectedFieldRecord.label;});if(_validateChild.length===0){var _valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(_valueMemberOptions!==null&&_valueMemberOptions.length===1){_newChildData4.push({label:selectedFieldRecord.label,tablecolumnname:_valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath});}else{_newChildData4.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath});}}_parentData4=_objectSpread(_objectSpread({},_parentData4),{},{child:_newChildData4});_design8=replaceChildFromChildren(_design8,comboData.path.split(\"-\"),_parentData4);var _parentRadioValue=_this.state.parentRadioValue||[];_parentRadioValue=_parentData4.radioOptions&&_parentData4.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design8,selectedFieldRecord:selectedFieldRecord,parentRadioValue:_parentRadioValue});}else{var _splititemarray8=_this.state.selectedComponentpath.split(\"-\");var _parentData5=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));var _newChildData5=_parentData5.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData5=_objectSpread(_objectSpread({},_parentData5),{},{child:_newChildData5});var _design9=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),_parentData5);selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['selectedrecordbasedhide']=comboData;delete selectedFieldRecord['recordbasedhide'];var _newdata9=_objectSpread({},selectedFieldRecord);_design9=replaceChildFromChildren(_design9,_splititemarray8,_newdata9);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName===\"period\"){if(comboData){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['nperiodcode']=comboData.value;selectedFieldRecord['nperioddata']=comboData.item.ndata;var _splititemarray9=_this.state.selectedComponentpath.split(\"-\");var _newdata10=_objectSpread({},selectedFieldRecord);var _design10=replaceChildFromChildren(_this.state.design,_splititemarray9,_newdata10);_this.setState({design:_design10,selectedFieldRecord:selectedFieldRecord});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['nperiodcode'];delete selectedFieldRecord['nperioddata'];delete selectedFieldRecord['windowperiod'];var _splititemarray10=_this.state.selectedComponentpath.split(\"-\");var _newdata11=_objectSpread({},selectedFieldRecord);var _design11=replaceChildFromChildren(_this.state.design,_splititemarray10,_newdata11);_this.setState({design:_design11,selectedFieldRecord:selectedFieldRecord});}}else if(comboName===\"staticfiltertable\"){if(comboData){selectedFieldRecord[comboName]=comboData;var _splititemarray11=_this.state.selectedComponentpath.split(\"-\");var _newdata12=_objectSpread({},selectedFieldRecord);var _design12=replaceChildFromChildren(_this.state.design,_splititemarray11,_newdata12);var list=JSON.parse(comboData.item.jsondata.value).jcolumnname;var staticfiltercolumn=list.map(function(x){// x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\nreturn{label:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],value:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],item:x};});_this.setState({design:_design12,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:staticfiltercolumn});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['staticfiltercolumn'];var _splititemarray12=_this.state.selectedComponentpath.split(\"-\");var _newdata13=_objectSpread({},selectedFieldRecord);var _design13=replaceChildFromChildren(_this.state.design,_splititemarray12,_newdata13);_this.setState({design:_design13,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:[]});}}else if(comboName===\"radiodefaultvalue\"){selectedFieldRecord[comboName]=comboData;var _newdata14=_objectSpread({},selectedFieldRecord);var _splititemarray13=_this.state.selectedComponentpath.split(\"-\");var _design14=replaceChildFromChildren(_this.state.design,_splititemarray13,_newdata14);_this.setState({design:_design14,selectedFieldRecord:selectedFieldRecord});}else if(comboName===\"radiodefaultvaluemulti\"){//     selectedFieldRecord[comboName] = comboData;\nselectedFieldRecord['radiodefaultvalue']=[];comboData.map(function(data){return selectedFieldRecord['radiodefaultvalue'].push(_objectSpread({},data));});var _splititemarray14=_this.state.selectedComponentpath.split(\"-\");var _newdata15=_objectSpread({},selectedFieldRecord);var _design15=replaceChildFromChildren(_this.state.design,_splititemarray14,_newdata15);_this.setState({design:_design15,selectedFieldRecord:selectedFieldRecord});}else{selectedFieldRecord[comboName]=comboData;var _splititemarray15=_this.state.selectedComponentpath.split(\"-\");var _newdata16=_objectSpread({},selectedFieldRecord);var _design16=replaceChildFromChildren(_this.state.design,_splititemarray15,_newdata16);_this.setState({design:_design16,selectedFieldRecord:selectedFieldRecord});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERLABEL\"}));}};_this.addTag=function(tags){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord['radioOptions']=tags;if(selectedFieldRecord['radiodefaultvalue']){if(Array.isArray(selectedFieldRecord['radiodefaultvalue'])){var list=[];tags.tags.map(function(x){selectedFieldRecord['radiodefaultvalue'].map(function(y){if(x.text===y.label){list.push(_objectSpread({},y));}});});selectedFieldRecord['radiodefaultvalue']=list.length>0?list:undefined;}else{var _list=tags.tags.filter(function(x){return x.text===selectedFieldRecord['radiodefaultvalue'].label;});if(_list.length===0)selectedFieldRecord['radiodefaultvalue']=undefined;}}_this.saveComponentProperties(selectedFieldRecord);};_this.addCondition=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;var filterValue;var conditionString;var conditionArrayString;var selectedStaticfiltertable={};if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltercolumn']||selectedFieldRecord['staticfiltercolumn'])){selectedStaticfiltertable=JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value);switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.tablecolumnname;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" LIKE 'P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\"+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" LIKE '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" LIKE '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;// case condition.CONTAINS:\n//     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\n// case condition.NOTCONTAINS:\n//     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\ndefault:break;}var conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];conditionArrayUI.push(conditionArrayString);conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",staticfiltertable:\"\",nsystemconfiguration:false,conditionArrayUI:conditionArrayUI,conditionArraySQL:conditionArraySQL,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");}else if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltervalue']||selectedFieldRecord['filtervalue'])){switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.tablecolumnname;filterValue=selectedFieldRecord.filtervalue;break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" != '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" LIKE '\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" LIKE '%\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" LIKE '%\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;case condition.CONTAINS:conditionString=filterColumnName+\" in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;case condition.NOTCONTAINS:conditionString=filterColumnName+\" not in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" not in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;default:break;}var _conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var _conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];_conditionArrayUI.push(conditionArrayString);_conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",conditionArrayUI:_conditionArrayUI,conditionArraySQL:_conditionArraySQL,nsystemconfiguration:false,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=_conditionArraySQL.join(\" \");}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:\"\"});};_this.deleteCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var conditionArrayUI=selectedFieldRecord.conditionArrayUI;var conditionArraySQL=selectedFieldRecord.conditionArraySQL;conditionArrayUI.splice(index,1);conditionArraySQL.splice(index,1);selectedFieldRecord['conditionArrayUI']=conditionArrayUI;selectedFieldRecord['conditionArraySQL']=conditionArraySQL;selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.addDateConstraints=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;if(selectedFieldRecord['condition']&&selectedFieldRecord['filtervalue']){filterColumnName=selectedFieldRecord.filtervalue.value;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI||[];var dateConstraintArraySQL=selectedFieldRecord.cdateConstraintArraySQL||[];dateConstraintArrayUI.push(selectedFieldRecord.label+' '+selectedFieldRecord['condition'].label+' '+selectedFieldRecord['filtervalue'].label);dateConstraintArraySQL.push({parentdate:selectedFieldRecord.label,constraint:selectedFieldRecord['condition'].value,childdate:filterColumnName});selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{condition:\"\",filtervalue:\"\",dateConstraintArrayUI:dateConstraintArrayUI,dateConstraintArraySQL:dateConstraintArraySQL});var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}};_this.deleteDateCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI;var dateConstraintArraySQL=selectedFieldRecord.dateConstraintArraySQL;dateConstraintArrayUI.splice(index,1);dateConstraintArraySQL.splice(index,1);selectedFieldRecord['dateConstraintArrayUI']=dateConstraintArrayUI;selectedFieldRecord['dateConstraintArraySQL']=dateConstraintArraySQL;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.saveComponentProperties=function(selectedFieldRecord,childLabelUpdate,oldLabelName,newLabelName){var splititemarray=_this.state.selectedComponentpath.split(\"-\");// const selectedFieldRecord = this.state.selectedFieldRecord;\nvar newdata=_objectSpread({},selectedFieldRecord);var design1=_this.state.design;if(childLabelUpdate){design1=_this.updateLabelName(_this.state.design,oldLabelName,newLabelName,selectedFieldRecord);}var design=replaceChildFromChildren(design1,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.updateLabelName=function(design,oldLabelName,newLabelName,selectedFieldRecord){design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.child){var newChild=[];component.child.map(function(childComp){// ALPD-5636 Added unique id check condition by Vishakh due to some child characters gets replaced the parent record's child name (08-04-2025)\nif(childComp.label===oldLabelName&&childComp.uniqueID===selectedFieldRecord.id){newChild.push(_objectSpread(_objectSpread({},childComp),{},{label:newLabelName}));}else{newChild.push(_objectSpread({},childComp));}});component=_objectSpread(_objectSpread({},component),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}});}else{if(componnetrow.child){var newChild=[];componnetrow.child.map(function(childComp){//ALPD-4263\n//When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\n// /ALPD-4832Template design: Unable to drag and drop input fields in the template when changing the name in the predefined layout.\nif(childComp.label===oldLabelName&&childComp.uniqueID===selectedFieldRecord.id){newChild.push(_objectSpread(_objectSpread({},childComp),{},{label:newLabelName}));}else{newChild.push(_objectSpread({},childComp));}});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}});});});return design;};_this.handleSaveClick=function(saveType){if(_this.state.selectedRecord.templatename&&_this.state.selectedRecord.templatename!==\"\"){var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var dataState=undefined;// let valid = this.validateTemplate(this.state.design);\n// if (!valid) {\n//     return null;\n// }\nif(_this.props.Login.operation===\"update\"){// edit\nselectedId=_this.state.selectedRecord.nchecklistqbcode;dataState=_this.state.dataState;inputData[\"registrationtemplate\"]={nreactregtemplatecode:_this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templatename,jsonString:JSON.stringify(_this.state.design),jsondata:_this.state.design,ntransactionstatus:transactionStatus.DRAFT,ndefaulttemplatecode:_this.props.defaultTemplate.value};}else{//add               \ninputData[\"registrationtemplate\"]={nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templatename,ndefaulttemplatecode:_this.props.defaultTemplate.value,//ndefaulttemplatecode: this.props.Login.masterData.selectedDefaultTemplate.ndefaulttemplatecode,\njsonString:JSON.stringify(_this.state.design),ntransactionstatus:transactionStatus.DRAFT,nsubsampletypecode:_this.props.defaultTemplate&&_this.props.defaultTemplate.item.nsubsampletypecode};}var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{selectedDefaultTemplate:_this.props.defaultTemplate.item});var postParam={inputListName:\"RegistrationTemplate\",selectedObject:\"selectedTemplate\",primaryKeyField:\"nreactregtemplatecode\",fetchUrl:\"dynamicpreregdesign/getRegistrationTemplateById\",fecthInputObject:{userinfo:_this.props.Login.userInfo,nsampletypecode:_this.props.nsampletypecode},masterData:masterData};var inputParam={methodUrl:'RegistrationTemplate',classUrl:'dynamicpreregdesign',displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,postParam:postParam,searchRef:_this.props.searchRef,operation:_this.props.Login.operation,saveType:saveType,dataState:dataState,selectedId:selectedId,openPortal:true,selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,// openPortal:false,\nopenModal:true}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openPortal\");}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ENTERTEMPLATENAME\"}));}};_this.validateTemplate=function(template){var invalidComponent=[];var duplicateComponents=[];var insufficientMultilingualData=[];//let invalidComboComponent = [];\n// let invalidRadioComponent = [];\n// let invalidCheckboxComponent = [];\n//let invalidReadOnlyComponent = [];\nvar incompletePropertiesComponent=[];var notcompleteProperties=[];var labels=[];var isTemplateEmpty=false;//let uniqueComponent = []\ntemplate.map(function(row,rowIndex){row.children.map(function(column,columnIndex){if(column.children.length===0){isTemplateEmpty=true;}else{isTemplateEmpty=false;}column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){// if (componnetrow.unique) {\n//     uniqueComponent.push(componnetrow.label);\n// }\nif(!componnetrow.hasOwnProperty('label')||componnetrow.label.trim()===''){invalidComponent.push(componnetrow);}if(labels.includes(componnetrow.label)){duplicateComponents.push(componnetrow);}else{if(componnetrow.label!==undefined)labels.push(componnetrow.label);}if(componnetrow.componentcode===ReactComponents.COMBO){if(!componnetrow.hasOwnProperty('source')&&!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.CHECKBOX){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.RADIO){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.TEXTINPUT||componnetrow.componentcode===ReactComponents.TEXTAREA){if(componnetrow.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}else{if(componnetrow.displaymember.trim===''){incompletePropertiesComponent.push(componnetrow);}}}}else{// ALPD-5379(25-03-2025)   Code changed by Vignesh R for Template design alert issue\nif(!(componnetrow.hasOwnProperty('isnumeric')&&componnetrow.isnumeric)&&(!componnetrow.hasOwnProperty('sfieldlength')||componnetrow.sfieldlength.trim()==='')){//if (!componnetrow.hasOwnProperty('sfieldlength') || componnetrow.sfieldlength.trim() === '') {\nincompletePropertiesComponent.push(componnetrow);}else if(componnetrow.hasOwnProperty('isnumeric')&&componnetrow.isnumeric){if(componnetrow.max===\"\"||componnetrow.max===undefined||componnetrow.min===\"\"||componnetrow.min===undefined){incompletePropertiesComponent.push(componnetrow);}}}}if(componnetrow.componentcode===ReactComponents.LABEL){/**ALPD-4466 - Label Component - L.Subashini**/ // if (!componnetrow.hasOwnProperty('sfontsize') || isNaN(componnetrow.sfontsize) || componnetrow.sfontsize === '') {\n//     incompletePropertiesComponent.push(componnetrow);\n// }\nif(!componnetrow.hasOwnProperty('sfontsize')){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.FILE){if(!componnetrow.hasOwnProperty('accept')){incompletePropertiesComponent.push(componnetrow);}}if(!componnetrow.hasOwnProperty('displayname')||Object.keys(componnetrow.displayname).length<_this.props.Login.languageList.length){insufficientMultilingualData.push(componnetrow);}if(componnetrow.recordbasedshowhide||componnetrow.recordbasedreadonly){if(!(componnetrow.radioparent&&componnetrow.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.DATE){if(componnetrow.period){if(!componnetrow.windowperiod){incompletePropertiesComponent.push(componnetrow);}}}});}else{// if (componnet.unique) {\n//     uniqueComponent.push(componnet.label);\n// }\nif(!componnet.hasOwnProperty('label')||componnet.label.trim()===''){invalidComponent.push(componnet);}if(labels.includes(componnet.label)){duplicateComponents.push(componnet);}else{if(componnet.label!==undefined)labels.push(componnet.label);}if(componnet.componentcode===ReactComponents.COMBO){if(!componnet.hasOwnProperty('source')&&!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.CHECKBOX){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.RADIO){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.TEXTINPUT||componnet.componentcode===ReactComponents.TEXTAREA){if(componnet.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}else{if(componnet.displaymember.trim===''){incompletePropertiesComponent.push(componnet);}}}}else if(componnet.ncustomization){var maxletter=parseInt(componnet.nmaxletters);var maxnumber=parseInt(componnet.nmaxnumeric);var maxsplchar=parseInt(componnet.nsplchar);var maxvalue=String(componnet.sfieldlength);var maxCaptical=parseInt(componnet.nmaxcapticalletters);var maxSmall=parseInt(componnet.nmaxsmallletters);var value;// if(componnet.ncasesensitive){\n//      value= maxCaptical+maxSmall\n//     // let maxvalue=String(componnet.sfieldlength)\n//      if(String(value)!==maxvalue){\n//         notcompleteProperties.push(componnet);}\n//      }else \nif(componnet.isalphanumeric){if(componnet.ncasesensitive){value=maxCaptical+maxSmall+maxnumber;}else{value=maxletter+maxnumber;}if(String(value)!==maxvalue){notcompleteProperties.push(componnet);}}else if(componnet.isalphabetspl){if(componnet.ncasesensitive){value=maxCaptical+maxSmall+maxsplchar;}else{value=maxletter+maxsplchar;}if(String(value)!==maxvalue){notcompleteProperties.push(componnet);}}else if(componnet.isnumericspl){value=maxsplchar+maxnumber;if(String(value)!==maxvalue){notcompleteProperties.push(componnet);}}else if(componnet.isnumeric){if(String(value)!==maxvalue){}}else{if(componnet.ncasesensitive){value=maxCaptical+maxSmall+maxnumber+maxsplchar;}else{value=maxletter+maxnumber+maxsplchar;}//value= maxletter+maxnumber+maxsplchar;\n// let maxvalue=String(componnet.sfieldlength)\nif(String(value)!==maxvalue){notcompleteProperties.push(componnet);}}if(componnet.hasOwnProperty('naviodsplchar')&&(componnet.nsplcharnotallow===undefined||componnet.nsplcharnotallow===\"\")&&componnet.naviodsplchar){notcompleteProperties.push(componnet);}}else{if(componnet.hasOwnProperty('isnumeric')&&componnet.isnumeric){if((componnet.max===\"\"||componnet.max===undefined)&&(componnet.min===\"\"||componnet.min===undefined)){incompletePropertiesComponent.push(componnet);}}else if(!componnet.hasOwnProperty('sfieldlength')||componnet.sfieldlength.trim()===''){incompletePropertiesComponent.push(componnet);}}}if(componnet.componentcode===ReactComponents.LABEL){/**ALPD-4466 - Label Component - L.Subashini**/ // if (!componnet.hasOwnProperty('sfontsize')|| isNaN(componnet.sfontsize) || componnet.sfontsize === '') {\n//     incompletePropertiesComponent.push(componnet);\n// }\nif(!componnet.hasOwnProperty('sfontsize')){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.FILE){if(!componnet.hasOwnProperty('accept')){incompletePropertiesComponent.push(componnet);}}if(!componnet.hasOwnProperty('displayname')||Object.keys(componnet.displayname).length<_this.props.Login.languageList.length){insufficientMultilingualData.push(componnet);}if(componnet.recordbasedshowhide||componnet.recordbasedreadonly){if(!(componnet.radioparent&&componnet.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.DATE){if(componnet.period){if(!componnet.windowperiod){incompletePropertiesComponent.push(componnet);}}}}});return null;});return null;});if(isTemplateEmpty){toast.warn(_this.props.intl.formatMessage({id:'IDS_CONFIGURETEMPLATES'}));return false;}if(duplicateComponents.length>0){var dataArray=[];duplicateComponents.map(function(item){return dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_DUPLICATECOMPONENTSFOUND'})+dataArray.join(\",\"));return false;}if(invalidComponent.length>0){var _dataArray=[];invalidComponent.map(function(item){return _dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_MISSINGCOMPONENTLABEL'}));return false;}if(insufficientMultilingualData.length>0){var _dataArray2=[];insufficientMultilingualData.map(function(item){return _dataArray2.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INSUFFICIENTMULTILINGUALDATA'})+_dataArray2.join(\",\"));return false;}if(incompletePropertiesComponent.length>0){var _dataArray3=[];incompletePropertiesComponent.map(function(item){return _dataArray3.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INVALIDCOMPONENT'})+_dataArray3.join(\",\"));return false;}if(notcompleteProperties.length>0){var _dataArray4=[];notcompleteProperties.map(function(item){return _dataArray4.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_MISSMATCHEDVALUES'})+_dataArray4.join(\",\"));return false;}// if (this.props.nsampletypecode === SampleType.Masters) {\n//     if (uniqueComponent.length === 0) {\n//         const dataArray = [];\n//         incompletePropertiesComponent.map(item => dataArray.push(item.label));\n//         toast.warn(this.props.intl.formatMessage({ id: 'IDS_ATLEASTONEFILEDMUSTBEUNIQUE' }) + dataArray.join(\",\"));\n//         return false;\n//     }\n// }\n// if (invalidRadioComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidRadioComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidCheckboxComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidCheckboxComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidReadOnlyComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\nreturn true;};_this.onChangeAwesomeQueryBuilder=function(immutableTree,config){var splititemarray=_this.state.selectedComponentpath.split(\"-\");var selectedFieldRecord=_this.state.selectedFieldRecord||{};var query=QbUtils.sqlFormat(immutableTree,config);selectedFieldRecord['filterquery']=query;selectedFieldRecord['awesomeTree']=immutableTree;selectedFieldRecord['awesomeConfig']=config;var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);var updateInfo={typeName:DEFAULT_RETURN,data:{// awesomeTree: immutableTree,\n// awesomeConfig: config,\nselectedFieldRecord:selectedFieldRecord,design:design}};_this.props.updateStore(updateInfo);};_this.handlePageChange=function(event){var updateInfo={typeName:DEFAULT_RETURN,data:{kendoSkip:event.skip,kendoTake:event.take}};_this.props.updateStore(updateInfo);};_this.handleFilterChange=function(event){var splititemarray=_this.state.selectedComponentpath.split(\"-\");var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord['kendoFilter']=event.filter;var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);var updateInfo={typeName:DEFAULT_RETURN,data:{// kendoFilter: event.filter\nselectedFieldRecord:selectedFieldRecord,design:design}};_this.props.updateStore(updateInfo);};_this.handleExecuteClick=function(event){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord['filterquery']!==\"\"&&selectedFieldRecord['filterquery']!==undefined){var inputparam={component:_this.state.selectedFieldRecord,userinfo:_this.props.Login.userInfo,filterquery:selectedFieldRecord['filterquery'].replace('Invalid date','')};_this.props.getDynamicFilterExecuteData(inputparam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTFILTER\"}));}};_this.confirmMessage=new ConfirmMessage();// console.log(\"PD:\", this.props.Login.design);\n_this.state={nflag:1,design:_this.props.Login.design,// design: this.props.Login.operation === 'update' || this.props.Login.operation === \"viewdesign\" ? this.props.Login.design :\n//     this.props.nsampletypecode === SampleType.PRODUCT ? productDefaultTemplate :\n//         this.props.nsampletypecode === SampleType.INSTRUMENT ? InstrumentDefaultTemplate :\n//             this.props.nsampletypecode === SampleType.MATERIAL ? MaterialDefaultTemplate :\n//                 this.props.nsampletypecode === SampleType.PROJECTSAMPLETYPE ? projectDefaultTemplate :\n//                     this.props.nsampletypecode === SampleType.CLINICALTYPE ?\n//                         // this.props.Login.settings && parseInt(this.props.Login.settings[20]) === transactionStatus.YES \n//                         this.props.sampleType ?\n//                         this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\n//                         && this.props.sampleType.item.nportalrequired === transactionStatus.YES\n//                         ? clinicalTemplateWithExternalOrder \n//                         :  this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\n//                             ? clinicalTypeDefaultTemplateWithoutProduct :\n//                             clinicalTypeDefaultTemplateWithProduct : [{\n//                                 \"id\": \"pv1OWbsMYq\",\n//                                 \"type\": \"row\",\n//                                 \"children\": [\n//                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\n//                                 ]\n//                             }]\n//                             :[{\n//                                 \"id\": \"pv1OWbsMYq\",\n//                                 \"type\": \"row\",\n//                                 \"children\": [\n//                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\n//                                 ] }],\nselectedRecord:_this.props.Login.selectedRecord||{},selectedFieldRecord:{},selectedComponentpath:\"\",components:[],filterColumns:[],validComponents:[],showConfirmAlert:false,showsynonym:false,toBeDeleted:{},numericConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTEQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_IN\",defaultMessage:\"In\"}),value:condition.CONTAINS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTIN\",defaultMessage:\"Not In\"}),value:condition.NOTCONTAINS}],stringConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_NOTEQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_STARTSWITH\",defaultMessage:\"Starts With\"}),value:condition.STARTSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_ENDSWITH\",defaultMessage:\"Ends With\"}),value:condition.ENDSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_CONTAINS\",defaultMessage:\"Contains\"}),value:condition.INCLUDES}],dateConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_LESSTHAN\",defaultMessage:\"Less Than (<)\"}),value:condition.LESSTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_LESSTHANOREQUALS\",defaultMessage:\"Less Than Or Equals(<=)\"}),value:condition.LESSTHANOREQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_GREATERTHAN\",defaultMessage:\"Greater Than(>)\"}),value:condition.GREATERTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_GREATERTHANOREQUALS\",defaultMessage:\"Greater Than Or Equals(>=)\"}),value:condition.GREATERTHANEQUALS}]};return _this;}_createClass(PreRegDesignPopUp,[{key:\"render\",value:function render(){var _this2=this;// const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{centered:true,scrollable:true,bsPrefix:\"model model_zindex\",show:this.props.Login.openPortal,onHide:this.props.closeModal,dialogClassName:\"\".concat(this.state.nflag&&this.state.nflag===2?'alert-popup':'',\" modal-fullscreen\"),backdrop:\"static\",keyboard:false,enforceFocus:false,\"aria-labelledby\":\"example-custom-modal-styling-title\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Modal.Title,{id:\"add\",className:\"header-primary flex-grow-1\"},\"\".concat(this.props.Login.operation===\"update\"?this.props.intl.formatMessage({id:\"IDS_EDIT\"}):this.props.Login.operation===\"viewdesign\"?this.props.intl.formatMessage({id:\"IDS_VIEW\"}):this.props.intl.formatMessage({id:\"IDS_ADD\"}),\" \").concat(this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATE\"}))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-user btn-cancel\",variant:\"\",onClick:this.props.closeModal},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CANCEL\",defaultMessage:\"Cancel\"})),this.props.Login.operation!==\"viewdesign\"?/*#__PURE__*/React.createElement(Button,{className:\" btn-user btn-primary-blue\"//onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\n,onClick:this.validateDynamicDesign},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAVE\",defaultMessage:\"Save\"})):\"\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-inner-content\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"p-0\"},/*#__PURE__*/React.createElement(DndProvider,{backend:device.os!=='android'?HTML5Backend:TouchBackend,options:{enableMouseEvents:true}},/*#__PURE__*/React.createElement(Dynamicinput,{layout:this.state.design,reactInputFields:this.props.Login.ReactInputFields||{},setLayout:this.setLayout,reactComponents:this.props.Login.ReactComponents||{},onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange,onComboChange:this.onComboChange,selectedFieldRecord:this.state.selectedFieldRecord,onclickcomponent:function onclickcomponent(event,data,path){return _this2.onclickcomponent(event,data,path);},ReactTables:this.props.Login.ReactTables,tableColumn:this.state.tableColumn,filterColumns:this.state.filterColumns,numericConditions:this.state.numericConditions,stringConditions:this.state.stringConditions,filterData:this.props.Login.filterData,inputFields:this.state.validComponents||[],addChildMapping:this.addChildMapping,valueMembers:this.getValueMembers(this.state.selectedFieldRecord),validateDelete:this.validateDelete,addTag:this.addTag,showFilter:this.state.showFilter,showPropFilter:this.showPropFilter,hidePropFilter:this.hidePropFilter,addCondition:this.addCondition,deleteCondition:this.deleteCondition,dateConditions:this.state.dateConditions,dateComponents:this.state.dateComponents,addDateConstraints:this.addDateConstraints,deleteDateCondition:this.deleteDateCondition,showsynonym:this.state.showsynonym,languages:this.props.Login.languageList||[],addSynonym:function addSynonym(){return _this2.setState({showsynonym:!_this2.state.showsynonym});},parentRadioValue:this.state.parentRadioValue||[],userinfo:this.props.Login.userInfo,handleDateChange:this.handleDateChange,period:this.props.Login.Period||[],staticfiltertables:this.props.Login.staticfiltertables,staticfiltercolumn:this.state.staticfiltercolumn||[],fields:this.props.Login.fields||{},onChangeAwesomeQueryBuilder:this.onChangeAwesomeQueryBuilder,awesomeTree:this.state.selectedFieldRecord['awesomeTree']// awesomeConfig={this.state.selectedFieldRecord['awesomeConfig']}\n,kendoSkip:this.props.Login.kendoSkip,kendoTake:this.props.Login.kendoTake,handlePageChange:this.handlePageChange,gridColumns:this.props.Login.gridColumns||[],filterDataRecord:this.props.Login.lstPatient//  handleKendoRowClick={this.handleKendoRowClick}\n,handleExecuteClick:this.handleExecuteClick,userInfo:this.props.Login.userInfo,kendoFilter:this.state.selectedFieldRecord['kendoFilter']||{logic:\"and\",filters:[]},handleFilterChange:this.handleFilterChange//    onRowClick={this.handleKendoRowClick}\n//  userInfo={this.props.Login.userInfo}\n,intl:this.props.intl,onChangeNumericInput:this.onChangeNumericInput}))))))),/*#__PURE__*/React.createElement(AlertModal,{openAlertModal:this.state.openAlertModal,modalTitle:\"IDS_TEMPLATE\",closeModal:function closeModal(){return _this2.setState({openAlertModal:false,templateName:\"\"});},onSaveClick:this.handleSaveClick,modalBody:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),name:\"templatename\",type:\"text\",onChange:function onChange(event){return _this2.setState({selectedRecord:_objectSpread(_objectSpread({},_this2.state.selectedRecord),{},{templatename:event.target.value})});}//onChange={(event) => this.onInputOnChange(event)}\n,placeholder:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),value:this.state.selectedRecord.templatename?this.state.selectedRecord.templatename:\"\",isMandatory:true,required:true,maxLength:\"30\"})))}),this.state.showConfirmAlert?this.confirmAlert():\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,openAlertModal=_this$state.openAlertModal,design=_this$state.design,selectedRecord=_this$state.selectedRecord,selectedFieldRecord=_this$state.selectedFieldRecord,selectedComponentpath=_this$state.selectedComponentpath,components=_this$state.components,validComponents=_this$state.validComponents,tableColumn=_this$state.tableColumn,filterColumns=_this$state.filterColumns,showConfirmAlert=_this$state.showConfirmAlert,parentRadioValue=_this$state.parentRadioValue,showFilter=_this$state.showFilter;if(this.props.Login.openPortal===false&&previousProps.Login.openPortal){updateState=true;openAlertModal=false;}if(this.props.Login.design!==previousProps.Login.design){updateState=true;design=this.props.Login.design;}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){selectedFieldRecord=this.props.Login.selectedFieldRecord;updateState=true;}if(this.props.Login.showFilter!==previousProps.Login.showFilter){showFilter=this.props.Login.showFilter;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){if(this.props.Login.selectedComponentpath&&this.props.Login.selectedComponentpath!==previousProps.Login.selectedFieldRecord){selectedComponentpath=this.props.Login.selectedComponentpath;}selectedFieldRecord=this.props.Login.selectedFieldRecord;components=this.props.Login.components;validComponents=this.props.Login.validComponents;tableColumn=this.props.Login.tableColumn;filterColumns=this.props.Login.filterColumns;updateState=true;}if(this.props.Login.parentRadioValue!==previousProps.Login.parentRadioValue){parentRadioValue=this.props.Login.parentRadioValue;updateState=true;}if(updateState){this.setState({openAlertModal:openAlertModal,design:design,selectedRecord:selectedRecord,selectedFieldRecord:selectedFieldRecord,tableColumn:tableColumn,selectedComponentpath:selectedComponentpath,components:components,validComponents:validComponents,showConfirmAlert:showConfirmAlert,filterColumns:filterColumns,parentRadioValue:parentRadioValue,showFilter:showFilter});}}},{key:\"getIndexByLabel\",value:function getIndexByLabel(design,label){var obj={};design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.label===label){obj={object:component,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)};// break;\n}return null;});}else{if(componnetrow.label===label){obj={object:componnetrow,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")};// return obj;\n// break;\n}}return null;});});});return obj;}}]);return PreRegDesignPopUp;}(React.Component);export default connect(mapStateToProps,{updateStore:updateStore,crudMaster:crudMaster,getTableColumns:getTableColumns,getForeignTableData:getForeignTableData,getDynamicFilter:getDynamicFilter,getDynamicFilterExecuteData:getDynamicFilterExecuteData})(injectIntl(PreRegDesignPopUp));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/dynamicpreregdesign/PreRegDesignPopUp.jsx"],"names":["React","Button","Col","Modal","Row","FontAwesomeIcon","faSave","FormattedMessage","injectIntl","TouchBackend","HTML5Backend","DndProvider","device","Dynamicinput","connect","updateStore","crudMaster","getTableColumns","getForeignTableData","getDynamicFilter","getDynamicFilterExecuteData","condition","transactionStatus","DEFAULT_RETURN","showEsign","AlertModal","FormInput","getChildComponentForeignKey","getcomponentdata","getValidComponent","replaceChildFromChildren","removeChildFromChildren","ReactComponents","ConfirmMessage","toast","Utils","QbUtils","mapStateToProps","state","Login","PreRegDesignPopUp","props","validateDynamicDesign","valid","validateTemplate","design","setState","openAlertModal","templatename","showPropFilter","selectedFieldRecord","inputtype","label","table","filterfields","inputparam","component","userinfo","userInfo","type","selectedComponentpath","info","intl","formatMessage","id","showFilter1","componentcode","NUMERIC","EMAIL","RADIO","PREDEFINEDDROPDOWN","TEXTAREA","showFilter","updateInfo","typeName","data","hidePropFilter","setLayout","splitDropZonePath","remove","removeChild","undefined","split","childRecord","updatePath","components","getComponents","validComponents","columnInfo","showConfirmAlert","toBeDeleted","length","map","row","rowIndex","children","column","columnIndex","componnetrow","compRowIndex","hasOwnProperty","compIndex","child","newChild","childComp","obj","getIndexByLabel","push","childPath","path","newObj","object","parentPath","radioparentPath","validateDelete","showAlert","myChild","COMBO","deleteComponent","childValue","parentData","newChildData","filter","radioparent","confirmAlert","confirmMessage","confirm","bool","onclickcomponent","event","dateComponents","filterDataComponents","item","componentData","parentRadioValue","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","source","nquerybuildertablecode","tableColumn","filterColumns","oldParentData","radioOptions","tags","value","text","componnet","compindex","nformcode","valuemember","getValueMembers","valueColumn","numericColumns","x","foriegntablename","displayname","slanguagetypecode","tablecolumnname","foriegntablePK","isdifferentdisplaycolumn","displaycolumnname","onInputOnChange","name","control","selectedRecord","chillabelUpdate","newLabel","oldLabel","target","splititemarray","newChildData1","checked","newdata","saveComponentProperties","val","checkAutoFocus","warn","langArray","languageList","langDataObject","autoFocus","onNumericInputChange","columnname","isNaN","onChangeNumericInput","handleDateChange","dateValue","dateName","onComboChange","comboData","comboName","stablename","ismultilingual","validateChild","valueMemberOptions","isDynamicMapping","uniqueID","filtervalue","staticfiltervalue","ndata","list","JSON","parse","jsondata","jcolumnname","staticfiltercolumn","addTag","Array","isArray","y","addCondition","filterColumnName","filterValue","conditionString","conditionArrayString","selectedStaticfiltertable","filtercolumn","EQUALS","jtablename","tablename","NOTEQUALS","STARTSWITH","ENDSWITH","INCLUDES","conditionArrayUI","conditionArraySQL","staticfiltertable","nsystemconfiguration","join","CONTAINS","NOTCONTAINS","deleteCondition","index","splice","addDateConstraints","dateConstraintArrayUI","dateConstraintArraySQL","cdateConstraintArraySQL","parentdate","constraint","childdate","deleteDateCondition","childLabelUpdate","oldLabelName","newLabelName","design1","updateLabelName","handleSaveClick","saveType","inputData","selectedId","dataState","operation","nchecklistqbcode","nreactregtemplatecode","masterData","selectedTemplate","nsampletypecode","sregtemplatename","jsonString","stringify","ntransactionstatus","DRAFT","ndefaulttemplatecode","defaultTemplate","nsubsampletypecode","selectedDefaultTemplate","postParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","inputParam","methodUrl","classUrl","displayName","searchRef","openPortal","userRoleControlRights","ncontrolcode","loadEsign","screenData","openModal","template","invalidComponent","duplicateComponents","insufficientMultilingualData","incompletePropertiesComponent","notcompleteProperties","labels","isTemplateEmpty","trim","includes","CHECKBOX","TEXTINPUT","displaymember","isnumeric","sfieldlength","max","min","LABEL","FILE","Object","keys","recordbasedshowhide","recordbasedreadonly","selectedrecordbasedhide","DATE","period","windowperiod","ncustomization","maxletter","parseInt","nmaxletters","maxnumber","nmaxnumeric","maxsplchar","nsplchar","maxvalue","String","maxCaptical","nmaxcapticalletters","maxSmall","nmaxsmallletters","isalphanumeric","ncasesensitive","isalphabetspl","isnumericspl","nsplcharnotallow","naviodsplchar","dataArray","onChangeAwesomeQueryBuilder","immutableTree","config","query","sqlFormat","handlePageChange","kendoSkip","skip","kendoTake","take","handleFilterChange","handleExecuteClick","filterquery","replace","nflag","showsynonym","numericConditions","defaultMessage","stringConditions","dateConditions","LESSTHAN","LESSTHANOREQUALS","GREATERTHAN","GREATERTHANEQUALS","closeModal","os","enableMouseEvents","ReactInputFields","ReactTables","filterData","addChildMapping","Period","staticfiltertables","fields","gridColumns","lstPatient","logic","filters","templateName","previousProps","updateState","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { Button, Col, Modal, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { TouchBackend } from 'react-dnd-touch-backend'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { DndProvider } from 'react-dnd'\r\nimport device from 'current-device';\r\n// import MoreOptions from '../../components/configureui/MoreOptions';\r\nimport Dynamicinput from '../../components/droparea/Dynamicinputs';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    updateStore, crudMaster, getTableColumns,\r\n    getForeignTableData, getDynamicFilter, getDynamicFilterExecuteData,\r\n} from '../../actions/index'\r\nimport { condition, transactionStatus } from '../../components/Enumeration';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign } from '../../components/CommonScript';\r\nimport AlertModal from './AlertModal'\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { getChildComponentForeignKey, getcomponentdata, getValidComponent, replaceChildFromChildren,removeChildFromChildren } from '../../components/droparea/helpers';\r\n// import {\r\n//     InstrumentDefaultTemplate, productDefaultTemplate, MaterialDefaultTemplate,\r\n//     clinicalTypeDefaultTemplateWithoutProduct, clinicalTypeDefaultTemplateWithProduct,\r\n//     projectDefaultTemplate, clinicalTemplateWithExternalOrder\r\n// } from './DefaultTemplates';\r\nimport { ReactComponents } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass PreRegDesignPopUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.confirmMessage = new ConfirmMessage();\r\n        // console.log(\"PD:\", this.props.Login.design);\r\n\r\n        this.state = {\r\n            nflag: 1,\r\n            design: this.props.Login.design,\r\n            // design: this.props.Login.operation === 'update' || this.props.Login.operation === \"viewdesign\" ? this.props.Login.design :\r\n            //     this.props.nsampletypecode === SampleType.PRODUCT ? productDefaultTemplate :\r\n            //         this.props.nsampletypecode === SampleType.INSTRUMENT ? InstrumentDefaultTemplate :\r\n            //             this.props.nsampletypecode === SampleType.MATERIAL ? MaterialDefaultTemplate :\r\n            //                 this.props.nsampletypecode === SampleType.PROJECTSAMPLETYPE ? projectDefaultTemplate :\r\n            //                     this.props.nsampletypecode === SampleType.CLINICALTYPE ?\r\n            //                         // this.props.Login.settings && parseInt(this.props.Login.settings[20]) === transactionStatus.YES \r\n            //                         this.props.sampleType ?\r\n            //                         this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\r\n            //                         && this.props.sampleType.item.nportalrequired === transactionStatus.YES\r\n            //                         ? clinicalTemplateWithExternalOrder \r\n            //                         :  this.props.sampleType.item.ncategorybasedflowrequired === transactionStatus.YES\r\n            //                             ? clinicalTypeDefaultTemplateWithoutProduct :\r\n            //                             clinicalTypeDefaultTemplateWithProduct : [{\r\n            //                                 \"id\": \"pv1OWbsMYq\",\r\n            //                                 \"type\": \"row\",\r\n            //                                 \"children\": [\r\n            //                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\r\n            //                                 ]\r\n            //                             }]\r\n            //                             :[{\r\n            //                                 \"id\": \"pv1OWbsMYq\",\r\n            //                                 \"type\": \"row\",\r\n            //                                 \"children\": [\r\n            //                                     { type: 'column', id: '2zMtRhjb2t', children: [] }\r\n            //                                 ] }],\r\n            selectedRecord: this.props.Login.selectedRecord || {},\r\n            selectedFieldRecord: {},\r\n            selectedComponentpath: \"\",\r\n            components: [],\r\n            filterColumns: [],\r\n            validComponents: [],\r\n            showConfirmAlert: false,\r\n            showsynonym: false,\r\n            toBeDeleted: {},\r\n            numericConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTEQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_IN\", defaultMessage: \"In\" }), value: condition.CONTAINS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTIN\", defaultMessage: \"Not In\" }), value: condition.NOTCONTAINS }\r\n            ],\r\n            stringConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_NOTEQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_STARTSWITH\", defaultMessage: \"Starts With\" }), value: condition.STARTSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_ENDSWITH\", defaultMessage: \"Ends With\" }), value: condition.ENDSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_CONTAINS\", defaultMessage: \"Contains\" }), value: condition.INCLUDES }\r\n            ],\r\n            dateConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_LESSTHAN\", defaultMessage: \"Less Than (<)\" }), value: condition.LESSTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_LESSTHANOREQUALS\", defaultMessage: \"Less Than Or Equals(<=)\" }), value: condition.LESSTHANOREQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_GREATERTHAN\", defaultMessage: \"Greater Than(>)\" }), value: condition.GREATERTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_GREATERTHANOREQUALS\", defaultMessage: \"Greater Than Or Equals(>=)\" }), value: condition.GREATERTHANEQUALS }\r\n            ]\r\n\r\n\r\n        }\r\n    }\r\n    validateDynamicDesign = () => {\r\n        let valid = this.validateTemplate(this.state.design);\r\n        if (!valid) {\r\n            return null;\r\n        }\r\n        else {\r\n            this.setState({ openAlertModal: true, templatename: \"\" });\r\n        }\r\n    }\r\n    render() {\r\n        // const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\r\n        return (\r\n            <>\r\n                <Modal\r\n                    centered\r\n                    scrollable\r\n                    bsPrefix=\"model model_zindex\"\r\n                    show={this.props.Login.openPortal}\r\n                    onHide={this.props.closeModal}\r\n                    dialogClassName={`${this.state.nflag && this.state.nflag === 2 ? 'alert-popup' : ''} modal-fullscreen`}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    enforceFocus={false}\r\n                    aria-labelledby=\"example-custom-modal-styling-title\"\r\n                >\r\n                    <Modal.Header className=\"d-flex align-items-center\">\r\n                        <Modal.Title id=\"add\" className=\"header-primary flex-grow-1\">\r\n                            {`${this.props.Login.operation === \"update\"\r\n                                ? this.props.intl.formatMessage({ id: \"IDS_EDIT\" })\r\n                                : this.props.Login.operation === \"viewdesign\"\r\n                                    ? this.props.intl.formatMessage({ id: \"IDS_VIEW\" })\r\n                                    : this.props.intl.formatMessage({ id: \"IDS_ADD\" })} ${this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATE\" })}`\r\n                            }\r\n                        </Modal.Title>\r\n                        <>\r\n                            <Button className=\"btn-user btn-cancel\" variant=\"\" onClick={this.props.closeModal}>\r\n                                <FormattedMessage id='IDS_CANCEL' defaultMessage='Cancel' />\r\n                            </Button>\r\n                            {this.props.Login.operation !== \"viewdesign\" ?\r\n                                <Button className=\" btn-user btn-primary-blue\"\r\n                                    //onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\r\n                                    onClick={this.validateDynamicDesign}\r\n                                >\r\n                                    <FontAwesomeIcon icon={faSave} /> { }\r\n                                    <FormattedMessage id={\"IDS_SAVE\"} defaultMessage={\"Save\"} />\r\n                                </Button> : \"\"}\r\n                        </>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"modal-inner-content\">\r\n                            <Row>\r\n                                <Col md={12} className='p-0'>\r\n                                    <DndProvider backend={device.os !== 'android' ? HTML5Backend : TouchBackend} options={{ enableMouseEvents: true }} >\r\n                                        <Dynamicinput\r\n                                            layout={this.state.design}\r\n                                            reactInputFields={this.props.Login.ReactInputFields || {}}\r\n                                            setLayout={this.setLayout}\r\n                                            reactComponents={this.props.Login.ReactComponents || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onNumericInputChange={this.onNumericInputChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            selectedFieldRecord={this.state.selectedFieldRecord}\r\n                                            onclickcomponent={(event, data, path) => this.onclickcomponent(event, data, path)}\r\n                                            ReactTables={this.props.Login.ReactTables}\r\n                                            tableColumn={this.state.tableColumn}\r\n                                            filterColumns={this.state.filterColumns}\r\n                                            numericConditions={this.state.numericConditions}\r\n                                            stringConditions={this.state.stringConditions}\r\n                                            filterData={this.props.Login.filterData}\r\n                                            inputFields={this.state.validComponents || []}\r\n                                            addChildMapping={this.addChildMapping}\r\n                                            valueMembers={this.getValueMembers(this.state.selectedFieldRecord)}\r\n                                            validateDelete={this.validateDelete}\r\n                                            addTag={this.addTag}\r\n                                            showFilter={this.state.showFilter}\r\n                                            showPropFilter={this.showPropFilter}\r\n                                            hidePropFilter={this.hidePropFilter}\r\n                                            addCondition={this.addCondition}\r\n                                            deleteCondition={this.deleteCondition}\r\n                                            dateConditions={this.state.dateConditions}\r\n                                            dateComponents={this.state.dateComponents}\r\n                                            addDateConstraints={this.addDateConstraints}\r\n                                            deleteDateCondition={this.deleteDateCondition}\r\n                                            showsynonym={this.state.showsynonym}\r\n                                            languages={this.props.Login.languageList || []}\r\n                                            addSynonym={() => this.setState({ showsynonym: !(this.state.showsynonym) })}\r\n                                            parentRadioValue={this.state.parentRadioValue || []}\r\n                                            userinfo={this.props.Login.userInfo}\r\n                                            handleDateChange={this.handleDateChange}\r\n                                            period={this.props.Login.Period || []}\r\n                                            staticfiltertables={this.props.Login.staticfiltertables}\r\n                                            staticfiltercolumn={this.state.staticfiltercolumn || []}\r\n\r\n                                            fields={this.props.Login.fields || {}}\r\n                                            onChangeAwesomeQueryBuilder={this.onChangeAwesomeQueryBuilder}\r\n                                            awesomeTree={this.state.selectedFieldRecord['awesomeTree']}\r\n                                            // awesomeConfig={this.state.selectedFieldRecord['awesomeConfig']}\r\n                                            kendoSkip={this.props.Login.kendoSkip}\r\n                                            kendoTake={this.props.Login.kendoTake}\r\n                                            handlePageChange={this.handlePageChange}\r\n                                            gridColumns={this.props.Login.gridColumns || []}\r\n                                            filterDataRecord={this.props.Login.lstPatient}\r\n                                            //  handleKendoRowClick={this.handleKendoRowClick}\r\n                                            handleExecuteClick={this.handleExecuteClick}\r\n                                            userInfo={this.props.Login.userInfo}\r\n\r\n                                            kendoFilter={this.state.selectedFieldRecord['kendoFilter'] || {\r\n                                                logic: \"and\",\r\n                                                filters: []\r\n                                            }}\r\n                                            handleFilterChange={this.handleFilterChange}\r\n                                        //    onRowClick={this.handleKendoRowClick}\r\n                                        //  userInfo={this.props.Login.userInfo}\r\n                                        intl={this.props.intl}\r\n                                        onChangeNumericInput={this.onChangeNumericInput}\r\n                                        />\r\n                                    </DndProvider>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n                <AlertModal\r\n                    openAlertModal={this.state.openAlertModal}\r\n                    modalTitle={\"IDS_TEMPLATE\"}\r\n                    closeModal={() => this.setState({ openAlertModal: false, templateName: \"\" })}\r\n                    onSaveClick={this.handleSaveClick}\r\n                    modalBody={\r\n                        <Row>\r\n                            <Col>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    name={\"templatename\"}\r\n                                    type=\"text\"\r\n                                    onChange={(event) => this.setState({ selectedRecord: { ...this.state.selectedRecord, templatename:event.target.value} })}\r\n                                    //onChange={(event) => this.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    value={this.state.selectedRecord.templatename ? this.state.selectedRecord.templatename : \"\"}\r\n                                    isMandatory={true}\r\n                                    required={true}\r\n                                    maxLength={\"30\"}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    }\r\n                />\r\n                {this.state.showConfirmAlert ? this.confirmAlert() : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    \r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n        let { openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n            selectedComponentpath, components, validComponents, tableColumn, filterColumns,\r\n            showConfirmAlert, parentRadioValue, showFilter } = this.state\r\n        if (this.props.Login.openPortal === false && previousProps.Login.openPortal) {\r\n            updateState = true;\r\n            openAlertModal = false;\r\n        }\r\n        if (this.props.Login.design !== previousProps.Login.design) {\r\n            updateState = true;\r\n            design = this.props.Login.design;\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.showFilter !== previousProps.Login.showFilter) {\r\n            showFilter = this.props.Login.showFilter\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            if (this.props.Login.selectedComponentpath && this.props.Login.selectedComponentpath !== previousProps.Login.selectedFieldRecord) {\r\n                selectedComponentpath = this.props.Login.selectedComponentpath\r\n            }\r\n\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord\r\n            components = this.props.Login.components\r\n            validComponents = this.props.Login.validComponents\r\n            tableColumn = this.props.Login.tableColumn\r\n            filterColumns = this.props.Login.filterColumns\r\n            updateState = true;\r\n\r\n        }\r\n        if (this.props.Login.parentRadioValue !== previousProps.Login.parentRadioValue) {\r\n            parentRadioValue = this.props.Login.parentRadioValue\r\n            updateState = true;\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n                tableColumn, selectedComponentpath, components, validComponents,\r\n                showConfirmAlert, filterColumns, parentRadioValue, showFilter\r\n            })\r\n        }\r\n    }\r\n\r\n    showPropFilter = () => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord\r\n        if (selectedFieldRecord.inputtype === 'backendsearchfilter') {\r\n            if (selectedFieldRecord.label !== ''\r\n                && selectedFieldRecord.table && selectedFieldRecord.filterfields) {\r\n                const inputparam = {\r\n                    component: selectedFieldRecord\r\n                    , userinfo: this.props.Login.userInfo,\r\n                    type: 'design',\r\n                    selectedComponentpath: this.state.selectedComponentpath\r\n                }\r\n                this.props.getDynamicFilter(inputparam)\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTMANDATORYFIELDS\" }))\r\n            }\r\n\r\n        } else if (selectedFieldRecord.inputtype === 'frontendsearchfilter') {\r\n            if (selectedFieldRecord.label !== ''\r\n                && selectedFieldRecord.table && selectedFieldRecord.filterfields) {\r\n                const inputparam = {\r\n                    component: selectedFieldRecord\r\n                    , userinfo: this.props.Login.userInfo,\r\n                    type: 'design',\r\n                    selectedComponentpath: this.state.selectedComponentpath\r\n                }\r\n                this.props.getDynamicFilter(inputparam)\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTMANDATORYFIELDS\" }))\r\n            }\r\n        } \r\n        else {\r\n              let showFilter1;\r\n            if(selectedFieldRecord.componentcode===ReactComponents.NUMERIC\r\n                ||selectedFieldRecord.componentcode===ReactComponents.EMAIL\r\n                ||selectedFieldRecord.componentcode===ReactComponents.RADIO\r\n                ||selectedFieldRecord.componentcode===ReactComponents.PREDEFINEDDROPDOWN\r\n                ||selectedFieldRecord.componentcode===ReactComponents.TEXTAREA){\r\n                    showFilter1= this.state.showFilter\r\n                }else{\r\n                    showFilter1= !this.state.showFilter\r\n                }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    showFilter:showFilter1\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n            //  this.setState({ showFilter: !this.state.showFilter })\r\n        }\r\n\r\n    }\r\n    hidePropFilter = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                showFilter: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //  this.setState({ showFilter: !this.state.showFilter })\r\n    }\r\n    setLayout = (design, splitDropZonePath, remove, removeChild) => {\r\n        let selectedFieldRecord = {}\r\n        if (remove === undefined) {\r\n            selectedFieldRecord = getcomponentdata(design, splitDropZonePath.split(\"-\"))\r\n        }\r\n        else if (removeChild) {\r\n            let childRecord = {}\r\n            //ALPD-4263\r\n            //When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\r\n            //command the unwanted lines and later it iwill be deleted \r\n\r\n             // this.state.toBeDeleted.deleteComponent.child.map(myChild => {\r\n            //     childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n            //     childRecord['childValue'] = undefined;\r\n            //     childRecord['parentPath'] = undefined;\r\n            //     childRecord['valuecolumn'] = undefined;\r\n\r\n            //    // design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n            //     return null;\r\n            // })\r\n        }\r\n        design = this.updatePath(design)\r\n        // if (selectedFieldRecord.child) {\r\n        //     let childRecord = {}\r\n        //     selectedFieldRecord.child.map(myChild => {\r\n        //         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n        //         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\r\n        //         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\r\n        //         return null;\r\n        //     })\r\n        // }\r\n        // if (selectedFieldRecord.childValue) {\r\n        //     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n        //     let newChildData = []\r\n        //     parentData.child.map(child => child.label === selectedFieldRecord.label ?\r\n        //         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\r\n        //         newChildData.push(child))\r\n        //     parentData = { ...parentData, child: newChildData };\r\n        //     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n\r\n        // }\r\n        const components = this.getComponents(design).components;\r\n        let validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n        this.setState({ showConfirmAlert: false, toBeDeleted: {}, design, selectedFieldRecord: selectedFieldRecord, components, validComponents, selectedComponentpath: splitDropZonePath.split(\"-\").length > 1 ? splitDropZonePath : '0-0-' + splitDropZonePath })\r\n    }\r\n    updatePath = (design) => {\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.inputtype !== 'radio') {\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        if(obj.path)\r\n                                        {\r\n                                            design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                        }\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            } else {\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        \r\n                                        //Added below code to handle screen blank and edit issue for imported template record \r\n                                        // in template design screen -- L.Subashini\r\n                                        if(obj.path){\r\n                                            design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                        }\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            }\r\n\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.inputtype !== 'radio') {\r\n                            if (componnetrow.child) {\r\n                                let newChild = [];\r\n                                componnetrow.child.map(childComp => {\r\n                                    const obj = this.getIndexByLabel(design, childComp.label);\r\n                                    newChild.push({ ...childComp, childPath: obj.path });\r\n                                    const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n\r\n                                    //Added below code to handle screen blank and edit issue for imported template record \r\n                                    // in template design screen -- L.Subashini\r\n                                    if(obj.path)\r\n                                    {\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    }\r\n                                })\r\n                                componnetrow = { ...componnetrow, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                            }\r\n                        } else {\r\n                            if (componnetrow.child) {\r\n                                let newChild = [];\r\n                                componnetrow.child.map(childComp => {\r\n                                    const obj = this.getIndexByLabel(design, childComp.label);\r\n                                    newChild.push({ ...childComp, childPath: obj.path });\r\n                                    const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n                                    //Added below code to handle screen blank and edit issue for imported template record \r\n                                    // in template design screen -- L.Subashini\r\n                                    if(obj.path)\r\n                                    {\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    }\r\n                                })\r\n                                componnetrow = { ...componnetrow, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            )\r\n        )\r\n        return design;\r\n    }\r\n    getIndexByLabel(design, label) {\r\n        let obj = {};\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.label === label) {\r\n                                obj = {\r\n                                    object: component,\r\n                                    path: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}`\r\n                                }\r\n                                // break;\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.label === label) {\r\n                            obj = {\r\n                                object: componnetrow,\r\n                                path: `${rowIndex}-${columnIndex}-${compRowIndex}-0`\r\n                            }\r\n                            // return obj;\r\n                            // break;\r\n                        }\r\n                    }\r\n                    return null;\r\n                })\r\n            )\r\n        )\r\n        return obj;\r\n    }\r\n    validateDelete = (design, splitDropZonePath) => {\r\n        const path = splitDropZonePath.split(\"-\")\r\n        let showAlert = false;\r\n        let toBeDeleted = {};\r\n        // let component = {}\r\n        // let row = this.state.design[path[0]]\r\n        // let column = row.children[path[1]]\r\n        // let compRow = column.children[path[2]]\r\n        // if (compRow.type === 'componentrow')\r\n        //     component = compRow.children[path[3]]\r\n        // else\r\n        //     component = compRow\r\n\t\t\t//ALPD-4263\r\n            //When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\r\n            \r\n        design=[...this.state.design];\r\n        let component = getcomponentdata(this.state.design, path)\r\n        if (component.child && component.child.length > 0) {\r\n\r\n            let childRecord = {}\r\n            if (component.inputtype === 'radio') {\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(this.state.design, myChild.childPath.split(\"-\"))\r\n                    delete childRecord[\"radioparentLabel\"]\r\n                    delete childRecord[\"selectedrecordbasedhide\"]\r\n                    delete childRecord[\"recordbasedhide\"]\r\n                    delete childRecord[\"radioparent\"]\r\n                    delete childRecord[\"radioparentPath\"]\r\n                    delete childRecord[\"recordbasedshowhide\"]\r\n                    delete childRecord[\"recordbasedreadonly\"]\r\n\r\n\r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            } else {\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(this.state.design, myChild.childPath.split(\"-\"))\r\n                    childRecord['childValue'] = undefined;\r\n                    childRecord['parentPath'] = undefined;\r\n                    childRecord['valuecolumn'] = undefined;\r\n                    if (myChild.componentcode !== ReactComponents.COMBO) {\r\n                        childRecord['column'] = undefined;\r\n                    }\r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            }\r\n\r\n            showAlert = true;\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n            // this.showAlert(true, toBeDeleted);\r\n        }\r\n        if (component.childValue && component.parentPath) {\r\n            let parentData = getcomponentdata(this.state.design, component.parentPath.split(\"-\"));\r\n            if(parentData.child && parentData.child.length > 0){\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.parentPath.split(\"-\"), parentData)\r\n            }\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n\r\n        if (component.radioparent) {\r\n            let parentData = getcomponentdata(this.state.design, component.radioparentPath.split(\"-\"));\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.radioparentPath.split(\"-\"), parentData)\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n\t\t\t//ALPD-4263\r\n            //When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\r\n        design= removeChildFromChildren(design, path);\r\n        toBeDeleted={...toBeDeleted,design}\r\n        if (showAlert) {\r\n            this.showAlert(true, toBeDeleted);\r\n        }\r\n        else {\r\n            this.setLayout(design, splitDropZonePath, true)\r\n        }\r\n    }\r\n    confirmAlert = () => {\r\n        this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_WARNING\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_WARNING\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_PARENTCOMPONENTCANNOTBEDELETED\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.setLayout(this.state.toBeDeleted.design, this.state.toBeDeleted.splitDropZonePath, true, true),\r\n            undefined,\r\n            () => this.showAlert(false));\r\n    }\r\n    showAlert = (bool, toBeDeleted) => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { showConfirmAlert: bool, toBeDeleted }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ showConfirmAlert: bool, toBeDeleted })\r\n    }\r\n    onclickcomponent = (event, data, path) => {\r\n        const selectedFieldRecord = { ...data }\r\n        const obj = this.getComponents(this.state.design);\r\n        //console.log(\"obj:\", obj);\r\n        const components = obj.components;\r\n\r\n        let dateComponents = obj.dateComponents;\r\n        if (data.inputtype === \"date\") {\r\n            const filterDataComponents = dateComponents.filter(item => item.label !== data.label);\r\n            dateComponents = filterDataComponents;\r\n        }\r\n\r\n        let componentData = { components, selectedComponentpath: path }\r\n        let parentRadioValue = []\r\n\r\n        if ((selectedFieldRecord.componentcode === ReactComponents.COMBO ||\r\n            selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n            selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) &&\r\n            selectedFieldRecord.source !== undefined &&\r\n            (this.props.Login.columnInfo === undefined ||\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] === undefined)) {\r\n            this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                selectedFieldRecord.nquerybuildertablecode, this.props.Login.userInfo,\r\n                \"\", this.props.Login.columnInfo, componentData, undefined, false)\r\n        } else {\r\n            const validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n            let tableColumn = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn : [];\r\n            let filterColumns = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns : [];\r\n            if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n                selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (selectedFieldRecord.radioparentPath) {\r\n                    let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                    if (oldParentData.hasOwnProperty('child')) {\r\n                        oldParentData.child.map(item => {\r\n                            if (item.label === selectedFieldRecord.label) {\r\n                                parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                    return { value: item.id, label: item.text, item }\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                if (selectedFieldRecord.radioparentPath) {\r\n                    if (selectedFieldRecord.radioparentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                        if (oldParentData.hasOwnProperty('child')) {\r\n                            oldParentData.child.map(item => {\r\n                                if (item.label === selectedFieldRecord.label) {\r\n                                    parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                        return { value: item.id, label: item.text, item }\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (selectedFieldRecord.componentcode !== ReactComponents.COMBO &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (this.props.Login.columnInfo && selectedFieldRecord.childValue\r\n                    && this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]) {\r\n                    tableColumn = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;\r\n                    filterColumns = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;\r\n                    this.setState({\r\n                        selectedComponentpath: path,\r\n                        selectedFieldRecord: selectedFieldRecord,\r\n                        components,\r\n                        tableColumn,\r\n                        filterColumns,\r\n                        validComponents,\r\n                        parentRadioValue,\r\n                        showFilter: false\r\n\r\n\r\n                    })\r\n                } else {\r\n                    if (selectedFieldRecord.childValue) {\r\n                        this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            \"\", this.props.Login.columnInfo, componentData, undefined, false);\r\n                    } else {\r\n                        this.setState({\r\n                            selectedComponentpath: path,\r\n                            selectedFieldRecord: selectedFieldRecord,\r\n                            components,\r\n                            tableColumn,\r\n                            filterColumns,\r\n                            dateComponents,\r\n                            validComponents,\r\n                            parentRadioValue,\r\n                            showFilter: false\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    selectedComponentpath: path,\r\n                    selectedFieldRecord: selectedFieldRecord,\r\n                    components,\r\n                    tableColumn,\r\n                    filterColumns,\r\n                    dateComponents,\r\n                    validComponents,\r\n                    parentRadioValue,\r\n                    showFilter: false\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    getComponents = (design) => {\r\n        let components = [];\r\n        let dateComponents = [{ label: \"Current Date\", value: \"utccurrentdate\" }];\r\n        design.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                column.children.map((componnet, compindex) => {\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            componnetrow.inputtype === 'date' && componnetrow.label && dateComponents.push({ label: componnetrow.label, value: componnetrow.label })\r\n                            componnetrow.label && components.push({\r\n                                label: componnetrow.label,\r\n                                value: componnetrow.label,\r\n                                nformcode:componnetrow.nformcode,\r\n                                // item: componnetrow,\r\n                                inputtype: componnetrow.inputtype,\r\n                                source: componnetrow.source,\r\n                                nquerybuildertablecode: componnetrow.nquerybuildertablecode,\r\n                                child: componnetrow.child,\r\n                                valuemember: componnetrow.valuemember,\r\n                                path: `${rowIndex}-${columnIndex}-${compindex}-${compRowIndex}`\r\n                            })\r\n                        })\r\n                    } else {\r\n                        componnet.inputtype === 'date' && componnet.label && dateComponents.push({ label: componnet.label, value: componnet.label })\r\n                        componnet.label && components.push({\r\n                            label: componnet.label,\r\n                            value: componnet.label,\r\n                            nformcode:componnet.nformcode,\r\n                            // item: componnet,\r\n                            inputtype: componnet.inputtype,\r\n                            source: componnet.source,\r\n                            nquerybuildertablecode: componnet.nquerybuildertablecode,\r\n                            child: componnet.child,\r\n                            valuemember: componnet.valuemember,\r\n                            path: `${rowIndex}-${columnIndex}-${compindex}-0`\r\n                        })\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        return { components, dateComponents };\r\n    }\r\n    getValueMembers = (selectedFieldRecord) => {\r\n        if (selectedFieldRecord.childValue) {\r\n            let valueColumn = [];\r\n            this.props.Login.columnInfo &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(x => {\r\n                    if (x.foriegntablename === selectedFieldRecord.childValue.source)\r\n                        valueColumn.push(\r\n                            {\r\n                                label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                value: x.tablecolumnname,\r\n                                item: { foriegntablePK: x.foriegntablePK }\r\n                            }\r\n                        )\r\n                    return null;\r\n                })\r\n            if (valueColumn.length) {\r\n\r\n                return valueColumn;\r\n\r\n            } else {\r\n                this.props.Login.columnInfo &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode] &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(x => {\r\n                        let item = {};\r\n                    if(x.isdifferentdisplaycolumn && x.isdifferentdisplaycolumn === true ){\r\n                        item={\r\n                            foriegntablePK: x.foriegntablePK,\r\n                            displaycolumnname: x.displaycolumnname || \"\",\r\n                            isdifferentdisplaycolumn: x.isdifferentdisplaycolumn\r\n                             }\r\n                    }\r\n                    else{\r\n                        item={ foriegntablePK: x.foriegntablePK }\r\n                    }\r\n                        if (x.foriegntablename === selectedFieldRecord.source)\r\n                            valueColumn.push(\r\n                                {\r\n                                    label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                    value: x.tablecolumnname,\r\n                                    item: item\r\n                                }\r\n                            )\r\n                        return null;\r\n                    })\r\n                return valueColumn;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    onInputOnChange = (event, name, control) => {\r\n       // console.log(\"event:\", event, name, control);\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let chillabelUpdate = false;\r\n        let newLabel = \"\"\r\n        let oldLabel = \"\"\r\n        if (event.target.type === 'checkbox') {\r\n            if (name === \"recordbasedreadonly\" || name === \"recordbasedshowhide\") {\r\n                let design = this.state.design\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                if (selectedFieldRecord[\"recordbasedshowhide\"] || selectedFieldRecord[\"recordbasedreadonly\"]) {\r\n                    // let design = this.state.design\r\n                    if (selectedFieldRecord.radioparentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), oldParentData)\r\n                        }\r\n                        delete selectedFieldRecord[\"radioparentLabel\"]\r\n                        delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                        delete selectedFieldRecord[\"recordbasedhide\"]\r\n                        delete selectedFieldRecord[\"radioparent\"]\r\n                    }\r\n                    selectedFieldRecord[name === \"recordbasedreadonly\" ? \"recordbasedshowhide\" : \"recordbasedreadonly\"] = false;\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (event.target.name === \"loadselecteddate\" || event.target.name === \"loadcurrentdate\") {\r\n\r\n                if (event.target.name === \"loadselecteddate\" && selectedFieldRecord['loadcurrentdate']) {\r\n                    selectedFieldRecord['loadcurrentdate'] = false\r\n                } else if (event.target.name === \"loadcurrentdate\" && selectedFieldRecord['loadselecteddate']) {\r\n                    selectedFieldRecord['loadselecteddate'] = false\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === \"unique\") {\r\n                //     const design = this.state.design\r\n                //  let listUnique=[]\r\n                //  if(event.target.checked){\r\n                //     design && design.map(row => {\r\n                //         return  row.children.map(column => {\r\n                //              return column.children.map(component => {\r\n                //                   if (component.hasOwnProperty(\"children\")) {\r\n                //                      return component.children.map(componentrow => {\r\n                //                        if(componentrow.unique){\r\n                //                         listUnique.push(componentrow.unique)\r\n                //                        }\r\n                //                       }) \r\n                //                   }\r\n                //                   else {\r\n                //                     if(component.unique){\r\n                //                         listUnique.push(component.unique)\r\n                //                     }\r\n                //                   }\r\n                //               }\r\n                //               )\r\n                //           })\r\n                //       })   \r\n                //     }\r\n                //       if(listUnique.length===0){\r\n                //         selectedFieldRecord[event.target.name] = event.target.checked;\r\n                //         this.saveComponentProperties(selectedFieldRecord)\r\n\r\n                //       }else{\r\n                //           toast.info(\"Unique Must Be One Field\")\r\n                //           selectedFieldRecord[event.target.name] = false;\r\n                //         this.saveComponentProperties(selectedFieldRecord)\r\n                //         //  this.setState({design})\r\n                //       }\r\n\r\n               // selectedFieldRecord[event.target.name] = event.target.checked;\r\n               selectedFieldRecord[event.target.name] = (selectedFieldRecord[\"mandatory\"] === false||selectedFieldRecord[\"mandatory\"] === undefined)?false:event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === \"startnospecialcharacter\") {\r\n              \r\n               selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === \"iseditablereadonly\") {\r\n              \r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                 this.saveComponentProperties(selectedFieldRecord)\r\n             }\r\n            else if (event.target.name === 'isAddMaster' || event.target.name === 'isView' || event.target.name === 'isEditMaster') {\r\n                // if (event.target.name === 'isAddMaster') {\r\n                //     if (event.target.checked) {\r\n                //         selectedFieldRecord['isView'] = false\r\n                //     }\r\n                // } else {\r\n                //     if (event.target.checked) {\r\n                //         selectedFieldRecord['isAddMaster'] = false\r\n                //     }\r\n                // }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'autoFocus') {\r\n\r\n                if (event.target.checked === true) {\r\n                    const val = this.checkAutoFocus();\r\n                    if (val === '') {\r\n                        selectedFieldRecord[event.target.name] = event.target.checked;\r\n                        this.saveComponentProperties(selectedFieldRecord)\r\n                    } else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYFOCUSAPPLIEDON\" }) + ' ' + val)\r\n                    }\r\n                } else {\r\n                    selectedFieldRecord[event.target.name] = event.target.checked;\r\n                    this.saveComponentProperties(selectedFieldRecord)\r\n                }\r\n            } else if (event.target.name === 'isalphabetcaptial') {\r\n                selectedFieldRecord['isalphabetcaptial'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphabetsmall'] = false\r\n                selectedFieldRecord['isalphabetspl'] = false\r\n                selectedFieldRecord['isalphanumeric'] = false\r\n                selectedFieldRecord['isnumeric'] = false\r\n                selectedFieldRecord['isnumericspl'] = false\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'isnumeric') {\r\n                selectedFieldRecord['isnumeric'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphabetspl'] = false\r\n                selectedFieldRecord['isalphanumeric'] = false\r\n                selectedFieldRecord['isalphabetcaptial'] = false\r\n                selectedFieldRecord['isalphabetsmall'] = false\r\n                selectedFieldRecord['isnumericspl'] = false\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'isalphanumeric') {\r\n                selectedFieldRecord['isalphanumeric'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphabetsmall'] = false\r\n                selectedFieldRecord['isalphabetspl'] = false\r\n                selectedFieldRecord['isalphabetcaptial'] = false\r\n                selectedFieldRecord['isnumeric'] = false\r\n                selectedFieldRecord['isnumericspl'] = false\r\n                delete (selectedFieldRecord['ncasesensitive']);\r\n                delete (selectedFieldRecord['ncaptialletters']);\r\n                delete (selectedFieldRecord['nsmallletters']);\r\n                delete (selectedFieldRecord['nmaxletters']);\r\n                delete (selectedFieldRecord['nmaxnumeric']);\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'isnumericspl') {\r\n                selectedFieldRecord['isnumericspl'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphabetsmall'] = false\r\n                selectedFieldRecord['isalphabetspl'] = false\r\n                selectedFieldRecord['isalphanumeric'] = false\r\n                selectedFieldRecord['isnumeric'] = false\r\n                selectedFieldRecord['isalphabetcaptial'] = false\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                delete (selectedFieldRecord['nmaxnumeric']);\r\n                delete (selectedFieldRecord['nsplchar']);\r\n                delete (selectedFieldRecord['naviodsplchar']);\r\n                delete (selectedFieldRecord['nsplchar']);\r\n                delete (selectedFieldRecord['nsplcharnotallow']);\r\n                delete (selectedFieldRecord['ncasesensitive']);\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'isalphabetsmall') {\r\n                selectedFieldRecord['isalphabetsmall'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphanumeric'] = false\r\n                selectedFieldRecord['isalphabetspl'] = false\r\n                selectedFieldRecord['isalphabetcaptial'] = false\r\n                selectedFieldRecord['isnumeric'] = false\r\n                selectedFieldRecord['isnumericspl'] = false\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'isalphabetspl') {\r\n                selectedFieldRecord['isalphabetspl'] = event.target.checked ? true : false\r\n                selectedFieldRecord['isalphabetsmall'] = false\r\n                selectedFieldRecord['isalphanumeric'] = false\r\n                selectedFieldRecord['isalphabetcaptial'] = false\r\n                selectedFieldRecord['isnumeric'] = false\r\n                selectedFieldRecord['isnumericspl'] = false\r\n                delete (selectedFieldRecord['ncasesensitive']);\r\n                delete (selectedFieldRecord['ncaptialletters']);\r\n                delete (selectedFieldRecord['nsmallletters']);\r\n                delete (selectedFieldRecord['nmaxletters']);\r\n                delete (selectedFieldRecord['nmaxnumeric']);\r\n                delete (selectedFieldRecord['naviodsplchar']);\r\n                delete (selectedFieldRecord['nsplchar']);\r\n                delete (selectedFieldRecord['nsplcharnotallow']);\r\n                selectedFieldRecord['ncustomization'] = false;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'ncustomization' && event.target.checked === false) {\r\n                selectedFieldRecord['ncustomization'] = event.target.checked ? true : false\r\n                delete (selectedFieldRecord['nmaxletters']);\r\n                delete (selectedFieldRecord['nmaxnumeric']);\r\n                delete (selectedFieldRecord['nsplchar']);\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else if (event.target.name === 'naviodsplchar' && event.target.checked === false) {\r\n                selectedFieldRecord['naviodsplchar'] = event.target.checked ? true : false\r\n                selectedFieldRecord['nsplcharnotallow']=\"\";\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'ncasesensitive') {\r\n                selectedFieldRecord['ncasesensitive'] = event.target.checked ? true : false\r\n                delete (selectedFieldRecord['nsmallletters']);\r\n                delete (selectedFieldRecord['ncaptialletters']);\r\n                delete (selectedFieldRecord['nmaxcapticalletters']);\r\n                delete (selectedFieldRecord['nmaxsmallletters']);\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'ncaptialletters') {\r\n                selectedFieldRecord['ncaptialletters'] = event.target.checked ? true : false\r\n                delete (selectedFieldRecord['nsmallletters']);\r\n                delete (selectedFieldRecord['ncasesensitive']);\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            } else if (event.target.name === 'nsmallletters') {\r\n                selectedFieldRecord['nsmallletters'] = event.target.checked ? true : false\r\n                delete (selectedFieldRecord['ncasesensitive']);\r\n                delete (selectedFieldRecord['ncaptialletters']);\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n            else {\r\n                if (event.target.name === 'timeonly') {\r\n                    selectedFieldRecord['dateonly'] = false;\r\n                }\r\n                if (event.target.name === 'dateonly') {\r\n                    selectedFieldRecord['timeonly'] = false;\r\n                }\r\n                if (event.target.name === 'mandatory') {\r\n                  //  if (event.target.checked === false) {\r\n                        if (selectedFieldRecord['unique']) {\r\n                            selectedFieldRecord['unique'] = false;\r\n                        }\r\n                   // }\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n        }\r\n        // else if (event.target.name === 'templatename') {\r\n        //     if (event.target.value !== \"\") {\r\n        //         event.target.value = validateCreateView(event.target.value);\r\n        //         selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n        //     } else {\r\n        //         selectedRecord[event.target.name] = event.target.value;\r\n        //     }\r\n        //     this.setState({ selectedRecord });\r\n        // }\r\n        else if (event.target.type === 'label')\r\n        {\r\n            selectedFieldRecord[event.target.name] = event.target.value;\r\n          \r\n        }       \r\n        else {\r\n            if (name === 'synonym') {\r\n\r\n                selectedFieldRecord['displayname'] = {\r\n                    ...selectedFieldRecord['displayname'],\r\n                    [event.target.name]: event.target.value\r\n\r\n                }\r\n            }\r\n        \r\n            if (event.target.name === 'label') {\r\n                const langArray = this.props.Login.languageList;\r\n                const langDataObject = {};\r\n                langArray.map(item =>\r\n                    langDataObject[item.value] = event.target.value);\r\n\r\n                selectedFieldRecord['displayname'] = {\r\n                    ...selectedFieldRecord['displayname'],\r\n                    ...langDataObject\r\n\r\n                }\r\n                chillabelUpdate = true;\r\n                newLabel = event.target.value\r\n                oldLabel = selectedFieldRecord[event.target.name]\r\n                selectedFieldRecord[event.target.name] = event.target.value;\r\n            }\r\n            else {\r\n                // if(name === \"sfontsize\"){\r\n                //     selectedFieldRecord[event.target.name] = event.target.value;\r\n                //     if (selectedFieldRecord[control.label]) {\r\n                //         if (control.max) {\r\n                //             if ((selectedFieldRecord[control.label] < parseFloat(control.max))) {\r\n                //                 selectedFieldRecord[control.label] = control.precision ? parseFloat(event.target.value) : parseInt(event.target.value);\r\n                //             }\r\n                //             else{\r\n                //                 selectedFieldRecord[event.target.name] = control.precision ? parseFloat(control.max) : parseInt(control.max);\r\n                //             }\r\n\r\n                //         }\r\n                //         if (control.min) {\r\n                //             if ((selectedFieldRecord[control.label] > parseFloat(control.min))) {\r\n                //                 selectedFieldRecord[control.label] = control.precision ? parseFloat(event.target.value) : parseInt(event.target.value);\r\n                //             }\r\n                //             else{\r\n                //                 selectedFieldRecord[event.target.name] = control.precision ? parseFloat(control.min) : parseInt(control.min);\r\n                //             }\r\n                //         }\r\n                   \r\n            \r\n                //     }\r\n                // }\r\n                // else{\r\n                    selectedFieldRecord[event.target.name] = event.target.value;\r\n               // }\r\n            }\r\n            this.saveComponentProperties(selectedFieldRecord, chillabelUpdate, oldLabel, newLabel)\r\n        }\r\n    }\r\n\r\n    checkAutoFocus = () => {\r\n        let val = ''\r\n        this.state.design.map((item) =>\r\n            item.children.map((column) =>\r\n                column.children.map((componnet) => {\r\n                    if (componnet.hasOwnProperty('children')) {\r\n                        componnet.children.map((componnetrow) => {\r\n                            if (componnetrow.inputtype === 'combo') {\r\n                                if (componnetrow.autoFocus) {\r\n                                    val = componnetrow.label;\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        )\r\n                    } else {\r\n                        if (componnet.inputtype === 'combo') {\r\n                            if (componnet.autoFocus) {\r\n                                val = componnet.label;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n                )\r\n            ))\r\n\r\n        return val;\r\n    }\r\n\r\n    onNumericInputChange = (event, columnname) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        let value = event.target.value;\r\n        if (!isNaN(value)) {\r\n            // if (parseInt(value) < 10) {\r\n            selectedFieldRecord[event.target.name] = value;\r\n            this.saveComponentProperties(selectedFieldRecord);\r\n            // }\r\n        }\r\n    }\r\n\r\n    /**ALPD-4466 - Label Component - L.Subashini**/\r\n    onChangeNumericInput = (value, columnname) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n       \r\n        if (!isNaN(value)) {            \r\n            selectedFieldRecord[columnname] = value;\r\n            this.saveComponentProperties(selectedFieldRecord);           \r\n        }\r\n    }\r\n\r\n    handleDateChange = (dateValue, dateName) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        selectedFieldRecord[dateName] = dateValue\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n    }\r\n\r\n    onComboChange = (comboData, comboName) => {\r\n\r\n        let { selectedFieldRecord } = this.state;\r\n        if (selectedFieldRecord.label) {\r\n            if (comboName === 'table') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['source'] = comboData.item.stablename;\r\n                selectedFieldRecord['nformcode']=comboData.item.nformcode\r\n\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['conditionstring'] = ' and nformcode = ' + comboData.item.nformcode\r\n                }\r\n                selectedFieldRecord['nquerybuildertablecode'] = comboData.value;\r\n                selectedFieldRecord['isAddMaster'] = false;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                //if(comboData.item.stablename==='unit'){\r\n                // newdata['isAddNewRecord']=true;\r\n                //}\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (selectedFieldRecord.inputtype === 'frontendsearchfilter' || selectedFieldRecord.inputtype === 'backendsearchfilter') {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo, { validComponents: this.state.validComponents })\r\n                } else {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo)\r\n                }\r\n\r\n            } else if (comboName === 'column') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['displaymember'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (comboName === 'childValue') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    if (selectedFieldRecord.parentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), oldParentData)\r\n                        }\r\n\r\n                    }\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    selectedFieldRecord['parentPath'] = comboData.path\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        selectedFieldRecord['parentLabel'] = comboData.label\r\n                    }\r\n\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions.length === 1) {\r\n                            const displaycolumnname= valueMemberOptions[0].item.displaycolumnname || \"\";\r\n                            const isdifferentdisplaycolumn = valueMemberOptions[0].item.isdifferentdisplaycolumn || false;\r\n                            const foriegntablePK = getChildComponentForeignKey(selectedFieldRecord, comboData, this.props.Login.columnInfo);\r\n                            newChildData.push({ label: selectedFieldRecord.label, foriegntablePK: foriegntablePK, tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath,isDynamicMapping:selectedFieldRecord.valuemember===\"ndynamicmastercode\"?true:false, displaycolumnname: displaycolumnname, isdifferentdisplaycolumn: isdifferentdisplaycolumn, uniqueID:selectedFieldRecord.id })\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath, uniqueID:selectedFieldRecord.id })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let parentRadioValue = this.state.parentRadioValue || []\r\n                        parentRadioValue = parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                        this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n                    }\r\n                    else {\r\n                        this.props.getTableColumns(design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            splititemarray, this.props.Login.columnInfo,\r\n                            { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                            true)\r\n                    }\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO)\r\n                        selectedFieldRecord['column'] = comboData\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === 'valuecolumn') {\r\n                selectedFieldRecord['valuecolumn'] = comboData;\r\n                let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                let newChildData = []\r\n                parentData.child.map(child => {\r\n                    if (child.label === selectedFieldRecord.label) {\r\n                        const displaycolumnname=comboData.item.displaycolumnname || \"\";\r\n                        const isdifferentdisplaycolumn = comboData.item.isdifferentdisplaycolumn || false;\r\n                        newChildData.push({\r\n                            ...child, tablecolumnname: comboData.value, foriegntablePK: comboData.item.foriegntablePK,isDynamicMapping:selectedFieldRecord.valuemember===\"ndynamicmastercode\"?true:false,\r\n                            displaycolumnname: displaycolumnname, isdifferentdisplaycolumn:isdifferentdisplaycolumn\r\n                        })\r\n                    } else {\r\n                        newChildData.push(child)\r\n                    }\r\n                    return null;\r\n                })\r\n                parentData = { ...parentData, child: newChildData };\r\n                let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, this.state.selectedComponentpath.split(\"-\"), newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            } else if (comboName === 'filtercolumn') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord.filtervalue = \"\";\r\n                selectedFieldRecord.staticfiltervalue = \"\";\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (comboData.type !== 'numeric') {\r\n                    this.setState({ design, selectedFieldRecord });\r\n                } else {\r\n                    this.props.getForeignTableData(design, selectedFieldRecord, '', this.props.Login.userInfo,\r\n                        splititemarray, this.props.Login.columnInfo,\r\n                        { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                        true)\r\n                }\r\n\r\n            } else if (comboName === 'customsearchfilter') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['filterfields'] = [];\r\n                this.state.selectedFieldRecord[comboName].map(data => {\r\n                    return selectedFieldRecord['filterfields'].push(data.item['item'] ? { type: data.type, ...data.item['item'] } : data.item);\r\n                });\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'selectedrecordbasedhide') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['recordbasedhide'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'radioparent') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                    selectedFieldRecord['radioparentPath'] = comboData.path\r\n                    selectedFieldRecord['radioparentLabel'] = comboData.label\r\n                    delete selectedFieldRecord['recordbasedhide']\r\n                    delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions !== null && valueMemberOptions.length === 1) {\r\n                            newChildData.push({ label: selectedFieldRecord.label, tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath})\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                    let parentRadioValue = this.state.parentRadioValue || []\r\n                    parentRadioValue = parentData.radioOptions &&\r\n                        parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                    this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                    selectedFieldRecord['selectedrecordbasedhide'] = comboData\r\n                    delete selectedFieldRecord['recordbasedhide']\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === \"period\") {\r\n                if (comboData) {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    selectedFieldRecord['nperiodcode'] = comboData.value\r\n                    selectedFieldRecord['nperioddata'] = comboData.item.ndata\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                } else {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete selectedFieldRecord['nperiodcode']\r\n                    delete selectedFieldRecord['nperioddata']\r\n                    delete selectedFieldRecord['windowperiod']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                }\r\n\r\n            }\r\n            else if (comboName === \"staticfiltertable\") {\r\n                if (comboData) {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    const list = JSON.parse(comboData.item.jsondata.value).jcolumnname\r\n                    const staticfiltercolumn = list.map(x => {\r\n\r\n                        // x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\r\n                        return { label: x['displayname'][this.props.Login.userInfo.slanguagetypecode], value: x['displayname'][this.props.Login.userInfo.slanguagetypecode], item: x };\r\n                    })\r\n\r\n                    this.setState({ design, selectedFieldRecord, staticfiltercolumn });\r\n                } else {\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete selectedFieldRecord['staticfiltercolumn']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord, staticfiltercolumn: [] });\r\n                }\r\n            } else if (comboName === \"radiodefaultvalue\") {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                const newdata = { ...selectedFieldRecord }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n            else if (comboName === \"radiodefaultvaluemulti\") {\r\n                //     selectedFieldRecord[comboName] = comboData;\r\n\r\n                selectedFieldRecord['radiodefaultvalue'] = [];\r\n                comboData.map(data => {\r\n                    return selectedFieldRecord['radiodefaultvalue'].push({ ...data });\r\n                });\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n            else {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERLABEL\" }))\r\n        }\r\n\r\n    }\r\n    addTag = (tags) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n\r\n        selectedFieldRecord['radioOptions'] = tags;\r\n\r\n        if (selectedFieldRecord['radiodefaultvalue']) {\r\n            if (Array.isArray(selectedFieldRecord['radiodefaultvalue'])) {\r\n                let list = []\r\n                tags.tags.map(x => {\r\n                    selectedFieldRecord['radiodefaultvalue'].map(y => {\r\n                        if (x.text === y.label) {\r\n                            list.push({ ...y })\r\n                        }\r\n                    })\r\n\r\n                })\r\n                selectedFieldRecord['radiodefaultvalue'] = list.length > 0 ? list : undefined\r\n\r\n\r\n            } else {\r\n\r\n                const list = tags.tags.filter(x => x.text === selectedFieldRecord['radiodefaultvalue'].label)\r\n                if (list.length === 0)\r\n                    selectedFieldRecord['radiodefaultvalue'] = undefined\r\n            }\r\n\r\n        }\r\n\r\n\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n\r\n    }\r\n    addCondition = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        let filterValue;\r\n        let conditionString;\r\n        let conditionArrayString;\r\n        let selectedStaticfiltertable = {}\r\n        if (selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition']\r\n            && (selectedFieldRecord['staticfiltercolumn'] || selectedFieldRecord['staticfiltercolumn'])) {\r\n            selectedStaticfiltertable = JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value)\r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n\r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.tablecolumnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" LIKE 'P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P\" + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" LIKE '%P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" LIKE '%P$\" + selectedStaticfiltertable.jtablename.tablename + \".\" + filterValue.value + \"$P%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                // case condition.CONTAINS:\r\n                //     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                // case condition.NOTCONTAINS:\r\n                //     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                staticfiltertable: \"\",\r\n                nsystemconfiguration: false,\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                staticfiltercolumn: \"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n\r\n        }\r\n        else if (selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition']\r\n            && (selectedFieldRecord['staticfiltervalue'] || selectedFieldRecord['filtervalue'])) {\r\n\r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.tablecolumnname;\r\n                    filterValue = selectedFieldRecord.filtervalue\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" != '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" LIKE '\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" LIKE '%\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" LIKE '%\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                case condition.CONTAINS:\r\n                    conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                case condition.NOTCONTAINS:\r\n                    conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                nsystemconfiguration: false,\r\n                staticfiltercolumn: \"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        }\r\n        else {\r\n            return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord, staticfiltercolumn: \"\" });\r\n    }\r\n    deleteCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let conditionArrayUI = selectedFieldRecord.conditionArrayUI;\r\n        let conditionArraySQL = selectedFieldRecord.conditionArraySQL;\r\n        conditionArrayUI.splice(index, 1);\r\n        conditionArraySQL.splice(index, 1);\r\n        selectedFieldRecord['conditionArrayUI'] = conditionArrayUI;\r\n        selectedFieldRecord['conditionArraySQL'] = conditionArraySQL;\r\n        selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    addDateConstraints = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        if (selectedFieldRecord['condition'] && selectedFieldRecord['filtervalue']) {\r\n            filterColumnName = selectedFieldRecord.filtervalue.value;\r\n            let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI || [];\r\n            let dateConstraintArraySQL = selectedFieldRecord.cdateConstraintArraySQL || [];\r\n            dateConstraintArrayUI.push(selectedFieldRecord.label + ' ' + selectedFieldRecord['condition'].label + ' ' + selectedFieldRecord['filtervalue'].label);\r\n            dateConstraintArraySQL.push({ parentdate: selectedFieldRecord.label, constraint: selectedFieldRecord['condition'].value, childdate: filterColumnName });\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                condition: \"\",\r\n                filtervalue: \"\",\r\n                dateConstraintArrayUI,\r\n                dateConstraintArraySQL\r\n            }\r\n            const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n            const newdata = { ...selectedFieldRecord }\r\n            const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n            this.setState({ design, selectedFieldRecord });\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n    }\r\n    deleteDateCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI;\r\n        let dateConstraintArraySQL = selectedFieldRecord.dateConstraintArraySQL;\r\n        dateConstraintArrayUI.splice(index, 1);\r\n        dateConstraintArraySQL.splice(index, 1);\r\n        selectedFieldRecord['dateConstraintArrayUI'] = dateConstraintArrayUI;\r\n        selectedFieldRecord['dateConstraintArraySQL'] = dateConstraintArraySQL;\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    saveComponentProperties = (selectedFieldRecord, childLabelUpdate, oldLabelName, newLabelName) => {\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        // const selectedFieldRecord = this.state.selectedFieldRecord;\r\n        const newdata = { ...selectedFieldRecord }\r\n        let design1 = this.state.design\r\n        if (childLabelUpdate) {\r\n            design1 = this.updateLabelName(this.state.design, oldLabelName, newLabelName,selectedFieldRecord)\r\n        }\r\n        const design = replaceChildFromChildren(design1, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord })\r\n    }\r\n\r\n    updateLabelName = (design, oldLabelName, newLabelName,selectedFieldRecord) => {\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.child) {\r\n                                let newChild = [];\r\n                                component.child.map(childComp => {\r\n                                    // ALPD-5636 Added unique id check condition by Vishakh due to some child characters gets replaced the parent record's child name (08-04-2025)\r\n                                    if (childComp.label === oldLabelName && childComp.uniqueID === selectedFieldRecord.id) {\r\n                                        newChild.push({ ...childComp, label: newLabelName });\r\n                                    } else {\r\n                                        newChild.push({ ...childComp });\r\n                                    }\r\n\r\n                                })\r\n                                component = { ...component, child: newChild }\r\n                                design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                            }\r\n\r\n\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.child) {\r\n                            let newChild = [];\r\n                            componnetrow.child.map(childComp => {\r\n\t\t\t//ALPD-4263\r\n            //When typing a new record with ChildName and some additional letters, the extra letters are appended to the Parent's child's name, updating it from ChildName to ChildName with the extra letters.\r\n                        // /ALPD-4832Template design: Unable to drag and drop input fields in the template when changing the name in the predefined layout.\r\n                                if (childComp.label === oldLabelName && childComp.uniqueID===selectedFieldRecord.id) {\r\n                                    newChild.push({ ...childComp, label: newLabelName });\r\n                                } else {\r\n                                    newChild.push({ ...childComp });\r\n                                }\r\n                            })\r\n                            componnetrow = { ...componnetrow, child: newChild }\r\n                            design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                        }\r\n\r\n                    }\r\n                })\r\n            )\r\n        )\r\n        return design;\r\n\r\n    }\r\n    handleSaveClick = (saveType) => {\r\n        if (this.state.selectedRecord.templatename && this.state.selectedRecord.templatename !== \"\") {\r\n            let inputData = [];\r\n            let selectedId = null;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            let dataState = undefined;\r\n            // let valid = this.validateTemplate(this.state.design);\r\n            // if (!valid) {\r\n            //     return null;\r\n            // }\r\n            if (this.props.Login.operation === \"update\") {\r\n                // edit\r\n                selectedId = this.state.selectedRecord.nchecklistqbcode\r\n                dataState = this.state.dataState\r\n                inputData[\"registrationtemplate\"] = {\r\n                    nreactregtemplatecode: this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templatename,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    jsondata: this.state.design,\r\n                    ntransactionstatus: transactionStatus.DRAFT,\r\n                    ndefaulttemplatecode: this.props.defaultTemplate.value,\r\n\r\n                }\r\n            }\r\n            else {\r\n                //add               \r\n                inputData[\"registrationtemplate\"] =\r\n                {\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templatename,\r\n                    ndefaulttemplatecode: this.props.defaultTemplate.value,\r\n                    //ndefaulttemplatecode: this.props.Login.masterData.selectedDefaultTemplate.ndefaulttemplatecode,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    ntransactionstatus: transactionStatus.DRAFT,\r\n                    nsubsampletypecode: this.props.defaultTemplate && this.props.defaultTemplate.item.nsubsampletypecode\r\n                };\r\n            }\r\n            const masterData = { ...this.props.Login.masterData, selectedDefaultTemplate: this.props.defaultTemplate.item };\r\n\r\n            const postParam = {\r\n                inputListName: \"RegistrationTemplate\",\r\n                selectedObject: \"selectedTemplate\",\r\n                primaryKeyField: \"nreactregtemplatecode\",\r\n                fetchUrl: \"dynamicpreregdesign/getRegistrationTemplateById\",\r\n                fecthInputObject: {\r\n                    userinfo: this.props.Login.userInfo, nsampletypecode: this.props.nsampletypecode\r\n                },\r\n                masterData\r\n            };\r\n            const inputParam = {\r\n                methodUrl: 'RegistrationTemplate',\r\n                classUrl: 'dynamicpreregdesign',\r\n                displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n                inputData: inputData, postParam,\r\n                searchRef: this.props.searchRef,\r\n                operation: this.props.Login.operation,\r\n                saveType, dataState, selectedId, openPortal: true, selectedRecord:{...this.state.selectedRecord}\r\n            };\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true,\r\n                        screenData: { inputParam, masterData }, saveType,\r\n                        // openPortal:false,\r\n                        openModal: true\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openPortal\");\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERTEMPLATENAME\" }))\r\n        }\r\n    }\r\n    validateTemplate = (template) => {\r\n\r\n        let invalidComponent = [];\r\n        let duplicateComponents = [];\r\n        let insufficientMultilingualData = [];\r\n        //let invalidComboComponent = [];\r\n        // let invalidRadioComponent = [];\r\n        // let invalidCheckboxComponent = [];\r\n        //let invalidReadOnlyComponent = [];\r\n        let incompletePropertiesComponent = [];\r\n        let notcompleteProperties = [];\r\n        let labels = [];\r\n        let isTemplateEmpty=false;\r\n        //let uniqueComponent = []\r\n        template.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                if(column.children.length===0){\r\n                isTemplateEmpty=true;\r\n                }else{\r\n                isTemplateEmpty=false;\r\n                }\r\n                column.children.map((componnet, compindex) => {\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            // if (componnetrow.unique) {\r\n                            //     uniqueComponent.push(componnetrow.label);\r\n                            // }\r\n                            if (!componnetrow.hasOwnProperty('label') || componnetrow.label.trim() === '') {\r\n                                invalidComponent.push(componnetrow)\r\n                            }\r\n                            if (labels.includes(componnetrow.label)) {\r\n                                duplicateComponents.push(componnetrow)\r\n                            } else {\r\n                                if (componnetrow.label !== undefined)\r\n                                    labels.push(componnetrow.label);\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.COMBO) {\r\n                                if ((!componnetrow.hasOwnProperty('source')) &&\r\n                                    (!componnetrow.hasOwnProperty('displaymember'))) {\r\n                                    incompletePropertiesComponent.push(componnetrow)\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.CHECKBOX) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length === 0))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.RADIO) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length < 2))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.TEXTINPUT\r\n                                || componnetrow.componentcode === ReactComponents.TEXTAREA) {\r\n                                if (componnetrow.hasOwnProperty('readonly')) {\r\n                                    if (componnet.name && componnet.name === 'Age') {\r\n                                        if (!componnetrow.hasOwnProperty('displaymember')) {\r\n                                            incompletePropertiesComponent.push(componnetrow);\r\n                                        } else {\r\n                                            if (componnetrow.displaymember.trim === '') {\r\n                                                incompletePropertiesComponent.push(componnetrow);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                  // ALPD-5379(25-03-2025)   Code changed by Vignesh R for Template design alert issue\r\n                                    if (!(componnetrow.hasOwnProperty('isnumeric') && componnetrow.isnumeric) && (!componnetrow.hasOwnProperty('sfieldlength') || componnetrow.sfieldlength.trim() === '')) {\r\n                                    //if (!componnetrow.hasOwnProperty('sfieldlength') || componnetrow.sfieldlength.trim() === '') {\r\n                                        incompletePropertiesComponent.push(componnetrow);\r\n                                    }\r\n                                    else if (componnetrow.hasOwnProperty('isnumeric') && componnetrow.isnumeric) {\r\n                                        if((componnetrow.max===\"\"||componnetrow.max===undefined) || (componnetrow.min===\"\"||componnetrow.min===undefined)){\r\n                                            incompletePropertiesComponent.push(componnetrow);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.LABEL)\r\n                            {\r\n                                /**ALPD-4466 - Label Component - L.Subashini**/\r\n                                // if (!componnetrow.hasOwnProperty('sfontsize') || isNaN(componnetrow.sfontsize) || componnetrow.sfontsize === '') {\r\n                                //     incompletePropertiesComponent.push(componnetrow);\r\n                                // }\r\n                                if (!componnetrow.hasOwnProperty('sfontsize') ) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.FILE)\r\n                                {\r\n                                   \r\n                                    if (!componnetrow.hasOwnProperty('accept') ) {\r\n                                        incompletePropertiesComponent.push(componnetrow);\r\n                                    }\r\n                                }\r\n                            if (!componnetrow.hasOwnProperty('displayname') || Object.keys(componnetrow.displayname).length < this.props.Login.languageList.length) {\r\n                                insufficientMultilingualData.push(componnetrow);\r\n                            }\r\n                            if (componnetrow.recordbasedshowhide || componnetrow.recordbasedreadonly) {\r\n                                if (!(componnetrow.radioparent && componnetrow.selectedrecordbasedhide)) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.DATE) {\r\n                                if (componnetrow.period) {\r\n                                    if (!componnetrow.windowperiod) {\r\n                                        incompletePropertiesComponent.push(componnetrow)\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        })\r\n                    } else {\r\n                        // if (componnet.unique) {\r\n                        //     uniqueComponent.push(componnet.label);\r\n                        // }\r\n                        if (!componnet.hasOwnProperty('label') || componnet.label.trim() === '') {\r\n                            invalidComponent.push(componnet)\r\n                        }\r\n                        if (labels.includes(componnet.label)) {\r\n                            duplicateComponents.push(componnet)\r\n                        } else {\r\n                            if (componnet.label !== undefined)\r\n                                labels.push(componnet.label);\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.COMBO) {\r\n                            if ((!componnet.hasOwnProperty('source')) &&\r\n                                (!componnet.hasOwnProperty('displaymember'))) {\r\n                                incompletePropertiesComponent.push(componnet)\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.CHECKBOX) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length === 0))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.RADIO) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length < 2))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.TEXTINPUT || componnet.componentcode === ReactComponents.TEXTAREA) {\r\n                            if (componnet.hasOwnProperty('readonly')) {\r\n                                if (componnet.name && componnet.name === 'Age') {\r\n                                    if (!componnet.hasOwnProperty('displaymember')) {\r\n                                        incompletePropertiesComponent.push(componnet);\r\n                                    } else {\r\n                                        if (componnet.displaymember.trim === '') {\r\n                                            incompletePropertiesComponent.push(componnet);\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                            } else if (componnet.ncustomization) {\r\n                                let maxletter = parseInt(componnet.nmaxletters);\r\n                                let maxnumber = parseInt(componnet.nmaxnumeric);\r\n                                let maxsplchar = parseInt(componnet.nsplchar);\r\n                                let maxvalue = String(componnet.sfieldlength)\r\n                                let maxCaptical = parseInt(componnet.nmaxcapticalletters);\r\n                                let maxSmall = parseInt(componnet.nmaxsmallletters);\r\n                                let value;\r\n                                // if(componnet.ncasesensitive){\r\n\r\n                                //      value= maxCaptical+maxSmall\r\n                                //     // let maxvalue=String(componnet.sfieldlength)\r\n                                //      if(String(value)!==maxvalue){\r\n                                //         notcompleteProperties.push(componnet);}\r\n                                //      }else \r\n                                if (componnet.isalphanumeric) {\r\n                                    if (componnet.ncasesensitive) {\r\n                                        value = maxCaptical + maxSmall + maxnumber\r\n                                    } else {\r\n                                        value = maxletter + maxnumber;\r\n                                    }\r\n                                    if (String(value) !== maxvalue) {\r\n                                        notcompleteProperties.push(componnet);\r\n                                    }\r\n                                } else if (componnet.isalphabetspl) {\r\n                                    if (componnet.ncasesensitive) {\r\n                                        value = maxCaptical + maxSmall + maxsplchar;\r\n                                    } else {\r\n                                        value = maxletter + maxsplchar;\r\n                                    }\r\n                                    if (String(value) !== maxvalue) {\r\n                                        notcompleteProperties.push(componnet);\r\n                                    }\r\n                                } else if (componnet.isnumericspl) {\r\n                                    value = maxsplchar + maxnumber;\r\n                                    if (String(value) !== maxvalue) {\r\n                                        notcompleteProperties.push(componnet);\r\n                                    }\r\n                                } else if (componnet.isnumeric) {\r\n                                    if (String(value) !== maxvalue) {\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (componnet.ncasesensitive) {\r\n                                        value = maxCaptical + maxSmall + maxnumber + maxsplchar;\r\n                                    } else {\r\n                                        value = maxletter + maxnumber + maxsplchar;\r\n                                    }\r\n                                    //value= maxletter+maxnumber+maxsplchar;\r\n                                    // let maxvalue=String(componnet.sfieldlength)\r\n                                    if (String(value) !== maxvalue) {\r\n                                        notcompleteProperties.push(componnet);\r\n                                    }\r\n                                }\r\n                                if (componnet.hasOwnProperty('naviodsplchar') && (componnet.nsplcharnotallow === undefined || componnet.nsplcharnotallow === \"\") && componnet.naviodsplchar ) {\r\n                                    notcompleteProperties.push(componnet);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if(componnet.hasOwnProperty('isnumeric') && componnet.isnumeric ){\r\n                                    if((componnet.max===\"\"||componnet.max===undefined) && (componnet.min===\"\"||componnet.min===undefined)){\r\n                                        incompletePropertiesComponent.push(componnet);\r\n                                    }\r\n                                }\r\n                               else if (!componnet.hasOwnProperty('sfieldlength') || componnet.sfieldlength.trim() === '') {\r\n                                    incompletePropertiesComponent.push(componnet);\r\n                                }\r\n                            }\r\n\r\n\r\n                        }\r\n\r\n                        if (componnet.componentcode === ReactComponents.LABEL)\r\n                            {\r\n                                /**ALPD-4466 - Label Component - L.Subashini**/\r\n                                // if (!componnet.hasOwnProperty('sfontsize')|| isNaN(componnet.sfontsize) || componnet.sfontsize === '') {\r\n                                //     incompletePropertiesComponent.push(componnet);\r\n                                // }\r\n                                if (!componnet.hasOwnProperty('sfontsize') ) {\r\n                                    incompletePropertiesComponent.push(componnet);\r\n                                }\r\n                            }\r\n                        if (componnet.componentcode === ReactComponents.FILE)\r\n                            {                                \r\n                                if (!componnet.hasOwnProperty('accept') ) {\r\n                                    incompletePropertiesComponent.push(componnet);\r\n                                }\r\n                            }\r\n                        if (!componnet.hasOwnProperty('displayname') || Object.keys(componnet.displayname).length < this.props.Login.languageList.length) {\r\n                            insufficientMultilingualData.push(componnet);\r\n                        }\r\n                        if (componnet.recordbasedshowhide || componnet.recordbasedreadonly) {\r\n                            if (!(componnet.radioparent && componnet.selectedrecordbasedhide)) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n\r\n                        }\r\n\r\n                        if (componnet.componentcode === ReactComponents.DATE) {\r\n                            if (componnet.period) {\r\n                                if (!componnet.windowperiod) {\r\n                                    incompletePropertiesComponent.push(componnet)\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        if (isTemplateEmpty) {\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_CONFIGURETEMPLATES' }));\r\n            return false;\r\n        }\r\n        if (duplicateComponents.length > 0) {\r\n            const dataArray = [];\r\n            duplicateComponents.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_DUPLICATECOMPONENTSFOUND' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (invalidComponent.length > 0) {\r\n            const dataArray = [];\r\n            invalidComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_MISSINGCOMPONENTLABEL' }));\r\n            return false;\r\n        }\r\n        if (insufficientMultilingualData.length > 0) {\r\n            const dataArray = [];\r\n            insufficientMultilingualData.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INSUFFICIENTMULTILINGUALDATA' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (incompletePropertiesComponent.length > 0) {\r\n            const dataArray = [];\r\n            incompletePropertiesComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCOMPONENT' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (notcompleteProperties.length > 0) {\r\n            const dataArray = [];\r\n            notcompleteProperties.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_MISSMATCHEDVALUES' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        // if (this.props.nsampletypecode === SampleType.Masters) {\r\n        //     if (uniqueComponent.length === 0) {\r\n        //         const dataArray = [];\r\n        //         incompletePropertiesComponent.map(item => dataArray.push(item.label));\r\n        //         toast.warn(this.props.intl.formatMessage({ id: 'IDS_ATLEASTONEFILEDMUSTBEUNIQUE' }) + dataArray.join(\",\"));\r\n        //         return false;\r\n        //     }\r\n        // }\r\n        // if (invalidRadioComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidRadioComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidCheckboxComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidCheckboxComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidReadOnlyComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        return true;\r\n    }\r\n\r\n    onChangeAwesomeQueryBuilder = (immutableTree, config) => {\r\n\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n        let selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        const query = QbUtils.sqlFormat(immutableTree, config);\r\n        selectedFieldRecord['filterquery'] = query;\r\n        selectedFieldRecord['awesomeTree'] = immutableTree\r\n        selectedFieldRecord['awesomeConfig'] = config\r\n\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                // awesomeTree: immutableTree,\r\n                // awesomeConfig: config,\r\n                selectedFieldRecord,\r\n                design\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n\r\n    };\r\n\r\n    handlePageChange = (event) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                kendoSkip: event.skip, kendoTake: event.take\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n    };\r\n    handleFilterChange = (event) => {\r\n\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n        let selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        selectedFieldRecord['kendoFilter'] = event.filter\r\n\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                // kendoFilter: event.filter\r\n                selectedFieldRecord,\r\n                design\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo)\r\n    };\r\n\r\n    handleExecuteClick = (event) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord\r\n        if (selectedFieldRecord['filterquery'] !== \"\" && selectedFieldRecord['filterquery'] !== undefined) {\r\n            const inputparam = {\r\n                component: this.state.selectedFieldRecord,\r\n                userinfo: this.props.Login.userInfo,\r\n                filterquery: selectedFieldRecord['filterquery'].replace('Invalid date', '')\r\n\r\n            }\r\n            this.props.getDynamicFilterExecuteData(inputparam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTFILTER\" }));\r\n        }\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    updateStore, crudMaster,\r\n    getTableColumns, getForeignTableData, getDynamicFilter, getDynamicFilterExecuteData\r\n})(injectIntl(PreRegDesignPopUp))"]},"metadata":{},"sourceType":"module"}