{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import{LocalizationProvider}from'@progress/kendo-react-intl';import React from'react';import{injectIntl}from'react-intl';import'rc-tabs/assets/index.css';import{AtTabs}from'../../components/custom-tabs/custom-tabs.styles';import PerfectScrollbar from'react-perfect-scrollbar';import Tabs,{TabPane}from\"rc-tabs\";import{AtTableWrap}from'../../components/data-grid/data-grid.styles';import{formCode}from'../../components/Enumeration';import DataGrid from'../../components/data-grid/data-grid.component';import{process}from'@progress/kendo-data-query';var ReleaseReportHistory=/*#__PURE__*/function(_React$Component){_inherits(ReleaseReportHistory,_React$Component);var _super=_createSuper(ReleaseReportHistory);function ReleaseReportHistory(props){var _this;_classCallCheck(this,ReleaseReportHistory);_this=_super.call(this,props);_this.onTabChange=function(tab){var selectedScreen=_this.state.screens.find(function(screen){return screen.eventKey===tab;});var dataState=selectedScreen.eventKey===\"PreliminaryReportHistory\"?_this.state.preliminaryHistoryDataState:selectedScreen.eventKey===\"ReleaseReportHistory\"?_this.state.releaseyHistoryDataState:selectedScreen.eventKey===\"RegenerateReportHistory\"?_this.state.regenerateHistoryDataState:_this.state.releaseHistoryTabDataState;var dataResult=process(_this.props.dataResult[selectedScreen.eventKey]||[],dataState);var data=_this.props.dataResult[selectedScreen.eventKey]||[];_this.setState({selectedScreen:selectedScreen,dataResult:dataResult,data:data});};_this.preliminaryHistoryDataStateChange=function(event){_this.setState({preliminaryHistoryDataState:event.dataState,dataResult:process(_this.state.data?_this.state.data:[],event.dataState)});// this.expandNextData(event.dataState);\n};_this.releaseHistoryDataStateChange=function(event){_this.setState({releaseyHistoryDataState:event.dataState,dataResult:process(_this.state.data?_this.state.data:[],event.dataState)});// this.expandNextData(event.dataState);\n};_this.regenerateHistoryDataStateChange=function(event){_this.setState({regenerateHistoryDataState:event.dataState,dataResult:process(_this.state.data?_this.state.data:[],event.dataState)});// this.expandNextData(event.dataState);\n};_this.releaseHistoryTabDataStateChange=function(event){_this.setState({releaseHistoryTabDataState:event.dataState,dataResult:process(_this.state.data?_this.state.data:[],event.dataState)});// this.expandNextData(event.dataState);\n};var preliminaryHistoryDataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var releaseyHistoryDataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var regenerateHistoryDataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var releaseHistoryTabDataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};var screens=[];screens.push({eventKey:'ReleaseHistoryTab',name:\"IDS_RELEASEHISTORY\",formcode:formCode.RELEASE},{eventKey:'PreliminaryReportHistory',name:\"IDS_PRELIMINARYREPORTHISTORY\",formcode:formCode.RESULTENTRY},{eventKey:'ReleaseReportHistory',name:\"IDS_RELEASEREPORTHISTORY\",formcode:formCode.APPROVAL},{eventKey:'RegenerateReportHistory',name:\"IDS_REGENERATEREPORTHISTORY\",formcode:formCode.RELEASE});_this.state={screens:screens,preliminaryHistoryDataState:preliminaryHistoryDataState,releaseyHistoryDataState:releaseyHistoryDataState,regenerateHistoryDataState:regenerateHistoryDataState,releaseHistoryTabDataState:releaseHistoryTabDataState,selectedScreen:{eventKey:'ReleaseHistoryTab',name:\"IDS_RELEASEHISTORY\",formcode:43},dataResult:process(_this.props.dataResult[\"ReleaseHistoryTab\"]||[],preliminaryHistoryDataState),data:_this.props.dataResult[\"ReleaseHistoryTab\"]};return _this;}_createClass(ReleaseReportHistory,[{key:\"render\",value:function render(){var _this2=this;var extractedColumnList=[];if(this.state&&this.state.selectedScreen&&(this.state.selectedScreen.eventKey===\"ReleaseReportHistory\"||this.state.selectedScreen.eventKey===\"RegenerateReportHistory\")){extractedColumnList.push({\"idsName\":\"IDS_REPORTREFERENCENO\",\"dataField\":\"sreportno\",\"width\":\"155px\"},{\"idsName\":\"IDS_VERSION\",\"dataField\":\"nversionno\",\"width\":\"75px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"155px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"155px\"},{\"idsName\":\"IDS_GENERATEDDATETIME\",\"dataField\":\"sgenerateddate\",\"width\":\"155px\"});}else if(this.state.selectedScreen.eventKey===\"ReleaseHistoryTab\"){extractedColumnList.push({\"idsName\":\"IDS_REPORTREFERENCENO\",\"dataField\":\"sreportno\",\"width\":\"155px\"},{\"idsName\":\"IDS_VERSION\",\"dataField\":\"nversionno\",\"width\":\"75px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"155px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"155px\"},{\"idsName\":\"IDS_TRANSACTIONSTATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"155px\"},{\"idsName\":\"IDS_GENERATEDDATETIME\",\"dataField\":\"sgenerateddate\",\"width\":\"155px\"});}else{extractedColumnList.push({\"idsName\":\"IDS_PRELIMINARYREFERENCENO\",\"dataField\":\"ncoaparentcode\",\"width\":\"155px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"155px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"155px\"},{\"idsName\":\"IDS_GENERATEDDATETIME\",\"dataField\":\"sgenerateddate\",\"width\":\"155px\"});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AtTabs,null,/*#__PURE__*/React.createElement(Tabs,{activeKey:this.state.selectedScreen.eventKey,moreIcon:\"...\",onChange:this.onTabChange},this.state.screens.map(function(screen){return/*#__PURE__*/React.createElement(TabPane,{name:screen.eventKey,tab:_this2.props.intl.formatMessage({id:screen.name}),key:screen.eventKey},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(AtTableWrap,{className:\"at-list-table\"},/*#__PURE__*/React.createElement(LocalizationProvider,{language:\"lang\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DataGrid,{key:\"ncoaparentcode\",primaryKeyField:\"ncoaparentcode\",data:_this2.props.dataResult[_this2.state.selectedScreen.eventKey]||[]// dataResult={process(this.props.dataResult[this.state.selectedScreen.eventKey], this.state.preliminaryHistoryDataState)}\n,dataResult:_this2.state.dataResult,dataState:_this2.state&&_this2.state.selectedScreen&&_this2.state.selectedScreen.eventKey===\"PreliminaryReportHistory\"?_this2.state.preliminaryHistoryDataState:_this2.state&&_this2.state.selectedScreen&&_this2.state.selectedScreen.eventKey===\"ReleaseReportHistory\"?_this2.state.releaseyHistoryDataState:_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?_this2.state.regenerateHistoryDataState:_this2.state.releaseHistoryTabDataState//expandField=\"expanded\"\n,isExportExcelRequired:false,dataStateChange:_this2.state&&_this2.state.selectedScreen&&_this2.state.selectedScreen.eventKey===\"PreliminaryReportHistory\"?_this2.preliminaryHistoryDataStateChange:_this2.state&&_this2.state.selectedScreen&&_this2.state.selectedScreen.eventKey===\"ReleaseReportHistory\"?_this2.releaseHistoryDataStateChange:_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"?_this2.regenerateHistoryDataStateChange:_this2.releaseHistoryTabDataStateChange,extractedColumnList:extractedColumnList,controlMap:_this2.props.controlMap,userRoleControlRights:_this2.props.userRoleControlRights// detailedFieldList={this.props.detailedFieldList}\n// //editParam={editReportParam}\n// selectedId={this.props.Login.selectedId}\n// fetchRecord={this.props.fetchReportInfoReleaseById}\n,pageable:true// dataStateChange={this.dataStateChange}\n,scrollable:'scrollable',gridHeight:'600px',isActionRequired:_this2.state&&(_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"||_this2.state.selectedScreen.eventKey===\"ReleaseHistoryTab\")?false:true,methodUrl:'ReleaseVersion',isDownload:_this2.state&&(_this2.state.selectedScreen.eventKey===\"RegenerateReportHistory\"||_this2.state.selectedScreen.eventKey===\"ReleaseHistoryTab\")?false:true,viewDownloadFile:_this2.props.viewDownloadFile// actionIcons={[{\n//     title: this.props.intl.formatMessage({ id: \"IDS_PREVIOUSRESULTVIEW\" }),\n//     controlname: \"faEye\",\n//     objectName: \"ExceptionLogs\",\n//     hidden: -1 === -1,\n//    onClick: (viewSample) => this.props.viewSample(viewSample)\n// }]}\n}))))));}))));}}]);return ReleaseReportHistory;}(React.Component);export default injectIntl(ReleaseReportHistory);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/release/ReleaseReportHistory.jsx"],"names":["LocalizationProvider","React","injectIntl","AtTabs","PerfectScrollbar","Tabs","TabPane","AtTableWrap","formCode","DataGrid","process","ReleaseReportHistory","props","onTabChange","tab","selectedScreen","state","screens","find","screen","eventKey","dataState","preliminaryHistoryDataState","releaseyHistoryDataState","regenerateHistoryDataState","releaseHistoryTabDataState","dataResult","data","setState","preliminaryHistoryDataStateChange","event","releaseHistoryDataStateChange","regenerateHistoryDataStateChange","releaseHistoryTabDataStateChange","skip","take","settings","parseInt","push","name","formcode","RELEASE","RESULTENTRY","APPROVAL","extractedColumnList","map","intl","formatMessage","id","controlMap","userRoleControlRights","viewDownloadFile","Component"],"mappings":"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","sourcesContent":["import { LocalizationProvider } from '@progress/kendo-react-intl';\r\nimport React from 'react'\r\nimport { injectIntl } from 'react-intl'\r\nimport 'rc-tabs/assets/index.css';\r\nimport { AtTabs } from '../../components/custom-tabs/custom-tabs.styles';\r\n\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport Tabs, { TabPane } from \"rc-tabs\";\r\nimport { AtTableWrap } from '../../components/data-grid/data-grid.styles';\r\nimport { formCode } from '../../components/Enumeration';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { process } from '@progress/kendo-data-query';\r\n\r\nclass ReleaseReportHistory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const preliminaryHistoryDataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n        const releaseyHistoryDataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n        const regenerateHistoryDataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n        const releaseHistoryTabDataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n\r\n        const screens = [];\r\n\r\n        screens.push({ eventKey: 'ReleaseHistoryTab', name: \"IDS_RELEASEHISTORY\", formcode: formCode.RELEASE },\r\n            { eventKey: 'PreliminaryReportHistory', name: \"IDS_PRELIMINARYREPORTHISTORY\", formcode: formCode.RESULTENTRY },\r\n            { eventKey: 'ReleaseReportHistory', name: \"IDS_RELEASEREPORTHISTORY\", formcode: formCode.APPROVAL },\r\n            { eventKey: 'RegenerateReportHistory', name: \"IDS_REGENERATEREPORTHISTORY\", formcode: formCode.RELEASE }\r\n        );\r\n\r\n        this.state = {\r\n            screens,\r\n            preliminaryHistoryDataState: preliminaryHistoryDataState,\r\n            releaseyHistoryDataState: releaseyHistoryDataState,\r\n            regenerateHistoryDataState: regenerateHistoryDataState,\r\n            releaseHistoryTabDataState: releaseHistoryTabDataState,\r\n            selectedScreen: { eventKey: 'ReleaseHistoryTab', name: \"IDS_RELEASEHISTORY\", formcode: 43 },\r\n            dataResult: process(this.props.dataResult[\"ReleaseHistoryTab\"] || [], preliminaryHistoryDataState),\r\n            data: this.props.dataResult[\"ReleaseHistoryTab\"]\r\n        }\r\n    }\r\n    onTabChange = (tab) => {\r\n        let selectedScreen = this.state.screens.find(screen => screen.eventKey === tab);\r\n        let dataState = selectedScreen.eventKey === \"PreliminaryReportHistory\" ? this.state.preliminaryHistoryDataState :\r\n            selectedScreen.eventKey === \"ReleaseReportHistory\" ? this.state.releaseyHistoryDataState :\r\n                selectedScreen.eventKey === \"RegenerateReportHistory\" ? this.state.regenerateHistoryDataState : this.state.releaseHistoryTabDataState;\r\n        let dataResult = process(this.props.dataResult[selectedScreen.eventKey] || [], dataState);\r\n        let data = this.props.dataResult[selectedScreen.eventKey] || [];\r\n        this.setState({\r\n            selectedScreen,\r\n            dataResult,\r\n            data\r\n        });\r\n    }\r\n    preliminaryHistoryDataStateChange = (event) => {\r\n        this.setState({\r\n            preliminaryHistoryDataState: event.dataState,\r\n            dataResult: process(this.state.data ? this.state.data : [], event.dataState)\r\n        })\r\n        // this.expandNextData(event.dataState);\r\n    }\r\n    releaseHistoryDataStateChange = (event) => {\r\n        this.setState({\r\n            releaseyHistoryDataState: event.dataState,\r\n            dataResult: process(this.state.data ? this.state.data : [], event.dataState)\r\n        })\r\n        // this.expandNextData(event.dataState);\r\n    }\r\n    regenerateHistoryDataStateChange = (event) => {\r\n        this.setState({\r\n            regenerateHistoryDataState: event.dataState,\r\n            dataResult: process(this.state.data ? this.state.data : [], event.dataState)\r\n        })\r\n        // this.expandNextData(event.dataState);\r\n    }\r\n    releaseHistoryTabDataStateChange = (event) => {\r\n        this.setState({\r\n            releaseHistoryTabDataState: event.dataState,\r\n            dataResult: process(this.state.data ? this.state.data : [], event.dataState)\r\n        })\r\n        // this.expandNextData(event.dataState);\r\n    }\r\n    render() {\r\n        const extractedColumnList = [];\r\n        if (this.state && this.state.selectedScreen &&\r\n            (this.state.selectedScreen.eventKey === \"ReleaseReportHistory\" || this.state.selectedScreen.eventKey === \"RegenerateReportHistory\")) {\r\n            extractedColumnList.push(\r\n                { \"idsName\": \"IDS_REPORTREFERENCENO\", \"dataField\": \"sreportno\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_VERSION\", \"dataField\": \"nversionno\", \"width\": \"75px\" },\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_GENERATEDDATETIME\", \"dataField\": \"sgenerateddate\", \"width\": \"155px\" }\r\n            );\r\n        }\r\n        else if (this.state.selectedScreen.eventKey === \"ReleaseHistoryTab\") {\r\n            extractedColumnList.push(\r\n                { \"idsName\": \"IDS_REPORTREFERENCENO\", \"dataField\": \"sreportno\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_VERSION\", \"dataField\": \"nversionno\", \"width\": \"75px\" },\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_TRANSACTIONSTATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_GENERATEDDATETIME\", \"dataField\": \"sgenerateddate\", \"width\": \"155px\" }\r\n            );\r\n        }\r\n        else {\r\n            extractedColumnList.push(\r\n                { \"idsName\": \"IDS_PRELIMINARYREFERENCENO\", \"dataField\": \"ncoaparentcode\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"155px\" },\r\n                { \"idsName\": \"IDS_GENERATEDDATETIME\", \"dataField\": \"sgenerateddate\", \"width\": \"155px\" }\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    <AtTabs>\r\n                        <Tabs activeKey={this.state.selectedScreen.eventKey} moreIcon=\"...\" onChange={this.onTabChange}>\r\n                            {this.state.screens.map(screen =>\r\n                                <TabPane name={screen.eventKey} tab={this.props.intl.formatMessage({ id: screen.name })} key={screen.eventKey}>\r\n                                    <PerfectScrollbar>\r\n                                        {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n                                        <AtTableWrap className=\"at-list-table\">\r\n                                            <LocalizationProvider language=\"lang\">\r\n                                                <>\r\n                                                    <DataGrid\r\n                                                        key=\"ncoaparentcode\"\r\n                                                        primaryKeyField=\"ncoaparentcode\"\r\n                                                        data={this.props.dataResult[this.state.selectedScreen.eventKey] || []}\r\n                                                        // dataResult={process(this.props.dataResult[this.state.selectedScreen.eventKey], this.state.preliminaryHistoryDataState)}\r\n                                                        dataResult={this.state.dataResult}\r\n                                                        dataState={this.state && this.state.selectedScreen &&\r\n                                                            this.state.selectedScreen.eventKey === \"PreliminaryReportHistory\" ? this.state.preliminaryHistoryDataState :\r\n                                                            this.state && this.state.selectedScreen &&\r\n                                                                this.state.selectedScreen.eventKey === \"ReleaseReportHistory\" ? this.state.releaseyHistoryDataState :\r\n                                                                this.state.selectedScreen.eventKey === \"RegenerateReportHistory\" ? this.state.regenerateHistoryDataState : this.state.releaseHistoryTabDataState\r\n                                                        }\r\n                                                        //expandField=\"expanded\"\r\n                                                        isExportExcelRequired={false}\r\n                                                        dataStateChange={this.state && this.state.selectedScreen &&\r\n                                                            this.state.selectedScreen.eventKey === \"PreliminaryReportHistory\" ? this.preliminaryHistoryDataStateChange :\r\n                                                            this.state && this.state.selectedScreen &&\r\n                                                                this.state.selectedScreen.eventKey === \"ReleaseReportHistory\" ? this.releaseHistoryDataStateChange :\r\n                                                                this.state.selectedScreen.eventKey === \"RegenerateReportHistory\" ? this.regenerateHistoryDataStateChange :\r\n                                                                    this.releaseHistoryTabDataStateChange}\r\n                                                        extractedColumnList={extractedColumnList}\r\n                                                        controlMap={this.props.controlMap}\r\n                                                        userRoleControlRights={this.props.userRoleControlRights}\r\n                                                        // detailedFieldList={this.props.detailedFieldList}\r\n                                                        // //editParam={editReportParam}\r\n                                                        // selectedId={this.props.Login.selectedId}\r\n                                                        // fetchRecord={this.props.fetchReportInfoReleaseById}\r\n                                                        pageable={true}\r\n                                                        // dataStateChange={this.dataStateChange}\r\n                                                        scrollable={'scrollable'}\r\n                                                        gridHeight={'600px'}\r\n                                                        isActionRequired={this.state && (this.state.selectedScreen.eventKey === \"RegenerateReportHistory\" || this.state.selectedScreen.eventKey === \"ReleaseHistoryTab\") ? false : true}\r\n                                                        methodUrl={'ReleaseVersion'}\r\n                                                        isDownload={this.state && (this.state.selectedScreen.eventKey === \"RegenerateReportHistory\" || this.state.selectedScreen.eventKey === \"ReleaseHistoryTab\") ? false : true}\r\n                                                        viewDownloadFile={this.props.viewDownloadFile}\r\n                                                    // actionIcons={[{\r\n                                                    //     title: this.props.intl.formatMessage({ id: \"IDS_PREVIOUSRESULTVIEW\" }),\r\n                                                    //     controlname: \"faEye\",\r\n                                                    //     objectName: \"ExceptionLogs\",\r\n                                                    //     hidden: -1 === -1,\r\n                                                    //    onClick: (viewSample) => this.props.viewSample(viewSample)\r\n                                                    // }]}\r\n                                                    >\r\n                                                    </DataGrid>\r\n\r\n                                                </>\r\n                                            </LocalizationProvider>\r\n                                        </AtTableWrap>\r\n                                        {/* <ReactTooltip /> */}\r\n                                    </PerfectScrollbar>\r\n                                </TabPane>\r\n                            )}\r\n                        </Tabs>\r\n                    </AtTabs>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default injectIntl(ReleaseReportHistory)"]},"metadata":{},"sourceType":"module"}