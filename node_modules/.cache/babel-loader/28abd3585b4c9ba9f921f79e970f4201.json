{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{ListWrapper}from'../components/client-group.styles';import{Row,Col}from'react-bootstrap';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import{intl}from'../components/App';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{callService,crudMaster,updateStore,validateEsignCredential,getSubSampleBySample,getReleaseSelectedSamples,filterColumnData,getReleaseSelectedSampleSubSampleTest,getReleaseSelectedSubSamples,getTestBySample,getReleaseSelectedTest,xmlExportAction,getReleaseRegistrationType,getReleaseRegistrationSubType,getReleaseFilterStatus,getReleaseApprovalVersion,getReleaseFilterBasedTest,getReleaseSample,getCOAReportType,generateReport}from'../actions';import Esign from'../pages/audittrail/Esign';import{DEFAULT_RETURN}from'../actions/LoginTypes';import{showEsign,getControlMap,convertDateValuetoString,rearrangeDateFormat,constructOptionList,searchData,searchJsonData}from'../components/CommonScript';import{designProperties,transactionStatus}from'../components/Enumeration';import DataGridWithMultipleGrid from'../components/data-grid/DataGridWithMultipleGrid';import BreadcrumbComponentToolbar from'../components/ToolbarBreadcrumb.Component';import{getSelectedState}from\"@progress/kendo-react-grid\";import COAReleaseFilter from'./coarelease/COAReleaseFilter';import TrainingUpdateChildTab from'./competencemanagement/trainingupdate/TrainingUpdateChildTab';import{Affix}from'rsuite';import ModalShow from'../components/ModalShow';import AddRelease from'./coarelease/AddRelease';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var COARelease=/*#__PURE__*/function(_React$Component){_inherits(COARelease,_React$Component);var _super=_createSuper(COARelease);function COARelease(props){var _this;_classCallCheck(this,COARelease);_this=_super.call(this,props);_this.handleExpandChange=function(row,dataState){var viewParam={nsitecode:-1,userInfo:_this.props.Login.userInfo,primaryKeyField:\"npreregno\",masterData:_this.props.Login.masterData};_this.props.getSubSampleBySample(_objectSpread(_objectSpread({},viewParam),{},{dataState:dataState,primaryKeyValue:row[\"dataItem\"][viewParam.primaryKeyField],viewRow:row[\"dataItem\"]}));};_this.handleExpandChange=function(row,dataState){var viewParam={nsitecode:-1,userInfo:_this.props.Login.userInfo,primaryKeyField:\"npreregno\",masterData:_this.props.Login.masterData};_this.props.getSubSampleBySample(_objectSpread(_objectSpread({},viewParam),{},{dataState:dataState,primaryKeyValue:row[\"dataItem\"][viewParam.primaryKeyField],viewRow:row[\"dataItem\"]}));};_this.childHandleExpandChange=function(row,dataState){var viewParam={nsitecode:-1,userInfo:_this.props.Login.userInfo,primaryKeyField:\"npreregno\",masterData:_this.props.Login.masterData};_this.props.getTestBySample(_objectSpread(_objectSpread({},viewParam),{},{dataState:dataState,primaryKeyValue:row[\"dataItem\"][viewParam.primaryKeyField],viewRow:row[\"dataItem\"]}));};_this.dataStateChange=function(event){_this.setState({dataState:event.dataState,dataResult:process(_this.state.data,event.dataState)});_this.expandNextData(event.dataState);};_this.handleDateChange=function(dateName,dateValue){if(dateValue===null){dateValue=new Date();}var dfrom=_this.props.Login.masterData.fromDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.fromDate):new Date();var dto=_this.props.Login.masterData.toDate?rearrangeDateFormat(_this.props.Login.userInfo,_this.props.Login.masterData.toDate):new Date();var obj={};if(dateName==='fromDate'){obj=convertDateValuetoString(dateValue,dto,_this.props.Login.userInfo);dfrom=obj.fromDate;dto=obj.toDate;}else{obj=convertDateValuetoString(dfrom,dateValue,_this.props.Login.userInfo);dfrom=obj.fromDate;dto=obj.toDate;}var inputParam={inputData:{nflag:2,nregtypecode:_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,dfrom:String(dfrom),dto:String(dto),userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData};_this.props.getReleaseApprovalVersion(inputParam);};_this.onFilterComboChange=function(comboData,fieldName){if(comboData){var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var inputParamData={};if(fieldName==='nsampletypecode'){if(comboData.value!==_this.props.Login.masterData.SampleTypeValue.nsampletypecode){inputParamData={nflag:2,dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,SampleTypeValue:comboData.item};_this.props.getReleaseRegistrationType(inputParamData);}}else if(fieldName==='nregtypecode'){if(comboData.value!==_this.props.Login.masterData.RegTypeValue.nregtypecode){inputParamData={nflag:3,dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,RegTypeValue:comboData.item};_this.props.getReleaseRegistrationSubType(inputParamData);}}else if(fieldName==='nregsubtypecode'){if(comboData.value!==_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode){var inputData={nflag:4,dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo,nsectioncode:_this.props.Login.masterData.UserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(item){return item.nsectioncode;}).join(\",\"):_this.props.Login.masterData.UserSectionValue.nsectioncode};inputParamData={inputData:inputData,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{RegSubTypeValue:comboData.item})};_this.props.getReleaseApprovalVersion(inputParamData);}}else if(fieldName==='ndesigntemplatemappingcode'){var _inputParamData={dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,napprovalversioncode:_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,userinfo:_this.props.Login.userInfo,masterData:_objectSpread({},_this.props.Login.masterData),RegSubTypeValue:_this.props.Login.masterData.RegSubTypeValue,ntransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus,stransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===0?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.FilterStatusValue.ntransactionstatus,nsectioncode:_this.props.Login.masterData.UserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(item){return item.nsectioncode;}).join(\",\"):_this.props.Login.masterData.UserSectionValue.nsectioncode,ndesigntemplatemappingcode:comboData.value,DesignTemplateMappingValue:comboData.item};_this.props.getReleaseFilterBasedTest(_inputParamData);}else if(fieldName==='napproveconfversioncode'){if(comboData.value!==_this.props.Login.masterData.ApprovalVersionValue.napproveconfversioncode){inputParamData={nflag:4,dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,napprovalversioncode:comboData.value,userinfo:_this.props.Login.userInfo,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{ApprovalVersionValue:comboData.item}),RegSubTypeValue:_this.props.Login.masterData.RegSubTypeValue,nsectioncode:_this.props.Login.masterData.UserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(item){return item.nsectioncode;}).join(\",\"):_this.props.Login.masterData.UserSectionValue.nsectioncode,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode?_this.props.Login.masterData.ndesigntemplatemappingcode:-1};_this.props.getReleaseFilterStatus(inputParamData);}}else if(fieldName==='nsectioncode'){if(comboData.value!==_this.props.Login.masterData.UserSectionValue.nsectioncode){// let masterData = { ...this.props.Login.masterData, UserSectionValue: comboData.item }\ninputParamData={dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,napprovalversioncode:_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,userinfo:_this.props.Login.userInfo,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{UserSectionValue:comboData.item}),RegSubTypeValue:_this.props.Login.masterData.RegSubTypeValue,ntransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus,nsectioncode:comboData.value===-1?null// this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \n:comboData.value,stransactionstatus:_this.props.Login.masterData.FilterStatusValue.ntransactionstatus===0?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):_this.props.Login.masterData.FilterStatusValue.ntransactionstatus,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode?_this.props.Login.masterData.ndesigntemplatemappingcode:-1,DesignTemplateMappingValue:_this.props.Login.masterData.DesignTemplateMappingValue&&_this.props.Login.masterData.DesignTemplateMappingValue};_this.props.getReleaseFilterBasedTest(inputParamData);}}else if(fieldName==='njobstatuscode'){if(comboData.value!==_this.props.Login.masterData.JobStatusValue.njobstatuscode){var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{JobStatusValue:comboData.item});var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);}}else if(fieldName==='ntestcode'){if(comboData.value!==_this.props.Login.masterData.TestValue.ntestcode){var _masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{TestValue:comboData.item});var _updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_masterData}};_this.props.updateStore(_updateInfo);}}else{if(comboData.value!==_this.props.Login.masterData.FilterStatusValue.ntransactionstatus){//  let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\n//  const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//    data: { masterData }\n// }\ninputParamData={dfrom:obj.fromDate,dto:obj.toDate,nsampletypecode:_this.props.Login.masterData.SampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.RegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,napprovalversioncode:_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,userinfo:_this.props.Login.userInfo,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{FilterStatusValue:comboData.item}),RegSubTypeValue:_this.props.Login.masterData.RegSubTypeValue,ntransactionstatus:comboData.value,stransactionstatus:comboData.value===0?_this.props.Login.masterData.FilterStatus.map(function(item){return item.ntransactionstatus;}).join(\",\"):comboData.value,nsectioncode:null//this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? \n//this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \n//: this.props.Login.masterData.UserSectionValue.nsectioncode,\n,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode?_this.props.Login.masterData.ndesigntemplatemappingcode:-1,DesignTemplateMappingValue:_this.props.Login.masterData.DesignTemplateMappingValue&&_this.props.Login.masterData.DesignTemplateMappingValue};_this.props.getReleaseFilterBasedTest(inputParamData);}}}};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";delete _this.props.Login.masterData[\"searchedData1\"];delete _this.props.Login.masterData[\"searchedData2\"];delete _this.props.Login.masterData[\"searchedData3\"];_this.props.Login.change=false;var obj=convertDateValuetoString(_this.props.Login.masterData.fromDate,_this.props.Login.masterData.toDate,_this.props.Login.userInfo);var realFromDate=obj.fromDate;var realToDate=obj.toDate;var realSampleTypeValue=_this.props.Login.masterData.SampleTypeValue&&_this.props.Login.masterData.SampleTypeValue;var realRegTypeValue=_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue;var realRegSubTypeValue=_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue;var realFilterStatusValue=_this.props.Login.masterData.FilterStatusValue&&_this.props.Login.masterData.FilterStatusValue;var realApprovalVersionValue=_this.props.Login.masterData.ApprovalVersionValue&&_this.props.Login.masterData.ApprovalVersionValue;var realUserSectionValue=_this.props.Login.masterData.UserSectionValue&&_this.props.Login.masterData.UserSectionValue;var realTestValue=_this.props.Login.masterData.TestValue&&_this.props.Login.masterData.TestValue;var realDesignTemplateMappingValue=_this.props.Login.masterData.DesignTemplateMappingValue&&_this.props.Login.masterData.DesignTemplateMappingValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,realSampleTypeValue:realSampleTypeValue,realRegTypeValue:realRegTypeValue,realRegSubTypeValue:realRegSubTypeValue,realFilterStatusValue:realFilterStatusValue,realApprovalVersionValue:realApprovalVersionValue,realUserSectionValue:realUserSectionValue,realTestValue:realTestValue,realDesignTemplateMappingValue:realDesignTemplateMappingValue});var inputData={npreregno:\"0\",nsampletypecode:_this.props.Login.masterData.SampleTypeValue&&_this.props.Login.masterData.SampleTypeValue.nsampletypecode||-1,nregtypecode:parseInt(_this.props.Login.masterData.RegTypeValue&&_this.props.Login.masterData.RegTypeValue.nregtypecode)||-1,nregsubtypecode:parseInt(_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nregsubtypecode)||-1,ntransactionstatus:_this.props.Login.masterData.FilterStatusValue&&_this.props.Login.masterData.FilterStatusValue.ntransactionstatus!==undefined||_this.props.Login.masterData.FilterStatusValue.ntransactionstatus!=='0'?String(_this.props.Login.masterData.FilterStatusValue.ntransactionstatus):\"-1\",napprovalconfigcode:_this.props.Login.masterData.ApprovalVersionValue?_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigcode||-1:null,napprovalversioncode:_this.props.Login.masterData.ApprovalVersionValue&&_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode?String(_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode):null,nsectioncode:_this.props.Login.masterData.UserSectionValue?_this.props.Login.masterData.UserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(section){return section.nsectioncode;}).join(','):String(_this.props.Login.masterData.UserSectionValue.nsectioncode):null,ntestcode:_this.props.Login.masterData.TestValue?_this.props.Login.masterData.TestValue.ntestcode:-1,nneedsubsample:_this.props.Login.masterData.RegSubTypeValue&&_this.props.Login.masterData.RegSubTypeValue.nneedsubsample||false,nneedtemplatebasedflow:_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow||false,userinfo:_this.props.Login.userInfo,ntype:2,ndesigntemplatemappingcode:(_this.props.Login.masterData.DesignTemplateMappingValue&&_this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode?_this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode:_this.props.Login.masterData.DesignTemplateMappingValue)||-1};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.ntransactionstatus!==\"-1\"&&inputData.napprovalconfigcode!==-1&&inputData.napprovalversioncode!==\"-1\"&&realFilterStatusValue.sfilterstatus!==null&&inputData.ntestcode!==undefined){inputData['dfrom']=obj.fromDate;inputData['dto']=obj.toDate;var inputParam={masterData:masterData,inputData:inputData,searchSampleRef:_this.searchSampleRef,searchSubSampleRef:_this.searchSubSampleRef,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake};_this.props.getReleaseSample(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.searchedGridData=function(filterValue,filterParam){var masterData1=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData1[filterParam.inputListName]&&masterData1[filterParam.inputListName].length>0){primaryKeyValue=masterData1[filterParam.inputListName][0][filterParam.primaryKeyField];// }\n}}else{if(filterParam.isjsondata){searchedData=searchJsonData(filterValue,masterData1[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=_this.searchNestedGridData(filterValue,masterData1[filterParam.inputListName],filterParam.searchFieldList||[],masterData1);}masterData1[\"searchedData3\"]=searchedData.test;masterData1[\"searchedData1\"]=searchedData.sample;masterData1[\"searchedData2\"]=searchedData.subsample;//    masterData1[\"searchedData\"][\"selected\"]=false\n}var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread({},masterData1)}};_this.props.updateStore(updateInfo);};_this.searchNestedGridData=function(filterValue,originalData,fieldList,masterData){var searchedData=[];var ntransactionsamplecode=[];var subdata=[];var detail=[];var npreregno=[];Object.entries(originalData).map(function(item1){item1[1].map(function(item){detail.push(item);});});var temp=detail.filter(function(item){var itemArray=[];fieldList.map(function(itemKey){return item[itemKey]&&item[itemKey]!==null?itemArray.push(typeof item[itemKey]===\"string\"?item[itemKey].toLowerCase():item[itemKey].toString().toLowerCase()):\"\";});return itemArray.findIndex(function(element){return element.includes(filterValue.toLowerCase());})>-1;});temp.map(function(item1){if(!npreregno.includes(item1.npreregno))npreregno.push(item1.npreregno);if(!ntransactionsamplecode.includes(item1.ntransactionsamplecode))ntransactionsamplecode.push(item1.ntransactionsamplecode);});var test=groupBy(temp,'ntransactionsamplecode');var sample=masterData.ReleaseSample.filter(function(item){for(var i=0;i<npreregno.length;i++){if(npreregno[i]===item.npreregno&&npreregno[i]!==undefined){return item;}}});Object.entries(masterData.ReleaseSubSample).map(function(item1){item1[1].map(function(item){subdata.push(item);});});var subsample1=subdata.filter(function(item){for(var i=0;i<ntransactionsamplecode.length;i++){if(ntransactionsamplecode[i]===item.ntransactionsamplecode&&ntransactionsamplecode[i]!==undefined){return item;}}});var subsample=groupBy(subsample1,\"npreregno\");function groupBy(objectArray,property){return objectArray.reduce(function(acc,obj){var key=obj[property];if(!acc[key]){acc[key]=[];}acc[key].push(obj);return acc;},{});}searchedData={test:test,sample:sample,subsample:subsample};return searchedData;};_this.checkFunction=function(data){var updateInfo={typeName:DEFAULT_RETURN,data:{arrayfalse:data.arrayfalse,childfalsearray:data.childfalsearray}};_this.props.updateStore(updateInfo);};_this.checkFunction1=function(){_this.setState({count:1});};_this.expandFunc=function(change){var count=change.count;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread({},_this.props.Login.masterData),change:change.change,checkFlag:\"1\",count:count}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){if(comboData!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.closeModalShow=function(){var loadEsign=_this.props.Login.loadEsign;var modalShow=_this.props.Login.modalShow;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{modalShow=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{modalShow:modalShow,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.viewDownloadFile=function(inputData,row){// this.props.generateReport()\n_this.onSaveModalClick(true,row,'IDS_DOWNLOADFILE');};_this.regnerateFile=function(inputData,row){// this.props.generateReport()\n_this.onSaveModalClick(true,row,'IDS_REGENERATEFILE');};_this.onSaveModalClick=function(nflag,row,action){var ntransactionsamplecode=\"\";var ntransactiontestcode=\"\";var npreregno=\"\";if(nflag===true?true:_this.state.npreregno&&_this.state.npreregno.length>0){var sample=_this.state.npreregno.filter(function(c,index){return _this.state.npreregno.indexOf(c)===index;});var subsample=_this.state.ntransactionsamplecode.filter(function(c,index){return _this.state.ntransactionsamplecode.indexOf(c)===index;});var test=_this.state.ntransactiontestcode.filter(function(c,index){return _this.state.ntransactiontestcode.indexOf(c)===index;});if(nflag===true){npreregno=row.dataItem['npreregno'];}else{npreregno=sample.map(function(x){return x;}).join(\",\");}ntransactionsamplecode=subsample.map(function(x){return x;}).join(\",\");ntransactiontestcode=test.map(function(x){return x;}).join(\",\");var obj=convertDateValuetoString(_this.props.Login.masterData.realFromDate,_this.props.Login.masterData.realToDate,_this.props.Login.userInfo);var ntransCode=_this.props.Login.masterData.FilterStatusValue.ntransactionstatus;if(ntransCode===transactionStatus.ALL){ntransCode=_this.props.Login.masterData.FilterStatus.map(function(status){return status.ntransactionstatus;}).join(\",\");}else{ntransCode=ntransCode;}var inputParam={inputData:{change:_this.props.Login.change,npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode,nsectioncode:_this.props.Login.masterData.UserSectionValue?_this.props.Login.masterData.UserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(section){return section.nsectioncode;}).join(','):String(_this.props.Login.masterData.UserSectionValue.nsectioncode):null,ntestcode:_this.props.Login.masterData.realTestValue&&_this.props.Login.masterData.realTestValue.ntestcode,// nTransStatus: ntransCode,\n// ntransactionstatus: ((this.props.Login.masterData.realFilterStatusValue && this.props.Login.masterData.realFilterStatusValue.ntransactionstatus \n//     !== undefined) || this.props.Login.masterData.realFilterStatusValue.ntransactionstatus !== '0')\n//      ? String(this.props.Login.masterData.realFilterStatusValue.ntransactionstatus) : \"-1\",\nntransactionstatus:String(\"-1\"),nsampletypecode:_this.props.Login.masterData.realSampleTypeValue&&_this.props.Login.masterData.realSampleTypeValue.nsampletypecode,nregtypecode:_this.props.Login.masterData.realRegTypeValue&&_this.props.Login.masterData.realRegTypeValue.nregtypecode,nregsubtypecode:_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode,napprovalversioncode:_this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,nneedsubsample:_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nneedsubsample||false,nneedtemplatebasedflow:_this.props.Login.masterData.realRegSubTypeValue&&_this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow||false,dfrom:obj.fromDate,dto:obj.toDate,nflag:2,ntype:1,userinfo:_this.props.Login.userInfo,APSelectedSample:_this.props.Login.masterData.APSelectedSample,APSelectedSubSample:_this.props.Login.masterData.APSelectedSubSample,APSelectedTest:_this.props.Login.masterData.APSelectedTest,// retestcount: action.ntransactionstatus === transactionStatus.RETEST ? this.state.selectedRecord ? this.state.selectedRecord.retestcount || 1 : 1 : undefined,\n// ncontrolCode,\ncheckBoxOperation:3,action:action,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode&&_this.props.Login.masterData.ndesigntemplatemappingcode||-1},userinfo:_this.props.Login.userInfo};if(nflag===true){_this.props.generateReport(inputParam.inputData,_this.props.Login.masterData);}else{_this.props.getReleaseSelectedSampleSubSampleTest(_this.props.Login.userInfo,_this.props.Login.masterData,inputParam.inputData);}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\"}));}};_this.reloadData=function(){_this.searchRef.current.value=\"\";delete _this.props.Login.masterData[\"searchedData1\"];delete _this.props.Login.masterData[\"searchedData2\"];delete _this.props.Login.masterData[\"searchedData3\"];// this.props.Login.masterData.ReleaseSample.map(item=>item[\"expanded\"]=false)\n_this.props.Login.change=false;var _this$props$Login$mas=_this.props.Login.masterData,realFromDate=_this$props$Login$mas.realFromDate,realToDate=_this$props$Login$mas.realToDate,realSampleTypeValue=_this$props$Login$mas.realSampleTypeValue,realRegTypeValue=_this$props$Login$mas.realRegTypeValue,realRegSubTypeValue=_this$props$Login$mas.realRegSubTypeValue,realFilterStatusValue=_this$props$Login$mas.realFilterStatusValue,realApprovalVersionValue=_this$props$Login$mas.realApprovalVersionValue,realUserSectionValue=_this$props$Login$mas.realUserSectionValue,realTestValue=_this$props$Login$mas.realTestValue;var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realFromDate:realFromDate,realToDate:realToDate,realSampleTypeValue:realSampleTypeValue,realRegTypeValue:realRegTypeValue,realRegSubTypeValue:realRegSubTypeValue,realFilterStatusValue:realFilterStatusValue,realApprovalVersionValue:realApprovalVersionValue,realUserSectionValue:realUserSectionValue,realTestValue:realTestValue});var inputData={npreregno:\"0\",nneedsubsample:realRegSubTypeValue&&realRegSubTypeValue.nneedsubsample||false,nneedtemplatebasedflow:realRegSubTypeValue&&realRegSubTypeValue.nneedtemplatebasedflow||false,nsampletypecode:realSampleTypeValue&&realSampleTypeValue.nsampletypecode||-1,nregtypecode:realRegTypeValue&&realRegTypeValue.nregtypecode||-1,nregsubtypecode:realRegSubTypeValue&&realRegSubTypeValue.nregsubtypecode||-1,ntransactionstatus:realFilterStatusValue&&realFilterStatusValue.ntransactionstatus!==undefined||realFilterStatusValue.ntransactionstatus!=='0'?String(realFilterStatusValue.ntransactionstatus):\"-1\",napprovalconfigcode:realApprovalVersionValue?realApprovalVersionValue.napprovalconfigcode||-1:null,napprovalversioncode:realApprovalVersionValue&&realApprovalVersionValue.napprovalconfigversioncode?String(realApprovalVersionValue.napprovalconfigversioncode):null,nsectioncode:realUserSectionValue?realUserSectionValue.nsectioncode===-1?_this.props.Login.masterData.UserSection.map(function(section){return section.nsectioncode;}).join(','):String(realUserSectionValue.nsectioncode):null,ntestcode:realTestValue&&realTestValue.ntestcode?realTestValue.ntestcode:-1,userinfo:_this.props.Login.userInfo,activeTestTab:_this.props.Login.activeTestTab||\"\",activeSampleTab:_this.props.Login.activeSampleTab||\"\",activeSubSampleTab:_this.props.Login.activeSubSampleTab||\"\",checkBoxOperation:3,ntype:2,ndesigntemplatemappingcode:_this.props.Login.masterData.ndesigntemplatemappingcode&&_this.props.Login.masterData.ndesigntemplatemappingcode||-1};if(inputData.nsampletypecode!==-1&&inputData.nregtypecode!==-1&&inputData.nregsubtypecode!==-1&&inputData.ntransactionstatus!==\"-1\"&&inputData.napprovalconfigcode!==-1&&inputData.napprovalversioncode!==\"-1\"&&realFilterStatusValue.sfilterstatus!==null){var obj=convertDateValuetoString(realFromDate,realToDate,_this.props.Login.userInfo);inputData['dfrom']=obj.fromDate;inputData['dto']=obj.toDate;var inputParam={masterData:masterData,inputData:inputData,searchSampleRef:_this.searchSampleRef,searchSubSampleRef:_this.searchSubSampleRef,searchTestRef:_this.searchTestRef,skip:_this.state.skip,take:_this.state.take,testskip:_this.state.testskip,testtake:_this.state.testtake,resultDataState:_this.state.resultDataState,instrumentDataState:_this.state.instrumentDataState,materialDataState:_this.state.materialDataState,taskDataState:_this.state.taskDataState,documentDataState:_this.state.documentDataState,resultChangeDataState:_this.state.resultChangeDataState,testCommentDataState:_this.state.testCommentDataState,historyDataState:_this.state.historyDataState,samplePrintHistoryDataState:_this.state.samplePrintHistoryDataState,sampleHistoryDataState:_this.state.sampleHistoryDataState};_this.props.getReleaseSample(inputParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLVALUESINFILTER\"}));}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.selectionChange=function(event,nflag,checkedflag){var checked=event.syntheticEvent.target.checked;if(nflag===undefined){_this.state.dataResult.data.map(function(item){if(item.npreregno===event.dataItem.npreregno){item.selected=checked;}});var preregno=event.dataItem.npreregno;var ncoahistorycode=event.dataItem.ncoahistorycode;var ssystemfilename=event.dataItem.ssystemfilename;var coaFileInfo={typeName:DEFAULT_RETURN,data:{ncoahistorycode:ncoahistorycode,ssystemfilename:ssystemfilename}};_this.props.updateStore(coaFileInfo);_this.childHeaderSelectionChange(event,preregno,checkedflag);}else{var data=[];event.dataItems.map(function(item){data.push({\"npreregno\":item.npreregno});});_this.childHeaderSelectionChange(event,data,checkedflag);}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         data: undefined, dataState: undefined,\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.childHeaderSelectionChange=function(event,preregno,checkedflag){var checked=event.syntheticEvent.target.checked;var subsamplecode=[];var npreregno=preregno===undefined?event.dataItems[0].npreregno:preregno;if(npreregno.length===0||npreregno.length===undefined){_this.props.Login.masterData.ReleaseSubSample[npreregno].map(function(item){item.selected=checked;if(!subsamplecode.includes(item.ntransactionsamplecode)){subsamplecode.push({\"ntransactionsamplecode\":item.ntransactionsamplecode});}});_this.props.Login.masterData.ReleaseSample.map(function(data){if(data.npreregno===npreregno){data.selected=checked;}});_this.subChildHeaderSelectionChange(event,subsamplecode,checkedflag);}else{npreregno.map(function(value){_this.props.Login.masterData.ReleaseSubSample[value.npreregno].map(function(item){item.selected=checked;if(!subsamplecode.includes(item.ntransactionsamplecode)){subsamplecode.push({\"ntransactionsamplecode\":item.ntransactionsamplecode});}});//    this.props.Login.masterData.ReleaseSample.map(data => {\n//        if (data.npreregno === value.npreregno) {\n//         data.selected = checked\n//        }\n//    })\n});_this.subChildHeaderSelectionChange(event,subsamplecode,checkedflag);}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         data: undefined, dataState: undefined,\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.subChildHeaderSelectionChange=function(event,subsamplecode,checkedflag){var checked=event.syntheticEvent.target.checked;var transactionsamplecode=[];if(subsamplecode!==undefined){transactionsamplecode=subsamplecode;transactionsamplecode.map(function(value){return _this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(function(item){item.selected=checked;_this.collectData(item,checkedflag);return item;});});}else{var rFlag=true;event.dataItems.map(function(value){return _this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(function(item){item.selected=checked;_this.collectData(item,checkedflag);return item;});});_this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].map(function(item){if(event.dataItems[0].ntransactionsamplecode===item.ntransactionsamplecode){item.selected=checked;}});var data=_this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].every(function(item){return item.selected===true;});if(data===true){_this.props.Login.masterData.ReleaseSample.map(function(item){if(event.dataItems[0].npreregno===item.npreregno){item.selected=checked;}});}else{_this.props.Login.masterData.ReleaseSample.map(function(item){if(event.dataItems[0].npreregno===item.npreregno){item.selected=false;}});}// let x;\n// let i;\n// for (i = 0; i < this.props.Login.masterData.ReleaseSample.length; i++){\n//     x=i\n//         if (event.dataItems[0].npreregno !== this.props.Login.masterData.ReleaseSample[i].npreregno) {\n//             // item.selected = checked;\n//             rFlag = false;\n//             break;\n//         }\n// }\n// if (rFlag === true) {\n//     this.props.Login.masterData.ReleaseSample[x].selected = checked;\n// }\n}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         data: undefined, dataState: undefined,\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.headerSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;// if(checked===true)\n// {\n_this.state.dataResult.data.map(function(item){item.selected=checked;return item;});//this.setState({headerSelect:checked})  \n_this.selectionChange(event,1,checked);// }else\n// {\n//     this.setState({npreregno:[]})\n// }\n};_this.childSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(function(item){if(item.npreregno===event.dataItem.npreregno&&item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){item.selected=checked;}});var data=_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(function(item){return item.slected===true;});if(data===true){_this.props.Login.masterData.ReleaseSample.map(function(item){if(event.dataItem.npreregno===item.npreregno){item.selected=checked;}});_this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(function(item){if(event.dataItem.ntransactionsamplecode===item.ntransactionsamplecode){item.selected=checked;_this.collectData(item);}});}else{_this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(function(item){if(event.dataItem.ntransactionsamplecode===item.ntransactionsamplecode){item.selected=checked;_this.collectData(item);}});var _data=_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(function(item){return item.selected===true;});if(_data===true){_this.props.Login.masterData.ReleaseSample.map(function(item){if(event.dataItem.npreregno===item.npreregno){item.selected=checked;}});}else{_this.props.Login.masterData.ReleaseSample.map(function(item){if(event.dataItem.npreregno===item.npreregno){item.selected=false;}});}}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         data: undefined, dataState: undefined,\n//     }\n// }\n// this.props.updateStore(updateInfo); \n};_this.subChildSelectionChange=function(event){var x=[];var checked=event.syntheticEvent.target.checked;_this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(function(item){if(item.ntransactiontestcode===event.dataItem.ntransactiontestcode){item.selected=checked;_this.collectData(item);}});_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(function(item){if(item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){if(_this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]){x=_this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode];}}});var y=x.filter(function(t){return t.selected===true;});if(x.length===y.length){_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(function(t,i){if(t.ntransactionsamplecode===y[0].ntransactionsamplecode){_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected=true;}});}else{_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(function(t,i){if(t.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){_this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected=false;}});}_this.state.dataResult.data.map(function(item){if(item.npreregno===event.dataItem.npreregno){if(_this.props.Login.masterData.ReleaseSubSample[item.npreregno]){x=_this.props.Login.masterData.ReleaseSubSample[item.npreregno];}}});var y1=x.filter(function(t){return t.selected===true;});if(x.length===y1.length){_this.state.dataResult.data.map(function(t,i){if(t.npreregno===y1[0].npreregno){_this.state.dataResult.data[i].selected=true;}});}else{_this.state.dataResult.data.map(function(t,i){if(t.npreregno===event.dataItem.npreregno){_this.state.dataResult.data[i].selected=false;}});}};_this.collectData=function(item,checkedflag){var npreregno=_this.state.npreregno||[];var ntransactionsamplecode=_this.state.ntransactionsamplecode||[];var ntransactiontestcode=_this.state.ntransactiontestcode||[];if(item.selected===true){if(!npreregno.includes(item.npreregno)){npreregno.push(item.npreregno);}if(!ntransactionsamplecode.includes(item.ntransactionsamplecode)){ntransactionsamplecode.push(item.ntransactionsamplecode);}if(!ntransactiontestcode.includes(item.ntransactiontestcode)){ntransactiontestcode.push(item.ntransactiontestcode);}}else{var npreregno1=npreregno.filter(function(data){return data!==item.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(data){return data!==item.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(data){return data!==item.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}//      const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         data: undefined, dataState: undefined,\n//         npreregno: npreregno,\n//         ntransactionsamplecode:ntransactionsamplecode,\n//         ntransactiontestcode:ntransactiontestcode\n//     }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({npreregno:checkedflag===false?[]:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode});};_this.formRef=React.createRef();var _dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],childDataResult:[],dataState:_dataState,userRoleControlRights:[],controlMap:new Map(),SampletypeList:[],RegistrationTypeList:[],RegistrationSubTypeList:[],FilterStatusList:[],sampleSearchField:[],subsampleSearchField:[],testSearchField:[],searchedData:[],count:0,SampleGridItem:[],combinedSearchField:[],npreregno:[],ntransactiontestcode:[],ntransactionsamplecode:[]};_this.searchRef=React.createRef();_this.extractedColumnList=[{\"idsName\":\"IDS_ARNO\",\"dataField\":\"sarno\",\"width\":\"200px\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"Specimen Type\",\"width\":\"200px\"},{\"idsName\":\"IDS_PRODUCTCATEGORY\",\"dataField\":\"Specimen Category\",\"width\":\"200px\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"200px\"}];_this.sampleColumnList=[{\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLENAME\",\"dataField\":\"Sample Name\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.testColumnList=[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestname\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return _this;}_createClass(COARelease,[{key:\"expandNextData\",value:function expandNextData(y){var change=[];var x=process(this.props.Login.masterData.searchedData1&&this.props.Login.masterData.searchedData1||this.props.Login.masterData.ReleaseSample&&this.props.Login.masterData.ReleaseSample||[],y);var data=x.data.every(function(item){return item.expanded===true;});if(data===true){change=true;}else{change=false;}this.expandFunc({change:change});}},{key:\"gridfillingColumn\",value:function gridfillingColumn(data){var _this2=this;//  const tempArray = [];\nvar temparray=data&&data.map(function(option){return{\"idsName\":option[designProperties.LABEL][_this2.props.Login.userInfo.slanguagetypecode],\"dataField\":option[designProperties.VALUE],\"width\":\"200px\",\"columnSize\":\"3\"};});return temparray;}},{key:\"render\",value:function render(){var obj=convertDateValuetoString(this.props.Login.masterData.realFromDate,this.props.Login.masterData.realToDate,this.props.Login.userInfo);var filterTestParam={inputListName:\"ReleaseTest\",//  selectedObject: \"APSelectedTest\",\nprimaryKeyField:\"ntransactiontestcode\",//    fetchUrl: this.getActiveTestURL(),\n// fecthInputObject: {\n//     ntransactiontestcode: this.props.Login.masterData.APSelectedTest ? this.props.Login.masterData.APSelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"-1\",\n//     userinfo: this.props.Login.userInfo,\n//     checkBoxOperation: 3,\n//     ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\n// },\nisSingleSelect:false,masterData:this.props.Login.masterData,searchFieldList:this.state.combinedSearchField||[]};var breadCrumbData=[{\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},// {\n//     \"label\": \"IDS_SAMPLETYPE\",\n//     \"value\": this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.ssampletypename ? this.props.Login.masterData.realSampleTypeValue.ssampletypename : \"Product\"\n// },\n{\"label\":\"IDS_REGTYPE\",\"value\":this.props.Login.masterData.realRegTypeValue?this.props.Login.masterData.realRegTypeValue.sregtypename||\"NA\":this.props.Login.masterData.RegTypeValue?this.props.Login.masterData.RegTypeValue.sregtypename||\"NA\":\"NA\"},{\"label\":\"IDS_REGSUBTYPE\",\"value\":this.props.Login.masterData.realRegSubTypeValue?this.props.Login.masterData.realRegSubTypeValue.sregsubtypename||\"NA\":this.props.Login.masterData.RegSubTypeValue?this.props.Login.masterData.RegSubTypeValue.sregsubtypename:\"NA\"},// {\n//     \"label\": \"IDS_DESIGNTEMPLATE\",\n//     \"value\": this.props.Login.masterData.realDesignTemplateMappingValue ?\n//         this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" :\n//         this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_CONFIGVERSION\",\n//     \"value\": this.props.Login.masterData.realApprovalVersionValue ?\n//         this.props.Login.masterData.realApprovalVersionValue.sversionname || \"NA\" :\n//         this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.sversionname || \"NA\" : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_SECTION\",\n//     \"value\": this.props.Login.masterData.realUserSectionValue ?\n//         this.props.Login.masterData.realUserSectionValue.ssectionname || \"NA\" :\n//         this.props.Login.masterData.UserSectionValue ?\n//             this.props.Login.masterData.UserSectionValue.ssectionname || \"NA\" : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_Test\",\n//     \"value\": this.props.Login.masterData.realTestValue ?\n//         this.props.Login.masterData.realTestValue.stestsynonym || \"NA\" :\n//         this.props.Login.masterData.TestValue ?\n//             this.props.Login.masterData.TestValue.stestsynonym || \"NA\" : \"NA\"\n// },\n{\"label\":\"IDS_TESTSTATUS\",\"value\":this.props.Login.masterData.realFilterStatusValue?this.props.Login.masterData.realFilterStatusValue.sfilterstatus||\"NA\":this.props.Login.masterData.FilterStatusValue?this.props.Login.masterData.FilterStatusValue.sfilterstatus||\"NA\":\"NA\"}];var releaseId=this.props.Login.inputParam&&this.state.controlMap.has(\"COARelease\")&&this.state.controlMap.get('COARelease').ncontrolcode;var expandId=this.props.Login.inputParam&&this.state.controlMap.has(\"ReleaseExpand\")&&this.state.controlMap.get('ReleaseExpand').ncontrolcode;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Affix,{top:60},/*#__PURE__*/React.createElement(BreadcrumbComponentToolbar//   showFilter={true}\n,{showSearch:true,breadCrumbItem:breadCrumbData,filterColumnData:this.searchedGridData,filterParam:filterTestParam,selectedMaster:this.props.Login.masterData.RSSelectedSample,searchRef:this.searchRef,filterComponent:[{\"Sample Filter\":/*#__PURE__*/React.createElement(COAReleaseFilter,{SampleType:this.state.SampletypeList||[],SampleTypeValue:this.props.Login.masterData.SampleTypeValue||[],RegType:this.state.RegistrationTypeList||[],RegTypeValue:this.props.Login.masterData.RegTypeValue||[],RegSubType:this.state.RegistrationSubTypeList||[],RegSubTypeValue:this.props.Login.masterData.RegSubTypeValue||[],ApprovalVersion:this.state.ConfigVersionList||[],ApprovalVersionValue:this.props.Login.masterData.ApprovalVersionValue||[],UserSection:this.state.UserSectionList||[],UserSectionValue:this.props.Login.masterData.UserSectionValue||[]// JobStatus={this.props.Login.masterData.JobStatus || []}\n,Test:this.state.TestList||[],TestValue:this.props.Login.masterData.TestValue||[],FilterStatus:this.state.FilterStatusList||[],FilterStatusValue:this.props.Login.masterData.FilterStatusValue||[],fromDate:this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date(),toDate:this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date(),onFilterComboChange:this.onFilterComboChange,handleDateChange:this.handleDateChange// onDesignTemplateChange={this.onDesignTemplateChange}\n// DynamicDesignMapping={this.state.stateDynamicDesign || []}\n// DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\n// DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\n,userInfo:this.props.Login.userInfo})}],onFilterSubmit:this.onFilterSubmit}))),/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\",style:{paddingTop:\"5px\"}},this.state.data?/*#__PURE__*/React.createElement(DataGridWithMultipleGrid,{needSubSample:this.props.Login.masterData.RegSubTypeValue&&this.props.Login.masterData.RegSubTypeValue.nneedsubsample||false,data:this.state.data,dataResult:process(this.props.Login.masterData.searchedData1&&this.props.Login.masterData.searchedData1||this.props.Login.masterData.ReleaseSample&&this.props.Login.masterData.ReleaseSample||[],this.state.dataState),dataState:this.state.dataState,dataStateChange:this.dataStateChange,expandNextData:this.expandNextData,checkFunction:this.checkFunction,checkFunction1:this.checkFunction1,expandFunc:this.expandFunc//expandData={this.expandData}\n,childDataResult:this.state.childDataResult,subChildDataResult:this.state.subChildDataResult,extractedColumnList:this.gridfillingColumn(this.state.DynamicGridItem)||[],subChildColumnList:this.gridfillingColumn(this.state.DynamicTestGridItem)||[],expandField:\"expanded\",handleExpandChange:this.handleExpandChange,childHandleExpandChange:this.childHandleExpandChange,reloadData:this.reloadData,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,pageable:true,scrollable:'scrollable',gridHeight:'600px',gridTop:'10px',isActionRequired:true,isToolBarRequired:true,isExpandRequired:true//  isDownloadRequired={true}\n,isCollapseRequired:true,selectedId:this.props.Login.selectedId,hasChild:true,hasSubChild:true,childList:this.props.Login.masterData.searchedData2||this.props.Login.masterData.ReleaseSubSample,childColumnList:this.gridfillingColumn(this.state.DynamicSubSampleGridItem)||[],childMappingField:\"npreregno\",subChildMappingField:\"ntransactionsamplecode\"// subChildMappingField={this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample ? \"ntransactionsamplecode\" : \"npreregno\"}\n,subChildList:this.props.Login.masterData.searchedData3||this.props.Login.masterData.ReleaseTest,selectedsubcild:this.props.Login.selectedsubcild,methodUrl:\"Release\",headerSelectionChange:this.headerSelectionChange,childHeaderSelectionChange:this.childHeaderSelectionChange,childSelectAll:this.props.Login.childSelectAll,childSelectionChange:this.childSelectionChange,subChildSelectionChange:this.subChildSelectionChange,subChildHeaderSelectionChange:this.subChildHeaderSelectionChange,subChildSelectAll:this.props.Login.subChildSelectAll,selectionChange:this.selectionChange,selectAll:this.props.Login.selectAll,releaseRecord://this.props.getCOAReportType\nthis.onSaveModalClick,viewDownloadFile:this.viewDownloadFile,regnerateFile:this.regnerateFile}):\"\"),this.props.Login.modalShow?/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.props.Login.modalShow,closeModal:this.closeModalShow,onSaveClick:this.onSaveModalClick,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus//  mandatoryFields={mandatoryFields}\n,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},modalTitle:this.props.Login.modalTitle,modalBody:/*#__PURE__*/React.createElement(AddRelease,{selectedRecord:this.props.Login.selectedRecord||{},ReportTypeList:this.props.Login.ReportTypeList,onInputOnChange:this.onInputOnChange// handleDateChange={this.handleDateChange}\n,onComboChange:this.onComboChange,userInfo:this.props.Login.userInfo,esign:this.props.Login.loadEsign//currentTime={this.props.Login.currentTime}\n})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,sampleListColumns=_this$state.sampleListColumns,subSampleListColumns=_this$state.subSampleListColumns,testListColumns=_this$state.testListColumns,SingleItem=_this$state.SingleItem,sampleListMainField=_this$state.sampleListMainField,subSampleListMainField=_this$state.subSampleListMainField,testListMainField=_this$state.testListMainField,SampleGridItem=_this$state.SampleGridItem,SampleGridExpandableItem=_this$state.SampleGridExpandableItem,testMoreField=_this$state.testMoreField,resultDataState=_this$state.resultDataState,instrumentDataState=_this$state.instrumentDataState,materialDataState=_this$state.materialDataState,taskDataState=_this$state.taskDataState,documentDataState=_this$state.documentDataState,resultChangeDataState=_this$state.resultChangeDataState,historyDataState=_this$state.historyDataState,testCommentDataState=_this$state.testCommentDataState,samplePrintHistoryDataState=_this$state.samplePrintHistoryDataState,sampleHistoryDataState=_this$state.sampleHistoryDataState,selectedRecord=_this$state.selectedRecord,SampletypeList=_this$state.SampletypeList,RegistrationTypeList=_this$state.RegistrationTypeList,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,FilterStatusList=_this$state.FilterStatusList,ConfigVersionList=_this$state.ConfigVersionList,UserSectionList=_this$state.UserSectionList,TestList=_this$state.TestList,skip=_this$state.skip,take=_this$state.take,testskip=_this$state.testskip,testtake=_this$state.testtake,selectedFilter=_this$state.selectedFilter,DynamicSampleColumns=_this$state.DynamicSampleColumns,DynamicSubSampleColumns=_this$state.DynamicSubSampleColumns,DynamicTestColumns=_this$state.DynamicTestColumns,DynamicGridItem=_this$state.DynamicGridItem,DynamicTestGridItem=_this$state.DynamicTestGridItem,DynamicSubSampleGridItem=_this$state.DynamicSubSampleGridItem,DynamicGridMoreField=_this$state.DynamicGridMoreField,stateDynamicDesign=_this$state.stateDynamicDesign,sampleSearchField=_this$state.sampleSearchField,subsampleSearchField=_this$state.subsampleSearchField,testSearchField=_this$state.testSearchField,combinedSearchField=_this$state.combinedSearchField,checkedflag=_this$state.checkedflag,npreregno=_this$state.npreregno;var bool=false;if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);bool=true;}if(this.props.Login.masterData.RegSubTypeValue!==previousProps.Login.masterData.RegSubTypeValue){if(this.props.Login.masterData.RegSubTypeValue&&this.props.Login.masterData.RegSubTypeValue.nsubsampleneed===transactionStatus.NO){var dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5//, group: [{ field: `${this.props.Login.masterData.RegSubTypeValue.nsubsampleneed ? 'ssamplearno' : 'sarno'}` }] \n};resultDataState=dataState;instrumentDataState=dataState;materialDataState=dataState;taskDataState=dataState;documentDataState=dataState;resultChangeDataState=dataState;historyDataState=dataState;testCommentDataState=dataState;bool=true;}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;bool=true;}if(this.props.Login.checkedflag!==previousProps.Login.checkedflag){checkedflag=this.props.Login.checkedflag;bool=true;}if(this.props.Login.npreregno!==previousProps.Login.npreregno){npreregno=this.props.Login.npreregno;bool=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){var SampletypeListMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",'ascending','nsampletypecode',false);var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.RegType||[],\"nregtypecode\",\"sregtypename\",\"nsorter\",'ascending','nregtypecode',false);var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.RegSubType||[],\"nregsubtypecode\",\"sregsubtypename\",\"nsorter\",'ascending','nregsubtypecode',false);var FilterStatusListMap=constructOptionList(this.props.Login.masterData.FilterStatus||[],\"ntransactionstatus\",\"sfilterstatus\",undefined,undefined,true);var ConfigVersionListMap=constructOptionList(this.props.Login.masterData.ApprovalVersion||[],\"napprovalconfigversioncode\",\"sversionname\",'descending','ntransactionstatus',false);var UserSectionListMap=constructOptionList(this.props.Login.masterData.UserSection||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,true);var TestListMap=constructOptionList(this.props.Login.masterData.Test||[],\"ntestcode\",\"stestsynonym\",undefined,undefined,true);SampletypeList=SampletypeListMap.get(\"OptionList\");RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");FilterStatusList=FilterStatusListMap.get(\"OptionList\");ConfigVersionList=ConfigVersionListMap.get(\"OptionList\");UserSectionList=UserSectionListMap.get(\"OptionList\");TestList=TestListMap.get(\"OptionList\");bool=true;skip=this.props.Login.skip===undefined?skip:this.props.Login.skip;take=this.props.Login.take||take;testskip=this.props.Login.testskip===undefined?testskip:this.props.Login.testskip;testtake=this.props.Login.testtake||testtake;var selectFilterStatus={ntransactionstatus:transactionStatus.PARTIAL,sfilterstatus:this.props.intl.formatMessage({id:\"IDS_PARTIAL\"}),scolorhexcode:\"#800000\"};var selectedFilters=this.props.Login.masterData.FilterStatus||[];var selectedFiltersNew=JSON.parse(JSON.stringify(selectedFilters));var index=selectedFiltersNew.findIndex(function(item){return item.ntransactionstatus===transactionStatus.PARTIAL;});if(selectedFiltersNew.length>0&&index===-1){selectedFiltersNew.push(selectFilterStatus);}selectedFilter=selectedFiltersNew;if(this.props.Login.resultDataState&&this.props.Login.resultDataState!==previousProps.Login.resultDataState){resultDataState=this.props.Login.resultDataState;}if(this.props.Login.instrumentDataState&&this.props.Login.instrumentDataState!==previousProps.Login.instrumentDataState){instrumentDataState=this.props.Login.instrumentDataState;}if(this.props.Login.taskDataState&&this.props.Login.taskDataState!==previousProps.Login.taskDataState){taskDataState=this.props.Login.taskDataState;}if(this.props.Login.resultChangeDataState&&this.props.Login.resultChangeDataState!==previousProps.Login.resultChangeDataState){resultChangeDataState=this.props.Login.resultChangeDataState;}if(this.props.Login.historyDataState&&this.props.Login.historyDataState!==previousProps.Login.historyDataState){historyDataState=this.props.Login.historyDataState;}if(this.props.Login.testCommentDataState&&this.props.Login.testCommentDataState!==previousProps.Login.testCommentDataState){testCommentDataState=this.props.Login.testCommentDataState;}if(this.props.Login.samplePrintHistoryDataState&&this.props.Login.samplePrintHistoryDataState!==previousProps.Login.samplePrintHistoryDataState){samplePrintHistoryDataState=this.props.Login.samplePrintHistoryDataState;}if(this.props.Login.sampleHistoryDataState&&this.props.Login.sampleHistoryDataState!==previousProps.Login.sampleHistoryDataState){sampleHistoryDataState=this.props.Login.sampleHistoryDataState;}}if(this.props.Login.masterData.DynamicDesign&&this.props.Login.masterData.DynamicDesign!==previousProps.Login.masterData.DynamicDesign){var dynamicColumn=JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value);DynamicSampleColumns=dynamicColumn.samplelistitem?dynamicColumn.samplelistitem:[];DynamicSubSampleColumns=dynamicColumn.subsamplelistitem?dynamicColumn.subsamplelistitem:[];DynamicTestColumns=dynamicColumn.testlistitem?dynamicColumn.testlistitem:[];// DynamicGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\nDynamicGridItem=dynamicColumn.sampledisplayfields?dynamicColumn.sampledisplayfields:[];DynamicTestGridItem=dynamicColumn.testListFields.releasetestfields?dynamicColumn.testListFields.releasetestfields:[];DynamicSubSampleGridItem=dynamicColumn.subsamplelistitem?dynamicColumn.subsamplelistitem:[];DynamicGridMoreField=dynamicColumn.samplegridmoreitem?dynamicColumn.samplegridmoreitem:[];SingleItem=dynamicColumn.sampledisplayfields?dynamicColumn.sampledisplayfields:[];testMoreField=dynamicColumn.testlistmoreitems?dynamicColumn.testlistmoreitems:[];testListColumns=dynamicColumn.testlistitem?dynamicColumn.testlistitem:[];sampleSearchField=dynamicColumn.samplesearchfields?dynamicColumn.samplesearchfields:[];subsampleSearchField=dynamicColumn.subsamplesearchfields?dynamicColumn.subsamplesearchfields:[];testSearchField=dynamicColumn.testsearchfields?dynamicColumn.testsearchfields:[];sampleSearchField.map(function(item){combinedSearchField.push(item);});subsampleSearchField.map(function(item){combinedSearchField.push(item);});testSearchField.map(function(item){combinedSearchField.push(item);});bool=true;var obj=convertDateValuetoString(this.props.Login.masterData.fromDate,this.props.Login.masterData.toDate,this.props.Login.userInfo);selectedRecord['fromDate']=obj.fromDate;selectedRecord['toDate']=obj.toDate;bool=true;}if(this.props.Login.masterData.DesignTemplateMapping!==previousProps.Login.masterData.DesignTemplateMapping){var DesignTemplateMappingMap=constructOptionList(this.props.Login.masterData.DesignTemplateMapping||[],\"ndesigntemplatemappingcode\",\"sregtemplatename\",undefined,undefined,false);stateDynamicDesign=DesignTemplateMappingMap.get(\"OptionList\");}if(bool){bool=false;this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,sampleListColumns:sampleListColumns,subSampleListColumns:subSampleListColumns,testListColumns:testListColumns,SingleItem:SingleItem,sampleListMainField:sampleListMainField,subSampleListMainField:subSampleListMainField,testListMainField:testListMainField,SampleGridItem:SampleGridItem,SampleGridExpandableItem:SampleGridExpandableItem,testMoreField:testMoreField,resultDataState:resultDataState,instrumentDataState:instrumentDataState,materialDataState:materialDataState,taskDataState:taskDataState,documentDataState:documentDataState,resultChangeDataState:resultChangeDataState,historyDataState:historyDataState,testCommentDataState:testCommentDataState,samplePrintHistoryDataState:samplePrintHistoryDataState,sampleHistoryDataState:sampleHistoryDataState,selectedRecord:selectedRecord,SampletypeList:SampletypeList,RegistrationTypeList:RegistrationTypeList,RegistrationSubTypeList:RegistrationSubTypeList,FilterStatusList:FilterStatusList,ConfigVersionList:ConfigVersionList,UserSectionList:UserSectionList,TestList:TestList,skip:skip,take:take,testskip:testskip,testtake:testtake,selectedFilter:selectedFilter,DynamicSampleColumns:DynamicSampleColumns,DynamicSubSampleColumns:DynamicSubSampleColumns,DynamicTestColumns:DynamicTestColumns,DynamicGridItem:DynamicGridItem,DynamicTestGridItem:DynamicTestGridItem,DynamicSubSampleGridItem:DynamicSubSampleGridItem,DynamicGridMoreField:DynamicGridMoreField,stateDynamicDesign:stateDynamicDesign,sampleSearchField:sampleSearchField,subsampleSearchField:subsampleSearchField,testSearchField:testSearchField,combinedSearchField:combinedSearchField,checkedflag:checkedflag,npreregno:npreregno});//     if (this.state.count === 0){\n//         const updateInfo = {\n//             typeName: DEFAULT_RETURN,\n//             data: {\n//                 change: false,\n//             }\n//         }\n//     this.props.updateStore(updateInfo);\n// }\n}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var _this$setState;var _userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return _userRoleControlRights.push(item.ncontrolcode);});}var _controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState((_this$setState={userRoleControlRights:_userRoleControlRights,controlMap:_controlMap,data:this.props.Login.masterData},_defineProperty(_this$setState,\"data\",this.props.Login.data||this.props.Login.masterData.ReleaseSample||[]),_defineProperty(_this$setState,\"dataResult\",process(this.props.Login.data||this.props.Login.masterData.ReleaseSample||[],this.state.dataState)),_this$setState));//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             masterData: process( this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || this.state.dataState),\n//         }\n//     }\n// this.props.updateStore(updateInfo);\n}else{var _dataState2=this.state.dataState;if(this.state.dataState===undefined){_dataState2={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}var releaseData=this.props.Login.data||this.props.Login.masterData.ReleaseSample||[];this.setState({data:this.props.Login.data||this.props.Login.masterData.ReleaseSample||[],dataResult:process(this.props.Login.masterData.ReleaseSample||[],this.props.Login.dataState||_dataState2),//   childDataResult: process(Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.props.Login.dataState || dataState),\n//    subChildDataResult: process(Object.entries(this.props.Login.masterData.ReleaseTest) || [], this.props.Login.dataState || dataState),\ndataState:_dataState2});}}else if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return COARelease;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,getSubSampleBySample:getSubSampleBySample,getReleaseSelectedSamples:getReleaseSelectedSamples,getReleaseSelectedSubSamples:getReleaseSelectedSubSamples,getTestBySample:getTestBySample,getReleaseSelectedTest:getReleaseSelectedTest,getReleaseSelectedSampleSubSampleTest:getReleaseSelectedSampleSubSampleTest,getReleaseRegistrationType:getReleaseRegistrationType,getReleaseRegistrationSubType:getReleaseRegistrationSubType,getReleaseFilterStatus:getReleaseFilterStatus,getReleaseApprovalVersion:getReleaseApprovalVersion,getReleaseFilterBasedTest:getReleaseFilterBasedTest,getReleaseSample:getReleaseSample,getCOAReportType:getCOAReportType,generateReport:generateReport})(injectIntl(COARelease));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/COARelease.jsx"],"names":["React","ListWrapper","Row","Col","toast","process","intl","connect","injectIntl","callService","crudMaster","updateStore","validateEsignCredential","getSubSampleBySample","getReleaseSelectedSamples","filterColumnData","getReleaseSelectedSampleSubSampleTest","getReleaseSelectedSubSamples","getTestBySample","getReleaseSelectedTest","xmlExportAction","getReleaseRegistrationType","getReleaseRegistrationSubType","getReleaseFilterStatus","getReleaseApprovalVersion","getReleaseFilterBasedTest","getReleaseSample","getCOAReportType","generateReport","Esign","DEFAULT_RETURN","showEsign","getControlMap","convertDateValuetoString","rearrangeDateFormat","constructOptionList","searchData","searchJsonData","designProperties","transactionStatus","DataGridWithMultipleGrid","BreadcrumbComponentToolbar","getSelectedState","COAReleaseFilter","TrainingUpdateChildTab","Affix","ModalShow","AddRelease","mapStateToProps","state","Login","COARelease","props","handleExpandChange","row","dataState","viewParam","nsitecode","userInfo","primaryKeyField","masterData","primaryKeyValue","viewRow","childHandleExpandChange","dataStateChange","event","setState","dataResult","data","expandNextData","handleDateChange","dateName","dateValue","Date","dfrom","fromDate","dto","toDate","obj","inputParam","inputData","nflag","nregtypecode","RegTypeValue","nregsubtypecode","RegSubTypeValue","String","userinfo","onFilterComboChange","comboData","fieldName","inputParamData","value","SampleTypeValue","nsampletypecode","item","nsectioncode","UserSectionValue","UserSection","map","join","napprovalversioncode","ApprovalVersionValue","napprovalconfigversioncode","ntransactionstatus","FilterStatusValue","stransactionstatus","FilterStatus","ndesigntemplatemappingcode","DesignTemplateMappingValue","napproveconfversioncode","JobStatusValue","njobstatuscode","updateInfo","typeName","TestValue","ntestcode","onFilterSubmit","searchRef","current","change","realFromDate","realToDate","realSampleTypeValue","realRegTypeValue","realRegSubTypeValue","realFilterStatusValue","realApprovalVersionValue","realUserSectionValue","realTestValue","realDesignTemplateMappingValue","npreregno","parseInt","undefined","napprovalconfigcode","section","nneedsubsample","nneedtemplatebasedflow","ntype","sfilterstatus","searchSampleRef","searchSubSampleRef","searchTestRef","skip","take","testskip","testtake","warn","formatMessage","id","searchedGridData","filterValue","filterParam","masterData1","searchedData","inputListName","length","isjsondata","searchFieldList","searchNestedGridData","test","sample","subsample","originalData","fieldList","ntransactionsamplecode","subdata","detail","Object","entries","item1","push","temp","filter","itemArray","itemKey","toLowerCase","toString","findIndex","element","includes","groupBy","ReleaseSample","i","ReleaseSubSample","subsample1","objectArray","property","reduce","acc","key","checkFunction","arrayfalse","childfalsearray","checkFunction1","count","expandFunc","checkFlag","onComboChange","selectedRecord","closeModalShow","loadEsign","modalShow","selectedId","viewDownloadFile","onSaveModalClick","regnerateFile","action","ntransactiontestcode","c","index","indexOf","dataItem","x","ntransCode","ALL","status","APSelectedSample","APSelectedSubSample","APSelectedTest","checkBoxOperation","info","reloadData","activeTestTab","activeSampleTab","activeSubSampleTab","resultDataState","instrumentDataState","materialDataState","taskDataState","documentDataState","resultChangeDataState","testCommentDataState","historyDataState","samplePrintHistoryDataState","sampleHistoryDataState","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","screenData","selectionChange","checkedflag","checked","syntheticEvent","target","selected","preregno","ncoahistorycode","ssystemfilename","coaFileInfo","childHeaderSelectionChange","dataItems","subsamplecode","subChildHeaderSelectionChange","transactionsamplecode","ReleaseTest","collectData","rFlag","every","headerSelectionChange","childSelectionChange","slected","subChildSelectionChange","y","t","y1","npreregno1","ntransactionsamplecode1","ntransactiontestcode1","formRef","createRef","settings","masterStatus","error","childDataResult","userRoleControlRights","controlMap","Map","SampletypeList","RegistrationTypeList","RegistrationSubTypeList","FilterStatusList","sampleSearchField","subsampleSearchField","testSearchField","SampleGridItem","combinedSearchField","extractedColumnList","sampleColumnList","testColumnList","searchedData1","expanded","temparray","option","LABEL","slanguagetypecode","VALUE","filterTestParam","isSingleSelect","breadCrumbData","breadCrumbFrom","breadCrumbto","sregtypename","sregsubtypename","releaseId","has","get","ncontrolcode","expandId","RSSelectedSample","ConfigVersionList","UserSectionList","TestList","paddingTop","subChildDataResult","gridfillingColumn","DynamicGridItem","DynamicTestGridItem","searchedData2","DynamicSubSampleGridItem","searchedData3","selectedsubcild","childSelectAll","subChildSelectAll","selectAll","modalTitle","ReportTypeList","onInputOnChange","previousProps","sampleListColumns","subSampleListColumns","testListColumns","SingleItem","sampleListMainField","subSampleListMainField","testListMainField","SampleGridExpandableItem","testMoreField","selectedFilter","DynamicSampleColumns","DynamicSubSampleColumns","DynamicTestColumns","DynamicGridMoreField","stateDynamicDesign","bool","nformcode","values","nsubsampleneed","NO","SampletypeListMap","SampleType","RegistrationTypeListMap","RegType","RegistrationSubTypeListMap","RegSubType","FilterStatusListMap","ConfigVersionListMap","ApprovalVersion","UserSectionListMap","TestListMap","Test","selectFilterStatus","PARTIAL","scolorhexcode","selectedFilters","selectedFiltersNew","JSON","parse","stringify","DynamicDesign","dynamicColumn","jsondata","samplelistitem","subsamplelistitem","testlistitem","sampledisplayfields","testListFields","releasetestfields","samplegridmoreitem","testlistmoreitems","samplesearchfields","subsamplesearchfields","testsearchfields","DesignTemplateMapping","DesignTemplateMappingMap","releaseData","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { ListWrapper } from '../components/client-group.styles';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { intl } from '../components/App';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSubSampleBySample, getReleaseSelectedSamples, filterColumnData,\r\n    getReleaseSelectedSampleSubSampleTest, getReleaseSelectedSubSamples, getTestBySample, getReleaseSelectedTest, xmlExportAction,\r\n    getReleaseRegistrationType, getReleaseRegistrationSubType,\r\n    getReleaseFilterStatus, getReleaseApprovalVersion, getReleaseFilterBasedTest, getReleaseSample,getCOAReportType,generateReport\r\n} from '../actions';\r\n\r\n\r\nimport Esign from '../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../actions/LoginTypes';\r\n\r\nimport { showEsign, getControlMap, convertDateValuetoString, rearrangeDateFormat, constructOptionList, searchData, searchJsonData } from '../components/CommonScript';\r\nimport { designProperties, transactionStatus } from '../components/Enumeration';\r\nimport DataGridWithMultipleGrid from '../components/data-grid/DataGridWithMultipleGrid';\r\nimport BreadcrumbComponentToolbar from '../components/ToolbarBreadcrumb.Component';\r\n\r\nimport {\r\n\r\n    getSelectedState\r\n} from \"@progress/kendo-react-grid\";\r\nimport COAReleaseFilter from './coarelease/COAReleaseFilter';\r\nimport TrainingUpdateChildTab from './competencemanagement/trainingupdate/TrainingUpdateChildTab';\r\nimport { Affix } from 'rsuite';\r\nimport ModalShow from '../components/ModalShow';\r\nimport AddRelease from './coarelease/AddRelease';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass COARelease extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            childDataResult: [],\r\n            dataState: dataState,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            SampletypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            FilterStatusList: [],\r\n            sampleSearchField: [],\r\n            subsampleSearchField: [],\r\n            testSearchField: [],\r\n            searchedData: [],\r\n            count: 0,\r\n            SampleGridItem: [],\r\n            combinedSearchField:[],\r\n            npreregno:[],\r\n            ntransactiontestcode:[],\r\n            ntransactionsamplecode:[]\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_ARNO\", \"dataField\": \"sarno\", \"width\": \"200px\" },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"Specimen Type\", \"width\": \"200px\"\r\n            },\r\n            { \"idsName\": \"IDS_PRODUCTCATEGORY\", \"dataField\": \"Specimen Category\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n        ];\r\n\r\n        this.sampleColumnList = [{ \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_SAMPLENAME\", \"dataField\": \"Sample Name\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n\r\n        this.testColumnList = [\r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n    }\r\n\r\n \r\n    handleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getSubSampleBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    handleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getSubSampleBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    childHandleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getTestBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    expandNextData(y) {\r\n        let change = []\r\n        let x = process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], y);\r\n\r\n        let data = x.data.every(item => {\r\n            return item.expanded === true\r\n        })\r\n        if (data === true) {\r\n            change = true\r\n        } else {\r\n            change = false\r\n        }\r\n        this.expandFunc({ change: change })\r\n\r\n    }\r\n    dataStateChange = (event) => {\r\n\r\n\r\n        this.setState({ dataState: event.dataState, dataResult: process(this.state.data, event.dataState) })\r\n        this.expandNextData(event.dataState);\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    handleDateChange = (dateName, dateValue) => {\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        let dfrom = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()\r\n        let dto = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()\r\n        let obj = {}\r\n        if (dateName === 'fromDate') {\r\n            obj = convertDateValuetoString(dateValue, dto, this.props.Login.userInfo)\r\n            dfrom = obj.fromDate\r\n            dto = obj.toDate\r\n        } else {\r\n            obj = convertDateValuetoString(dfrom, dateValue, this.props.Login.userInfo)\r\n            dfrom = obj.fromDate\r\n            dto = obj.toDate\r\n\r\n        }\r\n        let inputParam = {\r\n            inputData: {\r\n                nflag: 2,\r\n                nregtypecode: this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                nregsubtypecode: this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                dfrom: String(dfrom),\r\n                dto: String(dto),\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            masterData: this.props.Login.masterData\r\n\r\n        }\r\n        this.props.getReleaseApprovalVersion(inputParam)\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        if (comboData) {\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n            let inputParamData = {};\r\n            if (fieldName === 'nsampletypecode') {\r\n                if (comboData.value !== this.props.Login.masterData.SampleTypeValue.nsampletypecode) {\r\n                    inputParamData = {\r\n                        nflag: 2,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: this.props.Login.masterData,\r\n                        SampleTypeValue: comboData.item\r\n                    };\r\n                    this.props.getReleaseRegistrationType(inputParamData)\r\n                }\r\n            } else if (fieldName === 'nregtypecode') {\r\n                if (comboData.value !== this.props.Login.masterData.RegTypeValue.nregtypecode) {\r\n                    inputParamData = {\r\n                        nflag: 3,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: this.props.Login.masterData,\r\n                        RegTypeValue: comboData.item\r\n                    }\r\n                    this.props.getReleaseRegistrationSubType(inputParamData)\r\n                }\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                if (comboData.value !== this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) {\r\n                    let inputData = {\r\n                        nflag: 4,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                    }\r\n                    inputParamData = {\r\n                        inputData,\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            RegSubTypeValue: comboData.item\r\n                        }\r\n                    }\r\n                    this.props.getReleaseApprovalVersion(inputParamData)\r\n                }\r\n            }\r\n            else if (fieldName === 'ndesigntemplatemappingcode') {\r\n                const inputParamData = {\r\n                    dfrom: obj.fromDate,\r\n                    dto: obj.toDate,\r\n                    nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                    nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                    nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                    napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    masterData: { ...this.props.Login.masterData },\r\n                    RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                    ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                    stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                    nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                    ndesigntemplatemappingcode: comboData.value,\r\n                    DesignTemplateMappingValue: comboData.item\r\n                }\r\n                this.props.getReleaseFilterBasedTest(inputParamData)\r\n            }\r\n            else if (fieldName === 'napproveconfversioncode') {\r\n                if (comboData.value !== this.props.Login.masterData.ApprovalVersionValue.napproveconfversioncode) {\r\n                    inputParamData = {\r\n                        nflag: 4,\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: comboData.value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, ApprovalVersionValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        nsectioncode: this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") : this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                        ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1\r\n                    }\r\n                    this.props.getReleaseFilterStatus(inputParamData)\r\n                }\r\n            }\r\n            else if (fieldName === 'nsectioncode') {\r\n                if (comboData.value !== this.props.Login.masterData.UserSectionValue.nsectioncode) {\r\n                    // let masterData = { ...this.props.Login.masterData, UserSectionValue: comboData.item }\r\n                    inputParamData = {\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, UserSectionValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        ntransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                        nsectioncode: comboData.value === -1 ? null\r\n                            // this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \r\n                            : comboData.value,\r\n                        stransactionstatus: this.props.Login.masterData.FilterStatusValue.ntransactionstatus === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : this.props.Login.masterData.FilterStatusValue.ntransactionstatus,\r\n                        ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1,\r\n                        DesignTemplateMappingValue: this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue\r\n                    }\r\n\r\n                    this.props.getReleaseFilterBasedTest(inputParamData);\r\n                }\r\n            } else if (fieldName === 'njobstatuscode') {\r\n                if (comboData.value !== this.props.Login.masterData.JobStatusValue.njobstatuscode) {\r\n                    let masterData = { ...this.props.Login.masterData, JobStatusValue: comboData.item }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            }\r\n            else if (fieldName === 'ntestcode') {\r\n                if (comboData.value !== this.props.Login.masterData.TestValue.ntestcode) {\r\n                    let masterData = { ...this.props.Login.masterData, TestValue: comboData.item }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            }\r\n            else {\r\n                if (comboData.value !== this.props.Login.masterData.FilterStatusValue.ntransactionstatus) {\r\n                    //  let masterData = { ...this.props.Login.masterData, FilterStatusValue: comboData.item }\r\n                    //  const updateInfo = {\r\n                    //     typeName: DEFAULT_RETURN,\r\n                    //    data: { masterData }\r\n                    // }\r\n\r\n                    inputParamData = {\r\n                        dfrom: obj.fromDate,\r\n                        dto: obj.toDate,\r\n                        nsampletypecode: this.props.Login.masterData.SampleTypeValue.nsampletypecode,\r\n                        nregtypecode: this.props.Login.masterData.RegTypeValue.nregtypecode,\r\n                        nregsubtypecode: this.props.Login.masterData.RegSubTypeValue.nregsubtypecode,\r\n                        napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        masterData: { ...this.props.Login.masterData, FilterStatusValue: comboData.item },\r\n                        RegSubTypeValue: this.props.Login.masterData.RegSubTypeValue,\r\n                        ntransactionstatus: comboData.value,\r\n                        stransactionstatus: comboData.value === 0 ? this.props.Login.masterData.FilterStatus.map(item => item.ntransactionstatus).join(\",\") : comboData.value,\r\n                        nsectioncode: null//this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? \r\n                        //this.props.Login.masterData.UserSection.map(item => item.nsectioncode).join(\",\") \r\n                        //: this.props.Login.masterData.UserSectionValue.nsectioncode,\r\n                        ,ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode ? this.props.Login.masterData.ndesigntemplatemappingcode : -1\r\n                        ,DesignTemplateMappingValue: this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue  \r\n\r\n                    }\r\n\r\n                    this.props.getReleaseFilterBasedTest(inputParamData);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        delete this.props.Login.masterData[\"searchedData1\"]\r\n        delete this.props.Login.masterData[\"searchedData2\"]\r\n\r\n        delete this.props.Login.masterData[\"searchedData3\"]\r\n        this.props.Login.change = false\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n        let realFromDate = obj.fromDate;\r\n        let realToDate = obj.toDate\r\n        let realSampleTypeValue = this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue\r\n        let realRegTypeValue = this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue\r\n        let realRegSubTypeValue = this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue\r\n        let realFilterStatusValue = this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue\r\n        let realApprovalVersionValue = this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue\r\n        let realUserSectionValue = this.props.Login.masterData.UserSectionValue && this.props.Login.masterData.UserSectionValue\r\n        let realTestValue = this.props.Login.masterData.TestValue && this.props.Login.masterData.TestValue\r\n        let realDesignTemplateMappingValue = this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue\r\n        let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue, realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue, realDesignTemplateMappingValue }\r\n        let inputData = {\r\n            npreregno: \"0\",\r\n            nsampletypecode: (this.props.Login.masterData.SampleTypeValue && this.props.Login.masterData.SampleTypeValue.nsampletypecode) || -1,\r\n            nregtypecode: parseInt(this.props.Login.masterData.RegTypeValue && this.props.Login.masterData.RegTypeValue.nregtypecode) || -1,\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nregsubtypecode) || -1,\r\n            ntransactionstatus: ((this.props.Login.masterData.FilterStatusValue && this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== undefined) || this.props.Login.masterData.FilterStatusValue.ntransactionstatus !== '0') ? String(this.props.Login.masterData.FilterStatusValue.ntransactionstatus) : \"-1\",\r\n            napprovalconfigcode: this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n            napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue && this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode ? String(this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode) : null,\r\n            nsectioncode: this.props.Login.masterData.UserSectionValue ? this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(this.props.Login.masterData.UserSectionValue.nsectioncode) : null,\r\n            ntestcode: this.props.Login.masterData.TestValue ? this.props.Login.masterData.TestValue.ntestcode : -1,\r\n            nneedsubsample: (this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample) || false,\r\n            nneedtemplatebasedflow: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n            ntype: 2,\r\n            ndesigntemplatemappingcode: (this.props.Login.masterData.DesignTemplateMappingValue && this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode\r\n                ?this.props.Login.masterData.DesignTemplateMappingValue.ndesigntemplatemappingcode:this.props.Login.masterData.DesignTemplateMappingValue) || -1\r\n        }\r\n        if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n            && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\"\r\n            && realFilterStatusValue.sfilterstatus !== null && inputData.ntestcode !== undefined) {\r\n\r\n            inputData['dfrom'] = obj.fromDate;\r\n            inputData['dto'] = obj.toDate;\r\n            let inputParam = {\r\n                masterData,\r\n                inputData,\r\n                searchSampleRef: this.searchSampleRef,\r\n                searchSubSampleRef: this.searchSubSampleRef,\r\n                searchTestRef: this.searchTestRef,\r\n                skip: this.state.skip,\r\n                take: this.state.take,\r\n                testskip: this.state.testskip,\r\n                testtake: this.state.testtake,\r\n\r\n            }\r\n            this.props.getReleaseSample(inputParam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n        }\r\n\r\n    }\r\n    searchedGridData = (filterValue, filterParam) => {\r\n\r\n        let masterData1 = filterParam.masterData;\r\n\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData1[filterParam.inputListName] && masterData1[filterParam.inputListName].length > 0) {\r\n\r\n                primaryKeyValue = masterData1[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n                // }\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = this.searchNestedGridData(filterValue, masterData1[filterParam.inputListName], filterParam.searchFieldList || [], masterData1);\r\n\r\n            }\r\n            masterData1[\"searchedData3\"] = searchedData.test;\r\n            masterData1[\"searchedData1\"] = searchedData.sample;\r\n            masterData1[\"searchedData2\"] = searchedData.subsample;\r\n\r\n            //    masterData1[\"searchedData\"][\"selected\"]=false\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: { ...masterData1 }\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    searchNestedGridData=(filterValue, originalData, fieldList, masterData) =>{\r\n        let searchedData = [];\r\n        let ntransactionsamplecode = [];\r\n        let subdata = [];\r\n        let detail = []\r\n        let npreregno = []\r\n      \r\n        Object.entries(originalData).map(item1 => {\r\n          item1[1].map(item => {\r\n            detail.push(item)\r\n          })\r\n        })\r\n      \r\n        let temp =\r\n          detail.filter(item => {\r\n            const itemArray = [];\r\n      \r\n            fieldList.map(itemKey =>\r\n              item[itemKey] && item[itemKey] !== null ?\r\n                itemArray.push(typeof item[itemKey] === \"string\" ? item[itemKey].toLowerCase()\r\n                  : item[itemKey].toString().toLowerCase())\r\n                : \"\")\r\n            return itemArray\r\n              .findIndex(element => element\r\n                .includes(filterValue.toLowerCase())) > -1\r\n      \r\n          })\r\n      \r\n        temp.map(item1 => {\r\n          if (!npreregno.includes(item1.npreregno))\r\n            npreregno.push(item1.npreregno)\r\n          if (!ntransactionsamplecode.includes(item1.ntransactionsamplecode))\r\n            ntransactionsamplecode.push(item1.ntransactionsamplecode)\r\n        })\r\n        let test = groupBy(temp, 'ntransactionsamplecode');\r\n        let sample = masterData.ReleaseSample.filter(item => {\r\n      \r\n          for (var i = 0; i < npreregno.length; i++) {\r\n            if (npreregno[i] === item.npreregno && npreregno[i] !== undefined) {\r\n              return item\r\n            }\r\n          }\r\n      \r\n        })\r\n      \r\n        Object.entries(masterData.ReleaseSubSample).map(item1 => {\r\n          item1[1].map(item => {\r\n            subdata.push(item)\r\n          })\r\n        })\r\n        let subsample1 = subdata.filter(item => {\r\n      \r\n          for (var i = 0; i < ntransactionsamplecode.length; i++) {\r\n            if (ntransactionsamplecode[i] === item.ntransactionsamplecode && ntransactionsamplecode[i] !== undefined) {\r\n              return item\r\n            }\r\n          }\r\n      \r\n        })\r\n        let subsample = groupBy(subsample1, \"npreregno\");\r\n        function groupBy(objectArray, property) {\r\n          return objectArray.reduce((acc, obj) => {\r\n            const key = obj[property];\r\n            if (!acc[key]) {\r\n              acc[key] = [];\r\n            }\r\n            acc[key].push(obj);\r\n            return acc;\r\n          }, {});\r\n        }\r\n        searchedData = { test, sample, subsample }\r\n        return searchedData;\r\n      }\r\n      //end- search logic\r\n    checkFunction = (data) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                arrayfalse: data.arrayfalse,\r\n                childfalsearray: data.childfalsearray\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    checkFunction1 = () => {\r\n        this.setState({\r\n            count: 1\r\n        })\r\n    }\r\n    expandFunc = (change) => {\r\n        let count = change.count;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: { ...this.props.Login.masterData },\r\n                change: change.change,\r\n                checkFlag: \"1\",\r\n                count: count\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    gridfillingColumn(data) {\r\n        //  const tempArray = [];\r\n        const temparray = data && data.map((option) => {\r\n            return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode], \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\" };\r\n        });\r\n        return temparray;\r\n    }\r\n    render() {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo)\r\n\r\n\r\n\r\n\r\n        const filterTestParam = {\r\n            inputListName: \"ReleaseTest\",\r\n            //  selectedObject: \"APSelectedTest\",\r\n            primaryKeyField: \"ntransactiontestcode\",\r\n            //    fetchUrl: this.getActiveTestURL(),\r\n            // fecthInputObject: {\r\n            //     ntransactiontestcode: this.props.Login.masterData.APSelectedTest ? this.props.Login.masterData.APSelectedTest.map(test => test.ntransactiontestcode).join(\",\") : \"-1\",\r\n            //     userinfo: this.props.Login.userInfo,\r\n            //     checkBoxOperation: 3,\r\n            //     ndesigntemplatemappingcode: this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode || -1\r\n            // },\r\n            isSingleSelect: false,\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.state.combinedSearchField || [],\r\n\r\n        };\r\n\r\n        let breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            }, {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            },\r\n            // {\r\n            //     \"label\": \"IDS_SAMPLETYPE\",\r\n            //     \"value\": this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.ssampletypename ? this.props.Login.masterData.realSampleTypeValue.ssampletypename : \"Product\"\r\n            // },\r\n             {\r\n                \"label\": \"IDS_REGTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.sregtypename || \"NA\" :\r\n                    this.props.Login.masterData.RegTypeValue ? this.props.Login.masterData.RegTypeValue.sregtypename || \"NA\" : \"NA\"\r\n            }, {\r\n                \"label\": \"IDS_REGSUBTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.sregsubtypename || \"NA\" :\r\n                    this.props.Login.masterData.RegSubTypeValue ?\r\n                        this.props.Login.masterData.RegSubTypeValue.sregsubtypename : \"NA\"\r\n            },\r\n            // {\r\n            //     \"label\": \"IDS_DESIGNTEMPLATE\",\r\n            //     \"value\": this.props.Login.masterData.realDesignTemplateMappingValue ?\r\n            //         this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" :\r\n            //         this.props.Login.masterData.realDesignTemplateMappingValue ? this.props.Login.masterData.realDesignTemplateMappingValue.sregtemplatename || \"NA\" : \"NA\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_CONFIGVERSION\",\r\n            //     \"value\": this.props.Login.masterData.realApprovalVersionValue ?\r\n            //         this.props.Login.masterData.realApprovalVersionValue.sversionname || \"NA\" :\r\n            //         this.props.Login.masterData.ApprovalVersionValue ? this.props.Login.masterData.ApprovalVersionValue.sversionname || \"NA\" : \"NA\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_SECTION\",\r\n            //     \"value\": this.props.Login.masterData.realUserSectionValue ?\r\n            //         this.props.Login.masterData.realUserSectionValue.ssectionname || \"NA\" :\r\n            //         this.props.Login.masterData.UserSectionValue ?\r\n            //             this.props.Login.masterData.UserSectionValue.ssectionname || \"NA\" : \"NA\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_Test\",\r\n            //     \"value\": this.props.Login.masterData.realTestValue ?\r\n            //         this.props.Login.masterData.realTestValue.stestsynonym || \"NA\" :\r\n            //         this.props.Login.masterData.TestValue ?\r\n            //             this.props.Login.masterData.TestValue.stestsynonym || \"NA\" : \"NA\"\r\n            // },\r\n            {\r\n                \"label\": \"IDS_TESTSTATUS\",\r\n                \"value\": this.props.Login.masterData.realFilterStatusValue ?\r\n                    this.props.Login.masterData.realFilterStatusValue.sfilterstatus || \"NA\" :\r\n                    this.props.Login.masterData.FilterStatusValue ?\r\n                        this.props.Login.masterData.FilterStatusValue.sfilterstatus || \"NA\" : \"NA\"\r\n            }\r\n        ];\r\n        const releaseId = this.props.Login.inputParam && this.state.controlMap.has(\"COARelease\")\r\n            && this.state.controlMap.get('COARelease').ncontrolcode;\r\n        const expandId = this.props.Login.inputParam && this.state.controlMap.has(\"ReleaseExpand\")\r\n            && this.state.controlMap.get('ReleaseExpand').ncontrolcode;\r\n        return (\r\n            <>\r\n                {/* <Row> */}\r\n                    {/* <Col> */}\r\n                    <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                        <Affix top={60}>\r\n                         <BreadcrumbComponentToolbar\r\n                                //   showFilter={true}\r\n                                showSearch={true}\r\n                                breadCrumbItem={breadCrumbData}\r\n                                filterColumnData={this.searchedGridData}\r\n                                filterParam={filterTestParam}\r\n                                selectedMaster={this.props.Login.masterData.RSSelectedSample}\r\n                                searchRef={this.searchRef}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"Sample Filter\": <COAReleaseFilter\r\n                                            SampleType={this.state.SampletypeList || []}\r\n                                            SampleTypeValue={this.props.Login.masterData.SampleTypeValue || []}\r\n                                            RegType={this.state.RegistrationTypeList || []}\r\n                                            RegTypeValue={this.props.Login.masterData.RegTypeValue || []}\r\n                                            RegSubType={this.state.RegistrationSubTypeList || []}\r\n                                            RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || []}\r\n                                            ApprovalVersion={this.state.ConfigVersionList || []}\r\n                                            ApprovalVersionValue={this.props.Login.masterData.ApprovalVersionValue || []}\r\n                                            UserSection={this.state.UserSectionList || []}\r\n                                            UserSectionValue={this.props.Login.masterData.UserSectionValue || []}\r\n                                            // JobStatus={this.props.Login.masterData.JobStatus || []}\r\n                                            Test={this.state.TestList || []}\r\n                                            TestValue={this.props.Login.masterData.TestValue || []}\r\n                                            FilterStatus={this.state.FilterStatusList || []}\r\n                                            FilterStatusValue={this.props.Login.masterData.FilterStatusValue || []}\r\n                                            fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                                            toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                                            onFilterComboChange={this.onFilterComboChange}\r\n                                            handleDateChange={this.handleDateChange}\r\n\r\n                                            // onDesignTemplateChange={this.onDesignTemplateChange}\r\n                                            // DynamicDesignMapping={this.state.stateDynamicDesign || []}\r\n                                            // DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\r\n                                            // DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\r\n                                            userInfo={this.props.Login.userInfo}\r\n\r\n                                        />\r\n                                    }\r\n                                ]}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n                                />\r\n                            </Affix>\r\n                </div>\r\n                {/* <Row>\r\n                <Col> */}\r\n                        <ListWrapper className=\"client-list-content\" style={{paddingTop:\"5px\"}}>\r\n                     \r\n\r\n                            {this.state.data ?\r\n                                <DataGridWithMultipleGrid\r\n                                    needSubSample={this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample || false}\r\n                                    data={this.state.data}\r\n                                    dataResult={process(this.props.Login.masterData.searchedData1 && this.props.Login.masterData.searchedData1 || this.props.Login.masterData.ReleaseSample && this.props.Login.masterData.ReleaseSample || [], this.state.dataState)}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    expandNextData={this.expandNextData}\r\n                                    checkFunction={this.checkFunction}\r\n                                    checkFunction1={this.checkFunction1}\r\n                                    expandFunc={this.expandFunc}\r\n                                    //expandData={this.expandData}\r\n                                    childDataResult={this.state.childDataResult}\r\n                                    subChildDataResult={this.state.subChildDataResult}\r\n                                    extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n                                    subChildColumnList={this.gridfillingColumn(this.state.DynamicTestGridItem) || []}\r\n\r\n                                    expandField=\"expanded\"\r\n                                    handleExpandChange={this.handleExpandChange}\r\n                                    childHandleExpandChange={this.childHandleExpandChange}\r\n\r\n                                    reloadData={this.reloadData}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    pageable={true}\r\n                                    scrollable={'scrollable'}\r\n                            gridHeight={'600px'}\r\n                            gridTop={'10px'}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    isExpandRequired={true}\r\n                                  //  isDownloadRequired={true}\r\n                                    isCollapseRequired={true}\r\n\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    hasChild={true}\r\n                                    hasSubChild={true}\r\n                                    childList={\r\n                                        this.props.Login.masterData.searchedData2 ||\r\n                                        this.props.Login.masterData.ReleaseSubSample\r\n                                    }\r\n                                    childColumnList={this.gridfillingColumn(this.state.DynamicSubSampleGridItem) || []}\r\n                                    childMappingField={\"npreregno\"}\r\n                                    subChildMappingField={\"ntransactionsamplecode\"}\r\n\r\n                                   // subChildMappingField={this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nneedsubsample ? \"ntransactionsamplecode\" : \"npreregno\"}\r\n                                    subChildList={\r\n                                        this.props.Login.masterData.searchedData3 ||\r\n                                        this.props.Login.masterData.ReleaseTest\r\n                                    }\r\n                                    selectedsubcild={this.props.Login.selectedsubcild}\r\n                                    methodUrl={\"Release\"}\r\n                                    headerSelectionChange={this.headerSelectionChange}\r\n                                    childHeaderSelectionChange={this.childHeaderSelectionChange}\r\n                                    childSelectAll={this.props.Login.childSelectAll}\r\n                                    childSelectionChange={this.childSelectionChange}\r\n                                    subChildSelectionChange={this.subChildSelectionChange}\r\n                                    subChildHeaderSelectionChange={this.subChildHeaderSelectionChange}\r\n                                    subChildSelectAll={this.props.Login.subChildSelectAll}\r\n                                    selectionChange={this.selectionChange}\r\n                                    selectAll={this.props.Login.selectAll}\r\n                                    releaseRecord={//this.props.getCOAReportType\r\n                                        this.onSaveModalClick} \r\n                                        viewDownloadFile={this.viewDownloadFile}\r\n                                        regnerateFile={this.regnerateFile}\r\n                                />\r\n                                : \"\"}\r\n                        </ListWrapper>\r\n                    {/* </Col>\r\n                </Row> */}\r\n{this.props.Login.modalShow ? (\r\n          <ModalShow\r\n            modalShow={this.props.Login.modalShow}\r\n            closeModal={this.closeModalShow}\r\n            onSaveClick={this.onSaveModalClick}\r\n            validateEsign={this.validateEsign}\r\n            masterStatus={this.props.Login.masterStatus}\r\n          //  mandatoryFields={mandatoryFields}\r\n            updateStore={this.props.updateStore}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            modalTitle={this.props.Login.modalTitle}\r\n            modalBody={\r\n               \r\n                <AddRelease\r\n                  selectedRecord={this.props.Login.selectedRecord || {}}\r\n                  ReportTypeList={this.props.Login.ReportTypeList}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                 // handleDateChange={this.handleDateChange}\r\n                  onComboChange={this.onComboChange}\r\n                  userInfo={this.props.Login.userInfo}\r\n                  esign={this.props.Login.loadEsign}\r\n                  //currentTime={this.props.Login.currentTime}\r\n                />\r\n            }\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n            </>\r\n        );\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    } \r\n    closeModalShow = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n    \r\n        let modalShow = this.props.Login.modalShow;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n          loadEsign = false;\r\n        } else {\r\n          modalShow = false;\r\n          selectedRecord = {};\r\n        }\r\n    \r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { modalShow, selectedRecord, selectedId: null, loadEsign },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n      viewDownloadFile= (inputData,row) => { \r\n        // this.props.generateReport()\r\n        this.onSaveModalClick(true,row,'IDS_DOWNLOADFILE')\r\n     }\r\n     regnerateFile= (inputData,row) => { \r\n        // this.props.generateReport()\r\n        this.onSaveModalClick(true,row,'IDS_REGENERATEFILE')\r\n     }\r\n      onSaveModalClick = (nflag,row,action) => {\r\n        let ntransactionsamplecode = \"\"\r\n        let ntransactiontestcode = \"\"\r\n        let npreregno = \"\"\r\n        if(nflag===true?true:this.state.npreregno&&this.state.npreregno.length>0 ){\r\n        let sample = this.state.npreregno.filter((c, index) => {\r\n            return this.state.npreregno.indexOf(c) === index;\r\n        });\r\n        let subsample = this.state.ntransactionsamplecode.filter((c, index) => {\r\n            return this.state.ntransactionsamplecode.indexOf(c) === index;\r\n        });\r\n        let test = this.state.ntransactiontestcode.filter((c, index) => {\r\n            return this.state.ntransactiontestcode.indexOf(c) === index;\r\n        });\r\n        if (nflag===true)\r\n        {\r\n            npreregno = row.dataItem['npreregno']\r\n\r\n        }\r\n        else\r\n        {\r\n            npreregno = sample.map(x => x).join(\",\") \r\n        }\r\n        ntransactionsamplecode = subsample.map(x => x).join(\",\")\r\n        ntransactiontestcode = test.map(x => x).join(\",\")\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo)\r\n        let ntransCode = this.props.Login.masterData.FilterStatusValue.ntransactionstatus\r\n        if (ntransCode === transactionStatus.ALL) {\r\n            ntransCode = this.props.Login.masterData.FilterStatus.map(status => status.ntransactionstatus).join(\",\");\r\n        } else {\r\n            ntransCode = ntransCode\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                change: this.props.Login.change,\r\n                npreregno: npreregno,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                nsectioncode: this.props.Login.masterData.UserSectionValue ?\r\n                    this.props.Login.masterData.UserSectionValue.nsectioncode === -1 ?\r\n                        this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') :\r\n                        String(this.props.Login.masterData.UserSectionValue.nsectioncode) :\r\n                    null,\r\n                ntestcode: this.props.Login.masterData.realTestValue && this.props.Login.masterData.realTestValue.ntestcode,\r\n                // nTransStatus: ntransCode,\r\n                // ntransactionstatus: ((this.props.Login.masterData.realFilterStatusValue && this.props.Login.masterData.realFilterStatusValue.ntransactionstatus \r\n                //     !== undefined) || this.props.Login.masterData.realFilterStatusValue.ntransactionstatus !== '0')\r\n                //      ? String(this.props.Login.masterData.realFilterStatusValue.ntransactionstatus) : \"-1\",\r\n\r\n                 ntransactionstatus: String(\"-1\"),\r\n                nsampletypecode: this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.nsampletypecode,\r\n                nregtypecode: this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.nregtypecode,\r\n                nregsubtypecode: this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nregsubtypecode,\r\n                napprovalversioncode: this.props.Login.masterData.ApprovalVersionValue.napprovalconfigversioncode,\r\n                nneedsubsample: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedsubsample) || false,\r\n                nneedtemplatebasedflow: (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n                dfrom: obj.fromDate,\r\n                dto: obj.toDate,\r\n                nflag: 2,\r\n                ntype: 1,\r\n                userinfo: this.props.Login.userInfo,\r\n                APSelectedSample: this.props.Login.masterData.APSelectedSample,\r\n                APSelectedSubSample: this.props.Login.masterData.APSelectedSubSample,\r\n                APSelectedTest: this.props.Login.masterData.APSelectedTest,\r\n                // retestcount: action.ntransactionstatus === transactionStatus.RETEST ? this.state.selectedRecord ? this.state.selectedRecord.retestcount || 1 : 1 : undefined,\r\n                // ncontrolCode,\r\n                checkBoxOperation: 3,\r\n                action,\r\n                ndesigntemplatemappingcode: (this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode) || -1\r\n            },\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n       if (nflag===true)\r\n        {\r\n            this.props.generateReport( inputParam.inputData, this.props.Login.masterData)\r\n        }\r\n        else\r\n        {\r\n            this.props.getReleaseSelectedSampleSubSampleTest(this.props.Login.userInfo, this.props.Login.masterData, inputParam.inputData) \r\n        }\r\n    }\r\n    else\r\n    {\r\n        toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTANYONESAMPLE/SUBSAMPLE/TEST\" })); \r\n    }\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap,\r\n            sampleListColumns, subSampleListColumns, testListColumns, SingleItem,\r\n            sampleListMainField, subSampleListMainField, testListMainField,\r\n            SampleGridItem, SampleGridExpandableItem, testMoreField,\r\n            resultDataState, instrumentDataState,\r\n            materialDataState, taskDataState,\r\n            documentDataState, resultChangeDataState,\r\n            historyDataState, testCommentDataState,\r\n            samplePrintHistoryDataState, sampleHistoryDataState,\r\n            selectedRecord, SampletypeList, RegistrationTypeList,\r\n            RegistrationSubTypeList, FilterStatusList,\r\n            ConfigVersionList, UserSectionList, TestList, skip, take, testskip, testtake, selectedFilter,\r\n            DynamicSampleColumns, DynamicSubSampleColumns, DynamicTestColumns, DynamicGridItem, DynamicTestGridItem,DynamicSubSampleGridItem,\r\n            DynamicGridMoreField, stateDynamicDesign, sampleSearchField, subsampleSearchField, testSearchField ,combinedSearchField,checkedflag,npreregno} = this.state;\r\n\r\n        let bool = false;\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData.RegSubTypeValue !== previousProps.Login.masterData.RegSubTypeValue) {\r\n            if (this.props.Login.masterData.RegSubTypeValue && this.props.Login.masterData.RegSubTypeValue.nsubsampleneed === transactionStatus.NO) {\r\n                let dataState = {\r\n                    skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5//, group: [{ field: `${this.props.Login.masterData.RegSubTypeValue.nsubsampleneed ? 'ssamplearno' : 'sarno'}` }] \r\n                }\r\n                resultDataState = dataState\r\n                instrumentDataState = dataState\r\n                materialDataState = dataState\r\n                taskDataState = dataState\r\n                documentDataState = dataState\r\n                resultChangeDataState = dataState\r\n                historyDataState = dataState\r\n                testCommentDataState = dataState\r\n\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.checkedflag !== previousProps.Login.checkedflag) {\r\n\r\n            checkedflag = this.props.Login.checkedflag\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.npreregno !== previousProps.Login.npreregno) {\r\n\r\n            npreregno = this.props.Login.npreregno\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const SampletypeListMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", 'ascending', 'nsampletypecode', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegType || [], \"nregtypecode\", \"sregtypename\", \"nsorter\", 'ascending', 'nregtypecode', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", 'ascending', 'nregsubtypecode', false);\r\n            const FilterStatusListMap = constructOptionList(this.props.Login.masterData.FilterStatus || [], \"ntransactionstatus\", \"sfilterstatus\", undefined, undefined, true);\r\n            const ConfigVersionListMap = constructOptionList(this.props.Login.masterData.ApprovalVersion || [], \"napprovalconfigversioncode\", \"sversionname\", 'descending', 'ntransactionstatus', false);\r\n            const UserSectionListMap = constructOptionList(this.props.Login.masterData.UserSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, true);\r\n            const TestListMap = constructOptionList(this.props.Login.masterData.Test || [], \"ntestcode\", \"stestsynonym\", undefined, undefined, true);\r\n            SampletypeList = SampletypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            FilterStatusList = FilterStatusListMap.get(\"OptionList\");\r\n            ConfigVersionList = ConfigVersionListMap.get(\"OptionList\");\r\n            UserSectionList = UserSectionListMap.get(\"OptionList\");\r\n            TestList = TestListMap.get(\"OptionList\");\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take\r\n            testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip\r\n            testtake = this.props.Login.testtake || testtake\r\n            let selectFilterStatus = { ntransactionstatus: transactionStatus.PARTIAL, sfilterstatus: this.props.intl.formatMessage({ id: \"IDS_PARTIAL\" }), scolorhexcode: \"#800000\" }\r\n            const selectedFilters = this.props.Login.masterData.FilterStatus || [];\r\n\r\n            const selectedFiltersNew = JSON.parse(JSON.stringify(selectedFilters));\r\n\r\n            const index = selectedFiltersNew.findIndex(item => item.ntransactionstatus === transactionStatus.PARTIAL)\r\n            if (selectedFiltersNew.length > 0 && index === -1) {\r\n                selectedFiltersNew.push(selectFilterStatus)\r\n            }\r\n            selectedFilter = selectedFiltersNew;\r\n            if (this.props.Login.resultDataState && this.props.Login.resultDataState !== previousProps.Login.resultDataState) {\r\n                resultDataState = this.props.Login.resultDataState;\r\n            }\r\n            if (this.props.Login.instrumentDataState && this.props.Login.instrumentDataState !== previousProps.Login.instrumentDataState) {\r\n                instrumentDataState = this.props.Login.instrumentDataState;\r\n            }\r\n            if (this.props.Login.taskDataState && this.props.Login.taskDataState !== previousProps.Login.taskDataState) {\r\n                taskDataState = this.props.Login.taskDataState;\r\n            }\r\n            if (this.props.Login.resultChangeDataState && this.props.Login.resultChangeDataState !== previousProps.Login.resultChangeDataState) {\r\n                resultChangeDataState = this.props.Login.resultChangeDataState;\r\n            }\r\n            if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n                historyDataState = this.props.Login.historyDataState;\r\n            }\r\n            if (this.props.Login.testCommentDataState && this.props.Login.testCommentDataState !== previousProps.Login.testCommentDataState) {\r\n                testCommentDataState = this.props.Login.testCommentDataState;\r\n            }\r\n            if (this.props.Login.samplePrintHistoryDataState && this.props.Login.samplePrintHistoryDataState !== previousProps.Login.samplePrintHistoryDataState) {\r\n                samplePrintHistoryDataState = this.props.Login.samplePrintHistoryDataState;\r\n            }\r\n            if (this.props.Login.sampleHistoryDataState && this.props.Login.sampleHistoryDataState !== previousProps.Login.sampleHistoryDataState) {\r\n                sampleHistoryDataState = this.props.Login.sampleHistoryDataState;\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n            DynamicSampleColumns = dynamicColumn.samplelistitem ? dynamicColumn.samplelistitem : [];\r\n            DynamicSubSampleColumns = dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n            DynamicTestColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : []\r\n\r\n           // DynamicGridItem = dynamicColumn.samplegriditem ? dynamicColumn.samplegriditem : [];\r\n            DynamicGridItem = dynamicColumn.sampledisplayfields ? dynamicColumn.sampledisplayfields : [];\r\n            DynamicTestGridItem = dynamicColumn.testListFields.releasetestfields ? dynamicColumn.testListFields.releasetestfields : [];\r\n            DynamicSubSampleGridItem=dynamicColumn.subsamplelistitem ? dynamicColumn.subsamplelistitem : [];\r\n\r\n            DynamicGridMoreField = dynamicColumn.samplegridmoreitem ? dynamicColumn.samplegridmoreitem : [];\r\n\r\n            SingleItem = dynamicColumn.sampledisplayfields ? dynamicColumn.sampledisplayfields : [];\r\n            testMoreField = dynamicColumn.testlistmoreitems ? dynamicColumn.testlistmoreitems : [];\r\n            testListColumns = dynamicColumn.testlistitem ? dynamicColumn.testlistitem : [];\r\n\r\n            sampleSearchField = dynamicColumn.samplesearchfields ? dynamicColumn.samplesearchfields : [];\r\n            subsampleSearchField = dynamicColumn.subsamplesearchfields ? dynamicColumn.subsamplesearchfields : [];\r\n            testSearchField = dynamicColumn.testsearchfields ? dynamicColumn.testsearchfields : [];\r\n            sampleSearchField.map(item => { combinedSearchField.push(item) });\r\n            subsampleSearchField.map(item => { combinedSearchField.push(item) });\r\n            testSearchField.map(item => { combinedSearchField.push(item) });\r\n\r\n\r\n            bool = true;\r\n\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo)\r\n            selectedRecord['fromDate'] = obj.fromDate;\r\n            selectedRecord['toDate'] = obj.toDate;\r\n\r\n            bool = true;\r\n        }\r\n        if (this.props.Login.masterData.DesignTemplateMapping !== previousProps.Login.masterData.DesignTemplateMapping) {\r\n\r\n            const DesignTemplateMappingMap = constructOptionList(this.props.Login.masterData.DesignTemplateMapping || [], \"ndesigntemplatemappingcode\",\r\n                \"sregtemplatename\", undefined, undefined, false);\r\n\r\n            stateDynamicDesign = DesignTemplateMappingMap.get(\"OptionList\")\r\n        }\r\n        if (bool) {\r\n            bool = false;\r\n            this.setState({\r\n                userRoleControlRights, controlMap,\r\n                sampleListColumns, subSampleListColumns, testListColumns, SingleItem,\r\n                sampleListMainField, subSampleListMainField, testListMainField,\r\n                SampleGridItem, SampleGridExpandableItem, testMoreField,\r\n                resultDataState, instrumentDataState,\r\n                materialDataState, taskDataState,\r\n                documentDataState, resultChangeDataState,\r\n                historyDataState, testCommentDataState,\r\n                samplePrintHistoryDataState, sampleHistoryDataState,\r\n                selectedRecord, SampletypeList, RegistrationTypeList,\r\n                RegistrationSubTypeList, FilterStatusList,\r\n                ConfigVersionList, UserSectionList, TestList,\r\n                skip, take, testskip, testtake, selectedFilter,\r\n                DynamicSampleColumns, DynamicSubSampleColumns,\r\n                DynamicTestColumns, DynamicGridItem, DynamicTestGridItem,DynamicSubSampleGridItem,\r\n                DynamicGridMoreField, stateDynamicDesign,\r\n                sampleSearchField, subsampleSearchField, testSearchField,combinedSearchField,checkedflag,npreregno\r\n            });\r\n            //     if (this.state.count === 0){\r\n            //         const updateInfo = {\r\n            //             typeName: DEFAULT_RETURN,\r\n            //             data: {\r\n            //                 change: false,\r\n            //             }\r\n            //         }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                    data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\r\n                    dataResult: process(this.props.Login.data || this.props.Login.masterData.ReleaseSample || [], this.state.dataState),\r\n\r\n                    //        childDataResult: process(this.props.Login.data || Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.state.dataState),\r\n                    //  subChildDataResult: process(this.props.Login.data || Object.entries(this.props.Login.masterData.ReleaseTest)[1] || [], this.state.dataState),\r\n\r\n\r\n                });\r\n                //     const updateInfo = {\r\n                //         typeName: DEFAULT_RETURN,\r\n                //         data: {\r\n                //             masterData: process( this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || this.state.dataState),\r\n                //         }\r\n                //     }\r\n                // this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.state.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n                const releaseData = this.props.Login.data || this.props.Login.masterData.ReleaseSample || [];\r\n\r\n                this.setState({\r\n                    data: this.props.Login.data || this.props.Login.masterData.ReleaseSample || [],\r\n                    dataResult: process(this.props.Login.masterData.ReleaseSample || [], this.props.Login.dataState || dataState),\r\n                    //   childDataResult: process(Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item=>item) || [], this.props.Login.dataState || dataState),\r\n                    //    subChildDataResult: process(Object.entries(this.props.Login.masterData.ReleaseTest) || [], this.props.Login.dataState || dataState),\r\n\r\n                    dataState\r\n                });\r\n\r\n\r\n            }\r\n        }\r\n        else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n\r\n    }\r\n    \r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        delete this.props.Login.masterData[\"searchedData1\"]\r\n        delete this.props.Login.masterData[\"searchedData2\"]\r\n\r\n        delete this.props.Login.masterData[\"searchedData3\"]\r\n\r\n        // this.props.Login.masterData.ReleaseSample.map(item=>item[\"expanded\"]=false)\r\n\r\n        this.props.Login.change = false\r\n        let { realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue,\r\n            realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue } = this.props.Login.masterData\r\n        let masterData = { ...this.props.Login.masterData, realFromDate, realToDate, realSampleTypeValue, realRegTypeValue, realRegSubTypeValue, realFilterStatusValue, realApprovalVersionValue, realUserSectionValue, realTestValue }\r\n        let inputData = {\r\n            npreregno: \"0\",\r\n            nneedsubsample: (realRegSubTypeValue && realRegSubTypeValue.nneedsubsample) || false,\r\n            nneedtemplatebasedflow: (realRegSubTypeValue && realRegSubTypeValue.nneedtemplatebasedflow) || false,\r\n            nsampletypecode: (realSampleTypeValue && realSampleTypeValue.nsampletypecode) || -1,\r\n            nregtypecode: (realRegTypeValue && realRegTypeValue.nregtypecode) || -1,\r\n            nregsubtypecode: (realRegSubTypeValue && realRegSubTypeValue.nregsubtypecode) || -1,\r\n            ntransactionstatus: ((realFilterStatusValue && realFilterStatusValue.ntransactionstatus !== undefined) || realFilterStatusValue.ntransactionstatus !== '0') ? String(realFilterStatusValue.ntransactionstatus) : \"-1\",\r\n            napprovalconfigcode: realApprovalVersionValue ? realApprovalVersionValue.napprovalconfigcode || -1 : null,\r\n            napprovalversioncode: realApprovalVersionValue && realApprovalVersionValue.napprovalconfigversioncode ? String(realApprovalVersionValue.napprovalconfigversioncode) : null,\r\n            nsectioncode: realUserSectionValue ? realUserSectionValue.nsectioncode === -1 ? this.props.Login.masterData.UserSection.map(section => section.nsectioncode).join(',') : String(realUserSectionValue.nsectioncode) : null,\r\n            ntestcode: realTestValue && realTestValue.ntestcode ? realTestValue.ntestcode : -1,\r\n            userinfo: this.props.Login.userInfo,\r\n            activeTestTab: this.props.Login.activeTestTab || \"\",\r\n            activeSampleTab: this.props.Login.activeSampleTab || \"\",\r\n            activeSubSampleTab: this.props.Login.activeSubSampleTab || \"\",\r\n            checkBoxOperation: 3,\r\n            ntype: 2,\r\n            ndesigntemplatemappingcode: (this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode) || -1\r\n        }\r\n        if (inputData.nsampletypecode !== -1 && inputData.nregtypecode !== -1 && inputData.nregsubtypecode !== -1\r\n            && inputData.ntransactionstatus !== \"-1\" && inputData.napprovalconfigcode !== -1 && inputData.napprovalversioncode !== \"-1\"\r\n            && realFilterStatusValue.sfilterstatus !== null) {\r\n\r\n            let obj = convertDateValuetoString(realFromDate, realToDate, this.props.Login.userInfo)\r\n            inputData['dfrom'] = obj.fromDate;\r\n            inputData['dto'] = obj.toDate;\r\n            let inputParam = {\r\n                masterData,\r\n                inputData,\r\n                searchSampleRef: this.searchSampleRef,\r\n                searchSubSampleRef: this.searchSubSampleRef,\r\n                searchTestRef: this.searchTestRef,\r\n                skip: this.state.skip,\r\n                take: this.state.take,\r\n                testskip: this.state.testskip,\r\n                testtake: this.state.testtake,\r\n                resultDataState: this.state.resultDataState,\r\n                instrumentDataState: this.state.instrumentDataState,\r\n                materialDataState: this.state.materialDataState,\r\n                taskDataState: this.state.taskDataState,\r\n                documentDataState: this.state.documentDataState,\r\n                resultChangeDataState: this.state.resultChangeDataState,\r\n                testCommentDataState: this.state.testCommentDataState,\r\n                historyDataState: this.state.historyDataState,\r\n                samplePrintHistoryDataState: this.state.samplePrintHistoryDataState,\r\n                sampleHistoryDataState: this.state.sampleHistoryDataState\r\n            }\r\n            this.props.getReleaseSample(inputParam)\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLVALUESINFILTER\" }))\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n    selectionChange = (event,nflag,checkedflag) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        if (nflag === undefined) {\r\n            this.state.dataResult.data.map(item => {\r\n                if (item.npreregno === event.dataItem.npreregno) {\r\n                    item.selected = checked;\r\n                }\r\n                   \r\n            })\r\n            let preregno = event.dataItem.npreregno\r\n            let ncoahistorycode = event.dataItem.ncoahistorycode\r\n            let ssystemfilename = event.dataItem.ssystemfilename\r\n            const coaFileInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { ncoahistorycode, ssystemfilename},\r\n            };\r\n            this.props.updateStore(coaFileInfo);\r\n\r\n            this.childHeaderSelectionChange(event, preregno,checkedflag)\r\n        }\r\n        else {\r\n            let data=[]\r\n            event.dataItems.map(item => {\r\n                data.push({\"npreregno\":item.npreregno})\r\n            })\r\n            this.childHeaderSelectionChange(event, data,checkedflag)\r\n\r\n        }\r\n       \r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    childHeaderSelectionChange=(event, preregno,checkedflag) =>{\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let subsamplecode = [];\r\n        let npreregno = preregno === undefined ? event.dataItems[0].npreregno : preregno\r\n       if (npreregno.length===0||npreregno.length===undefined) {\r\n           this.props.Login.masterData.ReleaseSubSample[npreregno].map(item => {\r\n                \r\n                item.selected = checked\r\n                if (!subsamplecode.includes(item.ntransactionsamplecode)) {\r\n                    subsamplecode.push({ \"ntransactionsamplecode\": item.ntransactionsamplecode })\r\n                }\r\n                \r\n            })\r\n            this.props.Login.masterData.ReleaseSample.map(data => {\r\n                if (data.npreregno === npreregno) {\r\n                 data.selected = checked\r\n\r\n                }\r\n            })\r\n\r\n            this.subChildHeaderSelectionChange(event, subsamplecode,checkedflag)\r\n        }\r\n       else {\r\n           npreregno.map(value => {\r\n               this.props.Login.masterData.ReleaseSubSample[value.npreregno].map(item => {\r\n                   item.selected = checked\r\n                   if (!subsamplecode.includes(item.ntransactionsamplecode)) {\r\n                       subsamplecode.push({ \"ntransactionsamplecode\": item.ntransactionsamplecode })\r\n                   }\r\n               })\r\n            //    this.props.Login.masterData.ReleaseSample.map(data => {\r\n            //        if (data.npreregno === value.npreregno) {\r\n            //         data.selected = checked\r\n \r\n            //        }\r\n            //    })\r\n           })\r\n           \r\n\r\n        this.subChildHeaderSelectionChange(event, subsamplecode,checkedflag)\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    subChildHeaderSelectionChange = (event, subsamplecode,checkedflag) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let transactionsamplecode=[]\r\n        if (subsamplecode !== undefined) {\r\n            transactionsamplecode = subsamplecode\r\n            transactionsamplecode.map(value =>\r\n                this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\r\n                    item.selected = checked;\r\n                    this.collectData(item,checkedflag)\r\n\r\n                    return item;\r\n                })\r\n            )\r\n        }\r\n        else {\r\n            let rFlag = true;\r\n            event.dataItems.map(value =>\r\n                this.props.Login.masterData.ReleaseTest[value.ntransactionsamplecode].map(item => {\r\n                    item.selected = checked;\r\n                    this.collectData(item,checkedflag)\r\n\r\n                    return item;\r\n                })\r\n                \r\n            )\r\n            this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].map(item => {\r\n                if (event.dataItems[0].ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n\r\n                }\r\n            })\r\n            let data = this.props.Login.masterData.ReleaseSubSample[event.dataItems[0].npreregno].every(item => {\r\n                return item.selected === true;\r\n            })\r\n            if (data === true) {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItems[0].npreregno === item.npreregno) {\r\n                        item.selected = checked;\r\n\r\n                    }\r\n    \r\n                })\r\n            }\r\n            else {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItems[0].npreregno === item.npreregno) {\r\n                        item.selected = false;\r\n                    }\r\n    \r\n                })\r\n            }\r\n            \r\n            // let x;\r\n            // let i;\r\n            // for (i = 0; i < this.props.Login.masterData.ReleaseSample.length; i++){\r\n            //     x=i\r\n            //         if (event.dataItems[0].npreregno !== this.props.Login.masterData.ReleaseSample[i].npreregno) {\r\n            //             // item.selected = checked;\r\n            //             rFlag = false;\r\n            //             break;\r\n            //         }\r\n            // }\r\n            \r\n            // if (rFlag === true) {\r\n            //     this.props.Login.masterData.ReleaseSample[x].selected = checked;\r\n            // }\r\n        }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    headerSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        // if(checked===true)\r\n        // {\r\n            this.state.dataResult.data.map(item => {\r\n                item.selected = checked;\r\n                return item;\r\n            }); \r\n                //this.setState({headerSelect:checked})  \r\n            this.selectionChange(event,1,checked);\r\n        // }else\r\n        // {\r\n        //     this.setState({npreregno:[]})\r\n        // }\r\n    \r\n\r\n    }\r\n    childSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n            this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\r\n                if (item.npreregno === event.dataItem.npreregno&&item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                }\r\n                   \r\n            })\r\n        let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\r\n            return item.slected===true\r\n        })\r\n        if (data === true) {\r\n            this.props.Login.masterData.ReleaseSample.map(item => {\r\n                if (event.dataItem.npreregno === item.npreregno) {\r\n                    item.selected = checked;\r\n                }\r\n            })\r\n            this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n                if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n                if (event.dataItem.ntransactionsamplecode === item.ntransactionsamplecode) {\r\n                    item.selected = checked;\r\n                    this.collectData(item)\r\n                }\r\n            })\r\n            let data = this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].every(item => {\r\n                return item.selected===true\r\n            })\r\n            if (data === true) {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItem.npreregno === item.npreregno) {\r\n                        item.selected = checked;\r\n                    }\r\n                })\r\n            }\r\n            else{\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                    if (event.dataItem.npreregno === item.npreregno) {\r\n                        item.selected = false;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        \r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo); \r\n    }\r\n    subChildSelectionChange = (event) => {\r\n        let x=[]\r\n        const checked = event.syntheticEvent.target.checked;\r\n        this.props.Login.masterData.ReleaseTest[event.dataItem.ntransactionsamplecode].map(item => {\r\n            if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n                item.selected = checked;\r\n                this.collectData(item)\r\n            }\r\n               \r\n        })\r\n        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map(item => {\r\n\r\n\r\n                if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                    if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\r\n                        x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]\r\n                    }\r\n                }\r\n\r\n            })\r\n            let y = x.filter(t => t.selected === true);\r\n            if (x.length === y.length) {\r\n                this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\r\n                    if (t.ntransactionsamplecode === y[0].ntransactionsamplecode) {\r\n                        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = true\r\n                    }\r\n                })\r\n\r\n        }\r\n            else {\r\n                this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno].map((t, i) => {\r\n                    if (t.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                        this.props.Login.masterData.ReleaseSubSample[event.dataItem.npreregno][i].selected = false\r\n                    }\r\n                })\r\n        }\r\n                this.state.dataResult.data.map(item => {\r\n\r\n\r\n                if (item.npreregno === event.dataItem.npreregno) {\r\n                    if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\r\n                        x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\r\n                    }\r\n                }\r\n\r\n            })\r\n            let y1 = x.filter(t => t.selected === true);\r\n            if (x.length === y1.length) {\r\n                this.state.dataResult.data.map((t, i) => {\r\n                    if (t.npreregno === y1[0].npreregno) {\r\n                        this.state.dataResult.data[i].selected = true\r\n                    }\r\n                })\r\n\r\n        }\r\n            else {\r\n                this.state.dataResult.data.map((t, i) => {\r\n                    if(t.npreregno===event.dataItem.npreregno){\r\n                    this.state.dataResult.data[i].selected = false\r\n                    } \r\n                })\r\n        }\r\n   \r\n    }\r\n    collectData = (item,checkedflag) => {\r\n            let npreregno = this.state.npreregno || []\r\n        let ntransactionsamplecode=this.state.ntransactionsamplecode||[]\r\n        let ntransactiontestcode = this.state.ntransactiontestcode || []\r\n                        if (item.selected === true) {\r\n                        if (!npreregno.includes(item.npreregno)) {\r\n                            npreregno.push(item.npreregno)\r\n                        }\r\n                        if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode)\r\n                        }\r\n                        if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                            ntransactiontestcode.push(item.ntransactiontestcode)\r\n                        }\r\n                    }\r\n                    else {\r\n                        const npreregno1 = npreregno.filter(data => data !== item.npreregno )\r\n                        npreregno = npreregno1\r\n    \r\n                        const ntransactionsamplecode1 = ntransactionsamplecode.filter(data => data !== item.ntransactionsamplecode)\r\n                        ntransactionsamplecode = ntransactionsamplecode1\r\n    \r\n                        const ntransactiontestcode1 = ntransactiontestcode.filter(data => data!== item.ntransactiontestcode)\r\n                        ntransactiontestcode = ntransactiontestcode1\r\n                    }   \r\n        //      const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         data: undefined, dataState: undefined,\r\n        //         npreregno: npreregno,\r\n        //         ntransactionsamplecode:ntransactionsamplecode,\r\n        //         ntransactiontestcode:ntransactiontestcode\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({npreregno:checkedflag===false?[]:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode})\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData,\r\n    getSubSampleBySample, getReleaseSelectedSamples, getReleaseSelectedSubSamples, getTestBySample,\r\n    getReleaseSelectedTest, getReleaseSelectedSampleSubSampleTest, getReleaseRegistrationType, getReleaseRegistrationSubType,\r\n    getReleaseFilterStatus, getReleaseApprovalVersion, getReleaseFilterBasedTest, getReleaseSample,getCOAReportType\r\n,generateReport\r\n})(injectIntl(COARelease));"]},"metadata":{},"sourceType":"module"}