{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import PerfectScrollbar from'react-perfect-scrollbar';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,filterColumnData,changeStorageCategoryFilter,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,fetchStorageCategory,copySampleStorageVersion,crudSampleStorageLocation}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import TreeEditable from\"../../components/form-tree-editable/TreeEditable\";import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddTreeview from'./AddTreeview';import AddTreeProperties from'./AddTreeProperties';import{Splitter}from'@progress/kendo-react-layout';import TransactionListMaster from'../../components/TransactionListMaster';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';import StorageCategoryFilter from'./StorageCategoryFilter';import{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';var SampleStorageLocation=/*#__PURE__*/function(_Component){_inherits(SampleStorageLocation,_Component);var _super=_createSuper(SampleStorageLocation);function SampleStorageLocation(_props){var _this;_classCallCheck(this,SampleStorageLocation);_this=_super.call(this,_props);_this.onChange=function(event){_this.setState({panes:event.newState});};_this.addChildNode=function(e,clickedItem){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.items=item.items||[];item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}return item;});_this.setState({treeData:newData});};_this.equalNode=function(e,clickedItem){var parentItem={};var parentFound=false;var newData=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){if(item.items){if(parentFound){parentItem=item;parentFound=false;}}if(item.id===clickedItem.id){parentFound=true;}return item;});if(parentItem.text===undefined){newData.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});_this.setState({treeData:newData});}else{newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}return item;});_this.setState({treeData:newData});}};_this.deleteNode=function(clickedItem){if(clickedItem.root&&clickedItem.root===true){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PARENTNODENOTALLOWTODELETE\"}));}else{var newData=removeItems(_this.state.treeData,\"items\",function(item){return item.id===clickedItem.id;});_this.setState({treeData:newData});}};_this.editRecord=function(e,clickedItem){_this.setState({toggleAction:!_this.state.toggleAction});};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Approve\"||_this.props.Login.operation===\"copy\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.itemRender=function(props){if(_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,props.item.editable?/*#__PURE__*/React.createElement(Form.Group,{className:\"k-editable-text-wrap\"},/*#__PURE__*/React.createElement(Form.Control,{id:\"nodename\",name:\"nodename\",type:\"text\",onKeyDown:function onKeyDown(e){return e.stopPropagation();},value:props.item.text,autoFocus:true,autoComplete:\"off\",onChange:function onChange(e){return _this.handleChange(e,props.item);},onBlur:function onBlur(e){return _this.handleBlur(e,props.item);}})):/*#__PURE__*/React.createElement(\"span\",null,props.item.text));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,props.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                            \".concat(props.item.editable?\"active-node\":\"\",\"\\n                            \").concat(props.item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \")},props.item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):props.item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):props.item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):props.item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),props.item.text),props.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level1\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EQUALNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.equalNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CHILDNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.addChildNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-edit k-i-pencil\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){e.stopPropagation();_this.editRecord(e,props.item);}}),!props.item.isRoot?/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-delete\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(e){e.stopPropagation();_this.deleteNode(props.item);}}):null):null):\"\");}};_this.onItemClick=function(event){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});_this.setState({treeData:newData});};_this.onExpandChange=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                        \".concat(item.selected?\"active-node\":\"\",\"\\n                        \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                        \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text),clickedItem.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-toggle m-l-half\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_PROPERTIES\"}),onClick:function onClick(e){return _this.setProperties(e,clickedItem);}})):null):\"\");}};_this.onItemClickView=function(event){// if (this.state.selectedItem) {\n//     let selectedobj = this.state.selectedItem;\n//         selectedobj.selected = false\n//     this.setState({\n//         selectedItem : selectedobj\n//     })\n// }\n// this.setState({\n//     selectedItem : event.item\n// })            \nvar newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});newData.map(function(data){_this.clearSelected(data,event.item);});_this.setState({treeDataView:newData});};_this.onExpandChangeView=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.setProperties=function(event,clickedItem){var editId=_this.state.controlMap.has(\"Edit SampleStorageLocation\")&&_this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;_this.props.openPropertyModal(clickedItem,editId);};_this.handleChange=function(e,clickedItem){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});_this.setState({treeData:newData});};_this.handleBlur=function(e,item){item.editable=false;_this.setState({toggleAction:!_this.state.toggleAction});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else{_this.onSaveSampleStorageLocation(saveType,formRef);}};_this.onSaveProperties=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;if(_this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT){if(_this.props.Login.clickedItem&&_this.props.Login.clickedItem!==undefined){var inputData=[];var jsondata={};var postParam=undefined;var count=0;// let isContaierFirstNode = -1;\nif(selectedRecord[\"locationlastnode\"]!==undefined&&selectedRecord[\"locationlastnode\"]===true){count=count+1;}if(selectedRecord[\"containerfirstnode\"]!==undefined&&selectedRecord[\"containerfirstnode\"]===true){count=count+1;}if(selectedRecord[\"containerlastnode\"]!==undefined&&selectedRecord[\"containerlastnode\"]===true){count=count+1;}if(count>1){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTONLYONE\"}));}else{var newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.id===_this.props.Login.clickedItem.item.id){item.locationlastnode=selectedRecord[\"locationlastnode\"]!==undefined?selectedRecord[\"locationlastnode\"]:false;item.containerfirstnode=selectedRecord[\"containerfirstnode\"]!==undefined?selectedRecord[\"containerfirstnode\"]:false;item.containerlastnode=selectedRecord[\"containerlastnode\"]!==undefined?selectedRecord[\"containerlastnode\"]:false;}if(item.selected&&item.selected===true){item.selected=false;}return item;});postParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\"};// if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n//     isContaierFirstNode = 1;\n// }\n// if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\n//     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n//         isContaierFirstNode = 2;\n//     } else {\n//         isContaierFirstNode = 3;\n//     }\n// }\n// inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \n//  selectedItem: this.props.Login.clickedItem.item.id};\njsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef,postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}};_this.onSaveSampleStorageLocation=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n//     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\nvar inputData=[];var jsondata={};var postParam=undefined;var countLevels=0;var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}if(item.expanded===false){item.expanded=true;}countLevels++;return item;});// let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n// let rhs = newData;\n// console.log(detailedDiff(lhs, rhs));\n// return;\n// postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\nif(countLevels>3){jsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=selectedRecord[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=selectedRecord[\"nstoragecategorycode\"].value;inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;if(_this.props.Login.operation===\"create\"){var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"create\",saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}else{inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];var _inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam,_this.props.Login.masterData,\"openModal\");// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_CREATEATLEASTFOURLEVELS\"}));}};_this.deleteSampleStorageLocation=function(ncontrolCode){var inputData=[];inputData[\"sampleStorageVersion\"]={};inputData[\"sampleStorageLocation\"]={};inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];var inputParam={methodUrl:\"SampleStorageLocation\",classUrl:\"samplestoragelocation\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageLocation(ncontrolCode);});};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilter(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.onApproveSampleStorageLocation=function(ncontrolCode){var inputData=[];var locationEnd=false;var storageStart=false;var storageEnd=false;var containers=[];mapTree(_this.state.treeDataView,\"items\",function(item){if(item.locationlastnode===true){locationEnd=true;}if(item.containerfirstnode===true){storageStart=true;containers.push({itemHierarchy:item.itemhierarchy,scontainercode:item.id});}if(item.containerlastnode===true){storageEnd=true;}return null;});if(locationEnd===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTLOCATIONEND\"}));return;}if(storageStart===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTSTORAGESTART\"}));return;}if(storageEnd===false){toast.warning(_this.props.intl.formatMessage({id:\"IDS_PLEASESELECTSTORAGEEND\"}));return;}var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"containers\"]=containers;inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"Approve\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"Approve\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.copySampleStorageversion=function(ncontrolCode){var inputData=[];var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageVersion\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"copy\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"copy\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var nfilterStorageCategory=_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0?_this.state.nfilterStorageCategory.value:0;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageLocation=function(addId){if(_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0){_this.props.fetchStorageCategory({userInfo:_this.props.Login.userInfo,id:uuid(),nfilterStorageCategory:_this.state.nfilterStorageCategory,addId:addId});}else{toast.warning(_this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGECATEGORY\"}));}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state={toggleAction:false,treeDataView:undefined,toggleActionView:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],panes:[{size:'50%',scrollable:false}],selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,selectedItem:undefined};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageLocation,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;var isComponentUpdated=false;var filterData=this.state.filterData;var selectedRecord=this.state.selectedRecord||{};if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}if(this.props.Login.treeData!==previousProps.Login.treeData){this.setState({treeData:this.props.Login.treeData});}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,selectedRecord:selectedRecord,filterStorageCategory:filterStorageCategory});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;if(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"render\",value:function render(){var _this4=this;var addId=this.state.controlMap.has(\"Add SampleStorageLocation\")&&this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageLocation\")&&this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageLocation\")&&this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageLocation\")&&this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageLocation\")&&this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"samplestoragelocation/getSelectedSampleStorageLocation\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var mandatoryFields=[{\"idsName\":\"IDS_STORAGECATEGORY\",\"dataField\":\"nstoragecategorycode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLESTORAGELOCATIONNAME\",\"dataField\":\"ssamplestoragelocationname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height\"},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",percentage:true,primaryIndex:1,onSecondaryPaneSizeChange:this.paneSizeChange,secondaryInitialSize:25,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMaster,{paneHeight:this.state.parentHeight,needMultiSelect:false,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.sampleStorageLocation||[],selectedMaster:[this.props.Login.masterData.selectedSampleStorageLocation],primaryKeyField:\"nsamplestoragelocationcode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageLocation(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"ssamplestoragelocationname\",selectedListName:\"selectedSampleStorageLocation\",objectName:\"LocationMaster\",listName:\"IDS_SAMPLESTORAGELOCATION\",filterColumnData:this.props.filterColumnData,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,hidePaging:false,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-common-wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this4.openStorageLocation(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2\",variant:\"link\",onClick:function onClick(){return _this4.reloadData();}// data-for=\"tooltip-common-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}}))),filterComponent:[{\"IDS_TESTFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]}),/*#__PURE__*/React.createElement(SplitterLayout,{vertical:true,borderColor:\"#999\",percentage:true,primaryIndex:1//secondaryInitialSize={400}\n,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3,style:{paddingRight:'0'}},/*#__PURE__*/React.createElement(TransactionListMaster,{masterList:this.props.Login.masterData.sampleStorageVersion||[],needMultiSelect:false,selectedMaster:[this.props.Login.masterData.selectedSampleStorageVersion],primaryKeyField:\"nsamplestorageversioncode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageVersion(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"nversionno\",mainFieldLabel:this.props.intl.formatMessage({id:\"IDS_VERSION\"}),selectedListName:\"selectedSampleStorageVersion\",objectName:\"Version\",listName:\"IDS_SAMPLESTORAGEVersion\",hideSearch:true,needValidation:false,needFilter:false,moreField:[],skip:this.state.detailSkip,take:this.state.detailTake,hidePaging:true,handlePageChange:this.handleDetailPageChange,splitModeClass:this.state.splitChangeWidthPercentage&&this.state.splitChangeWidthPercentage>50?'split-mode':this.state.splitChangeWidthPercentage>40?'split-md':''// actionIcons={\n//     [\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n//             controlname: \"faPencilAlt\",\n//             objectName: \"detailtoedit\",\n//             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n//             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n//         },\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//             controlname: \"faTrashAlt\",\n//             objectName: \"mastertodelete\",\n//             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n//             onClick: () => this.confirmDelete(deleteId)\n//         }\n//     ]\n// }\n})),/*#__PURE__*/React.createElement(Col,{md:9},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content grid-master tree-view-container\"},this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.length>0&&this.props.Login.masterData.selectedSampleStorageLocation?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap mr-2\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined  outline-secondary btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DRAFT\",defaultMessage:\"Draft\"})):this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.RETIRED?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-danger btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RETIRED\",defaultMessage:\"Retired\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-success btn-sm ml-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_APPROVED\",defaultMessage:\"Approved\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle 1 outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){return _this4.onEditSampleStorageLocation(_this4.props.Login.masterData.selectedSampleStorageVersion,_this4.props.Login.userInfo,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})):/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(copyId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),onClick:function onClick(e){return _this4.copySampleStorageversion(copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this4.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this4.onApproveSampleStorageLocation(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})):\"\")))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.treeDataView,expandIcons:true,selectField:'active-node',item:this.itemRenderView,onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView}))):\"\"))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGELOCATION\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.loadTreeProperties===true?[]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.loadTreeProperties?/*#__PURE__*/React.createElement(AddTreeProperties,{onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{}}):this.state.treeData?/*#__PURE__*/React.createElement(AddTreeview,{treeData:this.state.treeData,onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,storageCategoryList:this.props.Login.storageCategoryList||[],isOnlyDraft:this.props.Login.isOnlyDraft}):/*#__PURE__*/React.createElement(React.Fragment,null)}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageLocation;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,changeStorageCategoryFilter:changeStorageCategoryFilter,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,fetchStorageCategory:fetchStorageCategory,copySampleStorageVersion:copySampleStorageVersion,crudSampleStorageLocation:crudSampleStorageLocation})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","SampleStorageLocation","props","onChange","event","setState","panes","newState","addChildNode","e","clickedItem","newData","state","treeData","item","id","items","push","text","intl","formatMessage","expanded","editable","locationlastnode","containerfirstnode","containerlastnode","itemhierarchy","equalNode","parentItem","parentFound","undefined","deleteNode","root","warn","editRecord","toggleAction","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","operation","closeModal","loadEsign","Login","selectedId","onInputChange","target","type","name","checked","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","onItemClick","onExpandChange","forceUpdate","itemRenderView","toggleActionView","selected","setProperties","onItemClickView","treeDataView","result","indices","itemHierarchicalIndex","split","map","index","Number","itemText","i","length","clearSelected","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","masterData","selectedSampleStorageVersion","napprovalstatus","DRAFT","inputData","jsondata","postParam","count","info","inputListName","selectedObject","primaryKeyField","userInfo","selectedSampleStorageLocation","inputParam","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","screenData","countLevels","deleteSampleStorageLocation","ncontrolCode","searchRef","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","current","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","containers","itemHierarchy","scontainercode","warning","copySampleStorageversion","reloadData","Object","keys","onEditSampleStorageLocation","isOnlyDraft","sampleStorageVersion","openStorageLocation","addId","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","previousProps","isComponentUpdated","filterData","values","JSON","parse","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","innerObj","childObj","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","deleteId","copyId","approveId","filterParam","fetchUrl","fecthInputObject","searchFieldList","mandatoryFields","searchedData","sampleStorageLocation","indexOf","paddingRight","ssamplestoragelocationname","RETIRED","masterStatus","storageCategoryList","error","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\n\r\n\r\nclass SampleStorageLocation extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                    text: \"root\",\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n\r\n        this.setState({ panes: event.newState })\r\n\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n\r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n    addChildNode = (e, clickedItem) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.items = item.items || [];\r\n                item.items.push({\r\n                    id: uuid(),\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                    expanded: true,\r\n                    editable: false,\r\n                    locationlastnode: false,\r\n                    containerfirstnode: false,\r\n                    containerlastnode: false,\r\n                    itemhierarchy: \"\"\r\n                });\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false,\r\n                itemhierarchy: \"\"\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item)}\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `}>\r\n                                {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {props.item.text}\r\n                            </span>\r\n                            {props.item.editable ? (\r\n                                <>\r\n                                    <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"action-icon tree-level2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.addChildNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"k-icon k-i-edit k-i-pencil\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.editRecord(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    {!props.item.isRoot ? (\r\n                                        <span\r\n                                            className=\"k-icon k-i-delete\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.deleteNode(props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    ) : null}\r\n                                </>\r\n                            ) : null}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                        ${item.selected ? \"active-node\" : \"\"}\r\n                        ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                        `} >\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                            {clickedItem.item.editable ? (\r\n                                <>\r\n                                    {/* <li className=\"list-inline-item\"> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>\r\n                                    {/* </li> */}\r\n                                </>\r\n                            ) : null}\r\n                            {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })            \r\n\r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeDataView;\r\n                const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeDataView: newData});\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        this.props.openPropertyModal(clickedItem, editId);\r\n    };\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    handleBlur = (e, item) => {\r\n        item.editable = false;\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else {\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\r\n            if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n                let inputData = [];\r\n                let jsondata = {}\r\n                let postParam = undefined;\r\n                let count = 0;\r\n                // let isContaierFirstNode = -1;\r\n\r\n                if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (count > 1) {\r\n                    toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n                } else {\r\n                    let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                        if (item.id === this.props.Login.clickedItem.item.id) {\r\n                            item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                            item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                            item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                        }\r\n                        if (item.selected && item.selected === true) {\r\n                            item.selected = false;\r\n                        }\r\n                        return item;\r\n                    });\r\n                    postParam = { inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n                    // if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //     isContaierFirstNode = 1;\r\n                    // }\r\n                    // if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\r\n\r\n                    //     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //         isContaierFirstNode = 2;\r\n\r\n                    //     } else {\r\n                    //         isContaierFirstNode = 3;\r\n                    //     }\r\n                    // }\r\n\r\n\r\n                    // inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \r\n                    //  selectedItem: this.props.Login.clickedItem.item.id};\r\n\r\n                    jsondata[\"data\"] = newData;\r\n                    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                    inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                    inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\r\n                    inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n                    inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n                    const inputParam = {\r\n                        classUrl: \"samplestoragelocation\",\r\n                        methodUrl: \"SampleStorageLocation\",\r\n                        displayName: this.props.Login.inputParam.displayName,\r\n                        inputData: inputData,\r\n                        operation: \"update\", saveType, formRef, postParam\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        let containers = [];\r\n        mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.locationlastnode === true) {\r\n                locationEnd = true;\r\n            }\r\n            if (item.containerfirstnode === true) {\r\n                storageStart = true;\r\n                containers.push({ itemHierarchy: item.itemhierarchy, scontainercode: item.id });\r\n            }\r\n            if (item.containerlastnode === true) {\r\n                storageEnd = true;\r\n            }\r\n            return null;\r\n        });\r\n        if (locationEnd === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n            return;\r\n        }\r\n        if (storageStart === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n            return;\r\n        }\r\n        if (storageEnd === false) {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n            return;\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"containers\"] = containers;\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        let inputData = [];\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageLocation\") && this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n        const mandatoryFields = [\r\n            { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_SAMPLESTORAGELOCATIONNAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n        ]\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMaster\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageLocation]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) =>\r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_SAMPLESTORAGELOCATION\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMaster\r\n                                                    masterList={this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageVersion]}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master tree-view-container\">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm ml-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm ml-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                            }\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body>\r\n                                                                <TreeViewEditable\r\n                                                                    id=\"samplestoragelocation\"\r\n                                                                    name=\"samplestoragelocation\"\r\n                                                                    // label=\"Sample Storage Location\"\r\n                                                                    data={this.state.treeDataView}\r\n                                                                    expandIcons={true}\r\n                                                                    selectField={'active-node'}\r\n                                                                    item={this.itemRenderView}\r\n                                                                    onExpandChange={this.onExpandChangeView}\r\n                                                                    onItemClick={this.onItemClickView}\r\n                                                                />\r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGELOCATION\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.props.Login.loadTreeProperties ? (\r\n                                <AddTreeProperties\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                            ) : this.state.treeData ? (\r\n                                <AddTreeview\r\n                                    treeData={this.state.treeData}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    itemRender={this.itemRender}\r\n                                    onExpandChange={this.onExpandChange}\r\n                                    onItemClick={this.onItemClick}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                    isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}