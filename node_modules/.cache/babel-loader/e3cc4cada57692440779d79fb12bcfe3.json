{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\components\\\\data-grid\\\\SimpleGridWithSelection.jsx\";\nimport React from 'react';\nimport { AtTableWrap } from '../client-group.styles';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Grid, GridColumn as Column, GridNoRecords } from '@progress/kendo-react-grid';\nimport { process } from '@progress/kendo-data-query'; // import ReactTooltip from 'react-tooltip';\n\nimport { Card, Col, FormGroup, FormLabel, Row } from 'react-bootstrap';\nimport { FormControlStatic } from './data-grid.styles';\nimport { parse } from '@fortawesome/fontawesome-svg-core';\nimport SingleSelectionDataGrid from './SingleSelectionDataGrid';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { updateStore } from '../../actions';\nimport { connect } from 'react-redux';\n\nclass SimpleGridWithSelection extends React.Component {\n  constructor(_props) {\n    super(_props);\n\n    this.expandChange = event => {\n      let change = [];\n      let childfalsearray = this.props.Login.childfalsearray || [];\n      const isExpanded = event.dataItem.expanded === undefined ? event.dataItem.aggregates : event.dataItem.expanded;\n\n      if (this.props.hasSubChild && event.value === true) {\n        event.dataItem.expanded = !isExpanded;\n        this.setState({\n          showChild: false\n        });\n        this.detailBand(event);\n      } else {\n        event.dataItem.expanded = !isExpanded;\n        childfalsearray.push(event.dataItem);\n        change = false;\n        this.setState({\n          isExpanded\n        });\n      } // let childfalsearray=this.props.Login.childfalsearray||[]\n      //  childfalsearray.push(event.dataItem)\n\n\n      let parentData = this.props.childList ? this.props.childList.every(item => {\n        return item.expanded === true;\n      }) : this.props.dataResult.every(item => {\n        return item.expanded === true;\n      });\n\n      if (parentData === true) {\n        change = true;\n      } else {\n        change = false;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          change: change,\n          childfalsearray: childfalsearray,\n          checkFlag: \"2\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.detailBand = props => {\n      return /*#__PURE__*/React.createElement(Row, {\n        bsPrefix: \"margin_class\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }, this.props.hasSubChild ? /*#__PURE__*/React.createElement(SingleSelectionDataGrid, {\n        hasSubChild: this.props.hasSubChild,\n        subChildDataResult: this.props.subChildDataResult && this.props.subChildDataResult || [],\n        extractedColumnList: this.props.subChildColumnList,\n        subChildSelectionChange: this.props.subChildSelectionChange,\n        subChildList: props.dataItem ? this.props.subChildList[props.dataItem[this.props.subChildMappingField]] || [] : this.props.subChildList[props[this.props.subChildMappingField]] || [],\n        subChildHeaderSelectionChange: this.props.subChildHeaderSelectionChange,\n        subChildSelectAll: this.props.subChildSelectAll,\n        selectedsubcild: this.props.selectedsubcild,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }) : \"\"), \" \");\n    };\n\n    console.log('--->---1');\n    this.subChildColumnList = [{\n      \"idsName\": \"IDS_TESTNAME\",\n      \"dataField\": \"ssamplearno\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    } // { \"idsName\": \"IDS_SAMPLENAME\", \"dataField\": \"Sample Name\", \"width\": \"100px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\n    //  { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"Container Type\", \"width\": \"100px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\n    ];\n    this.state = {\n      status: false\n    };\n    this.setState({\n      status: false\n    });\n  } // expandChange = (event) => {\n  //      const isExpanded =true\n  //     //     event.dataItem.expanded === undefined ?\n  //     //         event.dataItem.aggregates : event.dataItem.expanded;\n  //     // if (this.props.hasSubChild && event.value === true) {\n  //         event.dataItem.expanded = true;\n  //         this.props.childHandleExpandChange(event, this.props.dataState)\n  //     // }\n  //     // else {\n  //     //     event.dataItem.expanded = !isExpanded;\n  //          this.setState({ isExpanded });\n  //     // }\n  // }\n  // componentDidMount() {\n  //     // this.expandData1.bind(this);\n  //     this.expandData1=() => {\n  //         console.log(\"dash-->>\", this.foo12._data[0].expanded)\n  //         //this.foo.onExpandChange();\n  //         let expanded = this.foo12._data[0].dataItem.expanded\n  //         this.setState({ expanded: true })\n  //         this.foo12._data.map((item, i) => {\n  //             this.foo12._data[i].dataItem['expanded'] = {}\n  //             this.foo12._data[i].dataItem['expanded'] = true\n  //             this.detailBand(this.foo12._data[i]);\n  //         })\n  //     }\n  //  }      \n\n\n  componentDidMount() {\n    // this.expandData1.bind(this);\n    console.log('--->---2'); // this.expandData1();\n  }\n\n  expandData1() {\n    this.setState({\n      expanded: true\n    });\n\n    this.foo12._data.map((item, i) => {\n      if (this.foo12._data[i].dataItem['expanded'] === undefined || this.foo12._data[i].dataItem['expanded'] !== true) {\n        this.foo12._data[i].dataItem['expanded'] = true;\n      } else {\n        this.foo12._data[i].dataItem['expanded'] = false;\n      }\n\n      this.detailBand(this.foo12._data[i]);\n    });\n\n    if (this.props.Login.childfalsearray && this.props.Login.childfalsearray.length !== 0) {\n      this.props.Login.childfalsearray.map(item => {\n        item['expanded'] = true;\n        this.detailBand(item);\n      });\n    }\n  }\n\n  render() {\n    console.log(\"detailband\", \"14\");\n    return /*#__PURE__*/React.createElement(AtTableWrap, {\n      className: \"at-list-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid //    data={this.props.childDataResult}\n    // ref={this.props.foo1}\n    , {\n      ref: foo12 => this.foo12 = foo12,\n      data: process(this.props.childList, {\n        skip: 0,\n        take: this.props.childList.length\n      }),\n      selectedField: \"selected\",\n      expandField: this.props.expandField ? this.props.expandField : false,\n      detail: this.props.hideDetailBand ? false : this.detailBand,\n      onExpandChange: this.expandChange,\n      onSelectionChange: this.props.childSelectionChange,\n      onHeaderSelectionChange: this.props.headerSelectionChange,\n      scrollable: this.props.scrollable,\n      selectable: {\n        enabled: true,\n        drag: false,\n        cell: false,\n        mode: 'multiple'\n      },\n      onRowClick: this.props.rowClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Column, {\n      field: \"selected\",\n      width: \"50px\",\n      title: this.props.title //   headerSelectionValue={this.props.selectAll}\n      ,\n      headerSelectionValue: Object.values(this.props.childList).every(dd => {\n        return dd.selected === true;\n      }) ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }), this.props.extractedColumnList.map((item, index) => /*#__PURE__*/React.createElement(Column, {\n      key: index,\n      title: this.props.intl.formatMessage({\n        id: item.idsName\n      }),\n      cell: row => /*#__PURE__*/React.createElement(\"td\", {\n        //data-for=\"tooltip-samplegrid-wrap\"\n        \"data-tip\": row[\"dataItem\"][item.dataField],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 33\n        }\n      }, item.isIdsField ? /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: row[\"dataItem\"][item.dataField],\n        defaultMessage: row[\"dataItem\"][item.dataField],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 56\n        }\n      }) : row[\"dataItem\"][item.dataField]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  updateStore\n})(injectIntl(SimpleGridWithSelection));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/data-grid/SimpleGridWithSelection.jsx"],"names":["React","AtTableWrap","FormattedMessage","injectIntl","Grid","GridColumn","Column","GridNoRecords","process","Card","Col","FormGroup","FormLabel","Row","FormControlStatic","parse","SingleSelectionDataGrid","DEFAULT_RETURN","updateStore","connect","SimpleGridWithSelection","Component","constructor","props","expandChange","event","change","childfalsearray","Login","isExpanded","dataItem","expanded","undefined","aggregates","hasSubChild","value","setState","showChild","detailBand","push","parentData","childList","every","item","dataResult","updateInfo","typeName","data","checkFlag","subChildDataResult","subChildColumnList","subChildSelectionChange","subChildList","subChildMappingField","subChildHeaderSelectionChange","subChildSelectAll","selectedsubcild","console","log","state","status","componentDidMount","expandData1","foo12","_data","map","i","length","render","skip","take","expandField","hideDetailBand","childSelectionChange","headerSelectionChange","scrollable","enabled","drag","cell","mode","rowClick","title","Object","values","dd","selected","extractedColumnList","index","intl","formatMessage","id","idsName","row","dataField","isIdsField","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,YAA7C;AACA,SAASC,IAAT,EAAeC,UAAU,IAAIC,MAA7B,EAAqCC,aAArC,QAA0D,4BAA1D;AACA,SAASC,OAAT,QAAwB,4BAAxB,C,CACA;;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,SAApB,EAA+BC,SAA/B,EAA0CC,GAA1C,QAAqD,iBAArD;AACA,SAASC,iBAAT,QAAkC,oBAAlC;AACA,SAASC,KAAT,QAAsB,mCAAtB;AACA,OAAOC,uBAAP,MAAoC,2BAApC;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SACIC,WADJ,QAEQ,eAFR;AAGA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,uBAAN,SAAsCpB,KAAK,CAACqB,SAA5C,CAAsD;AAClDC,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACf,UAAMA,MAAN;;AADe,SAmDnBC,YAnDmB,GAmDHC,KAAD,IAAW;AACtB,UAAIC,MAAM,GAAC,EAAX;AAEA,UAAIC,eAAe,GAAC,KAAKJ,KAAL,CAAWK,KAAX,CAAiBD,eAAjB,IAAkC,EAAtD;AAEA,YAAME,UAAU,GACZJ,KAAK,CAACK,QAAN,CAAeC,QAAf,KAA4BC,SAA5B,GACIP,KAAK,CAACK,QAAN,CAAeG,UADnB,GACgCR,KAAK,CAACK,QAAN,CAAeC,QAFnD;;AAIA,UAAI,KAAKR,KAAL,CAAWW,WAAX,IAA0BT,KAAK,CAACU,KAAN,KAAgB,IAA9C,EAAoD;AAChDV,QAAAA,KAAK,CAACK,QAAN,CAAeC,QAAf,GAA0B,CAACF,UAA3B;AACA,aAAKO,QAAL,CAAc;AAACC,UAAAA,SAAS,EAAE;AAAZ,SAAd;AAEA,aAAKC,UAAL,CAAgBb,KAAhB;AAGH,OAPD,MAQK;AACDA,QAAAA,KAAK,CAACK,QAAN,CAAeC,QAAf,GAA0B,CAACF,UAA3B;AACAF,QAAAA,eAAe,CAACY,IAAhB,CAAqBd,KAAK,CAACK,QAA3B;AACAJ,QAAAA,MAAM,GAAG,KAAT;AAEA,aAAKU,QAAL,CAAc;AAAEP,UAAAA;AAAF,SAAd;AACH,OAvBqB,CAwBtB;AACA;;;AACC,UAAIW,UAAU,GACd,KAAKjB,KAAL,CAAWkB,SAAX,GAAuB,KAAKlB,KAAL,CAAWkB,SAAX,CAAqBC,KAArB,CAA2BC,IAAI,IAAI;AACtD,eAAOA,IAAI,CAACZ,QAAL,KAAkB,IAAzB;AACH,OAFsB,CAAvB,GAEK,KAAKR,KAAL,CAAWqB,UAAX,CAAsBF,KAAtB,CAA4BC,IAAI,IAAI;AACrC,eAAOA,IAAI,CAACZ,QAAL,KAAkB,IAAzB;AACH,OAFI,CAHL;;AAMJ,UAAIS,UAAU,KAAK,IAAnB,EAAyB;AACpBd,QAAAA,MAAM,GAAG,IAAT;AACJ,OAFD,MAGK;AACAA,QAAAA,MAAM,GAAG,KAAT;AACJ;;AACE,YAAMmB,UAAU,GAAG;AACfC,QAAAA,QAAQ,EAAE7B,cADK;AAEf8B,QAAAA,IAAI,EAAE;AACFrB,UAAAA,MAAM,EAAEA,MADN;AAEFC,UAAAA,eAAe,EAAEA,eAFf;AAGFqB,UAAAA,SAAS,EAAC;AAHR;AAFS,OAAnB;AASA,WAAKzB,KAAL,CAAWL,WAAX,CAAuB2B,UAAvB;AACH,KAnGkB;;AAAA,SAiInBP,UAjImB,GAiILf,KAAD,IAAW;AACpB,0BACI,oBAAC,GAAD;AAAK,QAAA,QAAQ,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,KAAKA,KAAL,CAAWW,WAAX,gBACE,oBAAC,uBAAD;AACQ,QAAA,WAAW,EAAE,KAAKX,KAAL,CAAWW,WADhC;AAEQ,QAAA,kBAAkB,EAAE,KAAKX,KAAL,CAAW0B,kBAAX,IAAiC,KAAK1B,KAAL,CAAW0B,kBAA5C,IAAkE,EAF9F;AAGQ,QAAA,mBAAmB,EAAE,KAAK1B,KAAL,CAAW2B,kBAHxC;AAIQ,QAAA,uBAAuB,EAAE,KAAK3B,KAAL,CAAW4B,uBAJ5C;AAKI,QAAA,YAAY,EAAE5B,KAAK,CAACO,QAAN,GAAiB,KAAKP,KAAL,CAAW6B,YAAX,CAAyB7B,KAAK,CAACO,QAAN,CAAe,KAAKP,KAAL,CAAW8B,oBAA1B,CAAzB,KAA8E,EAA/F,GACR,KAAK9B,KAAL,CAAW6B,YAAX,CAAyB7B,KAAK,CAAC,KAAKA,KAAL,CAAW8B,oBAAZ,CAA9B,KAAqE,EAN/E;AAOQ,QAAA,6BAA6B,EAAE,KAAK9B,KAAL,CAAW+B,6BAPlD;AAQI,QAAA,iBAAiB,EAAE,KAAK/B,KAAL,CAAWgC,iBARlC;AASI,QAAA,eAAe,EAAE,KAAKhC,KAAL,CAAWiC,eAThC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,GAcM,EAfZ,CADJ,MADJ;AAoBH,KAtJkB;;AAEfC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEA,SAAKR,kBAAL,GAA0B,CAAC;AAAE,iBAAW,cAAb;AAA6B,mBAAa,aAA1C;AAAyD,eAAS,OAAlE;AAA2E,wBAAkB,YAA7F;AAA2G,qBAAe;AAA1H,KAAD,CACtB;AACA;AAFsB,KAA1B;AAIA,SAAKS,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE;AADC,KAAb;AAIA,SAAKxB,QAAL,CAAc;AAACwB,MAAAA,MAAM,EAAC;AAAR,KAAd;AACH,GAdiD,CAelD;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;;;AACAC,EAAAA,iBAAiB,GAAG;AAChB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAFgB,CAGjB;AAED;;AAkDFI,EAAAA,WAAW,GAAG;AAEV,SAAK1B,QAAL,CAAc;AAAEL,MAAAA,QAAQ,EAAE;AAAZ,KAAd;;AACI,SAAKgC,KAAL,CAAWC,KAAX,CAAiBC,GAAjB,CAAqB,CAACtB,IAAD,EAAOuB,CAAP,KAAa;AAE9B,UAAK,KAAKH,KAAL,CAAWC,KAAX,CAAiBE,CAAjB,EAAoBpC,QAApB,CAA6B,UAA7B,MAA6CE,SAA9C,IAA6D,KAAK+B,KAAL,CAAWC,KAAX,CAAiBE,CAAjB,EAAoBpC,QAApB,CAA6B,UAA7B,MAA6C,IAA9G,EAAqH;AACjH,aAAKiC,KAAL,CAAWC,KAAX,CAAiBE,CAAjB,EAAoBpC,QAApB,CAA6B,UAA7B,IAA2C,IAA3C;AAEH,OAHD,MAIK;AACD,aAAKiC,KAAL,CAAWC,KAAX,CAAiBE,CAAjB,EAAoBpC,QAApB,CAA6B,UAA7B,IAA2C,KAA3C;AAEH;;AACD,WAAKQ,UAAL,CAAgB,KAAKyB,KAAL,CAAWC,KAAX,CAAiBE,CAAjB,CAAhB;AAKH,KAfD;;AAiBA,QAAI,KAAK3C,KAAL,CAAWK,KAAX,CAAiBD,eAAjB,IAAkC,KAAKJ,KAAL,CAAWK,KAAX,CAAiBD,eAAjB,CAAiCwC,MAAjC,KAA0C,CAAhF,EAAmF;AAEnF,WAAK5C,KAAL,CAAWK,KAAX,CAAiBD,eAAjB,CAAiCsC,GAAjC,CAAqCtB,IAAI,IAAG;AACxCA,QAAAA,IAAI,CAAC,UAAD,CAAJ,GAAmB,IAAnB;AACA,aAAKL,UAAL,CAAgBK,IAAhB;AAAsB,OAF1B;AAIP;AAEA;;AAuBDyB,EAAAA,MAAM,GAAG;AACLX,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,IAAzB;AACA,wBAEI,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGI,oBAAC,IAAD,CACA;AACI;AAFJ;AAGI,MAAA,GAAG,EAAEK,KAAK,IAAI,KAAKA,KAAL,GAAaA,KAH/B;AAII,MAAA,IAAI,EAAEvD,OAAO,CAAC,KAAKe,KAAL,CAAWkB,SAAZ,EAAuB;AAAE4B,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,IAAI,EAAE,KAAK/C,KAAL,CAAWkB,SAAX,CAAqB0B;AAAtC,OAAvB,CAJjB;AAKI,MAAA,aAAa,EAAC,UALlB;AAMI,MAAA,WAAW,EAAE,KAAK5C,KAAL,CAAWgD,WAAX,GAAyB,KAAKhD,KAAL,CAAWgD,WAApC,GAAkD,KANnE;AAOI,MAAA,MAAM,EAAE,KAAKhD,KAAL,CAAWiD,cAAX,GAA4B,KAA5B,GAAoC,KAAKlC,UAPrD;AAQI,MAAA,cAAc,EAAE,KAAKd,YARzB;AASI,MAAA,iBAAiB,EAAE,KAAKD,KAAL,CAAWkD,oBATlC;AAUI,MAAA,uBAAuB,EAAE,KAAKlD,KAAL,CAAWmD,qBAVxC;AAWI,MAAA,UAAU,EAAE,KAAKnD,KAAL,CAAWoD,UAX3B;AAYI,MAAA,UAAU,EAAE;AACRC,QAAAA,OAAO,EAAE,IADD;AAERC,QAAAA,IAAI,EAAE,KAFE;AAGRC,QAAAA,IAAI,EAAE,KAHE;AAIRC,QAAAA,IAAI,EAAE;AAJE,OAZhB;AAkBK,MAAA,UAAU,EAAE,KAAKxD,KAAL,CAAWyD,QAlB5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAmBI,oBAAC,MAAD;AACI,MAAA,KAAK,EAAC,UADV;AAEI,MAAA,KAAK,EAAC,MAFV;AAGI,MAAA,KAAK,EAAE,KAAKzD,KAAL,CAAW0D,KAHtB,CAII;AAJJ;AAKI,MAAA,oBAAoB,EAAEC,MAAM,CAACC,MAAP,CAAc,KAAK5D,KAAL,CAAWkB,SAAzB,EAAoCC,KAApC,CAA2C0C,EAAD,IAAQ;AACpE,eAAOA,EAAE,CAACC,QAAH,KAAgB,IAAvB;AACH,OAFqB,IAEjB,IAFiB,GAEV,KAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBJ,EA+BK,KAAK9D,KAAL,CAAW+D,mBAAX,CAA+BrB,GAA/B,CAAmC,CAACtB,IAAD,EAAO4C,KAAP,kBAChC,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,KAAb;AACI,MAAA,KAAK,EAAE,KAAKhE,KAAL,CAAWiE,IAAX,CAAgBC,aAAhB,CAA8B;AAAEC,QAAAA,EAAE,EAAE/C,IAAI,CAACgD;AAAX,OAA9B,CADX;AAEI,MAAA,IAAI,EAAGC,GAAD,iBACF;AACA;AACI,oBAAUA,GAAG,CAAC,UAAD,CAAH,CAAgBjD,IAAI,CAACkD,SAArB,CAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIKlD,IAAI,CAACmD,UAAL,gBAAkB,oBAAC,gBAAD;AAAkB,QAAA,EAAE,EAAEF,GAAG,CAAC,UAAD,CAAH,CAAgBjD,IAAI,CAACkD,SAArB,CAAtB;AAAuD,QAAA,cAAc,EAAED,GAAG,CAAC,UAAD,CAAH,CAAgBjD,IAAI,CAACkD,SAArB,CAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlB,GACKD,GAAG,CAAC,UAAD,CAAH,CAAgBjD,IAAI,CAACkD,SAArB,CALV,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CA/BL,CAHJ,CAFJ;AAqDH;;AA/MiD;;AAiNtD,MAAME,eAAe,GAAGpC,KAAK,IAAI;AAC7B,SAAQ;AAAE/B,IAAAA,KAAK,EAAE+B,KAAK,CAAC/B;AAAf,GAAR;AACH,CAFD;;AAMA,eAAeT,OAAO,CAAC4E,eAAD,EAAiB;AAAC7E,EAAAA;AAAD,CAAjB,CAAP,CAAuCf,UAAU,CAACiB,uBAAD,CAAjD,CAAf","sourcesContent":["import React from 'react';\r\nimport { AtTableWrap } from '../client-group.styles';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { Grid, GridColumn as Column, GridNoRecords } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { Card, Col, FormGroup, FormLabel, Row } from 'react-bootstrap';\r\nimport { FormControlStatic } from './data-grid.styles';\r\nimport { parse } from '@fortawesome/fontawesome-svg-core';\r\nimport SingleSelectionDataGrid from './SingleSelectionDataGrid';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {\r\n    updateStore\r\n } from '../../actions';\r\nimport { connect } from 'react-redux';\r\n \r\nclass SimpleGridWithSelection extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log('--->---1')\r\n\r\n        this.subChildColumnList = [{ \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"ssamplearno\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            // { \"idsName\": \"IDS_SAMPLENAME\", \"dataField\": \"Sample Name\", \"width\": \"100px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            //  { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"Container Type\", \"width\": \"100px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n        ];\r\n        this.state = {\r\n            status: false\r\n        }\r\n            \r\n        this.setState({status:false})\r\n    }\r\n    // expandChange = (event) => {\r\n    //      const isExpanded =true\r\n    //     //     event.dataItem.expanded === undefined ?\r\n    //     //         event.dataItem.aggregates : event.dataItem.expanded;\r\n\r\n    //     // if (this.props.hasSubChild && event.value === true) {\r\n    //         event.dataItem.expanded = true;\r\n    //         this.props.childHandleExpandChange(event, this.props.dataState)\r\n    //     // }\r\n    //     // else {\r\n    //     //     event.dataItem.expanded = !isExpanded;\r\n    //          this.setState({ isExpanded });\r\n    //     // }\r\n    // }\r\n    // componentDidMount() {\r\n    //     // this.expandData1.bind(this);\r\n    //     this.expandData1=() => {\r\n    //         console.log(\"dash-->>\", this.foo12._data[0].expanded)\r\n    //         //this.foo.onExpandChange();\r\n    //         let expanded = this.foo12._data[0].dataItem.expanded\r\n    //         this.setState({ expanded: true })\r\n    //         this.foo12._data.map((item, i) => {\r\n    //             this.foo12._data[i].dataItem['expanded'] = {}\r\n    //             this.foo12._data[i].dataItem['expanded'] = true\r\n    //             this.detailBand(this.foo12._data[i]);\r\n             \r\n         \r\n    //         })\r\n    //     }\r\n \r\n    //  }      \r\n    componentDidMount() {\r\n        // this.expandData1.bind(this);\r\n        console.log('--->---2')\r\n       // this.expandData1();\r\n \r\n     }   \r\n    expandChange = (event) => {\r\n        let change=[]\r\n\r\n        let childfalsearray=this.props.Login.childfalsearray||[]\r\n\r\n        const isExpanded =\r\n            event.dataItem.expanded === undefined ?\r\n                event.dataItem.aggregates : event.dataItem.expanded;\r\n\r\n        if (this.props.hasSubChild && event.value === true) {\r\n            event.dataItem.expanded = !isExpanded;\r\n            this.setState({showChild: false})\r\n\r\n            this.detailBand(event);\r\n\r\n\r\n        }\r\n        else {\r\n            event.dataItem.expanded = !isExpanded;\r\n            childfalsearray.push(event.dataItem)\r\n            change = false\r\n\r\n            this.setState({ isExpanded });\r\n        }\r\n        // let childfalsearray=this.props.Login.childfalsearray||[]\r\n        //  childfalsearray.push(event.dataItem)\r\n         let parentData =\r\n         this.props.childList ? this.props.childList.every(item => {\r\n             return item.expanded === true\r\n         }) : this.props.dataResult.every(item => {\r\n             return item.expanded === true\r\n         })\r\n     if (parentData === true) {\r\n          change = true\r\n     }\r\n     else {\r\n          change = false\r\n     }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                change: change,\r\n                childfalsearray: childfalsearray,\r\n                checkFlag:\"2\"\r\n                \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    expandData1() {\r\n       \r\n        this.setState({ expanded: true })\r\n            this.foo12._data.map((item, i) => {\r\n        \r\n                if ((this.foo12._data[i].dataItem['expanded'] === undefined) || (this.foo12._data[i].dataItem['expanded'] !== true)) {\r\n                    this.foo12._data[i].dataItem['expanded'] = true\r\n\r\n                }\r\n                else {\r\n                    this.foo12._data[i].dataItem['expanded'] = false\r\n\r\n                }\r\n                this.detailBand(this.foo12._data[i]);\r\n            \r\n                \r\n            \r\n        \r\n            })\r\n        \r\n            if (this.props.Login.childfalsearray&&this.props.Login.childfalsearray.length!==0) {\r\n                \r\n            this.props.Login.childfalsearray.map(item =>{\r\n                item['expanded'] = true \r\n                this.detailBand(item)})\r\n\r\n    }\r\n\r\n    }\r\n    detailBand = (props) => {\r\n        return (\r\n            <Row bsPrefix=\"margin_class\">\r\n                <Col md={12}>\r\n                    { this.props.hasSubChild ?\r\n                        <SingleSelectionDataGrid \r\n                                hasSubChild={this.props.hasSubChild}\r\n                                subChildDataResult={this.props.subChildDataResult && this.props.subChildDataResult || []}\r\n                                extractedColumnList={this.props.subChildColumnList}\r\n                                subChildSelectionChange={this.props.subChildSelectionChange}\r\n                            subChildList={props.dataItem ? this.props.subChildList[(props.dataItem[this.props.subChildMappingField])] || []\r\n                                : this.props.subChildList[(props[this.props.subChildMappingField])] || []}\r\n                                subChildHeaderSelectionChange={this.props.subChildHeaderSelectionChange}\r\n                            subChildSelectAll={this.props.subChildSelectAll}\r\n                            selectedsubcild={this.props.selectedsubcild}\r\n\r\n                            />\r\n                            \r\n                           :\"\" }\r\n                </Col> </Row>\r\n        )\r\n    }\r\n    render() {\r\n        console.log(\"detailband\",\"14\")\r\n        return (\r\n\r\n            <AtTableWrap className=\"at-list-table\">\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip-samplegrid-wrap\" /> */}\r\n                {/* <Tooltip openDelay={100} position=\"auto\" tooltipClassName=\"ad-tooltip\" anchorElement=\"element\" parentTitle={true}> */}\r\n                <Grid\r\n                //    data={this.props.childDataResult}\r\n                    // ref={this.props.foo1}\r\n                    ref={foo12 => this.foo12 = foo12}\r\n                    data={process(this.props.childList, { skip: 0, take: this.props.childList.length })}\r\n                    selectedField=\"selected\"\r\n                    expandField={this.props.expandField ? this.props.expandField : false}\r\n                    detail={this.props.hideDetailBand ? false : this.detailBand}\r\n                    onExpandChange={this.expandChange}\r\n                    onSelectionChange={this.props.childSelectionChange}\r\n                    onHeaderSelectionChange={this.props.headerSelectionChange}\r\n                    scrollable={this.props.scrollable}\r\n                    selectable={{\r\n                        enabled: true,\r\n                        drag: false,\r\n                        cell: false,\r\n                        mode: 'multiple'\r\n                      }} \r\n                     onRowClick={this.props.rowClick}>\r\n                    <Column\r\n                        field=\"selected\"\r\n                        width=\"50px\"\r\n                        title={this.props.title}\r\n                        //   headerSelectionValue={this.props.selectAll}\r\n                        headerSelectionValue={Object.values(this.props.childList).every((dd) => {\r\n                            return dd.selected === true\r\n                        }) ? true : false\r\n                        }\r\n                    />\r\n                    {/* <Column type='checkbox' width='50'></Column> */}\r\n\r\n                    {this.props.extractedColumnList.map((item, index) =>\r\n                        <Column key={index}\r\n                            title={this.props.intl.formatMessage({ id: item.idsName })}\r\n                            cell={(row) => (\r\n                                <td \r\n                                //data-for=\"tooltip-samplegrid-wrap\"\r\n                                    data-tip={row[\"dataItem\"][item.dataField]}>\r\n                                    {/* title={row[\"dataItem\"][item.dataField]}> */}\r\n                                    {item.isIdsField ? <FormattedMessage id={row[\"dataItem\"][item.dataField]} defaultMessage={row[\"dataItem\"][item.dataField]} />\r\n                                        : row[\"dataItem\"][item.dataField]}\r\n                                </td>)}\r\n                        />\r\n                    )}\r\n                </Grid>\r\n                {/* </Tooltip>           */}\r\n            </AtTableWrap>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps,{updateStore})(injectIntl(SimpleGridWithSelection));\r\n"]},"metadata":{},"sourceType":"module"}