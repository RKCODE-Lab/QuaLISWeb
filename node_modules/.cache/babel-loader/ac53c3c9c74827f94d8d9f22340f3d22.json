{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\basemaster\\\\SampleStorageRetrieval.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator } from '@fortawesome/free-solid-svg-icons';\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles'; //import SortableTree from 'react-sortable-tree'; \n\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { BasicConfig, BasicFuncs, Utils as QbUtils } from \"@react-awesome-query-builder/ui\";\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { MediaLabel, ProductList } from '../product/product.styled'; // import ReactTooltip from 'react-tooltip';\n\nimport { uuid } from \"uuidv4\";\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport AddTreeview from './AddTreeview';\nimport AddTreeProperties from './AddTreeProperties';\nimport { Splitter } from '@progress/kendo-react-layout';\nimport TransactionListMaster from '../../components/TransactionListMaster';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport SplitterLayout from 'react-splitter-layout';\nimport StorageCategoryFilter from './StorageCategoryFilter';\nimport { transactionStatus } from '../../components/Enumeration';\nimport Esign from '../audittrail/Esign';\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\nimport ModalShow from '../../components/ModalShow';\nimport rsapi from '../../rsapi';\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\nimport Axios from 'axios';\nimport StorageMappingFilter from './StorageMappingFilter';\nimport Preloader from '../../components/preloader/preloader.component';\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\nimport { groupBy, process } from '@progress/kendo-data-query'; //import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\n\nimport MatrixComponent from '../../components/MatrixComponent';\nimport FilterQueryBuilder from '../../components/FilterQueryBuilder';\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\n\nclass SampleStorageRetrieval extends Component {\n  constructor(props) {\n    super(props);\n    this.dragOverCnt = 0;\n    this.isDragDrop = false;\n    this.SEPARATOR = '_';\n    this.uniqueIDArr = [];\n    this.countforTree = 0;\n    this.pointedItem = undefined;\n    this.getitemPath = {};\n\n    this.openModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: true,\n          selectedRecord: {},\n          loadTreeProperties: false,\n          treeData: [{\n            text: \"root\",\n            expanded: true,\n            editable: true,\n            root: true,\n            id: uuid()\n          }],\n          operation: \"create\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         openModal: false, selectedRecord: {}\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedId = this.props.Login.selectedId;\n      let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n          selectedId = null;\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n        selectedId = null;\n        selectedRecord = {};\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: { openModal, loadEsign, selectedRecord, selectedId }\n      // }\n      // this.props.updateStore(updateInfo);\n      // this.getsamplestoragetransaction({}, this.props.Login.userInfo);\n\n\n      this.getDynamicFilterExecuteData();\n      this.setState({\n        //selectedRecord, \n        openModal: false,\n        isInitialRender: true\n      });\n    };\n\n    this.onInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === \"checkbox\") {\n        selectedRecord[event.target.name] = event.target.checked;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.loadTreeProperties === true) {\n        this.onSaveProperties(saveType, formRef);\n      } else if (this.state.openSpreadSheet) {\n        this.CRUDSampleStorageTransaction({ ...this.state.editedsheetData,\n          nsamplestoragemappingcode: this.state.isMultiSampleAdd ? Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\") : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\n          nsamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\n          sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\n          sheetUpdate: true,\n          userinfo: this.props.Login.userInfo,\n          isMultiSampleAdd: this.state.isMultiSampleAdd\n        }, 'create');\n      } else {\n        this.onSaveSampleStorageTransaction(saveType, formRef);\n      }\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.handleDetailPageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.reloadData = () => {\n      this.onFilterSubmit();\n    };\n\n    this.onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let isOnlyDraft = false;\n\n      if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\n        isOnlyDraft = true;\n      }\n\n      this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\n    };\n\n    this.openStorageMapping = addId => {\n      this.addSampleStorageMapping({\n        userInfo: this.props.Login.userInfo,\n        addId\n      });\n    };\n\n    this.deletesamplestoragemapping = param => {\n      this.CRUDSampleStorageTransaction({\n        'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\n        userinfo: this.props.Login.userInfo\n      }, 'delete');\n    };\n\n    this.addMultipleSample = param => {\n      this.setState({\n        //sheetData: JSON.parse(response[0].data.sheetData),\n        openModal: true,\n        isMultiSampleAdd: true,\n        openSpreadSheet: true,\n        //, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\n        loading: false\n      });\n    };\n\n    this.addSample = (param, nflag) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemappingSheetData\", {\n        isMultiSampleAdd: nflag === 2 ? true : false,\n        nsamplestoragemappingcode: nflag === 2 ? this.state.masterData.samplestorageretrieval.map(item => item.nsamplestoragemappingcode).join(\",\") : param.nsamplestoragemappingcode.toString()\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        if (nflag === 2) {\n          this.setState({\n            sheetData: JSON.parse(response[0].data.sheetData),\n            openModal: true,\n            isMultiSampleAdd: true,\n            openSpreadSheet: true,\n            //, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\n            loading: false\n          });\n        } else {\n          this.setState({\n            sheetData: JSON.parse(response[0].data.sheetData),\n            openModal: true,\n            isMultiSampleAdd: false,\n            openSpreadSheet: true,\n            editedsheetData: param,\n            Rows: param.nrow,\n            columns: param.ncolumn,\n            loading: false\n          });\n        }\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let selectedRecordFilter = this.state.selectedRecordFilter || {};\n\n      if (fieldName === 'nstoragecategorycode') {\n        return this.getSampleStorageLocation({\n          userinfo: this.props.Login.userInfo,\n          nstoragecategorycode: comboData.value\n        }, fieldName, comboData);\n      } else if (fieldName === 'ncontainertypecode') {\n        return this.getContainerStructure({\n          userinfo: this.props.Login.userInfo,\n          ncontainertypecode: comboData.value\n        }, fieldName, comboData);\n      } else if (fieldName === 'ncontainerstructurecode') {\n        selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\n        selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\n      } else if (fieldName === 'nsamplestoragelocationcode') {\n        return this.getSampleStorageLocation({\n          userinfo: this.props.Login.userInfo,\n          nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\n          nsamplestoragelocationcode: comboData.value\n        }, fieldName, comboData);\n      }\n\n      if (fieldName === 'nsamplestorageversioncode') {\n        selectedRecordFilter[fieldName] = comboData;\n        this.setState({\n          selectedRecordFilter\n        });\n      } else {\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord,\n          selectedRecordFilter\n        });\n      }\n    };\n\n    this.onSaveSampleStorageTransaction = saveType => {\n      let selectedRecord = this.state.selectedRecord;\n      let containerpathCodeArray = [];\n\n      if (this.state.operation === 'create') {\n        containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\n      }\n\n      const inputParam = {\n        nsamplestoragetransactioncode: selectedRecord['nsamplestoragetransactioncode'] ? parseInt(selectedRecord['nsamplestoragetransactioncode']) : 0,\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ? parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\n        ncontainertypecode: -1,\n        nproductcode: selectedRecord['nproductcode'].value,\n        ndirectionmastercode: -1,\n        ssamplestoragemappingname: \"-\",\n        nsamplestoragecontainerpathcode: this.state.operation === 'create' ? JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\n        containerpathsize: containerpathCodeArray.length,\n        nneedposition: 4,\n        ncontainerstructurecode: -1,\n        nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 1,\n        userinfo: this.props.Login.userInfo\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.CRUDSampleStorageTransaction(inputParam, this.state.operation);\n      }\n    };\n\n    this.getsamplestoragetransaction = (inputParam, userinfo) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragetransaction\", {\n        userinfo: this.props.Login.userInfo\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.childDataChange = selectedRecord => {\n      this.setState({\n        selectedRecord: { ...selectedRecord\n        },\n        isInitialRender: false\n      });\n    };\n\n    this.childSheetDataChange = sheetData => {\n      this.setState({\n        // selectedRecord: {\n        //     ...this.state.selectedRecord,\n        //     sheetData: {\n        //         ...this.state.selectedRecord.sheetData,\n        //         ...sheetData\n        //     }\n        // },\n        sheetData: { ...sheetData\n        },\n        isInitialRender: false\n      });\n    };\n\n    this.getActiveSampleStorageMappingById = (inputParam, userinfo) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/getActiveSampleStorageMappingById\", {\n        nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\n        userinfo: userinfo\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          } //,\n          // selectedRecord: {\n          //     ...this.state.selectedRecord\n          //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\n          // }\n          ,\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.filterColumnData = (filterValue, filterParam) => {\n      let masterData = filterParam.masterData;\n      let primaryKeyValue = 0;\n      let searchedData = undefined;\n\n      if (filterValue === \"\") {\n        if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\n          primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\n        }\n      } else {\n        if (filterParam.isjsondata) {\n          searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\n        } else {\n          searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\n        }\n\n        if (searchedData.length > 0) {\n          primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\n        }\n      }\n\n      if (primaryKeyValue !== 0) {\n        this.setState({\n          loading: true\n        });\n        return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject,\n          [filterParam.primaryKeyField]: primaryKeyValue\n        }).then(response => {\n          masterData[\"searchedData\"] = searchedData;\n          masterData = { ...masterData,\n            ...response.data\n          };\n\n          if (filterParam.sortField) {\n            sortData(masterData, filterParam.sortOrder, filterParam.sortField);\n          } else {\n            sortData(masterData);\n          }\n\n          this.setState({\n            masterData,\n            loading: false,\n            skip: 0,\n            take: 10,\n            selectedId: null\n          });\n        }).catch(error => {\n          this.setState({\n            loading: false\n          });\n\n          if (error.response.status === 500) {\n            toast.error(this.props.intl.formatMessage({\n              id: error.message\n            }));\n          } else {\n            toast.warn(this.props.intl.formatMessage({\n              id: error.response.data\n            }));\n          }\n        });\n      } else {\n        masterData[filterParam.selectedObject] = undefined;\n        masterData[\"searchedData\"] = [];\n        Object.keys(masterData).forEach(item => {\n          if (item !== filterParam.inputListName && item !== filterParam.selectedObject && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1) masterData[item] = [];\n        });\n        this.setState({\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false\n        });\n      }\n    };\n\n    this.CRUDSampleStorageTransaction = (inputParam, operation) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/\" + operation + \"samplestorageretrieval\", inputParam);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          isInitialRender: true,\n          selectedRecord: {},\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          },\n          openModal: false,\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onFilterSubmit = () => {\n      this.setState({\n        loading: true\n      });\n      let inputParamData = {\n        nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\n        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n        // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemapping\", inputParamData);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        let object = {\n          selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n          // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n\n        };\n        let filterData = this.generateBreadCrumData(object);\n        this.setState({\n          filterData,\n          masterData: { ...this.state.masterData,\n            ...response[0].data //   samplestorageretrieval: response[0].data['samplestorageretrieval'],\n\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onSampleMappingSaveClick = () => {\n      const mandatoryFields = this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined || this.state.selectedRecord[\"nneedposition\"] === false ? [{\n        \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\",\n        \"dataField\": \"nsamplestoragecontainerpathcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"nproductcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_AVAILABLESPACE\",\n        \"dataField\": \"nquantity\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"selectbox\"\n      }] : [{\n        \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\",\n        \"dataField\": \"nsamplestoragecontainerpathcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"nproductcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERTYPE\",\n        \"dataField\": \"ncontainertypecode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n        \"dataField\": \"ncontainerstructurecode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_DIRECTION\",\n        \"dataField\": \"ndirectionmastercode\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_AVAILABLESPACE\",\n        \"dataField\": \"nquantity\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"selectbox\"\n      }];\n      onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields, this.onSaveClick);\n    };\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataStateChange: event.dataState\n      });\n    };\n\n    this.approveSampleStorageMapping = event => {\n      let inputParamData = {};\n      this.setState({\n        loading: true\n      });\n      inputParamData = {\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/approveSampleStorageMapping\", inputParamData);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.fetchRecord = data => {\n      this.setState({\n        loading: true\n      });\n      let selectedRecord = this.state.selectedRecord;\n      let inputParamData = {\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestorageretrieval/addSampleStorageMapping\", inputParamData);\n      const url2 = rsapi.post(\"product/getProduct\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      const url3 = rsapi.post(\"samplestorageretrieval/getEditSampleStorageMapping\", {\n        'nsamplestoragemappingcode': data.nsamplestoragemappingcode,\n        'userinfo': this.props.Login.userInfo\n      });\n      urlArray = [url1, url2, url3];\n      Axios.all(urlArray).then(response => {\n        const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [], \"nsamplestoragecontainerpathcode\", \"scontainerpath\", undefined, undefined, true);\n        const storageMappingMapList = storageMappingMap.get(\"OptionList\");\n        let containerStructure = response[0].data['containerStructure'];\n        const containerTypeMap = constructOptionList(response[0].data['containerType'] || [], \"ncontainertypecode\", \"scontainertype\", undefined, undefined, true);\n        const containerTypeList = containerTypeMap.get(\"OptionList\");\n        const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [], \"ndirectionmastercode\", \"sdirection\", undefined, undefined, true);\n        const directionmasterList = directionmasterMap.get(\"OptionList\");\n        const containerstructureMap = constructOptionList(response[2].data['containerStructure'] || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, true);\n        const containerstructureList = containerstructureMap.get(\"OptionList\");\n        const productMap = constructOptionList(response[1].data['Product'] || [], \"nproductcode\", \"sproductname\", undefined, undefined, true);\n        const productList = productMap.get(\"OptionList\");\n        const editedObject = response[2].data.editsampleStorageMapping;\n        storageMappingMapList.unshift({\n          label: editedObject.scontainerpath,\n          value: editedObject.nsamplestoragecontainerpathcode\n        });\n        selectedRecord = {\n          ndirectionmastercode: {\n            label: editedObject.sdirection,\n            value: editedObject.ndirectionmastercode\n          },\n          nsamplestoragecontainerpathcode: {\n            label: editedObject.scontainerpath,\n            value: editedObject.nsamplestoragecontainerpathcode\n          },\n          nproductcode: {\n            label: editedObject.sproductname,\n            value: editedObject.nproductcode\n          },\n          ncontainertypecode: {\n            label: editedObject.scontainertype,\n            value: editedObject.ncontainertypecode\n          },\n          ncontainerstructurecode: {\n            label: editedObject.scontainerstructurename,\n            value: editedObject.ncontainerstructurecode\n          },\n          nneedposition: editedObject.nneedposition === 3 ? true : false,\n          directionmasterOptions: directionmasterList,\n          nquantity: editedObject.nquantity,\n          nrow: editedObject.nrow,\n          ncolumn: editedObject.ncolumn,\n          nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\n        };\n        this.setState({\n          openSpreadSheet: false,\n          openModal: true,\n          selectedRecord: { ...selectedRecord,\n            storageMappingMapOptions: storageMappingMapList,\n            productOptions: productList,\n            containerTypeOptions: containerTypeList,\n            containerStructureOptions: containerstructureList,\n            isInitialRender: true\n          },\n          operation: 'update',\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        }\n      } else if (event.target.type === 'select-one') {\n        selectedRecord[event.target.name] = event.target.value;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handlePageChangeFilter = event => {\n      this.setState({\n        kendoSkip: event.skip,\n        kendoTake: event.take\n      });\n    };\n\n    this.onChange = (immutableTree, config) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[\"tree\"] = immutableTree;\n      selectedRecord[\"config\"] = config;\n      selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\n      this.setState({\n        tree: immutableTree,\n        config: config,\n        selectedRecord: selectedRecord\n      });\n    };\n\n    this.processWithGroups = (data, dataState) => {\n      const aggregates = [{\n        field: \"navailablespace\",\n        aggregate: \"sum\"\n      }];\n      const groups = dataState.group;\n\n      if (groups) {\n        groups.map(group => group.aggregates = aggregates);\n      }\n\n      dataState.group = groups;\n      const newDataState = process(data, dataState); // setGroupIds({\n      //     data: newDataState.data,\n      //     group: dataState.group,\n      // });\n\n      return newDataState;\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.state = {\n      extractedColumnList: [{\n        \"idsName\": \"IDS_SAMPLESTORAGELOCATION\",\n        \"dataField\": \"ssamplestoragelocationname\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_SAMPLESTORAGEPATH\",\n        \"dataField\": \"scontainerpath\",\n        \"width\": \"450px\"\n      }, {\n        \"idsName\": \"IDS_POSITION\",\n        \"dataField\": \"sposition\",\n        \"width\": \"100px\"\n      }],\n      sheetData: {},\n      selectedRecordFilter: {},\n      treeData: [{\n        title: 'Chicken',\n        children: [{\n          title: 'Egg'\n        }]\n      }],\n      toggleAction: false,\n      treeDataView: undefined,\n      toggleActionView: false,\n      treeData: [{\n        //  text: \"root\",\n        text: this.props.intl.formatMessage({\n          id: \"IDS_ROOT\"\n        }),\n        expanded: true,\n        editable: true,\n        root: true,\n        id: uuid()\n      }],\n      panes: [{\n        size: '50%',\n        scrollable: false\n      }],\n      selectedRecord: {},\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      detailSkip: 0,\n      detailTake: 10,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      splitChangeWidthPercentage: 22,\n      selectedItem: undefined,\n      loading: false,\n      dataStateChange: {\n        take: 10,\n        skip: 0 // group: [\n        //     {\n        //         field: \"ssamplestoragelocationname\",\n        //     },\n        // ],\n\n      }\n    };\n    let fields = {};\n\n    if (this.state.extractedColumnList) {\n      this.state.extractedColumnList.map(field => {\n        if (field.dataField !== 'ssamplestoragelocationname' && field.dataField !== 'sproductname') {\n          fields = { ...fields,\n            [field.dataField]: {\n              \"label\": this.props.intl.formatMessage({\n                id: field.idsName\n              }),\n              \"type\": field.dataField === 'navailablespace' ? \"number\" : \"text\",\n              \"valueSources\": [\"value\", \"func\"],\n              \"mainWidgetProps\": {\n                \"valueLabel\": \"Name\",\n                \"valuePlaceholder\": this.props.intl.formatMessage({\n                  id: field.idsName\n                })\n              }\n            }\n          };\n        }\n      });\n    }\n\n    this.state = { ...this.state,\n      'fields': fields\n    };\n    this.searchRef = React.createRef();\n    this.dragClue = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== \"\" && props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    let {\n      filterData,\n      storageCategoryOptions,\n      selectedRecord,\n      controlMap,\n      userRoleControlRights,\n      storageLocationOptions,\n      sampleStorageVersionOptions,\n      masterData,\n      selectedRecordFilter,\n      fields\n    } = this.state;\n    let bool = false; ///////////////////////////////\n\n    if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\n      let queryBuilderFreezer = [];\n      bool = true;\n      this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.map(item => queryBuilderFreezer.push({\n        \"value\": item.nsamplestoragelocationcode,\n        \"title\": item.ssamplestoragelocationname\n      }));\n      fields = { ...fields,\n        'nsamplestoragelocationcode': {\n          \"label\": this.props.intl.formatMessage({\n            id: \"IDS_SAMPLESTORAGELOCATIONNAME\"\n          }),\n          \"type\": \"select\",\n          \"valueSources\": [\"value\"],\n          \"fieldSettings\": {\n            \"listValues\": queryBuilderFreezer\n          }\n        }\n      };\n    }\n\n    if (this.props.Login.masterData.sampleType !== previousProps.Login.masterData.sampleType) {\n      let queryBuilderFreezer = [];\n      bool = true;\n      this.props.Login.masterData.sampleType && this.props.Login.masterData.sampleType.map(item => queryBuilderFreezer.push({\n        \"value\": item.nproductcode,\n        \"title\": item.sproductname\n      }));\n      fields = { ...fields,\n        'nproductcode': {\n          \"label\": this.props.intl.formatMessage({\n            id: \"IDS_PRODUCT\"\n          }),\n          \"type\": \"select\",\n          \"valueSources\": [\"value\"],\n          \"fieldSettings\": {\n            \"listValues\": queryBuilderFreezer\n          }\n        }\n      };\n    } ///////////////////////////////\n\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      bool = true;\n      userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n    }\n\n    if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\n      bool = true;\n      const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\", \"sstoragecategoryname\", undefined, undefined, undefined);\n      storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedStorageCategory) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nstoragecategorycode: storageCategoryOptions.filter(item => item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\n      bool = true;\n      const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", undefined, undefined, undefined);\n      storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedSampleStorageLocation) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nsamplestoragelocationcode: storageLocationOptions.filter(item => item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\n      bool = true;\n      const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\", \"nversionno\", undefined, undefined, undefined);\n      sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedSampleStorageVersion) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nsamplestorageversioncode: sampleStorageVersionOptions.filter(item => item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      masterData = this.props.Login.masterData;\n      filterData = this.generateBreadCrumData(this.props.Login.masterData);\n    }\n\n    if (this.state.masterData !== previousState.masterData) {\n      bool = true;\n      filterData = this.generateBreadCrumData(this.state.masterData);\n    }\n\n    if (bool) {\n      this.setState({\n        storageCategoryOptions,\n        filterData,\n        selectedRecord,\n        controlMap,\n        userRoleControlRights,\n        storageLocationOptions,\n        sampleStorageVersionOptions,\n        masterData,\n        selectedRecordFilter,\n        fields\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  generateBreadCrumData(obj) {\n    const breadCrumbData = [];\n\n    if (this.state.masterData && this.state.masterData.filterStorageCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_STORAGECATEGORY\",\n        \"value\": obj.selectedStorageCategoryName && obj.selectedStorageCategoryName !== null ? obj.selectedStorageCategoryName : \"NA\"\n      } // ,\n      // {\n      //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\n      //     \"value\": obj.selectedSampleStorageLocation &&\n      //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\n      //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\n      // },\n      // {\n      //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\n      //     \"value\": obj.selectedSampleStorageVersion &&\n      //         obj.selectedSampleStorageVersion.nversionno !== null ?\n      //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\n      // }\n      );\n    }\n\n    return breadCrumbData;\n  }\n\n  getSampleStorageLocation(inputData, fieldName, comboData) {\n    let selectedRecordFilter = this.state.selectedRecordFilter || {};\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n\n    if (fieldName === 'nsamplestoragelocationcode') {\n      inputParamData = {\n        nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\n        nsamplestoragelocationcode: comboData.value,\n        userinfo: inputData.userinfo\n      };\n    } else {\n      inputParamData = {\n        nstoragecategorycode: comboData.value,\n        userinfo: inputData.userinfo\n      };\n    }\n\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemapping\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        storageLocationOptions,\n        sampleStorageVersionOptions\n      } = this.state;\n      let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", undefined, undefined, undefined);\n      storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\n      let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\", \"nversionno\", undefined, undefined, undefined);\n      sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\n      selectedRecordFilter = { ...selectedRecordFilter,\n        nsamplestoragelocationcode: storageLocationOptions.length > 0 ? storageLocationOptions[0] : [],\n        nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ? sampleStorageVersionOptions[0] : []\n      };\n      this.setState({\n        storageLocationOptions,\n        sampleStorageVersionOptions,\n        selectedRecordFilter: { ...selectedRecordFilter,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  addSampleStorageMapping() {\n    this.setState({\n      loading: true\n    });\n    let selectedRecord = this.state.selectedRecord;\n    let inputParamData = {\n      // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\n      nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n      // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\n      userinfo: this.props.Login.userInfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestorageretrieval/addSampleStorageMapping\", inputParamData);\n    const url2 = rsapi.post(\"product/getProduct\", {\n      'userinfo': this.props.Login.userInfo\n    });\n    const url3 = rsapi.post(\"containertype/getContainerType\", {\n      'userinfo': this.props.Login.userInfo\n    });\n    urlArray = [url1, url2];\n    Axios.all(urlArray).then(response => {\n      const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [], \"nsamplestoragecontainerpathcode\", \"scontainerpath\", undefined, undefined, true);\n      const storageMappingMapList = storageMappingMap.get(\"OptionList\");\n      let containerStructure = response[0].data['containerStructure'];\n      const containerTypeMap = constructOptionList(response[0].data['containerType'] || [], \"ncontainertypecode\", \"scontainertype\", undefined, undefined, true);\n      const containerTypeList = containerTypeMap.get(\"OptionList\");\n      const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [], \"ndirectionmastercode\", \"sdirection\", undefined, undefined, true);\n      const directionmasterList = directionmasterMap.get(\"OptionList\");\n      const containerstructureMap = constructOptionList(response[0].data['containerStructure'] || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, true);\n      const containerstructureList = containerstructureMap.get(\"OptionList\");\n      const productMap = constructOptionList(response[1].data['Product'] || [], \"nproductcode\", \"sproductname\", undefined, undefined, true);\n      const productList = productMap.get(\"OptionList\");\n      this.setState({\n        openModal: true,\n        selectedRecord: { ...selectedRecord,\n          storageMappingMapOptions: storageMappingMapList,\n          productOptions: productList,\n          containerTypeOptions: containerTypeList,\n          directionmasterOptions: directionmasterList,\n          // ncontainertypecode: containerTypeList[0],\n          // containerStructureOptions: containerstructureList,\n          // ncontainerstructurecode: containerstructureList[0],\n          nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\n          ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\n          isInitialRender: true\n        },\n        openSpreadSheet: false,\n        operation: 'create',\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  getContainerStructure(inputData, fieldName, comboData) {\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n    inputParamData = {\n      ncontainertypecode: comboData.value,\n      userinfo: inputData.userinfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestorageretrieval/getContainerStructure\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        containerStructureOptions,\n        selectedRecord\n      } = this.state;\n      let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, undefined);\n      containerStructureOptions = containerStructureList.get(\"OptionList\");\n      selectedRecord = { ...selectedRecord,\n        nrow: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.nrow : 1,\n        ncolumn: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.ncolumn : 1,\n        ncontainerstructurecode: containerStructureOptions.length > 0 ? containerStructureOptions[0] : [],\n        containerStructureOptions: containerStructureOptions.length > 0 ? [...containerStructureOptions] : []\n      };\n      this.setState({\n        selectedRecord: { ...selectedRecord,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  getDynamicFilterExecuteData(inputParam) {\n    this.setState({\n      loading: true\n    });\n    let selectedRecord = this.state.selectedRecord || {};\n    let obj = {\n      // ...inputParam.component, \n      label: 'samplestorageretrieval',\n      valuemember: 'nsamplestoragetransactioncode',\n      filterquery: selectedRecord.filterquery,\n      source: 'view_sampleretrieval',\n      userinfo: this.props.Login.userInfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"/samplestorageretrieval/getdynamicfilterexecutedata\", obj);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      console.log(response);\n      let masterData = this.state.masterData;\n      masterData = { ...masterData,\n        ...response[0].data\n      };\n      this.setState({\n        masterData: { ...masterData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      this.setState({\n        loading: false\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.info(error.response.data.rtn);\n      }\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.openModal && nextState.isInitialRender === false && nextState.selectedRecord !== this.state.selectedRecord) {\n      return false;\n    } else if (this.state.openModal && nextState.isInitialRender === false && nextState.sheetData !== this.state.sheetData) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const addId = this.state.controlMap.has(\"Add samplestorageretrieval\") && this.state.controlMap.get(\"Add samplestorageretrieval\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\n    const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"sampleStorageLocation\",\n      selectedObject: \"selectedSampleStorageLocation\",\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      fetchUrl: \"samplestorageretrieval/getActiveSampleStorageMappingById\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"ssamplestoragelocationname\"]\n    };\n    const breadCrumbData = this.state.filterData || [];\n    const confirmMessage = new ConfirmMessage();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Preloader, {\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1342,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-list-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1346,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1347,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-circle outline-grey\",\n      variant: \"link\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_SAMPLE\"\n      }),\n      onClick: () => this.addSample({}, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPuzzlePiece,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1354,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      className: \"btn btn-circle outline-grey\",\n      variant: \"link\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_REFRESH\"\n      }),\n      onClick: () => this.approveSampleStorageMapping(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1356,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1362,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1364,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"btn-user btn-primary-blue\",\n      onClick: () => this.getDynamicFilterExecuteData(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1365,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCalculator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 45\n      }\n    }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_EXECUTE\",\n      defaultMessage: \"Execute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1368,\n        columnNumber: 45\n      }\n    }))))), /*#__PURE__*/React.createElement(FilterQueryBuilder, {\n      fields: this.state.fields,\n      queryArray: this.state.queryArray,\n      skip: this.state.kendoSkip,\n      take: this.state.kendoTake,\n      onChange: this.onChange,\n      tree: this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree,\n      gridColumns: this.slideList,\n      filterData: this.props.Login.slideResult || [],\n      handlePageChange: this.handlePageChangeFilter,\n      static: true,\n      userInfo: this.props.Login.userInfo,\n      updateStore: this.props.updateStore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1374,\n        columnNumber: 28\n      }\n    }), this.state.masterData && this.state.masterData.samplestorageretrieval && /*#__PURE__*/React.createElement(DataGrid, {\n      isRefreshRequired: false // onGroupChange={this.handleGroupChange}\n      ,\n      primaryKeyField: 'nsamplestoragetransactioncode',\n      data: this.state.masterData && this.state.masterData.samplestorageretrieval,\n      dataResult: process(this.state.masterData.samplestorageretrieval || [], this.state.dataStateChange ? this.state.dataStateChange : {\n        skip: 0,\n        take: 10\n      }) // this.processWithGroups(this.state.masterData.samplestorageretrieval || [],\n      //     this.state.dataStateChange ? this.state.dataStateChange : {\n      //         take: 10,\n      //         skip: 0\n      //     })\n      ,\n      dataState: this.state.dataStateChange ? this.state.dataStateChange : {\n        skip: 0,\n        take: 10\n      },\n      dataStateChange: this.dataStateChange,\n      extractedColumnList: this.state.extractedColumnList,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      userInfo: this.props.Login.userInfo,\n      deleteRecord: this.deleteRecord,\n      addRecord: () => this.openStorageMapping(),\n      pageable: true,\n      scrollable: 'scrollable' // isComponent={true}\n      ,\n      gridHeight: '600px',\n      isActionRequired: true,\n      isToolBarRequired: true,\n      actionIcons: [{\n        title: this.props.intl.formatMessage({\n          id: \"IDS_ADDSAMPLE\"\n        }),\n        controlname: \"faPenSquare\",\n        hidden: false,\n        objectName: \"add\",\n        onClick: param => this.addSample(param, 1)\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1391,\n        columnNumber: 33\n      }\n    }))), this.state.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.state.openModal,\n      closeModal: this.closeModal,\n      size: this.state.openSpreadSheet ? 'xl' : \"\",\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.state.isMultiSampleAdd ? this.props.intl.formatMessage({\n        id: \"IDS_SAMPLESTORAGELOCATION\"\n      }) : this.state.editedsheetData.scontainerpath,\n      onSaveClick: this.onSampleMappingSaveClick,\n      esign: this.props.Login.loadEsign // className={\"wide-popup\"}\n      ,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1455,\n          columnNumber: 29\n        }\n      }) : this.state.openSpreadSheet ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MatrixComponent, {\n        Rows: this.state.Rows || 1,\n        userInfo: this.props.Login.userInfo,\n        columns: this.state.columns || 1,\n        selectedRecord: this.state.selectedRecord.sheetData || {},\n        sheetData: this.state.sheetData || {},\n        isMultiSampleAdd: this.state.isMultiSampleAdd,\n        childSheetDataChange: this.childSheetDataChange,\n        editedsheetData: this.state.editedsheetData,\n        multipleSheetData: this.state.masterData && this.state.masterData.samplestorageretrieval && process(this.state.masterData.samplestorageretrieval || [], this.state.dataStateChange ? this.state.dataStateChange : {\n          skip: 0,\n          take: 10\n        }).data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1463,\n          columnNumber: 33\n        }\n      })) : /*#__PURE__*/React.createElement(AddSampleStorageMapping, {\n        operation: this.state.operation,\n        selectedRecordFilter: this.state.selectedRecordFilter,\n        onInputChange: e => this.onInputChange(e),\n        onComboChange: this.onComboChange,\n        selectedRecord: this.state.selectedRecord || {},\n        childDataChange: this.childDataChange,\n        userInfo: this.props.Login.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1477,\n          columnNumber: 33\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1439,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService\n})(injectIntl(SampleStorageRetrieval));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageRetrieval.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faPuzzlePiece","faCalculator","toast","ListMaster","constructOptionList","getControlMap","onSaveMandatoryValidation","searchData","searchJsonData","showEsign","sortData","ReadOnlyText","ContentPanel","SearchIcon","DataGrid","BasicConfig","BasicFuncs","Utils","QbUtils","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","DEFAULT_RETURN","ListWrapper","MediaLabel","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","ModalShow","rsapi","AddSampleStorageMapping","Axios","StorageMappingFilter","Preloader","TransactionListMasterJsonView","groupBy","process","MatrixComponent","FilterQueryBuilder","Grid","GridColumn","SampleStorageRetrieval","constructor","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","treeData","text","expanded","editable","root","id","operation","closeModal","loadEsign","Login","selectedId","state","getDynamicFilterExecuteData","setState","isInitialRender","onInputChange","event","target","type","name","checked","value","onSaveClick","saveType","formRef","onSaveProperties","openSpreadSheet","CRUDSampleStorageTransaction","editedsheetData","nsamplestoragemappingcode","isMultiSampleAdd","Object","keys","sheetData","map","join","toString","nsamplestoragelocationcode","JSON","stringify","sheetUpdate","userinfo","userInfo","onSaveSampleStorageTransaction","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","e","skip","take","handleDetailPageChange","openFilter","showFilter","closeFilter","reloadData","onFilterSubmit","onEditSampleStorageLocation","selectedSampleStorageVersion","editId","handleSearch","searchedTreeData","searchRef","current","isOnlyDraft","masterData","sampleStorageVersion","length","openStorageMapping","addId","addSampleStorageMapping","deletesamplestoragemapping","param","selectedSampleStorageLocation","addMultipleSample","loading","addSample","nflag","urlArray","url1","post","samplestorageretrieval","item","all","then","response","parse","Rows","nrow","columns","ncolumn","catch","error","status","message","warn","onComboChange","comboData","fieldName","selectedRecordFilter","getSampleStorageLocation","nstoragecategorycode","getContainerStructure","ncontainertypecode","containerpathCodeArray","inputParam","nsamplestoragetransactioncode","parseInt","nproductcode","ndirectionmastercode","ssamplestoragemappingname","nsamplestoragecontainerpathcode","containerpathsize","nneedposition","ncontainerstructurecode","nquantity","userRoleControlRights","nformcode","ncontrolcode","screenData","getsamplestoragetransaction","childDataChange","childSheetDataChange","getActiveSampleStorageMappingById","filterValue","filterParam","primaryKeyValue","searchedData","inputListName","primaryKeyField","isjsondata","searchFieldList","fetchUrl","fecthInputObject","sortField","sortOrder","intl","formatMessage","selectedObject","forEach","unchangeList","indexOf","modalName","inputParamData","object","selectedStorageCategoryName","sstoragecategoryname","filterData","generateBreadCrumData","onSampleMappingSaveClick","mandatoryFields","dataStateChange","dataState","approveSampleStorageMapping","fetchRecord","url2","url3","storageMappingMap","storageMappingMapList","get","containerStructure","containerTypeMap","containerTypeList","directionmasterMap","directionmasterList","containerstructureMap","containerstructureList","productMap","productList","editedObject","editsampleStorageMapping","unshift","label","scontainerpath","sdirection","sproductname","scontainertype","scontainerstructurename","directionmasterOptions","storageMappingMapOptions","productOptions","containerTypeOptions","containerStructureOptions","onInputOnChange","handlePageChangeFilter","kendoSkip","kendoTake","onChange","immutableTree","config","sqlFormat","tree","processWithGroups","aggregates","field","aggregate","groups","group","newDataState","validateEsign","inputData","sreason","nreasoncode","spredefinedreason","password","extractedColumnList","title","children","toggleAction","treeDataView","toggleActionView","panes","size","scrollable","controlMap","Map","detailSkip","detailTake","settings","selectedItem","fields","dataField","idsName","createRef","dragClue","confirmMessage","getDerivedStateFromProps","masterStatus","componentDidUpdate","previousProps","previousState","storageCategoryOptions","storageLocationOptions","sampleStorageVersionOptions","bool","sampleStorageLocation","queryBuilderFreezer","push","ssamplestoragelocationname","sampleType","values","filterStorageCategory","filterStorageCategorylist","selectedStorageCategory","filter","sampleStorageLocationList","sampleStorageVersionList","nsamplestorageversioncode","componentDidMount","parentHeight","height","clientHeight","firstPane","obj","breadCrumbData","containerStructureList","valuemember","filterquery","source","console","log","info","rtn","shouldComponentUpdate","nextProps","nextState","render","has","deleteId","copyId","approveId","queryArray","slideList","slideResult","deleteRecord","controlname","hidden","objectName","onClick","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {\r\n    BasicConfig, BasicFuncs,\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { MediaLabel, ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport rsapi from '../../rsapi';\r\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\r\nimport Axios from 'axios';\r\nimport StorageMappingFilter from './StorageMappingFilter';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n\r\nimport { groupBy, process } from '@progress/kendo-data-query';\r\n//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\r\nimport MatrixComponent from '../../components/MatrixComponent';\r\nimport FilterQueryBuilder from '../../components/FilterQueryBuilder';\r\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\r\n\r\n\r\nclass SampleStorageRetrieval extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            extractedColumnList: [\r\n                { \"idsName\": \"IDS_SAMPLESTORAGELOCATION\", \"dataField\": \"ssamplestoragelocationname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"450px\" },\r\n                { \"idsName\": \"IDS_POSITION\", \"dataField\": \"sposition\", \"width\": \"100px\" }  \r\n            ],\r\n            sheetData: {},\r\n            selectedRecordFilter: {},\r\n            treeData: [{ title: 'Chicken', children: [{ title: 'Egg' }] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined,\r\n            loading: false,\r\n            dataStateChange: {\r\n                take: 10,\r\n                skip: 0,\r\n                // group: [\r\n                //     {\r\n                //         field: \"ssamplestoragelocationname\",\r\n                //     },\r\n                // ],\r\n            }\r\n        };\r\n        let fields = {};\r\n        if (this.state.extractedColumnList) {\r\n            this.state.extractedColumnList.map(field => {\r\n                if (field.dataField !== 'ssamplestoragelocationname' && field.dataField !== 'sproductname'  ) {\r\n                    fields = {\r\n                        ...fields,\r\n                        [field.dataField]: {\r\n                            \"label\":\r\n                                this.props.intl.formatMessage({\r\n                                    id: field.idsName,\r\n                                })\r\n                            ,\r\n                            \"type\": field.dataField === 'navailablespace' ? \"number\" : \"text\",\r\n                            \"valueSources\": [\"value\", \"func\"],\r\n\r\n                            \"mainWidgetProps\": {\r\n                                \"valueLabel\": \"Name\",\r\n                                \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                                    id: field.idsName\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        this.state = { ... this.state, 'fields': fields }\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let { filterData, storageCategoryOptions,\r\n            selectedRecord, controlMap,\r\n            userRoleControlRights, storageLocationOptions,\r\n            sampleStorageVersionOptions, masterData, selectedRecordFilter, fields } = this.state\r\n        let bool = false;\r\n         ///////////////////////////////\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nsamplestoragelocationcode, \"title\": item.ssamplestoragelocationname })\r\n            )\r\n            fields={\r\n                ...fields,\r\n                'nsamplestoragelocationcode' :{\r\n                \"label\": this.props.intl.formatMessage({\r\n                    id: \"IDS_SAMPLESTORAGELOCATIONNAME\",\r\n                }),\r\n                \"type\": \"select\",\r\n                \"valueSources\": [\"value\"],\r\n                \"fieldSettings\": {\r\n                    \"listValues\": queryBuilderFreezer\r\n                }\r\n            }\r\n            } \r\n\r\n        } \r\n        if (this.props.Login.masterData.sampleType !== previousProps.Login.masterData.sampleType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleType && this.props.Login.masterData.sampleType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nproductcode, \"title\": item.sproductname })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'nproductcode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_PRODUCT\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }  \r\n        ///////////////////////////////\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            bool = true;\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            bool = true;\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", undefined, undefined, undefined);\r\n            storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedStorageCategory) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nstoragecategorycode: storageCategoryOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            bool = true;\r\n            const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n            storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageLocation) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\r\n            bool = true;\r\n            const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                \"nversionno\", undefined, undefined, undefined);\r\n            sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            filterData = this.generateBreadCrumData(this.props.Login.masterData);\r\n\r\n        }\r\n        if (this.state.masterData !== previousState.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData(this.state.masterData);\r\n\r\n        }\r\n        \r\n\r\n        if (bool) {\r\n            this.setState({\r\n                storageCategoryOptions, filterData,\r\n                selectedRecord, controlMap,\r\n                userRoleControlRights, storageLocationOptions,\r\n                sampleStorageVersionOptions, masterData, selectedRecordFilter, fields\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n       // this.getsamplestoragetransaction({}, this.props.Login.userInfo);\r\n        this.getDynamicFilterExecuteData()\r\n        this.setState({ //selectedRecord, \r\n            openModal: false, isInitialRender: true })\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if (this.state.openSpreadSheet) {\r\n            this.CRUDSampleStorageTransaction({\r\n                ...this.state.editedsheetData,\r\n                nsamplestoragemappingcode: this.state.isMultiSampleAdd ?\r\n                    Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\")\r\n                    : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\r\n                nsamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\r\n                sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\r\n                sheetUpdate: true,\r\n                userinfo: this.props.Login.userInfo,\r\n                isMultiSampleAdd: this.state.isMultiSampleAdd\r\n            }, 'create');\r\n        } else {\r\n            this.onSaveSampleStorageTransaction(saveType, formRef);\r\n        }\r\n    };\r\n\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData(obj) {\r\n        const breadCrumbData = [];\r\n        if (this.state.masterData && this.state.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": obj.selectedStorageCategoryName &&\r\n                        obj.selectedStorageCategoryName !== null ?\r\n                        obj.selectedStorageCategoryName : \"NA\"\r\n\r\n                }\r\n                // ,\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\r\n                //     \"value\": obj.selectedSampleStorageLocation &&\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\r\n                // },\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\r\n                //     \"value\": obj.selectedSampleStorageVersion &&\r\n                //         obj.selectedSampleStorageVersion.nversionno !== null ?\r\n                //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\r\n                // }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.onFilterSubmit();\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageMapping = (addId) => {\r\n        this.addSampleStorageMapping({ userInfo: this.props.Login.userInfo, addId });\r\n    }\r\n    deletesamplestoragemapping = (param) => {\r\n        this.CRUDSampleStorageTransaction({\r\n            'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }, 'delete');\r\n    }\r\n    addMultipleSample = (param) => {\r\n        this.setState({\r\n            //sheetData: JSON.parse(response[0].data.sheetData),\r\n            openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n            loading: false\r\n        })\r\n    }\r\n    addSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemappingSheetData\",\r\n            {\r\n                isMultiSampleAdd: (nflag === 2) ? true : false,\r\n                nsamplestoragemappingcode:\r\n                    (nflag === 2) ? this.state.masterData.samplestorageretrieval.map(item => item.nsamplestoragemappingcode).join(\",\")\r\n                        : param.nsamplestoragemappingcode.toString()\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (nflag === 2) {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        openModal: true, isMultiSampleAdd: false, openSpreadSheet: true,\r\n                        editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n\r\n        if (fieldName === 'nstoragecategorycode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);\r\n        } else if (fieldName === 'ncontainertypecode') {\r\n            return this.getContainerStructure({\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontainertypecode: comboData.value\r\n            }, fieldName, comboData);\r\n\r\n        } else if (fieldName === 'ncontainerstructurecode') {\r\n            selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n            selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n        } else if (fieldName === 'nsamplestoragelocationcode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value\r\n\r\n            }, fieldName, comboData);\r\n        }\r\n        if (fieldName === 'nsamplestorageversioncode') {\r\n            selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord, selectedRecordFilter });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSaveSampleStorageTransaction = (saveType) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let containerpathCodeArray = [];\r\n        if (this.state.operation === 'create') {\r\n            containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n        }\r\n        const inputParam =\r\n        {\r\n            nsamplestoragetransactioncode: selectedRecord['nsamplestoragetransactioncode'] ?\r\n                parseInt(selectedRecord['nsamplestoragetransactioncode']) : 0,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n            ncontainertypecode: -1,\r\n            nproductcode: selectedRecord['nproductcode'].value,\r\n            ndirectionmastercode: -1,\r\n            ssamplestoragemappingname: \"-\",\r\n            nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n            containerpathsize: containerpathCodeArray.length,\r\n            nneedposition: 4,\r\n            ncontainerstructurecode: -1, nquantity: selectedRecord['nquantity'] ?\r\n                parseInt(selectedRecord['nquantity']) : 1,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.CRUDSampleStorageTransaction(inputParam, this.state.operation);\r\n        }\r\n    }\r\n    getsamplestoragetransaction = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragetransaction\", {\r\n            userinfo: this.props.Login.userInfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    childDataChange = (selectedRecord) => {\r\n        this.setState({\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    childSheetDataChange = (sheetData) => {\r\n\r\n        this.setState({\r\n            // selectedRecord: {\r\n            //     ...this.state.selectedRecord,\r\n            //     sheetData: {\r\n            //         ...this.state.selectedRecord.sheetData,\r\n            //         ...sheetData\r\n            //     }\r\n            // },\r\n            sheetData: {\r\n                ...sheetData\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    // Actions start\r\n    getActiveSampleStorageMappingById = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getActiveSampleStorageMappingById\", {\r\n            nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\r\n            userinfo: userinfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    }//,\r\n                    // selectedRecord: {\r\n                    //     ...this.state.selectedRecord\r\n                    //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\r\n                    // }\r\n                    ,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n    filterColumnData = (filterValue, filterParam) => {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n            }\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n\r\n        if (primaryKeyValue !== 0) {\r\n            this.setState({ loading: true });\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (filterParam.sortField) {\r\n                        sortData(masterData, filterParam.sortOrder, filterParam.sortField);\r\n                    }\r\n                    else {\r\n                        sortData(masterData);\r\n                    }\r\n                    this.setState({ masterData, loading: false, skip: 0, take: 10, selectedId: null });\r\n                })\r\n                .catch(error => {\r\n                    this.setState({ loading: false });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            this.setState({\r\n                masterData, operation: null, modalName: undefined,\r\n                loading: false\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    CRUDSampleStorageTransaction = (inputParam, operation) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/\" + operation + \"samplestorageretrieval\", inputParam);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    isInitialRender: true,\r\n                    selectedRecord: {},\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    openModal: false,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                        //   samplestorageretrieval: response[0].data['samplestorageretrieval'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    addSampleStorageMapping() {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"containertype/getContainerType\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n                const containerstructureMap = constructOptionList(response[0].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                this.setState({\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        directionmasterOptions: directionmasterList,\r\n                        // ncontainertypecode: containerTypeList[0],\r\n                        // containerStructureOptions: containerstructureList,\r\n                        // ncontainerstructurecode: containerstructureList[0],\r\n                        nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\r\n                        ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\r\n                        isInitialRender: true\r\n\r\n                    },\r\n                    openSpreadSheet: false,\r\n                    operation: 'create',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onSampleMappingSaveClick = () => {\r\n        const mandatoryFields = this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n            this.state.selectedRecord[\"nneedposition\"] === false ? [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n        ] : [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            ,\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERTYPE\",\r\n                \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n                \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_DIRECTION\",\r\n                \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n        ]\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields,\r\n            this.onSaveClick)\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateChange: event.dataState\r\n        });\r\n    }\r\n\r\n    approveSampleStorageMapping = (event) => {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/approveSampleStorageMapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    getDynamicFilterExecuteData(inputParam) {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let obj = {// ...inputParam.component, \r\n            label: 'samplestorageretrieval', valuemember: 'nsamplestoragetransactioncode',\r\n            filterquery: selectedRecord.filterquery, source: 'view_sampleretrieval', userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"/samplestorageretrieval/getdynamicfilterexecutedata\", obj);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                console.log(response)\r\n                let masterData = this.state.masterData\r\n                masterData = { ...masterData, ...response[0].data }\r\n                this.setState({\r\n                    masterData: { ...masterData },\r\n                    loading: false\r\n                })\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data.rtn);\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n    fetchRecord = (data) => {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestorageretrieval/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"samplestorageretrieval/getEditSampleStorageMapping\",\r\n            { 'nsamplestoragemappingcode': data.nsamplestoragemappingcode, 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2, url3];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n\r\n                const containerstructureMap = constructOptionList(response[2].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                const editedObject = response[2].data.editsampleStorageMapping;\r\n\r\n                storageMappingMapList.unshift({ label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode })\r\n                selectedRecord = {\r\n                    ndirectionmastercode: { label: editedObject.sdirection, value: editedObject.ndirectionmastercode },\r\n                    nsamplestoragecontainerpathcode: { label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode },\r\n                    nproductcode: { label: editedObject.sproductname, value: editedObject.nproductcode },\r\n                    ncontainertypecode: { label: editedObject.scontainertype, value: editedObject.ncontainertypecode },\r\n                    ncontainerstructurecode: { label: editedObject.scontainerstructurename, value: editedObject.ncontainerstructurecode },\r\n                    nneedposition: editedObject.nneedposition === 3 ? true : false,\r\n                    directionmasterOptions: directionmasterList,\r\n                    nquantity: editedObject.nquantity,\r\n                    nrow: editedObject.nrow,\r\n                    ncolumn: editedObject.ncolumn,\r\n                    nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\r\n                }\r\n                this.setState({\r\n                    openSpreadSheet: false,\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        isInitialRender: true\r\n                    },\r\n                    operation: 'update',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    // Actions End\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.sheetData !== this.state.sheetData)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    handlePageChangeFilter = (event) => {\r\n        this.setState({ kendoSkip: event.skip, kendoTake: event.take });\r\n    };\r\n    onChange = (immutableTree, config) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"tree\"] = immutableTree;\r\n        selectedRecord[\"config\"] = config;\r\n        selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\r\n        this.setState({ tree: immutableTree, config: config, selectedRecord: selectedRecord });\r\n\r\n    };\r\n    // cellRender(tdElement, cellProps) {\r\n\r\n    //     if (cellProps.rowType === \"groupFooter\") {\r\n    //         console.log('cellProps.field', cellProps)\r\n    //         if (cellProps.dataItem.field === \"ssamplestoragelocationname\") {\r\n    //             console.log('tdElement', tdElement, 'cellProps', cellProps)\r\n    //             return (\r\n    //                 <td aria-colindex={cellProps.columnIndex} role={\"gridcell\"}>\r\n    //                     Sum: {cellProps.dataItem.aggregates.navailablespace.sum}\r\n    //                 </td>\r\n    //             );\r\n    //         }\r\n    //     }\r\n    //     return tdElement;\r\n    // }\r\n    // handleGroupChange = (event) => {\r\n    //     const newDataState = this.processWithGroups(this.state.masterData.samplestorageretrieval || [], this.state.dataStateChange, event.group);\r\n    //     this.setState({\r\n    //         masterData: { ...this.state.masterData, samplestorageretrieval: newDataState },\r\n    //         group: event.group,\r\n    //     });\r\n    // };\r\n    // processWithGroups = (data, group) => {\r\n    //     const newDataState = groupBy(data, group);\r\n    //     return newDataState;\r\n    // };\r\n    processWithGroups = (data, dataState) => {\r\n        const aggregates = [\r\n            {\r\n                field: \"navailablespace\",\r\n                aggregate: \"sum\",\r\n            }\r\n        ];\r\n        const groups = dataState.group;\r\n        if (groups) {\r\n            groups.map((group) => (group.aggregates = aggregates));\r\n        }\r\n        dataState.group = groups;\r\n        const newDataState = process(data, dataState);\r\n        // setGroupIds({\r\n        //     data: newDataState.data,\r\n        //     group: dataState.group,\r\n        // });\r\n        return newDataState;\r\n    };\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add samplestorageretrieval\") && this.state.controlMap.get(\"Add samplestorageretrieval\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestorageretrieval/getActiveSampleStorageMappingById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <Preloader loading={this.state.loading} />\r\n                <ListWrapper className=\"client-list-content\">\r\n                    { \r\n                        <> \r\n                            <Card.Subtitle>\r\n                                <div className=\"d-flex product-category\"> \r\n                                    <Button className=\"btn btn-circle outline-grey\"\r\n                                        variant=\"link\"\r\n                                        data-tip={this.props.intl.formatMessage({\r\n                                            id: \"IDS_SAMPLE\"\r\n                                        })}\r\n                                        onClick={() => this.addSample({}, 2)}>\r\n                                        <FontAwesomeIcon icon={faPuzzlePiece} />\r\n                                    </Button>\r\n                                    <Button className=\"btn btn-circle outline-grey\"\r\n                                        variant=\"link\"\r\n                                        data-tip={this.props.intl.formatMessage({\r\n                                            id: \"IDS_REFRESH\"\r\n                                        })}\r\n                                        onClick={() => this.approveSampleStorageMapping()}>\r\n                                        <FontAwesomeIcon icon={faThumbsUp} />\r\n                                    </Button>\r\n                                    <div className=\"d-flex justify-content-end mt-3\">\r\n                                        <Button className=\"btn-user btn-primary-blue\"\r\n                                            onClick={() => this.getDynamicFilterExecuteData()}>\r\n                                            <FontAwesomeIcon icon={faCalculator} /> { }\r\n                                            <FormattedMessage id='IDS_EXECUTE' defaultMessage='Execute' />\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </Card.Subtitle>\r\n                           <FilterQueryBuilder\r\n                                fields={this.state.fields}\r\n                                queryArray={this.state.queryArray}\r\n                                skip={this.state.kendoSkip}\r\n                                take={this.state.kendoTake}\r\n                                onChange={this.onChange}\r\n                                tree={this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree}\r\n                                gridColumns={this.slideList}\r\n                                filterData={this.props.Login.slideResult || []}\r\n                                handlePageChange={this.handlePageChangeFilter}\r\n                                static={true}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                updateStore={this.props.updateStore}\r\n                            /> \r\n\r\n                            {this.state.masterData &&\r\n                                this.state.masterData.samplestorageretrieval &&\r\n                                <DataGrid\r\n                                    isRefreshRequired={false}  \r\n                                    // onGroupChange={this.handleGroupChange}\r\n                                    primaryKeyField={'nsamplestoragetransactioncode'} \r\n                                    data={this.state.masterData &&\r\n                                        this.state.masterData.samplestorageretrieval}\r\n                                    dataResult={\r\n                                        process(this.state.masterData.samplestorageretrieval || [],\r\n                                            this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 })\r\n                                        // this.processWithGroups(this.state.masterData.samplestorageretrieval || [],\r\n                                        //     this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                        //         take: 10,\r\n                                        //         skip: 0\r\n                                        //     })\r\n                                    }\r\n                                    dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    extractedColumnList={this.state.extractedColumnList}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    addRecord={() => this.openStorageMapping()}\r\n                                    pageable={true}\r\n                                    scrollable={'scrollable'}\r\n                                    // isComponent={true}\r\n                                    gridHeight={'600px'}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    actionIcons={\r\n                                        [{\r\n                                            title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLE\" }),\r\n                                            controlname: \"faPenSquare\",\r\n                                            hidden: false,\r\n                                            objectName: \"add\",\r\n                                            onClick: (param) => this.addSample(param, 1)\r\n                                        }]}\r\n                                />}\r\n\r\n                        </>\r\n\r\n\r\n                    }\r\n\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.state.openModal &&\r\n                    <SlideOutModal show={this.state.openModal}\r\n                        closeModal={this.closeModal}\r\n                        size={this.state.openSpreadSheet ? 'xl' : \"\"}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.state.isMultiSampleAdd ? this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGELOCATION\" })\r\n                            : this.state.editedsheetData.scontainerpath}\r\n                        onSaveClick={this.onSampleMappingSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        // className={\"wide-popup\"}\r\n\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.state.openSpreadSheet ? <> \r\n                                <MatrixComponent\r\n                                    Rows={this.state.Rows || 1}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    columns={this.state.columns || 1}\r\n                                    selectedRecord={this.state.selectedRecord.sheetData || {}}\r\n                                    sheetData={this.state.sheetData || {}}\r\n                                    isMultiSampleAdd={this.state.isMultiSampleAdd}\r\n                                    childSheetDataChange={this.childSheetDataChange}\r\n                                    editedsheetData={this.state.editedsheetData}\r\n                                    multipleSheetData={this.state.masterData &&\r\n                                        this.state.masterData.samplestorageretrieval &&\r\n                                        process(this.state.masterData.samplestorageretrieval || [],\r\n                                            this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }).data} />\r\n                            </> :\r\n                                <AddSampleStorageMapping\r\n                                    operation={this.state.operation}\r\n                                    selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    childDataChange={this.childDataChange}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService\r\n})(injectIntl(SampleStorageRetrieval));"]},"metadata":{},"sourceType":"module"}