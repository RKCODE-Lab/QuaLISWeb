{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\userroletemplate\\\\userroletemplate.component.jsx\";\nimport FormInput from '../../components/form-input/form-input.component';\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\nimport { Row, Col, Card, Nav, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faTrashAlt, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\nimport { connect } from 'react-redux';\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../components/CommonScript';\nimport '../../assets/./styles/tree.css';\nimport React, { Component } from 'react';\nimport { NavHeader } from '../../components/sidebar/sidebar.styles';\nimport { ContentPanel, ListWrapper } from './userroletemplate.styles';\nimport { callService, crudMaster, updateStore, addScreenModel, validateEsignCredential, getURTFilterRegType, getURTFilterRegSubType, getURTFilterSubmit, fetchRecordById, getTreetemplate, filterColumnData, postCRUDOrganiseSearch } from '../../actions';\nimport { injectIntl } from 'react-intl'; // import rsapi from '../../rsapi';\n\nimport { toast } from 'react-toastify';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport UserRoleTemplateFilter from './UserRoleTemplateFilter';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport Esign from '../audittrail/Esign'; // import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\n\nimport { ApprovalSubType, transactionStatus } from '../../components/Enumeration'; // import { Tooltip } from '@progress/kendo-react-tooltip';\n\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { Affix } from 'rsuite';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport ReactTooltip from 'react-tooltip';\n\nclass userroletempalate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.closeModel = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\n          loadEsign = false;\n          openModal = false;\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.filterComboChange = (event, fieldname) => {\n      if (event !== null) {\n        // let uRL = \"\";\n        let inputData = [];\n\n        if (fieldname === \"approvalSubType\") {\n          // uRL = 'userroletemplate/getApprovalRegSubType';\n          inputData = {\n            userinfo: this.props.Login.userInfo,\n            nflag: 1,\n            napprovalsubtypecode: parseInt(event.value),\n            ntemplatecode: parseInt(event.item.ntemplatecode),\n            isregneed: parseInt(event.item.nisregsubtypeconfigneed)\n          };\n          let masterData = { ...this.props.Login.masterData,\n            defaultapprovalsubtype: event\n          };\n          let inputParam = {\n            masterData,\n            inputData\n          };\n          this.props.getURTFilterRegType(inputParam);\n        } else if (fieldname === \"registrationType\") {\n          // uRL = 'userroletemplate/getApprovalRegSubType';\n          inputData = {\n            userinfo: this.props.Login.userInfo,\n            nflag: 2,\n            nregtypecode: parseInt(event.value),\n            napprovalsubtypecode: this.props.Login.masterData.defaultapprovalsubtype.value,\n            ntemplatecode: this.props.Login.masterData.defaultapprovalsubtype.item.ntemplatecode,\n            isregneed: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed\n          };\n          let masterData = { ...this.props.Login.masterData,\n            defaultregtype: event\n          };\n          let inputParam = {\n            masterData,\n            inputData\n          };\n          this.props.getURTFilterRegSubType(inputParam);\n        } else {\n          let masterData = { ...this.props.Login.masterData,\n            defaultregsubtype: event\n          };\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              masterData\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      }\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteRecord(\"delete\", deleteId));\n    };\n\n    this.approveRecord = (operation, ncontrolCode) => {\n      const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\"; // const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\n\n      const selected = this.props.Login.masterData.selectedURTVersion;\n\n      if (selectedRecord[\"ntransactionstatus\"] === transactionStatus.APPROVED || selectedRecord[\"ntransactionstatus\"] === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\"\n        }));\n      } else {\n        let inputData = [];\n        inputData = {\n          \"ntreetemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\n          \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\n          \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\n          \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\n          \"ntreeversiontempcode\": selected.ntreeversiontempcode,\n          \"napprovalconfigcode\": selectedRecord[\"napprovalconfigcode\"],\n          \"userinfo\": this.props.Login.userInfo,\n          \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\n        };\n        const postParam = {\n          inputListName: \"listuserroletemplate\",\n          selectedObject: \"selectedURTVersion\",\n          primaryKeyField: \"ntreeversiontempcode\",\n          primaryKeyValue: selected.ntreeversiontempcode,\n          fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\n          fecthInputObject: {\n            userinfo: this.props.Login.userInfo\n          }\n        };\n        const inputParam = {\n          methodUrl: \"UserroleTemplatemaster\",\n          classUrl: this.props.Login.inputParam.classUrl,\n          inputData: inputData,\n          operation: operation,\n          postParam\n        };\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              openModal: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              operation: operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.deleteRecord = (operation, ncontrolCode) => {\n      const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\"; // const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\n\n      const selected = this.props.Login.masterData.selectedURTVersion;\n\n      if (selectedRecord[\"ntransactionstatus\"] === transactionStatus.APPROVED || selectedRecord[\"ntransactionstatus\"] === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECORDTODELETE\"\n        }));\n      } else {\n        let inputData = [];\n        inputData = {\n          \"userinfo\": this.props.Login.userInfo,\n          \"ntreetemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\n          \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\n          \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\n          \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\n          \"ntreeversiontempcode\": selected.ntreeversiontempcode,\n          \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\n        };\n        const postParam = {\n          inputListName: \"listuserroletemplate\",\n          selectedObject: \"selectedURTVersion\",\n          primaryKeyField: \"ntreeversiontempcode\",\n          primaryKeyValue: selected.ntreeversiontempcode,\n          fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\n          fecthInputObject: {\n            userinfo: this.props.Login.userInfo\n          }\n        };\n        const inputParam = {\n          methodUrl: \"UserroleTemplatemaster\",\n          classUrl: this.props.Login.inputParam.classUrl,\n          inputData: inputData,\n          operation: operation,\n          postParam\n        };\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              openModal: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              operation: operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.saveTreetemplate = (saveType, formRef) => {\n      let listUserRoleTree = [];\n      let levelno = 0;\n      const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\n      const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\n      const selected = this.props.Login.masterData.selectedURTVersion;\n\n      for (let index = 0; index < this.props.Login.totalLevel; index++) {\n        levelno = index + 1;\n\n        if (selectedRecord[index]) {\n          listUserRoleTree.push(selectedRecord[index].toString());\n        } else {\n          return toast.info(this.props.intl.formatMessage({\n            id: \"IDS_PLESESELECTTHELEVEL\"\n          }) + levelno);\n        }\n      }\n\n      let inputData = [];\n      let methodUrl = \"\";\n      inputData = {\n        \"userinfo\": this.props.Login.userInfo,\n        \"treetemptranstestgroup\": listUserRoleTree,\n        \"specname\": selectedInput.sversiondescription,\n        \"ntemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\n        \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\n        \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\n        \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\n        \"ntreeversiontempcode\": selected === undefined ? -1 : selected.ntreeversiontempcode ? selected.ntreeversiontempcode : -1,\n        \"napprovalconfigcode\": selectedRecord[\"napprovalconfigcode\"] ? selectedRecord[\"napprovalconfigcode\"] : undefined,\n        \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\n      };\n      let postParam = undefined;\n\n      if (this.props.Login.operation === \"create\") {\n        methodUrl = \"UserRoleTemplatemaster\";\n      } else {\n        methodUrl = \"EditUserRoleTemplatemaster\";\n        postParam = {\n          inputListName: \"listuserroletemplate\",\n          selectedObject: \"selectedURTVersion\",\n          primaryKeyField: \"ntreeversiontempcode\"\n        };\n      }\n\n      const inputParam = {\n        methodUrl: methodUrl,\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: this.props.Login.operation,\n        searchRef: this.searchRef,\n        formRef,\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.onChangeCombo = (event, levelno, operation) => {\n      const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : {} || {};\n      let index = this.props.Login.userRoleActualData.findIndex(data => data.nuserrolecode === parseInt(selectedRecord[levelno]));\n\n      if (event !== null) {\n        if (selectedRecord[levelno]) {\n          this.props.Login.userRoleData.push(this.props.Login.userRoleActualData[index]);\n        }\n\n        index = this.props.Login.userRoleData.findIndex(data => data.nuserrolecode === parseInt(event.value));\n        this.props.Login.userRoleData.splice(index, 1);\n        index = this.props.Login.userRoleActualData.findIndex(data => data.nuserrolecode === parseInt(event.value));\n        this.props.Login.userRoleTreeData[levelno] = this.props.Login.userRoleActualData[index];\n        selectedRecord[levelno] = event.value; // const  TaguserRoleData  = constructOptionList(this.props.Login.userRoleData ||[], \"nuserrolecode\",\n        // \"suserrolename\" , undefined, undefined, undefined);\n        // const  TagListuserRoleData  = TaguserRoleData.get(\"OptionList\")\n\n        let userRoleData = this.props.Login.userRoleData || [];\n        let userRoleTreeData = this.props.Login.userRoleTreeData;\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            userRoleData,\n            selectedRecord,\n            userRoleTreeData\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        if (selectedRecord[levelno]) {\n          this.props.Login.userRoleData.push(this.props.Login.userRoleActualData[index]);\n          delete selectedRecord[levelno];\n        } // const  TaguserRoleData  = constructOptionList(this.props.Login.userRoleData ||[], \"nuserrolecode\",\n        // \"suserrolename\" , undefined, undefined, undefined);\n        // const  TagListuserRoleData  = TaguserRoleData.get(\"OptionList\")\n\n\n        let userRoleData = this.props.Login.userRoleData || [];\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            userRoleData\n          }\n        };\n        this.props.updateStore(updateInfo, selectedRecord);\n      }\n    };\n\n    this.onEsignInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"]\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.onInputOnChange = event => {\n      const selectedInput = this.state.selectedInput || {};\n      selectedInput[event.target.name] = event.target.value; // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: { selectedInput }\n      // }\n      // this.props.updateStore(updateInfo);\n\n      this.setState({\n        selectedInput\n      });\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let inputData = {\n        userinfo: this.props.Login.userInfo,\n        nflag: this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed === transactionStatus.YES ? 2 : 1,\n        nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\n        nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\n        napprovalsubtypecode: this.props.Login.masterData.realApprovalSubTypeValue.value,\n        ntreetemplatecode: this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\n        ntreeversiontempcode: -1,\n        nmodulecode: 1,\n        isregneed: this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\n      };\n      let inputParam = {\n        masterData: this.props.Login.masterData,\n        inputData\n      };\n      this.props.getURTFilterSubmit(inputParam); // const inputParam = {\n      //     inputData: { \"userinfo\": this.props.Login.userInfo },\n      //     classUrl: \"userroletemplate\",\n      //     methodUrl: \"Userroletemplate\",\n      //     userInfo: this.props.Login.userInfo,\n      //     displayName: \"IDS_USERROLETEMPLATE\"\n      //     //screenName:\"IDS_USERROLETEMPLATE\"\n      // };\n      // this.props.callService(inputParam);\n    };\n\n    this.onFilterSubmit = () => {\n      let inputData = {\n        userinfo: this.props.Login.userInfo,\n        nflag: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed === transactionStatus.YES ? 2 : 1,\n        nregtypecode: parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\n        nregsubtypecode: parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\n        napprovalsubtypecode: this.props.Login.masterData.defaultapprovalsubtype.value,\n        ntreetemplatecode: this.props.Login.masterData.defaultapprovalsubtype.item.ntemplatecode,\n        ntreeversiontempcode: -1,\n        nmodulecode: 1,\n        isregneed: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed\n      };\n      let masterData = { ...this.props.Login.masterData,\n        realApprovalSubTypeValue: this.props.Login.masterData.defaultapprovalsubtype,\n        realRegTypeValue: this.props.Login.masterData.defaultregtype,\n        realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getURTFilterSubmit(inputParam);\n    };\n\n    this.state = {\n      openModal: false,\n      userRoleTreeData: [],\n      userRoleControlRights: [],\n      URTvalues: [{\n        URTvalue: \"\"\n      }],\n      selectedApprovalType: 0,\n      error: \"\",\n      controlMap: new Map(),\n      selectedInput: \"\"\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    this.searchFieldList = [\"stransdisplaystatus\", \"sversionstatus\", \"sversiondescription\"];\n  }\n\n  appendInputtree(e) {\n    const totalLevel = this.props.Login.totalLevel ? this.props.Login.totalLevel : 1;\n\n    if (this.props.Login.selectedRecord[this.props.Login.id] !== undefined) {\n      let id = parseInt(this.props.Login.id) + 1;\n\n      if (id < 9) {\n        if (totalLevel < this.props.Login.userRoleActualData.length) {\n          //let id = parseInt(e.currentTarget.id) + 1;\n          let totalid = totalLevel;\n\n          if (totalid === id) {\n            if (this.props.Login.userRoleData.length <= 0) {\n              toast.info(this.props.intl.formatMessage({\n                id: \"IDS_NOUSERROLETOADDTONEXTLEVEL\"\n              }));\n            } else {\n              var newInput = `input-${totalLevel}`;\n              var userRoleTreeData = this.props.Login.userRoleTreeData.concat([newInput]);\n              const updateInfo = {\n                typeName: DEFAULT_RETURN,\n                data: {\n                  userRoleTreeData,\n                  totalLevel: totalLevel + 1,\n                  id\n                }\n              };\n              this.props.updateStore(updateInfo);\n            }\n          }\n        } else {\n          toast.info(this.props.intl.formatMessage({\n            id: \"IDS_NOUSERROLETOADDTONEXTLEVEL\"\n          }));\n        }\n      }\n    } else {\n      toast.info(this.props.intl.formatMessage({\n        id: \"IDS_PLSSELECTUSERROLE\"\n      }));\n    }\n  }\n\n  removeTree(event, i) {\n    let userRoleTreeData = this.props.Login.userRoleTreeData;\n    userRoleTreeData.splice(i, 10);\n    const totalLevel = this.props.Login.totalLevel ? this.props.Login.totalLevel : 1;\n    const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\n    let listUserRole = this.props.Login.userRoleData || [];\n\n    if (selectedRecord[i]) {\n      for (let j = i; j < totalLevel; j++) {\n        let index = this.props.Login.userRoleActualData.findIndex(data => data.nuserrolecode === parseInt(selectedRecord[j]));\n        listUserRole.push(this.props.Login.userRoleActualData[index]);\n        delete selectedRecord[j];\n      }\n\n      ;\n    } // const  TagUserroleData  = constructOptionList(listUserRole ||[], \"nuserrolecode\",\n    // \"suserrolename\" , undefined, undefined, undefined);\n    // const  TagListUserroleData = TagUserroleData.get(\"OptionList\");\n\n\n    let userRoleData = listUserRole;\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        userRoleTreeData,\n        userRoleData,\n        selectedRecord,\n        totalLevel: i,\n        id: i - 1\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  render() {\n    const {\n      masterData,\n      userInfo,\n      openModal,\n      userRoleTreeData,\n      userRoleData,\n      selectedRecord\n    } = this.props.Login;\n    const {\n      listuserroletemplate,\n      levelsuserroletemplate\n    } = this.props.Login.masterData;\n    const {\n      selectedInput\n    } = this.state;\n    const selected = this.props.Login.masterData.selectedURTVersion;\n    const addId = this.state.controlMap.has(\"AddUserRoleTempalate\") && this.state.controlMap.get(\"AddUserRoleTempalate\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditUserRoleTempalate\") && this.state.controlMap.get(\"EditUserRoleTempalate\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteUserRoleTempalate\") && this.state.controlMap.get(\"DeleteUserRoleTempalate\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"ApproveUserRoleTempalate\") && this.state.controlMap.get(\"ApproveUserRoleTempalate\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"listuserroletemplate\",\n      selectedObject: \"selectedURTVersion\",\n      primaryKeyField: \"ntreeversiontempcode\",\n      fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: this.searchFieldList\n    };\n    const mandatoryFields = [{\n      \"mandatory\": true,\n      \"idsName\": \"IDS_TEMPLATENAME\",\n      \"dataField\": \"sversiondescription\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    let breadCrumbData = [];\n\n    if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"-\"\n      }, {\n        \"label\": \"IDS_REGTYPE\",\n        \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\n      }, {\n        \"label\": \"IDS_REGSUBTYPE\",\n        \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\n      }];\n    } else {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"-\"\n      }];\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      masterData: masterData,\n      formatMessage: this.props.intl.formatMessage,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_USERROLETEMPLATE\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || listuserroletemplate,\n      userInfo: this.props.Login.userInfo,\n      getMasterDetail: URTvalue => this.props.getTreetemplate(URTvalue, masterData, userInfo),\n      selectedMaster: this.props.Login.masterData.selectedURTVersion || {} //this.props.Login.masterData.selected}\n      ,\n      primaryKeyField: \"ntreeversiontempcode\",\n      mainField: \"sversiondescription\" //firstField=\"sversiondescription\"\n      ,\n      firstField: \"stransdisplaystatus\" //secondField=\"stransdisplaystatus\"\n      ,\n      isIDSField: \"No\",\n      openModal: () => this.props.addScreenModel(\"create\", masterData, userInfo, addId, selectedInput),\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: true,\n      needAccordianFilter: false,\n      showFilterIcon: true,\n      onFilterSubmit: this.onFilterSubmit,\n      filterComponent: [{\n        \"IDS_USERROLETEMPLATEFILTER\": /*#__PURE__*/React.createElement(UserRoleTemplateFilter, {\n          formatMessage: this.props.intl.formatMessage,\n          filterApprovalSubtype: this.state.listApprovalsubtype || [],\n          filterRegistrationType: this.state.listRegistrationType || [],\n          filterRegistrationSubType: this.state.listRegistrationSubType || [],\n          defaultapprovalsubtype: this.props.Login.masterData[\"defaultapprovalsubtype\"] || {},\n          defaultregsubtype: this.props.Login.masterData[\"defaultregsubtype\"] || [],\n          defaultregtype: this.props.Login.masterData[\"defaultregtype\"] || [],\n          selectedApprovalType: this.props.Login.masterData.defaultapprovalsubtype || [],\n          selectedInput: selectedInput || [],\n          isRegNeed: this.props.Login.masterData.defaultapprovalsubtype ? this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed : transactionStatus.NO,\n          filterComboChange: this.filterComboChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 29\n      }\n    })), this.props.Login.masterData.selectedURTVersion && listuserroletemplate && listuserroletemplate.length > 0 ? /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 37\n      }\n    }, selected && /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ReactTooltip, {\n      place: \"bottom\",\n      globalEventOff: \"click\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 57\n      }\n    }, selected.sversiondescription))), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"product-title-sub\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 61\n      }\n    }, \"Version : \", selected.nversionno === -1 ? \"-\" : selected.nversionno), /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${selected.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : selected.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 61\n      }\n    }, selected.stransdisplaystatus)), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      style: {\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      onClick: () => this.props.fetchRecordById(\"ntreeversiontempcode\", selected.ntreeversiontempcode, masterData, \"update\", selectedRecord, selectedInput, userInfo, editId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      \"data-for\": \"tooltip_list_wrap\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n      onClick: () => this.approveRecord(\"approve\", approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      name: \"URTapprove\",\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 69\n      }\n    }))))))))), /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"tree-view1 border-left tree-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 45\n      }\n    }, levelsuserroletemplate ? levelsuserroletemplate.map((input, i) => /*#__PURE__*/React.createElement(ListWrapper, {\n      key: i,\n      className: \"form-label-group tree-level list_get\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(NavHeader, {\n      className: \"line\",\n      style: {\n        width: (i + 1) * 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 57\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(NavHeader, {\n      id: i,\n      value: this.props.Login.totalLevel,\n      className: \"add_field_button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 57\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(NavHeader, {\n      className: \"levelcolour\",\n      ml: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 57\n      }\n    }, \"Level \", i + 1), /*#__PURE__*/React.createElement(ListWrapper, {\n      style: {\n        marginLeft: (i + 8) * 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      className: \"input_custom\",\n      value: input.sleveluserrole,\n      id: \"levelname\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 61\n      }\n    })))) : \"\"))))) : \"\")), this.props.Login.openModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      operation: this.props.Login.operation,\n      onSaveClick: this.saveTreetemplate,\n      validateEsign: this.validateEsign,\n      esign: this.props.Login.loadEsign,\n      screenName: \"IDS_USERROLETEMPLATE\",\n      mandatoryFields: mandatoryFields,\n      selectedRecord: this.props.Login.loadEsign ? this.state.selectedRecord : selectedInput,\n      closeModal: this.closeModel,\n      show: openModal,\n      inputParam: 1,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation // formatMessage={this.props.intl.formatMessage}\n        ,\n        onInputOnChange: this.onEsignInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 29\n        }\n      }) : /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(FormInput, {\n        label: this.props.intl.formatMessage({\n          id: \"IDS_TEMPLATENAME\"\n        }),\n        name: \"sversiondescription\",\n        as: \"text\",\n        onChange: event => this.onInputOnChange(event),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_TEMPLATENAME\"\n        }),\n        defaultValue: selectedInput ? selectedInput[\"sversiondescription\"] : \"\",\n        isMandatory: true,\n        required: true,\n        maxLength: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(ListWrapper, {\n        className: \"tree-view border-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 37\n        }\n      }, userRoleTreeData ? userRoleTreeData.map((input, i) => /*#__PURE__*/React.createElement(ListWrapper, {\n        className: \"form-label-group tree-level\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(NavHeader, {\n        className: \"line\",\n        style: {\n          width: (i + 1) * 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 53\n        }\n      }, \" \"), /*#__PURE__*/React.createElement(NavHeader, {\n        id: i,\n        value: this.props.Login.totalLevel,\n        className: \"add_field_button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 53\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(NavHeader, {\n        md: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 53\n        }\n      }, \"level \", /*#__PURE__*/React.createElement(NavHeader, {\n        className: \"tree-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 77\n        }\n      }, i + 1)), /*#__PURE__*/React.createElement(Nav, {\n        className: \"btn mr-2 action-icons-wrap\",\n        style: {\n          float: \"right\",\n          visibility: i === 0 ? 'hidden' : 'visible'\n        },\n        onClick: event => this.removeTree(event, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        name: \"URTMDelete\",\n        icon: faTrashAlt,\n        className: \"ActionIconColor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 57\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        style: {\n          marginLeft: (i + 3) * 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(FormSelectSearch, {\n        name: \"nuserrolecode\",\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_SELECTRECORD\"\n        }),\n        isMandatory: false,\n        optionId: \"nuserrolecode\",\n        optionValue: \"suserrolename\",\n        defaultValue: {\n          \"value\": input[\"nuserrolecode\"],\n          \"label\": input[\"sleveluserrole\"]\n        },\n        options: userRoleData ? constructOptionList(userRoleData || [], \"nuserrolecode\", \"suserrolename\", undefined, undefined, undefined).get(\"OptionList\") : [],\n        onChange: event => this.onChangeCombo(event, i, this.props.Login.operation),\n        isMulti: false,\n        isSearchable: false,\n        isDisabled: false // placeholder=\"Select User Role\"\n        ,\n        isClearable: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 61\n        }\n      }))))) : \"\"), /*#__PURE__*/React.createElement(NavHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        name: \"URTMAdd\",\n        onClick: e => this.appendInputtree(e),\n        className: \"btn btn-circle solid-blue\",\n        role: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 41\n        }\n      }, \"+\")))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  componentDidUpdate(previousProps) {\n    let updateState = false;\n    let {\n      selectedRecord,\n      userRoleControlRights,\n      controlMap,\n      listApprovalsubtype,\n      listRegistrationType,\n      listRegistrationSubType\n    } = this.state;\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        updateState = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      updateState = true;\n      selectedRecord = this.props.Login.selectedRecord;\n    } // if (this.props.Login.selectedInput !== previousProps.Login.selectedInput) {\n    //     updateState = true;\n    //     selectedInput = this.props.Login.selectedInput\n    // }\n\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      updateState = true; // const selectedRecord = {}\n\n      const selectedInput = {};\n      let Taglstapprovalsubtype;\n      let TaglistRegistrationType;\n      let TaglistRegistrationSubType;\n\n      if (this.props.Login.masterData.levelsuserroletemplate && this.props.Login.masterData.levelsuserroletemplate.length > 0) {\n        selectedRecord[\"napprovalconfigcode\"] = this.props.Login.masterData.levelsuserroletemplate[0][\"napprovalconfigcode\"];\n        selectedRecord[\"ntransactionstatus\"] = this.props.Login.masterData.levelsuserroletemplate[0][\"ntransactionstatus\"];\n      } else {\n        if (selectedRecord) {\n          selectedRecord[\"napprovalconfigcode\"] = -1;\n        } else {\n          selectedRecord = {\n            napprovalconfigcode: -1\n          };\n        }\n\n        selectedRecord[\"ntransactionstatus\"] = this.props.Login.selectedRecord ? this.props.Login.selectedRecord[\"ntransactionstatus\"] : [];\n      } // selectedRecord[\"napprovalconfigcode\"] = this.props.Login.masterData.levelsuserroletemplate ? this.props.Login.masterData.levelsuserroletemplate.length > 0 ?\n      //     this.props.Login.masterData.levelsuserroletemplate[0][\"napprovalconfigcode\"] : -1 : -1\n      // selectedRecord[\"ntransactionstatus\"] = this.props.Login.masterData.levelsuserroletemplate ? this.props.Login.masterData.levelsuserroletemplate.length > 0 ?\n      //     this.props.Login.masterData.levelsuserroletemplate[0][\"ntransactionstatus\"] :\n      //     this.props.Login.selectedRecord ? this.props.Login.selectedRecord[\"ntransactionstatus\"] : [] : [];\n\n\n      if (this.props.Login.masterData.lstapprovalsubtype) {\n        Taglstapprovalsubtype = constructOptionList(this.props.Login.masterData.lstapprovalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", \"ntemplatecode\", \"ascending\", undefined);\n        listApprovalsubtype = Taglstapprovalsubtype.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.listRegistrationType) {\n        TaglistRegistrationType = constructOptionList(this.props.Login.masterData.listRegistrationType || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\n        listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.listRegistrationSubType) {\n        TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.listRegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\n        listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.levelsuserroletemplate) {\n        sortData(this.props.Login.masterData.levelsuserroletemplate, \"ascending\", \"nlevelno\");\n      }\n\n      selectedInput[\"isRegNeed\"] = this.props.Login.masterData.selectedInput ? this.props.Login.masterData.selectedInput[\"isRegNeed\"] : this.props.Login.masterData.lstapprovalsubtype ? this.props.Login.masterData.lstapprovalsubtype.length > 0 ? this.props.Login.masterData.lstapprovalsubtype[0][\"nisregsubtypeconfigneed\"] : \"\" ? \"\" : \"\" : \"\";\n\n      if (updateState) {\n        this.setState({\n          selectedRecord,\n          controlMap,\n          userRoleControlRights,\n          listApprovalsubtype,\n          listRegistrationType,\n          listRegistrationSubType,\n          selectedInput\n        });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\n        toast.warn(props.Login.masterStatus);\n        props.Login.masterStatus = \"\";\n      }\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (!props.Login.loadEsign) {\n      return {\n        selectedRecord: { ...state.selectedRecord,\n          agree: 4,\n          esigncomments: '',\n          esignpassword: ''\n        }\n      };\n    }\n\n    return null;\n  }\n\n}\n\nconst mapStatetoProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStatetoProps, {\n  callService,\n  crudMaster,\n  addScreenModel,\n  updateStore,\n  validateEsignCredential,\n  getURTFilterRegType,\n  getURTFilterRegSubType,\n  getURTFilterSubmit,\n  fetchRecordById,\n  getTreetemplate,\n  filterColumnData,\n  postCRUDOrganiseSearch\n})(injectIntl(userroletempalate));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/userroletemplate/userroletemplate.component.jsx"],"names":["FormInput","FormSelectSearch","Row","Col","Card","Nav","Button","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","connect","sortData","getControlMap","showEsign","constructOptionList","React","Component","NavHeader","ContentPanel","ListWrapper","callService","crudMaster","updateStore","addScreenModel","validateEsignCredential","getURTFilterRegType","getURTFilterRegSubType","getURTFilterSubmit","fetchRecordById","getTreetemplate","filterColumnData","postCRUDOrganiseSearch","injectIntl","toast","ListMaster","UserRoleTemplateFilter","SlideOutModal","DEFAULT_RETURN","Esign","ApprovalSubType","transactionStatus","BreadcrumbComponent","Affix","ConfirmMessage","ReactTooltip","userroletempalate","constructor","props","closeModel","loadEsign","Login","openModal","operation","updateInfo","typeName","data","filterComboChange","event","fieldname","inputData","userinfo","userInfo","nflag","napprovalsubtypecode","parseInt","value","ntemplatecode","item","isregneed","nisregsubtypeconfigneed","masterData","defaultapprovalsubtype","inputParam","nregtypecode","defaultregtype","defaultregsubtype","ConfirmDelete","deleteId","confirmMessage","confirm","intl","formatMessage","id","deleteRecord","approveRecord","ncontrolCode","selectedRecord","selected","selectedURTVersion","APPROVED","RETIRED","warn","realApprovalSubTypeValue","realRegTypeValue","realRegSubTypeValue","ntreeversiontempcode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","methodUrl","classUrl","userRoleControlRights","nformcode","screenData","saveTreetemplate","saveType","formRef","listUserRoleTree","levelno","selectedInput","state","index","totalLevel","push","toString","info","sversiondescription","undefined","searchRef","onChangeCombo","userRoleActualData","findIndex","nuserrolecode","userRoleData","splice","userRoleTreeData","onEsignInputOnChange","target","type","name","checked","setState","validateEsign","sreason","password","onInputOnChange","reloadData","current","YES","nregsubtypecode","ntreetemplatecode","nmodulecode","onFilterSubmit","URTvalues","URTvalue","selectedApprovalType","error","controlMap","Map","createRef","searchFieldList","appendInputtree","e","length","totalid","newInput","concat","removeTree","i","listUserRole","j","render","listuserroletemplate","levelsuserroletemplate","addId","has","get","ncontrolcode","editId","approveId","filterParam","mandatoryFields","breadCrumbData","TESTRESULTAPPROVAL","label","searchedData","listApprovalsubtype","listRegistrationType","listRegistrationSubType","NO","nversionno","ntransactionstatus","DRAFT","stransdisplaystatus","float","indexOf","map","input","width","marginLeft","sleveluserrole","visibility","componentDidUpdate","previousProps","updateState","Object","values","Taglstapprovalsubtype","TaglistRegistrationType","TaglistRegistrationSubType","napprovalconfigcode","lstapprovalsubtype","componentWillUnmount","getDerivedStateFromProps","masterStatus","errorCode","agree","esigncomments","esignpassword","mapStatetoProps"],"mappings":"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","sourcesContent":["import FormInput from '../../components/form-input/form-input.component';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport { Row, Col, Card, Nav, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../components/CommonScript';\r\nimport '../../assets/./styles/tree.css';\r\nimport React, { Component } from 'react';\r\nimport { NavHeader } from '../../components/sidebar/sidebar.styles';\r\nimport { ContentPanel, ListWrapper } from './userroletemplate.styles';\r\nimport {\r\n    callService, crudMaster, updateStore, addScreenModel, validateEsignCredential,\r\n    getURTFilterRegType, getURTFilterRegSubType, getURTFilterSubmit,\r\n    fetchRecordById, getTreetemplate, filterColumnData, postCRUDOrganiseSearch\r\n} from '../../actions';\r\nimport { injectIntl } from 'react-intl';\r\n// import rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport UserRoleTemplateFilter from './UserRoleTemplateFilter';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport Esign from '../audittrail/Esign';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport { ApprovalSubType, transactionStatus } from '../../components/Enumeration';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\n\r\nclass userroletempalate extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            openModal: false,\r\n            userRoleTreeData: [],\r\n            userRoleControlRights: [],\r\n            URTvalues: [{ URTvalue: \"\" }],\r\n            selectedApprovalType: 0,\r\n            error: \"\",\r\n            controlMap: new Map(),\r\n            selectedInput: \"\",\r\n        }\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"stransdisplaystatus\", \"sversionstatus\", \"sversiondescription\"];\r\n    }\r\n\r\n    closeModel = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    appendInputtree(e) {\r\n        const totalLevel = this.props.Login.totalLevel ? this.props.Login.totalLevel : 1;\r\n        if (this.props.Login.selectedRecord[this.props.Login.id] !== undefined) {\r\n            let id = parseInt(this.props.Login.id) + 1;\r\n\r\n            if (id < 9) {\r\n                if (totalLevel < (this.props.Login.userRoleActualData.length)) {\r\n                    //let id = parseInt(e.currentTarget.id) + 1;\r\n                    let totalid = totalLevel;\r\n                    if (totalid === id) {\r\n                        if (this.props.Login.userRoleData.length <= 0) {\r\n                            toast.info(this.props.intl.formatMessage({ id: \"IDS_NOUSERROLETOADDTONEXTLEVEL\" }));\r\n                        }\r\n                        else {\r\n                            var newInput = `input-${totalLevel}`;\r\n                            var userRoleTreeData = this.props.Login.userRoleTreeData.concat([newInput])\r\n                            const updateInfo = {\r\n                                typeName: DEFAULT_RETURN,\r\n                                data: { userRoleTreeData, totalLevel: totalLevel + 1, id }\r\n                            }\r\n\r\n                            this.props.updateStore(updateInfo)\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    toast.info(this.props.intl.formatMessage({ id: \"IDS_NOUSERROLETOADDTONEXTLEVEL\" }));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_PLSSELECTUSERROLE\" }));\r\n        }\r\n    }\r\n\r\n    removeTree(event, i) {\r\n        let userRoleTreeData = this.props.Login.userRoleTreeData;\r\n        userRoleTreeData.splice(i, 10);\r\n        const totalLevel = this.props.Login.totalLevel ? this.props.Login.totalLevel : 1;\r\n        const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\r\n        let listUserRole = this.props.Login.userRoleData || [];\r\n        if (selectedRecord[i]) {\r\n            for (let j = i; j < totalLevel; j++) {\r\n                let index = (this.props.Login.userRoleActualData).findIndex(data => data.nuserrolecode === parseInt(selectedRecord[j]));\r\n                listUserRole.push(this.props.Login.userRoleActualData[index]);\r\n                delete selectedRecord[j];\r\n            };\r\n        }\r\n\r\n        // const  TagUserroleData  = constructOptionList(listUserRole ||[], \"nuserrolecode\",\r\n        // \"suserrolename\" , undefined, undefined, undefined);\r\n        // const  TagListUserroleData = TagUserroleData.get(\"OptionList\");\r\n\r\n        let userRoleData = listUserRole;\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { userRoleTreeData, userRoleData, selectedRecord, totalLevel: i, id: i - 1 }\r\n        }\r\n\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    filterComboChange = (event, fieldname) => {\r\n        if (event !== null) {\r\n            // let uRL = \"\";\r\n            let inputData = [];\r\n            if (fieldname === \"approvalSubType\") {\r\n                // uRL = 'userroletemplate/getApprovalRegSubType';\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    napprovalsubtypecode: parseInt(event.value),\r\n                    ntemplatecode: parseInt(event.item.ntemplatecode),\r\n                    isregneed: parseInt(event.item.nisregsubtypeconfigneed),\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultapprovalsubtype: event }\r\n                let inputParam = { masterData, inputData }\r\n                this.props.getURTFilterRegType(inputParam)\r\n            }\r\n            else if (fieldname === \"registrationType\") {\r\n                // uRL = 'userroletemplate/getApprovalRegSubType';\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 2,\r\n                    nregtypecode: parseInt(event.value),\r\n                    napprovalsubtypecode: this.props.Login.masterData.defaultapprovalsubtype.value,\r\n                    ntemplatecode: this.props.Login.masterData.defaultapprovalsubtype.item.ntemplatecode,\r\n                    isregneed: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed,\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultregtype: event }\r\n                let inputParam = { masterData, inputData }\r\n                this.props.getURTFilterRegSubType(inputParam)\r\n            } else {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultregsubtype: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { masterData, userInfo, openModal, userRoleTreeData, userRoleData, selectedRecord } = this.props.Login;\r\n        const { listuserroletemplate, levelsuserroletemplate } = this.props.Login.masterData;\r\n        const { selectedInput } = this.state;\r\n        const selected = this.props.Login.masterData.selectedURTVersion;\r\n        const addId = this.state.controlMap.has(\"AddUserRoleTempalate\") && this.state.controlMap.get(\"AddUserRoleTempalate\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditUserRoleTempalate\") && this.state.controlMap.get(\"EditUserRoleTempalate\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteUserRoleTempalate\") && this.state.controlMap.get(\"DeleteUserRoleTempalate\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApproveUserRoleTempalate\") && this.state.controlMap.get(\"ApproveUserRoleTempalate\").ncontrolcode;\r\n\r\n        const filterParam = {\r\n            inputListName: \"listuserroletemplate\",\r\n            selectedObject: \"selectedURTVersion\",\r\n            primaryKeyField: \"ntreeversiontempcode\",\r\n            fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n\r\n        const mandatoryFields = [\r\n            { \"mandatory\": true, \"idsName\": \"IDS_TEMPLATENAME\", \"dataField\": \"sversiondescription\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n\r\n        ];\r\n        let breadCrumbData = []\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\r\n                }\r\n            ];\r\n        } else {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"-\"\r\n                }\r\n            ]\r\n        }\r\n        return (\r\n            <>\r\n                {/* <Preloader loading={loading} /> */}\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n\r\n                    }\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n\r\n                            <ListMaster\r\n                                masterData={masterData}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_USERROLETEMPLATE\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || listuserroletemplate}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                getMasterDetail={(URTvalue) => this.props.getTreetemplate(URTvalue, masterData, userInfo)}\r\n                                selectedMaster={this.props.Login.masterData.selectedURTVersion || {}}//this.props.Login.masterData.selected}\r\n                                primaryKeyField=\"ntreeversiontempcode\"\r\n                                mainField=\"sversiondescription\"\r\n                                //firstField=\"sversiondescription\"\r\n                                firstField=\"stransdisplaystatus\"\r\n                                //secondField=\"stransdisplaystatus\"\r\n                                isIDSField=\"No\"\r\n                                openModal={() => this.props.addScreenModel(\"create\", masterData, userInfo, addId, selectedInput)}\r\n\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                needAccordianFilter={false}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_USERROLETEMPLATEFILTER\":\r\n                                            <UserRoleTemplateFilter\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                filterApprovalSubtype={this.state.listApprovalsubtype || []}\r\n                                                filterRegistrationType={this.state.listRegistrationType || []}\r\n                                                filterRegistrationSubType={this.state.listRegistrationSubType || []}\r\n                                                defaultapprovalsubtype={this.props.Login.masterData[\"defaultapprovalsubtype\"] || {}}\r\n                                                defaultregsubtype={this.props.Login.masterData[\"defaultregsubtype\"] || []}\r\n                                                defaultregtype={this.props.Login.masterData[\"defaultregtype\"] || []}\r\n                                                selectedApprovalType={this.props.Login.masterData.defaultapprovalsubtype || []}\r\n                                                selectedInput={selectedInput || []}\r\n                                                isRegNeed={this.props.Login.masterData.defaultapprovalsubtype ? this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed : transactionStatus.NO}\r\n                                                filterComboChange={this.filterComboChange}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n\r\n                        {this.props.Login.masterData.selectedURTVersion && listuserroletemplate && listuserroletemplate.length > 0 ?\r\n                            <Col md={8}>\r\n                                <ListWrapper className=\"panel-main-content\">\r\n                                    <Card className=\"border-0\">\r\n                                        {(selected) &&\r\n                                            <Card.Header>\r\n                                                <ReactTooltip place=\"bottom\" globalEventOff='click' />\r\n                                                <Card.Title>\r\n                                                    <>\r\n                                                        <h1 className=\"product-title-main\">{selected.sversiondescription}</h1>\r\n                                                    </>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"readonly-text font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={8} className=\"d-flex\">\r\n                                                            <h3 className=\"product-title-sub\">Version : {selected.nversionno === -1 ? \"-\" : selected.nversionno}</h3>\r\n                                                            <span className={`btn btn-outlined ${selected.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : selected.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`}>\r\n                                                                {selected.stransdisplaystatus}</span>\r\n                                                        </Col>\r\n                                                        <Col md={4}>\r\n                                                            {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                            <Nav style={{ float: \"right\" }}>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                    onClick={() => this.props.fetchRecordById(\"ntreeversiontempcode\", selected.ntreeversiontempcode, masterData, \"update\", selectedRecord, selectedInput, userInfo, editId)}>\r\n                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                    {/* <ConfirmDialog\r\n                                                                            name=\"deleteMessage\"\r\n                                                                            message=\"Are you sure?\"\r\n                                                                            doLabel=\"Ok\"\r\n                                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                            icon={faTrashAlt}\r\n                                                                            //title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            hidden={this.props.userRoleControlRights && this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            handleClickDelete={() => this.deleteRecord(\"delete\", deleteId)}\r\n                                                                        /> */}\r\n                                                                </Nav.Link>\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                    onClick={() => this.approveRecord(\"approve\", approveId)}>\r\n                                                                    <FontAwesomeIcon name=\"URTapprove\" icon={faThumbsUp} />\r\n                                                                </Nav.Link>\r\n                                                            </Nav>\r\n                                                            {/* </Tooltip> */}\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                        }\r\n                                    </Card>\r\n                                </ListWrapper>\r\n\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    <ListWrapper className=\"card-body\">\r\n                                        <React.Fragment>\r\n                                            <ListWrapper className=\"tree-view1 border-left tree-left\">\r\n                                                {levelsuserroletemplate ? levelsuserroletemplate.map((input, i) =>\r\n                                                    <ListWrapper key={i} className=\"form-label-group tree-level list_get\">\r\n                                                        <NavHeader className=\"line\" style={{ width: (i + 1) * 10 }}> </NavHeader>\r\n                                                        <NavHeader id={i} value={this.props.Login.totalLevel}\r\n                                                            className=\"add_field_button\">+</NavHeader>\r\n                                                        <NavHeader className=\"levelcolour\" ml={1}>Level {i + 1}</NavHeader>\r\n                                                        <ListWrapper style={{ marginLeft: (i + 8) * 10 }}>\r\n                                                            <FormInput className=\"input_custom\" value={input.sleveluserrole} id=\"levelname\" type=\"text\" />\r\n                                                        </ListWrapper>\r\n                                                    </ListWrapper>\r\n                                                ) : \"\"\r\n                                                }\r\n                                            </ListWrapper>\r\n                                        </React.Fragment>\r\n                                    </ListWrapper>\r\n                                </ContentPanel>\r\n                            </Col>\r\n                            : \"\"}\r\n                    </Row >\r\n                </div>\r\n\r\n\r\n                {this.props.Login.openModal ?\r\n                    < SlideOutModal\r\n                        operation={this.props.Login.operation}\r\n                        onSaveClick={this.saveTreetemplate}\r\n                        validateEsign={this.validateEsign}\r\n                        esign={this.props.Login.loadEsign}\r\n                        screenName=\"IDS_USERROLETEMPLATE\"\r\n                        mandatoryFields={mandatoryFields}\r\n                        selectedRecord={this.props.Login.loadEsign ? this.state.selectedRecord : selectedInput}\r\n                        closeModal={this.closeModel}\r\n                        show={openModal}\r\n                        inputParam={1}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                // formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n\r\n                            : <Row>\r\n                                <Col md={12}>\r\n                                    <FormInput\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                        name={\"sversiondescription\"}\r\n                                        as=\"text\"\r\n                                        onChange={(event) => this.onInputOnChange(event)}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                        defaultValue={selectedInput ? selectedInput[\"sversiondescription\"] : \"\"}\r\n                                        isMandatory={true}\r\n                                        required={true}\r\n                                        maxLength={100}\r\n                                    />\r\n                                </Col>\r\n                                <Col md={12}>\r\n                                    <ListWrapper className=\"tree-view border-left\">\r\n                                        {userRoleTreeData ?\r\n                                            userRoleTreeData.map((input, i) =>\r\n                                                <ListWrapper className=\"form-label-group tree-level\">\r\n                                                    <NavHeader className=\"line\" style={{ width: (i + 1) * 10 }}> </NavHeader>\r\n                                                    <NavHeader id={i} value={this.props.Login.totalLevel}\r\n                                                        className=\"add_field_button\">+</NavHeader>\r\n                                                    <NavHeader md={1}>level <NavHeader className=\"tree-value\">{i + 1}</NavHeader>\r\n                                                    </NavHeader>\r\n                                                    <Nav className=\"btn mr-2 action-icons-wrap\" style={{ float: \"right\", visibility: i === 0 ? 'hidden' : 'visible' }} onClick={(event) => this.removeTree(event, i)}>\r\n                                                        <FontAwesomeIcon name=\"URTMDelete\" icon={faTrashAlt} className=\"ActionIconColor\" />\r\n                                                    </Nav>\r\n                                                    <Row>\r\n                                                        <Col md={12} style={{ marginLeft: (i + 3) * 10 }}>\r\n                                                            <FormSelectSearch\r\n                                                                name={\"nuserrolecode\"}\r\n                                                                placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                                                isMandatory={false}\r\n                                                                optionId=\"nuserrolecode\"\r\n                                                                optionValue=\"suserrolename\"\r\n                                                                defaultValue={{ \"value\": input[\"nuserrolecode\"], \"label\": input[\"sleveluserrole\"] }}\r\n                                                                options={userRoleData ? constructOptionList(userRoleData || [], \"nuserrolecode\",\r\n                                                                    \"suserrolename\", undefined, undefined, undefined).get(\"OptionList\") : []}\r\n                                                                onChange={(event) => this.onChangeCombo(event, i, this.props.Login.operation)}\r\n                                                                isMulti={false}\r\n                                                                isSearchable={false}\r\n                                                                isDisabled={false}\r\n                                                                // placeholder=\"Select User Role\"\r\n                                                                isClearable={true}>\r\n\r\n                                                            </FormSelectSearch>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </ListWrapper>\r\n                                            )\r\n                                            : \"\"}\r\n                                    </ListWrapper>\r\n\r\n                                    <NavHeader>\r\n                                        <Button name=\"URTMAdd\" onClick={(e) => this.appendInputtree(e)} className=\"btn btn-circle solid-blue\" role=\"button\">+</Button>\r\n                                    </NavHeader>\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        } />\r\n                    : \"\"}\r\n            </>\r\n        );\r\n    }\r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(\"delete\", deleteId));\r\n    }\r\n\r\n    //approve the record\r\n    approveRecord = (operation, ncontrolCode) => {\r\n        const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\r\n        // const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\r\n        const selected = this.props.Login.masterData.selectedURTVersion;\r\n        if (selectedRecord[\"ntransactionstatus\"] === transactionStatus.APPROVED || selectedRecord[\"ntransactionstatus\"] === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTOAPPROVE\" }));\r\n        }\r\n        else {\r\n            let inputData = [];\r\n            inputData = {\r\n                \"ntreetemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\r\n                \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\r\n                \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n                \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n                \"ntreeversiontempcode\": selected.ntreeversiontempcode,\r\n                \"napprovalconfigcode\": selectedRecord[\"napprovalconfigcode\"],\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\r\n            }\r\n\r\n\r\n            const postParam = {\r\n                inputListName: \"listuserroletemplate\", selectedObject: \"selectedURTVersion\",\r\n                primaryKeyField: \"ntreeversiontempcode\",\r\n                primaryKeyValue: selected.ntreeversiontempcode,\r\n                fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            }\r\n\r\n            const inputParam = {\r\n                methodUrl: \"UserroleTemplatemaster\",\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: operation,\r\n                postParam\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, openModal: true, screenData: { inputParam, masterData },\r\n                        operation: operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    //to delete a recored\r\n    deleteRecord = (operation, ncontrolCode) => {\r\n        const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\r\n        // const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\r\n        const selected = this.props.Login.masterData.selectedURTVersion;\r\n        if (selectedRecord[\"ntransactionstatus\"] === transactionStatus.APPROVED || selectedRecord[\"ntransactionstatus\"] === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTODELETE\" }));\r\n        }\r\n        else {\r\n            let inputData = [];\r\n            inputData = {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"ntreetemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\r\n                \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\r\n                \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n                \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n                \"ntreeversiontempcode\": selected.ntreeversiontempcode,\r\n                \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed\r\n            }\r\n\r\n            const postParam = {\r\n                inputListName: \"listuserroletemplate\", selectedObject: \"selectedURTVersion\",\r\n                primaryKeyField: \"ntreeversiontempcode\",\r\n                primaryKeyValue: selected.ntreeversiontempcode,\r\n                fetchUrl: \"userroletemplate/getUserroletemplatebyId\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            }\r\n\r\n\r\n            const inputParam = {\r\n                methodUrl: \"UserroleTemplatemaster\",\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                inputData: inputData,\r\n                operation: operation,\r\n                postParam\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, openModal: true, screenData: { inputParam, masterData },\r\n                        operation: operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    saveTreetemplate = (saveType, formRef) => {\r\n\r\n        let listUserRoleTree = [];\r\n        let levelno = 0;\r\n        const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : \"\";\r\n        const selectedInput = this.state.selectedInput ? this.state.selectedInput : \"\";\r\n        const selected = this.props.Login.masterData.selectedURTVersion;\r\n\r\n\r\n        for (let index = 0; index < this.props.Login.totalLevel; index++) {\r\n            levelno = index + 1;\r\n            if (selectedRecord[index]) {\r\n                listUserRoleTree.push((selectedRecord[index]).toString())\r\n            }\r\n            else {\r\n                return toast.info(this.props.intl.formatMessage({ id: \"IDS_PLESESELECTTHELEVEL\" }) + levelno);\r\n            }\r\n        }\r\n        let inputData = [];\r\n        let methodUrl = \"\";\r\n        inputData = {\r\n            \"userinfo\": this.props.Login.userInfo,\r\n            \"treetemptranstestgroup\": listUserRoleTree,\r\n            \"specname\": selectedInput.sversiondescription,\r\n            \"ntemplatecode\": this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\r\n            \"napprovalsubtypecode\": this.props.Login.masterData.realApprovalSubTypeValue.value,\r\n            \"nregtypecode\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n            \"nregsubtypecode\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n            \"ntreeversiontempcode\": selected === undefined ? -1 : selected.ntreeversiontempcode ? selected.ntreeversiontempcode : -1,\r\n            \"napprovalconfigcode\": selectedRecord[\"napprovalconfigcode\"] ? selectedRecord[\"napprovalconfigcode\"] : undefined,\r\n            \"isregneed\": this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed,\r\n        }\r\n\r\n\r\n        let postParam = undefined;\r\n\r\n        if (this.props.Login.operation === \"create\") {\r\n            methodUrl = \"UserRoleTemplatemaster\";\r\n        }\r\n        else {\r\n            methodUrl = \"EditUserRoleTemplatemaster\";\r\n            postParam = { inputListName: \"listuserroletemplate\", selectedObject: \"selectedURTVersion\", primaryKeyField: \"ntreeversiontempcode\" };\r\n        }\r\n        const inputParam = {\r\n            methodUrl: methodUrl,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            searchRef: this.searchRef,\r\n            formRef, postParam\r\n        }\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    onChangeCombo = (event, levelno, operation) => {\r\n        const selectedRecord = this.props.Login.selectedRecord ? this.props.Login.selectedRecord : {} || {};\r\n        let index = (this.props.Login.userRoleActualData).findIndex(data => data.nuserrolecode === parseInt(selectedRecord[levelno]));\r\n        if (event !== null) {\r\n            if (selectedRecord[levelno]) {\r\n                this.props.Login.userRoleData.push(this.props.Login.userRoleActualData[index]);\r\n            }\r\n            index = (this.props.Login.userRoleData).findIndex(data => data.nuserrolecode === parseInt(event.value));\r\n            (this.props.Login.userRoleData).splice(index, 1);\r\n            index = (this.props.Login.userRoleActualData).findIndex(data => data.nuserrolecode === parseInt(event.value));\r\n            (this.props.Login.userRoleTreeData[levelno]) = (this.props.Login.userRoleActualData[index]);\r\n\r\n            selectedRecord[levelno] = event.value;\r\n\r\n            // const  TaguserRoleData  = constructOptionList(this.props.Login.userRoleData ||[], \"nuserrolecode\",\r\n            // \"suserrolename\" , undefined, undefined, undefined);\r\n            // const  TagListuserRoleData  = TaguserRoleData.get(\"OptionList\")\r\n\r\n            let userRoleData = this.props.Login.userRoleData || [];\r\n            let userRoleTreeData = this.props.Login.userRoleTreeData;\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { userRoleData, selectedRecord, userRoleTreeData }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            if (selectedRecord[levelno]) {\r\n                this.props.Login.userRoleData.push(this.props.Login.userRoleActualData[index]);\r\n                delete selectedRecord[levelno];\r\n            }\r\n            // const  TaguserRoleData  = constructOptionList(this.props.Login.userRoleData ||[], \"nuserrolecode\",\r\n            // \"suserrolename\" , undefined, undefined, undefined);\r\n            // const  TagListuserRoleData  = TaguserRoleData.get(\"OptionList\")\r\n\r\n            let userRoleData = this.props.Login.userRoleData || [];\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { userRoleData }\r\n            }\r\n            this.props.updateStore(updateInfo, selectedRecord);\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedInput = this.state.selectedInput || {};\r\n        selectedInput[event.target.name] = event.target.value;\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { selectedInput }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ selectedInput })\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nflag: this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed === transactionStatus.YES ? 2 : 1,\r\n            nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\r\n            napprovalsubtypecode: this.props.Login.masterData.realApprovalSubTypeValue.value,\r\n            ntreetemplatecode: this.props.Login.masterData.realApprovalSubTypeValue.item.ntemplatecode,\r\n            ntreeversiontempcode: -1,\r\n            nmodulecode: 1,\r\n            isregneed: this.props.Login.masterData.realApprovalSubTypeValue.item.nisregsubtypeconfigneed,\r\n        };    \r\n\r\n        let inputParam = { masterData:this.props.Login.masterData, inputData };\r\n        this.props.getURTFilterSubmit(inputParam);\r\n\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"userroletemplate\",\r\n        //     methodUrl: \"Userroletemplate\",\r\n        //     userInfo: this.props.Login.userInfo,\r\n        //     displayName: \"IDS_USERROLETEMPLATE\"\r\n        //     //screenName:\"IDS_USERROLETEMPLATE\"\r\n        // };\r\n\r\n        // this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false\r\n\r\n        let { selectedRecord, userRoleControlRights, controlMap,\r\n            listApprovalsubtype, listRegistrationType, listRegistrationSubType } = this.state;\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]\r\n                    && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                updateState = true;\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n        // if (this.props.Login.selectedInput !== previousProps.Login.selectedInput) {\r\n        //     updateState = true;\r\n        //     selectedInput = this.props.Login.selectedInput\r\n        // }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            \r\n            updateState = true;\r\n            // const selectedRecord = {}\r\n            const selectedInput = {}\r\n            let Taglstapprovalsubtype;\r\n            let TaglistRegistrationType;\r\n            let TaglistRegistrationSubType;\r\n\r\n            if (this.props.Login.masterData.levelsuserroletemplate  &&\r\n                this.props.Login.masterData.levelsuserroletemplate.length > 0){\r\n\r\n                    selectedRecord[\"napprovalconfigcode\"] = this.props.Login.masterData.levelsuserroletemplate[0][\"napprovalconfigcode\"];\r\n                    selectedRecord[\"ntransactionstatus\"] = this.props.Login.masterData.levelsuserroletemplate[0][\"ntransactionstatus\"] ;\r\n            }\r\n            else{\r\n                if (selectedRecord){\r\n                    selectedRecord[\"napprovalconfigcode\"] = -1;\r\n                 }\r\n                else{\r\n                    selectedRecord = {napprovalconfigcode: -1};\r\n                }\r\n                selectedRecord[\"ntransactionstatus\"] = this.props.Login.selectedRecord ? this.props.Login.selectedRecord[\"ntransactionstatus\"] : [];\r\n                \r\n            }\r\n            // selectedRecord[\"napprovalconfigcode\"] = this.props.Login.masterData.levelsuserroletemplate ? this.props.Login.masterData.levelsuserroletemplate.length > 0 ?\r\n            //     this.props.Login.masterData.levelsuserroletemplate[0][\"napprovalconfigcode\"] : -1 : -1\r\n\r\n            // selectedRecord[\"ntransactionstatus\"] = this.props.Login.masterData.levelsuserroletemplate ? this.props.Login.masterData.levelsuserroletemplate.length > 0 ?\r\n            //     this.props.Login.masterData.levelsuserroletemplate[0][\"ntransactionstatus\"] :\r\n            //     this.props.Login.selectedRecord ? this.props.Login.selectedRecord[\"ntransactionstatus\"] : [] : [];\r\n\r\n            if (this.props.Login.masterData.lstapprovalsubtype) {\r\n                Taglstapprovalsubtype = constructOptionList(this.props.Login.masterData.lstapprovalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", \"ntemplatecode\", \"ascending\", undefined);\r\n                listApprovalsubtype = Taglstapprovalsubtype.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.listRegistrationType) {\r\n                TaglistRegistrationType = constructOptionList(this.props.Login.masterData.listRegistrationType || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\r\n                listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.listRegistrationSubType) {\r\n                TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.listRegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\r\n                listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.levelsuserroletemplate) {\r\n                sortData(this.props.Login.masterData.levelsuserroletemplate, \"ascending\", \"nlevelno\");\r\n            }\r\n\r\n            selectedInput[\"isRegNeed\"] = this.props.Login.masterData.selectedInput ? this.props.Login.masterData.selectedInput[\"isRegNeed\"]\r\n                : this.props.Login.masterData.lstapprovalsubtype ? this.props.Login.masterData.lstapprovalsubtype.length > 0 ?\r\n                    this.props.Login.masterData.lstapprovalsubtype[0][\"nisregsubtypeconfigneed\"] :\r\n                    \"\" ? \"\" : \"\" : \"\";\r\n            if (updateState) {\r\n                this.setState({\r\n                    selectedRecord, controlMap, userRoleControlRights,\r\n                    listApprovalsubtype, listRegistrationType, listRegistrationSubType,\r\n                    selectedInput\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nflag: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed === transactionStatus.YES ? 2 : 1,\r\n            nregtypecode: parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\r\n            nregsubtypecode: parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\r\n            napprovalsubtypecode: this.props.Login.masterData.defaultapprovalsubtype.value,\r\n            ntreetemplatecode: this.props.Login.masterData.defaultapprovalsubtype.item.ntemplatecode,\r\n            ntreeversiontempcode: -1,\r\n            nmodulecode: 1,\r\n            isregneed: this.props.Login.masterData.defaultapprovalsubtype.item.nisregsubtypeconfigneed,\r\n        };\r\n        let masterData = {\r\n            ...this.props.Login.masterData,\r\n            realApprovalSubTypeValue: this.props.Login.masterData.defaultapprovalsubtype,\r\n            realRegTypeValue: this.props.Login.masterData.defaultregtype,\r\n            realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\r\n        }\r\n        let inputParam = { masterData, inputData };\r\n        this.props.getURTFilterSubmit(inputParam);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (!props.Login.loadEsign) {\r\n            return { selectedRecord: { ...state.selectedRecord, agree: 4, esigncomments: '', esignpassword: '' } }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\nconst mapStatetoProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n\r\n}\r\nexport default connect(mapStatetoProps, {\r\n    callService, crudMaster, addScreenModel, updateStore,\r\n    validateEsignCredential, getURTFilterRegType, getURTFilterRegSubType, getURTFilterSubmit,\r\n    fetchRecordById, getTreetemplate, filterColumnData, postCRUDOrganiseSearch\r\n})(injectIntl(userroletempalate));\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}