{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{toast}from'react-toastify';import Axios from'axios';import rsapi from'../rsapi';import{initRequest}from'./LoginAction';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData,constructOptionList,rearrangeDateFormat,ageCalculate,formatInputDate}from'../components/CommonScript';import{intl}from'../components/App';import{transactionStatus}from'../components/Enumeration';import{getLeftPosition}from'@progress/kendo-react-tooltip/dist/npm/utils';import{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";var checkTree=QbUtils.checkTree,loadTree=QbUtils.loadTree,uuid=QbUtils.uuid;export function getPatientDetail(patient,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"patient/getPatient\",{spatientid:patient.spatientid,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false,patientHistory:false,patientReportHistory:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPatientComboService(inputParam){return function(dispatch){var genderService=rsapi.post(\"patient/getGender\",{userinfo:inputParam.userInfo});var UTCtimeZoneService=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:inputParam.userInfo});var countryService=rsapi.post(\"patient/getCountry\",{userinfo:inputParam.userInfo});var regionService=rsapi.post(\"patient/getRegion\",{userinfo:inputParam.userInfo});var urlArray=[];if(inputParam.operation===\"create\"){urlArray=[genderService,UTCtimeZoneService,countryService,regionService];}else{var _rsapi$post;var patientById=rsapi.post(\"patient/getActivePatientById\",(_rsapi$post={},_defineProperty(_rsapi$post,inputParam.primaryKeyName,inputParam.masterData.SelectedPatient[inputParam.primaryKeyName]),_defineProperty(_rsapi$post,\"userinfo\",inputParam.userInfo),_rsapi$post));var citySer=rsapi.post(\"/patient/getCity\",{\"userinfo\":inputParam.userInfo,\"ndistrictcode\":inputParam.masterData.SelectedPatient.ndistrictcode});var districtSer=rsapi.post(\"/patient/getDistrict\",{\"userinfo\":inputParam.userInfo,\"nregioncode\":inputParam.masterData.SelectedPatient.nregioncode});var citySertemp=rsapi.post(\"/patient/getCity\",{\"userinfo\":inputParam.userInfo,\"ndistrictcode\":inputParam.masterData.SelectedPatient.ndistrictcodetemp});var districtSertemp=rsapi.post(\"/patient/getDistrict\",{\"userinfo\":inputParam.userInfo,\"nregioncode\":inputParam.masterData.SelectedPatient.nregioncodetemp});urlArray=[genderService,UTCtimeZoneService,countryService,regionService,patientById,citySer,districtSer,citySertemp,districtSertemp];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var gender=[];var city=[];var country=[];var region=[];var regionTemp=[];var districtTemp=[];var district=[];var cityTemp=[];var districtList=[];var cityList=[];var cityListTemp=[];var districtListTemp=[];var genderMap=constructOptionList(response[0].data['genderList']||[],\"ngendercode\",\"sgendername\",undefined,undefined,false);var genderList=genderMap.get(\"OptionList\");var countryMap=constructOptionList(response[2].data['countryList']||[],\"ncountrycode\",\"scountryname\",undefined,undefined,false);var countryList=countryMap.get(\"OptionList\");var regionMap=constructOptionList(response[3].data['regionList']||[],\"nregioncode\",\"sregionname\",undefined,undefined,false);var regionList=regionMap.get(\"OptionList\");if(inputParam.operation===\"update\"){var cityserMap=constructOptionList(response[5].data['cityList']||[],\"ncitycode\",\"scityname\",undefined,undefined,false);cityList=cityserMap.get(\"OptionList\");var distMap=constructOptionList(response[6].data['districtList']||[],\"ndistrictcode\",\"sdistrictname\",undefined,undefined,false);districtList=distMap.get(\"OptionList\");var cityserTempMap=constructOptionList(response[7].data['cityList']||[],\"ncitycode\",\"scityname\",undefined,undefined,false);cityListTemp=cityserTempMap.get(\"OptionList\");var distTempMap=constructOptionList(response[8].data['districtList']||[],\"ndistrictcode\",\"sdistrictname\",undefined,undefined,false);districtListTemp=distTempMap.get(\"OptionList\");}var selectedRecord={};var currentTime=rearrangeDateFormat(inputParam.userInfo,response[1].data);if(inputParam.operation===\"update\"){selectedRecord=response[4].data;gender.push({\"value\":response[4].data[\"ngendercode\"],\"label\":response[4].data[\"sgendername\"]});city.push({\"value\":response[4].data[\"ncitycode\"],\"label\":response[4].data[\"scityname\"]});country.push({\"value\":response[4].data[\"ncountrycode\"],\"label\":response[4].data[\"scountryname\"]});region.push({\"value\":response[4].data[\"nregioncode\"],\"label\":response[4].data[\"sregionname\"]});regionTemp.push({\"value\":response[4].data[\"nregioncodetemp\"],\"label\":response[4].data[\"sregionnametemp\"]});districtTemp.push({\"value\":response[4].data[\"ndistrictcodetemp\"],\"label\":response[4].data[\"sdistrictnametemp\"]});district.push({\"value\":response[4].data[\"ndistrictcode\"],\"label\":response[4].data[\"sdistrictname\"]});cityTemp.push({\"value\":response[4].data[\"ncitycodetemp\"],\"label\":response[4].data[\"scitynametemp\"]});selectedRecord[\"ngendercode\"]=gender[0];selectedRecord[\"ncitycode\"]=city[0];selectedRecord[\"ncountrycode\"]=country[0];selectedRecord[\"nregioncode\"]=region[0];selectedRecord[\"nregioncodetemp\"]=regionTemp[0];selectedRecord[\"ndistrictcodetemp\"]=districtTemp[0];selectedRecord[\"ndistrictcode\"]=district[0];selectedRecord[\"ncitycodetemp\"]=cityTemp[0];if(selectedRecord[\"ddob\"]!==null){selectedRecord[\"ddob\"]=rearrangeDateFormat(inputParam.userInfo,selectedRecord[\"sdob\"]);}}else{selectedRecord[\"ngendercode\"]=genderMap.get(\"DefaultValue\");//ALPD-3267\n//selectedRecord[\"ddob\"] = rearrangeDateFormat(inputParam.userInfo, response[1].data);\nselectedRecord[\"ddob\"]=\"\";selectedRecord[\"sage\"]=ageCalculate(selectedRecord[\"ddob\"]);selectedRecord[\"nneedcurrentaddress\"]=transactionStatus.NO;selectedRecord[\"today\"]=inputParam.userInfo;}dispatch({type:DEFAULT_RETURN,payload:{genderList:genderList,cityListTemp:cityListTemp,districtListTemp:districtListTemp,districtList:districtList,cityList:cityList,countryList:countryList,operation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolcode,loading:false,currentTime:currentTime,regionList:regionList,patientHistory:false,patientReportHistory:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPatientReport(patient,userInfo,ncontrolCode){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"patient/patientReportGenerate\",{patient:patient,userinfo:userInfo,ncontrolcode:ncontrolCode}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});document.getElementById(\"download_data\").setAttribute(\"href\",response.data.filepath);document.getElementById(\"download_data\").click();}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPatientDetailsByFilterQuery(inputParam,masterData,SelectedPatientCaseType){return function(dispatch){var URL=[];var filterData;var filterData1;if(inputParam.displayname===\"Filter\"){filterData=rsapi.post(\"/patient/getFilterByDate\",{\"userinfo\":inputParam.inputData.userinfo,\"formdate\":inputParam.inputData.date.fromDate,\"todate\":inputParam.inputData.date.toDate,\"casetype\":inputParam.inputData.casetype});}else{filterData=rsapi.post(\"/patient/filterByPatient\",{\"filterquery\":inputParam.inputData.filterquery,\"userinfo\":inputParam.inputData.userinfo});if(masterData.QueryName===\"Create New Query\"){filterData1=rsapi.post(\"/patient/createFilterQuery\",_objectSpread(_objectSpread({},inputParam.inputData.patientfilter),{},{userinfo:inputParam.inputData.userinfo}));}}URL=[filterData,filterData1];dispatch(initRequest(true));Axios.all(URL).then(function(response){var slideResult=response[0].data.PatientList;var selectedRecord=response[0].data.PatientList;selectedRecord[\"fromdate\"]=rearrangeDateFormat(inputParam.inputData.userinfo,response[0].data.filterFromdate);selectedRecord[\"ToDay\"]=rearrangeDateFormat(inputParam.inputData.userinfo,response[0].data.filterToDay);masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),{},{SelectedPatientCaseType:SelectedPatientCaseType},response[0].data),{},{searchedData:undefined});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,skip:0,take:20,slideResult:false,openModal:false,openSolidAdvFilter:false,selectedRecord:selectedRecord,patientHistory:false,patientReportHistory:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(intl.formatMessage({id:error.message}));});};}export function getDistrictComboServices(methodParam){return function(dispatch){var URL=[];URL=rsapi.post(\"/patient/getDistrict\",{\"userinfo\":methodParam.inputData.userinfo,\"nregioncode\":methodParam.inputData.primarykey});dispatch(initRequest(true));Axios.all([URL]).then(function(response){var _payload;var districtList;var districtMap=constructOptionList(response[0].data['districtList']||[],\"ndistrictcode\",\"sdistrictname\",undefined,undefined,false);districtList=districtMap.get(\"OptionList\");var districtListTemp;var districtMapTemp=constructOptionList(response[0].data['districtList']||[],\"ndistrictcode\",\"sdistrictname\",undefined,undefined,false);districtListTemp=districtMapTemp.get(\"OptionList\");var cityList=undefined;var cityListTemp=undefined;dispatch({type:DEFAULT_RETURN,payload:(_payload={},_defineProperty(_payload,methodParam.inputData.optionlistname,districtList),_defineProperty(_payload,methodParam.inputData.optionlistname,districtListTemp),_defineProperty(_payload,\"loading\",false),_defineProperty(_payload,\"data\",undefined),_defineProperty(_payload,\"dataState\",undefined),_defineProperty(_payload,\"cityList\",cityList),_defineProperty(_payload,\"cityListTemp\",cityListTemp),_payload)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getCityComboServices(methodParam){return function(dispatch){var URL=[];URL=rsapi.post(\"/patient/getCity\",{\"userinfo\":methodParam.inputData.userinfo,\"ndistrictcode\":methodParam.inputData.primarykey});dispatch(initRequest(true));Axios.all([URL]).then(function(response){var _payload2;var cityMap=constructOptionList(response[0].data['cityList']||[],\"ncitycode\",\"scityname\",undefined,undefined,false);var cityList=cityMap.get(\"OptionList\");var cityMapTemp=constructOptionList(response[0].data['cityList']||[],\"ncitycode\",\"scityname\",undefined,undefined,false);var cityListTemp=cityMapTemp.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:(_payload2={},_defineProperty(_payload2,methodParam.inputData.optionlistname,cityList),_defineProperty(_payload2,methodParam.inputData.optionlistname,cityListTemp),_defineProperty(_payload2,\"loading\",false),_defineProperty(_payload2,\"data\",undefined),_defineProperty(_payload2,\"dataState\",undefined),_payload2)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function filtercomboService(methodParam){return function(dispatch){var URL=[];var URL1=[];if(methodParam.displayname===\"onSubmit\"){URL=rsapi.post(\"/patient/createFilterQuery\",_objectSpread({},methodParam.inputParam.inputData));URL1=rsapi.post(\"/patient/filterByPatient\",{\"filterquery\":methodParam.inputParam.inputData.patientfilter.filterquery,\"userinfo\":methodParam.inputParam.inputData.userinfo});}else if(methodParam.displayname===\"ComboList\"){URL=rsapi.post(\"/patient/getFilterQueryList\",{\"userinfo\":methodParam.inputData.userinfo});}else{URL=rsapi.post(\"/patient/getFilterQuery\",{\"userinfo\":methodParam.inputData.userinfo,\"npatientfiltercode\":methodParam.inputData.primarykey});}dispatch(initRequest(true));Axios.all([URL,URL1]).then(function(response){var filterquery;var selectedRecord;var QueryName;var jsonTree;var openSolidAdvFilter;var openAlertModal;var openModal;var masterData={};var slideResult;var patientFilerList;if(methodParam.displayname===\"onSubmit\"){//selectedRecord =response[1].data.PatientList;   \nmasterData=_objectSpread(_objectSpread({},methodParam.masterData),response[1].data);openSolidAdvFilter=false;openAlertModal=false;openModal=false;selectedRecord={};}else if(methodParam.displayname===\"ComboList\"){var patcaseFiltertypeMap=constructOptionList(response[0].data.patientFilterType||[],\"npatientfiltercode\",\"spatientfiltername\",undefined,undefined,false);patientFilerList=patcaseFiltertypeMap.get(\"OptionList\");openSolidAdvFilter=true;openModal=true;selectedRecord={};masterData=_objectSpread(_objectSpread(_objectSpread({},methodParam.masterData),response[0].data),{},{patientFilerList:patientFilerList});}else{masterData=_objectSpread({},methodParam.masterData);selectedRecord=_objectSpread({},methodParam.masterData.selectedRecord);filterquery=response[0].data.SelectedPatientFilterType.filterquery===null?undefined:response[0].data.SelectedPatientFilterType.filterquery;//  QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername;\nQueryName=response[0].data.SelectedPatientFilterType.spatientfiltername!==\"Create New Query\"?response[0].data.SelectedPatientFilterType.spatientfiltername:undefined;var emptyInitValue={\"id\":uuid(),\"type\":\"group\"};var queryFilter=JSON.parse(response[0].data.SelectedPatientFilterType.tree);var initValue=queryFilter&&Object.keys(queryFilter).length>0?queryFilter:emptyInitValue;jsonTree=checkTree(loadTree(initValue),methodParam.Patconfigs);openSolidAdvFilter=true;openModal=true;}dispatch({type:DEFAULT_RETURN,payload:{loading:false,data:undefined,masterData:masterData,dataState:undefined,tree:jsonTree,filterquery:filterquery,QueryName:QueryName,openSolidAdvFilter:openSolidAdvFilter,openAlertModal:openAlertModal,selectedRecord:selectedRecord,openModal:openModal,slideResult:slideResult,patientFilerList:patientFilerList}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getFilterStatusCombo(methodParam){return function(dispatch){var URL=[];URL=rsapi.post(\"/patient/getFilterQueryList\",{\"userinfo\":methodParam.inputData.userinfo,\"nfilterstatus\":methodParam.inputData.primarykey});dispatch(initRequest(true));Axios.all([URL]).then(function(response){var patcaseFiltertypeMap=constructOptionList(response[0].data.patientFilterType||[],\"npatientfiltercode\",\"spatientfiltername\",undefined,undefined,false);var patientFilerList=patcaseFiltertypeMap.get(\"OptionList\");var openSolidAdvFilter=true;var openModal=true;var masterData=_objectSpread(_objectSpread(_objectSpread({},methodParam.masterData),response[0].data),{},{patientFilerList:patientFilerList});var filterquery=response[0].data.SelectedPatientFilterType.filterquery===null?undefined:response[0].data.SelectedPatientFilterType.filterquery;// const QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername;\nvar QueryName=response[0].data.SelectedPatientFilterType.spatientfiltername!==\"Create New Query\"?response[0].data.SelectedPatientFilterType.spatientfiltername:undefined;var emptyInitValue={\"id\":uuid(),\"type\":\"group\"};var queryFilter=JSON.parse(response[0].data.SelectedPatientFilterType.tree);var initValue=queryFilter&&Object.keys(queryFilter).length>0?queryFilter:emptyInitValue;var jsonTree=checkTree(loadTree(initValue),methodParam.Patconfigs);dispatch({type:DEFAULT_RETURN,payload:{openSolidAdvFilter:openSolidAdvFilter,openModal:openModal,tree:jsonTree,filterquery:filterquery,QueryName:QueryName,loading:false,data:undefined,dataState:undefined,masterData:masterData,screenName:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPatientHistory(patient,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"patient/getPatientHistory\",{spatientid:patient.spatientid,userinfo:userInfo}).then(function(response){var patienthist=[];patienthist=response.data;masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,patienthist:patienthist,loading:false,patientHistory:true,openModal:true,loadEsign:false,openSolidAdvFilter:false,patientReportHistory:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getpatientReportHistoryInfo(patient,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"patient/getPatientReportHistory\",{spatientid:patient.spatientid,userinfo:userInfo}).then(function(response){var patientReports=[];patientReports=response.data;masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,patientReports:patientReports,loading:false,patientReportHistory:true,openModal:true,loadEsign:false,openSolidAdvFilter:false,patientHistory:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/PatientAction.js"],"names":["toast","Axios","rsapi","initRequest","DEFAULT_RETURN","sortData","constructOptionList","rearrangeDateFormat","ageCalculate","formatInputDate","intl","transactionStatus","getLeftPosition","Utils","QbUtils","checkTree","loadTree","uuid","getPatientDetail","patient","userInfo","masterData","dispatch","post","spatientid","userinfo","then","response","data","type","payload","operation","modalName","undefined","loading","patientHistory","patientReportHistory","catch","error","status","message","warn","getPatientComboService","inputParam","genderService","UTCtimeZoneService","countryService","regionService","urlArray","patientById","primaryKeyName","SelectedPatient","citySer","ndistrictcode","districtSer","nregioncode","citySertemp","ndistrictcodetemp","districtSertemp","nregioncodetemp","all","gender","city","country","region","regionTemp","districtTemp","district","cityTemp","districtList","cityList","cityListTemp","districtListTemp","genderMap","genderList","get","countryMap","countryList","regionMap","regionList","cityserMap","distMap","cityserTempMap","distTempMap","selectedRecord","currentTime","push","NO","screenName","openModal","ncontrolCode","ncontrolcode","getPatientReport","loadEsign","document","getElementById","setAttribute","filepath","click","getPatientDetailsByFilterQuery","SelectedPatientCaseType","URL","filterData","filterData1","displayname","inputData","date","fromDate","toDate","casetype","filterquery","QueryName","patientfilter","slideResult","PatientList","filterFromdate","filterToDay","searchedData","skip","take","openSolidAdvFilter","formatMessage","id","getDistrictComboServices","methodParam","primarykey","districtMap","districtMapTemp","optionlistname","getCityComboServices","cityMap","cityMapTemp","filtercomboService","URL1","jsonTree","openAlertModal","patientFilerList","patcaseFiltertypeMap","patientFilterType","SelectedPatientFilterType","spatientfiltername","emptyInitValue","queryFilter","JSON","parse","tree","initValue","Object","keys","length","Patconfigs","dataState","getFilterStatusCombo","getPatientHistory","patienthist","getpatientReportHistoryInfo","patientReports"],"mappings":"qUAAA,OAASA,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,cAAT,KAA+B,cAA/B,CACA,OAASC,QAAT,CAAmBC,mBAAnB,CAAwCC,mBAAxC,CAA6DC,YAA7D,CAA2EC,eAA3E,KAAkG,4BAAlG,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,OAASC,iBAAT,KAAkC,2BAAlC,CACA,OAASC,eAAT,KAAgC,8CAAhC,CACA,OAASC,KAAK,GAAIC,CAAAA,OAAlB,KAAiC,iCAAjC,CAEA,GAAQC,CAAAA,SAAR,CAAsCD,OAAtC,CAAQC,SAAR,CAAmBC,QAAnB,CAAsCF,OAAtC,CAAmBE,QAAnB,CAA6BC,IAA7B,CAAsCH,OAAtC,CAA6BG,IAA7B,CAEA,MAAO,SAASC,CAAAA,gBAAT,CAA0BC,OAA1B,CAAmCC,QAAnC,CAA6CC,UAA7C,CAAyD,CAC5D,MAAO,UAAUC,QAAV,CAAoB,CACvBA,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACqB,IAAN,CAAW,oBAAX,CAAiC,CAAEC,UAAU,CAAEL,OAAO,CAACK,UAAtB,CAAkCC,QAAQ,CAAEL,QAA5C,CAAjC,EACFM,IADE,CACG,SAAAC,QAAQ,CAAI,CACdN,UAAU,gCAAQA,UAAR,EAAuBM,QAAQ,CAACC,IAAhC,CAAV,CACAvB,QAAQ,CAACgB,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CACfU,SAAS,CAAE,IADI,CACEC,SAAS,CAAEC,SADb,CAE3BC,OAAO,CAAE,KAFkB,CAEZC,cAAc,CAAC,KAFH,CAESC,oBAAoB,CAAC,KAF9B,CAD1B,CAAD,CAAR,CAMH,CAVE,EAWFC,KAXE,CAWI,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CAEJ,CApBE,CAAP,CAqBH,CAvBD,CAwBH,CAGD,MAAO,SAASc,CAAAA,sBAAT,CAAgCC,UAAhC,CAA4C,CAC/C,MAAO,UAAUrB,QAAV,CAAoB,CAEvB,GAAMsB,CAAAA,aAAa,CAAG1C,KAAK,CAACqB,IAAN,CAAW,mBAAX,CAAgC,CAAEE,QAAQ,CAAEkB,UAAU,CAACvB,QAAvB,CAAhC,CAAtB,CACA,GAAMyB,CAAAA,kBAAkB,CAAG3C,KAAK,CAACqB,IAAN,CAAW,6BAAX,CAA0C,CAAEE,QAAQ,CAAEkB,UAAU,CAACvB,QAAvB,CAA1C,CAA3B,CACA,GAAM0B,CAAAA,cAAc,CAAG5C,KAAK,CAACqB,IAAN,CAAW,oBAAX,CAAiC,CAAEE,QAAQ,CAAEkB,UAAU,CAACvB,QAAvB,CAAjC,CAAvB,CACA,GAAM2B,CAAAA,aAAa,CAAG7C,KAAK,CAACqB,IAAN,CAAW,mBAAX,CAAgC,CAAEE,QAAQ,CAAEkB,UAAU,CAACvB,QAAvB,CAAhC,CAAtB,CAEA,GAAI4B,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIL,UAAU,CAACZ,SAAX,GAAyB,QAA7B,CAAuC,CACnCiB,QAAQ,CAAG,CAACJ,aAAD,CAAgBC,kBAAhB,CAAoCC,cAApC,CAAoDC,aAApD,CAAX,CACH,CAFD,IAGK,iBACD,GAAME,CAAAA,WAAW,CAAG/C,KAAK,CAACqB,IAAN,CAAW,8BAAX,6CAEXoB,UAAU,CAACO,cAFA,CAEiBP,UAAU,CAACtB,UAAX,CAAsB8B,eAAtB,CAAsCR,UAAU,CAACO,cAAjD,CAFjB,8BAGZ,UAHY,CAGAP,UAAU,CAACvB,QAHX,eAApB,CAKA,GAAMgC,CAAAA,OAAO,CAAGlD,KAAK,CAACqB,IAAN,CAAW,kBAAX,CAA+B,CAAE,WAAYoB,UAAU,CAACvB,QAAzB,CAAmC,gBAAiBuB,UAAU,CAACtB,UAAX,CAAsB8B,eAAtB,CAAsCE,aAA1F,CAA/B,CAAhB,CACA,GAAMC,CAAAA,WAAW,CAAGpD,KAAK,CAACqB,IAAN,CAAW,sBAAX,CAAmC,CAAE,WAAYoB,UAAU,CAACvB,QAAzB,CAAmC,cAAeuB,UAAU,CAACtB,UAAX,CAAsB8B,eAAtB,CAAsCI,WAAxF,CAAnC,CAApB,CACA,GAAMC,CAAAA,WAAW,CAAGtD,KAAK,CAACqB,IAAN,CAAW,kBAAX,CAA+B,CAAE,WAAYoB,UAAU,CAACvB,QAAzB,CAAmC,gBAAiBuB,UAAU,CAACtB,UAAX,CAAsB8B,eAAtB,CAAsCM,iBAA1F,CAA/B,CAApB,CACA,GAAMC,CAAAA,eAAe,CAAGxD,KAAK,CAACqB,IAAN,CAAW,sBAAX,CAAmC,CAAE,WAAYoB,UAAU,CAACvB,QAAzB,CAAmC,cAAeuB,UAAU,CAACtB,UAAX,CAAsB8B,eAAtB,CAAsCQ,eAAxF,CAAnC,CAAxB,CACAX,QAAQ,CAAG,CAACJ,aAAD,CAAgBC,kBAAhB,CAAoCC,cAApC,CAAoDC,aAApD,CAAmEE,WAAnE,CAAgFG,OAAhF,CAAyFE,WAAzF,CAAsGE,WAAtG,CAAmHE,eAAnH,CAAX,CACH,CACDpC,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAUZ,QAAV,EACKtB,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIkC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CACA,GAAMC,CAAAA,SAAS,CAAGnE,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,YAAjB,GAAkC,EAAnC,CAAuC,aAAvC,CACjC,aADiC,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAArC,CAEA,GAAMyC,CAAAA,UAAU,CAAGD,SAAS,CAACE,GAAV,CAAc,YAAd,CAAnB,CAEA,GAAMC,CAAAA,UAAU,CAAGtE,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,aAAjB,GAAmC,EAApC,CAAwC,cAAxC,CAClC,cADkC,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAAtC,CAEA,GAAM4C,CAAAA,WAAW,CAAGD,UAAU,CAACD,GAAX,CAAe,YAAf,CAApB,CAEA,GAAMG,CAAAA,SAAS,CAAGxE,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,YAAjB,GAAkC,EAAnC,CAAuC,aAAvC,CACjC,aADiC,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAArC,CAEA,GAAM8C,CAAAA,UAAU,CAAGD,SAAS,CAACH,GAAV,CAAc,YAAd,CAAnB,CACA,GAAIhC,UAAU,CAACZ,SAAX,GAAyB,QAA7B,CAAuC,CACnC,GAAMiD,CAAAA,UAAU,CAAG1E,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,UAAjB,GAAgC,EAAjC,CAAqC,WAArC,CAClC,WADkC,CACrBK,SADqB,CACVA,SADU,CACC,KADD,CAAtC,CAEAqC,QAAQ,CAAGU,UAAU,CAACL,GAAX,CAAe,YAAf,CAAX,CAEA,GAAMM,CAAAA,OAAO,CAAG3E,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,GAAoC,EAArC,CAAyC,eAAzC,CAC/B,eAD+B,CACdK,SADc,CACHA,SADG,CACQ,KADR,CAAnC,CAEAoC,YAAY,CAAGY,OAAO,CAACN,GAAR,CAAY,YAAZ,CAAf,CAEA,GAAMO,CAAAA,cAAc,CAAG5E,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,UAAjB,GAAgC,EAAjC,CAAqC,WAArC,CACtC,WADsC,CACzBK,SADyB,CACdA,SADc,CACH,KADG,CAA1C,CAEAsC,YAAY,CAAGW,cAAc,CAACP,GAAf,CAAmB,YAAnB,CAAf,CAEA,GAAMQ,CAAAA,WAAW,CAAG7E,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,GAAoC,EAArC,CAAyC,eAAzC,CACnC,eADmC,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAAvC,CAEAuC,gBAAgB,CAAGW,WAAW,CAACR,GAAZ,CAAgB,YAAhB,CAAnB,CACH,CAED,GAAIS,CAAAA,cAAc,CAAG,EAArB,CACA,GAAMC,CAAAA,WAAW,CAAG9E,mBAAmB,CAACoC,UAAU,CAACvB,QAAZ,CAAsBO,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAlC,CAAvC,CAEA,GAAIe,UAAU,CAACZ,SAAX,GAAyB,QAA7B,CAAuC,CACnCqD,cAAc,CAAGzD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAA7B,CAEAiC,MAAM,CAACyB,IAAP,CAAY,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,aAAjB,CAAX,CAA4C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,aAAjB,CAArD,CAAZ,EACAkC,IAAI,CAACwB,IAAL,CAAU,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,WAAjB,CAAX,CAA0C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,WAAjB,CAAnD,CAAV,EACAmC,OAAO,CAACuB,IAAR,CAAa,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,CAAX,CAA6C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,CAAtD,CAAb,EACAoC,MAAM,CAACsB,IAAP,CAAY,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,aAAjB,CAAX,CAA4C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,aAAjB,CAArD,CAAZ,EACAqC,UAAU,CAACqB,IAAX,CAAgB,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,iBAAjB,CAAX,CAAgD,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,iBAAjB,CAAzD,CAAhB,EACAsC,YAAY,CAACoB,IAAb,CAAkB,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,mBAAjB,CAAX,CAAkD,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,mBAAjB,CAA3D,CAAlB,EACAuC,QAAQ,CAACmB,IAAT,CAAc,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,eAAjB,CAAX,CAA8C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,eAAjB,CAAvD,CAAd,EACAwC,QAAQ,CAACkB,IAAT,CAAc,CAAE,QAAS3D,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,eAAjB,CAAX,CAA8C,QAASD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,eAAjB,CAAvD,CAAd,EACAwD,cAAc,CAAC,aAAD,CAAd,CAAgCvB,MAAM,CAAC,CAAD,CAAtC,CACAuB,cAAc,CAAC,WAAD,CAAd,CAA8BtB,IAAI,CAAC,CAAD,CAAlC,CACAsB,cAAc,CAAC,cAAD,CAAd,CAAiCrB,OAAO,CAAC,CAAD,CAAxC,CACAqB,cAAc,CAAC,aAAD,CAAd,CAAgCpB,MAAM,CAAC,CAAD,CAAtC,CACAoB,cAAc,CAAC,iBAAD,CAAd,CAAoCnB,UAAU,CAAC,CAAD,CAA9C,CACAmB,cAAc,CAAC,mBAAD,CAAd,CAAsClB,YAAY,CAAC,CAAD,CAAlD,CACAkB,cAAc,CAAC,eAAD,CAAd,CAAkCjB,QAAQ,CAAC,CAAD,CAA1C,CACAiB,cAAc,CAAC,eAAD,CAAd,CAAkChB,QAAQ,CAAC,CAAD,CAA1C,CAEA,GAAIgB,cAAc,CAAC,MAAD,CAAd,GAA2B,IAA/B,CAAqC,CACjCA,cAAc,CAAC,MAAD,CAAd,CAAyB7E,mBAAmB,CAACoC,UAAU,CAACvB,QAAZ,CAAsBgE,cAAc,CAAC,MAAD,CAApC,CAA5C,CACH,CACJ,CAvBD,IAwBK,CAEDA,cAAc,CAAC,aAAD,CAAd,CAAgCX,SAAS,CAACE,GAAV,CAAc,cAAd,CAAhC,CACA;AACA;AACAS,cAAc,CAAC,MAAD,CAAd,CAAyB,EAAzB,CACAA,cAAc,CAAC,MAAD,CAAd,CAAyB5E,YAAY,CAAC4E,cAAc,CAAC,MAAD,CAAf,CAArC,CACAA,cAAc,CAAC,qBAAD,CAAd,CAAwCzE,iBAAiB,CAAC4E,EAA1D,CACAH,cAAc,CAAC,OAAD,CAAd,CAA0BzC,UAAU,CAACvB,QAArC,CACH,CAEDE,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3B4C,UAAU,CAAVA,UAD2B,CAE3BH,YAAY,CAAZA,YAF2B,CAG3BC,gBAAgB,CAAhBA,gBAH2B,CAI3BH,YAAY,CAAZA,YAJ2B,CAK3BC,QAAQ,CAARA,QAL2B,CAM3BO,WAAW,CAAXA,WAN2B,CAO3B9C,SAAS,CAAEY,UAAU,CAACZ,SAPK,CAQ3ByD,UAAU,CAAE7C,UAAU,CAAC6C,UARI,CAS3BJ,cAAc,CAAdA,cAT2B,CAU3BK,SAAS,CAAE,IAVgB,CAW3BC,YAAY,CAAE/C,UAAU,CAACgD,YAXE,CAY3BzD,OAAO,CAAE,KAZkB,CAa3BmD,WAAW,CAAXA,WAb2B,CAc3BN,UAAU,CAAVA,UAd2B,CAe3B5C,cAAc,CAAC,KAfY,CAeNC,oBAAoB,CAAC,KAff,CAD1B,CAAD,CAAR,CAmBH,CApGL,EAqGKC,KArGL,CAqGW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CA7GL,EA+GH,CAvID,CAwIH,CAGD,MAAO,SAASgE,CAAAA,gBAAT,CAA0BzE,OAA1B,CAAmCC,QAAnC,CAA6CsE,YAA7C,CAA2D,CAC9D,MAAO,UAAUpE,QAAV,CAAoB,CACvBA,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACqB,IAAN,CAAW,+BAAX,CAA4C,CAC/CJ,OAAO,CAAPA,OAD+C,CACtCM,QAAQ,CAAEL,QAD4B,CAE/CuE,YAAY,CAAED,YAFiC,CAA5C,EAIFhE,IAJE,CAIG,SAAAC,QAAQ,CAAI,CACdL,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3BI,OAAO,CAAE,KADkB,CAE3B2D,SAAS,CAAE,KAFgB,CAETJ,SAAS,CAAE,KAFF,CAD1B,CAAD,CAAR,CAMAK,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,YAAzC,CAAsD,MAAtD,CAA8DrE,QAAQ,CAACC,IAAT,CAAcqE,QAA5E,EACAH,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCG,KAAzC,GACH,CAbE,EAcF7D,KAdE,CAcI,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CAtBE,CAAP,CAuBH,CAzBD,CA0BH,CAED,MAAO,SAASuE,CAAAA,8BAAT,CAAwCxD,UAAxC,CAAoDtB,UAApD,CAAgE+E,uBAAhE,CAAyF,CAC5F,MAAO,UAAU9E,QAAV,CAAoB,CACvB,GAAI+E,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIC,CAAAA,UAAJ,CACA,GAAIC,CAAAA,WAAJ,CACA,GAAI5D,UAAU,CAAC6D,WAAX,GAA2B,QAA/B,CAAyC,CACrCF,UAAU,CAAGpG,KAAK,CAACqB,IAAN,CAAW,0BAAX,CAAuC,CAChD,WAAYoB,UAAU,CAAC8D,SAAX,CAAqBhF,QADe,CAEhD,WAAYkB,UAAU,CAAC8D,SAAX,CAAqBC,IAArB,CAA0BC,QAFU,CAEA,SAAUhE,UAAU,CAAC8D,SAAX,CAAqBC,IAArB,CAA0BE,MAFpC,CAE4C,WAAYjE,UAAU,CAAC8D,SAAX,CAAqBI,QAF7E,CAAvC,CAAb,CAIH,CALD,IAMK,CACDP,UAAU,CAAGpG,KAAK,CAACqB,IAAN,CAAW,0BAAX,CAAuC,CAChD,cAAeoB,UAAU,CAAC8D,SAAX,CAAqBK,WADY,CAE9C,WAAYnE,UAAU,CAAC8D,SAAX,CAAqBhF,QAFa,CAAvC,CAAb,CAIA,GAAIJ,UAAU,CAAC0F,SAAX,GAAyB,kBAA7B,CAAiD,CAC7CR,WAAW,CAAGrG,KAAK,CAACqB,IAAN,CAAW,4BAAX,gCAA8CoB,UAAU,CAAC8D,SAAX,CAAqBO,aAAnE,MAAkFvF,QAAQ,CAAEkB,UAAU,CAAC8D,SAAX,CAAqBhF,QAAjH,GAAd,CACH,CACJ,CAED4E,GAAG,CAAG,CAACC,UAAD,CAAaC,WAAb,CAAN,CACAjF,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAUyC,GAAV,EACK3E,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAIsF,CAAAA,WAAW,CAAGtF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBsF,WAAnC,CACA,GAAI9B,CAAAA,cAAc,CAAGzD,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBsF,WAAtC,CACA9B,cAAc,CAAC,UAAD,CAAd,CAA6B7E,mBAAmB,CAACoC,UAAU,CAAC8D,SAAX,CAAqBhF,QAAtB,CAAgCE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBuF,cAAjD,CAAhD,CACA/B,cAAc,CAAC,OAAD,CAAd,CAA0B7E,mBAAmB,CAACoC,UAAU,CAAC8D,SAAX,CAAqBhF,QAAtB,CAAgCE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiBwF,WAAjD,CAA7C,CACA/F,UAAU,8CACHA,UADG,MACS+E,uBAAuB,CAAEA,uBADlC,EAEHzE,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAFT,MAEeyF,YAAY,CAAEpF,SAF7B,EAAV,CAIA5B,QAAQ,CAACgB,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CAE3Ba,OAAO,CAAE,KAFkB,CAEXoF,IAAI,CAAE,CAFK,CAEFC,IAAI,CAAE,EAFJ,CAEQN,WAAW,CAAE,KAFrB,CAG3BxB,SAAS,CAAE,KAHgB,CAGT+B,kBAAkB,CAAE,KAHX,CAGkBpC,cAAc,CAAdA,cAHlB,CAGiCjD,cAAc,CAAC,KAHhD,CAGsDC,oBAAoB,CAAC,KAH3E,CAD1B,CAAD,CAAR,CAOH,CAlBL,EAmBKC,KAnBL,CAmBW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACAlC,KAAK,CAACsC,KAAN,CAAY5B,IAAI,CAAC+G,aAAL,CAAmB,CAAEC,EAAE,CAAEpF,KAAK,CAACE,OAAZ,CAAnB,CAAZ,EACH,CAtBL,EAuBH,CA7CD,CA8CH,CACD,MAAO,SAASmF,CAAAA,wBAAT,CAAkCC,WAAlC,CAA+C,CAClD,MAAO,UAAUtG,QAAV,CAAoB,CACvB,GAAI+E,CAAAA,GAAG,CAAG,EAAV,CACAA,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,sBAAX,CAAmC,CAAE,WAAYqG,WAAW,CAACnB,SAAZ,CAAsBhF,QAApC,CAA8C,cAAemG,WAAW,CAACnB,SAAZ,CAAsBoB,UAAnF,CAAnC,CAAN,CACAvG,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAU,CAACyC,GAAD,CAAV,EACK3E,IADL,CACU,SAAAC,QAAQ,CAAI,cACd,GAAI0C,CAAAA,YAAJ,CACA,GAAMyD,CAAAA,WAAW,CAAGxH,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,GAAoC,EAArC,CAAyC,eAAzC,CACnC,eADmC,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAAvC,CAGAoC,YAAY,CAAGyD,WAAW,CAACnD,GAAZ,CAAgB,YAAhB,CAAf,CACA,GAAIH,CAAAA,gBAAJ,CACA,GAAMuD,CAAAA,eAAe,CAAGzH,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,cAAjB,GAAoC,EAArC,CAAyC,eAAzC,CACvC,eADuC,CACtBK,SADsB,CACXA,SADW,CACA,KADA,CAA3C,CAGAuC,gBAAgB,CAAGuD,eAAe,CAACpD,GAAhB,CAAoB,YAApB,CAAnB,CAEA,GAAML,CAAAA,QAAQ,CAAGrC,SAAjB,CACA,GAAMsC,CAAAA,YAAY,CAAGtC,SAArB,CACAX,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,uCAExB8F,WAAW,CAACnB,SAAZ,CAAsBuB,cAFE,CAEe3D,YAFf,2BAE8BuD,WAAW,CAACnB,SAAZ,CAAsBuB,cAFpD,CAEqExD,gBAFrE,qCAGhB,KAHgB,kCAGHvC,SAHG,uCAGmBA,SAHnB,sCAG8BqC,QAH9B,0CAGwCC,YAHxC,WADxB,CAAD,CAAR,CAOH,CAtBL,EAuBKlC,KAvBL,CAuBW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CA/BL,EAgCH,CApCD,CAqCH,CAED,MAAO,SAASqG,CAAAA,oBAAT,CAA8BL,WAA9B,CAA2C,CAC9C,MAAO,UAAUtG,QAAV,CAAoB,CACvB,GAAI+E,CAAAA,GAAG,CAAG,EAAV,CACAA,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,kBAAX,CAA+B,CAAE,WAAYqG,WAAW,CAACnB,SAAZ,CAAsBhF,QAApC,CAA8C,gBAAiBmG,WAAW,CAACnB,SAAZ,CAAsBoB,UAArF,CAA/B,CAAN,CACAvG,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAU,CAACyC,GAAD,CAAV,EACK3E,IADL,CACU,SAAAC,QAAQ,CAAI,eACd,GAAMuG,CAAAA,OAAO,CAAG5H,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,UAAjB,GAAgC,EAAjC,CAAqC,WAArC,CAC/B,WAD+B,CAClBK,SADkB,CACPA,SADO,CACI,KADJ,CAAnC,CAGA,GAAMqC,CAAAA,QAAQ,CAAG4D,OAAO,CAACvD,GAAR,CAAY,YAAZ,CAAjB,CACA,GAAMwD,CAAAA,WAAW,CAAG7H,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB,UAAjB,GAAgC,EAAjC,CAAqC,WAArC,CACnC,WADmC,CACtBK,SADsB,CACXA,SADW,CACA,KADA,CAAvC,CAGA,GAAMsC,CAAAA,YAAY,CAAG4D,WAAW,CAACxD,GAAZ,CAAgB,YAAhB,CAArB,CACArD,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,yCACtB8F,WAAW,CAACnB,SAAZ,CAAsBuB,cADA,CACiB1D,QADjB,4BAC4BsD,WAAW,CAACnB,SAAZ,CAAsBuB,cADlD,CACmEzD,YADnE,sCAC0F,KAD1F,mCACuGtC,SADvG,wCAC6HA,SAD7H,YADxB,CAAD,CAAR,CAIH,CAdL,EAeKI,KAfL,CAeW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CAvBL,EAwBH,CA5BD,CA6BH,CAED,MAAO,SAASwG,CAAAA,kBAAT,CAA4BR,WAA5B,CAAyC,CAC5C,MAAO,UAAUtG,QAAV,CAAoB,CACvB,GAAI+E,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIgC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIT,WAAW,CAACpB,WAAZ,GAA4B,UAAhC,CAA4C,CACxCH,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,4BAAX,kBAA8CqG,WAAW,CAACjF,UAAZ,CAAuB8D,SAArE,EAAN,CACA4B,IAAI,CAAGnI,KAAK,CAACqB,IAAN,CAAW,0BAAX,CAAuC,CAC1C,cAAeqG,WAAW,CAACjF,UAAZ,CAAuB8D,SAAvB,CAAiCO,aAAjC,CAA+CF,WADpB,CAExC,WAAYc,WAAW,CAACjF,UAAZ,CAAuB8D,SAAvB,CAAiChF,QAFL,CAAvC,CAAP,CAIH,CAND,IAMO,IAAImG,WAAW,CAACpB,WAAZ,GAA4B,WAAhC,CAA6C,CAChDH,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,6BAAX,CAA0C,CAAE,WAAYqG,WAAW,CAACnB,SAAZ,CAAsBhF,QAApC,CAA1C,CAAN,CAEH,CAHM,IAIF,CACD4E,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,yBAAX,CAAsC,CAAE,WAAYqG,WAAW,CAACnB,SAAZ,CAAsBhF,QAApC,CAA8C,qBAAsBmG,WAAW,CAACnB,SAAZ,CAAsBoB,UAA1F,CAAtC,CAAN,CACH,CACDvG,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAU,CAACyC,GAAD,CAAMgC,IAAN,CAAV,EACK3G,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAImF,CAAAA,WAAJ,CACA,GAAI1B,CAAAA,cAAJ,CACA,GAAI2B,CAAAA,SAAJ,CACA,GAAIuB,CAAAA,QAAJ,CACA,GAAId,CAAAA,kBAAJ,CACA,GAAIe,CAAAA,cAAJ,CACA,GAAI9C,CAAAA,SAAJ,CACA,GAAIpE,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAI4F,CAAAA,WAAJ,CACA,GAAIuB,CAAAA,gBAAJ,CACA,GAAIZ,WAAW,CAACpB,WAAZ,GAA4B,UAAhC,CAA4C,CACxC;AACAnF,UAAU,gCACHuG,WAAW,CAACvG,UADT,EAEHM,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAFT,CAAV,CAIA4F,kBAAkB,CAAG,KAArB,CACAe,cAAc,CAAG,KAAjB,CACA9C,SAAS,CAAG,KAAZ,CACAL,cAAc,CAAC,EAAf,CACH,CAVD,IAUO,IAAIwC,WAAW,CAACpB,WAAZ,GAA4B,WAAhC,CAA6C,CAChD,GAAMiC,CAAAA,oBAAoB,CAAGnI,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB8G,iBAAjB,EAAsC,EAAvC,CAA2C,oBAA3C,CAC5C,oBAD4C,CACtBzG,SADsB,CACXA,SADW,CACA,KADA,CAAhD,CAEAuG,gBAAgB,CAAGC,oBAAoB,CAAC9D,GAArB,CAAyB,YAAzB,CAAnB,CACA6C,kBAAkB,CAAG,IAArB,CACA/B,SAAS,CAAG,IAAZ,CACAL,cAAc,CAAG,EAAjB,CACA/D,UAAU,8CACHuG,WAAW,CAACvG,UADT,EAEHM,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAFT,MAEe4G,gBAAgB,CAAEA,gBAFjC,EAAV,CAIH,CAXM,IAYF,CACDnH,UAAU,kBACHuG,WAAW,CAACvG,UADT,CAAV,CAGA+D,cAAc,kBACPwC,WAAW,CAACvG,UAAZ,CAAuB+D,cADhB,CAAd,CAGA0B,WAAW,CAAGnF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2C7B,WAA3C,GAA2D,IAA3D,CAAkE7E,SAAlE,CAA8EN,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2C7B,WAAvI,CACF;AACEC,SAAS,CAAGpF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CC,kBAA3C,GAAiE,kBAAjE,CAAsFjH,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CC,kBAAjI,CAAoJ3G,SAAhK,CACA,GAAM4G,CAAAA,cAAc,CAAG,CAAE,KAAM5H,IAAI,EAAZ,CAAgB,OAAQ,OAAxB,CAAvB,CACA,GAAM6H,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAYrH,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CM,IAAvD,CAApB,CACA,GAAMC,CAAAA,SAAS,CAAGJ,WAAW,EAAIK,MAAM,CAACC,IAAP,CAAYN,WAAZ,EAAyBO,MAAzB,CAAkC,CAAjD,CAAqDP,WAArD,CAAmED,cAArF,CACAP,QAAQ,CAAGvH,SAAS,CAACC,QAAQ,CAACkI,SAAD,CAAT,CAAsBtB,WAAW,CAAC0B,UAAlC,CAApB,CACA9B,kBAAkB,CAAG,IAArB,CACA/B,SAAS,CAAG,IAAZ,CAEH,CACDnE,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAC7B,CACII,OAAO,CAAE,KADb,CACoBN,IAAI,CAAEK,SAD1B,CACqCZ,UAAU,CAAVA,UADrC,CACiDkI,SAAS,CAAEtH,SAD5D,CACuEgH,IAAI,CAAEX,QAD7E,CACuFxB,WAAW,CAAXA,WADvF,CACoGC,SAAS,CAATA,SADpG,CAEIS,kBAAkB,CAAlBA,kBAFJ,CAEwBe,cAAc,CAAdA,cAFxB,CAEuCnD,cAAc,CAAdA,cAFvC,CAEwDK,SAAS,CAATA,SAFxD,CAEmEwB,WAAW,CAAXA,WAFnE,CAEgFuB,gBAAgB,CAAhBA,gBAFhF,CAFK,CAAD,CAAR,CAOH,CA3DL,EA4DKnG,KA5DL,CA4DW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CApEL,EAqEH,CAtFD,CAuFH,CACD,MAAO,SAAS4H,CAAAA,oBAAT,CAA8B5B,WAA9B,CAA2C,CAC9C,MAAO,UAAUtG,QAAV,CAAoB,CACvB,GAAI+E,CAAAA,GAAG,CAAG,EAAV,CACAA,GAAG,CAAGnG,KAAK,CAACqB,IAAN,CAAW,6BAAX,CAA0C,CAAE,WAAYqG,WAAW,CAACnB,SAAZ,CAAsBhF,QAApC,CAA8C,gBAAiBmG,WAAW,CAACnB,SAAZ,CAAsBoB,UAArF,CAA1C,CAAN,CACAvG,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAF,KAAK,CAAC2D,GAAN,CAAU,CAACyC,GAAD,CAAV,EACK3E,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,GAAM8G,CAAAA,oBAAoB,CAAGnI,mBAAmB,CAACqB,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB8G,iBAAjB,EAAsC,EAAvC,CAA2C,oBAA3C,CAC5C,oBAD4C,CACtBzG,SADsB,CACXA,SADW,CACA,KADA,CAAhD,CAEA,GAAMuG,CAAAA,gBAAgB,CAAGC,oBAAoB,CAAC9D,GAArB,CAAyB,YAAzB,CAAzB,CACA,GAAM6C,CAAAA,kBAAkB,CAAG,IAA3B,CACA,GAAM/B,CAAAA,SAAS,CAAG,IAAlB,CACA,GAAMpE,CAAAA,UAAU,8CACTuG,WAAW,CAACvG,UADH,EAETM,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAFH,MAES4G,gBAAgB,CAAEA,gBAF3B,EAAhB,CAIA,GAAM1B,CAAAA,WAAW,CAAGnF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2C7B,WAA3C,GAA2D,IAA3D,CAAkE7E,SAAlE,CAA8EN,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2C7B,WAA7I,CACD;AACC,GAAQC,CAAAA,SAAS,CAAGpF,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CC,kBAA3C,GAAiE,kBAAjE,CAAsFjH,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CC,kBAAjI,CAAoJ3G,SAAxK,CACA,GAAM4G,CAAAA,cAAc,CAAG,CAAE,KAAM5H,IAAI,EAAZ,CAAgB,OAAQ,OAAxB,CAAvB,CACA,GAAM6H,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAYrH,QAAQ,CAAC,CAAD,CAAR,CAAYC,IAAZ,CAAiB+G,yBAAjB,CAA2CM,IAAvD,CAApB,CACA,GAAMC,CAAAA,SAAS,CAAGJ,WAAW,EAAIK,MAAM,CAACC,IAAP,CAAYN,WAAZ,EAAyBO,MAAzB,CAAkC,CAAjD,CAAqDP,WAArD,CAAmED,cAArF,CACA,GAAMP,CAAAA,QAAQ,CAAGvH,SAAS,CAACC,QAAQ,CAACkI,SAAD,CAAT,CAAsBtB,WAAW,CAAC0B,UAAlC,CAA1B,CACAhI,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAC7B,CACI0F,kBAAkB,CAAlBA,kBADJ,CACwB/B,SAAS,CAATA,SADxB,CACmCwD,IAAI,CAAEX,QADzC,CACmDxB,WAAW,CAAXA,WADnD,CACgEC,SAAS,CAATA,SADhE,CAEI7E,OAAO,CAAE,KAFb,CAEoBN,IAAI,CAAEK,SAF1B,CAEqCsH,SAAS,CAAEtH,SAFhD,CAE2DZ,UAAU,CAAVA,UAF3D,CAEsEmE,UAAU,CAACvD,SAFjF,CAFK,CAAD,CAAR,CAOH,CAzBL,EA0BKI,KA1BL,CA0BW,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CACJ,CAlCL,EAmCH,CAvCD,CAwCH,CACD,MAAO,SAAS6H,CAAAA,iBAAT,CAA2BtI,OAA3B,CAAoCC,QAApC,CAA8CC,UAA9C,CAA0D,CAC7D,MAAO,UAAUC,QAAV,CAAoB,CACvBA,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACqB,IAAN,CAAW,2BAAX,CAAwC,CAAEC,UAAU,CAAEL,OAAO,CAACK,UAAtB,CAAkCC,QAAQ,CAAEL,QAA5C,CAAxC,EACFM,IADE,CACG,SAAAC,QAAQ,CAAI,CACd,GAAI+H,CAAAA,WAAW,CAAC,EAAhB,CACAA,WAAW,CAAC/H,QAAQ,CAACC,IAArB,CACAP,UAAU,gCAAQA,UAAR,EAAuBM,QAAQ,CAACC,IAAhC,CAAV,CACAvB,QAAQ,CAACgB,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CACfU,SAAS,CAAE,IADI,CACEC,SAAS,CAAEC,SADb,CACuByH,WAAW,CAAXA,WADvB,CAE3BxH,OAAO,CAAE,KAFkB,CAEZC,cAAc,CAAC,IAFH,CAESsD,SAAS,CAAC,IAFnB,CAEwBI,SAAS,CAAC,KAFlC,CAEwC2B,kBAAkB,CAAC,KAF3D,CAEiEpF,oBAAoB,CAAC,KAFtF,CAD1B,CAAD,CAAR,CAMH,CAZE,EAaFC,KAbE,CAaI,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CAEJ,CAtBE,CAAP,CAuBH,CAzBD,CA0BH,CAED,MAAO,SAAS+H,CAAAA,2BAAT,CAAqCxI,OAArC,CAA8CC,QAA9C,CAAwDC,UAAxD,CAAoE,CACvE,MAAO,UAAUC,QAAV,CAAoB,CACvBA,QAAQ,CAACnB,WAAW,CAAC,IAAD,CAAZ,CAAR,CACA,MAAOD,CAAAA,KAAK,CAACqB,IAAN,CAAW,iCAAX,CAA8C,CAAEC,UAAU,CAAEL,OAAO,CAACK,UAAtB,CAAkCC,QAAQ,CAAEL,QAA5C,CAA9C,EACFM,IADE,CACG,SAAAC,QAAQ,CAAI,CACd,GAAIiI,CAAAA,cAAc,CAAC,EAAnB,CACAA,cAAc,CAACjI,QAAQ,CAACC,IAAxB,CACAP,UAAU,gCAAQA,UAAR,EAAuBM,QAAQ,CAACC,IAAhC,CAAV,CACAvB,QAAQ,CAACgB,UAAD,CAAR,CACAC,QAAQ,CAAC,CACLO,IAAI,CAAEzB,cADD,CACiB0B,OAAO,CAAE,CAC3BT,UAAU,CAAVA,UAD2B,CACfU,SAAS,CAAE,IADI,CACEC,SAAS,CAAEC,SADb,CACuB2H,cAAc,CAAdA,cADvB,CAE3B1H,OAAO,CAAE,KAFkB,CAEZE,oBAAoB,CAAC,IAFT,CAEeqD,SAAS,CAAC,IAFzB,CAE8BI,SAAS,CAAC,KAFxC,CAE8C2B,kBAAkB,CAAC,KAFjE,CAEuErF,cAAc,CAAC,KAFtF,CAD1B,CAAD,CAAR,CAMH,CAZE,EAaFE,KAbE,CAaI,SAAAC,KAAK,CAAI,CACZhB,QAAQ,CAAC,CAAEO,IAAI,CAAEzB,cAAR,CAAwB0B,OAAO,CAAE,CAAEI,OAAO,CAAE,KAAX,CAAjC,CAAD,CAAR,CACA,GAAII,KAAK,CAACX,QAAN,CAAeY,MAAf,GAA0B,GAA9B,CAAmC,CAC/BvC,KAAK,CAACsC,KAAN,CAAYA,KAAK,CAACE,OAAlB,EACH,CAFD,IAGK,CACDxC,KAAK,CAACyC,IAAN,CAAWH,KAAK,CAACX,QAAN,CAAeC,IAA1B,EACH,CAEJ,CAtBE,CAAP,CAuBH,CAzBD,CA0BH","sourcesContent":["import { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport rsapi from '../rsapi';\r\nimport { initRequest } from './LoginAction';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData, constructOptionList, rearrangeDateFormat, ageCalculate, formatInputDate } from '../components/CommonScript';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus } from '../components/Enumeration';\r\nimport { getLeftPosition } from '@progress/kendo-react-tooltip/dist/npm/utils';\r\nimport { Utils as QbUtils } from \"@react-awesome-query-builder/ui\";\r\n\r\nconst { checkTree, loadTree, uuid } = QbUtils;\r\n\r\nexport function getPatientDetail(patient, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"patient/getPatient\", { spatientid: patient.spatientid, userinfo: userInfo })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false,patientHistory:false,patientReportHistory:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getPatientComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        const genderService = rsapi.post(\"patient/getGender\", { userinfo: inputParam.userInfo });\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: inputParam.userInfo });\r\n        const countryService = rsapi.post(\"patient/getCountry\", { userinfo: inputParam.userInfo });\r\n        const regionService = rsapi.post(\"patient/getRegion\", { userinfo: inputParam.userInfo });\r\n\r\n        let urlArray = [];\r\n        if (inputParam.operation === \"create\") {\r\n            urlArray = [genderService, UTCtimeZoneService, countryService, regionService];\r\n        }\r\n        else {\r\n            const patientById = rsapi.post(\"patient/getActivePatientById\",\r\n                {\r\n                    [inputParam.primaryKeyName]: inputParam.masterData.SelectedPatient[inputParam.primaryKeyName],\r\n                    \"userinfo\": inputParam.userInfo\r\n                });\r\n            const citySer = rsapi.post(\"/patient/getCity\", { \"userinfo\": inputParam.userInfo, \"ndistrictcode\": inputParam.masterData.SelectedPatient.ndistrictcode });\r\n            const districtSer = rsapi.post(\"/patient/getDistrict\", { \"userinfo\": inputParam.userInfo, \"nregioncode\": inputParam.masterData.SelectedPatient.nregioncode })\r\n            const citySertemp = rsapi.post(\"/patient/getCity\", { \"userinfo\": inputParam.userInfo, \"ndistrictcode\": inputParam.masterData.SelectedPatient.ndistrictcodetemp });\r\n            const districtSertemp = rsapi.post(\"/patient/getDistrict\", { \"userinfo\": inputParam.userInfo, \"nregioncode\": inputParam.masterData.SelectedPatient.nregioncodetemp });\r\n            urlArray = [genderService, UTCtimeZoneService, countryService, regionService, patientById, citySer, districtSer, citySertemp, districtSertemp];\r\n        }\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let gender = [];\r\n                let city = [];\r\n                let country = [];\r\n                let region = [];\r\n                let regionTemp = [];\r\n                let districtTemp = [];\r\n                let district = [];\r\n                let cityTemp = [];\r\n                let districtList = [];\r\n                let cityList = [];\r\n                let cityListTemp = [];\r\n                let districtListTemp = [];\r\n                const genderMap = constructOptionList(response[0].data['genderList'] || [], \"ngendercode\",\r\n                    \"sgendername\", undefined, undefined, false);\r\n                const genderList = genderMap.get(\"OptionList\");\r\n\r\n                const countryMap = constructOptionList(response[2].data['countryList'] || [], \"ncountrycode\",\r\n                    \"scountryname\", undefined, undefined, false);\r\n                const countryList = countryMap.get(\"OptionList\");\r\n\r\n                const regionMap = constructOptionList(response[3].data['regionList'] || [], \"nregioncode\",\r\n                    \"sregionname\", undefined, undefined, false);\r\n                const regionList = regionMap.get(\"OptionList\");\r\n                if (inputParam.operation === \"update\") {\r\n                    const cityserMap = constructOptionList(response[5].data['cityList'] || [], \"ncitycode\",\r\n                        \"scityname\", undefined, undefined, false);\r\n                    cityList = cityserMap.get(\"OptionList\");\r\n\r\n                    const distMap = constructOptionList(response[6].data['districtList'] || [], \"ndistrictcode\",\r\n                        \"sdistrictname\", undefined, undefined, false);\r\n                    districtList = distMap.get(\"OptionList\");\r\n\r\n                    const cityserTempMap = constructOptionList(response[7].data['cityList'] || [], \"ncitycode\",\r\n                        \"scityname\", undefined, undefined, false);\r\n                    cityListTemp = cityserTempMap.get(\"OptionList\");\r\n\r\n                    const distTempMap = constructOptionList(response[8].data['districtList'] || [], \"ndistrictcode\",\r\n                        \"sdistrictname\", undefined, undefined, false);\r\n                    districtListTemp = distTempMap.get(\"OptionList\");\r\n                }\r\n\r\n                let selectedRecord = {};\r\n                const currentTime = rearrangeDateFormat(inputParam.userInfo, response[1].data);\r\n\r\n                if (inputParam.operation === \"update\") {\r\n                    selectedRecord = response[4].data;\r\n\r\n                    gender.push({ \"value\": response[4].data[\"ngendercode\"], \"label\": response[4].data[\"sgendername\"] });\r\n                    city.push({ \"value\": response[4].data[\"ncitycode\"], \"label\": response[4].data[\"scityname\"] });\r\n                    country.push({ \"value\": response[4].data[\"ncountrycode\"], \"label\": response[4].data[\"scountryname\"] });\r\n                    region.push({ \"value\": response[4].data[\"nregioncode\"], \"label\": response[4].data[\"sregionname\"] });\r\n                    regionTemp.push({ \"value\": response[4].data[\"nregioncodetemp\"], \"label\": response[4].data[\"sregionnametemp\"] });\r\n                    districtTemp.push({ \"value\": response[4].data[\"ndistrictcodetemp\"], \"label\": response[4].data[\"sdistrictnametemp\"] });\r\n                    district.push({ \"value\": response[4].data[\"ndistrictcode\"], \"label\": response[4].data[\"sdistrictname\"] });\r\n                    cityTemp.push({ \"value\": response[4].data[\"ncitycodetemp\"], \"label\": response[4].data[\"scitynametemp\"] });\r\n                    selectedRecord[\"ngendercode\"] = gender[0];\r\n                    selectedRecord[\"ncitycode\"] = city[0];\r\n                    selectedRecord[\"ncountrycode\"] = country[0];\r\n                    selectedRecord[\"nregioncode\"] = region[0];\r\n                    selectedRecord[\"nregioncodetemp\"] = regionTemp[0];\r\n                    selectedRecord[\"ndistrictcodetemp\"] = districtTemp[0];\r\n                    selectedRecord[\"ndistrictcode\"] = district[0];\r\n                    selectedRecord[\"ncitycodetemp\"] = cityTemp[0];\r\n\r\n                    if (selectedRecord[\"ddob\"] !== null) {\r\n                        selectedRecord[\"ddob\"] = rearrangeDateFormat(inputParam.userInfo, selectedRecord[\"sdob\"]);\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    selectedRecord[\"ngendercode\"] = genderMap.get(\"DefaultValue\");\r\n                    //ALPD-3267\r\n                    //selectedRecord[\"ddob\"] = rearrangeDateFormat(inputParam.userInfo, response[1].data);\r\n                    selectedRecord[\"ddob\"] = \"\";\r\n                    selectedRecord[\"sage\"] = ageCalculate(selectedRecord[\"ddob\"])\r\n                    selectedRecord[\"nneedcurrentaddress\"] = transactionStatus.NO;\r\n                    selectedRecord[\"today\"] = inputParam.userInfo;\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        genderList,\r\n                        cityListTemp,\r\n                        districtListTemp,\r\n                        districtList,\r\n                        cityList,\r\n                        countryList,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolcode,\r\n                        loading: false,\r\n                        currentTime,\r\n                        regionList,\r\n                        patientHistory:false,patientReportHistory:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function getPatientReport(patient, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"patient/patientReportGenerate\", {\r\n            patient, userinfo: userInfo,\r\n            ncontrolcode: ncontrolCode\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        loading: false,\r\n                        loadEsign: false, openModal: false\r\n                    }\r\n                })\r\n                document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                document.getElementById(\"download_data\").click();\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getPatientDetailsByFilterQuery(inputParam, masterData, SelectedPatientCaseType) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        let filterData;\r\n        let filterData1;\r\n        if (inputParam.displayname === \"Filter\") {\r\n            filterData = rsapi.post(\"/patient/getFilterByDate\", {\r\n                \"userinfo\": inputParam.inputData.userinfo,\r\n                \"formdate\": inputParam.inputData.date.fromDate, \"todate\": inputParam.inputData.date.toDate, \"casetype\": inputParam.inputData.casetype\r\n            })\r\n        }\r\n        else {\r\n            filterData = rsapi.post(\"/patient/filterByPatient\", {\r\n                \"filterquery\": inputParam.inputData.filterquery\r\n                , \"userinfo\": inputParam.inputData.userinfo\r\n            })\r\n            if (masterData.QueryName === \"Create New Query\") {\r\n                filterData1 = rsapi.post(\"/patient/createFilterQuery\", { ...inputParam.inputData.patientfilter, userinfo: inputParam.inputData.userinfo })\r\n            }\r\n        }\r\n\r\n        URL = [filterData, filterData1];\r\n        dispatch(initRequest(true));\r\n        Axios.all(URL)\r\n            .then(response => {\r\n                let slideResult = response[0].data.PatientList;\r\n                let selectedRecord = response[0].data.PatientList;\r\n                selectedRecord[\"fromdate\"] = rearrangeDateFormat(inputParam.inputData.userinfo, response[0].data.filterFromdate);\r\n                selectedRecord[\"ToDay\"] = rearrangeDateFormat(inputParam.inputData.userinfo, response[0].data.filterToDay);\r\n                masterData = {\r\n                    ...masterData, SelectedPatientCaseType: SelectedPatientCaseType,\r\n                    ...response[0].data, searchedData: undefined\r\n                };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false, skip: 0, take: 20, slideResult: false,\r\n                        openModal: false, openSolidAdvFilter: false, selectedRecord,patientHistory:false,patientReportHistory:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            });\r\n    }\r\n}\r\nexport function getDistrictComboServices(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        URL = rsapi.post(\"/patient/getDistrict\", { \"userinfo\": methodParam.inputData.userinfo, \"nregioncode\": methodParam.inputData.primarykey })\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL])\r\n            .then(response => {\r\n                let districtList;\r\n                const districtMap = constructOptionList(response[0].data['districtList'] || [], \"ndistrictcode\",\r\n                    \"sdistrictname\", undefined, undefined, false);\r\n\r\n                districtList = districtMap.get(\"OptionList\");\r\n                let districtListTemp;\r\n                const districtMapTemp = constructOptionList(response[0].data['districtList'] || [], \"ndistrictcode\",\r\n                    \"sdistrictname\", undefined, undefined, false);\r\n\r\n                districtListTemp = districtMapTemp.get(\"OptionList\");\r\n\r\n                const cityList = undefined;\r\n                const cityListTemp = undefined;\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        [methodParam.inputData.optionlistname]: districtList, [methodParam.inputData.optionlistname]: districtListTemp,\r\n                        loading: false, data: undefined, dataState: undefined, cityList, cityListTemp\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getCityComboServices(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        URL = rsapi.post(\"/patient/getCity\", { \"userinfo\": methodParam.inputData.userinfo, \"ndistrictcode\": methodParam.inputData.primarykey })\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL])\r\n            .then(response => {\r\n                const cityMap = constructOptionList(response[0].data['cityList'] || [], \"ncitycode\",\r\n                    \"scityname\", undefined, undefined, false);\r\n\r\n                const cityList = cityMap.get(\"OptionList\");\r\n                const cityMapTemp = constructOptionList(response[0].data['cityList'] || [], \"ncitycode\",\r\n                    \"scityname\", undefined, undefined, false);\r\n\r\n                const cityListTemp = cityMapTemp.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                        { [methodParam.inputData.optionlistname]: cityList, [methodParam.inputData.optionlistname]: cityListTemp, loading: false, data: undefined, dataState: undefined }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function filtercomboService(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        let URL1 = [];\r\n        if (methodParam.displayname === \"onSubmit\") {\r\n            URL = rsapi.post(\"/patient/createFilterQuery\", { ...methodParam.inputParam.inputData })\r\n            URL1 = rsapi.post(\"/patient/filterByPatient\", {\r\n                \"filterquery\": methodParam.inputParam.inputData.patientfilter.filterquery\r\n                , \"userinfo\": methodParam.inputParam.inputData.userinfo\r\n            })\r\n        } else if (methodParam.displayname === \"ComboList\") {\r\n            URL = rsapi.post(\"/patient/getFilterQueryList\", { \"userinfo\": methodParam.inputData.userinfo })\r\n\r\n        }\r\n        else {\r\n            URL = rsapi.post(\"/patient/getFilterQuery\", { \"userinfo\": methodParam.inputData.userinfo, \"npatientfiltercode\": methodParam.inputData.primarykey })\r\n        }\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL, URL1])\r\n            .then(response => {\r\n                let filterquery;\r\n                let selectedRecord;\r\n                let QueryName;\r\n                let jsonTree;\r\n                let openSolidAdvFilter;\r\n                let openAlertModal;\r\n                let openModal;\r\n                let masterData = {};\r\n                let slideResult;\r\n                let patientFilerList;\r\n                if (methodParam.displayname === \"onSubmit\") {\r\n                    //selectedRecord =response[1].data.PatientList;   \r\n                    masterData = {\r\n                        ...methodParam.masterData,\r\n                        ...response[1].data,\r\n                    };\r\n                    openSolidAdvFilter = false\r\n                    openAlertModal = false\r\n                    openModal = false\r\n                    selectedRecord={};\r\n                } else if (methodParam.displayname === \"ComboList\") {\r\n                    const patcaseFiltertypeMap = constructOptionList(response[0].data.patientFilterType || [], \"npatientfiltercode\",\r\n                        \"spatientfiltername\", undefined, undefined, false);\r\n                    patientFilerList = patcaseFiltertypeMap.get(\"OptionList\");\r\n                    openSolidAdvFilter = true\r\n                    openModal = true\r\n                    selectedRecord = {};\r\n                    masterData = {\r\n                        ...methodParam.masterData,\r\n                        ...response[0].data, patientFilerList: patientFilerList\r\n                    };\r\n                }\r\n                else {\r\n                    masterData = {\r\n                        ...methodParam.masterData,\r\n                    };\r\n                    selectedRecord = {\r\n                        ...methodParam.masterData.selectedRecord\r\n                    }\r\n                    filterquery = response[0].data.SelectedPatientFilterType.filterquery === null ? undefined : response[0].data.SelectedPatientFilterType.filterquery;\r\n                  //  QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername;\r\n                    QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername !==\"Create New Query\" ? response[0].data.SelectedPatientFilterType.spatientfiltername:undefined;\r\n                    const emptyInitValue = { \"id\": uuid(), \"type\": \"group\" };\r\n                    const queryFilter = JSON.parse((response[0].data.SelectedPatientFilterType.tree))\r\n                    const initValue = queryFilter && Object.keys(queryFilter).length > 0 ? queryFilter : emptyInitValue;\r\n                    jsonTree = checkTree(loadTree(initValue), methodParam.Patconfigs);\r\n                    openSolidAdvFilter = true;\r\n                    openModal = true;\r\n                   \r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        loading: false, data: undefined, masterData, dataState: undefined, tree: jsonTree, filterquery, QueryName,\r\n                        openSolidAdvFilter, openAlertModal,selectedRecord , openModal, slideResult, patientFilerList\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getFilterStatusCombo(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        URL = rsapi.post(\"/patient/getFilterQueryList\", { \"userinfo\": methodParam.inputData.userinfo, \"nfilterstatus\": methodParam.inputData.primarykey })\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL])\r\n            .then(response => {\r\n                const patcaseFiltertypeMap = constructOptionList(response[0].data.patientFilterType || [], \"npatientfiltercode\",\r\n                    \"spatientfiltername\", undefined, undefined, false);\r\n                const patientFilerList = patcaseFiltertypeMap.get(\"OptionList\");\r\n                const openSolidAdvFilter = true\r\n                const openModal = true\r\n                const masterData = {\r\n                    ...methodParam.masterData,\r\n                    ...response[0].data, patientFilerList: patientFilerList\r\n                };\r\n                const filterquery = response[0].data.SelectedPatientFilterType.filterquery === null ? undefined : response[0].data.SelectedPatientFilterType.filterquery;\r\n               // const QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername;\r\n                const   QueryName = response[0].data.SelectedPatientFilterType.spatientfiltername !==\"Create New Query\" ? response[0].data.SelectedPatientFilterType.spatientfiltername:undefined;\r\n                const emptyInitValue = { \"id\": uuid(), \"type\": \"group\" };\r\n                const queryFilter = JSON.parse((response[0].data.SelectedPatientFilterType.tree))\r\n                const initValue = queryFilter && Object.keys(queryFilter).length > 0 ? queryFilter : emptyInitValue;\r\n                const jsonTree = checkTree(loadTree(initValue), methodParam.Patconfigs);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                    {\r\n                        openSolidAdvFilter, openModal, tree: jsonTree, filterquery, QueryName,\r\n                        loading: false, data: undefined, dataState: undefined, masterData,screenName:undefined\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getPatientHistory(patient, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"patient/getPatientHistory\", { spatientid: patient.spatientid, userinfo: userInfo })\r\n            .then(response => {\r\n                let patienthist=[];\r\n                patienthist=response.data;\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,patienthist,\r\n                        loading: false,patientHistory:true ,openModal:true,loadEsign:false,openSolidAdvFilter:false,patientReportHistory:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false} })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getpatientReportHistoryInfo(patient, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"patient/getPatientReportHistory\", { spatientid: patient.spatientid, userinfo: userInfo })\r\n            .then(response => {\r\n                let patientReports=[];\r\n                patientReports=response.data;\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,patientReports,\r\n                        loading: false,patientReportHistory:true ,openModal:true,loadEsign:false,openSolidAdvFilter:false,patientHistory:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false} })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}