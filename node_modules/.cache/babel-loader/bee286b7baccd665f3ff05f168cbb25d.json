{"ast":null,"code":"import _createForOfIteratorHelper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button,FormControl}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import PerfectScrollbar from'react-perfect-scrollbar';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight,faSearch,faTimes,faArrowDown,faHandPointLeft,faArrowUp,faClone}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel,SearchIcon}from'../../components/App.styles';//import SortableTree from 'react-sortable-tree'; \nimport ScrollBar from'react-perfect-scrollbar';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,filterColumnData,changeStorageCategoryFilter,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,fetchStorageCategory,copySampleStorageVersion,crudSampleStorageLocation}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import TreeEditable from\"../../components/form-tree-editable/TreeEditable\";import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{getItemPath,mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddTreeview from'./AddTreeview';import AddTreeProperties from'./AddTreeProperties';import{Splitter}from'@progress/kendo-react-layout';import TransactionListMaster from'../../components/TransactionListMaster';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';import StorageCategoryFilter from'./StorageCategoryFilter';import{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';import{TreeViewDragAnalyzer,moveTreeViewItem}from'@progress/kendo-react-treeview';import{//faBell, \nfaChevronDown,faChevronUp,faExclamationCircle}from'@fortawesome/free-solid-svg-icons';var SampleStorageLocation=/*#__PURE__*/function(_Component){_inherits(SampleStorageLocation,_Component);var _super=_createSuper(SampleStorageLocation);function SampleStorageLocation(_props){var _this$state;var _this;_classCallCheck(this,SampleStorageLocation);_this=_super.call(this,_props);_this.dragOverCnt=0;_this.isDragDrop=false;_this.SEPARATOR='_';_this.uniqueIDArr=[];_this.countforTree=0;_this.pointedItem=undefined;_this.getitemPath={};_this.onChange=function(event){_this.setState({panes:event.newState});};_this.getSiblings=function(itemIndex,data){var result=data;var indices=itemIndex.split(_this.SEPARATOR).map(function(index){return Number(index);});for(var i=0;i<indices.length-1;i++){result=result[indices[i]].items||[];}return result;};_this.onItemDragOver=function(event){_this.dragOverCnt++;_this.dragClue.show(event.pageY+10,event.pageX,event.item.text,_this.getClueClassName(event));};_this.onItemDragEnd=function(event){_this.isDragDrop=_this.dragOverCnt>0;_this.dragOverCnt=0;_this.dragClue.hide();var eventAnalyzer=new TreeViewDragAnalyzer(event).init();if(eventAnalyzer.isDropAllowed){var updatedTree=moveTreeViewItem(event.itemHierarchicalIndex,_this.state.treeData,eventAnalyzer.getDropOperation()||'child',eventAnalyzer.destinationMeta.itemHierarchicalIndex);_this.setState({tree:updatedTree});}};_this.addChildNode=function(e,clickedItem){var ParentItem=_this.searchClickedItemParent(_this.state.treeData[0]);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.items=item.items||[];item.expanded=true;item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}return item;});_this.setState({treeData:newData});};_this.cloneNode=function(e,clickedItem){var parentItem={};var parentID='';var clonedParentID='';var parentFound=false;var cloneItems={};var clonedparentFound=false;var newData=_toConsumableArray(_this.state.treeData);var newData1=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){// if (item.items) {\n//     if (parentFound&&(item.id===parentID)) {\n//         parentItem = item;\n//         parentFound = false;\n//     }\n// }\nif(item.id===clickedItem.id){parentFound=true;parentID=clickedItem.parentID;parentItem=_this.searchClickedItemParent(_this.state.treeData[0]);}if(item.editable===true){clonedParentID=uuid();var clonedNewParentID=uuid();//     //  let clonedObject=//{...item}\n//     //   Object.assign({}, item);\n//       const clonedObject = JSON.parse(JSON.stringify(item1));\n//      cloneItems =//[{...clonedObject}].map((data) => {\n//       // return \n//        this.generateUUID(clonedObject)\n//    // })\nvar levelBasedParents={};cloneItems=mapTree([_objectSpread({},item)],\"items\",function(cloneditem){// const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\n// let x=getItemPath(this.state.treeData,indices,\"items\")\n// console.log('------------->',cloneditem)\n// if(cloneditem.items===undefined&&clonedparentFound){\n//     clonedParentID=uuid();\n//     clonedparentFound=false;\n// }\n// else{\n//     clonedNewParentID=uuid();\n// }\n// if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\n//     let level=cloneditem.itemHierarchicalIndex;\n//     levelBasedParents={...levelBasedParents,\n//                         [level]:uuid()\n//                     }\n// }\n// if(cloneditem.items){\n//      //if ClonedItem is a Parent\n//     cloneditem={\n//         ...cloneditem,\n//         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\n//         ,\n//         'id':clonedParentID,\n//         'editable': false \n//     } \n//     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n//     //  clonedParentID=uuid()//clonedNewParentID;\n//     // clonedparentFound=true;\n// }else{\n//if ClonedItem is a Child\ncloneditem=_objectSpread(_objectSpread({},cloneditem),{},{//'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\n// ,\n'id':uuid(),'editable':false,'expanded':false//   }\n//  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n});return cloneditem;});}// item={\n//    ...item,\n//     'id':uuid(),\n//   'editable': false \n//     } \nreturn item;});if(parentItem===undefined){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ROOTNODECANNOTBEDELETED\"}));}var count=1;newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){count++;item.items.push(// {\n// ...cloneItem,\n// 'id':uuid(),\n// 'editable': false,\n// 'text': cloneItem['text']+'('+count+')'\n// } \n_objectSpread(_objectSpread({},cloneItems[0]),{},{'parentID':parentID// 'id':clonedParentID\n}));}return item;});_this.setState({treeData:newData});};_this.equalNode=function(e,clickedItem){var parentItem={};var parentFound=false;var newData=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){if(item.items){if(parentFound){parentItem=item;parentFound=false;}}if(item.id===clickedItem.id){parentFound=true;}return item;});if(parentItem.text===undefined){newData.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});_this.setState({treeData:newData});}else{newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}return item;});_this.setState({treeData:newData});}};_this.deleteNode=function(clickedItem){if(clickedItem.root&&clickedItem.root===true){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PARENTNODENOTALLOWTODELETE\"}));}else{var newData=removeItems(_this.state.treeData,\"items\",function(item){return item.id===clickedItem.id;});_this.setState({treeData:newData});}};_this.editRecord=function(e,clickedItem){_this.setState({toggleAction:!_this.state.toggleAction});};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Approve\"||_this.props.Login.operation===\"copy\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.itemRender=function(props){if(_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,props.item.editable?/*#__PURE__*/React.createElement(Form.Group,{className:\"k-editable-text-wrap\"},/*#__PURE__*/React.createElement(Form.Control,{id:\"nodename\",name:\"nodename\",type:\"text\",onKeyDown:function onKeyDown(e){return e.stopPropagation();},value:props.item.text,autoFocus:true,autoComplete:\"off\",onChange:function onChange(e){return _this.handleChange(e,props.item);},onBlur:function onBlur(e){return _this.handleBlur(e,props.item);},maxLength:\"50\"})):/*#__PURE__*/React.createElement(\"span\",null,props.item.text));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,props.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node text-truncate\\n                            \".concat(props.item.editable?\"active-node\":\"\",\"\\n                            \").concat(props.item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \"),\"data-tip\":props.item.text},props.item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):props.item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):props.item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):props.item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),props.item.text),props.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level1\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CLONENODE\"}),onClick:function onClick(e){e.stopPropagation();_this.cloneNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CHILDNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.addChildNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-edit k-i-pencil ml-2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){e.stopPropagation();_this.editRecord(e,props.item);}}),!props.item.isRoot?/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-delete ml-2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(e){e.stopPropagation();_this.deleteNode(props.item);}}):null):null)):\"\");}};_this.onItemClick=function(event){// if (selectedItem) {\n//     selectedItem.editable = false;\n//   }\n//   event.item.editable = true;\n//   selectedItem = event.item; \nvar searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item1){if(item1.editable===true){item1.editable=false;}else if(item1.id===event.item.id){item1.editable=true;}return item1;});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});_this.setState({treeData:newData,searchedTreeData:searchedData});};_this.toggleSearch=function(){_this.setState({showSearch:!_this.state.showSearch});};_this.clearSearchedState=function(){_this.setState({searchedTreeData:undefined,showSearch:false});};_this.navigationCounter=function(){var counter=_this.state.counter||0;return counter;};_this.handleSearch=function(){_this.uniqueIDArr=[];_this.pointedItem=undefined;_this.countforTree=0;//this.setState({searchedTreeData: undefined})\n};_this.search=function(items,term){return items.reduce(function(acc,item){if(_this.contains(item.text,term)){_this.uniqueIDArr.push(item.id);acc.push(item);}else if(item.items&&item.items.length>0){var newItems=_this.search(item.items,term);if(newItems&&newItems.length>0){acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:acc.length===0?true:false//item.expanded\n}));}}return acc;},[]);};_this.handlenavigation=function(e,direction){if(e.key==='Enter'||e.type==='click'){var value=document.querySelector('.k-textbox').value;if(e.key==='Enter'){_this.state.keyIndentify=true;}if(value!==\"\"){if(direction==='up'){//Navigate up\n_this.countforTree--;if(_this.countforTree<=0){_this.countforTree=0;}}else{//if(direction==='down'){\n//Navigate down\n_this.countforTree++;if(_this.countforTree>=_this.uniqueIDArr.length){if(_this.uniqueIDArr.length-1===-1){_this.countforTree=0;}else{_this.countforTree=_this.uniqueIDArr.length-1;}//toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\n}}var newData=_this.navigateSearchedTree(_this.state.treeDataView,value);_this.setState({searchedTreeData:JSON.parse(JSON.stringify(newData))});}else{_this.setState({searchedTreeData:undefined});}}};_this.navigateSearchedTree=function(items,term){return items.reduce(function(acc,item){if(item.editable){item.editable=false;}if(item.selected){item.selected=false;}if(_this.contains(item.text,term)){if(!_this.uniqueIDArr.includes(item.id)){_this.uniqueIDArr.push(item.id);}if(item.id===_this.uniqueIDArr[_this.countforTree]){if(_this.pointedItem){_this.pointedItem=undefined;}_this.pointedItem=item;}acc.push(item);}else if(item.items&&item.items.length>0){var newItems=_this.navigateSearchedTree(item.items,term);if(newItems&&newItems.length>0){if(newItems.some(function(item){return item.id===_this.uniqueIDArr[_this.countforTree];})){acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:true}));}else{acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:newItems.some(function(item){return item.expanded===true;})?true:false}));}}}return acc;},[]);};_this.contains=function(text,term){return text.toLowerCase().indexOf(term.toLowerCase())>=0;};_this.onExpandChange=function(event){var clickedItem=event.item;if(!event.item.expanded){//this.onItemClick(event)\nvar ParentItem=_this.searchClickedItemParent(//this.state.searchedTreeData&&\n//this.state.searchedTreeData[0]||\n_this.state.treeData[0],clickedItem);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}_this.shrinkNodes(event.item);}event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;_this.getitemPath=_objectSpread(_objectSpread({},_this.getitemPath),{},_defineProperty({},item.id,clickedItem.itemHierarchicalIndex));if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex align-items-center\"},_this.pointedItem?item.id===_this.pointedItem.id&&!item.selected?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"hidden-treeview-focus\",autoFocus:true})):/*#__PURE__*/React.createElement(React.Fragment,null):'',/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node text-truncate\\n                                \".concat(_this.pointedItem?item.id===_this.pointedItem.id&&!item.selected?\"pointed-node\":item.selected?\"active-node\":\"\":item.selected?\"active-node\":\"\",\"\\n                                \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                                \"),\"data-tip\":item.text},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text),_this.pointedItem&&item.id===_this.pointedItem.id?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faHandPointLeft,bounce:true}):clickedItem.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-toggle m-l-half\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_PROPERTIES\"}),onClick:function onClick(e){return _this.setProperties(e,clickedItem);}})):null)):\"\");}};_this.onItemClickView=function(event){// if (this.state.selectedItem) {\n//     let selectedobj = this.state.selectedItem;\n//         selectedobj.selected = false\n//     this.setState({\n//         selectedItem : selectedobj\n//     })\n// }\n// this.setState({\n//     selectedItem : event.item\n// })             \nvar searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;if(_this.pointedItem){if(_this.pointedItem.id===item.id){_this.pointedItem=undefined;}}var result=_this.state.searchedTreeData;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});searchedData.map(function(data){_this.clearSelected(data,event.item);});}var newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});newData.map(function(data){_this.clearSelected(data,event.item);});_this.setState({treeDataView:newData,searchedTreeData:searchedData});};_this.onExpandChangeView=function(event){var clickedItem=event.item;if(!event.item.expanded){//this.onItemClick(event)\nvar ParentItem=_this.searchClickedItemParent(_this.state.searchedTreeData&&_this.state.searchedTreeData[0]||_this.state.treeDataView[0],clickedItem);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}_this.shrinkNodes(event.item);}event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.setProperties=function(event,clickedItem){var editId=_this.state.controlMap.has(\"Edit SampleStorageLocation\")&&_this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;_this.props.openPropertyModal(_this.props.Login.masterData.selectedSampleStorageVersion,_this.props.Login.userInfo,clickedItem,editId);};_this.handleChange=function(e,clickedItem){var searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});_this.setState({treeData:newData,searchedTreeData:searchedData});};_this.handleBlur=function(e,item){item.editable=false;_this.setState({toggleAction:!_this.state.toggleAction});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else{_this.onSaveSampleStorageLocation(saveType,formRef);}};_this.onSaveProperties=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;if(_this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT){if(_this.props.Login.clickedItem&&_this.props.Login.clickedItem!==undefined){var inputData=[];var jsondata={};var postParam=undefined;var count=0;// let isContaierFirstNode = -1;\nif(selectedRecord[\"locationlastnode\"]!==undefined&&selectedRecord[\"locationlastnode\"]===true){count=count+1;}if(selectedRecord[\"containerfirstnode\"]!==undefined&&selectedRecord[\"containerfirstnode\"]===true){count=count+1;}if(selectedRecord[\"containerlastnode\"]!==undefined&&selectedRecord[\"containerlastnode\"]===true){count=count+1;}if(count>1){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTONLYONE\"}));}else{var newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.id===_this.props.Login.clickedItem.item.id){item.locationlastnode=selectedRecord[\"locationlastnode\"]!==undefined?selectedRecord[\"locationlastnode\"]:false;item.containerfirstnode=selectedRecord[\"containerfirstnode\"]!==undefined?selectedRecord[\"containerfirstnode\"]:false;item.containerlastnode=selectedRecord[\"containerlastnode\"]!==undefined?selectedRecord[\"containerlastnode\"]:false;}if(item.selected&&item.selected===true){item.selected=false;}return item;});postParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\"};// if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n//     isContaierFirstNode = 1;\n// }\n// if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\n//     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\n//         isContaierFirstNode = 2;\n//     } else {\n//         isContaierFirstNode = 3;\n//     }\n// }\n// inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \n//  selectedItem: this.props.Login.clickedItem.item.id};\njsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef,postParam:postParam};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}};_this.onSaveSampleStorageLocation=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n//     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\nvar inputData=[];var jsondata={};var postParam=undefined;var countLevels=0;var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}if(item.expanded===false){item.expanded=true;}item.expanded=false;countLevels++;return item;});// let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n// let rhs = newData;\n// console.log(detailedDiff(lhs, rhs));\n// return;\n// postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\nif(countLevels>3){jsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=selectedRecord[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=selectedRecord[\"nstoragecategorycode\"].value;inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;if(_this.props.Login.operation===\"create\"){var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"create\",saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}else{inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];var _inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam,_this.props.Login.masterData,\"openModal\");// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_CREATEATLEASTFOURLEVELS\"}));}};_this.deleteSampleStorageLocation=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];inputData[\"sampleStorageVersion\"]={};inputData[\"sampleStorageLocation\"]={};inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];var inputParam={methodUrl:\"SampleStorageLocation\",classUrl:\"samplestoragelocation\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageLocation(ncontrolCode);});};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;if(_this.searchRef.current){_this.searchRef.current.value=\"\";}_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilter(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.onApproveSampleStorageLocation=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];var locationEnd=false;var storageStart=false;var storageEnd=false;var containers=[];mapTree(_this.state.treeDataView,\"items\",function(item){if(item.locationlastnode===true){locationEnd=true;}if(item.containerfirstnode===true){storageStart=true;containers.push({itemHierarchy:item.itemhierarchy,scontainercode:item.id});}if(item.containerlastnode===true){storageEnd=true;}return null;});// if (locationEnd === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\n//     return;\n// }\n// if (storageStart === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\n//     return;\n// }\n// if (storageEnd === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\n//     return;\n// }\nvar masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"containers\"]=containers;inputData[\"propertyValidation\"]={\"locationEnd\":locationEnd,\"storageStart\":storageStart,\"storageEnd\":storageEnd};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"Approve\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"Approve\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.copySampleStorageversion=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageVersion\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo,operation:\"copy\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"copy\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){_this.searchRef.current.value=\"\";// let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\nvar nfilterStorageCategory=_this.props.Login.masterData.filterStorageCategory&&_this.props.Login.masterData.nfilterStorageCategory;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_SAMPLESTORAGELOCATION\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageLocation=function(addId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}if(_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0){_this.props.fetchStorageCategory({userInfo:_this.props.Login.userInfo,id:uuid(),nfilterStorageCategory:_this.state.nfilterStorageCategory,addId:addId});}else{toast.warning(_this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGECATEGORY\"}));}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state=(_this$state={treeData:[{title:'Chicken',children:[{title:'Egg'}]}],toggleAction:false,treeDataView:undefined,toggleActionView:false,keyIndentify:false},_defineProperty(_this$state,\"treeData\",[{//  text: \"root\",\ntext:_this.props.intl.formatMessage({id:\"IDS_ROOT\"}),expanded:true,editable:true,root:true,id:uuid()}]),_defineProperty(_this$state,\"panes\",[{size:'50%',scrollable:false}]),_defineProperty(_this$state,\"selectedRecord\",{}),_defineProperty(_this$state,\"userRoleControlRights\",[]),_defineProperty(_this$state,\"controlMap\",new Map()),_defineProperty(_this$state,\"skip\",0),_defineProperty(_this$state,\"detailSkip\",0),_defineProperty(_this$state,\"detailTake\",10),_defineProperty(_this$state,\"take\",_this.props.Login.settings?_this.props.Login.settings[3]:25),_defineProperty(_this$state,\"splitChangeWidthPercentage\",22),_defineProperty(_this$state,\"selectedItem\",undefined),_this$state);_this.searchRef=React.createRef();_this.dragClue=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageLocation,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;var isComponentUpdated=false;var filterData=this.state.filterData;var selectedRecord=this.state.selectedRecord||{};if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}if(this.props.Login.treeData!==previousProps.Login.treeData){this.setState({treeData:this.props.Login.treeData});}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){if(this.searchRef.current){this.searchRef.current.value=\"\";}this.handleSearch();this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,searchedTreeData:undefined,showSearch:false});}else{if(this.searchRef.current){this.searchRef.current.value=\"\";}this.handleSearch();this.setState({treeDataView:undefined,searchedTreeData:undefined,showSearch:false});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,selectedRecord:selectedRecord,filterStorageCategory:filterStorageCategory});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"getClueClassName\",value:function getClueClassName(event){var eventAnalyzer=new TreeViewDragAnalyzer(event).init();var itemIndex=eventAnalyzer.destinationMeta.itemHierarchicalIndex;if(eventAnalyzer.isDropAllowed){switch(eventAnalyzer.getDropOperation()){case'child':return'k-i-plus';case'before':return itemIndex==='0'||itemIndex.endsWith(\"\".concat(this.SEPARATOR,\"0\"))?'k-i-insert-up':'k-i-insert-middle';case'after':var siblings=this.getSiblings(itemIndex,this.state.tree);var lastIndex=Number(itemIndex.split(this.SEPARATOR).pop());return lastIndex<siblings.length-1?'k-i-insert-middle':'k-i-insert-down';default:break;}}return'k-i-cancel';}},{key:\"generateUUID\",value:// generateUUID(innerObj) {\n//     // let parentIDNew=uuid()\n//     // let innerObjNew={...innerObj,\n//     //                 'id':parentIDNew } \n//     // if (innerObjNew.items && innerObjNew.items.length > 0) {\n//     //     innerObjNew.items.map((childObj) => { \n//     //         childObj={...childObj,\n//     //         'parentID':parentIDNew}\n//     //         this.generateUUID(childObj)\n//     //     })\n//     // }\n//     let parentIDNew=uuid()\n//     let innerObjNew={...innerObj,\n//            'id':parentIDNew } \n//  if (innerObjNew.items && innerObjNew.items.length > 0) {\n//        innerObjNew.items.map((childObj) => { \n//                 childObj={...childObj,\n//                 'parentID':parentIDNew}\n//                 return  this.generateUUID(childObj)\n//             })\n// } \n//     return innerObjNew\n// }\nfunction generateUUID(innerObj){var parentIDNew=uuid();var innerObjNew=_objectSpread(_objectSpread({},innerObj),{},{'id':parentIDNew});//  innerObj['id']=parentIDNew  \nif(innerObj.items&&innerObj.items.length>0){var _iterator=_createForOfIteratorHelper(innerObj.items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var Obj=_step.value;var childObj=Obj;childObj=_objectSpread(_objectSpread({},childObj),{},{'parentID':parentIDNew});//childObj['parentID']=parentIDNew\nthis.generateUUID(childObj);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return innerObj;}},{key:\"searchClickedItemParent\",value:function searchClickedItemParent(treeData,clickedItem){var ParentItem=_objectSpread({},treeData);if(ParentItem.items&&ParentItem.items.length>0){var childArray=ParentItem.items;if(childArray.length>0){for(var i=0;i<childArray.length;i++){var childData=childArray[i];if(clickedItem?clickedItem.id===childData.id:childData.editable===true){return treeData;}else{if(childData.items){ParentItem=this.searchClickedItemParent(childData,clickedItem);if(ParentItem){return ParentItem;}}}}}}//    return ParentItem;\n}},{key:\"shrinkNodes\",value:function shrinkNodes(ParentItem){//  ParentItem.expanded=false;\nif(ParentItem.items&&ParentItem.items.length>0){var childArray=ParentItem.items;if(childArray.length>0){for(var i=0;i<childArray.length;i++){var childData=childArray[i];childData.expanded=false;if(childData.items){this.shrinkNodes(childData);}}}}}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;if(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"render\",value:function render(){var _this4=this;var addId=this.state.controlMap.has(\"Add SampleStorageLocation\")&&this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageLocation\")&&this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageLocation\")&&this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageLocation\")&&this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageLocation\")&&this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"samplestoragelocation/getSelectedSampleStorageLocation\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var mandatoryFields=[{\"idsName\":\"IDS_STORAGECATEGORY\",\"dataField\":\"nstoragecategorycode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLESTORAGELOCATIONNAME\",\"dataField\":\"ssamplestoragelocationname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height\"},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",percentage:true,primaryIndex:1,onSecondaryPaneSizeChange:this.paneSizeChange,secondaryInitialSize:25,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMaster,{paneHeight:this.state.parentHeight,needMultiSelect:false,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.sampleStorageLocation||[],selectedMaster:[this.props.Login.masterData.selectedSampleStorageLocation],primaryKeyField:\"nsamplestoragelocationcode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageLocation(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"ssamplestoragelocationname\",selectedListName:\"selectedSampleStorageLocation\",objectName:\"LocationMaster\",listName:\"IDS_SAMPLESTORAGELOCATION\",filterColumnData:this.props.filterColumnData,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,hidePaging:false,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-common-wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this4.openStorageLocation(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2\",variant:\"link\",onClick:function onClick(){return _this4.reloadData();}// data-for=\"tooltip-common-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}}))),filterComponent:[{\"IDS_TESTFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]}),/*#__PURE__*/React.createElement(SplitterLayout,{vertical:true,borderColor:\"#999\",percentage:true,primaryIndex:1//secondaryInitialSize={400}\n,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3,style:{paddingRight:'0'}},/*#__PURE__*/React.createElement(TransactionListMaster,{masterList:this.props.Login.masterData.searchedData&&this.props.Login.masterData.searchedData.length===0?[]:this.props.Login.masterData.sampleStorageVersion||[],needMultiSelect:false,selectedMaster:[this.props.Login.masterData.selectedSampleStorageVersion]||[],primaryKeyField:\"nsamplestorageversioncode\",getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedSampleStorageVersion(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"nversionno\",mainFieldLabel:this.props.intl.formatMessage({id:\"IDS_VERSION\"}),selectedListName:\"selectedSampleStorageVersion\",objectName:\"Version\",listName:\"IDS_SAMPLESTORAGEVersion\",hideSearch:true,needValidation:false,needFilter:false,moreField:[],skip:this.state.detailSkip,take:this.state.detailTake,hidePaging:true,handlePageChange:this.handleDetailPageChange,splitModeClass:this.state.splitChangeWidthPercentage&&this.state.splitChangeWidthPercentage>50?'split-mode':this.state.splitChangeWidthPercentage>40?'split-md':''// actionIcons={\n//     [\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n//             controlname: \"faPencilAlt\",\n//             objectName: \"detailtoedit\",\n//             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n//             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n//         },\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//             controlname: \"faTrashAlt\",\n//             objectName: \"mastertodelete\",\n//             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n//             onClick: () => this.confirmDelete(deleteId)\n//         }\n//     ]\n// }\n})),/*#__PURE__*/React.createElement(Col,{md:9},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content grid-master tree-view-container\"},this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.length>0&&this.props.Login.masterData.selectedSampleStorageLocation?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap mr-2 pl-0\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined  outline-secondary btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DRAFT\",defaultMessage:\"Draft\"})):this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.RETIRED?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-danger btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RETIRED\",defaultMessage:\"Retired\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-success btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_APPROVED\",defaultMessage:\"Approved\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle 1 outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){return _this4.onEditSampleStorageLocation(_this4.props.Login.masterData.selectedSampleStorageVersion,_this4.props.Login.userInfo,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})):/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(copyId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),onClick:function onClick(e){return _this4.copySampleStorageversion(copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this4.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this4.onApproveSampleStorageLocation(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})):\"\")))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"table\",{class:\"sticky-thc\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-search tool-search \".concat(this.state.showSearch?'activesearch':\"\")},/*#__PURE__*/React.createElement(SearchIcon,{className:\"search-icon\",onClick:this.toggleSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSearch})),/*#__PURE__*/React.createElement(FormControl,{ref:this.searchRef,autoComplete:\"off\",className:\"k-textbox\",onChange:this.handleSearch,placeholder:\"\".concat(this.props.intl.formatMessage({id:\"IDS_FILTER\"})),name:\"search\",onKeyUp:function onKeyUp(e){return _this4.handlenavigation(e,'down');}}),!this.props.showSearch?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"search-up-down\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronUp,onClick:function onClick(e){return _this4.handlenavigation(e,'up');}}),/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronDown,onClick:function onClick(e){return _this4.handlenavigation(e,'down');}}))):\"\",this.props.showSearch?/*#__PURE__*/React.createElement(SearchIcon,{className:\"close-right-icon\",onClick:this.toggleSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes})):\"\")))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.searchedTreeData||this.state.treeDataView,expandIcons:true,selectField:'active-node',item:this.itemRenderView,onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView})))))))):\"\"))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGELOCATION\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.loadTreeProperties===true?[]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.loadTreeProperties?/*#__PURE__*/React.createElement(AddTreeProperties,{onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{}}):this.state.treeData?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AddTreeview,{clearSearchedState:this.clearSearchedState,toggleSearch:this.toggleSearch,handleSearch:this.handleSearch,handlenavigation:this.handlenavigation,showSearch:this.state.showSearch,treeData://this.state.searchedTreeData||\nthis.state.treeData,onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,onItemDragOver:this.onItemDragOver,onItemDragEnd:this.onItemDragEnd,storageCategoryList:this.props.Login.storageCategoryList||[],isOnlyDraft:this.props.Login.isOnlyDraft}))):/*#__PURE__*/React.createElement(React.Fragment,null)}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageLocation;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,changeStorageCategoryFilter:changeStorageCategoryFilter,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,fetchStorageCategory:fetchStorageCategory,copySampleStorageVersion:copySampleStorageVersion,crudSampleStorageLocation:crudSampleStorageLocation})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SearchIcon","ScrollBar","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","faChevronDown","faChevronUp","faExclamationCircle","SampleStorageLocation","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","onChange","event","setState","panes","newState","getSiblings","itemIndex","data","result","indices","split","map","index","Number","i","length","items","onItemDragOver","dragClue","show","pageY","pageX","item","text","getClueClassName","onItemDragEnd","hide","eventAnalyzer","init","isDropAllowed","updatedTree","itemHierarchicalIndex","state","treeData","getDropOperation","destinationMeta","tree","addChildNode","e","clickedItem","ParentItem","searchClickedItemParent","expanded","newData","id","push","intl","formatMessage","editable","locationlastnode","containerfirstnode","containerlastnode","itemhierarchy","cloneNode","parentItem","parentID","clonedParentID","parentFound","cloneItems","clonedparentFound","newData1","clonedNewParentID","levelBasedParents","cloneditem","warn","count","equalNode","deleteNode","root","editRecord","toggleAction","openModal","updateInfo","typeName","selectedRecord","loadTreeProperties","operation","closeModal","loadEsign","Login","selectedId","onInputChange","target","type","name","checked","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","onItemClick","searchedData","searchedTreeData","item1","toggleSearch","showSearch","clearSearchedState","navigationCounter","counter","handleSearch","search","term","reduce","acc","contains","newItems","handlenavigation","direction","key","document","querySelector","keyIndentify","navigateSearchedTree","treeDataView","JSON","parse","stringify","selected","includes","some","toLowerCase","indexOf","onExpandChange","shrinkNodes","forceUpdate","itemRenderView","toggleActionView","setProperties","onItemClickView","itemText","clearSelected","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","masterData","selectedSampleStorageVersion","userInfo","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","napprovalstatus","DRAFT","inputData","jsondata","postParam","info","inputListName","selectedObject","primaryKeyField","selectedSampleStorageLocation","inputParam","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","screenData","countLevels","deleteSampleStorageLocation","ncontrolCode","searchRef","current","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","containers","itemHierarchy","scontainercode","copySampleStorageversion","reloadData","onEditSampleStorageLocation","isOnlyDraft","sampleStorageVersion","openStorageLocation","addId","Object","keys","warning","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","title","children","size","scrollable","Map","settings","createRef","previousProps","isComponentUpdated","filterData","values","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","endsWith","siblings","lastIndex","pop","innerObj","parentIDNew","innerObjNew","Obj","childObj","generateUUID","childArray","childData","selectedItem","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","deleteId","copyId","approveId","filterParam","fetchUrl","fecthInputObject","searchFieldList","mandatoryFields","sampleStorageLocation","paddingRight","detailSkip","detailTake","ssamplestoragelocationname","RETIRED","masterStatus","storageCategoryList","error","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\n\r\nimport ScrollBar from 'react-perfect-scrollbar';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\nimport { //faBell, \r\n    faChevronDown, faChevronUp, faExclamationCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\n \r\n\r\nclass SampleStorageLocation extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_'; \r\n     uniqueIDArr=[];\r\n      countforTree=0;\r\n     pointedItem=undefined\r\n     getitemPath={};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            treeData: [{ title: 'Chicken', children: [ { title: 'Egg' } ] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            keyIndentify : false,\r\n            treeData: [\r\n                {\r\n                  //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue  = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n\r\n        this.setState({ panes: event.newState })\r\n\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        } \r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                if(this.searchRef.current){\r\n                    this.searchRef.current.value = \"\"; \r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\r\n                        searchedTreeData: undefined,\r\n                        showSearch:   false\r\n                });\r\n            } else {\r\n                if(this.searchRef.current){\r\n                    this.searchRef.current.value = \"\"; \r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView: undefined,\r\n                    searchedTreeData: undefined,\r\n                    showSearch:   false\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n      getSiblings = (itemIndex, data) => {\r\n        let result = data;\r\n        const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\r\n        for (let i = 0; i < indices.length - 1; i++) {\r\n          result = result[indices[i]].items || [];\r\n        }\r\n        return result;\r\n      };\r\n\r\n    getClueClassName(event) {\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        const {\r\n          itemHierarchicalIndex: itemIndex\r\n        } = eventAnalyzer.destinationMeta;\r\n        if (eventAnalyzer.isDropAllowed) {\r\n          switch (eventAnalyzer.getDropOperation()) {\r\n            case 'child':\r\n              return 'k-i-plus';\r\n            case 'before':\r\n              return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\r\n            case 'after':\r\n              const siblings = this.getSiblings(itemIndex, this.state.tree);\r\n              const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\r\n              return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        return 'k-i-cancel';\r\n      }\r\n    onItemDragOver = event => {\r\n        this.dragOverCnt++;\r\n       this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\r\n      };\r\n    onItemDragEnd = event => {\r\n        this.isDragDrop = this.dragOverCnt > 0;\r\n        this.dragOverCnt = 0;\r\n       this.dragClue.hide();\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        if (eventAnalyzer.isDropAllowed) {\r\n          const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\r\n          this.setState({\r\n            tree: updatedTree\r\n          });\r\n        }\r\n      };\r\n    addChildNode = (e, clickedItem) => { \r\n\r\n        let ParentItem=this.searchClickedItemParent(this.state.treeData[0]) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        }  \r\n       \r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.items = item.items || [];\r\n                item.expanded=true\r\n                item.items.push({\r\n                    id: uuid(),\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                    expanded: true,\r\n                    editable: false,\r\n                    locationlastnode: false,\r\n                    containerfirstnode: false,\r\n                    containerlastnode: false,\r\n                    itemhierarchy: \"\"\r\n                });\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    };\r\n\r\n    // generateUUID(innerObj) {\r\n       \r\n    //     // let parentIDNew=uuid()\r\n    //     // let innerObjNew={...innerObj,\r\n    //     //                 'id':parentIDNew } \r\n    //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //     //     innerObjNew.items.map((childObj) => { \r\n    //     //         childObj={...childObj,\r\n    //     //         'parentID':parentIDNew}\r\n    //     //         this.generateUUID(childObj)\r\n    //     //     })\r\n    //     // }\r\n    //     let parentIDNew=uuid()\r\n    //     let innerObjNew={...innerObj,\r\n    //            'id':parentIDNew } \r\n    //  if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //        innerObjNew.items.map((childObj) => { \r\n    //                 childObj={...childObj,\r\n    //                 'parentID':parentIDNew}\r\n    //                 return  this.generateUUID(childObj)\r\n    //             })\r\n    // } \r\n    //     return innerObjNew\r\n    // }\r\n\r\n    generateUUID(innerObj){\r\n        let parentIDNew=uuid()\r\n        let innerObjNew={...innerObj,\r\n               'id':parentIDNew } \r\n\r\n             //  innerObj['id']=parentIDNew  \r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            for (let Obj of innerObj.items){\r\n                let childObj=Obj;\r\n                childObj={...childObj,\r\n                    'parentID':parentIDNew}     \r\n                    //childObj['parentID']=parentIDNew\r\n\r\n                    this.generateUUID(childObj); \r\n            } \r\n        } \r\n        return innerObj;\r\n      }\r\n\r\n      searchClickedItemParent(treeData,clickedItem){\r\n        let ParentItem={...treeData}; \r\n            if(ParentItem.items&&ParentItem.items.length > 0){ \r\n                let childArray=ParentItem.items; \r\n                if(childArray.length > 0){\r\n                    for(var i=0;i<childArray.length;i++){ \r\n                        let childData=childArray[i]\r\n                        if(clickedItem?(clickedItem.id===childData.id):(childData.editable===true)){ \r\n                            return treeData;\r\n                        }else{\r\n                            if(childData.items){\r\n                                ParentItem= this.searchClickedItemParent(childData,clickedItem)\r\n                                if (ParentItem) {\r\n                                    return ParentItem;\r\n                                }\r\n                            } \r\n                        }\r\n                    } \r\n                }\r\n            }  \r\n        //    return ParentItem;\r\n      }\r\n    cloneNode= (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentID = '';\r\n        let clonedParentID = '';\r\n        let parentFound = false;\r\n        let cloneItems = {};\r\n        let clonedparentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        let newData1 = [...this.state.treeData];\r\n        mapTree( this.state.treeData\r\n            , \"items\", (item) => {\r\n            // if (item.items) {\r\n            //     if (parentFound&&(item.id===parentID)) {\r\n            //         parentItem = item;\r\n            //         parentFound = false;\r\n            //     }\r\n            // }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n                parentID=clickedItem.parentID\r\n                parentItem=this.searchClickedItemParent(this.state.treeData[0]) \r\n            }\r\n            if (item.editable===true) { \r\n                 clonedParentID=uuid();\r\n                 let  clonedNewParentID=uuid(); \r\n            //     //  let clonedObject=//{...item}\r\n            //     //   Object.assign({}, item);\r\n            //       const clonedObject = JSON.parse(JSON.stringify(item1));\r\n            //      cloneItems =//[{...clonedObject}].map((data) => {\r\n            //       // return \r\n            //        this.generateUUID(clonedObject)\r\n            //    // })\r\n                let levelBasedParents={}\r\n                cloneItems =  mapTree([{...item}], \"items\", (cloneditem) => {\r\n                    // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    // let x=getItemPath(this.state.treeData,indices,\"items\")\r\n                    // console.log('------------->',cloneditem)\r\n                    // if(cloneditem.items===undefined&&clonedparentFound){\r\n                    //     clonedParentID=uuid();\r\n                    //     clonedparentFound=false;\r\n                    // }\r\n                    // else{\r\n                    //     clonedNewParentID=uuid();\r\n                    // }\r\n                    // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\r\n                    //     let level=cloneditem.itemHierarchicalIndex;\r\n                    //     levelBasedParents={...levelBasedParents,\r\n                    //                         [level]:uuid()\r\n                    //                     }\r\n                    // }\r\n                    // if(cloneditem.items){\r\n                    //      //if ClonedItem is a Parent\r\n                         \r\n                    //     cloneditem={\r\n                    //         ...cloneditem,\r\n                    //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\r\n                    //         ,\r\n                    //         'id':clonedParentID,\r\n                    //         'editable': false \r\n                    //     } \r\n                    //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                    //     //  clonedParentID=uuid()//clonedNewParentID;\r\n                    //     // clonedparentFound=true;\r\n                    // }else{\r\n                         //if ClonedItem is a Child\r\n                        cloneditem={\r\n                            ...cloneditem,\r\n                            //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\r\n                           // ,\r\n                            'id':uuid(),\r\n                            'editable': false ,\r\n                            'expanded': false \r\n                     //   }\r\n                      //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                    } \r\n                    return cloneditem;\r\n                });\r\n            }\r\n\r\n            // item={\r\n            //    ...item,\r\n            //     'id':uuid(),\r\n            //   'editable': false \r\n            //     } \r\n              return item;\r\n        });\r\n        if(parentItem===undefined){\r\n            return toast.warn(this.props.intl.formatMessage({id:\"IDS_ROOTNODECANNOTBEDELETED\"}))\r\n    }\r\n            let count=1;\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n               \r\n                if (item.id === parentItem.id) {\r\n                    count++;\r\n                    item.items.push(\r\n                    // {\r\n                    // ...cloneItem,\r\n                    // 'id':uuid(),\r\n                    // 'editable': false,\r\n                    // 'text': cloneItem['text']+'('+count+')'\r\n                    // } \r\n                    {\r\n                    ...cloneItems[0]\r\n                    ,\r\n                   'parentID':parentID,\r\n                   // 'id':clonedParentID\r\n                    }\r\n                    );\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n    }\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false,\r\n                itemhierarchy: \"\"\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item)}\r\n                                maxLength=\"50\"\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                        <span className='d-flex align-items-center'>\r\n                            <span className={`normal-node text-truncate\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `} data-tip={props.item.text}>\r\n                                {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {props.item.text}\r\n                            </span>\r\n                            {props.item.editable ? (\r\n                                <>\r\n                                     <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.cloneNode(e, props.item);\r\n                                        }}\r\n                                    ></span>  \r\n{/* \r\n                                <Button   className=\"action-icon tree-level1\" role=\"button\"\r\n                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.cloneNode(e, props.item);\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faClone}\r\n                                                 title={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })} />\r\n                                            </Button> */}\r\n                                    {/* <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-level2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.addChildNode(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    <span\r\n                                        className=\"k-icon k-i-edit k-i-pencil ml-2\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.editRecord(e, props.item);\r\n                                        }}\r\n                                    ></span>\r\n                                    {!props.item.isRoot ? (\r\n                                        <span\r\n                                            className=\"k-icon k-i-delete ml-2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.deleteNode(props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    ) : null}\r\n                                </>\r\n                            ) : null}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (selectedItem) {\r\n        //     selectedItem.editable = false;\r\n        //   }\r\n        //   event.item.editable = true;\r\n        //   selectedItem = event.item; \r\n          \r\n\r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\r\n                if (item1.editable === true) {\r\n                    item1.editable = false;\r\n                } else if (item1.id === event.item.id) {\r\n                    item1.editable = true;\r\n                }\r\n                return item1;\r\n            });\r\n        } \r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData,searchedTreeData: searchedData  });\r\n    };\r\n\r\n\r\n    shrinkNodes(ParentItem){ \r\n          //  ParentItem.expanded=false;\r\n            if(ParentItem.items&&ParentItem.items.length > 0){ \r\n                let childArray=ParentItem.items; \r\n                if(childArray.length > 0){\r\n                    for(var i=0;i<childArray.length;i++){ \r\n                        let childData=childArray[i] \r\n                        childData.expanded=false;\r\n                            if(childData.items){ \r\n                              this.shrinkNodes(childData) \r\n                            }  \r\n                    } \r\n                }\r\n            }   \r\n      }\r\n\r\n      toggleSearch = () => {\r\n        this.setState({\r\n            showSearch:   !this.state.showSearch\r\n        })\r\n        }\r\n    clearSearchedState= () => {\r\n    this.setState({\r\n        searchedTreeData: undefined,\r\n        showSearch:   false\r\n    })\r\n        }\r\n\r\n    navigationCounter=()=>{\r\n        let counter=this.state.counter||0;\r\n\r\n        return counter;\r\n    }    \r\n    // handleSearch = () => { \r\n    //     let value = document.querySelector('.k-textbox').value\r\n    //     this.uniqueIDArr=[]\r\n    //     this.countforTree=0;\r\n    //     let newData = this.search(this.state.treeDataView, value) \r\n    //     //Always root node should be expanded\r\n    //     newData[0].expanded=true;  \r\n    //     if(value===\"\"){\r\n    //         this.pointedItem=undefined\r\n    //         this.setState({ searchedTreeData: undefined })\r\n    //     }else{\r\n    //         this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n    //     }\r\n    //   }\r\n      handleSearch = () => { \r\n        this.uniqueIDArr=[]\r\n        this.pointedItem=undefined\r\n        this.countforTree=0;\r\n        //this.setState({searchedTreeData: undefined})\r\n      }\r\n      search = (items, term) => { \r\n        return items.reduce((acc, item) => {\r\n           if (this.contains(item.text, term)) { \r\n             this.uniqueIDArr.push(item.id); \r\n             acc.push(item); \r\n           } else if (item.items && item.items.length > 0) {\r\n             let newItems = this.search(item.items, term);\r\n             if (newItems && newItems.length > 0) { \r\n               acc.push({ ...item,text: item.text, items: newItems, expanded:   acc.length===0? \r\n                true   :false//item.expanded\r\n            \r\n            });\r\n             }\r\n           }\r\n           return acc;\r\n         }, []);\r\n       }\r\n\r\n       handlenavigation = (e,direction) => { \r\n        if (e.key === 'Enter' ||e.type==='click') {\r\n        let value = document.querySelector('.k-textbox').value \r\n        if(e.key === 'Enter'){\r\n            this.state.keyIndentify = true;\r\n        }\r\n        if(value!==\"\"){\r\n           \r\n            if(direction==='up'){\r\n                //Navigate up\r\n                this.countforTree--;\r\n               if(this.countforTree<=0){\r\n                   this.countforTree=0;\r\n                 \r\n               }\r\n           } else{ \r\n           //if(direction==='down'){\r\n            //Navigate down\r\n            this.countforTree++;\r\n            if(this.countforTree>=this.uniqueIDArr.length){\r\n                if((this.uniqueIDArr.length-1)===-1){\r\n                    this.countforTree=0;\r\n                }else{\r\n                    this.countforTree=this.uniqueIDArr.length-1;\r\n                }\r\n               \r\n                //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\r\n            }\r\n        }\r\n\r\n            let newData = this.navigateSearchedTree(this.state.treeDataView, value)   \r\n         \r\n        \r\n            this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n        } \r\n         else {\r\n            this.setState({ searchedTreeData: undefined })\r\n        } \r\n    }\r\n      }\r\n       navigateSearchedTree = (items, term) => { \r\n        return items.reduce((acc, item) => {\r\n            if(item.editable){\r\n                item.editable=false \r\n            }\r\n            if( item.selected){\r\n                item.selected=false \r\n            } \r\n           if (this.contains(item.text, term)) {  \r\n\r\n            if(!this.uniqueIDArr.includes(item.id)){\r\n                this.uniqueIDArr.push(item.id); \r\n            } \r\n            if(item.id===this.uniqueIDArr[this.countforTree]){ \r\n                if (this.pointedItem) {\r\n                    this.pointedItem = undefined;\r\n                  }\r\n                  this.pointedItem = item; \r\n            }  \r\n             acc.push(item); \r\n           } else if (item.items && item.items.length > 0) {\r\n             let newItems = this.navigateSearchedTree(item.items, term);\r\n             if (newItems && newItems.length > 0) { \r\n               if(newItems.some(item=>item.id===this.uniqueIDArr[this.countforTree])){\r\n                acc.push({ ...item,text: item.text, items: newItems, expanded:true});\r\n               }else{\r\n                acc.push({ ...item,text: item.text, items: newItems, expanded:\r\n                    newItems.some(item=>item.expanded===true) ? true :  false});\r\n               }\r\n               \r\n             }\r\n           }\r\n           return acc;\r\n         }, []);\r\n       }\r\n\r\n       contains = (text, term) => {\r\n        return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\r\n      }\r\n    onExpandChange = (event) => {  \r\n         let clickedItem=event.item   \r\n        if(!event.item.expanded){\r\n        //this.onItemClick(event)\r\n        let ParentItem=this.searchClickedItemParent(//this.state.searchedTreeData&&\r\n            //this.state.searchedTreeData[0]||\r\n            this.state.treeData[0],clickedItem) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        } \r\n        this.shrinkNodes(event.item);\r\n      }\r\n        event.item.expanded = !event.item.expanded;\r\n \r\n        this.forceUpdate();\r\n    };\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        this.getitemPath={...this.getitemPath,[item.id]:clickedItem.itemHierarchicalIndex}\r\n        \r\n      \r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n                        \r\n                        <span className='d-flex align-items-center'>\r\n                            {this.pointedItem? (item.id===this.pointedItem.id)&&!item.selected ?                          \r\n                                <>\r\n                                <input type=\"text\" className='hidden-treeview-focus' autoFocus />\r\n                                </>:\r\n                                <></>:''\r\n                            }\r\n                            <span className={`normal-node text-truncate\r\n                                ${this.pointedItem?(item.id===this.pointedItem.id)&&!item.selected? \"pointed-node\" : item.selected ? \"active-node\" : \"\":\r\n                                item.selected ? \"active-node\" : \"\" }\r\n                                ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                                `} data-tip={item.text}>\r\n                                        {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                            item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                                item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                                    item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                        {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                            {  this.pointedItem&&item.id===this.pointedItem.id ?  \r\n                            <FontAwesomeIcon icon={faHandPointLeft} bounce \r\n                            /> \r\n                            :\r\n                            clickedItem.item.editable ? (\r\n                                <>\r\n                                    {/* <li className=\"list-inline-item\"> */}\r\n                                    <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>\r\n                                    {/* </li> */}\r\n                                </>\r\n                            ) : null}\r\n                            {/* </ul> */}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })             \r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if(this.pointedItem){\r\n                        if(this.pointedItem.id===item.id){\r\n                            this.pointedItem=undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices = \r\n                event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n    \r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n       \r\n        searchedData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n         } \r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeDataView;\r\n                const indices = \r\n                event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeDataView: newData,searchedTreeData: searchedData });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n\r\n        let clickedItem=event.item   \r\n        if(!event.item.expanded){\r\n        //this.onItemClick(event)\r\n        let ParentItem=this.searchClickedItemParent(this.state.searchedTreeData&&\r\n            this.state.searchedTreeData[0]||this.state.treeDataView[0],clickedItem) \r\n        if(ParentItem){\r\n            ParentItem.items.map(item=>{\r\n                item.expanded=false;\r\n            }); \r\n        } \r\n        this.shrinkNodes(event.item);\r\n      }\r\n\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\r\n    };\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let searchedData =undefined;\r\n        if(this.state.searchedTreeData){\r\n             searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.id === clickedItem.id) {\r\n                    item.text = e.target.value;\r\n                }\r\n                return item;\r\n            });\r\n        } \r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData,searchedTreeData: searchedData });\r\n    };\r\n\r\n    handleBlur = (e, item) => {\r\n        item.editable = false;\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else {\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\r\n            if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n                let inputData = [];\r\n                let jsondata = {}\r\n                let postParam = undefined;\r\n                let count = 0;\r\n                // let isContaierFirstNode = -1;\r\n\r\n                if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                    count = count + 1;\r\n                }\r\n                if (count > 1) {\r\n                    toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n                } else {\r\n                    let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                        if (item.id === this.props.Login.clickedItem.item.id) {\r\n                            item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                            item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                            item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                        }\r\n                        if (item.selected && item.selected === true) {\r\n                            item.selected = false;\r\n                        }\r\n                        return item;\r\n                    });\r\n                    postParam = { inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n                    // if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //     isContaierFirstNode = 1;\r\n                    // }\r\n                    // if (this.props.Login.clickedItem.item.containerfirstnode && this.props.Login.clickedItem.item.containerfirstnode === true) {\r\n\r\n                    //     if (selectedRecord[\"containerfirstnode\"] && selectedRecord[\"containerfirstnode\"] === true) {\r\n                    //         isContaierFirstNode = 2;\r\n\r\n                    //     } else {\r\n                    //         isContaierFirstNode = 3;\r\n                    //     }\r\n                    // }\r\n\r\n\r\n                    // inputData[\"containerStorageCondition\"] = {isContaierFirstNode, slocationHierarchy: this.state.selectedHierarchy, \r\n                    //  selectedItem: this.props.Login.clickedItem.item.id};\r\n\r\n                    jsondata[\"data\"] = newData;\r\n                    inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n                    inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n                    inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                    inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];\r\n                    inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nstoragecategorycode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                    inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n                    inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n                    const inputParam = {\r\n                        classUrl: \"samplestoragelocation\",\r\n                        methodUrl: \"SampleStorageLocation\",\r\n                        displayName: this.props.Login.inputParam.displayName,\r\n                        inputData: inputData,\r\n                        operation: \"update\", saveType, formRef, postParam\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            item.expanded = false;\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            if(this.searchRef.current){\r\n                this.searchRef.current.value = \"\";\r\n            }\r\n           \r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        let containers = [];\r\n        mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.locationlastnode === true) {\r\n                locationEnd = true;\r\n            }\r\n            if (item.containerfirstnode === true) {\r\n                storageStart = true;\r\n                containers.push({ itemHierarchy: item.itemhierarchy, scontainercode: item.id });\r\n            }\r\n            if (item.containerlastnode === true) {\r\n                storageEnd = true;\r\n            }\r\n            return null;\r\n        });\r\n        // if (locationEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageStart === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n        //     return;\r\n        // }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"containers\"] = containers;\r\n        inputData[\"propertyValidation\"] = {\"locationEnd\": locationEnd, \"storageStart\": storageStart, \"storageEnd\": storageEnd};\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n\r\n\r\n        let inputData = [];\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        let nfilterStorageCategory =  this.props.Login.masterData.filterStorageCategory &&  this.props.Login.masterData.nfilterStorageCategory;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_SAMPLESTORAGELOCATION\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){ \r\n            this.searchRef.current.value = \"\"; \r\n        } \r\n        \r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        this.handleSearch();\r\n        this.setState({searchedTreeData: undefined})\r\n        if(this.searchRef.current){\r\n            this.searchRef.current.value = \"\";  \r\n        } \r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageLocation\") && this.state.controlMap.get(\"Add SampleStorageLocation\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n        const mandatoryFields = [\r\n            { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_SAMPLESTORAGELOCATIONNAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }\r\n        ]\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMaster\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageLocation]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) => \r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_SAMPLESTORAGELOCATION\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMaster\r\n                                                    masterList={this.props.Login.masterData.searchedData && this.props.Login.masterData.searchedData.length === 0 ? [] :\r\n                                                         this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={[this.props.Login.masterData.selectedSampleStorageVersion] || []}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master tree-view-container\">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2 pl-0\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm mr-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                            }\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body>   \r\n                                                                <Col md={12}>\r\n                                                                    <table class=\"sticky-thc\" >\r\n                                                                        <thead>\r\n                                                                            <tr>\r\n                                                                                <th>\r\n                                                                                    <div className={`list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`}>\r\n                                                                                        <SearchIcon className=\"search-icon\" onClick={this.toggleSearch}>\r\n                                                                                            <FontAwesomeIcon icon={faSearch} />\r\n                                                                                        </SearchIcon>\r\n                                                                                        <FormControl ref={this.searchRef} autoComplete=\"off\"\r\n                                                                                            className='k-textbox' onChange={this.handleSearch}\r\n                                                                                            placeholder={`${this.props.intl.formatMessage({ id: \"IDS_FILTER\" })}`}\r\n                                                                                            name={\"search\"}  onKeyUp={(e)=>this.handlenavigation(e,'down')}\r\n                                                                                        />\r\n                                                                                        {!this.props.showSearch ?\r\n                                                                                            <>\r\n                                                                                                <span className='search-up-down'>\r\n                                                                                                <FontAwesomeIcon icon={faChevronUp} onClick={(e)=>this.handlenavigation(e,'up')} />\r\n                                                                                                <FontAwesomeIcon icon={faChevronDown} onClick={(e)=>this.handlenavigation(e,'down')} />\r\n                                                                                                {/* <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'down')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowDown} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button>\r\n\r\n                                                                                                <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEUP\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'up')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowUp} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button> */}\r\n                                                                                                </span>\r\n                                                                                            </>\r\n                                                                                        :\"\"}\r\n                                                                                        {this.props.showSearch ?\r\n                                                                                        <SearchIcon className=\"close-right-icon\" onClick={this.toggleSearch}>\r\n                                                                                        <FontAwesomeIcon icon={faTimes} />\r\n                                                                                        </SearchIcon>\r\n                                                                                        : \"\"} \r\n                                                                                    </div>\r\n                                                                                </th>\r\n                                                                            </tr>\r\n                                                                        </thead>\r\n                                                                        <tbody>\r\n                                                                            <tr>\r\n                                                                                <td>\r\n                                                                                    <TreeViewEditable \r\n                                                                                        id=\"samplestoragelocation\"\r\n                                                                                        name=\"samplestoragelocation\"\r\n                                                                                        // label=\"Sample Storage Location\"\r\n                                                                                        data={this.state.searchedTreeData||this.state.treeDataView}\r\n                                                                                        expandIcons={true}\r\n                                                                                        selectField={'active-node'}\r\n                                                                                        item={this.itemRenderView}\r\n                                                                                        onExpandChange={this.onExpandChangeView}\r\n                                                                                        onItemClick={this.onItemClickView} \r\n                                                                                    />\r\n                                                                                </td>\r\n                                                                            </tr>\r\n                                                                        </tbody>\r\n                                                                    </table>\r\n                                                                </Col>                                                               \r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGELOCATION\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.props.Login.loadTreeProperties ? (\r\n                                <AddTreeProperties\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                            ) : this.state.treeData ? ( \r\n                                <>  \r\n                                <div>\r\n                                {/* <input className='k-textbox' onChange={this.handleSearch}/>\r\n                                <hr /> */} \r\n                                <AddTreeview \r\n                                    clearSearchedState={this.clearSearchedState}\r\n                                    toggleSearch={this.toggleSearch}\r\n                                    handleSearch={this.handleSearch}\r\n                                    handlenavigation={this.handlenavigation}\r\n                                    showSearch={this.state.showSearch}\r\n                                    treeData={//this.state.searchedTreeData||\r\n                                        this.state.treeData}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    itemRender={this.itemRender}\r\n                                    onExpandChange={this.onExpandChange}\r\n                                    onItemClick={this.onItemClick}\r\n                                    onComboChange={this.onComboChange}\r\n                                    onItemDragOver={this.onItemDragOver}\r\n                                    onItemDragEnd={this.onItemDragEnd}\r\n                                    storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                    isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                />\r\n                              </div></> \r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}