{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\goodsin\\\\GoodsIn.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { callService, crudMaster, updateStore, getGoodsInFilterSubmit, validateEsignCredential, getGoodsInComboService, getGoodsInDetail, getClient, getProjectType, getProject, filterColumnData, getPreviewTemplate, viewInformation, checkListGoodsIn, downloadGoodsIn, onSaveGoodsInCheckList, validateEsignGoodsIn, generateControlBasedReport } from '../../actions';\nimport { toast } from 'react-toastify';\nimport { convertDateValuetoString, rearrangeDateFormat, getControlMap, showEsign, formatInputDate, comboChild, convertDateTimetoStringDBFormat, onDropAttachFileList, deleteAttachmentDropZone, Lims_JSON_stringify } from '../../components/CommonScript';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { Col, Row, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport GoodsInFilter from './GoodsInFilter';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport AddGoodsIn from './AddGoodsIn';\nimport Esign from '../audittrail/Esign';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { SampleType, designProperties, transactionStatus } from '../../components/Enumeration';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faTrashAlt, faThumbsUp, faListAlt, faCloudDownloadAlt, faEye } from '@fortawesome/free-solid-svg-icons';\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { process } from '@progress/kendo-data-query';\nimport { ReactComponent as GoodsReceivedIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/goods-received.svg\";\nimport { ReactComponent as DownloadGoods } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/Download Goods.svg\";\nimport AddFile from './AddFile';\nimport GoodsInView from './GoodsInView';\nimport GoodsInChecklist from './GoodsInChecklist';\nimport { templateChangeHandler } from '../checklist/checklist/checklistMethods';\nimport { REPORTTYPE } from '../../components/Enumeration';\nimport { ReactComponent as ReceiveGoods } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/Receive Goods.svg\";\nimport { Affix } from 'rsuite';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass GoodsIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.handleFilterDateChange = (dateName, dateValue) => {\n      let masterData = this.props.Login.masterData;\n      masterData[dateName] = dateValue;\n      this.setState({\n        masterData\n      });\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.dynamicHandleDateChange = (dateValue, dateName) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateInputChange = (event, control) => {\n      let selectedRecord = templateChangeHandler(1, this.state.selectedRecord, event, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateComboChange = (comboData, control) => {\n      let selectedRecord = templateChangeHandler(2, this.state.selectedRecord, comboData, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateDateChange = (dateData, control) => {\n      let selectedRecord = templateChangeHandler(3, this.state.selectedRecord, dateData, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onFilterSubmit = () => {\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\n      let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\n      let masterData = { ...this.props.Login.masterData,\n        realfromDate,\n        realtoDate\n      };\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        userinfo: this.props.Login.userInfo\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getGoodsInFilterSubmit(inputParam);\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\n      let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\n      let masterData = { ...this.props.Login.masterData,\n        realfromDate,\n        realtoDate\n      };\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        userinfo: this.props.Login.userInfo\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getGoodsInFilterSubmit(inputParam);\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let screenName = this.props.Login.screenName;\n      let operation = this.props.Login.operation;\n      let openTemplateModal = this.props.Login.openTemplateModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\" || this.props.Login.operation === \"approve\") {\n          loadEsign = false;\n          openModal = false;\n          openTemplateModal = false;\n          selectedRecord = {};\n        } else {\n          if (this.props.Login.operation === \"checklist\") {\n            openModal = false;\n          }\n\n          loadEsign = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        openTemplateModal = false;\n        selectedRecord = {};\n        screenName = \"\";\n        operation = \"\";\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          openTemplateModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null,\n          screenName,\n          operation\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n\n      if (this.props.Login.operation === \"checklist\") {\n        this.props.validateEsignGoodsIn(inputParam, \"openModal\");\n      } else {\n        this.props.validateEsignCredential(inputParam, \"openModal\");\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        } else if (event.target.name === \"noutofhours\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        } else {\n          selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\n        }\n      } else {\n        if (event.target.value !== \"\") {\n          selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (fieldName === \"nclientcatcode\") {\n        selectedRecord[\"nclientcatcode\"] = comboData;\n        this.props.getClient(this.state.selectedRecord.nclientcatcode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n      } else if (fieldName === \"nclientcode\") {\n        selectedRecord[\"nclientcode\"] = comboData;\n        this.props.getProjectType(this.state.selectedRecord.nclientcatcode.value, this.state.selectedRecord.nclientcode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n      } else if (fieldName === \"nprojecttypecode\") {\n        selectedRecord[\"nprojecttypecode\"] = comboData;\n\n        if (comboData !== null) {\n          this.props.getProject(this.state.selectedRecord.nclientcatcode.value, this.state.selectedRecord.nclientcode.value, this.state.selectedRecord.nprojecttypecode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n        } else {\n          delete selectedRecord[\"nprojecttypecode\"];\n          delete selectedRecord[\"nprojectmastercode\"];\n          this.setState({\n            selectedRecord\n          });\n        }\n      } else if (fieldName === \"nprojectmastercode\") {\n        selectedRecord[\"nprojectmastercode\"] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      } else if (fieldName === \"ncouriercode\") {\n        if (comboData !== null) {\n          selectedRecord[\"ncouriercode\"] = comboData;\n        } else {\n          delete selectedRecord[\"ncouriercode\"];\n        } //selectedRecord[\"ncouriercode\"] = comboData;\n\n\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onDynamicComboChange = (comboData, control, customName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let comboName = customName || control.label;\n\n      if (comboData) {\n        comboData[\"item\"] = { ...comboData[\"item\"],\n          \"pkey\": control.valuemember,\n          \"nquerybuildertablecode\": control.nquerybuildertablecode,\n          source: control.source\n        };\n        selectedRecord[comboName] = comboData;\n      } else {\n        selectedRecord[comboName] = [];\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onNumericInputOnChange = (value, name) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[name] = value;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onNumericBlur = control => {\n      let selectedRecord = this.state.selectedRecord;\n\n      if (selectedRecord[control.label]) {\n        if (control.max) {\n          if (!(selectedRecord[control.label] < parseFloat(control.max))) {\n            selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max);\n          }\n        }\n\n        if (control.min) {\n          if (!(selectedRecord[control.label] > parseFloat(control.min))) {\n            selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min);\n          }\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.sampleInfoDataStateChange = event => {\n      this.setState({\n        dataResult: process(this.props.Login.masterData.GoodsInSample, event.dataState),\n        sampleGridDataState: event.dataState\n      });\n    };\n\n    this.generateControlBasedReportReport = downloadGoodsIn => {\n      //if(this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED  || this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.APPROVED ){\n      let inputParam = {\n        primaryKeyField: \"ngoodsincode\",\n        sreportlink: this.props.Login.reportSettings[15],\n        smrttemplatelink: this.props.Login.reportSettings[16],\n        nreporttypecode: REPORTTYPE.CONTROLBASED,\n        ncontrolcode: downloadGoodsIn,\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        ngoodsincode: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        ngoodsincode_componentcode: REPORTTYPE.CONTROLBASED,\n        ngoodsincode_componentname: 'Number',\n        ntranscode: this.props.Login.masterData.selectedGoodsIn.ntransactionstatus,\n        userinfo: this.props.Login.userInfo\n      };\n      this.props.generateControlBasedReport(inputParam); //  }else{\n      //     toast.warn( this.props.intl.formatMessage({ id: \"IDS_SELECTDOENLOADRECEIVEAPPROVE\" }));\n      // }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.screenName === \"IDS_GOODSIN\") {\n        if (this.state.selectedRecord[\"nnoofpackages\"] <= 0) {\n          return toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\"\n          }));\n        }\n\n        let postParam = undefined;\n        let dataState = undefined;\n        let inputData = [];\n        inputData[\"goodsin\"] = {};\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n        let fromDate = obj.fromDate;\n        let toDate = obj.toDate;\n        inputData[\"fromDate\"] = fromDate;\n        inputData[\"toDate\"] = toDate;\n\n        if (this.props.Login.operation === \"update\") {\n          postParam = {\n            inputListName: \"GoodsIn\",\n            selectedObject: \"selectedGoodsIn\",\n            primaryKeyField: \"ngoodsincode\"\n          };\n          postParam[\"primaryKeyValue\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n          inputData[\"goodsin\"][\"ngoodsincode\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n        }\n\n        inputData[\"goodsin\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;\n        inputData[\"goodsin\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value : -1;\n        inputData[\"goodsin\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value : -1;\n        inputData[\"goodsin\"][\"nprojectmastercode\"] = this.state.selectedRecord[\"nprojectmastercode\"] ? this.state.selectedRecord[\"nprojectmastercode\"].value : -1;\n        inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value : -1;\n        inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\n        inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] : transactionStatus.NO;\n        inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] ? this.state.selectedRecord[\"sconsignmentno\"] : \"\";\n        inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] ? this.state.selectedRecord[\"ssecurityrefno\"] : \"\";\n        inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] ? this.state.selectedRecord[\"scomments\"] : \"\";\n        inputData[\"goodsin\"][\"dgoodsindatetime\"] = formatInputDate(this.state.selectedRecord[\"dgoodsindatetime\"], false); //inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\n\n        const inputParam = {\n          classUrl: this.props.Login.inputParam.classUrl,\n          methodUrl: \"GoodsIn\",\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: inputData,\n          selectedId: this.state.selectedRecord[\"ngoodsincode\"],\n          operation: this.props.Login.operation,\n          saveType,\n          formRef,\n          dataState,\n          searchRef: this.searchRef,\n          postParam: postParam\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.Login.masterData\n              },\n              openModal: true,\n              screenName: \"IDS_GOODSIN\",\n              operation: this.props.Login.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      } else if (this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"create\") {\n        this.insertGoodsInSample();\n      } else if (this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"import\") {\n        this.importGoodsInSample();\n      }\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteGoodsIn(\"delete\", deleteId));\n    };\n\n    this.DeleteGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      inputData[\"fromDate\"] = fromDate;\n      inputData[\"toDate\"] = toDate;\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.receiveGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"receive\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.approveGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"approve\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.openSampleGoodsIn = () => {\n      const addSampleId = this.state.controlMap.has(\"AddSampleGoodsIn\") ? this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode : -1;\n      const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\n\n      if (Status === transactionStatus.APPROVED) {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECEIVERECORD\"\n        }));\n      } else {\n        this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\", \"create\", this.props.Login.masterData, this.state.selectedRecord, this.props.Login.userInfo, addSampleId);\n      }\n    };\n\n    this.addSampleGoodsIn = (ScreenName, operation, masterData, selectedRecord, userInfo, controlCode, importData) => {\n      let data = [];\n      const withoutCombocomponent = [];\n      let mandatorySampleFields = [];\n      const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata;\n\n      if (Layout !== undefined && Layout !== null) {\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.hasOwnProperty(\"children\")) {\n                component.children.map(componentrow => {\n                  if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\" || componentrow.inputtype === \"frontendsearchfilter\") {\n                    data.push(componentrow);\n                  } else {\n                    withoutCombocomponent.push(componentrow);\n                  }\n\n                  if (componentrow.mandatory === true) {\n                    mandatorySampleFields.push({\n                      \"mandatory\": true,\n                      \"idsName\": componentrow.label,\n                      \"dataField\": componentrow.label,\n                      \"mandatoryLabel\": componentrow.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                      \"controlType\": componentrow.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                    });\n                  }\n                });\n              } else {\n                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\" || component.inputtype === \"frontendsearchfilter\" ? data.push(component) : withoutCombocomponent.push(component);\n\n                if (component.mandatory === true) {\n                  mandatorySampleFields.push({\n                    \"mandatory\": true,\n                    \"idsName\": component.label,\n                    \"dataField\": component.label,\n                    \"mandatoryLabel\": component.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                    \"controlType\": component.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                  });\n                }\n              }\n            });\n            this.setState({\n              mandatorySampleFields: mandatorySampleFields\n            });\n          });\n        });\n        const comboComponents = data;\n        let childColumnList = {};\n        data.map(columnList => {\n          const val = comboChild(data, columnList, childColumnList, true);\n          data = val.data;\n          childColumnList = val.childColumnList;\n          return null;\n        });\n        const mapOfFilterRegData = {\n          nsampletypecode: parseInt(SampleType.GOODSIN)\n        };\n        this.props.getPreviewTemplate(masterData, userInfo, controlCode, data, selectedRecord, childColumnList, comboComponents, withoutCombocomponent, false, true, mapOfFilterRegData, false, operation, ScreenName, importData);\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_CONFIGUREGOODSINTEMPLATE\"\n        }));\n      }\n    };\n\n    this.ImportFile = () => {\n      const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\n      let updateInfo = {};\n\n      if (Status === transactionStatus.APPROVED) {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECEIVERECORD\"\n        }));\n      } else {\n        updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal: true,\n            operation: \"import\",\n            screenName: \"IDS_GOODSINSAMPLE\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.onDropSampleFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\"\n      });\n    };\n\n    this.DeleteGoodsInSample = deleteParam => {\n      let inputData = [];\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      inputData[\"fromDate\"] = fromDate;\n      inputData[\"toDate\"] = toDate;\n      inputData[\"ngoodsincode\"] = deleteParam.selectedRecord.ngoodsincode;\n      inputData[\"ngoodsinsamplecode\"] = deleteParam.selectedRecord.ngoodsinsamplecode;\n      inputData[\"ndesigntemplatemappingcode\"] = deleteParam.selectedRecord.ndesigntemplatemappingcode;\n      inputData[\"ntransactionstatus\"] = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsInSample\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSINSAMPLE\",\n            operation: deleteParam.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.insertGoodsInSample = () => {\n      let Map = {};\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      Map[\"fromDate\"] = fromDate;\n      Map[\"toDate\"] = toDate;\n      Map[\"ngoodsincode\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n      Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\n      const param = this.goodsInSample(this.props.Login.masterData, this.state.selectedRecord, this.props.Login.masterData.DesignTemplateMapping[0].jsondata, this.props.Login.userInfo, this.props.Login.defaultTimeZone, 'create', this.props.Login.comboComponents);\n      Map[\"GoodsInSample\"] = param.GoodsInSample;\n      Map[\"DateList\"] = param.dateList;\n      Map[\"userinfo\"] = this.props.Login.userInfo;\n      Map[\"combinationunique\"] = this.state.DynamicCombinationUnique;\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"GoodsInSample\",\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: Map,\n        selectedId: this.state.selectedRecord[\"ngoodsinsamplecode\"],\n        operation: 'create',\n        searchRef: this.searchRef\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: \"IDS_GOODSIN\"\n            }),\n            operation: 'create'\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.goodsInSample = (masterData, selectedRecord, templateList, userInfo, defaulttimeZone, operation, comboComponents) => {\n      let GoodsInSample = {};\n      let dateList = [];\n      GoodsInSample[\"ngoodsincode\"] = masterData.selectedGoodsIn.ngoodsincode;\n      GoodsInSample[\"ndesigntemplatemappingcode\"] = masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\n      GoodsInSample[\"nunitcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']].value : -1;\n      GoodsInSample[\"nquantity\"] = selectedRecord[\"Quantity\"];\n      GoodsInSample[\"sexternalsampleid\"] = selectedRecord[\"External Sample Id\"];\n      GoodsInSample[\"scomments\"] = selectedRecord[\"Comments\"];\n      GoodsInSample[\"jsondata\"] = {};\n      GoodsInSample[\"jsonuidata\"] = {};\n      templateList && templateList.map(row => {\n        return row.children.map(column => {\n          return column.children.map(component => {\n            if (component.hasOwnProperty(\"children\")) {\n              return component.children.map(componentrow => {\n                if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\n                  if (componentrow.inputtype === \"predefineddropdown\") {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                      value: selectedRecord[componentrow.label].value,\n                      label: selectedRecord[componentrow.label].label\n                    } : -1;\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n                  } else {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                      value: selectedRecord[componentrow.label].value,\n                      label: selectedRecord[componentrow.label].label,\n                      pkey: componentrow.valuemember,\n                      nquerybuildertablecode: componentrow.nquerybuildertablecode,\n                      source: componentrow.source,\n                      [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ? selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label].vale\n                    } : -1;\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n                  }\n                } else if (componentrow.inputtype === \"date\") {\n                  if (componentrow.mandatory) {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                  } else {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : \"\";\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                  }\n\n                  if (componentrow.timezone) {\n                    GoodsInSample[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ? {\n                      value: selectedRecord[`tz${componentrow.label}`].value,\n                      label: selectedRecord[`tz${componentrow.label}`].label\n                    } : defaulttimeZone ? defaulttimeZone : -1;\n                    GoodsInSample[\"jsonuidata\"][`tz${componentrow.label}`] = GoodsInSample[\"jsondata\"][`tz${componentrow.label}`];\n                  }\n\n                  dateList.push(componentrow.label);\n                } else {\n                  GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                  GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                }\n              });\n              return GoodsInSample;\n            } else {\n              if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\n                if (component.inputtype === \"predefineddropdown\") {\n                  GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n                    value: selectedRecord[component.label].value,\n                    label: selectedRecord[component.label].label\n                  } : -1;\n                  GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n                } else {\n                  GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n                    value: selectedRecord[component.label].value,\n                    label: selectedRecord[component.label].label,\n                    pkey: component.valuemember,\n                    nquerybuildertablecode: component.nquerybuildertablecode,\n                    source: component.source,\n                    [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ? selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label].vale\n                  } : -1;\n                  GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n                }\n              } else if (component.inputtype === \"date\") {\n                if (component.mandatory) {\n                  console.log(typeof selectedRecord[component.label] === \"object\");\n                  GoodsInSample[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n                  GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n                } else {\n                  GoodsInSample[\"jsondata\"][component.label] = component.loadcurrentdate ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : \"\";\n                  GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n                }\n\n                if (component.timezone) {\n                  GoodsInSample[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ? {\n                    value: selectedRecord[`tz${component.label}`].value,\n                    label: selectedRecord[`tz${component.label}`].label\n                  } : defaulttimeZone ? defaulttimeZone : -1;\n                  GoodsInSample[\"jsonuidata\"][`tz${component.label}`] = GoodsInSample[\"jsondata\"][`tz${component.label}`];\n                }\n\n                dateList.push(component.label);\n              } else {\n                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n              }\n\n              return GoodsInSample;\n            }\n          });\n        });\n      });\n      const param = {\n        GoodsInSample,\n        dateList\n      };\n      return param;\n    };\n\n    this.importGoodsInSample = () => {\n      const formData = new FormData();\n      const selectedRecord = this.state.selectedRecord;\n      const acceptedFiles = selectedRecord.stemplatefilename;\n      let comboComponents = [];\n      let data = [];\n      const withoutCombocomponent = [];\n      let mandatory = [];\n      let mandatoryImportFields = {};\n      const exportFieldProperties = [];\n\n      if (acceptedFiles && acceptedFiles.length === 1) {\n        acceptedFiles.forEach((file, index) => {\n          formData.append(\"uploadedFile\", file);\n        });\n        const dateList = [];\n        this.state.DynamicDateField.map(x => {\n          dateList.push(x['2']);\n        });\n        const exportList = [];\n        this.state.DynamicExportfields.map(x => {\n          exportList.push(x['2']);\n        });\n        const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata;\n\n        if (Layout !== undefined) {\n          Layout.map(row => {\n            row.children.map(column => {\n              column.children.map(component => {\n                if (component.hasOwnProperty(\"children\")) {\n                  component.children.map(componentrow => {\n                    if (exportList.length > 0) {\n                      exportFieldProperties.push(componentrow);\n                    }\n\n                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\" || componentrow.inputtype === \"frontendsearchfilter\") {\n                      data.push(componentrow);\n                    } else {\n                      withoutCombocomponent.push(componentrow);\n                    }\n\n                    if (componentrow.mandatory === true) {\n                      mandatory.push({\n                        \"mandatory\": true,\n                        \"idsName\": componentrow.label,\n                        \"dataField\": componentrow.label,\n                        \"mandatoryLabel\": componentrow.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                        \"controlType\": componentrow.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                      });\n                    }\n                  });\n                } else {\n                  if (exportList.length > 0) {\n                    exportFieldProperties.push(component);\n                  }\n\n                  component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\" || component.inputtype === \"frontendsearchfilter\" ? data.push(component) : withoutCombocomponent.push(component);\n\n                  if (component.mandatory === true) {\n                    mandatory.push({\n                      \"mandatory\": true,\n                      \"idsName\": component.label,\n                      \"dataField\": component.label,\n                      \"mandatoryLabel\": component.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                      \"controlType\": component.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                    });\n                  }\n                }\n              });\n            });\n          });\n          comboComponents = data;\n        }\n\n        mandatory.map(x => {\n          mandatoryImportFields[x.dataField] = x.mandatory;\n        });\n        formData.append('mandatoryFields', Lims_JSON_stringify(JSON.stringify(mandatoryImportFields), false));\n        formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(comboComponents), false));\n        formData.append('dateconstraints', Lims_JSON_stringify(JSON.stringify(this.state.DynamicDateConstraints), false));\n        formData.append('datelist', Lims_JSON_stringify(JSON.stringify(dateList), false));\n        formData.append('exportFields', Lims_JSON_stringify(JSON.stringify(exportList), false));\n        formData.append('exportFieldProperties', Lims_JSON_stringify(JSON.stringify(exportFieldProperties), false));\n        formData.append('combinationunique', Lims_JSON_stringify(JSON.stringify(this.state.DynamicCombinationUnique), false));\n        formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.ndesigntemplatemappingcode);\n        formData.append(\"ngoodsincode\", this.props.Login.masterData.selectedGoodsIn.ngoodsincode);\n        formData.append(\"ntransactionstatus\", this.props.Login.masterData.selectedGoodsIn.ntransactionstatus);\n        const inputParam = {\n          classUrl: this.props.Login.inputParam.classUrl,\n          methodUrl: \"GoodsInSample\",\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: {\n            userinfo: this.props.Login.userInfo\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: this.props.Login.operation\n        }; //ALPD 3415\n        // const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\n        // if (esignNeeded) {\n        //     const updateInfo = {\n        //         typeName: DEFAULT_RETURN,\n        //         data: {\n        //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\n        //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSINSAMPLE\" }),\n        //             operation: this.props.Login.operation,\n        //         },\n        //     }\n        //     this.props.updateStore(updateInfo);\n        // }\n        // else {\n\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\"); // }                                                                                                                                                                                                                \n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PLEASESELECTTHEFILE\"\n        }));\n      }\n    };\n\n    this.insertGoodsInChecklist = () => {\n      let inputData = [];\n      inputData[\"ngoodsincode\"] = this.state.selectedRecord.ngoodsincode;\n      inputData[\"ndesigntemplatemappingcode\"] = parseInt(this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode);\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"GoodsInChecklist\",\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: inputData,\n        operation: this.props.Login.operation,\n        selectedRecord: this.state.selectedRecord\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            openTemplateModal: true,\n            screenName: \"IDS_GOODSINCHECKLIST\",\n            operation: this.props.Login.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.onSaveGoodsInCheckList(inputParam);\n      }\n    };\n\n    this.searchRef = React.createRef();\n    this.formRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    this.state = {\n      dataState: {\n        skip: 0,\n        take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n      },\n      sampleGridDataState: {\n        skip: 0,\n        take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n      },\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      filterGoodsInParam: {},\n      operation: \"\",\n      firstPane: 0,\n      paneHeight: 0,\n      secondPaneHeight: 0,\n      tabPane: 0,\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      splitChangeWidthPercentage: 28.6,\n      goodsinSearchField: [],\n      propertyPopupWidth: \"60\",\n      data: [],\n      mandatorySampleFields: []\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\n      toast.warn(props.intl.formatMessage({\n        id: props.Login.multilingualMsg\n      }));\n      props.Login.multilingualMsg = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Rendering the component only if \n    // passed props value is changed\n    if (nextState.data.length > 0 && nextState.data === this.state.data) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    let obj = convertDateValuetoString(this.props.Login.masterData.realfromDate, this.props.Login.masterData.realtoDate, this.props.Login.userInfo);\n    let fromDate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\n    let toDate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\n    const addId = this.state.controlMap.has(\"AddGoodsIn\") ? this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode : -1;\n    const editId = this.state.controlMap.has(\"EditGoodsIn\") ? this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode : -1;\n    const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") ? this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode : -1;\n    const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") ? this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode : -1;\n    const approveId = this.state.controlMap.has(\"ApproveGoodsIn\") ? this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode : -1;\n    const checklistId = this.state.controlMap.has(\"ChecklistGoodsIn\") ? this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode : -1;\n    const downloadGoodsIn = this.state.controlMap.has(\"DownloadGoodsIn\") ? this.state.controlMap.get(\"DownloadGoodsIn\").ncontrolcode : -1;\n    const deleteSampleId = this.state.controlMap.has(\"DeleteSampleGoodsIn\") ? this.state.controlMap.get(\"DeleteSampleGoodsIn\").ncontrolcode : -1;\n    const goodsinAddParam = {\n      screenName: \"IDS_GOODSIN\",\n      operation: \"create\",\n      primaryKeyField: \"ngoodsincode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: addId\n    };\n    const goodsinEditParam = {\n      screenName: \"IDS_GOODSIN\",\n      operation: \"update\",\n      primaryKeyField: \"ngoodsincode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: editId,\n      masterData: this.props.Login.masterData\n    };\n    const goodsinDeleteSampleParam = {\n      screenName: \"IDS_GOODSINSAMPLE\",\n      methodUrl: \"GoodsIn\",\n      operation: \"delete\",\n      ncontrolCode: deleteSampleId\n    };\n    const filterParam = {\n      inputListName: \"GoodsIn\",\n      selectedObject: \"selectedGoodsIn\",\n      primaryKeyField: \"ngoodsincode\",\n      fetchUrl: \"goodsin/getActiveGoodsInById\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"sgoodsinid1\", \"sclientname\", \"sprojectname\", \"scouriername\", \"nnoofpackages\", \"sconsignmentno\", \"sgoodsindatetime\", \"ssecurityrefno\", \"scomments\", \"stransdisplaystatus\"]\n    };\n    const viewInfoFields = [];\n    viewInfoFields.push({\n      \"fieldName\": \"sclientcatname\",\n      \"label\": \"IDS_CLIENTCATEGORY\"\n    }, {\n      \"fieldName\": \"sclientname\",\n      \"label\": \"IDS_CLIENT\"\n    }, {\n      \"fieldName\": \"sprojecttypename\",\n      \"label\": \"IDS_PROJECTTYPE\"\n    }, {\n      \"fieldName\": \"sprojectname\",\n      \"label\": \"IDS_PROJECT\"\n    }, {\n      \"fieldName\": \"scouriername\",\n      \"label\": \"IDS_COURIERCARRIER\"\n    }, {\n      \"fieldName\": \"nnoofpackages\",\n      \"label\": \"IDS_NOOFPACKAGES\"\n    }, {\n      \"fieldName\": \"sconsignmentno\",\n      \"label\": \"IDS_CONSIGNMENTNO\"\n    }, {\n      \"fieldName\": \"sgoodsindatetime\",\n      \"label\": \"IDS_GOODSINDATE\"\n    }, {\n      \"fieldName\": \"sviewstatus\",\n      \"label\": \"IDS_OUTOFHOURS\"\n    }, {\n      \"fieldName\": \"ssecurityrefno\",\n      \"label\": \"IDS_SECURITYREFNO\"\n    }, {\n      \"fieldName\": \"scomments\",\n      \"label\": \"IDS_COMMENTS\"\n    });\n    let breadCrumbData = [];\n    breadCrumbData = [{\n      \"label\": \"IDS_FROM\",\n      \"value\": obj.breadCrumbFrom\n    }, {\n      \"label\": \"IDS_TO\",\n      \"value\": obj.breadCrumbto\n    }];\n    let mandatoryFields = [];\n\n    if (this.props.Login.screenName === \"IDS_GOODSIN\") {\n      mandatoryFields.push({\n        \"idsName\": \"IDS_CLIENTCATEGORY\",\n        \"dataField\": \"nclientcatcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CLIENT\",\n        \"dataField\": \"nclientcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_NOOFPACKAGES\",\n        \"dataField\": \"nnoofpackages\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_GOODSINDATE\",\n        \"dataField\": \"dgoodsindatetime\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n\n      if (this.props.Login.userInfo.istimezoneshow === transactionStatus.YES) {\n        mandatoryFields.push({\n          \"idsName\": \"IDS_TIMEZONE\",\n          \"dataField\": \"ntzgoodsindate\",\n          \"mandatoryLabel\": \"IDS_SELECT\",\n          \"controlType\": \"selectbox\"\n        });\n      }\n\n      if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\n        mandatoryFields.push({\n          \"idsName\": \"IDS_SECURITYREFNO\",\n          \"dataField\": \"ssecurityrefno\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"controlType\": \"textbox\"\n        });\n      }\n    }\n\n    let userStatusCSS = \"\";\n    let activeIconCSS = \"fa fa-check\";\n\n    if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.DRAFT) {\n      userStatusCSS = \"outline-secondary\";\n      activeIconCSS = \"\";\n    } else if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED) {\n      userStatusCSS = \"outline-success\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"IDS_GOODSIN\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsIn //masterList={this.props.Login.masterData.searchedData}\n      ,\n      getMasterDetail: GoodsIn => this.props.getGoodsInDetail(GoodsIn, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedGoodsIn,\n      primaryKeyField: \"ngoodsincode\",\n      mainField: \"sgoodsinid1\",\n      firstField: \"sclientcatname\",\n      secondField: \"sclientname\",\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openModal: () => this.props.getGoodsInComboService(goodsinAddParam),\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      filterComponent: [{\n        \"IDS_GOODSINFILTER\": /*#__PURE__*/React.createElement(GoodsInFilter, {\n          fromDate: fromDate,\n          toDate: toDate,\n          handleFilterDateChange: this.handleFilterDateChange,\n          userInfo: this.props.Login.userInfo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.GoodsIn && this.props.Login.masterData.GoodsIn.length > 0 && this.props.Login.masterData.selectedGoodsIn ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.selectedGoodsIn.sgoodsinid1), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${userStatusCSS} btn-sm`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: activeIconCSS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 65\n      }\n    }), this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      onClick: e => this.props.getGoodsInComboService(goodsinEditParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(receiveId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_RECEIVE\"\n      }),\n      onClick: () => this.receiveGoodsIn(\"receive\", receiveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(ReceiveGoods, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      onClick: () => this.approveGoodsIn(\"approve\", approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_VIEWINFO\"\n      }),\n      onClick: () => this.props.viewInformation(this.props.Login.masterData.selectedGoodsIn.ngoodsincode, this.props.Login.userInfo, this.props.Login.masterData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEye,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(checklistId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_CHECKLIST\"\n      }),\n      onClick: () => this.props.checkListGoodsIn(this.props.Login.masterData, this.props.Login.masterData.selectedGoodsIn, this.state.Checklist, checklistId, this.props.Login.userInfo),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faListAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(downloadGoodsIn) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DOWNLOADFILE\"\n      }) //onClick={() => this.props.downloadGoodsIn()}>\n      ,\n      onClick: () => this.props.generateControlBasedReport(downloadGoodsIn, this.props.Login.masterData.selectedGoodsIn, this.props.Login, \"ngoodsincode\", this.props.Login.masterData.selectedGoodsIn.ngoodsincode),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCloudDownloadAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 62\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid, {\n      primaryKeyField: \"ngoodsinsamplecode\",\n      data: this.props.Login.masterData.GoodsInSample || [],\n      dataResult: process(this.props.Login.masterData.GoodsInSample || [], this.state.sampleGridDataState),\n      dataState: this.state.sampleGridDataState,\n      dataStateChange: this.sampleInfoDataStateChange,\n      extractedColumnList: this.gridfillingColumn(this.state.DynamicGridItem) || [],\n      detailedFieldList: this.gridfillingColumn(this.state.DynamicGridMoreField) || [],\n      exportFieldList: this.gridfillingColumn(this.state.DynamicExportItem) || [],\n      userInfo: this.props.Login.userInfo,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      inputParam: this.props.Login.inputParam //editParam={goodsinSampleEditParam}\n      //fetchRecord={this.editSampleGoodsIn}\n      ,\n      deleteRecord: this.DeleteGoodsInSample,\n      deleteParam: goodsinDeleteSampleParam,\n      methodUrl: \"SampleGoodsIn\",\n      pageable: true,\n      isComponent: false,\n      hasDynamicColSize: true,\n      isActionRequired: true,\n      isToolBarRequired: true,\n      isAddRequired: true,\n      addRecord: this.openSampleGoodsIn,\n      isRefreshRequired: false,\n      isImportRequired: true,\n      isDownloadPDFRequired: false,\n      isDownloadExcelRequired: false,\n      import: this.ImportFile,\n      scrollable: 'scrollable',\n      gridHeight: '600px',\n      expandField: \"expanded\",\n      screenName: \"Goods In Sample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 53\n      }\n    }))) : \"\")))))), this.props.Login.openModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign // masterStatus={this.props.Login.masterStatus}\n      ,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      noSave: this.props.Login.operation === \"view\" ? true : false,\n      mandatoryFields: this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"create\" ? this.state.mandatorySampleFields : mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSIN\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? /*#__PURE__*/React.createElement(AddGoodsIn, {\n        onNumericInputOnChange: this.onNumericInputOnChange,\n        onInputOnChange: this.onInputOnChange,\n        handleDateChange: this.handleDateChange,\n        onComboChange: this.onComboChange,\n        formatMessage: this.props.intl.formatMessage,\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        ClientCategory: this.props.Login.ClientCategory,\n        Client: this.props.Login.Client,\n        ProjectType: this.props.Login.ProjectType,\n        Courier: this.props.Login.Courier,\n        Project: this.props.Login.Project,\n        TimeZone: this.props.Login.TimeZone,\n        selectedRecord: this.state.selectedRecord || {},\n        currentTime: this.props.Login.currentTime || [],\n        userInfo: this.props.Login.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSIN\" && this.props.Login.operation === \"view\" ? /*#__PURE__*/React.createElement(GoodsInView, {\n        userInfo: this.props.Login.userInfo,\n        selectedRecordView: this.props.Login.masterData.selectedRecordView,\n        viewInfoFields: viewInfoFields || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"create\" ? /*#__PURE__*/React.createElement(DynamicSlideout, {\n        selectedRecord: this.props.Login.selectedRecord,\n        templateData: this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata,\n        handleDateChange: this.dynamicHandleDateChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputOnChange,\n        comboData: this.props.Login.comboData,\n        onComboChange: this.onDynamicComboChange,\n        onDropFile: this.onDropFile,\n        deleteAttachment: this.deleteAttachment,\n        onNumericBlur: this.onNumericBlur,\n        userInfo: this.props.Login.userInfo,\n        timeZoneList: this.props.Login.timeZoneList,\n        defaultTimeZone: this.props.Login.defaultTimeZone,\n        Login: this.props.Login,\n        addMasterRecord: this.addMasterRecord,\n        editMasterRecord: this.editMasterRecord,\n        userRoleControlRights: this.props.Login.userRoleControlRights,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 37\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"import\" ? /*#__PURE__*/React.createElement(AddFile, {\n        selectedRecord: this.state.selectedRecord || {},\n        onDrop: this.onDropSampleFile,\n        deleteAttachment: this.deleteAttachment,\n        actionType: this.state.actionType,\n        operation: this.props.Login.operation,\n        screenName: this.props.Login.screenName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 33\n        }\n      }) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 21\n      }\n    }) : this.props.Login.screenName === \"IDS_GOODSINCHECKLIST\" && this.props.Login.operation === \"checklist\" ? /*#__PURE__*/React.createElement(GoodsInChecklist, {\n      templateData: this.props.Login.masterData.ChecklistData,\n      needSaveButton: this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED ? true : false,\n      formRef: this.formRef,\n      onTemplateInputChange: this.onTemplateInputChange,\n      handleClose: this.closeModal,\n      onTemplateComboChange: this.onTemplateComboChange,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.insertGoodsInChecklist,\n      Login: this.props.Login,\n      viewScreen: this.props.Login.openTemplateModal,\n      selectedGoodsIn: this.props.Login.masterData.selectedGoodsIn,\n      selectedRecord: this.state.selectedRecord || [],\n      onTemplateDateChange: this.onTemplateDateChange,\n      needValidation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  componentWillUnmount() {\n    let activeTabIndex = this.props.Login.activeTabIndex;\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n  gridfillingColumn(data) {\n    const temparray = data && data.map(option => {\n      return {\n        \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode] || \"-\",\n        \"dataField\": option[designProperties.VALUE],\n        \"width\": \"200px\",\n        \"columnSize\": \"3\",\n        \"dataType\": option[designProperties.LISTITEM]\n      };\n    });\n    return temparray;\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      userRoleControlRights,\n      controlMap,\n      selectedRecord,\n      skip,\n      take,\n      masterData,\n      sampleGridDataState,\n      DynamicGridItem,\n      DynamicGridMoreField,\n      DynamicExportItem,\n      DynamicDateField,\n      DynamicTemplateField,\n      DynamicDateConstraints,\n      DynamicCombinationUnique,\n      Checklist,\n      DynamicExportfields\n    } = this.state;\n    let bool = false;\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        bool = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = this.props.Login.selectedRecord;\n      bool = true;\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip;\n      take = this.props.Login.take || take;\n    }\n\n    if (this.props.Login.sampleGridDataState && this.props.Login.sampleGridDataState !== previousProps.Login.sampleGridDataState) {\n      sampleGridDataState = this.props.Login.sampleGridDataState;\n    }\n\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata && this.props.Login.masterData.DynamicDesign.jsondata.value);\n\n      if (dynamicColumn !== null) {\n        DynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\n        DynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\n        DynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\n        DynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\n        DynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\n        DynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\n        DynamicCombinationUnique = dynamicColumn.combinationunique ? dynamicColumn.combinationunique : [];\n        Checklist = dynamicColumn.checklist ? dynamicColumn.checklist : [];\n        DynamicExportfields = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\n      }\n    }\n\n    if (bool) {\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        selectedRecord,\n        skip,\n        take,\n        masterData,\n        sampleGridDataState,\n        DynamicGridItem,\n        DynamicGridMoreField,\n        DynamicExportItem,\n        DynamicDateField,\n        DynamicTemplateField,\n        DynamicDateConstraints,\n        DynamicCombinationUnique,\n        Checklist,\n        DynamicExportfields\n      });\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  getGoodsInFilterSubmit,\n  validateEsignCredential,\n  getGoodsInComboService,\n  getGoodsInDetail,\n  getClient,\n  getProjectType,\n  getProject,\n  filterColumnData,\n  getPreviewTemplate,\n  viewInformation,\n  checkListGoodsIn,\n  downloadGoodsIn,\n  onSaveGoodsInCheckList,\n  validateEsignGoodsIn,\n  generateControlBasedReport\n})(injectIntl(GoodsIn));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/goodsin/GoodsIn.jsx"],"names":["React","connect","injectIntl","FormattedMessage","BreadcrumbComponent","callService","crudMaster","updateStore","getGoodsInFilterSubmit","validateEsignCredential","getGoodsInComboService","getGoodsInDetail","getClient","getProjectType","getProject","filterColumnData","getPreviewTemplate","viewInformation","checkListGoodsIn","downloadGoodsIn","onSaveGoodsInCheckList","validateEsignGoodsIn","generateControlBasedReport","toast","convertDateValuetoString","rearrangeDateFormat","getControlMap","showEsign","formatInputDate","comboChild","convertDateTimetoStringDBFormat","onDropAttachFileList","deleteAttachmentDropZone","Lims_JSON_stringify","ListWrapper","DEFAULT_RETURN","Col","Row","Card","Nav","FormGroup","FormLabel","GoodsInFilter","ListMaster","AddGoodsIn","Esign","SlideOutModal","SampleType","designProperties","transactionStatus","ConfirmMessage","ContentPanel","ReadOnlyText","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","faListAlt","faCloudDownloadAlt","faEye","DynamicSlideout","DataGrid","process","AddFile","GoodsInView","GoodsInChecklist","templateChangeHandler","REPORTTYPE","Affix","mapStateToProps","state","Login","GoodsIn","Component","constructor","props","openFilter","showFilter","updateInfo","typeName","data","closeFilter","handleFilterDateChange","dateName","dateValue","masterData","setState","handleDateChange","selectedRecord","dynamicHandleDateChange","onTemplateInputChange","event","control","onTemplateComboChange","comboData","onTemplateDateChange","dateData","onFilterSubmit","obj","fromDate","toDate","userInfo","realfromDate","realtoDate","inputData","userinfo","inputParam","reloadData","searchRef","current","value","closeModal","loadEsign","openModal","screenName","operation","openTemplateModal","selectedId","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","screenData","onInputOnChange","target","type","name","checked","onComboChange","fieldName","nclientcatcode","nclientcode","nprojecttypecode","onDynamicComboChange","customName","comboName","valuemember","nquerybuildertablecode","source","onNumericInputOnChange","onNumericBlur","max","parseFloat","precision","parseInt","min","sampleInfoDataStateChange","dataResult","GoodsInSample","dataState","sampleGridDataState","generateControlBasedReportReport","primaryKeyField","sreportlink","reportSettings","smrttemplatelink","nreporttypecode","CONTROLBASED","ncontrolcode","primaryKeyValue","selectedGoodsIn","ngoodsincode","ngoodsincode_componentcode","ngoodsincode_componentname","ntranscode","ntransactionstatus","onSaveClick","saveType","formRef","warn","intl","formatMessage","id","postParam","undefined","inputListName","selectedObject","NO","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","ncontrolCode","insertGoodsInSample","importGoodsInSample","ConfirmDelete","deleteId","confirmMessage","confirm","DeleteGoodsIn","fetchUrl","fecthInputObject","receiveGoodsIn","approveGoodsIn","openSampleGoodsIn","addSampleId","controlMap","has","get","Status","APPROVED","info","addSampleGoodsIn","ScreenName","controlCode","importData","withoutCombocomponent","mandatorySampleFields","Layout","DesignTemplateMapping","jsondata","map","row","children","column","component","hasOwnProperty","componentrow","inputtype","push","mandatory","comboComponents","childColumnList","columnList","val","mapOfFilterRegData","nsampletypecode","GOODSIN","ImportFile","onDropSampleFile","attachedFiles","maxSize","actionType","deleteAttachment","file","DeleteGoodsInSample","deleteParam","ngoodsinsamplecode","ndesigntemplatemappingcode","Map","param","goodsInSample","defaultTimeZone","dateList","DynamicCombinationUnique","templateList","defaulttimeZone","findIndex","x","pkey","table","item","vale","Date","loadcurrentdate","timezone","console","log","formData","FormData","acceptedFiles","stemplatefilename","mandatoryImportFields","exportFieldProperties","length","forEach","index","append","DynamicDateField","exportList","DynamicExportfields","dataField","JSON","stringify","DynamicDateConstraints","isFileupload","insertGoodsInChecklist","createRef","skip","take","settings","masterStatus","error","filterGoodsInParam","firstPane","paneHeight","secondPaneHeight","tabPane","splitChangeWidthPercentage","goodsinSearchField","propertyPopupWidth","getDerivedStateFromProps","multilingualMsg","componentDidMount","parentHeight","height","clientHeight","shouldComponentUpdate","nextProps","nextState","render","addId","editId","receiveId","approveId","checklistId","deleteSampleId","goodsinAddParam","goodsinEditParam","goodsinDeleteSampleParam","filterParam","searchFieldList","viewInfoFields","breadCrumbData","breadCrumbFrom","breadCrumbto","mandatoryFields","istimezoneshow","YES","userStatusCSS","activeIconCSS","DRAFT","RECEIVED","sidebarview","searchedData","parentFunction","sgoodsinid1","stransdisplaystatus","indexOf","e","Checklist","gridfillingColumn","DynamicGridItem","DynamicGridMoreField","DynamicExportItem","ClientCategory","Client","ProjectType","Courier","Project","TimeZone","currentTime","selectedRecordView","onDropFile","timeZoneList","addMasterRecord","editMasterRecord","ChecklistData","componentWillUnmount","activeTabIndex","modalName","temparray","option","LABEL","slanguagetypecode","VALUE","LISTITEM","componentDidUpdate","previousProps","DynamicTemplateField","bool","Object","values","DynamicDesign","dynamicColumn","parse","griditem","gridmoreitem","exportFields","datefields","templatefields","dateconstraints","combinationunique","checklist"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl,FormattedMessage } from 'react-intl';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { callService,crudMaster,updateStore,getGoodsInFilterSubmit,validateEsignCredential,getGoodsInComboService,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,getPreviewTemplate,viewInformation,checkListGoodsIn,downloadGoodsIn,onSaveGoodsInCheckList,validateEsignGoodsIn,generateControlBasedReport  } from '../../actions';\r\nimport { toast } from 'react-toastify';\r\nimport { convertDateValuetoString, rearrangeDateFormat, getControlMap,showEsign,formatInputDate,comboChild,convertDateTimetoStringDBFormat,onDropAttachFileList,deleteAttachmentDropZone,Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {  Col, Row, Card, Nav,FormGroup,FormLabel } from 'react-bootstrap';\r\nimport GoodsInFilter from './GoodsInFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport AddGoodsIn  from './AddGoodsIn';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { SampleType, designProperties,transactionStatus } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { ContentPanel,ReadOnlyText } from '../../components/App.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt,faThumbsUp,faListAlt,faCloudDownloadAlt, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { ReactComponent as GoodsReceivedIcon } from '../../assets/image/goods-received.svg';\r\nimport { ReactComponent as DownloadGoods} from '../../assets/image/Download Goods.svg';\r\nimport AddFile from './AddFile';\r\nimport GoodsInView from './GoodsInView';\r\nimport GoodsInChecklist from './GoodsInChecklist';\r\nimport { templateChangeHandler } from '../checklist/checklist/checklistMethods';\r\nimport { REPORTTYPE } from '../../components/Enumeration';\r\nimport { ReactComponent as ReceiveGoods} from '../../assets/image/Receive Goods.svg';\r\nimport { Affix } from 'rsuite';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass GoodsIn extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.searchRef = React.createRef();    \r\n        this.formRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.state = {\r\n            dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            sampleGridDataState : {  skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            filterGoodsInParam: {},\r\n            operation: \"\",           \r\n            firstPane: 0,\r\n            paneHeight: 0,\r\n            secondPaneHeight: 0,\r\n            tabPane: 0,          \r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],           \r\n            splitChangeWidthPercentage: 28.6,\r\n            goodsinSearchField: [],           \r\n            propertyPopupWidth: \"60\",\r\n            data: [],\r\n            mandatorySampleFields:[]\r\n        \r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualMsg }));\r\n            props.Login.multilingualMsg = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        // Rendering the component only if \r\n        // passed props value is changed\r\n        if (nextState.data.length > 0 && nextState.data === this.state.data) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realfromDate, this.props.Login.masterData.realtoDate, this.props.Login.userInfo);\r\n\r\n        let fromDate=this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\r\n        let toDate=this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\r\n\r\n        const addId = this.state.controlMap.has(\"AddGoodsIn\") ? this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode : -1;\r\n        const editId = this.state.controlMap.has(\"EditGoodsIn\") ? this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode : -1;\r\n        const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") ? this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode : -1;\r\n        const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") ? this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode : -1;\r\n        const approveId = this.state.controlMap.has(\"ApproveGoodsIn\") ? this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode : -1;\r\n        const checklistId = this.state.controlMap.has(\"ChecklistGoodsIn\") ? this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode : -1;\r\n        const downloadGoodsIn = this.state.controlMap.has(\"DownloadGoodsIn\") ? this.state.controlMap.get(\"DownloadGoodsIn\").ncontrolcode : -1; \r\n        const deleteSampleId = this.state.controlMap.has(\"DeleteSampleGoodsIn\") ? this.state.controlMap.get(\"DeleteSampleGoodsIn\").ncontrolcode : -1; \r\n \r\n\r\n        const goodsinAddParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"create\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId\r\n        };\r\n\r\n        const goodsinEditParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"update\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: editId,masterData:this.props.Login.masterData\r\n            \r\n        };\r\n\r\n        const goodsinDeleteSampleParam = { \r\n            screenName: \"IDS_GOODSINSAMPLE\", methodUrl: \"GoodsIn\", operation: \"delete\", ncontrolCode: deleteSampleId };        \r\n\r\n        const filterParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\", primaryKeyField: \"ngoodsincode\",\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"sgoodsinid1\",\"sclientname\", \"sprojectname\", \"scouriername\",\"nnoofpackages\",\"sconsignmentno\",\"sgoodsindatetime\",\"ssecurityrefno\",\"scomments\" ,\"stransdisplaystatus\"]\r\n        };\r\n\r\n        const viewInfoFields=[];\r\n        viewInfoFields.push(\r\n            { \"fieldName\": \"sclientcatname\", \"label\": \"IDS_CLIENTCATEGORY\"},\r\n            { \"fieldName\": \"sclientname\", \"label\": \"IDS_CLIENT\"},\r\n            { \"fieldName\": \"sprojecttypename\", \"label\": \"IDS_PROJECTTYPE\"},\r\n            { \"fieldName\": \"sprojectname\", \"label\": \"IDS_PROJECT\"},\r\n            { \"fieldName\": \"scouriername\", \"label\": \"IDS_COURIERCARRIER\"},\r\n            { \"fieldName\": \"nnoofpackages\", \"label\": \"IDS_NOOFPACKAGES\"},\r\n            { \"fieldName\": \"sconsignmentno\", \"label\": \"IDS_CONSIGNMENTNO\"},\r\n            { \"fieldName\": \"sgoodsindatetime\", \"label\": \"IDS_GOODSINDATE\"},\r\n            { \"fieldName\": \"sviewstatus\", \"label\": \"IDS_OUTOFHOURS\"},\r\n            { \"fieldName\": \"ssecurityrefno\", \"label\": \"IDS_SECURITYREFNO\"},\r\n            { \"fieldName\": \"scomments\", \"label\": \"IDS_COMMENTS\"}\r\n        )                        \r\n                                           \r\n\r\n        let breadCrumbData = [];\r\n        breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            },\r\n            {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            }\r\n        ]; \r\n\r\n        let mandatoryFields = [];\r\n            if(this.props.Login.screenName===\"IDS_GOODSIN\"){\r\n                mandatoryFields.push(\r\n                    { \"idsName\": \"IDS_CLIENTCATEGORY\", \"dataField\": \"nclientcatcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_CLIENT\", \"dataField\": \"nclientcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_NOOFPACKAGES\", \"dataField\": \"nnoofpackages\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                    { \"idsName\": \"IDS_GOODSINDATE\", \"dataField\": \"dgoodsindatetime\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n    \r\n                )\r\n    \r\n                if(this.props.Login.userInfo.istimezoneshow === transactionStatus.YES){\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_TIMEZONE\", \"dataField\": \"ntzgoodsindate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n                }\r\n    \r\n                if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_SECURITYREFNO\", \"dataField\": \"ssecurityrefno\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"});\r\n                }\r\n            }\r\n           \r\n\r\n            let userStatusCSS = \"\";\r\n            let activeIconCSS = \"fa fa-check\";\r\n            if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.DRAFT) {\r\n                userStatusCSS = \"outline-secondary\";\r\n                activeIconCSS = \"\";\r\n            }\r\n            else if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED) {\r\n                userStatusCSS = \"outline-success\";\r\n            }\r\n            else {\r\n                userStatusCSS = \"outline-Final\";\r\n            }\r\n   \r\n\r\n        \r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    <Row noGutters={true} >\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"IDS_GOODSIN\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsIn}\r\n                                //masterList={this.props.Login.masterData.searchedData}\r\n                                getMasterDetail={(GoodsIn) => this.props.getGoodsInDetail(GoodsIn, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedGoodsIn}\r\n                                primaryKeyField=\"ngoodsincode\"\r\n                                mainField=\"sgoodsinid1\"\r\n                                firstField=\"sclientcatname\"\r\n                                secondField=\"sclientname\"\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openModal={() => this.props.getGoodsInComboService(goodsinAddParam)}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_GOODSINFILTER\":\r\n                                            <GoodsInFilter\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                                userInfo={this.props.Login.userInfo}\r\n\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.GoodsIn && this.props.Login.masterData.GoodsIn.length > 0 && this.props.Login.masterData.selectedGoodsIn ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedGoodsIn.sgoodsinid1}</Card.Title>\r\n                                                <Card.Subtitle>\r\n                                                    <div className=\"d-flex product-category\">\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                            <span className={`btn btn-outlined ${userStatusCSS} btn-sm`}>\r\n                                                                <i className={activeIconCSS}></i>\r\n                                                                {this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus}\r\n                                                            </span>\r\n                                                        </h2>\r\n                                                        <div className=\"d-inline \">\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            onClick={(e) => this.props.getGoodsInComboService(goodsinEditParam)} >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />                                                            \r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(receiveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RECEIVE\" })}\r\n                                                            onClick={() => this.receiveGoodsIn(\"receive\",receiveId)}>\r\n                                                            <ReceiveGoods/>\r\n                                                            {/* <GoodsReceivedIcon className=\"custom_icons\" width=\"20\" height=\"20\"\r\n                                                                            name=\"goodsreceivedicon\"/>                                                                                                                        */}\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                            onClick={() => this.approveGoodsIn(\"approve\",approveId)}>\r\n                                                            <FontAwesomeIcon icon={faThumbsUp} />                                                            \r\n                                                        </Nav.Link> \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEWINFO\" })}\r\n                                                            onClick={() => this.props.viewInformation(this.props.Login.masterData.selectedGoodsIn.ngoodsincode,this.props.Login.userInfo,this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faEye} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                             hidden={this.state.userRoleControlRights.indexOf(checklistId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CHECKLIST\" })}\r\n                                                            onClick={() => this.props.checkListGoodsIn(this.props.Login.masterData,this.props.Login.masterData.selectedGoodsIn,this.state.Checklist,checklistId,this.props.Login.userInfo)}>\r\n                                                            <FontAwesomeIcon icon={faListAlt} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                         <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(downloadGoodsIn) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADFILE\" })}\r\n                                                            //onClick={() => this.props.downloadGoodsIn()}>\r\n                                                            onClick={() =>this.props.generateControlBasedReport(downloadGoodsIn,this.props.Login.masterData.selectedGoodsIn,this.props.Login,\"ngoodsincode\",this.props.Login.masterData.selectedGoodsIn.ngoodsincode)}> \r\n                                                             <FontAwesomeIcon icon={faCloudDownloadAlt} /> \r\n                                                         </Nav.Link>                                              \r\n                                                        \r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>                                           \r\n                                                    <DataGrid\r\n                                                        primaryKeyField={\"ngoodsinsamplecode\"}\r\n                                                        data={this.props.Login.masterData.GoodsInSample ||[]}\r\n                                                        dataResult={process(this.props.Login.masterData.GoodsInSample ||[], this.state.sampleGridDataState)}\r\n                                                        dataState={this.state.sampleGridDataState}\r\n                                                        dataStateChange={this.sampleInfoDataStateChange}\r\n                                                        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n                                                        detailedFieldList={this.gridfillingColumn(this.state.DynamicGridMoreField) || []} \r\n                                                        exportFieldList={this.gridfillingColumn(this.state.DynamicExportItem) || []} \r\n                                                        userInfo={this.props.Login.userInfo}\r\n                                                        controlMap={this.state.controlMap}\r\n                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                        inputParam={this.props.Login.inputParam}\r\n                                                        //editParam={goodsinSampleEditParam}\r\n                                                        //fetchRecord={this.editSampleGoodsIn}\r\n                                                        deleteRecord = {this.DeleteGoodsInSample}\r\n                                                        deleteParam={goodsinDeleteSampleParam}\r\n                                                        methodUrl ={\"SampleGoodsIn\"}\r\n                                                        pageable={true}\r\n                                                        isComponent={false}\r\n                                                        hasDynamicColSize={true}\r\n                                                        isActionRequired={true}\r\n                                                        isToolBarRequired={true}\r\n                                                        isAddRequired={true}\r\n                                                        addRecord={this.openSampleGoodsIn}\r\n                                                        isRefreshRequired ={false}\r\n                                                        isImportRequired={true}\r\n                                                        isDownloadPDFRequired={false}\r\n                                                        isDownloadExcelRequired={false}\r\n                                                        import={this.ImportFile}\r\n                                                        scrollable={'scrollable'}\r\n                                                        gridHeight={'600px'}\r\n                                                        expandField=\"expanded\"\r\n                                                        screenName =\"Goods In Sample\"\r\n                                                    />\r\n\r\n                       \r\n\r\n                                                </Card.Body>\r\n\r\n                                            </Card>\r\n                                        :\"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>   \r\n\r\n                    </Row>\r\n                </ListWrapper>  \r\n                { this.props.Login.openModal ?\r\n                    <SlideOutModal \r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                       // masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        noSave={this.props.Login.operation === \"view\" ? true : false}\r\n                        mandatoryFields={this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\" ? this.state.mandatorySampleFields :  mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ? (\r\n                            <Esign \r\n                            operation={this.props.Login.operation}\r\n                            formatMessage={this.props.intl.formatMessage}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                        ) : this.props.Login.screenName ===  \"IDS_GOODSIN\"  && (this.props.Login.operation ===  \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <AddGoodsIn\r\n                                onNumericInputOnChange={this.onNumericInputOnChange}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                handleDateChange ={this.handleDateChange}\r\n                                onComboChange={this.onComboChange}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                ClientCategory ={this.props.Login.ClientCategory}\r\n                                Client={this.props.Login.Client}\r\n                                ProjectType={this.props.Login.ProjectType}\r\n                                Courier={this.props.Login.Courier}\r\n                                Project={this.props.Login.Project}\r\n                                TimeZone={this.props.Login.TimeZone}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                currentTime={this.props.Login.currentTime || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n    \r\n                            />\r\n                        ) : this.props.Login.screenName === \"IDS_GOODSIN\" && this.props.Login.operation ===\"view\" ? (\r\n                            <GoodsInView\r\n                                userInfo={this.props.Login.userInfo}\r\n                                selectedRecordView={this.props.Login.masterData.selectedRecordView}\r\n                                viewInfoFields={viewInfoFields|| []}\r\n                            />  \r\n\r\n                        ): this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\" ? (                                \r\n                                    <DynamicSlideout\r\n                                        selectedRecord={this.props.Login.selectedRecord}\r\n                                        templateData={this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping [0].jsondata}\r\n                                        handleDateChange={this.dynamicHandleDateChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputOnChange}\r\n                                        comboData={this.props.Login.comboData}\r\n                                        onComboChange={this.onDynamicComboChange}\r\n                                        onDropFile={this.onDropFile}\r\n                                        deleteAttachment={this.deleteAttachment}\r\n                                        onNumericBlur={this.onNumericBlur}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        timeZoneList={this.props.Login.timeZoneList}\r\n                                        defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                        Login={this.props.Login}\r\n                                        addMasterRecord={this.addMasterRecord}\r\n                                        editMasterRecord={this.editMasterRecord}\r\n                                        userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                                    ></DynamicSlideout>  \r\n                                                    \r\n                        ): this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"import\" ? (\r\n                                <AddFile\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onDrop={this.onDropSampleFile}\r\n                                    deleteAttachment={this.deleteAttachment}\r\n                                    actionType={this.state.actionType}\r\n                                    operation={this.props.Login.operation}    \r\n                                    screenName={this.props.Login.screenName}\r\n                               \r\n                                />\r\n                        ):( \"\" )\r\n                        \r\n                        \r\n                        }\r\n                    />\r\n                : \r\n                this.props.Login.screenName === \"IDS_GOODSINCHECKLIST\" && this.props.Login.operation ===\"checklist\" ? (\r\n                    <GoodsInChecklist\r\n                        templateData={this.props.Login.masterData.ChecklistData}\r\n                        needSaveButton={this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED ? true:false}\r\n                        formRef={this.formRef}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        handleClose={this.closeModal}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.insertGoodsInChecklist}\r\n                        Login={this.props.Login}\r\n                        viewScreen={this.props.Login.openTemplateModal}\r\n                        selectedGoodsIn ={this.props.Login.masterData.selectedGoodsIn}\r\n                        selectedRecord={this.state.selectedRecord || []}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                        needValidation={true}\r\n                    /> \r\n                ) :(\"\")\r\n                } \r\n                \r\n            </>\r\n        )\r\n    }\r\n    componentWillUnmount() {\r\n        let activeTabIndex=this.props.Login.activeTabIndex\r\n         const updateInfo = {\r\n             typeName: DEFAULT_RETURN,\r\n             data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n             }\r\n         }\r\n         this.props.updateStore(updateInfo);\r\n     }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleFilterDateChange = (dateName, dateValue) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[dateName] = dateValue;         \r\n        this.setState ({masterData});\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    dynamicHandleDateChange = (dateValue, dateName) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateInputChange = (event, control) => {\r\n        let selectedRecord = templateChangeHandler(1, this.state.selectedRecord, event, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateComboChange = (comboData, control) => {\r\n        let selectedRecord = templateChangeHandler(2, this.state.selectedRecord, comboData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateDateChange = (dateData, control) => {\r\n        let selectedRecord = templateChangeHandler(3, this.state.selectedRecord, dateData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterSubmit = () => {         \r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n\r\n        \r\n\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let screenName = this.props.Login.screenName;\r\n        let operation = this.props.Login.operation;\r\n        let openTemplateModal = this.props.Login.openTemplateModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"receive\" ||this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                openTemplateModal =false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                if(this.props.Login.operation === \"checklist\"){\r\n                    openModal = false;\r\n                }\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openTemplateModal =false;\r\n            selectedRecord = {};\r\n            screenName =\"\";\r\n            operation =\"\";\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,openTemplateModal, loadEsign, selectedRecord, selectedId: null ,screenName,operation}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        if(this.props.Login.operation === \"checklist\"){\r\n            this.props.validateEsignGoodsIn(inputParam, \"openModal\");\r\n\r\n        }else {\r\n            this.props.validateEsignCredential(inputParam, \"openModal\");\r\n        }\r\n        \r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }else if(event.target.name === \"noutofhours\"){\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\r\n            }\r\n        } \r\n        else {\r\n                if (event.target.value !== \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n           \r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if(fieldName === \"nclientcatcode\"){\r\n            selectedRecord[\"nclientcatcode\"] = comboData;\r\n            this.props.getClient(this.state.selectedRecord.nclientcatcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nclientcode\"){\r\n            selectedRecord[\"nclientcode\"] = comboData;\r\n            this.props.getProjectType(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nprojecttypecode\"){\r\n            selectedRecord[\"nprojecttypecode\"] = comboData;\r\n            if(comboData !==null){\r\n                this.props.getProject(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.state.selectedRecord.nprojecttypecode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n            }else {\r\n                delete selectedRecord[\"nprojecttypecode\"];\r\n                delete selectedRecord[\"nprojectmastercode\"];\r\n                this.setState({ selectedRecord });\r\n            }\r\n        }else if(fieldName === \"nprojectmastercode\"){\r\n            selectedRecord[\"nprojectmastercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }else if(fieldName === \"ncouriercode\"){\r\n            if(comboData !==null){\r\n                selectedRecord[\"ncouriercode\"] = comboData;\r\n            }else {\r\n                delete selectedRecord[\"ncouriercode\"];\r\n            }\r\n            //selectedRecord[\"ncouriercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onDynamicComboChange = (comboData, control, customName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let comboName = customName || control.label;\r\n        if (comboData) {\r\n            \r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], \"pkey\": control.valuemember,\r\n                \"nquerybuildertablecode\": control.nquerybuildertablecode, source: control.source\r\n            };\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = [];\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }   \r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onNumericBlur = (control) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        if (selectedRecord[control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedRecord[control.label] < parseFloat(control.max))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max)\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedRecord[control.label] > parseFloat(control.min))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min)\r\n                }\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    sampleInfoDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.GoodsInSample,event.dataState),\r\n            sampleGridDataState: event.dataState\r\n        });\r\n      \r\n    }\r\n\r\n//     onDownloadClick = (ncontrolCode) => {\r\n//         const inputParam = {\r\n\r\n//             inputData: {  \r\n//                 downloadGoodsIn,\r\n//                 selectedRecord :this.props.Login.masterData.selectedGoodsIn,\r\n//                 userinfo: this.props.Login.userInfo,\r\n//                 Login:this.props.Login,\r\n//                 ncontrolcode: ncontrolCode,\r\n//                 ngoodsincode:this.props.Login.masterData.selectedGoodsIn.ngoodsincode, \r\n//                 ngoodsincode_componentcode: 5,\r\n//                 ngoodsincode_componentname: 'Number'\r\n\r\n//             },\r\n//         }\r\n//         this.props.downloadGoodsIn(inputParam['inputData']);\r\n   \r\n// }\r\n\r\n\r\ngenerateControlBasedReportReport= (downloadGoodsIn) => {\r\n    //if(this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.RECEIVED  || this.props.Login.masterData.selectedGoodsIn.ntransactionstatus===transactionStatus.APPROVED ){\r\n       let inputParam={\r\n           primaryKeyField: \"ngoodsincode\",\r\n           sreportlink:this.props.Login.reportSettings[15],\r\n           smrttemplatelink:this.props.Login.reportSettings[16],\r\n           nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n           ncontrolcode:downloadGoodsIn,\r\n           primaryKeyValue:this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n           ngoodsincode:this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n           ngoodsincode_componentcode: REPORTTYPE.CONTROLBASED,\r\n           ngoodsincode_componentname: 'Number',\r\n           ntranscode:this.props.Login.masterData.selectedGoodsIn.ntransactionstatus,\r\n           userinfo: this.props.Login.userInfo\r\n\r\n       }\r\n       this.props.generateControlBasedReport(inputParam);\r\n   //  }else{\r\n   //     toast.warn( this.props.intl.formatMessage({ id: \"IDS_SELECTDOENLOADRECEIVEAPPROVE\" }));\r\n   // }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    gridfillingColumn(data) {\r\n        const temparray = data && data.map((option) => {\r\n            return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode] || \"-\", \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\", \"dataType\": option[designProperties.LISTITEM] };\r\n        });\r\n        return temparray;\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        if(this.props.Login.screenName ===  \"IDS_GOODSIN\"){\r\n            if(this.state.selectedRecord[\"nnoofpackages\"]<=0){\r\n                return (toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\" })));\r\n            }\r\n    \r\n            let postParam = undefined;\r\n            let dataState = undefined;\r\n            let inputData = [];\r\n            inputData[\"goodsin\"] = {};\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    \r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n            let fromDate = obj.fromDate;\r\n            let toDate = obj.toDate;\r\n            inputData[\"fromDate\"] = fromDate;\r\n            inputData[\"toDate\"] = toDate;\r\n    \r\n            if (this.props.Login.operation === \"update\") {\r\n                postParam = {\r\n                    inputListName: \"GoodsIn\",\r\n                    selectedObject: \"selectedGoodsIn\",\r\n                    primaryKeyField: \"ngoodsincode\",\r\n                };\r\n    \r\n                postParam[\"primaryKeyValue\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n                inputData[\"goodsin\"][\"ngoodsincode\"]= this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n            }\r\n            inputData[\"goodsin\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;              \r\n            inputData[\"goodsin\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojectmastercode\"] = this.state.selectedRecord[\"nprojectmastercode\"] ? this.state.selectedRecord[\"nprojectmastercode\"].value : -1;\r\n            inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value :-1;\r\n            inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\r\n            inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] :transactionStatus.NO;\r\n            inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] ? this.state.selectedRecord[\"sconsignmentno\"] : \"\";\r\n            inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] ? this.state.selectedRecord[\"ssecurityrefno\"] : \"\";\r\n            inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] ? this.state.selectedRecord[\"scomments\"] : \"\";\r\n            inputData[\"goodsin\"][\"dgoodsindatetime\"] =  formatInputDate(this.state.selectedRecord[\"dgoodsindatetime\"], false);\r\n                //inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\r\n    \r\n    \r\n            \r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsIn\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData,\r\n                selectedId: this.state.selectedRecord[\"ngoodsincode\"],\r\n                operation: this.props.Login.operation, saveType, formRef, dataState,\r\n                searchRef: this.searchRef,\r\n                postParam:postParam\r\n                    \r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName:  \"IDS_GOODSIN\",\r\n                        operation: this.props.Login.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        }else if(this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" && this.props.Login.operation ===\"create\"){\r\n            this.insertGoodsInSample();             \r\n        }else if(this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" && this.props.Login.operation === \"import\"){\r\n            this.importGoodsInSample();\r\n        }      \r\n    }\r\n   \r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.DeleteGoodsIn(\"delete\",deleteId));\r\n    }\r\n\r\n    DeleteGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    receiveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"receive\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    approveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"approve\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n     openSampleGoodsIn = () => {\r\n        const addSampleId = this.state.controlMap.has(\"AddSampleGoodsIn\") ? this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode : -1;\r\n        const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        if(Status === transactionStatus.APPROVED) {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECEIVERECORD\" }));\r\n        }else {\r\n            this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\", \"create\", this.props.Login.masterData,this.state.selectedRecord,this.props.Login.userInfo,addSampleId);\r\n        }\r\n\r\n     }\r\n\r\n     \r\n\r\n    addSampleGoodsIn = (ScreenName, operation, masterData,selectedRecord, userInfo, controlCode,importData) => {\r\n\r\n            let data = [];\r\n            const withoutCombocomponent = [];\r\n            let mandatorySampleFields = [];\r\n            const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n                && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n            if (Layout !== undefined && Layout !==null) {\r\n                Layout.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if(component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                        || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                        data.push(componentrow)\r\n                                    } else {\r\n                                        withoutCombocomponent.push(componentrow)\r\n                                    }\r\n                                    if(componentrow.mandatory=== true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": componentrow.label,\r\n                                            \"dataField\": componentrow.label,\r\n                                            \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }else {\r\n                                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                                  || component.inputtype === \"frontendsearchfilter\" ?\r\n                                     data.push(component) : withoutCombocomponent.push(component)\r\n                                    if(component.mandatory ===true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n\r\n                            }\r\n                        })\r\n                        this.setState({mandatorySampleFields:mandatorySampleFields});  \r\n                    })   \r\n\r\n                })\r\n                const comboComponents = data\r\n                let childColumnList = {};\r\n                data.map(columnList => {\r\n                    const val = comboChild(data, columnList, childColumnList, true);\r\n                    data = val.data;\r\n                    childColumnList = val.childColumnList\r\n                    return null;\r\n                })\r\n                const mapOfFilterRegData = {\r\n                    nsampletypecode: parseInt(SampleType.GOODSIN),\r\n\r\n                }  \r\n         \r\n                this.props.getPreviewTemplate(masterData, userInfo, controlCode,\r\n                    data, selectedRecord, childColumnList,comboComponents, withoutCombocomponent, false, true,\r\n                    mapOfFilterRegData, false, operation, ScreenName, importData)                \r\n            } else  {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_CONFIGUREGOODSINTEMPLATE\" }));\r\n            }\r\n        \r\n    }\r\n\r\n    ImportFile = () => {\r\n        const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        let updateInfo ={};\r\n        if(Status === transactionStatus.APPROVED ){\r\n             toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECEIVERECORD\" }));\r\n        }else {\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal:true,\r\n                    operation: \"import\",\r\n                    screenName : \"IDS_GOODSINSAMPLE\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);       \r\n        }\r\n\r\n    }\r\n    \r\n    onDropSampleFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(\r\n            selectedRecord[fieldName],attachedFiles,maxSize);\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    };\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName],file);\r\n\r\n        this.setState({selectedRecord,actionType: \"delete\"});\r\n    };\r\n\r\n    // editSampleGoodsIn = (goodsinSampleEditParam) => {\r\n    //     let data = [];\r\n    //     const withoutCombocomponent = []\r\n    //     const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n    //                     && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n    //     if (Layout !== undefined) {\r\n    //         Layout.map(row => {\r\n    //             return row.children.map(column => {\r\n    //                 return column.children.map(component => {\r\n    //                     return component.hasOwnProperty(\"children\") ?\r\n    //                         component.children.map(componentrow => {\r\n    //                             if (componentrow.inputtype === \"combo\") {\r\n    //                                 data.push(componentrow)\r\n    //                             } else {\r\n    //                                 withoutCombocomponent.push(componentrow)\r\n    //                             }\r\n\r\n    //                             return null;\r\n    //                         })\r\n    //                         : component.inputtype === \"combo\" ?\r\n    //                             data.push(component) : withoutCombocomponent.push(component)\r\n    //                 })\r\n    //             })\r\n    //         })\r\n    //         const comboComponents = data\r\n    //         let childColumnList = {};\r\n    //         data.map(columnList => {\r\n    //             const val = comboChild(data, columnList, childColumnList, true);\r\n    //             data = val.data;\r\n    //             childColumnList = val.childColumnList\r\n    //             return null;\r\n    //         })\r\n\r\n    //         this.props.getEditGoodsInSampleService(goodsinSampleEditParam,data, this.state.selectedRecord, childColumnList,\r\n    //             comboComponents, withoutCombocomponent)\r\n    //     } else {\r\n    //         toast.info(\"Configure the  template\")\r\n    //     }\r\n\r\n    // }\r\n\r\n    DeleteGoodsInSample= (deleteParam) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n        inputData[\"ngoodsincode\"] =deleteParam.selectedRecord.ngoodsincode;\r\n        inputData[\"ngoodsinsamplecode\"] =deleteParam.selectedRecord.ngoodsinsamplecode;\r\n        inputData[\"ndesigntemplatemappingcode\"] =deleteParam.selectedRecord.ndesigntemplatemappingcode;\r\n        inputData[\"ntransactionstatus\"] =this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsInSample\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSINSAMPLE\", operation:deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    insertGoodsInSample= () => {\r\n        let Map ={};\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        Map[\"fromDate\"] = fromDate;\r\n        Map[\"toDate\"] = toDate;\r\n\r\n        Map[\"ngoodsincode\"] =this.props.Login.masterData.selectedGoodsIn.ngoodsincode;  \r\n        Map[\"ndesigntemplatemappingcode\"] =this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n        const param =  this.goodsInSample(this.props.Login.masterData,this.state.selectedRecord,\r\n            this.props.Login.masterData.DesignTemplateMapping [0].jsondata,\r\n            this.props.Login.userInfo,this.props.Login.defaultTimeZone, 'create',this.props.Login.comboComponents);  \r\n        Map[\"GoodsInSample\"] = param.GoodsInSample;\r\n        Map[\"DateList\"] = param.dateList;\r\n        Map[\"userinfo\"] = this.props.Login.userInfo;\r\n        Map[\"combinationunique\"] = this.state.DynamicCombinationUnique;\r\n\r\n \r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsInSample\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: Map,\r\n            selectedId: this.state.selectedRecord[\"ngoodsinsamplecode\"],\r\n            operation: 'create',\r\n            searchRef: this.searchRef\r\n                \r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSIN\"}),\r\n                    operation: 'create'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n\r\n\r\n    }\r\n    \r\n    goodsInSample = (masterData,selectedRecord,templateList,userInfo,defaulttimeZone,operation,comboComponents) => {\r\n        let GoodsInSample = {};\r\n        let dateList = [];\r\n        GoodsInSample[\"ngoodsincode\"] = masterData.selectedGoodsIn.ngoodsincode;  \r\n        GoodsInSample[\"ndesigntemplatemappingcode\"] =masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n    \r\n    \r\n        GoodsInSample[\"nunitcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']] ?\r\n            selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']].value : -1;\r\n        GoodsInSample[\"nquantity\"] = selectedRecord[\"Quantity\"];\r\n        GoodsInSample[\"sexternalsampleid\"] = selectedRecord[\"External Sample Id\"];\r\n        GoodsInSample[\"scomments\"] = selectedRecord[\"Comments\"];\r\n      \r\n        GoodsInSample[\"jsondata\"] = {};\r\n        GoodsInSample[\"jsonuidata\"] = {};\r\n\r\n\r\n        templateList && templateList.map(row => {\r\n            return row.children.map(column => {\r\n                return column.children.map(component => {\r\n                    if (component.hasOwnProperty(\"children\")) {\r\n                        return component.children.map(componentrow => {\r\n                            if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\r\n                                if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label\r\n                                           \r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label,\r\n                                            pkey: componentrow.valuemember,\r\n                                            nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                            source: componentrow.source,\r\n                                            [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ?\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                :\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                        : selectedRecord[componentrow.label].vale\r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                }\r\n                            }\r\n                            else if (componentrow.inputtype === \"date\") {\r\n                                if (componentrow.mandatory) {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = (typeof selectedRecord[componentrow.label] === \"object\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                        (typeof selectedRecord[componentrow.label] === \"number\") ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n                                            : selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                        typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                            typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label] : \"\" :\r\n                                        selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label]\r\n                                                    : \"\" : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                }\r\n                                if (componentrow.timezone) {\r\n                                    GoodsInSample[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                        { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                        defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][`tz${componentrow.label}`] = GoodsInSample[\"jsondata\"][`tz${componentrow.label}`]\r\n                                }\r\n                                dateList.push(componentrow.label)\r\n                            }\r\n    \r\n                            else {\r\n                                GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                    selectedRecord[componentrow.label] : \"\"\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                            }\r\n                        })\r\n                        return GoodsInSample;\r\n    \r\n                    }\r\n                    else {\r\n                        if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\r\n                            if (component.inputtype === \"predefineddropdown\") {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                       \r\n    \r\n                                    } : -1\r\n                                GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                        pkey: component.valuemember,\r\n                                        nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                        source: component.source,\r\n                                        [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ?\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                            :\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                                    : selectedRecord[component.label].vale\r\n    \r\n                                    } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            }                            \r\n                        }\r\n                        else if (component.inputtype === \"date\") {\r\n                            if (component.mandatory) {\r\n                                console.log(typeof selectedRecord[component.label] === \"object\")\r\n                                GoodsInSample[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n    \r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo) :\r\n                                        selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                    typeof selectedRecord[component.label] === \"object\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : new Date(), userInfo) :\r\n                                        typeof selectedRecord[component.label] === \"number\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                                new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n    \r\n                                            : selectedRecord[component.label] ?\r\n                                                selectedRecord[component.label] : \"\" :\r\n                                    selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n                                        : selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\" : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            }\r\n                            if (component.timezone) {\r\n                                GoodsInSample[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                    { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                    defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][`tz${component.label}`] = GoodsInSample[\"jsondata\"][`tz${component.label}`]\r\n                            }\r\n                            dateList.push(component.label)\r\n                        }\r\n                        else {\r\n                            GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                selectedRecord[component.label] : \"\"\r\n    \r\n                            GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                        }\r\n                        return GoodsInSample;\r\n                    }\r\n                }\r\n                )\r\n            })\r\n        })\r\n        const param = { GoodsInSample, dateList }\r\n        return param;\r\n\r\n    }\r\n\r\n    importGoodsInSample =() => {\r\n\r\n        const formData = new FormData();\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.stemplatefilename;\r\n        let comboComponents=[];\r\n        let data = [];\r\n        const withoutCombocomponent = [];\r\n        let mandatory =[];\r\n        let mandatoryImportFields={};    \r\n        const exportFieldProperties =[];\r\n\r\n\r\n        if(acceptedFiles && acceptedFiles.length ===1){\r\n            acceptedFiles.forEach((file, index) => {\r\n                formData.append(\"uploadedFile\", file);\r\n            });\r\n            const dateList = [];\r\n            this.state.DynamicDateField.map(x=> {\r\n                dateList.push(x['2'])\r\n            });\r\n\r\n            const exportList =[]; \r\n            this.state.DynamicExportfields.map(x=> {\r\n                exportList.push(x['2'])\r\n            });\r\n           \r\n        const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n        if (Layout !== undefined) {\r\n            Layout.map(row => {\r\n                row.children.map(column => {\r\n                    column.children.map(component => {\r\n                        if(component.hasOwnProperty(\"children\")) {\r\n                            component.children.map(componentrow => {\r\n\r\n                                if(exportList.length> 0){\r\n                                    exportFieldProperties.push(componentrow);\r\n                                }\r\n\r\n                                if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                    || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                    data.push(componentrow)\r\n                                } else {\r\n                                    withoutCombocomponent.push(componentrow)\r\n                                }\r\n                                if(componentrow.mandatory=== true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": componentrow.label,\r\n                                        \"dataField\": componentrow.label,\r\n                                        \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                            \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n                            })\r\n                        }else {\r\n                            if(exportList.length> 0){\r\n                                exportFieldProperties.push(component);\r\n                            }\r\n\r\n                            component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                              || component.inputtype === \"frontendsearchfilter\" ?\r\n                                 data.push(component) : withoutCombocomponent.push(component)\r\n                                if(component.mandatory ===true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": component.label,\r\n                                        \"dataField\": component.label,\r\n                                        \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                        \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": component.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            comboComponents = data\r\n        }      \r\n        mandatory.map(x=>{\r\n            mandatoryImportFields[x.dataField]=x.mandatory;\r\n\r\n          })\r\n\r\n            formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryImportFields),false))\r\n            formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(comboComponents), false))\r\n            formData.append('dateconstraints', Lims_JSON_stringify(JSON.stringify(this.state.DynamicDateConstraints), false))\r\n            formData.append('datelist', Lims_JSON_stringify(JSON.stringify(dateList), false))\r\n            formData.append('exportFields', Lims_JSON_stringify(JSON.stringify(exportList), false))\r\n            formData.append('exportFieldProperties', Lims_JSON_stringify(JSON.stringify(exportFieldProperties), false))\r\n            formData.append('combinationunique', Lims_JSON_stringify(JSON.stringify(this.state.DynamicCombinationUnique), false))\r\n            formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.ndesigntemplatemappingcode)\r\n            formData.append(\"ngoodsincode\",this.props.Login.masterData.selectedGoodsIn.ngoodsincode)\r\n            formData.append(\"ntransactionstatus\",this.props.Login.masterData.selectedGoodsIn.ntransactionstatus)\r\n\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsInSample\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: this.props.Login.operation,\r\n\r\n            }\r\n            //ALPD 3415\r\n            // const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n            // if (esignNeeded) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n            //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSINSAMPLE\" }),\r\n            //             operation: this.props.Login.operation,\r\n            //         },\r\n\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            // }                                                                                                                                                                                                                \r\n\r\n        }else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    insertGoodsInChecklist = () => {\r\n        let inputData = [];     \r\n        inputData[\"ngoodsincode\"] =this.state.selectedRecord.ngoodsincode;\r\n        inputData[\"ndesigntemplatemappingcode\"]  = parseInt(this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode);\r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsInChecklist\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation, \r\n            selectedRecord:this.state.selectedRecord\r\n                \r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true,openTemplateModal:true, screenName:  \"IDS_GOODSINCHECKLIST\",\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }        \r\n        else {\r\n            this.props.onSaveGoodsInCheckList(inputParam);\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n            DynamicGridItem,DynamicGridMoreField,DynamicExportItem,DynamicDateField,DynamicTemplateField,\r\n            DynamicDateConstraints,DynamicCombinationUnique,Checklist,DynamicExportfields } = this.state;\r\n        let bool = false;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }     \r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {     \r\n\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take   \r\n        }\r\n\r\n        if (this.props.Login.sampleGridDataState && this.props.Login.sampleGridDataState !== previousProps.Login.sampleGridDataState) {\r\n            sampleGridDataState = this.props.Login.sampleGridDataState;\r\n        }\r\n\r\n        if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata && this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n            if(dynamicColumn !== null){\r\n                DynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\r\n                DynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\r\n                DynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\r\n                DynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\r\n                DynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\r\n                DynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\r\n                DynamicCombinationUnique = dynamicColumn.combinationunique ?  dynamicColumn.combinationunique : [] ;  \r\n                Checklist = dynamicColumn.checklist ? dynamicColumn.checklist : [] ;      \r\n                DynamicExportfields =dynamicColumn.exportFields ? dynamicColumn.exportFields  : [];     \r\n            }\r\n            \r\n\r\n        }    \r\n\r\n        \r\n        if (bool) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n                DynamicGridItem,DynamicGridMoreField,DynamicExportItem, DynamicDateField,DynamicTemplateField ,\r\n                DynamicDateConstraints,DynamicCombinationUnique,Checklist,DynamicExportfields\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore,getGoodsInFilterSubmit,validateEsignCredential,\r\n    getGoodsInComboService ,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,\r\n    getPreviewTemplate,viewInformation,checkListGoodsIn,downloadGoodsIn,\r\n    onSaveGoodsInCheckList,validateEsignGoodsIn,generateControlBasedReport\r\n    \r\n})(injectIntl(GoodsIn))"]},"metadata":{},"sourceType":"module"}