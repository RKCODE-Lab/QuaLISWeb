{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{transactionStatus}from'../components/Enumeration';export function openFTPConfigModal(userInfo,ncontrolcode){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"site/getSiteForFTP\",{\"userinfo\":userInfo}).then(function(response){var selectedRecord={};selectedRecord['nsitecode']=response.data.length>0?response.data[0].ndefaultstatus===transactionStatus.YES?response.data[0].nsitecode:-1:-1;selectedRecord['siteValue']=response.data.length>0?response.data[0].ndefaultstatus===transactionStatus.YES?[{value:response.data[0].nsitecode,label:response.data[0].ssitename,item:response.data[0]}]:[]:[];dispatch({type:DEFAULT_RETURN,payload:{openModal:true,operation:\"create\",siteOptions:response.data,selectedRecord:selectedRecord,ncontrolcode:ncontrolcode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function fetchFTPConfigByID(editParam){return function(dispatch){var _rsapi$post;var url1=rsapi.post(\"site/getSiteForFTP\",{\"userinfo\":editParam.userInfo});var url2=rsapi.post(\"ftpconfig/getActiveFTPConfigById\",(_rsapi$post={},_defineProperty(_rsapi$post,editParam.primaryKeyField,editParam.primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",editParam.userInfo),_rsapi$post));dispatch(initRequest(true));Axios.all([url1,url2]).then(function(response){var selectedId=editParam.primaryKeyValue;var selectedRecord=response[1].data;selectedRecord['siteValue']={value:response[1].data.nsitecode,label:response[1].data.ssitename};dispatch({type:DEFAULT_RETURN,payload:{openModal:true,selectedRecord:selectedRecord,operation:editParam.operation,screenName:editParam.screenName,siteOptions:response[0].data,ncontrolcode:editParam.ncontrolCode,inputparam:editParam.inputparam,loading:false,selectedId:selectedId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/FTPConfigAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","Axios","initRequest","transactionStatus","openFTPConfigModal","userInfo","ncontrolcode","dispatch","post","then","response","selectedRecord","data","length","ndefaultstatus","YES","nsitecode","value","label","ssitename","item","type","payload","openModal","operation","siteOptions","loading","catch","error","status","message","warn","fetchFTPConfigByID","editParam","url1","url2","primaryKeyField","primaryKeyValue","all","selectedId","screenName","ncontrolCode","inputparam"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios'\r\nimport { initRequest } from './LoginAction';\r\nimport { transactionStatus } from '../components/Enumeration';\r\n\r\nexport function openFTPConfigModal  (userInfo,ncontrolcode)  {\r\n\r\n    return function(dispatch){\r\n    dispatch(initRequest(true));\r\n    rsapi.post(\"site/getSiteForFTP\",{\"userinfo\": userInfo})\r\n    .then(response=> { \r\n        const selectedRecord={};\r\n        selectedRecord['nsitecode']=response.data.length>0?\r\n                                    response.data[0].ndefaultstatus===transactionStatus.YES?\r\n                                    response.data[0].nsitecode\r\n                                    :-1:-1\r\n        selectedRecord['siteValue']=response.data.length>0? response.data[0].ndefaultstatus===transactionStatus.YES?  \r\n                                    [{value:response.data[0].nsitecode,label:response.data[0].ssitename,item:response.data[0]}]\r\n                                    :[]:[]\r\n        dispatch({\r\n            type: DEFAULT_RETURN, payload:{\r\n                openModal:true,\r\n                operation:\"create\",\r\n                siteOptions:response.data,\r\n                selectedRecord,ncontrolcode    \r\n                ,loading:false           \r\n                }\r\n            }) \r\n    })\r\n    .catch(error => {\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        if (error.response.status === 500){\r\n            toast.error(error.message);\r\n        } \r\n        else{               \r\n            toast.warn(error.response.data);\r\n        }         \r\n    })\r\n}\r\n};\r\n\r\nexport function fetchFTPConfigByID(editParam){\r\n\r\n    return function(dispatch){\r\n    const url1=rsapi.post(\"site/getSiteForFTP\",{\"userinfo\": editParam.userInfo})\r\n    const url2=rsapi.post(\"ftpconfig/getActiveFTPConfigById\",\r\n            { [editParam.primaryKeyField] :editParam.primaryKeyValue,\"userinfo\":editParam.userInfo} )\r\n    dispatch(initRequest(true));\r\n    Axios.all([url1,url2])\r\n    .then(response=> { \r\n        let selectedId=editParam.primaryKeyValue\r\n        let selectedRecord=response[1].data\r\n        selectedRecord['siteValue']={value:response[1].data.nsitecode,label:response[1].data.ssitename}\r\n        \r\n        dispatch({\r\n            type: DEFAULT_RETURN, payload:{\r\n            openModal:true, \r\n            selectedRecord , \r\n            operation:editParam.operation,\r\n            screenName:editParam.screenName,\r\n            siteOptions:response[0].data,\r\n            ncontrolcode:editParam.ncontrolCode,\r\n            inputparam:editParam.inputparam,\r\n            loading:false,selectedId\r\n        }}) \r\n    })\r\n    .catch(error => {\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n        if (error.response.status === 500){\r\n            toast.error(error.message);\r\n        } \r\n        else{               \r\n            toast.warn(error.response.data);\r\n        }         \r\n    })\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}