{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\credentialmanagement\\\\AddorUpdateProfileImage.jsx\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { FormattedMessage, injectIntl } from \"react-intl\";\nimport { toast } from 'react-toastify';\nimport { intl } from '../../components/App';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPaperclip, faSave } from \"@fortawesome/free-solid-svg-icons\";\nimport { faWindowClose } from \"@fortawesome/free-regular-svg-icons\";\n\nconst AddorUpdateProfileImage = props => {\n  const [uploadedImage, setUploadedImage] = useState();\n  const [imageRef, setImageRef] = useState();\n  const hiddenFileInput = useRef(null);\n  const imageFormat = ['image/gif', 'image/jpeg', 'image/png'];\n  const [isBase64Image, setIsBase64Image] = useState(false);\n  let imageSource = props.srcImage;\n  const imageStyle = {\n    border: \"0.5px solid #538cc6\",\n    borderRadius: \"100%\",\n    width: props.width,\n    height: props.height\n  };\n  useEffect(() => {\n    if (uploadedImage !== '' && uploadedImage !== undefined) {\n      setImageRef(URL.createObjectURL(uploadedImage));\n    }\n  }, [uploadedImage]);\n  useEffect(() => {\n    if (imageSource !== \"\" && imageSource !== null && imageSource !== undefined) {\n      if (imageSource.includes('data:image')) {\n        setIsBase64Image(true);\n      }\n    }\n  }, [imageSource]);\n\n  const handleImageAsFile = e => {\n    if (e.target.files && e.target.files.length === 1) {\n      if (e.target.files[0].size / 1024 <= 500) {\n        setUploadedImage(e.target.files[0]);\n      } else {\n        toast.error(intl.formatMessage({\n          id: \"IDS_UPLOADIMAGE_SIZE_ALERT\"\n        }));\n      }\n    }\n  };\n\n  const handleHiddenInputClick = () => {\n    hiddenFileInput.current.click();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    show: props.isOpen,\n    onHide: () => props.onhandleClosedDialog(),\n    size: \"md\",\n    centered: true,\n    backdrop: \"static\",\n    keyboard: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: props.dialogTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 31\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, !imageRef ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"uploadImage\",\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 31\n    }\n  }, !isBase64Image && /*#__PURE__*/React.createElement(\"img\", {\n    src: props.srcImage,\n    alt: \"\",\n    style: imageStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 52\n    }\n  }), isBase64Image && /*#__PURE__*/React.createElement(\"img\", {\n    src: props.srcImage,\n    alt: \"\",\n    className: \"rounded-circle\",\n    style: imageStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 51\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: imageFormat,\n    style: {\n      display: 'none'\n    },\n    ref: hiddenFileInput,\n    onChange: e => handleImageAsFile(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"previewImage\",\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imageRef,\n    alt: \"\",\n    onLoad: event => props.onUploadingImage(event, uploadedImage),\n    id: \"previewImage\",\n    style: imageStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 43\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: imageFormat,\n    style: {\n      display: 'none'\n    },\n    ref: hiddenFileInput,\n    onChange: e => handleImageAsFile(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: 'center',\n      justifyContent: 'center',\n      textAlign: 'justify'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 26\n    }\n  }, props.children)), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"btn-user btn-primary-blue\",\n    onClick: handleHiddenInputClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faPaperclip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 112\n    }\n  }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"IDS_CHOOSEFILE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 150\n    }\n  })), imageRef && /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    className: \"btn-user btn-primary-blue\",\n    onClick: () => props.onSubmitDialog(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 28\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 130\n    }\n  }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"IDS_SAVE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 163\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    className: \"btn-user\",\n    onClick: () => props.onhandleClosedDialog(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faWindowClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 108\n    }\n  }), \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"IDS_CANCEL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 149\n    }\n  }))))));\n};\n\nexport default injectIntl(AddorUpdateProfileImage);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/credentialmanagement/AddorUpdateProfileImage.jsx"],"names":["Button","Modal","React","useEffect","useRef","useState","FormattedMessage","injectIntl","toast","intl","FontAwesomeIcon","faPaperclip","faSave","faWindowClose","AddorUpdateProfileImage","props","uploadedImage","setUploadedImage","imageRef","setImageRef","hiddenFileInput","imageFormat","isBase64Image","setIsBase64Image","imageSource","srcImage","imageStyle","border","borderRadius","width","height","undefined","URL","createObjectURL","includes","handleImageAsFile","e","target","files","length","size","error","formatMessage","id","handleHiddenInputClick","current","click","isOpen","onhandleClosedDialog","dialogTitle","display","alignItems","justifyContent","cursor","event","onUploadingImage","textAlign","children","onSubmitDialog"],"mappings":";AAAA,SAASA,MAAT,EAAgBC,KAAhB,QAA6B,iBAA7B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,YAA7C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAAQC,IAAR,QAAmB,sBAAnB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAAQC,WAAR,EAAqBC,MAArB,QAAkC,mCAAlC;AACA,SAASC,aAAT,QAA8B,qCAA9B;;AAEA,MAAMC,uBAAuB,GAAGC,KAAD,IAAS;AAEpC,QAAK,CAACC,aAAD,EAAeC,gBAAf,IAAiCZ,QAAQ,EAA9C;AACA,QAAK,CAACa,QAAD,EAAUC,WAAV,IAAuBd,QAAQ,EAApC;AACA,QAAMe,eAAe,GAAGhB,MAAM,CAAC,IAAD,CAA9B;AACA,QAAMiB,WAAW,GAAC,CAAC,WAAD,EAAa,YAAb,EAA2B,WAA3B,CAAlB;AACA,QAAM,CAACC,aAAD,EAAeC,gBAAf,IAAiClB,QAAQ,CAAC,KAAD,CAA/C;AAEA,MAAImB,WAAW,GAAGT,KAAK,CAACU,QAAxB;AAEF,QAAMC,UAAU,GAAC;AACfC,IAAAA,MAAM,EAAC,qBADQ;AAEfC,IAAAA,YAAY,EAAC,MAFE;AAGfC,IAAAA,KAAK,EAACd,KAAK,CAACc,KAHG;AAIfC,IAAAA,MAAM,EAACf,KAAK,CAACe;AAJE,GAAjB;AAOE3B,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGa,aAAa,KAAG,EAAhB,IAAsBA,aAAa,KAAGe,SAAzC,EAAmD;AAC/CZ,MAAAA,WAAW,CAACa,GAAG,CAACC,eAAJ,CAAoBjB,aAApB,CAAD,CAAX;AACH;AACJ,GAJQ,EAIP,CAACA,aAAD,CAJO,CAAT;AAMAb,EAAAA,SAAS,CAAE,MAAM;AACP,QAAGqB,WAAW,KAAG,EAAd,IAAoBA,WAAW,KAAG,IAAlC,IAA0CA,WAAW,KAAGO,SAA3D,EAAqE;AACnE,UAAGP,WAAW,CAACU,QAAZ,CAAqB,YAArB,CAAH,EAAsC;AACpCX,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF;AACV,GANQ,EAMP,CAACC,WAAD,CANO,CAAT;;AAQD,QAAMW,iBAAiB,GAAEC,CAAD,IAAK;AACtB,QAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,IAAkBF,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,KAAwB,CAA7C,EAA+C;AAC7C,UAAGH,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBE,IAAlB,GAAuB,IAAvB,IAA+B,GAAlC,EAAsC;AAC5BvB,QAAAA,gBAAgB,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAhB;AACC,OAFX,MAGI;AACF9B,QAAAA,KAAK,CAACiC,KAAN,CAAYhC,IAAI,CAACiC,aAAL,CAAmB;AAACC,UAAAA,EAAE,EAAC;AAAJ,SAAnB,CAAZ;AACD;AACJ;AACL,GATD;;AAWA,QAAMC,sBAAsB,GAAC,MAAI;AAChCxB,IAAAA,eAAe,CAACyB,OAAhB,CAAwBC,KAAxB;AACA,GAFD;;AAGC,sBACI,uDACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE/B,KAAK,CAACgC,MAAnB;AAA2B,IAAA,MAAM,EAAE,MAAIhC,KAAK,CAACiC,oBAAN,EAAvC;AAAqE,IAAA,IAAI,EAAC,IAA1E;AAA+E,IAAA,QAAQ,MAAvF;AAAwF,IAAA,QAAQ,EAAC,QAAjG;AAA0G,IAAA,QAAQ,EAAE,KAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAEjC,KAAK,CAACkC,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAAb,CADF,CADF,eAIE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,CAAC/B,QAAD,gBAEI,uDACG;AAAK,IAAA,EAAE,EAAC,aAAR;AAAsB,IAAA,KAAK,EAAE;AAACgC,MAAAA,OAAO,EAAC,MAAT;AAAgBC,MAAAA,UAAU,EAAC,QAA3B;AAAoCC,MAAAA,cAAc,EAAC;AAAnD,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,CAAC9B,aAAD,iBAAiB;AAAK,IAAA,GAAG,EAAEP,KAAK,CAACU,QAAhB;AAA0B,IAAA,GAAG,EAAC,EAA9B;AAAiC,IAAA,KAAK,EAAEC,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADrB,EAEGJ,aAAa,iBAAI;AAAK,IAAA,GAAG,EAAEP,KAAK,CAACU,QAAhB;AAA0B,IAAA,GAAG,EAAC,EAA9B;AAAiC,IAAA,SAAS,EAAC,gBAA3C;AAA4D,IAAA,KAAK,EAAEC,UAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFpB,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADV,eAMQ;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,MAAM,EAAEL,WAA3B;AAAwC,IAAA,KAAK,EAAE;AAAC6B,MAAAA,OAAO,EAAC;AAAT,KAA/C;AAAiE,IAAA,GAAG,EAAE9B,eAAtE;AAAuF,IAAA,QAAQ,EAAEgB,CAAC,IAAED,iBAAiB,CAACC,CAAD,CAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANR,eAOQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPR,eAQQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARR,CADH,CAFJ,gBAeW,uDACI;AAAK,IAAA,EAAE,EAAC,cAAR;AAAuB,IAAA,KAAK,EAAE;AAACc,MAAAA,OAAO,EAAC,MAAT;AAAgBC,MAAAA,UAAU,EAAC,QAA3B;AAAoCC,MAAAA,cAAc,EAAC,QAAnD;AAA4DC,MAAAA,MAAM,EAAC;AAAnE,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,GAAG,EAAEnC,QAAV;AAAoB,IAAA,GAAG,EAAC,EAAxB;AAA2B,IAAA,MAAM,EAAGoC,KAAD,IAASvC,KAAK,CAACwC,gBAAN,CAAuBD,KAAvB,EAA6BtC,aAA7B,CAA5C;AAAyF,IAAA,EAAE,EAAC,cAA5F;AAA2G,IAAA,KAAK,EAAEU,UAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFN,CADR,eAKQ;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,MAAM,EAAEL,WAA3B;AAAwC,IAAA,KAAK,EAAE;AAAC6B,MAAAA,OAAO,EAAC;AAAT,KAA/C;AAAiE,IAAA,GAAG,EAAE9B,eAAtE;AAAuF,IAAA,QAAQ,EAAEgB,CAAC,IAAED,iBAAiB,CAACC,CAAD,CAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALR,eAMQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANR,eAOQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPR,CADJ,CAhBZ,eA4Ba;AAAK,IAAA,KAAK,EAAE;AAACe,MAAAA,UAAU,EAAC,QAAZ;AAAqBC,MAAAA,cAAc,EAAC,QAApC;AAA6CI,MAAAA,SAAS,EAAC;AAAvD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgFzC,KAAK,CAAC0C,QAAtF,CA5Bb,CAJF,eAkCE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAE;AAACP,MAAAA,OAAO,EAAC,MAAT;AAAgBC,MAAAA,UAAU,EAAC,QAA3B;AAAoCC,MAAAA,cAAc,EAAC;AAAnD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,SAAS,EAAC,2BAApC;AAAgE,IAAA,OAAO,EAAER,sBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiG,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEjC,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjG,oBAAuI,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvI,CADF,EAEGO,QAAQ,iBAAI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,SAAS,EAAC,2BAApC;AAAgE,IAAA,OAAO,EAAE,MAAIH,KAAK,CAAC2C,cAAN,EAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAsG,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE9C,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtG,oBAAuI,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvI,CAFf,eAGE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,SAAS,EAAC,UAAtC;AAAkD,IAAA,OAAO,EAAE,MAAIG,KAAK,CAACiC,oBAAN,EAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA6F,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAEnC,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA7F,oBAAsI,oBAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtI,CAHF,CADA,CAlCF,CADF,CADJ;AA8CH,CA3FD;;AA4FA,eAAeN,UAAU,CAACO,uBAAD,CAAzB","sourcesContent":["import { Button,Modal } from \"react-bootstrap\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { FormattedMessage, injectIntl } from \"react-intl\"\r\nimport { toast } from 'react-toastify';\r\nimport {intl} from '../../components/App'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {faPaperclip, faSave} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faWindowClose } from \"@fortawesome/free-regular-svg-icons\";\r\n\r\nconst AddorUpdateProfileImage =(props)=>{\r\n\r\n    const[uploadedImage,setUploadedImage]=useState();\r\n    const[imageRef,setImageRef]=useState();\r\n    const hiddenFileInput = useRef(null);\r\n    const imageFormat=['image/gif','image/jpeg', 'image/png']\r\n    const [isBase64Image,setIsBase64Image]=useState(false);\r\n\r\n    let imageSource = props.srcImage;\r\n\r\n  const imageStyle={\r\n    border:\"0.5px solid #538cc6\",\r\n    borderRadius:\"100%\",\r\n    width:props.width,\r\n    height:props.height\r\n  }\r\n    \r\n    useEffect(()=>{\r\n        if(uploadedImage!=='' && uploadedImage!==undefined){\r\n            setImageRef(URL.createObjectURL(uploadedImage))\r\n        }\r\n    },[uploadedImage])\r\n\r\n    useEffect( () => {\r\n              if(imageSource!==\"\" && imageSource!==null && imageSource!==undefined){\r\n                if(imageSource.includes('data:image')){\r\n                  setIsBase64Image(true)\r\n                }               \r\n              }\r\n    },[imageSource])\r\n\r\n   const handleImageAsFile=(e)=>{    \r\n          if(e.target.files && e.target.files.length===1){         \r\n            if(e.target.files[0].size/1024 <= 500){ \r\n                      setUploadedImage(e.target.files[0])\r\n                      }\r\n            else{\r\n              toast.error(intl.formatMessage({id:\"IDS_UPLOADIMAGE_SIZE_ALERT\"}))\r\n            }\r\n        }\r\n   };\r\n\r\n   const handleHiddenInputClick=()=>{\r\n    hiddenFileInput.current.click();\r\n   }\r\n    return( \r\n        <>\r\n          <Modal show={props.isOpen} onHide={()=>props.onhandleClosedDialog()} size=\"md\" centered backdrop=\"static\" keyboard={false}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title><b><FormattedMessage id={props.dialogTitle}/></b></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            {!imageRef ?\r\n               (\r\n                 <>\r\n                    <div id='uploadImage' style={{display:'flex',alignItems:'center',justifyContent:'center'}}>    \r\n                              <div>\r\n                                 {!isBase64Image &&<img src={props.srcImage} alt=\"\" style={imageStyle}/>}\r\n                                {isBase64Image && <img src={props.srcImage} alt=\"\" className=\"rounded-circle\" style={imageStyle}/> }\r\n                                <br/>\r\n                              </div>\r\n                            <input type=\"file\" accept={imageFormat} style={{display:'none'}} ref={hiddenFileInput} onChange={e=>handleImageAsFile(e)}/>\r\n                            <br/>\r\n                            <br/>                      \r\n                      </div>               \r\n                 </>\r\n                 ):(\r\n                        <>\r\n                            <div id='previewImage' style={{display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer'}}>     \r\n                                    <div>\r\n                                    <img src={imageRef} alt='' onLoad={(event)=>props.onUploadingImage(event,uploadedImage)} id=\"previewImage\" style={imageStyle}/>\r\n                                          <br/>\r\n                                    </div>\r\n                                    <input type=\"file\" accept={imageFormat} style={{display:'none'}} ref={hiddenFileInput} onChange={e=>handleImageAsFile(e)}/>\r\n                                    <br/>\r\n                                    <br/>                   \r\n                            </div>                          \r\n                         </>\r\n                         )}\r\n                         <div style={{alignItems:'center',justifyContent:'center',textAlign:'justify'}}>{props.children}</div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n            <div style={{display:'flex',alignItems:'center',justifyContent:'center'}}>\r\n              <Button variant=\"primary\" className=\"btn-user btn-primary-blue\" onClick={handleHiddenInputClick}><FontAwesomeIcon icon={faPaperclip}/> <FormattedMessage id=\"IDS_CHOOSEFILE\"/></Button>\r\n              {imageRef && <Button variant=\"primary\" className=\"btn-user btn-primary-blue\" onClick={()=>props.onSubmitDialog()}> <FontAwesomeIcon icon={faSave}/> <FormattedMessage id=\"IDS_SAVE\"/></Button>}\r\n              <Button variant=\"secondary\" className=\"btn-user\"  onClick={()=>props.onhandleClosedDialog()}><FontAwesomeIcon icon={faWindowClose} /> <FormattedMessage id=\"IDS_CANCEL\"/></Button>\r\n              </div>\r\n            </Modal.Footer>\r\n          </Modal>    \r\n          </>\r\n      )\r\n}\r\nexport default injectIntl(AddorUpdateProfileImage)"]},"metadata":{},"sourceType":"module"}