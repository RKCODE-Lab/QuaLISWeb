{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\designtemplatemapping\\\\DesignTemplateMapping.jsx\";\nimport React from 'react';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt, faThumbsUp, faChevronCircleDown } from '@fortawesome/free-solid-svg-icons'; //,faUserTimes, faTrash\n//import { falistUl } from '@fortawesome/free-regular-svg-icons';\n\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { toast } from 'react-toastify';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getDesignTemplateMappingDetail, getMappedFieldProps, editFieldConfigService, auditFieldConfigService, getDesignTemplateMappingComboService, filterColumnData, reloadDesignTemplateMapping, getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit, combinationUniqueConfigService } from '../../actions';\nimport TemplateFilter from './TemplateFilter';\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\nimport { getControlMap, showEsign, constructOptionList } from '../../components/CommonScript'; //searchData, sortData,\n\nimport ListMaster from '../../components/list-master/list-master.component'; // import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\n\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport AddDesignTemplateMapping from './AddDesignTemplateMapping';\nimport Esign from '../../pages/audittrail/Esign';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { designProperties, formCode, TemplateType, transactionStatus, templateMappingAction, //SAMPLEAUDITFIELDS, SAMPLEAUDITEDITABLE, SAMPLEAUDITMULTILINGUALFIELDS,\n// SUBSAMPLEAUDITFIELDS, SUBSAMPLEAUDITEDITABLE, SUBSAMPLEAUDITMULTILINGUALFIELDS,\nSAMPLETEMPLATEFIELDS, SUBSAMPLETEMPLATEFIELDS, designComponents } from '../../components/Enumeration';\nimport AddSynonym from '../../components/droparea/AddSynonym';\nimport { Affix } from 'rsuite';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component'; // import ReactTooltip from 'react-tooltip';\n\nimport ConfigureScreenFields from './ConfigureScreenFields';\nimport ConfigureEditFields from './ConfigureEditFields';\nimport ConfigureUniqueFields from './ConfigureUniqueFields.jsx';\nimport ConfigureAuditFields from './ConfigureAuditFields';\nimport CustomPopover from '../../components/customPopover'; //import { faCaretDown } from '@fortawesome/free-solid-svg-icons';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass DesignTemplateMapping extends React.Component {\n  constructor(props) {\n    super(props); // const dataState = {\n    //     skip: 0,\n    //     take: 10,\n    // };\n\n    this.filterComboChange = (event, fieldname) => {\n      if (event !== null) {\n        // let uRL = \"\";\n        let inputData = [];\n\n        if (fieldname === \"sampleType\") {\n          inputData = {\n            userinfo: this.props.Login.userInfo,\n            nflag: 1,\n            nsampletypecode: parseInt(event.value)\n          };\n          let masterData = { ...this.props.Login.masterData,\n            defaultsampletype: event\n          };\n          let inputParam = {\n            masterData,\n            inputData\n          };\n\n          if (event.value === TemplateType.Masters) {\n            const masterTypeArray = this.state.masterTypeArray;\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                masterData: { ...masterData,\n                  masterTypeArray,\n                  defaultMasterType: masterTypeArray[0],\n                  qualisforms: [],\n                  defaultform: this.state.newMasterForm,\n                  nregtypecode: -1,\n                  nregsubtypecode: -1\n                }\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            inputParam[\"masterData\"][\"defaultform\"] = {\n              value: -1,\n              label: \"-\"\n            };\n            this.props.getTMPFilterRegType(inputParam);\n          }\n        } else if (fieldname === \"registrationType\") {\n          inputData = {\n            userinfo: this.props.Login.userInfo,\n            nregtypecode: parseInt(event.value),\n            nsampletypecode: this.props.Login.masterData.defaultsampletype.value\n          };\n          let masterData = { ...this.props.Login.masterData,\n            defaultregtype: event\n          };\n          let inputParam = {\n            masterData,\n            inputData\n          };\n          this.props.getTMPFilterRegSubType(inputParam);\n        } else if (fieldname === \"registrationSubType\") {\n          let masterData = { ...this.props.Login.masterData,\n            defaultregsubtype: event\n          };\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              masterData\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else if (fieldname === \"masterType\") {\n          let masterData = { ...this.props.Login.masterData,\n            defaultMasterType: event\n          };\n          inputData = {\n            userinfo: this.props.Login.userInfo,\n            nflag: 1,\n            nsampletypecode: TemplateType.Masters\n          };\n          let inputParam = {\n            masterData,\n            inputData\n          };\n\n          if (event.value === 1) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                masterData: { ...masterData,\n                  qualisforms: [],\n                  defaultform: this.state.newMasterForm\n                }\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.getTMPFilterRegType(inputParam);\n          }\n        } else {\n          let masterData = { ...this.props.Login.masterData,\n            defaultform: event\n          };\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              masterData\n            }\n          };\n          this.props.updateStore(updateInfo);\n        }\n      }\n    };\n\n    this.actionMethod = value => {\n      if (value.method === templateMappingAction.CONFIGSAMPLEDISPLAY) {\n        this.openFieldConfiguration(value.controlId, \"configure\");\n      } else if (value.method === templateMappingAction.CONFIGSAMPLEEDIT) {\n        this.editFieldConfiguration(value.controlId, 'configureedit');\n      } else if (value.method === templateMappingAction.CONFIGSUBSAMPLEDISPLAY) {\n        this.openFieldConfiguration(value.controlId, 'configuresubsample');\n      } else if (value.method === templateMappingAction.CONFIGSUBSAMPLEEDIT) {\n        this.editFieldConfiguration(value.controlId, 'configuresubsampleedit');\n      } else if (value.method === templateMappingAction.CONFIGUNIQUE) {\n        this.openCombinationUniqueFieldConfiguration(value.controlId);\n      } else if (value.method === templateMappingAction.CONFIGSAMPLEAUDIT) {\n        this.auditFieldConfiguration(value.controlId, 'configureaudit');\n      }\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let inputData = {\n        userinfo: this.props.Login.userInfo,\n        nregtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\n        nregsubtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\n        // nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\n        //nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\n        nsampletypecode: this.props.Login.masterData.realSampleValue.value,\n        nformcode: this.props.Login.masterData.realFormValue ? this.props.Login.masterData[\"realFormValue\"].value : -1\n      };\n      let inputParam = {\n        masterData: this.props.Login.masterData,\n        inputData\n      };\n      this.props.reloadDesignTemplateMapping(inputParam);\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onFilterSubmit = () => {\n      let inputData = {\n        userinfo: this.props.Login.userInfo,\n        nregtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\n        nregsubtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\n        nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\n        nformcode: this.props.Login.masterData.defaultform ? this.props.Login.masterData.defaultform.value || -1 : -1\n      };\n      let masterData = { ...this.props.Login.masterData,\n        realSampleValue: this.props.Login.masterData.defaultsampletype,\n        realFormValue: this.props.Login.masterData.defaultform,\n        realRegTypeValue: this.props.Login.masterData.defaultregtype,\n        realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getTMPFilterSubmit(inputParam);\n    };\n\n    this.onApproveClick = () => {\n      if (this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus !== transactionStatus.RETIRED) {\n        //console.log(\"this.state.selectedRecord.nreactregtemplatecode.item.jsondata:\", this.state, this.props.Login);\n        //console.log(\"this.props.Login.masterData.selectedDesignTemplateMapping.jsondata:\", this.props.Login.masterData.selectedDesignTemplateMapping.jsondata);\n        let {\n          jsondata,\n          jdynamiccolumns,\n          jnumericcolumns,\n          templatePrimaryKey,\n          deleteValidation\n        } = this.getGridJsondata(this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.jsondata, \"DeleteValidation\"); // console.log(\"deleteValidation 2:\", deleteValidation);\n\n        const ncontrolCode = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;\n        let inputData = {\n          jdynamiccolumns,\n          jnumericcolumns,\n          sprimarykeyname: templatePrimaryKey\n        };\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        let postParam = undefined;\n        inputData[\"designtemplatemapping\"] = {\n          \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\"\n        };\n        inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\n        inputData[\"deletevalidationlist\"] = deleteValidation;\n        postParam = {\n          inputListName: \"DesignTemplateMapping\",\n          selectedObject: \"selectedDesignTemplateMapping\",\n          primaryKeyField: \"ndesigntemplatemappingcode\"\n        };\n        const inputParam = {\n          inputData: { ...inputData\n          },\n          classUrl: 'designtemplatemapping',\n          methodUrl: \"DesignTemplateMapping\",\n          inputData: inputData,\n          operation: \"approve\",\n          postParam\n        };\n        let saveType;\n        console.log(\"approve:\", inputParam);\n        const masterData = this.props.Login.masterData;\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\n\n        if (esignNeeded) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType,\n              openModal: true,\n              operation: \"approve\"\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_TEMPLATERETIRED\"\n        }));\n      }\n    };\n\n    this.ConfirmDelete = () => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteTemplate());\n    };\n\n    this.deleteTemplate = () => {\n      if (this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT) {\n        const ncontrolCode = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;\n        let inputData = [];\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        let postParam = undefined;\n        inputData[\"designtemplatemapping\"] = {\n          \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\"\n        };\n        inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\n        postParam = {\n          inputListName: \"DesignTemplateMapping\",\n          selectedObject: \"selectedDesignTemplateMapping\",\n          primaryKeyField: \"ndesigntemplatemappingcode\"\n        };\n        const inputParam = {\n          inputData: {\n            \"userinfo\": this.props.Login.userInfo\n          },\n          classUrl: 'designtemplatemapping',\n          methodUrl: \"DesignTemplateMapping\",\n          inputData: inputData,\n          operation: \"delete\",\n          postParam\n        };\n        let saveType;\n        const masterData = this.props.Login.masterData;\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\n\n        if (esignNeeded) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType,\n              openModal: true,\n              operation: \"delete\"\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECORDTODELETE\"\n        }));\n      }\n    };\n\n    this.deleteCombinationUnique = (index, eventKey) => {\n      if (eventKey === \"subsample\") {\n        let dataList = this.props.Login.subsampledataList || [];\n        let dataListCount = this.props.Login.subsampledataListCount || [];\n        dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]; //   delete dataListCount[index]\n\n        if (dataList[index] || dataList[index] === null) {\n          dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]; // delete dataList[index]\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            subsampledataListCount: dataListCount,\n            subsampledataList: dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        let dataList = this.props.Login.dataList || [];\n        let dataListCount = this.props.Login.dataListCount || [];\n        dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]; //   delete dataListCount[index]\n\n        if (dataList[index] || dataList[index] === null) {\n          dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]; // delete dataList[index]\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            dataListCount,\n            dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.addCombinatonUnique = (designData, eventKey) => {\n      if (eventKey === \"subsample\") {\n        const dataList = this.props.Login.dataListSubSample || []; //    const obj={}\n        //     designData.map(item=>{\n        //         obj[item[\"2\"]]={...item}\n        //     })\n        //dataList.push({})\n\n        const dataListCount = this.props.Login.dataListCountSubSample || [];\n        dataListCount.push(dataListCount.length + 1);\n        dataList.push({});\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            dataListCountSubSample: dataListCount,\n            dataListSubSample: dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        const dataList = this.props.Login.dataList || []; //    const obj={}\n        //     designData.map(item=>{\n        //         obj[item[\"2\"]]={...item}\n        //     })\n        //dataList.push({})\n\n        const dataListCount = this.props.Login.dataListCount || [];\n        dataListCount.push(dataListCount.length + 1);\n        dataList.push({});\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            dataListCount,\n            dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.openCombinationUniqueFieldConfiguration = controlCode => {\n      let openModal = true;\n      let operation = 'configureunique';\n      let ncontrolcode = controlCode;\n      let screenName = \"IDS_FIELDS\";\n      let inputParam = {\n        inputData: {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\n          },\n          userinfo: this.props.Login.userInfo\n        },\n        operation,\n        ncontrolcode,\n        screenName\n      };\n\n      if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\n        inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\n      }\n\n      inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\n      this.props.combinationUniqueConfigService(inputParam);\n    };\n\n    this.openFieldConfiguration = (controlCode, operation) => {\n      let openModal = true; //let operation = 'configure';\n\n      let ncontrolcode = controlCode;\n      let screenName = \"IDS_FIELDS\";\n      let inputParam = {\n        inputData: {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\n          },\n          userinfo: this.props.Login.userInfo\n        },\n        operation,\n        ncontrolcode,\n        screenName\n      };\n\n      if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\n        inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\n      }\n\n      inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\n      this.props.getMappedFieldProps(inputParam);\n    };\n\n    this.editFieldConfiguration = (controlCode, operation) => {\n      //console.log(\"edit config:\", this.props.Login);\n      // let operation = 'configureedit';\n      let ncontrolcode = controlCode;\n      let screenName = \"IDS_FIELDS\";\n      let inputParam = {\n        inputData: {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\n          },\n          nregtypecode: this.props.Login.masterData.defaultregtype.value,\n          nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\n          userinfo: this.props.Login.userInfo\n        },\n        operation,\n        ncontrolcode,\n        screenName\n      }; // if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\n      //     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\n      //  }\n\n      inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\n      this.props.editFieldConfigService(inputParam);\n    };\n\n    this.auditFieldConfiguration = (controlCode, operation) => {\n      //console.log(\"edit config:\", this.props.Login);\n      let ncontrolcode = controlCode;\n      let screenName = \"IDS_FIELDS\";\n      let inputParam = {\n        inputData: {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\n          },\n          nregtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value : -1,\n          nregsubtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value : -1,\n          //nregtypecode: this.props.Login.masterData.defaultregtype.value,\n          //nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\n          userinfo: this.props.Login.userInfo,\n          nneedsubsample: this.props.Login.masterData.defaultregsubtype.item.nneedsubsample\n        },\n        operation,\n        ncontrolcode,\n        screenName\n      };\n      inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\n      this.props.auditFieldConfigService(inputParam);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"approve\" || this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null,\n          dataList: [],\n          dataListCount: [],\n          dataListSubSample: [],\n          dataListCountSubSample: []\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      ;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onConfigureComboChange = (comboData, formCode, item) => {\n      const fieldName = item.label;\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[formCode] = { ...selectedRecord[formCode],\n        [fieldName]: comboData\n      };\n      this.setState({\n        selectedRecord\n      }); // let designData = this.props.Login.editFieldDesignData;\n      // let dataResult = this.props.Login.editFieldDataResult;\n      // if (formCode === undefined){\n      //     dataResult[dataIndex][field] = event.target.checked;\n      //     if (event.target.checked) {\n      //         designData[field].splice(dataIndex, 0, dataItem.realData)\n      //     } else {\n      //         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n      //     }\n      // }\n      // else{\n      //     dataResult[formCode][\"sampleeditable\"] = comboData;\n      //     if (event.target.checked) {\n      //         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\n      //             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\n      //         } else {\n      //             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\n      //         }\n      //         if (field === 'sampledisplayfields') {\n      //             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\n      //         }\n      //     } else {\n      //         if (field === 'sampledisplayfields') {\n      //             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\n      //         }\n      //         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\n      //     }\n      // }\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: { designData, dataResult }\n      // }\n      // this.props.updateStore(updateInfo);\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onInputOnChangeForUnique = (event, radiotext, index, multilinguallabel, eventKey) => {\n      if (eventKey === \"subsample\") {\n        const dataList = this.props.Login.dataListSubSample || [];\n\n        if (dataList[index]) {\n          const value = dataList[index] && dataList[index][event.target.name];\n\n          if (value !== '' && value !== undefined) {\n            delete dataList[index][event.target.name];\n          } else {\n            dataList[index][event.target.name] = {\n              [designProperties.LABEL]: { ...multilinguallabel\n              },\n              [designProperties.VALUE]: radiotext\n            };\n          }\n        } else {\n          dataList[index] = {\n            [event.target.name]: {\n              [designProperties.LABEL]: { ...multilinguallabel\n              },\n              [designProperties.VALUE]: radiotext\n            }\n          };\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            dataListSubSample: dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        const dataList = this.props.Login.dataList || [];\n\n        if (dataList[index]) {\n          const value = dataList[index] && dataList[index][event.target.name];\n\n          if (value !== '' && value !== undefined) {\n            delete dataList[index][event.target.name];\n          } else {\n            dataList[index][event.target.name] = {\n              [designProperties.LABEL]: { ...multilinguallabel\n              },\n              [designProperties.VALUE]: radiotext\n            };\n          }\n        } else {\n          dataList[index] = {\n            [event.target.name]: {\n              [designProperties.LABEL]: { ...multilinguallabel\n              },\n              [designProperties.VALUE]: radiotext\n            }\n          };\n        }\n\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            dataList\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.getGridJsondata = (templatedata, task) => {\n      console.log(\"task:\", task);\n      let gridItem = [];\n      let gridMoreItem = [];\n      let masterdatefields = [];\n      let masterdateconstraints = [];\n      let masteruniquevalidation = [];\n      let mastercombinationunique = [];\n      let editable = [];\n      let jdynamiccolumns = [];\n      let jnumericcolumns = [];\n      let templatePrimaryKey = \"\";\n      let mastertemplatefields = [];\n      let sampleAuditFields = [];\n      let sampleAuditEditable = [];\n      let sampleAuditMultilingualFields = [];\n      let deleteValidation = [];\n      console.log(\"grid json:\", this.props.Login, templatedata);\n      console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\n      templatedata && templatedata.map(row => row.children && row.children.map(column => {\n        column.children && column.children.map((component, index) => {\n          //console.log(\"component2:\", component);\n          if (component.hasOwnProperty('children')) {\n            component.children.map(componentRow => {\n              console.log(\"component row2:\", componentRow);\n              componentRow.unique && masteruniquevalidation.push({\n                [designProperties.LABEL]: componentRow.label\n              });\n              componentRow.unique && mastercombinationunique.push({\n                [componentRow.label]: {\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                }\n              });\n              templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\n              let filterinputtype = \"text\";\n              let comboDataInputObject = {};\n\n              if (componentRow.componentcode === designComponents.COMBOBOX) {\n                deleteValidation.push({\n                  \"smastertablename\": componentRow.table.item.stablename,\n                  \"smasterprimarykeyname\": componentRow.valuemember,\n                  \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registration\",\n                  \"stranstableforeignkeyname\": componentRow.valuemember,\n                  //  \"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\n                  \"sjsonfieldname\": \"jsondata\",\n                  \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                  // \"nformcode\":componentRow.table.item.nformcode,\n                  \"nquerybuildertablecode\": componentRow.nquerybuildertablecode\n                });\n              }\n\n              if (componentRow.inputtype === 'combo') {\n                comboDataInputObject = {\n                  \"predefinedtablename\": componentRow.source,\n                  \"predefinedvaluemember\": componentRow.valuemember,\n                  \"predefineddisplaymember\": componentRow.displaymember,\n                  \"predefinedismultilingual\": false,\n                  \"predefinedconditionalString\": \"\\\"\" + componentRow.valuemember + \"\\\"\" + \" > '0' \"\n                };\n                jnumericcolumns.push({\n                  \"columnname\": componentRow.displaymember,\n                  \"displayname\": componentRow.displayname,\n                  \"foriegntablePK\": componentRow.label,\n                  // \"ismultilingual\": true,\n                  // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n                  \"tablecolumnname\": componentRow.valuemember,\n                  \"foriegntablename\": componentRow.source,\n                  ...comboDataInputObject\n                });\n                filterinputtype = \"predefinednumeric\";\n              } // samplesearchfields.push(componentRow.label)\n\n\n              if (componentRow.inputtype === 'date') {\n                filterinputtype = \"date\";\n                masterdatefields.push({\n                  [designProperties.VALUE]: componentRow.label,\n                  dateonly: componentRow.dateonly || false\n                });\n                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\n              }\n\n              if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\n                filterinputtype = \"numeric\";\n              }\n\n              jdynamiccolumns.push({\n                default: componentRow.unique ? true : false,\n                filterinputtype,\n                columnname: componentRow.label,\n                displayname: componentRow.displayname,\n                ...comboDataInputObject\n              }); // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n              // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\n\n              if (componentRow.mandatory || componentRow.templatemandatory) {\n                gridItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n                sampleAuditEditable.push(componentRow.label);\n              } else {\n                gridMoreItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n              }\n\n              mastertemplatefields.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label\n              });\n              sampleAuditFields.push(componentRow.label);\n              sampleAuditMultilingualFields.push({\n                [componentRow.label]: componentRow.displayname\n              });\n\n              if (componentRow.templatemandatory) {\n                editable.push({\n                  label: componentRow.label,\n                  editableuntill: []\n                });\n              } else {\n                editable.push({\n                  label: componentRow.label,\n                  editableuntill: [transactionStatus.DRAFT]\n                });\n              }\n\n              return null;\n            });\n          } else {\n            console.log(\"component2:\", component);\n            component.unique && masteruniquevalidation.push({\n              [designProperties.LABEL]: component.label\n            });\n            component.unique && mastercombinationunique.push({\n              [component.label]: {\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              }\n            });\n            templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\n            let filterinputtype = \"text\";\n            let comboDataInputObject = {};\n            mastertemplatefields.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label\n            });\n            sampleAuditFields.push(component.label);\n            sampleAuditMultilingualFields.push({\n              [component.label]: component.displayname\n            });\n\n            if (component.componentcode === designComponents.COMBOBOX) {\n              deleteValidation.push({\n                \"smastertablename\": component.table.item.stablename,\n                \"smasterprimarykeyname\": component.valuemember,\n                \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registration\",\n                \"stranstableforeignkeyname\": component.valuemember,\n                //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\n                \"sjsonfieldname\": \"jsondata\",\n                \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                \"nquerybuildertablecode\": component.nquerybuildertablecode // \"nformcode\":component.table.item.nformcode\n\n              });\n            }\n\n            if (component.inputtype === 'combo') {\n              filterinputtype = \"predefinednumeric\";\n              comboDataInputObject = {\n                \"predefinedtablename\": component.source,\n                \"predefinedvaluemember\": component.valuemember,\n                \"predefineddisplaymember\": component.displaymember,\n                \"predefinedismultilingual\": false,\n                \"predefinedconditionalString\": \"\\\"\" + component.valuemember + \"\\\"\" + \" > '0'\"\n              };\n              jnumericcolumns.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"foriegntablePK\": component.label,\n                // \"ismultilingual\": true,\n                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\n                \"tablecolumnname\": component.column.value,\n                \"foriegntablename\": component.source,\n                ...comboDataInputObject\n              });\n            } // samplesearchfields.push(component.label)\n\n\n            if (component.inputtype === 'date') {\n              filterinputtype = \"date\";\n              masterdatefields.push({\n                [designProperties.VALUE]: component.label,\n                dateonly: component.dateonly || false\n              });\n              masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\n            }\n\n            if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\n              filterinputtype = \"numeric\";\n            }\n\n            jdynamiccolumns.push({\n              default: component.unique ? true : false,\n              columnname: component.label,\n              displayname: component.displayname,\n              filterinputtype,\n              ...comboDataInputObject\n            });\n\n            if (component.mandatory || component.templatemandatory) {\n              gridItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n              sampleAuditEditable.push(component.label);\n            } else {\n              gridMoreItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n            }\n\n            if (component.templatemandatory) {\n              editable.push({\n                label: component.label,\n                editableuntill: []\n              });\n            } else {\n              editable.push({\n                label: component.label,\n                editableuntill: [transactionStatus.DRAFT]\n              });\n            }\n\n            return null;\n          }\n        });\n      }));\n\n      if (task === \"DeleteValidation\" && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\n        const selectedSubSampleTemplate = this.props.Login.masterData.selectedDesignTemplateMapping.subsamplejsondata;\n        const needsubsample = this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false;\n\n        if (needsubsample) {\n          selectedSubSampleTemplate.map(row => row.children && row.children.map(column => {\n            column.children && column.children.map(component => {\n              if (component.hasOwnProperty('children')) {\n                component.children.map(componentRow => {\n                  console.log(\"componentRow sub:\", componentRow);\n\n                  if (componentRow.componentcode === designComponents.COMBOBOX) {\n                    deleteValidation.push({\n                      \"smastertablename\": componentRow.table.item.stablename,\n                      \"smasterprimarykeyname\": componentRow.valuemember,\n                      \"stranstablename\": \"registrationsample\",\n                      \"stranstableforeignkeyname\": componentRow.valuemember,\n                      // \"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\n                      \"sjsonfieldname\": \"jsondata\",\n                      \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                      \"nquerybuildertablecode\": componentRow.nquerybuildertablecode //\"nformcode\":componentRow.table.item.nformcode\n\n                    });\n                  }\n                });\n              } else {\n                console.log(\"componentRow2 sub:\", component);\n\n                if (component.componentcode === designComponents.COMBOBOX) {\n                  deleteValidation.push({\n                    \"smastertablename\": component.table.item.stablename,\n                    \"smasterprimarykeyname\": component.valuemember,\n                    \"stranstablename\": \"registrationsample\",\n                    \"stranstableforeignkeyname\": component.valuemember,\n                    //\"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\n                    \"sjsonfieldname\": \"jsondata\",\n                    \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                    //\"nformcode\":component.table.item.nformcode,\n                    \"nquerybuildertablecode\": component.nquerybuildertablecode\n                  });\n                }\n              }\n            });\n          }));\n        }\n      }\n\n      let jsondata = {\n        griditem: gridItem,\n        gridmoreitem: gridMoreItem,\n        masterdatefields,\n        masterdateconstraints,\n        masteruniquevalidation,\n        editable,\n        mastertemplatefields,\n        mastercombinationunique,\n        sampleAuditFields,\n        sampleAuditEditable,\n        sampleAuditMultilingualFields\n      }; //console.log(\"dynamiccolumns:\", jdynamiccolumns);\n\n      console.log(\"deleteValidation 1:\", deleteValidation);\n      return {\n        jsondata,\n        jdynamiccolumns,\n        jnumericcolumns,\n        templatePrimaryKey,\n        deleteValidation\n      };\n    };\n\n    this.getJsondata = templatedata => {\n      let displayFields = [];\n      let listItem = [];\n      let gridItem = [];\n      let gridMoreItem = [];\n      let editable = [];\n      let subsampleeditable = [];\n      let subsamplelistitem = [];\n      let sampledatefields = [{\n        [designProperties.VALUE]: 'dregdate',\n        dateonly: false\n      }];\n      let sampledateconstraints = [];\n      let subsampledatefields = [];\n      let subsampledateconstraints = [];\n      let samplesearchfields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\n      let subsamplesearchfields = [\"sarno\", \"ssamplearno\", \"stransdisplaystatus\"];\n      let sampletemplatefields = [];\n      let subsampletemplatefields = [];\n      let sampleuniquevalidation = [];\n      let subsampleuniquevalidation = [];\n      let jdynamiccolumns = [];\n      let jnumericcolumns = [];\n      let samplecombinationunique = [];\n      let subsamplecombinationunique = [];\n      let sampleAuditFields = [];\n      let sampleAuditEditable = [];\n      let sampleAuditMultilingualFields = [];\n      let subSampleAuditFields = [];\n      let subSampleAuditEditable = [];\n      let subSampleAuditMultilingualFields = [];\n      let deleteValidation = []; //if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){        \n\n      sampleAuditFields = [\"sarno\"];\n      sampleAuditEditable = [\"sarno\"];\n      sampleAuditMultilingualFields = [{\n        \"sarno\": {\n          \"en-US\": \"AR.No.(EU)\",\n          \"ru-RU\": \"AR.No.(RU)\",\n          \"tg-TG\": \"AR.No.(TU)\"\n        }\n      }];\n      subSampleAuditFields = [\"sarno\", \"ssamplearno\"];\n      subSampleAuditEditable = [\"sarno\", \"ssamplearno\"];\n      subSampleAuditMultilingualFields = [{\n        \"sarno\": {\n          \"en-US\": \"AR.No.(EU)\",\n          \"ru-RU\": \"AR.No.(RU)\",\n          \"tg-TG\": \"AR.No.(TU)\"\n        }\n      }, {\n        \"ssamplearno\": {\n          \"en-US\": \"Sub AR.No.(EU)\",\n          \"ru-RU\": \"Sub AR.No.(RU)\",\n          \"tg-TG\": \"Sub AR.No.(TU)\"\n        }\n      }]; //}\n      ////////////////////////////////////////////\n      // let sampleAuditFields = SAMPLEAUDITFIELDS;\n      // let sampleAuditEditable = SAMPLEAUDITEDITABLE\n      // let sampleAuditMultilingualFields = SAMPLEAUDITMULTILINGUALFIELDS\n      // let subSampleAuditFields = SUBSAMPLEAUDITFIELDS\n      // let subSampleAuditEditable = SUBSAMPLEAUDITEDITABLE\n      // let subSampleAuditMultilingualFields = SUBSAMPLEAUDITMULTILINGUALFIELDS;\n\n      let testdatefields = [{\n        [designProperties.VALUE]: 'dtransactiondate',\n        dateonly: false\n      }]; //console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\n\n      this.state.selectedRecord.nsubsampletemplatecode && this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(row => row.children && row.children.map(column => {\n        column.children && column.children.map(component => {\n          if (component.hasOwnProperty('children')) {\n            component.children.map(componentRow => {\n              console.log(\"componentRow sub:\", componentRow);\n              componentRow.unique && subsampleuniquevalidation.push({\n                [designProperties.LABEL]: componentRow.label\n              });\n              componentRow.unique && subsamplecombinationunique.push({\n                [componentRow.label]: {\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                }\n              });\n              subsamplesearchfields.push(componentRow.label); //subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\n\n              subsampletemplatefields.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label,\n                [designProperties.PRIMARYKEY]: componentRow.valuemember,\n                [designProperties.QUERYBUILDERTABLECODE]: componentRow.nquerybuildertablecode\n              });\n\n              if (componentRow.componentcode === designComponents.COMBOBOX) {\n                deleteValidation.push({\n                  \"smastertablename\": componentRow.table.item.stablename,\n                  \"smasterprimarykeyname\": componentRow.table.valuemember,\n                  \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registrationsample\",\n                  \"stranstableforeignkeyname\": componentRow.table.valuemember,\n                  //\"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\n                  \"sjsonfieldname\": \"jsondata\",\n                  \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                  \"nquerybuildertablecode\": componentRow.nquerybuildertablecode //\"nformcode\":componentRow.table.item.nformcode\n\n                });\n              }\n\n              subSampleAuditFields.push(componentRow.label);\n              subSampleAuditMultilingualFields.push({\n                [componentRow.label]: componentRow.displayname\n              });\n\n              if (componentRow.mandatory) {\n                subSampleAuditEditable.push(componentRow.label);\n              }\n\n              if (componentRow.readonly) subsampleeditable.push({\n                label: componentRow.label,\n                editableuntill: []\n              });else subsampleeditable.push({\n                label: componentRow.label,\n                editableuntill: [transactionStatus.PREREGISTER]\n              });\n\n              if (componentRow.inputtype === 'date') {\n                subsampledatefields.push({\n                  [designProperties.VALUE]: componentRow.label,\n                  dateonly: componentRow.dateonly || false\n                });\n                subsampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\n              }\n\n              subsamplelistitem.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label\n              });\n            });\n          } else {\n            console.log(\"componentRow2 sub:\", component);\n            component.unique && subsampleuniquevalidation.push({\n              [designProperties.LABEL]: component.label\n            });\n            component.unique && subsamplecombinationunique.push({\n              [component.label]: {\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              }\n            });\n            subsamplesearchfields.push(component.label); // subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\n\n            subsampletemplatefields.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label,\n              [designProperties.PRIMARYKEY]: component.valuemember,\n              [designProperties.QUERYBUILDERTABLECODE]: component.nquerybuildertablecode\n            });\n\n            if (component.componentcode === designComponents.COMBOBOX) {\n              deleteValidation.push({\n                \"smastertablename\": component.table.item.stablename,\n                \"smasterprimarykeyname\": component.table.valuemember,\n                \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registrationsample\",\n                \"stranstableforeignkeyname\": component.table.valuemember,\n                // \"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\n                \"sjsonfieldname\": \"jsondata\",\n                \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                //\"nformcode\":component.table.item.nformcode,\n                \"nquerybuildertablecode\": component.nquerybuildertablecode\n              });\n            }\n\n            subSampleAuditFields.push(component.label);\n            subSampleAuditMultilingualFields.push({\n              [component.label]: component.displayname\n            });\n\n            if (component.mandatory) {\n              subSampleAuditEditable.push(component.label);\n            }\n\n            if (component.readonly) subsampleeditable.push({\n              label: component.label,\n              editableuntill: []\n            });else subsampleeditable.push({\n              label: component.label,\n              editableuntill: [transactionStatus.PREREGISTER]\n            });\n\n            if (component.inputtype === 'date') {\n              subsampledatefields.push({\n                [designProperties.VALUE]: component.label,\n                dateonly: component.dateonly || false\n              });\n              subsampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\n            }\n\n            subsamplelistitem.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label\n            });\n          }\n        });\n      }));\n      templatedata && templatedata.map(row => row.children && row.children.map(column => {\n        column.children && column.children.map(component => {\n          console.log(\"componentRow main:\", component);\n\n          if (component.hasOwnProperty('children')) {\n            // let combinedField = [];\n            component.children.map(componentRow => {\n              // combinedField.push(componentRow.label)\n              jdynamiccolumns.push({\n                columnname: componentRow.label,\n                displayname: componentRow.displayname\n              });\n\n              if (componentRow.hasOwnProperty('child')) {\n                componentRow.child.map(childData => {\n                  jnumericcolumns.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"foriegntablePK\": componentRow.label,\n                    // \"ismultilingual\": true,\n                    // \"conditionstring\": \" and nformcode in (140) \",\n                    \"tablecolumnname\": childData.tablecolumnname,\n                    \"foriegntablename\": \"dynamicmaster\"\n                  });\n                });\n              }\n\n              if (componentRow.componentcode === designComponents.COMBOBOX) {\n                deleteValidation.push({\n                  \"smastertablename\": componentRow.table.item.stablename,\n                  \"smasterprimarykeyname\": componentRow.table.valuemember,\n                  \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registration\",\n                  \"stranstableforeignkeyname\": componentRow.table.valuemember,\n                  //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\n                  \"sjsonfieldname\": \"jsondata\",\n                  \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                  //\"nformcode\":componentRow.table.item.nformcode,\n                  \"nquerybuildertablecode\": componentRow.nquerybuildertablecode\n                });\n              }\n\n              componentRow.unique && sampleuniquevalidation.push({\n                [designProperties.LABEL]: componentRow.label\n              });\n              componentRow.unique && samplecombinationunique.push({\n                [componentRow.label]: {\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                }\n              });\n              samplesearchfields.push(componentRow.label);\n              sampletemplatefields.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label,\n                [designProperties.PRIMARYKEY]: componentRow.valuemember,\n                [designProperties.QUERYBUILDERTABLECODE]: componentRow.nquerybuildertablecode\n              });\n              sampleAuditFields.push(componentRow.label);\n              sampleAuditMultilingualFields.push({\n                [componentRow.label]: componentRow.displayname\n              });\n\n              if (componentRow.inputtype === 'date') {\n                sampledatefields.push({\n                  [designProperties.VALUE]: componentRow.label,\n                  dateonly: componentRow.dateonly || false\n                });\n                sampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\n              }\n\n              displayFields.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label\n              });\n              componentRow.templatemandatory && listItem.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label\n              });\n\n              if (componentRow.mandatory || componentRow.templatemandatory) {\n                gridItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n                sampleAuditEditable.push(componentRow.label);\n              } else {\n                gridMoreItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n              }\n\n              if (componentRow.templatemandatory) {\n                editable.push({\n                  label: componentRow.label,\n                  editableuntill: []\n                });\n              } else {\n                if (componentRow.readonly) editable.push({\n                  label: componentRow.label,\n                  editableuntill: []\n                });else editable.push({\n                  label: componentRow.label,\n                  editableuntill: [transactionStatus.PREREGISTER]\n                });\n              }\n\n              return null;\n            }); // let fieldSet = combinedField.join(\"&\")\n            // displayFields.push(fieldSet);\n            // componentRow.templatemandatory && listItem.push(fieldSet)\n            // gridMoreItem.push(fieldSet);\n          } else {\n            console.log(\"componentRow main:\", component);\n            jdynamiccolumns.push({\n              columnname: component.label,\n              displayname: component.displayname\n            });\n\n            if (component.componentcode === designComponents.COMBOBOX) {\n              deleteValidation.push({\n                \"smastertablename\": component.table.item.stablename,\n                \"smasterprimarykeyname\": component.table.valuemember,\n                \"stranstablename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? \"dynamicmaster\" : \"registration\",\n                \"stranstableforeignkeyname\": component.table.valuemember,\n                //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\n                \"sjsonfieldname\": \"jsondata\",\n                \"nisdynamicmaster\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.YES : transactionStatus.NO,\n                //\"nformcode\":component.table.item.nformcode,\n                \"nquerybuildertablecode\": component.nquerybuildertablecode\n              });\n            }\n\n            if (component.hasOwnProperty('child')) {\n              component.child.map(childData => {\n                jnumericcolumns.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"foriegntablePK\": component.label,\n                  // \"ismultilingual\": true,\n                  // \"conditionstring\": \" and nformcode in (140) \",\n                  \"tablecolumnname\": childData.tablecolumnname,\n                  \"foriegntablename\": \"dynamicmaster\"\n                });\n              });\n            }\n\n            component.unique && sampleuniquevalidation.push({\n              [designProperties.LABEL]: component.label\n            });\n            component.unique && samplecombinationunique.push({\n              [component.label]: {\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              }\n            });\n            samplesearchfields.push(component.label);\n            sampletemplatefields.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label,\n              [designProperties.PRIMARYKEY]: component.valuemember,\n              [designProperties.QUERYBUILDERTABLECODE]: component.nquerybuildertablecode\n            });\n            sampleAuditFields.push(component.label);\n            sampleAuditMultilingualFields.push({\n              [component.label]: component.displayname\n            });\n\n            if (component.inputtype === 'date') {\n              sampledatefields.push({\n                [designProperties.VALUE]: component.label,\n                dateonly: component.dateonly || false\n              });\n              sampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\n            }\n\n            displayFields.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label\n            }); // component.templatemandatory \n            //&& listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\n\n            if (component.mandatory || component.templatemandatory) {\n              gridItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n              listItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label,\n                mandatory: true\n              });\n              sampleAuditEditable.push(component.label);\n            } else {\n              gridMoreItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n            }\n\n            if (component.templatemandatory) {\n              editable.push({\n                label: component.label,\n                editableuntill: []\n              });\n            } else {\n              // editable.push({ label: component.label, editableuntill: [17] })\n              if (component.readonly) editable.push({\n                label: component.label,\n                editableuntill: []\n              });else editable.push({\n                label: component.label,\n                editableuntill: [transactionStatus.PREREGISTER]\n              });\n            }\n\n            return null;\n          }\n        });\n      })); // if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){        \n\n      displayFields.push({\n        [designProperties.LABEL]: {\n          \"en-US\": \"Reg. Date\",\n          \"ru-RU\": \"Reg. Date(RU)\",\n          \"tg-TG\": \"Reg. Date(TU)\"\n        },\n        [designProperties.VALUE]: 'dregdate'\n      }); // }\n      //samplesearchfields.push(...staticSearchFields);\n      //console.log(\"reg sub type:\", this.props.Login);\n\n      const testListFields = { ...this.props.Login.testListFields\n      };\n      let obj = {\n        sampledisplayfields: displayFields,\n        samplelistitem: listItem,\n        samplegriditem: gridItem,\n        samplegridmoreitem: gridMoreItem,\n        subsamplelistitem,\n        sampledatefields,\n        subsampledatefields,\n        samplesearchfields,\n        subsamplesearchfields,\n        testdatefields,\n        sampledateconstraints,\n        subsampledateconstraints,\n        // sampleuniquevalidation,\n        //  subsamplecombinationunique,\n        samplecombinationunique,\n        testListFields,\n        deleteValidation //combinedsearchfields:[...samplesearchfields,...subsamplesearchfields,...testListFields[\"testsearchfields\"] ]\n\n      }; // console.log(\"Template mapping obj:\", obj);\n      // if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){  \n\n      sampleAuditFields.push(\"dregdate\", \"stransdisplaystatus\");\n      sampleAuditEditable.push(\"stransdisplaystatus\");\n      subSampleAuditFields.push(\"stransdisplaystatus\");\n      subSampleAuditEditable.push(\"stransdisplaystatus\");\n      sampleAuditMultilingualFields.push({\n        \"dregdate\": {\n          \"en-US\": \"Reg. Date\",\n          \"ru-RU\": \"Reg. Date(RU)\",\n          \"tg-TG\": \"Reg. Date(TU)\"\n        }\n      }, {\n        \"stransdisplaystatus\": {\n          \"en-US\": \"Transaction Status\",\n          \"ru-RU\": \"Transaction Status(RU)\",\n          \"tg-TG\": \"Transaction Status(TU)\"\n        }\n      });\n      subSampleAuditMultilingualFields.push({\n        \"stransdisplaystatus\": {\n          \"en-US\": \"Transaction Status\",\n          \"ru-RU\": \"Transaction Status(RU)\",\n          \"tg-TG\": \"Transaction Status(TU)\"\n        }\n      }); //}\n\n      let jsondata = {\n        subsamplecombinationunique,\n        samplecombinationunique,\n        sampletemplatefields: [...SAMPLETEMPLATEFIELDS, ...sampletemplatefields],\n        subsampletemplatefields: [...SUBSAMPLETEMPLATEFIELDS, ...subsampletemplatefields],\n        //: subsamplesearchfields,\n        [formCode.SAMPLEREGISTRATION]: { ...obj,\n          sampleeditable: editable,\n          subsampleeditable,\n          samplecombinationunique,\n          subsamplecombinationunique\n        },\n        [formCode.RESULTENTRY]: { ...obj\n        },\n        [formCode.APPROVAL]: { ...obj\n        },\n        [formCode.JOBALLOCATION]: { ...obj\n        },\n        [formCode.MYJOBS]: { ...obj\n        },\n        [formCode.TESTWISEMYJOBS]: { ...obj\n        },\n        [formCode.RELEASE]: { ...obj,\n          samplegriditem: [{\n            \"1\": {\n              \"en-US\": \"AR.No.\",\n              \"ru-RU\": \" \",\n              \"tg-TG\": \" \"\n            },\n            \"2\": \"sarno\"\n          }, ...obj.samplegriditem],\n          subsamplelistitem: [{\n            \"1\": {\n              \"en-US\": \"Sub AR.No.\",\n              \"ru-RU\": \" ArNo.\",\n              \"tg-TG\": \" ArNo.\"\n            },\n            \"2\": \"ssamplearno\"\n          }, ...obj.subsamplelistitem] // },\n\n        },\n        sampleAuditEditable,\n        sampleAuditFields,\n        sampleAuditMultilingualFields,\n        subSampleAuditEditable,\n        subSampleAuditFields,\n        subSampleAuditMultilingualFields,\n        deleteValidation\n      };\n      console.log(\"jsondata:\", jsondata);\n      return jsondata;\n    };\n\n    this.onChangeToggle = (event, dataItem, field, dataIndex, formCode, operation) => {\n      let designData = this.props.Login.designData;\n      let dataResult = this.props.Login.dataResult;\n\n      if (operation === 'configureaudit') {\n        designData = this.props.Login.auditFieldDesignData;\n        dataResult = this.props.Login.auditFieldDataResult;\n      }\n\n      let tableName = \"registration\";\n\n      if (this.props.Login.masterData.realSampleValue.value === TemplateType.Masters) {\n        tableName = \"dynamicmaster\";\n      }\n\n      if (formCode === undefined) {\n        dataResult[dataIndex][field] = event.target.checked;\n\n        if (event.target.checked) {\n          designData[field].splice(dataIndex, 0, dataItem.realData);\n        } else {\n          designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1);\n        }\n      } else {\n        //dataResult[formCode][dataIndex][field] = event.target.checked;\n        if (event.target.checked) {\n          if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\n            return toast.warn(this.props.intl.formatMessage({\n              id: \"IDS_MAXIMUMSELECTIONEXCEEDS\"\n            }));\n          } else {\n            if (field === 'sampledisplayfields') {\n              dataResult[formCode][dataIndex][field] = event.target.checked;\n              designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label);\n              designData[formCode][field].splice(dataIndex, 0, dataItem.realData);\n            } else if (field === 'sampleauditfields') {\n              dataResult[formCode][tableName][dataIndex][field] = event.target.checked;\n\n              if (designData[formCode][tableName]['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                designData[formCode][tableName]['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n                designData[formCode][tableName]['multilingualfields'].splice(dataIndex, 0, {\n                  [dataItem.realData[designProperties.VALUE]]: dataItem.realData[designProperties.LABEL]\n                });\n              }\n            } else if (field === 'sampleauditeditfields') {\n              dataResult[formCode][tableName][dataIndex][\"sampleauditfields\"] = event.target.checked;\n              dataResult[formCode][tableName][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\n\n              if (designData[formCode][tableName]['sampleauditeditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                designData[formCode][tableName][field].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n\n                if (designData[formCode][tableName]['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                  designData[formCode][tableName]['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n                  designData[formCode][tableName]['multilingualfields'].splice(dataIndex, 0, {\n                    [dataItem.realData[designProperties.VALUE]]: dataItem.realData[designProperties.LABEL]\n                  });\n                }\n              }\n            } else if (field === 'subsampleauditfields') {\n              dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;\n\n              if (designData[formCode]['registrationsample']['subsampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                designData[formCode]['registrationsample']['subsampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n                designData[formCode]['registrationsample']['multilingualfields'].splice(dataIndex, 0, {\n                  [dataItem.realData[designProperties.VALUE]]: dataItem.realData[designProperties.LABEL]\n                });\n              }\n            } else if (field === 'subsampleauditeditfields') {\n              dataResult[formCode]['registrationsample'][dataIndex][\"subsampleauditfields\"] = event.target.checked;\n              dataResult[formCode]['registrationsample'][dataIndex][\"subsampleauditeditfields\"] = event.target.checked;\n\n              if (designData[formCode]['registrationsample']['subsampleauditeditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                designData[formCode]['registrationsample'][field].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n\n                if (designData[formCode]['registrationsample']['subsampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1) {\n                  designData[formCode]['registrationsample']['subsampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\n                  designData[formCode]['registrationsample']['multilingualfields'].splice(dataIndex, 0, {\n                    [dataItem.realData[designProperties.VALUE]]: dataItem.realData[designProperties.LABEL]\n                  });\n                }\n              }\n            } else {\n              dataResult[formCode][dataIndex][field] = event.target.checked;\n              designData[formCode][field].splice(dataIndex, 0, dataItem.realData);\n            }\n          }\n        } else {\n          if (field === 'sampledisplayfields') {\n            dataResult[formCode][dataIndex][field] = event.target.checked;\n            designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1);\n            const index = designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index !== -1) {\n              designData[formCode]['samplesearchfields'].splice(index, 1);\n            }\n          } else if (field === 'sampleauditfields') {\n            dataResult[formCode][tableName][dataIndex][field] = event.target.checked;\n            const index = designData[formCode][tableName][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index !== -1) {\n              designData[formCode][tableName][field].splice(index, 1);\n            }\n\n            const index1 = designData[formCode][tableName]['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\n\n            if (index1 !== -1) {\n              designData[formCode][tableName]['multilingualfields'].splice(index1, 1);\n            }\n\n            const index3 = designData[formCode][tableName][\"sampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index3 !== -1) {\n              designData[formCode][tableName][\"sampleauditeditfields\"].splice(index3, 1);\n            }\n\n            dataResult[formCode][tableName][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\n          } else if (field === 'sampleauditeditfields') {\n            dataResult[formCode][tableName][dataIndex][field] = event.target.checked;\n            const index4 = designData[formCode][tableName][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index4 !== -1) {\n              designData[formCode][tableName][field].splice(index4, 1);\n            }\n          } else if (field === 'subsampleauditfields') {\n            dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;\n            const index1 = designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index1 !== -1) {\n              designData[formCode][\"registrationsample\"][field].splice(index1, 1);\n            }\n\n            const index2 = designData[formCode][\"registrationsample\"]['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\n\n            if (index2 !== -1) {\n              designData[formCode][\"registrationsample\"]['multilingualfields'].splice(index2, 1);\n            }\n\n            const index3 = designData[formCode]['registrationsample'][\"subsampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index3 !== -1) {\n              designData[formCode][\"registrationsample\"][\"subsampleauditeditfields\"].splice(index3, 1);\n            }\n\n            dataResult[formCode][\"registrationsample\"][dataIndex][\"subsampleauditeditfields\"] = event.target.checked;\n          } else if (field === 'subsampleauditeditfields') {\n            dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;\n            const index1 = designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\n\n            if (index1 !== -1) {\n              designData[formCode][\"registrationsample\"][field].splice(index1, 1);\n            }\n          } else {\n            dataResult[formCode][dataIndex][field] = event.target.checked;\n            designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.realData[designProperties.VALUE]), 1);\n          }\n        }\n      }\n\n      let data = {\n        designData,\n        dataResult\n      };\n\n      if (operation === 'configureaudit') {\n        data = {\n          auditFieldDesignData: designData,\n          auditFieldDataResult: dataResult\n        };\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: { ...data\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      // console.log(\"save:\", this.props.Login.masterData.realRegSubTypeValue);\n      //console.log(\"data:\", this.props.Login.editFieldDesignData)\n      let inputData = [];\n      let operation = this.props.Login.operation;\n      const needsubsample = this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false;\n\n      if (operation === 'configure' || operation === 'configuresubsample') {\n        inputData = {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\n            jsondataobj: this.props.Login.designData\n          },\n          userinfo: this.props.Login.userInfo\n        };\n        operation = 'configure';\n      } else if (operation === 'configureedit' || operation === 'configuresubsampleedit') {\n        let designData = this.props.Login.editFieldDesignData;\n        let formCodeArray = Object.keys(this.state.selectedRecord);\n        formCodeArray.forEach(formCode => {\n          const data = this.state.selectedRecord[formCode];\n          let editableData = designData[formCode]['sampleeditable'];\n          ;\n\n          if (operation === 'configuresubsampleedit') {\n            editableData = designData[formCode]['subsampleeditable'];\n            ;\n          }\n\n          Object.keys(data).map(label => {\n            const editableuntil = [];\n            data[label].map(statusItem => editableuntil.push(statusItem.value));\n            const index = editableData.findIndex(item => item.label === label);\n\n            if (index === -1) {\n              editableData.push({\n                \"label\": label,\n                \"editableuntill\": editableuntil\n              });\n            } else {\n              editableData[index] = {\n                \"label\": label,\n                \"editableuntill\": editableuntil\n              };\n            } //designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\n\n          });\n        });\n        inputData = {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\n            jsondataobj: designData\n          },\n          userinfo: this.props.Login.userInfo\n        };\n        operation = 'configure';\n      } else if (operation === 'configureunique') {\n        let designData = this.props.Login.designData; //  let formCodeArray = Object.keys(this.state.selectedRecord);\n\n        const dataList = [];\n        const dataListsubsample = [];\n        this.props.Login.dataList.map(x => {\n          if (Object.keys(x).length !== 0) {\n            dataList.push(x);\n          }\n        });\n\n        if (this.props.Login.masterData.realSampleValue.value === TemplateType.Masters) {\n          designData['mastercombinationunique'] = dataList;\n        } else {\n          designData['samplecombinationunique'] = dataList;\n          designData[formCode.SAMPLEREGISTRATION]['samplecombinationunique'] = dataList;\n          this.props.Login.dataListSubSample.map(x => {\n            if (Object.keys(x).length !== 0) {\n              dataListsubsample.push(x);\n            }\n          });\n          designData['subsamplecombinationunique'] = dataListsubsample;\n          designData[formCode.SAMPLEREGISTRATION]['subsamplecombinationunique'] = dataListsubsample;\n        }\n\n        inputData = {\n          designtemplatemapping: {\n            ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\n            jsondataobj: designData\n          },\n          userinfo: this.props.Login.userInfo\n        };\n        operation = 'configure';\n      } else if (operation === 'configureaudit') {\n        //console.log(\"auditFieldDesignData:\", this.props.Login);\n        inputData = {\n          //dynamicaudit: {\n          ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\n          auditdata: this.props.Login.auditData,\n          //nregtypecode:this.props.Login.masterData.realRegTypeValue.value, \n          //nregsubtypecode:this.props.Login.masterData.realRegSubTypeValue.value, \n          //nformcode:43, stablename:'registration',\n          // },\n          userinfo: this.props.Login.userInfo\n        }; //operation = 'configure';\n      } else {\n        console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\n        let {\n          jsondata,\n          jdynamiccolumns,\n          jnumericcolumns,\n          templatePrimaryKey\n        } = this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? this.getGridJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata) : {};\n        let auditData = {};\n        let dataObject = {};\n\n        if (this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\n          dataObject = this.getJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata); // console.log(\"json:\",dataObject);\n\n          auditData = {\n            \"registration\": {\n              editmandatoryfields: dataObject[\"sampleAuditEditable\"],\n              auditcapturefields: dataObject[\"sampleAuditFields\"],\n              multilingualfields: dataObject[\"sampleAuditMultilingualFields\"]\n            }\n          };\n\n          if (needsubsample) {\n            auditData = { ...auditData,\n              registrationsample: {\n                editmandatoryfields: dataObject[\"subSampleAuditEditable\"],\n                auditcapturefields: dataObject[\"subSampleAuditFields\"],\n                multilingualfields: dataObject[\"subSampleAuditMultilingualFields\"]\n              }\n            };\n            delete dataObject[\"subSampleAuditEditable\"];\n            delete dataObject[\"subSampleAuditFields\"];\n            delete dataObject[\"subSampleAuditMultilingualFields\"];\n          }\n\n          delete dataObject[\"sampleAuditEditable\"];\n          delete dataObject[\"sampleAuditFields\"];\n          delete dataObject[\"sampleAuditMultilingualFields\"];\n        } else {\n          // if(this.props.Login.masterData.realSampleValue.value === TemplateType.Masters){\n          auditData = {\n            \"dynamicmaster\": {\n              editmandatoryfields: jsondata[\"sampleAuditEditable\"],\n              auditcapturefields: jsondata[\"sampleAuditFields\"],\n              multilingualfields: jsondata[\"sampleAuditMultilingualFields\"]\n            }\n          };\n        }\n\n        inputData = {\n          \"userinfo\": this.props.Login.userInfo,\n          \"ncontrolcode\": this.props.Login.ncontrolCode,\n          \"nreactregtemplatecode\": this.state.selectedRecord.nreactregtemplatecode.value,\n          \"nsampletypecode\": this.props.Login.masterData.realSampleValue.value,\n          \"nregtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\n          \"nregsubtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\n          \"sregsubtypename\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"\",\n          \"nformcode\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1,\n          \"nsubsampletemplatecode\": this.state.selectedRecord.nsubsampletemplatecode ? this.state.selectedRecord.nsubsampletemplatecode.value : -1,\n          \"jsondataobj\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? jsondata : dataObject,\n          auditdata: auditData,\n          needsubsample: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false\n        };\n        inputData[\"designtemplatemapping\"] = {\n          \"nsitecode\": this.props.Login.userInfo.nmastersitecode\n        };\n\n        if (this.props.Login.masterData.realFormValue && this.props.Login.masterData.realFormValue.value === -2) {\n          let qf_jsonData = {\n            sdisplayname: {}\n          };\n          let qbt_jsonData = {\n            tablename: {}\n          };\n          this.props.Login.languageList.map(lang => {\n            qf_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord.sformname;\n            qbt_jsonData['tablename'][lang.value] = this.state.selectedRecord.sformname;\n          });\n          let qm_jsonData = {\n            sdisplayname: {}\n          };\n          let nmodulecode = 0;\n          let smoduledisplayname = \"\";\n\n          if (this.state.selectedRecord[\"nnewmodule\"].value === transactionStatus.YES) {\n            smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"];\n            this.props.Login.languageList.map(lang => {\n              qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"];\n            });\n          } else {\n            nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\n          }\n\n          inputData = { ...inputData,\n            sformname: this.state.selectedRecord.sformname,\n            sregtemplatename: this.state.selectedRecord.nreactregtemplatecode.label,\n            nmodulecode,\n            smoduledisplayname,\n            qm_jsonData,\n            qf_jsonData,\n            qbt_jsonData,\n            sprimarykeyname: templatePrimaryKey,\n            jdynamiccolumns,\n            jnumericcolumns\n          };\n        } else {\n          inputData = { ...inputData,\n            sformname: this.props.Login.masterData.realFormValue && this.props.Login.masterData.realFormValue.label,\n            sregtemplatename: this.state.selectedRecord.nreactregtemplatecode.label,\n            ssubregtemplatename: this.state.selectedRecord.nsubsampletemplatecode && this.state.selectedRecord.nsubsampletemplatecode.label,\n            sprimarykeyname: templatePrimaryKey,\n            jdynamiccolumns,\n            jnumericcolumns\n          };\n        } // this.designtemplatemappingFieldList.map(item => {\n        //     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\n        // });\n\n      } //console.log(\"input:\", inputData);\n\n\n      let postParam = undefined;\n      const inputParam = {\n        classUrl: \"designtemplatemapping\",\n        methodUrl: \"DesignTemplateMapping\",\n        inputData: inputData,\n        operation,\n        saveType,\n        formRef,\n        postParam,\n        searchRef: this.searchRef,\n        dataList: [],\n        dataListCount: [],\n        dataListCountSubSample: [],\n        dataListSubSample: []\n      };\n\n      if (operation === 'configureaudit') {\n        inputParam[\"methodUrl\"] = \"DynamicAudit\";\n        inputParam[\"operation\"] = \"configure\"; //operation = 'configure';\n      }\n\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType,\n            dataList: [],\n            dataListCount: [],\n            dataListCountSubSample: [],\n            dataListSubSample: []\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.state = {\n      isOpen: false,\n      designtemplatemappingData: [],\n      masterStatus: \"\",\n      error: \"\",\n      //selectedRecord: {},\n      operation: \"\",\n      screenName: undefined,\n      userLogged: true,\n      selectedDesignTemplateMapping: undefined,\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      showAccordian: true,\n      selectedInput: \"\",\n      masterTypeArray: [{\n        label: this.props.intl.formatMessage({\n          id: \"IDS_NEWMASTER\"\n        }),\n        value: 1,\n        item: {\n          nmastertypecode: 1,\n          smastertype: this.props.intl.formatMessage({\n            id: \"IDS_NEWMASTER\"\n          })\n        }\n      }, {\n        label: this.props.intl.formatMessage({\n          id: \"IDS_EXISTINGMASTER\"\n        }),\n        value: 2,\n        item: {\n          nmastertypecode: 2,\n          smastertype: this.props.intl.formatMessage({\n            id: \"IDS_EXISTINGMASTER\"\n          })\n        }\n      }],\n      newMasterForm: {\n        value: -2,\n        label: \"-\"\n      },\n      moduleTypeArray: [{\n        label: this.props.intl.formatMessage({\n          id: \"IDS_NEWMODULE\"\n        }),\n        value: 3\n      }, {\n        label: this.props.intl.formatMessage({\n          id: \"IDS_EXISTINGMODULE\"\n        }),\n        value: 4\n      }]\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    this.searchFieldList = [\"sregtemplatename\", \"sversionno\", \"stransdisplaystatus\"];\n    this.designtemplatemappingFieldList = ['ndesigntemplatemappingcode', 'nsampletypecode', 'nformcode', 'nregtypecode', 'nregsubtypecode', 'nformwisetypecode', 'nreactregtemplatecode', 'ntransactionstatus', 'nversionno']; //'nmahcode',\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (props.Login.selectedRecord === undefined) {\n      return {\n        selectedRecord: {}\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const Layout = this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.jsondata; // let userStatusCSS = \"outline-secondary\";\n    // if (this.props.Login.masterData.selectedDesignTemplateMapping ? this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.ACTIVE\n    //     || this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED : false) {\n    //     userStatusCSS = \"outline-success\";\n    // }\n    // else if (this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.RETIRED) {\n    //     userStatusCSS = \"outline-danger\";\n    // }\n\n    const addId = this.state.controlMap.has(\"AddDesignTemplateMapping\") && this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;\n    const sampleFieldId = this.state.controlMap.has(\"ConfigureSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSampleDisplayFields\").ncontrolcode;\n    const sampleEditFieldId = this.state.controlMap.has(\"ConfigureSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSampleEditableFields\").ncontrolcode;\n    const subSampleFieldId = this.state.controlMap.has(\"ConfigureSubSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSubSampleDisplayFields\").ncontrolcode;\n    const subSampleEditFieldId = this.state.controlMap.has(\"ConfigureSubSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSubSampleEditableFields\").ncontrolcode;\n    const combinationUniqueFieldId = this.state.controlMap.has(\"ConfigureCombinationUniqueFields\") && this.state.controlMap.get(\"ConfigureCombinationUniqueFields\").ncontrolcode; //const sampleAuditConfigId = this.state.controlMap.has(\"ConfigureSampleAuditFields\") && this.state.controlMap.get(\"ConfigureSampleAuditFields\").ncontrolcode;\n\n    const actionList = [];\n\n    if (this.state.userRoleControlRights.indexOf(sampleFieldId) !== -1) {\n      actionList.push({\n        \"method\": templateMappingAction.CONFIGSAMPLEDISPLAY,\n        \"value\": this.props.intl.formatMessage({\n          id: \"IDS_CONFIGUREDISPLAYFIELDS\"\n        }),\n        \"controlId\": sampleFieldId\n      });\n    }\n\n    if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters && this.state.userRoleControlRights.indexOf(sampleEditFieldId) !== -1) {\n      actionList.push({\n        \"method\": templateMappingAction.CONFIGSAMPLEEDIT,\n        \"value\": this.props.intl.formatMessage({\n          id: \"IDS_CONFIGUREEDITFIELDS\"\n        }),\n        \"controlId\": sampleEditFieldId\n      });\n\n      if (this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample === true) {\n        if (this.state.userRoleControlRights.indexOf(subSampleFieldId) !== -1) {\n          actionList.push({\n            \"method\": templateMappingAction.CONFIGSUBSAMPLEDISPLAY,\n            \"value\": this.props.intl.formatMessage({\n              id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\"\n            }),\n            \"controlId\": subSampleFieldId\n          });\n        }\n\n        if (this.state.userRoleControlRights.indexOf(subSampleEditFieldId) !== -1) {\n          actionList.push({\n            \"method\": templateMappingAction.CONFIGSUBSAMPLEEDIT,\n            \"value\": this.props.intl.formatMessage({\n              id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\"\n            }),\n            \"controlId\": subSampleEditFieldId\n          });\n        }\n      }\n    }\n\n    if (this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) !== -1) {\n      actionList.push({\n        \"method\": templateMappingAction.CONFIGUNIQUE,\n        \"value\": this.props.intl.formatMessage({\n          id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\"\n        }),\n        \"controlId\": combinationUniqueFieldId\n      });\n    }\n\n    if (this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) !== -1) {\n      //sampleAuditConfigId\n      actionList.push({\n        \"method\": templateMappingAction.CONFIGSAMPLEAUDIT,\n        \"value\": this.props.intl.formatMessage({\n          id: \"IDS_CONFIGUREAUDITFIELDS\"\n        }),\n        \"controlId\": combinationUniqueFieldId\n      });\n    }\n\n    const filterParam = {\n      inputListName: \"DesignTemplateMapping\",\n      selectedObject: \"selectedDesignTemplateMapping\",\n      primaryKeyField: \"ndesigntemplatemappingcode\",\n      fetchUrl: \"designtemplatemapping/getDesignTemplateMapping\",\n      fecthInputObject: {\n        nregtypecode: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1) : -1,\n        nregsubtypecode: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1) : -1,\n        userinfo: this.props.Login.userInfo,\n        nsampletypecode: this.props.Login.masterData[\"realSampleValue\"] ? this.props.Login.masterData[\"realSampleValue\"].value : -1,\n        //nregtypecode: this.props.Login.masterData[\"realRegTypeValue\"] ? this.props.Login.masterData[\"realRegTypeValue\"].value : -1,\n        //nregsubtypecode: this.props.Login.masterData[\"realRegSubTypeValue\"] ? this.props.Login.masterData[\"realRegSubTypeValue\"].value : -1,\n        nformcode: this.props.Login.masterData[\"realFormValue\"] ? this.props.Login.masterData[\"realFormValue\"].value : -1\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: this.searchFieldList\n    };\n    this.validationColumnList = [{\n      \"idsName\": \"IDS_TEMPLATENAME\",\n      \"dataField\": \"nreactregtemplatecode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    const mandatoryFields = [];\n    this.validationColumnList.forEach(item => item.mandatory === true ? mandatoryFields.push(item) : \"\"); // let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\n    //     this.props.Login.masterData && this.props.Login.masterData.ToDate,\n    //     this.props.Login.userInfo)\n    // const breadCrumbData = [\n\n    let breadCrumbData = [];\n    this.props.Login.masterData[\"realSampleValue\"] && this.props.Login.masterData[\"realSampleValue\"].value === 4 ? breadCrumbData = [{\n      \"label\": \"IDS_SAMPLETYPE\",\n      \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\n    }, //defaultMasterType\n    // {\n    //     \"label\": \"IDS_MASTERTYPE\",\n    //     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\n    // },\n    {\n      \"label\": \"IDS_SCREEN\",\n      \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\n    }] : breadCrumbData = [{\n      \"label\": \"IDS_SAMPLETYPE\",\n      \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\n    }, {\n      \"label\": \"IDS_REGTYPE\",\n      \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\n    }, {\n      \"label\": \"IDS_REGSUBTYPE\",\n      \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\n    }];\n    const addParam = {\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_DESIGNTEMPLATEMAPPING\"\n      }),\n      operation: \"create\",\n      userInfo: this.props.Login.userInfo,\n      realSampleValue: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value : -1,\n      realRegTypeValue: this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\n      realRegSubTypeValue: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\n      controlId: addId,\n      moduleTypeArray: this.state.moduleTypeArray\n    };\n    console.log(\"render, props, state:\", this.props.Login);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 29\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_DESIGNTEMPLATEMAPPING\"\n      }),\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.DesignTemplateMapping,\n      getMasterDetail: designtemplatemapping => this.props.getDesignTemplateMappingDetail(designtemplatemapping, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedDesignTemplateMapping,\n      primaryKeyField: \"ndesigntemplatemappingcode\",\n      mainField: \"sregtemplatename\",\n      firstField: \"sversionno\",\n      secondField: \"stransdisplaystatus\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: true,\n      openModal: () => this.props.getDesignTemplateMappingComboService(addParam),\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      filterComponent: [{\n        \"IDS_TEMPLATEFILTER\": /*#__PURE__*/React.createElement(TemplateFilter, {\n          formatMessage: this.props.intl.formatMessage,\n          filterSampletype: this.state.listSampletype || [],\n          filterRegistrationType: this.state.listRegistrationType || [],\n          filterRegistrationSubType: this.state.listRegistrationSubType || [],\n          filterForms: this.state.listForms || [],\n          defaultsampletype: this.props.Login.masterData[\"defaultsampletype\"] || {},\n          defaultregsubtype: this.props.Login.masterData[\"defaultregsubtype\"] || [],\n          defaultregtype: this.props.Login.masterData[\"defaultregtype\"] || [],\n          defaultform: this.props.Login.masterData.defaultform || [],\n          filterComboChange: this.filterComboChange,\n          masterTypeArray: this.props.Login.masterData.masterTypeArray || [],\n          defaultMasterType: this.props.Login.masterData.defaultMasterType || {},\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 33\n      }\n    }, this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping.length > 0 && this.props.Login.masterData.selectedDesignTemplateMapping ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename)), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      className: \"text-muted font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 10,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 61\n      }\n    }, `${this.props.intl.formatMessage({\n      id: \"IDS_VERSION\"\n    })} : ${this.props.Login.masterData.selectedDesignTemplateMapping.sversionno}`, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus))), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category float-right icon-group-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }) // data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.onApproveClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \" btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }) //    data-for=\"tooltip_list_wrap\"\n      ,\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1 // onClick={() => this.ConfirmDelete(this.state.approveId)}>\n      ,\n      onClick: () => this.ConfirmDelete(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 69\n      }\n    })), actionList.length > 0 ? /*#__PURE__*/React.createElement(CustomPopover, {\n      nav: true,\n      data: actionList,\n      Button: false,\n      hideIcon: true,\n      btnClasses: \"btn-circle btn_grey ml-2\",\n      textKey: \"value\",\n      icon: faChevronCircleDown // toolTip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURE\" })}\n      ,\n      dynamicButton: value => this.actionMethod(value),\n      userRoleControlRights: this.state.userRoleControlRights,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 69\n      }\n    }) : \"\"))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 45\n      }\n    }, this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.nformcode > 0 && /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_MODULENAME\",\n      message: \"Module Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 76\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 65\n      }\n    }, \"   \", this.props.Login.masterData.selectedDesignTemplateMapping.smodulename))), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_FORMNAME\",\n      message: \"Form Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 61\n      }\n    }, this.props.Login.masterData.selectedDesignTemplateMapping.sformname))), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TEMPLATE\",\n      message: \"Template\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 53\n      }\n    }, Layout ? Layout.map(item => /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 69\n      }\n    }, item.children.length > 0 ? item.children.map(column => /*#__PURE__*/React.createElement(Col, {\n      md: 12 / item.children.length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 81\n      }\n    }, column.children.map(component => {\n      return component.hasOwnProperty(\"children\") ? /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 101\n        }\n      }, component.children.map(componentrow => /*#__PURE__*/React.createElement(Col, {\n        md: 12 / componentrow.length,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 109\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 113\n        }\n      }, /*#__PURE__*/React.createElement(FormLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 117\n        }\n      }, componentrow.label), /*#__PURE__*/React.createElement(ReadOnlyText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 117\n        }\n      }, \"-\"))))) : /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 101\n        }\n      }, /*#__PURE__*/React.createElement(FormLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 105\n        }\n      }, component.label), /*#__PURE__*/React.createElement(ReadOnlyText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 105\n        }\n      }, \" \", \"-\"));\n    }))) : \"\")) : \"\")))) : \"\"))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal // size={(this.props.Login.operation === 'configure'\n      //     || this.props.Login.operation === 'configuresubsample'\n      //     || this.props.Login.operation === 'configureaudit') ? \"xl\" : \"lg\"}\n      ,\n      size: \"xl\",\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.operation === 'configure' || this.props.Login.operation === 'configuresubsample' || this.props.Login.operation === 'configureedit' || this.props.Login.operation === 'configuresubsampleedit' || this.props.Login.operation === 'configureunique' || this.props.Login.operation === 'configureaudit' ? [] : mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 29\n        }\n      }) : this.props.Login.operation === 'configure' || this.props.Login.operation === 'configuresubsample' ? /*#__PURE__*/React.createElement(ConfigureScreenFields, {\n        operation: this.props.Login.operation,\n        designData: this.props.Login.designData || {},\n        inputParam: this.props.Login.inputParam,\n        dataResult: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ? this.props.Login.dataResult || [] : this.props.Login.dataResult || {},\n        onChangeToggle: this.onChangeToggle,\n        approvedRegSubTypeVersion: this.props.Login.approvedRegSubTypeVersion,\n        selectedTemplateType: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 33\n        }\n      }) : this.props.Login.operation === 'configureedit' || this.props.Login.operation === 'configuresubsampleedit' ? /*#__PURE__*/React.createElement(ConfigureEditFields, {\n        operation: this.props.Login.operation,\n        designData: this.props.Login.editFieldDesignData || {},\n        inputParam: this.props.Login.inputParam,\n        dataResult: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ? this.props.Login.editFieldDataResult || [] : this.props.Login.editFieldDataResult || {},\n        selectedRecord: this.state.selectedRecord || {} // onChangeToggle={this.onChangeToggle}\n        ,\n        onComboChange: this.onConfigureComboChange // approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\n        ,\n        selectedTemplateType: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 37\n        }\n      }) : this.props.Login.operation === 'configureaudit' ? /*#__PURE__*/React.createElement(ConfigureAuditFields, {\n        operation: this.props.Login.operation,\n        needSubSample: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false,\n        designData: this.props.Login.auditFieldDesignData || {},\n        auditTable: this.props.Login.auditTable || {},\n        auditData: this.props.Login.auditData || {},\n        inputParam: this.props.Login.inputParam,\n        dataResult: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ? this.props.Login.auditFieldDataResult || [] : this.props.Login.auditFieldDataResult || {},\n        selectedRecord: this.state.selectedRecord || {},\n        onChangeToggle: this.onChangeToggle,\n        selectedTemplateType: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 39\n        }\n      }) : this.props.Login.operation === 'configureunique' ? /*#__PURE__*/React.createElement(ConfigureUniqueFields, {\n        designData: this.props.Login.designData || {},\n        inputParam: this.props.Login.inputParam // dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\n        //     this.props.Login.dataResult || [] :\n        //     this.props.Login.dataResult || {}}\n        ,\n        dataList: this.props.Login.dataList || [],\n        dataListCount: this.props.Login.dataListCount || [],\n        dataListsubsample: this.props.Login.dataListSubSample || [],\n        dataListCountsubsample: this.props.Login.dataListCountSubSample || [],\n        onInputOnChange: this.onInputOnChangeForUnique,\n        addCombinatonUnique: this.addCombinatonUnique,\n        deleteCombinationUnique: this.deleteCombinationUnique,\n        slanguagetypecode: this.props.Login.userInfo.slanguagetypecode,\n        approvedRegSubTypeVersion: this.props.Login.approvedRegSubTypeVersion,\n        selectedTemplateType: this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 41\n        }\n      }) : this.state.showSynonym ? /*#__PURE__*/React.createElement(AddSynonym, {\n        selectedFieldRecord: this.state.selectedRecord,\n        onInputOnChange: this.onInputOnChange,\n        languages: this.props.Login.languageList || [],\n        fieldName: \"nmodulecode\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 45\n        }\n      }) : /*#__PURE__*/React.createElement(AddDesignTemplateMapping, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        handleDateChange: this.handleDateChange,\n        formatMessage: this.props.intl.formatMessage,\n        designtemplatemappingList: this.props.Login.designtemplatemappingList,\n        subSampleTemplateList: this.props.Login.subSampleTemplateList,\n        selectedDesignTemplateMapping: this.props.Login.masterData.selectedDesignTemplateMapping || {},\n        operation: this.props.Login.operation,\n        userLogged: this.props.Login.userLogged,\n        inputParam: this.props.Login.inputParam,\n        userInfo: this.props.Login.userInfo,\n        nformcode: this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1,\n        needSubSample: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false,\n        designTemplateQualisModule: this.props.Login.designTemplateQualisModule,\n        language: this.props.Login.language,\n        moduleTypeArray: this.state.moduleTypeArray || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    let updateState = false;\n    let {\n      selectedRecord,\n      userRoleControlRights,\n      controlMap,\n      listSampletype,\n      listRegistrationType,\n      listRegistrationSubType,\n      listForms\n    } = this.state;\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        updateState = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      updateState = true;\n      selectedRecord = this.props.Login.selectedRecord;\n    }\n\n    const selectedInput = {};\n    let Taglstsampletype;\n    let TaglistRegistrationType;\n    let TaglistRegistrationSubType;\n    let ListFormsMap;\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      updateState = true;\n\n      if (this.props.Login.masterData.SampleTypes) {\n        Taglstsampletype = constructOptionList(this.props.Login.masterData.SampleTypes || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"ascending\", undefined);\n        listSampletype = Taglstsampletype.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.registrationTypes) {\n        TaglistRegistrationType = constructOptionList(this.props.Login.masterData.registrationTypes || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\n        listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.registrationSubTypes) {\n        TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.registrationSubTypes || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\n        listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\n      }\n\n      if (this.props.Login.masterData.qualisforms) {\n        ListFormsMap = constructOptionList(this.props.Login.masterData.qualisforms || [], \"nformcode\", \"sdisplayname\", undefined, undefined, undefined);\n        listForms = ListFormsMap.get(\"OptionList\");\n      }\n    }\n\n    if (updateState) {\n      this.setState({\n        selectedRecord,\n        controlMap,\n        userRoleControlRights,\n        listSampletype,\n        listRegistrationType,\n        listRegistrationSubType,\n        selectedInput,\n        listForms\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  validateEsignCredential,\n  editFieldConfigService,\n  updateStore,\n  getDesignTemplateMappingDetail,\n  getMappedFieldProps,\n  getDesignTemplateMappingComboService,\n  filterColumnData,\n  auditFieldConfigService,\n  reloadDesignTemplateMapping,\n  getTMPFilterRegType,\n  getTMPFilterRegSubType,\n  getTMPFilterSubmit,\n  combinationUniqueConfigService\n})(injectIntl(DesignTemplateMapping));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/designtemplatemapping/DesignTemplateMapping.jsx"],"names":["React","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faTrashAlt","faThumbsUp","faChevronCircleDown","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","validateEsignCredential","updateStore","getDesignTemplateMappingDetail","getMappedFieldProps","editFieldConfigService","auditFieldConfigService","getDesignTemplateMappingComboService","filterColumnData","reloadDesignTemplateMapping","getTMPFilterRegType","getTMPFilterRegSubType","getTMPFilterSubmit","combinationUniqueConfigService","TemplateFilter","ContentPanel","ReadOnlyText","getControlMap","showEsign","constructOptionList","ListMaster","SlideOutModal","AddDesignTemplateMapping","Esign","DEFAULT_RETURN","BreadcrumbComponent","ListWrapper","designProperties","formCode","TemplateType","transactionStatus","templateMappingAction","SAMPLETEMPLATEFIELDS","SUBSAMPLETEMPLATEFIELDS","designComponents","AddSynonym","Affix","ConfirmMessage","ConfigureScreenFields","ConfigureEditFields","ConfigureUniqueFields","ConfigureAuditFields","CustomPopover","mapStateToProps","state","Login","DesignTemplateMapping","Component","constructor","props","filterComboChange","event","fieldname","inputData","userinfo","userInfo","nflag","nsampletypecode","parseInt","value","masterData","defaultsampletype","inputParam","Masters","masterTypeArray","updateInfo","typeName","data","defaultMasterType","qualisforms","defaultform","newMasterForm","nregtypecode","nregsubtypecode","label","defaultregtype","defaultregsubtype","actionMethod","method","CONFIGSAMPLEDISPLAY","openFieldConfiguration","controlId","CONFIGSAMPLEEDIT","editFieldConfiguration","CONFIGSUBSAMPLEDISPLAY","CONFIGSUBSAMPLEEDIT","CONFIGUNIQUE","openCombinationUniqueFieldConfiguration","CONFIGSAMPLEAUDIT","auditFieldConfiguration","reloadData","searchRef","current","realSampleValue","NA","realRegTypeValue","realRegSubTypeValue","nformcode","realFormValue","openFilter","showFilter","closeFilter","onFilterSubmit","onApproveClick","selectedDesignTemplateMapping","ntransactionstatus","RETIRED","jsondata","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","deleteValidation","getGridJsondata","ncontrolCode","controlMap","has","get","ncontrolcode","sprimarykeyname","postParam","undefined","Value","inputListName","selectedObject","primaryKeyField","classUrl","methodUrl","operation","saveType","console","log","esignNeeded","userRoleControlRights","loadEsign","screenData","openModal","warn","intl","formatMessage","id","ConfirmDelete","confirmMessage","confirm","deleteTemplate","DRAFT","deleteCombinationUnique","index","eventKey","dataList","subsampledataList","dataListCount","subsampledataListCount","slice","addCombinatonUnique","designData","dataListSubSample","dataListCountSubSample","push","length","controlCode","screenName","designtemplatemapping","ndesigntemplatemappingcode","item","napprovalconfigcode","nneedsubsample","validateEsign","sreason","selectedRecord","nreasoncode","spredefinedreason","password","closeModal","selectedId","onComboChange","comboData","fieldName","setState","onConfigureComboChange","onInputOnChange","target","type","name","checked","YES","NO","onInputOnChangeForUnique","radiotext","multilinguallabel","LABEL","VALUE","handleDateChange","dateName","dateValue","templatedata","task","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","mastercombinationunique","editable","mastertemplatefields","sampleAuditFields","sampleAuditEditable","sampleAuditMultilingualFields","map","row","children","column","component","hasOwnProperty","componentRow","unique","displayname","filterinputtype","comboDataInputObject","componentcode","COMBOBOX","table","stablename","valuemember","nquerybuildertablecode","inputtype","source","displaymember","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","selectedSubSampleTemplate","subsamplejsondata","needsubsample","griditem","gridmoreitem","getJsondata","displayFields","listItem","subsampleeditable","subsamplelistitem","sampledatefields","sampledateconstraints","subsampledatefields","subsampledateconstraints","samplesearchfields","subsamplesearchfields","sampletemplatefields","subsampletemplatefields","sampleuniquevalidation","subsampleuniquevalidation","samplecombinationunique","subsamplecombinationunique","subSampleAuditFields","subSampleAuditEditable","subSampleAuditMultilingualFields","testdatefields","nsubsampletemplatecode","PRIMARYKEY","QUERYBUILDERTABLECODE","readonly","PREREGISTER","child","childData","tablecolumnname","testListFields","obj","sampledisplayfields","samplelistitem","samplegriditem","samplegridmoreitem","SAMPLEREGISTRATION","sampleeditable","RESULTENTRY","APPROVAL","JOBALLOCATION","MYJOBS","TESTWISEMYJOBS","RELEASE","onChangeToggle","dataItem","field","dataIndex","dataResult","auditFieldDesignData","auditFieldDataResult","tableName","splice","realData","findIndex","x","indexOf","index1","object","Object","keys","index3","index4","index2","onSaveClick","formRef","jsondataobj","editFieldDesignData","formCodeArray","forEach","editableData","editableuntil","statusItem","dataListsubsample","auditdata","auditData","nreactregtemplatecode","dataObject","editmandatoryfields","auditcapturefields","multilingualfields","registrationsample","nmastersitecode","qf_jsonData","sdisplayname","qbt_jsonData","tablename","languageList","lang","sformname","qm_jsonData","nmodulecode","smoduledisplayname","sregtemplatename","ssubregtemplatename","onTabChange","tabProps","isOpen","designtemplatemappingData","masterStatus","error","userLogged","Map","showAccordian","selectedInput","nmastertypecode","smastertype","moduleTypeArray","createRef","searchFieldList","designtemplatemappingFieldList","getDerivedStateFromProps","render","Layout","addId","deleteId","approveId","sampleFieldId","sampleEditFieldId","subSampleFieldId","subSampleEditFieldId","combinationUniqueFieldId","actionList","filterParam","fetchUrl","fecthInputObject","validationColumnList","mandatoryFields","breadCrumbData","addParam","searchedData","listSampletype","listRegistrationType","listRegistrationSubType","listForms","sversionno","APPROVED","stransdisplaystatus","smodulename","componentrow","approvedRegSubTypeVersion","editFieldDataResult","auditTable","slanguagetypecode","showSynonym","designtemplatemappingList","subSampleTemplateList","designTemplateQualisModule","language","componentDidUpdate","previousProps","updateState","values","Taglstsampletype","TaglistRegistrationType","TaglistRegistrationSubType","ListFormsMap","SampleTypes","registrationTypes","registrationSubTypes","componentWillUnmount","modalName"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {  faTrashAlt, faThumbsUp,  faChevronCircleDown } from '@fortawesome/free-solid-svg-icons';//,faUserTimes, faTrash\r\n//import { falistUl } from '@fortawesome/free-regular-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getDesignTemplateMappingDetail,\r\n    getMappedFieldProps, editFieldConfigService,auditFieldConfigService,\r\n    getDesignTemplateMappingComboService, filterColumnData, reloadDesignTemplateMapping,\r\n    getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit, combinationUniqueConfigService\r\n} from '../../actions';\r\nimport TemplateFilter from './TemplateFilter';\r\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\r\nimport { getControlMap, showEsign,  constructOptionList} from '../../components/CommonScript';//searchData, sortData,\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\n// import DateTimePicker from '../../components/date-time-picker/date-time-picker.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport AddDesignTemplateMapping from './AddDesignTemplateMapping'\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { designProperties, formCode, TemplateType, transactionStatus, \r\n        templateMappingAction, //SAMPLEAUDITFIELDS, SAMPLEAUDITEDITABLE, SAMPLEAUDITMULTILINGUALFIELDS,\r\n       // SUBSAMPLEAUDITFIELDS, SUBSAMPLEAUDITEDITABLE, SUBSAMPLEAUDITMULTILINGUALFIELDS,\r\n        SAMPLETEMPLATEFIELDS, SUBSAMPLETEMPLATEFIELDS, designComponents} from '../../components/Enumeration';\r\n\r\nimport AddSynonym from '../../components/droparea/AddSynonym';\r\nimport { Affix } from 'rsuite';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport ConfigureScreenFields from './ConfigureScreenFields';\r\nimport ConfigureEditFields from './ConfigureEditFields';\r\nimport ConfigureUniqueFields from './ConfigureUniqueFields.jsx';\r\nimport ConfigureAuditFields from './ConfigureAuditFields';\r\nimport CustomPopover from '../../components/customPopover';\r\n//import { faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass DesignTemplateMapping extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // const dataState = {\r\n        //     skip: 0,\r\n        //     take: 10,\r\n        // };\r\n\r\n        this.state = {\r\n            isOpen: false,\r\n            designtemplatemappingData: [],\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            //selectedRecord: {},\r\n            operation: \"\",\r\n\r\n            screenName: undefined,\r\n            userLogged: true,\r\n            selectedDesignTemplateMapping: undefined,\r\n\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            showAccordian: true,\r\n            selectedInput: \"\",\r\n            masterTypeArray: [{ label: this.props.intl.formatMessage({ id: \"IDS_NEWMASTER\" }), value: 1, item: { nmastertypecode: 1, smastertype: this.props.intl.formatMessage({ id: \"IDS_NEWMASTER\" }) } },\r\n            { label: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMASTER\" }), value: 2, item: { nmastertypecode: 2, smastertype: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMASTER\" }) } }],\r\n            newMasterForm: { value: -2, label: \"-\" },\r\n            moduleTypeArray: [{ label: this.props.intl.formatMessage({ id: \"IDS_NEWMODULE\" }), value: 3 },\r\n            { label: this.props.intl.formatMessage({ id: \"IDS_EXISTINGMODULE\" }), value: 4 }]\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.searchFieldList = [\"sregtemplatename\", \"sversionno\", \"stransdisplaystatus\"];\r\n\r\n        this.designtemplatemappingFieldList = ['ndesigntemplatemappingcode', 'nsampletypecode', 'nformcode',\r\n            'nregtypecode', 'nregsubtypecode', 'nformwisetypecode', 'nreactregtemplatecode', 'ntransactionstatus', 'nversionno'];//'nmahcode',\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    filterComboChange = (event, fieldname) => {\r\n        if (event !== null) {\r\n            // let uRL = \"\";\r\n            let inputData = [];\r\n            if (fieldname === \"sampleType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: parseInt(event.value),\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultsampletype: event }\r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === TemplateType.Masters) {\r\n                    const masterTypeArray = this.state.masterTypeArray\r\n\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            masterData: {\r\n                                ...masterData,\r\n                                masterTypeArray,\r\n                                defaultMasterType: masterTypeArray[0],\r\n                                qualisforms: [], defaultform: this.state.newMasterForm,\r\n                                nregtypecode: -1, nregsubtypecode: -1\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    inputParam[\"masterData\"][\"defaultform\"]={ value: -1, label: \"-\" };\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n            }\r\n            else if (fieldname === \"registrationType\") {\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n\r\n                    nregtypecode: parseInt(event.value),\r\n                    nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n\r\n                }\r\n                let masterData = { ...this.props.Login.masterData, defaultregtype: event }\r\n                let inputParam = { masterData, inputData }\r\n                this.props.getTMPFilterRegSubType(inputParam)\r\n\r\n            } else if (fieldname === \"registrationSubType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultregsubtype: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else if (fieldname === \"masterType\") {\r\n\r\n                let masterData = { ...this.props.Login.masterData, defaultMasterType: event }\r\n\r\n                inputData = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nflag: 1,\r\n                    nsampletypecode: TemplateType.Masters,\r\n                }\r\n\r\n                let inputParam = { masterData, inputData }\r\n                if (event.value === 1) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { masterData: { ...masterData, qualisforms: [], defaultform: this.state.newMasterForm } }\r\n                    }\r\n\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.getTMPFilterRegType(inputParam)\r\n                }\r\n\r\n            } else {\r\n                let masterData = { ...this.props.Login.masterData, defaultform: event }\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: { masterData }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const Layout = this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n            this.props.Login.masterData.selectedDesignTemplateMapping.jsondata\r\n\r\n        // let userStatusCSS = \"outline-secondary\";\r\n        // if (this.props.Login.masterData.selectedDesignTemplateMapping ? this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.ACTIVE\r\n        //     || this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED : false) {\r\n        //     userStatusCSS = \"outline-success\";\r\n        // }\r\n        // else if (this.props.Login.masterData.selectedDesignTemplateMapping && this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.RETIRED) {\r\n        //     userStatusCSS = \"outline-danger\";\r\n        // }\r\n\r\n        const addId = this.state.controlMap.has(\"AddDesignTemplateMapping\") && this.state.controlMap.get(\"AddDesignTemplateMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode;\r\n        const sampleFieldId = this.state.controlMap.has(\"ConfigureSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSampleDisplayFields\").ncontrolcode;\r\n        const sampleEditFieldId = this.state.controlMap.has(\"ConfigureSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSampleEditableFields\").ncontrolcode;\r\n        const subSampleFieldId = this.state.controlMap.has(\"ConfigureSubSampleDisplayFields\") && this.state.controlMap.get(\"ConfigureSubSampleDisplayFields\").ncontrolcode;\r\n        const subSampleEditFieldId = this.state.controlMap.has(\"ConfigureSubSampleEditableFields\") && this.state.controlMap.get(\"ConfigureSubSampleEditableFields\").ncontrolcode;\r\n        const combinationUniqueFieldId = this.state.controlMap.has(\"ConfigureCombinationUniqueFields\") && this.state.controlMap.get(\"ConfigureCombinationUniqueFields\").ncontrolcode;\r\n        //const sampleAuditConfigId = this.state.controlMap.has(\"ConfigureSampleAuditFields\") && this.state.controlMap.get(\"ConfigureSampleAuditFields\").ncontrolcode;\r\n\r\n\r\n        const actionList = [];\r\n        if(this.state.userRoleControlRights.indexOf(sampleFieldId) !== -1){\r\n            actionList.push({\"method\": templateMappingAction.CONFIGSAMPLEDISPLAY, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" }), \"controlId\": sampleFieldId  })\r\n        }\r\n        if(this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters &&\r\n            this.state.userRoleControlRights.indexOf(sampleEditFieldId) !== -1)\r\n        {\r\n            actionList.push({ \"method\": templateMappingAction.CONFIGSAMPLEEDIT, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" }), \"controlId\": sampleEditFieldId })\r\n       \r\n            if(this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample === true)\r\n            {\r\n                if(this.state.userRoleControlRights.indexOf(subSampleFieldId) !== -1){\r\n                    actionList.push({\"method\": templateMappingAction.CONFIGSUBSAMPLEDISPLAY, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" }), \"controlId\": subSampleFieldId  })\r\n                }\r\n           \r\n                if(this.state.userRoleControlRights.indexOf(subSampleEditFieldId) !== -1){\r\n                    actionList.push({ \"method\": templateMappingAction.CONFIGSUBSAMPLEEDIT, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" }), \"controlId\": subSampleEditFieldId })\r\n                }\r\n            }\r\n        }\r\n        if(this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) !== -1){\r\n            actionList.push({\"method\": templateMappingAction.CONFIGUNIQUE, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" }), \"controlId\": combinationUniqueFieldId})\r\n        }\r\n        if(this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) !== -1){//sampleAuditConfigId\r\n            actionList.push({\"method\": templateMappingAction.CONFIGSAMPLEAUDIT, \"value\": this.props.intl.formatMessage({ id: \"IDS_CONFIGUREAUDITFIELDS\" }), \"controlId\": combinationUniqueFieldId})\r\n        }\r\n       \r\n\r\n        const filterParam = {\r\n            inputListName: \"DesignTemplateMapping\",\r\n            selectedObject: \"selectedDesignTemplateMapping\",\r\n            primaryKeyField: \"ndesigntemplatemappingcode\",\r\n            fetchUrl: \"designtemplatemapping/getDesignTemplateMapping\",\r\n            fecthInputObject: {\r\n                nregtypecode: this.props.Login.masterData.realSampleValue ? \r\n                            this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1):-1,\r\n                nregsubtypecode: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1):-1,\r\n              \r\n                userinfo: this.props.Login.userInfo,\r\n                nsampletypecode: this.props.Login.masterData[\"realSampleValue\"] ? this.props.Login.masterData[\"realSampleValue\"].value : -1,\r\n                //nregtypecode: this.props.Login.masterData[\"realRegTypeValue\"] ? this.props.Login.masterData[\"realRegTypeValue\"].value : -1,\r\n                //nregsubtypecode: this.props.Login.masterData[\"realRegSubTypeValue\"] ? this.props.Login.masterData[\"realRegSubTypeValue\"].value : -1,\r\n                nformcode: this.props.Login.masterData[\"realFormValue\"] ? this.props.Login.masterData[\"realFormValue\"].value : -1,\r\n            },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n\r\n        };\r\n        this.validationColumnList = [\r\n            { \"idsName\": \"IDS_TEMPLATENAME\", \"dataField\": \"nreactregtemplatecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n\r\n\r\n        ]\r\n        const mandatoryFields = [];\r\n        this.validationColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        // let breadCrumbDataDate = convertDateValuetoString(this.props.Login.masterData && this.props.Login.masterData.FromDate,\r\n        //     this.props.Login.masterData && this.props.Login.masterData.ToDate,\r\n        //     this.props.Login.userInfo)\r\n\r\n        // const breadCrumbData = [\r\n\r\n        let breadCrumbData = [];\r\n        this.props.Login.masterData[\"realSampleValue\"] && this.props.Login.masterData[\"realSampleValue\"].value === 4 ?\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                },\r\n                //defaultMasterType\r\n                // {\r\n                //     \"label\": \"IDS_MASTERTYPE\",\r\n                //     \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                // },\r\n                {\r\n                    \"label\": \"IDS_SCREEN\",\r\n                    \"value\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.label : \"-\"\r\n                }\r\n            ] :\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\": this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.label : \"-\"\r\n                }, {\r\n                    \"label\": \"IDS_REGSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"-\"\r\n                }\r\n            ];\r\n\r\n        const addParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\" }),\r\n            operation: \"create\",\r\n            userInfo: this.props.Login.userInfo,\r\n            realSampleValue: this.props.Login.masterData.realSampleValue ? this.props.Login.masterData.realSampleValue.value : -1,\r\n            realRegTypeValue: this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n            realRegSubTypeValue: this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n            controlId: addId,\r\n            moduleTypeArray: this.state.moduleTypeArray\r\n        }\r\n\r\n       \r\n\r\n        console.log(\"render, props, state:\", this.props.Login);\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* Start of get display*/}\r\n                    {/* <div className=\"client-listing-wrap mtop-4\"> */}\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATEMAPPING\" })}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.DesignTemplateMapping}\r\n                                getMasterDetail={(designtemplatemapping) => this.props.getDesignTemplateMappingDetail(designtemplatemapping, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedDesignTemplateMapping}\r\n                                primaryKeyField=\"ndesigntemplatemappingcode\"\r\n                                mainField=\"sregtemplatename\"\r\n                                firstField=\"sversionno\"\r\n                                secondField=\"stransdisplaystatus\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TEMPLATEFILTER\":\r\n                                            <TemplateFilter\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                filterSampletype={this.state.listSampletype || []}\r\n                                                filterRegistrationType={this.state.listRegistrationType || []}\r\n                                                filterRegistrationSubType={this.state.listRegistrationSubType || []}\r\n                                                filterForms={this.state.listForms || []}\r\n                                                defaultsampletype={this.props.Login.masterData[\"defaultsampletype\"] || {}}\r\n                                                defaultregsubtype={this.props.Login.masterData[\"defaultregsubtype\"] || []}\r\n                                                defaultregtype={this.props.Login.masterData[\"defaultregtype\"] || []}\r\n                                                defaultform={this.props.Login.masterData.defaultform || []}\r\n                                                filterComboChange={this.filterComboChange}\r\n                                                masterTypeArray={this.props.Login.masterData.masterTypeArray || []}\r\n                                                defaultMasterType={this.props.Login.masterData.defaultMasterType || {}}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n\r\n\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping.length > 0 && this.props.Login.masterData.selectedDesignTemplateMapping ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedDesignTemplateMapping.sregtemplatename}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"text-muted font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={10} className=\"d-flex\">\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSION\" })} : ${this.props.Login.masterData.selectedDesignTemplateMapping.sversionno}`}\r\n                                                                <span className={`btn btn-outlined ${this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT ? \"outline-secondary\" : this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.APPROVED ? \"outline-success\" : \"outline-danger\"} btn-sm mx-md-3 mx-sm-2`}>\r\n                                                                    {this.props.Login.masterData.selectedDesignTemplateMapping.stransdisplaystatus}\r\n                                                                </span>\r\n\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={2}>\r\n                                                            <div className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                   // data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.onApproveClick()}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faThumbsUp} title={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })} />\r\n                                                                </Nav.Link>\r\n                                                                {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(combinationUniqueFieldId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.openCombinationUniqueFieldConfiguration(combinationUniqueFieldId)}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURECOMBINATIONUNIQUEFIELDS\" })} />\r\n                                                                </Nav.Link>\r\n                                                                                                                          \r\n                                                                <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(sampleFieldId) === -1}\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })}\r\n                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                    onClick={() => this.openFieldConfiguration(sampleFieldId, \"configure\")}\r\n                                                                >\r\n                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREDISPLAYFIELDS\" })} />\r\n                                                                </Nav.Link>\r\n                                                             \r\n                                                                {this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters ?\r\n                                                                    <><Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(sampleEditFieldId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })}\r\n\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.editFieldConfiguration(sampleEditFieldId, 'configureedit')}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREEDITFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n\r\n\r\n                                                                    <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(sampleFieldId) === -1}\r\n                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREAUDITFIELDS\" })}\r\n                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                        onClick={() => this.auditFieldConfiguration(sampleFieldId, \"configureaudit\")}\r\n                                                                    >\r\n                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGUREAUDITFIELDS\" })} />\r\n                                                                    </Nav.Link>\r\n                                                                    {this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample === true ?\r\n                                                                        <>\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                        hidden={this.state.userRoleControlRights.indexOf(subSampleFieldId) === -1}\r\n                                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" })}\r\n                                                                                        data-for=\"tooltip_list_wrap\"\r\n                                                                                        onClick={() => this.openFieldConfiguration(subSampleFieldId, 'configuresubsample')}\r\n                                                                                    > \r\n                                                                                        <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURESUBSAMPLEDISPLAYFIELDS\" })} />\r\n                                                                            </Nav.Link>\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(subSampleEditFieldId) === -1}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" })}\r\n                                                                                    data-for=\"tooltip_list_wrap\"\r\n                                                                                    onClick={() => this.editFieldConfiguration(subSampleEditFieldId, 'configuresubsampleedit')}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faList} title={this.props.intl.formatMessage({ id: \"IDS_CONFIGURSUBSAMPLEEEDITFIELDS\" })} />\r\n                                                                                </Nav.Link>\r\n                                                                            </>\r\n                                                                            : \"\"}\r\n                                                                    </>\r\n                                                                    : \"\"} */}\r\n                                                                <Nav.Link className=\" btn btn-circle outline-grey mr-2\"\r\n                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                //    data-for=\"tooltip_list_wrap\"\r\n                                                                    hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                    // onClick={() => this.ConfirmDelete(this.state.approveId)}>\r\n                                                                    onClick={() => this.ConfirmDelete()}>\r\n                                                                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                </Nav.Link>\r\n\r\n                                                                {actionList.length>0?\r\n                                                                    <CustomPopover\r\n                                                                        nav={true}\r\n                                                                        data={actionList}\r\n                                                                        Button={false}\r\n                                                                        hideIcon={true}\r\n                                                                        btnClasses=\"btn-circle btn_grey ml-2\"\r\n                                                                        textKey=\"value\"\r\n                                                                        icon={faChevronCircleDown}\r\n                                                                       // toolTip={this.props.intl.formatMessage({ id: \"IDS_CONFIGURE\" })}\r\n                                                                        dynamicButton={(value) => this.actionMethod(value)}\r\n                                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                    />\r\n                                                                    :\r\n                                                                \"\"}\r\n\r\n                                                            </div>\r\n\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                {this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n                                                    this.props.Login.masterData.selectedDesignTemplateMapping.nformcode > 0 &&\r\n                                                    <Row>\r\n                                                        <Col md={6}>\r\n                                                            <FormGroup>\r\n                                                                <FormLabel><FormattedMessage id=\"IDS_MODULENAME\" message=\"Module Name\" /></FormLabel>\r\n                                                                <ReadOnlyText>   {this.props.Login.masterData.selectedDesignTemplateMapping.smodulename}\r\n                                                                </ReadOnlyText>\r\n                                                            </FormGroup>\r\n\r\n                                                        </Col>\r\n                                                        <Col md={6}>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_FORMNAME\" message=\"Form Name\" /></FormLabel>\r\n                                                            <ReadOnlyText>\r\n                                                                {this.props.Login.masterData.selectedDesignTemplateMapping.sformname}\r\n                                                            </ReadOnlyText>\r\n\r\n                                                        </Col>\r\n                                                    </Row>}\r\n                                                <Card>\r\n                                                    <Card.Header><FormattedMessage id=\"IDS_TEMPLATE\" message=\"Template\" /></Card.Header>\r\n                                                    <Card.Body>\r\n                                                        {\r\n                                                            Layout ?\r\n                                                                Layout.map((item) =>\r\n                                                                    <Row>\r\n                                                                        {item.children.length > 0 ?\r\n                                                                            item.children.map((column) =>\r\n                                                                                <Col md={12 / item.children.length}>\r\n                                                                                    {\r\n                                                                                        column.children.map((component) => {\r\n                                                                                            return (\r\n                                                                                                component.hasOwnProperty(\"children\") ?\r\n                                                                                                    <Row>\r\n                                                                                                        {component.children.map(componentrow =>\r\n                                                                                                            <Col md={12 / componentrow.length}>\r\n                                                                                                                <FormGroup>\r\n                                                                                                                    <FormLabel>{componentrow.label}</FormLabel>\r\n                                                                                                                    <ReadOnlyText>{\"-\"}</ReadOnlyText>\r\n                                                                                                                </FormGroup>\r\n                                                                                                            </Col>\r\n                                                                                                        )\r\n                                                                                                        }\r\n                                                                                                    </Row>\r\n                                                                                                    :\r\n                                                                                                    <FormGroup>\r\n                                                                                                        <FormLabel>{component.label}</FormLabel>\r\n                                                                                                        <ReadOnlyText> {\"-\"}</ReadOnlyText>\r\n                                                                                                    </FormGroup>\r\n                                                                                            )\r\n                                                                                        })\r\n                                                                                    }\r\n\r\n                                                                                </Col>\r\n                                                                            )\r\n                                                                            : \"\"}\r\n                                                                    </Row>\r\n                                                                )\r\n                                                                :\r\n                                                                \"\"\r\n                                                        }\r\n                                                    </Card.Body>\r\n                                                </Card>\r\n                                            </Card.Body>\r\n\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        // size={(this.props.Login.operation === 'configure'\r\n                        //     || this.props.Login.operation === 'configuresubsample'\r\n                        //     || this.props.Login.operation === 'configureaudit') ? \"xl\" : \"lg\"}\r\n                        size={\"xl\"}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n\r\n                        mandatoryFields={(this.props.Login.operation === 'configure' \r\n                                            || this.props.Login.operation === 'configuresubsample' \r\n                                            || this.props.Login.operation === 'configureedit'\r\n                                            || this.props.Login.operation === 'configuresubsampleedit'\r\n                                            || this.props.Login.operation === 'configureunique'\r\n                                            || this.props.Login.operation === 'configureaudit') ? [] : mandatoryFields}\r\n\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'configure' || this.props.Login.operation === 'configuresubsample' ?\r\n                                <ConfigureScreenFields\r\n                                    operation={this.props.Login.operation}\r\n                                    designData={this.props.Login.designData || {}}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                        this.props.Login.dataResult || [] :\r\n                                        this.props.Login.dataResult || {}}\r\n                                    onChangeToggle={this.onChangeToggle}\r\n                                    approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                    selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                />\r\n                                : (this.props.Login.operation === 'configureedit'\r\n                                    || this.props.Login.operation === 'configuresubsampleedit') ?\r\n                                    <ConfigureEditFields\r\n                                        operation={this.props.Login.operation}\r\n                                        designData={this.props.Login.editFieldDesignData || {}}\r\n                                        inputParam={this.props.Login.inputParam}\r\n                                        dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                            this.props.Login.editFieldDataResult || [] :\r\n                                            this.props.Login.editFieldDataResult || {}}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        // onChangeToggle={this.onChangeToggle}\r\n                                        onComboChange={this.onConfigureComboChange}\r\n                                        // approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                        selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                    />\r\n                                    : (this.props.Login.operation === 'configureaudit') ?\r\n                                      <ConfigureAuditFields\r\n                                          operation={this.props.Login.operation}\r\n                                          needSubSample = {this.props.Login.masterData.realRegSubTypeValue ? \r\n                                                this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false}\r\n                                          designData={this.props.Login.auditFieldDesignData || {}}\r\n                                          auditTable={this.props.Login.auditTable || {}}\r\n                                          auditData={this.props.Login.auditData|| {}}\r\n                                          inputParam={this.props.Login.inputParam}\r\n                                          dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                              this.props.Login.auditFieldDataResult || [] :\r\n                                              this.props.Login.auditFieldDataResult || {}}\r\n                                          selectedRecord={this.state.selectedRecord || {}}\r\n                                          onChangeToggle={this.onChangeToggle}\r\n                                          selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                      />\r\n                                    : this.props.Login.operation === 'configureunique' ?\r\n                                        <ConfigureUniqueFields\r\n                                            designData={this.props.Login.designData || {}}\r\n                                            inputParam={this.props.Login.inputParam}\r\n                                            // dataResult={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode === TemplateType.Masters ?\r\n                                            //     this.props.Login.dataResult || [] :\r\n                                            //     this.props.Login.dataResult || {}}\r\n                                            dataList={this.props.Login.dataList || []}\r\n                                            dataListCount={this.props.Login.dataListCount || []}\r\n                                            dataListsubsample={this.props.Login.dataListSubSample || []}\r\n                                            dataListCountsubsample={this.props.Login.dataListCountSubSample || []}\r\n                                            onInputOnChange={this.onInputOnChangeForUnique}\r\n                                            addCombinatonUnique={this.addCombinatonUnique}\r\n                                            deleteCombinationUnique={this.deleteCombinationUnique}\r\n                                            slanguagetypecode={this.props.Login.userInfo.slanguagetypecode}\r\n                                            approvedRegSubTypeVersion={this.props.Login.approvedRegSubTypeVersion}\r\n                                            selectedTemplateType={this.props.Login.masterData.selectedDesignTemplateMapping.nsampletypecode}\r\n                                        />\r\n                                        :\r\n                                        this.state.showSynonym ?\r\n                                            <AddSynonym\r\n                                                selectedFieldRecord={this.state.selectedRecord}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                languages={this.props.Login.languageList || []}\r\n                                                fieldName=\"nmodulecode\"\r\n                                            />\r\n                                            : <AddDesignTemplateMapping\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onComboChange={this.onComboChange}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                formatMessage={this.props.intl.formatMessage}\r\n                                                designtemplatemappingList={this.props.Login.designtemplatemappingList}\r\n                                                subSampleTemplateList={this.props.Login.subSampleTemplateList}\r\n                                                selectedDesignTemplateMapping={this.props.Login.masterData.selectedDesignTemplateMapping || {}}\r\n                                                operation={this.props.Login.operation}\r\n                                                userLogged={this.props.Login.userLogged}\r\n                                                inputParam={this.props.Login.inputParam}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                nformcode={this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1}\r\n                                                needSubSample={this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false}\r\n                                                designTemplateQualisModule={this.props.Login.designTemplateQualisModule}\r\n                                                language={this.props.Login.language}\r\n                                                moduleTypeArray={this.state.moduleTypeArray || []}\r\n\r\n                                            />}\r\n                    />\r\n                }\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n    actionMethod = (value) => {\r\n        if (value.method === templateMappingAction.CONFIGSAMPLEDISPLAY) {\r\n            this.openFieldConfiguration(value.controlId, \"configure\");\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSAMPLEEDIT){\r\n            this.editFieldConfiguration(value.controlId, 'configureedit')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSUBSAMPLEDISPLAY){\r\n            this.openFieldConfiguration(value.controlId, 'configuresubsample')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSUBSAMPLEEDIT){\r\n            this.editFieldConfiguration(value.controlId, 'configuresubsampleedit')\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGUNIQUE){\r\n            this.openCombinationUniqueFieldConfiguration(value.controlId)\r\n        }\r\n        else if (value.method === templateMappingAction.CONFIGSAMPLEAUDIT){\r\n            this.auditFieldConfiguration(value.controlId, 'configureaudit')\r\n        }\r\n    }\r\n\r\n    // onFilterSubmit = () => {\r\n    //     this.reloadData()\r\n    // }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\r\n            nregsubtypecode: this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\r\n           \r\n           // nregtypecode: parseInt(this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value || -1 : -1),\r\n            //nregsubtypecode: parseInt(this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.realSampleValue.value,\r\n            nformcode: this.props.Login.masterData.realFormValue ? this.props.Login.masterData[\"realFormValue\"].value : -1\r\n        };\r\n\r\n        let inputParam = { masterData: this.props.Login.masterData, inputData };\r\n        this.props.reloadDesignTemplateMapping(inputParam);\r\n\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n\r\n        let { selectedRecord, userRoleControlRights, controlMap,\r\n            listSampletype, listRegistrationType, listRegistrationSubType, listForms } = this.state;\r\n\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]\r\n                    && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                updateState = true;\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            updateState = true;\r\n            selectedRecord = this.props.Login.selectedRecord\r\n        }\r\n\r\n        const selectedInput = {};\r\n        let Taglstsampletype;\r\n        let TaglistRegistrationType;\r\n        let TaglistRegistrationSubType;\r\n        let ListFormsMap;\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            updateState = true;\r\n            if (this.props.Login.masterData.SampleTypes) {\r\n                Taglstsampletype = constructOptionList(this.props.Login.masterData.SampleTypes || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"ascending\", undefined);\r\n                listSampletype = Taglstsampletype.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationTypes) {\r\n                TaglistRegistrationType = constructOptionList(this.props.Login.masterData.registrationTypes || [], \"nregtypecode\", \"sregtypename\", undefined, undefined, undefined);\r\n                listRegistrationType = TaglistRegistrationType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.registrationSubTypes) {\r\n                TaglistRegistrationSubType = constructOptionList(this.props.Login.masterData.registrationSubTypes || [], \"nregsubtypecode\", \"sregsubtypename\", \"nsorter\", \"ascending\", undefined);\r\n                listRegistrationSubType = TaglistRegistrationSubType.get(\"OptionList\");\r\n            }\r\n            if (this.props.Login.masterData.qualisforms) {\r\n                ListFormsMap = constructOptionList(this.props.Login.masterData.qualisforms || [], \"nformcode\", \"sdisplayname\", undefined, undefined, undefined);\r\n                listForms = ListFormsMap.get(\"OptionList\");\r\n            }\r\n        }\r\n\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, controlMap, userRoleControlRights,\r\n                listSampletype, listRegistrationType, listRegistrationSubType,\r\n                selectedInput, listForms\r\n            })\r\n        }\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            nregtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregtype ? this.props.Login.masterData.defaultregtype.value || -1 : -1),\r\n            nregsubtypecode: this.props.Login.masterData.defaultsampletype.value === TemplateType.Masters ? transactionStatus.NA : parseInt(this.props.Login.masterData.defaultregsubtype ? this.props.Login.masterData.defaultregsubtype.value || -1 : -1),\r\n            nsampletypecode: this.props.Login.masterData.defaultsampletype.value,\r\n            nformcode: this.props.Login.masterData.defaultform ? this.props.Login.masterData.defaultform.value || -1 : -1\r\n\r\n        };\r\n        let masterData = {\r\n            ...this.props.Login.masterData,\r\n            realSampleValue: this.props.Login.masterData.defaultsampletype,\r\n            realFormValue: this.props.Login.masterData.defaultform,\r\n            realRegTypeValue: this.props.Login.masterData.defaultregtype,\r\n            realRegSubTypeValue: this.props.Login.masterData.defaultregsubtype\r\n        }\r\n        let inputParam = { masterData, inputData };\r\n        this.props.getTMPFilterSubmit(inputParam);\r\n    }\r\n\r\n    onApproveClick = () => {\r\n        if (this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n//console.log(\"this.state.selectedRecord.nreactregtemplatecode.item.jsondata:\", this.state, this.props.Login);\r\n//console.log(\"this.props.Login.masterData.selectedDesignTemplateMapping.jsondata:\", this.props.Login.masterData.selectedDesignTemplateMapping.jsondata);\r\n\r\n            let { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey, deleteValidation } =  this.getGridJsondata(this.props.Login.masterData.selectedDesignTemplateMapping &&\r\n                this.props.Login.masterData.selectedDesignTemplateMapping.jsondata, \"DeleteValidation\");\r\n\r\n           // console.log(\"deleteValidation 2:\", deleteValidation);\r\n            const ncontrolCode = this.state.controlMap.has(\"ApproveDesignTemplateMapping\") && this.state.controlMap.get(\"ApproveDesignTemplateMapping\").ncontrolcode\r\n            let inputData = {jdynamiccolumns,jnumericcolumns,   sprimarykeyname: templatePrimaryKey,};\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            inputData[\"deletevalidationlist\"] = deleteValidation;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    ...inputData\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"approve\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            console.log(\"approve:\", inputParam);\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_TEMPLATERETIRED\" }));\r\n        }\r\n    }\r\n\r\n    ConfirmDelete = () => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteTemplate());\r\n    }\r\n\r\n    deleteTemplate = () => {\r\n        if ((this.props.Login.masterData.selectedDesignTemplateMapping.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            const ncontrolCode = this.state.controlMap.has(\"DeleteDesignTemplateMapping\") && this.state.controlMap.get(\"DeleteDesignTemplateMapping\").ncontrolcode\r\n            let inputData = [];\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            let postParam = undefined;\r\n            inputData[\"designtemplatemapping\"] = { \"ndesigntemplatemappingcode\": this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"] ? this.props.Login.masterData.selectedDesignTemplateMapping[\"ndesigntemplatemappingcode\"].Value : \"\" };\r\n            inputData[\"designtemplatemapping\"] = this.props.Login.masterData.selectedDesignTemplateMapping;\r\n            postParam = { inputListName: \"DesignTemplateMapping\", selectedObject: \"selectedDesignTemplateMapping\", primaryKeyField: \"ndesigntemplatemappingcode\" };\r\n\r\n\r\n            const inputParam = {\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n\r\n                },\r\n                classUrl: 'designtemplatemapping',\r\n                methodUrl: \"DesignTemplateMapping\",\r\n                inputData: inputData,\r\n                operation: \"delete\", postParam\r\n            }\r\n            let saveType;\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true, operation: \"delete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n\r\n        }\r\n        else {\r\n\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORDTODELETE\" }));\r\n        }\r\n    }\r\n\r\n    deleteCombinationUnique = (index, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            let dataList = this.props.Login.subsampledataList || []\r\n            let dataListCount = this.props.Login.subsampledataListCount || []\r\n            dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]\r\n            //   delete dataListCount[index]\r\n            if (dataList[index] || dataList[index] === null) {\r\n                dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]\r\n\r\n                // delete dataList[index]\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { subsampledataListCount: dataListCount, subsampledataList: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            let dataList = this.props.Login.dataList || []\r\n            let dataListCount = this.props.Login.dataListCount || []\r\n            dataListCount = [...dataListCount.slice(0, index), ...dataListCount.slice(index + 1)]\r\n            //   delete dataListCount[index]\r\n            if (dataList[index] || dataList[index] === null) {\r\n                dataList = [...dataList.slice(0, index), ...dataList.slice(index + 1)]\r\n\r\n                // delete dataList[index]\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCount, dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n    }\r\n\r\n    addCombinatonUnique = (designData, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            const dataList = this.props.Login.dataListSubSample || []\r\n            //    const obj={}\r\n            //     designData.map(item=>{\r\n            //         obj[item[\"2\"]]={...item}\r\n            //     })\r\n            //dataList.push({})\r\n            const dataListCount = this.props.Login.dataListCountSubSample || []\r\n            dataListCount.push(dataListCount.length + 1)\r\n            dataList.push({})\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCountSubSample: dataListCount, dataListSubSample: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            const dataList = this.props.Login.dataList || []\r\n            //    const obj={}\r\n            //     designData.map(item=>{\r\n            //         obj[item[\"2\"]]={...item}\r\n            //     })\r\n            //dataList.push({})\r\n            const dataListCount = this.props.Login.dataListCount || []\r\n            dataListCount.push(dataListCount.length + 1)\r\n            dataList.push({})\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListCount, dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n    }\r\n\r\n    openCombinationUniqueFieldConfiguration = (controlCode) => {\r\n        let openModal = true;\r\n        let operation = 'configureunique';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\r\n            inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.combinationUniqueConfigService(inputParam)\r\n    }\r\n\r\n    openFieldConfiguration = (controlCode, operation) => {\r\n        let openModal = true;\r\n        //let operation = 'configure';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters) {\r\n            inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.getMappedFieldProps(inputParam)\r\n    }\r\n\r\n    editFieldConfiguration = (controlCode, operation) => {\r\n\r\n        //console.log(\"edit config:\", this.props.Login);\r\n        // let operation = 'configureedit';\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                nregtypecode: this.props.Login.masterData.defaultregtype.value,\r\n                nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\r\n                userinfo: this.props.Login.userInfo,\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        // if (this.props.Login.masterData.realSampleValue && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){\r\n        //     inputParam.inputData[\"napprovalconfigcode\"] = this.props.Login.masterData.defaultregsubtype.item.napprovalconfigcode;\r\n        //  }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.editFieldConfigService(inputParam)\r\n    }\r\n\r\n    auditFieldConfiguration = (controlCode, operation) => {\r\n\r\n        //console.log(\"edit config:\", this.props.Login);\r\n        let ncontrolcode = controlCode;\r\n        let screenName = \"IDS_FIELDS\";\r\n        let inputParam = {\r\n            inputData: {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode\r\n                },\r\n                nregtypecode : this.props.Login.masterData.realSampleValue.value === TemplateType.Masters \r\n                        ? -1 : this.props.Login.masterData.defaultregtype \r\n                        ? this.props.Login.masterData.defaultregtype.value : -1,\r\n                nregsubtypecode : this.props.Login.masterData.realSampleValue.value === TemplateType.Masters \r\n                        ? -1 : this.props.Login.masterData.defaultregsubtype \r\n                        ? this.props.Login.masterData.defaultregsubtype.value : -1,\r\n                //nregtypecode: this.props.Login.masterData.defaultregtype.value,\r\n                //nregsubtypecode: this.props.Login.masterData.defaultregsubtype.value,\r\n                userinfo: this.props.Login.userInfo,\r\n                nneedsubsample:this.props.Login.masterData.defaultregsubtype.item.nneedsubsample\r\n            },\r\n            operation,\r\n            ncontrolcode,\r\n            screenName\r\n        }\r\n        inputParam[\"TemplateType\"] = this.props.Login.masterData.realSampleValue.value;\r\n\r\n        this.props.auditFieldConfigService(inputParam)\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"approve\"\r\n                || this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null, dataList: [], dataListCount: [], dataListSubSample: [], dataListCountSubSample: [] }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onConfigureComboChange = (comboData, formCode, item) => {\r\n        const fieldName = item.label;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[formCode] = { ...selectedRecord[formCode], [fieldName]: comboData };\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n        // let designData = this.props.Login.editFieldDesignData;\r\n        // let dataResult = this.props.Login.editFieldDataResult;\r\n        // if (formCode === undefined){\r\n        //     dataResult[dataIndex][field] = event.target.checked;\r\n        //     if (event.target.checked) {\r\n        //         designData[field].splice(dataIndex, 0, dataItem.realData)\r\n\r\n        //     } else {\r\n        //         designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // else{\r\n        //     dataResult[formCode][\"sampleeditable\"] = comboData;\r\n        //     if (event.target.checked) {\r\n        //         if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n        //             return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n        //         } else {\r\n        //             designData[formCode][field].splice(dataIndex, 0, dataItem.realData)\r\n        //         }\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label)\r\n        //         }\r\n        //     } else {\r\n        //         if (field === 'sampledisplayfields') {\r\n        //             designData[formCode]['samplesearchfields'].splice(designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.label), 1)\r\n        //         }\r\n        //         designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n        //     }\r\n        // }\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { designData, dataResult }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputOnChangeForUnique = (event, radiotext, index, multilinguallabel, eventKey) => {\r\n        if (eventKey === \"subsample\") {\r\n            const dataList = this.props.Login.dataListSubSample || []\r\n            if (dataList[index]) {\r\n                const value = dataList[index] && dataList[index][event.target.name];\r\n                if (value !== '' && value !== undefined) {\r\n                    delete dataList[index][event.target.name]\r\n                } else {\r\n\r\n                    dataList[index][event.target.name] = {\r\n                        [designProperties.LABEL]: { ...multilinguallabel },\r\n                        [designProperties.VALUE]: radiotext\r\n                    };\r\n                }\r\n            } else {\r\n                dataList[index] = {\r\n                    [event.target.name]: { [designProperties.LABEL]: { ...multilinguallabel }, [designProperties.VALUE]: radiotext }\r\n                }\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataListSubSample: dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            const dataList = this.props.Login.dataList || []\r\n            if (dataList[index]) {\r\n                const value = dataList[index] && dataList[index][event.target.name];\r\n                if (value !== '' && value !== undefined) {\r\n                    delete dataList[index][event.target.name]\r\n                } else {\r\n\r\n                    dataList[index][event.target.name] = {\r\n                        [designProperties.LABEL]: { ...multilinguallabel },\r\n                        [designProperties.VALUE]: radiotext\r\n                    };\r\n                }\r\n            } else {\r\n                dataList[index] = {\r\n                    [event.target.name]: { [designProperties.LABEL]: { ...multilinguallabel }, [designProperties.VALUE]: radiotext }\r\n                }\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { dataList }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    getGridJsondata = (templatedata, task) => {\r\n        console.log(\"task:\", task);\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let mastercombinationunique = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        let sampleAuditFields = [];\r\n        let sampleAuditEditable = [];\r\n        let sampleAuditMultilingualFields = [];\r\n        let deleteValidation = [];\r\n       \r\n        console.log(\"grid json:\", this.props.Login, templatedata);\r\n        console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\r\n\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    //console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && mastercombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n\r\n\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n\r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject = {};\r\n\r\n                            if(componentRow.componentcode === designComponents.COMBOBOX){\r\n                                deleteValidation.push({\"smastertablename\":componentRow.table.item.stablename,\r\n                                                    \"smasterprimarykeyname\":componentRow.valuemember,\r\n                                                    \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registration\",\r\n                                                    \"stranstableforeignkeyname\":componentRow.valuemember,\r\n                                                  //  \"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\r\n                                                    \"sjsonfieldname\":\"jsondata\",\r\n                                                    \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                   // \"nformcode\":componentRow.table.item.nformcode,\r\n                                                   \"nquerybuildertablecode\":componentRow.nquerybuildertablecode\r\n                                                });\r\n                            }\r\n\r\n                            if (componentRow.inputtype === 'combo') {                           \r\n\r\n                                comboDataInputObject = {\r\n                                    \"predefinedtablename\": componentRow.source,\r\n                                    \"predefinedvaluemember\": componentRow.valuemember,\r\n                                    \"predefineddisplaymember\": componentRow.displaymember,\r\n                                    \"predefinedismultilingual\": false,\r\n                                    \"predefinedconditionalString\": \"\\\"\"+componentRow.valuemember+\"\\\"\" + \" > '0' \"\r\n                                };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.valuemember,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                    ...comboDataInputObject\r\n                                })\r\n                                filterinputtype = \"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype = \"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype = \"numeric\";\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true : false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                                sampleAuditEditable.push(componentRow.label);\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            sampleAuditFields.push(componentRow.label);\r\n                            sampleAuditMultilingualFields.push({[componentRow.label] : componentRow.displayname});\r\n                           \r\n                          \r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && mastercombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n\r\n\r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject = {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        sampleAuditFields.push(component.label);\r\n                        sampleAuditMultilingualFields.push({[component.label] : component.displayname});\r\n\r\n                        if(component.componentcode === designComponents.COMBOBOX){\r\n                            deleteValidation.push({\"smastertablename\":component.table.item.stablename,\r\n                                                \"smasterprimarykeyname\":component.valuemember,\r\n                                                \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registration\",\r\n                                                \"stranstableforeignkeyname\":component.valuemember,\r\n                                                //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\r\n                                                \"sjsonfieldname\":\"jsondata\",\r\n                                                \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                \"nquerybuildertablecode\":component.nquerybuildertablecode\r\n                                               // \"nformcode\":component.table.item.nformcode\r\n                                            });\r\n                        }\r\n                       \r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype = \"predefinednumeric\";\r\n                            comboDataInputObject = {\r\n                                \"predefinedtablename\": component.source,\r\n                                \"predefinedvaluemember\": component.valuemember,\r\n                                \"predefineddisplaymember\": component.displaymember,\r\n                                \"predefinedismultilingual\": false,\r\n                                \"predefinedconditionalString\": \"\\\"\"+component.valuemember+\"\\\"\" + \" > '0'\"\r\n                            };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.label,\r\n                                // \"ismultilingual\": true,\r\n                                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.column.value,\r\n                                \"foriegntablename\": component.source,\r\n                                ...comboDataInputObject\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype = \"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n                        }\r\n                        if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype = \"numeric\";\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true : false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n                      \r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            sampleAuditEditable.push(component.label);\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] });\r\n\r\n                        }\r\n                        else {\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n\r\n        if(task === \"DeleteValidation\" && this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){  \r\n\r\n            const selectedSubSampleTemplate = this.props.Login.masterData.selectedDesignTemplateMapping.subsamplejsondata;\r\n\r\n            const needsubsample = this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false;\r\n    \r\n            if(needsubsample){\r\n                selectedSubSampleTemplate.map(row =>\r\n                    row.children && row.children.map(column => {\r\n                        column.children && column.children.map(component => {\r\n                            if (component.hasOwnProperty('children')) {\r\n                                component.children.map(componentRow => {\r\n                                    console.log(\"componentRow sub:\", componentRow);\r\n                                \r\n                                    if(componentRow.componentcode === designComponents.COMBOBOX)\r\n                                    {\r\n                                        deleteValidation.push({\"smastertablename\":componentRow.table.item.stablename,\r\n                                                                \"smasterprimarykeyname\":componentRow.valuemember,\r\n                                                                \"stranstablename\": \"registrationsample\",\r\n                                                                \"stranstableforeignkeyname\":componentRow.valuemember,\r\n                                                               // \"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\r\n                                                                \"sjsonfieldname\":\"jsondata\",\r\n                                                                \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                                \"nquerybuildertablecode\":componentRow.nquerybuildertablecode\r\n                                                                //\"nformcode\":componentRow.table.item.nformcode\r\n                                                                });\r\n                                    }\r\n                                }\r\n                                )\r\n                            } else {\r\n                                console.log(\"componentRow2 sub:\", component);                         \r\n                                \r\n                                if(component.componentcode === designComponents.COMBOBOX){\r\n                                    deleteValidation.push({\"smastertablename\":component.table.item.stablename,\r\n                                                                \"smasterprimarykeyname\":component.valuemember,\r\n                                                                \"stranstablename\": \"registrationsample\",\r\n                                                                \"stranstableforeignkeyname\":component.valuemember,\r\n                                                                //\"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\r\n                                                                \"sjsonfieldname\":\"jsondata\",\r\n                                                                \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                                //\"nformcode\":component.table.item.nformcode,\r\n                                                                \"nquerybuildertablecode\":component.nquerybuildertablecode});\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                )\r\n            }\r\n        }\r\n\r\n\r\n        let jsondata = {\r\n            griditem: gridItem,\r\n            gridmoreitem: gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields,\r\n            mastercombinationunique,\r\n            sampleAuditFields,\r\n            sampleAuditEditable,\r\n            sampleAuditMultilingualFields\r\n        }\r\n\r\n        //console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        console.log(\"deleteValidation 1:\", deleteValidation);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey , deleteValidation};\r\n    }\r\n\r\n    getJsondata = (templatedata) => {\r\n        let displayFields = []\r\n        let listItem = []\r\n        let gridItem = []\r\n        let gridMoreItem = []\r\n        let editable = []\r\n        let subsampleeditable = [];\r\n        let subsamplelistitem = [];\r\n        let sampledatefields = [{ [designProperties.VALUE]: 'dregdate', dateonly: false }];\r\n        let sampledateconstraints = [];\r\n        let subsampledatefields = [];\r\n        let subsampledateconstraints = [];\r\n        let samplesearchfields = [\"dregdate\", \"sarno\", \"stransdisplaystatus\"];\r\n        let subsamplesearchfields = [\"sarno\", \"ssamplearno\", \"stransdisplaystatus\"];\r\n        let sampletemplatefields = [];\r\n        let subsampletemplatefields = [];\r\n        let sampleuniquevalidation = [];\r\n        let subsampleuniquevalidation = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let samplecombinationunique = [];\r\n        let subsamplecombinationunique = [];\r\n\r\n        let sampleAuditFields = [];\r\n        let sampleAuditEditable = [];\r\n        let sampleAuditMultilingualFields = [];\r\n        let subSampleAuditFields = [];\r\n        let subSampleAuditEditable = [];\r\n        let subSampleAuditMultilingualFields = [];\r\n        let deleteValidation=[];\r\n\r\n        //if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){        \r\n\r\n            sampleAuditFields = [\"sarno\"];\r\n            sampleAuditEditable = [\"sarno\"];\r\n            sampleAuditMultilingualFields = [{\"sarno\": {\"en-US\": \"AR.No.(EU)\", \"ru-RU\": \"AR.No.(RU)\", \"tg-TG\": \"AR.No.(TU)\"}}];\r\n            subSampleAuditFields = [\"sarno\", \"ssamplearno\"];\r\n            subSampleAuditEditable = [\"sarno\", \"ssamplearno\"];\r\n            subSampleAuditMultilingualFields = [{\"sarno\": {\"en-US\": \"AR.No.(EU)\", \"ru-RU\": \"AR.No.(RU)\", \"tg-TG\": \"AR.No.(TU)\"}},\r\n                                            {\"ssamplearno\": {\"en-US\": \"Sub AR.No.(EU)\", \"ru-RU\": \"Sub AR.No.(RU)\", \"tg-TG\": \"Sub AR.No.(TU)\"}} ];\r\n        //}\r\n\r\n        ////////////////////////////////////////////\r\n        // let sampleAuditFields = SAMPLEAUDITFIELDS;\r\n        // let sampleAuditEditable = SAMPLEAUDITEDITABLE\r\n        // let sampleAuditMultilingualFields = SAMPLEAUDITMULTILINGUALFIELDS\r\n        // let subSampleAuditFields = SUBSAMPLEAUDITFIELDS\r\n        // let subSampleAuditEditable = SUBSAMPLEAUDITEDITABLE\r\n        // let subSampleAuditMultilingualFields = SUBSAMPLEAUDITMULTILINGUALFIELDS;\r\n     \r\n        let testdatefields = [{ [designProperties.VALUE]: 'dtransactiondate', dateonly: false }];\r\n        //console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\r\n        this.state.selectedRecord.nsubsampletemplatecode && this.state.selectedRecord.nsubsampletemplatecode.item.jsondata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            console.log(\"componentRow sub:\", componentRow);\r\n                            componentRow.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && subsamplecombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n                            subsamplesearchfields.push(componentRow.label);\r\n                            //subsampleeditable.push({ label: componentRow.label, editableuntill: [17] })\r\n\r\n                            subsampletemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, \r\n                                [designProperties.VALUE]: componentRow.label,\r\n                                [designProperties.PRIMARYKEY]: componentRow.valuemember ,\r\n                                [designProperties.QUERYBUILDERTABLECODE]: componentRow.nquerybuildertablecode\r\n                             })\r\n                             if(componentRow.componentcode === designComponents.COMBOBOX){\r\n                                deleteValidation.push({\"smastertablename\":componentRow.table.item.stablename,\r\n                                                         \"smasterprimarykeyname\":componentRow.table.valuemember,\r\n                                                         \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registrationsample\",\r\n                                                         \"stranstableforeignkeyname\":componentRow.table.valuemember,\r\n                                                         //\"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\r\n                                                         \"sjsonfieldname\":\"jsondata\",\r\n                                                         \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                         \"nquerybuildertablecode\":componentRow.nquerybuildertablecode\r\n                                                         //\"nformcode\":componentRow.table.item.nformcode\r\n                                                        });\r\n                             }\r\n                            subSampleAuditFields.push(componentRow.label);\r\n                            subSampleAuditMultilingualFields.push({[componentRow.label] : componentRow.displayname});\r\n                          \r\n                            if (componentRow.mandatory ) {\r\n                                subSampleAuditEditable.push(componentRow.label);\r\n                            }\r\n\r\n                            if (componentRow.readonly)\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [] })\r\n                            else\r\n                                subsampleeditable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                            if (componentRow.inputtype === 'date') {\r\n                                subsampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                subsampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                            }\r\n                            subsamplelistitem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                        }\r\n                        )\r\n                    } else {\r\n                        console.log(\"componentRow2 sub:\", component);\r\n                        component.unique && subsampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && subsamplecombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        subsamplesearchfields.push(component.label);\r\n\r\n                        // subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n                        subsampletemplatefields.push({ [designProperties.LABEL]: component.displayname, \r\n                            [designProperties.VALUE]: component.label,\r\n                            [designProperties.PRIMARYKEY]: component.valuemember ,\r\n                            [designProperties.QUERYBUILDERTABLECODE]: component.nquerybuildertablecode })\r\n                         \r\n                        if(component.componentcode === designComponents.COMBOBOX){\r\n                            deleteValidation.push({\"smastertablename\":component.table.item.stablename,\r\n                                                        \"smasterprimarykeyname\":component.table.valuemember,\r\n                                                        \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registrationsample\",\r\n                                                        \"stranstableforeignkeyname\":component.table.valuemember,\r\n                                                       // \"salertmessage\":\"IDS_REGISTRATIONSAMPLE\",\t\r\n                                                        \"sjsonfieldname\":\"jsondata\",\r\n                                                        \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                        //\"nformcode\":component.table.item.nformcode,\r\n                                                        \"nquerybuildertablecode\":component.nquerybuildertablecode});\r\n                        }\r\n                        subSampleAuditFields.push(component.label);\r\n                        subSampleAuditMultilingualFields.push({[component.label] : component.displayname});\r\n                        \r\n                        if (component.mandatory ) {\r\n                            subSampleAuditEditable.push(component.label);\r\n                        }\r\n                        if (component.readonly)\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [] })\r\n                        else\r\n                            subsampleeditable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                        if (component.inputtype === 'date') {\r\n                            subsampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            subsampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...subsampledateconstraints] : subsampledateconstraints;\r\n                        }\r\n                        subsamplelistitem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                    }\r\n                })\r\n            })\r\n        )\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map(component => {\r\n                    console.log(\"componentRow main:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        // let combinedField = [];\r\n                        component.children.map(componentRow => {\r\n                            // combinedField.push(componentRow.label)\r\n                            jdynamiccolumns.push({\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname\r\n                            })\r\n                            if (componentRow.hasOwnProperty('child')) {\r\n                                componentRow.child.map(childData => {\r\n                                    jnumericcolumns.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"foriegntablePK\": componentRow.label,\r\n                                        // \"ismultilingual\": true,\r\n                                        // \"conditionstring\": \" and nformcode in (140) \",\r\n                                        \"tablecolumnname\": childData.tablecolumnname,\r\n                                        \"foriegntablename\": \"dynamicmaster\"\r\n                                    })\r\n                                })\r\n                            }\r\n                            if(componentRow.componentcode === designComponents.COMBOBOX){\r\n                                deleteValidation.push({\"smastertablename\":componentRow.table.item.stablename,\r\n                                                         \"smasterprimarykeyname\":componentRow.table.valuemember,\r\n                                                         \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registration\",\r\n                                                         \"stranstableforeignkeyname\":componentRow.table.valuemember,\r\n                                                         //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\r\n                                                         \"sjsonfieldname\":\"jsondata\",\r\n                                                         \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                         //\"nformcode\":componentRow.table.item.nformcode,\r\n                                                         \"nquerybuildertablecode\":componentRow.nquerybuildertablecode});\r\n                             }\r\n                            componentRow.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && samplecombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n                            samplesearchfields.push(componentRow.label)\r\n                            sampletemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, \r\n                                [designProperties.VALUE]: componentRow.label,\r\n                                [designProperties.PRIMARYKEY]: componentRow.valuemember ,\r\n                                [designProperties.QUERYBUILDERTABLECODE]: componentRow.nquerybuildertablecode\r\n                             })\r\n                            sampleAuditFields.push(componentRow.label);\r\n                            sampleAuditMultilingualFields.push({[componentRow.label] : componentRow.displayname});\r\n                            if (componentRow.inputtype === 'date') {\r\n                                sampledatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                sampledateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                            }\r\n                            displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                                sampleAuditEditable.push(componentRow.label);\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                if (componentRow.readonly)\r\n                                    editable.push({ label: componentRow.label, editableuntill: [] })\r\n                                else\r\n                                    editable.push({ label: componentRow.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                            }\r\n                            return null;\r\n                        })\r\n                        // let fieldSet = combinedField.join(\"&\")\r\n                        // displayFields.push(fieldSet);\r\n                        // componentRow.templatemandatory && listItem.push(fieldSet)\r\n                        // gridMoreItem.push(fieldSet);\r\n                    } else {\r\n                        console.log(\"componentRow main:\", component);\r\n                        jdynamiccolumns.push({\r\n                            columnname: component.label,\r\n                            displayname: component.displayname\r\n                        });\r\n                        if(component.componentcode === designComponents.COMBOBOX){\r\n                            deleteValidation.push({\"smastertablename\":component.table.item.stablename,\r\n                                                     \"smasterprimarykeyname\":component.table.valuemember,\r\n                                                     \"stranstablename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"dynamicmaster\" : \"registration\",\r\n                                                     \"stranstableforeignkeyname\":component.table.valuemember,\r\n                                                     //\"salertmessage\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? \"IDS_DYNAMICMASTER\" :\"IDS_REGISTRATION\",\t\r\n                                                     \"sjsonfieldname\":\"jsondata\",\r\n                                                     \"nisdynamicmaster\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters? transactionStatus.YES:transactionStatus.NO,\t\r\n                                                     //\"nformcode\":component.table.item.nformcode,\r\n                                                     \"nquerybuildertablecode\":component.nquerybuildertablecode});\r\n                         }\r\n                        if (component.hasOwnProperty('child')) {\r\n                            component.child.map(childData => {\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"foriegntablePK\": component.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (140) \",\r\n                                    \"tablecolumnname\": childData.tablecolumnname,\r\n                                    \"foriegntablename\": \"dynamicmaster\"\r\n                                })\r\n                            })\r\n                        }\r\n                        component.unique && sampleuniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && samplecombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        samplesearchfields.push(component.label)\r\n                        sampletemplatefields.push({ [designProperties.LABEL]: component.displayname,\r\n                             [designProperties.VALUE]: component.label ,\r\n                             [designProperties.PRIMARYKEY]: component.valuemember ,\r\n                             [designProperties.QUERYBUILDERTABLECODE]: component.nquerybuildertablecode\r\n                            })\r\n                        sampleAuditFields.push(component.label);\r\n                            sampleAuditMultilingualFields.push({[component.label] : component.displayname})\r\n                        if (component.inputtype === 'date') {\r\n                            sampledatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            sampledateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...sampledateconstraints] : sampledateconstraints;\r\n                        }\r\n                        displayFields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        // component.templatemandatory \r\n                        //&& listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            listItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label, mandatory: true })\r\n                            sampleAuditEditable.push(component.label);\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] })\r\n                        }\r\n                        else {\r\n                            // editable.push({ label: component.label, editableuntill: [17] })\r\n                            if (component.readonly)\r\n                                editable.push({ label: component.label, editableuntill: [] })\r\n                            else\r\n                                editable.push({ label: component.label, editableuntill: [transactionStatus.PREREGISTER] })\r\n\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            }\r\n            )\r\n        )\r\n       // if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){        \r\n            displayFields.push({\r\n                [designProperties.LABEL]: { \"en-US\": \"Reg. Date\", \"ru-RU\": \"Reg. Date(RU)\", \"tg-TG\": \"Reg. Date(TU)\"},\r\n                [designProperties.VALUE]: 'dregdate'\r\n            });\r\n\r\n       // }\r\n        //samplesearchfields.push(...staticSearchFields);\r\n\r\n        //console.log(\"reg sub type:\", this.props.Login);\r\n        const testListFields =  {...this.props.Login.testListFields};\r\n       \r\n        let obj = {\r\n            sampledisplayfields: displayFields,\r\n            samplelistitem: listItem,\r\n            samplegriditem: gridItem,\r\n            samplegridmoreitem: gridMoreItem,\r\n            subsamplelistitem,\r\n            sampledatefields,\r\n            subsampledatefields,\r\n            samplesearchfields,\r\n            subsamplesearchfields,\r\n            testdatefields,\r\n            sampledateconstraints,\r\n            subsampledateconstraints,\r\n            // sampleuniquevalidation,\r\n            //  subsamplecombinationunique,\r\n            samplecombinationunique,\r\n            testListFields,\r\n            deleteValidation\r\n            //combinedsearchfields:[...samplesearchfields,...subsamplesearchfields,...testListFields[\"testsearchfields\"] ]\r\n        }\r\n       \r\n        // console.log(\"Template mapping obj:\", obj);\r\n\r\n       // if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){  \r\n            sampleAuditFields.push(\"dregdate\",  \"stransdisplaystatus\");\r\n            sampleAuditEditable.push(\"stransdisplaystatus\");\r\n            subSampleAuditFields.push(\"stransdisplaystatus\");\r\n            subSampleAuditEditable.push(\"stransdisplaystatus\");\r\n            sampleAuditMultilingualFields.push( {\"dregdate\": {\"en-US\": \"Reg. Date\", \"ru-RU\": \"Reg. Date(RU)\", \"tg-TG\": \"Reg. Date(TU)\"}},\r\n                                                {\"stransdisplaystatus\": {\"en-US\": \"Transaction Status\", \"ru-RU\": \"Transaction Status(RU)\", \"tg-TG\": \"Transaction Status(TU)\"}});\r\n            subSampleAuditMultilingualFields.push({\"stransdisplaystatus\": {\"en-US\": \"Transaction Status\", \"ru-RU\": \"Transaction Status(RU)\", \"tg-TG\": \"Transaction Status(TU)\"}});\r\n        //}\r\n        let jsondata = {\r\n\r\n            subsamplecombinationunique,\r\n            samplecombinationunique,\r\n            sampletemplatefields:[...SAMPLETEMPLATEFIELDS, ...sampletemplatefields],\r\n            subsampletemplatefields:[...SUBSAMPLETEMPLATEFIELDS, ...subsampletemplatefields],//: subsamplesearchfields,\r\n            [formCode.SAMPLEREGISTRATION]: {\r\n                ...obj,\r\n                sampleeditable: editable,\r\n                subsampleeditable,\r\n                samplecombinationunique,\r\n                subsamplecombinationunique\r\n            },\r\n            [formCode.RESULTENTRY]: {\r\n                ...obj,\r\n            },\r\n            [formCode.APPROVAL]: {\r\n                ...obj,\r\n            },\r\n            [formCode.JOBALLOCATION]: {\r\n                ...obj,\r\n            },\r\n            [formCode.MYJOBS]: {\r\n                ...obj,\r\n            },\r\n            [formCode.TESTWISEMYJOBS]: {\r\n                ...obj,\r\n            },\r\n             [formCode.RELEASE]: {\r\n             ...obj,\r\n             samplegriditem:[{  \"1\": {\r\n                \"en-US\": \"AR.No.\",\r\n                \"ru-RU\": \" \",\r\n                \"tg-TG\": \" \"\r\n            },\r\n            \"2\": \"sarno\"\r\n        },...obj.samplegriditem],\r\n             subsamplelistitem:[ {\r\n                \"1\": {\r\n                    \"en-US\": \"Sub AR.No.\",\r\n                    \"ru-RU\": \" ArNo.\",\r\n                    \"tg-TG\": \" ArNo.\"\r\n                },\r\n                \"2\": \"ssamplearno\"\r\n            },...obj.subsamplelistitem]\r\n\r\n            // },\r\n             },\r\n            sampleAuditEditable,\r\n            sampleAuditFields,\r\n            sampleAuditMultilingualFields,\r\n            subSampleAuditEditable,\r\n            subSampleAuditFields,\r\n            subSampleAuditMultilingualFields,\r\n            deleteValidation,\r\n\r\n        }\r\n        console.log(\"jsondata:\", jsondata);\r\n        return jsondata;\r\n    }\r\n\r\n    onChangeToggle = (event, dataItem, field, dataIndex, formCode, operation) => {\r\n\r\n        let designData = this.props.Login.designData;\r\n        let dataResult = this.props.Login.dataResult;\r\n        if (operation === 'configureaudit'){\r\n            designData = this.props.Login.auditFieldDesignData ;\r\n            dataResult = this.props.Login.auditFieldDataResult;\r\n        }\r\n\r\n        let tableName = \"registration\";\r\n        if(this.props.Login.masterData.realSampleValue.value === TemplateType.Masters){  \r\n            tableName = \"dynamicmaster\";\r\n        }\r\n        if (formCode === undefined) {\r\n            dataResult[dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                designData[field].splice(dataIndex, 0, dataItem.realData)\r\n\r\n            } else {\r\n                designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n            }\r\n        }\r\n        else {\r\n            //dataResult[formCode][dataIndex][field] = event.target.checked;\r\n            if (event.target.checked) {\r\n                if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n                } \r\n                else {                            \r\n               \r\n                    if (field === 'sampledisplayfields') {\r\n                        dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                        designData[formCode]['samplesearchfields'].splice(dataIndex, 0, dataItem.label);\r\n                        designData[formCode][field].splice(dataIndex, 0, dataItem.realData);\r\n                    }\r\n                    else if (field === 'sampleauditfields') {\r\n                        dataResult[formCode][tableName][dataIndex][field] = event.target.checked;\r\n                        if (designData[formCode][tableName]['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                            designData[formCode][tableName]['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                            designData[formCode][tableName]['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n                        }\r\n                    }\r\n                    else if (field === 'sampleauditeditfields') {\r\n                        dataResult[formCode][tableName][dataIndex][\"sampleauditfields\"] = event.target.checked;\r\n                        dataResult[formCode][tableName][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\r\n                        if (designData[formCode][tableName]['sampleauditeditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                           \r\n                            designData[formCode][tableName][field].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                            if (designData[formCode][tableName]['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                                designData[formCode][tableName]['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                                designData[formCode][tableName]['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n                             }\r\n                        }\r\n                    }\r\n                    else if (field === 'subsampleauditfields') {\r\n                        dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;\r\n                        if (designData[formCode]['registrationsample']['subsampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                            designData[formCode]['registrationsample']['subsampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                            designData[formCode]['registrationsample']['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n                        }\r\n                    }\r\n                    else if (field === 'subsampleauditeditfields') {\r\n                        dataResult[formCode]['registrationsample'][dataIndex][\"subsampleauditfields\"] = event.target.checked;\r\n                        dataResult[formCode]['registrationsample'][dataIndex][\"subsampleauditeditfields\"] = event.target.checked;\r\n                        if (designData[formCode]['registrationsample']['subsampleauditeditfields'].indexOf(dataItem.realData[designProperties.VALUE])=== -1){\r\n                           \r\n                            designData[formCode]['registrationsample'][field].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                            if (designData[formCode]['registrationsample']['subsampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                                designData[formCode]['registrationsample']['subsampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n                                designData[formCode]['registrationsample']['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n                             }\r\n                        }\r\n                    }\r\n                    else{\r\n                        dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                        designData[formCode][field].splice(dataIndex, 0, dataItem.realData);\r\n                    }\r\n                }\r\n            } \r\n            else {\r\n                \r\n                if (field === 'sampledisplayfields') {      \r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;\r\n                    designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n\r\n                    const index = designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if(index !== -1){             \r\n                        designData[formCode]['samplesearchfields'].splice(index, 1)\r\n                    }\r\n                }\r\n                else if (field === 'sampleauditfields') {   \r\n                    dataResult[formCode][tableName][dataIndex][field] = event.target.checked;       \r\n                    const index = designData[formCode][tableName][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);        \r\n                    if(index !==-1){\r\n                        designData[formCode][tableName][field].splice(index, 1);\r\n                    }\r\n\r\n                    const index1 = designData[formCode][tableName]['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\r\n                    if(index1 !==-1){\r\n                         designData[formCode][tableName]['multilingualfields'].splice(index1, 1);\r\n                    }\r\n                    \r\n                    const index3 = designData[formCode][tableName][\"sampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if (index3 !==-1){\r\n                        designData[formCode][tableName][\"sampleauditeditfields\"].splice(index3, 1)\r\n                    }\r\n                    dataResult[formCode][tableName][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\r\n                }\r\n                else if (field === 'sampleauditeditfields') {     \r\n                    dataResult[formCode][tableName][dataIndex][field] = event.target.checked;  \r\n                    const index4 =designData[formCode][tableName][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if (index4 !==-1){               \r\n                        designData[formCode][tableName][field].splice(index4, 1);\r\n                    }\r\n                }\r\n                else if (field === 'subsampleauditfields') {    \r\n                    dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;    \r\n                    const index1 =designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if (index1 !==-1) {             \r\n                        designData[formCode][\"registrationsample\"][field].splice(index1, 1)\r\n                    }\r\n                   \r\n                    const index2 =  designData[formCode][\"registrationsample\"]['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\r\n                    if (index2 !== -1) {                  \r\n                        designData[formCode][\"registrationsample\"]['multilingualfields'].splice(index2, 1);\r\n                    }\r\n                    const index3 = designData[formCode]['registrationsample'][\"subsampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if (index3 !== -1)\r\n                    {\r\n                        designData[formCode][\"registrationsample\"][\"subsampleauditeditfields\"].splice(index3, 1)\r\n                    } \r\n                    dataResult[formCode][\"registrationsample\"][dataIndex][\"subsampleauditeditfields\"] = event.target.checked;\r\n                }\r\n                else if (field === 'subsampleauditeditfields') {    \r\n                    dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;   \r\n                    const index1 = designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n                    if (index1 !== -1){               \r\n                        designData[formCode][\"registrationsample\"][field].splice(index1, 1);\r\n                    }\r\n                }\r\n                else{\r\n                    dataResult[formCode][dataIndex][field] = event.target.checked;    \r\n                    designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.realData[designProperties.VALUE]), 1)\r\n                \r\n                }\r\n            }\r\n        }\r\n\r\n        let  data = { designData, dataResult } ;\r\n        if (operation === 'configureaudit'){\r\n            data = {auditFieldDesignData : designData,\r\n                    auditFieldDataResult : dataResult};\r\n        }\r\n        const updateInfo = {\r\n                                typeName: DEFAULT_RETURN,\r\n                                data: { ...data }\r\n                            }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    // onMasterChangeToggle = (event, dataItem, field, dataIndex, formCode, operation) => {\r\n\r\n    //     let designData = this.props.Login.designData;\r\n    //     let dataResult = this.props.Login.dataResult;\r\n    //     if (operation === 'configureaudit'){\r\n    //         designData = this.props.Login.auditFieldDesignData ;\r\n    //         dataResult = this.props.Login.auditFieldDataResult;\r\n    //     }\r\n    //     if (formCode === undefined) {\r\n    //         dataResult[dataIndex][field] = event.target.checked;\r\n    //         if (event.target.checked) {\r\n    //             designData[field].splice(dataIndex, 0, dataItem.realData)\r\n\r\n    //         } else {\r\n    //             designData[field].splice(designData[field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n    //         }\r\n    //     }\r\n    //     else {\r\n    //         //dataResult[formCode][dataIndex][field] = event.target.checked;\r\n    //         if (event.target.checked) {\r\n    //             if (field === 'samplelistitem' && designData[formCode][field].length >= 6) {\r\n    //                 return toast.warn(this.props.intl.formatMessage({ id: \"IDS_MAXIMUMSELECTIONEXCEEDS\" }))\r\n    //             } \r\n    //             else {                            \r\n    //                  if (field === 'sampleauditfields') {\r\n    //                     dataResult[formCode]['registration'][dataIndex][field] = event.target.checked;\r\n    //                     if (designData[formCode]['registration']['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n    //                         designData[formCode]['registration']['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n    //                         designData[formCode]['registration']['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n    //                     }\r\n    //                 }\r\n    //                 else if (field === 'sampleauditeditfields') {\r\n    //                     dataResult[formCode]['registration'][dataIndex][\"sampleauditfields\"] = event.target.checked;\r\n    //                     dataResult[formCode]['registration'][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\r\n    //                     if (designData[formCode]['registration']['sampleauditeditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n                           \r\n    //                         designData[formCode]['registration'][field].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n    //                         if (designData[formCode]['registration']['sampleauditfields'].indexOf(dataItem.realData[designProperties.VALUE]) === -1){\r\n    //                             designData[formCode]['registration']['sampleauditfields'].splice(dataIndex, 0, dataItem.realData[designProperties.VALUE]);\r\n    //                             designData[formCode]['registration']['multilingualfields'].splice(dataIndex, 0, {[dataItem.realData[designProperties.VALUE]]:dataItem.realData[designProperties.LABEL]});\r\n    //                          }\r\n    //                     }\r\n    //                 }              \r\n    //                 else{\r\n    //                     dataResult[formCode][dataIndex][field] = event.target.checked;\r\n    //                     designData[formCode][field].splice(dataIndex, 0, dataItem.realData);\r\n    //                 }\r\n    //             }\r\n    //         } \r\n    //         else {\r\n                \r\n    //             if (field === 'sampledisplayfields') {      \r\n    //                 dataResult[formCode][dataIndex][field] = event.target.checked;\r\n    //                 designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.label), 1)\r\n\r\n    //                 const index = designData[formCode]['samplesearchfields'].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if(index !== -1){             \r\n    //                     designData[formCode]['samplesearchfields'].splice(index, 1)\r\n    //                 }\r\n    //             }\r\n    //             else if (field === 'sampleauditfields') {   \r\n    //                 dataResult[formCode]['registration'][dataIndex][field] = event.target.checked;       \r\n    //                 const index = designData[formCode]['registration'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);        \r\n    //                 if(index !==-1){\r\n    //                     designData[formCode]['registration'][field].splice(index, 1);\r\n    //                 }\r\n\r\n    //                 const index1 = designData[formCode]['registration']['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\r\n    //                 if(index1 !==-1){\r\n    //                      designData[formCode]['registration']['multilingualfields'].splice(index1, 1);\r\n    //                 }\r\n                    \r\n    //                 const index3 = designData[formCode]['registration'][\"sampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if (index3 !==-1){\r\n    //                     designData[formCode]['registration'][\"sampleauditeditfields\"].splice(index3, 1)\r\n    //                 }\r\n    //                 dataResult[formCode]['registration'][dataIndex][\"sampleauditeditfields\"] = event.target.checked;\r\n    //             }\r\n    //             else if (field === 'sampleauditeditfields') {     \r\n    //                 dataResult[formCode]['registration'][dataIndex][field] = event.target.checked;  \r\n    //                 const index4 =designData[formCode]['registration'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if (index4 !==-1){               \r\n    //                     designData[formCode][\"registration\"][field].splice(index4, 1);\r\n    //                 }\r\n    //             }\r\n    //             else if (field === 'subsampleauditfields') {    \r\n    //                 dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;    \r\n    //                 const index1 =designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if (index1 !==-1) {             \r\n    //                     designData[formCode][\"registrationsample\"][field].splice(index1, 1)\r\n    //                 }\r\n                   \r\n    //                 const index2 =  designData[formCode][\"registrationsample\"]['multilingualfields'].map(object => Object.keys(object)[0]).indexOf(dataItem.label);\r\n    //                 if (index2 !== -1) {                  \r\n    //                     designData[formCode][\"registrationsample\"]['multilingualfields'].splice(index2, 1);\r\n    //                 }\r\n    //                 const index3 = designData[formCode]['registrationsample'][\"subsampleauditeditfields\"].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if (index3 !== -1)\r\n    //                 {\r\n    //                     designData[formCode][\"registrationsample\"][\"subsampleauditeditfields\"].splice(index3, 1)\r\n    //                 } \r\n    //                 dataResult[formCode][\"registrationsample\"][dataIndex][\"subsampleauditeditfields\"] = event.target.checked;\r\n    //             }\r\n    //             else if (field === 'subsampleauditeditfields') {    \r\n    //                 dataResult[formCode]['registrationsample'][dataIndex][field] = event.target.checked;   \r\n    //                 const index1 = designData[formCode]['registrationsample'][field].findIndex(x => x === dataItem.realData[designProperties.VALUE]);\r\n    //                 if (index1 !== -1){               \r\n    //                     designData[formCode][\"registrationsample\"][field].splice(index1, 1);\r\n    //                 }\r\n    //             }\r\n    //             else{\r\n    //                 dataResult[formCode][dataIndex][field] = event.target.checked;    \r\n    //                 designData[formCode][field].splice(designData[formCode][field].findIndex(x => x[designProperties.VALUE] === dataItem.realData[designProperties.VALUE]), 1)\r\n                \r\n    //             }\r\n    //         }\r\n    //     }\r\n\r\n    //     let  data = { designData, dataResult } ;\r\n    //     if (operation === 'configureaudit'){\r\n    //         data = {auditFieldDesignData : designData,\r\n    //                 auditFieldDataResult : dataResult};\r\n    //     }\r\n    //     const updateInfo = {\r\n    //                             typeName: DEFAULT_RETURN,\r\n    //                             data: { ...data }\r\n    //                         }\r\n    //     this.props.updateStore(updateInfo);\r\n\r\n    // }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n       // console.log(\"save:\", this.props.Login.masterData.realRegSubTypeValue);\r\n        //console.log(\"data:\", this.props.Login.editFieldDesignData)\r\n        let inputData = [];\r\n\r\n        let operation = this.props.Login.operation;\r\n        const needsubsample = this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false;\r\n\r\n        if (operation === 'configure' || operation === 'configuresubsample') {\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: this.props.Login.designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            operation='configure'\r\n        }\r\n        else if (operation === 'configureedit' || operation === 'configuresubsampleedit') {\r\n\r\n            let designData = this.props.Login.editFieldDesignData;\r\n            let formCodeArray = Object.keys(this.state.selectedRecord);\r\n\r\n            formCodeArray.forEach(formCode => {\r\n                const data = this.state.selectedRecord[formCode];                \r\n\r\n                let editableData =  designData[formCode]['sampleeditable'];;\r\n                if (operation === 'configuresubsampleedit') {\r\n                    editableData =  designData[formCode]['subsampleeditable'];;\r\n                }\r\n               \r\n                Object.keys(data).map(label=>{                    \r\n                    const editableuntil = [];\r\n                    data[label].map(statusItem =>\r\n                        editableuntil.push(statusItem.value)\r\n                    )\r\n                    const index = editableData.findIndex(item => item.label === label);\r\n                    if (index === -1) {\r\n                        editableData.push({ \"label\": label, \"editableuntill\": editableuntil });\r\n                    }\r\n                    else {\r\n                        editableData[index] = { \"label\": label, \"editableuntill\": editableuntil };\r\n                    }\r\n                    //designData[formCode]['sampleeditable'].push({\"label\":label, \"editableuntill\":editableuntil});\r\n                })\r\n\r\n            })\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            operation = 'configure';\r\n        }\r\n        else if (operation === 'configureunique') {\r\n            let designData = this.props.Login.designData;\r\n            //  let formCodeArray = Object.keys(this.state.selectedRecord);\r\n            const dataList = []\r\n            const dataListsubsample = []\r\n            this.props.Login.dataList.map(x => {\r\n                if (Object.keys(x).length !== 0) {\r\n                    dataList.push(x);\r\n                }\r\n            })\r\n            if (this.props.Login.masterData.realSampleValue.value === TemplateType.Masters) {\r\n                designData['mastercombinationunique'] = dataList\r\n            } else {\r\n                designData['samplecombinationunique'] = dataList\r\n                designData[formCode.SAMPLEREGISTRATION]['samplecombinationunique'] = dataList\r\n                this.props.Login.dataListSubSample.map(x => {\r\n                    if (Object.keys(x).length !== 0) {\r\n                        dataListsubsample.push(x);\r\n                    }\r\n                })\r\n                designData['subsamplecombinationunique'] = dataListsubsample\r\n                designData[formCode.SAMPLEREGISTRATION]['subsamplecombinationunique'] = dataListsubsample\r\n            }\r\n\r\n\r\n            inputData = {\r\n                designtemplatemapping: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    jsondataobj: designData\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            operation = 'configure';\r\n        }\r\n        else if (operation === 'configureaudit'){\r\n            //console.log(\"auditFieldDesignData:\", this.props.Login);\r\n\r\n            inputData = {\r\n                //dynamicaudit: {\r\n                    ndesigntemplatemappingcode: this.props.Login.masterData.selectedDesignTemplateMapping.ndesigntemplatemappingcode,\r\n                    auditdata: this.props.Login.auditData,\r\n                    //nregtypecode:this.props.Login.masterData.realRegTypeValue.value, \r\n                    //nregsubtypecode:this.props.Login.masterData.realRegSubTypeValue.value, \r\n                    //nformcode:43, stablename:'registration',\r\n\r\n               // },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n\r\n            //operation = 'configure';\r\n        }\r\n        else {\r\n            console.log(\"this.state.selectedRecord:\", this.state.selectedRecord);\r\n            let { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey } = this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ?\r\n                this.getGridJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata)\r\n                : {};\r\n\r\n            let auditData = { };\r\n\r\n            let dataObject = {};\r\n            if(this.props.Login.masterData.realSampleValue.value !== TemplateType.Masters){     \r\n                dataObject = this.getJsondata(this.state.selectedRecord.nreactregtemplatecode.item.jsondata);\r\n               // console.log(\"json:\",dataObject);\r\n\r\n                auditData = { \"registration\":{editmandatoryfields:dataObject[\"sampleAuditEditable\"] , \r\n                                auditcapturefields: dataObject[\"sampleAuditFields\"] , \r\n                                multilingualfields: dataObject[\"sampleAuditMultilingualFields\"]\r\n                            },                              \r\n                };\r\n\r\n                if (needsubsample){\r\n                    auditData = {...auditData,\r\n                                    registrationsample:{editmandatoryfields:dataObject[\"subSampleAuditEditable\"] , \r\n                                        auditcapturefields: dataObject[\"subSampleAuditFields\"] , \r\n                                        multilingualfields: dataObject[\"subSampleAuditMultilingualFields\"]},\r\n                    }\r\n                    delete dataObject[\"subSampleAuditEditable\"];\r\n                    delete dataObject[\"subSampleAuditFields\"];\r\n                    delete dataObject[\"subSampleAuditMultilingualFields\"];\r\n                }\r\n                delete dataObject[\"sampleAuditEditable\"];\r\n                delete dataObject[\"sampleAuditFields\"];\r\n                delete dataObject[\"sampleAuditMultilingualFields\"]; \r\n            }\r\n            else    {     \r\n           // if(this.props.Login.masterData.realSampleValue.value === TemplateType.Masters){\r\n                auditData = { \"dynamicmaster\":{editmandatoryfields:jsondata[\"sampleAuditEditable\"] , \r\n                                                auditcapturefields: jsondata[\"sampleAuditFields\"] , \r\n                                                multilingualfields: jsondata[\"sampleAuditMultilingualFields\"]\r\n                                            },                              \r\n                            };\r\n            }          \r\n          \r\n            inputData = {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                \"ncontrolcode\": this.props.Login.ncontrolCode,\r\n                \"nreactregtemplatecode\": this.state.selectedRecord.nreactregtemplatecode.value,\r\n                \"nsampletypecode\": this.props.Login.masterData.realSampleValue.value,\r\n                \"nregtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegTypeValue ? this.props.Login.masterData.realRegTypeValue.value : -1,\r\n                \"nregsubtypecode\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.value : -1,\r\n                \"sregsubtypename\":this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? -1 : this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.label : \"\",\r\n                \"nformcode\": this.props.Login.masterData.realFormValue ? this.props.Login.masterData.realFormValue.value : -1,\r\n                \"nsubsampletemplatecode\": this.state.selectedRecord.nsubsampletemplatecode ? this.state.selectedRecord.nsubsampletemplatecode.value : -1,\r\n                \"jsondataobj\": this.props.Login.masterData.realSampleValue.value === TemplateType.Masters ? jsondata\r\n                    : dataObject,\r\n                auditdata:auditData,\r\n                needsubsample:this.props.Login.masterData.realRegSubTypeValue ? this.props.Login.masterData.realRegSubTypeValue.item.nneedsubsample : false\r\n            }\r\n            \r\n            inputData[\"designtemplatemapping\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n            if (this.props.Login.masterData.realFormValue && this.props.Login.masterData.realFormValue.value === -2) {\r\n                let qf_jsonData = { sdisplayname: {} };\r\n                let qbt_jsonData = { tablename: {} };\r\n\r\n                this.props.Login.languageList.map(lang => {\r\n                    qf_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord.sformname;\r\n                    qbt_jsonData['tablename'][lang.value] = this.state.selectedRecord.sformname\r\n                })\r\n\r\n                let qm_jsonData = { sdisplayname: {} };\r\n\r\n                let nmodulecode = 0;\r\n                let smoduledisplayname = \"\";\r\n            \r\n                if (this.state.selectedRecord[\"nnewmodule\"].value === transactionStatus.YES) {\r\n                    smoduledisplayname = this.state.selectedRecord[\"nmodulecode\"];\r\n                    this.props.Login.languageList.map(lang => {\r\n                        qm_jsonData['sdisplayname'][lang.value] = this.state.selectedRecord[\"nmodulecode\"];\r\n                    })\r\n                }\r\n                else {\r\n                    nmodulecode = this.state.selectedRecord[\"nmodulecode\"].value;\r\n                }\r\n                inputData = {\r\n                    ...inputData,\r\n                    sformname: this.state.selectedRecord.sformname,\r\n                    sregtemplatename:this.state.selectedRecord.nreactregtemplatecode.label,\r\n                    nmodulecode,\r\n                    smoduledisplayname,\r\n                    qm_jsonData,\r\n                    qf_jsonData,\r\n                    qbt_jsonData,\r\n                    sprimarykeyname: templatePrimaryKey,\r\n                    jdynamiccolumns,\r\n                    jnumericcolumns\r\n                }\r\n            }else{\r\n                inputData = {\r\n                    ...inputData,\r\n                    sformname: this.props.Login.masterData.realFormValue&&this.props.Login.masterData.realFormValue.label,\r\n                    sregtemplatename:this.state.selectedRecord.nreactregtemplatecode.label,\r\n                    ssubregtemplatename:this.state.selectedRecord.nsubsampletemplatecode&&this.state.selectedRecord.nsubsampletemplatecode.label,\r\n                    sprimarykeyname: templatePrimaryKey,\r\n                    jdynamiccolumns,\r\n                    jnumericcolumns\r\n\r\n                }\r\n            }\r\n            // this.designtemplatemappingFieldList.map(item => {\r\n            //     return inputData[\"designtemplatemapping\"][item] = this.state.selectedRecord[item]\r\n            // });\r\n        }\r\n        //console.log(\"input:\", inputData);\r\n        let postParam = undefined;\r\n        const inputParam = {\r\n            classUrl: \"designtemplatemapping\",\r\n            methodUrl: \"DesignTemplateMapping\",\r\n            inputData: inputData,\r\n            operation,\r\n            saveType, formRef, postParam, searchRef: this.searchRef, dataList: [], dataListCount: [], dataListCountSubSample: [], dataListSubSample: []\r\n        }\r\n        if (operation === 'configureaudit'){\r\n            inputParam[\"methodUrl\"] =  \"DynamicAudit\";\r\n            inputParam[\"operation\"] =  \"configure\";\r\n            //operation = 'configure';\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (\r\n            showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType, dataList: [], dataListCount: [], dataListCountSubSample: [], dataListSubSample: []\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n           this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential, editFieldConfigService,\r\n    updateStore, getDesignTemplateMappingDetail, getMappedFieldProps,\r\n    getDesignTemplateMappingComboService, filterColumnData,auditFieldConfigService,\r\n    reloadDesignTemplateMapping, getTMPFilterRegType, getTMPFilterRegSubType, getTMPFilterSubmit, combinationUniqueConfigService\r\n})(injectIntl(DesignTemplateMapping));\r\n\r\n"]},"metadata":{},"sourceType":"module"}