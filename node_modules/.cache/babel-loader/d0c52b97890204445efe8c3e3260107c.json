{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,FormGroup,FormLabel}from'react-bootstrap';import{connect}from'react-redux';import{callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails}from'../../../actions';import{FormattedMessage,injectIntl}from'react-intl';import{toast}from'react-toastify';import{getControlMap,convertDateValuetoString}from'../../../components/CommonScript';import ListMaster from'../../../components/list-master/list-master.component';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import'react-perfect-scrollbar/dist/css/styles.css';// import ReactTooltip from 'react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import{Affix}from'rsuite';import TrainingUserViewDateFilter from'../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';import UserViewTrainingDocumentTab from'./UserViewTrainingDocumentTab';import CustomTab from\"../../../components/custom-tabs/custom-tabs.component\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var UserView=/*#__PURE__*/function(_React$Component){_inherits(UserView,_React$Component);var _super=_createSuper(UserView);function UserView(props){var _this;_classCallCheck(this,UserView);_this=_super.call(this,props);_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";var fromDate=_this.state.selectedRecord[\"fromdate\"]?_this.state.selectedRecord[\"fromdate\"]:_this.props.Login.masterData.FromDate;var toDate=_this.state.selectedRecord[\"todate\"]?_this.state.selectedRecord[\"todate\"]:_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo);var inputParam={inputData:{fromDate:obj.fromDate,toDate:obj.toDate,usercode:_this.props.Login.userInfo.nusercode,userinfo:_this.props.Login.userInfo},classUrl:\"userview\",methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.changeTrainingUserViewDateFilter(inputParam);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",/*#__PURE__*/React.createElement(UserViewTrainingDocumentTab,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,masterData:_this.props.Login.masterData,userInfo:_this.props.Login.userInfo,TrainingDocuments:_this.props.Login.masterData.TrainingDocuments,screenName:\"IDS_USERVIEWTRAININGDOCUMENT\"}));return tabMap;};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.reloadData=function(selectedRecord,isDateChange){var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo,true);var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate},classUrl:'userview',methodUrl:\"UserView\",displayName:\"IDS_TRAININGUSERVIEW\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),skip:0,take:_this.props.Login.settings?_this.props.Login.settings[3]:25};_this.searchRef=React.createRef();_this.searchFieldList=[\"strainingvenue\",\"strainingtopic\",\"strainername\"];return _this;}_createClass(UserView,[{key:\"render\",value:function render(){var _this2=this;var obj=convertDateValuetoString(this.state.selectedRecord[\"fromdate\"]||this.props.Login.masterData&&this.props.Login.masterData.FromDate,this.state.selectedRecord[\"todate\"]||this.props.Login.masterData&&this.props.Login.masterData.ToDate,this.props.Login.userInfo);var fromDate=obj.fromDate;var toDate=obj.toDate;var SelectedTrainingUserView=this.props.Login.masterData.SelectedTrainingUserView;var filterParam={inputListName:\"TrainingUserView\",selectedObject:\"SelectedTrainingUserView\",primaryKeyField:\"nparticipantcode\",fetchUrl:\"userview/getTrainingUserViewDetails\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{searchRef:this.searchRef,screenName:\"UserView\",userRoleControlRights:this.state.userRoleControlRights,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.TrainingUserView,showFilterIcon:true,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,reloadData:this.reloadData,getMasterDetail:function getMasterDetail(master){return _this2.props.getTrainingUserViewDetails(master,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedTrainingUserView,showFilter:this.props.Login.showFilter,filterColumnData:this.props.filterColumnData,filterParam:filterParam,primaryKeyField:\"nparticipantcode\",mainField:\"strainingtopic\",firstField:\"strainername\",secondField:\"strainingvenue\",filterComponent:[{\"IDS_TRAININGUSERVIEWDATEFILTER\":/*#__PURE__*/React.createElement(TrainingUserViewDateFilter,{selectedRecord:this.state.selectedRecord||{},value:this.state.value||{},handleDateChange:this.handleDateChange,fromDate:fromDate,toDate:toDate,userInfo:this.props.Login.userInfo,onFilterChange:this.onFilterChange})}]})),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.SelectedTrainingUserView?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedTrainingUserView.strainingtopic),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"})))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGTOPIC\",message:\"Training Topic\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingtopic))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAINERNAME\",message:\"Trainer Name\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainername))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGVENUE\",message:\"Training Venue\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingvenue))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGDATETIME\",message:\"Training Date\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGSTATUS\",message:\"Training Status\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TRAININGCATEGORY\",message:\"Training Category\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname)))),SelectedTrainingUserView&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))):\"\"))))))));}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];var obj=convertDateValuetoString(this.props.Login.masterData.FromDate,this.props.Login.masterData.ToDate,this.props.Login.userInfo);breadCrumbData.push({\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto});return breadCrumbData;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.TrainingUserView});}else{if(this.props.Login.masterData.TrainingUserView){this.setState({data:this.props.Login.masterData.TrainingUserView,dataState:{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5}});}}}if(this.props.Login.masterData!==previousProps.Login.masterData){var filterData=this.generateBreadCrumData();this.setState({filterData:filterData});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return UserView;}(React.Component);export default connect(mapStateToProps,{callService:callService,filterColumnData:filterColumnData,changeTrainingUserViewDateFilter:changeTrainingUserViewDateFilter,getTrainingUserViewDetails:getTrainingUserViewDetails})(injectIntl(UserView));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/traininguserview/UserView.jsx"],"names":["React","Component","Row","Col","Card","FormGroup","FormLabel","connect","callService","filterColumnData","changeTrainingUserViewDateFilter","getTrainingUserViewDetails","FormattedMessage","injectIntl","toast","getControlMap","convertDateValuetoString","ListMaster","ReadOnlyText","ContentPanel","DEFAULT_RETURN","BreadcrumbComponent","Affix","TrainingUserViewDateFilter","UserViewTrainingDocumentTab","CustomTab","mapStateToProps","state","Login","UserView","props","openFilter","showFilter","updateInfo","typeName","data","updateStore","closeFilter","onFilterSubmit","searchRef","current","value","fromDate","selectedRecord","masterData","FromDate","toDate","ToDate","obj","userInfo","inputParam","inputData","usercode","nusercode","userinfo","classUrl","methodUrl","displayName","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","TrainingDocuments","handleDateChange","dateName","dateValue","setState","reloadData","isDateChange","error","skip","take","settings","createRef","searchFieldList","SelectedTrainingUserView","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","breadCrumbData","filterData","length","searchedData","TrainingUserView","master","onFilterChange","strainingtopic","strainername","strainingvenue","strainingdatetime","strainingstatus","strainingcategoryname","onTabChange","push","breadCrumbFrom","breadCrumbto","previousProps","nformcode","Object","values","map","item","ncontrolcode","dataState","parseInt","generateBreadCrumData","masterStatus","errorCode","warn"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, Card, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails\r\n} from '../../../actions'\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { getControlMap ,convertDateValuetoString } from '../../../components/CommonScript';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport { ReadOnlyText, ContentPanel} from '../../../components/App.styles';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport { Affix } from 'rsuite';\r\nimport TrainingUserViewDateFilter from '../../../pages/competencemanagement/traininguserview/TrainingUserViewDateFilter';\r\nimport UserViewTrainingDocumentTab from './UserViewTrainingDocumentTab';\r\nimport CustomTab from \"../../../components/custom-tabs/custom-tabs.component\";\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass UserView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = ({\r\n            selectedRecord: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            take: this.props.Login.settings ? this.props.Login.settings[3] : 25\r\n        });\r\n        this.searchRef = React.createRef();\r\n        this.searchFieldList = [\"strainingvenue\", \"strainingtopic\", \"strainername\"]\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        let obj = convertDateValuetoString(this.state.selectedRecord[\"fromdate\"] || (this.props.Login.masterData && this.props.Login.masterData.FromDate),\r\n            this.state.selectedRecord[\"todate\"] || (this.props.Login.masterData && this.props.Login.masterData.ToDate),\r\n            this.props.Login.userInfo)\r\n\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        const { SelectedTrainingUserView } = this.props.Login.masterData;\r\n        const filterParam = {\r\n            inputListName: \"TrainingUserView\", selectedObject: \"SelectedTrainingUserView\", primaryKeyField: \"nparticipantcode\",\r\n            fetchUrl: \"userview/getTrainingUserViewDetails\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList: this.searchFieldList\r\n        };\r\n              \r\n        let breadCrumbData = this.state.filterData || [];\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <Affix top={53}>\r\n                            <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        </Affix> : \"\"\r\n                    }\r\n                    {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                    <Row noGutters={true}>\r\n                    <Col md={4}>\r\n              <ListMaster\r\n                         searchRef={this.searchRef}\r\n                         screenName={\"UserView\"}\r\n                         userRoleControlRights={this.state.userRoleControlRights}\r\n                         masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.TrainingUserView}\r\n                         showFilterIcon={true}\r\n                         openFilter={this.openFilter}\r\n                         closeFilter={this.closeFilter}\r\n                         onFilterSubmit={this.onFilterSubmit}\r\n                         reloadData={this.reloadData}\r\n                         getMasterDetail={(master) => this.props.getTrainingUserViewDetails(master, this.props.Login.userInfo, this.props.Login.masterData)}       \r\n                         selectedMaster={this.props.Login.masterData.SelectedTrainingUserView}\r\n                         showFilter={this.props.Login.showFilter}\r\n                         filterColumnData={this.props.filterColumnData}\r\n                         filterParam={filterParam}\r\n                         primaryKeyField=\"nparticipantcode\"\r\n                                mainField=\"strainingtopic\"\r\n                                firstField=\"strainername\"\r\n                                secondField=\"strainingvenue\"\r\n                                filterComponent={[\r\n                                {\r\n                                  \"IDS_TRAININGUSERVIEWDATEFILTER\": (\r\n                                    <TrainingUserViewDateFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                value={this.state.value || {}}\r\n                                                handleDateChange={this.handleDateChange}\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                onFilterChange={this.onFilterChange}\r\n                                               \r\n                                            />\r\n                                  ),\r\n                                },\r\n                              ]}\r\n\r\n              />\r\n              </Col>\r\n               <Col md={8}>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        <Card className=\"border-0\">\r\n                                            {this.props.Login.masterData.SelectedTrainingUserView ?\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                       \r\n                                                        <Card.Title className=\"product-title-main\">\r\n                                                            {this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}\r\n                                                        </Card.Title>\r\n                                                        <Card.Subtitle>\r\n                                                            <div className=\"d-flex product-category\">\r\n                                                                <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                                    \r\n                                                                </h2>\r\n                                                                \r\n                                                            </div>\r\n\r\n                                                        </Card.Subtitle>\r\n                                                    </Card.Header>\r\n                                                    <Card.Body>\r\n                                                        <Row>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTOPIC\" message=\"Training Topic\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtopic}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAINERNAME\" message=\"Trainer Name\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainername}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGVENUE\" message=\"Training Venue\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingvenue }\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGDATETIME\" message=\"Training Date\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingdatetime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGTIME\" message=\"Training Time\" /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.SelectedTrainingUserView.strainingtime}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col> */}\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGSTATUS\" message=\"Training Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingstatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_TRAININGCATEGORY\" message=\"Training Category\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.strainingcategoryname}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n\r\n                                                            {/* <Col md={4}>\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id=\"IDS_ATTENDANCESTATUS\" message=\"Attendance Status\" /></FormLabel>\r\n                                                                    <ReadOnlyText>\r\n                                                                        {this.props.Login.masterData.SelectedTrainingUserView.sattendancestatus}\r\n                                                                    </ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>  */}\r\n                                                                                    \r\n                                                                                                                      \r\n                                                        </Row>\r\n                                                        {SelectedTrainingUserView && <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />}\r\n\r\n                                                    </Card.Body>\r\n\r\n                                                </>\r\n                                                : \"\"\r\n                                            }\r\n                                        </Card>\r\n                                    </ContentPanel>\r\n                                </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n            </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter;\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      closeFilter = () => {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { showFilter: false },\r\n        };\r\n        this.props.updateStore(updateInfo);\r\n      };\r\n    \r\n      onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n       let fromDate= this.state.selectedRecord[\"fromdate\"] ?this.state.selectedRecord[\"fromdate\"]: this.props.Login.masterData.FromDate;\r\n       let toDate= this.state.selectedRecord[\"todate\"] ? this.state.selectedRecord[\"todate\"]: this.props.Login.masterData.ToDate;\r\n\r\n        let obj = convertDateValuetoString(fromDate, toDate, this.props.Login.userInfo);  \r\n        let inputParam ={\r\n             inputData : {\r\n            fromDate: obj.fromDate,\r\n            toDate: obj.toDate,\r\n            \r\n            usercode: this.props.Login.userInfo.nusercode,\r\n            userinfo: this.props.Login.userInfo,\r\n        },\r\n        \r\n        classUrl: \"userview\",\r\n        methodUrl: \"UserView\",\r\n        displayName: \"IDS_TRAININGUSERVIEW\",\r\n        userInfo: this.props.Login.userInfo\r\n    };\r\n    this.props.changeTrainingUserViewDateFilter(inputParam);\r\n\r\n    }\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_USERVIEWTRAININGDOCUMENT\",\r\n            <UserViewTrainingDocumentTab\r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                TrainingDocuments={this.props.Login.masterData.TrainingDocuments}\r\n                screenName=\"IDS_USERVIEWTRAININGDOCUMENT\"\r\n            />\r\n    \r\n            );\r\n            return tabMap;\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    \r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n            let obj = convertDateValuetoString(this.props.Login.masterData.FromDate,\r\n                this.props.Login.masterData.ToDate,\r\n                this.props.Login.userInfo);\r\n            breadCrumbData.push(\r\n\r\n                {\r\n                    \"label\": \"IDS_FROM\",\r\n                    \"value\": obj.breadCrumbFrom\r\n                },\r\n                {\r\n                    \"label\": \"IDS_TO\",\r\n                    \"value\": obj.breadCrumbto\r\n                }\r\n            );\r\n        \r\n        return breadCrumbData;\r\n    }\r\n\r\n   \r\n    reloadData = (selectedRecord, isDateChange) => {\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;       \r\n        let obj = convertDateValuetoString(fromDate,toDate, this.props.Login.userInfo, true);\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": this.props.Login.userInfo,\r\n                fromDate:obj.fromDate, \r\n                toDate:obj.toDate,\r\n            },\r\n            classUrl: 'userview',\r\n            methodUrl: \"UserView\",\r\n            displayName: \"IDS_TRAININGUSERVIEW\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData.TrainingUserView,\r\n                });\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.TrainingUserView) {\r\n                    this.setState({\r\n                        data: this.props.Login.masterData.TrainingUserView,\r\n                        dataState : {skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5},\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService,filterColumnData,changeTrainingUserViewDateFilter,getTrainingUserViewDetails\r\n})(injectIntl(UserView));\r\n\r\n"]},"metadata":{},"sourceType":"module"}