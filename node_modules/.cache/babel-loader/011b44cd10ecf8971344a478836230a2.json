{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Nav}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{FormattedMessage,injectIntl}from'react-intl';import{faPlus}from'@fortawesome/free-solid-svg-icons';import ListAttachment from'../../components/ListAttachment';import{designProperties}from'../../components/Enumeration';import{showEsign}from'../../components/CommonScript';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{intl}from'../../components/App';var ClientFileTab=/*#__PURE__*/function(_Component){_inherits(ClientFileTab,_Component);var _super=_createSuper(ClientFileTab);function ClientFileTab(){var _this;_classCallCheck(this,ClientFileTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.DeleteContact=function(deleteParam){var _inputData;deleteParam={classUrl:\"client\",methodUrl:deleteParam.methodUrl,inputData:(_inputData={},_defineProperty(_inputData,deleteParam.methodUrl,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.userInfo),_inputData),operation:deleteParam.operation// dataState: this.state.dataState\n};if(showEsign(_this.props.userRoleControlRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{deleteParam:deleteParam,masterData:_this.props.masterData},openModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(deleteParam,_this.props.masterData,\"openModal\");}};return _this;}_createClass(ClientFileTab,[{key:\"render\",value:function render(){var _ref,_ref2,_ref3,_this2=this;var addFileId=this.props.controlMap.has(\"AddClientFile\")&&this.props.controlMap.get(\"AddClientFile\").ncontrolcode;var editFileId=this.props.controlMap.has(\"EditClientFile\")&&this.props.controlMap.get(\"EditClientFile\").ncontrolcode;var deleteFileId=this.props.controlMap.has(\"DeleteClientFile\")&&this.props.controlMap.get(\"DeleteClientFile\").ncontrolcode;// const defaultFileId = this.props.controlMap.has(\"DefaultSupplierFile\") && this.props.controlMap.get(\"DefaultSupplierFile\").ncontrolcode;\nvar viewFileId=this.props.controlMap.has(\"ViewClientFile\")&&this.props.controlMap.get(\"ViewClientFile\").ncontrolcode;var editParam={screenName:\"IDS_CLIENTFILE\",operation:\"update\",inputParam:this.props.inputParam,userInfo:this.props.userInfo,ncontrolCode:editFileId,modalName:\"openChildModal\"};//  const defaultParam = {operation:\"Default\", methodUrl: \"TestFile\", userInfo: this.props.userInfo, ncontrolCode:defaultFileId};\nvar subFields=[// {[designProperties.VALUE]:\"stransdisplaystatus\"}, \n// { [designProperties.LABEL]: \"IDS_DEFAULTSTATUS\", [designProperties.VALUE]: \"stransdisplaystatus\" }\n//{[designProperties.VALUE]:\"screateddate\"}, \n//{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\n];var moreField=[(_ref={},_defineProperty(_ref,designProperties.LABEL,\"IDS_LINK\"),_defineProperty(_ref,designProperties.VALUE,\"slinkname\"),_ref),(_ref2={},_defineProperty(_ref2,designProperties.LABEL,\"IDS_CREATEDDATE\"),_defineProperty(_ref2,designProperties.VALUE,\"screateddate\"),_ref2),(_ref3={},_defineProperty(_ref3,designProperties.LABEL,\"IDS_DESCRIPTION\"),_defineProperty(_ref3,designProperties.VALUE,\"sdescription\"),_ref3)];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addclientfile\",className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addFileId)===-1,onClick:function onClick(){return _this2.props.addClientFile({userInfo:_this2.props.userInfo,operation:\"create\",ncontrolCode:addFileId,screenName:\"IDS_CLIENTFILE\",modalName:\"openChildModal\"});}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ADDFILE\",defaultMessage:\"File\"})))),/*#__PURE__*/React.createElement(ListAttachment,{attachmentList:this.props.clientFile,fileName:\"sfilename\"// filesize=\"nfilesize\"\n// linkname=\"slinkname\"\n// defaultStatusName=\"stransdisplaystatus\"\n,deleteRecord:this.props.deleteRecord,deleteParam:{operation:\"delete\",methodUrl:\"ClientFile\"},editParam:editParam// defaultParam={defaultParam}\n,fetchRecord:this.props.addClientFile//defaultRecord={this.props.defaultRecord}\n,deleteId:deleteFileId,editId:editFileId//defaultId={defaultFileId}\n,viewId:viewFileId,userRoleControlRights:this.props.userRoleControlRights,viewFile:this.props.viewClientFile,subFields:subFields,moreField:moreField,settings:this.props.settings,userInfo:this.props.userInfo}));}}]);return ClientFileTab;}(Component);export default injectIntl(ClientFileTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/ClientFileTabs.js"],"names":["React","Component","Nav","FontAwesomeIcon","FormattedMessage","injectIntl","faPlus","ListAttachment","designProperties","showEsign","DEFAULT_RETURN","intl","ClientFileTab","DeleteContact","deleteParam","classUrl","methodUrl","inputData","selectedRecord","props","userInfo","operation","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","masterData","openModal","screenName","updateStore","crudMaster","addFileId","controlMap","has","get","ncontrolcode","editFileId","deleteFileId","viewFileId","editParam","inputParam","modalName","subFields","moreField","LABEL","VALUE","indexOf","addClientFile","clientFile","deleteRecord","viewClientFile","settings"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport ListAttachment from '../../components/ListAttachment';\r\nimport { designProperties } from '../../components/Enumeration';\r\nimport {  showEsign ,} from '../../components/CommonScript';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { intl } from '../../components/App';\r\n\r\n\r\nclass ClientFileTab extends Component {\r\n    render() {\r\n        const addFileId = this.props.controlMap.has(\"AddClientFile\") && this.props.controlMap.get(\"AddClientFile\").ncontrolcode;\r\n        const editFileId = this.props.controlMap.has(\"EditClientFile\") && this.props.controlMap.get(\"EditClientFile\").ncontrolcode;\r\n        const deleteFileId = this.props.controlMap.has(\"DeleteClientFile\") && this.props.controlMap.get(\"DeleteClientFile\").ncontrolcode;\r\n        // const defaultFileId = this.props.controlMap.has(\"DefaultSupplierFile\") && this.props.controlMap.get(\"DefaultSupplierFile\").ncontrolcode;\r\n        const viewFileId = this.props.controlMap.has(\"ViewClientFile\") && this.props.controlMap.get(\"ViewClientFile\").ncontrolcode;\r\n        const editParam = {\r\n            screenName: \"IDS_CLIENTFILE\", operation: \"update\", inputParam: this.props.inputParam,\r\n            userInfo: this.props.userInfo, ncontrolCode: editFileId, modalName: \"openChildModal\"\r\n        };\r\n        //  const defaultParam = {operation:\"Default\", methodUrl: \"TestFile\", userInfo: this.props.userInfo, ncontrolCode:defaultFileId};\r\n        const subFields = [\r\n            // {[designProperties.VALUE]:\"stransdisplaystatus\"}, \r\n           // { [designProperties.LABEL]: \"IDS_DEFAULTSTATUS\", [designProperties.VALUE]: \"stransdisplaystatus\" }\r\n            //{[designProperties.VALUE]:\"screateddate\"}, \r\n            //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n        const moreField = [\r\n            { [designProperties.LABEL]: \"IDS_LINK\", [designProperties.VALUE]: \"slinkname\" },\r\n            { [designProperties.LABEL]: \"IDS_CREATEDDATE\", [designProperties.VALUE]: \"screateddate\" },\r\n            { [designProperties.LABEL]: \"IDS_DESCRIPTION\", [designProperties.VALUE]: \"sdescription\" },\r\n            //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n        return (\r\n            <>\r\n                <div className=\"actions-stripe border-bottom\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Nav.Link name=\"addclientfile\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addFileId) === -1}\r\n                            onClick={() => this.props.addClientFile({ userInfo: this.props.userInfo, operation: \"create\", ncontrolCode: addFileId, screenName: \"IDS_CLIENTFILE\", modalName: \"openChildModal\" })}>\r\n                            <FontAwesomeIcon icon={faPlus} /> {\" \"}\r\n                            <FormattedMessage id=\"IDS_ADDFILE\" defaultMessage=\"File\" />\r\n                        </Nav.Link>\r\n                    </div>\r\n                </div>\r\n                <ListAttachment\r\n                    attachmentList={this.props.clientFile}\r\n                    fileName=\"sfilename\"\r\n                    // filesize=\"nfilesize\"\r\n                    // linkname=\"slinkname\"\r\n                    // defaultStatusName=\"stransdisplaystatus\"\r\n                    deleteRecord={this.props.deleteRecord}\r\n                    deleteParam={{ operation: \"delete\", methodUrl: \"ClientFile\"}}\r\n                    editParam={editParam}\r\n                    // defaultParam={defaultParam}\r\n                    fetchRecord={this.props.addClientFile}\r\n                    //defaultRecord={this.props.defaultRecord}\r\n                    deleteId={deleteFileId}\r\n                    editId={editFileId}\r\n                    //defaultId={defaultFileId}\r\n                    viewId={viewFileId}\r\n                    userRoleControlRights={this.props.userRoleControlRights}\r\n                    viewFile={this.props.viewClientFile}\r\n                    subFields={subFields}\r\n                    moreField={moreField}\r\n                    settings={this.props.settings}\r\n                    userInfo={this.props.userInfo}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n    DeleteContact = (deleteParam) => {\r\n       \r\n        deleteParam = {\r\n            classUrl: \"client\",\r\n            methodUrl: deleteParam.methodUrl,\r\n            inputData: {\r\n                [deleteParam.methodUrl]: deleteParam.selectedRecord,\r\n                \"userinfo\": this.props.userInfo,\r\n\r\n            },\r\n            operation: deleteParam.operation,\r\n           // dataState: this.state.dataState\r\n    }\r\n\r\n        if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { deleteParam, masterData: this.props.masterData },\r\n                    openModal: true,\r\n                    screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(deleteParam, this.props.masterData, \"openModal\");\r\n        }\r\n    }\r\n}\r\n\r\nexport default injectIntl(ClientFileTab);"]},"metadata":{},"sourceType":"module"}