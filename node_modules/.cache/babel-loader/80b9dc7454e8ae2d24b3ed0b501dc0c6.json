{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faFileInvoice,faEye,faLink,faChevronRight,faComments,faLaptopHouse,faBoxOpen,faBoxTissue,faBox,faLocationArrow,faFolderMinus,faFolderOpen,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,getSampleMaster,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,getContainerStorageCondition,getStorageConditionFromMaster,getSampleMasterDetails,getContainers,getselectedContainer,changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation,loadApprovedLocationOnCombo,filterColumnData,loadApprovedLocationOnTreeData,moveItems,saveSampleStorageMaster,getSelectedApprovedStorageVersion,validateEsignCredentialSampleStorageMaster,addSample}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import AddSample from'../basemaster/AddSample';import AddContainerStorageCondition from'./AddContainerStorageCondition';import{ProductList}from'../product/product.styled';import TransactionListMasterJson from'../../components/TransactionListMasterJson';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import StorageCategoryFilter from'./StorageCategoryFilter';import MoveSampleOrContainers from'./MoveSampleOrContainers';import{faFolder}from'@fortawesome/free-regular-svg-icons';import Esign from'../audittrail/Esign';var SampleStorageMaster=/*#__PURE__*/function(_Component){_inherits(SampleStorageMaster,_Component);var _super=_createSuper(SampleStorageMaster);function SampleStorageMaster(props){var _this$state;var _this;_classCallCheck(this,SampleStorageMaster);_this=_super.call(this,props);_this.openModal=function(addId){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerlastnode===true){_this.props.addSample(addId,_this.props.Login.masterData,_this.props.Login.userInfo);}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"discard\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.closeChildModal=function(){var loadEsign=_this.props.Login.loadEsign;var openChildModal=_this.props.Login.openChildModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){loadEsign=false;}else{openChildModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openChildModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[event.target.name]=event.target.value;_this.setState({selectedRecord:selectedRecord});};_this.onKeyUp=function(event){if(event.keyCode===13){_this.onSaveClickSample(2);}};_this.onSaveClick=function(saveType,formRef){if(_this.state.activeTabIndex===1){_this.onSaveClickSample(saveType,formRef);}else{_this.onSaveClickContainer(saveType,formRef);}};_this.onSaveClickSample=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.props.Login.operation===\"update\"){inputData[\"sampleStorageMaster\"]={\"nsamplecode\":_this.state.selectedRecord.nsamplecode?_this.state.selectedRecord.nsamplecode:-1,\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\"nstoragecategorycode\":_this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\"nsampleqty\":_this.state.selectedRecord.nsampleqty&&_this.state.selectedRecord.nsampleqty?_this.state.selectedRecord.nsampleqty:0,\"nunitcode\":_this.state.selectedRecord.nunitcode&&_this.state.selectedRecord.nunitcode?_this.state.selectedRecord.nunitcode.value:-1};}else{//add               \ninputData[\"sampleStorageMaster\"]={\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\"slocationhierarchy\":_this.props.Login.sampleLocation?_this.props.Login.sampleLocation:\"\",\"nstoragecategorycode\":_this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\"nsampleqty\":_this.state.selectedRecord.nsampleqty&&_this.state.selectedRecord.nsampleqty?_this.state.selectedRecord.nsampleqty:0,\"nunitcode\":_this.state.selectedRecord.nunitcode&&_this.state.selectedRecord.nunitcode?_this.state.selectedRecord.nunitcode.value:-1};}var inputParam={methodUrl:_this.props.Login.inputParam.methodUrl,classUrl:_this.props.Login.inputParam.classUrl,displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData,selectedRecord:selectedRecord},saveType:saveType,openModal:true}};_this.props.updateStore(updateInfo);}else{// this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.saveSampleStorageMaster(_this.props.Login.userInfo,_this.props.Login.masterData,_this.state.selectedRecord,inputParam);}};_this.onSaveClickContainer=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"containerStorageCondition\"]={\"nstatus\":1};if(_this.props.Login.operation===\"update\"){inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"]=_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.ncontainerstoragecode:-1;inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;}inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;inputData[\"containerStorageCondition\"][\"slocationhierarchy\"]=_this.props.Login.containerLocation?_this.props.Login.containerLocation:\"\";inputData[\"containerStorageCondition\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode;var inputParam={methodUrl:\"ContainerStorageCondition\",classUrl:\"samplestoragemaster\",displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                            \".concat(item.selected?\"active-node\":\"\",\"\\n                            \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text)):\"\");}};_this.onItemClickView=function(event){if(_this.state.selectedItem){_this.state.selectedItem.selected=false;}event.item.selected=true;_this.setState({selectedItem:event.item});// let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\n//     if (item.editable === true) {\n//         item.editable = false;\n//     } else if (item.id === event.item.id) {\n//         item.editable = true;\n//     }\n//     return item;\n// });\n// this.setState({ treeDataView: newData });\nif(event.item&&event.item.containerlastnode&&event.item.containerlastnode===true){var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[indices[i]];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}_this.props.getSampleMaster(event.item,_this.props.Login.userInfo,_this.props.Login.masterData,itemText,event.itemHierarchicalIndex);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(1,undefined,false);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(1,undefined,false);}else if(_this.state.activeTabIndex!==1){_this.changePropertyView(1,undefined,false);}}else if(event.item&&event.item.containerfirstnode&&event.item.containerfirstnode===true){var _result=_this.state.treeDataView;var _indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var _itemText=\"\";for(var _i=0;_i<_indices.length;_i++){if(_i===0){_result=_result[_indices[_i]];}else{_result=_result.items[_indices[_i]];}_itemText=_i>0?_itemText+\" > \"+_result.text:_result.text;}_this.props.getContainerStorageCondition(event.item,_this.props.Login.userInfo,_this.props.Login.masterData,_itemText);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(2,undefined,false);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(2,undefined,false);}else if(_this.state.activeTabIndex!==2){_this.changePropertyView(2,undefined,false);}}else if(event.item&&event.item.locationlastnode&&event.item.locationlastnode===true){var containers=[];if(event.item.items&&event.item.items.length>0){event.item.items.forEach(function(element){if(element.containerfirstnode===true){containers.push(element);}});}var _result2=_this.state.treeDataView;var _indices2=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var _itemText2=\"\";for(var _i2=0;_i2<_indices2.length;_i2++){if(_i2===0){_result2=_result2[_indices2[_i2]];}else{_result2=_result2.items[_indices2[_i2]];}_itemText2=_i2>0?_itemText2+\" > \"+_result2.text:_result2.text;}_this.props.getContainers(event.item,_this.props.Login.masterData,containers,_itemText2);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(3,undefined,false);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(3,undefined,false);}else if(_this.state.activeTabIndex!==3){_this.changePropertyView(3,undefined,false);}}else{var updateInfo={typeName:DEFAULT_RETURN,data:{selectedItem:event.item,activeTabIndex:undefined}};_this.props.updateStore(updateInfo);}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else if(caseNo===4){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnCombo(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else if(caseNo===5){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnTreeData(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.onExpandChangeView=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});setTimeout(function(){_this._scrollBarRef.updateScroll();});};_this.moveItem=function(userInfo,masterData,moveId){// let sampleTrayID = [];\n// mapTree([this.props.Login.selectedItem], \"items\", (item) => {\n//     if (item.containerlastnode === true) {\n//         sampleTrayID.push(item.id);\n//     }\n//     return null;\n// });\nif(_this.state.activeTabIndex&&_this.state.activeTabIndex===1){if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData,moveId);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}}else if(_this.state.activeTabIndex&&_this.state.activeTabIndex===3){if(_this.props.Login.masterData.containers&&_this.props.Login.masterData.selectedContainer&&_this.props.Login.masterData.selectedContainer[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData,moveId);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}}};_this.confirmDelete=function(ncontrolCode){if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageMaster(ncontrolCode);});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.deleteSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.loadStorageCondition=function(editContainerID){var openStorage=false;if(_this.props.Login.masterData.storageContainer===null||_this.props.Login.masterData.storageContainer===undefined){mapTree(_this.state.treeDataView,\"items\",function(item){if(item.id===_this.props.Login.selectedItem.id){openStorage=true;}return item;});}else if(_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==undefined){openStorage=true;}if(openStorage===true){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerfirstnode===true){_this.props.getStorageConditionFromMaster(_this.props.Login.userInfo,_this.props.Login.masterData,editContainerID);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}};_this.discardSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode,\"ssamplearno\":item.ssamplearno,\"slocationhierarchy\":item.slocationhierarchy});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"discard\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"discard\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.sideNavDetail=function(screenName){var addId=_this.state.controlMap.has(\"Add SampleStorageMaster\")&&_this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;var editId=_this.state.controlMap.has(\"Edit SampleStorageMaster\")&&_this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;var deleteId=_this.state.controlMap.has(\"Delete SampleStorageMaster\")&&_this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;var editContainerID=_this.state.controlMap.has(\"Edit StorageContainer\")&&_this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;var moveId=_this.state.controlMap.has(\"Move SampleStorageMaster\")&&_this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;var discardId=_this.state.controlMap.has(\"Discard SampleStorageMaster\")&&_this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;if(_this.props.Login.masterData.selectedSampleStorageVersion&&_this.props.Login.masterData.selectedSampleStorageVersion!==undefined){return screenName==\"IDS_SAMPLEDETAILS\"?/*#__PURE__*/React.createElement(React.Fragment,null,_this.props.Login.sampleTrayCode&&_this.props.Login.sampleTrayCode!==undefined?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this.openModal(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAMPLE\",defaultMessage:\"Sample\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deletesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DELETE\",defaultMessage:\"Delete\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"movesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData,moveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"discardsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(discardId)===-1,onClick:function onClick(){return _this.discardSampleStorageMaster(discardId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowRight}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DISCARD\",defaultMessage:\"Discard\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.sampleStorageMaster||[],selectedMaster:_this.props.Login.masterData.selectedSampleStorageMaster||[],primaryKeyField:\"nsamplecode\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getSampleMasterDetails,inputParam:_objectSpread({},_this.props.Login.masterData)// moreField={this.props.Login.masterData.sampleStorageMaster || []}\n// selectionList={this.props.Login.masterData.RealFilterStatusValue\n//     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\n,selectionColorField:\"scolorhexcode\",mainField:\"ssamplearno\",showStatusLink:true,showStatusName:true// statusFieldName=\"stransdisplaystatus\"\n// statusField=\"ntransactionstatus\"\n,selectedListName:\"selectedSampleStorageMaster\"// searchListName=\"searchedSample\"\n// searchRef={this.searchSampleRef}\n// objectName=\"sample\"\n,listName:\"IDS_SAMPLE\"// selectionField=\"ntransactionstatus\"\n// selectionFieldName=\"stransdisplaystatus\"\n// showFilter={this.props.Login.showFilter}\n// openFilter={this.openFilter}\n// closeFilter={this.closeFilter}\n// onFilterSubmit={this.onFilterSubmit}\n// subFields={this.state.DynamicSampleColumns}                                                 \n,needMultiSelect:false,needSingleSelect:true// subListName=\"columnlist\"\n// jsonfield=\"jsondata\"\n// showDynamicFields={true}\n// showStatusBlink={true}\n// filterParam={{\n//     ...this.state.filterSampleParam,\n//     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\n//     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\n// }}\n// subFieldsLabel={false}\n,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):/*#__PURE__*/React.createElement(React.Fragment,null)):screenName==\"IDS_CONTAINERS\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData,moveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner container-tab\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.containers||[],selectedMaster:_this.props.Login.masterData.selectedContainer||[],primaryKeyField:\"id\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getselectedContainer,inputParam:_objectSpread({},_this.props.Login.masterData),selectionColorField:\"scolorhexcode\",mainField:\"text\",showStatusLink:true,showStatusName:true,selectedListName:\"selectedContainer\",listName:\"IDS_SAMPLE\",needMultiSelect:false,needSingleSelect:true,subListName:\"columnlist\",jsonfield:\"jsondata\",showDynamicFields:true,showStatusBlink:true,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):screenName==\"IDS_STORAGECONDITION\"?/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content storage-tab\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,{className:\"no-padding\"},/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editContainer\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(editContainerID)===-1,onClick:function onClick(){return _this.loadStorageCondition(editContainerID);}},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGECONDITION\",defaultMessage:\"Storage Condition\"})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap no-padding\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGECONDITIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.sstorageconditionname===\"NA\"?\"-\":_this.props.Login.masterData.storageContainer.sstorageconditionname:\"-\"||\"-\"))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGELOCATIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.sstorageconditionname===\"NA\"?\"-\":_this.props.Login.containerLocation&&_this.props.Login.containerLocation:\"-\"))))))):\"\";}else{var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{storageContainer:undefined,containers:undefined,sampleStorageMaster:undefined});var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined,containerLocation:undefined,sampleTrayCode:undefined,containerCode:undefined,locationCode:undefined,masterData:masterData}};_this.props.updateStore(updateInfo);}};_this.changePropertyView=function(index,event,tabClick){var check=false;if(tabClick===true){if(index===1&&_this.state.selectedItem&&_this.state.selectedItem.containerlastnode===true||index===2&&_this.state.selectedItem&&_this.state.selectedItem.containerfirstnode===true||index===3&&_this.state.selectedItem&&_this.state.selectedItem.locationlastnode===true){check=false;}else{check=true;}}if(check===false){if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:_this.state.activeTabIndex!==index?index:0?index:false}};_this.props.updateStore(updateInfo);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROPERITEM\"}));}};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined}};_this.props.updateStore(updateInfo);};_this.onInputSwitchOnChange=function(event){if(event.target.name==\"PopupNav\"){_this.setState({enablePropertyPopup:!_this.state.enablePropertyPopup});}else{_this.setState({enableAutoClick:!_this.state.enableAutoClick});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilterOnSampleMaster(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.itemRender=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                         \".concat(clickedItem.item.editable?\"active-node\":\"\",\"\\n                         \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                         \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text)// <ul className=\"list-inline mb-0\">\n// <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\n// {clickedItem.item.editable ? (\n// <>\n// <li className=\"list-inline-item \">\n// <span\n// className=\"action-icon\"\n// onClick={(e) => this.setProperties(e, clickedItem)}\n// ></span>\n// </li>\n// </>\n// ) : null}\n// </ul>\n:\"\");}};_this.onItemClick=function(event){// if (this.state.selectedItemMove) {\n//     this.state.selectedItemMove.selected = false;\n// }\n// event.item.selected = true;\n// this.setState({\n//     selectedItem: event.item\n// })\nvar newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});// newData.map((data) => {\n//     this.clearSelected(data, event.item)\n// })\nvar result=newData;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[indices[i]];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}_this.setState({treeData:newData,clickedItem:event.item,targetLocationHierarchy:itemText});};_this.onExpandChange=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.onMoveClick=function(saveType,formRef){var inputParam={};var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.state.activeTabIndex===1){if(_this.state.clickedItem&&_this.state.clickedItem.containerlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.sampleTrayCode){var getSelectedSamples=\"\";_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(data){getSelectedSamples+=\"'\"+data.ssamplearno+\"'\"+\",\";//ssampletraycode\n});if(getSelectedSamples!==\"\"){getSelectedSamples=getSelectedSamples.slice(0,getSelectedSamples.length-1);}inputParam={selectedSamples:getSelectedSamples,//this.props.Login.masterData.selectedSampleStorageMaster,\nmoveTargetTrayCode:_this.state.clickedItem.id,nsamplestoragelocationcode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,moveContainers:false,storageCategory:_this.state.selectedRecord[\"nstoragecategorycode\"]&&_this.state.selectedRecord[\"nstoragecategorycode\"].value,methodUrl:\"SampleStorageMaster\",inputData:inputData,operation:\"move\",userinfo:_this.props.Login.userInfo,sourceLocationHierarchy:_this.props.Login.sampleLocation,targetLocationHierarchy:_this.state.targetLocationHierarchy};var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData,selectedRecord:selectedRecord},operation:\"move\",openChildModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROPERITEM\"}));}}else if(_this.state.activeTabIndex===3){if(_this.state.clickedItem&&_this.state.clickedItem.locationlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.locationCode){var getSampleTray=\"\";var getContainerCode=\"\";var targetData=_this.state.treeData||[];var sourceData=_this.state.treeDataView||[];var newData=[];var sameLocation=true;var targetJsonData={};var SourceJsonData={};var selectedContainers=[];if(_this.props.Login.masterData.selectedSampleStorageVersion&&_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode===_this.state.selectedRecord[\"nsamplestoragelocationcode\"].value){_this.props.Login.masterData.selectedContainer.forEach(function(data){targetData=removeItems(targetData,\"items\",function(item){return item.id===data.id;});});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items;item.items=item.items||[];(_item$items=item.items).push.apply(_item$items,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}if(item.expanded===false){item.expanded=true;}if(item.selected&&item.selected===true){item.selected=false;}return item;});targetJsonData[\"data\"]=newData;}else{_this.props.Login.masterData.selectedContainer.forEach(function(data){sourceData=removeItems(sourceData,\"items\",function(item){return item.id===data.id;});if(sourceData.length>0){sourceData=mapTree(sourceData,\"items\",function(item){if(item.selected&&item.selected===true){item.selected=false;}return item;});}});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items2;item.items=item.items||[];(_item$items2=item.items).push.apply(_item$items2,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}if(item.expanded===false){item.expanded=true;}if(item.selected&&item.selected===true){item.selected=false;}return item;});SourceJsonData[\"data\"]=sourceData;targetJsonData[\"data\"]=newData;sameLocation=false;}_this.props.Login.masterData.selectedContainer.forEach(function(data){mapTree([data],\"items\",function(item){if(item.containerlastnode===true){getSampleTray+=\"'\"+item.id+\"'\"+\",\";}});getContainerCode+=\"'\"+data.id+\"'\"+\",\";selectedContainers.push({scontainercode:data.id,text:data.text});});if(getSampleTray!==\"\"){getSampleTray=getSampleTray.slice(0,getSampleTray.length-1);}if(getContainerCode!==\"\"){getContainerCode=getContainerCode.slice(0,getContainerCode.length-1);}inputParam={selectedSamples:getSampleTray,sourceLocationCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,sourceVersionCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,nsamplestoragelocationcode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,nsamplestorageversioncode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,SourceJsonData:SourceJsonData,targetJsonData:targetJsonData,moveContainers:true,storageCategory:_this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,sameLocation:sameLocation,methodUrl:\"SampleStorageMaster\",inputData:inputData,operation:\"move\",userinfo:_this.props.Login.userInfo,sourceLocationHierarchy:_this.props.Login.locationText,targetLocationHierarchy:_this.state.targetLocationHierarchy,selectedContainer:selectedContainers,getContainerCode:getContainerCode};// this.props.moveItems(inputParam, this.props.Login.masterData);\nvar _masterData=_this.props.Login.masterData;var _selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData,selectedRecord:_selectedRecord},operation:\"move\",openChildModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(_updateInfo);}else{_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROPERITEM\"}));}}};_this.reloadData=function(){_this.searchRef.current.value=\"\";// let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\nvar nfilterStorageCategory=_this.props.Login.masterData.filterStorageCategory&&_this.props.Login.masterData.nfilterStorageCategory;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragemaster\",methodUrl:\"SampleStorageMaster\",displayName:\"IDS_SAMPLESTORAGEMASTER\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};if(_this.state.activeTabIndex===1&&_this.props.Login.operation===\"create\"){_this.props.validateEsignCredentialSampleStorageMaster(inputParam);}else if(_this.props.Login.operation===\"move\"){_this.props.validateEsignCredentialSampleStorageMaster(inputParam);}else{_this.props.validateEsignCredential(inputParam,\"openModal\");}};_this.state=(_this$state={selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,enablePropertyPopup:false,enableAutoClick:false,treeDataView:undefined,toggleActionView:false,toggleAction:false,propertyPopupWidth:\"60\"},_defineProperty(_this$state,\"splitChangeWidthPercentage\",28.6),_defineProperty(_this$state,\"containers\",[]),_defineProperty(_this$state,\"treeData\",[]),_defineProperty(_this$state,\"selectedItem\",undefined),_defineProperty(_this$state,\"selectedItemMove\",undefined),_this$state);_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageMaster,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;var isComponentUpdated=false;var filterData=this.state.filterData;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}}if(this.props.Login.masterData.approvedTreeData!==previousProps.Login.masterData.approvedTreeData){if(this.props.Login.masterData.approvedTreeData&&this.props.Login.masterData.approvedTreeData!==undefined){this.setState({treeData:this.props.Login.masterData.approvedTreeData});}//JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\n}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data});}else{this.setState({treeDataView:undefined});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){if(this.props.Login.masterData.filterStorageCategory&&this.props.Login.masterData.filterStorageCategory!==undefined){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){if(this.props.Login.masterData.nfilterStorageCategory&&this.props.Login.masterData.nfilterStorageCategory!==undefined){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,filterStorageCategory:filterStorageCategory});}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){this.setState({activeTabIndex:this.props.Login.activeTabIndex});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;// console.log(innerObj, selectedItem, \"aasd\")\nif(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"render\",value:function render(){var _this4=this;var mandatoryFields=[];if(this.state.activeTabIndex===1){mandatoryFields.push({\"idsName\":\"IDS_SAMPLE\",\"dataField\":\"ssamplearno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else if(this.state.activeTabIndex===2){mandatoryFields.push({\"idsName\":\"IDS_STORAGECONDITIONNAME\",\"dataField\":\"nstorageconditioncode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});}var filterParam={inputListName:\"approvedSampleStorageLocation\",selectedObject:\"selectedSampleStorageVersion\",primaryKeyField:\"nsamplestorageversioncode\",fetchUrl:\"samplestoragelocation/getActiveSampleStorageVersion\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true,className:\"toolbar-top \".concat(this.state.activeTabIndex?'active-property-bar':\"\")},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ListWrapper,{className:\"vertical-tab-top grid-master \".concat(this.state.enablePropertyPopup?'active-popup':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-left-area \".concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.approvedSampleStorageLocation,getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedApprovedStorageVersion(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedSampleStorageVersion,primaryKeyField:\"nsamplestoragelocationcode\",mainField:\"ssamplestoragelocationname\"// firstField=\"sversionno\"\n// secondField=\"stransdisplaystatus\"\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,hideAddButton:true// addId={addId}\n,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:false// openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\n,showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_STORAGEFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]})),/*#__PURE__*/React.createElement(\"div\",{className:\"tree-view-container\"},this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined?/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.treeDataView,expandIcons:true,item:this.itemRenderView,selectField:'active-node',onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView}):/*#__PURE__*/React.createElement(React.Fragment,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" xs-grid-container vertical-tab \").concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" vertical-tab-content pager_wrap wrap-class \").concat(this.state.activeTabIndex?'active':\"\"),style:{width:this.state.enablePropertyPopup?this.state.propertyPopupWidth+'%':\"\"}},/*#__PURE__*/React.createElement(\"span\",{className:\" vertical-tab-close \".concat(this.state.activeTabIndex?'active':\"\"),onClick:function onClick(){return _this4.changePropertyViewClose(false);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronRight}),\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===1?this.sideNavDetail(\"IDS_SAMPLEDETAILS\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"})),this.state.activeTabIndex&&this.state.activeTabIndex===2?this.sideNavDetail(\"IDS_STORAGECONDITION\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===3?this.sideNavDetail(\"IDS_CONTAINERS\"):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-head\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(1,undefined,true);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(2,undefined,true);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLink}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(3,undefined,true);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faComments}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex===1?\"IDS_SAMPLE\":\"IDS_STORAGECONDITIONNAME\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},showSaveContinue:this.props.Login.loadEsign?false:this.state.activeTabIndex&&this.state.activeTabIndex===1?true:false,mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.state.activeTabIndex&&this.state.activeTabIndex===1?/*#__PURE__*/React.createElement(AddSample,{onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},onKeyUp:function onKeyUp(e){return _this4.onKeyUp(e);},onNumericInputChange:this.onNumericInputChange,onComboChange:this.onComboChange,unitMaster:this.props.Login.masterData.unitMaster||[],isneedSubSampleQty:this.props.Login.isneedSubSampleQty&&this.props.Login.isneedSubSampleQty||false}):this.state.activeTabIndex&&this.state.activeTabIndex===2?/*#__PURE__*/React.createElement(AddContainerStorageCondition,{selectedRecord:this.state.selectedRecord||{},onComboChange:this.onComboChange,storageCondition:this.props.Login.masterData.storageCondition||[]}):/*#__PURE__*/React.createElement(React.Fragment,null)}),this.props.Login.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openChildModal,closeModal:this.closeChildModal// operation={this.props.intl.formatMessage({ id: \"IDS_MOVE\" })}\n,operation:this.props.Login.screenName===\"IDS_MOVE\"?\"\":this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex===1?\"IDS_SAMPLE\":\"IDS_CONTAINERS\"}),onSaveClick:this.onMoveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(MoveSampleOrContainers,{treeData:this.state.treeData,selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,storageCategory:this.props.Login.masterData.storageCategory||[],approvedLocation:this.props.Login.masterData.approvedLocation||[],isSendToStore:false})}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageMaster;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getSampleMaster:getSampleMaster,filterColumnData:filterColumnData,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,getContainerStorageCondition:getContainerStorageCondition,getStorageConditionFromMaster:getStorageConditionFromMaster,getSampleMasterDetails:getSampleMasterDetails,getContainers:getContainers,getselectedContainer:getselectedContainer,changeStorageCategoryFilterOnSampleMaster:changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation:openSampleStorageApprovedLocation,loadApprovedLocationOnCombo:loadApprovedLocationOnCombo,loadApprovedLocationOnTreeData:loadApprovedLocationOnTreeData,moveItems:moveItems,saveSampleStorageMaster:saveSampleStorageMaster,getSelectedApprovedStorageVersion:getSelectedApprovedStorageVersion,validateEsignCredentialSampleStorageMaster:validateEsignCredentialSampleStorageMaster,addSample:addSample})(injectIntl(SampleStorageMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageMaster.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faFileInvoice","faEye","faLink","faChevronRight","faComments","faLaptopHouse","faBoxOpen","faBoxTissue","faBox","faLocationArrow","faFolderMinus","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","getSampleMaster","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","getContainerStorageCondition","getStorageConditionFromMaster","getSampleMasterDetails","getContainers","getselectedContainer","changeStorageCategoryFilterOnSampleMaster","openSampleStorageApprovedLocation","loadApprovedLocationOnCombo","filterColumnData","loadApprovedLocationOnTreeData","moveItems","saveSampleStorageMaster","getSelectedApprovedStorageVersion","validateEsignCredentialSampleStorageMaster","addSample","DEFAULT_RETURN","ListWrapper","TreeViewEditable","mapTree","removeItems","ConfirmMessage","CustomSwitch","AddSample","AddContainerStorageCondition","ProductList","TransactionListMasterJson","BreadcrumbComponent","StorageCategoryFilter","MoveSampleOrContainers","faFolder","Esign","SampleStorageMaster","props","openModal","addId","Login","selectedItem","containerlastnode","masterData","userInfo","closeModal","loadEsign","selectedId","selectedRecord","state","operation","updateInfo","typeName","data","closeChildModal","openChildModal","onInputChange","event","target","name","value","setState","onKeyUp","keyCode","onSaveClickSample","onSaveClick","saveType","formRef","activeTabIndex","onSaveClickContainer","inputData","nsamplecode","sampleTrayCode","ssamplearno","selectedSampleStorageVersion","nsamplestoragelocationcode","nstoragecategorycode","nsampleqty","nunitcode","sampleLocation","inputParam","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","ncontrolcode","screenData","storageContainer","ncontainerstoragecode","containerCode","undefined","nstorageconditioncode","containerLocation","itemRenderView","clickedItem","item","toggleActionView","selected","expanded","containerfirstnode","locationlastnode","text","onItemClickView","result","treeDataView","indices","itemHierarchicalIndex","split","map","index","Number","itemText","i","length","items","changePropertyView","containers","forEach","element","push","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","searchRef","current","onExpandChangeView","forceUpdate","handlePageChange","e","skip","take","setTimeout","_scrollBarRef","updateScroll","moveItem","moveId","sampleStorageMaster","selectedSampleStorageMaster","warn","intl","formatMessage","id","selectedContainer","confirmDelete","ncontrolCode","confirmMessage","confirm","deleteSampleStorageMaster","ssampletraycode","screenName","loadStorageCondition","editContainerID","openStorage","discardSampleStorageMaster","slocationhierarchy","sideNavDetail","controlMap","has","get","editId","deleteId","discardId","indexOf","splitChangeWidthPercentage","filterTransactionList","sstorageconditionname","locationCode","tabClick","check","window","innerWidth","enableAutoClick","changePropertyViewClose","onInputSwitchOnChange","enablePropertyPopup","openFilter","showFilter","closeFilter","onFilterSubmit","userinfo","filterStorageCategory","itemRender","toggleAction","editable","onItemClick","newData","treeData","targetLocationHierarchy","onExpandChange","onMoveClick","getSelectedSamples","slice","selectedSamples","moveTargetTrayCode","moveContainers","storageCategory","sourceLocationHierarchy","getSampleTray","getContainerCode","targetData","sourceData","sameLocation","targetJsonData","SourceJsonData","selectedContainers","scontainercode","sourceLocationCode","sourceVersionCode","nsamplestorageversioncode","locationText","reloadData","onInputOnChange","type","checked","onNumericInputChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","Map","detailSkip","detailTake","settings","propertyPopupWidth","createRef","previousProps","isComponentUpdated","filterData","Object","values","approvedTreeData","JSON","parse","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","breadCrumbData","selectedStorageCategoryName","innerObj","childObj","clearSelected","mandatoryFields","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","searchedData","approvedSampleStorageLocation","width","masterStatus","unitMaster","isneedSubSampleQty","storageCondition","approvedLocation","error","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faFileInvoice, faEye, faLink, faChevronRight, faComments, faLaptopHouse, faBoxOpen, faBoxTissue, faBox, faLocationArrow, faFolderMinus, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, getSampleMaster,\r\n    editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, getContainerStorageCondition,\r\n    getStorageConditionFromMaster, getSampleMasterDetails, getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster,\r\n    openSampleStorageApprovedLocation, loadApprovedLocationOnCombo, filterColumnData,\r\n    loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion, validateEsignCredentialSampleStorageMaster,\r\n    addSample\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport AddSample from '../basemaster/AddSample';\r\nimport AddContainerStorageCondition from './AddContainerStorageCondition';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJson from '../../components/TransactionListMasterJson';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport MoveSampleOrContainers from './MoveSampleOrContainers';\r\nimport { faFolder } from '@fortawesome/free-regular-svg-icons';\r\nimport Esign from '../audittrail/Esign';\r\n\r\nclass SampleStorageMaster extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            enablePropertyPopup: false,\r\n            enableAutoClick: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            toggleAction: false,\r\n            propertyPopupWidth: \"60\",\r\n            splitChangeWidthPercentage: 28.6,\r\n            containers: [],\r\n            treeData: [],\r\n            selectedItem: undefined,\r\n            selectedItemMove: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    openModal = (addId) => {\r\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerlastnode === true) {           \r\n            this.props.addSample(addId, this.props.Login.masterData,this.props.Login.userInfo);\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"discard\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeChildModal = () => {\r\n\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            loadEsign = false;\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openChildModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n    onKeyUp = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.onSaveClickSample(2);\r\n        }\r\n    };\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.activeTabIndex === 1) {\r\n            this.onSaveClickSample(saveType, formRef);\r\n        } else {\r\n            this.onSaveClickContainer(saveType, formRef);\r\n        }\r\n    }\r\n    onSaveClickSample = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"nsamplecode\": this.state.selectedRecord.nsamplecode ? this.state.selectedRecord.nsamplecode : -1,\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                \"nstoragecategorycode\": this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                \"nsampleqty\": this.state.selectedRecord.nsampleqty && this.state.selectedRecord.nsampleqty ? this.state.selectedRecord.nsampleqty : 0,\r\n                \"nunitcode\": this.state.selectedRecord.nunitcode && this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.value : -1\r\n            }\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                \"slocationhierarchy\": this.props.Login.sampleLocation ? this.props.Login.sampleLocation : \"\",\r\n                \"nstoragecategorycode\": this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                \"nsampleqty\": this.state.selectedRecord.nsampleqty && this.state.selectedRecord.nsampleqty ? this.state.selectedRecord.nsampleqty : 0,\r\n                \"nunitcode\": this.state.selectedRecord.nunitcode && this.state.selectedRecord.nunitcode ? this.state.selectedRecord.nunitcode.value : -1\r\n            }\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, saveType, openModal: true\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            this.props.saveSampleStorageMaster(this.props.Login.userInfo, this.props.Login.masterData, this.state.selectedRecord, inputParam);\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClickContainer = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        inputData[\"containerStorageCondition\"] = { \"nstatus\": 1 };\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"] = this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                this.props.Login.masterData.storageContainer.ncontainerstoragecode : -1\r\n            inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n            inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n\r\n        }\r\n        inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n        inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n        inputData[\"containerStorageCondition\"][\"slocationhierarchy\"] = this.props.Login.containerLocation ? this.props.Login.containerLocation : \"\";\r\n        inputData[\"containerStorageCondition\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode;\r\n\r\n        const inputParam = {\r\n            methodUrl: \"ContainerStorageCondition\",\r\n            classUrl: \"samplestoragemaster\",\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${item.selected ? \"active-node\" : \"\"}\r\n                            ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `}>\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\"> */}\r\n                            {/* {console.log(clickedItem,'===>')} */}\r\n                            {/* {clickedItem.item.editable ? (\r\n                                <>\r\n                                    <li className=\"list-inline-item\"> */}\r\n                            {/* <span\r\n                                            className=\"action-icon tree-toggle\"\r\n                                            onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        ></span> */}\r\n                            {/* </li> */}\r\n                            {/* </> */}\r\n                            {/* ) : null} */}\r\n                            {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        if (this.state.selectedItem) {\r\n            this.state.selectedItem.selected = false;\r\n        }\r\n\r\n        event.item.selected = true;\r\n        this.setState({\r\n            selectedItem: event.item\r\n        })\r\n        // let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n\r\n        // this.setState({ treeDataView: newData });\r\n\r\n        if (event.item && event.item.containerlastnode && event.item.containerlastnode === true) {\r\n\r\n            let result = this.state.treeDataView;\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n\r\n            for (let i = 0; i < indices.length; i++) {\r\n                if (i === 0) {\r\n                    result = result[indices[i]];\r\n                } else {\r\n                    result = result.items[indices[i]];\r\n                }\r\n                itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n            }\r\n\r\n            this.props.getSampleMaster(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText, event.itemHierarchicalIndex);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(1, undefined, false);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(1, undefined, false);\r\n            } else if (this.state.activeTabIndex !== 1) {\r\n                this.changePropertyView(1, undefined, false);\r\n            }\r\n\r\n\r\n        } else if (event.item && event.item.containerfirstnode && event.item.containerfirstnode === true) {\r\n\r\n            let result = this.state.treeDataView;\r\n\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length; i++) {\r\n                if (i === 0) {\r\n                    result = result[indices[i]];\r\n                } else {\r\n                    result = result.items[indices[i]];\r\n                }\r\n                itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n            }\r\n\r\n            this.props.getContainerStorageCondition(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(2, undefined, false);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(2, undefined, false);\r\n            } else if (this.state.activeTabIndex !== 2) {\r\n                this.changePropertyView(2, undefined, false);\r\n            }\r\n\r\n        } else if (event.item && event.item.locationlastnode && event.item.locationlastnode === true) {\r\n\r\n            let containers = [];\r\n            if (event.item.items && event.item.items.length > 0) {\r\n                event.item.items.forEach(element => {\r\n                    if (element.containerfirstnode === true) {\r\n                        containers.push(element);\r\n                    }\r\n                });\r\n            }\r\n\r\n            let result = this.state.treeDataView;\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length; i++) {\r\n                if (i === 0) {\r\n                    result = result[indices[i]];\r\n                } else {\r\n                    result = result.items[indices[i]];\r\n                }\r\n                itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n            }\r\n\r\n            this.props.getContainers(event.item, this.props.Login.masterData, containers, itemText);\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(3, undefined, false);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(3, undefined, false);\r\n            } else if (this.state.activeTabIndex !== 3) {\r\n                this.changePropertyView(3, undefined, false);\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    selectedItem: event.item,\r\n                    activeTabIndex: undefined\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n\r\n\r\n    };\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else if (caseNo === 4) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnCombo(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n\r\n        } else if (caseNo === 5) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnTreeData(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n        } else {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({ controlMap, userRoleControlRights });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.approvedTreeData !== previousProps.Login.masterData.approvedTreeData) {\r\n            if (this.props.Login.masterData.approvedTreeData && this.props.Login.masterData.approvedTreeData !== undefined) {\r\n                this.setState({\r\n                    treeData:\r\n                        this.props.Login.masterData.approvedTreeData\r\n                });\r\n            } //JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\r\n        }\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    treeDataView: undefined\r\n                });\r\n            }\r\n        }\r\n\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            if (this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined) {\r\n                const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                    \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n                filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n                if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n                    const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                    nfilterStorageCategory = filterCategory[0];\r\n                }\r\n                isComponentUpdated = true;\r\n            }\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            if (this.props.Login.masterData.nfilterStorageCategory && this.props.Login.masterData.nfilterStorageCategory !== undefined) {\r\n                nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n                isComponentUpdated = true;\r\n            }\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, filterStorageCategory });\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n            this.setState({ activeTabIndex: this.props.Login.activeTabIndex });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n    moveItem = (userInfo, masterData, moveId) => {\r\n\r\n        // let sampleTrayID = [];\r\n        // mapTree([this.props.Login.selectedItem], \"items\", (item) => {\r\n        //     if (item.containerlastnode === true) {\r\n        //         sampleTrayID.push(item.id);\r\n        //     }\r\n        //     return null;\r\n        // });\r\n\r\n        if (this.state.activeTabIndex && this.state.activeTabIndex === 1) {\r\n            if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData, moveId);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n            }\r\n        } else if (this.state.activeTabIndex && this.state.activeTabIndex === 3) {\r\n            if (this.props.Login.masterData.containers && this.props.Login.masterData.selectedContainer && this.props.Login.masterData.selectedContainer[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData, moveId);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.confirmMessage.confirm(\"deleteMessage\",\r\n                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                () => this.deleteSampleStorageMaster(ncontrolCode));\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    };\r\n    deleteSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n\r\n        this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n            data.push({ \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode });\r\n        })\r\n\r\n        inputData[\"sampleStorageMaster\"] = data;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageMaster\",\r\n            classUrl: \"samplestoragemaster\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    loadStorageCondition = (editContainerID) => {\r\n        let openStorage = false;\r\n        if (this.props.Login.masterData.storageContainer === null || this.props.Login.masterData.storageContainer === undefined) {\r\n            mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                if (item.id === this.props.Login.selectedItem.id) {\r\n                    openStorage = true;\r\n                }\r\n                return item;\r\n            });\r\n        } else if (this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== undefined) {\r\n            openStorage = true;\r\n        }\r\n        if (openStorage === true) {\r\n            if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerfirstnode === true) {\r\n                this.props.getStorageConditionFromMaster(this.props.Login.userInfo, this.props.Login.masterData, editContainerID)\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n        }\r\n\r\n    }\r\n    discardSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n                data.push({\r\n                    \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode, \"ssamplearno\": item.ssamplearno,\"slocationhierarchy\":item.slocationhierarchy\r\n                });\r\n            })\r\n\r\n            inputData[\"sampleStorageMaster\"] = data;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            const inputParam = {\r\n                methodUrl: \"SampleStorageMaster\",\r\n                classUrl: \"samplestoragemaster\",\r\n                inputData: inputData,\r\n                operation: \"discard\", searchRef: this.searchRef\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\r\n                        screenName: this.props.Login.inputParam.displayName\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    }\r\n    sideNavDetail = (screenName) => {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageMaster\") && this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageMaster\") && this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageMaster\") && this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;\r\n        const editContainerID = this.state.controlMap.has(\"Edit StorageContainer\") && this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;\r\n        const moveId = this.state.controlMap.has(\"Move SampleStorageMaster\") && this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;\r\n        const discardId = this.state.controlMap.has(\"Discard SampleStorageMaster\") && this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n            return (\r\n                screenName == \"IDS_SAMPLEDETAILS\" ?\r\n                    <>\r\n                        {this.props.Login.sampleTrayCode && this.props.Login.sampleTrayCode !== undefined ?\r\n                            <>\r\n                                <div className=\"actions-stripe\">\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                            onClick={() => this.openModal(addId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_SAMPLE\" defaultMessage=\"Sample\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"deletesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                            onClick={() => this.confirmDelete(deleteId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faTrashAlt} /> { }\r\n                                            <FormattedMessage id=\"IDS_DELETE\" defaultMessage=\"Delete\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"movesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                            onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData, moveId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"discardsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(discardId) === -1}\r\n                                            onClick={() => this.discardSampleStorageMaster(discardId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faArrowRight} /> { }\r\n                                            <FormattedMessage id=\"IDS_DISCARD\" defaultMessage=\"Discard\" />\r\n                                        </Nav.Link>\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className='toolbar-top-inner'>\r\n                                    <TransactionListMasterJson\r\n                                        listMasterShowIcon={1}\r\n                                        clickIconGroup={false}\r\n                                        splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                        masterList={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageMaster || []}\r\n                                        primaryKeyField=\"nsamplecode\"\r\n                                        filterColumnData={this.props.filterTransactionList}\r\n                                        getMasterDetail={this.props.getSampleMasterDetails}\r\n                                        inputParam={{\r\n                                            ...this.props.Login.masterData\r\n                                        }}\r\n                                        // moreField={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        // selectionList={this.props.Login.masterData.RealFilterStatusValue\r\n                                        //     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\r\n                                        selectionColorField=\"scolorhexcode\"\r\n                                        mainField={\"ssamplearno\"}\r\n                                        showStatusLink={true}\r\n                                        showStatusName={true}\r\n                                        // statusFieldName=\"stransdisplaystatus\"\r\n                                        // statusField=\"ntransactionstatus\"\r\n                                        selectedListName=\"selectedSampleStorageMaster\"\r\n                                        // searchListName=\"searchedSample\"\r\n                                        // searchRef={this.searchSampleRef}\r\n                                        // objectName=\"sample\"\r\n                                        listName=\"IDS_SAMPLE\"\r\n                                        // selectionField=\"ntransactionstatus\"\r\n                                        // selectionFieldName=\"stransdisplaystatus\"\r\n                                        // showFilter={this.props.Login.showFilter}\r\n                                        // openFilter={this.openFilter}\r\n                                        // closeFilter={this.closeFilter}\r\n                                        // onFilterSubmit={this.onFilterSubmit}\r\n                                        // subFields={this.state.DynamicSampleColumns}                                                 \r\n                                        needMultiSelect={false}\r\n                                        needSingleSelect={true}\r\n                                        // subListName=\"columnlist\"\r\n                                        // jsonfield=\"jsondata\"\r\n                                        // showDynamicFields={true}\r\n                                        // showStatusBlink={true}\r\n                                        // filterParam={{\r\n                                        //     ...this.state.filterSampleParam,\r\n                                        //     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\r\n                                        //     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\r\n                                        // }}\r\n                                        // subFieldsLabel={false}\r\n                                        handlePageChange={this.handlePageChange}\r\n                                        skip={this.state.skip}\r\n                                        take={this.state.take}\r\n                                        needFilter={false}\r\n                                        hidePaging={false}\r\n                                        hideSearch={true}\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                            : <></>\r\n                        }\r\n                    </>\r\n                    : screenName == \"IDS_CONTAINERS\" ?\r\n                        <>\r\n                            <div className=\"actions-stripe\">\r\n                                <div className=\"d-flex justify-content-end\">\r\n                                    <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                        hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                        onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData, moveId)}\r\n                                    >\r\n                                        <FontAwesomeIcon icon={faPlus} /> { }\r\n                                        <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                    </Nav.Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className='toolbar-top-inner container-tab'>\r\n                                <TransactionListMasterJson\r\n                                    listMasterShowIcon={1}\r\n                                    clickIconGroup={false}\r\n                                    splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                    masterList={this.props.Login.masterData.containers || []}\r\n                                    selectedMaster={this.props.Login.masterData.selectedContainer || []}\r\n                                    primaryKeyField=\"id\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    getMasterDetail={this.props.getselectedContainer}\r\n                                    inputParam={{\r\n                                        ...this.props.Login.masterData\r\n                                    }}\r\n                                    selectionColorField=\"scolorhexcode\"\r\n                                    mainField={\"text\"}\r\n                                    showStatusLink={true}\r\n                                    showStatusName={true}\r\n                                    selectedListName=\"selectedContainer\"\r\n                                    listName=\"IDS_SAMPLE\"\r\n                                    needMultiSelect={false}\r\n                                    needSingleSelect={true}\r\n                                    subListName=\"columnlist\"\r\n                                    jsonfield=\"jsondata\"\r\n                                    showDynamicFields={true}\r\n                                    showStatusBlink={true}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    needFilter={false}\r\n                                    hidePaging={false}\r\n                                    hideSearch={true}\r\n\r\n                                />\r\n                            </div>\r\n                        </>\r\n                        : screenName == \"IDS_STORAGECONDITION\" ?\r\n                            <ProductList className=\"panel-main-content storage-tab\">\r\n                                {/* {this.props.Login.masterData.storageContainerCondition && this.props.Login.masterData.storageContainerCondition !== undefined ? */}\r\n                                <Card className=\"border-0\">\r\n                                    <Card.Header className=\"no-padding\">\r\n                                        <Card.Subtitle>\r\n                                            {/* <div className=\"d-inline\">\r\n                                                <Nav.Link name=\"editUser\" hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                    onClick={() => this.loadStorageCondition()}\r\n                                                >\r\n                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                </Nav.Link>\r\n                                            </div> */}\r\n                                            <div className=\"actions-stripe\">\r\n                                                <div className=\"d-flex justify-content-end\">\r\n                                                    <Nav.Link name=\"editContainer\" className=\"add-txt-btn\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                        onClick={() => this.loadStorageCondition(editContainerID)}\r\n                                                    >\r\n                                                        {/* <FontAwesomeIcon icon={faPlus} /> { } */}\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITION\" defaultMessage=\"Storage Condition\" />\r\n                                                    </Nav.Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Card.Subtitle>\r\n                                    </Card.Header>\r\n                                    <Card.Body className=\"form-static-wrap no-padding\">\r\n                                        <Row>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                                                            this.props.Login.masterData.storageContainer.sstorageconditionname === \"NA\" ? \"-\" : this.props.Login.masterData.storageContainer.sstorageconditionname\r\n                                                            : \"-\" || \"-\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGELOCATIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                                                            this.props.Login.masterData.storageContainer.sstorageconditionname === \"NA\" ? \"-\" : (this.props.Login.containerLocation && this.props.Login.containerLocation) : \"-\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                                {/* : \"\"} */}\r\n\r\n                            </ProductList>\r\n                            : \"\"\r\n            )\r\n        } else {\r\n            const masterData = {\r\n                ...this.props.Login.masterData, storageContainer: undefined,\r\n                containers: undefined, sampleStorageMaster: undefined\r\n            };\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: undefined,\r\n                    containerLocation: undefined,\r\n                    sampleTrayCode: undefined,\r\n                    containerCode: undefined,\r\n                    locationCode: undefined,\r\n                    masterData\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyView = (index, event, tabClick) => {\r\n\r\n\r\n        let check = false;\r\n        if (tabClick === true) {\r\n            if ((index === 1 && this.state.selectedItem && this.state.selectedItem.containerlastnode === true) ||\r\n                (index === 2 && this.state.selectedItem && this.state.selectedItem.containerfirstnode === true) ||\r\n                (index === 3 && this.state.selectedItem && this.state.selectedItem.locationlastnode === true)) {\r\n                check = false;\r\n            } else {\r\n                check = true;\r\n            }\r\n        }\r\n\r\n        if (check === false) {\r\n            if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        activeTabIndex: this.state.activeTabIndex !== index ? index : 0 ? index : false\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROPERITEM\" }));\r\n        }\r\n    }\r\n\r\n    changePropertyViewClose = (id) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputSwitchOnChange = (event) => {\r\n        if (event.target.name == \"PopupNav\") {\r\n            this.setState({\r\n                enablePropertyPopup: !this.state.enablePropertyPopup\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                enableAutoClick: !this.state.enableAutoClick\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilterOnSampleMaster(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    itemRender = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <span className={`normal-node\r\n                         ${clickedItem.item.editable ? \"active-node\" : \"\"}\r\n                         ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                         `}>\r\n                            {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                    item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                        item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                            {item.text}\r\n                        </span>\r\n                        // <ul className=\"list-inline mb-0\">\r\n                        // <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\r\n                        // {clickedItem.item.editable ? (\r\n                        // <>\r\n                        // <li className=\"list-inline-item \">\r\n                        // <span\r\n                        // className=\"action-icon\"\r\n                        // onClick={(e) => this.setProperties(e, clickedItem)}\r\n                        // ></span>\r\n                        // </li>\r\n                        // </>\r\n                        // ) : null}\r\n                        // </ul>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (this.state.selectedItemMove) {\r\n        //     this.state.selectedItemMove.selected = false;\r\n        // }\r\n\r\n        // event.item.selected = true;\r\n        // this.setState({\r\n        //     selectedItem: event.item\r\n        // })\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        // newData.map((data) => {\r\n        //     this.clearSelected(data, event.item)\r\n        // })\r\n\r\n        let result = newData;\r\n        const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n        let itemText = \"\";\r\n        for (let i = 0; i < indices.length; i++) {\r\n            if (i === 0) {\r\n                result = result[indices[i]];\r\n            } else {\r\n                result = result.items[indices[i]];\r\n            }\r\n            itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n        }\r\n\r\n        this.setState({ treeData: newData, clickedItem: event.item, targetLocationHierarchy: itemText });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        // console.log(innerObj, selectedItem, \"aasd\")\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onMoveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.containerlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.sampleTrayCode) {\r\n\r\n                    let getSelectedSamples = \"\";\r\n\r\n                    this.props.Login.masterData.selectedSampleStorageMaster.forEach(data => {\r\n                        getSelectedSamples += \"'\" + data.ssamplearno + \"'\" + \",\"; //ssampletraycode\r\n                    });\r\n                    if (getSelectedSamples !== \"\") {\r\n                        getSelectedSamples = getSelectedSamples.slice(0, getSelectedSamples.length - 1);\r\n                    }\r\n                    inputParam = {\r\n                        selectedSamples: getSelectedSamples,//this.props.Login.masterData.selectedSampleStorageMaster,\r\n                        moveTargetTrayCode: this.state.clickedItem.id,\r\n                        nsamplestoragelocationcode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        moveContainers: false,\r\n                        storageCategory: this.state.selectedRecord[\"nstoragecategorycode\"] && this.state.selectedRecord[\"nstoragecategorycode\"].value,\r\n                        methodUrl: \"SampleStorageMaster\",\r\n                        inputData: inputData,\r\n                        operation: \"move\",\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sourceLocationHierarchy: this.props.Login.sampleLocation,\r\n                        targetLocationHierarchy: this.state.targetLocationHierarchy,\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n                    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, operation: \"move\", openChildModal: true,\r\n                                screenName: this.props.Login.inputParam.displayName\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                    }\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROPERITEM\" }));\r\n            }\r\n\r\n\r\n        } else if (this.state.activeTabIndex === 3) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.locationlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.locationCode) {\r\n\r\n                    let getSampleTray = \"\";\r\n                    let getContainerCode = \"\";\r\n                    let targetData = this.state.treeData || [];\r\n                    let sourceData = this.state.treeDataView || [];\r\n                    let newData = [];\r\n                    let sameLocation = true;\r\n                    let targetJsonData = {};\r\n                    let SourceJsonData = {};\r\n                    let selectedContainers = [];\r\n\r\n\r\n\r\n                    if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode === this.state.selectedRecord[\"nsamplestoragelocationcode\"].value) {\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            targetData = removeItems(targetData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        targetJsonData[\"data\"] = newData;\r\n                    } else {\r\n\r\n\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            sourceData = removeItems(sourceData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n\r\n                            if (sourceData.length > 0) {\r\n                                sourceData = mapTree(sourceData, \"items\", (item) => {\r\n                                    if (item.selected && item.selected === true) {\r\n                                        item.selected = false;\r\n                                    }\r\n                                    return item;\r\n                                });\r\n                            }\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        SourceJsonData[\"data\"] = sourceData;\r\n                        targetJsonData[\"data\"] = newData;\r\n\r\n                        sameLocation = false;\r\n                    }\r\n\r\n                    this.props.Login.masterData.selectedContainer.forEach(data => {\r\n\r\n                        mapTree([data], \"items\", (item) => {\r\n                            if (item.containerlastnode === true) {\r\n                                getSampleTray += \"'\" + item.id + \"'\" + \",\";\r\n                            }\r\n                        });\r\n\r\n                        getContainerCode += \"'\" + data.id + \"'\" + \",\";\r\n                        selectedContainers.push({ scontainercode: data.id, text: data.text })\r\n                    })\r\n                    if (getSampleTray !== \"\") {\r\n                        getSampleTray = getSampleTray.slice(0, getSampleTray.length - 1);\r\n                    }\r\n                    if (getContainerCode !== \"\") {\r\n                        getContainerCode = getContainerCode.slice(0, getContainerCode.length - 1);\r\n                    }\r\n\r\n                    inputParam = {\r\n                        selectedSamples: getSampleTray,\r\n                        sourceLocationCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        sourceVersionCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,\r\n                        nsamplestorageversioncode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,\r\n                        SourceJsonData: SourceJsonData,\r\n                        targetJsonData: targetJsonData,\r\n                        moveContainers: true,\r\n                        storageCategory: this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                        sameLocation,\r\n                        methodUrl: \"SampleStorageMaster\",\r\n                        inputData: inputData,\r\n                        operation: \"move\",\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sourceLocationHierarchy: this.props.Login.locationText,\r\n                        targetLocationHierarchy: this.state.targetLocationHierarchy,\r\n                        selectedContainer: selectedContainers,\r\n                        getContainerCode: getContainerCode\r\n                    }\r\n                    // this.props.moveItems(inputParam, this.props.Login.masterData);\r\n\r\n                    const masterData = this.props.Login.masterData;\r\n                    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, operation: \"move\", openChildModal: true,\r\n                                screenName: this.props.Login.inputParam.displayName\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                    }\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROPERITEM\" }));\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        let nfilterStorageCategory = this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.nfilterStorageCategory;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragemaster\",\r\n            methodUrl: \"SampleStorageMaster\",\r\n            displayName: \"IDS_SAMPLESTORAGEMASTER\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        let mandatoryFields = [];\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_SAMPLE\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" });\r\n        } else if (this.state.activeTabIndex === 2) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_STORAGECONDITIONNAME\", \"dataField\": \"nstorageconditioncode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n        }\r\n\r\n        const filterParam = {\r\n            inputListName: \"approvedSampleStorageLocation\", selectedObject: \"selectedSampleStorageVersion\", primaryKeyField: \"nsamplestorageversioncode\",\r\n            fetchUrl: \"samplestoragelocation/getActiveSampleStorageVersion\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={`toolbar-top ${this.state.activeTabIndex ? 'active-property-bar' : \"\"}`}>\r\n                        <Col md={12}>\r\n                            <ListWrapper className={`vertical-tab-top grid-master ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`}>\r\n                                <div className={`tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`}>\r\n                                    <ListMaster\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMASTER\" })}\r\n                                        masterData={this.props.Login.masterData}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.approvedSampleStorageLocation}\r\n                                        getMasterDetail={(selectedItem) =>\r\n                                            this.props.getSelectedApprovedStorageVersion(\r\n                                                selectedItem, this.props.Login.userInfo,\r\n                                                this.props.Login.masterData\r\n                                            )}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion}\r\n                                        primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                        mainField=\"ssamplestoragelocationname\"\r\n                                        // firstField=\"sversionno\"\r\n                                        // secondField=\"stransdisplaystatus\"\r\n                                        filterColumnData={this.props.filterColumnData}\r\n                                        filterParam={filterParam}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        hideAddButton={true}\r\n                                        // addId={addId}\r\n                                        searchRef={this.searchRef}\r\n                                        reloadData={this.reloadData}\r\n                                        hidePaging={false}\r\n                                        // openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                        showFilterIcon={true}\r\n                                        showFilter={this.props.Login.showFilter}\r\n                                        openFilter={this.openFilter}\r\n                                        closeFilter={this.closeFilter}\r\n                                        onFilterSubmit={this.onFilterSubmit}\r\n                                        filterComponent={[\r\n                                            {\r\n                                                \"IDS_STORAGEFILTER\":\r\n                                                    <StorageCategoryFilter\r\n                                                        filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                        nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                    />\r\n                                            }\r\n                                        ]}\r\n                                    />\r\n\r\n                                </div>\r\n                                <div className='tree-view-container'>\r\n                                    {this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined ?\r\n                                        <TreeViewEditable\r\n                                            id=\"samplestoragelocation\"\r\n                                            name=\"samplestoragelocation\"\r\n                                            // label=\"Sample Storage Location\"\r\n                                            data={this.state.treeDataView}\r\n                                            expandIcons={true}\r\n                                            item={this.itemRenderView}\r\n                                            selectField={'active-node'}\r\n                                            onExpandChange={this.onExpandChangeView}\r\n                                            onItemClick={this.onItemClickView}\r\n                                        />\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                </div>\r\n                                <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} xs-grid-container vertical-tab ${this.state.activeTabIndex ? 'active' : \"\"}`} >\r\n                                    <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} vertical-tab-content pager_wrap wrap-class ${this.state.activeTabIndex ? 'active' : \"\"}`} style={{ width: this.state.enablePropertyPopup ? this.state.propertyPopupWidth + '%' : \"\" }}>\r\n                                        <span className={` vertical-tab-close ${this.state.activeTabIndex ? 'active' : \"\"}`} onClick={() => this.changePropertyViewClose(false)}><FontAwesomeIcon icon={faChevronRight} /> </span>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 1 ? this.sideNavDetail(\"IDS_SAMPLEDETAILS\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 2 ? this.sideNavDetail(\"IDS_STORAGECONDITION\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 3 ? this.sideNavDetail(\"IDS_CONTAINERS\") : \"\"}\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <div className='tab-head'>\r\n                                        <ul>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(1, undefined, true)}>\r\n                                                <FontAwesomeIcon icon={faEye} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(2, undefined, true)}>\r\n                                                <FontAwesomeIcon icon={faLink} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(3, undefined, true)}>\r\n                                                <FontAwesomeIcon icon={faComments} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                                </span>\r\n                                            </li>\r\n\r\n                                        </ul>\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Auto Show\"}\r\n                                                type=\"switch\"\r\n                                                name={\"Auto Click\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enableAutoClick}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enableAutoClick}\r\n                                            />\r\n                                        </span> */}\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Popup Nav\"}\r\n                                                type=\"switch\"\r\n                                                name={\"PopupNav\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enablePropertyPopup}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enablePropertyPopup}\r\n                                            />\r\n                                        </span> */}\r\n                                    </div>\r\n                                </div>\r\n                            </ListWrapper>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_STORAGECONDITIONNAME\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        showSaveContinue={this.props.Login.loadEsign ? false : this.state.activeTabIndex && this.state.activeTabIndex === 1 ? true : false}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.state.activeTabIndex && this.state.activeTabIndex === 1 ? (\r\n                                <AddSample\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onKeyUp={(e) => this.onKeyUp(e)}\r\n                                    onNumericInputChange={this.onNumericInputChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    unitMaster= {this.props.Login.masterData.unitMaster || []}\r\n                                    isneedSubSampleQty={this.props.Login.isneedSubSampleQty && this.props.Login.isneedSubSampleQty || false}\r\n                                />\r\n                            ) : this.state.activeTabIndex && this.state.activeTabIndex === 2 ? (\r\n                                <AddContainerStorageCondition\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCondition={this.props.Login.masterData.storageCondition || []}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openChildModal &&\r\n                    <SlideOutModal show={this.props.Login.openChildModal}\r\n                        closeModal={this.closeChildModal}\r\n                        // operation={this.props.intl.formatMessage({ id: \"IDS_MOVE\" })}\r\n                        operation={(this.props.Login.screenName === \"IDS_MOVE\") ? \"\" :  this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_CONTAINERS\" })}\r\n                        onSaveClick={this.onMoveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <MoveSampleOrContainers\r\n                                treeData={this.state.treeData}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                itemRender={this.itemRender}\r\n                                onExpandChange={this.onExpandChange}\r\n                                onItemClick={this.onItemClick}\r\n                                onComboChange={this.onComboChange}\r\n                                storageCategory={this.props.Login.masterData.storageCategory || []}\r\n                                approvedLocation={this.props.Login.masterData.approvedLocation || []}\r\n                                isSendToStore={false}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n\r\n        }\r\n        if (this.state.activeTabIndex === 1 && this.props.Login.operation === \"create\") {\r\n\r\n            this.props.validateEsignCredentialSampleStorageMaster(inputParam);\r\n        } else if (this.props.Login.operation === \"move\") {\r\n            this.props.validateEsignCredentialSampleStorageMaster(inputParam);\r\n        } else {\r\n            this.props.validateEsignCredential(inputParam, \"openModal\");\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSampleMaster, filterColumnData,\r\n    getSelectedSampleStorageLocation, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, getContainerStorageCondition, getStorageConditionFromMaster, getSampleMasterDetails,\r\n    getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster, openSampleStorageApprovedLocation,\r\n    loadApprovedLocationOnCombo, loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion,\r\n    validateEsignCredentialSampleStorageMaster,addSample\r\n})(injectIntl(SampleStorageMaster));"]},"metadata":{},"sourceType":"module"}