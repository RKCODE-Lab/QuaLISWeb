{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{constructOptionList,sortData}from'../components/CommonScript';//, getComboLabelValue, searchData\nimport{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{transactionStatus,attachmentType}from'../components/Enumeration';export function getSupplierDetail(supplier,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"supplier/getSupplier\",{nsuppliercode:supplier.nsuppliercode,\"userinfo\":userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function getSupplierComboService(screenName,operation,primaryKeyName,primaryKeyValue,masterData,userInfo,ncontrolCode){return function(dispatch){if(operation===\"create\"||operation===\"update\"&&masterData.SelectedSupplier.ntransactionstatus!==transactionStatus.RETIRED){var countryService=rsapi.post(\"country/getCountry\",{userinfo:userInfo});var urlArray=[];if(operation===\"create\"){urlArray=[countryService];}else{var _rsapi$post;var supplierById=rsapi.post(\"supplier/getActiveSupplierById\",(_rsapi$post={},_defineProperty(_rsapi$post,primaryKeyName,primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",userInfo),_rsapi$post));//this.props.Login.userInfo\nurlArray=[countryService,supplierById];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var country=[];var selectedRecord={};if(operation===\"update\"){selectedRecord=response[1].data;country.push({\"value\":response[1].data[\"ncountrycode\"],\"label\":response[1].data[\"scountryname\"]});selectedRecord[\"ncountrycode\"]=country[0];}else{selectedRecord[\"ntransactionstatus\"]=1;}dispatch({type:DEFAULT_RETURN,payload:{countryList:response[0].data||[],operation:operation,screenName:screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{//toast.warn(this.props.formatMessage({ id: masterData.SelectedSupplier.stranstatus }));\ntoast.warn(intl.formatMessage({id:masterData.SelectedSupplier.stranstatus}));}};}export function getSupplierCategoryComboDataService(supplierparam){return function(dispatch){if(supplierparam.masterData.SelectedSupplier.ntransactionstatus!==transactionStatus.RETIRED){var contactData={\"nsuppliercode\":supplierparam.masterData.SelectedSupplier.nsuppliercode,\"userinfo\":supplierparam.userInfo};var contactService=rsapi.post(\"suppliercategory/getSupplierCategoryBySupplierCode\",contactData);var urlArray=[];if(supplierparam.operation===\"create\"){urlArray=[contactService];}else{var _rsapi$post2;var contactById=rsapi.post(\"suppliercategory/getActiveSupplierCategoryById\",(_rsapi$post2={},_defineProperty(_rsapi$post2,supplierparam.primaryKeyField,supplierparam.primaryKeyValue),_defineProperty(_rsapi$post2,\"userinfo\",supplierparam.userInfo),_rsapi$post2));urlArray=[contactService,contactById];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};//let selectedSupplierCategory = {};\nif(supplierparam.operation===\"update\"){selectedRecord=response[1].data;selectedRecord[\"nsuppliercatcode\"]=response[1].data[\"nsuppliercatcode\"];}dispatch({type:DEFAULT_RETURN,payload:{supplierCategory:response[0].data||[],selectedSupplierCategory:[],selectedRecord:selectedRecord,openChildModal:true,operation:supplierparam.operation,screenName:supplierparam.screenName,ncontrolCode:supplierparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{//toast.warn(this.props.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\ntoast.warn(intl.formatMessage({id:supplierparam.masterData.SelectedSupplier.stranstatus}));}};}export function getMaterialCategoryComboDataService(materialparam){return function(dispatch){if(materialparam.masterData.SelectedSupplier.ntransactionstatus!==transactionStatus.RETIRED){var materialData={\"nsuppliercode\":materialparam.masterData.SelectedSupplier.nsuppliercode,\"userinfo\":materialparam.userInfo};var materialService=rsapi.post(\"materialcategory/getMaterialCategoryBYSupplierCode\",materialData);var urlArray=[];if(materialparam.operation===\"create\"){urlArray=[materialService];}else{var _rsapi$post3;var contactById=rsapi.post(\"suppliercategory/getActiveSupplierCategoryById\",(_rsapi$post3={},_defineProperty(_rsapi$post3,materialparam.primaryKeyField,materialparam.primaryKeyValue),_defineProperty(_rsapi$post3,\"userinfo\",materialparam.userInfo),_rsapi$post3));urlArray=[materialService,contactById];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};if(materialparam.operation===\"update\"){selectedRecord=response[1].data;selectedRecord[\"nsuppliercatcode\"]=response[1].data[\"nsuppliercatcode\"];}dispatch({type:DEFAULT_RETURN,payload:{materialCategory:response[0].data||[],selectedMaterialCategory:[],selectedRecord:selectedRecord,openChildModal:true,operation:materialparam.operation,screenName:materialparam.screenName,ncontrolCode:materialparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{//toast.warn(this.props.formatMessage({ id: materialparam.masterData.SelectedSupplier.stranstatus }));\ntoast.warn(intl.formatMessage({id:materialparam.masterData.SelectedSupplier.stranstatus}));}};}export var addSupplierFile=function addSupplierFile(inputParam){return function(dispatch){dispatch(initRequest(true));var urlArray=[rsapi.post(\"/linkmaster/getLinkMaster\",{userinfo:inputParam.userInfo})];if(inputParam.operation===\"update\"){urlArray.push(rsapi.post(\"/supplier/editSupplierFile\",{userinfo:inputParam.userInfo,supplierfile:inputParam.selectedRecord}));}Axios.all(urlArray).then(function(response){var _payload;var linkMap=constructOptionList(response[0].data.LinkMaster,\"nlinkcode\",\"slinkname\",false,false,true);var linkmaster=linkMap.get(\"OptionList\");var selectedRecord={};var defaultLink=linkmaster.filter(function(items){return items.item.ndefaultlink===transactionStatus.YES;});var disabled=false;var editObject={};if(inputParam.operation===\"update\"){editObject=response[1].data;var nlinkcode={};var link={};if(editObject.nattachmenttypecode===attachmentType.LINK){nlinkcode={\"label\":editObject.slinkname,\"value\":editObject.nlinkcode};link={slinkfilename:editObject.sfilename,slinkdescription:editObject.sdescription,nlinkdefaultstatus:editObject.ndefaultstatus,sfilesize:'',nfilesize:0,ndefaultstatus:4,sfilename:''};}else{nlinkcode=defaultLink.length>0?defaultLink[0]:\"\";//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\nlink={slinkfilename:'',slinkdescription:'',nlinkdefaultstatus:4,sfilesize:editObject.sfilesize,nfilesize:editObject.nfilesize,ndefaultstatus:editObject.ndefaultstatus,sfilename:editObject.sfilename};}selectedRecord=_objectSpread(_objectSpread({},link),{},{nsupplierfilecode:editObject.nsupplierfilecode,nattachmenttypecode:editObject.nattachmenttypecode,sdescription:editObject.sdescription,nlinkcode:nlinkcode// disabled: true\n});}else{selectedRecord={nattachmenttypecode:response[0].data.AttachmentType.length>0?response[0].data.AttachmentType[0].nattachmenttypecode:attachmentType.FTP,nlinkcode:defaultLink.length>0?defaultLink[0]:\"\",//{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\ndisabled:disabled};}dispatch({type:DEFAULT_RETURN,payload:(_payload={},_defineProperty(_payload,inputParam.modalName,true),_defineProperty(_payload,\"operation\",inputParam.operation),_defineProperty(_payload,\"screenName\",inputParam.screenName),_defineProperty(_payload,\"ncontrolCode\",inputParam.ncontrolCode),_defineProperty(_payload,\"selectedRecord\",selectedRecord),_defineProperty(_payload,\"loading\",false),_defineProperty(_payload,\"linkMaster\",linkmaster),_defineProperty(_payload,\"showSaveContinue\",false),_defineProperty(_payload,\"editFiles\",editObject.nattachmenttypecode===attachmentType.FTP?editObject:{}),_payload)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function getSupplierContactComboDataService(supplierparam){return function(dispatch){if(supplierparam.masterData.SelectedSupplier.ntransactionstatus!==transactionStatus.RETIRED){var contactData={\"nsuppliercode\":supplierparam.masterData.SelectedSupplier.nsuppliercode,\"userinfo\":supplierparam.userInfo};var countryService=rsapi.post(\"country/getCountry\",contactData);var contactService=rsapi.post(\"supplier/getSupplierContact\",contactData);var urlArray=[];if(supplierparam.operation===\"create\"){urlArray=[contactService,countryService];}else{var _rsapi$post4;var contactById=rsapi.post(\"supplier/getActiveSupplierContactById\",(_rsapi$post4={},_defineProperty(_rsapi$post4,supplierparam.primaryKeyField,supplierparam.primaryKeyValue),_defineProperty(_rsapi$post4,\"userinfo\",supplierparam.userInfo),_rsapi$post4));urlArray=[countryService,contactById];}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var country=[];selectedRecord={countryList:response[1].data||[]};//let selectedSupplierCategory = {};\nif(supplierparam.operation===\"update\"){selectedRecord=response[1].data;country.push({\"value\":response[1].data[\"ncountrycode\"],\"label\":response[1].data[\"scountryname\"]});selectedRecord[\"ncountrycode\"]=country[0];selectedRecord[\"countryList\"]=response[0].data;selectedRecord[\"nsuppliercontactcode\"]=response[1].data[\"nsuppliercontactcode\"];}dispatch({type:DEFAULT_RETURN,payload:{supplierContact:response[0].data.SupplierContact||[],countryList:response[0].data||[],selectedSupplierContact:[],selectedId:supplierparam.primaryKeyValue,selectedRecord:selectedRecord,openChildModal:true,operation:supplierparam.operation,screenName:supplierparam.screenName,ncontrolCode:supplierparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{//toast.warn(this.props.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\ntoast.warn(intl.formatMessage({id:supplierparam.masterData.SelectedSupplier.stranstatus}));}};}// export function filterColumnDataSupplier(filterValue, masterData, userInfo) {\n//     return function (dispatch) {\n//         let supplierCode = 0;\n//         let searchedData = undefined;\n//         if (filterValue === \"\") {\n//             supplierCode = masterData[\"Supplier\"][0].nsuppliercode;\n//         }\n//         else {\n//             searchedData = searchData(filterValue, masterData[\"Supplier\"], \"ssuppliername\");\n//             if (searchedData.length > 0) {\n//                 supplierCode = searchedData[0].nsuppliercode;\n//             }\n//             else {\n//                 masterData[\"Supplier\"] = [];\n//                 masterData[\"SupplierCategory\"] = [];\n//                 masterData[\"MaterialCategory\"] = [];\n//                 masterData[\"SelectedSupplier\"] = [];\n//                 masterData[\"searchedData\"] = [];\n//                 dispatch({ type: DEFAULT_RETURN, payload: { masterData } });\n//             }\n//         }\n//         dispatch(initRequest(true));\n//         return rsapi.post(\"supplier/getSupplier\", { nsuppliercode: supplierCode, userinfo: userInfo })\n//             .then(response => {\n//                 masterData[\"Supplier\"] = response.data[\"Supplier\"];\n//                 masterData[\"SupplierCategory\"] = response.data[\"SupplierCategory\"];\n//                 masterData[\"MaterialCategory\"] = response.data[\"MaterialCategory\"];\n//                 masterData[\"SelectedSupplier\"] = response.data[\"SelectedSupplier\"];\n//                 masterData[\"searchedData\"] = searchedData;\n//                 dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\n//             })\n//             .catch(error => {\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\n//                 if (error.response.status === 500) {\n//                     toast.error(error.message);\n//                 }\n//                 else {\n//                     toast.warn(error.response.data);\n//                 }\n//             })\n//     }\n// }","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/SupplierAction.js"],"names":["rsapi","DEFAULT_RETURN","constructOptionList","sortData","toast","Axios","initRequest","intl","transactionStatus","attachmentType","getSupplierDetail","supplier","userInfo","masterData","dispatch","post","nsuppliercode","then","response","data","type","payload","loading","catch","error","status","formatMessage","id","message","warn","getSupplierComboService","screenName","operation","primaryKeyName","primaryKeyValue","ncontrolCode","SelectedSupplier","ntransactionstatus","RETIRED","countryService","userinfo","urlArray","supplierById","all","country","selectedRecord","push","countryList","openModal","stranstatus","getSupplierCategoryComboDataService","supplierparam","contactData","contactService","contactById","primaryKeyField","supplierCategory","selectedSupplierCategory","openChildModal","getMaterialCategoryComboDataService","materialparam","materialData","materialService","materialCategory","selectedMaterialCategory","addSupplierFile","inputParam","supplierfile","linkMap","LinkMaster","linkmaster","get","defaultLink","filter","items","item","ndefaultlink","YES","disabled","editObject","nlinkcode","link","nattachmenttypecode","LINK","slinkname","slinkfilename","sfilename","slinkdescription","sdescription","nlinkdefaultstatus","ndefaultstatus","sfilesize","nfilesize","length","nsupplierfilecode","AttachmentType","FTP","modalName","getSupplierContactComboDataService","supplierContact","SupplierContact","selectedSupplierContact","selectedId"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { constructOptionList, sortData } from '../components/CommonScript'//, getComboLabelValue, searchData\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus, attachmentType } from '../components/Enumeration';\r\n\r\nexport function getSupplierDetail(supplier, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"supplier/getSupplier\", {\r\n            nsuppliercode: supplier.nsuppliercode,\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getSupplierComboService(screenName, operation, primaryKeyName, primaryKeyValue, masterData, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if (operation === \"create\" || (operation === \"update\" && masterData.SelectedSupplier.ntransactionstatus !== transactionStatus.RETIRED)) {\r\n\r\n\r\n            const countryService = rsapi.post(\"country/getCountry\", { userinfo: userInfo });\r\n\r\n\r\n\r\n            let urlArray = [];\r\n\r\n            if (operation === \"create\") {\r\n\r\n\r\n\r\n                urlArray = [countryService];\r\n\r\n            }\r\n\r\n            else {\r\n\r\n                const supplierById = rsapi.post(\"supplier/getActiveSupplierById\", { [primaryKeyName]: primaryKeyValue, \"userinfo\": userInfo });//this.props.Login.userInfo\r\n\r\n\r\n\r\n                urlArray = [countryService, supplierById];\r\n\r\n            }\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n\r\n                    let country = [];\r\n\r\n                    let selectedRecord = {};\r\n\r\n                    if (operation === \"update\") {\r\n                        selectedRecord = response[1].data;\r\n\r\n                         country.push({ \"value\": response[1].data[\"ncountrycode\"], \"label\": response[1].data[\"scountryname\"] });\r\n\r\n\r\n                  selectedRecord[\"ncountrycode\"] = country[0];\r\n\r\n\r\n                    }\r\n                    else {\r\n                        selectedRecord[\"ntransactionstatus\"] = 1;\r\n\r\n\r\n                    }\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            countryList: response[0].data || [],\r\n\r\n                            operation, screenName, selectedRecord, openModal: true,\r\n                            ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            //toast.warn(this.props.formatMessage({ id: masterData.SelectedSupplier.stranstatus }));\r\n            toast.warn(intl.formatMessage({ id: masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function getSupplierCategoryComboDataService(supplierparam) {\r\n    return function (dispatch) {\r\n        if (supplierparam.masterData.SelectedSupplier.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n            const contactData = {\r\n                \"nsuppliercode\": supplierparam.masterData.SelectedSupplier.nsuppliercode,\r\n                \"userinfo\": supplierparam.userInfo\r\n\r\n            };\r\n\r\n            const contactService = rsapi.post(\"suppliercategory/getSupplierCategoryBySupplierCode\", contactData);\r\n\r\n            let urlArray = [];\r\n            if (supplierparam.operation === \"create\") {\r\n\r\n                urlArray = [contactService];\r\n            }\r\n            else {\r\n                const contactById = rsapi.post(\"suppliercategory/getActiveSupplierCategoryById\", { [supplierparam.primaryKeyField]: supplierparam.primaryKeyValue, \"userinfo\": supplierparam.userInfo });\r\n                urlArray = [contactService, contactById];\r\n            }\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n\r\n                    let selectedRecord = {};\r\n                    //let selectedSupplierCategory = {};\r\n                    if (supplierparam.operation === \"update\") {\r\n                        selectedRecord = response[1].data;\r\n\r\n\r\n                        selectedRecord[\"nsuppliercatcode\"] = response[1].data[\"nsuppliercatcode\"];\r\n                    }\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            supplierCategory: response[0].data || [],\r\n                            selectedSupplierCategory: [],\r\n\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n\r\n                            operation: supplierparam.operation, screenName: supplierparam.screenName,\r\n                            ncontrolCode: supplierparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            //toast.warn(this.props.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\r\n            toast.warn(intl.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function getMaterialCategoryComboDataService(materialparam) {\r\n    return function (dispatch) {\r\n        if (materialparam.masterData.SelectedSupplier.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n            const materialData = {\r\n                \"nsuppliercode\": materialparam.masterData.SelectedSupplier.nsuppliercode,\r\n                \"userinfo\": materialparam.userInfo\r\n\r\n            };\r\n\r\n            const materialService = rsapi.post(\"materialcategory/getMaterialCategoryBYSupplierCode\", materialData);\r\n\r\n            let urlArray = [];\r\n            if (materialparam.operation === \"create\") {\r\n\r\n                urlArray = [materialService];\r\n            }\r\n            else {\r\n                const contactById = rsapi.post(\"suppliercategory/getActiveSupplierCategoryById\", { [materialparam.primaryKeyField]: materialparam.primaryKeyValue, \"userinfo\": materialparam.userInfo });\r\n                urlArray = [materialService, contactById];\r\n            }\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n\r\n                    let selectedRecord = {};\r\n                    if (materialparam.operation === \"update\") {\r\n                        selectedRecord = response[1].data;\r\n\r\n\r\n                        selectedRecord[\"nsuppliercatcode\"] = response[1].data[\"nsuppliercatcode\"];\r\n                    }\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            materialCategory: response[0].data || [],\r\n                            selectedMaterialCategory: [],\r\n\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n\r\n                            operation: materialparam.operation, screenName: materialparam.screenName,\r\n                            ncontrolCode: materialparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            //toast.warn(this.props.formatMessage({ id: materialparam.masterData.SelectedSupplier.stranstatus }));\r\n            toast.warn(intl.formatMessage({ id: materialparam.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n    }\r\n}\r\n\r\nexport const addSupplierFile = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let urlArray = [rsapi.post(\"/linkmaster/getLinkMaster\", {\r\n            userinfo: inputParam.userInfo\r\n        })];\r\n        if (inputParam.operation === \"update\") {\r\n            urlArray.push(rsapi.post(\"/supplier/editSupplierFile\", {\r\n                userinfo: inputParam.userInfo,\r\n                supplierfile: inputParam.selectedRecord\r\n            }))\r\n        }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const linkMap = constructOptionList(response[0].data.LinkMaster, \"nlinkcode\", \"slinkname\", false, false, true);\r\n                const linkmaster = linkMap.get(\"OptionList\");\r\n                let selectedRecord = {};\r\n                const defaultLink = linkmaster.filter(items => items.item.ndefaultlink === transactionStatus.YES);\r\n                let disabled = false;\r\n                let editObject = {};\r\n                if (inputParam.operation === \"update\") {\r\n                    editObject = response[1].data;\r\n                    let nlinkcode = {};\r\n                    let link = {};\r\n                    if (editObject.nattachmenttypecode === attachmentType.LINK) {\r\n                        nlinkcode = {\r\n                            \"label\": editObject.slinkname,\r\n                            \"value\": editObject.nlinkcode\r\n                        }\r\n\r\n                        link = {\r\n                            slinkfilename: editObject.sfilename,\r\n                            slinkdescription: editObject.sdescription,\r\n                            nlinkdefaultstatus: editObject.ndefaultstatus,\r\n                            sfilesize: '',\r\n                            nfilesize: 0,\r\n                            ndefaultstatus: 4,\r\n                            sfilename: '',\r\n                        }\r\n\r\n                    } else {\r\n                        nlinkcode = defaultLink.length > 0 ? defaultLink[0] : \"\" //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\"\r\n                        link = {\r\n                            slinkfilename: '',\r\n                            slinkdescription: '',\r\n                            nlinkdefaultstatus: 4,\r\n                            sfilesize: editObject.sfilesize,\r\n                            nfilesize: editObject.nfilesize,\r\n                            ndefaultstatus: editObject.ndefaultstatus,\r\n                            sfilename: editObject.sfilename,\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    selectedRecord = {\r\n                        ...link,\r\n                        nsupplierfilecode: editObject.nsupplierfilecode,\r\n                        nattachmenttypecode: editObject.nattachmenttypecode,\r\n                        sdescription:editObject.sdescription,\r\n                        nlinkcode,\r\n                        // disabled: true\r\n                    };\r\n                } else {\r\n                    selectedRecord = {\r\n                        nattachmenttypecode: response[0].data.AttachmentType.length > 0 ?\r\n                            response[0].data.AttachmentType[0].nattachmenttypecode : attachmentType.FTP,\r\n                        nlinkcode: defaultLink.length > 0 ? defaultLink[0] : \"\", //{\"label\": defaultLink[0].slinkname, \"value\": defaultLink[0].nlinkcode}:\"\",\r\n                        disabled\r\n                    };\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        [inputParam.modalName]: true,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        selectedRecord,\r\n                        loading: false,\r\n                        linkMaster: linkmaster,\r\n                        showSaveContinue: false,\r\n                        editFiles: editObject.nattachmenttypecode === attachmentType.FTP ? editObject : {}\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            });\r\n    }\r\n}\r\nexport function getSupplierContactComboDataService(supplierparam) {\r\n    return function (dispatch) {\r\n        if (supplierparam.masterData.SelectedSupplier.ntransactionstatus !== transactionStatus.RETIRED) {\r\n\r\n            const contactData = {\r\n                \"nsuppliercode\": supplierparam.masterData.SelectedSupplier.nsuppliercode,\r\n                \"userinfo\": supplierparam.userInfo\r\n\r\n            };\r\n            const countryService = rsapi.post(\"country/getCountry\", contactData);\r\n\r\n            const contactService = rsapi.post(\"supplier/getSupplierContact\", contactData);\r\n\r\n            let urlArray = [];\r\n            if (supplierparam.operation === \"create\") {\r\n\r\n                urlArray = [contactService, countryService];\r\n            }\r\n            else {\r\n                const contactById = rsapi.post(\"supplier/getActiveSupplierContactById\", { [supplierparam.primaryKeyField]: supplierparam.primaryKeyValue, \"userinfo\": supplierparam.userInfo });\r\n                urlArray = [countryService, contactById];\r\n            }\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n                    let selectedRecord = {};\r\n                    let country = [];\r\n                    selectedRecord = { countryList: response[1].data || [] };\r\n                    //let selectedSupplierCategory = {};\r\n                    if (supplierparam.operation === \"update\") {\r\n                        selectedRecord = response[1].data;\r\n                        country.push({ \"value\": response[1].data[\"ncountrycode\"], \"label\": response[1].data[\"scountryname\"] });\r\n                        selectedRecord[\"ncountrycode\"] = country[0];\r\n                        selectedRecord[\"countryList\"] = response[0].data;\r\n\r\n\r\n\r\n                        selectedRecord[\"nsuppliercontactcode\"] = response[1].data[\"nsuppliercontactcode\"];\r\n                    }\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            supplierContact: response[0].data.SupplierContact || [],\r\n                            countryList: response[0].data || [],\r\n                            selectedSupplierContact: [],\r\n                            selectedId:supplierparam.primaryKeyValue,\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n\r\n                            operation: supplierparam.operation, screenName: supplierparam.screenName,\r\n                            ncontrolCode: supplierparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            //toast.warn(this.props.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\r\n            toast.warn(intl.formatMessage({ id: supplierparam.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n    }\r\n}\r\n// export function filterColumnDataSupplier(filterValue, masterData, userInfo) {\r\n//     return function (dispatch) {\r\n\r\n//         let supplierCode = 0;\r\n//         let searchedData = undefined;\r\n//         if (filterValue === \"\") {\r\n//             supplierCode = masterData[\"Supplier\"][0].nsuppliercode;\r\n//         }\r\n//         else {\r\n\r\n//             searchedData = searchData(filterValue, masterData[\"Supplier\"], \"ssuppliername\");\r\n\r\n//             if (searchedData.length > 0) {\r\n//                 supplierCode = searchedData[0].nsuppliercode;\r\n//             }\r\n//             else {\r\n//                 masterData[\"Supplier\"] = [];\r\n//                 masterData[\"SupplierCategory\"] = [];\r\n//                 masterData[\"MaterialCategory\"] = [];\r\n//                 masterData[\"SelectedSupplier\"] = [];\r\n//                 masterData[\"searchedData\"] = [];\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { masterData } });\r\n//             }\r\n\r\n//         }\r\n//         dispatch(initRequest(true));\r\n//         return rsapi.post(\"supplier/getSupplier\", { nsuppliercode: supplierCode, userinfo: userInfo })\r\n//             .then(response => {\r\n//                 masterData[\"Supplier\"] = response.data[\"Supplier\"];\r\n//                 masterData[\"SupplierCategory\"] = response.data[\"SupplierCategory\"];\r\n//                 masterData[\"MaterialCategory\"] = response.data[\"MaterialCategory\"];\r\n//                 masterData[\"SelectedSupplier\"] = response.data[\"SelectedSupplier\"];\r\n//                 masterData[\"searchedData\"] = searchedData;\r\n\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n//             })\r\n//             .catch(error => {\r\n//                 dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n//                 if (error.response.status === 500) {\r\n//                     toast.error(error.message);\r\n//                 }\r\n//                 else {\r\n//                     toast.warn(error.response.data);\r\n//                 }\r\n//             })\r\n\r\n\r\n\r\n//     }\r\n// }\r\n\r\n"]},"metadata":{},"sourceType":"module"}