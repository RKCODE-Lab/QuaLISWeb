{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { GroupActions } from \"./GroupActions\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport Widget from \"../rule/Widget\";\nimport classNames from \"classnames\";\n\nvar CaseGroup = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(CaseGroup, _BasicGroup);\n\n  var _super = _createSuper(CaseGroup);\n\n  function CaseGroup(props) {\n    var _this;\n\n    _classCallCheck(this, CaseGroup);\n\n    _this = _super.call(this, props);\n\n    _this.childrenClassName = function () {\n      return \"case_group--children\";\n    };\n\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n\n    useOnPropsChanged(_assertThisInitialized(_this));\n\n    _this.onPropsChanged(props);\n\n    return _this;\n  }\n\n  _createClass(CaseGroup, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"isDefaultCase\",\n    value: function isDefaultCase() {\n      return this.props.children1 == undefined;\n    }\n  }, {\n    key: \"reordableNodesCnt\",\n    value: function reordableNodesCnt() {\n      // `parentReordableNodesCnt` is number of cases to reorder\n      return this.props.parentReordableNodesCnt;\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(_item) {\n      // `reordableNodesCnt` is number of nodes is current case\n      if (this.props.isLocked) return 0;\n      return this.props.reordableNodesCnt;\n    }\n  }, {\n    key: \"totalRulesCntForItem\",\n    value: function totalRulesCntForItem(_item) {\n      // `totalRulesCnt` is number of nodes is current case\n      return this.props.totalRulesCnt;\n    }\n  }, {\n    key: \"showDragIcon\",\n    value: function showDragIcon() {\n      // default impl of `showDragIcon()` uses `this.reordableNodesCnt()`\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"showDragIcon\", this).call(this);\n    }\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\", this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\")\n      }, this.renderHeaderLeft(), this.renderHeaderCenter(), this.renderActions());\n    }\n  }, {\n    key: \"renderChildrenWrapper\",\n    value: function renderChildrenWrapper() {\n      if (this.isDefaultCase()) return null; // body has 2 columns: condition & value\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"case_group--body\"\n      }, this.renderCondition(), this.renderValue());\n    }\n  }, {\n    key: \"renderHeaderLeft\",\n    value: function renderHeaderLeft() {\n      if (this.isDefaultCase()) {\n        var defaultCaseLabel = this.props.config.settings.defaultCaseLabel;\n        return defaultCaseLabel || \"\";\n      } // default impl:\n\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderCondition\",\n    value: function renderCondition() {\n      if (this.isDefaultCase()) return null;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"renderChildrenWrapper\", this).call(this);\n    }\n  }, {\n    key: \"renderHeaderCenter\",\n    value: function renderHeaderCenter() {\n      if (this.isDefaultCase()) return this.renderValue();else return null;\n    }\n  }, {\n    key: \"canAddGroup\",\n    value: function canAddGroup() {\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"canAddGroup\", this).call(this);\n    }\n  }, {\n    key: \"canAddRule\",\n    value: function canAddRule() {\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"canAddRule\", this).call(this);\n    }\n  }, {\n    key: \"renderValue\",\n    value: function renderValue() {\n      var _this$props = this.props,\n          config = _this$props.config,\n          isLocked = _this$props.isLocked,\n          value = _this$props.value,\n          setValue = _this$props.setValue,\n          id = _this$props.id;\n      var immutableValuesMode = config.settings.immutableValuesMode;\n      var widget = /*#__PURE__*/React.createElement(Widget, {\n        key: \"values\",\n        isCaseValue: true,\n        field: \"!case_value\",\n        operator: null,\n        value: value,\n        valueSrc: \"value\",\n        valueError: null,\n        config: config,\n        setValue: !immutableValuesMode ? setValue : dummyFn,\n        setValueSrc: dummyFn,\n        readonly: immutableValuesMode || isLocked,\n        id: id,\n        groupId: null\n      });\n      return /*#__PURE__*/React.createElement(Col, {\n        className: \"case_group--value\"\n      }, widget);\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props2 = this.props,\n          config = _this$props2.config,\n          addGroup = _this$props2.addGroup,\n          addRule = _this$props2.addRule,\n          isLocked = _this$props2.isLocked,\n          isTrueLocked = _this$props2.isTrueLocked,\n          id = _this$props2.id;\n      return /*#__PURE__*/React.createElement(GroupActions, {\n        config: config,\n        addGroup: addGroup,\n        addRule: addRule,\n        canAddRule: this.canAddRule(),\n        canAddGroup: this.canAddGroup(),\n        canDeleteGroup: this.canDeleteGroup(),\n        removeSelf: this.removeSelf,\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }, {\n    key: \"isEmptyCurrentGroup\",\n    value: function isEmptyCurrentGroup() {\n      // used to confirm self-deletion\n      var value = this.props.value;\n      var oneValue = value && value.size ? value.get(0) : null;\n      var hasValue = oneValue != null && (Array.isArray(oneValue) ? oneValue.length > 0 : true);\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"isEmptyCurrentGroup\", this).call(this) && !hasValue;\n    }\n  }]);\n\n  return CaseGroup;\n}(BasicGroup);\n\nCaseGroup.propTypes = _objectSpread(_objectSpread({}, BasicGroup.propTypes), {}, {\n  parentReordableNodesCnt: PropTypes.number,\n  value: PropTypes.any,\n  setValue: PropTypes.func\n});\nexport default GroupContainer(Draggable(\"group case_group\")(ConfirmFn(CaseGroup)));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/SOURCE-512/QuaLISWeb/node_modules/@react-awesome-query-builder/ui/esm/components/item/CaseGroup.js"],"names":["_defineProperty","_classCallCheck","_createClass","_assertThisInitialized","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","React","PropTypes","GroupContainer","Draggable","BasicGroup","GroupActions","useOnPropsChanged","Col","dummyFn","ConfirmFn","Widget","classNames","CaseGroup","_BasicGroup","_super","props","_this","childrenClassName","renderFooterWrapper","onPropsChanged","value","nextProps","isDefaultCase","children1","undefined","reordableNodesCnt","parentReordableNodesCnt","reordableNodesCntForItem","_item","isLocked","totalRulesCntForItem","totalRulesCnt","showDragIcon","renderHeaderWrapper","createElement","className","isOneChild","isNoChildren","showConjs","showNot","renderHeaderLeft","renderHeaderCenter","renderActions","renderChildrenWrapper","renderCondition","renderValue","defaultCaseLabel","config","settings","renderConjs","renderDrag","canAddGroup","canAddRule","_this$props","setValue","id","immutableValuesMode","widget","isCaseValue","field","operator","valueSrc","valueError","setValueSrc","readonly","groupId","_this$props2","addGroup","addRule","isTrueLocked","canDeleteGroup","removeSelf","setLock","isEmptyCurrentGroup","oneValue","size","get","hasValue","Array","isArray","propTypes","number","any","func"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport GroupContainer from \"../containers/GroupContainer\";\nimport Draggable from \"../containers/Draggable\";\nimport { BasicGroup } from \"./Group\";\nimport { GroupActions } from \"./GroupActions\";\nimport { useOnPropsChanged } from \"../../utils/reactUtils\";\nimport { Col, dummyFn, ConfirmFn } from \"../utils\";\nimport Widget from \"../rule/Widget\";\nimport classNames from \"classnames\";\nvar CaseGroup = /*#__PURE__*/function (_BasicGroup) {\n  _inherits(CaseGroup, _BasicGroup);\n  var _super = _createSuper(CaseGroup);\n  function CaseGroup(props) {\n    var _this;\n    _classCallCheck(this, CaseGroup);\n    _this = _super.call(this, props);\n    _this.childrenClassName = function () {\n      return \"case_group--children\";\n    };\n    _this.renderFooterWrapper = function () {\n      return null;\n    };\n    useOnPropsChanged(_assertThisInitialized(_this));\n    _this.onPropsChanged(props);\n    return _this;\n  }\n  _createClass(CaseGroup, [{\n    key: \"onPropsChanged\",\n    value: function onPropsChanged(nextProps) {}\n  }, {\n    key: \"isDefaultCase\",\n    value: function isDefaultCase() {\n      return this.props.children1 == undefined;\n    }\n  }, {\n    key: \"reordableNodesCnt\",\n    value: function reordableNodesCnt() {\n      // `parentReordableNodesCnt` is number of cases to reorder\n      return this.props.parentReordableNodesCnt;\n    }\n  }, {\n    key: \"reordableNodesCntForItem\",\n    value: function reordableNodesCntForItem(_item) {\n      // `reordableNodesCnt` is number of nodes is current case\n      if (this.props.isLocked) return 0;\n      return this.props.reordableNodesCnt;\n    }\n  }, {\n    key: \"totalRulesCntForItem\",\n    value: function totalRulesCntForItem(_item) {\n      // `totalRulesCnt` is number of nodes is current case\n      return this.props.totalRulesCnt;\n    }\n  }, {\n    key: \"showDragIcon\",\n    value: function showDragIcon() {\n      // default impl of `showDragIcon()` uses `this.reordableNodesCnt()`\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"showDragIcon\", this).call(this);\n    }\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"group-header\",\n        className: classNames(\"group--header\", this.isOneChild() ? \"one--child\" : \"\", this.isOneChild() ? \"hide--line\" : \"\", this.isNoChildren() ? \"no--children\" : \"\", this.showDragIcon() ? \"with--drag\" : \"hide--drag\", this.showConjs() && (!this.isOneChild() || this.showNot()) ? \"with--conjs\" : \"hide--conjs\")\n      }, this.renderHeaderLeft(), this.renderHeaderCenter(), this.renderActions());\n    }\n  }, {\n    key: \"renderChildrenWrapper\",\n    value: function renderChildrenWrapper() {\n      if (this.isDefaultCase()) return null;\n      // body has 2 columns: condition & value\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"case_group--body\"\n      }, this.renderCondition(), this.renderValue());\n    }\n  }, {\n    key: \"renderHeaderLeft\",\n    value: function renderHeaderLeft() {\n      if (this.isDefaultCase()) {\n        var defaultCaseLabel = this.props.config.settings.defaultCaseLabel;\n        return defaultCaseLabel || \"\";\n      }\n      // default impl:\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"group--conjunctions\"\n      }, this.renderConjs(), this.renderDrag());\n    }\n  }, {\n    key: \"renderCondition\",\n    value: function renderCondition() {\n      if (this.isDefaultCase()) return null;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"renderChildrenWrapper\", this).call(this);\n    }\n  }, {\n    key: \"renderHeaderCenter\",\n    value: function renderHeaderCenter() {\n      if (this.isDefaultCase()) return this.renderValue();else return null;\n    }\n  }, {\n    key: \"canAddGroup\",\n    value: function canAddGroup() {\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"canAddGroup\", this).call(this);\n    }\n  }, {\n    key: \"canAddRule\",\n    value: function canAddRule() {\n      if (this.isDefaultCase()) return false;\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"canAddRule\", this).call(this);\n    }\n  }, {\n    key: \"renderValue\",\n    value: function renderValue() {\n      var _this$props = this.props,\n        config = _this$props.config,\n        isLocked = _this$props.isLocked,\n        value = _this$props.value,\n        setValue = _this$props.setValue,\n        id = _this$props.id;\n      var immutableValuesMode = config.settings.immutableValuesMode;\n      var widget = /*#__PURE__*/React.createElement(Widget, {\n        key: \"values\",\n        isCaseValue: true,\n        field: \"!case_value\",\n        operator: null,\n        value: value,\n        valueSrc: \"value\",\n        valueError: null,\n        config: config,\n        setValue: !immutableValuesMode ? setValue : dummyFn,\n        setValueSrc: dummyFn,\n        readonly: immutableValuesMode || isLocked,\n        id: id,\n        groupId: null\n      });\n      return /*#__PURE__*/React.createElement(Col, {\n        className: \"case_group--value\"\n      }, widget);\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this$props2 = this.props,\n        config = _this$props2.config,\n        addGroup = _this$props2.addGroup,\n        addRule = _this$props2.addRule,\n        isLocked = _this$props2.isLocked,\n        isTrueLocked = _this$props2.isTrueLocked,\n        id = _this$props2.id;\n      return /*#__PURE__*/React.createElement(GroupActions, {\n        config: config,\n        addGroup: addGroup,\n        addRule: addRule,\n        canAddRule: this.canAddRule(),\n        canAddGroup: this.canAddGroup(),\n        canDeleteGroup: this.canDeleteGroup(),\n        removeSelf: this.removeSelf,\n        setLock: this.setLock,\n        isLocked: isLocked,\n        isTrueLocked: isTrueLocked,\n        id: id\n      });\n    }\n  }, {\n    key: \"isEmptyCurrentGroup\",\n    value: function isEmptyCurrentGroup() {\n      // used to confirm self-deletion\n      var value = this.props.value;\n      var oneValue = value && value.size ? value.get(0) : null;\n      var hasValue = oneValue != null && (Array.isArray(oneValue) ? oneValue.length > 0 : true);\n      return _get(_getPrototypeOf(CaseGroup.prototype), \"isEmptyCurrentGroup\", this).call(this) && !hasValue;\n    }\n  }]);\n  return CaseGroup;\n}(BasicGroup);\nCaseGroup.propTypes = _objectSpread(_objectSpread({}, BasicGroup.propTypes), {}, {\n  parentReordableNodesCnt: PropTypes.number,\n  value: PropTypes.any,\n  setValue: PropTypes.func\n});\nexport default GroupContainer(Draggable(\"group case_group\")(ConfirmFn(CaseGroup)));"]},"metadata":{},"sourceType":"module"}