{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{constructOptionList,replaceUpdatedObject,sortData,fillRecordBasedOnCheckBoxSelection,getSameRecordFromTwoArrays,getRecordBasedOnPrimaryKeyName,filterRecordBasedOnPrimaryKeyName,reArrangeArrays,rearrangeDateFormat,convertDateTimetoStringDBFormat}from'../components/CommonScript';import{postCRUDOrganiseTransSearch}from'./ServiceAction';import Axios from'axios';import{checkBoxOperation,transactionStatus}from'../components/Enumeration';import{intl}from'../components/App';export function getRegTypeJobAllocation(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getRegistrationTypeBySampleType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultSampleTypeValue:inputData.defaultSampleTypeValue,realDesignTemplateMappingValue:inputData.realDesignTemplateMappingValue,realDynamicDesignMappingList:inputData.realDynamicDesignMappingList}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getRegSubTypeJobAllocation(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getRegistrationsubTypeByRegType\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultRegTypeValue:inputData.defaultRegTypeValue,realDesignTemplateMappingValue:inputData.realDesignTemplateMappingValue,realDynamicDesignMappingList:inputData.realDynamicDesignMappingList}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getAppConfigVersionJobAllocation(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getApprovalConfigVersionByRegSubType\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputParam.masterData),responseData),{},{defaultRegSubTypeValue:inputParam.masterData.defaultRegSubTypeValue,RegSubTypeValue:inputParam.masterData.realRegSubTypeValue,realDesignTemplateMappingValue:inputParam.inputData.realDesignTemplateMappingValue,realDynamicDesignMappingList:inputParam.inputData.realDynamicDesignMappingList}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSectionJobAllocation(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getTestComboBySection\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultUserSectionValue:inputData.masterData.defaultUserSectionValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getFilterStatusJobAllocation(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getTestComboBySection\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultFilterStatusValue:inputData.masterData.defaultFilterStatusValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getFilterStatusSectionJobAllocation(inputData){return function(dispatch){var testStatusService=rsapi.post(\"joballocation/getFilterStatusByApproveVersion\",inputData);var sectionService=rsapi.post(\"joballocation/getSectionByApproveVersion\",inputData);var urlArray=[];urlArray=[testStatusService,sectionService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{defaultApprovalVersionValue:inputData.masterData.defaultApprovalVersionValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getDesignTemplateJobAllocation(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getDesignTemplateByApprovalConfigVersion\",inputParam).then(function(response){if(response.data[\"Success\"]){toast.warn(response.data.Success);}var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputParam.masterData),responseData),{},{defaultApprovalVersionValue:inputParam.masterData.defaultApprovalVersionValue,ApprovalVersionValue:inputParam.masterData.realApprovalVersionValue,realDesignTemplateMappingValue:inputParam.realDesignTemplateMappingValue,realDynamicDesignMappingList:inputParam.realDynamicDesignMappingList}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getTestStatusJobAllocation(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getFilterStatusByApproveVersion\",inputData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{RegSubTypeValue:inputData.RegSubTypeValue}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}//ALPD-4755-To get previously save filter details when click the filter name,done by Dhanushya RI\nexport function getJobAllcationFilterSubmit(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getJobAllocationDetails\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchSampleRef!==undefined&&inputParam.searchSampleRef.current!==null){inputParam.searchSampleRef.current.value=\"\";masterData['searchedSample']=undefined;}if(inputParam.searchSubSampleRef!==undefined&&inputParam.searchSubSampleRef.current!==null){inputParam.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputParam.searchTestRef!==undefined&&inputParam.searchTestRef.current!==null){inputParam.searchTestRef.current.value=\"\";masterData['searchedTest']=undefined;}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showTest:inputParam.inputData.showTest,activeTestTab:inputParam.inputData.activeTestTab,showFilter:false,sampleskip:0,sampletake:inputParam.sampletake,subsampleskip:0,subsampletake:inputParam.subsampletake,testskip:0,testtake:inputParam.testtake,documentDataState:_objectSpread(_objectSpread({},inputParam.documentDataState),{},{sort:undefined,filter:undefined}),testCommentDataState:_objectSpread(_objectSpread({},inputParam.testCommentDataState),{},{sort:undefined,filter:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function ReceiveinLabStatusWise(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/CreateReceiveinLab\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_SAMPLE\"],inputParam.inputData.masterData.JA_SAMPLE,\"nregistrationsectioncode\");replaceUpdatedObject(response.data[\"JA_SUBSAMPLE\"],inputParam.inputData.masterData.JA_SUBSAMPLE,\"ntransactionsamplecode\");replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");delete response.data[\"JA_SAMPLE\"];delete response.data[\"JA_SUBSAMPLE\"];delete response.data[\"JA_TEST\"];var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{JASelectedSample:replaceUpdatedObject(response.data[\"JASelectedSample\"],inputParam.inputData.masterData.JASelectedSample,\"nregistrationsectioncode\"),JASelectedSubSample:replaceUpdatedObject(response.data[\"JASelectedSubSample\"],inputParam.inputData.masterData.JASelectedSubSample,\"ntransactionsamplecode\"),JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\")});var respObject=_objectSpread(_objectSpread({masterData:masterData},inputParam.inputData),{},{loading:false,loadEsign:false,openModal:false,showSample:undefined});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){//toast.error(error.message); \ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getAllottedTestWise(inputParam,type){return function(dispatch){var urlArray=[];var AllotDetails=rsapi.post(\"joballocation/getAllotDetails\",_objectSpread(_objectSpread({},inputParam.inputData),{},{calenderViewAfterAllot:type}));if(inputParam.inputData.nselecttype===1){var RescheduleEditById=rsapi.post(\"joballocation/getRescheduleEdit\",_objectSpread({\"npreregno\":inputParam.inputData.npreregno,\"ntransactionsamplecode\":inputParam.inputData.ntransactionsamplecode,\"transactiontestcode\":inputParam.inputData.transactiontestcode},inputParam.inputData));urlArray=[AllotDetails,RescheduleEditById];}else{if(type===2){var calenderProperties=rsapi.post(\"joballocation/calenderProperties\",_objectSpread(_objectSpread({},inputParam.inputData),{},{startDate:convertDateTimetoStringDBFormat(new Date(),inputParam.inputData.userinfo)}));urlArray=[AllotDetails,calenderProperties];}else{urlArray=[AllotDetails];}}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};var TechniqueMap=constructOptionList(response[0].data.Technique||[],\"ntechniquecode\",\"stechniquename\",undefined,undefined,false);var Technique=TechniqueMap.get(\"OptionList\");var UsersPeriodMap=constructOptionList(response[0].data.Period||[],\"nuserperiodcode\",\"speriodname\",undefined,undefined,false);var UsersPeriod=UsersPeriodMap.get(\"OptionList\");var InstrumentCategoryMap=constructOptionList(response[0].data.InstrumentCategory||[],\"ninstrumentcatcode\",\"sinstrumentcatname\",undefined,undefined,false);var InstrumentCategory=InstrumentCategoryMap.get(\"OptionList\");var InstrumentNameMap=constructOptionList(response[0].data.InstrumentName||[],\"ninstrumentnamecode\",\"sinstrumentname\",undefined,undefined,false);var InstrumentName=InstrumentNameMap.get(\"OptionList\");var InstrumentIdMap=constructOptionList(response[0].data.InstrumentId||[],\"ninstrumentcode\",\"sinstrumentid\",undefined,undefined,false);var InstrumentId=InstrumentIdMap.get(\"OptionList\");var InstrumentPeriodMap=constructOptionList(response[0].data.Period||[],\"ninstrumentperiodcode\",\"speriodname\",undefined,undefined,false);var InstrumentPeriod=InstrumentPeriodMap.get(\"OptionList\");var SectionPeriodMap=constructOptionList(response[0].data.RescheduleSection||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);var RescheduleSection=SectionPeriodMap.get(\"OptionList\");var currentTime=rearrangeDateFormat(inputParam.inputData.userinfo,response[0].data.CurrentTime.body);var UsersMap=[];var Users=[];if(inputParam.inputData.nselecttype==1&&response[0]&&response[0].data&&response[0].data.Users===undefined){UsersMap=constructOptionList(response[1].data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);Users=UsersMap.get(\"OptionList\");}else{UsersMap=constructOptionList(response[0].data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);Users=UsersMap.get(\"OptionList\");}if(inputParam.inputData.nselecttype===1){var editData=response[1].data.JobAllocation;selectedRecord[\"ninstrumentcatcode\"]={\"value\":editData[\"ninstrumentcategorycode\"],\"label\":editData[\"sinstrumentcatname\"]};editData[\"ninstrumentcategorycode\"]!==-1?selectedRecord[\"ninstrumentnamecode\"]={\"value\":editData[\"ninstrumentnamecode\"],\"label\":editData[\"sinstrumentname\"]}:selectedRecord[\"ninstrumentnamecode\"]=\"\";editData[\"ninstrumentcategorycode\"]!==-1?selectedRecord[\"ninstrumentcode\"]={\"value\":editData[\"ninstrumentcode\"],\"label\":editData[\"sinstrumentid\"]}:selectedRecord[\"ninstrumentcode\"]=\"\";editData[\"ninstrumentcategorycode\"]!==-1?selectedRecord[\"ninstrumentperiodcode\"]={\"value\":editData[\"ninstrumentperiodcode\"],\"label\":editData[\"sinstrumentperiodname\"]}:selectedRecord[\"ninstrumentperiodcode\"]=\"\";editData[\"ninstrumentcategorycode\"]!==-1?selectedRecord[\"dinstblockfromdatetime\"]=rearrangeDateFormat(inputParam.inputData.userinfo,editData.instrumentstartdate):selectedRecord[\"dinstblockfromdatetime\"]=\"\";editData[\"ninstrumentcategorycode\"]!==-1?selectedRecord[\"sinstrumentholdduration\"]=editData.sinstrumentholdduration:selectedRecord[\"sinstrumentholdduration\"]=\"\";selectedRecord[\"scomments\"]=editData.comments;selectedRecord[\"suserholdduration\"]=editData.suserholdduration;selectedRecord[\"duserblockfromdatetime\"]=rearrangeDateFormat(inputParam.inputData.userinfo,editData.userstartdate);editData[\"ntechniquecode\"]!==-1?selectedRecord[\"ntechniquecode\"]={\"value\":editData[\"ntechniquecode\"],\"label\":editData[\"stechniquename\"]}:selectedRecord[\"ntechniquecode\"]=\"\";selectedRecord[\"nusercode\"]={\"value\":editData[\"nusercode\"],\"label\":editData[\"susername\"]};selectedRecord[\"nuserperiodcode\"]={\"value\":editData[\"nuserperiodcode\"],\"label\":editData[\"suserperiodname\"]};selectedRecord[\"nsectioncode\"]={\"value\":editData[\"nsectioncode\"],\"label\":editData[\"ssectionname\"]};selectedRecord=_objectSpread({},selectedRecord);}else if(type!==2){selectedRecord[\"scomments\"]=\"\";selectedRecord[\"suserholdduration\"]=\"\";selectedRecord[\"sinstrumentholdduration\"]=\"\";selectedRecord[\"duserblockfromdatetime\"]=new Date();}//Added by sonia on 8th Aug 2024 for JIRA ID:ALPD-4563\n//if(inputParam.inputData.controlAction ===3){\nif(inputParam.inputData.operation===\"Reschedule\"&&inputParam.inputData.nselecttype===2){selectedRecord[\"nsectioncode\"]={\"value\":response[0].data.RescheduleSection[0][\"nsectioncode\"],\"label\":response[0].data.RescheduleSection[0][\"ssectionname\"]};}//}\nvar calenderProperties=[];var calenderColor=[];var calenderCommonHolidays1={};var calenderPublicHolidays=[];var calenderUserHolidays=[];if(type===2){calenderProperties=response[1].data.calenderSettings;calenderColor=response[1].data.calenderColor;calenderPublicHolidays=response[1].data.calenderPublicHolidays||[];calenderCommonHolidays1=response[1].data.calenderCommonHolidays.length>0?response[1].data.calenderCommonHolidays[0]:{};calenderPublicHolidays=calenderPublicHolidays.map(function(dataItem,i){return{start:new Date(dataItem.dcalenderholidaystartdate),end:new Date(dataItem.dcalenderholidayenddate),title:dataItem.sdescription,id:dataItem.id?dataItem.id:i,startTimezone:dataItem.startTimezone,endTimezone:dataItem.endTimezone,description:dataItem.sdescription,Instrument:dataItem.ninstrumentcode&&dataItem.ninstrumentcode,InstrumentCategory:dataItem.ninstrumentcatcode&&dataItem.ninstrumentcatcode,isCalenderHolidays:true,color:\"#babaff\",startDateor:convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidaystartdate),inputParam.inputData.userinfo),endDateor:convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidayenddate),inputParam.inputData.userinfo),stestsynonym:\"-\",ntransactionstatus:-1,stransdisplaystatus:\"-\"};});//     calenderUserHolidays = calenderUserHolidays.map((dataItem, i) => {\n//         return {\n//             start: new Date(dataItem.dcalenderholidaystartdate),\n//             end: new Date(dataItem.dcalenderholidayenddate),\n//             title: dataItem.sdescription,\n//             id: dataItem.id ? dataItem.id : i,\n//             startTimezone: dataItem.startTimezone,\n//             endTimezone: dataItem.endTimezone,\n//             description:  dataItem.sdescription,\n//             Instrument: dataItem.ninstrumentcode && dataItem.ninstrumentcode,\n//             InstrumentCategory: dataItem.ninstrumentcatcode && dataItem.ninstrumentcatcode,\n//             isCalenderHolidays: true,\n//             color: \"#babaff\",\n//             startDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidaystartdate), inputParam.inputData.userinfo),\n//             endDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidayenddate), inputParam.inputData.userinfo),\n//             stestsynonym: \"-\",\n//             ntransactionstatus: -1,\n//             stransdisplaystatus:\"-\",\n//         }\n//     });\n}dispatch({type:DEFAULT_RETURN,payload:{Technique:Technique,Users:Users,UsersPeriod:UsersPeriod,InstrumentCategory:InstrumentCategory,InstrumentName:InstrumentName,InstrumentId:InstrumentId,InstrumentPeriod:InstrumentPeriod,currentTime:currentTime,selectedRecord:selectedRecord,openModal:true,isOpen:true,operation:inputParam.inputData.operation,screenName:inputParam.inputData.screenName,ncontrolCode:inputParam.inputData.ncontrolcode,loading:false,calenderProperties:calenderProperties,calenderColor:calenderColor,calenderPublicHolidays:calenderPublicHolidays,holidaydateRestrict:calenderProperties.filter(function(x){return x.ncalendersettingcode===65;}).length>0?calenderProperties.filter(function(x){return x.ncalendersettingcode===65;})[0][\"scalendersettingvalue\"]===\"3\"?true:false:true,personalLeaveRestrict:calenderProperties.filter(function(x){return x.ncalendersettingcode===66;}).length>0?calenderProperties.filter(function(x){return x.ncalendersettingcode===66;})[0][\"scalendersettingvalue\"]===\"3\"?true:false:true,calenderUserHolidays:calenderUserHolidays,calenderCommonHolidays1:calenderCommonHolidays1,commonHolidaydateRestrict:calenderProperties.filter(function(x){return x.ncalendersettingcode===67;}).length>0?calenderProperties.filter(function(x){return x.ncalendersettingcode===67;})[0][\"scalendersettingvalue\"]===\"3\"?true:false:true,RescheduleSection:RescheduleSection}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getAllotAnotherUserTestWise(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getAllotAnotherUserDetails\",inputParam.inputData).then(function(response){var UsersMap=constructOptionList(response.data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);var UsersPeriodMap=constructOptionList(response.data.Period||[],\"nuserperiodcode\",\"speriodname\",undefined,undefined,false);var Users=UsersMap.get(\"OptionList\");var UsersPeriod=UsersPeriodMap.get(\"OptionList\");var currentTime=rearrangeDateFormat(inputParam.inputData.userinfo,response.data.CurrentTime.body);var Technique=response.data.Technique&&response.data.Technique[0].stechniquename;var TechniqueCode=response.data.Technique&&response.data.Technique[0].ntechniquecode;var selectedRecord={};selectedRecord[\"scomments\"]=\"\";selectedRecord[\"suserholdduration\"]=\"\";selectedRecord[\"sinstrumentholdduration\"]=\"\";selectedRecord[\"duserblockfromdatetime\"]=new Date();dispatch({type:DEFAULT_RETURN,payload:{Technique:Technique,TechniqueCode:TechniqueCode,Users:Users,UsersPeriod:UsersPeriod,currentTime:currentTime,selectedRecord:selectedRecord,isOpen:true,operation:inputParam.inputData.operation,screenName:inputParam.inputData.screenName,openModal:true,ncontrolCode:inputParam.inputData.ncontrolcode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getInstrumentName(ninstrumentcatcode,ncalibrationreq,userInfo,selectedRecord){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getInstrumentNameBasedCategory\",{\"ninstrumentcatcode\":ninstrumentcatcode,\"ncalibrationreq\":ncalibrationreq,\"userinfo\":userInfo}).then(function(response){var InstrumentName=[];var InstrumentNameMap=constructOptionList(response.data.InstrumentName||[],\"ninstrumentnamecode\",\"sinstrumentname\",undefined,undefined,false);InstrumentName=InstrumentNameMap.get(\"OptionList\");selectedRecord[\"ninstrumentnamecode\"]=\"\";if(ninstrumentcatcode!==transactionStatus.NA){selectedRecord[\"dinstblockfromdatetime\"]=new Date();}else{selectedRecord[\"dinstblockfromdatetime\"]=\"\";}dispatch({type:DEFAULT_RETURN,payload:{InstrumentName:InstrumentName,selectedRecord:selectedRecord,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getInstrumentId(ninstrumentcatcode,ninstrumentnamecode,ncalibrationreq,userInfo,selectedRecord){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getInstrumentIdBasedCategory\",{\"ninstrumentcatcode\":ninstrumentcatcode,\"ninstrumentnamecode\":ninstrumentnamecode,\"ncalibrationreq\":ncalibrationreq,\"userinfo\":userInfo}).then(function(response){var InstrumentId=[];var InstrumentIdMap=constructOptionList(response.data.InstrumentId||[],\"ninstrumentcode\",\"sinstrumentid\",undefined,undefined,false);InstrumentId=InstrumentIdMap.get(\"OptionList\");selectedRecord[\"ninstrumentcode\"]=\"\";// if (ninstrumentcatcode !== transactionStatus.NA) {\n//     selectedRecord[\"dinstblockfromdatetime\"] = new Date();\n// } else {\n//     selectedRecord[\"dinstblockfromdatetime\"] = \"\";\n// }\ndispatch({type:DEFAULT_RETURN,payload:{InstrumentId:InstrumentId,selectedRecord:selectedRecord,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getUsers(ntechniquecode,JASelectedTest,userInfo,selectedRecord,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getUsersBasedTechnique\",{\"ntechniquecode\":ntechniquecode,//  \"ssectioncode\": JASelectedTest.JASelectedSample ? JASelectedTest.JASelectedSample.map(sample => sample.nsectioncode).join(\",\") : \"\",\n\"ssectioncode\":selectedRecord[\"nsectioncode\"]?selectedRecord[\"nsectioncode\"].value.toString():JASelectedTest.JASelectedSample?JASelectedTest.JASelectedSample.map(function(sample){return sample.nsectioncode;}).join(\",\"):\"\",\"nregtypecode\":JASelectedTest.realRegTypeValue.nregtypecode,\"nregsubtypecode\":JASelectedTest.realRegSubTypeValue.nregsubtypecode,\"userinfo\":userInfo}).then(function(response){var Users=[];var UsersMap=constructOptionList(response.data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);Users=UsersMap.get(\"OptionList\");selectedRecord[\"nusercode\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{// masterData:{...masterData},\nUsers:Users,selectedRecord:selectedRecord,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function ViewAnalystCalendar(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/viewAnalystCalendar\",inputParam.inputData).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);var Users=[];var UsersMap=constructOptionList(response.data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);Users=UsersMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{Users:Users,screenName:inputParam.inputData.screenName,loading:false,openModal:true,masterData:masterData}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function CancelTestWise(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/cancelTest\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");delete response.data[\"JA_TEST\"];fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData,response.data,[\"TestView\"],3,\"ntransactiontestcode\",[]);var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\"),TestView:inputParam.inputData.masterData.TestView});var respObject=_objectSpread(_objectSpread({masterData:masterData},inputParam.inputData),{},{loading:false,loadEsign:false,openModal:false,showSample:undefined});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function AllotJobAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/AllotJobCreate\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");delete response.data[\"JA_TEST\"];var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\"),TestView:replaceUpdatedObject(response.data[\"TestView\"],inputParam.inputData.masterData.TestView,\"ntransactiontestcode\")});var respObject=_objectSpread(_objectSpread({},inputParam.inputData),{},{masterData:masterData,loading:false,loadEsign:false,openModal:false,showSample:undefined});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function AllotAnotherUserAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/AllotAnotherUserCreate\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");delete response.data[\"JA_TEST\"];fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData,response.data,[\"TestView\"],3,\"ntransactiontestcode\",[]);var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\"),TestView:inputParam.inputData.masterData.TestView});var respObject=_objectSpread(_objectSpread({masterData:masterData},inputParam.inputData),{},{loading:false,loadEsign:false,openModal:false,showSample:undefined});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function RescheduleJobAction(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/RescheduleCreate\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");if(parseInt(inputParam.inputData.nsectioncode)===parseInt(inputParam.inputData.nfiltersectioncode)){delete response.data[\"JA_TEST\"];}fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData,response.data,[\"TestView\"],3,\"ntransactiontestcode\",[]);var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{TestView:inputParam.inputData.masterData.TestView});var UserSection=[];var UserSectionMap=constructOptionList(response.data.UserSection||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);UserSection=UserSectionMap.get(\"OptionList\");if(parseInt(inputParam.inputData.nsectioncode)===parseInt(inputParam.inputData.nfiltersectioncode)){masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\")});}var respObject=_objectSpread(_objectSpread({UserSection:UserSection},inputParam.inputData),{},{loading:false,loadEsign:false,openModal:false,showSample:undefined});respObject=_objectSpread(_objectSpread({},respObject),{},{masterData:masterData});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function getJobAllocationSubSampleDetail(inputData,isServiceRequired){return function(dispatch){//console.log(\"response :\");\nvar arr=[];// const vals= inputData.JASelectedSample && inputData.JASelectedSample.filter(\n// (item,index) => \n// item.nsectioncode!==inputData.JASelectedSample[inputData.JASelectedSample.lastIndexOf(inputData.JASelectedSample[index])].nsectioncode\n// );\ninputData.JASelectedSample&&inputData.JASelectedSample.map(function(item){if(!arr.includes(item.nsectioncode)){arr.push(item.nsectioncode);}});var inputParamData={nsampletypecode:inputData.nsampletypecode,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,npreregno:inputData.JASelectedSample&&inputData.JASelectedSample.map(function(sample){return sample.npreregno;}).join(\",\"),nregistrationsectioncode:inputData.nregistrationsectioncode,// ssectioncode : inputData.JASelectedSample && inputData.JASelectedSample.map(sample => sample.nsectioncode).join(\",\"),\nnsectioncode:arr.map(function(item){return item;}).join(\",\"),ntransactionstatus:String(inputData.ntransactionstatus),ntransactiontestcode:\"0\",userinfo:inputData.userinfo,ntestcode:inputData.ntestcode,napprovalversioncode:inputData.napprovalversioncode,fromdate:inputData.fromdate,todate:inputData.todate,activeTestTab:inputData.activeTestTab,activeSampleTab:inputData.activeSampleTab,activeSubSampleTab:inputData.activeSubSampleTab,nneedsubsample:inputData.masterData.realRegSubTypeValue.nneedsubsample,ndesigntemplatemappingcode:inputData.ndesigntemplatemappingcode,nneedtemplatebasedflow:inputData.masterData.realRegSubTypeValue.nneedtemplatebasedflow,checkBoxOperation:inputData.checkBoxOperation};var activeName=\"\";var dataStateName=\"\";dispatch(initRequest(true));if(isServiceRequired){rsapi.post(\"joballocation/getJobAllocationSubSampleDetails\",_objectSpread(_objectSpread({},inputParamData),{},{checkBoxOperation:inputData.checkBoxOperation})).then(function(response){if(response.data['JA_TEST']&&response.data['JA_TEST'].length===0){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_TESTISNOTAVAILABLE\"}));}else{var responseData=_objectSpread({},response.data);responseData=sortData(responseData,'descending','ntransactionsamplecode');// sortData(response.data);\nvar oldSelectedTest=inputData.masterData.JASelectedTest;var oldSelectedSubSample=inputData.masterData.JASelectedSubSample;fillRecordBasedOnCheckBoxSelection(inputData.masterData,response.data,inputData.childTabsKey,inputData.checkBoxOperation,\"nregistrationsectioncode\",inputData.removeElementFromArray);// inputData.masterData.JA_SUBSAMPLE = response.data.JA_SUBSAMPLE;  \n// inputData.masterData.JASelectedSubSample=response.data.JASelectedSubSample;\n// inputData.masterData.JA_TEST = response.data.JA_TEST;  \n// inputData.masterData.JASelectedTest=response.data.JASelectedTest;\n// inputData.masterData.RegistrationAttachment =response.data.RegistrationAttachment;\n// inputData.masterData.RegistrationSampleAttachment =response.data.RegistrationSampleAttachment;\n// inputData.masterData.RegistrationComment =response.data.RegistrationComment;\n// inputData.masterData.RegistrationSampleComment =response.data.RegistrationSampleComment;\nvar masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedTest:inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[],JASelectedSample:inputData.JASelectedSample});if(inputData.searchSubSampleRef!==undefined&&inputData.searchSubSampleRef.current!==null){inputData.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputData.searchTestRef!==undefined&&inputData.searchTestRef.current!==null){inputData.searchTestRef.current.value=\"\";masterData['searchedTest']=undefined;}var _inputData=inputData,testskip=_inputData.testskip,testtake=_inputData.testtake,subsampleskip=_inputData.subsampleskip,subsampletake=_inputData.subsampletake,sampleskip=_inputData.sampleskip,sampletake=_inputData.sampletake;// let bool = false;\n// Commented bool value because no need to check bool condition to update skipInfo value.\nvar skipInfo={};// if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\ntestskip=0;//     bool = true\n// }\nsubsampleskip=0;// bool = true\n// if (bool) {\nskipInfo={testskip:testskip,testtake:testtake,subsampleskip:subsampleskip,subsampletake:subsampletake,sampleskip:sampleskip,sampletake:sampletake};// }\nvar RegistrationTestAttachment=[];var RegistrationTestComment=[];var TestView=[];var RegistrationComment=[];var RegistrationSampleAttachment=[];//if (inputData.checkBoxOperation === 1) {\nif(inputData.checkBoxOperation===checkBoxOperation.MULTISELECT){var wholeSubSampleList=masterData.JA_SUBSAMPLE.map(function(b){return b.ntransactionsamplecode;});oldSelectedSubSample=oldSelectedSubSample.filter(function(item){return wholeSubSampleList.includes(item.ntransactionsamplecode);});//ALPD-3398\n// oldSelectedSubSample.forEach((subsample, index) => {\n//     if (!wholeSubSampleList.includes(subsample.ntransactionsamplecode)) {\n//         oldSelectedSubSample.splice(index, 1)\n//     }\n// })\nif(oldSelectedSubSample.length>0){masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedSubSample:oldSelectedSubSample});}var wholeTestList=masterData.JA_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest=oldSelectedTest.filter(function(item){return wholeTestList.includes(item.ntransactiontestcode);});//ALPD-3398\n// oldSelectedTest.map((test, index) => {\n//     if (!wholeTestList.includes(test.ntransactiontestcode)) {\n//         oldSelectedTest.splice(index, 1)\n//     }\n//     return null;\n// })\nvar keepOld=false;var ntransactiontestcode;var npreregno;if(oldSelectedTest.length>0){keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:oldSelectedTest});}else{ntransactiontestcode=masterData.JASelectedTest[0].ntransactiontestcode;npreregno=masterData.JASelectedSample[0].npreregno;}switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;case\"IDS_TESTCOMMENTS\":RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_TESTVIEW\":TestView=keepOld?inputData.masterData.TestView:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"TestView\";dataStateName=\"testViewDataState\";break;default:RegistrationComment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment,ntransactiontestcode,\"npreregno\");activeName=\"RegistrationTestAttachment\";dataStateName=\" testAttachmentDataState\";break;}// } else if (inputData.checkBoxOperation === 5) {\n}else if(inputData.checkBoxOperation===checkBoxOperation.QUICKSELECTSTATUS){var list=[];var dbData=[];switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":dbData=response.data.RegistrationTestAttachment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTCOMMENTS\":dbData=response.data.RegistrationTestComment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestComment),_toConsumableArray(dbData));RegistrationTestComment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTVIEW\":dbData=response.data.TestView||[];list=[].concat(_toConsumableArray(inputData.masterData.TestView),_toConsumableArray(dbData));TestView=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_SAMPLECOMMENTS\":dbData=response.data.RegistrationComment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationComment),_toConsumableArray(dbData));RegistrationComment=getRecordBasedOnPrimaryKeyName(list,inputData.JASelectedSample.length>0?inputData.JASelectedSample[0].npreregno:\"\",\"npreregno\");break;default:dbData=response.data.RegistrationTestAttachment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;}}//else if (inputData.checkBoxOperation === 7) {\nelse if(inputData.checkBoxOperation===checkBoxOperation.QUICKSELECTALL){var _list=[];switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":_list=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;case\"IDS_TESTCOMMENTS\":_list=response.data.RegistrationTestComment?sortData(response.data.RegistrationTestComment,'descending','ntestcommentcode'):[];RegistrationTestComment=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_TESTVIEW\":_list=response.data.TestView?sortData(response.data.TestView,'descending','ntransactiontestcode'):[];TestView=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"TestView\";dataStateName=\"testViewDataState\";break;case\"IDS_SAMPLECOMMENTS\":RegistrationComment=response.data.RegistrationComment?_toConsumableArray(response.data.RegistrationComment):[];activeName=\"RegistrationComment\";dataStateName=\"sampleCommentsDataState\";break;default:_list=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;}}else{var _list2=[];if(!inputData.masterData.realRegSubTypeValue.nneedsubsample){var _wholeTestList=masterData.JA_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest=oldSelectedTest.filter(function(item){return _wholeTestList.includes(item.ntransactiontestcode);});//ALPD-3398\n// oldSelectedTest.map((test, index) => {\n//     if (!wholeTestList.includes(test.ntransactiontestcode)) {\n//         oldSelectedTest.splice(index, 1)\n//     }\n//     return null;\n// })\nvar _keepOld=false;var _ntransactiontestcode;if(oldSelectedTest.length>0){_keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:oldSelectedTest});}else{_ntransactiontestcode=masterData.JASelectedTest[0].ntransactiontestcode;}}switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":_list2=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list2,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;case\"IDS_TESTCOMMENTS\":_list2=response.data.RegistrationTestComment?sortData(response.data.RegistrationTestComment,'descending','ntestcommentcode'):[];RegistrationTestComment=getRecordBasedOnPrimaryKeyName(_list2,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_TESTVIEW\":_list2=response.data.TestView?sortData(response.data.TestView,'descending','ntransactiontestcode'):[];TestView=getRecordBasedOnPrimaryKeyName(_list2,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"TestView\";dataStateName=\"testViewDataState\";break;case\"IDS_SAMPLECOMMENTS\":_list2=response.data.RegistrationComment?sortData(response.data.RegistrationComment,'descending','nregcommentcode'):[];RegistrationComment=getRecordBasedOnPrimaryKeyName(_list2,inputData.JASelectedSample.length>0?inputData.JASelectedSample[0].npreregno:\"\",\"npreregno\");activeName=\"RegistrationComment\";dataStateName=\"sampleChangeDataState\";break;case\"IDS_SUBSAMPLEATTACHMENTS\":_list2=response.data.RegistrationSampleAttachment?sortData(response.data.RegistrationSampleAttachment,'descending','nsampleattachmentcode'):[];RegistrationSampleAttachment=getRecordBasedOnPrimaryKeyName(_list2,inputData.masterData.JASelectedSubSample.length>0?inputData.masterData.JASelectedSubSample[0].ntransactionsamplecode:\"\",\"ntransactionsamplecode\");activeName=\"RegistrationSampleAttachment\";dataStateName=\"subsampleAttachmentDataState\";break;default:_list2=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list2,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;}}masterData=_objectSpread(_objectSpread({},masterData),{},{RegistrationTestAttachment:RegistrationTestAttachment,RegistrationTestComment:RegistrationTestComment,TestView:TestView,RegistrationComment:RegistrationComment,RegistrationSampleAttachment:RegistrationSampleAttachment});if(inputData[dataStateName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined})));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({masterData:masterData,secondarySelection:inputData[\"secondarySelection\"],loading:false},skipInfo),{},{activeTabIndex:inputData.activeTabIndex})});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{var oldSelectedTest=inputData.masterData.JASelectedTest;var oldSelectedSubSample=inputData.masterData.JASelectedSubSample;var _inputData2=inputData,subsampletake=_inputData2.subsampletake,subsampleskip=_inputData2.subsampleskip;var skipInfo={};var TestSelected=[];var subSampleSelected=[];if(inputData[\"statusNone\"]){TestSelected=getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest,inputData.removeElementFromArray[0].nregistrationsectioncode,\"nregistrationsectioncode\");subSampleSelected=getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample,inputData.removeElementFromArray[0].nregistrationsectioncode,\"nregistrationsectioncode\");}else{TestSelected=filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest,inputData.removeElementFromArray[0].nregistrationsectioncode,\"nregistrationsectioncode\");subSampleSelected=filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample,inputData.removeElementFromArray[0].nregistrationsectioncode,\"nregistrationsectioncode\");}var isGrandChildGetRequired=false;if(TestSelected.length>0){isGrandChildGetRequired=false;}else{isGrandChildGetRequired=true;}fillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.JASelectedSample,inputData.childTabsKey,inputData.checkBoxOperation,\"nregistrationsectioncode\",inputData.removeElementFromArray);if(isGrandChildGetRequired){var ntransactiontestcode=inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode.toString():\"\";var JASelectedSample=inputData.JASelectedSample;var JASelectedTest=inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[];var JASelectedSubSample=inputData.masterData.JA_SUBSAMPLE;if(inputData.masterData.realRegSubTypeValue.nneedsubsample){var filterSelectedSubSample=getSameRecordFromTwoArrays(oldSelectedSubSample,inputData.masterData.JA_SUBSAMPLE,\"ntransactionsamplecode\");JASelectedSubSample=filterSelectedSubSample.length>0?filterSelectedSubSample:[inputData.masterData.JA_SUBSAMPLE[0]];if(inputData.masterData.JA_SUBSAMPLE.length<=inputData.subsampleskip){subsampleskip=0;skipInfo={subsampletake:subsampletake,subsampleskip:subsampleskip};}}var ntransactionsamplecode=JASelectedSubSample.map(function(subsample){return subsample.ntransactionsamplecode;}).join(',');var npreregno=inputData.JASelectedSample&&inputData.JASelectedSample.map(function(sample){return sample.npreregno;}).join(',');var nsectioncode=inputData.JASelectedSample&&inputData.JASelectedSample.map(function(sample){return sample.nsectioncode;}).join(',');var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedSample:JASelectedSample,JASelectedSubSample:JASelectedSubSample,JASelectedTest:JASelectedTest});inputData=_objectSpread(_objectSpread({},inputData),{},{ntransactiontestcode:ntransactiontestcode,npreregno:npreregno,nsectioncode:nsectioncode,ntransactionsamplecode:ntransactionsamplecode,JASelectedSample:JASelectedSample,JASelectedTest:JASelectedTest,JASelectedSubSample:JASelectedSubSample,//  checkBoxOperation: 3,\ncheckBoxOperation:checkBoxOperation.SINGLESELECT,activeTestTab:inputData.activeTestTab,masterData:masterData});if(JASelectedTest.length>0){inputData=_objectSpread(_objectSpread({},inputData),{},{childTabsKey:[\"RegistrationTestAttachment\",\"RegistrationTestComment\",\"TestView\"]});dispatch(getTestChildTabDetailJobAllocation(inputData,true));}else{inputData=_objectSpread(_objectSpread({},inputData),{},{masterData:masterData,childTabsKey:[\"JA_TEST\"]});dispatch(getJobAllocationTestDetail(inputData,true));}}else{var _masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedTest:TestSelected?TestSelected:inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[],JASelectedSample:inputData.JASelectedSample,JASelectedSubSample:subSampleSelected?subSampleSelected:inputData.masterData.JA_SUBSAMPLE.length>0?[inputData.masterData.JA_SUBSAMPLE[0]]:[]});var subsamplecheck=true;if(inputData.masterData.realRegSubTypeValue.nneedsubsample){var SubSampleSelected=getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample,inputData.removeElementFromArray[0].npreregno,\"npreregno\");if(SubSampleSelected.length>0){var _filterSelectedSubSample=getSameRecordFromTwoArrays(oldSelectedSubSample,inputData.masterData.JA_SUBSAMPLE,\"ntransactionsamplecode\");if(_filterSelectedSubSample.length===0){var wholeSubSample=_masterData.JA_SUBSAMPLE.map(function(b){return b.ntransactionsamplecode;});oldSelectedSubSample=oldSelectedSubSample.filter(function(item){return wholeSubSample.includes(item.ntransactionsamplecode);});//ALPD-3398\n// oldSelectedSubSample.forEach((test, index) => {\n//     if (!wholeSubSample.includes(test.ntransactionsamplecode)) {\n//         oldSelectedSubSample.splice(index, 1)\n//     }\n//     return null;\n// })\nif(oldSelectedSubSample.length===0&&wholeSubSample.length>0&&_masterData.selectedTest.length===0){var selectedSubSample1=[inputData.masterData.JA_SUBSAMPLE[0]];_masterData=_objectSpread(_objectSpread({},_masterData),{},{JASelectedSubSample:selectedSubSample1,selectedTest:[]});inputData=_objectSpread(_objectSpread({},inputData),_masterData);inputData[\"npreregno\"]=selectedSubSample1.map(function(x){return x.npreregno;}).join(\",\");inputData[\"ntransactionsamplecode\"]=selectedSubSample1.map(function(x){return x.ntransactionsamplecode;}).join(\",\");//inputData[\"checkBoxOperation\"] = 3\ninputData[\" checkBoxOperation\"]=checkBoxOperation.SINGLESELECT;inputData[\"childTabsKey\"]=[\"JA_TEST\"];subsamplecheck=false;dispatch(getJobAllocationTestDetail(inputData,true));}}else{oldSelectedSubSample=_filterSelectedSubSample;}}else{var _wholeSubSample=_masterData.JA_SUBSAMPLE.map(function(b){return b.ntransactionsamplecode;});oldSelectedSubSample=oldSelectedSubSample.filter(function(item){return _wholeSubSample.includes(item.ntransactionsamplecode);});//ALPD-3398\n// oldSelectedSubSample.forEach((test, index) => {\n//     if (!wholeSubSample.includes(test.ntransactionsamplecode)) {\n//         oldSelectedSubSample.splice(index, 1)\n//     }\n//     return null;\n// })\n}if(subsamplecheck){_masterData=_objectSpread(_objectSpread({},_masterData),{},{JASelectedSubSample:oldSelectedSubSample});}if(inputData.masterData.JA_SUBSAMPLE.length<=inputData.subsampleskip){subsampleskip=0;_skipInfo={subsampleskip:subsampleskip,subsampletake:subsampletake};}}var wholeTestList=_masterData.JA_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest=oldSelectedTest.filter(function(item){return wholeTestList.includes(item.ntransactiontestcode);});//ALPD-3398         \n// oldSelectedTest.map((test, index) => {\n//     if (!wholeTestList.includes(test.ntransactiontestcode)) {\n//         oldSelectedTest.splice(index, 1)\n//     }\n//     return null;\n// })\nvar keepOld=false;var _ntransactiontestcode2;if(oldSelectedTest.length>0){keepOld=true;_masterData=_objectSpread(_objectSpread({},_masterData),{},{JASelectedTest:oldSelectedTest});}else{_ntransactiontestcode2=inputData.masterData.JA_TEST[0].ntransactiontestcode;}var RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment||[],_ntransactiontestcode2,\"ntransactiontestcode\");var RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment||[],_ntransactiontestcode2,\"ntransactiontestcode\");var TestView=keepOld?inputData.masterData.TestView:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView||[],_ntransactiontestcode2,\"ntransactiontestcode\");var _inputData3=inputData,testskip=_inputData3.testskip,testtake=_inputData3.testtake;var bool=false;var _skipInfo={};if(inputData.masterData.JA_TEST.length<=inputData.testskip){testskip=0;bool=true;}if(bool){_skipInfo={testskip:testskip,testtake:testtake};}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:_objectSpread(_objectSpread({},_masterData),{},{JASelectedSample:inputData.JASelectedSample,RegistrationTestAttachment:RegistrationTestAttachment,RegistrationTestComment:RegistrationTestComment,TestView:TestView}),loading:false,showFilter:false,activeSampleTab:inputData.activeSampleTab,activeTestTab:inputData.activeTestTab},_skipInfo)});}}};}export function getJobAllocationTestDetail(inputData,isServiceRequired){return function(dispatch){//console.log(\"response :\");\nvar arr=[];var arr1=[];// const vals= inputData.JASelectedSample && inputData.JASelectedSample.filter(\n// (item,index) => \n// item.nsectioncode!==inputData.JASelectedSample[inputData.JASelectedSample.lastIndexOf(inputData.JASelectedSample[index])].nsectioncode\n// );\n//   const myArray = inputData.nsectioncode.split(\",\");\n//   myArray.map((item) => {\n//         if(!arr.includes(item)) {\n//             arr.push(item)\n//           }\n//         }\n//     )\nvar JASelectedSubSample=inputData.JASelectedSubSample;JASelectedSubSample&&JASelectedSubSample.map(function(item){if(!arr.includes(item.nsectioncode)){arr.push(item.nsectioncode);}});var activeName=\"\";var dataStateName=\"\";var inputParamData={nflag:3,ntype:3,nsampletypecode:inputData.nsampletypecode,nregtypecode:inputData.nregtypecode,nregsubtypecode:inputData.nregsubtypecode,npreregno:inputData.npreregno,nsectioncode:arr.map(function(nsectioncode){return nsectioncode;}).join(\",\"),ntransactiontestcode:\"0\",ntransactionstatus:inputData.ntransactionstatus.toString(),ntransactionsamplecode:inputData.ntransactionsamplecode,userinfo:inputData.userinfo,ntestcode:inputData.ntestcode,activeTestTab:inputData.activeTestTab,ndesigntemplatemappingcode:inputData.ndesigntemplatemappingcode,checkBoxOperation:inputData.checkBoxOperation,nneedsubsample:inputData.nneedsubsample};var subSample=inputData.nneedsubsample;if(isServiceRequired){dispatch(initRequest(true));rsapi.post(\"joballocation/getJobAllocationTestDetails\",inputParamData).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData,'descending','ntransactionsamplecode');var oldSelectedTest=inputData.masterData.JASelectedTest;var oldSelectedSubSample=inputData.masterData.JASelectedSubSample||[];fillRecordBasedOnCheckBoxSelection(inputData.masterData,response.data,inputData.childTabsKey,inputData.checkBoxOperation,\"ntransactionsamplecode\",inputData.removeElementFromArray);//inputData.masterData.JA_TEST = response.data.JA_TEST;\nvar masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedTest:inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[],JASelectedSample:inputData.masterData.JASelectedSample,JASelectedSubSample:inputData.JASelectedSubSample||inputData.masterData.JASelectedSubSample});if(inputData.searchSubSampleRef!==undefined&&inputData.searchSubSampleRef.current!==null){inputData.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputData.searchTestRef!==undefined&&inputData.searchTestRef.current!==null){inputData.searchTestRef.current.value=\"\";masterData['searchedTests']=undefined;}var _inputData4=inputData,testskip=_inputData4.testskip,testtake=_inputData4.testtake;// let bool = false;\n// Commented bool value because no need to check bool condition to update skipInfo value.\nvar skipInfo={};// if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\ntestskip=0;// bool = true\n// }\n// if (bool) {\nskipInfo={testskip:testskip,testtake:testtake};// }\nvar RegistrationTestAttachment=[];var RegistrationTestComment=[];var TestView=[];var RegistrationSampleComment=[];var RegistrationSampleAttachment=[];//if (inputData.checkBoxOperation === 1) {\nif(inputData.checkBoxOperation===checkBoxOperation.MULTISELECT){var wholeTestList=masterData.JA_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest=oldSelectedTest.filter(function(item){return wholeTestList.includes(item.ntransactiontestcode);});//ALPD-3398\n// oldSelectedTest.map((test, index) => {\n//     if (!wholeTestList.includes(test.ntransactiontestcode)) {\n//         oldSelectedTest.splice(index, 1)\n//     }\n//     return null;\n// })\nvar keepOld=false;var ntransactiontestcode;if(oldSelectedTest.length>0){keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:oldSelectedTest});}else{ntransactiontestcode=masterData.JASelectedTest[0].ntransactiontestcode;}switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;case\"IDS_TESTCOMMENTS\":RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_TESTVIEW\":TestView=keepOld?inputData.masterData.TestView:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"TestView\";dataStateName=\"testViewDataState\";break;default:RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment,ntransactiontestcode,\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;}//} else if (inputData.checkBoxOperation === 5) {\n}else if(inputData.checkBoxOperation===checkBoxOperation.QUICKSELECTSTATUS){var list=[];var dbData=[];switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":dbData=response.data.RegistrationTestAttachment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTVIEW\":dbData=response.data.TestView||[];list=[].concat(_toConsumableArray(inputData.masterData.TestView),_toConsumableArray(dbData));TestView=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTCOMMENTS\":dbData=response.data.RegistrationTestComment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestComment),_toConsumableArray(dbData));RegistrationTestComment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;default:dbData=response.data.RegistrationTestAttachment||[];list=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(list,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;}// } else if (inputData.checkBoxOperation === 7) {\n}else if(inputData.checkBoxOperation===checkBoxOperation.QUICKSELECTALL){var _list3=[];var _dbData=[];var testList=reArrangeArrays(inputData.masterData.JA_SUBSAMPLE,responseData.JA_TEST,\"ntransactionsamplecode\");masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:[testList[0]],JA_TEST:testList});switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":_dbData=response.data.RegistrationTestAttachment||[];_list3=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(_dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list3,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;case\"IDS_TESTVIEW\":_dbData=response.data.TestView||[];_list3=[].concat(_toConsumableArray(inputData.masterData.TestView),_toConsumableArray(_dbData));TestView=getRecordBasedOnPrimaryKeyName(_list3,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;default:_dbData=response.data.RegistrationTestAttachment||[];_list3=[].concat(_toConsumableArray(inputData.masterData.RegistrationTestAttachment),_toConsumableArray(_dbData));RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list3,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");break;}}else{var _list4=[];switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":_list4=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list4,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentState\";break;case\"IDS_TESTCOMMENTS\":_list4=response.data.RegistrationTestComment?sortData(response.data.RegistrationTestComment,'descending','ntestcommentcode'):[];RegistrationTestComment=getRecordBasedOnPrimaryKeyName(_list4,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_TESTVIEW\":_list4=response.data.TestView?sortData(response.data.TestView,'descending','ntransactiontestcode'):[];TestView=getRecordBasedOnPrimaryKeyName(_list4,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"TestView\";dataStateName=\"testViewDataState\";break;case\"IDS_SUBSAMPLEATTACHMENTS\":_list4=response.data.RegistrationSampleComment?sortData(response.data.RegistrationSampleComment,'descending','ntestcommentcode'):[];RegistrationTestComment=getRecordBasedOnPrimaryKeyName(_list4,inputData.masterData.JA_SUBSAMPLE.length>0?inputData.masterData.JA_SUBSAMPLE[0].ntransactionsamplecode:\"\",\"ntransactionsamplecode\");activeName=\"RegistrationSampleComment\";dataStateName=\"testCommentDataState\";break;default:_list4=response.data.RegistrationTestAttachment?sortData(response.data.RegistrationTestAttachment,'descending','ntestattachmentcode'):[];RegistrationTestAttachment=getRecordBasedOnPrimaryKeyName(_list4,inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode:\"\",\"ntransactiontestcode\");activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentState\";break;}}if(subSample){var wholeSubsampleList=masterData.JA_SUBSAMPLE.map(function(b){return b.ntransactionsamplecode;});oldSelectedSubSample=oldSelectedSubSample.filter(function(item){return wholeSubsampleList.includes(item.ntransactionsamplecode);});//ALPD-3398\n// oldSelectedSubSample.map((test, index) => {\n//     if (!wholeSubsampleList.includes(test.ntransactionsamplecode)) {\n//         oldSelectedSubSample.splice(index, 1)\n//     }\n//     return null;\n// })\nvar _keepOld2=false;var ntransactionsamplecode;if(oldSelectedSubSample.length>0){_keepOld2=true;}else{ntransactionsamplecode=masterData.selectedSubSample[0].ntransactionsamplecode;}switch(inputData.activeSubSampleTab){case\"IDS_SUBSAMPLECOMMENTS\":RegistrationSampleComment=_keepOld2?inputData.masterData.RegistrationSampleComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationSampleComment,ntransactionsamplecode,\"ntransactionsamplecode\");activeName=\"RegistrationSampleComment\";dataStateName=\"subSampleCommentDataState\";break;default:RegistrationSampleAttachment=_keepOld2?inputData.masterData.RegistrationSampleAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationSampleAttachment,ntransactionsamplecode,\"ntransactionsamplecode\");activeName=\"RegistrationSampleAttachment\";dataStateName=\"subSampleAttachmentDataState\";break;}}masterData=_objectSpread(_objectSpread({},masterData),{},{RegistrationTestAttachment:RegistrationTestAttachment,RegistrationTestComment:RegistrationTestComment,TestView:TestView,RegistrationSampleComment:RegistrationSampleComment,RegistrationSampleAttachment:RegistrationSampleAttachment});if(inputData[dataStateName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined})));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:masterData,loading:false,showFilter:false,activeTestTab:inputData.activeTestTab,// activeTestTab: inputData.activeTestTab,\nscreenName:inputData.activeTestTab,subsampleskip:undefined,subsampletake:undefined},skipInfo)});}).catch(function(error){//console.log(\"error:\", error);\ndispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{var oldSelectedTest=inputData.masterData.JASelectedTest;var TestSelected=inputData[\"statusNone\"]?getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest,inputData.removeElementFromArray[0].ntransactionsamplecode,\"ntransactionsamplecode\"):filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest,inputData.removeElementFromArray[0].ntransactionsamplecode,\"ntransactionsamplecode\");var isGrandChildGetRequired=false;if(TestSelected.length>0){isGrandChildGetRequired=false;}else{isGrandChildGetRequired=true;}fillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.JASelectedSubSample,inputData.childTabsKey,inputData.checkBoxOperation,\"ntransactionsamplecode\",inputData.removeElementFromArray);if(isGrandChildGetRequired){var ntransactiontestcode=inputData.masterData.JA_TEST.length>0?inputData.masterData.JA_TEST[0].ntransactiontestcode.toString():\"\";var _JASelectedSubSample=inputData.RESelectedSubSample;var JASelectedTest=inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[];inputData=_objectSpread(_objectSpread({},inputData),{},{childTabsKey:[\"TestView\",\"RegistrationTestAttachment\",\"RegistrationTestComment\"],ntransactiontestcode:ntransactiontestcode,JASelectedSample:inputData.masterData.JASelectedSample,JASelectedTest:JASelectedTest,JASelectedSubSample:_JASelectedSubSample,//  checkBoxOperation: 3,\ncheckBoxOperation:checkBoxOperation.SINGLESELECT,activeTestTab:inputData.activeTestTab});dispatch(getTestChildTabDetailJobAllocation(inputData,true));}else{var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedTest:inputData.masterData.JA_TEST.length>0?[inputData.masterData.JA_TEST[0]]:[],JASelectedSubSample:inputData.JASelectedSubSample});var wholeTestList=masterData.JA_TEST.map(function(b){return b.ntransactiontestcode;});oldSelectedTest=oldSelectedTest.filter(function(item){return wholeTestList.includes(item.ntransactiontestcode);});//ALPD-3398\n// oldSelectedTest.map((test, index) => {\n//     if (!wholeTestList.includes(test.ntransactiontestcode)) {\n//         oldSelectedTest.splice(index, 1)\n//     }\n//     return null;\n// })\nvar keepOld=false;var _ntransactiontestcode3;if(oldSelectedTest.length>0){keepOld=true;masterData=_objectSpread(_objectSpread({},masterData),{},{JASelectedTest:oldSelectedTest});}else{_ntransactiontestcode3=masterData.JA_TEST[0].ntransactiontestcode;}var RegistrationTestAttachment=keepOld?inputData.masterData.RegistrationTestAttachment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment||[],_ntransactiontestcode3,\"ntransactiontestcode\");var RegistrationTestComment=keepOld?inputData.masterData.RegistrationTestComment:getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment||[],_ntransactiontestcode3,\"ntransactiontestcode\");var TestView=keepOld?inputData.masterData.TestView:getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView||[],_ntransactiontestcode3,\"ntransactiontestcode\");var _inputData5=inputData,testskip=_inputData5.testskip,testtake=_inputData5.testtake;var bool=false;var skipInfo={};if(inputData.masterData.JA_TEST.length<=inputData.testskip){testskip=0;bool=true;}if(bool){skipInfo={testskip:testskip,testtake:testtake};}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:_objectSpread(_objectSpread({},masterData),{},{JASelectedSubSample:inputData.JASelectedSubSample,RegistrationTestAttachment:RegistrationTestAttachment,RegistrationTestComment:RegistrationTestComment,TestView:TestView}),loading:false,showFilter:false,activeSampleTab:inputData.activeSampleTab,activeTestTab:inputData.activeTestTab},skipInfo)});}}};}export function getTestChildTabDetailJobAllocation(inputData,isServiceRequired){return function(dispatch){var arr=[];inputData.JASelectedTest&&inputData.JASelectedTest.map(function(item){if(!arr.includes(item.nsectioncode)){arr.push(item.nsectioncode);}});var inputParamData={ntransactiontestcode:inputData.JASelectedTest.map(function(test){return test.ntransactiontestcode;}).join(\",\"),npreregno:inputData.npreregno,nsectioncode:arr.map(function(nsectioncode){return nsectioncode;}).join(\",\"),//ssectioncode :inputData.JASelectedTest.map(sample => sample.nsectioncode).join(\",\"),\nntransactionsamplecode:inputData.JASelectedTest.map(function(test){return test.ntransactionsamplecode;}).join(\",\"),ndesigntemplatemappingcode:inputData.masterData.realDesignTemplateMappingValue&&inputData.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode,userinfo:inputData.userinfo};var activeName=\"\";var dataStateName=\"\";var url=\"\";switch(inputData.activeTestTab){case\"IDS_TESTATTACHMENTS\":url=\"attachment/getTestAttachment\";activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;case\"IDS_TESTCOMMENTS\":url=\"comments/getTestComment\";activeName=\"RegistrationTestComment\";dataStateName=\"testCommentDataState\";break;case\"IDS_SAMPLEATTACHMENTS\":url=\"attachment/getSampleAttachment\";activeName=\"RegistrationSampleAttachment\";dataStateName=\"sampleAttachmentDataState\";break;case\"IDS_TESTVIEW\":url=\"joballocation/getTestView\";activeName=\"TestView\";dataStateName=\"testViewDataState\";break;default:url=\"attachment/getTestAttachment\";activeName=\"RegistrationTestAttachment\";dataStateName=\"testAttachmentDataState\";break;}dispatch(initRequest(true));if(isServiceRequired){rsapi.post(url,inputParamData).then(function(response){var _objectSpread7;var responseData=_objectSpread(_objectSpread({},response.data),{},{JASelectedSample:inputData.JASelectedSample||inputData.masterData.JASelectedSample,JASelectedTest:inputData.JASelectedTest,activeTabIndex:inputData.activeTabIndex,activeTabId:inputData.activeTabId});var skipInfo={};fillRecordBasedOnCheckBoxSelection(inputData.masterData,responseData,inputData.childTabsKey,inputData.checkBoxOperation,\"npreregno\",inputData.removeElementFromArray);var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),responseData),{},{JASelectedTest:inputData.JASelectedTest});if(inputData[dataStateName]&&masterData[activeName]&&masterData[activeName].length<=inputData[dataStateName].skip){skipInfo=_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined}));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread((_objectSpread7={masterData:masterData,activeTabIndex:inputData.activeTabIndex,activeTabId:inputData.activeTabId,activeTestTab:inputData.activeTestTab,loading:false},_defineProperty(_objectSpread7,\"activeTestTab\",inputData.activeTestTab),_defineProperty(_objectSpread7,\"screenName\",inputData.activeTestTab),_defineProperty(_objectSpread7,\"testskip\",undefined),_defineProperty(_objectSpread7,\"testtake\",undefined),_objectSpread7),skipInfo)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{fillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.JASelectedTest,inputData.childTabsKey,inputData.checkBoxOperation,\"ntransactiontestcode\",inputData.removeElementFromArray);var skipInfo={};var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{JASelectedTest:inputData.JASelectedTest});if(masterData[activeName].length<=inputData.skip){skipInfo=_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{skip:0,sort:undefined,filter:undefined}));}else{skipInfo=_objectSpread(_objectSpread({},skipInfo),{},_defineProperty({},dataStateName,_objectSpread(_objectSpread({},inputData[dataStateName]),{},{sort:undefined,filter:undefined})));}dispatch({type:DEFAULT_RETURN,payload:_objectSpread({masterData:masterData,loading:false,showFilter:false,activeTestTab:inputData.activeTestTab,screenName:inputData.screenName},skipInfo)});}};}export function validateEsignforJobAllocation(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=inputParam.screenData.inputParam.methodUrl;inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]&&inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}dispatch(dispatchMethods(inputParam[\"screenData\"]));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}function dispatchMethods(screenData){return function(dispatch){var action=screenData.inputParam.action;switch(action){case\"receiveinlab\":dispatch(ReceiveinLabStatusWise(screenData.inputParam,screenData.masterData));break;case\"allotjob\":dispatch(AllotJobAction(screenData.inputParam,screenData.masterData));break;case\"allotanotheruser\":dispatch(AllotAnotherUserAction(screenData.inputParam,screenData.masterData));break;case\"reschedule\":dispatch(RescheduleJobAction(screenData.inputParam,screenData.masterData));break;case\"canceltest\":dispatch(CancelTestWise(screenData.inputParam,screenData.masterData));break;case\"AllotJobCalendar\":// ALPD-5263 Added AllotJobCalendar condition by Vishakh due to not added this got loader issue\ndispatch(AllotJobActionCalendar(screenData.inputParam,screenData.masterData));break;case\"updateSection\":dispatch(updateSectionJobAllocation(screenData.inputParam));break;default:break;}};}export function updatedObjectWithNewElement1(oldList,newList){oldList=[].concat(_toConsumableArray(newList),_toConsumableArray(oldList));return oldList;}export function getAnalystCalenderBasedOnUser(nusercode,masterData,userInfo,selectedRecord){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getAnalystCalendarBasedOnUser\",{\"nusercode\":nusercode,\"userinfo\":userInfo}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{analystCalenderData:response.data.UserData}),loading:false,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getInstrumentNameForSchedule(ninstrumentcatcode,userInfo,edit,ninstrumentnamecode){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getInstrumentNameBasedCategoryForSchedule\",{\"ninstrumentcatcode\":ninstrumentcatcode,\"userinfo\":userInfo}).then(function(response){var InstrumentName=[];var InstrumentMap=constructOptionList(response.data.InstrumentName||[],\"ninstrumentnamecode\",\"sinstrumentname\",undefined,undefined,false);InstrumentName=InstrumentMap.get(\"OptionList\");if(edit&&ninstrumentnamecode){var obj={InstrumentName:InstrumentName,selectedInstrumentCatCode:ninstrumentcatcode};dispatch(getInstrumentForSchedule(ninstrumentcatcode,ninstrumentnamecode,userInfo,edit,obj));}else{dispatch({type:DEFAULT_RETURN,payload:{selectedInstrumentCatCode:ninstrumentcatcode,InstrumentName:InstrumentName,Instrument:[],loading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getInstrumentForSchedule(ninstrumentcatcode,ninstrumentnamecode,userInfo,edit,obj){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getInstrumentBasedCategoryForSchedule\",{\"ninstrumentcatcode\":ninstrumentcatcode,\"ninstrumentnamecode\":ninstrumentnamecode,\"userinfo\":userInfo}).then(function(response){var Instrument=[];var InstrumentMap=constructOptionList(response.data.Instrument||[],\"ninstrumentcode\",\"sinstrumentid\",undefined,undefined,false);Instrument=InstrumentMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:_objectSpread({Instrument:Instrument,loading:false},obj)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function AllotJobActionCalendar(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/AllotJobCreateCalendar\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){replaceUpdatedObject(response.data[\"JA_TEST\"],inputParam.inputData.masterData.JA_TEST,\"ntransactiontestcode\");delete response.data[\"JA_TEST\"];var masterData=_objectSpread(_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data),{},{JASelectedTest:replaceUpdatedObject(response.data[\"JASelectedTest\"],inputParam.inputData.masterData.JASelectedTest,\"ntransactiontestcode\"),TestView:replaceUpdatedObject(response.data[\"TestView\"],inputParam.inputData.masterData.TestView,\"ntransactiontestcode\")});var respObject=_objectSpread(_objectSpread({},inputParam.inputData),{},{masterData:masterData,loading:false,loadEsign:false,openModal:false,showSample:undefined});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data);}});};}export function clearInstrumentLoginData(){return function(dispatch){//  dispatch(initRequest(true));\ndispatch({type:DEFAULT_RETURN,payload:{//Instrument\nInstrument:[],selectedInstrumentCatCode:undefined,InstrumentName:[]//  loading: false,\n}});};}//ALPD-3781\nexport function getSectionTest(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getSectionChange\",inputParam.inputData).then(function(response){var Section=[];//ALPD-4050\nvar selectedRecord=_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nsectioncode:\"\"});var SectionMap=constructOptionList(response.data.Section||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);Section=SectionMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{Section:Section,loading:false,loadEsign:false,openModal:true,operation:inputParam.inputData.operation,screenName:inputParam.inputData.screenName,ncontrolcode:inputParam.inputData.ncontrolcode,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}//ALPD-3781\nexport function updateSectionJobAllocation(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/updateSectionJobAllocation\",inputParam.inputData).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){var UserSection=[];var UserSectionMap=constructOptionList(response.data.UserSection||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,false);UserSection=UserSectionMap.get(\"OptionList\");var masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);var selectedRecord=_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{\"nsectioncode\":\"\"});var respObject=_objectSpread(_objectSpread({},inputParam.inputData),{},{masterData:masterData,UserSection:UserSection,loading:false,loadEsign:false,openModal:false,showSample:undefined,selectedRecord:selectedRecord});dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}//ALPD-3781\nexport function getUsersSection(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"joballocation/getUsersBySection\",{\"userinfo\":inputParam.userInfo,\"nsectioncode\":inputParam.nsectioncode,\"nregtypecode\":inputParam.nregtypecode,\"nregsubtypecode\":inputParam.nregsubtypecode}).then(function(response){if(response.data.rtn===undefined||response.data.rtn===\"Success\"){var Users=[];var SectionUsersMap=constructOptionList(response.data.Users||[],\"nusercode\",\"susername\",undefined,undefined,false);Users=SectionUsersMap.get(\"OptionList\");var selectedRecord=_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{\"nusercode\":\"\",\"ntechniquecode\":\"\"});var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);var respObject={selectedRecord:selectedRecord,masterData:masterData,Users:Users,loading:false,loadEsign:false,showSample:undefined};dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,loadEsign:false,openModal:false}});toast.warn(response.data.rtn);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getJobAllcationFilterDetail(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"joballocation/getJobAllocationFilter\",inputParam.inputData).then(function(response){var responseData=_objectSpread({},response.data);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchSampleRef!==undefined&&inputParam.searchSampleRef.current!==null){inputParam.searchSampleRef.current.value=\"\";masterData['searchedSample']=undefined;}if(inputParam.searchSubSampleRef!==undefined&&inputParam.searchSubSampleRef.current!==null){inputParam.searchSubSampleRef.current.value=\"\";masterData['searchedSubSample']=undefined;}if(inputParam.searchTestRef!==undefined&&inputParam.searchTestRef.current!==null){inputParam.searchTestRef.current.value=\"\";masterData['searchedTest']=undefined;}sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false,nfilternamecode:inputParam.inputData.nfilternamecode,modalShow:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/JobAllocationAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","constructOptionList","replaceUpdatedObject","sortData","fillRecordBasedOnCheckBoxSelection","getSameRecordFromTwoArrays","getRecordBasedOnPrimaryKeyName","filterRecordBasedOnPrimaryKeyName","reArrangeArrays","rearrangeDateFormat","convertDateTimetoStringDBFormat","postCRUDOrganiseTransSearch","Axios","checkBoxOperation","transactionStatus","intl","getRegTypeJobAllocation","inputData","dispatch","post","then","response","responseData","data","type","payload","masterData","defaultSampleTypeValue","realDesignTemplateMappingValue","realDynamicDesignMappingList","loading","catch","error","status","message","warn","getRegSubTypeJobAllocation","defaultRegTypeValue","getAppConfigVersionJobAllocation","inputParam","defaultRegSubTypeValue","RegSubTypeValue","realRegSubTypeValue","getSectionJobAllocation","defaultUserSectionValue","getFilterStatusJobAllocation","defaultFilterStatusValue","getFilterStatusSectionJobAllocation","testStatusService","sectionService","urlArray","all","defaultApprovalVersionValue","getDesignTemplateJobAllocation","Success","ApprovalVersionValue","realApprovalVersionValue","getTestStatusJobAllocation","getJobAllcationFilterSubmit","searchSampleRef","undefined","current","value","searchSubSampleRef","searchTestRef","showTest","activeTestTab","showFilter","sampleskip","sampletake","subsampleskip","subsampletake","testskip","testtake","documentDataState","sort","filter","testCommentDataState","ReceiveinLabStatusWise","rtn","JA_SAMPLE","JA_SUBSAMPLE","JA_TEST","JASelectedSample","JASelectedSubSample","JASelectedTest","respObject","loadEsign","openModal","showSample","postParamList","getAllottedTestWise","AllotDetails","calenderViewAfterAllot","nselecttype","RescheduleEditById","npreregno","ntransactionsamplecode","transactiontestcode","calenderProperties","startDate","Date","userinfo","selectedRecord","TechniqueMap","Technique","get","UsersPeriodMap","Period","UsersPeriod","InstrumentCategoryMap","InstrumentCategory","InstrumentNameMap","InstrumentName","InstrumentIdMap","InstrumentId","InstrumentPeriodMap","InstrumentPeriod","SectionPeriodMap","RescheduleSection","currentTime","CurrentTime","body","UsersMap","Users","editData","JobAllocation","instrumentstartdate","sinstrumentholdduration","comments","suserholdduration","userstartdate","operation","calenderColor","calenderCommonHolidays1","calenderPublicHolidays","calenderUserHolidays","calenderSettings","calenderCommonHolidays","length","map","dataItem","i","start","dcalenderholidaystartdate","end","dcalenderholidayenddate","title","sdescription","id","startTimezone","endTimezone","description","Instrument","ninstrumentcode","ninstrumentcatcode","isCalenderHolidays","color","startDateor","endDateor","stestsynonym","ntransactionstatus","stransdisplaystatus","isOpen","screenName","ncontrolCode","ncontrolcode","holidaydateRestrict","x","ncalendersettingcode","personalLeaveRestrict","commonHolidaydateRestrict","getAllotAnotherUserTestWise","stechniquename","TechniqueCode","ntechniquecode","getInstrumentName","ncalibrationreq","userInfo","NA","getInstrumentId","ninstrumentnamecode","getUsers","toString","sample","nsectioncode","join","realRegTypeValue","nregtypecode","nregsubtypecode","ViewAnalystCalendar","CancelTestWise","TestView","info","AllotJobAction","AllotAnotherUserAction","RescheduleJobAction","parseInt","nfiltersectioncode","UserSection","UserSectionMap","getJobAllocationSubSampleDetail","isServiceRequired","arr","item","includes","push","inputParamData","nsampletypecode","nregistrationsectioncode","String","ntransactiontestcode","ntestcode","napprovalversioncode","fromdate","todate","activeSampleTab","activeSubSampleTab","nneedsubsample","ndesigntemplatemappingcode","nneedtemplatebasedflow","activeName","dataStateName","formatMessage","oldSelectedTest","oldSelectedSubSample","childTabsKey","removeElementFromArray","skipInfo","RegistrationTestAttachment","RegistrationTestComment","RegistrationComment","RegistrationSampleAttachment","MULTISELECT","wholeSubSampleList","b","wholeTestList","keepOld","QUICKSELECTSTATUS","list","dbData","QUICKSELECTALL","skip","secondarySelection","activeTabIndex","TestSelected","subSampleSelected","isGrandChildGetRequired","filterSelectedSubSample","subsample","SINGLESELECT","getTestChildTabDetailJobAllocation","getJobAllocationTestDetail","subsamplecheck","SubSampleSelected","wholeSubSample","selectedTest","selectedSubSample1","bool","arr1","nflag","ntype","subSample","RegistrationSampleComment","testList","wholeSubsampleList","selectedSubSample","RESelectedSubSample","test","url","activeTabId","validateEsignforJobAllocation","methodUrl","screenData","toLowerCase","dispatchMethods","action","AllotJobActionCalendar","updateSectionJobAllocation","updatedObjectWithNewElement1","oldList","newList","getAnalystCalenderBasedOnUser","nusercode","analystCalenderData","UserData","getInstrumentNameForSchedule","edit","InstrumentMap","obj","selectedInstrumentCatCode","getInstrumentForSchedule","clearInstrumentLoginData","getSectionTest","Section","SectionMap","getUsersSection","SectionUsersMap","getJobAllcationFilterDetail","nfilternamecode","modalShow"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport {\r\n    constructOptionList, replaceUpdatedObject, sortData, fillRecordBasedOnCheckBoxSelection, getSameRecordFromTwoArrays,\r\n    getRecordBasedOnPrimaryKeyName, filterRecordBasedOnPrimaryKeyName, reArrangeArrays, rearrangeDateFormat, convertDateTimetoStringDBFormat\r\n} from '../components/CommonScript';\r\nimport { postCRUDOrganiseTransSearch } from './ServiceAction';\r\nimport Axios from 'axios';\r\nimport { checkBoxOperation, transactionStatus } from '../components/Enumeration';\r\nimport {\r\n    intl\r\n} from '../components/App'\r\nexport function getRegTypeJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getRegistrationTypeBySampleType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultSampleTypeValue: inputData.defaultSampleTypeValue,\r\n                            realDesignTemplateMappingValue: inputData.realDesignTemplateMappingValue,\r\n                            realDynamicDesignMappingList: inputData.realDynamicDesignMappingList\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getRegSubTypeJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getRegistrationsubTypeByRegType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultRegTypeValue: inputData.defaultRegTypeValue,\r\n                            realDesignTemplateMappingValue: inputData.realDesignTemplateMappingValue,\r\n                            realDynamicDesignMappingList: inputData.realDynamicDesignMappingList\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getAppConfigVersionJobAllocation(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getApprovalConfigVersionByRegSubType\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            defaultRegSubTypeValue: inputParam.masterData.defaultRegSubTypeValue,\r\n                            RegSubTypeValue: inputParam.masterData.realRegSubTypeValue,\r\n                            realDesignTemplateMappingValue: inputParam.inputData.realDesignTemplateMappingValue,\r\n                            realDynamicDesignMappingList: inputParam.inputData.realDynamicDesignMappingList\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getSectionJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getTestComboBySection\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultUserSectionValue: inputData.masterData.defaultUserSectionValue,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getFilterStatusJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getTestComboBySection\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultFilterStatusValue: inputData.masterData.defaultFilterStatusValue,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getFilterStatusSectionJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        const testStatusService = rsapi.post(\"joballocation/getFilterStatusByApproveVersion\", inputData);\r\n        const sectionService = rsapi.post(\"joballocation/getSectionByApproveVersion\", inputData);\r\n        let urlArray = [];\r\n        urlArray = [testStatusService, sectionService];\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultApprovalVersionValue: inputData.masterData.defaultApprovalVersionValue,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDesignTemplateJobAllocation(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getDesignTemplateByApprovalConfigVersion\", inputParam)\r\n            .then(response => {\r\n\r\n                if (response.data[\"Success\"]) {\r\n                    toast.warn(response.data.Success);\r\n                }\r\n\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            defaultApprovalVersionValue: inputParam.masterData.defaultApprovalVersionValue,\r\n                            ApprovalVersionValue: inputParam.masterData.realApprovalVersionValue,\r\n                            realDesignTemplateMappingValue: inputParam.realDesignTemplateMappingValue,\r\n                            realDynamicDesignMappingList: inputParam.realDynamicDesignMappingList\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getTestStatusJobAllocation(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getFilterStatusByApproveVersion\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            RegSubTypeValue: inputData.RegSubTypeValue\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n//ALPD-4755-To get previously save filter details when click the filter name,done by Dhanushya RI\r\nexport function getJobAllcationFilterSubmit(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getJobAllocationDetails\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                \r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchSampleRef !== undefined && inputParam.searchSampleRef.current !== null) {\r\n                    inputParam.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputParam.searchSubSampleRef !== undefined && inputParam.searchSubSampleRef.current !== null) {\r\n                    inputParam.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputParam.searchTestRef !== undefined && inputParam.searchTestRef.current !== null) {\r\n                    inputParam.searchTestRef.current.value = \"\"\r\n                    masterData['searchedTest'] = undefined\r\n\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showTest: inputParam.inputData.showTest,\r\n                        activeTestTab: inputParam.inputData.activeTestTab,\r\n                        showFilter: false,\r\n                        sampleskip: 0,\r\n                        sampletake: inputParam.sampletake,\r\n                        subsampleskip: 0,\r\n                        subsampletake: inputParam.subsampletake,\r\n                        testskip: 0,\r\n                        testtake: inputParam.testtake,\r\n                        documentDataState: { ...inputParam.documentDataState, sort: undefined, filter: undefined },\r\n                        testCommentDataState: { ...inputParam.testCommentDataState, sort: undefined, filter: undefined },\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function ReceiveinLabStatusWise(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/CreateReceiveinLab\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_SAMPLE\"], inputParam.inputData.masterData.JA_SAMPLE, \"nregistrationsectioncode\");\r\n                    replaceUpdatedObject(response.data[\"JA_SUBSAMPLE\"], inputParam.inputData.masterData.JA_SUBSAMPLE, \"ntransactionsamplecode\");\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n\r\n                    delete response.data[\"JA_SAMPLE\"];\r\n                    delete response.data[\"JA_SUBSAMPLE\"];\r\n                    delete response.data[\"JA_TEST\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data,\r\n                        JASelectedSample: replaceUpdatedObject(response.data[\"JASelectedSample\"], inputParam.inputData.masterData.JASelectedSample, \"nregistrationsectioncode\"),\r\n                        JASelectedSubSample: replaceUpdatedObject(response.data[\"JASelectedSubSample\"], inputParam.inputData.masterData.JASelectedSubSample, \"ntransactionsamplecode\"),\r\n                        JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\"),\r\n                    }\r\n                    let respObject = {\r\n                        masterData,\r\n                        ...inputParam.inputData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                //toast.error(error.message); \r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getAllottedTestWise(inputParam, type) {\r\n    return function (dispatch) {\r\n        let urlArray = [];\r\n\r\n        const AllotDetails = rsapi.post(\"joballocation/getAllotDetails\", { ...inputParam.inputData, calenderViewAfterAllot: type });\r\n\r\n\r\n\r\n        if (inputParam.inputData.nselecttype === 1) {\r\n            const RescheduleEditById = rsapi.post(\"joballocation/getRescheduleEdit\",\r\n                {\r\n                    \"npreregno\": inputParam.inputData.npreregno, \"ntransactionsamplecode\": inputParam.inputData.ntransactionsamplecode,\r\n                    \"transactiontestcode\": inputParam.inputData.transactiontestcode, ...inputParam.inputData\r\n                });\r\n\r\n            urlArray = [AllotDetails, RescheduleEditById];\r\n\r\n        } else {\r\n            if (type === 2) {\r\n                const calenderProperties = rsapi.post(\"joballocation/calenderProperties\", {...inputParam.inputData,startDate:convertDateTimetoStringDBFormat(new Date(), inputParam.inputData.userinfo)});\r\n                urlArray = [AllotDetails, calenderProperties];\r\n            } else {\r\n                urlArray = [AllotDetails];\r\n            }\r\n\r\n        }\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let selectedRecord = {};\r\n\r\n                const TechniqueMap = constructOptionList(response[0].data.Technique || [], \"ntechniquecode\", \"stechniquename\", undefined, undefined, false);\r\n                const Technique = TechniqueMap.get(\"OptionList\");\r\n\r\n        \r\n\r\n                const UsersPeriodMap = constructOptionList(response[0].data.Period || [], \"nuserperiodcode\", \"speriodname\", undefined, undefined, false);\r\n                const UsersPeriod = UsersPeriodMap.get(\"OptionList\");\r\n\r\n                const InstrumentCategoryMap = constructOptionList(response[0].data.InstrumentCategory || [], \"ninstrumentcatcode\", \"sinstrumentcatname\", undefined, undefined, false);\r\n                const InstrumentCategory = InstrumentCategoryMap.get(\"OptionList\");\r\n\r\n                const InstrumentNameMap = constructOptionList(response[0].data.InstrumentName || [], \"ninstrumentnamecode\", \"sinstrumentname\", undefined, undefined, false);\r\n                const InstrumentName = InstrumentNameMap.get(\"OptionList\");\r\n\r\n                const InstrumentIdMap = constructOptionList(response[0].data.InstrumentId || [], \"ninstrumentcode\", \"sinstrumentid\", undefined, undefined, false);\r\n                const InstrumentId = InstrumentIdMap.get(\"OptionList\");\r\n\r\n                const InstrumentPeriodMap = constructOptionList(response[0].data.Period || [], \"ninstrumentperiodcode\", \"speriodname\", undefined, undefined, false);\r\n                const InstrumentPeriod = InstrumentPeriodMap.get(\"OptionList\");\r\n              \r\n                const SectionPeriodMap = constructOptionList(response[0].data.RescheduleSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\r\n                const RescheduleSection = SectionPeriodMap.get(\"OptionList\");\r\n\r\n                const currentTime = rearrangeDateFormat(inputParam.inputData.userinfo, response[0].data.CurrentTime.body);\r\n                let UsersMap =[];\r\n                let Users =[];\r\n                \r\n               \r\n               \r\n                \r\n\r\n                 if(inputParam.inputData.nselecttype==1&&response[0]&&response[0].data&&response[0].data.Users===undefined){\r\n                    UsersMap=constructOptionList(response[1].data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\r\n                    Users = UsersMap.get(\"OptionList\");\r\n                }else{\r\n                    UsersMap=constructOptionList(response[0].data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\r\n                    Users = UsersMap.get(\"OptionList\");\r\n                }\r\n\r\n                if (inputParam.inputData.nselecttype === 1) {\r\n                    const editData = response[1].data.JobAllocation;\r\n\r\n                    selectedRecord[\"ninstrumentcatcode\"] = {\r\n                        \"value\": editData[\"ninstrumentcategorycode\"],\r\n                        \"label\": editData[\"sinstrumentcatname\"]\r\n                    };\r\n\r\n                    editData[\"ninstrumentcategorycode\"] !== -1 ?\r\n                        selectedRecord[\"ninstrumentnamecode\"] = {\r\n                            \"value\": editData[\"ninstrumentnamecode\"],\r\n                            \"label\": editData[\"sinstrumentname\"]\r\n                        } : selectedRecord[\"ninstrumentnamecode\"] = \"\";\r\n\r\n\r\n                    editData[\"ninstrumentcategorycode\"] !== -1 ?\r\n                        selectedRecord[\"ninstrumentcode\"] = {\r\n                            \"value\": editData[\"ninstrumentcode\"],\r\n                            \"label\": editData[\"sinstrumentid\"]\r\n                        } : selectedRecord[\"ninstrumentcode\"] = \"\";\r\n\r\n                    editData[\"ninstrumentcategorycode\"] !== -1 ?\r\n                        selectedRecord[\"ninstrumentperiodcode\"] = {\r\n                            \"value\": editData[\"ninstrumentperiodcode\"],\r\n                            \"label\": editData[\"sinstrumentperiodname\"]\r\n                        } : selectedRecord[\"ninstrumentperiodcode\"] = \"\";\r\n\r\n                    editData[\"ninstrumentcategorycode\"] !== -1 ?\r\n                        selectedRecord[\"dinstblockfromdatetime\"] = rearrangeDateFormat(inputParam.inputData.userinfo, editData.instrumentstartdate) :\r\n                        selectedRecord[\"dinstblockfromdatetime\"] = \"\";\r\n\r\n                    editData[\"ninstrumentcategorycode\"] !== -1 ?\r\n                        selectedRecord[\"sinstrumentholdduration\"] = editData.sinstrumentholdduration : selectedRecord[\"sinstrumentholdduration\"] = \"\";\r\n\r\n                    selectedRecord[\"scomments\"] = editData.comments;\r\n                    selectedRecord[\"suserholdduration\"] = editData.suserholdduration;\r\n                    selectedRecord[\"duserblockfromdatetime\"] = rearrangeDateFormat(inputParam.inputData.userinfo, editData.userstartdate);\r\n\r\n                    editData[\"ntechniquecode\"] !== -1 ?\r\n                        selectedRecord[\"ntechniquecode\"] = {\r\n                            \"value\": editData[\"ntechniquecode\"],\r\n                            \"label\": editData[\"stechniquename\"]\r\n                        } : selectedRecord[\"ntechniquecode\"] = \"\";\r\n\r\n                    selectedRecord[\"nusercode\"] = {\r\n                        \"value\": editData[\"nusercode\"],\r\n                        \"label\": editData[\"susername\"]\r\n                    };\r\n                    selectedRecord[\"nuserperiodcode\"] = {\r\n                        \"value\": editData[\"nuserperiodcode\"],\r\n                        \"label\": editData[\"suserperiodname\"]\r\n                    };\r\n                    selectedRecord[\"nsectioncode\"] = {\r\n                        \"value\": editData[\"nsectioncode\"],\r\n                        \"label\": editData[\"ssectionname\"]\r\n                    };\r\n\r\n                    selectedRecord = { ...selectedRecord }\r\n                } else if (type !== 2) {\r\n                    selectedRecord[\"scomments\"] = \"\";\r\n                    selectedRecord[\"suserholdduration\"] = \"\";\r\n                    selectedRecord[\"sinstrumentholdduration\"] = \"\";\r\n                    selectedRecord[\"duserblockfromdatetime\"] = new Date();\r\n                }\r\n                //Added by sonia on 8th Aug 2024 for JIRA ID:ALPD-4563\r\n                //if(inputParam.inputData.controlAction ===3){\r\n                    if(inputParam.inputData.operation===\"Reschedule\" && inputParam.inputData.nselecttype===2 ){\r\n                        selectedRecord[\"nsectioncode\"] = {\r\n                            \"value\": response[0].data.RescheduleSection[0][\"nsectioncode\"],\r\n                            \"label\": response[0].data.RescheduleSection[0][\"ssectionname\"]\r\n                        };\r\n                    }\r\n                //}\r\n                \r\n                \r\n\r\n                let calenderProperties = []\r\n                let calenderColor = []\r\n                let calenderCommonHolidays1 = {}\r\n                let calenderPublicHolidays = []\r\n                let calenderUserHolidays = []\r\n                if (type === 2) {\r\n                    calenderProperties = response[1].data.calenderSettings\r\n                    calenderColor = response[1].data.calenderColor\r\n                    calenderPublicHolidays= response[1].data.calenderPublicHolidays||[]\r\n                    calenderCommonHolidays1 = response[1].data.calenderCommonHolidays.length>0?response[1].data.calenderCommonHolidays[0]:{};\r\n\r\n                    calenderPublicHolidays = calenderPublicHolidays.map((dataItem, i) => {\r\n                        return {\r\n                            start: new Date(dataItem.dcalenderholidaystartdate),\r\n                            end: new Date(dataItem.dcalenderholidayenddate),\r\n                            title: dataItem.sdescription,\r\n                            id: dataItem.id ? dataItem.id : i,\r\n                            startTimezone: dataItem.startTimezone,\r\n                            endTimezone: dataItem.endTimezone,\r\n                            description:  dataItem.sdescription,\r\n                            Instrument: dataItem.ninstrumentcode && dataItem.ninstrumentcode,\r\n                            InstrumentCategory: dataItem.ninstrumentcatcode && dataItem.ninstrumentcatcode,\r\n                            isCalenderHolidays: true,\r\n                            color: \"#babaff\",\r\n                            startDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidaystartdate), inputParam.inputData.userinfo),\r\n                            endDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidayenddate), inputParam.inputData.userinfo),\r\n                            stestsynonym: \"-\",\r\n                            ntransactionstatus: -1,\r\n                            stransdisplaystatus:\"-\",\r\n                        }\r\n                    });\r\n\r\n                //     calenderUserHolidays = calenderUserHolidays.map((dataItem, i) => {\r\n                //         return {\r\n                //             start: new Date(dataItem.dcalenderholidaystartdate),\r\n                //             end: new Date(dataItem.dcalenderholidayenddate),\r\n                //             title: dataItem.sdescription,\r\n                //             id: dataItem.id ? dataItem.id : i,\r\n                //             startTimezone: dataItem.startTimezone,\r\n                //             endTimezone: dataItem.endTimezone,\r\n                //             description:  dataItem.sdescription,\r\n                //             Instrument: dataItem.ninstrumentcode && dataItem.ninstrumentcode,\r\n                //             InstrumentCategory: dataItem.ninstrumentcatcode && dataItem.ninstrumentcatcode,\r\n                //             isCalenderHolidays: true,\r\n                //             color: \"#babaff\",\r\n                //             startDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidaystartdate), inputParam.inputData.userinfo),\r\n                //             endDateor: convertDateTimetoStringDBFormat(new Date(dataItem.dcalenderholidayenddate), inputParam.inputData.userinfo),\r\n                //             stestsynonym: \"-\",\r\n                //             ntransactionstatus: -1,\r\n                //             stransdisplaystatus:\"-\",\r\n                //         }\r\n                //     });\r\n\r\n                 }\r\n\r\n        \r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        Technique,\r\n                        Users,\r\n                        UsersPeriod,\r\n                        InstrumentCategory,\r\n                        InstrumentName,\r\n                        InstrumentId,\r\n                        InstrumentPeriod,\r\n                        currentTime,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        isOpen: true,\r\n                        operation: inputParam.inputData.operation,\r\n                        screenName: inputParam.inputData.screenName,\r\n                        ncontrolCode: inputParam.inputData.ncontrolcode,\r\n                        loading: false,\r\n                        calenderProperties,\r\n                        calenderColor,\r\n                        calenderPublicHolidays: calenderPublicHolidays,\r\n                        holidaydateRestrict:calenderProperties.filter(x => x.ncalendersettingcode === 65).length > 0 ? calenderProperties.filter(x => x.ncalendersettingcode === 65)[0][\"scalendersettingvalue\"] === \"3\" ? true : false : true,\r\n                        personalLeaveRestrict: calenderProperties.filter(x => x.ncalendersettingcode === 66).length > 0 ? calenderProperties.filter(x => x.ncalendersettingcode === 66)[0][\"scalendersettingvalue\"] === \"3\" ? true : false : true,\r\n                        calenderUserHolidays:calenderUserHolidays,\r\n                        calenderCommonHolidays1,\r\n                        commonHolidaydateRestrict:calenderProperties.filter(x => x.ncalendersettingcode === 67).length > 0 ? calenderProperties.filter(x => x.ncalendersettingcode === 67)[0][\"scalendersettingvalue\"] === \"3\" ? true : false : true,   \r\n                        RescheduleSection\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getAllotAnotherUserTestWise(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getAllotAnotherUserDetails\", inputParam.inputData)\r\n            .then(response => {\r\n\r\n                const UsersMap = constructOptionList(response.data.Users || [], \"nusercode\",\r\n                    \"susername\", undefined, undefined, false);\r\n\r\n                const UsersPeriodMap = constructOptionList(response.data.Period || [], \"nuserperiodcode\",\r\n                    \"speriodname\", undefined, undefined, false);\r\n\r\n                const Users = UsersMap.get(\"OptionList\");\r\n                const UsersPeriod = UsersPeriodMap.get(\"OptionList\");\r\n\r\n                const currentTime = rearrangeDateFormat(inputParam.inputData.userinfo, response.data.CurrentTime.body);\r\n                const Technique = response.data.Technique && response.data.Technique[0].stechniquename;\r\n                const TechniqueCode = response.data.Technique && response.data.Technique[0].ntechniquecode;\r\n                let selectedRecord = {};\r\n                selectedRecord[\"scomments\"] = \"\";\r\n                selectedRecord[\"suserholdduration\"] = \"\";\r\n                selectedRecord[\"sinstrumentholdduration\"] = \"\";\r\n                selectedRecord[\"duserblockfromdatetime\"] = new Date();\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Technique,\r\n                        TechniqueCode,\r\n                        Users,\r\n                        UsersPeriod,\r\n                        currentTime,\r\n                        selectedRecord,\r\n                        isOpen: true,\r\n                        operation: inputParam.inputData.operation,\r\n                        screenName: inputParam.inputData.screenName,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.inputData.ncontrolcode,\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getInstrumentName(ninstrumentcatcode, ncalibrationreq, userInfo, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getInstrumentNameBasedCategory\", {\r\n            \"ninstrumentcatcode\": ninstrumentcatcode, \"ncalibrationreq\": ncalibrationreq, \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                let InstrumentName = [];\r\n\r\n                const InstrumentNameMap = constructOptionList(response.data.InstrumentName || [], \"ninstrumentnamecode\", \"sinstrumentname\", undefined, undefined, false);\r\n                InstrumentName = InstrumentNameMap.get(\"OptionList\");\r\n\r\n                selectedRecord[\"ninstrumentnamecode\"] =\"\";\r\n                if (ninstrumentcatcode !== transactionStatus.NA) {\r\n                    selectedRecord[\"dinstblockfromdatetime\"] = new Date();\r\n                } else {\r\n                    selectedRecord[\"dinstblockfromdatetime\"] = \"\";\r\n                }\r\n\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        InstrumentName,\r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getInstrumentId(ninstrumentcatcode, ninstrumentnamecode, ncalibrationreq, userInfo, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getInstrumentIdBasedCategory\", {\r\n            \"ninstrumentcatcode\": ninstrumentcatcode, \"ninstrumentnamecode\": ninstrumentnamecode, \"ncalibrationreq\": ncalibrationreq, \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                let InstrumentId = [];\r\n                const InstrumentIdMap = constructOptionList(response.data.InstrumentId || [], \"ninstrumentcode\", \"sinstrumentid\", undefined, undefined, false);\r\n                InstrumentId = InstrumentIdMap.get(\"OptionList\");\r\n\r\n                selectedRecord[\"ninstrumentcode\"] =\"\";\r\n                // if (ninstrumentcatcode !== transactionStatus.NA) {\r\n                //     selectedRecord[\"dinstblockfromdatetime\"] = new Date();\r\n                // } else {\r\n                //     selectedRecord[\"dinstblockfromdatetime\"] = \"\";\r\n                // }\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        InstrumentId,\r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getUsers(ntechniquecode, JASelectedTest, userInfo, selectedRecord, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getUsersBasedTechnique\", {\r\n            \"ntechniquecode\": ntechniquecode,\r\n          //  \"ssectioncode\": JASelectedTest.JASelectedSample ? JASelectedTest.JASelectedSample.map(sample => sample.nsectioncode).join(\",\") : \"\",\r\n          \"ssectioncode\":selectedRecord[\"nsectioncode\"]?selectedRecord[\"nsectioncode\"].value.toString():JASelectedTest.JASelectedSample ? JASelectedTest.JASelectedSample.map(sample => sample.nsectioncode).join(\",\") : \"\",\r\n          \"nregtypecode\": JASelectedTest.realRegTypeValue.nregtypecode,\r\n            \"nregsubtypecode\": JASelectedTest.realRegSubTypeValue.nregsubtypecode,\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                let Users = [];\r\n                const UsersMap = constructOptionList(response.data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\r\n                Users = UsersMap.get(\"OptionList\");\r\n                selectedRecord[\"nusercode\"] = \"\";\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        // masterData:{...masterData},\r\n                        Users,\r\n                        selectedRecord,\r\n                        loading: false\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function ViewAnalystCalendar(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/viewAnalystCalendar\", (inputParam.inputData))\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...inputParam.inputData.masterData,\r\n                    ...response.data,\r\n                }\r\n                let Users = [];\r\n                const UsersMap = constructOptionList(response.data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\r\n                Users = UsersMap.get(\"OptionList\");\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        Users,\r\n                        screenName: inputParam.inputData.screenName,\r\n                        loading: false,\r\n                        openModal: true,\r\n                        masterData,\r\n\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function CancelTestWise(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/cancelTest\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n                    delete response.data[\"JA_TEST\"];\r\n                    fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData, response.data, [\"TestView\"], 3, \"ntransactiontestcode\", []);\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                       \r\n                        ...response.data,\r\n                        JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\"),\r\n                        TestView: inputParam.inputData.masterData.TestView\r\n                    }\r\n                    let respObject = {\r\n                        masterData,\r\n                        ...inputParam.inputData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function AllotJobAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/AllotJobCreate\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n                    delete response.data[\"JA_TEST\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data,\r\n                        JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\"),\r\n                        TestView: replaceUpdatedObject(response.data[\"TestView\"], inputParam.inputData.masterData.TestView, \"ntransactiontestcode\")\r\n                    }\r\n                    let respObject = {\r\n                        ...inputParam.inputData,\r\n                        masterData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function AllotAnotherUserAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/AllotAnotherUserCreate\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n                    delete response.data[\"JA_TEST\"];\r\n                    fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData, response.data, [\"TestView\"], 3, \"ntransactiontestcode\", []);\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data,\r\n                        JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\"),\r\n                        TestView: inputParam.inputData.masterData.TestView\r\n                    }\r\n                    let respObject = {\r\n                        masterData,\r\n                        ...inputParam.inputData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function RescheduleJobAction(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/RescheduleCreate\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n                        if(parseInt(inputParam.inputData.nsectioncode)===parseInt(inputParam.inputData.nfiltersectioncode)){\r\n \t\t\t\t\t\tdelete response.data[\"JA_TEST\"];\r\n\t\t\t\t\t\t}\r\n                    fillRecordBasedOnCheckBoxSelection(inputParam.inputData.masterData, response.data, [\"TestView\"], 3, \"ntransactiontestcode\", []);\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data,\r\n                        \r\n                        TestView: inputParam.inputData.masterData.TestView\r\n                    }\r\n                    let UserSection = [];\r\n                    const UserSectionMap = constructOptionList(response.data.UserSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\r\n                    UserSection = UserSectionMap.get(\"OptionList\");\r\n\r\n                    if(parseInt(inputParam.inputData.nsectioncode)===parseInt(inputParam.inputData.nfiltersectioncode)){\r\n                        masterData={...masterData,JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\")}\r\n                    }\r\n                    let respObject = {\r\n                        UserSection,\r\n                        ...inputParam.inputData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                     respObject={...respObject,    masterData}\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getJobAllocationSubSampleDetail(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n        //console.log(\"response :\");\r\n        let arr = [];\r\n        // const vals= inputData.JASelectedSample && inputData.JASelectedSample.filter(\r\n        // (item,index) => \r\n        // item.nsectioncode!==inputData.JASelectedSample[inputData.JASelectedSample.lastIndexOf(inputData.JASelectedSample[index])].nsectioncode\r\n        // );\r\n\r\n        inputData.JASelectedSample && inputData.JASelectedSample.map((item) => {\r\n            if (!arr.includes(item.nsectioncode)) {\r\n                arr.push(item.nsectioncode)\r\n            }\r\n        }\r\n        )\r\n\r\n        let inputParamData = {\r\n            nsampletypecode: inputData.nsampletypecode,\r\n            nregtypecode: inputData.nregtypecode,\r\n            nregsubtypecode: inputData.nregsubtypecode,\r\n            npreregno: inputData.JASelectedSample && inputData.JASelectedSample.map(sample => sample.npreregno).join(\",\"),\r\n            nregistrationsectioncode: inputData.nregistrationsectioncode,\r\n            // ssectioncode : inputData.JASelectedSample && inputData.JASelectedSample.map(sample => sample.nsectioncode).join(\",\"),\r\n            nsectioncode: arr.map(item => item).join(\",\"),\r\n            ntransactionstatus: String(inputData.ntransactionstatus),\r\n            ntransactiontestcode: \"0\",\r\n            userinfo: inputData.userinfo,\r\n            ntestcode: inputData.ntestcode,\r\n            napprovalversioncode: inputData.napprovalversioncode,\r\n            fromdate: inputData.fromdate,\r\n            todate: inputData.todate,\r\n            activeTestTab: inputData.activeTestTab,\r\n            activeSampleTab: inputData.activeSampleTab,\r\n            activeSubSampleTab: inputData.activeSubSampleTab,\r\n            nneedsubsample: inputData.masterData.realRegSubTypeValue.nneedsubsample,\r\n            ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\r\n            nneedtemplatebasedflow: inputData.masterData.realRegSubTypeValue.nneedtemplatebasedflow,\r\n            checkBoxOperation: inputData.checkBoxOperation\r\n        }\r\n        let activeName = \"\";\r\n        let dataStateName = \"\";\r\n        dispatch(initRequest(true));\r\n        if (isServiceRequired) {\r\n            rsapi.post(\"joballocation/getJobAllocationSubSampleDetails\", { ...inputParamData, checkBoxOperation: inputData.checkBoxOperation })\r\n                .then(response => {\r\n                    if(response.data['JA_TEST']&&response.data['JA_TEST'].length===0){\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false\r\n                            }\r\n                        })\r\n                        toast.warn(intl.formatMessage({\r\n                            id: \"IDS_TESTISNOTAVAILABLE\"\r\n                        }));\r\n                    }\r\n                    else{\r\n                    let responseData = { ...response.data }\r\n                    responseData = sortData(responseData, 'descending', 'ntransactionsamplecode')\r\n                    // sortData(response.data);\r\n                    let oldSelectedTest = inputData.masterData.JASelectedTest;\r\n                    let oldSelectedSubSample = inputData.masterData.JASelectedSubSample;\r\n\r\n                    fillRecordBasedOnCheckBoxSelection(inputData.masterData, response.data, inputData.childTabsKey, inputData.checkBoxOperation, \"nregistrationsectioncode\", inputData.removeElementFromArray);\r\n\r\n                    // inputData.masterData.JA_SUBSAMPLE = response.data.JA_SUBSAMPLE;  \r\n                    // inputData.masterData.JASelectedSubSample=response.data.JASelectedSubSample;\r\n                    // inputData.masterData.JA_TEST = response.data.JA_TEST;  \r\n                    // inputData.masterData.JASelectedTest=response.data.JASelectedTest;\r\n                    // inputData.masterData.RegistrationAttachment =response.data.RegistrationAttachment;\r\n                    // inputData.masterData.RegistrationSampleAttachment =response.data.RegistrationSampleAttachment;\r\n                    // inputData.masterData.RegistrationComment =response.data.RegistrationComment;\r\n                    // inputData.masterData.RegistrationSampleComment =response.data.RegistrationSampleComment;\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        JASelectedTest: inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [],\r\n                        JASelectedSample: inputData.JASelectedSample\r\n                    }\r\n\r\n                    if (inputData.searchSubSampleRef !== undefined && inputData.searchSubSampleRef.current !== null) {\r\n                        inputData.searchSubSampleRef.current.value = \"\";\r\n                        masterData['searchedSubSample'] = undefined\r\n                    }\r\n                    if (inputData.searchTestRef !== undefined && inputData.searchTestRef.current !== null) {\r\n                        inputData.searchTestRef.current.value = \"\"\r\n                        masterData['searchedTest'] = undefined\r\n                    }\r\n                    let {\r\n                        testskip,\r\n                        testtake,\r\n                        subsampleskip, subsampletake,\r\n                        sampleskip, sampletake\r\n                    } = inputData\r\n                    // let bool = false;\r\n                    // Commented bool value because no need to check bool condition to update skipInfo value.\r\n                    let skipInfo = {}\r\n                    // if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\r\n                    testskip = 0;\r\n                    //     bool = true\r\n                    // }\r\n                    subsampleskip = 0;\r\n                    // bool = true\r\n                    // if (bool) {\r\n                    skipInfo = {\r\n                        testskip,\r\n                        testtake,\r\n                        subsampleskip, subsampletake,\r\n                        sampleskip, sampletake\r\n                    }\r\n                    // }\r\n                    let RegistrationTestAttachment = [];\r\n                    let RegistrationTestComment = [];\r\n                    let TestView = [];\r\n                    let RegistrationComment = [];\r\n                    let RegistrationSampleAttachment = [];\r\n\r\n                    //if (inputData.checkBoxOperation === 1) {\r\n                    if (inputData.checkBoxOperation === checkBoxOperation.MULTISELECT) {\r\n\r\n\r\n                        let wholeSubSampleList = masterData.JA_SUBSAMPLE.map(b => b.ntransactionsamplecode)\r\n                        oldSelectedSubSample = oldSelectedSubSample.filter(item =>\r\n                            wholeSubSampleList.includes(item.ntransactionsamplecode)\r\n                        );\r\n                        //ALPD-3398\r\n                        // oldSelectedSubSample.forEach((subsample, index) => {\r\n                        //     if (!wholeSubSampleList.includes(subsample.ntransactionsamplecode)) {\r\n                        //         oldSelectedSubSample.splice(index, 1)\r\n                        //     }\r\n\r\n                        // })\r\n                        if (oldSelectedSubSample.length > 0) {\r\n                            masterData = {\r\n                                ...masterData,\r\n                                JASelectedSubSample: oldSelectedSubSample\r\n                            }\r\n                        }\r\n\r\n\r\n                        let wholeTestList = masterData.JA_TEST.map(b => b.ntransactiontestcode)\r\n                        oldSelectedTest = oldSelectedTest.filter(item =>\r\n                            wholeTestList.includes(item.ntransactiontestcode)\r\n                        );\r\n                        //ALPD-3398\r\n                        // oldSelectedTest.map((test, index) => {\r\n                        //     if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                        //         oldSelectedTest.splice(index, 1)\r\n                        //     }\r\n                        //     return null;\r\n                        // })\r\n                        let keepOld = false;\r\n                        let ntransactiontestcode;\r\n                        let npreregno;\r\n                        if (oldSelectedTest.length > 0) {\r\n                            keepOld = true\r\n                            masterData = {\r\n                                ...masterData,\r\n                                JASelectedTest: oldSelectedTest\r\n                            }\r\n                        } else {\r\n                            ntransactiontestcode = masterData.JASelectedTest[0].ntransactiontestcode;\r\n                            npreregno = masterData.JASelectedSample[0].npreregno;\r\n                        }\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                TestView = keepOld ? inputData.masterData.TestView : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"TestView\"\r\n                                dataStateName = \"testViewDataState\"\r\n                                break;\r\n\r\n                            default:\r\n                                RegistrationComment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment, ntransactiontestcode, \"npreregno\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \" testAttachmentDataState\"\r\n                                break;\r\n                        }\r\n\r\n\r\n                        // } else if (inputData.checkBoxOperation === 5) {\r\n                    } else if (inputData.checkBoxOperation === checkBoxOperation.QUICKSELECTSTATUS) {\r\n                        let list = []\r\n                        let dbData = [];\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                dbData = response.data.RegistrationTestComment || []\r\n                                list = [...inputData.masterData.RegistrationTestComment, ...dbData];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                dbData = response.data.TestView || []\r\n                                list = [...inputData.masterData.TestView, ...dbData];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_SAMPLECOMMENTS\":\r\n                                dbData = response.data.RegistrationComment || []\r\n                                list = [...inputData.masterData.RegistrationComment, ...dbData];\r\n                                RegistrationComment = getRecordBasedOnPrimaryKeyName(list, inputData.JASelectedSample.length > 0 ? inputData.JASelectedSample[0].npreregno : \"\", \"npreregno\")\r\n                                break;\r\n                            default:\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                        }\r\n                    }\r\n                    //else if (inputData.checkBoxOperation === 7) {\r\n                    else if (inputData.checkBoxOperation === checkBoxOperation.QUICKSELECTALL) {\r\n                        let list = []\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                list = response.data.RegistrationTestComment ? sortData(response.data.RegistrationTestComment, 'descending', 'ntestcommentcode') : [];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                list = response.data.TestView ? sortData(response.data.TestView, 'descending', 'ntransactiontestcode') : [];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"TestView\"\r\n                                dataStateName = \"testViewDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_SAMPLECOMMENTS\":\r\n\r\n                                RegistrationComment = response.data.RegistrationComment ? [...response.data.RegistrationComment] : [];\r\n                                activeName = \"RegistrationComment\"\r\n                                dataStateName = \"sampleCommentsDataState\"\r\n                                break;\r\n                            default:\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                        let list = []\r\n                        if (!inputData.masterData.realRegSubTypeValue.nneedsubsample) {\r\n                            let wholeTestList = masterData.JA_TEST.map(b => b.ntransactiontestcode)\r\n                            oldSelectedTest = oldSelectedTest.filter(item =>\r\n                                wholeTestList.includes(item.ntransactiontestcode)\r\n                            );\r\n                            //ALPD-3398\r\n                            // oldSelectedTest.map((test, index) => {\r\n                            //     if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                            //         oldSelectedTest.splice(index, 1)\r\n                            //     }\r\n                            //     return null;\r\n                            // })\r\n                            let keepOld = false;\r\n                            let ntransactiontestcode;\r\n                            if (oldSelectedTest.length > 0) {\r\n                                keepOld = true\r\n                                masterData = {\r\n                                    ...masterData,\r\n                                    JASelectedTest: oldSelectedTest\r\n                                }\r\n                            } else {\r\n                                ntransactiontestcode = masterData.JASelectedTest[0].ntransactiontestcode\r\n                            }\r\n                        }\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                list = response.data.RegistrationTestComment ? sortData(response.data.RegistrationTestComment, 'descending', 'ntestcommentcode') : [];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                list = response.data.TestView ? sortData(response.data.TestView, 'descending', 'ntransactiontestcode') : [];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"TestView\"\r\n                                dataStateName = \"testViewDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_SAMPLECOMMENTS\":\r\n                                list = response.data.RegistrationComment ? sortData(response.data.RegistrationComment, 'descending', 'nregcommentcode') : [];\r\n                                RegistrationComment = getRecordBasedOnPrimaryKeyName(list, inputData.JASelectedSample.length > 0 ? inputData.JASelectedSample[0].npreregno : \"\", \"npreregno\")\r\n                                activeName = \"RegistrationComment\"\r\n                                dataStateName = \"sampleChangeDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_SUBSAMPLEATTACHMENTS\":\r\n                                list = response.data.RegistrationSampleAttachment ? sortData(response.data.RegistrationSampleAttachment, 'descending', 'nsampleattachmentcode') : [];\r\n                                RegistrationSampleAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JASelectedSubSample.length > 0 ? inputData.masterData.JASelectedSubSample[0].ntransactionsamplecode : \"\", \"ntransactionsamplecode\")\r\n                                activeName = \"RegistrationSampleAttachment\"\r\n                                dataStateName = \"subsampleAttachmentDataState\"\r\n                                break;\r\n\r\n                            default:\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n                        }\r\n                    }\r\n\r\n                    masterData = {\r\n                        ...masterData,\r\n                        RegistrationTestAttachment,\r\n                        RegistrationTestComment,\r\n                        TestView,\r\n                        RegistrationComment,\r\n                        RegistrationSampleAttachment\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    } else {\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            secondarySelection: inputData[\"secondarySelection\"],\r\n                            loading: false,\r\n                            // sampleskip: undefined,\r\n                            // sampletake: undefined,\r\n                            ...skipInfo,\r\n                            activeTabIndex: inputData.activeTabIndex\r\n                        }\r\n                    })\r\n                }\r\n                })\r\n               \r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                });\r\n        } else {\r\n            let oldSelectedTest = inputData.masterData.JASelectedTest\r\n            let oldSelectedSubSample = inputData.masterData.JASelectedSubSample\r\n            let { subsampletake, subsampleskip } = inputData;\r\n            let skipInfo = {};\r\n            let TestSelected = [];\r\n            let subSampleSelected = [];\r\n            if (inputData[\"statusNone\"]) {\r\n                TestSelected = getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest, inputData.removeElementFromArray[0].nregistrationsectioncode, \"nregistrationsectioncode\");\r\n                subSampleSelected = getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample, inputData.removeElementFromArray[0].nregistrationsectioncode, \"nregistrationsectioncode\");\r\n            }\r\n            else {\r\n                TestSelected = filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest, inputData.removeElementFromArray[0].nregistrationsectioncode, \"nregistrationsectioncode\");\r\n                subSampleSelected = filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample, inputData.removeElementFromArray[0].nregistrationsectioncode, \"nregistrationsectioncode\");\r\n            }\r\n\r\n            let isGrandChildGetRequired = false;\r\n            if (TestSelected.length > 0) {\r\n                isGrandChildGetRequired = false;\r\n            } else {\r\n                isGrandChildGetRequired = true;\r\n            }\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.JASelectedSample, inputData.childTabsKey, inputData.checkBoxOperation, \"nregistrationsectioncode\", inputData.removeElementFromArray);\r\n            if (isGrandChildGetRequired) {\r\n                let ntransactiontestcode = inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode.toString() : \"\";\r\n                let JASelectedSample = inputData.JASelectedSample;\r\n                let JASelectedTest = inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [];\r\n                let JASelectedSubSample = inputData.masterData.JA_SUBSAMPLE\r\n\r\n\r\n                if (inputData.masterData.realRegSubTypeValue.nneedsubsample) {\r\n                    let filterSelectedSubSample = getSameRecordFromTwoArrays(oldSelectedSubSample, inputData.masterData.JA_SUBSAMPLE, \"ntransactionsamplecode\");\r\n                    JASelectedSubSample = filterSelectedSubSample.length > 0 ? filterSelectedSubSample : [inputData.masterData.JA_SUBSAMPLE[0]];\r\n                    if (inputData.masterData.JA_SUBSAMPLE.length <= inputData.subsampleskip) {\r\n                        subsampleskip = 0;\r\n                        skipInfo = { subsampletake, subsampleskip }\r\n                    }\r\n                }\r\n                let ntransactionsamplecode = JASelectedSubSample.map(subsample => subsample.ntransactionsamplecode).join(',');\r\n                let npreregno = inputData.JASelectedSample && inputData.JASelectedSample.map(sample => sample.npreregno).join(',');\r\n                let nsectioncode = inputData.JASelectedSample && inputData.JASelectedSample.map(sample => sample.nsectioncode).join(',');\r\n                let masterData = { ...inputData.masterData, JASelectedSample, JASelectedSubSample, JASelectedTest }\r\n                inputData = {\r\n                    ...inputData,\r\n                    ntransactiontestcode,\r\n                    npreregno,\r\n                    nsectioncode,\r\n                    ntransactionsamplecode,\r\n                    JASelectedSample,\r\n                    JASelectedTest,\r\n                    JASelectedSubSample,\r\n                    //  checkBoxOperation: 3,\r\n                    checkBoxOperation: checkBoxOperation.SINGLESELECT,\r\n                    activeTestTab: inputData.activeTestTab, masterData\r\n                }\r\n\r\n                if (JASelectedTest.length > 0) {\r\n                    inputData = {\r\n                        ...inputData,\r\n                        childTabsKey: [\"RegistrationTestAttachment\", \"RegistrationTestComment\", \"TestView\"]\r\n                    }\r\n                    dispatch(getTestChildTabDetailJobAllocation(inputData, true));\r\n                } else {\r\n                    inputData = {\r\n                        ...inputData, masterData,\r\n                        childTabsKey: [\"JA_TEST\"]\r\n                    }\r\n                    dispatch(getJobAllocationTestDetail(inputData, true));\r\n                }\r\n            } else {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    JASelectedTest: TestSelected ? TestSelected : inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [],\r\n                    JASelectedSample: inputData.JASelectedSample,\r\n                    JASelectedSubSample: subSampleSelected ? subSampleSelected : inputData.masterData.JA_SUBSAMPLE.length > 0 ? [inputData.masterData.JA_SUBSAMPLE[0]] : []\r\n\r\n                }\r\n                let subsamplecheck = true;\r\n                if (inputData.masterData.realRegSubTypeValue.nneedsubsample) {\r\n                    let SubSampleSelected = getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedSubSample, inputData.removeElementFromArray[0].npreregno, \"npreregno\");\r\n                    if (SubSampleSelected.length > 0) {\r\n                        let filterSelectedSubSample = getSameRecordFromTwoArrays(oldSelectedSubSample, inputData.masterData.JA_SUBSAMPLE, \"ntransactionsamplecode\");\r\n                        if (filterSelectedSubSample.length === 0) {\r\n                            let wholeSubSample = masterData.JA_SUBSAMPLE.map(b => b.ntransactionsamplecode)\r\n                            oldSelectedSubSample = oldSelectedSubSample.filter(item =>\r\n                                wholeSubSample.includes(item.ntransactionsamplecode)\r\n                            );\r\n                            //ALPD-3398\r\n                            // oldSelectedSubSample.forEach((test, index) => {\r\n                            //     if (!wholeSubSample.includes(test.ntransactionsamplecode)) {\r\n                            //         oldSelectedSubSample.splice(index, 1)\r\n                            //     }\r\n                            //     return null;\r\n                            // })\r\n                            if (oldSelectedSubSample.length === 0 && wholeSubSample.length > 0\r\n                                && masterData.selectedTest.length === 0) {\r\n                                const selectedSubSample1 = [inputData.masterData.JA_SUBSAMPLE[0]];\r\n                                masterData = {\r\n                                    ...masterData,\r\n                                    JASelectedSubSample: selectedSubSample1,\r\n                                    selectedTest: []\r\n                                }\r\n                                inputData = { ...inputData, ...masterData }\r\n                                inputData[\"npreregno\"] = selectedSubSample1.map(x => x.npreregno).join(\",\")\r\n                                inputData[\"ntransactionsamplecode\"] = selectedSubSample1.map(x => x.ntransactionsamplecode).join(\",\")\r\n                                //inputData[\"checkBoxOperation\"] = 3\r\n                                inputData[\" checkBoxOperation\"] = checkBoxOperation.SINGLESELECT\r\n                                inputData[\"childTabsKey\"] = [\"JA_TEST\"]\r\n                                subsamplecheck = false;\r\n                                dispatch(getJobAllocationTestDetail(inputData, true));\r\n\r\n                            }\r\n                        } else {\r\n                            oldSelectedSubSample = filterSelectedSubSample\r\n                        }\r\n\r\n                    } else {\r\n                        let wholeSubSample = masterData.JA_SUBSAMPLE.map(b => b.ntransactionsamplecode)\r\n                        oldSelectedSubSample = oldSelectedSubSample.filter(item =>\r\n                            wholeSubSample.includes(item.ntransactionsamplecode)\r\n                        );\r\n                        //ALPD-3398\r\n                        // oldSelectedSubSample.forEach((test, index) => {\r\n                        //     if (!wholeSubSample.includes(test.ntransactionsamplecode)) {\r\n                        //         oldSelectedSubSample.splice(index, 1)\r\n                        //     }\r\n                        //     return null;\r\n                        // })\r\n                    }\r\n\r\n                    if (subsamplecheck) {\r\n                        masterData = {\r\n                            ...masterData,\r\n                            JASelectedSubSample: oldSelectedSubSample\r\n                        }\r\n                    }\r\n                    if (inputData.masterData.JA_SUBSAMPLE.length <= inputData.subsampleskip) {\r\n                        subsampleskip = 0;\r\n                        skipInfo = { subsampleskip, subsampletake }\r\n                    }\r\n                }\r\n                let wholeTestList = masterData.JA_TEST.map(b => b.ntransactiontestcode)\r\n\r\n                oldSelectedTest = oldSelectedTest.filter(item =>\r\n                    wholeTestList.includes(item.ntransactiontestcode)\r\n                );\r\n                //ALPD-3398         \r\n                // oldSelectedTest.map((test, index) => {\r\n                //     if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                //         oldSelectedTest.splice(index, 1)\r\n                //     }\r\n                //     return null;\r\n                // })\r\n\r\n                let keepOld = false;\r\n                let ntransactiontestcode;\r\n                if (oldSelectedTest.length > 0) {\r\n                    keepOld = true\r\n                    masterData = {\r\n                        ...masterData,\r\n                        JASelectedTest: oldSelectedTest\r\n                    }\r\n                } else {\r\n                    ntransactiontestcode = inputData.masterData.JA_TEST[0].ntransactiontestcode\r\n                }\r\n                const RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const TestView = keepOld ? inputData.masterData.TestView : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                let { testskip, testtake } = inputData\r\n                let bool = false;\r\n                let skipInfo = {}\r\n                if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\r\n                    testskip = 0;\r\n                    bool = true\r\n                }\r\n                if (bool) {\r\n                    skipInfo = {\r\n                        testskip,\r\n                        testtake\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            JASelectedSample: inputData.JASelectedSample,\r\n                            RegistrationTestAttachment,\r\n                            RegistrationTestComment,\r\n                            TestView,\r\n                        },\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        activeSampleTab: inputData.activeSampleTab,\r\n                        activeTestTab: inputData.activeTestTab,\r\n                        ...skipInfo,\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function getJobAllocationTestDetail(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n\r\n        //console.log(\"response :\");\r\n        let arr = [];\r\n        let arr1 = [];\r\n        // const vals= inputData.JASelectedSample && inputData.JASelectedSample.filter(\r\n        // (item,index) => \r\n        // item.nsectioncode!==inputData.JASelectedSample[inputData.JASelectedSample.lastIndexOf(inputData.JASelectedSample[index])].nsectioncode\r\n        // );\r\n        //   const myArray = inputData.nsectioncode.split(\",\");\r\n        //   myArray.map((item) => {\r\n        //         if(!arr.includes(item)) {\r\n        //             arr.push(item)\r\n        //           }\r\n        //         }\r\n        //     )\r\n\r\n        let JASelectedSubSample = inputData.JASelectedSubSample;\r\n        JASelectedSubSample && JASelectedSubSample.map((item) => {\r\n            if (!arr.includes(item.nsectioncode)) {\r\n                arr.push(item.nsectioncode)\r\n            }\r\n        }\r\n        )\r\n\r\n        let activeName = \"\";\r\n        let dataStateName = \"\";\r\n        let inputParamData = {\r\n            nflag: 3,\r\n            ntype: 3,\r\n            nsampletypecode: inputData.nsampletypecode,\r\n            nregtypecode: inputData.nregtypecode,\r\n            nregsubtypecode: inputData.nregsubtypecode,\r\n            npreregno: inputData.npreregno,\r\n            nsectioncode: arr.map(nsectioncode => nsectioncode).join(\",\"),\r\n            ntransactiontestcode: \"0\",\r\n            ntransactionstatus: inputData.ntransactionstatus.toString(),\r\n            ntransactionsamplecode: inputData.ntransactionsamplecode,\r\n            userinfo: inputData.userinfo,\r\n            ntestcode: inputData.ntestcode,\r\n            activeTestTab: inputData.activeTestTab,\r\n            ndesigntemplatemappingcode: inputData.ndesigntemplatemappingcode,\r\n            checkBoxOperation: inputData.checkBoxOperation,\r\n            nneedsubsample: inputData.nneedsubsample\r\n        }\r\n        const subSample = inputData.nneedsubsample;\r\n        if (isServiceRequired) {\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"joballocation/getJobAllocationTestDetails\", inputParamData)\r\n                .then(response => {\r\n                    let responseData = { ...response.data }\r\n                    responseData = sortData(responseData, 'descending', 'ntransactionsamplecode')\r\n                    let oldSelectedTest = inputData.masterData.JASelectedTest\r\n                    let oldSelectedSubSample = inputData.masterData.JASelectedSubSample || []\r\n                    fillRecordBasedOnCheckBoxSelection(inputData.masterData, response.data, inputData.childTabsKey, inputData.checkBoxOperation, \"ntransactionsamplecode\", inputData.removeElementFromArray);\r\n                    //inputData.masterData.JA_TEST = response.data.JA_TEST;\r\n\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        JASelectedTest: inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [],\r\n                        JASelectedSample: inputData.masterData.JASelectedSample,\r\n                        JASelectedSubSample: inputData.JASelectedSubSample || inputData.masterData.JASelectedSubSample,\r\n                    }\r\n\r\n                    if (inputData.searchSubSampleRef !== undefined && inputData.searchSubSampleRef.current !== null) {\r\n                        inputData.searchSubSampleRef.current.value = \"\";\r\n                        masterData['searchedSubSample'] = undefined\r\n                    }\r\n\r\n                    if (inputData.searchTestRef !== undefined && inputData.searchTestRef.current !== null) {\r\n                        inputData.searchTestRef.current.value = \"\"\r\n                        masterData['searchedTests'] = undefined\r\n                    }\r\n                    let {\r\n                        testskip,\r\n                        testtake\r\n                    } = inputData\r\n                    // let bool = false;\r\n                    // Commented bool value because no need to check bool condition to update skipInfo value.\r\n                    let skipInfo = {}\r\n                    // if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\r\n                    testskip = 0;\r\n                    // bool = true\r\n                    // }\r\n                    // if (bool) {\r\n                    skipInfo = {\r\n                        testskip,\r\n                        testtake\r\n                    }\r\n                    // }\r\n                    let RegistrationTestAttachment = [];\r\n                    let RegistrationTestComment = [];\r\n                    let TestView = [];\r\n                    let RegistrationSampleComment = [];\r\n                    let RegistrationSampleAttachment = [];\r\n\r\n                    //if (inputData.checkBoxOperation === 1) {\r\n                    if (inputData.checkBoxOperation === checkBoxOperation.MULTISELECT) {\r\n                        let wholeTestList = masterData.JA_TEST.map(b => b.ntransactiontestcode)\r\n                        oldSelectedTest = oldSelectedTest.filter(item =>\r\n                            wholeTestList.includes(item.ntransactiontestcode)\r\n                        );\r\n                        //ALPD-3398\r\n                        // oldSelectedTest.map((test, index) => {\r\n                        //     if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                        //         oldSelectedTest.splice(index, 1)\r\n                        //     }\r\n                        //     return null;\r\n                        // })\r\n                        let keepOld = false;\r\n                        let ntransactiontestcode;\r\n                        if (oldSelectedTest.length > 0) {\r\n                            keepOld = true\r\n                            masterData = {\r\n                                ...masterData,\r\n                                JASelectedTest: oldSelectedTest\r\n                            }\r\n                        } else {\r\n                            ntransactiontestcode = masterData.JASelectedTest[0].ntransactiontestcode\r\n                        }\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                TestView = keepOld ? inputData.masterData.TestView : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"TestView\"\r\n                                dataStateName = \"testViewDataState\"\r\n                                break;\r\n\r\n                            default:\r\n                                RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment, ntransactiontestcode, \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentDataState\"\r\n                                break;\r\n                        }\r\n\r\n                        //} else if (inputData.checkBoxOperation === 5) {\r\n                    } else if (inputData.checkBoxOperation === checkBoxOperation.QUICKSELECTSTATUS) {\r\n                        let list = []\r\n                        let dbData = [];\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                dbData = response.data.TestView || []\r\n                                list = [...inputData.masterData.TestView, ...dbData];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                dbData = response.data.RegistrationTestComment || []\r\n                                list = [...inputData.masterData.RegistrationTestComment, ...dbData];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                            default:\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                        }\r\n                        // } else if (inputData.checkBoxOperation === 7) {\r\n                    } else if (inputData.checkBoxOperation === checkBoxOperation.QUICKSELECTALL) {\r\n                        let list = []\r\n                        let dbData = [];\r\n                        let testList = reArrangeArrays(inputData.masterData.JA_SUBSAMPLE, responseData.JA_TEST, \"ntransactionsamplecode\");\r\n                        masterData = {\r\n                            ...masterData,\r\n                            JASelectedTest: [testList[0]],\r\n                            JA_TEST: testList,\r\n                        }\r\n\r\n                        switch (inputData.activeTestTab) {\r\n\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                dbData = response.data.TestView || []\r\n                                list = [...inputData.masterData.TestView, ...dbData];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n\r\n                            default:\r\n                                dbData = response.data.RegistrationTestAttachment || []\r\n                                list = [...inputData.masterData.RegistrationTestAttachment, ...dbData];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                break;\r\n                        }\r\n\r\n                    } else {\r\n                        let list = []\r\n                        switch (inputData.activeTestTab) {\r\n                            case \"IDS_TESTATTACHMENTS\":\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTCOMMENTS\":\r\n                                list = response.data.RegistrationTestComment ? sortData(response.data.RegistrationTestComment, 'descending', 'ntestcommentcode') : [];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_TESTVIEW\":\r\n                                list = response.data.TestView ? sortData(response.data.TestView, 'descending', 'ntransactiontestcode') : [];\r\n                                TestView = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"TestView\"\r\n                                dataStateName = \"testViewDataState\"\r\n                                break;\r\n\r\n                            case \"IDS_SUBSAMPLEATTACHMENTS\":\r\n                                list = response.data.RegistrationSampleComment ? sortData(response.data.RegistrationSampleComment, 'descending', 'ntestcommentcode') : [];\r\n                                RegistrationTestComment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_SUBSAMPLE.length > 0 ? inputData.masterData.JA_SUBSAMPLE[0].ntransactionsamplecode : \"\", \"ntransactionsamplecode\")\r\n                                activeName = \"RegistrationSampleComment\"\r\n                                dataStateName = \"testCommentDataState\"\r\n                                break;\r\n                            default:\r\n                                list = response.data.RegistrationTestAttachment ? sortData(response.data.RegistrationTestAttachment, 'descending', 'ntestattachmentcode') : [];\r\n                                RegistrationTestAttachment = getRecordBasedOnPrimaryKeyName(list, inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode : \"\", \"ntransactiontestcode\")\r\n                                activeName = \"RegistrationTestAttachment\"\r\n                                dataStateName = \"testAttachmentState\"\r\n                                break;\r\n                        }\r\n                    }\r\n                    if (subSample) {\r\n                        let wholeSubsampleList = masterData.JA_SUBSAMPLE.map(b => b.ntransactionsamplecode)\r\n                        oldSelectedSubSample = oldSelectedSubSample.filter(item =>\r\n                            wholeSubsampleList.includes(item.ntransactionsamplecode)\r\n                        );\r\n                        //ALPD-3398\r\n                        // oldSelectedSubSample.map((test, index) => {\r\n                        //     if (!wholeSubsampleList.includes(test.ntransactionsamplecode)) {\r\n                        //         oldSelectedSubSample.splice(index, 1)\r\n                        //     }\r\n                        //     return null;\r\n                        // })\r\n                        let keepOld = false;\r\n                        let ntransactionsamplecode;\r\n                        if (oldSelectedSubSample.length > 0) {\r\n                            keepOld = true\r\n                        } else {\r\n                            ntransactionsamplecode = masterData.selectedSubSample[0].ntransactionsamplecode\r\n                        }\r\n\r\n                        switch (inputData.activeSubSampleTab) {\r\n                            case \"IDS_SUBSAMPLECOMMENTS\":\r\n                                RegistrationSampleComment = keepOld ? inputData.masterData.RegistrationSampleComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationSampleComment, ntransactionsamplecode, \"ntransactionsamplecode\")\r\n                                activeName = \"RegistrationSampleComment\"\r\n                                dataStateName = \"subSampleCommentDataState\"\r\n                                break;\r\n                            default:\r\n                                RegistrationSampleAttachment = keepOld ? inputData.masterData.RegistrationSampleAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationSampleAttachment, ntransactionsamplecode, \"ntransactionsamplecode\")\r\n                                activeName = \"RegistrationSampleAttachment\"\r\n                                dataStateName = \"subSampleAttachmentDataState\"\r\n                                break;\r\n                        }\r\n                    }\r\n                    masterData = {\r\n                        ...masterData,\r\n                        RegistrationTestAttachment,\r\n                        RegistrationTestComment,\r\n                        TestView,\r\n                        RegistrationSampleComment,\r\n                        RegistrationSampleAttachment\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    } else {\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            loading: false,\r\n                            showFilter: false,\r\n                            activeTestTab: inputData.activeTestTab,\r\n                            // activeTestTab: inputData.activeTestTab,\r\n                            screenName: inputData.activeTestTab,\r\n                            subsampleskip: undefined,\r\n                            subsampletake: undefined,\r\n                            ...skipInfo\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    //console.log(\"error:\", error);\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            let oldSelectedTest = inputData.masterData.JASelectedTest\r\n            let TestSelected =\r\n                inputData[\"statusNone\"] ?\r\n                    getRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest, inputData.removeElementFromArray[0].ntransactionsamplecode, \"ntransactionsamplecode\") :\r\n                    filterRecordBasedOnPrimaryKeyName(inputData.masterData.JASelectedTest, inputData.removeElementFromArray[0].ntransactionsamplecode, \"ntransactionsamplecode\");\r\n            let isGrandChildGetRequired = false;\r\n            if (TestSelected.length > 0) {\r\n                isGrandChildGetRequired = false;\r\n            } else {\r\n                isGrandChildGetRequired = true;\r\n            }\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.JASelectedSubSample, inputData.childTabsKey, inputData.checkBoxOperation, \"ntransactionsamplecode\", inputData.removeElementFromArray);\r\n            if (isGrandChildGetRequired) {\r\n                let ntransactiontestcode = inputData.masterData.JA_TEST.length > 0 ? inputData.masterData.JA_TEST[0].ntransactiontestcode.toString() : \"\";\r\n                let JASelectedSubSample = inputData.RESelectedSubSample;\r\n                let JASelectedTest = inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [];\r\n                inputData = {\r\n                    ...inputData,\r\n                    childTabsKey: [\"TestView\", \"RegistrationTestAttachment\", \"RegistrationTestComment\"],\r\n                    ntransactiontestcode,\r\n                    JASelectedSample: inputData.masterData.JASelectedSample,\r\n                    JASelectedTest,\r\n                    JASelectedSubSample,\r\n                    //  checkBoxOperation: 3,\r\n                    checkBoxOperation: checkBoxOperation.SINGLESELECT,\r\n                    activeTestTab: inputData.activeTestTab\r\n                }\r\n                dispatch(getTestChildTabDetailJobAllocation(inputData, true));\r\n            } else {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    JASelectedTest: inputData.masterData.JA_TEST.length > 0 ? [inputData.masterData.JA_TEST[0]] : [],\r\n                    JASelectedSubSample: inputData.JASelectedSubSample\r\n                }\r\n                let wholeTestList = masterData.JA_TEST.map(b => b.ntransactiontestcode)\r\n                oldSelectedTest = oldSelectedTest.filter(item =>\r\n                    wholeTestList.includes(item.ntransactiontestcode)\r\n                );\r\n                //ALPD-3398\r\n                // oldSelectedTest.map((test, index) => {\r\n                //     if (!wholeTestList.includes(test.ntransactiontestcode)) {\r\n                //         oldSelectedTest.splice(index, 1)\r\n                //     }\r\n                //     return null;\r\n                // })\r\n                let keepOld = false;\r\n                let ntransactiontestcode;\r\n                if (oldSelectedTest.length > 0) {\r\n                    keepOld = true\r\n                    masterData = {\r\n                        ...masterData,\r\n                        JASelectedTest: oldSelectedTest\r\n                    }\r\n                } else {\r\n                    ntransactiontestcode = masterData.JA_TEST[0].ntransactiontestcode\r\n                }\r\n                const RegistrationTestAttachment = keepOld ? inputData.masterData.RegistrationTestAttachment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestAttachment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const RegistrationTestComment = keepOld ? inputData.masterData.RegistrationTestComment : getRecordBasedOnPrimaryKeyName(inputData.masterData.RegistrationTestComment || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n                const TestView = keepOld ? inputData.masterData.TestView : getRecordBasedOnPrimaryKeyName(inputData.masterData.TestView || [],\r\n                    ntransactiontestcode, \"ntransactiontestcode\");\r\n\r\n                let { testskip, testtake } = inputData\r\n                let bool = false;\r\n                let skipInfo = {}\r\n                if (inputData.masterData.JA_TEST.length <= inputData.testskip) {\r\n                    testskip = 0;\r\n                    bool = true\r\n                }\r\n                if (bool) {\r\n                    skipInfo = {\r\n                        testskip,\r\n                        testtake\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                            JASelectedSubSample: inputData.JASelectedSubSample,\r\n                            RegistrationTestAttachment,\r\n                            RegistrationTestComment,\r\n                            TestView,\r\n                        },\r\n                        loading: false,\r\n                        showFilter: false,\r\n                        activeSampleTab: inputData.activeSampleTab,\r\n                        activeTestTab: inputData.activeTestTab,\r\n                        // activeTestTab: inputData.activeTestTab,\r\n                        ...skipInfo\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function getTestChildTabDetailJobAllocation(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n        let arr = [];\r\n        inputData.JASelectedTest && inputData.JASelectedTest.map((item) => {\r\n            if (!arr.includes(item.nsectioncode)) {\r\n                arr.push(item.nsectioncode)\r\n            }\r\n        }\r\n        )\r\n        let inputParamData = {\r\n            ntransactiontestcode: inputData.JASelectedTest.map(test => test.ntransactiontestcode).join(\",\"),\r\n            npreregno: inputData.npreregno,\r\n            nsectioncode: arr.map(nsectioncode => nsectioncode).join(\",\"),\r\n            //ssectioncode :inputData.JASelectedTest.map(sample => sample.nsectioncode).join(\",\"),\r\n            ntransactionsamplecode: inputData.JASelectedTest.map(test => test.ntransactionsamplecode).join(\",\"),\r\n            ndesigntemplatemappingcode: inputData.masterData.realDesignTemplateMappingValue && inputData.masterData.realDesignTemplateMappingValue.ndesigntemplatemappingcode,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let activeName = \"\";\r\n        let dataStateName = \"\";\r\n        let url = \"\";\r\n\r\n        switch (inputData.activeTestTab) {\r\n            case \"IDS_TESTATTACHMENTS\":\r\n                url = \"attachment/getTestAttachment\"\r\n                activeName = \"RegistrationTestAttachment\"\r\n                dataStateName = \"testAttachmentDataState\"\r\n                break;\r\n            case \"IDS_TESTCOMMENTS\":\r\n                url = \"comments/getTestComment\"\r\n                activeName = \"RegistrationTestComment\"\r\n                dataStateName = \"testCommentDataState\"\r\n                break;\r\n            case \"IDS_SAMPLEATTACHMENTS\":\r\n                url = \"attachment/getSampleAttachment\"\r\n                activeName = \"RegistrationSampleAttachment\"\r\n                dataStateName = \"sampleAttachmentDataState\"\r\n                break;\r\n            case \"IDS_TESTVIEW\":\r\n                url = \"joballocation/getTestView\"\r\n                activeName = \"TestView\"\r\n                dataStateName = \"testViewDataState\"\r\n                break;\r\n            default:\r\n                url = \"attachment/getTestAttachment\"\r\n                activeName = \"RegistrationTestAttachment\"\r\n                dataStateName = \"testAttachmentDataState\"\r\n                break;\r\n        }\r\n        dispatch(initRequest(true));\r\n        if (isServiceRequired) {\r\n            rsapi.post(url, inputParamData)\r\n                .then(response => {\r\n                    let responseData = {\r\n                        ...response.data,\r\n                        JASelectedSample: inputData.JASelectedSample || inputData.masterData.JASelectedSample,\r\n                        JASelectedTest: inputData.JASelectedTest,\r\n                        activeTabIndex: inputData.activeTabIndex,\r\n                        activeTabId: inputData.activeTabId\r\n                    }\r\n                    let skipInfo = {};\r\n                    fillRecordBasedOnCheckBoxSelection(inputData.masterData, responseData, inputData.childTabsKey, inputData.checkBoxOperation, \"npreregno\", inputData.removeElementFromArray);\r\n                    let masterData = {\r\n                        ...inputData.masterData,\r\n                        ...responseData,\r\n                        JASelectedTest: inputData.JASelectedTest\r\n                    }\r\n                    if (inputData[dataStateName] && masterData[activeName] && masterData[activeName].length <= inputData[dataStateName].skip) {\r\n\r\n                        skipInfo = {\r\n\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                skip: 0,\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    } else {\r\n                        skipInfo = {\r\n                            ...skipInfo,\r\n                            [dataStateName]: {\r\n                                ...inputData[dataStateName],\r\n                                sort: undefined,\r\n                                filter: undefined\r\n                            }\r\n                        }\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            activeTabIndex: inputData.activeTabIndex,\r\n                            activeTabId: inputData.activeTabId,\r\n                            activeTestTab: inputData.activeTestTab,\r\n                            loading: false,\r\n                            activeTestTab: inputData.activeTestTab,\r\n                            screenName: inputData.activeTestTab,\r\n                            testskip: undefined,\r\n                            testtake: undefined,\r\n                            ...skipInfo\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        } else {\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.JASelectedTest, inputData.childTabsKey, inputData.checkBoxOperation, \"ntransactiontestcode\", inputData.removeElementFromArray);\r\n            let skipInfo = {};\r\n            let masterData = {\r\n                ...inputData.masterData,\r\n                JASelectedTest: inputData.JASelectedTest\r\n            }\r\n            if (masterData[activeName].length <= inputData.skip) {\r\n\r\n                skipInfo = {\r\n\r\n                    [dataStateName]: {\r\n                        ...inputData[dataStateName],\r\n                        skip: 0,\r\n                        sort: undefined,\r\n                        filter: undefined\r\n                    }\r\n                }\r\n            } else {\r\n                skipInfo = {\r\n                    ...skipInfo,\r\n                    [dataStateName]: {\r\n                        ...inputData[dataStateName],\r\n                        sort: undefined,\r\n                        filter: undefined\r\n                    }\r\n                }\r\n            }\r\n            dispatch({\r\n                type: DEFAULT_RETURN,\r\n                payload: {\r\n                    masterData,\r\n                    loading: false,\r\n                    showFilter: false,\r\n                    activeTestTab: inputData.activeTestTab,\r\n                    screenName: inputData.screenName,\r\n                    ...skipInfo\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function validateEsignforJobAllocation(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n\r\n                    const methodUrl = inputParam.screenData.inputParam.methodUrl;\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n                        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"]\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n                    }\r\n                    dispatch(dispatchMethods(inputParam[\"screenData\"]))\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}\r\n\r\nfunction dispatchMethods(screenData) {\r\n    return (dispatch) => {\r\n        let action = screenData.inputParam.action\r\n        switch (action) {\r\n            case \"receiveinlab\":\r\n                dispatch(ReceiveinLabStatusWise(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"allotjob\":\r\n                dispatch(AllotJobAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"allotanotheruser\":\r\n                dispatch(AllotAnotherUserAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"reschedule\":\r\n                dispatch(RescheduleJobAction(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"canceltest\":\r\n                dispatch(CancelTestWise(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"AllotJobCalendar\":    // ALPD-5263 Added AllotJobCalendar condition by Vishakh due to not added this got loader issue\r\n                dispatch(AllotJobActionCalendar(screenData.inputParam, screenData.masterData));\r\n                break;\r\n            case \"updateSection\":\r\n                dispatch(updateSectionJobAllocation(screenData.inputParam));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function updatedObjectWithNewElement1(oldList, newList) {\r\n    oldList = [...newList, ...oldList];\r\n    return oldList;\r\n}\r\n\r\n\r\n\r\nexport function getAnalystCalenderBasedOnUser(nusercode, masterData, userInfo, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getAnalystCalendarBasedOnUser\", {\r\n            \"nusercode\": nusercode,\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: { ...masterData, analystCalenderData: response.data.UserData },\r\n                        loading: false,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getInstrumentNameForSchedule(ninstrumentcatcode, userInfo, edit, ninstrumentnamecode) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getInstrumentNameBasedCategoryForSchedule\", {\r\n            \"ninstrumentcatcode\": ninstrumentcatcode, \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                let InstrumentName = [];\r\n                const InstrumentMap = constructOptionList(response.data.InstrumentName || [], \"ninstrumentnamecode\", \"sinstrumentname\", undefined, undefined, false);\r\n                InstrumentName = InstrumentMap.get(\"OptionList\");\r\n                if (edit && ninstrumentnamecode) {\r\n\r\n                    let obj = { InstrumentName, selectedInstrumentCatCode: ninstrumentcatcode }\r\n\r\n                    dispatch(getInstrumentForSchedule(ninstrumentcatcode, ninstrumentnamecode, userInfo, edit, obj))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            selectedInstrumentCatCode: ninstrumentcatcode,\r\n                            InstrumentName,\r\n                            Instrument: [],\r\n                            loading: false\r\n                        }\r\n                    });\r\n                }\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getInstrumentForSchedule(ninstrumentcatcode, ninstrumentnamecode, userInfo, edit, obj) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getInstrumentBasedCategoryForSchedule\", {\r\n            \"ninstrumentcatcode\": ninstrumentcatcode, \"ninstrumentnamecode\": ninstrumentnamecode, \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                let Instrument = [];\r\n                const InstrumentMap = constructOptionList(response.data.Instrument || [], \"ninstrumentcode\", \"sinstrumentid\", undefined, undefined, false);\r\n                Instrument = InstrumentMap.get(\"OptionList\");\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Instrument,\r\n                        loading: false,\r\n                        ...obj\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function AllotJobActionCalendar(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/AllotJobCreateCalendar\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    replaceUpdatedObject(response.data[\"JA_TEST\"], inputParam.inputData.masterData.JA_TEST, \"ntransactiontestcode\");\r\n                    delete response.data[\"JA_TEST\"];\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data,\r\n                        JASelectedTest: replaceUpdatedObject(response.data[\"JASelectedTest\"], inputParam.inputData.masterData.JASelectedTest, \"ntransactiontestcode\"),\r\n                        TestView: replaceUpdatedObject(response.data[\"TestView\"], inputParam.inputData.masterData.TestView, \"ntransactiontestcode\")\r\n                    }\r\n                    let respObject = {\r\n                        ...inputParam.inputData,\r\n                        masterData,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function clearInstrumentLoginData() {\r\n    return function (dispatch) {\r\n        //  dispatch(initRequest(true));\r\n\r\n        dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                //Instrument\r\n                Instrument: [],\r\n                selectedInstrumentCatCode: undefined,\r\n                InstrumentName: [],\r\n                //  loading: false,\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n//ALPD-3781\r\nexport function getSectionTest(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getSectionChange\", inputParam.inputData\r\n        )\r\n            .then(response => {\r\n                let Section = [];\r\n                //ALPD-4050\r\n                let selectedRecord={...inputParam.selectedRecord,nsectioncode:\"\"}\r\n                const SectionMap = constructOptionList(response.data.Section || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\r\n                Section = SectionMap.get(\"OptionList\");\r\n           \r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        Section,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: true,operation:inputParam.inputData.operation,\r\n                        screenName:inputParam.inputData.screenName,\r\n                        ncontrolcode:inputParam.inputData.ncontrolcode,\r\n                        selectedRecord\r\n\r\n                    }\r\n                });\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n//ALPD-3781\r\nexport function updateSectionJobAllocation(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/updateSectionJobAllocation\", inputParam.inputData\r\n        )\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    let UserSection = [];\r\n                    const UserSectionMap = constructOptionList(response.data.UserSection || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\r\n                    UserSection = UserSectionMap.get(\"OptionList\");\r\n                    let masterData = {\r\n                        ...inputParam.inputData.masterData,\r\n                        ...response.data\r\n                        \r\n                    }\r\n                    let selectedRecord={...inputParam.selectedRecord,\"nsectioncode\":\"\"}\r\n\r\n                    let respObject = {\r\n                        ...inputParam.inputData,\r\n                        masterData,\r\n                        UserSection,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showSample: undefined,\r\n                        selectedRecord\r\n                    }\r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n//ALPD-3781\r\nexport function getUsersSection(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"joballocation/getUsersBySection\", {\"userinfo\":inputParam.userInfo,\"nsectioncode\":inputParam.nsectioncode,\"nregtypecode\":inputParam.nregtypecode,\"nregsubtypecode\":inputParam.nregsubtypecode}\r\n        )\r\n            .then(response => {\r\n                if (response.data.rtn === undefined || response.data.rtn === \"Success\") {\r\n                    let Users = [];\r\n                    const SectionUsersMap = constructOptionList(response.data.Users || [], \"nusercode\", \"susername\", undefined, undefined, false);\r\n                    Users =SectionUsersMap.get(\"OptionList\");\r\n                    let selectedRecord={...inputParam.selectedRecord,\"nusercode\":\"\",\"ntechniquecode\":\"\"}\r\n                    let masterData = {\r\n                        ...inputParam.masterData,\r\n                        ...response.data\r\n                        \r\n                    }\r\n                    let respObject = {\r\n                        selectedRecord,\r\n                        masterData,\r\n                        Users,\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                     \r\n                        showSample: undefined\r\n                    }\r\n                   \r\n                    dispatch(postCRUDOrganiseTransSearch(inputParam.postParamList, respObject))\r\n\r\n                } else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            loadEsign: false,\r\n                            openModal: false\r\n                        }\r\n                    });\r\n                    toast.warn(response.data.rtn);\r\n                }\r\n\r\n\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getJobAllcationFilterDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"joballocation/getJobAllocationFilter\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                \r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchSampleRef !== undefined && inputParam.searchSampleRef.current !== null) {\r\n                    inputParam.searchSampleRef.current.value = \"\";\r\n                    masterData['searchedSample'] = undefined\r\n                }\r\n                if (inputParam.searchSubSampleRef !== undefined && inputParam.searchSubSampleRef.current !== null) {\r\n                    inputParam.searchSubSampleRef.current.value = \"\";\r\n                    masterData['searchedSubSample'] = undefined\r\n                }\r\n                if (inputParam.searchTestRef !== undefined && inputParam.searchTestRef.current !== null) {\r\n                    inputParam.searchTestRef.current.value = \"\"\r\n                    masterData['searchedTest'] = undefined\r\n\r\n                }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,                    \r\n                        showFilter: false,\r\n                        nfilternamecode:inputParam.inputData.nfilternamecode,\r\n                        modalShow:false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}