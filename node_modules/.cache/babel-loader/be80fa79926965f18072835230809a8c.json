{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Row,Col,Card,Tab,Nav}from'react-bootstrap';import{injectIntl}from'react-intl';import{FormattedMessage}from'react-intl';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign,validateEmail,validatePhoneNumber}from'../../components/CommonScript';import Esign from'../audittrail/Esign';import{transactionStatus}from'../../components/Enumeration';import CustomAccordion from'../../components/custom-accordion/custom-accordion.component';import ClientTabsAccordion from'./ClientTabsAccordion';import{toast}from'react-toastify';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddClientContact from'./AddClientContact';import AddClientDepartment from'./AddClientDepartment';var ClientDepartmentTab=/*#__PURE__*/function(_Component){_inherits(ClientDepartmentTab,_Component);var _super=_createSuper(ClientDepartmentTab);function ClientDepartmentTab(props){var _this;_classCallCheck(this,ClientDepartmentTab);_this=_super.call(this,props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.ClientContact,event.dataState),dataState:event.dataState});};_this.openModalContact=function(input){var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:true,operation:input.operation,selectedRecord:undefined,defaultSite:undefined,ncontrolCode:input.ncontrolCode,screenName:\"IDS_CLIENTCONTACT\",loading:false}};_this.props.updateStore(updateInfo);};_this.clientDepartmentAccordion=function(clientDepartment){var primaryKeyField=\"nclientcontactcode\";var addClientContactId=_this.props.controlMap.has(\"AddClientContact\")&&_this.props.controlMap.get(\"AddClientContact\").ncontrolcode;var editClientContactId=_this.props.controlMap.has(\"EditClientContact\")&&_this.props.controlMap.get(\"EditClientContact\").ncontrolcode;var editContactParam={screenName:\"ClientContact\",primaryKeyField:\"nclientcontactcode\",operation:\"update\",inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,ncontrolCode:editClientContactId};var AddContactParam={screenName:\"ClientContact\",primaryKeyField:primaryKeyField,undefined:undefined,operation:\"create\",inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,ncontrolCode:addClientContactId};var accordionMap=new Map();clientDepartment.map(function(clientDepartment){return accordionMap.set(clientDepartment.nclientdeptcode,/*#__PURE__*/React.createElement(ClientTabsAccordion,{clientDepartment:clientDepartment,getClientDepartmentForAddEdit:_this.props.getClientDepartmentForAddEdit,masterData:_this.props.masterData,ConfirmDelete:_this.ConfirmDelete,addClientContactId:addClientContactId,AddContactParam:AddContactParam,openModalContact:_this.openModalContact// tabDetail={this.tabDetail(userSite)}   \n,primaryKeyField:primaryKeyField,expandField:\"expanded\",detailedFieldList:_this.detailedFieldList,extractedColumnList:_this.ContactColumns,inputParam:_this.props.inputParam,userInfo:_this.props.userInfo,data:_this.state.ClientContact||[],ClientContact:_this.state.ClientContact||[],dataState:_this.state.dataState,dataStateChange:_this.dataStateChange,controlMap:_this.props.controlMap,userRoleControlRights:_this.props.userRoleControlRights||[],methodUrl:\"ClientContact\",getClientContactForAddEdit:_this.props.getClientContactForAddEdit,editParam:editContactParam,deleteParam:{operation:\"delete\"},deleteRecord:_this.DeleteContact,scrollable:\"scrollable\",isActionRequired:true,selectedId:_this.props.selectedId,hasDynamicColSize:true}));});return accordionMap;};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.Delete(obj);});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name==='ntransactionstatus'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;}else if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}}else{if(event.target.name===\"sphoneno\"||event.target.name===\"smobileno\"||event.target.name===\"sfaxno\"){if(event.target.value!==\"\"){event.target.value=validatePhoneNumber(event.target.value);selectedRecord[event.target.name]=event.target.value!==\"\"?event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=event.target.value;}}else{selectedRecord[event.target.name]=event.target.value;}// selectedRecord[event.target.name] = event.target.value;\n}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,fieldName){if(comboData!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;//.value;\n_this.setState({selectedRecord:selectedRecord});}};_this.closeModal=function(){var loadEsign=_this.props.loadEsign;var openChildModal=_this.props.openChildModal;var selectedRecord=_this.props.selectedRecord;if(_this.props.loadEsign){if(_this.props.operation===\"delete\"){loadEsign=false;openChildModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openChildModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.onSaveClick=function(saveType,formRef){if(_this.state.selectedRecord['semail']?validateEmail(_this.state.selectedRecord['semail']):true){var inputParam={};if(_this.props.screenName===\"IDS_CLIENTDEPARTMENT\"){inputParam=_this.SaveDepartmentDetails(saveType,formRef);}else{inputParam=_this.SaveContactInfo(saveType,formRef);}if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,_this.props.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALIDEMAIL\"}));}};_this.DeleteContact=function(deleteParam){var inputData=[];if(deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}inputData[\"clientcontact\"]=deleteParam.selectedRecord;inputData[\"userinfo\"]=_this.props.userInfo;var inputParam={methodUrl:\"ClientContact\",classUrl:_this.props.inputParam.classUrl,inputData:inputData,operation:\"delete\",dataState:_this.state.dataState};if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:\"Contact\",operation:\"delete\"}};_this.props.updateStore(updateInfo);}else{if(showEsign(_this.props.userRoleControlRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:\"Contact\",operation:\"delete\"}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}};_this.Delete=function(deleteParam){var inputData=[];if(deleteParam.selectedRecord.expanded&&deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}inputData[deleteParam.Type]=deleteParam.selectedRecord;inputData[\"userinfo\"]=_this.props.userInfo;var inputParam={methodUrl:deleteParam.methodURL,classUrl:_this.props.inputParam.classUrl,inputData:inputData,operation:\"delete\"};if(showEsign(_this.props.esignRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{if(showEsign(_this.props.userRoleControlRights,_this.props.userInfo.nformcode,deleteParam.ncontrolCode)){var _updateInfo2={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.masterData},openChildModal:true,screenName:deleteParam.screenName,operation:deleteParam.operation}};_this.props.updateStore(_updateInfo2);}else{_this.props.crudMaster(inputParam,_this.props.masterData,\"openChildModal\");}}//this.props.crudMaster(inputParam, this.props.masterData);\n};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.screenData};_this.props.validateEsignCredential(inputParam,\"openChildModal\");};var dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={isSiteOpen:false,isContactOpen:false,siteSelectedRecord:{},contactSelectedRecord:{},dataResult:[],dataState:dataState,ClientContact:_this.props.masterData.ClientContact,Country:[],SiteCode:_this.props.masterData.SiteCode,selectedRecord:{},countryCode:[]};_this.ContactColumns=[{\"idsName\":\"IDS_CLIENTCONTACTNAME\",\"mandatory\":false,\"dataField\":\"scontactname\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{dataField:\"semail\",idsName:\"IDS_EMAILID\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{dataField:\"sdefaultContact\",idsName:\"IDS_DEFAULT\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.siteColumns=[{\"idsName\":\"IDS_MANUFSITENAME\",\"mandatory\":true,\"dataField\":\"sclientdeptname\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ADDRESS1\",\"mandatory\":true,\"dataField\":\"saddress1\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_COUNTRYNAME\",\"mandatory\":true,\"dataField\":\"ncountrycode\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.detailedFieldList=[{\"dataField\":\"sphoneno\",\"idsName\":\"IDS_PHONE\",columnSize:\"4\"},{\"idsName\":\"IDS_MOBILE\",\"dataField\":\"smobileno\",columnSize:\"4\"},{dataField:\"sfaxno\",idsName:\"IDS_FAX\",columnSize:\"4\"},{dataField:\"scomments\",idsName:\"IDS_COMMENTS\",columnSize:\"12\"}];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ClientDepartmentTab,[{key:\"render\",value:function render(){var _this2=this;var addClientDeptId=this.props.controlMap.has(\"AddClientDepartment\")&&this.props.controlMap.get(\"AddClientDepartment\").ncontrolcode;var mandatoryFields=[];if(this.props.screenName===\"IDS_CLIENTDEPARTMENT\"){this.siteColumns.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});}else{this.ContactColumns.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},/*#__PURE__*/React.createElement(Tab.Content,null,/*#__PURE__*/React.createElement(Tab.Pane,{\"aria-labelledby\":\"Version-tab\",className:\"p-0 active show\"},/*#__PURE__*/React.createElement(Row,{className:\"no-gutters pt-2 pb-2 col-12 text-right border-bottom\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addClientDeptId)===-1,onClick:function onClick(){return _this2.props.getClientDepartmentForAddEdit(\"ClientDepartment\",\"create\",_this2.props.masterData.selectedClient.nclientcode,undefined,addClientDeptId,_this2.props.userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CLIENTDEPARTMENT\",defaultMessage:\"Department\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(Col,{md:12},this.props.masterData.ClientDepartment&&this.props.masterData.ClientDepartment.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"filter\",accordionTitle:\"sclientdeptname\",accordionComponent:this.clientDepartmentAccordion(this.props.masterData.ClientDepartment),inputParam:{masterData:this.props.masterData,userInfo:this.props.userInfo},accordionClick:this.props.getClientDeptContactDetails,accordionPrimaryKey:\"nclientdeptcode\",accordionObjectName:\"clientDepartment\",selectedKey:this.props.masterData.selectedClientDepartment.nclientdeptcode}):\"\"))))))),/*#__PURE__*/React.createElement(React.Fragment,null,this.props.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.openChildModal,closeModal:this.closeModal,operation:this.props.operation,inputParam:this.props.inputParam,screenName:this.props.screenName,onSaveClick:this.onSaveClick,updateStore:this.props.updateStore,esign:this.props.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.screenName===\"IDS_CLIENTDEPARTMENT\"?/*#__PURE__*/React.createElement(AddClientDepartment,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,Country:this.props.Country||[],inputParam:this.props.inputParam}):/*#__PURE__*/React.createElement(AddClientContact,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange})})));}},{key:\"SaveDepartmentDetails\",value:function SaveDepartmentDetails(saveType,formRef){var _this3=this;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;var fieldList=[\"nclientdeptcode\",\"ncountrycode\",\"sclientdeptname\",\"saddress1\",\"saddress2\",\"saddress3\",\"ndefaultstatus\",\"ntransactionstatus\"];if(this.props.operation===\"update\"){inputData[\"clientdepartment\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode};fieldList.map(function(item){if(item===\"ncountrycode\"){return inputData[\"clientdepartment\"][item]=_this3.state.selectedRecord[item]?_this3.state.selectedRecord[item].value:\"\";}else{return inputData[\"clientdepartment\"][item]=_this3.state.selectedRecord[item]?_this3.state.selectedRecord[item]:\"\";}});}else{inputData[\"clientdepartment\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode};fieldList.map(function(item){if(item===\"ncountrycode\"){return inputData[\"clientdepartment\"][item]=_this3.state.selectedRecord[item].value;}else{return inputData[\"clientdepartment\"][item]=_this3.state.selectedRecord[item];}});}var inputParam={classUrl:this.props.inputParam.classUrl,methodUrl:\"ClientDepartment\",inputData:inputData,operation:this.props.operation,saveType:saveType,formRef:formRef};return inputParam;//this.props.crudMaster(inputParam, this.props.masterData);\n}},{key:\"SaveContactInfo\",value:function SaveContactInfo(saveType,formRef){var _this4=this;var dataState=undefined;var inputData=[];inputData[\"userinfo\"]=this.props.userInfo;var fieldList=[\"nclientcontactcode\",\"scontactname\",\"sphoneno\",\"smobileno\",\"semail\",\"sfaxno\",\"scomments\",\"ndefaultcontact\"];var selectedId=null;if(this.props.operation===\"update\"){inputData[\"clientcontact\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode,\"nclientdeptcode\":this.props.masterData.selectedClientDepartment.nclientdeptcode};selectedId=this.props.selectedRecord.nclientcontactcode;fieldList.map(function(item){return inputData[\"clientcontact\"][item]=_this4.state.selectedRecord[item]?_this4.state.selectedRecord[item]:\"\";});dataState=this.state.dataState;}else{inputData[\"clientcontact\"]={\"nclientcode\":this.props.masterData.selectedClient.nclientcode,\"nclientdeptcode\":this.props.masterData.selectedClientDepartment.nclientdeptcode};fieldList.map(function(item){return inputData[\"clientcontact\"][item]=_this4.state.selectedRecord[item]?_this4.state.selectedRecord[item]:\"\";});inputData[\"clientcontact\"]['ndefaultcontact']=this.state.selectedRecord&&this.state.selectedRecord.ndefaultcontact?this.state.selectedRecord.ndefaultcontact:transactionStatus.YES;}var inputParam={classUrl:this.props.inputParam.classUrl,methodUrl:\"ClientContact\",inputData:inputData,selectedId:selectedId,operation:this.props.operation,saveType:saveType,formRef:formRef,dataState:dataState};return inputParam;// this.props.crudMaster(inputParam, this.props.masterData);\n}// DeleteContact = (e, selectedRecord, Type, methodURL,operation,screenName, ncontrolCode) => {\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.masterData!==previousProps.masterData){var dataState=this.state.dataState;if(this.props.dataState===undefined){dataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}this.setState({isSiteOpen:false,isContactOpen:false,ClientContact:this.props.masterData.ClientContact,SiteCode:this.props.masterData.SiteCode,Country:this.props.masterData.Country,dataState:dataState});}if(this.props.selectedRecord!==previousProps.selectedRecord){this.setState({selectedRecord:this.props.selectedRecord});}}}]);return ClientDepartmentTab;}(Component);export default injectIntl(ClientDepartmentTab);","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/contactmaster/ClientDepartmentTab.jsx"],"names":["React","Component","Row","Col","Card","Tab","Nav","injectIntl","FormattedMessage","FontAwesomeIcon","faPlus","process","SlideOutModal","DEFAULT_RETURN","showEsign","validateEmail","validatePhoneNumber","Esign","transactionStatus","CustomAccordion","ClientTabsAccordion","toast","ConfirmMessage","AddClientContact","AddClientDepartment","ClientDepartmentTab","props","dataStateChange","event","setState","dataResult","state","ClientContact","dataState","openModalContact","input","updateInfo","typeName","data","openChildModal","operation","selectedRecord","undefined","defaultSite","ncontrolCode","screenName","loading","updateStore","clientDepartmentAccordion","clientDepartment","primaryKeyField","addClientContactId","controlMap","has","get","ncontrolcode","editClientContactId","editContactParam","inputParam","userInfo","AddContactParam","accordionMap","Map","map","set","nclientdeptcode","getClientDepartmentForAddEdit","masterData","ConfirmDelete","detailedFieldList","ContactColumns","userRoleControlRights","getClientContactForAddEdit","DeleteContact","selectedId","obj","confirmMessage","confirm","intl","formatMessage","id","Delete","onInputOnChange","target","type","name","checked","ACTIVE","DEACTIVE","YES","NO","value","onComboChange","comboData","fieldName","closeModal","loadEsign","onSaveClick","saveType","formRef","SaveDepartmentDetails","SaveContactInfo","esignRights","nformcode","screenData","crudMaster","warn","deleteParam","inputData","expanded","methodUrl","classUrl","Type","methodURL","validateEsign","sreason","password","validateEsignCredential","skip","take","settings","parseInt","isSiteOpen","isContactOpen","siteSelectedRecord","contactSelectedRecord","Country","SiteCode","countryCode","dataField","idsName","siteColumns","columnSize","addClientDeptId","mandatoryFields","forEach","item","mandatory","push","indexOf","selectedClient","nclientcode","ClientDepartment","length","getClientDeptContactDetails","selectedClientDepartment","fieldList","nclientcontactcode","ndefaultcontact","previousProps"],"mappings":"oxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,GAAzB,CAA8BC,GAA9B,KAAyC,iBAAzC,CACA,OAASC,UAAT,KAA2B,YAA3B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,MAAT,KAAuB,mCAAvB,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,SAAT,CAAoBC,aAApB,CAAmCC,mBAAnC,KAA8D,+BAA9D,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,OAASC,iBAAT,KAAkC,8BAAlC,CACA,MAAOC,CAAAA,eAAP,KAA4B,8DAA5B,CACC,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACD,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,C,GAEMC,CAAAA,mB,0HACF,6BAAYC,KAAZ,CAAmB,qDACf,uBAAMA,KAAN,EADe,MAkCnBC,eAlCmB,CAkCD,SAACC,KAAD,CAAW,CACzB,MAAKC,QAAL,CAAc,CACVC,UAAU,CAAEnB,OAAO,CAAC,MAAKoB,KAAL,CAAWC,aAAZ,CAA2BJ,KAAK,CAACK,SAAjC,CADT,CAEVA,SAAS,CAAEL,KAAK,CAACK,SAFP,CAAd,EAIH,CAvCkB,OAwCnBC,gBAxCmB,CAwCA,SAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACFC,cAAc,CAAE,IADd,CACoBC,SAAS,CAAEL,KAAK,CAACK,SADrC,CAEFC,cAAc,CAAEC,SAFd,CAGFC,WAAW,CAAED,SAHX,CAGsBE,YAAY,CAAET,KAAK,CAACS,YAH1C,CAIFC,UAAU,CAAE,mBAJV,CAI+BC,OAAO,CAAE,KAJxC,CAFS,CAAnB,CASA,MAAKpB,KAAL,CAAWqB,WAAX,CAAuBX,UAAvB,EACH,CAnDkB,OAsJnBY,yBAtJmB,CAsJS,SAACC,gBAAD,CAAsB,CAC9C,GAAIC,CAAAA,eAAe,CAAG,oBAAtB,CACA,GAAMC,CAAAA,kBAAkB,CAAG,MAAKzB,KAAL,CAAW0B,UAAX,CAAsBC,GAAtB,CAA0B,kBAA1B,GAAiD,MAAK3B,KAAL,CAAW0B,UAAX,CAAsBE,GAAtB,CAA0B,kBAA1B,EAA8CC,YAA1H,CACA,GAAMC,CAAAA,mBAAmB,CAAG,MAAK9B,KAAL,CAAW0B,UAAX,CAAsBC,GAAtB,CAA0B,mBAA1B,GAAkD,MAAK3B,KAAL,CAAW0B,UAAX,CAAsBE,GAAtB,CAA0B,mBAA1B,EAA+CC,YAA7H,CACA,GAAME,CAAAA,gBAAgB,CAAG,CACrBZ,UAAU,CAAE,eADS,CACQK,eAAe,CAAE,oBADzB,CAC+CV,SAAS,CAAE,QAD1D,CAErBkB,UAAU,CAAE,MAAKhC,KAAL,CAAWgC,UAFF,CAEcC,QAAQ,CAAE,MAAKjC,KAAL,CAAWiC,QAFnC,CAE6Cf,YAAY,CAAEY,mBAF3D,CAAzB,CAIA,GAAMI,CAAAA,eAAe,CAAG,CACpBf,UAAU,CAAE,eADQ,CACSK,eAAe,CAAfA,eADT,CAC0BR,SAAS,CAATA,SAD1B,CACqCF,SAAS,CAAE,QADhD,CAEpBkB,UAAU,CAAE,MAAKhC,KAAL,CAAWgC,UAFH,CAEeC,QAAQ,CAAE,MAAKjC,KAAL,CAAWiC,QAFpC,CAE8Cf,YAAY,CAAEO,kBAF5D,CAAxB,CAKA,GAAMU,CAAAA,YAAY,CAAG,GAAIC,CAAAA,GAAJ,EAArB,CACAb,gBAAgB,CAACc,GAAjB,CAAqB,SAACd,gBAAD,QACjBY,CAAAA,YAAY,CAACG,GAAb,CAAiBf,gBAAgB,CAACgB,eAAlC,cACI,oBAAC,mBAAD,EAAqB,gBAAgB,CAAEhB,gBAAvC,CACA,6BAA6B,CAAE,MAAKvB,KAAL,CAAWwC,6BAD1C,CAEI,UAAU,CAAE,MAAKxC,KAAL,CAAWyC,UAF3B,CAGI,aAAa,CAAE,MAAKC,aAHxB,CAII,kBAAkB,CAAEjB,kBAJxB,CAKI,eAAe,CAAES,eALrB,CAMI,gBAAgB,CAAE,MAAK1B,gBACvB;AAPJ,CASI,eAAe,CAAEgB,eATrB,CAUI,WAAW,CAAC,UAVhB,CAWI,iBAAiB,CAAE,MAAKmB,iBAX5B,CAYI,mBAAmB,CAAE,MAAKC,cAZ9B,CAaI,UAAU,CAAE,MAAK5C,KAAL,CAAWgC,UAb3B,CAcI,QAAQ,CAAE,MAAKhC,KAAL,CAAWiC,QAdzB,CAeI,IAAI,CAAE,MAAK5B,KAAL,CAAWC,aAAX,EAA4B,EAftC,CAgBI,aAAa,CAAE,MAAKD,KAAL,CAAWC,aAAX,EAA4B,EAhB/C,CAiBI,SAAS,CAAE,MAAKD,KAAL,CAAWE,SAjB1B,CAkBI,eAAe,CAAE,MAAKN,eAlB1B,CAmBI,UAAU,CAAE,MAAKD,KAAL,CAAW0B,UAnB3B,CAoBI,qBAAqB,CAAE,MAAK1B,KAAL,CAAW6C,qBAAX,EAAoC,EApB/D,CAqBI,SAAS,CAAC,eArBd,CAsBI,0BAA0B,CAAE,MAAK7C,KAAL,CAAW8C,0BAtB3C,CAuBI,SAAS,CAAEf,gBAvBf,CAwBI,WAAW,CAAE,CAAEjB,SAAS,CAAE,QAAb,CAxBjB,CAyBI,YAAY,CAAE,MAAKiC,aAzBvB,CA0BI,UAAU,CAAE,YA1BhB,CA2BI,gBAAgB,CAAE,IA3BtB,CA4BI,UAAU,CAAE,MAAK/C,KAAL,CAAWgD,UA5B3B,CA6BI,iBAAiB,CAAE,IA7BvB,EADJ,CADiB,EAArB,EAmCA,MAAOb,CAAAA,YAAP,CACH,CAxMkB,OA0MnBO,aA1MmB,CA0MH,SAACO,GAAD,CAAS,CACrB,MAAKC,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAKnD,KAAL,CAAWoD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAKtD,KAAL,CAAWoD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAKtD,KAAL,CAAWoD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAKtD,KAAL,CAAWoD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAKC,MAAL,CAAYN,GAAZ,CAAN,EAFJ,EAGH,CA9MkB,OAgNnBO,eAhNmB,CAgND,SAACtD,KAAD,CAAW,CAEzB,GAAMa,CAAAA,cAAc,CAAG,MAAKV,KAAL,CAAWU,cAAX,EAA6B,EAApD,CACA,GAAIb,KAAK,CAACuD,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC,GAAIxD,KAAK,CAACuD,MAAN,CAAaE,IAAb,GAAsB,oBAA1B,CAAgD,CAC5C5C,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgCpE,iBAAiB,CAACqE,MAAlD,CAA2DrE,iBAAiB,CAACsE,QAAjH,CACH,CAFD,IAGK,IAAI5D,KAAK,CAACuD,MAAN,CAAaE,IAAb,GAAsB,OAA1B,CAAmC,CACpC5C,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgCpE,iBAAiB,CAACuE,GAAlD,CAAwDvE,iBAAiB,CAACwE,EAA9G,CACH,CAFI,IAGA,CACDjD,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgCpE,iBAAiB,CAACuE,GAAlD,CAAwDvE,iBAAiB,CAACwE,EAA9G,CACH,CAEJ,CAXD,IAaK,CAED,GAAI9D,KAAK,CAACuD,MAAN,CAAaE,IAAb,GAAsB,UAAtB,EAAoCzD,KAAK,CAACuD,MAAN,CAAaE,IAAb,GAAsB,WAA1D,EACGzD,KAAK,CAACuD,MAAN,CAAaE,IAAb,GAAsB,QAD7B,CACuC,CAEnC,GAAIzD,KAAK,CAACuD,MAAN,CAAaQ,KAAb,GAAuB,EAA3B,CAA+B,CAC3B/D,KAAK,CAACuD,MAAN,CAAaQ,KAAb,CAAqB3E,mBAAmB,CAACY,KAAK,CAACuD,MAAN,CAAaQ,KAAd,CAAxC,CACAlD,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaQ,KAAb,GAAuB,EAAvB,CAA4B/D,KAAK,CAACuD,MAAN,CAAaQ,KAAzC,CAAiDlD,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAnG,CACH,CAHD,IAIK,CACD5C,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaQ,KAAjD,CACH,CACJ,CAVD,IAWK,CACDlD,cAAc,CAACb,KAAK,CAACuD,MAAN,CAAaE,IAAd,CAAd,CAAoCzD,KAAK,CAACuD,MAAN,CAAaQ,KAAjD,CACH,CACD;AACH,CACD,MAAK9D,QAAL,CAAc,CAAEY,cAAc,CAAdA,cAAF,CAAd,EACH,CAnPkB,OAoPnBmD,aApPmB,CAoPH,SAACC,SAAD,CAAYC,SAAZ,CAA0B,CACtC,GAAID,SAAS,GAAK,IAAlB,CAAwB,CACpB,GAAMpD,CAAAA,cAAc,CAAG,MAAKV,KAAL,CAAWU,cAAX,EAA6B,EAApD,CACAA,cAAc,CAACqD,SAAD,CAAd,CAA4BD,SAA5B,CAAsC;AAEtC,MAAKhE,QAAL,CAAc,CAAEY,cAAc,CAAdA,cAAF,CAAd,EACH,CAEJ,CA5PkB,OA6PnBsD,UA7PmB,CA6PN,UAAM,CACf,GAAIC,CAAAA,SAAS,CAAG,MAAKtE,KAAL,CAAWsE,SAA3B,CACA,GAAIzD,CAAAA,cAAc,CAAG,MAAKb,KAAL,CAAWa,cAAhC,CACA,GAAIE,CAAAA,cAAc,CAAG,MAAKf,KAAL,CAAWe,cAAhC,CACA,GAAI,MAAKf,KAAL,CAAWsE,SAAf,CAA0B,CACtB,GAAI,MAAKtE,KAAL,CAAWc,SAAX,GAAyB,QAA7B,CAAuC,CACnCwD,SAAS,CAAG,KAAZ,CACAzD,cAAc,CAAG,KAAjB,CACAE,cAAc,CAAG,EAAjB,CAEH,CALD,IAMK,CACDuD,SAAS,CAAG,KAAZ,CACAvD,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACH,CACJ,CAZD,IAaK,CACDF,cAAc,CAAG,KAAjB,CACAE,cAAc,CAAG,EAAjB,CACH,CAED,GAAML,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CAAEC,cAAc,CAAdA,cAAF,CAAkByD,SAAS,CAATA,SAAlB,CAA6BvD,cAAc,CAAdA,cAA7B,CAA6CiC,UAAU,CAAE,IAAzD,CAFS,CAAnB,CAIA,MAAKhD,KAAL,CAAWqB,WAAX,CAAuBX,UAAvB,EAEH,CAzRkB,OA2RnB6D,WA3RmB,CA2RL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CACjC,GAAI,MAAKpE,KAAL,CAAWU,cAAX,CAA0B,QAA1B,EAAsC1B,aAAa,CAAC,MAAKgB,KAAL,CAAWU,cAAX,CAA0B,QAA1B,CAAD,CAAnD,CAA2F,IAA/F,CAAqG,CACjG,GAAIiB,CAAAA,UAAU,CAAG,EAAjB,CAEA,GAAI,MAAKhC,KAAL,CAAWmB,UAAX,GAA0B,sBAA9B,CAAsD,CAClDa,UAAU,CAAG,MAAK0C,qBAAL,CAA2BF,QAA3B,CAAqCC,OAArC,CAAb,CACH,CAFD,IAGK,CAEDzC,UAAU,CAAG,MAAK2C,eAAL,CAAqBH,QAArB,CAA+BC,OAA/B,CAAb,CACH,CAED,GAAIrF,SAAS,CAAC,MAAKY,KAAL,CAAW4E,WAAZ,CAAyB,MAAK5E,KAAL,CAAWiC,QAAX,CAAoB4C,SAA7C,CAAwD,MAAK7E,KAAL,CAAWkB,YAAnE,CAAb,CAA+F,CAC3F,GAAMR,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACF0D,SAAS,CAAE,IADT,CACeQ,UAAU,CAAE,CAAE9C,UAAU,CAAVA,UAAF,CAAcS,UAAU,CAAE,MAAKzC,KAAL,CAAWyC,UAArC,CAD3B,CAC8E+B,QAAQ,CAARA,QAD9E,CAFS,CAAnB,CAMA,MAAKxE,KAAL,CAAWqB,WAAX,CAAuBX,UAAvB,EACH,CARD,IASK,CACD,MAAKV,KAAL,CAAW+E,UAAX,CAAsB/C,UAAtB,CAAkC,MAAKhC,KAAL,CAAWyC,UAA7C,CAAyD,gBAAzD,EACH,CACJ,CAvBD,IAwBK,CACD9C,KAAK,CAACqF,IAAN,CAAW,MAAKhF,KAAL,CAAWoD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qBAAN,CAA9B,CAAX,EACH,CACJ,CAvTkB,OAgZnBP,aAhZmB,CAgZH,SAACkC,WAAD,CAAiB,CAC7B,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAID,WAAW,CAAClE,cAAZ,CAA2BoE,QAA3B,GAAwCnE,SAA5C,CAAuD,CACnD,MAAOiE,CAAAA,WAAW,CAAClE,cAAZ,CAA2BoE,QAAlC,CACH,CACDD,SAAS,CAAC,eAAD,CAAT,CAA6BD,WAAW,CAAClE,cAAzC,CACAmE,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKlF,KAAL,CAAWiC,QAAnC,CACA,GAAMD,CAAAA,UAAU,CAAG,CACfoD,SAAS,CAAE,eADI,CAEfC,QAAQ,CAAE,MAAKrF,KAAL,CAAWgC,UAAX,CAAsBqD,QAFjB,CAGfH,SAAS,CAAEA,SAHI,CAIfpE,SAAS,CAAE,QAJI,CAKfP,SAAS,CAAE,MAAKF,KAAL,CAAWE,SALP,CAAnB,CAOA,GAAInB,SAAS,CAAC,MAAKY,KAAL,CAAW4E,WAAZ,CAAyB,MAAK5E,KAAL,CAAWiC,QAAX,CAAoB4C,SAA7C,CAAwDI,WAAW,CAAC/D,YAApE,CAAb,CAAgG,CAC5F,GAAMR,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACF0D,SAAS,CAAE,IADT,CACeQ,UAAU,CAAE,CAAE9C,UAAU,CAAVA,UAAF,CAAcS,UAAU,CAAE,MAAKzC,KAAL,CAAWyC,UAArC,CAD3B,CAEF5B,cAAc,CAAE,IAFd,CAEoBM,UAAU,CAAE,SAFhC,CAE2CL,SAAS,CAAE,QAFtD,CAFS,CAAnB,CAOA,MAAKd,KAAL,CAAWqB,WAAX,CAAuBX,UAAvB,EACH,CATD,IAUK,CACD,GAAItB,SAAS,CAAC,MAAKY,KAAL,CAAW6C,qBAAZ,CAAmC,MAAK7C,KAAL,CAAWiC,QAAX,CAAoB4C,SAAvD,CAAkEI,WAAW,CAAC/D,YAA9E,CAAb,CAA0G,CACtG,GAAMR,CAAAA,WAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACF0D,SAAS,CAAE,IADT,CACeQ,UAAU,CAAE,CAAE9C,UAAU,CAAVA,UAAF,CAAcS,UAAU,CAAE,MAAKzC,KAAL,CAAWyC,UAArC,CAD3B,CAEF5B,cAAc,CAAE,IAFd,CAEoBM,UAAU,CAAE,SAFhC,CAE2CL,SAAS,CAAE,QAFtD,CAFS,CAAnB,CAOA,MAAKd,KAAL,CAAWqB,WAAX,CAAuBX,WAAvB,EACH,CATD,IAUK,CACD,MAAKV,KAAL,CAAW+E,UAAX,CAAsB/C,UAAtB,CAAkC,MAAKhC,KAAL,CAAWyC,UAA7C,CAAyD,gBAAzD,EACH,CACJ,CACJ,CAvbkB,OAybnBc,MAzbmB,CAybV,SAAC0B,WAAD,CAAiB,CACtB,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAID,WAAW,CAAClE,cAAZ,CAA2BoE,QAA3B,EAAuCF,WAAW,CAAClE,cAAZ,CAA2BoE,QAA3B,GAAwCnE,SAAnF,CAA8F,CAC1F,MAAOiE,CAAAA,WAAW,CAAClE,cAAZ,CAA2BoE,QAAlC,CACH,CACDD,SAAS,CAACD,WAAW,CAACK,IAAb,CAAT,CAA8BL,WAAW,CAAClE,cAA1C,CACAmE,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKlF,KAAL,CAAWiC,QAAnC,CACA,GAAMD,CAAAA,UAAU,CAAG,CACfoD,SAAS,CAAEH,WAAW,CAACM,SADR,CAEfF,QAAQ,CAAE,MAAKrF,KAAL,CAAWgC,UAAX,CAAsBqD,QAFjB,CAGfH,SAAS,CAAEA,SAHI,CAIfpE,SAAS,CAAE,QAJI,CAAnB,CAMA,GAAI1B,SAAS,CAAC,MAAKY,KAAL,CAAW4E,WAAZ,CAAyB,MAAK5E,KAAL,CAAWiC,QAAX,CAAoB4C,SAA7C,CAAwDI,WAAW,CAAC/D,YAApE,CAAb,CAAgG,CAC5F,GAAMR,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACF0D,SAAS,CAAE,IADT,CACeQ,UAAU,CAAE,CAAE9C,UAAU,CAAVA,UAAF,CAAcS,UAAU,CAAE,MAAKzC,KAAL,CAAWyC,UAArC,CAD3B,CAEF5B,cAAc,CAAE,IAFd,CAEoBM,UAAU,CAAE8D,WAAW,CAAC9D,UAF5C,CAEwDL,SAAS,CAAEmE,WAAW,CAACnE,SAF/E,CAFS,CAAnB,CAOA,MAAKd,KAAL,CAAWqB,WAAX,CAAuBX,UAAvB,EACH,CATD,IAUK,CACD,GAAItB,SAAS,CAAC,MAAKY,KAAL,CAAW6C,qBAAZ,CAAmC,MAAK7C,KAAL,CAAWiC,QAAX,CAAoB4C,SAAvD,CAAkEI,WAAW,CAAC/D,YAA9E,CAAb,CAA0G,CACtG,GAAMR,CAAAA,YAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfyB,IAAI,CAAE,CACF0D,SAAS,CAAE,IADT,CACeQ,UAAU,CAAE,CAAE9C,UAAU,CAAVA,UAAF,CAAcS,UAAU,CAAE,MAAKzC,KAAL,CAAWyC,UAArC,CAD3B,CAEF5B,cAAc,CAAE,IAFd,CAEoBM,UAAU,CAAE8D,WAAW,CAAC9D,UAF5C,CAEwDL,SAAS,CAAEmE,WAAW,CAACnE,SAF/E,CAFS,CAAnB,CAOA,MAAKd,KAAL,CAAWqB,WAAX,CAAuBX,YAAvB,EACH,CATD,IAUK,CACD,MAAKV,KAAL,CAAW+E,UAAX,CAAsB/C,UAAtB,CAAkC,MAAKhC,KAAL,CAAWyC,UAA7C,CAAyD,gBAAzD,EACH,CACJ,CACD;AACH,CAhekB,OAqfnB+C,aArfmB,CAqfH,UAAM,CAClB,GAAMxD,CAAAA,UAAU,CAAG,CACfkD,SAAS,CAAE,CACP,0CACO,MAAKlF,KAAL,CAAWiC,QADlB,MAEIwD,OAAO,CAAE,MAAKpF,KAAL,CAAWU,cAAX,CAA0B,eAA1B,CAFb,EADO,CAKP2E,QAAQ,CAAE,MAAKrF,KAAL,CAAWU,cAAX,CAA0B,eAA1B,CALH,CADI,CAQf+D,UAAU,CAAE,MAAK9E,KAAL,CAAW8E,UARR,CAAnB,CAUA,MAAK9E,KAAL,CAAW2F,uBAAX,CAAmC3D,UAAnC,CAA+C,gBAA/C,EACH,CAjgBkB,CAGf,GAAMzB,CAAAA,SAAS,CAAG,CACdqF,IAAI,CAAE,CADQ,CAEdC,IAAI,CAAE,MAAK7F,KAAL,CAAW8F,QAAX,CAAsBC,QAAQ,CAAC,MAAK/F,KAAL,CAAW8F,QAAX,CAAoB,EAApB,CAAD,CAA9B,CAA0D,CAFlD,CAAlB,CAIA,MAAKzF,KAAL,CAAa,CACT2F,UAAU,CAAE,KADH,CACUC,aAAa,CAAE,KADzB,CACgCC,kBAAkB,CAAE,EADpD,CACwDC,qBAAqB,CAAE,EAD/E,CACmF/F,UAAU,CAAE,EAD/F,CAETG,SAAS,CAAEA,SAFF,CAEaD,aAAa,CAAE,MAAKN,KAAL,CAAWyC,UAAX,CAAsBnC,aAFlD,CAEiE8F,OAAO,CAAE,EAF1E,CAGTC,QAAQ,CAAE,MAAKrG,KAAL,CAAWyC,UAAX,CAAsB4D,QAHvB,CAGiCtF,cAAc,CAAE,EAHjD,CAGqDuF,WAAW,CAAE,EAHlE,CAAb,CAMA,MAAK1D,cAAL,CAAsB,CAAC,CAAE,UAAW,uBAAb,CAAsC,YAAa,KAAnD,CAA0D,YAAa,cAAvE,CAAuF,QAAS,OAAhG,CAA0G,iBAAiB,WAA3H,CAAwI,cAAe,SAAvJ,CAAD,CACtB,CAAE2D,SAAS,CAAE,QAAb,CAAuBC,OAAO,CAAE,aAAhC,CAA8C,QAAS,OAAvD,CAAiE,iBAAiB,WAAlF,CAA+F,cAAe,SAA9G,CADsB,CAEtB,CAAED,SAAS,CAAE,iBAAb,CAAgCC,OAAO,CAAE,aAAzC,CAAuD,QAAS,OAAhE,CAAyE,iBAAiB,YAA1F,CAAwG,cAAe,WAAvH,CAFsB,CAAtB,CAOA,MAAKC,WAAL,CAAmB,CAAC,CAAE,UAAW,mBAAb,CAAkC,YAAa,IAA/C,CAAqD,YAAa,iBAAlE,CAAqF,QAAS,OAA9F,CAAwG,iBAAiB,WAAzH,CAAsI,cAAe,SAArJ,CAAD,CACnB,CAAE,UAAW,cAAb,CAA6B,YAAa,IAA1C,CAAgD,YAAa,WAA7D,CAA0E,QAAS,OAAnF,CAA6F,iBAAiB,WAA9G,CAA2H,cAAe,SAA1I,CADmB,CAEnB,CAAE,UAAW,iBAAb,CAAgC,YAAa,IAA7C,CAAmD,YAAa,cAAhE,CAAgF,QAAS,OAAzF,CAAmG,iBAAiB,YAApH,CAAkI,cAAe,WAAjJ,CAFmB,CAAnB,CAKA,MAAK9D,iBAAL,CAAyB,CACrB,CAAE,YAAa,UAAf,CAA0B,UAAW,WAArC,CAAmD+D,UAAU,CAAC,GAA9D,CADqB,CAErB,CAAE,UAAW,YAAb,CAA2B,YAAa,WAAxC,CAAsDA,UAAU,CAAC,GAAjE,CAFqB,CAGrB,CAAEH,SAAS,CAAE,QAAb,CAAuBC,OAAO,CAAE,SAAhC,CAA4CE,UAAU,CAAC,GAAvD,CAHqB,CAIrB,CAAEH,SAAS,CAAE,WAAb,CAA0BC,OAAO,CAAE,cAAnC,CAAmDE,UAAU,CAAC,IAA9D,CAJqB,CAAzB,CAOA,MAAKxD,cAAL,CAAsB,GAAItD,CAAAA,cAAJ,EAAtB,CAhCe,aAiClB,C,sDAmBD,iBAAS,iBAEL,GAAM+G,CAAAA,eAAe,CAAG,KAAK3G,KAAL,CAAW0B,UAAX,CAAsBC,GAAtB,CAA0B,qBAA1B,GAAoD,KAAK3B,KAAL,CAAW0B,UAAX,CAAsBE,GAAtB,CAA0B,qBAA1B,EAAiDC,YAA7H,CACA,GAAM+E,CAAAA,eAAe,CAAG,EAAxB,CACA,GAAI,KAAK5G,KAAL,CAAWmB,UAAX,GAA0B,sBAA9B,CAAsD,CAClD,KAAKsF,WAAL,CAAiBI,OAAjB,CAAyB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,SAAL,GAAmB,IAAnB,CAC7BH,eAAe,CAACI,IAAhB,CAAqBF,IAArB,CAD6B,CACA,EADJ,EAA7B,EAGH,CAJD,IAKK,CACD,KAAKlE,cAAL,CAAoBiE,OAApB,CAA4B,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,SAAL,GAAmB,IAAnB,CAChCH,eAAe,CAACI,IAAhB,CAAqBF,IAArB,CADgC,CACH,EADD,EAAhC,EAGH,CACD,mBACI,qDACI,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,eACI,oBAAC,GAAD,CAAK,OAAL,mBACI,oBAAC,GAAD,CAAK,IAAL,EAAU,kBAAgB,aAA1B,CAAwC,SAAS,CAAC,iBAAlD,eAEI,oBAAC,GAAD,EAAK,SAAS,CAAC,sDAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,2BAAK,SAAS,CAAC,4BAAf,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,aAApB,CAAkC,MAAM,CAAE,KAAK9G,KAAL,CAAW6C,qBAAX,CAAiCoE,OAAjC,CAAyCN,eAAzC,IAA8D,CAAC,CAAzG,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC3G,KAAL,CAAWwC,6BAAX,CAAyC,kBAAzC,CAA6D,QAA7D,CAAuE,MAAI,CAACxC,KAAL,CAAWyC,UAAX,CAAsByE,cAAtB,CAAqCC,WAA5G,CAAyHnG,SAAzH,CAAoI2F,eAApI,CAAqJ,MAAI,CAAC3G,KAAL,CAAWiC,QAAhK,CAAN,EADb,eAEI,oBAAC,eAAD,EAAiB,IAAI,CAAEjD,MAAvB,EAFJ,kBAGI,oBAAC,gBAAD,EAAkB,EAAE,CAAC,sBAArB,CAA4C,cAAc,CAAC,YAA3D,EAHJ,CADJ,CADJ,CADJ,CAFJ,cAeI,oBAAC,GAAD,EAAK,SAAS,CAAC,YAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACK,KAAKgB,KAAL,CAAWyC,UAAX,CAAsB2E,gBAAtB,EAA0C,KAAKpH,KAAL,CAAWyC,UAAX,CAAsB2E,gBAAtB,CAAuCC,MAAvC,CAAgD,CAA1F,cACG,oBAAC,eAAD,EAAiB,GAAG,CAAC,QAArB,CACI,cAAc,CAAE,iBADpB,CAEI,kBAAkB,CAAE,KAAK/F,yBAAL,CAA+B,KAAKtB,KAAL,CAAWyC,UAAX,CAAsB2E,gBAArD,CAFxB,CAGI,UAAU,CAAE,CAAE3E,UAAU,CAAE,KAAKzC,KAAL,CAAWyC,UAAzB,CAAoCR,QAAQ,CAAC,KAAKjC,KAAL,CAAWiC,QAAxD,CAHhB,CAII,cAAc,CAAE,KAAKjC,KAAL,CAAWsH,2BAJ/B,CAKI,mBAAmB,CAAE,iBALzB,CAMI,mBAAmB,CAAE,kBANzB,CAOI,WAAW,CAAE,KAAKtH,KAAL,CAAWyC,UAAX,CAAsB8E,wBAAtB,CAA+ChF,eAPhE,EADH,CAUK,EAXV,CADJ,CAfJ,CADJ,CADJ,CADJ,CADJ,CADJ,cAyCI,wCACK,KAAKvC,KAAL,CAAWa,cAAX,eACG,oBAAC,aAAD,EAAe,IAAI,CAAE,KAAKb,KAAL,CAAWa,cAAhC,CACI,UAAU,CAAE,KAAKwD,UADrB,CAEI,SAAS,CAAE,KAAKrE,KAAL,CAAWc,SAF1B,CAGI,UAAU,CAAE,KAAKd,KAAL,CAAWgC,UAH3B,CAII,UAAU,CAAE,KAAKhC,KAAL,CAAWmB,UAJ3B,CAKI,WAAW,CAAE,KAAKoD,WALtB,CAMI,WAAW,CAAE,KAAKvE,KAAL,CAAWqB,WAN5B,CAOI,KAAK,CAAE,KAAKrB,KAAL,CAAWsE,SAPtB,CAQI,aAAa,CAAE,KAAKkB,aARxB,CASI,cAAc,CAAE,KAAKnF,KAAL,CAAWU,cAAX,EAA6B,EATjD,CAUI,eAAe,CAAE6F,eAVrB,CAWI,YAAY,CAAE,KAAK5G,KAAL,CAAWsE,SAAX,cACV,oBAAC,KAAD,EAAO,SAAS,CAAE,KAAKtE,KAAL,CAAWc,SAA7B,CACI,eAAe,CAAE,KAAK0C,eAD1B,CAEI,UAAU,CAAE,KAAKxD,KAAL,CAAWgC,UAF3B,CAGI,cAAc,CAAE,KAAK3B,KAAL,CAAWU,cAAX,EAA6B,EAHjD,EADU,CAMV,KAAKf,KAAL,CAAWmB,UAAX,GAA0B,sBAA1B,cACI,oBAAC,mBAAD,EAAqB,cAAc,CAAE,KAAKd,KAAL,CAAWU,cAAX,EAA6B,EAAlE,CACI,eAAe,CAAE,KAAKyC,eAD1B,CAEI,aAAa,CAAE,KAAKU,aAFxB,CAGI,OAAO,CAAE,KAAKlE,KAAL,CAAWoG,OAAX,EAAsB,EAHnC,CAII,UAAU,CAAE,KAAKpG,KAAL,CAAWgC,UAJ3B,EADJ,cAQI,oBAAC,gBAAD,EACI,cAAc,CAAE,KAAK3B,KAAL,CAAWU,cAAX,EAA6B,EADjD,CAEI,eAAe,CAAE,KAAKyC,eAF1B,CAGI,aAAa,CAAE,KAAKU,aAHxB,EAzBZ,EAFR,CAzCJ,CADJ,CAmFH,C,qCAmKD,+BAAsBM,QAAtB,CAAgCC,OAAhC,CAAyC,iBACrC,GAAIS,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,UAAD,CAAT,CAAwB,KAAKlF,KAAL,CAAWiC,QAAnC,CACA,GAAIuF,CAAAA,SAAS,CAAG,CAAC,iBAAD,CAAoB,cAApB,CAAoC,iBAApC,CACZ,WADY,CACC,WADD,CACc,WADd,CAC2B,gBAD3B,CAC6C,oBAD7C,CAAhB,CAGA,GAAI,KAAKxH,KAAL,CAAWc,SAAX,GAAyB,QAA7B,CAAuC,CAEnCoE,SAAS,CAAC,kBAAD,CAAT,CAAgC,CAAE,cAAe,KAAKlF,KAAL,CAAWyC,UAAX,CAAsByE,cAAtB,CAAqCC,WAAtD,CAAhC,CACAK,SAAS,CAACnF,GAAV,CAAc,SAAAyE,IAAI,CAAI,CAClB,GAAIA,IAAI,GAAK,cAAb,CAA6B,CACzB,MAAO5B,CAAAA,SAAS,CAAC,kBAAD,CAAT,CAA8B4B,IAA9B,EAAsC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAkC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAgC7C,KAAlE,CAA0E,EAAvH,CACH,CAFD,IAGK,CACD,MAAOiB,CAAAA,SAAS,CAAC,kBAAD,CAAT,CAA8B4B,IAA9B,EAAsC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAkC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,CAAlC,CAAoE,EAAjH,CACH,CACJ,CAPD,EAQH,CAXD,IAYK,CAED5B,SAAS,CAAC,kBAAD,CAAT,CAAgC,CAAE,cAAe,KAAKlF,KAAL,CAAWyC,UAAX,CAAsByE,cAAtB,CAAqCC,WAAtD,CAAhC,CAEAK,SAAS,CAACnF,GAAV,CAAc,SAAAyE,IAAI,CAAI,CAClB,GAAIA,IAAI,GAAK,cAAb,CAA6B,CACzB,MAAO5B,CAAAA,SAAS,CAAC,kBAAD,CAAT,CAA8B4B,IAA9B,EAAsC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAgC7C,KAA7E,CACH,CAFD,IAGK,CACD,MAAOiB,CAAAA,SAAS,CAAC,kBAAD,CAAT,CAA8B4B,IAA9B,EAAsC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,CAA7C,CACH,CACJ,CAPD,EAQH,CACD,GAAM9E,CAAAA,UAAU,CAAG,CACfqD,QAAQ,CAAE,KAAKrF,KAAL,CAAWgC,UAAX,CAAsBqD,QADjB,CAEfD,SAAS,CAAE,kBAFI,CAGfF,SAAS,CAAEA,SAHI,CAIfpE,SAAS,CAAE,KAAKd,KAAL,CAAWc,SAJP,CAIkB0D,QAAQ,CAARA,QAJlB,CAI4BC,OAAO,CAAPA,OAJ5B,CAAnB,CAMA,MAAOzC,CAAAA,UAAP,CACA;AACH,C,+BACD,yBAAgBwC,QAAhB,CAA0BC,OAA1B,CAAmC,iBAE/B,GAAIlE,CAAAA,SAAS,CAAGS,SAAhB,CACA,GAAIkE,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAAC,UAAD,CAAT,CAAwB,KAAKlF,KAAL,CAAWiC,QAAnC,CACA,GAAIuF,CAAAA,SAAS,CAAG,CAAC,oBAAD,CAAuB,cAAvB,CACZ,UADY,CACA,WADA,CACa,QADb,CACuB,QADvB,CACiC,WADjC,CAC8C,iBAD9C,CAAhB,CAGA,GAAIxE,CAAAA,UAAU,CAAG,IAAjB,CACA,GAAI,KAAKhD,KAAL,CAAWc,SAAX,GAAyB,QAA7B,CAAuC,CAEnCoE,SAAS,CAAC,eAAD,CAAT,CAA6B,CACzB,cAAe,KAAKlF,KAAL,CAAWyC,UAAX,CAAsByE,cAAtB,CAAqCC,WAD3B,CAEzB,kBAAmB,KAAKnH,KAAL,CAAWyC,UAAX,CAAsB8E,wBAAtB,CAA+ChF,eAFzC,CAA7B,CAKAS,UAAU,CAAG,KAAKhD,KAAL,CAAWe,cAAX,CAA0B0G,kBAAvC,CAEAD,SAAS,CAACnF,GAAV,CAAc,SAAAyE,IAAI,CAAI,CAClB,MAAO5B,CAAAA,SAAS,CAAC,eAAD,CAAT,CAA2B4B,IAA3B,EAAmC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAkC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,CAAlC,CAAoE,EAA9G,CACH,CAFD,EAGAvG,SAAS,CAAG,KAAKF,KAAL,CAAWE,SAAvB,CACH,CAbD,IAcK,CAED2E,SAAS,CAAC,eAAD,CAAT,CAA6B,CACzB,cAAe,KAAKlF,KAAL,CAAWyC,UAAX,CAAsByE,cAAtB,CAAqCC,WAD3B,CAEzB,kBAAmB,KAAKnH,KAAL,CAAWyC,UAAX,CAAsB8E,wBAAtB,CAA+ChF,eAFzC,CAA7B,CAIAiF,SAAS,CAACnF,GAAV,CAAc,SAAAyE,IAAI,CAAI,CAClB,MAAO5B,CAAAA,SAAS,CAAC,eAAD,CAAT,CAA2B4B,IAA3B,EAAmC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,EAAkC,MAAI,CAACzG,KAAL,CAAWU,cAAX,CAA0B+F,IAA1B,CAAlC,CAAoE,EAA9G,CACH,CAFD,EAGA5B,SAAS,CAAC,eAAD,CAAT,CAA2B,iBAA3B,EAAgD,KAAK7E,KAAL,CAAWU,cAAX,EAA6B,KAAKV,KAAL,CAAWU,cAAX,CAA0B2G,eAAvD,CAC5C,KAAKrH,KAAL,CAAWU,cAAX,CAA0B2G,eADkB,CAE1ClI,iBAAiB,CAACuE,GAFxB,CAIH,CACD,GAAM/B,CAAAA,UAAU,CAAG,CACfqD,QAAQ,CAAE,KAAKrF,KAAL,CAAWgC,UAAX,CAAsBqD,QADjB,CAEfD,SAAS,CAAE,eAFI,CAGfF,SAAS,CAAEA,SAHI,CAGOlC,UAAU,CAAVA,UAHP,CAIflC,SAAS,CAAE,KAAKd,KAAL,CAAWc,SAJP,CAIkB0D,QAAQ,CAARA,QAJlB,CAI4BC,OAAO,CAAPA,OAJ5B,CAIqClE,SAAS,CAATA,SAJrC,CAAnB,CAMA,MAAOyB,CAAAA,UAAP,CAEA;AACH,CACD;kCAkFA,4BAAmB2F,aAAnB,CAAkC,CAC9B,GAAI,KAAK3H,KAAL,CAAWyC,UAAX,GAA0BkF,aAAa,CAAClF,UAA5C,CAAwD,CAEpD,GAAMlC,CAAAA,SAAN,CAAoB,KAAKF,KAAzB,CAAME,SAAN,CACA,GAAI,KAAKP,KAAL,CAAWO,SAAX,GAAyBS,SAA7B,CAAwC,CACpCT,SAAS,CAAG,CAAEqF,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,KAAK7F,KAAL,CAAW8F,QAAX,CAAsBC,QAAQ,CAAC,KAAK/F,KAAL,CAAW8F,QAAX,CAAoB,EAApB,CAAD,CAA9B,CAA0D,CAA3E,CAAZ,CACH,CAED,KAAK3F,QAAL,CAAc,CACV6F,UAAU,CAAE,KADF,CACSC,aAAa,CAAE,KADxB,CAEV3F,aAAa,CAAE,KAAKN,KAAL,CAAWyC,UAAX,CAAsBnC,aAF3B,CAGV+F,QAAQ,CAAE,KAAKrG,KAAL,CAAWyC,UAAX,CAAsB4D,QAHtB,CAGgCD,OAAO,CAAE,KAAKpG,KAAL,CAAWyC,UAAX,CAAsB2D,OAH/D,CAGwE7F,SAAS,CAATA,SAHxE,CAAd,EAMH,CAED,GAAI,KAAKP,KAAL,CAAWe,cAAX,GAA8B4G,aAAa,CAAC5G,cAAhD,CAAgE,CAC5D,KAAKZ,QAAL,CAAc,CAAEY,cAAc,CAAE,KAAKf,KAAL,CAAWe,cAA7B,CAAd,EACH,CACJ,C,iCArf6BxC,S,EAogBlC,cAAgBM,CAAAA,UAAU,CAACkB,mBAAD,CAA1B","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Card, Tab, Nav } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign, validateEmail, validatePhoneNumber } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport CustomAccordion from '../../components/custom-accordion/custom-accordion.component';\r\n import ClientTabsAccordion from './ClientTabsAccordion';\r\nimport { toast } from 'react-toastify';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddClientContact from './AddClientContact';\r\nimport AddClientDepartment from './AddClientDepartment';\r\n\r\nclass ClientDepartmentTab extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take :this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isSiteOpen: false, isContactOpen: false, siteSelectedRecord: {}, contactSelectedRecord: {}, dataResult: [],\r\n            dataState: dataState, ClientContact: this.props.masterData.ClientContact, Country: [],\r\n            SiteCode: this.props.masterData.SiteCode, selectedRecord: {}, countryCode: [],\r\n\r\n        };\r\n        this.ContactColumns = [{ \"idsName\": \"IDS_CLIENTCONTACTNAME\", \"mandatory\": false, \"dataField\": \"scontactname\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        { dataField: \"semail\", idsName: \"IDS_EMAILID\",\"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        { dataField: \"sdefaultContact\", idsName: \"IDS_DEFAULT\",\"width\": \"150px\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n     \r\n\r\n        ];\r\n\r\n        this.siteColumns = [{ \"idsName\": \"IDS_MANUFSITENAME\", \"mandatory\": true, \"dataField\": \"sclientdeptname\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        { \"idsName\": \"IDS_ADDRESS1\", \"mandatory\": true, \"dataField\": \"saddress1\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n        { \"idsName\": \"IDS_COUNTRYNAME\", \"mandatory\": true, \"dataField\": \"ncountrycode\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n\r\n        ];\r\n        this.detailedFieldList = [\r\n            { \"dataField\": \"sphoneno\",\"idsName\": \"IDS_PHONE\" , columnSize:\"4\"},\r\n            { \"idsName\": \"IDS_MOBILE\", \"dataField\": \"smobileno\" , columnSize:\"4\"},\r\n            { dataField: \"sfaxno\", idsName: \"IDS_FAX\" , columnSize:\"4\"},\r\n            { dataField: \"scomments\", idsName: \"IDS_COMMENTS\", columnSize:\"12\" }\r\n          \r\n        ];\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.ClientContact, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    openModalContact = (input) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openChildModal: true, operation: input.operation,\r\n                selectedRecord: undefined,\r\n                defaultSite: undefined, ncontrolCode: input.ncontrolCode,\r\n                screenName: \"IDS_CLIENTCONTACT\", loading: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    render() {\r\n\r\n        const addClientDeptId = this.props.controlMap.has(\"AddClientDepartment\") && this.props.controlMap.get(\"AddClientDepartment\").ncontrolcode\r\n        const mandatoryFields = [];\r\n        if (this.props.screenName === \"IDS_CLIENTDEPARTMENT\") {\r\n            this.siteColumns.forEach(item => item.mandatory === true ?\r\n                mandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        else {\r\n            this.ContactColumns.forEach(item => item.mandatory === true ?\r\n                mandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                <Row noGutters={true}>\r\n                    <Col md='12'>\r\n                        <Card className=\"at-tabs\">\r\n                            <Tab.Content>\r\n                                <Tab.Pane aria-labelledby=\"Version-tab\" className=\"p-0 active show\">\r\n\r\n                                    <Row className=\"no-gutters pt-2 pb-2 col-12 text-right border-bottom\" >\r\n                                        <Col md={12}>\r\n                                            <div className=\"d-flex justify-content-end\">\r\n                                                <Nav.Link className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addClientDeptId) === -1}\r\n                                                    onClick={() => this.props.getClientDepartmentForAddEdit(\"ClientDepartment\", \"create\", this.props.masterData.selectedClient.nclientcode, undefined, addClientDeptId, this.props.userInfo)}>\r\n                                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                                    <FormattedMessage id='IDS_CLIENTDEPARTMENT' defaultMessage='Department' />\r\n                                                </Nav.Link>\r\n                                            </div>\r\n                                        </Col>\r\n\r\n                                    </Row>\r\n\r\n                                    <Row className=\"no-gutters\">\r\n                                        <Col md={12}>\r\n                                            {this.props.masterData.ClientDepartment && this.props.masterData.ClientDepartment.length > 0 ?\r\n                                                <CustomAccordion key=\"filter\"\r\n                                                    accordionTitle={\"sclientdeptname\"}\r\n                                                    accordionComponent={this.clientDepartmentAccordion(this.props.masterData.ClientDepartment)}\r\n                                                    inputParam={{ masterData: this.props.masterData,userInfo:this.props.userInfo }}\r\n                                                    accordionClick={this.props.getClientDeptContactDetails}\r\n                                                    accordionPrimaryKey={\"nclientdeptcode\"}\r\n                                                    accordionObjectName={\"clientDepartment\"}\r\n                                                    selectedKey={this.props.masterData.selectedClientDepartment.nclientdeptcode}\r\n                                                />\r\n                                                : \"\"}\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                </Tab.Pane >\r\n                            </Tab.Content >\r\n                        </Card >\r\n                    </Col >\r\n                </Row >\r\n                <>\r\n                    {this.props.openChildModal &&\r\n                        <SlideOutModal show={this.props.openChildModal}\r\n                            closeModal={this.closeModal}\r\n                            operation={this.props.operation}\r\n                            inputParam={this.props.inputParam}\r\n                            screenName={this.props.screenName}\r\n                            onSaveClick={this.onSaveClick}\r\n                            updateStore={this.props.updateStore}\r\n                            esign={this.props.loadEsign}\r\n                            validateEsign={this.validateEsign}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                            mandatoryFields={mandatoryFields}\r\n                            addComponent={this.props.loadEsign ?\r\n                                <Esign operation={this.props.operation}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    inputParam={this.props.inputParam}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                /> :\r\n                                this.props.screenName === \"IDS_CLIENTDEPARTMENT\" ?\r\n                                    <AddClientDepartment selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n                                        Country={this.props.Country || []}\r\n                                        inputParam={this.props.inputParam}\r\n                                    />\r\n                                    :\r\n                                    <AddClientContact\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n\r\n                                     />\r\n                            }\r\n                        />\r\n\r\n                    }\r\n\r\n                </>\r\n            </>\r\n        );\r\n    }\r\n    clientDepartmentAccordion = (clientDepartment) => {\r\n        let primaryKeyField = \"nclientcontactcode\";\r\n        const addClientContactId = this.props.controlMap.has(\"AddClientContact\") && this.props.controlMap.get(\"AddClientContact\").ncontrolcode\r\n        const editClientContactId = this.props.controlMap.has(\"EditClientContact\") && this.props.controlMap.get(\"EditClientContact\").ncontrolcode;\r\n        const editContactParam = {\r\n            screenName: \"ClientContact\", primaryKeyField: \"nclientcontactcode\", operation: \"update\",\r\n            inputParam: this.props.inputParam, userInfo: this.props.userInfo, ncontrolCode: editClientContactId\r\n        };\r\n        const AddContactParam = {\r\n            screenName: \"ClientContact\", primaryKeyField, undefined, operation: \"create\",\r\n            inputParam: this.props.inputParam, userInfo: this.props.userInfo, ncontrolCode: addClientContactId\r\n        };\r\n\r\n        const accordionMap = new Map();\r\n        clientDepartment.map((clientDepartment) =>\r\n            accordionMap.set(clientDepartment.nclientdeptcode,\r\n                <ClientTabsAccordion clientDepartment={clientDepartment}\r\n                getClientDepartmentForAddEdit={this.props.getClientDepartmentForAddEdit}\r\n                    masterData={this.props.masterData}\r\n                    ConfirmDelete={this.ConfirmDelete}\r\n                    addClientContactId={addClientContactId}\r\n                    AddContactParam={AddContactParam}\r\n                    openModalContact={this.openModalContact}\r\n                    // tabDetail={this.tabDetail(userSite)}   \r\n\r\n                    primaryKeyField={primaryKeyField}\r\n                    expandField=\"expanded\"\r\n                    detailedFieldList={this.detailedFieldList}\r\n                    extractedColumnList={this.ContactColumns}\r\n                    inputParam={this.props.inputParam}\r\n                    userInfo={this.props.userInfo}\r\n                    data={this.state.ClientContact || []}\r\n                    ClientContact={this.state.ClientContact || []}\r\n                    dataState={this.state.dataState}\r\n                    dataStateChange={this.dataStateChange}\r\n                    controlMap={this.props.controlMap}\r\n                    userRoleControlRights={this.props.userRoleControlRights || []}\r\n                    methodUrl=\"ClientContact\"\r\n                    getClientContactForAddEdit={this.props.getClientContactForAddEdit}\r\n                    editParam={editContactParam}\r\n                    deleteParam={{ operation: \"delete\" }}\r\n                    deleteRecord={this.DeleteContact}\r\n                    scrollable={\"scrollable\"}\r\n                    isActionRequired={true}\r\n                    selectedId={this.props.selectedId}\r\n                    hasDynamicColSize={true}\r\n                />\r\n                )\r\n        )\r\n        return accordionMap;\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.Delete(obj));\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'ntransactionstatus') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            }\r\n            else if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            if (event.target.name === \"sphoneno\" || event.target.name === \"smobileno\"\r\n                || event.target.name === \"sfaxno\") {\r\n\r\n                if (event.target.value !== \"\") {\r\n                    event.target.value = validatePhoneNumber(event.target.value);\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                }\r\n                else {\r\n                    selectedRecord[event.target.name] = event.target.value\r\n                }\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.value;\r\n            }\r\n            // selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;//.value;\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\r\n            let inputParam = {};\r\n\r\n            if (this.props.screenName === \"IDS_CLIENTDEPARTMENT\") {\r\n                inputParam = this.SaveDepartmentDetails(saveType, formRef);\r\n            }\r\n            else {\r\n\r\n                inputParam = this.SaveContactInfo(saveType, formRef);\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }));\r\n        }\r\n    }\r\n    SaveDepartmentDetails(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        let fieldList = [\"nclientdeptcode\", \"ncountrycode\", \"sclientdeptname\",\r\n            \"saddress1\", \"saddress2\", \"saddress3\", \"ndefaultstatus\", \"ntransactionstatus\"];\r\n\r\n        if (this.props.operation === \"update\") {\r\n\r\n            inputData[\"clientdepartment\"] = { \"nclientcode\": this.props.masterData.selectedClient.nclientcode };\r\n            fieldList.map(item => {\r\n                if (item === \"ncountrycode\") {\r\n                    return inputData[\"clientdepartment\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item].value : \"\";\r\n                }\r\n                else {\r\n                    return inputData[\"clientdepartment\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n                }\r\n            })\r\n        }\r\n        else {\r\n\r\n            inputData[\"clientdepartment\"] = { \"nclientcode\": this.props.masterData.selectedClient.nclientcode };\r\n\r\n            fieldList.map(item => {\r\n                if (item === \"ncountrycode\") {\r\n                    return inputData[\"clientdepartment\"][item] = this.state.selectedRecord[item].value\r\n                }\r\n                else {\r\n                    return inputData[\"clientdepartment\"][item] = this.state.selectedRecord[item]\r\n                }\r\n            })\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.inputParam.classUrl,\r\n            methodUrl: \"ClientDepartment\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef\r\n        }\r\n        return inputParam;\r\n        //this.props.crudMaster(inputParam, this.props.masterData);\r\n    }\r\n    SaveContactInfo(saveType, formRef) {\r\n\r\n        let dataState = undefined;\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        let fieldList = [\"nclientcontactcode\", \"scontactname\",\r\n            \"sphoneno\", \"smobileno\", \"semail\", \"sfaxno\", \"scomments\", \"ndefaultcontact\"];\r\n\r\n        let selectedId = null;\r\n        if (this.props.operation === \"update\") {\r\n\r\n            inputData[\"clientcontact\"] = {\r\n                \"nclientcode\": this.props.masterData.selectedClient.nclientcode,\r\n                \"nclientdeptcode\": this.props.masterData.selectedClientDepartment.nclientdeptcode\r\n            };\r\n\r\n            selectedId = this.props.selectedRecord.nclientcontactcode;\r\n\r\n            fieldList.map(item => {\r\n                return inputData[\"clientcontact\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n            })\r\n            dataState = this.state.dataState;\r\n        }\r\n        else {\r\n\r\n            inputData[\"clientcontact\"] = {\r\n                \"nclientcode\": this.props.masterData.selectedClient.nclientcode,\r\n                \"nclientdeptcode\": this.props.masterData.selectedClientDepartment.nclientdeptcode\r\n            };\r\n            fieldList.map(item => {\r\n                return inputData[\"clientcontact\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n            })\r\n            inputData[\"clientcontact\"]['ndefaultcontact'] = this.state.selectedRecord && this.state.selectedRecord.ndefaultcontact ?\r\n                this.state.selectedRecord.ndefaultcontact\r\n                : transactionStatus.YES\r\n\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.inputParam.classUrl,\r\n            methodUrl: \"ClientContact\",\r\n            inputData: inputData, selectedId,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n\r\n        // this.props.crudMaster(inputParam, this.props.masterData);\r\n    }\r\n    // DeleteContact = (e, selectedRecord, Type, methodURL,operation,screenName, ncontrolCode) => {\r\n    DeleteContact = (deleteParam) => {\r\n        let inputData = [];\r\n        if (deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded\r\n        }\r\n        inputData[\"clientcontact\"] = deleteParam.selectedRecord;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        const inputParam = {\r\n            methodUrl: \"ClientContact\",\r\n            classUrl: this.props.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            dataState: this.state.dataState\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                    openChildModal: true, screenName: \"Contact\", operation: \"delete\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: \"Contact\", operation: \"delete\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n    //Delete = (e, selectedRecord, Type, methodURL, operation, screenName, ncontrolCode) => {\r\n    Delete = (deleteParam) => {\r\n        let inputData = [];\r\n        if (deleteParam.selectedRecord.expanded && deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded\r\n        }\r\n        inputData[deleteParam.Type] = deleteParam.selectedRecord;\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        const inputParam = {\r\n            methodUrl: deleteParam.methodURL,\r\n            classUrl: this.props.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\"\r\n        }\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                    openChildModal: true, screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n        //this.props.crudMaster(inputParam, this.props.masterData);\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let { dataState } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0 ,take :this.props.settings ? parseInt(this.props.settings[14]) : 5}\r\n            }\r\n\r\n            this.setState({\r\n                isSiteOpen: false, isContactOpen: false,\r\n                ClientContact: this.props.masterData.ClientContact,\r\n                SiteCode: this.props.masterData.SiteCode, Country: this.props.masterData.Country, dataState\r\n\r\n            });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.selectedRecord });\r\n        }\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\nexport default (injectIntl(ClientDepartmentTab));"]},"metadata":{},"sourceType":"module"}