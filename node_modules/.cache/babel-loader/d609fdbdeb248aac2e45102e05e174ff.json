{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{intl}from'../components/App';export function getTransactionDetail(inputData){return function(dispatch){var inputParamData={userinfo:inputData.userinfo,fromDate:inputData.fromDate,toDate:inputData.toDate,viewTypecode:inputData.viewTypecode,transFilterType:inputData.transFilterType,sregistereddate:inputData.sregistereddate};dispatch(initRequest(true));return rsapi.post(\"flextransaction/getTrendChartDate\",inputParamData).then(function(response){var masterData=_objectSpread(_objectSpread({},inputData.masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,skip:inputData.skip,take:inputData.take}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getFilterTransactionDetailsRecords(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"flextransaction/getFilterTransactionDetailsRecords\",_objectSpread({},inputData.inputData)).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{ViewType:inputData.masterData.breadCrumbViewType.item});if(inputData.searchRef!==undefined&&inputData.searchRef.current!==null){inputData.searchRef.current.value=\"\";masterData['searchedTransactionDetails']=undefined;}var resetDataGridPage=false;if(masterData.TransactionDetails&&masterData.TransactionDetails.length<inputData.detailSkip){resetDataGridPage=true;}else{resetDataGridPage=false;}var respObject={masterData:masterData,loading:false,showFilter:false,resetDataGridPage:resetDataGridPage};dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{skip:0,take:20})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function ViewTransactionDetails(masterData,userInfo,details,screenName){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"flextransaction/getTransactionDetails\",{ntransactionsampleresultno:details.ntransactionsampleresultno,userinfo:userInfo}).then(function(response){var Details=JSON.parse(response.data['ViewTransactionDetails'][0].jsondata.value);var valueShow=[];response.data['FieldName'].map(function(x){valueShow.push(_objectSpread(_objectSpread({},x),{},{svalue:Details[x.sfieldname]===\"\"||Details[x.sfieldname]===null?'-':Details[x.sfieldname],ntransactionsampleresultno:details.ntransactionsampleresultno}));});masterData['ViewTransactionDetails']=[];masterData['ViewTransactionDetails']=valueShow;dispatch({type:DEFAULT_RETURN,payload:{details:details,masterData:masterData,selectedId:details.ntransactionsampleresultno,screenName:screenName,loading:false,openModal:true}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getexportdata(inputData){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"flextransaction/getExportData\",_objectSpread({},inputData.inputData)).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{resultStatus:response.data[\"ExportExcel\"]||'',loading:false}});if(response.data[\"ExportExcel\"]===\"Success\"){document.getElementById(\"download_data\").setAttribute(\"href\",response.data[\"ExportExcelPath\"]);document.getElementById(\"download_data\").click();}else{toast.warn(response.data[\"ExportExcel\"]);}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/FlexTransactionAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","intl","getTransactionDetail","inputData","dispatch","inputParamData","userinfo","fromDate","toDate","viewTypecode","transFilterType","sregistereddate","post","then","response","masterData","data","type","payload","loading","skip","take","catch","error","status","formatMessage","id","message","warn","getFilterTransactionDetailsRecords","ViewType","breadCrumbViewType","item","searchRef","undefined","current","value","resetDataGridPage","TransactionDetails","length","detailSkip","respObject","showFilter","ViewTransactionDetails","userInfo","details","screenName","ntransactionsampleresultno","Details","JSON","parse","jsondata","valueShow","map","x","push","svalue","sfieldname","selectedId","openModal","getexportdata","resultStatus","document","getElementById","setAttribute","click"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\n\r\n\r\n\r\nexport function getTransactionDetail(inputData) {\r\n    return function (dispatch) {\r\n        let inputParamData = {\r\n            userinfo: inputData.userinfo,\r\n            fromDate: inputData.fromDate,\r\n            toDate: inputData.toDate,\r\n            viewTypecode: inputData.viewTypecode,\r\n            transFilterType: inputData.transFilterType,\r\n            sregistereddate: inputData.sregistereddate\r\n        }\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"flextransaction/getTrendChartDate\", inputParamData)\r\n            .then(response => {\r\n                let masterData = { ...inputData.masterData, ...response.data };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false, skip: inputData.skip, take: inputData.take\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getFilterTransactionDetailsRecords(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"flextransaction/getFilterTransactionDetailsRecords\", { ...inputData.inputData })\r\n            .then(response => {\r\n                let masterData = {\r\n                    ...inputData.masterData,\r\n                    ...response.data,\r\n                    ViewType: inputData.masterData.breadCrumbViewType.item\r\n                }\r\n\r\n                if (inputData.searchRef !== undefined && inputData.searchRef.current !== null) {\r\n                    inputData.searchRef.current.value = \"\";\r\n                    masterData['searchedTransactionDetails'] = undefined;\r\n                }\r\n                let resetDataGridPage = false;\r\n                if (masterData.TransactionDetails && masterData.TransactionDetails.length < inputData.detailSkip) {\r\n                    resetDataGridPage = true\r\n                } else {\r\n                    resetDataGridPage = false\r\n                }\r\n                let respObject = {\r\n\r\n                    masterData,\r\n                    loading: false,\r\n                    showFilter: false,\r\n                    resetDataGridPage\r\n                }\r\n                dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, skip: 0, take: 20 } })\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function ViewTransactionDetails(masterData, userInfo, details, screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"flextransaction/getTransactionDetails\", { ntransactionsampleresultno: details.ntransactionsampleresultno, userinfo: userInfo })\r\n            .then(response => {\r\n                let Details = JSON.parse(response.data['ViewTransactionDetails'][0].jsondata.value)\r\n                let valueShow = [];\r\n                response.data['FieldName'].map(x => {\r\n                    valueShow.push({\r\n                        ...x, svalue: (Details[x.sfieldname] === \"\" || Details[x.sfieldname] === null) ? '-' : Details[x.sfieldname],\r\n                        ntransactionsampleresultno: details.ntransactionsampleresultno\r\n                    })\r\n                })\r\n                masterData['ViewTransactionDetails'] = [];\r\n                masterData['ViewTransactionDetails'] = valueShow\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        details: details,\r\n                        masterData,\r\n                        selectedId: details.ntransactionsampleresultno,\r\n                        screenName,\r\n                        loading: false,\r\n                        openModal: true,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getexportdata(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"flextransaction/getExportData\", { ...inputData.inputData })\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        resultStatus: response.data[\"ExportExcel\"] || '',\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n                if (response.data[\"ExportExcel\"] === \"Success\") {\r\n                    document.getElementById(\"download_data\").setAttribute(\"href\", response.data[\"ExportExcelPath\"]);\r\n                    document.getElementById(\"download_data\").click();\r\n                }\r\n                else {\r\n                    toast.warn(response.data[\"ExportExcel\"]);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}