{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{sortData,constructOptionList,parentChildComboLoad}from'../components/CommonScript';import{getcomponentdata,getValidComponent,replaceChildFromChildren}from'../components/droparea/helpers';import{ReactComponents,transactionStatus}from'../components/Enumeration';import Axios from'axios';import{getTreeByProduct}from'./RegistrationAction';export function getReactInputFields(userinfo,operation,respObj){return function(dispatch){dispatch(initRequest(true));var listURL=[];listURL[0]=rsapi.post(\"dynamicpreregdesign/getReactComponents\",{userinfo:userinfo});listURL[1]=rsapi.post(\"dynamicpreregdesign/getReactInputFields\",{userinfo:userinfo});Axios.all(listURL).then(function(response){respObj=respObj?_objectSpread({},respObj):{};dispatch({type:DEFAULT_RETURN,payload:_objectSpread({ReactInputFields:response[1].data,ReactComponents:response[0].data.components,ReactTables:constructOptionList(response[0].data.tables,'nquerybuildertablecode','displayname').get(\"OptionList\"),selectedFieldRecord:{},openModal:false,loading:false,openPortal:true,operation:operation},respObj)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function selectRegistrationTemplate(template,masterData,userinfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:template.nreactregtemplatecode,userinfo:userinfo}).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{masterData:_objectSpread(_objectSpread({},masterData),{},{selectedTemplate:response.data}),loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getRegistrationTemplate(selectedSampleType,masterData,userinfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\",{nsampletypecode:selectedSampleType.value,userinfo:userinfo}).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{searchedData:undefined});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,realSampleType:[{\"label\":\"IDS_SAMPLETYPE\",\"value\":selectedSampleType.label,\"item\":selectedSampleType}],loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditRegTemplate(masterData,userinfo,editId){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\",{nreactregtemplatecode:masterData.selectedTemplate.nreactregtemplatecode,userinfo:userinfo}).then(function(response){if(response.data.ntransactionstatus===transactionStatus.DRAFT){var jsonData=response.data.jsondata;sortData(masterData);var respObj={masterData:masterData,ncontrolcode:editId,openPortal:true,loading:false,openModal:false,design:jsonData,selectedRecord:{templateName:response.data.sregtemplatename}};// dispatch({\n//     type: DEFAULT_RETURN,\n//     payload: {\n//         masterData,\n//         ncontrolcode: editId,\n//         // openPortal: true,\n//         // loading: false,\n//         design: jsonData,\n//         selectedRecord: { templateName: response.data.sregtemplatename }\n//     }\n// })\ndispatch(getReactInputFields(userinfo,\"update\",respObj));}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,masterStatus:\"IDS_SELECTDRAFTRECORD\"}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getJsonValue(PGjsonData){if(Array.isArray(PGjsonData)){var JSONData=[];PGjsonData.map(function(data){return JSONData.push(JSON.parse(data.jsondata));});return JSONData;}else{return JSON.parse(PGjsonData);}}export function getTableColumns(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents,showFilter){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"dynamicpreregdesign/getTableColumns\",{\"nquerybuildertablecode\":stablename,userinfo:userinfo}).then(function(response){columnInfo=columnInfo||{};var staicColumns=response.data.jstaticcolumns||[];var dynamicColumns=response.data.jdynamiccolumns||[];var multilingualColumns=response.data.jmultilingualcolumn||[];var numericColumns=response.data.jnumericcolumns||[];var primaryKeyName=response.data.sprimarykeyname;columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,{staicColumns:staicColumns,dynamicColumns:dynamicColumns,multilingualColumns:multilingualColumns,numericColumns:numericColumns,primaryKeyName:primaryKeyName}));var defaultColumn={};var comboData=[];var filterColumns=[];staicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});dynamicColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"dynamic\",item:item};}});multilingualColumns.map(function(item){comboData.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item});if(item.default){defaultColumn={label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"static\",item:item};}});filterColumns=[].concat(comboData);numericColumns.map(function(item){filterColumns.push({label:item.displayname[userinfo.slanguagetypecode]||item.displayname['en-US'],value:item.columnname,type:\"numeric\",item:item});});if(defaultColumn.item&&defaultColumn.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(updateComponents){componentData=componentData||{};selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}else if(componentData===undefined||componentData.components===undefined){componentData=componentData||{};if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filterfields:[defaultColumn.item],customsearchfilter:[defaultColumn],displaymember:defaultColumn.value,valuemember:primaryKeyName});}else{selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{column:defaultColumn,displaymember:defaultColumn.value,valuemember:primaryKeyName});}design=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){var _validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents});}}else{var _validComponents2=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);var parentRadioValue=[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:_validComponents2,parentRadioValue:parentRadioValue});}columnInfo=_objectSpread(_objectSpread({},columnInfo),{},_defineProperty({},stablename,_objectSpread(_objectSpread({},columnInfo[stablename]),{},{tableColumn:comboData,filterColumns:filterColumns})));var optionalPayload={selectedComponentpath:Array.isArray(path)?path.join(\"-\"):undefined};dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread(_objectSpread({loading:false,design:design,selectedFieldRecord:selectedFieldRecord},optionalPayload),{},{tableColumn:comboData,filterColumns:filterColumns,columnInfo:columnInfo,primaryKeyName:primaryKeyName},componentData),{},{showFilter:showFilter})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getForeignTableData(design,selectedFieldRecord,stablename,userinfo,path,columnInfo,componentData,updateComponents){return function(dispatch){var parentcolumnlist=[{source:selectedFieldRecord.filtercolumn.item.foriegntablename,valuemember:selectedFieldRecord.filtercolumn.item.tablecolumnname,displaymember:selectedFieldRecord.filtercolumn.item.columnname,conditionstring:selectedFieldRecord.filtercolumn.item.conditionstring,label:\"filterData\",inputtype:\"combo\",isMultiLingual:selectedFieldRecord.filtercolumn.item.ismultilingual}];rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:parentcolumnlist,userinfo:userinfo}).then(function(response){var comboData=[];var selectedRecord={};var newcomboData=parentChildComboLoad(parentcolumnlist,response.data,selectedRecord,[],[],undefined,userinfo.slanguagetypecode);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;if(updateComponents){componentData=componentData||{};// selectedFieldRecord = { ...selectedFieldRecord };\ndesign=replaceChildFromChildren(design,path,selectedFieldRecord);if(selectedFieldRecord.componentcode!==ReactComponents.COMBO){var validComponents=getValidComponent(selectedFieldRecord,componentData.components,columnInfo);componentData=_objectSpread(_objectSpread({},componentData),{},{validComponents:validComponents});}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({loading:false,design:design,selectedFieldRecord:selectedFieldRecord,masterDataValue:comboData,columnInfo:columnInfo},componentData),comboData1)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getPreviewTemplate(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName){return function(dispatch){dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList,childcolumnlist:childColumnList,userinfo:userinfo});Axios.all([timeZoneService,actualService]).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};var newcomboData=parentChildComboLoad(columnList,response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){//  if (componentrow.mandatory) {\nselectedRecord1[componentrow.label]=componentrow.loadcurrentdate?new Date():\"\";// }else{\n//     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\n// }\n// if (componentrow.timezone) {\n//     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\n//         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\n//         defaulttimezone ? defaulttimezone : -1\n// }\n}else if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}});if(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName// childOperation:true\n}});}else{if(mapOfFilterRegData.nsampletypecode===1){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label].value;var ncategorybasedFlow=selectedRecord1[ProductCategory[0].label]&&selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=selectedRecord1[Product[0].label]&&selectedRecord1[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===2){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label].value;var _ncategorybasedFlow=selectedRecord1[InstrumentCategory[0].label]&&selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam2));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=selectedRecord1[Instrument[0].label]&&selectedRecord1[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam3));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===3){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=selectedRecord1[MaterialType[0].label]&&selectedRecord1[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label].value;var _ncategorybasedFlow2=selectedRecord1[MaterialCategory[0].label]&&selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam4));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=selectedRecord1[Material[0].label]&&selectedRecord1[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,selectedRecord1,newcomboData.comboData,_inputParam5));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getChildValues(inputParem,userinfo,selectedRecord,comboData,parentcolumnlist,childcolumnlist,withoutCombocomponent,parentListWithReadonly,productCategory,product,mapOfRegFilterData,instrumentCategory,instrument,materialCategory,material,materialType){return function(dispatch){var _rsapi$post;dispatch(initRequest(true));rsapi.post('dynamicpreregdesign/getChildValues',(_rsapi$post={child:inputParem.child,parentdata:inputParem.item.jsondata,parentsource:inputParem.source},_defineProperty(_rsapi$post,inputParem.primarykeyField,inputParem.value),_defineProperty(_rsapi$post,\"valuemember\",inputParem.primarykeyField),_defineProperty(_rsapi$post,\"childcolumnlist\",childcolumnlist),_defineProperty(_rsapi$post,\"userinfo\",userinfo),_defineProperty(_rsapi$post,\"parentcolumnlist\",parentcolumnlist),_rsapi$post)).then(function(response){var returnObj=_objectSpread(_objectSpread({},comboData),response.data);returnObj=parentChildComboLoad(parentListWithReadonly,returnObj,selectedRecord,childcolumnlist,withoutCombocomponent,inputParem,userinfo.slanguagetypecode);selectedRecord=_objectSpread(_objectSpread({},selectedRecord),returnObj.selectedRecord);if(productCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(product){if(selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName]?selectedRecord[inputParem.nameofdefaultcomp===\"Product\"?inputParem.label:inputParem.ProductName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}else if(instrumentCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(materialCategory){dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else if(instrument){if(selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName]?selectedRecord[inputParem.nameofdefaultcomp===\"Instrument\"?inputParem.label:inputParem.InstrumentName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}else if(material){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]){mapOfRegFilterData[\"nproductcode\"]=selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName]?selectedRecord[inputParem.nameofdefaultcomp===\"Material\"?inputParem.label:inputParem.MaterialName].value:-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}else if(materialType){if(selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]){var _productCategory=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialCategoryName:inputParem.label]:undefined;//  mapOfRegFilterData[\"nproductcatcode\"]\nif(_productCategory!==undefined){if(_productCategory.item.ncategorybasedflow===3){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=-1;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product=selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"Material Type\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{var _product2=selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]?selectedRecord[inputParem.nameofdefaultcomp===\"MaterialType\"?inputParem.MaterialName:inputParem.label]:undefined;if(_product2!==undefined){mapOfRegFilterData[\"nproductcatcode\"]=_productCategory.value;mapOfRegFilterData[\"nproductcode\"]=_product2.value;dispatch(getTreeByProduct(mapOfRegFilterData,selectedRecord,_objectSpread({},returnObj.comboData)));}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}else{selectedRecord[\"nallottedspeccode\"]=\"\";selectedRecord[\"sversion\"]=\"\";dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord,AgaramTree:[],ActiveKey:[],FocusKey:[],OpenNodes:[],Test:[],SelectedTest:[],selectedSpec:{},Component:[],selectComponent:{},selectedComponent:{},Specification:[]}});}}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,comboData:_objectSpread({},returnObj.comboData),selectedRecord:selectedRecord}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/DynamicPreRegDesignAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","sortData","constructOptionList","parentChildComboLoad","getcomponentdata","getValidComponent","replaceChildFromChildren","ReactComponents","transactionStatus","Axios","getTreeByProduct","getReactInputFields","userinfo","operation","respObj","dispatch","listURL","post","all","then","response","type","payload","ReactInputFields","data","components","ReactTables","tables","get","selectedFieldRecord","openModal","loading","openPortal","catch","error","status","message","warn","selectRegistrationTemplate","template","masterData","nreactregtemplatecode","selectedTemplate","getRegistrationTemplate","selectedSampleType","nsampletypecode","value","searchedData","undefined","realSampleType","label","getEditRegTemplate","editId","ntransactionstatus","DRAFT","jsonData","jsondata","ncontrolcode","design","selectedRecord","templateName","sregtemplatename","masterStatus","getJsonValue","PGjsonData","Array","isArray","JSONData","map","push","JSON","parse","getTableColumns","stablename","path","columnInfo","componentData","updateComponents","showFilter","staicColumns","jstaticcolumns","dynamicColumns","jdynamiccolumns","multilingualColumns","jmultilingualcolumn","numericColumns","jnumericcolumns","primaryKeyName","sprimarykeyname","defaultColumn","comboData","filterColumns","item","displayname","slanguagetypecode","columnname","default","ismultilingual","column","displaymember","valuemember","componentcode","COMBO","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","validComponents","filterfields","customsearchfilter","parentRadioValue","parentPath","oldParentData","split","hasOwnProperty","child","radioOptions","tags","id","text","tableColumn","optionalPayload","selectedComponentpath","join","getForeignTableData","parentcolumnlist","source","filtercolumn","foriegntablename","tablecolumnname","conditionstring","inputtype","isMultiLingual","newcomboData","comboData1","selectedRecord1","masterDataValue","getPreviewTemplate","columnList","childColumnList","comboComponents","withoutCombocomponent","mapOfFilterRegData","preview","screenName","timeZoneService","actualService","childcolumnlist","timeZoneMap","timeZoneList","defaultTimeZone","stimezoneid","ntimezonecode","componentrow","loadcurrentdate","Date","ProductCategory","filter","x","name","length","nproductcatcode","ncategorybasedFlow","inputParam","Product","nproductcode","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","console","log","getChildValues","inputParem","parentListWithReadonly","productCategory","product","mapOfRegFilterData","instrumentCategory","instrument","materialCategory","material","materialType","parentdata","parentsource","primarykeyField","returnObj","nameofdefaultcomp","ProductName","AgaramTree","ActiveKey","FocusKey","OpenNodes","Test","SelectedTest","selectedSpec","Component","selectComponent","selectedComponent","Specification","InstrumentName","MaterialName","MaterialCategoryName","ncategorybasedflow"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData, constructOptionList, parentChildComboLoad } from '../components/CommonScript';\r\nimport { getcomponentdata, getValidComponent, replaceChildFromChildren } from '../components/droparea/helpers';\r\nimport { ReactComponents, transactionStatus } from '../components/Enumeration';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct } from './RegistrationAction';\r\n\r\nexport function getReactInputFields(userinfo, operation, respObj) {\r\n\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const listURL = [];\r\n        listURL[0] = rsapi.post(\"dynamicpreregdesign/getReactComponents\", { userinfo })\r\n        listURL[1] = rsapi.post(\"dynamicpreregdesign/getReactInputFields\", { userinfo })\r\n        Axios.all(listURL)\r\n            .then(response => {\r\n                respObj = respObj ? { ...respObj } : {}\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        ReactInputFields: response[1].data,\r\n                        ReactComponents: response[0].data.components,\r\n                        ReactTables: constructOptionList(response[0].data.tables, 'nquerybuildertablecode', 'displayname').get(\"OptionList\"),\r\n                        selectedFieldRecord: {},\r\n                        openModal: false,\r\n                        loading: false,\r\n                        openPortal: true,\r\n                        operation,\r\n                        ...respObj\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function selectRegistrationTemplate(template, masterData, userinfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: template.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: { masterData: { ...masterData, selectedTemplate: response.data }, loading: false }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getRegistrationTemplate(selectedSampleType, masterData, userinfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getDynamicPreRegDesign\", {\r\n            nsampletypecode: selectedSampleType.value,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data, searchedData: undefined }\r\n                sortData(masterData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        realSampleType: [{\r\n                            \"label\": \"IDS_SAMPLETYPE\",\r\n                            \"value\": selectedSampleType.label,\r\n                            \"item\": selectedSampleType\r\n                        }],\r\n                        loading: false,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getEditRegTemplate(masterData, userinfo, editId) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getRegistrationTemplateById\", {\r\n            nreactregtemplatecode: masterData.selectedTemplate.nreactregtemplatecode,\r\n            userinfo\r\n        })\r\n            .then(response => {\r\n                if (response.data.ntransactionstatus === transactionStatus.DRAFT) {\r\n                    let jsonData = response.data.jsondata;\r\n                    sortData(masterData)\r\n\r\n                    const respObj = {\r\n                        masterData,\r\n                        ncontrolcode: editId,\r\n                        openPortal: true,\r\n                        loading: false,\r\n                        openModal: false,\r\n                        design: jsonData,\r\n                        selectedRecord: { templateName: response.data.sregtemplatename }\r\n                    }\r\n                    // dispatch({\r\n                    //     type: DEFAULT_RETURN,\r\n                    //     payload: {\r\n                    //         masterData,\r\n                    //         ncontrolcode: editId,\r\n                    //         // openPortal: true,\r\n                    //         // loading: false,\r\n                    //         design: jsonData,\r\n                    //         selectedRecord: { templateName: response.data.sregtemplatename }\r\n                    //     }\r\n                    // })\r\n                    dispatch(getReactInputFields(userinfo, \"update\", respObj))\r\n                } else {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false, masterStatus: \"IDS_SELECTDRAFTRECORD\" } })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getJsonValue(PGjsonData) {\r\n\r\n    if (Array.isArray(PGjsonData)) {\r\n        let JSONData = [];\r\n        PGjsonData.map(data => {\r\n            return JSONData.push(JSON.parse(data.jsondata))\r\n        })\r\n        return JSONData;\r\n    } else {\r\n        return JSON.parse(PGjsonData);\r\n    }\r\n\r\n}\r\nexport function getTableColumns(design, selectedFieldRecord, stablename,\r\n     userinfo, path, columnInfo, componentData, updateComponents,showFilter) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"dynamicpreregdesign/getTableColumns\", { \"nquerybuildertablecode\":stablename, userinfo })\r\n            .then(response => {\r\n                columnInfo = columnInfo || {}\r\n                const staicColumns = response.data.jstaticcolumns || []\r\n                const dynamicColumns = response.data.jdynamiccolumns || []\r\n                const multilingualColumns = response.data.jmultilingualcolumn || []\r\n                const numericColumns = response.data.jnumericcolumns || []\r\n                const primaryKeyName = response.data.sprimarykeyname\r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: {\r\n                        staicColumns,\r\n                        dynamicColumns,\r\n                        multilingualColumns,\r\n                        numericColumns,\r\n                        primaryKeyName\r\n                    }\r\n                }\r\n                let defaultColumn = {};\r\n                let comboData = []\r\n                let filterColumns = [];\r\n                staicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                dynamicColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"dynamic\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"dynamic\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                multilingualColumns.map(item => {\r\n                    comboData.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"static\",\r\n                        item\r\n                    })\r\n                    if (item.default) {\r\n                        defaultColumn = {\r\n                            label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                            value: item.columnname,\r\n                            type: \"static\",\r\n                            item\r\n                        }\r\n                    }\r\n                })\r\n                filterColumns = [...comboData];\r\n                numericColumns.map(item => {\r\n                    filterColumns.push({\r\n                        label: item.displayname[userinfo.slanguagetypecode] || item.displayname['en-US'],\r\n                        value: item.columnname,\r\n                        type: \"numeric\",\r\n                        item\r\n                    })\r\n                })\r\n                if (defaultColumn.item && defaultColumn.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        &&selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER \r\n                         &&selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else if (componentData===undefined||componentData.components === undefined) {\r\n                    componentData = componentData || {}\r\n                    if(selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER){\r\n                        selectedFieldRecord = { ...selectedFieldRecord,filterfields:[defaultColumn.item], customsearchfilter: [defaultColumn], displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    }else{\r\n                        selectedFieldRecord = { ...selectedFieldRecord, column: defaultColumn, displaymember: defaultColumn.value, valuemember: primaryKeyName };\r\n                    }\r\n                   \r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO\r\n                        &&selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER\r\n                        &&selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                } else {\r\n                    let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                    let parentRadioValue=[]\r\n                    if(selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER){\r\n                        if(selectedFieldRecord.parentPath){\r\n                        let oldParentData = getcomponentdata(design, selectedFieldRecord.parentPath.split(\"-\"))\r\n                        if(oldParentData.hasOwnProperty('child')){\r\n                            oldParentData.child.map(item=>{\r\n                                if(item.label===selectedFieldRecord.label){\r\n                                    parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                        return { value: item.id, label: item.text, item }\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    }\r\n                    componentData = { ...componentData, validComponents,parentRadioValue }\r\n                }\r\n                \r\n                columnInfo = {\r\n                    ...columnInfo,\r\n                    [stablename]: { ...columnInfo[stablename], tableColumn: comboData, filterColumns }\r\n                }\r\n                let optionalPayload = {\r\n                    selectedComponentpath: Array.isArray(path) ? path.join(\"-\") : undefined,\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        selectedFieldRecord,\r\n                        ...optionalPayload,\r\n                        tableColumn: comboData,\r\n                        filterColumns,\r\n                        columnInfo,\r\n                        primaryKeyName,\r\n                        ...componentData,\r\n                        showFilter:showFilter\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getForeignTableData(design, selectedFieldRecord, stablename, userinfo, path, columnInfo, componentData, updateComponents) {\r\n    return function (dispatch) {\r\n        let parentcolumnlist = [{\r\n            source: selectedFieldRecord.filtercolumn.item.foriegntablename,\r\n            valuemember: selectedFieldRecord.filtercolumn.item.tablecolumnname,\r\n            displaymember: selectedFieldRecord.filtercolumn.item.columnname,\r\n            conditionstring: selectedFieldRecord.filtercolumn.item.conditionstring,\r\n            label: \"filterData\",\r\n            inputtype: \"combo\",\r\n            isMultiLingual: selectedFieldRecord.filtercolumn.item.ismultilingual\r\n        }]\r\n        rsapi.post(\"dynamicpreregdesign/getComboValues\", { parentcolumnlist, userinfo })\r\n            .then(response => {\r\n                let comboData = [];\r\n                let selectedRecord = {};\r\n                const newcomboData = parentChildComboLoad(parentcolumnlist, response.data, selectedRecord, [], [], undefined, userinfo.slanguagetypecode)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                if (updateComponents) {\r\n                    componentData = componentData || {}\r\n                    // selectedFieldRecord = { ...selectedFieldRecord };\r\n                    design = replaceChildFromChildren(design, path, selectedFieldRecord)\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO) {\r\n                        let validComponents = getValidComponent(selectedFieldRecord, componentData.components, columnInfo);\r\n                        componentData = { ...componentData, validComponents }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        design,\r\n                        selectedFieldRecord,\r\n                        masterDataValue: comboData,\r\n                        columnInfo,\r\n                        ...componentData,\r\n                        ...comboData1\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getPreviewTemplate(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation, screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList,\r\n            childcolumnlist: childColumnList,\r\n            userinfo\r\n        })\r\n        Axios.all([timeZoneService, actualService])\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                const newcomboData = parentChildComboLoad(columnList, response[1].data, selectedRecord, childColumnList, withoutCombocomponent, undefined, userinfo.slanguagetypecode)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                      //  if (componentrow.mandatory) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        // }else{\r\n                        //     selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        // }\r\n                        // if (componentrow.timezone) {\r\n                        //     sampleRegistration[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                        //         { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                        //         defaulttimezone ? defaulttimezone : -1\r\n                        // }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\") {\r\n                        selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                            componentrow.radioOptions.tags[0].text : \"\";\r\n                    }\r\n\r\n                })\r\n\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName\r\n                            // childOperation:true\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === 1) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = selectedRecord1[ProductCategory[0].label] &&\r\n                                selectedRecord1[ProductCategory[0].label].value\r\n                            const ncategorybasedFlow = selectedRecord1[ProductCategory[0].label]\r\n                                && selectedRecord1[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = selectedRecord1[Product[0].label]\r\n                                            && selectedRecord1[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: selectedRecord1,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: selectedRecord1,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: selectedRecord1,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 2) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = selectedRecord1[InstrumentCategory[0].label] &&\r\n                                selectedRecord1[InstrumentCategory[0].label].value\r\n                            const ncategorybasedFlow = selectedRecord1[InstrumentCategory[0].label]\r\n                                && selectedRecord1[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        selectedRecord1,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = selectedRecord1[Instrument[0].label]\r\n                                            && selectedRecord1[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            selectedRecord1,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: selectedRecord1,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: selectedRecord1,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: selectedRecord1,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 3) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = selectedRecord1[MaterialType[0].label] &&\r\n                                selectedRecord1[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = selectedRecord1[MaterialCategory[0].label] &&\r\n                                        selectedRecord1[MaterialCategory[0].label].value\r\n                                    const ncategorybasedFlow = selectedRecord1[MaterialCategory[0].label]\r\n                                        && selectedRecord1[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === 3) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                selectedRecord1,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = selectedRecord1[Material[0].label]\r\n                                                    && selectedRecord1[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    selectedRecord1,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                dispatch({\r\n                                                    type: DEFAULT_RETURN,\r\n                                                    payload: {\r\n                                                        timeZoneList,\r\n                                                        defaultTimeZone,\r\n                                                        masterData,\r\n                                                        ncontrolcode: editId,\r\n                                                        openModal,\r\n                                                        loading: false,\r\n                                                        comboData: newcomboData.comboData,\r\n                                                        selectedRecord: selectedRecord1,\r\n                                                        comboComponents,\r\n                                                        withoutCombocomponent,\r\n                                                        openPortal,\r\n                                                        columnList,\r\n                                                        childColumnList,\r\n                                                        operation,\r\n                                                        screenName\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: selectedRecord1,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                } else {\r\n                                    dispatch({\r\n                                        type: DEFAULT_RETURN,\r\n                                        payload: {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            loading: false,\r\n                                            comboData: newcomboData.comboData,\r\n                                            selectedRecord: selectedRecord1,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: selectedRecord1,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChildValues(inputParem,\r\n    userinfo, selectedRecord, comboData, parentcolumnlist,\r\n    childcolumnlist, withoutCombocomponent, parentListWithReadonly,\r\n    productCategory, product, mapOfRegFilterData,\r\n    instrumentCategory, instrument, materialCategory, material, materialType) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post('dynamicpreregdesign/getChildValues', {\r\n            child: inputParem.child,\r\n            parentdata: inputParem.item.jsondata,\r\n            parentsource: inputParem.source,\r\n            [inputParem.primarykeyField]: inputParem.value,\r\n            valuemember: inputParem.primarykeyField,\r\n            childcolumnlist,\r\n            userinfo,\r\n            parentcolumnlist\r\n        })\r\n            .then(response => {\r\n                let returnObj = { ...comboData, ...response.data }\r\n                returnObj = parentChildComboLoad(parentListWithReadonly, returnObj, selectedRecord, childcolumnlist, withoutCombocomponent, inputParem, userinfo.slanguagetypecode)\r\n                selectedRecord = { ...selectedRecord, ...returnObj.selectedRecord }\r\n                if (productCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                } else if (product) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Product\" ? inputParem.label : inputParem.ProductName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: []\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (instrumentCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (materialCategory) {\r\n                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                }\r\n                else if (instrument) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ? inputParem.label : inputParem.InstrumentName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ?\r\n                            inputParem.label : inputParem.InstrumentName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Instrument\" ? inputParem.label : inputParem.InstrumentName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: []\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (material) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName]) {\r\n                        mapOfRegFilterData[\"nproductcode\"] = selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ?\r\n                            inputParem.label : inputParem.MaterialName] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material\" ? inputParem.label : inputParem.MaterialName].value : -1\r\n                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: []\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else if (materialType) {\r\n                    if (selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ? inputParem.MaterialCategoryName : inputParem.label]) {\r\n                        const productCategory = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                            inputParem.MaterialCategoryName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                inputParem.MaterialCategoryName : inputParem.label] : undefined\r\n\r\n                        //  mapOfRegFilterData[\"nproductcatcode\"]\r\n                        if (productCategory !== undefined) {\r\n                            if (productCategory.item.ncategorybasedflow === 3) {\r\n                                mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                mapOfRegFilterData[\"nproductcode\"] = -1\r\n                                dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                            } else {\r\n\r\n                                const product = selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                    inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"Material Type\" ?\r\n                                        inputParem.MaterialName : inputParem.label] : undefined\r\n                                if (product !== undefined) {\r\n                                    mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                    mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                    dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                } else {\r\n\r\n                                    const product = selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                        inputParem.MaterialName : inputParem.label] ? selectedRecord[inputParem.nameofdefaultcomp === \"MaterialType\" ?\r\n                                            inputParem.MaterialName : inputParem.label] : undefined\r\n                                    if (product !== undefined) {\r\n                                        mapOfRegFilterData[\"nproductcatcode\"] = productCategory.value\r\n                                        mapOfRegFilterData[\"nproductcode\"] = product.value\r\n                                        dispatch(getTreeByProduct(mapOfRegFilterData, selectedRecord, { ...returnObj.comboData }))\r\n                                    } else {\r\n                                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                                        selectedRecord[\"sversion\"] = \"\"\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                loading: false,\r\n                                                comboData: { ...returnObj.comboData },\r\n                                                selectedRecord,\r\n                                                AgaramTree: [],\r\n                                                ActiveKey: [],\r\n                                                FocusKey: [],\r\n                                                OpenNodes: [],\r\n                                                Test: [],\r\n                                                SelectedTest: [],\r\n                                                selectedSpec: {},\r\n                                                Component: [],\r\n                                                selectComponent: {},\r\n                                                selectedComponent: {},\r\n                                                Specification: []\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        } else {\r\n                            selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                            selectedRecord[\"sversion\"] = \"\"\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    loading: false,\r\n                                    comboData: { ...returnObj.comboData },\r\n                                    selectedRecord,\r\n                                    AgaramTree: [],\r\n                                    ActiveKey: [],\r\n                                    FocusKey: [],\r\n                                    OpenNodes: [],\r\n                                    Test: [],\r\n                                    SelectedTest: [],\r\n                                    selectedSpec: {},\r\n                                    Component: [],\r\n                                    selectComponent: {},\r\n                                    selectedComponent: {},\r\n                                    Specification: []\r\n                                }\r\n                            })\r\n                        }\r\n                    } else {\r\n                        selectedRecord[\"nallottedspeccode\"] = \"\"\r\n                        selectedRecord[\"sversion\"] = \"\"\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN,\r\n                            payload: {\r\n                                loading: false,\r\n                                comboData: { ...returnObj.comboData },\r\n                                selectedRecord,\r\n                                AgaramTree: [],\r\n                                ActiveKey: [],\r\n                                FocusKey: [],\r\n                                OpenNodes: [],\r\n                                Test: [],\r\n                                SelectedTest: [],\r\n                                selectedSpec: {},\r\n                                Component: [],\r\n                                selectComponent: {},\r\n                                selectedComponent: {},\r\n                                Specification: []\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false,\r\n                            comboData: { ...returnObj.comboData },\r\n                            selectedRecord\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}