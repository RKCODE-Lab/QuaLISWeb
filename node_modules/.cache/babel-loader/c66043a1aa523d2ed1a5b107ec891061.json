{"ast":null,"code":"import { toast } from 'react-toastify';\nimport React from 'react';\nimport rsapi from '../rsapi';\nimport { constructOptionList, sortData, reArrangeArrays } from '../components/CommonScript';\nimport Axios from 'axios';\nimport { DEFAULT_RETURN } from './LoginTypes';\nimport { initRequest } from \"./LoginAction\";\nimport { intl } from '../components/App';\nimport { transactionStatus } from '../components/Enumeration';\nexport function getSectionAndTest(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\n  return function (dispatch) {\n    if (masterData.SelectedInsCat !== null) {\n      let urlArray = [];\n      const Section = rsapi.post(\"worklist/getSectionAndTest\", {\n        \"ncontrolCode\": ncontrolCode,\n        \"userinfo\": userInfo,\n        \"nregtypecode\": masterData.defaultRegTypeValue.nregtypecode,\n        \"nregsubtypecode\": masterData.defaultRegSubTypeValue.nregsubtypecode\n      });\n      urlArray = [Section];\n      dispatch(initRequest(true));\n      Axios.all(urlArray).then(response => {\n        const SectionMap = constructOptionList(response[0].data || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\n        const Section = SectionMap.get(\"OptionList\");\n        let selectedRecord = {};\n        let instrumentCategory = [];\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            Section,\n            Test: [],\n            instrumentCategory: instrumentCategory,\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            operation: operation,\n            screenName: screenName,\n            openModal: true,\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(intl.formatMessage({\n            id: error.message\n          }));\n        } else {\n          toast.warn(intl.formatMessage({\n            id: error.response.data\n          }));\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_SECTIONNOTAVALIABLE\"\n      }));\n    }\n  };\n}\nexport function getWorklistSample(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode, dataStateSample) {\n  return function (dispatch) {\n    let urlArray = [];\n    const InstrumentCategory = rsapi.post(\"/worklist/refreshGetForAddComponent\", {\n      [primaryKeyName]: masterData.selectedWorklist[primaryKeyName],\n      \"ntestcode\": masterData.selectedWorklist['ntestcode'],\n      \"ntransactionstatus\": masterData.defaultFilterStatusValue['ntransactionstatus'],\n      \"nsampletypecode\": masterData.selectedWorklist['nsampletypecode'],\n      \"nregtypecode\": masterData.selectedWorklist['nregtypecode'],\n      \"nregsubtypecode\": masterData.selectedWorklist['nregsubtypecode'],\n      \"napprovalconfigversioncode\": masterData.defaultApprovalVersionValue['napprovalconfigversioncode'],\n      \"userinfo\": userInfo,\n      \"ncontrolCode\": ncontrolCode,\n      \"nsectioncode\": masterData.selectedWorklist['nsectioncode']\n    });\n    urlArray = [InstrumentCategory];\n    dispatch(initRequest(true));\n    Axios.all(urlArray).then(response => {\n      let expiryDate = undefined;\n      let currentTime = undefined;\n      masterData = { ...masterData,\n        addComponentDataList: response[0].data || []\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData,\n          dataState: dataStateSample,\n          activeKey: \"IDS_WORKLISTSAMPLE\",\n          addedComponentList: [],\n          //addComponentDataList: response[0].data || [],\n          isOpen: true,\n          operation: operation,\n          screenName: screenName,\n          openModal: true,\n          ncontrolCode: ncontrolCode,\n          loading: false,\n          currentTime,\n          expiryDate,\n          addComponentSortedList: []\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n}\nexport function getRegTypeWorklist(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getRegistrationTypeBySampleType\", inputData).then(response => {\n      let responseData = { ...response.data\n      }; //responseData = sortData(responseData)\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...responseData,\n            defaultSampleTypeValue: inputData.defaultSampleTypeValue,\n            realApprovalConfigVersionList: inputData.realApprovalConfigVersionList,\n            realApprovalVersionValue: inputData.realApprovalVersionValue\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getWorklistDetail(Worklist, userInfo, masterData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    return rsapi.post(\"worklist/getWorklistSample\", {\n      nworklistcode: Worklist.nworklistcode,\n      ndesigntemplatemappingcode: masterData.ndesigntemplatemappingcode,\n      userinfo: userInfo\n    }).then(response => {\n      delete masterData['selectedWorklist'];\n      masterData['selectedWorklist'] = {};\n      masterData['selectedWorklist'] = Worklist;\n      masterData = { ...masterData,\n        ...response.data\n      }; //sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          activeKey: \"IDS_WORKLISTSAMPLE\",\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false,\n          dataState: undefined\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getSectionbaseTest(inputParam, userInfo, masterData, addId) {\n  return function (dispatch) {\n    if (inputParam.SelectedInsCat !== null) {\n      let urlArray = [];\n      const Section = rsapi.post(\"worklist/getSectionbaseTest\", {\n        nsectionCode: inputParam.nsectioncode.value,\n        \"userinfo\": userInfo,\n        \"ncontrolCode\": addId,\n        \"nregtypecode\": masterData.defaultRegTypeValue.nregtypecode,\n        \"nregsubtypecode\": masterData.defaultRegSubTypeValue.nregsubtypecode\n      });\n      urlArray = [Section];\n      dispatch(initRequest(true));\n      Axios.all(urlArray).then(response => {\n        const TestMap = constructOptionList(response[0].data || [], \"ntestcode\", \"stestsynonym\", undefined, undefined, false);\n        const Test = TestMap.get(\"OptionList\");\n        let selectedRecord = { ...inputParam\n        };\n        let instrumentCategory = []; //nsectioncode=inputParam.nsectioncode,\n\n        masterData = { ...masterData\n        };\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            masterData,\n            Test,\n            instrumentCategory: instrumentCategory,\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            // operation: operation,\n            //screenName: screenName,\n            //openModal: true,\n            //ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(intl.formatMessage({\n            id: error.message\n          }));\n        } else {\n          toast.warn(intl.formatMessage({\n            id: error.response.data\n          }));\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\"\n      }));\n    }\n  };\n}\nexport const getWorklistDetailFilter = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getWorklistDetailFilter\", inputParam.inputData).then(response => {\n      delete inputParam.masterData['Worklist'];\n      delete inputParam.masterData['WorklistSamples'];\n      delete inputParam.masterData['WorklistHistory'];\n      delete inputParam.masterData['selectedWorklist'];\n      inputParam.masterData['Worklist'] = {};\n      inputParam.masterData['WorklistSamples'] = {};\n      inputParam.masterData['WorklistHistory'] = {};\n      inputParam.masterData['selectedWorklist'] = {};\n      inputParam.masterData['Worklist'] = response.data.Worklist;\n      inputParam.masterData['WorklistSamples'] = response.data.WorklistSamples;\n      inputParam.masterData['WorklistHistory'] = response.data.WorklistHistory;\n      inputParam.masterData['selectedWorklist'] = response.data.selectedWorklist;\n      const masterData = response.data; //sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          dataState: undefined,\n          activeKey: \"IDS_WORKLISTSAMPLE\",\n          masterData: { ...inputParam.masterData,\n            defaultRegSubTypeValue: inputParam.masterData.RegSubTypeValue,\n            FilterStatusValue: inputParam.masterData.defaultFilterStatusValue\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n      toast.error(error.message);\n    });\n  };\n};\nexport const onWorklistApproveClick = (masterData, userInfo, ConfirmMessage, approvalId, operation) => {\n  return dispatch => {\n    dispatch(initRequest(true)); //   rsapi.post(\"worklist/updateWorklistDetail\", { \"worklist\": masterData.selectedWorklist, \"userinfo\": userInfo, \"ncontrolCode\": approvalId,\"ndesigntemplatemappingcode\":masterData.ndesigntemplatemappingcode }\n\n    rsapi.post(\"worklist/prepareWorklist\", {\n      \"worklist\": masterData.selectedWorklist,\n      \"userinfo\": userInfo,\n      \"ncontrolCode\": approvalId,\n      \"ndesigntemplatemappingcode\": masterData.ndesigntemplatemappingcode\n    }).then(response => {\n      let Worklist = [];\n      Worklist = masterData.Worklist;\n      Worklist.map((item, index) => {\n        if (response.data[\"selectedWorklist\"].nworklistcode === item.nworklistcode) {\n          Worklist.splice(index, 1);\n          Worklist.splice(index, 0, response.data[\"selectedWorklist\"]);\n        }\n      });\n      masterData = { ...masterData,\n        ...response.data,\n        Worklist: Worklist\n      };\n\n      if (!(masterData.searchedData && masterData.searchedData.length > 0)) {\n        dispatch({\n          type: DEFAULT_RETURN,\n          activeKey: \"IDS_WORKLISTSAMPLE\",\n          payload: {\n            loading: false,\n            loadEsign: false,\n            dataState: undefined,\n            openModal: false,\n            openChildModal: false,\n            masterData: { ...masterData\n            }\n          }\n        });\n      } else {\n        let searchedData = reArrangeArrays(masterData[\"searchedData\"], masterData.Worklist, \"nworklistcode\");\n        rsapi.post(\"worklist/getWorklistSelectSample\", {\n          \"nworklistcode\": searchedData.length > 0 ? searchedData[0].nworklistcode : -1,\n          \"userinfo\": userInfo,\n          \"ndesigntemplatemappingcode\": masterData.ndesigntemplatemappingcode,\n          \"nneedsampleandhistory\": transactionStatus.YES\n        }).then(response => {\n          let responseData = response.data;\n          responseData[\"searchedData\"] = searchedData;\n          masterData = { ...masterData,\n            ...responseData\n          };\n          dispatch({\n            type: DEFAULT_RETURN,\n            activeKey: \"IDS_WORKLISTSAMPLE\",\n            payload: {\n              loading: false,\n              dataState: undefined,\n              openModal: false,\n              openChildModal: false,\n              loadEsign: false,\n              masterData: { ...masterData\n              }\n            }\n          });\n        });\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else if (error.response.status === 417) {\n        ConfirmMessage.confirm(\"information\", \"Information!\", error.response.data, undefined, \"ok\", undefined, true, undefined);\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      } //toast.error(error.message);\n\n    });\n  };\n};\nexport function getEditSectionAndTest(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\n  return function (dispatch) {\n    if (masterData.SelectedInsCat !== null) {\n      let urlArray = [];\n      const Section = rsapi.post(\"worklist/getSectionAndTest\", {\n        \"ncontrolCode\": ncontrolCode,\n        \"userinfo\": userInfo\n      }); // const GetEditSetionAndTest={}\n\n      if (operation === \"update\") {\n        const GetEditSetionAndTest = rsapi.post(\"/worklistpreparation/getEditSectionAndTest\", {\n          [primaryKeyName]: masterData.selectedWorklist[primaryKeyName],\n          \"userinfo\": userInfo\n        });\n        const TestGet = rsapi.post(\"worklist/getSectionbaseTest\", {\n          nsectionCode: masterData.selectedWorklist[\"nsectioncode\"],\n          \"userinfo\": userInfo\n        });\n        urlArray = [Section, GetEditSetionAndTest, TestGet];\n      } //urlArray = [Section,GetEditSetionAndTest];\n\n\n      dispatch(initRequest(true));\n      Axios.all(urlArray).then(response => {\n        const SectionMap = constructOptionList(response[0].data || [], \"nsectioncode\", \"ssectionname\", undefined, undefined, false);\n        const Section = SectionMap.get(\"OptionList\");\n        const TestMap = constructOptionList(response[2].data || [], \"ntestcode\", \"stestsynonym\", undefined, undefined, false);\n        const Test = TestMap.get(\"OptionList\");\n        let selectedRecord = {};\n        let instrumentCategory = [];\n        selectedRecord = {\n          \"nsectioncode\": {\n            \"value\": response[1].data.nsectioncode,\n            \"label\": response[1].data.ssectionname\n          },\n          \"ntestcode\": {\n            \"value\": response[1].data.ntestcode,\n            \"label\": response[1].data.stestsynonym\n          }\n        };\n        dispatch({\n          type: DEFAULT_RETURN,\n          activeKey: \"IDS_WORKLISTSAMPLE\",\n          payload: {\n            masterData: { ...masterData\n            },\n            Section,\n            Test,\n            instrumentCategory: instrumentCategory,\n            isOpen: true,\n            selectedRecord: selectedRecord,\n            operation: operation,\n            screenName: screenName,\n            openModal: true,\n            ncontrolCode: ncontrolCode,\n            loading: false\n          }\n        });\n      }).catch(error => {\n        dispatch({\n          type: DEFAULT_RETURN,\n          payload: {\n            loading: false\n          }\n        });\n\n        if (error.response.status === 500) {\n          toast.error(intl.formatMessage({\n            id: error.message\n          }));\n        } else {\n          toast.warn(intl.formatMessage({\n            id: error.response.data\n          }));\n        }\n      });\n    } else {\n      toast.warn(intl.formatMessage({\n        id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\"\n      }));\n    }\n  };\n}\nexport const createWorklistCreation = (inputParam, masterData) => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/createWorklistCreation\", inputParam.inputData).then(response => {\n      delete inputParam.masterData['WorklistSamples'];\n      inputParam.masterData['WorklistSamples'] = {};\n      inputParam.masterData['WorklistSamples'] = response.data.WorklistSamples;\n      delete inputParam.masterData['WorklistHistory'];\n      inputParam.masterData['WorklistHistory'] = {};\n      inputParam.masterData['WorklistHistory'] = response.data.WorklistHistory;\n      const masterData = response.data; //sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          openModal: false,\n          dataState: undefined,\n          addedComponentList: [],\n          addComponentSortedList: [],\n          masterData: { ...inputParam.masterData\n          }\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      }); // toast.error(error.message);\n\n      if (error.response.status === 500) {\n        toast.error(intl.formatMessage({\n          id: error.message\n        }));\n      } else {\n        toast.warn(intl.formatMessage({\n          id: error.response.data\n        }));\n      }\n    });\n  };\n};\nexport function getConfigVersionTestWise(inputParam) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getApprovalConfigVersionByRegSubType\", inputParam.inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputParam.masterData,\n            ...responseData,\n            RegSubTypeValue: inputParam.masterData.RegSubTypeValue,\n            RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList,\n            realApprovalConfigVersionList: inputParam.inputData.realApprovalConfigVersionList,\n            realApprovalVersionValue: inputParam.inputData.realApprovalVersionValue //nneedsubsample:inputParam.masterData.realRegSubTypeValue.nneedsubsample\n\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function ViewSampleDetails(masterData, screenName, userInfo, viewdetails) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getSampleViewDetails\", {\n      selectedRecord: masterData.selectedWorklist,\n      PatientId: viewdetails[\"Patient Id\"],\n      npreregno: viewdetails[\"npreregno\"],\n      userinfo: userInfo\n    }).then(response => {\n      //  masterData = {\n      //     ...masterData,\n      //     ...response.data\n      // }\n      masterData['AuditModifiedComments'] = [];\n      masterData['AuditModifiedComments'] = response.data['AuditModifiedComments'];\n      masterData['viewdetails'] = [];\n      masterData['viewdetails'] = response.data['viewdetails'][0]; //sortData(masterData);\n\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          //viewdetails:viewdetails,\n          masterData,\n          screenName: \"IDS_PREVIOUSRESULTVIEW\",\n          operation: \"\",\n          loading: false,\n          openModal: true\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getWorklisthistoryAction(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getWorklisthistory\", inputData).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...response.data\n          },\n          loading: false,\n          openModal: false,\n          activeKey: \"IDS_WORKLISTHISTORY\"\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function getRegSubTypeWise(inputData) {\n  return function (dispatch) {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/getRegistrationsubTypeByRegType\", inputData).then(response => {\n      let responseData = { ...response.data\n      };\n      responseData = sortData(responseData);\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...inputData.masterData,\n            ...responseData,\n            //defaultRegTypeValue: inputData.defaultRegTypeValue\n            RegTypeValue: inputData.masterData.RegTypeValue,\n            realApprovalConfigVersionList: inputData.realApprovalConfigVersionList,\n            realApprovalVersionValue: inputData.realApprovalVersionValue\n          },\n          loading: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport const reportWorklist = inputParam => {\n  return dispatch => {\n    dispatch(initRequest(true));\n    rsapi.post(\"worklist/worklistReportGenerate\", { ...inputParam,\n      nworklistcode: inputParam.nworklistcode\n    }).then(response => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false,\n          loadEsign: false,\n          openModal: false,\n          showConfirmAlert: false\n        }\n      });\n      document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\n      document.getElementById(\"download_data\").click();\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n};\nexport function insertWorklist(inputParam, masterData) {\n  return dispatch => {\n    dispatch(initRequest(true));\n    let requestUrl = '';\n    requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData\n    });\n    requestUrl.then(response => {\n      if (masterData.searchedData !== undefined) {\n        masterData.searchedData = undefined;\n      }\n\n      let Worklist = [];\n      Worklist = masterData.Worklist;\n      Worklist.unshift(response.data[\"selectedWorklist\"]); //  Worklist={...Worklist};\n\n      masterData = { ...masterData,\n        ...response.data,\n        Worklist: Worklist\n      };\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          masterData: { ...masterData\n          },\n          loading: false,\n          loadEsign: false,\n          openModal: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}\nexport function validateEsignforWorklist(inputParam, modalName, ConfirmMessage) {\n  return dispatch => {\n    dispatch(initRequest(true));\n    return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData).then(response => {\n      if (response.data === \"Success\") {\n        const methodUrl = inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];\n        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\n\n        if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] && inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\n          delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];\n        } // ALPD-2437 added for Type3 Component. Use selected record to clear esign values\n\n\n        if (inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"]) {\n          delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignreason\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignpassword\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esigncomments\"];\n          delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"agree\"];\n        }\n\n        dispatch(onWorklistApproveClick(inputParam[\"screenData\"][\"masterData\"], inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"], ConfirmMessage, inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"ncontrolCode\"], inputParam[\"screenData\"][\"inputParam\"][\"operation\"]));\n      }\n    }).catch(error => {\n      dispatch({\n        type: DEFAULT_RETURN,\n        payload: {\n          loading: false\n        }\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n    });\n  };\n}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/actions/WorklistPreparationAction.js"],"names":["toast","React","rsapi","constructOptionList","sortData","reArrangeArrays","Axios","DEFAULT_RETURN","initRequest","intl","transactionStatus","getSectionAndTest","screenName","operation","primaryKeyName","masterData","userInfo","ncontrolCode","dispatch","SelectedInsCat","urlArray","Section","post","defaultRegTypeValue","nregtypecode","defaultRegSubTypeValue","nregsubtypecode","all","then","response","SectionMap","data","undefined","get","selectedRecord","instrumentCategory","type","payload","Test","isOpen","openModal","loading","catch","error","status","formatMessage","id","message","warn","getWorklistSample","dataStateSample","InstrumentCategory","selectedWorklist","defaultFilterStatusValue","defaultApprovalVersionValue","expiryDate","currentTime","addComponentDataList","dataState","activeKey","addedComponentList","addComponentSortedList","getRegTypeWorklist","inputData","responseData","defaultSampleTypeValue","realApprovalConfigVersionList","realApprovalVersionValue","getWorklistDetail","Worklist","nworklistcode","ndesigntemplatemappingcode","userinfo","modalName","getSectionbaseTest","inputParam","addId","nsectionCode","nsectioncode","value","TestMap","getWorklistDetailFilter","WorklistSamples","WorklistHistory","RegSubTypeValue","FilterStatusValue","onWorklistApproveClick","ConfirmMessage","approvalId","map","item","index","splice","searchedData","length","loadEsign","openChildModal","YES","confirm","getEditSectionAndTest","GetEditSetionAndTest","TestGet","ssectionname","ntestcode","stestsynonym","createWorklistCreation","getConfigVersionTestWise","RegistrationSubTypeList","ViewSampleDetails","viewdetails","PatientId","npreregno","getWorklisthistoryAction","getRegSubTypeWise","RegTypeValue","reportWorklist","showConfirmAlert","document","getElementById","setAttribute","filepath","click","insertWorklist","requestUrl","classUrl","methodUrl","unshift","validateEsignforWorklist","toLowerCase"],"mappings":"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","sourcesContent":["import {\r\n    toast\r\n} from 'react-toastify';\r\nimport React from 'react';\r\nimport rsapi from '../rsapi';\r\nimport { constructOptionList, sortData, reArrangeArrays } from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport {\r\n    DEFAULT_RETURN\r\n} from './LoginTypes';\r\nimport {\r\n    initRequest\r\n} from \"./LoginAction\";\r\nimport {\r\n    intl\r\n} from '../components/App';\r\nimport { transactionStatus } from '../components/Enumeration';\r\n\r\nexport function getSectionAndTest(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if (masterData.SelectedInsCat !== null) {\r\n            let urlArray = [];\r\n            const Section = rsapi.post(\"worklist/getSectionAndTest\", { \"ncontrolCode\": ncontrolCode, \"userinfo\": userInfo, \"nregtypecode\": masterData.defaultRegTypeValue.nregtypecode, \"nregsubtypecode\": masterData.defaultRegSubTypeValue.nregsubtypecode })\r\n            urlArray = [Section];\r\n\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const SectionMap = constructOptionList(response[0].data || [], \"nsectioncode\",\r\n                        \"ssectionname\", undefined, undefined, false);\r\n                    const Section = SectionMap.get(\"OptionList\");\r\n                    let selectedRecord = {};\r\n                    let instrumentCategory = [];\r\n\r\n\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            Section,\r\n                            Test:[],\r\n                            instrumentCategory: instrumentCategory,\r\n                            isOpen: true,\r\n                            selectedRecord: selectedRecord,\r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            openModal: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({\r\n                            id: error.message\r\n                        }));\r\n                    } else {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: error.response.data\r\n                        }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SECTIONNOTAVALIABLE\" }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function getWorklistSample(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode,dataStateSample) {\r\n    return function (dispatch) {\r\n\r\n        let urlArray = [];\r\n        const InstrumentCategory = rsapi.post(\"/worklist/refreshGetForAddComponent\", {\r\n            [primaryKeyName]: masterData.selectedWorklist[primaryKeyName],\r\n            \"ntestcode\": masterData.selectedWorklist['ntestcode'],\r\n            \"ntransactionstatus\": masterData.defaultFilterStatusValue['ntransactionstatus'],\r\n            \"nsampletypecode\": masterData.selectedWorklist['nsampletypecode'],\r\n            \"nregtypecode\": masterData.selectedWorklist['nregtypecode'],\r\n            \"nregsubtypecode\": masterData.selectedWorklist['nregsubtypecode'],\r\n            \"napprovalconfigversioncode\": masterData.defaultApprovalVersionValue['napprovalconfigversioncode'],\r\n            \"userinfo\": userInfo,\r\n            \"ncontrolCode\": ncontrolCode,\r\n            \"nsectioncode\": masterData.selectedWorklist['nsectioncode'],\r\n        });\r\n        urlArray = [InstrumentCategory];\r\n\r\n\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n\r\n                let expiryDate = undefined;\r\n                let currentTime = undefined;\r\n                  masterData={...masterData,addComponentDataList: response[0].data || []};\r\n\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData,\r\n                        dataState:dataStateSample,\r\n                        activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                        addedComponentList: [],\r\n                        //addComponentDataList: response[0].data || [],\r\n                        isOpen: true,\r\n\r\n                        operation: operation,\r\n                        screenName: screenName,\r\n                        openModal: true,\r\n                        ncontrolCode: ncontrolCode,\r\n                        loading: false,\r\n                        currentTime,\r\n                        expiryDate,addComponentSortedList:[]\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function getRegTypeWorklist(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/getRegistrationTypeBySampleType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                //responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            defaultSampleTypeValue: inputData.defaultSampleTypeValue,\r\n                            realApprovalConfigVersionList:inputData.realApprovalConfigVersionList,\r\n                            realApprovalVersionValue:inputData.realApprovalVersionValue,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function getWorklistDetail(Worklist, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"worklist/getWorklistSample\", {\r\n            nworklistcode: Worklist.nworklistcode,\r\n            ndesigntemplatemappingcode:masterData.ndesigntemplatemappingcode,\r\n            userinfo: userInfo\r\n        })\r\n            .then(response => {\r\n                delete masterData['selectedWorklist']\r\n                masterData['selectedWorklist'] = {}\r\n\r\n                masterData['selectedWorklist'] = Worklist\r\n\r\n\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...response.data\r\n                };\r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                        masterData,\r\n                        operation: null,\r\n                        modalName: undefined,\r\n                        loading: false,\r\n                        dataState: undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function getSectionbaseTest(inputParam, userInfo, masterData,addId) {\r\n    return function (dispatch) {\r\n        if (inputParam.SelectedInsCat !== null) {\r\n            let urlArray = [];\r\n            const Section = rsapi.post(\"worklist/getSectionbaseTest\", { nsectionCode: inputParam.nsectioncode.value,\"userinfo\": userInfo,\"ncontrolCode\":addId,\"nregtypecode\": masterData.defaultRegTypeValue.nregtypecode, \"nregsubtypecode\": masterData.defaultRegSubTypeValue.nregsubtypecode  })\r\n            urlArray = [Section];\r\n\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const TestMap = constructOptionList(response[0].data || [], \"ntestcode\",\r\n                        \"stestsynonym\", undefined, undefined, false);\r\n                    const Test = TestMap.get(\"OptionList\");\r\n                    let selectedRecord = { ...inputParam };\r\n                    let instrumentCategory = [];\r\n                    //nsectioncode=inputParam.nsectioncode,\r\n                    masterData = {\r\n                        ...masterData,\r\n                    }\r\n\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            masterData,\r\n                            Test,\r\n                            instrumentCategory: instrumentCategory,\r\n                            isOpen: true,\r\n                            selectedRecord: selectedRecord,\r\n                            // operation: operation,\r\n                            //screenName: screenName,\r\n                            //openModal: true,\r\n                            //ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({\r\n                            id: error.message\r\n                        }));\r\n                    } else {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: error.response.data\r\n                        }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\" }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const getWorklistDetailFilter = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/getWorklistDetailFilter\", inputParam.inputData)\r\n            .then(response => {\r\n\r\n                delete inputParam.masterData['Worklist']\r\n                delete inputParam.masterData['WorklistSamples']\r\n                delete inputParam.masterData['WorklistHistory']\r\n                delete inputParam.masterData['selectedWorklist']\r\n                inputParam.masterData['Worklist'] = {}\r\n                inputParam.masterData['WorklistSamples'] = {}\r\n                inputParam.masterData['WorklistHistory'] = {}\r\n                inputParam.masterData['selectedWorklist'] = {}\r\n                inputParam.masterData['Worklist'] = response.data.Worklist\r\n                inputParam.masterData['WorklistSamples'] = response.data.WorklistSamples\r\n                inputParam.masterData['WorklistHistory'] = response.data.WorklistHistory\r\n                inputParam.masterData['selectedWorklist'] = response.data.selectedWorklist\r\n                const masterData = response.data\r\n                //sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        dataState: undefined,\r\n                        activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            defaultRegSubTypeValue: inputParam.masterData.RegSubTypeValue,\r\n                            FilterStatusValue: inputParam.masterData.defaultFilterStatusValue\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const onWorklistApproveClick = (masterData, userInfo, ConfirmMessage, approvalId,operation) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n     //   rsapi.post(\"worklist/updateWorklistDetail\", { \"worklist\": masterData.selectedWorklist, \"userinfo\": userInfo, \"ncontrolCode\": approvalId,\"ndesigntemplatemappingcode\":masterData.ndesigntemplatemappingcode }\r\n            \r\n       \r\n     \r\n     rsapi.post(\"worklist/prepareWorklist\", { \"worklist\": masterData.selectedWorklist, \"userinfo\": userInfo, \"ncontrolCode\": approvalId,\"ndesigntemplatemappingcode\":masterData.ndesigntemplatemappingcode })\r\n            .then(response => {\r\n\r\n                let Worklist=[];\r\n                Worklist=masterData.Worklist;\r\n\r\n                Worklist.map((item,index)=>{\r\n                    if(response.data[\"selectedWorklist\"].nworklistcode===item.nworklistcode){\r\n                        Worklist.splice(index,1)\r\n                        Worklist.splice(index,0,response.data[\"selectedWorklist\"]);\r\n                     }\r\n                    })\r\n              \r\n    \r\n                 masterData = {\r\n                    ...masterData,\r\n                    ...response.data, \r\n                     Worklist:Worklist\r\n                }\r\n\r\n            if(!(masterData.searchedData && masterData.searchedData.length > 0)){\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                    payload: {\r\n                        loading: false,\r\n                        loadEsign :false,\r\n                        dataState: undefined,\r\n                        openModal:false,\r\n                        openChildModal:false,\r\n                        masterData: {\r\n                            ...masterData\r\n                        }\r\n                    }\r\n                });\r\n            } else{\r\n                let searchedData = reArrangeArrays(masterData[\"searchedData\"], masterData.Worklist, \"nworklistcode\");\r\n                rsapi.post(\"worklist/getWorklistSelectSample\", { \"nworklistcode\": searchedData.length > 0 ? searchedData[0].nworklistcode : -1, \"userinfo\": userInfo,\"ndesigntemplatemappingcode\":masterData.ndesigntemplatemappingcode, \"nneedsampleandhistory\": transactionStatus.YES })\r\n                .then(response => {\r\n                    let responseData = response.data;\r\n                    responseData[\"searchedData\"] = searchedData;\r\n                     masterData = {\r\n                        ...masterData, ...responseData\r\n                    }\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                        payload: {\r\n                            loading: false,\r\n                            dataState: undefined,\r\n                            openModal:false,\r\n                            openChildModal:false,\r\n                            loadEsign :false,\r\n                            masterData: {\r\n                                ...masterData\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                }\r\n                else if (error.response.status === 417) {\r\n                    ConfirmMessage.confirm(\"information\", \"Information!\", error.response.data, undefined, \"ok\", undefined, true, undefined);\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n                //toast.error(error.message);\r\n            });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function getEditSectionAndTest(screenName, operation, primaryKeyName, masterData, userInfo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if (masterData.SelectedInsCat !== null) {\r\n            let urlArray = [];\r\n            const Section = rsapi.post(\"worklist/getSectionAndTest\", { \"ncontrolCode\": ncontrolCode, \"userinfo\": userInfo })\r\n            // const GetEditSetionAndTest={}\r\n            if (operation === \"update\") {\r\n                const GetEditSetionAndTest = rsapi.post(\"/worklistpreparation/getEditSectionAndTest\", {\r\n                    [primaryKeyName]: masterData.selectedWorklist[primaryKeyName],\r\n                    \"userinfo\": userInfo\r\n                });\r\n\r\n                const TestGet = rsapi.post(\"worklist/getSectionbaseTest\", { nsectionCode: masterData.selectedWorklist[\"nsectioncode\"], \"userinfo\": userInfo })\r\n                urlArray = [Section, GetEditSetionAndTest, TestGet];\r\n            }\r\n            //urlArray = [Section,GetEditSetionAndTest];\r\n\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const SectionMap = constructOptionList(response[0].data || [], \"nsectioncode\",\r\n                        \"ssectionname\", undefined, undefined, false);\r\n                    const Section = SectionMap.get(\"OptionList\");\r\n\r\n                    const TestMap = constructOptionList(response[2].data || [], \"ntestcode\",\r\n                        \"stestsynonym\", undefined, undefined, false);\r\n                    const Test = TestMap.get(\"OptionList\");\r\n\r\n\r\n                    let selectedRecord = {};\r\n                    let instrumentCategory = [];\r\n\r\n                    selectedRecord = {\r\n                        \"nsectioncode\": {\r\n                            \"value\": response[1].data.nsectioncode,\r\n                            \"label\": response[1].data.ssectionname\r\n                        },\r\n                        \"ntestcode\": {\r\n                            \"value\": response[1].data.ntestcode,\r\n                            \"label\": response[1].data.stestsynonym\r\n                        }\r\n                    };\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        activeKey: \"IDS_WORKLISTSAMPLE\",\r\n                        payload: {\r\n                            masterData: {\r\n                                ...masterData,\r\n                            },\r\n                            Section, Test,\r\n                            instrumentCategory: instrumentCategory,\r\n                            isOpen: true,\r\n                            selectedRecord: selectedRecord,\r\n                            operation: operation,\r\n                            screenName: screenName,\r\n                            openModal: true,\r\n                            ncontrolCode: ncontrolCode,\r\n                            loading: false,\r\n\r\n\r\n\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            loading: false\r\n                        }\r\n                    })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({\r\n                            id: error.message\r\n                        }));\r\n                    } else {\r\n                        toast.warn(intl.formatMessage({\r\n                            id: error.response.data\r\n                        }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVALIABLE\" }));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const createWorklistCreation = (inputParam, masterData) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/createWorklistCreation\", inputParam.inputData)\r\n            .then(response => {\r\n\r\n                delete inputParam.masterData['WorklistSamples']\r\n                inputParam.masterData['WorklistSamples'] = {}\r\n\r\n                inputParam.masterData['WorklistSamples'] = response.data.WorklistSamples\r\n                delete inputParam.masterData['WorklistHistory']\r\n                inputParam.masterData['WorklistHistory'] = {}\r\n\r\n                inputParam.masterData['WorklistHistory'] = response.data.WorklistHistory\r\n\r\n                const masterData = response.data\r\n                //sortData(masterData);\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        openModal: false,\r\n                        dataState: undefined,\r\n                        addedComponentList: [],\r\n                        addComponentSortedList:[],\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                });\r\n                // toast.error(error.message);\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({\r\n                        id: error.message\r\n                    }));\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function getConfigVersionTestWise(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/getApprovalConfigVersionByRegSubType\", inputParam.inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputParam.masterData,\r\n                            ...responseData,\r\n                            RegSubTypeValue: inputParam.masterData.RegSubTypeValue,\r\n                            RegistrationSubTypeList: inputParam.masterData.RegistrationSubTypeList,\r\n                            realApprovalConfigVersionList:inputParam.inputData.realApprovalConfigVersionList,\r\n                            realApprovalVersionValue:inputParam.inputData.realApprovalVersionValue,\r\n                            //nneedsubsample:inputParam.masterData.realRegSubTypeValue.nneedsubsample\r\n                        },\r\n                        loading: false,\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function ViewSampleDetails(masterData, screenName, userInfo, viewdetails) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/getSampleViewDetails\", { selectedRecord: masterData.selectedWorklist, PatientId: viewdetails[\"Patient Id\"], npreregno: viewdetails[\"npreregno\"], userinfo: userInfo })\r\n            .then(response => {\r\n                //  masterData = {\r\n                //     ...masterData,\r\n                //     ...response.data\r\n                // }\r\n                masterData['AuditModifiedComments'] = [];\r\n                masterData['AuditModifiedComments'] = response.data['AuditModifiedComments']\r\n                masterData['viewdetails'] = [];\r\n                masterData['viewdetails'] = response.data['viewdetails'][0]\r\n                //sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        //viewdetails:viewdetails,\r\n                        masterData,\r\n                        screenName: \"IDS_PREVIOUSRESULTVIEW\",\r\n                        operation: \"\",\r\n                        loading: false,\r\n                        openModal: true,\r\n\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getWorklisthistoryAction(inputData) {\r\n\r\n    return function (dispatch) {\r\n\r\n\r\n\r\n        dispatch(initRequest(true));\r\n\r\n        rsapi.post(\"worklist/getWorklisthistory\", inputData)\r\n\r\n            .then(response => {\r\n\r\n                dispatch({\r\n\r\n                    type: DEFAULT_RETURN,\r\n\r\n                    payload: {\r\n\r\n                        masterData: {\r\n\r\n                            ...inputData.masterData,\r\n\r\n                            ...response.data,\r\n\r\n                        },\r\n\r\n                        loading: false,\r\n\r\n                        openModal: false,\r\n\r\n                        activeKey: \"IDS_WORKLISTHISTORY\"\r\n\r\n                    }\r\n\r\n                })\r\n\r\n            })\r\n\r\n            .catch(error => {\r\n\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n\r\n                if (error.response.status === 500) {\r\n\r\n                    toast.error(error.message);\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    toast.warn(error.response.data);\r\n\r\n                }\r\n\r\n            })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function getRegSubTypeWise(inputData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/getRegistrationsubTypeByRegType\", inputData)\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData: {\r\n                            ...inputData.masterData,\r\n                            ...responseData,\r\n                            //defaultRegTypeValue: inputData.defaultRegTypeValue\r\n                            RegTypeValue: inputData.masterData.RegTypeValue,\r\n                            realApprovalConfigVersionList:inputData.realApprovalConfigVersionList,\r\n                            realApprovalVersionValue:inputData.realApprovalVersionValue,\r\n                        },\r\n                        loading: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const reportWorklist = (inputParam) => {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"worklist/worklistReportGenerate\", {\r\n            ...inputParam,\r\n            nworklistcode: inputParam.nworklistcode\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false,\r\n                        showConfirmAlert: false\r\n                    }\r\n                })\r\n                document.getElementById(\"download_data\").setAttribute(\"href\", response.data.filepath);\r\n                document.getElementById(\"download_data\").click();\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n}\r\n\r\nexport function insertWorklist(inputParam,masterData){\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        let requestUrl = '';\r\n        requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData });\r\n\r\n        requestUrl.then(response => {\r\n            \r\n\r\n           if(masterData.searchedData!==undefined){\r\n            masterData.searchedData=undefined;\r\n           }\r\n           let Worklist=[];\r\n            Worklist=masterData.Worklist;\r\n           Worklist.unshift(response.data[\"selectedWorklist\"]);\r\n           //  Worklist={...Worklist};\r\n                masterData = {\r\n                    ...masterData, ...response.data,\r\n                    Worklist:Worklist\r\n                };\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        masterData: {\r\n                            ...masterData,\r\n                        },\r\n                        loading: false,\r\n                        loadEsign: false,\r\n                        openModal: false\r\n                       \r\n                    }\r\n                })\r\n             \r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n\r\n}\r\nexport function validateEsignforWorklist(inputParam,modalName,ConfirmMessage) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n                    const methodUrl = inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];\r\n\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n                        inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];\r\n                    }\r\n                    // ALPD-2437 added for Type3 Component. Use selected record to clear esign values\r\n                    if (inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"]) {\r\n\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignreason\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignpassword\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esigncomments\"];\r\n                        delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"agree\"];\r\n                    }\r\n                   \r\n                        dispatch(onWorklistApproveClick(inputParam[\"screenData\"][\"masterData\"],inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"],ConfirmMessage,inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"ncontrolCode\"],inputParam[\"screenData\"][\"inputParam\"][\"operation\"] ))\r\n\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}