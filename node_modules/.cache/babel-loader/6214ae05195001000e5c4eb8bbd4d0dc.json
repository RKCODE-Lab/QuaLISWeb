{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { Dialog, DialogActionsBar } from '@progress/kendo-react-dialogs';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { NodeSelection, insertNode } from '@progress/kendo-editor-common';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages } from './../messages';\n/**\n * @hidden\n */\n\nvar InsertImageDialog =\n/** @class */\nfunction (_super) {\n  __extends(InsertImageDialog, _super);\n\n  function InsertImageDialog() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.src = null;\n    _this.altText = null;\n    _this.title = null;\n    _this.width = null;\n    _this.height = null;\n\n    _this.onClose = function () {\n      _this.props.view.focus();\n\n      _this.props.onClose();\n    };\n\n    _this.onInsert = function () {\n      var _a = _this.props,\n          view = _a.view,\n          settings = _a.settings;\n      var nodes = view.state.schema.nodes;\n      var nodeType = nodes[settings.node];\n      var data = {\n        src: _this.src ? _this.src.value : null,\n        title: _this.title ? _this.title.value : null,\n        alt: _this.altText ? _this.altText.value : null,\n        width: _this.width ? _this.width.value : null,\n        height: _this.height ? _this.height.value : null\n      };\n      var attrs = Object.keys(data).filter(function (key) {\n        return data[key] !== null && data[key] !== '';\n      }).reduce(function (acc, curr) {\n        var _a;\n\n        return Object.assign(acc, (_a = {}, _a[curr] = data[curr], _a));\n      }, {});\n      var newImage = nodeType.createAndFill(attrs);\n      var insertImageCmd = insertNode(newImage, true);\n      insertImageCmd(view.state, function (tr) {\n        return view.dispatch(tr.setMeta('commandName', settings.commandName).setMeta('args', attrs));\n      });\n\n      _this.onClose();\n    };\n\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  InsertImageDialog.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        view = _a.view,\n        settings = _a.settings,\n        dir = _a.dir,\n        render = _a.render;\n    var _b = settings.messages,\n        insertImageDialogTitle = _b.insertImageDialogTitle,\n        insertImageAddress = _b.insertImageAddress,\n        insertImageTitle = _b.insertImageTitle,\n        insertImageAltText = _b.insertImageAltText,\n        insertImageWidth = _b.insertImageWidth,\n        insertImageHeight = _b.insertImageHeight,\n        insertImageCancel = _b.insertImageCancel,\n        insertImageInsert = _b.insertImageInsert;\n    var localization = provideLocalizationService(this);\n    var state = view && view.state;\n    var attrs = {};\n\n    if (state && state.selection instanceof NodeSelection && state.selection.node.type === state.schema.nodes[settings.node]) {\n      attrs = state.selection.node.attrs;\n    }\n\n    var content = React.createElement(\"div\", {\n      className: \"k-edit-form-container\"\n    }, React.createElement(\"div\", {\n      className: \"k-edit-label\"\n    }, React.createElement(\"label\", {\n      htmlFor: \"k-editor-image-url\"\n    }, localization.toLanguageString(insertImageAddress, messages[insertImageAddress]))), React.createElement(\"div\", {\n      className: \"k-edit-field\"\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"k-textbox\",\n      id: \"k-editor-image-url\",\n      defaultValue: attrs.src,\n      ref: function (e) {\n        return _this.src = e;\n      },\n      autoFocus: true\n    })), React.createElement(\"div\", {\n      className: \"k-edit-label\"\n    }, React.createElement(\"label\", {\n      htmlFor: \"k-editor-image-alt\"\n    }, localization.toLanguageString(insertImageAltText, messages[insertImageAltText]))), React.createElement(\"div\", {\n      className: \"k-edit-field\"\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"k-textbox\",\n      id: \"k-editor-image-alt\",\n      defaultValue: attrs.alt,\n      ref: function (e) {\n        return _this.altText = e;\n      }\n    })), React.createElement(\"div\", {\n      className: \"k-edit-label\"\n    }, React.createElement(\"label\", {\n      htmlFor: \"k-editor-image-title\"\n    }, localization.toLanguageString(insertImageTitle, messages[insertImageTitle]))), React.createElement(\"div\", {\n      className: \"k-edit-field\"\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"k-textbox\",\n      id: \"k-editor-image-title\",\n      defaultValue: attrs.title,\n      ref: function (e) {\n        return _this.title = e;\n      }\n    })), React.createElement(\"div\", {\n      className: \"k-edit-label\"\n    }, React.createElement(\"label\", {\n      htmlFor: \"k-editor-image-width\"\n    }, localization.toLanguageString(insertImageWidth, messages[insertImageWidth]))), React.createElement(\"div\", {\n      className: \"k-edit-field\"\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"k-textbox\",\n      id: \"k-editor-image-width\",\n      defaultValue: attrs.width,\n      ref: function (e) {\n        return _this.width = e;\n      }\n    })), React.createElement(\"div\", {\n      className: \"k-edit-label\"\n    }, React.createElement(\"label\", {\n      htmlFor: \"k-editor-image-height\"\n    }, localization.toLanguageString(insertImageHeight, messages[insertImageHeight]))), React.createElement(\"div\", {\n      className: \"k-edit-field\"\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"k-textbox\",\n      id: \"k-editor-image-height\",\n      defaultValue: attrs.height,\n      ref: function (e) {\n        return _this.height = e;\n      }\n    })));\n    var actionButtons = [React.createElement(Button, {\n      onClick: this.onClose,\n      dir: dir,\n      key: \"cancel\"\n    }, localization.toLanguageString(insertImageCancel, messages[insertImageCancel])), React.createElement(Button, {\n      onClick: this.onInsert,\n      primary: true,\n      dir: dir,\n      key: \"insert\"\n    }, localization.toLanguageString(insertImageInsert, messages[insertImageInsert]))];\n    var dialog = React.createElement(Dialog, {\n      title: localization.toLanguageString(insertImageDialogTitle, messages[insertImageDialogTitle]),\n      onClose: this.onClose,\n      key: \"dialog\",\n      closeIcon: true,\n      dir: dir,\n      style: dir === 'rtl' ? {\n        textAlign: 'right'\n      } : undefined\n    }, content, React.createElement(DialogActionsBar, null, actionButtons));\n    return render ? render(dialog, {\n      content: content,\n      actionButtons: actionButtons\n    }) : createPortal(dialog, document.body);\n  };\n\n  return InsertImageDialog;\n}(React.Component);\n\nexport { InsertImageDialog };\nregisterForLocalization(InsertImageDialog);","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/node_modules/@progress/kendo-react-editor/dist/es/dialogs/insertImage.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","React","createPortal","Dialog","DialogActionsBar","Button","NodeSelection","insertNode","registerForLocalization","provideLocalizationService","messages","InsertImageDialog","_super","_this","apply","arguments","src","altText","title","width","height","onClose","props","view","focus","onInsert","_a","settings","nodes","state","schema","nodeType","node","data","value","alt","attrs","keys","filter","key","reduce","acc","curr","assign","newImage","createAndFill","insertImageCmd","tr","dispatch","setMeta","commandName","render","dir","_b","insertImageDialogTitle","insertImageAddress","insertImageTitle","insertImageAltText","insertImageWidth","insertImageHeight","insertImageCancel","insertImageInsert","localization","selection","type","content","createElement","className","htmlFor","toLanguageString","id","defaultValue","ref","e","autoFocus","actionButtons","onClick","primary","dialog","closeIcon","style","textAlign","undefined","document","body","Component"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport { Dialog, DialogActionsBar } from '@progress/kendo-react-dialogs';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { NodeSelection, insertNode } from '@progress/kendo-editor-common';\nimport { registerForLocalization, provideLocalizationService } from '@progress/kendo-react-intl';\nimport { messages } from './../messages';\n/**\n * @hidden\n */\nvar InsertImageDialog = /** @class */ (function (_super) {\n    __extends(InsertImageDialog, _super);\n    function InsertImageDialog() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.src = null;\n        _this.altText = null;\n        _this.title = null;\n        _this.width = null;\n        _this.height = null;\n        _this.onClose = function () {\n            _this.props.view.focus();\n            _this.props.onClose();\n        };\n        _this.onInsert = function () {\n            var _a = _this.props, view = _a.view, settings = _a.settings;\n            var nodes = view.state.schema.nodes;\n            var nodeType = nodes[settings.node];\n            var data = {\n                src: _this.src ? _this.src.value : null,\n                title: _this.title ? _this.title.value : null,\n                alt: _this.altText ? _this.altText.value : null,\n                width: _this.width ? _this.width.value : null,\n                height: _this.height ? _this.height.value : null\n            };\n            var attrs = Object.keys(data)\n                .filter(function (key) { return data[key] !== null && data[key] !== ''; })\n                .reduce(function (acc, curr) {\n                var _a;\n                return Object.assign(acc, (_a = {}, _a[curr] = data[curr], _a));\n            }, {});\n            var newImage = nodeType.createAndFill(attrs);\n            var insertImageCmd = insertNode(newImage, true);\n            insertImageCmd(view.state, function (tr) { return view.dispatch(tr.setMeta('commandName', settings.commandName).setMeta('args', attrs)); });\n            _this.onClose();\n        };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    InsertImageDialog.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, view = _a.view, settings = _a.settings, dir = _a.dir, render = _a.render;\n        var _b = settings.messages, insertImageDialogTitle = _b.insertImageDialogTitle, insertImageAddress = _b.insertImageAddress, insertImageTitle = _b.insertImageTitle, insertImageAltText = _b.insertImageAltText, insertImageWidth = _b.insertImageWidth, insertImageHeight = _b.insertImageHeight, insertImageCancel = _b.insertImageCancel, insertImageInsert = _b.insertImageInsert;\n        var localization = provideLocalizationService(this);\n        var state = view && view.state;\n        var attrs = {};\n        if (state && state.selection instanceof NodeSelection &&\n            state.selection.node.type === state.schema.nodes[settings.node]) {\n            attrs = state.selection.node.attrs;\n        }\n        var content = (React.createElement(\"div\", { className: \"k-edit-form-container\" },\n            React.createElement(\"div\", { className: \"k-edit-label\" },\n                React.createElement(\"label\", { htmlFor: \"k-editor-image-url\" }, localization.toLanguageString(insertImageAddress, messages[insertImageAddress]))),\n            React.createElement(\"div\", { className: \"k-edit-field\" },\n                React.createElement(\"input\", { type: \"text\", className: \"k-textbox\", id: \"k-editor-image-url\", defaultValue: attrs.src, ref: function (e) { return _this.src = e; }, autoFocus: true })),\n            React.createElement(\"div\", { className: \"k-edit-label\" },\n                React.createElement(\"label\", { htmlFor: \"k-editor-image-alt\" }, localization.toLanguageString(insertImageAltText, messages[insertImageAltText]))),\n            React.createElement(\"div\", { className: \"k-edit-field\" },\n                React.createElement(\"input\", { type: \"text\", className: \"k-textbox\", id: \"k-editor-image-alt\", defaultValue: attrs.alt, ref: function (e) { return _this.altText = e; } })),\n            React.createElement(\"div\", { className: \"k-edit-label\" },\n                React.createElement(\"label\", { htmlFor: \"k-editor-image-title\" }, localization.toLanguageString(insertImageTitle, messages[insertImageTitle]))),\n            React.createElement(\"div\", { className: \"k-edit-field\" },\n                React.createElement(\"input\", { type: \"text\", className: \"k-textbox\", id: \"k-editor-image-title\", defaultValue: attrs.title, ref: function (e) { return _this.title = e; } })),\n            React.createElement(\"div\", { className: \"k-edit-label\" },\n                React.createElement(\"label\", { htmlFor: \"k-editor-image-width\" }, localization.toLanguageString(insertImageWidth, messages[insertImageWidth]))),\n            React.createElement(\"div\", { className: \"k-edit-field\" },\n                React.createElement(\"input\", { type: \"text\", className: \"k-textbox\", id: \"k-editor-image-width\", defaultValue: attrs.width, ref: function (e) { return _this.width = e; } })),\n            React.createElement(\"div\", { className: \"k-edit-label\" },\n                React.createElement(\"label\", { htmlFor: \"k-editor-image-height\" }, localization.toLanguageString(insertImageHeight, messages[insertImageHeight]))),\n            React.createElement(\"div\", { className: \"k-edit-field\" },\n                React.createElement(\"input\", { type: \"text\", className: \"k-textbox\", id: \"k-editor-image-height\", defaultValue: attrs.height, ref: function (e) { return _this.height = e; } }))));\n        var actionButtons = [(React.createElement(Button, { onClick: this.onClose, dir: dir, key: \"cancel\" }, localization.toLanguageString(insertImageCancel, messages[insertImageCancel]))), (React.createElement(Button, { onClick: this.onInsert, primary: true, dir: dir, key: \"insert\" }, localization.toLanguageString(insertImageInsert, messages[insertImageInsert])))];\n        var dialog = (React.createElement(Dialog, { title: localization.toLanguageString(insertImageDialogTitle, messages[insertImageDialogTitle]), onClose: this.onClose, key: \"dialog\", closeIcon: true, dir: dir, style: dir === 'rtl' ? { textAlign: 'right' } : undefined },\n            content,\n            React.createElement(DialogActionsBar, null, actionButtons)));\n        return render ? render(dialog, { content: content, actionButtons: actionButtons }) :\n            createPortal(dialog, document.body);\n    };\n    return InsertImageDialog;\n}(React.Component));\nexport { InsertImageDialog };\nregisterForLocalization(InsertImageDialog);\n"]},"metadata":{},"sourceType":"module"}