{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\goodsin\\\\GoodsIn.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport { callService, crudMaster, updateStore, getGoodsInFilterSubmit, validateEsignCredential, getGoodsInComboService, getGoodsInDetail, getClient, getProjectType, getProject, filterColumnData, getPreviewTemplate, viewInformation, checkListGoodsIn, onSaveGoodsInCheckList } from '../../actions';\nimport { toast } from 'react-toastify';\nimport { convertDateValuetoString, rearrangeDateFormat, getControlMap, showEsign, formatInputDate, comboChild, convertDateTimetoStringDBFormat, onDropAttachFileList, deleteAttachmentDropZone, Lims_JSON_stringify } from '../../components/CommonScript';\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { Col, Row, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport GoodsInFilter from './GoodsInFilter';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport AddGoodsIn from './AddGoodsIn';\nimport Esign from '../audittrail/Esign';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { SampleType, designProperties, transactionStatus } from '../../components/Enumeration';\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport { ContentPanel, ReadOnlyText } from '../../components/App.styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faTrashAlt, faThumbsUp, faListAlt, faEye } from '@fortawesome/free-solid-svg-icons';\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { process } from '@progress/kendo-data-query';\nimport { ReactComponent as GoodsReceivedIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/goods-received.svg\";\nimport AddFile from './AddFile';\nimport GoodsInView from './GoodsInView';\nimport GoodsInChecklist from './GoodsInChecklist';\nimport { templateChangeHandler } from '../checklist/checklist/checklistMethods';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass GoodsIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.handleFilterDateChange = (dateName, dateValue) => {\n      let masterData = this.props.Login.masterData;\n      masterData[dateName] = dateValue;\n      this.setState({\n        masterData\n      });\n    };\n\n    this.handleDateChange = (dateName, dateValue) => {\n      const {\n        selectedRecord\n      } = this.state;\n      selectedRecord[dateName] = dateValue;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateInputChange = (event, control) => {\n      let selectedRecord = templateChangeHandler(1, this.state.selectedRecord, event, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateComboChange = (comboData, control) => {\n      let selectedRecord = templateChangeHandler(2, this.state.selectedRecord, comboData, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onTemplateDateChange = (dateData, control) => {\n      let selectedRecord = templateChangeHandler(3, this.state.selectedRecord, dateData, control);\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onFilterSubmit = () => {\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\n      let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\n      let masterData = { ...this.props.Login.masterData,\n        realfromDate,\n        realtoDate\n      };\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        userinfo: this.props.Login.userInfo\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getGoodsInFilterSubmit(inputParam);\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\n      let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\n      let masterData = { ...this.props.Login.masterData,\n        realfromDate,\n        realtoDate\n      };\n      let inputData = {\n        fromDate: obj.fromDate,\n        toDate: obj.toDate,\n        userinfo: this.props.Login.userInfo\n      };\n      let inputParam = {\n        masterData,\n        inputData\n      };\n      this.props.getGoodsInFilterSubmit(inputParam);\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let openTemplateModal = this.props.Login.openTemplateModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          openTemplateModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord[\"agree\"] = 4;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        openTemplateModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          openTemplateModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        } else if (event.target.name === \"noutofhours\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        } else {\n          selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\n        }\n      } else {\n        if (event.target.value !== \"\") {\n          selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\n        } else {\n          selectedRecord[event.target.name] = event.target.value;\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (fieldName === \"nclientcatcode\") {\n        selectedRecord[\"nclientcatcode\"] = comboData;\n        this.props.getClient(this.state.selectedRecord.nclientcatcode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n      } else if (fieldName === \"nclientcode\") {\n        selectedRecord[\"nclientcode\"] = comboData;\n        this.props.getProjectType(this.state.selectedRecord.nclientcatcode.value, this.state.selectedRecord.nclientcode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n      } else if (fieldName === \"nprojecttypecode\") {\n        selectedRecord[\"nprojecttypecode\"] = comboData;\n        this.props.getProject(this.state.selectedRecord.nclientcatcode.value, this.state.selectedRecord.nclientcode.value, this.state.selectedRecord.nprojecttypecode.value, this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\n      } else if (fieldName === \"nprojectmastercode\") {\n        selectedRecord[\"nprojectmastercode\"] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      } else if (fieldName === \"ncouriercode\") {\n        selectedRecord[\"ncouriercode\"] = comboData;\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onDynamicComboChange = (comboData, control, customName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let comboName = customName || control.label;\n\n      if (comboData) {\n        comboData[\"item\"] = { ...comboData[\"item\"],\n          \"pkey\": control.valuemember,\n          \"nquerybuildertablecode\": control.nquerybuildertablecode,\n          source: control.source\n        };\n        selectedRecord[comboName] = comboData;\n      } else {\n        selectedRecord[comboName] = [];\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onNumericInputOnChange = (value, name) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[name] = value;\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onNumericBlur = control => {\n      let selectedRecord = this.state.selectedRecord;\n\n      if (selectedRecord[control.label]) {\n        if (control.max) {\n          if (!(selectedRecord[control.label] < parseFloat(control.max))) {\n            selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max);\n          }\n        }\n\n        if (control.min) {\n          if (!(selectedRecord[control.label] > parseFloat(control.min))) {\n            selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min);\n          }\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.sampleInfoDataStateChange = event => {\n      this.setState({\n        dataResult: process(this.props.Login.masterData.GoodsInSample, event.dataState),\n        sampleGridDataState: event.dataState\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.screenName === \"IDS_GOODSIN\") {\n        if (this.state.selectedRecord[\"nnoofpackages\"] <= 0) {\n          return toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\"\n          }));\n        }\n\n        let postParam = undefined;\n        let dataState = undefined;\n        let inputData = [];\n        inputData[\"goodsin\"] = {};\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n        let fromDate = obj.fromDate;\n        let toDate = obj.toDate;\n        inputData[\"fromDate\"] = fromDate;\n        inputData[\"toDate\"] = toDate;\n\n        if (this.props.Login.operation === \"update\") {\n          postParam = {\n            inputListName: \"GoodsIn\",\n            selectedObject: \"selectedGoodsIn\",\n            primaryKeyField: \"ngoodsincode\"\n          };\n          postParam[\"primaryKeyValue\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n          inputData[\"goodsin\"][\"ngoodsincode\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n        }\n\n        inputData[\"goodsin\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;\n        inputData[\"goodsin\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value : -1;\n        inputData[\"goodsin\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value : -1;\n        inputData[\"goodsin\"][\"nprojectmastercode\"] = this.state.selectedRecord[\"nprojectmastercode\"] ? this.state.selectedRecord[\"nprojectmastercode\"].value : -1;\n        inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value : -1;\n        inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\n        inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] : transactionStatus.NO;\n        inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] ? this.state.selectedRecord[\"sconsignmentno\"] : \"\";\n        inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] ? this.state.selectedRecord[\"ssecurityrefno\"] : \"\";\n        inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] ? this.state.selectedRecord[\"scomments\"] : \"\";\n        inputData[\"goodsin\"][\"dgoodsindatetime\"] = formatInputDate(this.state.selectedRecord[\"dgoodsindatetime\"], false); //inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\n\n        const inputParam = {\n          classUrl: this.props.Login.inputParam.classUrl,\n          methodUrl: \"GoodsIn\",\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: inputData,\n          selectedId: this.state.selectedRecord[\"ngoodsincode\"],\n          operation: this.props.Login.operation,\n          saveType,\n          formRef,\n          dataState,\n          searchRef: this.searchRef,\n          postParam: postParam\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.Login.masterData\n              },\n              openModal: true,\n              screenName: this.props.intl.formatMessage({\n                id: \"IDS_GOODSIN\"\n              }),\n              operation: this.props.Login.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      } else if (this.props.Login.screenName === \"IDS_GOODSINSAMPLE\") {\n        this.insertGoodsInSample();\n      } else if (this.props.Login.screenName === \"IDS_GOODSINIMPORT\") {\n        this.importGoodsInSample();\n      }\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteGoodsIn(\"delete\", deleteId));\n    };\n\n    this.DeleteGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      inputData[\"fromDate\"] = fromDate;\n      inputData[\"toDate\"] = toDate;\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.receiveGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"receive\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.approveGoodsIn = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsIn\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"approve\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSIN\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.openSampleGoodsIn = () => {\n      const addSampleId = this.state.controlMap.has(\"AddSampleGoodsIn\") ? this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode : -1;\n      this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\", \"create\", this.props.Login.masterData, this.state.selectedRecord, this.props.Login.userInfo, addSampleId);\n    };\n\n    this.addSampleGoodsIn = (ScreenName, operation, masterData, selectedRecord, userInfo, controlCode, importData) => {\n      let data = [];\n      const withoutCombocomponent = [];\n      let mandatorySampleFields = [];\n      const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata;\n\n      if (Layout !== undefined) {\n        Layout.map(row => {\n          row.children.map(column => {\n            column.children.map(component => {\n              if (component.hasOwnProperty(\"children\")) {\n                component.children.map(componentrow => {\n                  if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\" || componentrow.inputtype === \"frontendsearchfilter\") {\n                    data.push(componentrow);\n                  } else {\n                    withoutCombocomponent.push(componentrow);\n                  }\n\n                  if (componentrow.mandatory === true) {\n                    mandatorySampleFields.push({\n                      \"mandatory\": true,\n                      \"idsName\": componentrow.label,\n                      \"dataField\": componentrow.label,\n                      \"mandatoryLabel\": componentrow.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                      \"controlType\": componentrow.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                    });\n                  }\n                });\n              } else {\n                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\" || component.inputtype === \"frontendsearchfilter\" ? data.push(component) : withoutCombocomponent.push(component);\n\n                if (component.mandatory === true) {\n                  mandatorySampleFields.push({\n                    \"mandatory\": true,\n                    \"idsName\": component.label,\n                    \"dataField\": component.label,\n                    \"mandatoryLabel\": component.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                    \"controlType\": component.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                  });\n                }\n              }\n            });\n            this.setState({\n              mandatorySampleFields: mandatorySampleFields\n            });\n          });\n        });\n        const comboComponents = data;\n        let childColumnList = {};\n        data.map(columnList => {\n          const val = comboChild(data, columnList, childColumnList, true);\n          data = val.data;\n          childColumnList = val.childColumnList;\n          return null;\n        });\n        const mapOfFilterRegData = {\n          nsampletypecode: parseInt(SampleType.GOODSIN)\n        };\n        this.props.getPreviewTemplate(masterData, userInfo, controlCode, data, selectedRecord, childColumnList, comboComponents, withoutCombocomponent, true, true, mapOfFilterRegData, false, operation, ScreenName, importData);\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_CONFIGURETEMPLATE\"\n        }));\n      }\n    };\n\n    this.ImportFile = () => {\n      const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\n      let updateInfo = {};\n\n      if (Status === transactionStatus.APPROVED) {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTRECEIVERECORD\"\n        }));\n      } else {\n        updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal: true,\n            operation: \"import\",\n            screenName: \"IDS_GOODSINIMPORT\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      }\n    };\n\n    this.onDropSampleFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\"\n      });\n    };\n\n    this.DeleteGoodsInSample = operation => {\n      let inputData = [];\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      inputData[\"fromDate\"] = fromDate;\n      inputData[\"toDate\"] = toDate;\n      inputData[\"ngoodsincode\"] = operation.selectedRecord.ngoodsincode;\n      inputData[\"ngoodsinsamplecode\"] = operation.selectedRecord.ngoodsinsamplecode;\n      inputData[\"ndesigntemplatemappingcode\"] = operation.selectedRecord.ndesigntemplatemappingcode;\n      inputData[\"ntransactionstatus\"] = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"GoodsIn\",\n        selectedObject: \"selectedGoodsIn\",\n        primaryKeyField: \"ngoodsincode\",\n        primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\n        fetchUrl: \"goodsin/getActiveGoodsInById\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"GoodsInSample\",\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\",\n        postParam\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, operation.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"IDS_GOODSINSAMPLE\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.insertGoodsInSample = () => {\n      let Map = {};\n      let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\n      let fromDate = obj.fromDate;\n      let toDate = obj.toDate;\n      Map[\"fromDate\"] = fromDate;\n      Map[\"toDate\"] = toDate;\n      Map[\"ngoodsincode\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\n      Map[\"ndesigntemplatemappingcode\"] = this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\n      const param = this.goodsInSample(this.props.Login.masterData, this.state.selectedRecord, this.props.Login.masterData.DesignTemplateMapping[0].jsondata, this.props.Login.userInfo, this.props.Login.defaultTimeZone, 'create', this.props.Login.comboComponents);\n      Map[\"GoodsInSample\"] = param.GoodsInSample;\n      Map[\"DateList\"] = param.dateList;\n      Map[\"userinfo\"] = this.props.Login.userInfo;\n      Map[\"combinationunique\"] = this.state.DynamicCombinationUnique;\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"GoodsInSample\",\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: Map,\n        selectedId: this.state.selectedRecord[\"ngoodsinsamplecode\"],\n        operation: 'create',\n        searchRef: this.searchRef\n      };\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData: this.props.Login.masterData\n            },\n            openModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: \"IDS_GOODSIN\"\n            }),\n            operation: 'create'\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n      }\n    };\n\n    this.goodsInSample = (masterData, selectedRecord, templateList, userInfo, defaulttimeZone, operation, comboComponents) => {\n      let GoodsInSample = {};\n      let dateList = [];\n      GoodsInSample[\"ngoodsincode\"] = masterData.selectedGoodsIn.ngoodsincode;\n      GoodsInSample[\"ndesigntemplatemappingcode\"] = masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\n      GoodsInSample[\"nunitcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']] ? selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']].value : -1;\n      GoodsInSample[\"nquantity\"] = selectedRecord[\"Quantity\"];\n      GoodsInSample[\"sexternalsampleid\"] = selectedRecord[\"External Sample Id\"];\n      GoodsInSample[\"scomments\"] = selectedRecord[\"Comments\"];\n      GoodsInSample[\"jsondata\"] = {};\n      GoodsInSample[\"jsonuidata\"] = {};\n      templateList && templateList.map(row => {\n        return row.children.map(column => {\n          return column.children.map(component => {\n            if (component.hasOwnProperty(\"children\")) {\n              return component.children.map(componentrow => {\n                if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\n                  if (componentrow.inputtype === \"predefineddropdown\") {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                      value: selectedRecord[componentrow.label].value,\n                      label: selectedRecord[componentrow.label].label\n                    } : -1;\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n                  } else {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? {\n                      value: selectedRecord[componentrow.label].value,\n                      label: selectedRecord[componentrow.label].label,\n                      pkey: componentrow.valuemember,\n                      nquerybuildertablecode: componentrow.nquerybuildertablecode,\n                      source: componentrow.source,\n                      [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ? selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] : selectedRecord[componentrow.label].vale\n                    } : -1;\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\n                  }\n                } else if (componentrow.inputtype === \"date\") {\n                  if (componentrow.mandatory) {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                  } else {\n                    GoodsInSample[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ? new Date(selectedRecord[componentrow.label]) : new Date(), userInfo) : selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\" : \"\";\n                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                  }\n\n                  if (componentrow.timezone) {\n                    GoodsInSample[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ? {\n                      value: selectedRecord[`tz${componentrow.label}`].value,\n                      label: selectedRecord[`tz${componentrow.label}`].label\n                    } : defaulttimeZone ? defaulttimeZone : -1;\n                    GoodsInSample[\"jsonuidata\"][`tz${componentrow.label}`] = GoodsInSample[\"jsondata\"][`tz${componentrow.label}`];\n                  }\n\n                  dateList.push(componentrow.label);\n                } else {\n                  GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label] : \"\";\n                  GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label];\n                }\n              });\n              return GoodsInSample;\n            } else {\n              if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\n                if (component.inputtype === \"predefineddropdown\") {\n                  GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n                    value: selectedRecord[component.label].value,\n                    label: selectedRecord[component.label].label\n                  } : -1;\n                  GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n                } else {\n                  GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? {\n                    value: selectedRecord[component.label].value,\n                    label: selectedRecord[component.label].label,\n                    pkey: component.valuemember,\n                    nquerybuildertablecode: component.nquerybuildertablecode,\n                    source: component.source,\n                    [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ? selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] : selectedRecord[component.label].vale\n                  } : -1;\n                  GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\n                }\n              } else if (component.inputtype === \"date\") {\n                if (component.mandatory) {\n                  console.log(typeof selectedRecord[component.label] === \"object\");\n                  GoodsInSample[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n                  GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n                } else {\n                  GoodsInSample[\"jsondata\"][component.label] = component.loadcurrentdate ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ? new Date(selectedRecord[component.label]) : new Date(), userInfo) : selectedRecord[component.label] ? selectedRecord[component.label] : \"\" : \"\";\n                  GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n                }\n\n                if (component.timezone) {\n                  GoodsInSample[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ? {\n                    value: selectedRecord[`tz${component.label}`].value,\n                    label: selectedRecord[`tz${component.label}`].label\n                  } : defaulttimeZone ? defaulttimeZone : -1;\n                  GoodsInSample[\"jsonuidata\"][`tz${component.label}`] = GoodsInSample[\"jsondata\"][`tz${component.label}`];\n                }\n\n                dateList.push(component.label);\n              } else {\n                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label] : \"\";\n                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label];\n              }\n\n              return GoodsInSample;\n            }\n          });\n        });\n      });\n      const param = {\n        GoodsInSample,\n        dateList\n      };\n      return param;\n    };\n\n    this.importGoodsInSample = () => {\n      const formData = new FormData();\n      const selectedRecord = this.state.selectedRecord;\n      const acceptedFiles = selectedRecord.stemplatefilename;\n      let comboComponents = [];\n      let data = [];\n      const withoutCombocomponent = [];\n      let mandatory = [];\n      let mandatoryImportFields = {};\n\n      if (acceptedFiles && acceptedFiles.length === 1) {\n        acceptedFiles.forEach((file, index) => {\n          formData.append(\"uploadedFile\", file);\n        });\n        const dateList = [];\n        this.state.DynamicDateField.map(x => {\n          dateList.push(x['2']);\n        });\n        const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata;\n\n        if (Layout !== undefined) {\n          Layout.map(row => {\n            row.children.map(column => {\n              column.children.map(component => {\n                if (component.hasOwnProperty(\"children\")) {\n                  component.children.map(componentrow => {\n                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\" || componentrow.inputtype === \"frontendsearchfilter\") {\n                      data.push(componentrow);\n                    } else {\n                      withoutCombocomponent.push(componentrow);\n                    }\n\n                    if (componentrow.mandatory === true) {\n                      mandatory.push({\n                        \"mandatory\": true,\n                        \"idsName\": componentrow.label,\n                        \"dataField\": componentrow.label,\n                        \"mandatoryLabel\": componentrow.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                        \"controlType\": componentrow.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                      });\n                    }\n                  });\n                } else {\n                  component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\" || component.inputtype === \"frontendsearchfilter\" ? data.push(component) : withoutCombocomponent.push(component);\n\n                  if (component.mandatory === true) {\n                    mandatory.push({\n                      \"mandatory\": true,\n                      \"idsName\": component.label,\n                      \"dataField\": component.label,\n                      \"mandatoryLabel\": component.inputtype === \"combo\" ? \"IDS_SELECT\" : \"IDS_ENTER\",\n                      \"controlType\": component.inputtype === \"combo\" ? \"selectbox\" : \"textbox\"\n                    });\n                  }\n                }\n              });\n            });\n          });\n          comboComponents = data;\n        }\n\n        mandatory.map(x => {\n          mandatoryImportFields[x.dataField] = x.mandatory;\n        });\n        formData.append('mandatoryFields', Lims_JSON_stringify(JSON.stringify(mandatoryImportFields), false));\n        formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(comboComponents), false));\n        formData.append('dateconstraints', Lims_JSON_stringify(JSON.stringify(this.state.DynamicDateConstraints), false));\n        formData.append('datelist', Lims_JSON_stringify(JSON.stringify(dateList), false));\n        formData.append('combinationunique', Lims_JSON_stringify(JSON.stringify(this.state.DynamicCombinationUnique), false));\n        formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.ndesigntemplatemappingcode);\n        formData.append(\"ngoodsincode\", this.props.Login.masterData.selectedGoodsIn.ngoodsincode);\n        formData.append(\"ntransactionstatus\", this.props.Login.masterData.selectedGoodsIn.ntransactionstatus);\n        const inputParam = {\n          classUrl: this.props.Login.inputParam.classUrl,\n          methodUrl: \"GoodsInSample\",\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: {\n            userinfo: this.props.Login.userInfo\n          },\n          formData: formData,\n          isFileupload: true,\n          operation: this.props.Login.operation\n        };\n        const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\n\n        if (esignNeeded) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.Login.masterData\n              },\n              openModal: true,\n              screenName: this.props.intl.formatMessage({\n                id: \"IDS_GOODSINIMPORT\"\n              }),\n              operation: this.props.Login.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PLEASESELECTTHEFILE\"\n        }));\n      }\n    };\n\n    this.insertGoodsInChecklist = (selectedRecord, userInfo) => {\n      const ndesigntemplatemappingcode = parseInt(this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode);\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        let inputParam = {\n          \"inputData\": {\n            userinfo: userInfo\n          }\n        };\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              selectedRecord,\n              userInfo,\n              ndesigntemplatemappingcode,\n              operation: \"updatechecklist\",\n              inputParam\n            },\n            openModal: true,\n            operation: \"updatechecklist\"\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.onSaveGoodsInCheckList(selectedRecord, ndesigntemplatemappingcode, userInfo);\n      }\n    };\n\n    this.searchRef = React.createRef();\n    this.formRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    this.state = {\n      dataState: {\n        skip: 0,\n        take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n      },\n      sampleGridDataState: {\n        skip: 0,\n        take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n      },\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      filterGoodsInParam: {},\n      operation: \"\",\n      firstPane: 0,\n      paneHeight: 0,\n      secondPaneHeight: 0,\n      tabPane: 0,\n      skip: 0,\n      take: this.props.Login.settings && this.props.Login.settings[3],\n      splitChangeWidthPercentage: 28.6,\n      goodsinSearchField: [],\n      propertyPopupWidth: \"60\",\n      data: [],\n      mandatorySampleFields: []\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\n      toast.warn(props.intl.formatMessage({\n        id: props.Login.multilingualMsg\n      }));\n      props.Login.multilingualMsg = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Rendering the component only if \n    // passed props value is changed\n    if (nextState.data.length > 0 && nextState.data === this.state.data) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    let obj = convertDateValuetoString(this.props.Login.masterData.realfromDate, this.props.Login.masterData.realtoDate, this.props.Login.userInfo);\n    let fromDate = this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\n    let toDate = this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\n    const addId = this.state.controlMap.has(\"AddGoodsIn\") ? this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode : -1;\n    const editId = this.state.controlMap.has(\"EditGoodsIn\") ? this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode : -1;\n    const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") ? this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode : -1;\n    const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") ? this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode : -1;\n    const approveId = this.state.controlMap.has(\"ApproveGoodsIn\") ? this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode : -1;\n    const checklistId = this.state.controlMap.has(\"ChecklistGoodsIn\") ? this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode : -1;\n    const goodsinAddParam = {\n      screenName: \"IDS_GOODSIN\",\n      operation: \"create\",\n      primaryKeyField: \"ngoodsincode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: addId\n    };\n    const goodsinEditParam = {\n      screenName: \"IDS_GOODSIN\",\n      operation: \"update\",\n      primaryKeyField: \"ngoodsincode\",\n      userInfo: this.props.Login.userInfo,\n      ncontrolCode: editId,\n      masterData: this.props.Login.masterData\n    };\n    const goodsinDeleteParam = {\n      screenName: \"IDS_GOODSIN\",\n      methodUrl: \"GoodsIn\",\n      operation: \"delete\",\n      ncontrolCode: deleteId\n    };\n    const filterParam = {\n      inputListName: \"GoodsIn\",\n      selectedObject: \"selectedGoodsIn\",\n      primaryKeyField: \"ngoodsincode\",\n      fetchUrl: \"goodsin/getActiveGoodsInById\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"sgoodsinid1\", \"sclientname\", \"sprojectname\", \"scouriername\", \"nnoofpackages\", \"sconsignmentno\", \"sgoodsindatetime\", \"ssecurityrefno\", \"scomments\", \"stransdisplaystatus\"]\n    };\n    const viewInfoFields = [];\n    viewInfoFields.push({\n      \"fieldName\": \"sclientcatname\",\n      \"label\": \"IDS_CLIENTCATEGORY\"\n    }, {\n      \"fieldName\": \"sclientname\",\n      \"label\": \"IDS_CLIENT\"\n    }, {\n      \"fieldName\": \"sprojecttypename\",\n      \"label\": \"IDS_PROJECTTYPE\"\n    }, {\n      \"fieldName\": \"sprojectname\",\n      \"label\": \"IDS_PROJECT\"\n    }, {\n      \"fieldName\": \"scouriername\",\n      \"label\": \"IDS_COURIERCARRIER\"\n    }, {\n      \"fieldName\": \"nnoofpackages\",\n      \"label\": \"IDS_NOOFPACKAGES\"\n    }, {\n      \"fieldName\": \"noutofhours\",\n      \"label\": \"IDS_OUTOFHOURS\"\n    }, {\n      \"fieldName\": \"ssecurityrefno\",\n      \"label\": \"IDS_SECURITYREFNO\"\n    }, {\n      \"fieldName\": \"scomments\",\n      \"label\": \"IDS_COMMENTS\"\n    });\n    let breadCrumbData = [];\n    breadCrumbData = [{\n      \"label\": \"IDS_FROM\",\n      \"value\": obj.breadCrumbFrom\n    }, {\n      \"label\": \"IDS_TO\",\n      \"value\": obj.breadCrumbto\n    }];\n    let mandatoryFields = [];\n\n    if (this.props.Login.ScreenName === \"IDS_GOODSIN\") {\n      mandatoryFields.push({\n        \"idsName\": \"IDS_CLIENTCATEGORY\",\n        \"dataField\": \"nclientcatcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CLIENT\",\n        \"dataField\": \"nclientcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_NOOFPACKAGES\",\n        \"dataField\": \"nnoofpackages\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_GOODSINDATE\",\n        \"dataField\": \"dgoodsindatetime\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n\n      if (this.props.Login.userInfo.istimezoneshow === transactionStatus.YES) {\n        mandatoryFields.push({\n          \"idsName\": \"IDS_TIMEZONE\",\n          \"dataField\": \"ntzgoodsindate\",\n          \"mandatoryLabel\": \"IDS_SELECT\",\n          \"controlType\": \"selectbox\"\n        });\n      }\n\n      if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\n        mandatoryFields.push({\n          \"idsName\": \"IDS_SECURITYREFNO\",\n          \"dataField\": \"ssecurityrefno\",\n          \"mandatoryLabel\": \"IDS_ENTER\",\n          \"controlType\": \"textbox\"\n        });\n      }\n    }\n\n    let userStatusCSS = \"\";\n    let activeIconCSS = \"fa fa-check\";\n\n    if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.DRAFT) {\n      userStatusCSS = \"outline-secondary\";\n      activeIconCSS = \"\";\n    } else if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED) {\n      userStatusCSS = \"outline-success\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      className: \"toolbar-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: () => this.setState({\n        sidebarview: !this.state.sidebarview\n      }),\n      className: \"sidebar-view-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, !this.state.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 37\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(ListMaster, {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"IDS_GOODSIN\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsIn,\n      getMasterDetail: GoodsIn => this.props.getGoodsInDetail(GoodsIn, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedGoodsIn,\n      primaryKeyField: \"ngoodsincode\",\n      mainField: \"sgoodsinid1\",\n      firstField: \"sclientcatname\",\n      secondField: \"sclientname\",\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: true,\n      openModal: () => this.props.getGoodsInComboService(goodsinAddParam),\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      showFilterIcon: true,\n      showFilter: this.props.Login.showFilter,\n      filterComponent: [{\n        \"IDS_GOODSINFILTER\": /*#__PURE__*/React.createElement(GoodsInFilter, {\n          fromDate: fromDate,\n          toDate: toDate,\n          handleFilterDateChange: this.handleFilterDateChange,\n          userInfo: this.props.Login.userInfo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.state.sidebarview ? '8' : \"10\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 37\n      }\n    }, this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.GoodsIn && this.props.Login.masterData.GoodsIn.length > 0 && this.props.Login.masterData.selectedGoodsIn ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.selectedGoodsIn.nnoofpackages), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${userStatusCSS} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: activeIconCSS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 65\n      }\n    }), this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      onClick: e => this.props.getGoodsInComboService(goodsinEditParam),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }),\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(receiveId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_RECEIVE\"\n      }),\n      onClick: () => this.receiveGoodsIn(receiveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(GoodsReceivedIcon, {\n      className: \"custom_icons\",\n      width: \"20\",\n      height: \"20\",\n      name: \"goodsreceivedicon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }),\n      onClick: () => this.approveGoodsIn(approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_VIEWINFO\"\n      }),\n      onClick: () => this.props.viewInformation(this.props.Login.masterData.selectedGoodsIn.ngoodsincode, this.props.Login.userInfo, this.props.Login.masterData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEye,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(checklistId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_CHECKLIST\"\n      }),\n      onClick: () => this.props.checkListGoodsIn(this.props.Login.masterData, this.props.Login.masterData.selectedGoodsIn, this.state.Checklist, checklistId, this.props.Login.userInfo),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faListAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 61\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DataGrid, {\n      primaryKeyField: \"ngoodsinsamplecode\",\n      data: this.props.Login.masterData.GoodsInSample || [],\n      dataResult: process(this.props.Login.masterData.GoodsInSample || [], this.state.sampleGridDataState),\n      dataState: this.state.sampleGridDataState,\n      dataStateChange: this.sampleInfoDataStateChange,\n      extractedColumnList: this.gridfillingColumn(this.state.DynamicGridItem) || [],\n      detailedFieldList: this.gridfillingColumn(this.state.DynamicGridMoreField) || [],\n      exportFieldList: this.gridfillingColumn(this.state.DynamicExportItem) || [],\n      userInfo: this.props.Login.userInfo,\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      inputParam: this.props.Login.inputParam //editParam={goodsinSampleEditParam}\n      //fetchRecord={this.editSampleGoodsIn}\n      ,\n      deleteRecord: this.DeleteGoodsInSample,\n      methodUrl: \"SampleGoodsIn\",\n      pageable: true,\n      isComponent: false,\n      hasDynamicColSize: true,\n      isActionRequired: true,\n      isToolBarRequired: true,\n      isAddRequired: true,\n      addRecord: this.openSampleGoodsIn,\n      isRefreshRequired: false,\n      isImportRequired: true,\n      isDownloadPDFRequired: false,\n      isDownloadExcelRequired: false,\n      import: this.ImportFile,\n      scrollable: 'scrollable',\n      gridHeight: '600px',\n      expandField: \"expanded\",\n      screenName: \"Goods In Sample\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 53\n      }\n    }))) : \"\")))))), this.props.Login.openModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" ? this.state.mandatorySampleFields : mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSIN\" && (this.props.Login.operation === \"create\" || this.props.Login.operation === \"update\") ? /*#__PURE__*/React.createElement(AddGoodsIn, {\n        onNumericInputOnChange: this.onNumericInputOnChange,\n        onInputOnChange: this.onInputOnChange,\n        handleDateChange: this.handleDateChange,\n        onComboChange: this.onComboChange,\n        formatMessage: this.props.intl.formatMessage,\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        ClientCategory: this.props.Login.ClientCategory,\n        Client: this.props.Login.Client,\n        ProjectType: this.props.Login.ProjectType,\n        Courier: this.props.Login.Courier,\n        Project: this.props.Login.Project,\n        TimeZone: this.props.Login.TimeZone,\n        selectedRecord: this.state.selectedRecord || {},\n        currentTime: this.props.Login.currentTime || [],\n        userInfo: this.props.Login.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSIN\" && this.props.Login.operation === \"View\" ? /*#__PURE__*/React.createElement(GoodsInView, {\n        userInfo: this.props.Login.userInfo,\n        selectedRecordView: this.props.Login.masterData.selectedRecordView,\n        viewInfoFields: viewInfoFields || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 29\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" ? /*#__PURE__*/React.createElement(DynamicSlideout, {\n        selectedRecord: this.props.Login.selectedRecord,\n        templateData: this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata,\n        handleDateChange: this.handleDateChange,\n        onInputOnChange: this.onInputOnChange,\n        onNumericInputChange: this.onNumericInputOnChange,\n        comboData: this.props.Login.comboData,\n        onComboChange: this.onDynamicComboChange,\n        onDropFile: this.onDropFile,\n        deleteAttachment: this.deleteAttachment,\n        onNumericBlur: this.onNumericBlur,\n        userInfo: this.props.Login.userInfo,\n        timeZoneList: this.props.Login.timeZoneList,\n        defaultTimeZone: this.props.Login.defaultTimeZone,\n        Login: this.props.Login,\n        addMasterRecord: this.addMasterRecord,\n        editMasterRecord: this.editMasterRecord,\n        userRoleControlRights: this.props.Login.userRoleControlRights,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 37\n        }\n      }) : this.props.Login.screenName === \"IDS_GOODSINIMPORT\" ? /*#__PURE__*/React.createElement(AddFile, {\n        selectedRecord: this.state.selectedRecord || {},\n        onDrop: this.onDropSampleFile,\n        deleteAttachment: this.deleteAttachment,\n        actionType: this.state.actionType,\n        operation: this.props.Login.operation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 33\n        }\n      }) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }) : this.props.Login.screenName === \"IDS_GOODSINCHECKLIST\" && this.props.Login.operation === \"checklist\" ? /*#__PURE__*/React.createElement(GoodsInChecklist, {\n      templateData: this.props.Login.masterData.ChecklistData,\n      needSaveButton: true,\n      formRef: this.formRef,\n      onTemplateInputChange: this.onTemplateInputChange,\n      handleClose: this.closeModal,\n      onTemplateComboChange: this.onTemplateComboChange,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.insertGoodsInChecklist,\n      Login: this.props.Login,\n      viewScreen: this.props.Login.openTemplateModal,\n      selectedGoodsIn: this.props.Login.masterData.selectedGoodsIn,\n      selectedRecord: this.state.selectedRecord || [],\n      onTemplateDateChange: this.onTemplateDateChange,\n      needValidation: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  gridfillingColumn(data) {\n    const temparray = data && data.map(option => {\n      return {\n        \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode] || \"-\",\n        \"dataField\": option[designProperties.VALUE],\n        \"width\": \"200px\",\n        \"columnSize\": \"3\",\n        \"dataType\": [option[designProperties.LISTITEM]]\n      };\n    });\n    return temparray;\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      userRoleControlRights,\n      controlMap,\n      selectedRecord,\n      skip,\n      take,\n      masterData,\n      sampleGridDataState,\n      DynamicGridItem,\n      DynamicGridMoreField,\n      DynamicExportItem,\n      DynamicDateField,\n      DynamicTemplateField,\n      DynamicDateConstraints,\n      DynamicCombinationUnique,\n      Checklist\n    } = this.state;\n    let bool = false;\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n        userRoleControlRights = [];\n\n        if (this.props.Login.userRoleControlRights) {\n          this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n        }\n\n        controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n        bool = true;\n      }\n    }\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = this.props.Login.selectedRecord;\n      bool = true;\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip;\n      take = this.props.Login.take || take;\n    }\n\n    if (this.props.Login.sampleGridDataState && this.props.Login.sampleGridDataState !== previousProps.Login.sampleGridDataState) {\n      sampleGridDataState = this.props.Login.sampleGridDataState;\n    }\n\n    if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\n      const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata && this.props.Login.masterData.DynamicDesign.jsondata.value);\n\n      if (dynamicColumn !== null) {\n        DynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\n        DynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\n        DynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\n        DynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\n        DynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\n        DynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\n        DynamicCombinationUnique = dynamicColumn.combinationunique ? dynamicColumn.combinationunique : [];\n        Checklist = dynamicColumn.checklist ? dynamicColumn.checklist : [];\n      }\n    }\n\n    if (bool) {\n      this.setState({\n        userRoleControlRights,\n        controlMap,\n        selectedRecord,\n        skip,\n        take,\n        masterData,\n        sampleGridDataState,\n        DynamicGridItem,\n        DynamicGridMoreField,\n        DynamicExportItem,\n        DynamicDateField,\n        DynamicTemplateField,\n        DynamicDateConstraints,\n        DynamicCombinationUnique,\n        Checklist\n      });\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  updateStore,\n  getGoodsInFilterSubmit,\n  validateEsignCredential,\n  getGoodsInComboService,\n  getGoodsInDetail,\n  getClient,\n  getProjectType,\n  getProject,\n  filterColumnData,\n  getPreviewTemplate,\n  viewInformation,\n  checkListGoodsIn,\n  onSaveGoodsInCheckList\n})(injectIntl(GoodsIn));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/goodsin/GoodsIn.jsx"],"names":["React","connect","injectIntl","FormattedMessage","BreadcrumbComponent","callService","crudMaster","updateStore","getGoodsInFilterSubmit","validateEsignCredential","getGoodsInComboService","getGoodsInDetail","getClient","getProjectType","getProject","filterColumnData","getPreviewTemplate","viewInformation","checkListGoodsIn","onSaveGoodsInCheckList","toast","convertDateValuetoString","rearrangeDateFormat","getControlMap","showEsign","formatInputDate","comboChild","convertDateTimetoStringDBFormat","onDropAttachFileList","deleteAttachmentDropZone","Lims_JSON_stringify","ListWrapper","DEFAULT_RETURN","Col","Row","Card","Nav","FormGroup","FormLabel","GoodsInFilter","ListMaster","AddGoodsIn","Esign","SlideOutModal","SampleType","designProperties","transactionStatus","ConfirmMessage","ContentPanel","ReadOnlyText","FontAwesomeIcon","faPencilAlt","faTrashAlt","faThumbsUp","faListAlt","faEye","DynamicSlideout","DataGrid","process","AddFile","GoodsInView","GoodsInChecklist","templateChangeHandler","mapStateToProps","state","Login","GoodsIn","Component","constructor","props","openFilter","showFilter","updateInfo","typeName","data","closeFilter","handleFilterDateChange","dateName","dateValue","masterData","setState","handleDateChange","selectedRecord","onTemplateInputChange","event","control","onTemplateComboChange","comboData","onTemplateDateChange","dateData","onFilterSubmit","obj","fromDate","toDate","userInfo","realfromDate","realtoDate","inputData","userinfo","inputParam","reloadData","searchRef","current","value","closeModal","loadEsign","openModal","openTemplateModal","operation","selectedId","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","screenData","onInputOnChange","target","type","name","checked","onComboChange","fieldName","nclientcatcode","nclientcode","nprojecttypecode","onDynamicComboChange","customName","comboName","valuemember","nquerybuildertablecode","source","onNumericInputOnChange","onNumericBlur","max","parseFloat","precision","parseInt","min","sampleInfoDataStateChange","dataResult","GoodsInSample","dataState","sampleGridDataState","onSaveClick","saveType","formRef","screenName","warn","intl","formatMessage","id","postParam","undefined","inputListName","selectedObject","primaryKeyField","selectedGoodsIn","ngoodsincode","NO","classUrl","methodUrl","displayName","userRoleControlRights","nformcode","ncontrolCode","insertGoodsInSample","importGoodsInSample","ConfirmDelete","deleteId","confirmMessage","confirm","DeleteGoodsIn","primaryKeyValue","fetchUrl","fecthInputObject","receiveGoodsIn","approveGoodsIn","openSampleGoodsIn","addSampleId","controlMap","has","get","ncontrolcode","addSampleGoodsIn","ScreenName","controlCode","importData","withoutCombocomponent","mandatorySampleFields","Layout","DesignTemplateMapping","jsondata","map","row","children","column","component","hasOwnProperty","componentrow","inputtype","push","mandatory","comboComponents","childColumnList","columnList","val","mapOfFilterRegData","nsampletypecode","GOODSIN","info","ImportFile","Status","ntransactionstatus","APPROVED","onDropSampleFile","attachedFiles","maxSize","actionType","deleteAttachment","file","DeleteGoodsInSample","ngoodsinsamplecode","ndesigntemplatemappingcode","Map","param","goodsInSample","defaultTimeZone","dateList","DynamicCombinationUnique","templateList","defaulttimeZone","findIndex","x","pkey","table","item","vale","Date","loadcurrentdate","timezone","console","log","formData","FormData","acceptedFiles","stemplatefilename","mandatoryImportFields","length","forEach","index","append","DynamicDateField","dataField","JSON","stringify","DynamicDateConstraints","isFileupload","esignNeeded","insertGoodsInChecklist","createRef","skip","take","settings","masterStatus","error","filterGoodsInParam","firstPane","paneHeight","secondPaneHeight","tabPane","splitChangeWidthPercentage","goodsinSearchField","propertyPopupWidth","getDerivedStateFromProps","multilingualMsg","componentDidMount","parentHeight","height","clientHeight","shouldComponentUpdate","nextProps","nextState","render","addId","editId","receiveId","approveId","checklistId","goodsinAddParam","goodsinEditParam","goodsinDeleteParam","filterParam","searchFieldList","viewInfoFields","breadCrumbData","breadCrumbFrom","breadCrumbto","mandatoryFields","istimezoneshow","YES","userStatusCSS","activeIconCSS","DRAFT","RECEIVED","sidebarview","searchedData","nnoofpackages","stransdisplaystatus","indexOf","e","Checklist","gridfillingColumn","DynamicGridItem","DynamicGridMoreField","DynamicExportItem","ClientCategory","Client","ProjectType","Courier","Project","TimeZone","currentTime","selectedRecordView","onDropFile","timeZoneList","addMasterRecord","editMasterRecord","ChecklistData","temparray","option","LABEL","slanguagetypecode","VALUE","LISTITEM","componentDidUpdate","previousProps","DynamicTemplateField","bool","Object","values","DynamicDesign","dynamicColumn","parse","griditem","gridmoreitem","exportFields","datefields","templatefields","dateconstraints","combinationunique","checklist"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl,FormattedMessage } from 'react-intl';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport { callService,crudMaster,updateStore,getGoodsInFilterSubmit,validateEsignCredential,getGoodsInComboService,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,getPreviewTemplate,viewInformation,checkListGoodsIn,onSaveGoodsInCheckList  } from '../../actions';\r\nimport { toast } from 'react-toastify';\r\nimport { convertDateValuetoString, rearrangeDateFormat, getControlMap,showEsign,formatInputDate,comboChild,convertDateTimetoStringDBFormat,onDropAttachFileList,deleteAttachmentDropZone,Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport {  Col, Row, Card, Nav,FormGroup,FormLabel } from 'react-bootstrap';\r\nimport GoodsInFilter from './GoodsInFilter';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport AddGoodsIn  from './AddGoodsIn';\r\nimport Esign from '../audittrail/Esign';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { SampleType, designProperties,transactionStatus } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { ContentPanel,ReadOnlyText } from '../../components/App.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt,faThumbsUp,faListAlt, faEye } from '@fortawesome/free-solid-svg-icons';\r\nimport DynamicSlideout from '../dynamicpreregdesign/DynamicSlideout';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { ReactComponent as GoodsReceivedIcon } from '../../assets/image/goods-received.svg';\r\nimport AddFile from './AddFile';\r\nimport GoodsInView from './GoodsInView';\r\nimport GoodsInChecklist from './GoodsInChecklist';\r\nimport { templateChangeHandler } from '../checklist/checklist/checklistMethods';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass GoodsIn extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.searchRef = React.createRef();    \r\n        this.formRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n        this.state = {\r\n            dataState: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            sampleGridDataState : {  skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            filterGoodsInParam: {},\r\n            operation: \"\",           \r\n            firstPane: 0,\r\n            paneHeight: 0,\r\n            secondPaneHeight: 0,\r\n            tabPane: 0,          \r\n            skip: 0,\r\n            take: this.props.Login.settings && this.props.Login.settings[3],           \r\n            splitChangeWidthPercentage: 28.6,\r\n            goodsinSearchField: [],           \r\n            propertyPopupWidth: \"60\",\r\n            data: [],\r\n            mandatorySampleFields:[]\r\n        \r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.multilingualMsg !== undefined && props.Login.multilingualMsg !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualMsg }));\r\n            props.Login.multilingualMsg = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        // Rendering the component only if \r\n        // passed props value is changed\r\n        if (nextState.data.length > 0 && nextState.data === this.state.data) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realfromDate, this.props.Login.masterData.realtoDate, this.props.Login.userInfo);\r\n\r\n        let fromDate=this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date();\r\n        let toDate=this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date();\r\n\r\n        const addId = this.state.controlMap.has(\"AddGoodsIn\") ? this.state.controlMap.get(\"AddGoodsIn\").ncontrolcode : -1;\r\n        const editId = this.state.controlMap.has(\"EditGoodsIn\") ? this.state.controlMap.get(\"EditGoodsIn\").ncontrolcode : -1;\r\n        const deleteId = this.state.controlMap.has(\"DeleteGoodsIn\") ? this.state.controlMap.get(\"DeleteGoodsIn\").ncontrolcode : -1;\r\n        const receiveId = this.state.controlMap.has(\"ReceiveGoodsIn\") ? this.state.controlMap.get(\"ReceiveGoodsIn\").ncontrolcode : -1;\r\n        const approveId = this.state.controlMap.has(\"ApproveGoodsIn\") ? this.state.controlMap.get(\"ApproveGoodsIn\").ncontrolcode : -1;\r\n        const checklistId = this.state.controlMap.has(\"ChecklistGoodsIn\") ? this.state.controlMap.get(\"ChecklistGoodsIn\").ncontrolcode : -1;\r\n\r\n\r\n        const goodsinAddParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"create\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: addId\r\n        };\r\n\r\n        const goodsinEditParam = {\r\n            screenName: \"IDS_GOODSIN\", operation: \"update\", primaryKeyField: \"ngoodsincode\",\r\n            userInfo: this.props.Login.userInfo, ncontrolCode: editId,masterData:this.props.Login.masterData\r\n            \r\n        };\r\n\r\n        const goodsinDeleteParam = { \r\n            screenName: \"IDS_GOODSIN\", methodUrl: \"GoodsIn\", operation: \"delete\", ncontrolCode: deleteId };        \r\n\r\n        const filterParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\", primaryKeyField: \"ngoodsincode\",\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"sgoodsinid1\",\"sclientname\", \"sprojectname\", \"scouriername\",\"nnoofpackages\",\"sconsignmentno\",\"sgoodsindatetime\",\"ssecurityrefno\",\"scomments\" ,\"stransdisplaystatus\"]\r\n        };\r\n\r\n        const viewInfoFields=[];\r\n        viewInfoFields.push(\r\n            { \"fieldName\": \"sclientcatname\", \"label\": \"IDS_CLIENTCATEGORY\"},\r\n            { \"fieldName\": \"sclientname\", \"label\": \"IDS_CLIENT\"},\r\n            { \"fieldName\": \"sprojecttypename\", \"label\": \"IDS_PROJECTTYPE\"},\r\n            { \"fieldName\": \"sprojectname\", \"label\": \"IDS_PROJECT\"},\r\n            { \"fieldName\": \"scouriername\", \"label\": \"IDS_COURIERCARRIER\"},\r\n            { \"fieldName\": \"nnoofpackages\", \"label\": \"IDS_NOOFPACKAGES\"},\r\n            { \"fieldName\": \"noutofhours\", \"label\": \"IDS_OUTOFHOURS\"},\r\n            { \"fieldName\": \"ssecurityrefno\", \"label\": \"IDS_SECURITYREFNO\"},\r\n            { \"fieldName\": \"scomments\", \"label\": \"IDS_COMMENTS\"}\r\n        )                        \r\n                                           \r\n\r\n        let breadCrumbData = [];\r\n        breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            },\r\n            {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            }\r\n        ]; \r\n\r\n        let mandatoryFields = [];\r\n            if(this.props.Login.ScreenName===\"IDS_GOODSIN\"){\r\n                mandatoryFields.push(\r\n                    { \"idsName\": \"IDS_CLIENTCATEGORY\", \"dataField\": \"nclientcatcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_CLIENT\", \"dataField\": \"nclientcode\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_NOOFPACKAGES\", \"dataField\": \"nnoofpackages\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                    { \"idsName\": \"IDS_GOODSINDATE\", \"dataField\": \"dgoodsindatetime\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n    \r\n                )\r\n    \r\n                if(this.props.Login.userInfo.istimezoneshow === transactionStatus.YES){\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_TIMEZONE\", \"dataField\": \"ntzgoodsindate\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n                }\r\n    \r\n                if (this.state.selectedRecord[\"noutofhours\"] === transactionStatus.YES) {\r\n                    mandatoryFields.push({ \"idsName\": \"IDS_SECURITYREFNO\", \"dataField\": \"ssecurityrefno\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"});\r\n                }\r\n            }\r\n           \r\n\r\n            let userStatusCSS = \"\";\r\n            let activeIconCSS = \"fa fa-check\";\r\n            if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.DRAFT) {\r\n                userStatusCSS = \"outline-secondary\";\r\n                activeIconCSS = \"\";\r\n            }\r\n            else if (this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.selectedGoodsIn.ntransactionstatus === transactionStatus.RECEIVED) {\r\n                userStatusCSS = \"outline-success\";\r\n            }\r\n            else {\r\n                userStatusCSS = \"outline-Final\";\r\n            }\r\n   \r\n\r\n        \r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    <Row noGutters={true} className=\"toolbar-top\">\r\n                        <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                            <span onClick= {()=>this.setState({sidebarview:!this.state.sidebarview})} className='sidebar-view-btn'>\r\n                                {!this.state.sidebarview ?\r\n                                    <i class=\"fa fa-less-than\"></i> :\r\n                                    <i class=\"fa fa-greater-than\"></i> \r\n                                }\r\n                            </span>\r\n                            <ListMaster\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"IDS_GOODSIN\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.GoodsIn}\r\n                                getMasterDetail={(GoodsIn) => this.props.getGoodsInDetail(GoodsIn, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedGoodsIn}\r\n                                primaryKeyField=\"ngoodsincode\"\r\n                                mainField=\"sgoodsinid1\"\r\n                                firstField=\"sclientcatname\"\r\n                                secondField=\"sclientname\"\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                openModal={() => this.props.getGoodsInComboService(goodsinAddParam)}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                showFilterIcon={true}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_GOODSINFILTER\":\r\n                                            <GoodsInFilter\r\n                                                fromDate={fromDate}\r\n                                                toDate={toDate}\r\n                                                handleFilterDateChange={this.handleFilterDateChange}\r\n                                                userInfo={this.props.Login.userInfo}\r\n\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <ContentPanel className=\"panel-main-content\">\r\n                                        {this.props.Login.masterData.selectedGoodsIn && this.props.Login.masterData.GoodsIn && this.props.Login.masterData.GoodsIn.length > 0 && this.props.Login.masterData.selectedGoodsIn ?\r\n                                            <Card className=\"border-0\">\r\n                                                <Card.Header>\r\n                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedGoodsIn.nnoofpackages}</Card.Title>\r\n                                                <Card.Subtitle>\r\n                                                    <div className=\"d-flex product-category\">\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                            <span className={`btn btn-outlined ${userStatusCSS} btn-sm ml-3`}>\r\n                                                                <i className={activeIconCSS}></i>\r\n                                                                {this.props.Login.masterData.selectedGoodsIn.stransdisplaystatus}\r\n                                                            </span>\r\n                                                        </h2>\r\n                                                        <div className=\"d-inline \">\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            onClick={(e) => this.props.getGoodsInComboService(goodsinEditParam)} >\r\n                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                            <FontAwesomeIcon icon={faTrashAlt} />                                                            \r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(receiveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_RECEIVE\" })}\r\n                                                            onClick={() => this.receiveGoodsIn(receiveId)}>\r\n                                                            <GoodsReceivedIcon className=\"custom_icons\" width=\"20\" height=\"20\"\r\n                                                                            name=\"goodsreceivedicon\"/>                                                                                                                       \r\n                                                        </Nav.Link>\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                            onClick={() => this.approveGoodsIn(approveId)}>\r\n                                                            <FontAwesomeIcon icon={faThumbsUp} />                                                            \r\n                                                        </Nav.Link> \r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEWINFO\" })}\r\n                                                            onClick={() => this.props.viewInformation(this.props.Login.masterData.selectedGoodsIn.ngoodsincode,this.props.Login.userInfo,this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faEye} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                                             hidden={this.state.userRoleControlRights.indexOf(checklistId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CHECKLIST\" })}\r\n                                                            onClick={() => this.props.checkListGoodsIn(this.props.Login.masterData,this.props.Login.masterData.selectedGoodsIn,this.state.Checklist,checklistId,this.props.Login.userInfo)}>\r\n                                                            <FontAwesomeIcon icon={faListAlt} />                                                            \r\n                                                        </Nav.Link> \r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Card.Subtitle>\r\n                                                </Card.Header>\r\n                                                <Card.Body>                                           \r\n                                                    <DataGrid\r\n                                                        primaryKeyField={\"ngoodsinsamplecode\"}\r\n                                                        data={this.props.Login.masterData.GoodsInSample ||[]}\r\n                                                        dataResult={process(this.props.Login.masterData.GoodsInSample ||[], this.state.sampleGridDataState)}\r\n                                                        dataState={this.state.sampleGridDataState}\r\n                                                        dataStateChange={this.sampleInfoDataStateChange}\r\n                                                        extractedColumnList={this.gridfillingColumn(this.state.DynamicGridItem) || []}\r\n                                                        detailedFieldList={this.gridfillingColumn(this.state.DynamicGridMoreField) || []} \r\n                                                        exportFieldList={this.gridfillingColumn(this.state.DynamicExportItem) || []} \r\n                                                        userInfo={this.props.Login.userInfo}\r\n                                                        controlMap={this.state.controlMap}\r\n                                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                                        inputParam={this.props.Login.inputParam}\r\n                                                        //editParam={goodsinSampleEditParam}\r\n                                                        //fetchRecord={this.editSampleGoodsIn}\r\n                                                        deleteRecord = {this.DeleteGoodsInSample}\r\n                                                        methodUrl ={\"SampleGoodsIn\"}\r\n                                                        pageable={true}\r\n                                                        isComponent={false}\r\n                                                        hasDynamicColSize={true}\r\n                                                        isActionRequired={true}\r\n                                                        isToolBarRequired={true}\r\n                                                        isAddRequired={true}\r\n                                                        addRecord={this.openSampleGoodsIn}\r\n                                                        isRefreshRequired ={false}\r\n                                                        isImportRequired={true}\r\n                                                        isDownloadPDFRequired={false}\r\n                                                        isDownloadExcelRequired={false}\r\n                                                        import={this.ImportFile}\r\n                                                        scrollable={'scrollable'}\r\n                                                        gridHeight={'600px'}\r\n                                                        expandField=\"expanded\"\r\n                                                        screenName =\"Goods In Sample\"\r\n                                                    />\r\n\r\n                       \r\n\r\n                                                </Card.Body>\r\n\r\n                                            </Card>\r\n                                        :\"\"}\r\n                                    </ContentPanel>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>   \r\n\r\n                    </Row>\r\n                </ListWrapper>  \r\n                { this.props.Login.openModal ?\r\n                    <SlideOutModal \r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.screenName ===\"IDS_GOODSINSAMPLE\" ? this.state.mandatorySampleFields :  mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ? (\r\n                            <Esign \r\n                            operation={this.props.Login.operation}\r\n                            formatMessage={this.props.intl.formatMessage}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                        ) : this.props.Login.screenName ===  \"IDS_GOODSIN\"  && (this.props.Login.operation ===  \"create\" || this.props.Login.operation === \"update\") ? (\r\n                            <AddGoodsIn\r\n                                onNumericInputOnChange={this.onNumericInputOnChange}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                handleDateChange ={this.handleDateChange}\r\n                                onComboChange={this.onComboChange}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                ClientCategory ={this.props.Login.ClientCategory}\r\n                                Client={this.props.Login.Client}\r\n                                ProjectType={this.props.Login.ProjectType}\r\n                                Courier={this.props.Login.Courier}\r\n                                Project={this.props.Login.Project}\r\n                                TimeZone={this.props.Login.TimeZone}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                currentTime={this.props.Login.currentTime || []}\r\n                                userInfo={this.props.Login.userInfo}\r\n    \r\n                            />\r\n                        ) : this.props.Login.screenName === \"IDS_GOODSIN\" && this.props.Login.operation ===\"View\" ? (\r\n                            <GoodsInView\r\n                                userInfo={this.props.Login.userInfo}\r\n                                selectedRecordView={this.props.Login.masterData.selectedRecordView}\r\n                                viewInfoFields={viewInfoFields|| []}\r\n                            />  \r\n\r\n                        ): this.props.Login.screenName === \"IDS_GOODSINSAMPLE\" ? (                                \r\n                                    <DynamicSlideout\r\n                                        selectedRecord={this.props.Login.selectedRecord}\r\n                                        templateData={this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping [0].jsondata}\r\n                                        handleDateChange={this.handleDateChange}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onNumericInputChange={this.onNumericInputOnChange}\r\n                                        comboData={this.props.Login.comboData}\r\n                                        onComboChange={this.onDynamicComboChange}\r\n                                        onDropFile={this.onDropFile}\r\n                                        deleteAttachment={this.deleteAttachment}\r\n                                        onNumericBlur={this.onNumericBlur}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        timeZoneList={this.props.Login.timeZoneList}\r\n                                        defaultTimeZone={this.props.Login.defaultTimeZone}\r\n                                        Login={this.props.Login}\r\n                                        addMasterRecord={this.addMasterRecord}\r\n                                        editMasterRecord={this.editMasterRecord}\r\n                                        userRoleControlRights={this.props.Login.userRoleControlRights}\r\n                                    ></DynamicSlideout>  \r\n                                                    \r\n                        ): this.props.Login.screenName ===\"IDS_GOODSINIMPORT\" ? (\r\n                                <AddFile\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onDrop={this.onDropSampleFile}\r\n                                    deleteAttachment={this.deleteAttachment}\r\n                                    actionType={this.state.actionType}\r\n                                    operation={this.props.Login.operation}                                   \r\n                                />\r\n                        ):( \"\" )\r\n                        \r\n                        \r\n                        }\r\n                    />\r\n                : \r\n                this.props.Login.screenName === \"IDS_GOODSINCHECKLIST\" && this.props.Login.operation ===\"checklist\" ? (\r\n                    <GoodsInChecklist\r\n                        templateData={this.props.Login.masterData.ChecklistData}\r\n                        needSaveButton={true}\r\n                        formRef={this.formRef}\r\n                        onTemplateInputChange={this.onTemplateInputChange}\r\n                        handleClose={this.closeModal}\r\n                        onTemplateComboChange={this.onTemplateComboChange}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.insertGoodsInChecklist}\r\n                        Login={this.props.Login}\r\n                        viewScreen={this.props.Login.openTemplateModal}\r\n                        selectedGoodsIn ={this.props.Login.masterData.selectedGoodsIn}\r\n                        selectedRecord={this.state.selectedRecord || []}\r\n                        onTemplateDateChange={this.onTemplateDateChange}\r\n                        needValidation={true}\r\n                    /> \r\n                ) :(\"\")\r\n                } \r\n                \r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleFilterDateChange = (dateName, dateValue) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[dateName] = dateValue;         \r\n        this.setState ({masterData});\r\n\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onTemplateInputChange = (event, control) => {\r\n        let selectedRecord = templateChangeHandler(1, this.state.selectedRecord, event, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateComboChange = (comboData, control) => {\r\n        let selectedRecord = templateChangeHandler(2, this.state.selectedRecord, comboData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onTemplateDateChange = (dateData, control) => {\r\n        let selectedRecord = templateChangeHandler(3, this.state.selectedRecord, dateData, control)\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterSubmit = () => {         \r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n\r\n        \r\n\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let realfromDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate);\r\n        let realtoDate = rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate);\r\n        let masterData = { ...this.props.Login.masterData, realfromDate, realtoDate};\r\n        let inputData ={\r\n            fromDate: obj.fromDate,\r\n            toDate : obj.toDate,\r\n            userinfo: this.props.Login.userInfo,\r\n\r\n        }       \r\n        let inputParam = {\r\n            masterData,\r\n            inputData\r\n        }\r\n        this.props.getGoodsInFilterSubmit(inputParam);\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let openTemplateModal = this.props.Login.openTemplateModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                openTemplateModal =false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            openTemplateModal =false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,openTemplateModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }else if(event.target.name === \"noutofhours\"){\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            } else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 1 : 2;\r\n            }\r\n        } \r\n        else {\r\n                if (event.target.value !== \"\") {\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n           \r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if(fieldName === \"nclientcatcode\"){\r\n            selectedRecord[\"nclientcatcode\"] = comboData;\r\n            this.props.getClient(this.state.selectedRecord.nclientcatcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nclientcode\"){\r\n            selectedRecord[\"nclientcode\"] = comboData;\r\n            this.props.getProjectType(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nprojecttypecode\"){\r\n            selectedRecord[\"nprojecttypecode\"] = comboData;\r\n            this.props.getProject(this.state.selectedRecord.nclientcatcode.value,this.state.selectedRecord.nclientcode.value,this.state.selectedRecord.nprojecttypecode.value,this.props.Login.masterData, this.props.Login.userInfo, selectedRecord);\r\n        }else if(fieldName === \"nprojectmastercode\"){\r\n            selectedRecord[\"nprojectmastercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }else if(fieldName === \"ncouriercode\"){\r\n            selectedRecord[\"ncouriercode\"] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onDynamicComboChange = (comboData, control, customName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let comboName = customName || control.label;\r\n        if (comboData) {\r\n            \r\n            comboData[\"item\"] = {\r\n                ...comboData[\"item\"], \"pkey\": control.valuemember,\r\n                \"nquerybuildertablecode\": control.nquerybuildertablecode, source: control.source\r\n            };\r\n            selectedRecord[comboName] = comboData;\r\n        } else {\r\n            selectedRecord[comboName] = [];\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }   \r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onNumericBlur = (control) => {\r\n        let selectedRecord = this.state.selectedRecord\r\n        if (selectedRecord[control.label]) {\r\n            if (control.max) {\r\n                if (!(selectedRecord[control.label] < parseFloat(control.max))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.max) : parseInt(control.max)\r\n                }\r\n            }\r\n            if (control.min) {\r\n                if (!(selectedRecord[control.label] > parseFloat(control.min))) {\r\n                    selectedRecord[control.label] = control.precision ? parseFloat(control.min) : parseInt(control.min)\r\n                }\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    sampleInfoDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.GoodsInSample,event.dataState),\r\n            sampleGridDataState: event.dataState\r\n        });\r\n      \r\n    }\r\n\r\n\r\n    gridfillingColumn(data) {\r\n        const temparray = data && data.map((option) => {\r\n            return { \"idsName\": option[designProperties.LABEL][this.props.Login.userInfo.slanguagetypecode] || \"-\", \"dataField\": option[designProperties.VALUE], \"width\": \"200px\", \"columnSize\": \"3\", \"dataType\": [option[designProperties.LISTITEM]] };\r\n        });\r\n        return temparray;\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        if(this.props.Login.screenName ===  \"IDS_GOODSIN\"){\r\n            if(this.state.selectedRecord[\"nnoofpackages\"]<=0){\r\n                return (toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERTHEPACKAGEGREATERTHANZERO\" })));\r\n            }\r\n    \r\n            let postParam = undefined;\r\n            let dataState = undefined;\r\n            let inputData = [];\r\n            inputData[\"goodsin\"] = {};\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n    \r\n            let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n            let fromDate = obj.fromDate;\r\n            let toDate = obj.toDate;\r\n            inputData[\"fromDate\"] = fromDate;\r\n            inputData[\"toDate\"] = toDate;\r\n    \r\n            if (this.props.Login.operation === \"update\") {\r\n                postParam = {\r\n                    inputListName: \"GoodsIn\",\r\n                    selectedObject: \"selectedGoodsIn\",\r\n                    primaryKeyField: \"ngoodsincode\",\r\n                };\r\n    \r\n                postParam[\"primaryKeyValue\"] = this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n                inputData[\"goodsin\"][\"ngoodsincode\"]= this.props.Login.masterData.selectedGoodsIn.ngoodsincode;\r\n            }\r\n            inputData[\"goodsin\"][\"nclientcatcode\"] = this.state.selectedRecord[\"nclientcatcode\"] ? this.state.selectedRecord[\"nclientcatcode\"].value : -1;              \r\n            inputData[\"goodsin\"][\"nclientcode\"] = this.state.selectedRecord[\"nclientcode\"] ? this.state.selectedRecord[\"nclientcode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value : -1;\r\n            inputData[\"goodsin\"][\"nprojectmastercode\"] = this.state.selectedRecord[\"nprojectmastercode\"] ? this.state.selectedRecord[\"nprojectmastercode\"].value : -1;\r\n            inputData[\"goodsin\"][\"ncouriercode\"] = this.state.selectedRecord[\"ncouriercode\"] ? this.state.selectedRecord[\"ncouriercode\"].value :-1;\r\n            inputData[\"goodsin\"][\"nnoofpackages\"] = this.state.selectedRecord[\"nnoofpackages\"];\r\n            inputData[\"goodsin\"][\"noutofhours\"] = this.state.selectedRecord[\"noutofhours\"] ? this.state.selectedRecord[\"noutofhours\"] :transactionStatus.NO;\r\n            inputData[\"goodsin\"][\"sconsignmentno\"] = this.state.selectedRecord[\"sconsignmentno\"] ? this.state.selectedRecord[\"sconsignmentno\"] : \"\";\r\n            inputData[\"goodsin\"][\"ssecurityrefno\"] = this.state.selectedRecord[\"ssecurityrefno\"] ? this.state.selectedRecord[\"ssecurityrefno\"] : \"\";\r\n            inputData[\"goodsin\"][\"scomments\"] = this.state.selectedRecord[\"scomments\"] ? this.state.selectedRecord[\"scomments\"] : \"\";\r\n            inputData[\"goodsin\"][\"dgoodsindatetime\"] =  formatInputDate(this.state.selectedRecord[\"dgoodsindatetime\"], false);\r\n                //inputData[\"goodsin\"][\"ntzgoodsindatetime\"] = this.state.selectedRecord[\"ntimezonecode\"] ? this.state.selectedRecord[\"ntimezonecode\"].value : 1;\r\n    \r\n    \r\n            \r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsIn\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData,\r\n                selectedId: this.state.selectedRecord[\"ngoodsincode\"],\r\n                operation: this.props.Login.operation, saveType, formRef, dataState,\r\n                searchRef: this.searchRef,\r\n                postParam:postParam\r\n                    \r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSIN\"}),\r\n                        operation: this.props.Login.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        }else if(this.props.Login.screenName === \"IDS_GOODSINSAMPLE\"){\r\n            this.insertGoodsInSample();             \r\n        }else if(this.props.Login.screenName ===\"IDS_GOODSINIMPORT\"){\r\n            this.importGoodsInSample();\r\n        }      \r\n    }\r\n   \r\n\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.DeleteGoodsIn(\"delete\",deleteId));\r\n    }\r\n\r\n    DeleteGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    receiveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"receive\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n    approveGoodsIn= (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"goodsin\"] = this.props.Login.masterData.selectedGoodsIn;  \r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsIn\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"approve\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSIN\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n     openSampleGoodsIn = () => {\r\n        const addSampleId = this.state.controlMap.has(\"AddSampleGoodsIn\") ? this.state.controlMap.get(\"AddSampleGoodsIn\").ncontrolcode : -1;\r\n         this.addSampleGoodsIn(\"IDS_GOODSINSAMPLE\", \"create\", this.props.Login.masterData,\r\n                               this.state.selectedRecord,this.props.Login.userInfo,addSampleId);\r\n\r\n     }\r\n\r\n     \r\n\r\n    addSampleGoodsIn = (ScreenName, operation, masterData,selectedRecord, userInfo, controlCode,importData) => {\r\n\r\n            let data = [];\r\n            const withoutCombocomponent = [];\r\n            let mandatorySampleFields = [];\r\n            const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n                && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n            if (Layout !== undefined) {\r\n                Layout.map(row => {\r\n                    row.children.map(column => {\r\n                        column.children.map(component => {\r\n                            if(component.hasOwnProperty(\"children\")) {\r\n                                component.children.map(componentrow => {\r\n                                    if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                        || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                        data.push(componentrow)\r\n                                    } else {\r\n                                        withoutCombocomponent.push(componentrow)\r\n                                    }\r\n                                    if(componentrow.mandatory=== true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": componentrow.label,\r\n                                            \"dataField\": componentrow.label,\r\n                                            \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }else {\r\n                                component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                                  || component.inputtype === \"frontendsearchfilter\" ?\r\n                                     data.push(component) : withoutCombocomponent.push(component)\r\n                                    if(component.mandatory ===true){\r\n                                        mandatorySampleFields.push({\r\n                                            \"mandatory\": true,\r\n                                            \"idsName\": component.label,\r\n                                            \"dataField\": component.label,\r\n                                            \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                                \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                            \"controlType\": component.inputtype === \"combo\" ?\r\n                                                \"selectbox\" : \"textbox\"\r\n                                        })\r\n                                    }\r\n\r\n                            }\r\n                        })\r\n                        this.setState({mandatorySampleFields:mandatorySampleFields});  \r\n                    })   \r\n\r\n                })\r\n                const comboComponents = data\r\n                let childColumnList = {};\r\n                data.map(columnList => {\r\n                    const val = comboChild(data, columnList, childColumnList, true);\r\n                    data = val.data;\r\n                    childColumnList = val.childColumnList\r\n                    return null;\r\n                })\r\n                const mapOfFilterRegData = {\r\n                    nsampletypecode: parseInt(SampleType.GOODSIN),\r\n\r\n                }  \r\n         \r\n                this.props.getPreviewTemplate(masterData, userInfo, controlCode,\r\n                    data, selectedRecord, childColumnList,comboComponents, withoutCombocomponent, true, true,\r\n                    mapOfFilterRegData, false, operation, ScreenName, importData)                \r\n            } else  {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_CONFIGURETEMPLATE\" }));\r\n            }\r\n        \r\n    }\r\n\r\n    ImportFile = () => {\r\n        const Status = this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        let updateInfo ={};\r\n        if(Status === transactionStatus.APPROVED ){\r\n             toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECEIVERECORD\" }));\r\n        }else {\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal:true,\r\n                    operation: \"import\",\r\n                    screenName : \"IDS_GOODSINIMPORT\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);       \r\n        }\r\n\r\n    }\r\n    \r\n    onDropSampleFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(\r\n            selectedRecord[fieldName],attachedFiles,maxSize);\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    };\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName],file);\r\n\r\n        this.setState({selectedRecord,actionType: \"delete\"});\r\n    };\r\n\r\n    // editSampleGoodsIn = (goodsinSampleEditParam) => {\r\n    //     let data = [];\r\n    //     const withoutCombocomponent = []\r\n    //     const Layout = this.props.Login.masterData.DesignTemplateMapping\r\n    //                     && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n    //     if (Layout !== undefined) {\r\n    //         Layout.map(row => {\r\n    //             return row.children.map(column => {\r\n    //                 return column.children.map(component => {\r\n    //                     return component.hasOwnProperty(\"children\") ?\r\n    //                         component.children.map(componentrow => {\r\n    //                             if (componentrow.inputtype === \"combo\") {\r\n    //                                 data.push(componentrow)\r\n    //                             } else {\r\n    //                                 withoutCombocomponent.push(componentrow)\r\n    //                             }\r\n\r\n    //                             return null;\r\n    //                         })\r\n    //                         : component.inputtype === \"combo\" ?\r\n    //                             data.push(component) : withoutCombocomponent.push(component)\r\n    //                 })\r\n    //             })\r\n    //         })\r\n    //         const comboComponents = data\r\n    //         let childColumnList = {};\r\n    //         data.map(columnList => {\r\n    //             const val = comboChild(data, columnList, childColumnList, true);\r\n    //             data = val.data;\r\n    //             childColumnList = val.childColumnList\r\n    //             return null;\r\n    //         })\r\n\r\n    //         this.props.getEditGoodsInSampleService(goodsinSampleEditParam,data, this.state.selectedRecord, childColumnList,\r\n    //             comboComponents, withoutCombocomponent)\r\n    //     } else {\r\n    //         toast.info(\"Configure the  template\")\r\n    //     }\r\n\r\n    // }\r\n\r\n    DeleteGoodsInSample= (operation) => {\r\n        let inputData = [];\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        inputData[\"fromDate\"] = fromDate;\r\n        inputData[\"toDate\"] = toDate;\r\n\r\n        inputData[\"ngoodsincode\"] =operation.selectedRecord.ngoodsincode;\r\n        inputData[\"ngoodsinsamplecode\"] =operation.selectedRecord.ngoodsinsamplecode;\r\n        inputData[\"ndesigntemplatemappingcode\"] =operation.selectedRecord.ndesigntemplatemappingcode;\r\n        inputData[\"ntransactionstatus\"] =this.props.Login.masterData.selectedGoodsIn.ntransactionstatus;\r\n        inputData[\"userinfo\"]  = this.props.Login.userInfo;   \r\n        const postParam = {\r\n            inputListName: \"GoodsIn\", selectedObject: \"selectedGoodsIn\",\r\n            primaryKeyField: \"ngoodsincode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedGoodsIn.ngoodsincode,\r\n            fetchUrl: \"goodsin/getActiveGoodsInById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"GoodsInSample\", \r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            postParam\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, operation.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_GOODSINSAMPLE\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n\r\n\r\n    insertGoodsInSample= () => {\r\n        let Map ={};\r\n\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.fromDate, this.props.Login.masterData.toDate, this.props.Login.userInfo);\r\n        let fromDate = obj.fromDate;\r\n        let toDate = obj.toDate;\r\n        Map[\"fromDate\"] = fromDate;\r\n        Map[\"toDate\"] = toDate;\r\n\r\n        Map[\"ngoodsincode\"] =this.props.Login.masterData.selectedGoodsIn.ngoodsincode;  \r\n        Map[\"ndesigntemplatemappingcode\"] =this.props.Login.masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n        const param =  this.goodsInSample(this.props.Login.masterData,this.state.selectedRecord,\r\n            this.props.Login.masterData.DesignTemplateMapping [0].jsondata,\r\n            this.props.Login.userInfo,this.props.Login.defaultTimeZone, 'create',this.props.Login.comboComponents);  \r\n        Map[\"GoodsInSample\"] = param.GoodsInSample;\r\n        Map[\"DateList\"] = param.dateList;\r\n        Map[\"userinfo\"] = this.props.Login.userInfo;\r\n        Map[\"combinationunique\"] = this.state.DynamicCombinationUnique;\r\n\r\n \r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"GoodsInSample\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: Map,\r\n            selectedId: this.state.selectedRecord[\"ngoodsinsamplecode\"],\r\n            operation: 'create',\r\n            searchRef: this.searchRef\r\n                \r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSIN\"}),\r\n                    operation: 'create'\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n\r\n\r\n    }\r\n    \r\n    goodsInSample = (masterData,selectedRecord,templateList,userInfo,defaulttimeZone,operation,comboComponents) => {\r\n        let GoodsInSample = {};\r\n        let dateList = [];\r\n        GoodsInSample[\"ngoodsincode\"] = masterData.selectedGoodsIn.ngoodsincode;  \r\n        GoodsInSample[\"ndesigntemplatemappingcode\"] =masterData.DesignTemplateMapping[0].ndesigntemplatemappingcode;\r\n    \r\n    \r\n        GoodsInSample[\"nunitcode\"] = selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']] ?\r\n            selectedRecord[comboComponents[comboComponents.findIndex(x => x.name === 'Unit')]['label']].value : -1;\r\n        GoodsInSample[\"nquantity\"] = selectedRecord[\"Quantity\"];\r\n        GoodsInSample[\"sexternalsampleid\"] = selectedRecord[\"External Sample Id\"];\r\n        GoodsInSample[\"scomments\"] = selectedRecord[\"Comments\"];\r\n      \r\n        GoodsInSample[\"jsondata\"] = {};\r\n        GoodsInSample[\"jsonuidata\"] = {};\r\n\r\n\r\n        templateList && templateList.map(row => {\r\n            return row.children.map(column => {\r\n                return column.children.map(component => {\r\n                    if (component.hasOwnProperty(\"children\")) {\r\n                        return component.children.map(componentrow => {\r\n                            if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"predefineddropdown\") {\r\n                                if (componentrow.inputtype === \"predefineddropdown\") {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label\r\n                                           \r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                        {\r\n                                            value: selectedRecord[componentrow.label].value,\r\n                                            label: selectedRecord[componentrow.label].label,\r\n                                            pkey: componentrow.valuemember,\r\n                                            nquerybuildertablecode: componentrow.nquerybuildertablecode,\r\n                                            source: componentrow.source,\r\n                                            [componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]: operation === \"update\" ?\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                :\r\n                                                selectedRecord[componentrow.label].item ? selectedRecord[componentrow.label].item.jsondata[componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] :\r\n                                                    selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember] ? selectedRecord[componentrow.label][componentrow.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : componentrow.valuemember]\r\n                                                        : selectedRecord[componentrow.label].vale\r\n    \r\n                                        } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = selectedRecord[componentrow.label] ? selectedRecord[componentrow.label].label : \"\";\r\n    \r\n                                }\r\n                            }\r\n                            else if (componentrow.inputtype === \"date\") {\r\n                                if (componentrow.mandatory) {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = (typeof selectedRecord[componentrow.label] === \"object\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                            selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                        (typeof selectedRecord[componentrow.label] === \"number\") ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n                                            : selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                } else {\r\n                                    GoodsInSample[\"jsondata\"][componentrow.label] = componentrow.loadcurrentdate ?\r\n                                        typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) :\r\n                                            typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label] : \"\" :\r\n                                        selectedRecord[componentrow.label] ? typeof selectedRecord[componentrow.label] === \"object\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                selectedRecord[componentrow.label] : new Date(), userInfo) : typeof selectedRecord[componentrow.label] === \"number\" ?\r\n                                                convertDateTimetoStringDBFormat(selectedRecord[componentrow.label] ?\r\n                                                    new Date(selectedRecord[componentrow.label]) : new Date(), userInfo)\r\n    \r\n                                                : selectedRecord[componentrow.label] ?\r\n                                                    selectedRecord[componentrow.label]\r\n                                                    : \"\" : \"\";\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                                }\r\n                                if (componentrow.timezone) {\r\n                                    GoodsInSample[\"jsondata\"][`tz${componentrow.label}`] = selectedRecord[`tz${componentrow.label}`] ?\r\n                                        { value: selectedRecord[`tz${componentrow.label}`].value, label: selectedRecord[`tz${componentrow.label}`].label } :\r\n                                        defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                    GoodsInSample[\"jsonuidata\"][`tz${componentrow.label}`] = GoodsInSample[\"jsondata\"][`tz${componentrow.label}`]\r\n                                }\r\n                                dateList.push(componentrow.label)\r\n                            }\r\n    \r\n                            else {\r\n                                GoodsInSample[\"jsondata\"][componentrow.label] = selectedRecord[componentrow.label] ?\r\n                                    selectedRecord[componentrow.label] : \"\"\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][componentrow.label] = GoodsInSample[\"jsondata\"][componentrow.label]\r\n                            }\r\n                        })\r\n                        return GoodsInSample;\r\n    \r\n                    }\r\n                    else {\r\n                        if (component.inputtype === \"combo\" || component.inputtype === \"predefineddropdown\") {\r\n                            if (component.inputtype === \"predefineddropdown\") {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                       \r\n    \r\n                                    } : -1\r\n                                GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                    {\r\n                                        value: selectedRecord[component.label].value,\r\n                                        label: selectedRecord[component.label].label,\r\n                                        pkey: component.valuemember,\r\n                                        nquerybuildertablecode: component.nquerybuildertablecode,\r\n                                        source: component.source,\r\n                                        [component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]: operation === \"update\" ?\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                            :\r\n                                            selectedRecord[component.label].item ? selectedRecord[component.label].item.jsondata[component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] :\r\n                                                selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember] ? selectedRecord[component.label][component.table.item.component === 'Dynamic' ? 'ndynamicmastercode' : component.valuemember]\r\n                                                    : selectedRecord[component.label].vale\r\n    \r\n                                    } : -1\r\n                                    GoodsInSample[\"jsonuidata\"][component.label] = selectedRecord[component.label] ? selectedRecord[component.label].label : \"\";\r\n    \r\n                            }                            \r\n                        }\r\n                        else if (component.inputtype === \"date\") {\r\n                            if (component.mandatory) {\r\n                                console.log(typeof selectedRecord[component.label] === \"object\")\r\n                                GoodsInSample[\"jsondata\"][component.label] = typeof selectedRecord[component.label] === \"object\" ?\r\n    \r\n                                    convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) :\r\n                                    (typeof selectedRecord[component.label] === \"number\") ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo) :\r\n                                        selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            } else {\r\n                                GoodsInSample[\"jsondata\"][component.label] = component.loadcurrentdate ?\r\n                                    typeof selectedRecord[component.label] === \"object\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : new Date(), userInfo) :\r\n                                        typeof selectedRecord[component.label] === \"number\" ?\r\n                                            convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                                new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n    \r\n                                            : selectedRecord[component.label] ?\r\n                                                selectedRecord[component.label] : \"\" :\r\n                                    selectedRecord[component.label] ? typeof selectedRecord[component.label] === \"object\" ? convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                        selectedRecord[component.label] : new Date(), userInfo) : typeof selectedRecord[component.label] === \"number\" ?\r\n                                        convertDateTimetoStringDBFormat(selectedRecord[component.label] ?\r\n                                            new Date(selectedRecord[component.label]) : new Date(), userInfo)\r\n                                        : selectedRecord[component.label] ?\r\n                                            selectedRecord[component.label] : \"\" : \"\";\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                            }\r\n                            if (component.timezone) {\r\n                                GoodsInSample[\"jsondata\"][`tz${component.label}`] = selectedRecord[`tz${component.label}`] ?\r\n                                    { value: selectedRecord[`tz${component.label}`].value, label: selectedRecord[`tz${component.label}`].label } :\r\n                                    defaulttimeZone ? defaulttimeZone : -1\r\n    \r\n                                GoodsInSample[\"jsonuidata\"][`tz${component.label}`] = GoodsInSample[\"jsondata\"][`tz${component.label}`]\r\n                            }\r\n                            dateList.push(component.label)\r\n                        }\r\n                        else {\r\n                            GoodsInSample[\"jsondata\"][component.label] = selectedRecord[component.label] ?\r\n                                selectedRecord[component.label] : \"\"\r\n    \r\n                            GoodsInSample[\"jsonuidata\"][component.label] = GoodsInSample[\"jsondata\"][component.label]\r\n                        }\r\n                        return GoodsInSample;\r\n                    }\r\n                }\r\n                )\r\n            })\r\n        })\r\n        const param = { GoodsInSample, dateList }\r\n        return param;\r\n\r\n    }\r\n\r\n    importGoodsInSample =() => {\r\n\r\n        const formData = new FormData();\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.stemplatefilename;\r\n        let comboComponents=[];\r\n        let data = [];\r\n        const withoutCombocomponent = [];\r\n        let mandatory =[];\r\n        let mandatoryImportFields={};    \r\n\r\n\r\n        if(acceptedFiles && acceptedFiles.length ===1){\r\n            acceptedFiles.forEach((file, index) => {\r\n                formData.append(\"uploadedFile\", file);\r\n            });\r\n            const dateList = [];\r\n            this.state.DynamicDateField.map(x=> {\r\n                dateList.push(x['2'])\r\n            });\r\n\r\n           \r\n        const Layout = this.props.Login.masterData.DesignTemplateMapping && this.props.Login.masterData.DesignTemplateMapping[0].jsondata\r\n        if (Layout !== undefined) {\r\n            Layout.map(row => {\r\n                row.children.map(column => {\r\n                    column.children.map(component => {\r\n                        if(component.hasOwnProperty(\"children\")) {\r\n                            component.children.map(componentrow => {\r\n                                if (componentrow.inputtype === \"combo\" || componentrow.inputtype === \"backendsearchfilter\"\r\n                                    || componentrow.inputtype === \"frontendsearchfilter\") {\r\n                                    data.push(componentrow)\r\n                                } else {\r\n                                    withoutCombocomponent.push(componentrow)\r\n                                }\r\n                                if(componentrow.mandatory=== true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": componentrow.label,\r\n                                        \"dataField\": componentrow.label,\r\n                                        \"mandatoryLabel\": componentrow.inputtype === \"combo\" ?\r\n                                            \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": componentrow.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n                            })\r\n                        }else {\r\n                            component.inputtype === \"combo\" || component.inputtype === \"backendsearchfilter\"\r\n                              || component.inputtype === \"frontendsearchfilter\" ?\r\n                                 data.push(component) : withoutCombocomponent.push(component)\r\n                                if(component.mandatory ===true){\r\n                                    mandatory.push({\r\n                                        \"mandatory\": true,\r\n                                        \"idsName\": component.label,\r\n                                        \"dataField\": component.label,\r\n                                        \"mandatoryLabel\": component.inputtype === \"combo\" ?\r\n                                            \"IDS_SELECT\" : \"IDS_ENTER\",\r\n                                        \"controlType\": component.inputtype === \"combo\" ?\r\n                                            \"selectbox\" : \"textbox\"\r\n                                    })\r\n                                }\r\n\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n            comboComponents = data\r\n        }      \r\n        mandatory.map(x=>{\r\n            mandatoryImportFields[x.dataField]=x.mandatory;\r\n\r\n          })\r\n\r\n            formData.append('mandatoryFields',Lims_JSON_stringify(JSON.stringify(mandatoryImportFields),false))\r\n            formData.append('comboComponents', Lims_JSON_stringify(JSON.stringify(comboComponents), false))\r\n            formData.append('dateconstraints', Lims_JSON_stringify(JSON.stringify(this.state.DynamicDateConstraints), false))\r\n            formData.append('datelist', Lims_JSON_stringify(JSON.stringify(dateList), false))\r\n            formData.append('combinationunique', Lims_JSON_stringify(JSON.stringify(this.state.DynamicCombinationUnique), false))\r\n            formData.append('ndesigntemplatemappingcode', this.props.Login.masterData.ndesigntemplatemappingcode)\r\n            formData.append(\"ngoodsincode\",this.props.Login.masterData.selectedGoodsIn.ngoodsincode)\r\n            formData.append(\"ntransactionstatus\",this.props.Login.masterData.selectedGoodsIn.ntransactionstatus)\r\n\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl: \"GoodsInSample\",\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: { userinfo: this.props.Login.userInfo },\r\n                formData: formData,\r\n                isFileupload: true,\r\n                operation: this.props.Login.operation,\r\n\r\n            }\r\n\r\n            const esignNeeded = showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode);\r\n            if (esignNeeded) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_GOODSINIMPORT\" }),\r\n                        operation: this.props.Login.operation,\r\n                    },\r\n\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }                                                                                                                                                                                                                \r\n\r\n        }else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTTHEFILE\" }))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    insertGoodsInChecklist = (selectedRecord, userInfo) => {\r\n        const ndesigntemplatemappingcode = parseInt(this.props.Login.masterData.ndesigntemplatemappingcode && this.props.Login.masterData.ndesigntemplatemappingcode);\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            let inputParam = {\r\n                \"inputData\": { userinfo: userInfo }\r\n            }\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true,\r\n                    screenData: {\r\n                        selectedRecord, userInfo,ndesigntemplatemappingcode,\r\n                        operation: \"updatechecklist\", inputParam,\r\n                    },\r\n                    openModal: true,\r\n                    operation: \"updatechecklist\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.onSaveGoodsInCheckList(selectedRecord,ndesigntemplatemappingcode, userInfo)\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        let { userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n            DynamicGridItem,DynamicGridMoreField,DynamicExportItem,DynamicDateField,DynamicTemplateField,DynamicDateConstraints,DynamicCombinationUnique,Checklist } = this.state;\r\n        let bool = false;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                bool = true;\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord\r\n            bool = true;\r\n        }     \r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {     \r\n\r\n            bool = true;\r\n            skip = this.props.Login.skip === undefined ? skip : this.props.Login.skip\r\n            take = this.props.Login.take || take   \r\n        }\r\n\r\n        if (this.props.Login.sampleGridDataState && this.props.Login.sampleGridDataState !== previousProps.Login.sampleGridDataState) {\r\n            sampleGridDataState = this.props.Login.sampleGridDataState;\r\n        }\r\n\r\n        if (this.props.Login.masterData.DynamicDesign && this.props.Login.masterData.DynamicDesign !== previousProps.Login.masterData.DynamicDesign) {\r\n            const dynamicColumn = JSON.parse(this.props.Login.masterData.DynamicDesign.jsondata && this.props.Login.masterData.DynamicDesign.jsondata.value)\r\n            if(dynamicColumn !== null){\r\n                DynamicGridItem = dynamicColumn.griditem ? dynamicColumn.griditem : [];\r\n                DynamicGridMoreField = dynamicColumn.gridmoreitem ? dynamicColumn.gridmoreitem : [];\r\n                DynamicExportItem = dynamicColumn.exportFields ? dynamicColumn.exportFields : [];\r\n                DynamicDateField = dynamicColumn.datefields ? dynamicColumn.datefields : [];\r\n                DynamicTemplateField = dynamicColumn.templatefields ? dynamicColumn.templatefields : [];\r\n                DynamicDateConstraints = dynamicColumn.dateconstraints ? dynamicColumn.dateconstraints : [];\r\n                DynamicCombinationUnique = dynamicColumn.combinationunique ?  dynamicColumn.combinationunique : [] ;  \r\n                Checklist = dynamicColumn.checklist ? dynamicColumn.checklist : [] ;             \r\n            }\r\n            \r\n\r\n        }    \r\n\r\n        \r\n        if (bool) {\r\n            this.setState({\r\n                userRoleControlRights, controlMap,selectedRecord,skip, take,masterData,sampleGridDataState,\r\n                DynamicGridItem,DynamicGridMoreField,DynamicExportItem, DynamicDateField,DynamicTemplateField ,DynamicDateConstraints,DynamicCombinationUnique,Checklist\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore,getGoodsInFilterSubmit,validateEsignCredential,getGoodsInComboService ,getGoodsInDetail,getClient,getProjectType,getProject,filterColumnData,getPreviewTemplate,viewInformation,checkListGoodsIn,onSaveGoodsInCheckList\r\n    \r\n})(injectIntl(GoodsIn))"]},"metadata":{},"sourceType":"module"}