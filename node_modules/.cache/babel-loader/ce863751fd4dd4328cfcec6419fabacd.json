{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Button,Col,Modal,Row}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSave}from'@fortawesome/free-solid-svg-icons';import{FormattedMessage,injectIntl}from'react-intl';import{TouchBackend}from'react-dnd-touch-backend';import{HTML5Backend}from'react-dnd-html5-backend';import{DndProvider}from'react-dnd';import device from'current-device';// import MoreOptions from '../../components/configureui/MoreOptions';\nimport Dynamicinput from'../../components/droparea/Dynamicinputs';import{connect}from'react-redux';import{updateStore,crudMaster,getTableColumns,getForeignTableData}from'../../actions/index';import{condition,SampleType,transactionStatus}from'../../components/Enumeration';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign}from'../../components/CommonScript';import AlertModal from'./AlertModal';import FormInput from'../../components/form-input/form-input.component';import{getChildComponentForeignKey,getcomponentdata,getValidComponent,replaceChildFromChildren}from'../../components/droparea/helpers';import{InstrumentDefaultTemplate,productDefaultTemplate,MaterialDefaultTemplate,clinicalTypeDefaultTemplateWithoutProduct,clinicalTypeDefaultTemplateWithProduct}from'./DefaultTemplates';import{ReactComponents}from'../../components/Enumeration';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import{toast}from'react-toastify';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var PreRegDesignPopUp=/*#__PURE__*/function(_React$Component){_inherits(PreRegDesignPopUp,_React$Component);var _super=_createSuper(PreRegDesignPopUp);function PreRegDesignPopUp(props){var _this;_classCallCheck(this,PreRegDesignPopUp);_this=_super.call(this,props);_this.validateDynamicDesign=function(){var valid=_this.validateTemplate(_this.state.design);if(!valid){return null;}else{_this.setState({openAlertModal:true,templateName:\"\"});}};_this.showPropFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:!_this.state.showFilter}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n};_this.hidePropFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);//  this.setState({ showFilter: !this.state.showFilter })\n};_this.setLayout=function(design,splitDropZonePath,remove,removeChild){var selectedFieldRecord={};if(remove===undefined){selectedFieldRecord=getcomponentdata(design,splitDropZonePath.split(\"-\"));}else if(removeChild){var childRecord={};_this.state.toBeDeleted.deleteComponent.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));childRecord['childValue']=undefined;childRecord['parentPath']=undefined;childRecord['valuecolumn']=undefined;design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}design=_this.updatePath(design);// if (selectedFieldRecord.child) {\n//     let childRecord = {}\n//     selectedFieldRecord.child.map(myChild => {\n//         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\n//         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\n//         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\n//         return null;\n//     })\n// }\n// if (selectedFieldRecord.childValue) {\n//     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\n//     let newChildData = []\n//     parentData.child.map(child => child.label === selectedFieldRecord.label ?\n//         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\n//         newChildData.push(child))\n//     parentData = { ...parentData, child: newChildData };\n//     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\n// }\nvar components=_this.getComponents(design).components;var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);_this.setState({showConfirmAlert:false,toBeDeleted:{},design:design,selectedFieldRecord:selectedFieldRecord,components:components,validComponents:validComponents,selectedComponentpath:splitDropZonePath.split(\"-\").length>1?splitDropZonePath:'0-0-'+splitDropZonePath});};_this.updatePath=function(design){design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.inputtype!=='radio'){if(component.child){var newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});component=_objectSpread(_objectSpread({},component),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}else{if(component.child){var _newChild=[];component.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});component=_objectSpread(_objectSpread({},component),{},{child:_newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,compIndex],component);}}});}else{if(componnetrow.inputtype!=='radio'){if(componnetrow.child){var newChild=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);newChild.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{parentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:newChild});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}else{if(componnetrow.child){var _newChild2=[];componnetrow.child.map(function(childComp){var obj=_this.getIndexByLabel(design,childComp.label);_newChild2.push(_objectSpread(_objectSpread({},childComp),{},{childPath:obj.path}));var newObj=_objectSpread(_objectSpread({},obj.object),{},{radioparentPath:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")});design=replaceChildFromChildren(design,obj.path.split(\"-\"),newObj);});componnetrow=_objectSpread(_objectSpread({},componnetrow),{},{child:_newChild2});design=replaceChildFromChildren(design,[rowIndex,columnIndex,compRowIndex,0],componnetrow);}}}});});});return design;};_this.validateDelete=function(design,splitDropZonePath){var path=splitDropZonePath.split(\"-\");var showAlert=false;var toBeDeleted={};// let component = {}\n// let row = this.state.design[path[0]]\n// let column = row.children[path[1]]\n// let compRow = column.children[path[2]]\n// if (compRow.type === 'componentrow')\n//     component = compRow.children[path[3]]\n// else\n//     component = compRow\nvar component=getcomponentdata(_this.state.design,path);if(component.child&&component.child.length>0){var childRecord={};if(component.inputtype==='radio'){component.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));delete childRecord[\"radioparentLabel\"];delete childRecord[\"selectedrecordbasedhide\"];delete childRecord[\"recordbasedhide\"];delete childRecord[\"radioparent\"];delete childRecord[\"radioparentPath\"];delete childRecord[\"recordbasedshowhide\"];delete childRecord[\"recordbasedreadonly\"];design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}else{component.child.map(function(myChild){childRecord=getcomponentdata(design,myChild.childPath.split(\"-\"));childRecord['childValue']=undefined;childRecord['parentPath']=undefined;childRecord['valuecolumn']=undefined;if(myChild.componentcode!==ReactComponents.COMBO){childRecord['column']=undefined;}design=replaceChildFromChildren(design,myChild.childPath.split(\"-\"),childRecord);return null;});}showAlert=true;toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};// this.showAlert(true, toBeDeleted);\n}if(component.childValue){var parentData=getcomponentdata(_this.state.design,component.parentPath.split(\"-\"));var newChildData=parentData.child.filter(function(child){return child.label!==component.label;});parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});design=replaceChildFromChildren(design,component.parentPath.split(\"-\"),parentData);toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}if(component.radioparent){var _parentData=getcomponentdata(_this.state.design,component.radioparentPath.split(\"-\"));var _newChildData=_parentData.child.filter(function(child){return child.label!==component.label;});_parentData=_objectSpread(_objectSpread({},_parentData),{},{child:_newChildData});design=replaceChildFromChildren(design,component.radioparentPath.split(\"-\"),_parentData);toBeDeleted={design:design,splitDropZonePath:splitDropZonePath,deleteComponent:component};}if(showAlert){_this.showAlert(true,toBeDeleted);}else{_this.setLayout(design,splitDropZonePath,true);}};_this.confirmAlert=function(){_this.confirmMessage.confirm(\"Warning\",\"Warning\",_this.props.intl.formatMessage({id:\"IDS_PARENTCOMPONENTCANNOTBEDELETED\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.setLayout(_this.state.toBeDeleted.design,_this.state.toBeDeleted.splitDropZonePath,true,true);},undefined,function(){return _this.showAlert(false);});};_this.showAlert=function(bool,toBeDeleted){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { showConfirmAlert: bool, toBeDeleted }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({showConfirmAlert:bool,toBeDeleted:toBeDeleted});};_this.onclickcomponent=function(event,data,path){var selectedFieldRecord=_objectSpread({},data);var obj=_this.getComponents(_this.state.design);//console.log(\"obj:\", obj);\nvar components=obj.components;var dateComponents=obj.dateComponents;if(data.inputtype===\"date\"){var filterDataComponents=dateComponents.filter(function(item){return item.label!==data.label;});dateComponents=filterDataComponents;}var componentData={components:components,selectedComponentpath:path};var parentRadioValue=[];if((selectedFieldRecord.componentcode===ReactComponents.COMBO||selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER)&&selectedFieldRecord.source!==undefined&&(_this.props.Login.columnInfo===undefined||_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]===undefined)){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{var validComponents=getValidComponent(selectedFieldRecord,components,_this.props.Login.columnInfo);var tableColumn=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn:[];var filterColumns=selectedFieldRecord.nquerybuildertablecode?_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns:[];if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){if(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.hasOwnProperty('child')){oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}else{if(selectedFieldRecord.radioparentPath){if(selectedFieldRecord.radioparentPath){var _oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(_oldParentData.hasOwnProperty('child')){_oldParentData.child.map(function(item){if(item.label===selectedFieldRecord.label){parentRadioValue=_oldParentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});}});}}}}if(selectedFieldRecord.componentcode!==ReactComponents.COMBO&&selectedFieldRecord.componentcode!==ReactComponents.FRONTENDSEARCHFILTER&&selectedFieldRecord.componentcode!==ReactComponents.BACKENDSEARCHFILTER){if(_this.props.Login.columnInfo&&selectedFieldRecord.childValue&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]){tableColumn=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;filterColumns=_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}else{if(selectedFieldRecord.childValue){_this.props.getTableColumns(_this.state.design,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,\"\",_this.props.Login.columnInfo,componentData,undefined,false);}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}}else{_this.setState({selectedComponentpath:path,selectedFieldRecord:selectedFieldRecord,components:components,tableColumn:tableColumn,filterColumns:filterColumns,dateComponents:dateComponents,validComponents:validComponents,parentRadioValue:parentRadioValue,showFilter:false});}}};_this.getComponents=function(design){var components=[];var dateComponents=[{label:\"Current Date\",value:\"utccurrentdate\"}];design.map(function(row,rowIndex){row.children.map(function(column,columnIndex){column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){componnetrow.inputtype==='date'&&componnetrow.label&&dateComponents.push({label:componnetrow.label,value:componnetrow.label});componnetrow.label&&components.push({label:componnetrow.label,value:componnetrow.label,// item: componnetrow,\ninputtype:componnetrow.inputtype,source:componnetrow.source,nquerybuildertablecode:componnetrow.nquerybuildertablecode,child:componnetrow.child,valuemember:componnetrow.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-\").concat(compRowIndex)});});}else{componnet.inputtype==='date'&&componnet.label&&dateComponents.push({label:componnet.label,value:componnet.label});componnet.label&&components.push({label:componnet.label,value:componnet.label,// item: componnet,\ninputtype:componnet.inputtype,source:componnet.source,nquerybuildertablecode:componnet.nquerybuildertablecode,child:componnet.child,valuemember:componnet.valuemember,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compindex,\"-0\")});}});return null;});return null;});return{components:components,dateComponents:dateComponents};};_this.getValueMembers=function(selectedFieldRecord){if(selectedFieldRecord.childValue){var valueColumn=[];_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(function(x){if(x.foriegntablename===selectedFieldRecord.childValue.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname});return null;});if(valueColumn.length){return valueColumn;}else{_this.props.Login.columnInfo&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]&&_this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(function(x){if(x.foriegntablename===selectedFieldRecord.source)valueColumn.push({label:x.displayname[_this.props.Login.userInfo.slanguagetypecode],value:x.tablecolumnname});return null;});return valueColumn;}}else{return null;}};_this.onInputOnChange=function(event,name){var selectedFieldRecord=_this.state.selectedFieldRecord||{};if(event.target.type==='checkbox'){if(name===\"recordbasedreadonly\"||name===\"recordbasedshowhide\"){var design=_this.state.design;var splititemarray=_this.state.selectedComponentpath.split(\"-\");if(selectedFieldRecord[\"recordbasedshowhide\"]||selectedFieldRecord[\"recordbasedreadonly\"]){// let design = this.state.design\nif(selectedFieldRecord.radioparentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});design=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),oldParentData);}delete selectedFieldRecord[\"radioparentLabel\"];delete selectedFieldRecord[\"selectedrecordbasedhide\"];delete selectedFieldRecord[\"recordbasedhide\"];delete selectedFieldRecord[\"radioparent\"];}selectedFieldRecord[name===\"recordbasedreadonly\"?\"recordbasedshowhide\":\"recordbasedreadonly\"]=false;}selectedFieldRecord[event.target.name]=event.target.checked;var newdata=_objectSpread({},selectedFieldRecord);design=replaceChildFromChildren(design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else if(event.target.name===\"loadselecteddate\"||event.target.name===\"loadcurrentdate\"){if(event.target.name===\"loadselecteddate\"&&selectedFieldRecord['loadcurrentdate']){selectedFieldRecord['loadcurrentdate']=false;}else if(event.target.name===\"loadcurrentdate\"&&selectedFieldRecord['loadselecteddate']){selectedFieldRecord['loadselecteddate']=false;}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else if(event.target.name===\"unique\"){//     const design = this.state.design\n//  let listUnique=[]\n//  if(event.target.checked){\n//     design && design.map(row => {\n//         return  row.children.map(column => {\n//              return column.children.map(component => {\n//                   if (component.hasOwnProperty(\"children\")) {\n//                      return component.children.map(componentrow => {\n//                        if(componentrow.unique){\n//                         listUnique.push(componentrow.unique)\n//                        }\n//                       }) \n//                   }\n//                   else {\n//                     if(component.unique){\n//                         listUnique.push(component.unique)\n//                     }\n//                   }\n//               }\n//               )\n//           })\n//       })   \n//     }\n//       if(listUnique.length===0){\n//         selectedFieldRecord[event.target.name] = event.target.checked;\n//         this.saveComponentProperties(selectedFieldRecord)\n//       }else{\n//           toast.info(\"Unique Must Be One Field\")\n//           selectedFieldRecord[event.target.name] = false;\n//         this.saveComponentProperties(selectedFieldRecord)\n//         //  this.setState({design})\n//       }\nselectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}else{if(event.target.name==='timeonly'){selectedFieldRecord['dateonly']=false;}if(event.target.name==='dateonly'){selectedFieldRecord['timeonly']=false;}selectedFieldRecord[event.target.name]=event.target.checked;_this.saveComponentProperties(selectedFieldRecord);}}else{if(name==='synonym'){selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),{},_defineProperty({},event.target.name,event.target.value));}if(event.target.name==='label'){var langArray=_this.props.Login.languageList;var langDataObject={};langArray.map(function(item){return langDataObject[item.value]=event.target.value;});selectedFieldRecord['displayname']=_objectSpread(_objectSpread({},selectedFieldRecord['displayname']),langDataObject);selectedFieldRecord[event.target.name]=event.target.value;}else{selectedFieldRecord[event.target.name]=event.target.value;}_this.saveComponentProperties(selectedFieldRecord);}};_this.onNumericInputChange=function(event,columnname){var selectedFieldRecord=_this.state.selectedFieldRecord||{};var value=event.target.value;if(!isNaN(value)){// if (parseInt(value) < 10) {\nselectedFieldRecord[event.target.name]=value;_this.saveComponentProperties(selectedFieldRecord);// }\n}};_this.handleDateChange=function(dateValue,dateName){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord[dateName]=dateValue;_this.saveComponentProperties(selectedFieldRecord);};_this.onComboChange=function(comboData,comboName){var selectedFieldRecord=_this.state.selectedFieldRecord;if(selectedFieldRecord.label){if(comboName==='table'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['source']=comboData.item.stablename;if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['conditionstring']=' and nformcode = '+comboData.item.nformcode;}selectedFieldRecord['nquerybuildertablecode']=comboData.value;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);if(selectedFieldRecord.inputtype==='frontendsearchfilter'||selectedFieldRecord.inputtype==='backendsearchfilter'){_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo,{validComponents:_this.state.validComponents});}else{_this.props.getTableColumns(design,selectedFieldRecord,comboData.value,_this.props.Login.userInfo,splititemarray,_this.props.Login.columnInfo);}}else if(comboName==='column'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['displaymember']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray=_this.state.selectedComponentpath.split(\"-\");var _newdata=_objectSpread({},selectedFieldRecord);var _design=replaceChildFromChildren(_this.state.design,_splititemarray,_newdata);_this.setState({design:_design,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='childValue'){if(comboData){var _splititemarray2=_this.state.selectedComponentpath.split(\"-\");var _design2=_this.state.design;if(selectedFieldRecord.parentPath){var oldParentData=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));if(oldParentData.child){var newChildData1=oldParentData.child.filter(function(child){return child.label!==selectedFieldRecord.label;});oldParentData=_objectSpread(_objectSpread({},oldParentData),{},{child:newChildData1});_design2=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),oldParentData);}}var parentData=getcomponentdata(_design2,comboData.path.split(\"-\"));selectedFieldRecord['childValue']=comboData;selectedFieldRecord['parentPath']=comboData.path;if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){selectedFieldRecord['parentLabel']=comboData.label;}var _newdata2=_objectSpread({},selectedFieldRecord);_design2=replaceChildFromChildren(_design2,_splititemarray2,_newdata2);var newChildData=parentData.child||[];var validateChild=newChildData.filter(function(x){return x.label===selectedFieldRecord.label;});if(validateChild.length===0){var valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(valueMemberOptions.length===1){var foriegntablePK=getChildComponentForeignKey(selectedFieldRecord,comboData,_this.props.Login.columnInfo);newChildData.push({label:selectedFieldRecord.label,foriegntablePK:foriegntablePK,tablecolumnname:valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath});}else{newChildData.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath});}}parentData=_objectSpread(_objectSpread({},parentData),{},{child:newChildData});_design2=replaceChildFromChildren(_design2,comboData.path.split(\"-\"),parentData);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord});}else if(selectedFieldRecord.componentcode===ReactComponents.FRONTENDSEARCHFILTER||selectedFieldRecord.componentcode===ReactComponents.BACKENDSEARCHFILTER){var parentRadioValue=_this.state.parentRadioValue||[];parentRadioValue=parentData.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design2,selectedFieldRecord:selectedFieldRecord,parentRadioValue:parentRadioValue});}else{_this.props.getTableColumns(_design2,selectedFieldRecord,selectedFieldRecord.childValue.nquerybuildertablecode,_this.props.Login.userInfo,_splititemarray2,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else{var _splititemarray3=_this.state.selectedComponentpath.split(\"-\");var _parentData2=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData2=_parentData2.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData2=_objectSpread(_objectSpread({},_parentData2),{},{child:_newChildData2});var _design3=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData2);selectedFieldRecord['childValue']=comboData;if(selectedFieldRecord.componentcode!==ReactComponents.COMBO)selectedFieldRecord['column']=comboData;var _newdata3=_objectSpread({},selectedFieldRecord);_design3=replaceChildFromChildren(_design3,_splititemarray3,_newdata3);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design3,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName==='valuecolumn'){selectedFieldRecord['valuecolumn']=comboData;var _parentData3=getcomponentdata(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"));var _newChildData3=[];_parentData3.child.map(function(child){if(child.label===selectedFieldRecord.label){_newChildData3.push(_objectSpread(_objectSpread({},child),{},{tablecolumnname:comboData.value}));}else{_newChildData3.push(child);}return null;});_parentData3=_objectSpread(_objectSpread({},_parentData3),{},{child:_newChildData3});var _design4=replaceChildFromChildren(_this.state.design,selectedFieldRecord.parentPath.split(\"-\"),_parentData3);var _newdata4=_objectSpread({},selectedFieldRecord);_design4=replaceChildFromChildren(_design4,_this.state.selectedComponentpath.split(\"-\"),_newdata4);_this.setState({design:_design4,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='filtercolumn'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord.filtervalue=\"\";selectedFieldRecord.staticfiltervalue=\"\";var _splititemarray4=_this.state.selectedComponentpath.split(\"-\");var _newdata5=_objectSpread({},selectedFieldRecord);var _design5=replaceChildFromChildren(_this.state.design,_splititemarray4,_newdata5);if(comboData.type!=='numeric'){_this.setState({design:_design5,selectedFieldRecord:selectedFieldRecord});}else{_this.props.getForeignTableData(_design5,selectedFieldRecord,'',_this.props.Login.userInfo,_splititemarray4,_this.props.Login.columnInfo,{components:_this.state.components,selectedComponentpath:_this.state.selectedComponentpath},true);}}else if(comboName==='customsearchfilter'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['filterfields']=[];_this.state.selectedFieldRecord[comboName].map(function(data){return selectedFieldRecord['filterfields'].push(data.item['item']?_objectSpread({type:data.type},data.item['item']):data.item);});var _splititemarray5=_this.state.selectedComponentpath.split(\"-\");var _newdata6=_objectSpread({},selectedFieldRecord);var _design6=replaceChildFromChildren(_this.state.design,_splititemarray5,_newdata6);_this.setState({design:_design6,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='selectedrecordbasedhide'){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['recordbasedhide']=comboData.value;if(comboData.item.ismultilingual){selectedFieldRecord['isMultiLingual']=true;}if(comboData.item.stablename==='dynamicmaster'){selectedFieldRecord['name']=comboData.value;}var _splititemarray6=_this.state.selectedComponentpath.split(\"-\");var _newdata7=_objectSpread({},selectedFieldRecord);var _design7=replaceChildFromChildren(_this.state.design,_splititemarray6,_newdata7);_this.setState({design:_design7,selectedFieldRecord:selectedFieldRecord});}else if(comboName==='radioparent'){if(comboData){var _splititemarray7=_this.state.selectedComponentpath.split(\"-\");var _design8=_this.state.design;var _parentData4=getcomponentdata(_design8,comboData.path.split(\"-\"));selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['radioparentPath']=comboData.path;selectedFieldRecord['radioparentLabel']=comboData.label;delete selectedFieldRecord['recordbasedhide'];delete selectedFieldRecord[\"selectedrecordbasedhide\"];var _newdata8=_objectSpread({},selectedFieldRecord);_design8=replaceChildFromChildren(_design8,_splititemarray7,_newdata8);var _newChildData4=_parentData4.child||[];var _validateChild=_newChildData4.filter(function(x){return x.label===selectedFieldRecord.label;});if(_validateChild.length===0){var _valueMemberOptions=_this.getValueMembers(selectedFieldRecord);if(_valueMemberOptions!==null&&_valueMemberOptions.length===1){_newChildData4.push({label:selectedFieldRecord.label,tablecolumnname:_valueMemberOptions[0].value,childPath:_this.state.selectedComponentpath});}else{_newChildData4.push({label:selectedFieldRecord.label,childPath:_this.state.selectedComponentpath});}}_parentData4=_objectSpread(_objectSpread({},_parentData4),{},{child:_newChildData4});_design8=replaceChildFromChildren(_design8,comboData.path.split(\"-\"),_parentData4);var _parentRadioValue=_this.state.parentRadioValue||[];_parentRadioValue=_parentData4.radioOptions&&_parentData4.radioOptions.tags.map(function(item){return{value:item.id,label:item.text,item:item};});_this.setState({design:_design8,selectedFieldRecord:selectedFieldRecord,parentRadioValue:_parentRadioValue});}else{var _splititemarray8=_this.state.selectedComponentpath.split(\"-\");var _parentData5=getcomponentdata(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"));var _newChildData5=_parentData5.child.filter(function(child){return child.label!==selectedFieldRecord.label;});_parentData5=_objectSpread(_objectSpread({},_parentData5),{},{child:_newChildData5});var _design9=replaceChildFromChildren(_this.state.design,selectedFieldRecord.radioparentPath.split(\"-\"),_parentData5);selectedFieldRecord['radioparent']=comboData;selectedFieldRecord['selectedrecordbasedhide']=comboData;delete selectedFieldRecord['recordbasedhide'];var _newdata9=_objectSpread({},selectedFieldRecord);_design9=replaceChildFromChildren(_design9,_splititemarray8,_newdata9);if(selectedFieldRecord.componentcode===ReactComponents.COMBO){_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord});}else{_this.setState({design:_design9,selectedFieldRecord:selectedFieldRecord,tableColumn:[]});}}}else if(comboName===\"period\"){if(comboData){selectedFieldRecord[comboName]=comboData;selectedFieldRecord['nperiodcode']=comboData.value;selectedFieldRecord['nperioddata']=comboData.item.ndata;var _splititemarray9=_this.state.selectedComponentpath.split(\"-\");var _newdata10=_objectSpread({},selectedFieldRecord);var _design10=replaceChildFromChildren(_this.state.design,_splititemarray9,_newdata10);_this.setState({design:_design10,selectedFieldRecord:selectedFieldRecord});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['nperiodcode'];delete selectedFieldRecord['nperioddata'];delete selectedFieldRecord['windowperiod'];var _splititemarray10=_this.state.selectedComponentpath.split(\"-\");var _newdata11=_objectSpread({},selectedFieldRecord);var _design11=replaceChildFromChildren(_this.state.design,_splititemarray10,_newdata11);_this.setState({design:_design11,selectedFieldRecord:selectedFieldRecord});}}else if(comboName===\"staticfiltertable\"){if(comboData){selectedFieldRecord[comboName]=comboData;var _splititemarray11=_this.state.selectedComponentpath.split(\"-\");var _newdata12=_objectSpread({},selectedFieldRecord);var _design12=replaceChildFromChildren(_this.state.design,_splititemarray11,_newdata12);var list=JSON.parse(comboData.item.jsondata.value).jcolumnname;var staticfiltercolumn=list.map(function(x){// x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\nreturn{label:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],value:x['displayname'][_this.props.Login.userInfo.slanguagetypecode],item:x};});_this.setState({design:_design12,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:staticfiltercolumn});}else{selectedFieldRecord[comboName]=comboData;delete selectedFieldRecord['staticfiltercolumn'];var _splititemarray12=_this.state.selectedComponentpath.split(\"-\");var _newdata13=_objectSpread({},selectedFieldRecord);var _design13=replaceChildFromChildren(_this.state.design,_splititemarray12,_newdata13);_this.setState({design:_design13,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:[]});}}else{selectedFieldRecord[comboName]=comboData;var _splititemarray13=_this.state.selectedComponentpath.split(\"-\");var _newdata14=_objectSpread({},selectedFieldRecord);var _design14=replaceChildFromChildren(_this.state.design,_splititemarray13,_newdata14);_this.setState({design:_design14,selectedFieldRecord:selectedFieldRecord});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERLABEL\"}));}};_this.addTag=function(tags){var selectedFieldRecord=_this.state.selectedFieldRecord||{};selectedFieldRecord['radioOptions']=tags;_this.saveComponentProperties(selectedFieldRecord);};_this.addCondition=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;var filterValue;var conditionString;var conditionArrayString;var selectedStaticfiltertable={};if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltercolumn']||selectedFieldRecord['staticfiltercolumn'])){selectedStaticfiltertable=JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value);switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.foriegntablePK;filterValue={label:selectedFieldRecord.staticfiltercolumn.label,value:selectedFieldRecord.staticfiltercolumn.item.columnname};break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" like 'P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P\"+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" like '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" like '%P$\"+selectedStaticfiltertable.jtablename.tablename+\".\"+filterValue.value+\"$P%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;// case condition.CONTAINS:\n//     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\n// case condition.NOTCONTAINS:\n//     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\n//     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\n//     break;\ndefault:break;}var conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];conditionArrayUI.push(conditionArrayString);conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",staticfiltertable:\"\",nsystemconfiguration:false,conditionArrayUI:conditionArrayUI,conditionArraySQL:conditionArraySQL,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");}else if(selectedFieldRecord[\"filtercolumn\"]&&selectedFieldRecord['condition']&&(selectedFieldRecord['staticfiltervalue']||selectedFieldRecord['filtervalue'])){switch(selectedFieldRecord[\"filtercolumn\"].type){case'static':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.columnname;filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'dynamic':{filterColumnName=\" and jsondata->>'\"+selectedFieldRecord.filtercolumn.item.columnname+\"'\";filterValue={label:selectedFieldRecord.staticfiltervalue,value:selectedFieldRecord.staticfiltervalue};break;}case'numeric':{filterColumnName=\" and \"+selectedFieldRecord.filtercolumn.item.foriegntablePK;filterValue=selectedFieldRecord.filtervalue;break;}default:break;}switch(selectedFieldRecord[\"condition\"].value){case condition.EQUALS:conditionString=filterColumnName+\" = '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.NOTEQUALS:conditionString=filterColumnName+\" != '\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" = \"+filterValue.label;break;case condition.STARTSWITH:conditionString=filterColumnName+\" like '\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Starts With \"+filterValue.label;break;case condition.ENDSWITH:conditionString=filterColumnName+\" like '%\"+filterValue.value+\"'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\"Ends With \"+filterValue.label;break;case condition.INCLUDES:conditionString=filterColumnName+\" like '%\"+filterValue.value+\"%'\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" Contains \"+filterValue.label;break;case condition.CONTAINS:conditionString=filterColumnName+\" in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;case condition.NOTCONTAINS:conditionString=filterColumnName+\" not in (\"+filterValue.map(function(x){return x.value;}).join(',')+\" )\";conditionArrayString=selectedFieldRecord.filtercolumn.label+\" not in (\"+filterValue.map(function(x){return x.label;}).join(',')+\" )\";break;default:break;}var _conditionArrayUI=selectedFieldRecord.conditionArrayUI||[];var _conditionArraySQL=selectedFieldRecord.conditionArraySQL||[];_conditionArrayUI.push(conditionArrayString);_conditionArraySQL.push(conditionString);selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{filtercolumn:\"\",condition:\"\",staticfiltervalue:undefined,filtervalue:\"\",conditionArrayUI:_conditionArrayUI,conditionArraySQL:_conditionArraySQL,nsystemconfiguration:false,staticfiltercolumn:\"\"});selectedFieldRecord['conditionstring']=_conditionArraySQL.join(\" \");}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord,staticfiltercolumn:\"\"});};_this.deleteCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var conditionArrayUI=selectedFieldRecord.conditionArrayUI;var conditionArraySQL=selectedFieldRecord.conditionArraySQL;conditionArrayUI.splice(index,1);conditionArraySQL.splice(index,1);selectedFieldRecord['conditionArrayUI']=conditionArrayUI;selectedFieldRecord['conditionArraySQL']=conditionArraySQL;selectedFieldRecord['conditionstring']=conditionArraySQL.join(\" \");var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.addDateConstraints=function(){var selectedFieldRecord=_this.state.selectedFieldRecord;var filterColumnName;if(selectedFieldRecord['condition']&&selectedFieldRecord['filtervalue']){filterColumnName=selectedFieldRecord.filtervalue.value;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI||[];var dateConstraintArraySQL=selectedFieldRecord.cdateConstraintArraySQL||[];dateConstraintArrayUI.push(selectedFieldRecord.label+' '+selectedFieldRecord['condition'].label+' '+selectedFieldRecord['filtervalue'].label);dateConstraintArraySQL.push({parentdate:selectedFieldRecord.label,constraint:selectedFieldRecord['condition'].value,childdate:filterColumnName});selectedFieldRecord=_objectSpread(_objectSpread({},selectedFieldRecord),{},{condition:\"\",filtervalue:\"\",dateConstraintArrayUI:dateConstraintArrayUI,dateConstraintArraySQL:dateConstraintArraySQL});var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ENTERVALUES\"}));}};_this.deleteDateCondition=function(index){var selectedFieldRecord=_this.state.selectedFieldRecord;var dateConstraintArrayUI=selectedFieldRecord.dateConstraintArrayUI;var dateConstraintArraySQL=selectedFieldRecord.dateConstraintArraySQL;dateConstraintArrayUI.splice(index,1);dateConstraintArraySQL.splice(index,1);selectedFieldRecord['dateConstraintArrayUI']=dateConstraintArrayUI;selectedFieldRecord['dateConstraintArraySQL']=dateConstraintArraySQL;var splititemarray=_this.state.selectedComponentpath.split(\"-\");var newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.saveComponentProperties=function(selectedFieldRecord){var splititemarray=_this.state.selectedComponentpath.split(\"-\");// const selectedFieldRecord = this.state.selectedFieldRecord;\nvar newdata=_objectSpread({},selectedFieldRecord);var design=replaceChildFromChildren(_this.state.design,splititemarray,newdata);_this.setState({design:design,selectedFieldRecord:selectedFieldRecord});};_this.handleSaveClick=function(saveType){if(_this.state.selectedRecord.templateName&&_this.state.selectedRecord.templateName!==\"\"){var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var dataState=undefined;// let valid = this.validateTemplate(this.state.design);\n// if (!valid) {\n//     return null;\n// }\nif(_this.props.Login.operation===\"update\"){// edit\nselectedId=_this.state.selectedRecord.nchecklistqbcode;dataState=_this.state.dataState;inputData[\"registrationtemplate\"]={nreactregtemplatecode:_this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templateName,jsonString:JSON.stringify(_this.state.design),jsondata:_this.state.design,ntransactionstatus:transactionStatus.DRAFT};}else{//add               \ninputData[\"registrationtemplate\"]={nsampletypecode:_this.props.nsampletypecode,sregtemplatename:_this.state.selectedRecord.templateName,jsonString:JSON.stringify(_this.state.design),ntransactionstatus:transactionStatus.DRAFT};}var postParam={inputListName:\"RegistrationTemplate\",selectedObject:\"selectedTemplate\",primaryKeyField:\"nreactregtemplatecode\",fetchUrl:\"dynamicpreregdesign/getRegistrationTemplateById\",fecthInputObject:{userinfo:_this.props.Login.userInfo,nsampletypecode:_this.props.nsampletypecode},masterData:_this.props.Login.masterData};var inputParam={methodUrl:'RegistrationTemplate',classUrl:'dynamicpreregdesign',displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,postParam:postParam,searchRef:_this.props.searchRef,operation:_this.props.Login.operation,saveType:saveType,dataState:dataState,selectedId:selectedId};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openPortal\");}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ENTERTEMPLATENAME\"}));}};_this.validateTemplate=function(template){var invalidComponent=[];var duplicateComponents=[];var insufficientMultilingualData=[];//let invalidComboComponent = [];\n// let invalidRadioComponent = [];\n// let invalidCheckboxComponent = [];\n//let invalidReadOnlyComponent = [];\nvar incompletePropertiesComponent=[];var labels=[];template.map(function(row,rowIndex){row.children.map(function(column,columnIndex){column.children.map(function(componnet,compindex){if(componnet.hasOwnProperty(\"children\")){componnet.children.map(function(componnetrow,compRowIndex){if(!componnetrow.hasOwnProperty('label')||componnetrow.label.trim()===''){invalidComponent.push(componnetrow);}if(labels.includes(componnetrow.label)){duplicateComponents.push(componnetrow);}else{if(componnetrow.label!==undefined)labels.push(componnetrow.label);}if(componnetrow.componentcode===ReactComponents.COMBO){if(!componnetrow.hasOwnProperty('source')&&!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.CHECKBOX){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.RADIO){if(!componnetrow.hasOwnProperty('radioOptions')||componnetrow.radioOptions&&componnetrow.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.TEXTINPUT||componnetrow.componentcode===ReactComponents.TEXTAREA){if(componnetrow.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnetrow.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnetrow);}else{if(componnetrow.displaymember.trim===''){incompletePropertiesComponent.push(componnetrow);}}}}else{if(!componnetrow.hasOwnProperty('sfieldlength')||componnetrow.sfieldlength.trim()===''){incompletePropertiesComponent.push(componnetrow);}}}if(!componnetrow.hasOwnProperty('displayname')||Object.keys(componnetrow.displayname).length!==_this.props.Login.languageList.length){insufficientMultilingualData.push(componnetrow);}if(componnetrow.recordbasedshowhide||componnetrow.recordbasedreadonly){if(!(componnetrow.radioparent&&componnetrow.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnetrow);}}if(componnetrow.componentcode===ReactComponents.DATE){if(componnetrow.period){if(!componnetrow.windowperiod){incompletePropertiesComponent.push(componnetrow);}}}});}else{if(!componnet.hasOwnProperty('label')||componnet.label.trim()===''){invalidComponent.push(componnet);}if(labels.includes(componnet.label)){duplicateComponents.push(componnet);}else{if(componnet.label!==undefined)labels.push(componnet.label);}if(componnet.componentcode===ReactComponents.COMBO){if(!componnet.hasOwnProperty('source')&&!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.CHECKBOX){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length===0){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.RADIO){if(!componnet.hasOwnProperty('radioOptions')||componnet.radioOptions&&componnet.radioOptions.tags.length<2){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.TEXTINPUT||componnet.componentcode===ReactComponents.TEXTAREA){if(componnet.hasOwnProperty('readonly')){if(componnet.name&&componnet.name==='Age'){if(!componnet.hasOwnProperty('displaymember')){incompletePropertiesComponent.push(componnet);}else{if(componnet.displaymember.trim===''){incompletePropertiesComponent.push(componnet);}}}}else{if(!componnet.hasOwnProperty('sfieldlength')||componnet.sfieldlength.trim()===''){incompletePropertiesComponent.push(componnet);}}}if(!componnet.hasOwnProperty('displayname')||Object.keys(componnet.displayname).length!==_this.props.Login.languageList.length){insufficientMultilingualData.push(componnet);}if(componnet.recordbasedshowhide||componnet.recordbasedreadonly){if(!(componnet.radioparent&&componnet.selectedrecordbasedhide)){incompletePropertiesComponent.push(componnet);}}if(componnet.componentcode===ReactComponents.DATE){if(componnet.period){if(!componnet.windowperiod){incompletePropertiesComponent.push(componnet);}}}}});return null;});return null;});if(duplicateComponents.length>0){var dataArray=[];duplicateComponents.map(function(item){return dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_DUPLICATECOMPONENTSFOUND'})+dataArray.join(\",\"));return false;}if(invalidComponent.length>0){var _dataArray=[];invalidComponent.map(function(item){return _dataArray.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_MISSINGCOMPONENTLABEL'})+_dataArray.join(\",\"));return false;}if(insufficientMultilingualData.length>0){var _dataArray2=[];insufficientMultilingualData.map(function(item){return _dataArray2.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INSUFFICIENTMULTILINGUALDATA'})+_dataArray2.join(\",\"));return false;}if(incompletePropertiesComponent.length>0){var _dataArray3=[];incompletePropertiesComponent.map(function(item){return _dataArray3.push(item.label);});toast.warn(_this.props.intl.formatMessage({id:'IDS_INVALIDCOMPONENT'})+_dataArray3.join(\",\"));return false;}// if (invalidRadioComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidRadioComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidCheckboxComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidCheckboxComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\n// if (invalidReadOnlyComponent.length > 0) {\n//     //console.log(\"invalidComponent:\", invalidComponent);\n//     const dataArray = [];\n//     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\n//     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\n//     return false;\n// }\nreturn true;};_this.confirmMessage=new ConfirmMessage();_this.state={nflag:1,design:_this.props.Login.operation==='update'?_this.props.Login.design:_this.props.nsampletypecode===SampleType.PRODUCT?productDefaultTemplate:_this.props.nsampletypecode===SampleType.INSTRUMENT?InstrumentDefaultTemplate:_this.props.nsampletypecode===SampleType.MATERIAL?MaterialDefaultTemplate:_this.props.nsampletypecode===SampleType.CLINICALTYPE?_this.props.Login.settings&&parseInt(_this.props.Login.settings[20])===transactionStatus.YES?clinicalTypeDefaultTemplateWithoutProduct:clinicalTypeDefaultTemplateWithProduct:[{\"id\":\"pv1OWbsMYq\",\"type\":\"row\",\"children\":[{type:'column',id:'2zMtRhjb2t',children:[]}]}],selectedRecord:_this.props.Login.selectedRecord||{},selectedFieldRecord:{},selectedComponentpath:\"\",components:[],filterColumns:[],validComponents:[],showConfirmAlert:false,showsynonym:false,toBeDeleted:{},numericConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"In\"}),value:condition.CONTAINS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Not In\"}),value:condition.NOTCONTAINS}],stringConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"equal to(=)\"}),value:condition.EQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"not equal to(!=)\"}),value:condition.NOTEQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Starts With\"}),value:condition.STARTSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Ends With\"}),value:condition.ENDSWITH},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Contains\"}),value:condition.INCLUDES}],dateConditions:[{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Less Than (<)\"}),value:condition.LESSTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Less Than Or Equals(<=)\"}),value:condition.LESSTHANOREQUALS},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Greater Than(>)\"}),value:condition.GREATERTHAN},{label:_this.props.intl.formatMessage({id:\"IDS_EQUALS\",defaultMessage:\"Greater Than Or Equals(>=)\"}),value:condition.GREATERTHANEQUALS}]};return _this;}_createClass(PreRegDesignPopUp,[{key:\"render\",value:function render(){var _this2=this;// const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{centered:true,scrollable:true,bsPrefix:\"model model_zindex\",show:this.props.Login.openPortal,onHide:this.props.closeModal,dialogClassName:\"\".concat(this.state.nflag&&this.state.nflag===2?'alert-popup':'',\" modal-fullscreen\"),backdrop:\"static\",keyboard:false,enforceFocus:false,\"aria-labelledby\":\"example-custom-modal-styling-title\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Modal.Title,{id:\"add\",className:\"header-primary flex-grow-1\"},\"\".concat(this.props.Login.operation===\"update\"?this.props.intl.formatMessage({id:\"IDS_EDIT\"}):this.props.intl.formatMessage({id:\"IDS_ADD\"}),\" \").concat(this.props.intl.formatMessage({id:\"IDS_DESIGNTEMPLATE\"}))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-user btn-cancel\",variant:\"\",onClick:this.props.closeModal},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_CANCEL\",defaultMessage:\"Cancel\"})),/*#__PURE__*/React.createElement(Button,{className:\" btn-user btn-primary-blue\"//onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\n,onClick:this.validateDynamicDesign},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSave}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAVE\",defaultMessage:\"Save\"})))),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-inner-content\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"p-0\"},/*#__PURE__*/React.createElement(DndProvider,{backend:device.os!=='android'?HTML5Backend:TouchBackend,options:{enableMouseEvents:true}},/*#__PURE__*/React.createElement(Dynamicinput,{layout:this.state.design,reactInputFields:this.props.Login.ReactInputFields||{},setLayout:this.setLayout,reactComponents:this.props.Login.ReactComponents||{},onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange,onComboChange:this.onComboChange,selectedFieldRecord:this.state.selectedFieldRecord,onclickcomponent:function onclickcomponent(event,data,path){return _this2.onclickcomponent(event,data,path);},ReactTables:this.props.Login.ReactTables,tableColumn:this.state.tableColumn,filterColumns:this.state.filterColumns,numericConditions:this.state.numericConditions,stringConditions:this.state.stringConditions,filterData:this.props.Login.filterData,inputFields:this.state.validComponents||[],addChildMapping:this.addChildMapping,valueMembers:this.getValueMembers(this.state.selectedFieldRecord),validateDelete:this.validateDelete,addTag:this.addTag,showFilter:this.state.showFilter,showPropFilter:this.showPropFilter,hidePropFilter:this.hidePropFilter,addCondition:this.addCondition,deleteCondition:this.deleteCondition,dateConditions:this.state.dateConditions,dateComponents:this.state.dateComponents,addDateConstraints:this.addDateConstraints,deleteDateCondition:this.deleteDateCondition,showsynonym:this.state.showsynonym,languages:this.props.Login.languageList||[],addSynonym:function addSynonym(){return _this2.setState({showsynonym:!_this2.state.showsynonym});},parentRadioValue:this.state.parentRadioValue||[],userinfo:this.props.Login.userInfo,handleDateChange:this.handleDateChange,period:this.props.Login.Period||[],staticfiltertables:this.props.Login.staticfiltertables,staticfiltercolumn:this.state.staticfiltercolumn||[]}))))))),/*#__PURE__*/React.createElement(AlertModal,{openAlertModal:this.state.openAlertModal,modalTitle:\"IDS_ENTERTEMPLATENAME\",closeModal:function closeModal(){return _this2.setState({openAlertModal:false,templateName:\"\"});},onSaveClick:this.handleSaveClick,modalBody:/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),name:\"templatename\",type:\"text\",onChange:function onChange(event){return _this2.setState({selectedRecord:_objectSpread(_objectSpread({},_this2.state.selectedRecord),{},{templateName:event.target.value})});},placeholder:this.props.intl.formatMessage({id:\"IDS_TEMPLATENAME\"}),value:this.state.selectedRecord.templateName?this.state.selectedRecord.templateName:\"\",isMandatory:true,required:true,maxLength:\"30\"})))}),this.state.showConfirmAlert?this.confirmAlert():\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,openAlertModal=_this$state.openAlertModal,design=_this$state.design,selectedRecord=_this$state.selectedRecord,selectedFieldRecord=_this$state.selectedFieldRecord,selectedComponentpath=_this$state.selectedComponentpath,components=_this$state.components,validComponents=_this$state.validComponents,tableColumn=_this$state.tableColumn,filterColumns=_this$state.filterColumns,showConfirmAlert=_this$state.showConfirmAlert,parentRadioValue=_this$state.parentRadioValue,showFilter=_this$state.showFilter;if(this.props.Login.openPortal===false&&previousProps.Login.openPortal){updateState=true;openAlertModal=false;}if(this.props.Login.design!==previousProps.Login.design){updateState=true;design=this.props.Login.design;}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){selectedFieldRecord=this.props.Login.selectedFieldRecord;updateState=true;}if(this.props.Login.showFilter!==previousProps.Login.showFilter){showFilter=this.props.Login.showFilter;updateState=true;}if(this.props.Login.selectedFieldRecord!==previousProps.Login.selectedFieldRecord){if(this.props.Login.selectedComponentpath&&this.props.Login.selectedComponentpath!==previousProps.Login.selectedFieldRecord){selectedComponentpath=this.props.Login.selectedComponentpath;}selectedFieldRecord=this.props.Login.selectedFieldRecord;components=this.props.Login.components;validComponents=this.props.Login.validComponents;tableColumn=this.props.Login.tableColumn;filterColumns=this.props.Login.filterColumns;updateState=true;}if(this.props.Login.parentRadioValue!==previousProps.Login.parentRadioValue){parentRadioValue=this.props.Login.parentRadioValue;updateState=true;}if(updateState){this.setState({openAlertModal:openAlertModal,design:design,selectedRecord:selectedRecord,selectedFieldRecord:selectedFieldRecord,tableColumn:tableColumn,selectedComponentpath:selectedComponentpath,components:components,validComponents:validComponents,showConfirmAlert:showConfirmAlert,filterColumns:filterColumns,parentRadioValue:parentRadioValue,showFilter:showFilter});}}},{key:\"getIndexByLabel\",value:function getIndexByLabel(design,label){var obj={};design.map(function(row,rowIndex){return row.children.map(function(column,columnIndex){return column.children.map(function(componnetrow,compRowIndex){if(componnetrow.hasOwnProperty('children')){componnetrow.children.map(function(component,compIndex){if(component.label===label){obj={object:component,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-\").concat(compIndex)};// break;\n}return null;});}else{if(componnetrow.label===label){obj={object:componnetrow,path:\"\".concat(rowIndex,\"-\").concat(columnIndex,\"-\").concat(compRowIndex,\"-0\")};// return obj;\n// break;\n}}return null;});});});return obj;}}]);return PreRegDesignPopUp;}(React.Component);export default connect(mapStateToProps,{updateStore:updateStore,crudMaster:crudMaster,getTableColumns:getTableColumns,getForeignTableData:getForeignTableData})(injectIntl(PreRegDesignPopUp));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/dynamicpreregdesign/PreRegDesignPopUp.jsx"],"names":["React","Button","Col","Modal","Row","FontAwesomeIcon","faSave","FormattedMessage","injectIntl","TouchBackend","HTML5Backend","DndProvider","device","Dynamicinput","connect","updateStore","crudMaster","getTableColumns","getForeignTableData","condition","SampleType","transactionStatus","DEFAULT_RETURN","showEsign","AlertModal","FormInput","getChildComponentForeignKey","getcomponentdata","getValidComponent","replaceChildFromChildren","InstrumentDefaultTemplate","productDefaultTemplate","MaterialDefaultTemplate","clinicalTypeDefaultTemplateWithoutProduct","clinicalTypeDefaultTemplateWithProduct","ReactComponents","ConfirmMessage","toast","mapStateToProps","state","Login","PreRegDesignPopUp","props","validateDynamicDesign","valid","validateTemplate","design","setState","openAlertModal","templateName","showPropFilter","updateInfo","typeName","data","showFilter","hidePropFilter","setLayout","splitDropZonePath","remove","removeChild","selectedFieldRecord","undefined","split","childRecord","toBeDeleted","deleteComponent","child","map","myChild","childPath","updatePath","components","getComponents","validComponents","columnInfo","showConfirmAlert","selectedComponentpath","length","row","rowIndex","children","column","columnIndex","componnetrow","compRowIndex","hasOwnProperty","component","compIndex","inputtype","newChild","childComp","obj","getIndexByLabel","label","push","path","newObj","object","parentPath","radioparentPath","validateDelete","showAlert","componentcode","COMBO","childValue","parentData","newChildData","filter","radioparent","confirmAlert","confirmMessage","confirm","intl","formatMessage","id","bool","onclickcomponent","event","dateComponents","filterDataComponents","item","componentData","parentRadioValue","FRONTENDSEARCHFILTER","BACKENDSEARCHFILTER","source","nquerybuildertablecode","userInfo","tableColumn","filterColumns","oldParentData","radioOptions","tags","value","text","componnet","compindex","valuemember","getValueMembers","valueColumn","numericColumns","x","foriegntablename","displayname","slanguagetypecode","tablecolumnname","onInputOnChange","name","target","type","splititemarray","newChildData1","checked","newdata","saveComponentProperties","langArray","languageList","langDataObject","onNumericInputChange","columnname","isNaN","handleDateChange","dateValue","dateName","onComboChange","comboData","comboName","stablename","nformcode","ismultilingual","validateChild","valueMemberOptions","foriegntablePK","filtervalue","staticfiltervalue","ndata","list","JSON","parse","jsondata","jcolumnname","staticfiltercolumn","warn","addTag","addCondition","filterColumnName","filterValue","conditionString","conditionArrayString","selectedStaticfiltertable","filtercolumn","EQUALS","jtablename","tablename","NOTEQUALS","STARTSWITH","ENDSWITH","INCLUDES","conditionArrayUI","conditionArraySQL","staticfiltertable","nsystemconfiguration","join","CONTAINS","NOTCONTAINS","deleteCondition","index","splice","addDateConstraints","dateConstraintArrayUI","dateConstraintArraySQL","cdateConstraintArraySQL","parentdate","constraint","childdate","deleteDateCondition","handleSaveClick","saveType","selectedRecord","inputData","selectedId","dataState","operation","nchecklistqbcode","nreactregtemplatecode","masterData","selectedTemplate","nsampletypecode","sregtemplatename","jsonString","stringify","ntransactionstatus","DRAFT","postParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","userinfo","inputParam","methodUrl","classUrl","displayName","searchRef","userRoleControlRights","ncontrolcode","loadEsign","screenData","info","template","invalidComponent","duplicateComponents","insufficientMultilingualData","incompletePropertiesComponent","labels","trim","includes","CHECKBOX","RADIO","TEXTINPUT","TEXTAREA","displaymember","sfieldlength","Object","keys","recordbasedshowhide","recordbasedreadonly","selectedrecordbasedhide","DATE","period","windowperiod","dataArray","nflag","PRODUCT","INSTRUMENT","MATERIAL","CLINICALTYPE","settings","parseInt","YES","showsynonym","numericConditions","defaultMessage","stringConditions","dateConditions","LESSTHAN","LESSTHANOREQUALS","GREATERTHAN","GREATERTHANEQUALS","openPortal","closeModal","os","enableMouseEvents","ReactInputFields","ReactTables","filterData","addChildMapping","Period","staticfiltertables","previousProps","updateState","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { Button, Col, Modal, Row } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { TouchBackend } from 'react-dnd-touch-backend'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { DndProvider } from 'react-dnd'\r\nimport device from 'current-device';\r\n// import MoreOptions from '../../components/configureui/MoreOptions';\r\nimport Dynamicinput from '../../components/droparea/Dynamicinputs';\r\nimport { connect } from 'react-redux';\r\nimport { updateStore, crudMaster, getTableColumns, getForeignTableData } from '../../actions/index'\r\nimport { condition, SampleType, transactionStatus } from '../../components/Enumeration';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign } from '../../components/CommonScript';\r\nimport AlertModal from './AlertModal'\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport { getChildComponentForeignKey, getcomponentdata, getValidComponent, replaceChildFromChildren } from '../../components/droparea/helpers';\r\nimport { InstrumentDefaultTemplate, productDefaultTemplate, MaterialDefaultTemplate, clinicalTypeDefaultTemplateWithoutProduct, clinicalTypeDefaultTemplateWithProduct } from './DefaultTemplates';\r\nimport { ReactComponents } from '../../components/Enumeration';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport { toast } from 'react-toastify';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\nclass PreRegDesignPopUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.confirmMessage = new ConfirmMessage();\r\n        this.state = {\r\n            nflag: 1,\r\n            design: this.props.Login.operation === 'update' ? this.props.Login.design :\r\n                this.props.nsampletypecode === SampleType.PRODUCT ? productDefaultTemplate :\r\n                    this.props.nsampletypecode === SampleType.INSTRUMENT ? InstrumentDefaultTemplate :\r\n                        this.props.nsampletypecode === SampleType.MATERIAL ? MaterialDefaultTemplate :\r\n                            this.props.nsampletypecode === SampleType.CLINICALTYPE ? this.props.Login.settings&&parseInt(this.props.Login.settings[20]) === transactionStatus.YES ? clinicalTypeDefaultTemplateWithoutProduct :\r\n                                clinicalTypeDefaultTemplateWithProduct : [{\r\n                            \"id\": \"pv1OWbsMYq\",\r\n                            \"type\": \"row\",\r\n                            \"children\": [\r\n                                { type: 'column', id: '2zMtRhjb2t', children: [] }\r\n                            ]\r\n                        }],\r\n            selectedRecord: this.props.Login.selectedRecord || {},\r\n            selectedFieldRecord: {},\r\n            selectedComponentpath: \"\",\r\n            components: [],\r\n            filterColumns: [],\r\n            validComponents: [],\r\n            showConfirmAlert: false,\r\n            showsynonym: false,\r\n            toBeDeleted: {},\r\n            numericConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"In\" }), value: condition.CONTAINS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Not In\" }), value: condition.NOTCONTAINS }\r\n            ],\r\n            stringConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"equal to(=)\" }), value: condition.EQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"not equal to(!=)\" }), value: condition.NOTEQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Starts With\" }), value: condition.STARTSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Ends With\" }), value: condition.ENDSWITH },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Contains\" }), value: condition.INCLUDES }\r\n            ],\r\n            dateConditions: [\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Less Than (<)\" }), value: condition.LESSTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Less Than Or Equals(<=)\" }), value: condition.LESSTHANOREQUALS },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Greater Than(>)\" }), value: condition.GREATERTHAN },\r\n                { label: this.props.intl.formatMessage({ id: \"IDS_EQUALS\", defaultMessage: \"Greater Than Or Equals(>=)\" }), value: condition.GREATERTHANEQUALS }\r\n            ]\r\n\r\n\r\n        }\r\n    }\r\n    validateDynamicDesign = () => {\r\n        let valid = this.validateTemplate(this.state.design);\r\n        if (!valid) {\r\n            return null;\r\n        }\r\n        else {\r\n            this.setState({ openAlertModal: true, templateName: \"\" });\r\n        }\r\n    }\r\n    render() {\r\n        // const selectedFieldRecord = JSON.parse(JSON.stringify(this.state.selectedFieldRecord))\r\n        return (\r\n            <>\r\n                <Modal\r\n                    centered\r\n                    scrollable\r\n                    bsPrefix=\"model model_zindex\"\r\n                    show={this.props.Login.openPortal}\r\n                    onHide={this.props.closeModal}\r\n                    dialogClassName={`${this.state.nflag && this.state.nflag === 2 ? 'alert-popup' : ''} modal-fullscreen`}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    enforceFocus={false}\r\n                    aria-labelledby=\"example-custom-modal-styling-title\"\r\n                >\r\n                    <Modal.Header className=\"d-flex align-items-center\">\r\n                        <Modal.Title id=\"add\" className=\"header-primary flex-grow-1\">\r\n                            {`${this.props.Login.operation === \"update\" ? this.props.intl.formatMessage({ id: \"IDS_EDIT\" }) : this.props.intl.formatMessage({ id: \"IDS_ADD\" })} ${this.props.intl.formatMessage({ id: \"IDS_DESIGNTEMPLATE\" })}`}\r\n                        </Modal.Title>\r\n                        <>\r\n                            <Button className=\"btn-user btn-cancel\" variant=\"\" onClick={this.props.closeModal}>\r\n                                <FormattedMessage id='IDS_CANCEL' defaultMessage='Cancel' />\r\n                            </Button>\r\n                            <Button className=\" btn-user btn-primary-blue\"\r\n                                //onClick={() => this.setState({ openAlertModal: true, templateName: \"\" })}\r\n                                onClick={this.validateDynamicDesign}\r\n                            >\r\n                                <FontAwesomeIcon icon={faSave} /> { }\r\n                                <FormattedMessage id={\"IDS_SAVE\"} defaultMessage={\"Save\"} />\r\n                            </Button>\r\n                        </>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"modal-inner-content\">\r\n                            <Row>\r\n                                <Col md={12} className='p-0'>\r\n                                    <DndProvider backend={device.os !== 'android' ? HTML5Backend : TouchBackend} options={{ enableMouseEvents: true }} >\r\n                                        <Dynamicinput\r\n                                            layout={this.state.design}\r\n                                            reactInputFields={this.props.Login.ReactInputFields || {}}\r\n                                            setLayout={this.setLayout}\r\n                                            reactComponents={this.props.Login.ReactComponents || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onNumericInputChange={this.onNumericInputChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            selectedFieldRecord={this.state.selectedFieldRecord}\r\n                                            onclickcomponent={(event, data, path) => this.onclickcomponent(event, data, path)}\r\n                                            ReactTables={this.props.Login.ReactTables}\r\n                                            tableColumn={this.state.tableColumn}\r\n                                            filterColumns={this.state.filterColumns}\r\n                                            numericConditions={this.state.numericConditions}\r\n                                            stringConditions={this.state.stringConditions}\r\n                                            filterData={this.props.Login.filterData}\r\n                                            inputFields={this.state.validComponents || []}\r\n                                            addChildMapping={this.addChildMapping}\r\n                                            valueMembers={this.getValueMembers(this.state.selectedFieldRecord)}\r\n                                            validateDelete={this.validateDelete}\r\n                                            addTag={this.addTag}\r\n                                            showFilter={this.state.showFilter}\r\n                                            showPropFilter={this.showPropFilter}\r\n                                            hidePropFilter={this.hidePropFilter}\r\n                                            addCondition={this.addCondition}\r\n                                            deleteCondition={this.deleteCondition}\r\n                                            dateConditions={this.state.dateConditions}\r\n                                            dateComponents={this.state.dateComponents}\r\n                                            addDateConstraints={this.addDateConstraints}\r\n                                            deleteDateCondition={this.deleteDateCondition}\r\n                                            showsynonym={this.state.showsynonym}\r\n                                            languages={this.props.Login.languageList || []}\r\n                                            addSynonym={() => this.setState({ showsynonym: !(this.state.showsynonym) })}\r\n                                            parentRadioValue={this.state.parentRadioValue || []}\r\n                                            userinfo={this.props.Login.userInfo}\r\n                                            handleDateChange={this.handleDateChange}\r\n                                            period={this.props.Login.Period || []}\r\n                                            staticfiltertables={this.props.Login.staticfiltertables}\r\n                                            staticfiltercolumn={this.state.staticfiltercolumn||[]}\r\n                                        />\r\n                                    </DndProvider>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n                <AlertModal\r\n                    openAlertModal={this.state.openAlertModal}\r\n                    modalTitle={\"IDS_ENTERTEMPLATENAME\"}\r\n                    closeModal={() => this.setState({ openAlertModal: false, templateName: \"\" })}\r\n                    onSaveClick={this.handleSaveClick}\r\n                    modalBody={\r\n                        <Row>\r\n                            <Col>\r\n                                <FormInput\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    name={\"templatename\"}\r\n                                    type=\"text\"\r\n                                    onChange={(event) => this.setState({ selectedRecord: { ...this.state.selectedRecord, templateName: event.target.value } })}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_TEMPLATENAME\" })}\r\n                                    value={this.state.selectedRecord.templateName ? this.state.selectedRecord.templateName : \"\"}\r\n                                    isMandatory={true}\r\n                                    required={true}\r\n                                    maxLength={\"30\"}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    }\r\n                />\r\n                {this.state.showConfirmAlert ? this.confirmAlert() : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let updateState = false;\r\n        let { openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n            selectedComponentpath, components, validComponents, tableColumn, filterColumns,\r\n            showConfirmAlert, parentRadioValue, showFilter } = this.state\r\n        if (this.props.Login.openPortal === false && previousProps.Login.openPortal) {\r\n            updateState = true;\r\n            openAlertModal = false;\r\n        }\r\n        if (this.props.Login.design !== previousProps.Login.design) {\r\n            updateState = true;\r\n            design = this.props.Login.design;\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.showFilter !== previousProps.Login.showFilter) {\r\n            showFilter = this.props.Login.showFilter\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.selectedFieldRecord !== previousProps.Login.selectedFieldRecord) {\r\n            if (this.props.Login.selectedComponentpath && this.props.Login.selectedComponentpath !== previousProps.Login.selectedFieldRecord) {\r\n                selectedComponentpath = this.props.Login.selectedComponentpath\r\n            }\r\n\r\n            selectedFieldRecord = this.props.Login.selectedFieldRecord\r\n            components = this.props.Login.components\r\n            validComponents = this.props.Login.validComponents\r\n            tableColumn = this.props.Login.tableColumn\r\n            filterColumns = this.props.Login.filterColumns\r\n            updateState = true;\r\n\r\n        }\r\n        if (this.props.Login.parentRadioValue !== previousProps.Login.parentRadioValue) {\r\n            parentRadioValue = this.props.Login.parentRadioValue\r\n            updateState = true;\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                openAlertModal, design, selectedRecord, selectedFieldRecord,\r\n                tableColumn, selectedComponentpath, components, validComponents,\r\n                showConfirmAlert, filterColumns, parentRadioValue, showFilter\r\n            })\r\n        }\r\n    }\r\n    showPropFilter = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                showFilter: !this.state.showFilter\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //  this.setState({ showFilter: !this.state.showFilter })\r\n    }\r\n    hidePropFilter = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                showFilter: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //  this.setState({ showFilter: !this.state.showFilter })\r\n    }\r\n    setLayout = (design, splitDropZonePath, remove, removeChild) => {\r\n        let selectedFieldRecord = {}\r\n        if (remove === undefined) {\r\n            selectedFieldRecord = getcomponentdata(design, splitDropZonePath.split(\"-\"))\r\n        }\r\n        else if (removeChild) {\r\n            let childRecord = {}\r\n            this.state.toBeDeleted.deleteComponent.child.map(myChild => {\r\n                childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                childRecord['childValue'] = undefined;\r\n                childRecord['parentPath'] = undefined;\r\n                childRecord['valuecolumn'] = undefined;\r\n\r\n                design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                return null;\r\n            })\r\n        }\r\n        design = this.updatePath(design)\r\n        // if (selectedFieldRecord.child) {\r\n        //     let childRecord = {}\r\n        //     selectedFieldRecord.child.map(myChild => {\r\n        //         childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n        //         childRecord['parentPath'] = splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0';\r\n        //         design = replaceChildFromChildren(design, splitDropZonePath.split(\"-\"), childRecord)\r\n        //         return null;\r\n        //     })\r\n        // }\r\n        // if (selectedFieldRecord.childValue) {\r\n        //     let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n        //     let newChildData = []\r\n        //     parentData.child.map(child => child.label === selectedFieldRecord.label ?\r\n        //         newChildData.push({ ...child, childPath: splitDropZonePath.split(\"-\").length === 4 ? splitDropZonePath : splitDropZonePath + '-0' }) :\r\n        //         newChildData.push(child))\r\n        //     parentData = { ...parentData, child: newChildData };\r\n        //     design = replaceChildFromChildren(design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n\r\n        // }\r\n        const components = this.getComponents(design).components;\r\n        let validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n        this.setState({ showConfirmAlert: false, toBeDeleted: {}, design, selectedFieldRecord: selectedFieldRecord, components, validComponents, selectedComponentpath: splitDropZonePath.split(\"-\").length > 1 ? splitDropZonePath : '0-0-' + splitDropZonePath })\r\n    }\r\n    updatePath = (design) => {\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if(component.inputtype!=='radio'){\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            }else{\r\n                                if (component.child) {\r\n                                    let newChild = [];\r\n                                    component.child.map(childComp => {\r\n                                        const obj = this.getIndexByLabel(design, childComp.label);\r\n                                        newChild.push({ ...childComp, childPath: obj.path });\r\n                                        const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}` };\r\n                                        design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                                    })\r\n                                    component = { ...component, child: newChild }\r\n                                    design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, compIndex], component);\r\n                                }\r\n                            }\r\n                         \r\n                        })\r\n                    } else {\r\n                        if(componnetrow.inputtype!=='radio'){\r\n                        if (componnetrow.child) {\r\n                            let newChild = [];\r\n                            componnetrow.child.map(childComp => {\r\n                                const obj = this.getIndexByLabel(design, childComp.label);\r\n                                newChild.push({ ...childComp, childPath: obj.path });\r\n                                const newObj = { ...obj.object, parentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n                                design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                            })\r\n                            componnetrow = { ...componnetrow, child: newChild }\r\n                            design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                        }\r\n                    }else{\r\n                        if (componnetrow.child) {\r\n                            let newChild = [];\r\n                            componnetrow.child.map(childComp => {\r\n                                const obj = this.getIndexByLabel(design, childComp.label);\r\n                                newChild.push({ ...childComp, childPath: obj.path });\r\n                                const newObj = { ...obj.object, radioparentPath: `${rowIndex}-${columnIndex}-${compRowIndex}-0` };\r\n                                design = replaceChildFromChildren(design, obj.path.split(\"-\"), newObj);\r\n                            })\r\n                            componnetrow = { ...componnetrow, child: newChild }\r\n                            design = replaceChildFromChildren(design, [rowIndex, columnIndex, compRowIndex, 0], componnetrow);\r\n                        }\r\n                    }\r\n                    }\r\n                })\r\n            )\r\n        )\r\n        return design;\r\n    }\r\n    getIndexByLabel(design, label) {\r\n        let obj = {};\r\n        design.map((row, rowIndex) =>\r\n            row.children.map((column, columnIndex) =>\r\n                column.children.map((componnetrow, compRowIndex) => {\r\n                    if (componnetrow.hasOwnProperty('children')) {\r\n                        componnetrow.children.map((component, compIndex) => {\r\n                            if (component.label === label) {\r\n                                obj = {\r\n                                    object: component,\r\n                                    path: `${rowIndex}-${columnIndex}-${compRowIndex}-${compIndex}`\r\n                                }\r\n                                // break;\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        if (componnetrow.label === label) {\r\n                            obj = {\r\n                                object: componnetrow,\r\n                                path: `${rowIndex}-${columnIndex}-${compRowIndex}-0`\r\n                            }\r\n                            // return obj;\r\n                            // break;\r\n                        }\r\n                    }\r\n                    return null;\r\n                })\r\n            )\r\n        )\r\n        return obj;\r\n    }\r\n    validateDelete = (design, splitDropZonePath) => {\r\n        const path = splitDropZonePath.split(\"-\")\r\n        let showAlert = false;\r\n        let toBeDeleted = {};\r\n        // let component = {}\r\n        // let row = this.state.design[path[0]]\r\n        // let column = row.children[path[1]]\r\n        // let compRow = column.children[path[2]]\r\n        // if (compRow.type === 'componentrow')\r\n        //     component = compRow.children[path[3]]\r\n        // else\r\n        //     component = compRow\r\n        let component = getcomponentdata(this.state.design, path)\r\n        if (component.child && component.child.length > 0) {\r\n\r\n            let childRecord = {}\r\n            if(component.inputtype==='radio'){\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                    delete childRecord[\"radioparentLabel\"]\r\n                    delete childRecord[\"selectedrecordbasedhide\"]\r\n                    delete childRecord[\"recordbasedhide\"]\r\n                    delete childRecord[\"radioparent\"]\r\n                    delete childRecord[\"radioparentPath\"]\r\n                    delete childRecord[\"recordbasedshowhide\"]\r\n                    delete childRecord[\"recordbasedreadonly\"]\r\n                    \r\n                   \r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            }else{\r\n                component.child.map(myChild => {\r\n                    childRecord = getcomponentdata(design, myChild.childPath.split(\"-\"))\r\n                    childRecord['childValue'] = undefined;\r\n                    childRecord['parentPath'] = undefined;\r\n                    childRecord['valuecolumn'] = undefined;\r\n                    if (myChild.componentcode !== ReactComponents.COMBO) {\r\n                        childRecord['column'] = undefined;\r\n                    }\r\n                    design = replaceChildFromChildren(design, myChild.childPath.split(\"-\"), childRecord)\r\n                    return null;\r\n                })\r\n            }\r\n         \r\n            showAlert = true;\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n            // this.showAlert(true, toBeDeleted);\r\n        }\r\n        if (component.childValue) {\r\n            let parentData = getcomponentdata(this.state.design, component.parentPath.split(\"-\"));\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.parentPath.split(\"-\"), parentData)\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n\r\n        if (component.radioparent) {\r\n            let parentData = getcomponentdata(this.state.design, component.radioparentPath.split(\"-\"));\r\n            let newChildData = parentData.child.filter(child => child.label !== component.label)\r\n            parentData = { ...parentData, child: newChildData };\r\n            design = replaceChildFromChildren(design, component.radioparentPath.split(\"-\"), parentData)\r\n            toBeDeleted = { design, splitDropZonePath, deleteComponent: component }\r\n\r\n        }\r\n        if (showAlert) {\r\n            this.showAlert(true, toBeDeleted);\r\n        }\r\n        else {\r\n            this.setLayout(design, splitDropZonePath, true)\r\n        }\r\n    }\r\n    confirmAlert = () => {\r\n        this.confirmMessage.confirm(\"Warning\", \"Warning\",\r\n            this.props.intl.formatMessage({ id: \"IDS_PARENTCOMPONENTCANNOTBEDELETED\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.setLayout(this.state.toBeDeleted.design, this.state.toBeDeleted.splitDropZonePath, true, true),\r\n            undefined,\r\n            () => this.showAlert(false));\r\n    }\r\n    showAlert = (bool, toBeDeleted) => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { showConfirmAlert: bool, toBeDeleted }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ showConfirmAlert: bool, toBeDeleted })\r\n    }\r\n    onclickcomponent = (event, data, path) => {\r\n        const selectedFieldRecord = { ...data }\r\n        const obj = this.getComponents(this.state.design);\r\n        //console.log(\"obj:\", obj);\r\n        const components = obj.components;\r\n\r\n        let dateComponents = obj.dateComponents;\r\n        if (data.inputtype === \"date\") {\r\n            const filterDataComponents = dateComponents.filter(item => item.label !== data.label);\r\n            dateComponents = filterDataComponents;\r\n        }\r\n\r\n        let componentData = { components, selectedComponentpath: path }\r\n        let parentRadioValue = []\r\n\r\n        if ((selectedFieldRecord.componentcode === ReactComponents.COMBO ||\r\n            selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n            selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) &&\r\n            selectedFieldRecord.source !== undefined &&\r\n            (this.props.Login.columnInfo === undefined ||\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] === undefined)) {\r\n            this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                selectedFieldRecord.nquerybuildertablecode, this.props.Login.userInfo,\r\n                \"\", this.props.Login.columnInfo, componentData, undefined, false)\r\n        } else {\r\n            const validComponents = getValidComponent(selectedFieldRecord, components, this.props.Login.columnInfo)\r\n            let tableColumn = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].tableColumn : [];\r\n            let filterColumns = selectedFieldRecord.nquerybuildertablecode ? this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].filterColumns : [];\r\n            if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER ||\r\n                 selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (selectedFieldRecord.radioparentPath) {\r\n                    let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                    if (oldParentData.hasOwnProperty('child')) {\r\n                        oldParentData.child.map(item => {\r\n                            if (item.label === selectedFieldRecord.label) {\r\n                                parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                    return { value: item.id, label: item.text, item }\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            }else{\r\n                if(selectedFieldRecord.radioparentPath){\r\n                    if(selectedFieldRecord.radioparentPath){\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"))\r\n                        if (oldParentData.hasOwnProperty('child')) {\r\n                            oldParentData.child.map(item => {\r\n                                if (item.label === selectedFieldRecord.label) {\r\n                                    parentRadioValue = oldParentData.radioOptions.tags.map(item => {\r\n                                        return { value: item.id, label: item.text, item }\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (selectedFieldRecord.componentcode !== ReactComponents.COMBO &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.FRONTENDSEARCHFILTER &&\r\n                selectedFieldRecord.componentcode !== ReactComponents.BACKENDSEARCHFILTER) {\r\n                if (this.props.Login.columnInfo && selectedFieldRecord.childValue\r\n                    && this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode]) {\r\n                    tableColumn = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].tableColumn;\r\n                    filterColumns = this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].filterColumns;\r\n                    this.setState({\r\n                        selectedComponentpath: path,\r\n                        selectedFieldRecord: selectedFieldRecord,\r\n                        components,\r\n                        tableColumn,\r\n                        filterColumns,\r\n                        validComponents,\r\n                        parentRadioValue,\r\n                        showFilter: false\r\n\r\n\r\n                    })\r\n                } else {\r\n                    if (selectedFieldRecord.childValue) {\r\n                        this.props.getTableColumns(this.state.design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            \"\", this.props.Login.columnInfo, componentData, undefined, false);\r\n                    } else {\r\n                        this.setState({\r\n                            selectedComponentpath: path,\r\n                            selectedFieldRecord: selectedFieldRecord,\r\n                            components,\r\n                            tableColumn,\r\n                            filterColumns,\r\n                            dateComponents,\r\n                            validComponents,\r\n                            parentRadioValue,\r\n                            showFilter: false\r\n                        })\r\n                    }\r\n                }\r\n            } else {\r\n                this.setState({\r\n                    selectedComponentpath: path,\r\n                    selectedFieldRecord: selectedFieldRecord,\r\n                    components,\r\n                    tableColumn,\r\n                    filterColumns,\r\n                    dateComponents,\r\n                    validComponents,\r\n                    parentRadioValue,\r\n                    showFilter: false\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    getComponents = (design) => {\r\n        let components = [];\r\n        let dateComponents = [{ label: \"Current Date\", value: \"utccurrentdate\" }];\r\n        design.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                column.children.map((componnet, compindex) => {\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            componnetrow.inputtype === 'date' && componnetrow.label && dateComponents.push({ label: componnetrow.label, value: componnetrow.label })\r\n                            componnetrow.label && components.push({\r\n                                label: componnetrow.label,\r\n                                value: componnetrow.label,\r\n                                // item: componnetrow,\r\n                                inputtype: componnetrow.inputtype,\r\n                                source: componnetrow.source,\r\n                                nquerybuildertablecode: componnetrow.nquerybuildertablecode,\r\n                                child: componnetrow.child,\r\n                                valuemember: componnetrow.valuemember,\r\n                                path: `${rowIndex}-${columnIndex}-${compindex}-${compRowIndex}`\r\n                            })\r\n                        })\r\n                    } else {\r\n                        componnet.inputtype === 'date' && componnet.label && dateComponents.push({ label: componnet.label, value: componnet.label })\r\n                        componnet.label && components.push({\r\n                            label: componnet.label,\r\n                            value: componnet.label,\r\n                            // item: componnet,\r\n                            inputtype: componnet.inputtype,\r\n                            source: componnet.source,\r\n                            nquerybuildertablecode: componnet.nquerybuildertablecode,\r\n                            child: componnet.child,\r\n                            valuemember: componnet.valuemember,\r\n                            path: `${rowIndex}-${columnIndex}-${compindex}-0`\r\n                        })\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        return { components, dateComponents };\r\n    }\r\n    getValueMembers = (selectedFieldRecord) => {\r\n        if (selectedFieldRecord.childValue) {\r\n            let valueColumn = [];\r\n            this.props.Login.columnInfo &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode] &&\r\n                this.props.Login.columnInfo[selectedFieldRecord.nquerybuildertablecode].numericColumns.map(x => {\r\n                    if (x.foriegntablename === selectedFieldRecord.childValue.source)\r\n                        valueColumn.push(\r\n                            {\r\n                                label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                value: x.tablecolumnname\r\n                            }\r\n                        )\r\n                    return null;\r\n                })\r\n            if (valueColumn.length) {\r\n\r\n                return valueColumn;\r\n\r\n            } else {\r\n                this.props.Login.columnInfo &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode] &&\r\n                    this.props.Login.columnInfo[selectedFieldRecord.childValue.nquerybuildertablecode].numericColumns.map(x => {\r\n                        if (x.foriegntablename === selectedFieldRecord.source)\r\n                            valueColumn.push(\r\n                                {\r\n                                    label: x.displayname[this.props.Login.userInfo.slanguagetypecode],\r\n                                    value: x.tablecolumnname\r\n                                }\r\n                            )\r\n                        return null;\r\n                    })\r\n                return valueColumn;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    onInputOnChange = (event, name) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n\r\n\r\n            if (name === \"recordbasedreadonly\" || name === \"recordbasedshowhide\") {\r\n                let design = this.state.design\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                if (selectedFieldRecord[\"recordbasedshowhide\"] || selectedFieldRecord[\"recordbasedreadonly\"]) {\r\n                    // let design = this.state.design\r\n                    if (selectedFieldRecord.radioparentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), oldParentData)\r\n                        }\r\n                        delete selectedFieldRecord[\"radioparentLabel\"]\r\n                        delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                        delete selectedFieldRecord[\"recordbasedhide\"]\r\n                        delete selectedFieldRecord[\"radioparent\"]\r\n                    }\r\n                    selectedFieldRecord[name === \"recordbasedreadonly\" ? \"recordbasedshowhide\" : \"recordbasedreadonly\"] = false;\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (event.target.name === \"loadselecteddate\" || event.target.name === \"loadcurrentdate\") {\r\n\r\n                if (event.target.name === \"loadselecteddate\" && selectedFieldRecord['loadcurrentdate']) {\r\n                    selectedFieldRecord['loadcurrentdate'] = false\r\n                } else if (event.target.name === \"loadcurrentdate\" && selectedFieldRecord['loadselecteddate']) {\r\n                    selectedFieldRecord['loadselecteddate'] = false\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }else if(event.target.name ===\"unique\"){\r\n            //     const design = this.state.design\r\n            //  let listUnique=[]\r\n            //  if(event.target.checked){\r\n            //     design && design.map(row => {\r\n            //         return  row.children.map(column => {\r\n            //              return column.children.map(component => {\r\n            //                   if (component.hasOwnProperty(\"children\")) {\r\n            //                      return component.children.map(componentrow => {\r\n            //                        if(componentrow.unique){\r\n            //                         listUnique.push(componentrow.unique)\r\n            //                        }\r\n            //                       }) \r\n            //                   }\r\n            //                   else {\r\n            //                     if(component.unique){\r\n            //                         listUnique.push(component.unique)\r\n            //                     }\r\n            //                   }\r\n            //               }\r\n            //               )\r\n            //           })\r\n            //       })   \r\n            //     }\r\n            //       if(listUnique.length===0){\r\n            //         selectedFieldRecord[event.target.name] = event.target.checked;\r\n            //         this.saveComponentProperties(selectedFieldRecord)\r\n\r\n            //       }else{\r\n            //           toast.info(\"Unique Must Be One Field\")\r\n            //           selectedFieldRecord[event.target.name] = false;\r\n            //         this.saveComponentProperties(selectedFieldRecord)\r\n            //         //  this.setState({design})\r\n            //       }\r\n\r\n            selectedFieldRecord[event.target.name] = event.target.checked;\r\n            this.saveComponentProperties(selectedFieldRecord)\r\n        }\r\n\r\n            else {\r\n                if (event.target.name === 'timeonly') {\r\n                    selectedFieldRecord['dateonly'] = false;\r\n                }\r\n                if (event.target.name === 'dateonly') {\r\n                    selectedFieldRecord['timeonly'] = false;\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.checked;\r\n                this.saveComponentProperties(selectedFieldRecord)\r\n            }\r\n        }\r\n        else {\r\n            if (name === 'synonym') {\r\n               \r\n                selectedFieldRecord['displayname'] = {\r\n                    ...selectedFieldRecord['displayname'],\r\n                    [event.target.name]: event.target.value\r\n                  \r\n                }\r\n            }\r\n            if (event.target.name === 'label') {\r\n                    const langArray =  this.props.Login.languageList;\r\n                    const langDataObject = {};\r\n                    langArray.map(item=>\r\n                        langDataObject[item.value] = event.target.value);\r\n\r\n                    selectedFieldRecord['displayname'] = {\r\n                        ...selectedFieldRecord['displayname'],\r\n                       ...langDataObject\r\n                }\r\n                selectedFieldRecord[event.target.name] = event.target.value;\r\n            } else {\r\n                selectedFieldRecord[event.target.name] = event.target.value;\r\n            }\r\n            this.saveComponentProperties(selectedFieldRecord)\r\n        }\r\n\r\n    }\r\n    onNumericInputChange = (event, columnname) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        let value = event.target.value;\r\n        if (!isNaN(value)) {\r\n            // if (parseInt(value) < 10) {\r\n            selectedFieldRecord[event.target.name] = value;\r\n            this.saveComponentProperties(selectedFieldRecord);\r\n            // }\r\n        }\r\n    }\r\n    handleDateChange = (dateValue, dateName) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n        selectedFieldRecord[dateName] = dateValue\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n    }\r\n\r\n    onComboChange = (comboData, comboName) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        if (selectedFieldRecord.label) {\r\n            if (comboName === 'table') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['source'] = comboData.item.stablename;\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['conditionstring'] = ' and nformcode = ' + comboData.item.nformcode\r\n                }\r\n                selectedFieldRecord['nquerybuildertablecode'] = comboData.value;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (selectedFieldRecord.inputtype === 'frontendsearchfilter' || selectedFieldRecord.inputtype === 'backendsearchfilter') {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo, { validComponents: this.state.validComponents })\r\n                } else {\r\n                    this.props.getTableColumns(design, selectedFieldRecord, comboData.value,\r\n                        this.props.Login.userInfo, splititemarray, this.props.Login.columnInfo)\r\n                }\r\n\r\n            } else if (comboName === 'column') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['displaymember'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            } else if (comboName === 'childValue') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    if (selectedFieldRecord.parentPath) {\r\n                        let oldParentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                        if (oldParentData.child) {\r\n                            let newChildData1 = oldParentData.child.filter(child => child.label !== selectedFieldRecord.label);\r\n                            oldParentData = { ...oldParentData, child: newChildData1 };\r\n                            design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), oldParentData)\r\n                        }\r\n\r\n                    }\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    selectedFieldRecord['parentPath'] = comboData.path\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        selectedFieldRecord['parentLabel'] = comboData.label\r\n                    }\r\n\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions.length === 1) {\r\n\r\n                            const foriegntablePK=getChildComponentForeignKey(selectedFieldRecord,comboData,this.props.Login.columnInfo);\r\n                            newChildData.push({ label: selectedFieldRecord.label, foriegntablePK:foriegntablePK,tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath })\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else if (selectedFieldRecord.componentcode === ReactComponents.FRONTENDSEARCHFILTER || selectedFieldRecord.componentcode === ReactComponents.BACKENDSEARCHFILTER) {\r\n                        let parentRadioValue = this.state.parentRadioValue || []\r\n                        parentRadioValue = parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                        this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n                    }\r\n                    else {\r\n                        this.props.getTableColumns(design, selectedFieldRecord,\r\n                            selectedFieldRecord.childValue.nquerybuildertablecode, this.props.Login.userInfo,\r\n                            splititemarray, this.props.Login.columnInfo,\r\n                            { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                            true)\r\n                    }\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['childValue'] = comboData\r\n                    if (selectedFieldRecord.componentcode !== ReactComponents.COMBO)\r\n                        selectedFieldRecord['column'] = comboData\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === 'valuecolumn') {\r\n                selectedFieldRecord['valuecolumn'] = comboData;\r\n                let parentData = getcomponentdata(this.state.design, selectedFieldRecord.parentPath.split(\"-\"));\r\n                let newChildData = []\r\n                parentData.child.map(child => {\r\n                    if (child.label === selectedFieldRecord.label) {\r\n                        newChildData.push({\r\n                            ...child, tablecolumnname: comboData.value\r\n                        })\r\n                    } else {\r\n                        newChildData.push(child)\r\n                    }\r\n                    return null;\r\n                })\r\n                parentData = { ...parentData, child: newChildData };\r\n                let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.parentPath.split(\"-\"), parentData)\r\n                const newdata = { ...selectedFieldRecord }\r\n                design = replaceChildFromChildren(design, this.state.selectedComponentpath.split(\"-\"), newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            } else if (comboName === 'filtercolumn') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord.filtervalue = \"\";\r\n                selectedFieldRecord.staticfiltervalue = \"\";\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                if (comboData.type !== 'numeric') {\r\n                    this.setState({ design, selectedFieldRecord });\r\n                } else {\r\n                    this.props.getForeignTableData(design, selectedFieldRecord, '', this.props.Login.userInfo,\r\n                        splititemarray, this.props.Login.columnInfo,\r\n                        { components: this.state.components, selectedComponentpath: this.state.selectedComponentpath },\r\n                        true)\r\n                }\r\n\r\n            } else if (comboName === 'customsearchfilter') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['filterfields'] = [];\r\n                this.state.selectedFieldRecord[comboName].map(data => {\r\n                    return selectedFieldRecord['filterfields'].push(data.item['item'] ? {type:data.type,...data.item['item']} : data.item);\r\n                });\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'selectedrecordbasedhide') {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                selectedFieldRecord['recordbasedhide'] = comboData.value;\r\n                if (comboData.item.ismultilingual) {\r\n                    selectedFieldRecord['isMultiLingual'] = true;\r\n                }\r\n                if (comboData.item.stablename === 'dynamicmaster') {\r\n                    selectedFieldRecord['name'] = comboData.value\r\n                }\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord })\r\n            }\r\n            else if (comboName === 'radioparent') {\r\n                if (comboData) {\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    let design = this.state.design\r\n                    let parentData = getcomponentdata(design, comboData.path.split(\"-\"));\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                    selectedFieldRecord['radioparentPath'] = comboData.path\r\n                    selectedFieldRecord['radioparentLabel'] = comboData.label\r\n                    delete   selectedFieldRecord['recordbasedhide']\r\n                   delete selectedFieldRecord[\"selectedrecordbasedhide\"]\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    let newChildData = parentData.child || [];\r\n                    let validateChild = newChildData.filter(x => x.label === selectedFieldRecord.label)\r\n                    if (validateChild.length === 0) {\r\n                        let valueMemberOptions = this.getValueMembers(selectedFieldRecord);\r\n                        if (valueMemberOptions !== null && valueMemberOptions.length === 1) {\r\n                            newChildData.push({ label: selectedFieldRecord.label, tablecolumnname: valueMemberOptions[0].value, childPath: this.state.selectedComponentpath })\r\n                        } else {\r\n                            newChildData.push({ label: selectedFieldRecord.label, childPath: this.state.selectedComponentpath })\r\n                        }\r\n\r\n                    }\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    design = replaceChildFromChildren(design, comboData.path.split(\"-\"), parentData)\r\n                        let parentRadioValue = this.state.parentRadioValue || []\r\n                        parentRadioValue = parentData.radioOptions && \r\n                                         parentData.radioOptions.tags.map(item => {\r\n                            return { value: item.id, label: item.text, item }\r\n                        })\r\n                        this.setState({ design, selectedFieldRecord, parentRadioValue });\r\n\r\n                } else {\r\n\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n\r\n                    let parentData = getcomponentdata(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"));\r\n                    let newChildData = parentData.child.filter(child => child.label !== selectedFieldRecord.label)\r\n                    parentData = { ...parentData, child: newChildData };\r\n                    let design = replaceChildFromChildren(this.state.design, selectedFieldRecord.radioparentPath.split(\"-\"), parentData)\r\n                    selectedFieldRecord['radioparent'] = comboData\r\n                        selectedFieldRecord['selectedrecordbasedhide'] = comboData\r\n                    delete selectedFieldRecord['recordbasedhide']\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    design = replaceChildFromChildren(design, splititemarray, newdata)\r\n                    if (selectedFieldRecord.componentcode === ReactComponents.COMBO) {\r\n                        this.setState({ design, selectedFieldRecord });\r\n                    } else {\r\n                        this.setState({ design, selectedFieldRecord, tableColumn: [] })\r\n                    }\r\n                }\r\n\r\n            } else if (comboName === \"period\") {\r\n                if(comboData){\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    selectedFieldRecord['nperiodcode'] = comboData.value\r\n                    selectedFieldRecord['nperioddata'] = comboData.item.ndata\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                }else{\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete selectedFieldRecord['nperiodcode']\r\n                    delete selectedFieldRecord['nperioddata']\r\n                    delete   selectedFieldRecord['windowperiod']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord });\r\n                }\r\n             \r\n            }\r\n            else if(comboName === \"staticfiltertable\"){\r\n                if(comboData){\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    const list=JSON.parse(comboData.item.jsondata.value).jcolumnname\r\n                    const staticfiltercolumn=list.map(x=>{\r\n                        \r\n                       // x['displayname']= x['displayname'][this.props.Login.userInfo.slanguagetypecode]\r\n                        return {label: x['displayname'][this.props.Login.userInfo.slanguagetypecode],value:x['displayname'][this.props.Login.userInfo.slanguagetypecode],item:x};\r\n                    })\r\n\r\n                    this.setState({ design, selectedFieldRecord,staticfiltercolumn });\r\n                }else{\r\n                    selectedFieldRecord[comboName] = comboData;\r\n                    delete   selectedFieldRecord['staticfiltercolumn']\r\n                    const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                    const newdata = { ...selectedFieldRecord }\r\n                    const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                    this.setState({ design, selectedFieldRecord,staticfiltercolumn:[] });\r\n                }\r\n            }\r\n            else {\r\n                selectedFieldRecord[comboName] = comboData;\r\n                const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n                const newdata = { ...selectedFieldRecord }\r\n                const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n                this.setState({ design, selectedFieldRecord });\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERLABEL\" }))\r\n        }\r\n\r\n    }\r\n    addTag = (tags) => {\r\n        const selectedFieldRecord = this.state.selectedFieldRecord || {};\r\n\r\n        selectedFieldRecord['radioOptions'] = tags;\r\n        this.saveComponentProperties(selectedFieldRecord);\r\n\r\n    }\r\n    addCondition = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        let filterValue;\r\n        let conditionString;\r\n        let conditionArrayString;\r\n        let selectedStaticfiltertable={}\r\n        if(selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition'] \r\n        && (selectedFieldRecord['staticfiltercolumn'] || selectedFieldRecord['staticfiltercolumn'])){\r\n            selectedStaticfiltertable=JSON.parse(selectedFieldRecord[\"staticfiltertable\"].item.jsondata.value) \r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n                     \r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.selectedFieldRecord.staticfiltercolumn.item.columnname  }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.foriegntablePK;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltercolumn.label, value: selectedFieldRecord.staticfiltercolumn.item.columnname }\r\n        \r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = P$\"+selectedStaticfiltertable.jtablename.tablename +\".\"+ filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" P$\"+selectedStaticfiltertable.jtablename.tablename +\".\"+ filterValue.value + \"$P\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" like 'P$\"+selectedStaticfiltertable.jtablename.tablename +\".\"+ filterValue.value + \"$P\" + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" like '%P$\"+selectedStaticfiltertable.jtablename.tablename +\".\"+ filterValue.value + \"$P'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" like '%P$\"+selectedStaticfiltertable.jtablename.tablename +\".\"+ filterValue.value + \"$P%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                // case condition.CONTAINS:\r\n                //     conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                // case condition.NOTCONTAINS:\r\n                //     conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                //     conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                //     break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                staticfiltertable:\"\",\r\n                nsystemconfiguration:false,\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                staticfiltercolumn:\"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n\r\n        }\r\n        else if (selectedFieldRecord[\"filtercolumn\"] && selectedFieldRecord['condition'] \r\n        && (selectedFieldRecord['staticfiltervalue'] || selectedFieldRecord['filtervalue'])) {\r\n\r\n            switch (selectedFieldRecord[\"filtercolumn\"].type) {\r\n                case 'static': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.columnname;\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'dynamic': {\r\n                    filterColumnName = \" and jsondata->>'\" + selectedFieldRecord.filtercolumn.item.columnname + \"'\";\r\n                    filterValue = { label: selectedFieldRecord.staticfiltervalue, value: selectedFieldRecord.staticfiltervalue }\r\n                    break;\r\n                }\r\n                case 'numeric': {\r\n                    filterColumnName = \" and \" + selectedFieldRecord.filtercolumn.item.foriegntablePK;\r\n                    filterValue = selectedFieldRecord.filtervalue\r\n                    break;\r\n                }\r\n                default:\r\n                    break;\r\n            }\r\n            switch (selectedFieldRecord[\"condition\"].value) {\r\n                case condition.EQUALS:\r\n                    conditionString = filterColumnName + \" = '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.NOTEQUALS:\r\n                    conditionString = filterColumnName + \" != '\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" = \" + filterValue.label\r\n                    break;\r\n                case condition.STARTSWITH:\r\n                    conditionString = filterColumnName + \" like '\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Starts With \" + filterValue.label\r\n                    break;\r\n                case condition.ENDSWITH:\r\n                    conditionString = filterColumnName + \" like '%\" + filterValue.value + \"'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \"Ends With \" + filterValue.label\r\n                    break;\r\n                case condition.INCLUDES:\r\n                    conditionString = filterColumnName + \" like '%\" + filterValue.value + \"%'\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" Contains \" + filterValue.label\r\n                    break;\r\n                case condition.CONTAINS:\r\n                    conditionString = filterColumnName + \" in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                case condition.NOTCONTAINS:\r\n                    conditionString = filterColumnName + \" not in (\" + filterValue.map(x => x.value).join(',') + \" )\"\r\n                    conditionArrayString = selectedFieldRecord.filtercolumn.label + \" not in (\" + filterValue.map(x => x.label).join(',') + \" )\"\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            let conditionArrayUI = selectedFieldRecord.conditionArrayUI || [];\r\n            let conditionArraySQL = selectedFieldRecord.conditionArraySQL || [];\r\n            conditionArrayUI.push(conditionArrayString);\r\n            conditionArraySQL.push(conditionString);\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                filtercolumn: \"\",\r\n                condition: \"\",\r\n                staticfiltervalue: undefined,\r\n                filtervalue: \"\",\r\n                conditionArrayUI,\r\n                conditionArraySQL,\r\n                nsystemconfiguration:false,\r\n                staticfiltercolumn:\"\"\r\n            }\r\n\r\n            selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        } else {\r\n            return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord, staticfiltercolumn:\"\" });\r\n    }\r\n    deleteCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let conditionArrayUI = selectedFieldRecord.conditionArrayUI;\r\n        let conditionArraySQL = selectedFieldRecord.conditionArraySQL;\r\n        conditionArrayUI.splice(index, 1);\r\n        conditionArraySQL.splice(index, 1);\r\n        selectedFieldRecord['conditionArrayUI'] = conditionArrayUI;\r\n        selectedFieldRecord['conditionArraySQL'] = conditionArraySQL;\r\n        selectedFieldRecord['conditionstring'] = conditionArraySQL.join(\" \");\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    addDateConstraints = () => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let filterColumnName;\r\n        if (selectedFieldRecord['condition'] && selectedFieldRecord['filtervalue']) {\r\n            filterColumnName = selectedFieldRecord.filtervalue.value;\r\n            let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI || [];\r\n            let dateConstraintArraySQL = selectedFieldRecord.cdateConstraintArraySQL || [];\r\n            dateConstraintArrayUI.push(selectedFieldRecord.label + ' ' + selectedFieldRecord['condition'].label + ' ' + selectedFieldRecord['filtervalue'].label);\r\n            dateConstraintArraySQL.push({ parentdate: selectedFieldRecord.label, constraint: selectedFieldRecord['condition'].value, childdate: filterColumnName });\r\n            selectedFieldRecord = {\r\n                ...selectedFieldRecord,\r\n                condition: \"\",\r\n                filtervalue: \"\",\r\n                dateConstraintArrayUI,\r\n                dateConstraintArraySQL\r\n            }\r\n            const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n            const newdata = { ...selectedFieldRecord }\r\n            const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n            this.setState({ design, selectedFieldRecord });\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALUES\" }))\r\n        }\r\n    }\r\n    deleteDateCondition = (index) => {\r\n        let { selectedFieldRecord } = this.state;\r\n        let dateConstraintArrayUI = selectedFieldRecord.dateConstraintArrayUI;\r\n        let dateConstraintArraySQL = selectedFieldRecord.dateConstraintArraySQL;\r\n        dateConstraintArrayUI.splice(index, 1);\r\n        dateConstraintArraySQL.splice(index, 1);\r\n        selectedFieldRecord['dateConstraintArrayUI'] = dateConstraintArrayUI;\r\n        selectedFieldRecord['dateConstraintArraySQL'] = dateConstraintArraySQL;\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord });\r\n    }\r\n    saveComponentProperties = (selectedFieldRecord) => {\r\n        const splititemarray = this.state.selectedComponentpath.split(\"-\")\r\n        // const selectedFieldRecord = this.state.selectedFieldRecord;\r\n        const newdata = { ...selectedFieldRecord }\r\n        const design = replaceChildFromChildren(this.state.design, splititemarray, newdata)\r\n        this.setState({ design, selectedFieldRecord })\r\n    }\r\n    handleSaveClick = (saveType) => {\r\n        if (this.state.selectedRecord.templateName && this.state.selectedRecord.templateName !== \"\") {\r\n            let inputData = [];\r\n            let selectedId = null;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            let dataState = undefined;\r\n            // let valid = this.validateTemplate(this.state.design);\r\n            // if (!valid) {\r\n            //     return null;\r\n            // }\r\n            if (this.props.Login.operation === \"update\") {\r\n                // edit\r\n                selectedId = this.state.selectedRecord.nchecklistqbcode\r\n                dataState = this.state.dataState\r\n                inputData[\"registrationtemplate\"] = {\r\n                    nreactregtemplatecode: this.props.Login.masterData.selectedTemplate.nreactregtemplatecode,\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templateName,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    jsondata: this.state.design,\r\n                    ntransactionstatus: transactionStatus.DRAFT\r\n                }\r\n            }\r\n            else {\r\n                //add               \r\n                inputData[\"registrationtemplate\"] =\r\n                {\r\n                    nsampletypecode: this.props.nsampletypecode,\r\n                    sregtemplatename: this.state.selectedRecord.templateName,\r\n                    jsonString: JSON.stringify(this.state.design),\r\n                    ntransactionstatus: transactionStatus.DRAFT\r\n                };\r\n            }\r\n            const postParam = {\r\n                inputListName: \"RegistrationTemplate\",\r\n                selectedObject: \"selectedTemplate\",\r\n                primaryKeyField: \"nreactregtemplatecode\",\r\n                fetchUrl: \"dynamicpreregdesign/getRegistrationTemplateById\",\r\n                fecthInputObject: {\r\n                    userinfo: this.props.Login.userInfo, nsampletypecode: this.props.nsampletypecode\r\n                },\r\n                masterData: this.props.Login.masterData\r\n            }\r\n            const inputParam = {\r\n                methodUrl: 'RegistrationTemplate',\r\n                classUrl: 'dynamicpreregdesign',\r\n                displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n                inputData: inputData, postParam,\r\n                searchRef: this.props.searchRef,\r\n                operation: this.props.Login.operation,\r\n                saveType, dataState, selectedId\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openPortal\");\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERTEMPLATENAME\" }))\r\n        }\r\n    }\r\n    validateTemplate = (template) => {\r\n\r\n        let invalidComponent = [];\r\n        let duplicateComponents = [];\r\n        let insufficientMultilingualData = [];\r\n        //let invalidComboComponent = [];\r\n        // let invalidRadioComponent = [];\r\n        // let invalidCheckboxComponent = [];\r\n        //let invalidReadOnlyComponent = [];\r\n        let incompletePropertiesComponent = [];\r\n        let labels = [];\r\n        template.map((row, rowIndex) => {\r\n            row.children.map((column, columnIndex) => {\r\n                column.children.map((componnet, compindex) => {\r\n\r\n                    if (componnet.hasOwnProperty(\"children\")) {\r\n                        componnet.children.map((componnetrow, compRowIndex) => {\r\n                            if (!componnetrow.hasOwnProperty('label') || componnetrow.label.trim() === '') {\r\n                                invalidComponent.push(componnetrow)\r\n                            }\r\n                            if (labels.includes(componnetrow.label)) {\r\n                                duplicateComponents.push(componnetrow)\r\n                            } else {\r\n                                if(componnetrow.label!==undefined)\r\n                                labels.push(componnetrow.label);\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.COMBO) {\r\n                                if ((!componnetrow.hasOwnProperty('source') ) &&\r\n                                    (!componnetrow.hasOwnProperty('displaymember') )) {\r\n                                    incompletePropertiesComponent.push(componnetrow)\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.CHECKBOX) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length === 0))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.RADIO) {\r\n                                if ((!componnetrow.hasOwnProperty('radioOptions') || (componnetrow.radioOptions && componnetrow.radioOptions.tags.length < 2))) {\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.TEXTINPUT \r\n                                || componnetrow.componentcode === ReactComponents.TEXTAREA) {\r\n                                if (componnetrow.hasOwnProperty('readonly')) {\r\n                                    if(componnet.name&&componnet.name==='Age'){\r\n                                    if (!componnetrow.hasOwnProperty('displaymember') ) {\r\n                                        incompletePropertiesComponent.push(componnetrow);\r\n                                    }else{\r\n                                        if(componnetrow.displaymember.trim===''){\r\n                                            incompletePropertiesComponent.push(componnetrow);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                }\r\n                                else{\r\n                                    if (!componnetrow.hasOwnProperty('sfieldlength') || componnetrow.sfieldlength.trim() === '') {\r\n                                        incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                              \r\n                            }\r\n                                \r\n                            }\r\n                            if (!componnetrow.hasOwnProperty('displayname') || Object.keys(componnetrow.displayname).length !== this.props.Login.languageList.length) {\r\n                                insufficientMultilingualData.push(componnetrow);\r\n                            }\r\n                            if(componnetrow.recordbasedshowhide||componnetrow.recordbasedreadonly){\r\n                                if(!(componnetrow.radioparent&&componnetrow.selectedrecordbasedhide)){\r\n                                    incompletePropertiesComponent.push(componnetrow);\r\n                                }\r\n                             \r\n                            }\r\n                            if (componnetrow.componentcode === ReactComponents.DATE) {\r\n                                if (componnetrow.period ) {\r\n                                    if(!componnetrow.windowperiod){\r\n                                        incompletePropertiesComponent.push(componnetrow)\r\n                                    }\r\n                                  \r\n                                }\r\n                            }\r\n                        })\r\n                    } else {\r\n                        if (!componnet.hasOwnProperty('label') || componnet.label.trim() === '') {\r\n                            invalidComponent.push(componnet)\r\n                        }\r\n                        if (labels.includes(componnet.label)) {\r\n                            duplicateComponents.push(componnet)\r\n                        } else {\r\n                            if(componnet.label!==undefined)\r\n                            labels.push(componnet.label);\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.COMBO) {\r\n                            if ((!componnet.hasOwnProperty('source') ) &&\r\n                                (!componnet.hasOwnProperty('displaymember') )) {\r\n                                incompletePropertiesComponent.push(componnet)\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.CHECKBOX) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length === 0))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.RADIO) {\r\n                            if ((!componnet.hasOwnProperty('radioOptions') || (componnet.radioOptions && componnet.radioOptions.tags.length < 2))) {\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                        }\r\n                        if (componnet.componentcode === ReactComponents.TEXTINPUT || componnet.componentcode === ReactComponents.TEXTAREA) {\r\n                            if (componnet.hasOwnProperty('readonly')) {\r\n                                if(componnet.name&&componnet.name==='Age'){\r\n                                    if (!componnet.hasOwnProperty('displaymember')) {\r\n                                        incompletePropertiesComponent.push(componnet);\r\n                                    }else{\r\n                                        if(componnet.displaymember.trim===''){\r\n                                            incompletePropertiesComponent.push(componnet);\r\n                                        }\r\n                                    }\r\n                                }\r\n                               \r\n                            }\r\n                            else{\r\n                                if (!componnet.hasOwnProperty('sfieldlength') || componnet.sfieldlength.trim() === '') {\r\n                                    incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                            }\r\n                            \r\n                            \r\n                        }\r\n                        if (!componnet.hasOwnProperty('displayname') || Object.keys(componnet.displayname).length !== this.props.Login.languageList.length) {\r\n                            insufficientMultilingualData.push(componnet);\r\n                        }\r\n                        if(componnet.recordbasedshowhide||componnet.recordbasedreadonly){\r\n                            if(!(componnet.radioparent&&componnet.selectedrecordbasedhide)){\r\n                                incompletePropertiesComponent.push(componnet);\r\n                            }\r\n                         \r\n                        }\r\n\r\n                        if (componnet.componentcode === ReactComponents.DATE) {\r\n                            if (componnet.period ) {\r\n                                if(!componnet.windowperiod){\r\n                                    incompletePropertiesComponent.push(componnet)\r\n                                }\r\n                              \r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                return null;\r\n            })\r\n            return null;\r\n        })\r\n        if (duplicateComponents.length > 0) {\r\n            const dataArray = [];\r\n            duplicateComponents.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_DUPLICATECOMPONENTSFOUND' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (invalidComponent.length > 0) {\r\n            const dataArray = [];\r\n            invalidComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_MISSINGCOMPONENTLABEL' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (insufficientMultilingualData.length > 0) {\r\n            const dataArray = [];\r\n            insufficientMultilingualData.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INSUFFICIENTMULTILINGUALDATA' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        if (incompletePropertiesComponent.length > 0) {\r\n            const dataArray = [];\r\n            incompletePropertiesComponent.map(item => dataArray.push(item.label));\r\n            toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCOMPONENT' }) + dataArray.join(\",\"));\r\n            return false;\r\n        }\r\n        // if (invalidRadioComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidRadioComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDRADIOCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidCheckboxComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidCheckboxComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDCHECKBOXCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        // if (invalidReadOnlyComponent.length > 0) {\r\n        //     //console.log(\"invalidComponent:\", invalidComponent);\r\n        //     const dataArray = [];\r\n        //     invalidReadOnlyComponent.map(item => dataArray.push(item.label));\r\n        //     toast.warn(this.props.intl.formatMessage({ id: 'IDS_INVALIDREADONLYCOMPONENT' })  + dataArray.join(\",\") );\r\n        //     return false;\r\n        // }\r\n        return true;\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { updateStore, crudMaster, getTableColumns, getForeignTableData })(injectIntl(PreRegDesignPopUp))"]},"metadata":{},"sourceType":"module"}