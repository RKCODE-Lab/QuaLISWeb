{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Card,Nav,Button}from'react-bootstrap';import{toast}from'react-toastify';import{constructOptionList,getControlMap,onSaveMandatoryValidation,searchData,searchJsonData,showEsign,sortData}from'../../components/CommonScript';//import SortableTree from 'react-sortable-tree'; \nimport DataGrid from'../../components/data-grid/data-grid.component';import{Utils as QbUtils}from\"@react-awesome-query-builder/ui\";import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,updateStore,validateEsignCredentialStorage}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';// import { initRequest } from \"../../actions/LoginAction\";\nimport{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';import{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';import rsapi from'../../rsapi';import AddSampleStorageMapping from'./AddSampleStorageMapping';import Axios from'axios';import StorageMappingFilter from'./StorageMappingFilter';import Preloader from'../../components/preloader/preloader.component';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';import{process}from'@progress/kendo-data-query';//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\nimport MatrixComponent from'../../components/MatrixComponent';import{ReactComponent as RefreshIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\";//   import { Upload } from '@progress/kendo-react-upload';\n//   import * as XLSX from 'xlsx';\nvar SampleStorageMapping=/*#__PURE__*/function(_Component){_inherits(SampleStorageMapping,_Component);var _super=_createSuper(SampleStorageMapping);function SampleStorageMapping(props){var _this;_classCallCheck(this,SampleStorageMapping);_this=_super.call(this,props);_this.dragOverCnt=0;_this.isDragDrop=false;_this.SEPARATOR='_';_this.uniqueIDArr=[];_this.countforTree=0;_this.pointedItem=undefined;_this.getitemPath={};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{sampleStorageMappingOpenModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var sampleStorageMappingOpenModal=_this.state.sampleStorageMappingOpenModal;//let selectedId = this.props.Login.selectedId;\nvar selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nvar operation=_this.state.operation;if(_this.props.Login.loadEsign){if(operation===\"delete\"||operation===\"approve\"){loadEsign=false;sampleStorageMappingOpenModal=false;selectedRecord={};//selectedId = null;\noperation=undefined;}else{loadEsign=false;}selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{sampleStorageMappingOpenModal:sampleStorageMappingOpenModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null,operation:operation}};_this.props.updateStore(updateInfo);}else{sampleStorageMappingOpenModal=false;//selectedId = null;\nselectedRecord={};}// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { openModal, loadEsign, selectedRecord, selectedId }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({selectedRecord:selectedRecord,sampleStorageMappingOpenModal:sampleStorageMappingOpenModal,loadEsign:loadEsign,isInitialRender:true});};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else if(_this.state.openSpreadSheet){_this.CRUDSampleStorageMapping(_objectSpread(_objectSpread({},_this.state.editedsheetData),{},{nsamplestoragemappingcode:_this.state.isMultiSampleAdd?Object.keys(_this.state.sheetData).map(function(nsamplestoragemappingcode){return nsamplestoragemappingcode;}).join(\",\"):_this.state.editedsheetData.nsamplestoragemappingcode.toString(),nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,sheetData:JSON.stringify(_this.state.sheetData?_this.state.sheetData:{}),sheetUpdate:true,userinfo:_this.props.Login.userInfo,isMultiSampleAdd:_this.state.isMultiSampleAdd}),'update');}else{_this.onSaveSampleStorageMapping(saveType,formRef);}};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.reloadData=function(){_this.searchRef.current.value=\"\";_this.setState({loading:true});var inputParamData={nstoragecategorycode:_this.state.filterData&&_this.state.filterData[0]['nfilterStorageCategory']?_this.state.filterData[0]['nfilterStorageCategory']:0,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var object={selectedStorageCategoryName:_this.state.filterData[0]['nfilterStorageCategory'].value,nfilterStorageCategory:_this.state.filterData[0]['nfilterStorageCategory']// ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n// selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n};var filterData=_this.generateBreadCrumData(object);_this.setState({filterData:filterData,masterData:_objectSpread(_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),{},{searchedData:undefined//   sampleStoragemapping: response[0].data['sampleStoragemapping'],\n}),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageMapping=function(addId){_this.addSampleStorageMapping({userInfo:_this.props.Login.userInfo,addId:addId});};_this.handleClickDelete=function(deleteParam){//this.props.deleteRecord(deleteParam);\n_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deletesamplestoragemapping(deleteParam);});};_this.deletesamplestoragemapping=function(param){if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.state.controlMap.has(\"DeletesampleStorageMapping\")&&_this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode)){var masterData=_this.state.masterData||{};var inputParam={methodUrl:\"SampleStorageMapping\",// operation: this.props.Login.operation || this.state.operation,\noperation:\"delete\",classUrl:\"samplestoragemapping\",inputData:{'nsamplestoragelocationcode':masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,'nsamplestoragemappingcode':param.nsamplestoragemappingcode,userinfo:_this.props.Login.userInfo}};var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,sampleStorageMappingOpenModal:true,operation:\"delete\",screenData:{inputParam:inputParam,masterData:masterData}}};_this.props.updateStore(updateInfo);}else{_this.CRUDSampleStorageMapping({'nsamplestoragelocationcode':_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,'nsamplestoragemappingcode':param.nsamplestoragemappingcode,userinfo:_this.props.Login.userInfo},'delete');}};_this.addMultipleSample=function(param){_this.setState({//sheetData: JSON.parse(response[0].data.sheetData),\nsampleStorageMappingOpenModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false});};_this.importdata=function(){_this.setState({sampleStorageMappingOpenModal:true,importdata:true});};_this.addSample=function(param,nflag){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getsamplestoragemappingSheetData\",{isMultiSampleAdd:nflag===2?true:false,nsamplestoragemappingcode:nflag===2?_this.state.masterData.sampleStoragemapping.map(function(item){return item.nsamplestoragemappingcode;}).join(\",\"):param.nsamplestoragemappingcode.toString()});urlArray=[url1];Axios.all(urlArray).then(function(response){if(nflag===2){_this.setState({sheetData:JSON.parse(response[0].data.sheetData),sampleStorageMappingOpenModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false});}else{_this.setState({sheetData:JSON.parse(response[0].data.sheetData),sampleStorageMappingOpenModal:true,isMultiSampleAdd:false,openSpreadSheet:true,editedsheetData:param,Rows:param.nrow,columns:param.ncolumn,loading:false});}}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var selectedRecordFilter=_this.state.selectedRecordFilter||{};if(fieldName==='nstoragecategorycode'){selectedRecordFilter[fieldName]=comboData;_this.setState({selectedRecordFilter:selectedRecordFilter});/*\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);*/}else if(fieldName==='ncontainertypecode'){return _this.getContainerStructure({userinfo:_this.props.Login.userInfo,ncontainertypecode:comboData.value},fieldName,comboData);}else if(fieldName==='ncontainerstructurecode'){selectedRecord['nrow']=comboData.item.nrow?comboData.item.nrow:1;selectedRecord['ncolumn']=comboData.item.ncolumn?comboData.item.ncolumn:1;}else if(fieldName==='nsamplestoragelocationcode'){return _this.getSampleStorageLocation({userinfo:_this.props.Login.userInfo,nstoragecategorycode:_this.state.selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value},fieldName,comboData);}if(fieldName==='nsamplestorageversioncode'){selectedRecordFilter[fieldName]=comboData;_this.setState({selectedRecordFilter:selectedRecordFilter});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,selectedRecordFilter:selectedRecordFilter});}};_this.onSaveSampleStorageMapping=function(saveType){var selectedRecord=_this.state.selectedRecord;var containerpathCodeArray=[];if(_this.state.operation==='create'){containerpathCodeArray=selectedRecord['nsamplestoragecontainerpathcode'].map(function(item){return item.value;});}var inputParam=selectedRecord['nneedposition']===true?{nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:selectedRecord['ncontainertypecode'].value?selectedRecord['ncontainertypecode'].value:-1,nproductcode:selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,nprojecttypecode:selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,nunitcode:selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,ssamplestoragemappingname:\"-\",ndirectionmastercode:selectedRecord['ndirectionmastercode']?selectedRecord['ndirectionmastercode'].value:-1,nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:3,sboxid:'',ncontainerstructurecode:selectedRecord['ncontainerstructurecode'].value?selectedRecord['ncontainerstructurecode'].value:-1,nquantity:selectedRecord['nquantity']?parseFloat(selectedRecord['nquantity']):0,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,//nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\nuserinfo:_this.props.Login.userInfo,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']}:{nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:-1,nproductcode:selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,nprojecttypecode:selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,nunitcode:selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,ndirectionmastercode:1,ssamplestoragemappingname:\"-\",nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:4,sboxid:'',ncontainerstructurecode:-1,nquantity:selectedRecord['nquantity']?parseInt(selectedRecord['nquantity']):0,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\nuserinfo:_this.props.Login.userInfo,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']};if(_this.state.operation===\"update\"&&showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.state.controlMap.has(\"EditsampleStorageMapping\")&&_this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode)){var masterData=_this.state.masterData;// let openModal = this.state.openModal;\nvar _inputParam={methodUrl:\"SampleStorageMapping\",operation:_this.state.operation,classUrl:\"samplestoragemapping\",inputData:selectedRecord['nneedposition']===true?{nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:selectedRecord['ncontainertypecode'].value?selectedRecord['ncontainertypecode'].value:-1,nproductcode:selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,nprojecttypecode:selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,nunitcode:selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,ssamplestoragemappingname:\"-\",ndirectionmastercode:selectedRecord['ndirectionmastercode']?selectedRecord['ndirectionmastercode'].value:-1,nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:3,sboxid:'',ncontainerstructurecode:selectedRecord['ncontainerstructurecode'].value?selectedRecord['ncontainerstructurecode'].value:-1,nquantity:selectedRecord['nquantity']?parseFloat(selectedRecord['nquantity']):0,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,//nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\nuserinfo:_this.props.Login.userInfo,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']}:{nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:-1,nproductcode:selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,nprojecttypecode:selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,nunitcode:selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,ndirectionmastercode:1,ssamplestoragemappingname:\"-\",nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:4,sboxid:'',ncontainerstructurecode:-1,nquantity:selectedRecord['nquantity']?parseInt(selectedRecord['nquantity']):0,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\nuserinfo:_this.props.Login.userInfo,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']}};var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,operation:_this.state.operation,sampleStorageMappingOpenModal:true,selectedRecord:selectedRecord,screenData:{inputParam:_inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.CRUDSampleStorageMapping(inputParam,_this.state.operation);}};_this.childDataChange=function(selectedRecord){_this.setState({selectedRecord:_objectSpread({},selectedRecord),isInitialRender:false});};_this.childSheetDataChange=function(sheetData){_this.setState({// selectedRecord: {\n//     ...this.state.selectedRecord,\n//     sheetData: {\n//         ...this.state.selectedRecord.sheetData,\n//         ...sheetData\n//     }\n// },\nsheetData:_objectSpread({},sheetData),isInitialRender:false});};_this.getActiveSampleStorageMappingById=function(inputParam,userinfo){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getActiveSampleStorageMappingById\",{nsamplestoragelocationcode:inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,userinfo:userinfo});urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data)//,\n// selectedRecord: {\n//     ...this.state.selectedRecord\n//    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\n// }\n,dataStateChange:{skip:0,take:10},loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.filterColumnData=function(filterValue,filterParam){var masterData=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){primaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];}}else{if(filterParam.isjsondata){searchedData=searchJsonData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=searchData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}if(searchedData.length>0){primaryKeyValue=searchedData[0][filterParam.primaryKeyField];}}if(primaryKeyValue!==0){_this.setState({loading:true});return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData[\"searchedData\"]=searchedData;masterData=_objectSpread(_objectSpread({},masterData),response.data);if(filterParam.sortField){sortData(masterData,filterParam.sortOrder,filterParam.sortField);}else{sortData(masterData);}_this.setState({masterData:masterData,loading:false,skip:0,take:10,selectedId:null});}).catch(function(error){_this.setState({loading:false});if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];masterData[\"sampleStoragemapping\"]=[];Object.keys(masterData).forEach(function(item){if(item!==filterParam.inputListName&&item!==filterParam.selectedObject&&filterParam.unchangeList&&filterParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});_this.setState({masterData:masterData,operation:null,modalName:undefined,loading:false});}};_this.CRUDSampleStorageMapping=function(inputParam,operation,isImport){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/\"+operation+\"SampleStorageMapping\",inputParam);urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({isInitialRender:true,selectedRecord:{},masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),sampleStorageMappingOpenModal:false,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";_this.setState({loading:true});var inputParamData={nstoragecategorycode:_this.state.selectedRecordFilter&&_this.state.selectedRecordFilter[\"nstoragecategorycode\"]&&_this.state.selectedRecordFilter[\"nstoragecategorycode\"].value?_this.state.selectedRecordFilter[\"nstoragecategorycode\"].value:0,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var object={selectedStorageCategoryName:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,nfilterStorageCategory:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].value// ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n// selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n};var filterData=_this.generateBreadCrumData(object);_this.setState({filterData:filterData,masterData:_objectSpread(_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),{},{searchedData:undefined//   sampleStoragemapping: response[0].data['sampleStoragemapping'],\n}),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onSampleMappingSaveClick=function(){var mandatoryFields=_this.state.openSpreadSheet?[]:_this.state.selectedRecord[\"nneedposition\"]===undefined||_this.state.selectedRecord[\"nneedposition\"]===false?[{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"nsamplestoragecontainerpathcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"nproductcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}// },\n// {\n//     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n//     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n// }\n]:[{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"nsamplestoragecontainerpathcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"nproductcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"ncontainertypecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"ncontainerstructurecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_DIRECTION\",\"dataField\":\"ndirectionmastercode\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"selectbox\"}// },\n// {\n//     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n//     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n// }\n];onSaveMandatoryValidation(_this.state.selectedRecord,mandatoryFields,_this.onSaveClick);};_this.dataStateChange=function(event){_this.setState({dataStateChange:event.dataState});};_this.approveSampleStorageMapping=function(event){if(_this.state.masterData.sampleStorageLocation.length>0){if(_this.state.masterData.sampleStoragemapping.length>0){if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.state.controlMap.has(\"ApprovesampleStorageMapping\")&&_this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode)){var masterData=_this.state.masterData||{};var inputParam={methodUrl:\"SampleStorageMapping\",// operation: this.props.Login.operation || this.state.operation,\noperation:\"approve\",classUrl:\"samplestoragemapping\",inputData:{'nsamplestoragelocationcode':masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo,//ALPD-4934--Vignesh R(24-09-2024)\n'nsamplestoragemappingcode':_this.state.masterData.sampleStoragemapping.map(function(item){return item.nsamplestoragemappingcode;}).join(',')}};var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,sampleStorageMappingOpenModal:true,operation:\"approve\",screenData:{inputParam:inputParam,masterData:masterData}}};_this.props.updateStore(updateInfo);}else{var inputParamData={};_this.setState({loading:true});inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo,//ALPD-4934--Vignesh R(24-09-2024)\n'nsamplestoragemappingcode':_this.state.masterData.sampleStoragemapping.map(function(item){return item.nsamplestoragemappingcode;}).join(',')};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/approveSampleStorageMapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CANNOTAPPROVEEMPTYMAPPING\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGESTRUCTURE\"}));}};_this.fetchRecord=function(data){_this.setState({loading:true});var selectedRecord=_this.state.selectedRecord;var inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':_this.props.Login.userInfo});var url3=rsapi.post(\"samplestoragemapping/getEditSampleStorageMapping\",{'nsamplestoragemappingcode':data.nsamplestoragemappingcode,'userinfo':_this.props.Login.userInfo});var getprojecttype=rsapi.post(\"/projecttype/getProjectType\",{'userinfo':_this.props.Login.userInfo});var getUnit=rsapi.post(\"/unit/getUnit\",{'userinfo':_this.props.Login.userInfo});urlArray=[url1,url2,url3,getprojecttype,getUnit];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");//let containerStructure = response[0].data['containerStructure'];\nvar containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[2].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");var editedObject=response[2].data.editsampleStorageMapping;storageMappingMapList.unshift({label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode});var projectTypeMap=constructOptionList(response[3].data||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,true);var projectTypeMapList=projectTypeMap.get(\"OptionList\");var unitMap=constructOptionList(response[4].data||[],\"nunitcode\",\"sunitname\",undefined,undefined,true);var unitMapList=unitMap.get(\"OptionList\");selectedRecord={ndirectionmastercode:{label:editedObject.sdirection,value:editedObject.ndirectionmastercode},nsamplestoragecontainerpathcode:{label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode},nproductcode:{label:editedObject.sproductname,value:editedObject.nproductcode},nprojecttypecode:{label:editedObject.sprojecttypename,value:editedObject.nprojecttypecode},nunitcode:{label:editedObject.sunitname,value:editedObject.nunitcode},ncontainertypecode:{label:editedObject.scontainertype,value:editedObject.ncontainertypecode},ncontainerstructurecode:{label:editedObject.scontainerstructurename,value:editedObject.ncontainerstructurecode},nneedposition:editedObject.nneedposition===3?true:false,directionmasterOptions:directionmasterList,nquantity:editedObject.nquantity,nnoofcontainer:editedObject.nnoofcontainer,nrow:editedObject.nrow,ncolumn:editedObject.ncolumn,nsamplestoragemappingcode:editedObject.nsamplestoragemappingcode};_this.setState({openSpreadSheet:false,// ncontrolcode: this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode,\nsampleStorageMappingOpenModal:true,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{projectOptions:projectTypeMapList,unitOptions:unitMapList,storageMappingMapOptions:storageMappingMapList,productOptions:productList,containerTypeOptions:containerTypeList,containerStructureOptions:containerstructureList,isInitialRender:true}),operation:'update',loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handlePageChangeFilter=function(event){_this.setState({kendoSkip:event.skip,kendoTake:event.take});};_this.onChange=function(immutableTree,config){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[\"tree\"]=immutableTree;selectedRecord[\"config\"]=config;selectedRecord['filterquery']=QbUtils.sqlFormat(immutableTree,config);_this.setState({tree:immutableTree,config:config,selectedRecord:selectedRecord});};_this.validateEsign=function(){var screenData=_this.props.Login.screenData;screenData['inputParam']['selectedRecord']=_this.state.selectedRecord||{};if(screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode']){delete screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode'];}var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:screenData};_this.props.validateEsignCredentialStorage(inputParam,\"sampleStorageMappingOpenModal\");};_this.state={sheetData:{},selectedRecordFilter:{},toggleAction:false,treeDataView:undefined,toggleActionView:false,fields:{\"ssamplestoragelocationname\":{\"label\":_this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURENAME\"}),\"type\":\"text\",\"valueSources\":[\"value\",\"func\"],\"mainWidgetProps\":{\"valueLabel\":\"Name\",\"valuePlaceholder\":_this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURENAME\"})}},\"scontainerpath\":{\"label\":_this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEPATH\"}),\"type\":\"text\",\"valueSources\":[\"value\",\"func\"],\"mainWidgetProps\":{\"valueLabel\":\"Name\",\"valuePlaceholder\":_this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEPATH\"})}}},treeData:[{//  text: \"root\",\ntext:_this.props.intl.formatMessage({id:\"IDS_ROOT\"}),expanded:true,editable:true,root:true,id:uuid()}],panes:[{size:'50%',scrollable:false}],selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,selectedItem:undefined,loading:false,ncontrolcode:undefined,sampleStorageMappingOpenModal:false,//  ALPD-5309   Changed openModal to sampleStorageMappingOpenModal due to got issue when change to other screens by Vishakh\noperation:undefined};_this.searchRef=React.createRef();_this.dragClue=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageMapping,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var _this2=this;var _this$state=this.state,filterData=_this$state.filterData,storageCategoryOptions=_this$state.storageCategoryOptions,selectedRecord=_this$state.selectedRecord,controlMap=_this$state.controlMap,userRoleControlRights=_this$state.userRoleControlRights,storageLocationOptions=_this$state.storageLocationOptions,sampleStorageVersionOptions=_this$state.sampleStorageVersionOptions,masterData=_this$state.masterData,selectedRecordFilter=_this$state.selectedRecordFilter,sampleStorageMappingOpenModal=_this$state.sampleStorageMappingOpenModal,operation=_this$state.operation;var bool=false;if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){bool=true;userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);}if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){bool=true;var filterStorageCategorylist=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",undefined,undefined,undefined);storageCategoryOptions=filterStorageCategorylist.get(\"OptionList\");if(this.props.Login.masterData.selectedStorageCategory){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nstoragecategorycode:storageCategoryOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedStorageCategory.nstoragecategorycode;})[0]});}}if(this.props.Login.masterData.sampleStorageLocation!==previousProps.Login.masterData.sampleStorageLocation){bool=true;var sampleStorageLocationList=constructOptionList(this.props.Login.masterData.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageLocation){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode;})[0]});}}if(this.props.Login.masterData.sampleStorageVersion!==previousProps.Login.masterData.sampleStorageVersion){bool=true;var sampleStorageVersionList=constructOptionList(this.props.Login.masterData.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageVersion){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestorageversioncode:sampleStorageVersionOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode;})[0]});}}if(this.props.Login.masterData!==previousProps.Login.masterData){bool=true;masterData=this.props.Login.masterData;filterData=this.generateBreadCrumData(this.props.Login.masterData);}if(this.state.masterData!==previousState.masterData){bool=true;filterData=this.generateBreadCrumData(this.state.masterData);}if(this.props.Login.sampleStorageMappingOpenModal!==previousProps.Login.sampleStorageMappingOpenModal){bool=true;sampleStorageMappingOpenModal=this.props.Login.sampleStorageMappingOpenModal;}if(this.props.Login.operation!==previousProps.Login.operation){bool=true;operation=this.props.Login.operation;}if(bool){this.setState({storageCategoryOptions:storageCategoryOptions,filterData:filterData,selectedRecord:selectedRecord,controlMap:controlMap,sampleStorageMappingOpenModal:sampleStorageMappingOpenModal,userRoleControlRights:userRoleControlRights,storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,masterData:masterData,selectedRecordFilter:selectedRecordFilter,operation:operation});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined,sampleStorageMappingOpenModal:false}};this.props.updateStore(updateInfo);}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(obj){var breadCrumbData=[];if(this.state.masterData&&this.state.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":obj.selectedStorageCategoryName&&obj.selectedStorageCategoryName!==null?obj.selectedStorageCategoryName:\"NA\",//ALPD-4783--Vignesh R(02-09-2024)\n\"nfilterStorageCategory\":obj.nfilterStorageCategory}// ,\n// {\n//     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\n//     \"value\": obj.selectedSampleStorageLocation &&\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_STORAGECATEGORYVERSION\",\n//     \"value\": obj.selectedSampleStorageVersion &&\n//         obj.selectedSampleStorageVersion.nversionno !== null ?\n//         obj.selectedSampleStorageVersion.nversionno : \"NA\"\n// }\n);}return breadCrumbData;}},{key:\"getSampleStorageLocation\",value:function getSampleStorageLocation(inputData,fieldName,comboData){var _this3=this;var selectedRecordFilter=this.state.selectedRecordFilter||{};var inputParamData={};this.setState({loading:true});if(fieldName==='nsamplestoragelocationcode'){inputParamData={nstoragecategorycode:selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value,userinfo:inputData.userinfo};}else{inputParamData={nstoragecategorycode:comboData.value,userinfo:inputData.userinfo};}var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this3$state=_this3.state,storageLocationOptions=_this3$state.storageLocationOptions,sampleStorageVersionOptions=_this3$state.sampleStorageVersionOptions;var sampleStorageLocationList=constructOptionList(response[0].data.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");var sampleStorageVersionList=constructOptionList(response[0].data.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.length>0?storageLocationOptions[0]:[],nsamplestorageversioncode:sampleStorageVersionOptions.length>0?sampleStorageVersionOptions[0]:[]});_this3.setState({storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,selectedRecordFilter:_objectSpread(_objectSpread({},selectedRecordFilter),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this3.setState({loading:false});});}},{key:\"addSampleStorageMapping\",value:function addSampleStorageMapping(){var _this4=this;if(this.state.masterData.searchedData!==undefined?this.state.masterData.searchedData.length>0?true:false:this.state.masterData.sampleStorageLocation.length>0){this.setState({loading:true});var selectedRecord=this.state.selectedRecord;var inputParamData={// nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\nnsamplestoragelocationcode:this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:this.props.Login.userInfo,operation:\"create\"};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':this.props.Login.userInfo});var url3=rsapi.post(\"/projecttype/getProjectType\",{'userinfo':this.props.Login.userInfo});var url4=rsapi.post(\"/unit/getUnit\",{'userinfo':this.props.Login.userInfo});urlArray=[url1,url2,url3,url4];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");// let containerStructure = response[0].data['containerStructure'];\nvar containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[0].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");var projectTypeMap=constructOptionList(response[2].data||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,true);var projectTypeMapList=projectTypeMap.get(\"OptionList\");var unitMap=constructOptionList(response[3].data||[],\"nunitcode\",\"sunitname\",undefined,undefined,true);var unitMapList=unitMap.get(\"OptionList\");//To Load selected Data from Sample storage Location\nunitMapList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"nunitcode\"]?selectedRecord[\"nunitcode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});projectTypeMapList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"nprojecttypecode\"]?selectedRecord[\"nprojecttypecode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});productList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"nproductcode\"]?selectedRecord[\"nproductcode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});containerTypeList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"ncontainertypecode\"]?selectedRecord[\"ncontainertypecode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});containerstructureList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"ncontainerstructurecode\"]?selectedRecord[\"ncontainerstructurecode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});directionmasterList.map(function(item){return item.value===response[0].data[\"selectedSampleStorageVersion\"][\"ndirectionmastercode\"]?selectedRecord[\"ndirectionmastercode\"]={\"label\":item.label,\"value\":item.value,\"item\":item.item}:\"\";});selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nneedposition:true,//ALPD-3353\nnrow:response[0].data[\"selectedSampleStorageVersion\"].nrow===0?1:response[0].data[\"selectedSampleStorageVersion\"].nrow,ncolumn:response[0].data[\"selectedSampleStorageVersion\"].ncolumn===0?1:response[0].data[\"selectedSampleStorageVersion\"].ncolumn,nquantity:response[0].data[\"selectedSampleStorageVersion\"].nquantity,nnoofcontainer:response[0].data[\"selectedSampleStorageVersion\"].nnoofcontainer,containerTypeOptions:containerTypeList,containerStructureOptions:containerstructureList,directionmasterOptions:directionmasterList});_this4.setState({sampleStorageMappingOpenModal:true,storageMappingMapOptions:storageMappingMapList,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{nproductcode:{label:response[0].data.samplestoragelocation.sproductname,value:response[0].data.samplestoragelocation.nproductcode},nprojecttypecode:{label:response[0].data.samplestoragelocation.sprojecttypename,value:response[0].data.samplestoragelocation.nprojecttypecode},storageMappingMapOptions:storageMappingMapList,productOptions:productList,projectOptions:projectTypeMapList,unitOptions:unitMapList,containerTypeOptions:containerTypeList,directionmasterOptions:directionmasterList,// ncontainertypecode: containerTypeList[0],\n// containerStructureOptions: containerstructureList,\n// ncontainerstructurecode: containerstructureList[0],\n// nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\n// ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\nisInitialRender:true}),openSpreadSheet:false,operation:'create',loading:false});}).catch(function(error){console.log(error);if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this4.setState({loading:false});});}else{toast.info(this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGESTRUCTURE\"}));}}},{key:\"getContainerStructure\",value:function getContainerStructure(inputData,fieldName,comboData){var _this5=this;var inputParamData={};this.setState({loading:true});inputParamData={ncontainertypecode:comboData.value,userinfo:inputData.userinfo};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getContainerStructure\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this5$state=_this5.state,containerStructureOptions=_this5$state.containerStructureOptions,selectedRecord=_this5$state.selectedRecord;var containerStructureList=constructOptionList(response[0].data.containerStructure||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,undefined);containerStructureOptions=containerStructureList.get(\"OptionList\");selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nrow:containerStructureOptions.length>0?containerStructureOptions[0].item.nrow:1,ncolumn:containerStructureOptions.length>0?containerStructureOptions[0].item.ncolumn:1,ncontainerstructurecode:containerStructureOptions.length>0?containerStructureOptions[0]:[],containerStructureOptions:containerStructureOptions.length>0?_toConsumableArray(containerStructureOptions):[]});_this5.setState({selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this5.setState({loading:false});});}},{key:\"getDynamicFilterExecuteData\",value:function getDynamicFilterExecuteData(inputParam){var _this6=this;this.setState({loading:true});var selectedRecord=this.state.selectedRecord||{};var obj={// ...inputParam.component, \nlabel:'sampleStorageLocation',valuemember:'nsamplestoragelocationcode',filterquery:selectedRecord.filterquery,source:'sampleStorageLocation',userinfo:this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"/samplestoragemapping/getdynamicfilterexecutedata\",obj);urlArray=[url1];Axios.all(urlArray).then(function(response){console.log(response);var masterData=_this6.state.masterData;masterData=_objectSpread(_objectSpread({},masterData),response[0].data);_this6.setState({masterData:_objectSpread({},masterData),loading:false});}).catch(function(error){_this6.setState({loading:false});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data.rtn);}});}},{key:\"shouldComponentUpdate\",value://handleAdd = (e) => {\n//     let file = e.newState[0].getRawFile();\n//     let selectedRecord = this.state.selectedRecord;\n//     selectedRecord['nsamplestoragecontainerpathcode'] = []\n//     /* Boilerplate to set up FileReader */\n//     const reader = new FileReader();\n//     const rABS = !!reader.readAsBinaryString;\n//     let data = []\n//     reader.onload = (e) => {\n//         /* Parse data */\n//         const bstr = e.target.result;\n//         const wb = XLSX.read(bstr, {\n//             type: rABS ? 'binary' : 'array',\n//             bookVBA: true,\n//         });\n//         /* Get first worksheet */\n//         const wsname = wb.SheetNames[0];\n//         const ws = wb.Sheets[wsname];\n//         /* Convert array of arrays */\n//         data = XLSX.utils.sheet_to_json(ws);\n//         console.log(data);\n//         /* Update state */\n//         // this.setState({\n//         //     data,\n//         // });\n//         console.log('xlsx data :', this.state.storageMappingMapOptions)\n//         data.map((x, index) => {\n//             let clientcontainerpath = 'root > ' + x.fz_code + ' > ' + x.sf_code\n//                 + ' > ' + x.rk_code\n//                 + ' > ' + x.tr_code\n//                 + ' > ' + x.bx_code\n//             console.log('clientcontainerpath:', clientcontainerpath)\n//             this.state.storageMappingMapOptions.map((item, index) => {\n//                 if (item.label === clientcontainerpath) {\n//                     let i = -1\n//                     if (selectedRecord['nsamplestoragecontainerpathcode'].length > 0) {\n//                         i = selectedRecord['nsamplestoragecontainerpathcode']\n//                             .findIndex(k => k.label === clientcontainerpath)\n//                     }\n//                     x['nsamplestoragecontainerpathcode'] = this.state.storageMappingMapOptions[index].value\n//                     if (i === -1) {\n//                         selectedRecord['nsamplestoragecontainerpathcode'].push(this.state.storageMappingMapOptions[index]);\n//                     }\n//                 }\n//             });\n//         });\n//         let containerpathCodeArray = [];\n//         containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\n//         const inputParam = {\n//             nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n//             nsamplestoragemappingcode: 0,\n//             ncontainertypecode: 1,\n//             nproductcode: 9,\n//             nprojecttypecode: 2,\n//             ndirectionmastercode: 1,\n//             nsamplestoragecontainerpathcode: JSON.stringify(containerpathCodeArray),\n//             containerpathsize: containerpathCodeArray.length,\n//             nneedposition: 3,\n//             ncontainerstructurecode: 1,\n//             nquantity: 100,\n//             sboxid: '-',\n//             //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n//             userinfo: this.props.Login.userInfo,\n//             clientData: JSON.stringify(data),\n//             isImport: true\n//         }\n//         this.CRUDSampleStorageMapping(inputParam, 'create', true);\n//         console.log('selectedRecord:', selectedRecord['nsamplestoragecontainerpathcode'])\n//     };\n//     if (rABS) {\n//         reader.readAsBinaryString(file);\n//     } else {\n//         reader.readAsArrayBuffer(file);\n//     }\n// };\nfunction shouldComponentUpdate(nextProps,nextState){if(this.state.sampleStorageMappingOpenModal&&nextState.isInitialRender===false&&nextState.selectedRecord!==this.state.selectedRecord){return false;}else if(this.state.sampleStorageMappingOpenModal&&nextState.isInitialRender===false&&nextState.sheetData!==this.state.sheetData){return false;}else{return true;}}},{key:\"render\",value:function render(){var _this7=this;//const addId = this.state.controlMap.has(\"AddSampleStorageMapping\") && this.state.controlMap.get(\"AddSampleStorageMapping\").ncontrolcode;\nvar editId=this.state.controlMap.has(\"EditsampleStorageMapping\")&&this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeletesampleStorageMapping\")&&this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApprovesampleStorageMapping\")&&this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"samplestoragemapping/getActiveSampleStorageMappingById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.state.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];//const confirmMessage = new ConfirmMessage();\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Preloader,{loading:this.state.loading}),/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true,className:'sample-storage-mapping-grid'},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",percentage:true,primaryIndex:1,onSecondaryPaneSizeChange:this.paneSizeChange,secondaryInitialSize:25,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{paneHeight:this.state.parentHeight,needMultiSelect:false,masterList:this.state.masterData&&this.state.masterData.searchedData||this.state.masterData&&this.state.masterData.sampleStorageLocation||[],selectedMaster:[this.state.masterData&&this.state.masterData.selectedSampleStorageLocation],primaryKeyField:\"nsamplestoragelocationcode\",getMasterDetail:function getMasterDetail(selectedItem){return _this7.getActiveSampleStorageMappingById(selectedItem,_this7.props.Login.userInfo);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"ssamplestoragelocationname\",selectedListName:\"selectedSampleStorageLocation\",objectName:\"LocationMaster\",listName:\"IDS_STORAGESTRUCTURE\",filterColumnData:this.filterColumnData,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,hidePaging:false,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2 p-0\",variant:\"link\",onClick:function onClick(){return _this7.reloadData();},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(RefreshIcon,{className:\"custom_icons\"}))),filterComponent:[{\"IDS_TESTFILTER\":/*#__PURE__*/React.createElement(StorageMappingFilter,{storageCategoryOptions:this.state.storageCategoryOptions||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},storageLocationOptions:this.state.storageLocationOptions||[],storageLocationValue:this.state.storageLocationValue||[],sampleStorageVersionOptions:this.state.sampleStorageVersionOptions||[],storageVersionValue:this.state.storageVersionValue||[],onComboChange:this.onComboChange,selectedRecordFilter:this.state.selectedRecordFilter,selectedRecord:this.state.selectedRecord})}]}),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.state.masterData&&this.state.masterData.selectedSampleStorageLocation&&this.state.masterData.selectedSampleStorageLocation.ssamplestoragelocationname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap mr-2 pl-0\"},this.state.masterData&&this.state.masterData.selectedSampleStorageLocation?this.state.masterData.selectedSampleStorageLocation.nmappingtranscode===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined  outline-secondary btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DRAFT\",defaultMessage:\"Draft\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-success btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_APPROVED\",defaultMessage:\"Approved\"})):\"\")))),/*#__PURE__*/React.createElement(DataGrid,{isRefreshRequired:false// fetchRecord={this.fetchRecord}\n// editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\n// handleClickDelete={this.deletesamplestoragemapping}\n,methodUrl:'SampleStorageMapping',isAddRequired:this.state.masterData&&this.state.masterData.sampleStoragemapping?true:false,primaryKeyField:'nsamplestoragemappingcode',data:this.state.masterData&&this.state.masterData.sampleStoragemapping&&this.state.masterData.sampleStoragemapping,dataResult:this.state.masterData&&this.state.masterData.sampleStoragemapping&&process(this.state.masterData.sampleStoragemapping||[],this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10}),dataState:this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10},dataStateChange:this.dataStateChange,isCustomButton:true,customButtonlist:this.state.masterData&&this.state.masterData.sampleStoragemapping?[{label:'IDS_APPROVE',id:{},hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,onClick:function onClick(){return _this7.approveSampleStorageMapping();},controlname:'faThumbsUp'}]:[],extractedColumnList:[{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"scontainerpath\",\"width\":\"450px\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"sproductname\",\"width\":\"200px\"},{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"sprojecttypename\",\"width\":\"200px\"},{\"idsName\":\"IDS_CONTAINERID\",\"dataField\":\"sboxid\",\"width\":\"200px\"},{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"scontainertype\",\"width\":\"200px\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"scontainerstructurename\",\"width\":\"200px\"},{\"idsName\":\"IDS_AVAILABLEQTY\",\"dataField\":\"nquantity\",\"width\":\"200px\"},{\"idsName\":\"IDS_UNIT\",\"dataField\":\"sunitname\",\"width\":\"200px\"},//ALPD-4483 janakumar added the unit datagrid field\n{\"idsName\":\"IDS_NEEDPREDEFINEDSTRUCURE\",\"dataField\":\"stransdisplaystatus\",\"width\":\"200px\"}],controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,userInfo:this.props.Login.userInfo//     fetchRecord={this.fetchRecord}\n//    editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\n// deleteRecord={this.deleteRecord}\n,addRecord:function addRecord(){return _this7.openStorageMapping();},pageable:true,scrollable:'scrollable'// isComponent={true}\n,gridHeight:'500px',isActionRequired:true// this.state.masterData&&this.state.masterData.\n// selectedSampleStorageLocation&&this.state.masterData.\n//     selectedSampleStorageLocation.nmappingtranscode\n//     === transactionStatus.DRAFT ? true : false\n,isToolBarRequired:true//ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\n,isDownloadPDFRequired:false,isDownloadExcelRequired:true,actionIcons:// this.state.masterData&&this.state.masterData.\n// selectedSampleStorageLocation&&this.state.masterData.\n// selectedSampleStorageLocation.nmappingtranscode\n// === transactionStatus.DRAFT ?\n[{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,objectName:\"edit\",onClick:this.fetchRecord},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,objectName:\"delete\",onClick:this.handleClickDelete}// {\n//     title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLE\" }),\n//     controlname: \"faPenSquare\",\n//     hidden: false,\n//     objectName: \"add\",\n//     onClick: (param) => this.addSample(param, 1)\n// }\n]// : []\n}),\"    \")))),this.state.sampleStorageMappingOpenModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.state.sampleStorageMappingOpenModal,closeModal:this.closeModal,size:this.state.openSpreadSheet?'xl':\"\",operation:this.state.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEMAPPING\"}),onSaveClick:this.onSampleMappingSaveClick,esign:this.props.Login.loadEsign// className={\"wide-popup\"}\n,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},addComponent:// this.state.importdata ?\n// <Upload\n//     batch={false}\n//     multiple={false}\n//     defaultFiles={[]}\n//     withCredentials={false}\n//     autoUpload={false}\n//     onAdd={this.handleAdd}\n// />\n// :\nthis.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation||this.state.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.state.openSpreadSheet?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MatrixComponent,{Rows:this.state.Rows||1,userInfo:this.props.Login.userInfo,columns:this.state.columns||1,selectedRecord:this.state.selectedRecord.sheetData||{},sheetData:this.state.sheetData||{},isMultiSampleAdd:this.state.isMultiSampleAdd,childSheetDataChange:this.childSheetDataChange,editedsheetData:this.state.editedsheetData,multipleSheetData:this.state.masterData&&this.state.masterData.sampleStoragemapping&&process(this.state.masterData.sampleStoragemapping||[],this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10}).data})):/*#__PURE__*/React.createElement(AddSampleStorageMapping,{operation:this.state.operation,selectedRecordFilter:this.state.selectedRecordFilter,onInputChange:function onInputChange(e){return _this7.onInputChange(e);},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecord||{},childDataChange:this.childDataChange,userInfo:this.props.Login.userInfo})}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageMapping;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,updateStore:updateStore,validateEsignCredentialStorage:validateEsignCredentialStorage})(injectIntl(SampleStorageMapping));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/basemaster/SampleStorageMapping.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Card","Nav","Button","toast","constructOptionList","getControlMap","onSaveMandatoryValidation","searchData","searchJsonData","showEsign","sortData","DataGrid","Utils","QbUtils","SlideOutModal","callService","updateStore","validateEsignCredentialStorage","DEFAULT_RETURN","ListWrapper","ProductList","uuid","ConfirmMessage","BreadcrumbComponent","SplitterLayout","transactionStatus","Esign","rsapi","AddSampleStorageMapping","Axios","StorageMappingFilter","Preloader","TransactionListMasterJsonView","process","MatrixComponent","SampleStorageMapping","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","openModal","updateInfo","typeName","data","sampleStorageMappingOpenModal","selectedRecord","loadTreeProperties","treeData","text","expanded","editable","root","id","operation","closeModal","loadEsign","Login","state","selectedId","setState","isInitialRender","onInputChange","event","target","type","name","checked","value","onSaveClick","saveType","formRef","onSaveProperties","openSpreadSheet","CRUDSampleStorageMapping","editedsheetData","nsamplestoragemappingcode","isMultiSampleAdd","Object","keys","sheetData","map","join","toString","nsamplestoragelocationcode","masterData","selectedSampleStorageLocation","JSON","stringify","sheetUpdate","userinfo","userInfo","onSaveSampleStorageMapping","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","e","skip","take","handleDetailPageChange","openFilter","showFilter","closeFilter","reloadData","searchRef","current","loading","inputParamData","nstoragecategorycode","filterData","urlArray","url1","post","all","then","response","object","selectedStorageCategoryName","nfilterStorageCategory","generateBreadCrumData","searchedData","catch","error","status","message","warn","onEditSampleStorageLocation","selectedSampleStorageVersion","editId","handleSearch","searchedTreeData","isOnlyDraft","sampleStorageVersion","length","editSampleStorageLocation","openStorageMapping","addId","addSampleStorageMapping","handleClickDelete","deleteParam","confirmMessage","confirm","intl","formatMessage","deletesamplestoragemapping","param","userRoleControlRights","nformcode","controlMap","has","get","ncontrolcode","inputParam","methodUrl","classUrl","inputData","screenData","addMultipleSample","importdata","addSample","nflag","sampleStoragemapping","item","parse","Rows","nrow","columns","ncolumn","onComboChange","comboData","fieldName","selectedRecordFilter","getContainerStructure","ncontainertypecode","getSampleStorageLocation","containerpathCodeArray","parseInt","nproductcode","nprojecttypecode","nunitcode","ssamplestoragemappingname","ndirectionmastercode","nsamplestoragecontainerpathcode","containerpathsize","nneedposition","sboxid","ncontainerstructurecode","nquantity","parseFloat","nnoofcontainer","childDataChange","childSheetDataChange","getActiveSampleStorageMappingById","dataStateChange","filterColumnData","filterValue","filterParam","primaryKeyValue","inputListName","primaryKeyField","isjsondata","searchFieldList","fetchUrl","fecthInputObject","sortField","sortOrder","selectedObject","forEach","unchangeList","indexOf","modalName","isImport","onFilterSubmit","sstoragecategoryname","onSampleMappingSaveClick","mandatoryFields","dataState","approveSampleStorageMapping","sampleStorageLocation","info","fetchRecord","url2","url3","getprojecttype","getUnit","storageMappingMap","storageMappingMapList","containerTypeMap","containerTypeList","directionmasterMap","directionmasterList","containerstructureMap","containerstructureList","productMap","productList","editedObject","editsampleStorageMapping","unshift","label","scontainerpath","projectTypeMap","projectTypeMapList","unitMap","unitMapList","sdirection","sproductname","sprojecttypename","sunitname","scontainertype","scontainerstructurename","directionmasterOptions","projectOptions","unitOptions","storageMappingMapOptions","productOptions","containerTypeOptions","containerStructureOptions","onInputOnChange","handlePageChangeFilter","kendoSkip","kendoTake","onChange","immutableTree","config","sqlFormat","tree","validateEsign","sreason","nreasoncode","spredefinedreason","password","toggleAction","treeDataView","toggleActionView","fields","panes","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","dragClue","previousProps","previousState","storageCategoryOptions","storageLocationOptions","sampleStorageVersionOptions","bool","values","push","filterStorageCategory","filterStorageCategorylist","selectedStorageCategory","filter","sampleStorageLocationList","sampleStorageVersionList","nsamplestorageversioncode","parentHeight","height","clientHeight","firstPane","obj","breadCrumbData","url4","samplestoragelocation","console","log","containerStructureList","containerStructure","valuemember","filterquery","source","rtn","nextProps","nextState","deleteId","approveId","storageLocationValue","storageVersionValue","ssamplestoragelocationname","nmappingtranscode","DRAFT","hidden","onClick","controlname","title","objectName","masterStatus","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Card, Nav,Button, } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\r\n//import SortableTree from 'react-sortable-tree'; \r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService,  updateStore,validateEsignCredentialStorage\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\n// import { initRequest } from \"../../actions/LoginAction\";\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport {  ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport rsapi from '../../rsapi';\r\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\r\nimport Axios from 'axios';\r\nimport StorageMappingFilter from './StorageMappingFilter';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n\r\nimport { process } from '@progress/kendo-data-query';\r\n//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\r\nimport MatrixComponent from '../../components/MatrixComponent';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\n\r\n//   import { Upload } from '@progress/kendo-react-upload';\r\n//   import * as XLSX from 'xlsx';\r\n\r\n\r\nclass SampleStorageMapping extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sheetData: {},\r\n            selectedRecordFilter: {},\r\n           \r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            fields: {\r\n                \"ssamplestoragelocationname\": {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_STORAGESTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"text\",\r\n                    \"valueSources\": [\"value\", \"func\"],\r\n\r\n                    \"mainWidgetProps\": {\r\n                        \"valueLabel\": \"Name\",\r\n                        \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                            id: \"IDS_STORAGESTRUCTURENAME\"\r\n                        })\r\n                    }\r\n\r\n                }, \"scontainerpath\": {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_SAMPLESTORAGEPATH\",\r\n                    }),\r\n                    \"type\": \"text\",\r\n                    \"valueSources\": [\"value\", \"func\"],\r\n\r\n                    \"mainWidgetProps\": {\r\n                        \"valueLabel\": \"Name\",\r\n                        \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                            id: \"IDS_SAMPLESTORAGEPATH\"\r\n                        })\r\n                    }\r\n\r\n                }\r\n            },\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined,\r\n            loading: false,\r\n            ncontrolcode: undefined,\r\n            sampleStorageMappingOpenModal: false,   //  ALPD-5309   Changed openModal to sampleStorageMappingOpenModal due to got issue when change to other screens by Vishakh\r\n            operation: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let { filterData, storageCategoryOptions,\r\n            selectedRecord, controlMap,\r\n            userRoleControlRights, storageLocationOptions,\r\n            sampleStorageVersionOptions, masterData, selectedRecordFilter, sampleStorageMappingOpenModal, operation } = this.state\r\n        let bool = false;\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            bool = true;\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            bool = true;\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", undefined, undefined, undefined);\r\n            storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedStorageCategory) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nstoragecategorycode: storageCategoryOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            bool = true;\r\n            const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n            storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageLocation) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\r\n            bool = true;\r\n            const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                \"nversionno\", undefined, undefined, undefined);\r\n            sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            filterData = this.generateBreadCrumData(this.props.Login.masterData);\r\n\r\n        }\r\n        if (this.state.masterData !== previousState.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData(this.state.masterData);\r\n\r\n        }\r\n        if (this.props.Login.sampleStorageMappingOpenModal !== previousProps.Login.sampleStorageMappingOpenModal){\r\n            bool=true;\r\n            sampleStorageMappingOpenModal= this.props.Login.sampleStorageMappingOpenModal;\r\n        }\r\n        if(this.props.Login.operation !== previousProps.Login.operation){\r\n            bool = true;\r\n            operation = this.props.Login.operation;\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                storageCategoryOptions, filterData,\r\n                selectedRecord, controlMap, sampleStorageMappingOpenModal,\r\n                userRoleControlRights, storageLocationOptions,\r\n                sampleStorageVersionOptions, masterData, selectedRecordFilter,operation\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined, sampleStorageMappingOpenModal: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                sampleStorageMappingOpenModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let sampleStorageMappingOpenModal = this.state.sampleStorageMappingOpenModal;\r\n        //let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        let operation = this.state.operation;\r\n        \r\n        if (this.props.Login.loadEsign) {\r\n            if (operation === \"delete\" || operation === \"approve\") {\r\n                loadEsign = false;\r\n                sampleStorageMappingOpenModal = false;\r\n                selectedRecord = {};\r\n                //selectedId = null;\r\n                operation= undefined;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n            selectedRecord['esignpassword'] = \"\"\r\n            selectedRecord['esigncomments'] = \"\"\r\n            selectedRecord['esignreason'] = \"\"\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { sampleStorageMappingOpenModal, loadEsign, selectedRecord, selectedId: null, operation }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            sampleStorageMappingOpenModal = false;\r\n            //selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ selectedRecord, sampleStorageMappingOpenModal, loadEsign, isInitialRender: true })\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if (this.state.openSpreadSheet) {\r\n            this.CRUDSampleStorageMapping({\r\n                ...this.state.editedsheetData,\r\n                nsamplestoragemappingcode: this.state.isMultiSampleAdd ?\r\n                    Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\") : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\r\n                sheetUpdate: true,\r\n                userinfo: this.props.Login.userInfo,\r\n                isMultiSampleAdd: this.state.isMultiSampleAdd\r\n            }, 'update');\r\n        } else {\r\n            this.onSaveSampleStorageMapping(saveType, formRef);\r\n        }\r\n    };\r\n\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData(obj) {\r\n        const breadCrumbData = [];\r\n        if (this.state.masterData && this.state.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": obj.selectedStorageCategoryName &&\r\n                        obj.selectedStorageCategoryName !== null ?\r\n                        obj.selectedStorageCategoryName : \"NA\",\r\n                        //ALPD-4783--Vignesh R(02-09-2024)\r\n                        \"nfilterStorageCategory\":obj.nfilterStorageCategory\r\n\r\n                }\r\n                // ,\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\r\n                //     \"value\": obj.selectedSampleStorageLocation &&\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\r\n                // },\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\r\n                //     \"value\": obj.selectedSampleStorageVersion &&\r\n                //         obj.selectedSampleStorageVersion.nversionno !== null ?\r\n                //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\r\n                // }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.filterData&&\r\n            this.state.filterData[0]['nfilterStorageCategory']?\r\n            this.state.filterData[0]['nfilterStorageCategory']:0,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.filterData[0]['nfilterStorageCategory'].value,\r\n                    nfilterStorageCategory: this.state.filterData[0]['nfilterStorageCategory']\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                          searchedData: undefined \r\n                        //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageMapping = (addId) => {\r\n        this.addSampleStorageMapping({ userInfo: this.props.Login.userInfo, addId });\r\n    }\r\n    handleClickDelete = (deleteParam) => {\r\n        //this.props.deleteRecord(deleteParam);\r\n\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deletesamplestoragemapping(deleteParam));\r\n    }\r\n    deletesamplestoragemapping = (param) => {\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode)) {\r\n            const masterData = this.state.masterData || {};\r\n                let inputParam = {\r\n                    methodUrl: \"SampleStorageMapping\",\r\n                    // operation: this.props.Login.operation || this.state.operation,\r\n                    operation: \"delete\",\r\n                    classUrl: \"samplestoragemapping\",\r\n                    inputData: \r\n                    {    \r\n                        'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n                         userinfo: this.props.Login.userInfo,\r\n                    } \r\n                };\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, sampleStorageMappingOpenModal:true, operation:\"delete\", screenData: { inputParam, masterData }\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n        this.CRUDSampleStorageMapping({\r\n            'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }, 'delete');\r\n    }\r\n    }\r\n    addMultipleSample = (param) => {\r\n        this.setState({\r\n            //sheetData: JSON.parse(response[0].data.sheetData),\r\n            sampleStorageMappingOpenModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n            loading: false\r\n        })\r\n    }\r\n    importdata = () => {\r\n        this.setState({ sampleStorageMappingOpenModal: true, importdata: true })\r\n    }\r\n    addSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemappingSheetData\",\r\n            {\r\n                isMultiSampleAdd: (nflag === 2) ? true : false,\r\n                nsamplestoragemappingcode:\r\n                    (nflag === 2) ? this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(\",\")\r\n                        : param.nsamplestoragemappingcode.toString()\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (nflag === 2) {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        sampleStorageMappingOpenModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        sampleStorageMappingOpenModal: true, isMultiSampleAdd: false, openSpreadSheet: true,\r\n                        editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n\r\n        if (fieldName === 'nstoragecategorycode') {\r\n              selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n            /*\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);*/\r\n        } else if (fieldName === 'ncontainertypecode') {\r\n            return this.getContainerStructure({\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontainertypecode: comboData.value\r\n            }, fieldName, comboData);\r\n\r\n        } else if (fieldName === 'ncontainerstructurecode') {\r\n            selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n            selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n        } else if (fieldName === 'nsamplestoragelocationcode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value\r\n\r\n            }, fieldName, comboData);\r\n        }\r\n        if (fieldName === 'nsamplestorageversioncode') {\r\n            selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord, selectedRecordFilter });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSaveSampleStorageMapping = (saveType) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let containerpathCodeArray = [];\r\n        \r\n        if (this.state.operation === 'create') {\r\n            containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n        }\r\n        const inputParam = selectedRecord['nneedposition'] === true ?\r\n            {   \r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                    parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                ncontainertypecode: selectedRecord['ncontainertypecode'].value ?\r\n                    selectedRecord['ncontainertypecode'].value : -1,\r\n                nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                ssamplestoragemappingname: \"-\",\r\n                ndirectionmastercode: selectedRecord['ndirectionmastercode']? selectedRecord['ndirectionmastercode'].value:-1,\r\n                nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                    JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                containerpathsize: containerpathCodeArray.length,\r\n                nneedposition: 3,\r\n                sboxid: '',\r\n                ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ?\r\n                    selectedRecord['ncontainerstructurecode'].value : -1,\r\n                nquantity: selectedRecord['nquantity'] ?\r\n                    parseFloat(selectedRecord['nquantity']) : 0,\r\n                nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                    parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                \r\n                userinfo: this.props.Login.userInfo,\r\n                \r\n                nrow: selectedRecord['nrow'],\r\n                ncolumn: selectedRecord['ncolumn']\r\n\r\n            } : {\r\n                \r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                    parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                ncontainertypecode: -1,\r\n                nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                ndirectionmastercode: 1,\r\n                ssamplestoragemappingname: \"-\",\r\n                nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                    JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                containerpathsize: containerpathCodeArray.length,\r\n                nneedposition: 4,\r\n                sboxid: '',\r\n                ncontainerstructurecode: -1,\r\n                nquantity: selectedRecord['nquantity'] ?\r\n                parseInt(selectedRecord['nquantity']) : 0,\r\n                nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                \r\n                userinfo: this.props.Login.userInfo,\r\n                \r\n                nrow: selectedRecord['nrow'],\r\n                ncolumn: selectedRecord['ncolumn']\r\n            }\r\n        \r\n        if ((this.state.operation === \"update\") && showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode,this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode )) {\r\n            const masterData = this.state.masterData;\r\n            // let openModal = this.state.openModal;\r\n                let inputParam = {\r\n                    methodUrl: \"SampleStorageMapping\",\r\n                    operation: this.state.operation,\r\n                    classUrl: \"samplestoragemapping\",\r\n\r\n                    inputData: selectedRecord['nneedposition'] === true ?\r\n                    {    \r\n                        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                            parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                        ncontainertypecode: selectedRecord['ncontainertypecode'].value ?\r\n                            selectedRecord['ncontainertypecode'].value : -1,\r\n                        nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                        nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                        nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                        ssamplestoragemappingname: \"-\",\r\n                        ndirectionmastercode: selectedRecord['ndirectionmastercode']? selectedRecord['ndirectionmastercode'].value:-1,\r\n                        nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                            JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                        containerpathsize: containerpathCodeArray.length,\r\n                        nneedposition: 3,\r\n                        sboxid: '',\r\n                        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ?\r\n                            selectedRecord['ncontainerstructurecode'].value : -1,\r\n                        nquantity: selectedRecord['nquantity'] ?\r\n                            parseFloat(selectedRecord['nquantity']) : 0,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                            parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                        \r\n                        userinfo: this.props.Login.userInfo,\r\n                        \r\n                        nrow: selectedRecord['nrow'],\r\n                        ncolumn: selectedRecord['ncolumn']\r\n        \r\n                    } : {\r\n                        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                            parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                        ncontainertypecode: -1,\r\n                        nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                        nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                        nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                        ndirectionmastercode: 1,\r\n                        ssamplestoragemappingname: \"-\",\r\n                        nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                            JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                        containerpathsize: containerpathCodeArray.length,\r\n                        nneedposition: 4,\r\n                        sboxid: '',\r\n                        ncontainerstructurecode: -1,\r\n                        nquantity: selectedRecord['nquantity'] ?\r\n                        parseInt(selectedRecord['nquantity']) : 0,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                        parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nrow: selectedRecord['nrow'],\r\n                        ncolumn: selectedRecord['ncolumn']\r\n                    }\r\n                    \r\n                };\r\n           \r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, operation: this.state.operation, sampleStorageMappingOpenModal: true, selectedRecord ,screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } \r\n        \r\n    \r\n        else {\r\n            this.CRUDSampleStorageMapping(inputParam, this.state.operation);\r\n        }\r\n    }\r\n\r\n    childDataChange = (selectedRecord) => {\r\n        this.setState({\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    childSheetDataChange = (sheetData) => {\r\n        this.setState({\r\n            // selectedRecord: {\r\n            //     ...this.state.selectedRecord,\r\n            //     sheetData: {\r\n            //         ...this.state.selectedRecord.sheetData,\r\n            //         ...sheetData\r\n            //     }\r\n            // },\r\n            sheetData: {\r\n                ...sheetData\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    // Actions start\r\n    getActiveSampleStorageMappingById = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getActiveSampleStorageMappingById\", {\r\n            nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\r\n            userinfo: userinfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    }//,\r\n                    // selectedRecord: {\r\n                    //     ...this.state.selectedRecord\r\n                    //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\r\n                    // }\r\n                    ,\r\n                    dataStateChange:{skip:0,take:10},\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n    filterColumnData = (filterValue, filterParam) => {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n            }\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n\r\n        if (primaryKeyValue !== 0) {\r\n            this.setState({ loading: true });\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (filterParam.sortField) {\r\n                        sortData(masterData, filterParam.sortOrder, filterParam.sortField);\r\n                    }\r\n                    else {\r\n                        sortData(masterData);\r\n                    }\r\n                    this.setState({ masterData, loading: false, skip: 0, take: 10, selectedId: null });\r\n                })\r\n                .catch(error => {\r\n                    this.setState({ loading: false });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            masterData[\"sampleStoragemapping\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            this.setState({\r\n                masterData, operation: null, modalName: undefined,\r\n                loading: false\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    CRUDSampleStorageMapping = (inputParam, operation, isImport) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/\" + operation + \"SampleStorageMapping\", inputParam);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    isInitialRender: true,\r\n                    selectedRecord: {},\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    sampleStorageMappingOpenModal: false,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.selectedRecordFilter&&this.state.selectedRecordFilter[\"nstoragecategorycode\"]&&\r\n            this.state.selectedRecordFilter[\"nstoragecategorycode\"].value?\r\n            this.state.selectedRecordFilter[\"nstoragecategorycode\"].value:0,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\r\n                    nfilterStorageCategory:this.state.selectedRecordFilter[\"nstoragecategorycode\"].value\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                          searchedData: undefined \r\n                        //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    addSampleStorageMapping() {\r\n        if(this.state.masterData.searchedData !==undefined ?\r\n            this.state.masterData.searchedData.length>0  ?\r\n            true  :false\r\n            : this.state.masterData.sampleStorageLocation.length>0   ){\r\n            this.setState({ loading: true })\r\n            let selectedRecord = this.state.selectedRecord\r\n            let inputParamData = {\r\n                // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n                userinfo: this.props.Login.userInfo,\r\n                operation: \"create\"\r\n            }\r\n    \r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\r\n    \r\n            const url2 = rsapi.post(\"product/getProduct\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n    \r\n            const url3 = rsapi.post(\"/projecttype/getProjectType\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n\r\n                const url4 = rsapi.post(\"/unit/getUnit\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n    \r\n            urlArray = [url1, url2, url3,url4];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                        \"nsamplestoragecontainerpathcode\",\r\n                        \"scontainerpath\", undefined, undefined, true);\r\n                    const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                   // let containerStructure = response[0].data['containerStructure'];\r\n    \r\n                    const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                        \"ncontainertypecode\",\r\n                        \"scontainertype\", undefined, undefined, true);\r\n                    const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n    \r\n    \r\n                    const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                        \"ndirectionmastercode\",\r\n                        \"sdirection\", undefined, undefined, true);\r\n                    const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n    \r\n                    const containerstructureMap = constructOptionList(response[0].data['containerStructure']\r\n                        || [],\r\n                        \"ncontainerstructurecode\",\r\n                        \"scontainerstructurename\", undefined, undefined, true);\r\n                    const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n    \r\n                    const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                        \"nproductcode\",\r\n                        \"sproductname\", undefined, undefined, true);\r\n                    const productList = productMap.get(\"OptionList\");\r\n    \r\n    \r\n                    const projectTypeMap = constructOptionList(response[2].data || [], \"nprojecttypecode\",\r\n                        \"sprojecttypename\", undefined, undefined, true);\r\n    \r\n                    const projectTypeMapList = projectTypeMap.get(\"OptionList\");\r\n\r\n                    const unitMap = constructOptionList(response[3].data || [], \"nunitcode\",\r\n                    \"sunitname\", undefined, undefined, true);\r\n\r\n                const unitMapList = unitMap.get(\"OptionList\");\r\n    \r\n    \r\n                    //To Load selected Data from Sample storage Location\r\n                    unitMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nunitcode\"] ?\r\n                    selectedRecord[\"nunitcode\"] = {\r\n                        \"label\": item.label,\r\n                        \"value\": item.value,\r\n                        \"item\": item.item\r\n                    }\r\n                    : \"\"); \r\n\r\n                    projectTypeMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nprojecttypecode\"] ?\r\n                        selectedRecord[\"nprojecttypecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    productList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nproductcode\"] ?\r\n                        selectedRecord[\"nproductcode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    containerTypeList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainertypecode\"] ?\r\n                        selectedRecord[\"ncontainertypecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    containerstructureList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainerstructurecode\"] ?\r\n                        selectedRecord[\"ncontainerstructurecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n    \r\n                    directionmasterList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ndirectionmastercode\"] ?\r\n                        selectedRecord[\"ndirectionmastercode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    selectedRecord = {\r\n                        ...selectedRecord,\r\n                        nneedposition: true,\r\n                       //ALPD-3353\r\n                        nrow: response[0].data[\"selectedSampleStorageVersion\"].nrow===0?1:response[0].data[\"selectedSampleStorageVersion\"].nrow,\r\n                        ncolumn: response[0].data[\"selectedSampleStorageVersion\"].ncolumn===0?1: response[0].data[\"selectedSampleStorageVersion\"].ncolumn,\r\n                        nquantity: response[0].data[\"selectedSampleStorageVersion\"].nquantity,\r\n                        nnoofcontainer:response[0].data[\"selectedSampleStorageVersion\"].nnoofcontainer,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        directionmasterOptions: directionmasterList\r\n                    }\r\n                    this.setState({\r\n                        sampleStorageMappingOpenModal: true,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            nproductcode: { label: response[0].data.samplestoragelocation.sproductname, value: response[0].data.samplestoragelocation.nproductcode },\r\n                            nprojecttypecode: { label: response[0].data.samplestoragelocation.sprojecttypename, value: response[0].data.samplestoragelocation.nprojecttypecode },\r\n                            storageMappingMapOptions: storageMappingMapList,\r\n                            productOptions: productList,\r\n                            projectOptions: projectTypeMapList,\r\n                            unitOptions:unitMapList,\r\n                            containerTypeOptions: containerTypeList,\r\n                            directionmasterOptions: directionmasterList,\r\n                            // ncontainertypecode: containerTypeList[0],\r\n                            // containerStructureOptions: containerstructureList,\r\n                            // ncontainerstructurecode: containerstructureList[0],\r\n                            // nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\r\n                            // ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\r\n                            isInitialRender: true\r\n    \r\n                        },\r\n                        openSpreadSheet: false,\r\n                        operation: 'create',\r\n                        loading: false\r\n                    });\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGESTRUCTURE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onSampleMappingSaveClick = () => {\r\n        const mandatoryFields = this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n            this.state.selectedRecord[\"nneedposition\"] === false ? [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            // },\r\n            // {\r\n            //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n            //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n            //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            // }\r\n        ] : [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            ,\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERTYPE\",\r\n                \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n                \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_DIRECTION\",\r\n                \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n            // },\r\n            // {\r\n            //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n            //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n            //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            // }\r\n        ]\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields,\r\n            this.onSaveClick)\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateChange: event.dataState\r\n        });\r\n    }\r\n\r\n    approveSampleStorageMapping = (event) => {\r\n        if(this.state.masterData.sampleStorageLocation.length>0){\r\n            if(this.state.masterData.sampleStoragemapping.length>0){\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode)) {\r\n                const masterData = this.state.masterData || {};\r\n                    let inputParam = {\r\n                        methodUrl: \"SampleStorageMapping\",\r\n                        // operation: this.props.Login.operation || this.state.operation,\r\n                        operation: \"approve\",\r\n                        classUrl: \"samplestoragemapping\",\r\n                        inputData: \r\n                        {    \r\n                            'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                             userinfo: this.props.Login.userInfo,\r\n\t\t\t\t\t\t\t//ALPD-4934--Vignesh R(24-09-2024)\r\n                             'nsamplestoragemappingcode':this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\r\n                        } \r\n                    };\r\n    \r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, sampleStorageMappingOpenModal:true, operation:\"approve\", screenData: { inputParam, masterData }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else{\r\n\r\n            let inputParamData = {}\r\n            this.setState({ loading: true })\r\n            inputParamData = {\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                userinfo: this.props.Login.userInfo,\r\n\t\t\t\t//ALPD-4934--Vignesh R(24-09-2024)\r\n                'nsamplestoragemappingcode':this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\r\n\r\n            }\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"samplestoragemapping/approveSampleStorageMapping\", inputParamData);\r\n    \r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    this.setState({\r\n                        masterData: {\r\n                            ...this.state.masterData,\r\n                            ...response[0].data\r\n                        },\r\n                        loading: false\r\n                    });\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n            }\r\n        }else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_CANNOTAPPROVEEMPTYMAPPING\" })); \r\n        }\r\n    }else{\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGESTRUCTURE\" })); \r\n        }\r\n       \r\n    }\r\n\r\n    getDynamicFilterExecuteData(inputParam) {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let obj = {// ...inputParam.component, \r\n            label: 'sampleStorageLocation', valuemember: 'nsamplestoragelocationcode',\r\n            filterquery: selectedRecord.filterquery, source: 'sampleStorageLocation', userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"/samplestoragemapping/getdynamicfilterexecutedata\", obj);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                console.log(response)\r\n                let masterData = this.state.masterData\r\n                masterData = { ...masterData, ...response[0].data }\r\n                this.setState({\r\n                    masterData: { ...masterData },\r\n                    loading: false\r\n                })\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data.rtn);\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n    fetchRecord = (data) => {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"samplestoragemapping/getEditSampleStorageMapping\",\r\n            { 'nsamplestoragemappingcode': data.nsamplestoragemappingcode, 'userinfo': this.props.Login.userInfo });\r\n\r\n        const getprojecttype = rsapi.post(\"/projecttype/getProjectType\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n            const getUnit = rsapi.post(\"/unit/getUnit\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2, url3, getprojecttype,getUnit];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                //let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n\r\n                const containerstructureMap = constructOptionList(response[2].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                const editedObject = response[2].data.editsampleStorageMapping;\r\n\r\n                storageMappingMapList.unshift({ label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode })\r\n\r\n                const projectTypeMap = constructOptionList(response[3].data || [], \"nprojecttypecode\",\r\n                    \"sprojecttypename\", undefined, undefined, true);\r\n\r\n                const projectTypeMapList = projectTypeMap.get(\"OptionList\");\r\n\r\n                const unitMap = constructOptionList(response[4].data || [], \"nunitcode\",\r\n                \"sunitname\", undefined, undefined, true);\r\n\r\n            const unitMapList = unitMap.get(\"OptionList\");\r\n\r\n                selectedRecord = {\r\n                    ndirectionmastercode: { label: editedObject.sdirection, value: editedObject.ndirectionmastercode },\r\n                    nsamplestoragecontainerpathcode: { label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode },\r\n                    nproductcode: { label: editedObject.sproductname, value: editedObject.nproductcode },\r\n                    nprojecttypecode: { label: editedObject.sprojecttypename, value: editedObject.nprojecttypecode },\r\n                    nunitcode: { label: editedObject.sunitname, value: editedObject.nunitcode },\r\n                    ncontainertypecode: { label: editedObject.scontainertype, value: editedObject.ncontainertypecode },\r\n                    ncontainerstructurecode: { label: editedObject.scontainerstructurename, value: editedObject.ncontainerstructurecode },\r\n                    nneedposition: editedObject.nneedposition === 3 ? true : false,\r\n                    directionmasterOptions: directionmasterList,\r\n                    nquantity: editedObject.nquantity,\r\n                    nnoofcontainer: editedObject.nnoofcontainer,\r\n                    nrow: editedObject.nrow,\r\n                    ncolumn: editedObject.ncolumn,\r\n                    nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\r\n                }\r\n                this.setState({\r\n                    openSpreadSheet: false,\r\n                    // ncontrolcode: this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode,\r\n                    sampleStorageMappingOpenModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        projectOptions: projectTypeMapList,unitOptions:unitMapList,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        isInitialRender: true\r\n                    },\r\n                    operation: 'update',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    // Actions End\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n\r\n   \r\n    //handleAdd = (e) => {\r\n    //     let file = e.newState[0].getRawFile();\r\n    //     let selectedRecord = this.state.selectedRecord;\r\n    //     selectedRecord['nsamplestoragecontainerpathcode'] = []\r\n    //     /* Boilerplate to set up FileReader */\r\n    //     const reader = new FileReader();\r\n    //     const rABS = !!reader.readAsBinaryString;\r\n    //     let data = []\r\n    //     reader.onload = (e) => {\r\n    //         /* Parse data */\r\n    //         const bstr = e.target.result;\r\n    //         const wb = XLSX.read(bstr, {\r\n    //             type: rABS ? 'binary' : 'array',\r\n    //             bookVBA: true,\r\n    //         });\r\n    //         /* Get first worksheet */\r\n    //         const wsname = wb.SheetNames[0];\r\n    //         const ws = wb.Sheets[wsname];\r\n    //         /* Convert array of arrays */\r\n    //         data = XLSX.utils.sheet_to_json(ws);\r\n    //         console.log(data);\r\n    //         /* Update state */\r\n    //         // this.setState({\r\n    //         //     data,\r\n    //         // });\r\n\r\n    //         console.log('xlsx data :', this.state.storageMappingMapOptions)\r\n\r\n\r\n    //         data.map((x, index) => {\r\n    //             let clientcontainerpath = 'root > ' + x.fz_code + ' > ' + x.sf_code\r\n    //                 + ' > ' + x.rk_code\r\n    //                 + ' > ' + x.tr_code\r\n    //                 + ' > ' + x.bx_code\r\n    //             console.log('clientcontainerpath:', clientcontainerpath)\r\n\r\n    //             this.state.storageMappingMapOptions.map((item, index) => {\r\n    //                 if (item.label === clientcontainerpath) {\r\n    //                     let i = -1\r\n    //                     if (selectedRecord['nsamplestoragecontainerpathcode'].length > 0) {\r\n    //                         i = selectedRecord['nsamplestoragecontainerpathcode']\r\n    //                             .findIndex(k => k.label === clientcontainerpath)\r\n    //                     }\r\n    //                     x['nsamplestoragecontainerpathcode'] = this.state.storageMappingMapOptions[index].value\r\n    //                     if (i === -1) {\r\n\r\n    //                         selectedRecord['nsamplestoragecontainerpathcode'].push(this.state.storageMappingMapOptions[index]);\r\n    //                     }\r\n    //                 }\r\n    //             });\r\n\r\n    //         });\r\n    //         let containerpathCodeArray = [];\r\n\r\n    //         containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n    //         const inputParam = {\r\n    //             nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n    //             nsamplestoragemappingcode: 0,\r\n    //             ncontainertypecode: 1,\r\n    //             nproductcode: 9,\r\n    //             nprojecttypecode: 2,\r\n    //             ndirectionmastercode: 1,\r\n    //             nsamplestoragecontainerpathcode: JSON.stringify(containerpathCodeArray),\r\n    //             containerpathsize: containerpathCodeArray.length,\r\n    //             nneedposition: 3,\r\n    //             ncontainerstructurecode: 1,\r\n    //             nquantity: 100,\r\n    //             sboxid: '-',\r\n    //             //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n    //             userinfo: this.props.Login.userInfo,\r\n    //             clientData: JSON.stringify(data),\r\n    //             isImport: true\r\n    //         }\r\n    //         this.CRUDSampleStorageMapping(inputParam, 'create', true);\r\n    //         console.log('selectedRecord:', selectedRecord['nsamplestoragecontainerpathcode'])\r\n    //     };\r\n    //     if (rABS) {\r\n    //         reader.readAsBinaryString(file);\r\n    //     } else {\r\n    //         reader.readAsArrayBuffer(file);\r\n    //     }\r\n\r\n    // };\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.sampleStorageMappingOpenModal && nextState.isInitialRender === false &&\r\n            (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else if (this.state.sampleStorageMappingOpenModal && nextState.isInitialRender === false &&\r\n            (nextState.sheetData !== this.state.sheetData)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    handlePageChangeFilter = (event) => {\r\n        this.setState({ kendoSkip: event.skip, kendoTake: event.take });\r\n    };\r\n    onChange = (immutableTree, config) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"tree\"] = immutableTree;\r\n        selectedRecord[\"config\"] = config;\r\n        selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\r\n        this.setState({ tree: immutableTree, config: config, selectedRecord: selectedRecord });\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        //const addId = this.state.controlMap.has(\"AddSampleStorageMapping\") && this.state.controlMap.get(\"AddSampleStorageMapping\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragemapping/getActiveSampleStorageMappingById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.state.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        //const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <Preloader loading={this.state.loading} />\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={'sample-storage-mapping-grid'}>\r\n                        <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n\r\n\r\n\r\n                            <TransactionListMasterJsonView\r\n                                paneHeight={this.state.parentHeight}\r\n                                needMultiSelect={false}\r\n                                masterList={this.state.masterData && this.state.masterData.searchedData ||\r\n                                    this.state.masterData && this.state.masterData.sampleStorageLocation || []}\r\n                                selectedMaster={[this.state.masterData && this.state.masterData.selectedSampleStorageLocation]}\r\n                                primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                getMasterDetail={(selectedItem) =>\r\n                                    this.getActiveSampleStorageMappingById(\r\n                                        selectedItem,\r\n                                        this.props.Login.userInfo\r\n                                    )}\r\n                                inputParam={{\r\n                                    userInfo: this.props.Login.userInfo,\r\n                                    masterData: this.props.Login.masterData\r\n                                }}\r\n                                mainField={\"ssamplestoragelocationname\"}\r\n                                selectedListName=\"selectedSampleStorageLocation\"\r\n                                objectName=\"LocationMaster\"\r\n                                listName=\"IDS_STORAGESTRUCTURE\"\r\n                                filterColumnData={this.filterColumnData}\r\n                                searchListName=\"searchedData\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                needFilter={true}\r\n                                hidePaging={false}\r\n                                handlePageChange={this.handlePageChange}\r\n                                skip={this.state.skip}\r\n                                take={this.state.take}\r\n                                commonActions={\r\n                                    <ProductList className=\"d-flex product-category float-right\">\r\n                                        {/* <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageMapping(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button> */}\r\n                                        <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                            onClick={() => this.reloadData()}\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <RefreshIcon className='custom_icons'/>\r\n                                        </Button>\r\n                                    </ProductList>\r\n                                }\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TESTFILTER\":\r\n                                            <StorageMappingFilter\r\n                                                storageCategoryOptions={this.state.storageCategoryOptions || []}\r\n                                                nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                storageLocationOptions={this.state.storageLocationOptions || []}\r\n                                                storageLocationValue={this.state.storageLocationValue || []}\r\n                                                sampleStorageVersionOptions={this.state.sampleStorageVersionOptions || []}\r\n                                                storageVersionValue={this.state.storageVersionValue || []}\r\n                                                onComboChange={this.onComboChange}\r\n                                                selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n\r\n                            />\r\n\r\n                           \r\n\r\n                                <>\r\n                                    <Card.Title className=\"product-title-main\">\r\n                                        {this.state.masterData&&this.state.masterData.selectedSampleStorageLocation&&\r\n                                        this.state.masterData.selectedSampleStorageLocation.ssamplestoragelocationname }</Card.Title>\r\n\r\n                                    <Card.Subtitle>\r\n                                        <div className=\"d-flex product-category\">\r\n                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                <Nav.Link className=\"action-icons-wrap mr-2 pl-0\">\r\n                                                    { \r\n                                                    this.state.masterData&&this.state.masterData.selectedSampleStorageLocation ?\r\n                                                    this.state.masterData.selectedSampleStorageLocation.nmappingtranscode === transactionStatus.DRAFT ?\r\n\r\n                                                        <span className={`btn btn-outlined  outline-secondary btn-sm mr-3`}>\r\n                                                            <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                        </span>\r\n                                                        :\r\n                                                        <span className={`btn btn-outlined outline-success btn-sm mr-3`}>\r\n                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                        </span> :\"\"\r\n                                                    }\r\n                                                </Nav.Link>\r\n                                            </h2>\r\n                                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                //hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                // data-for=\"tooltip_list_wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_IMPORT\" })}\r\n                                                onClick={(e) => this.importdata(faThumbsUp)}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={faFileImport} />\r\n\r\n                                            </Nav.Link>  */}\r\n                                            {/* <Button className=\"btn btn-circle outline-grey\"\r\n                                                            variant=\"link\"\r\n                                                            data-tip={this.props.intl.formatMessage({\r\n                                                                id: \"IDS_SAMPLE\"\r\n                                                            })}\r\n                                                            onClick={() => this.addSample({}, 2)}>\r\n                                                            <FontAwesomeIcon icon={faPuzzlePiece} />\r\n                                                        </Button> */}\r\n                                                        {/* {this.state.masterData && this.state.masterData.sampleStoragemapping && \r\n                                                          <Button className=\"btn btn-circle outline-grey\"\r\n                                            variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({\r\n                                                id: \"IDS_APPROVE\"\r\n                                            })}\r\n                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                            onClick={() => this.approveSampleStorageMapping()}\r\n\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                        </Button>} */}\r\n                                          \r\n                                            {/* <div className=\"d-flex justify-content-end mt-3\">\r\n                                                            <Button className=\"btn-user btn-primary-blue\"\r\n                                                                onClick={() => this.getDynamicFilterExecuteData()}>\r\n                                                                <FontAwesomeIcon icon={faCalculator} /> { }\r\n                                                                <FormattedMessage id='IDS_EXECUTE' defaultMessage='Execute' />\r\n                                                            </Button>\r\n                                                        </div> */}\r\n                                        </div>\r\n\r\n                                    </Card.Subtitle>\r\n                                    {/* <FilterQueryBuilder\r\n                                                    fields={this.state.fields}\r\n                                                    queryArray={this.state.queryArray}\r\n                                                    skip={this.state.kendoSkip}\r\n                                                    take={this.state.kendoTake}\r\n                                                    onChange={this.onChange}\r\n                                                    tree={this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree}\r\n                                                    gridColumns={this.slideList}\r\n                                                    filterData={this.props.Login.slideResult || []}\r\n                                                    handlePageChange={this.handlePageChangeFilter}\r\n                                                    static={true}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    updateStore={this.props.updateStore}\r\n                                                /> */}\r\n                                       \r\n                                    <DataGrid\r\n                                        isRefreshRequired={false}\r\n                                        // fetchRecord={this.fetchRecord}\r\n                                        // editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\r\n                                        // handleClickDelete={this.deletesamplestoragemapping}\r\n                                        methodUrl={'SampleStorageMapping'}\r\n                                        isAddRequired={this.state.masterData &&  \r\n                                            this.state.masterData.sampleStoragemapping?true:false}\r\n                                        primaryKeyField={'nsamplestoragemappingcode'}\r\n                                        data={this.state.masterData && this.state.masterData.sampleStoragemapping &&\r\n                                            this.state.masterData.sampleStoragemapping}\r\n                                        dataResult={this.state.masterData &&\r\n                                            this.state.masterData.sampleStoragemapping &&\r\n                                            process(this.state.masterData.sampleStoragemapping || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 })}\r\n                                        dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                        dataStateChange={this.dataStateChange}\r\n                                        isCustomButton={true}\r\n                                        customButtonlist={this.state.masterData && this.state.masterData.sampleStoragemapping ?[{\r\n                                            label: 'IDS_APPROVE',\r\n                                            id: {},  \r\n                                            hidden : this.state.userRoleControlRights.indexOf(approveId) === -1,\r\n                                            onClick: () => this.approveSampleStorageMapping(),\r\n                                            controlname: 'faThumbsUp'\r\n                                        }]:[]}\r\n                                        extractedColumnList={[\r\n                                            { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"450px\" },\r\n                                            { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"sproductname\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"sprojecttypename\", \"width\": \"200px\" }, \r\n                                            { \"idsName\": \"IDS_CONTAINERID\", \"dataField\": \"sboxid\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"scontainertype\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\", \"dataField\": \"scontainerstructurename\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_AVAILABLEQTY\", \"dataField\": \"nquantity\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"200px\" },//ALPD-4483 janakumar added the unit datagrid field\r\n                                            { \"idsName\": \"IDS_NEEDPREDEFINEDSTRUCURE\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n\r\n                                        ]}\r\n                                        controlMap={this.state.controlMap}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        //     fetchRecord={this.fetchRecord}\r\n                                        //    editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\r\n                                        // deleteRecord={this.deleteRecord}\r\n                                        addRecord={() => this.openStorageMapping()}\r\n                                        pageable={true}\r\n                                        scrollable={'scrollable'}\r\n                                        // isComponent={true}\r\n                                        gridHeight={'500px'}\r\n                                        isActionRequired={true\r\n                                            // this.state.masterData&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation&&this.state.masterData.\r\n                                            //     selectedSampleStorageLocation.nmappingtranscode\r\n                                            //     === transactionStatus.DRAFT ? true : false\r\n                                            }\r\n                                        isToolBarRequired={true}\r\n                                        //ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\r\n                                        isDownloadPDFRequired={false}\r\n                                        isDownloadExcelRequired={true}\r\n                                        actionIcons={\r\n                                            // this.state.masterData&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation.nmappingtranscode\r\n                                            // === transactionStatus.DRAFT ?\r\n                                            [\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                    controlname: \"faPencilAlt\",\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                    objectName: \"edit\",\r\n                                                    onClick: this.fetchRecord\r\n                                                },\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                    controlname: \"faTrashAlt\",\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                    objectName: \"delete\",\r\n                                                    onClick: this.handleClickDelete\r\n                                                },\r\n                                                // {\r\n                                                //     title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLE\" }),\r\n                                                //     controlname: \"faPenSquare\",\r\n                                                //     hidden: false,\r\n                                                //     objectName: \"add\",\r\n                                                //     onClick: (param) => this.addSample(param, 1)\r\n                                                // }\r\n                                            ] \r\n                                           // : []\r\n                                        }\r\n                                    />    </>\r\n\r\n\r\n                       \r\n\r\n\r\n                        </SplitterLayout>\r\n                    </Row>\r\n                </ListWrapper >\r\n\r\n                {\r\n                    this.state.sampleStorageMappingOpenModal &&\r\n                    <SlideOutModal show={this.state.sampleStorageMappingOpenModal}\r\n                        closeModal={this.closeModal}\r\n                        size={this.state.openSpreadSheet ? 'xl' : \"\"}\r\n                        operation={this.state.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMAPPING\" })}\r\n                        onSaveClick={this.onSampleMappingSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        // className={\"wide-popup\"}\r\n\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                           // this.state.importdata ?\r\n                                // <Upload\r\n                                //     batch={false}\r\n                                //     multiple={false}\r\n                                //     defaultFiles={[]}\r\n                                //     withCredentials={false}\r\n                                //     autoUpload={false}\r\n                                //     onAdd={this.handleAdd}\r\n                                // />\r\n                               // :\r\n\r\n                                this.props.Login.loadEsign ?\r\n                                    <Esign operation={this.props.Login.operation || this.state.operation}\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        inputParam={this.props.Login.inputParam}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                    />\r\n                                    :\r\n                                    this.state.openSpreadSheet ? <>\r\n                                        {/* <Spreadsheet\r\n                                    data={this.state.placedSample}\r\n                                    Rows={this.state.Rows || 1}\r\n                                    columns={this.state.columns || 1}\r\n                                /> */}\r\n                                        <MatrixComponent\r\n                                            Rows={this.state.Rows || 1}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                            columns={this.state.columns || 1}\r\n                                            selectedRecord={this.state.selectedRecord.sheetData || {}}\r\n                                            sheetData={this.state.sheetData || {}}\r\n                                            isMultiSampleAdd={this.state.isMultiSampleAdd}\r\n                                            childSheetDataChange={this.childSheetDataChange}\r\n                                            editedsheetData={this.state.editedsheetData}\r\n                                            multipleSheetData={this.state.masterData &&\r\n                                                this.state.masterData.sampleStoragemapping &&\r\n                                                process(this.state.masterData.sampleStoragemapping || [],\r\n                                                    this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }).data} />\r\n                                    </> :\r\n                                        <AddSampleStorageMapping\r\n                                            operation={this.state.operation}\r\n                                            selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                            onInputChange={(e) => this.onInputChange(e)}\r\n                                            onComboChange={this.onComboChange}\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            childDataChange={this.childDataChange}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                        />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        let screenData = this.props.Login.screenData;\r\n        screenData['inputParam']['selectedRecord']= this.state.selectedRecord || {};\r\n        if(screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode']){\r\n            delete screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode'];\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: screenData\r\n        }\r\n       \r\n        this.props.validateEsignCredentialStorage(inputParam,\"sampleStorageMappingOpenModal\");\r\n    }\r\n\r\n   \r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, updateStore,validateEsignCredentialStorage\r\n})(injectIntl(SampleStorageMapping));"]},"metadata":{},"sourceType":"module"}