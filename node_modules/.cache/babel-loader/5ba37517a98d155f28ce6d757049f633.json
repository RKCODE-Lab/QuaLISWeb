{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { SchedulerOccurrenceDialog } from '../components/SchedulerOccurrenceDialog';\nimport { SchedulerForm } from '../components/SchedulerForm';\nimport { SchedulerRemoveDialog } from '../components/SchedulerRemoveDialog';\nimport { Keys, guid } from '@progress/kendo-react-common';\nimport { SchedulerDrag } from '../views/common/SchedulerDrag';\nimport { SchedulerResize } from '../views/common/SchedulerResize';\nimport { SchedulerViewItem } from './SchedulerViewItem';\nimport { ITEMS_FOCUS_ACTION, SLOTS_FOCUS_ACTION, useEditable } from '../hooks';\nimport { useSchedulerViewFocusedItemsContext, useSchedulerViewFocusedSlotsContext, useSchedulerViewSelectedItemsContext, useSchedulerViewItemsContext, SchedulerItemSelectionContext } from '../context';\nimport { SchedulerEditItemContext } from '../context/SchedulerEditItemContext';\nimport { FORM_ITEM_ACTION, useFormItem } from './hooks/use-form-item';\nimport { SHOW_OCCURRENCE_DIALOG_ACTION, useShowOccurrenceDialog } from './hooks/use-show-occurrence-dialog';\nimport { REMOVE_ITEM_ACTION, useRemoveItem } from './hooks/use-remove-item';\nimport { SHOW_REMOVE_DIALOG_ACTION, useShowRemoveDialog } from './hooks/use-show-remove-item-dialog';\nimport { DRAG_ITEM_ACTION, useDragItem } from './hooks/use-drag-item';\nimport { RESIZE_ITEM_ACTION, useResizeItem } from './hooks/use-resize-item';\nimport { SERIES_ACTION, useSeries } from './hooks/use-series';\nimport { ITEMS_SELECT_ACTION } from '../hooks/use-items-selection';\n/**\n * Represents the default `editItem` component rendered by the [KendoReact Scheduler component]({% slug overview_scheduler %}).\n *\n * This is a composite component of the [`SchedulerViewItem`]({% slug api_scheduler_schedulerviewitem %}), extending it to provide editing through drag, resize and external form.\n */\n\nexport var SchedulerEditItem = React.forwardRef(function (props, ref) {\n  // tslint:enable:max-line-length\n  var _ref = props._ref,\n      itemRef = props.itemRef,\n      onDataAction = props.onDataAction,\n      ignoreIsAllDay = props.ignoreIsAllDay,\n      propViewItem = props.viewItem,\n      propSeries = props.series,\n      onSeriesChange = props.onSeriesChange,\n      propForm = props.form,\n      propFormItem = props.formItem,\n      onFormItemChange = props.onFormItemChange,\n      propDrag = props.drag,\n      propDragItem = props.dragItem,\n      onDragItemChange = props.onDragItemChange,\n      propResize = props.resize,\n      propResizeItem = props.resizeItem,\n      onResizeItemChange = props.onResizeItemChange,\n      propRemoveDialog = props.removeDialog,\n      propRemoveItem = props.removeItem,\n      onRemoveItemChange = props.onRemoveItemChange,\n      propOccurrenceDialog = props.occurrenceDialog,\n      propShowOccurrenceDialog = props.showOccurrenceDialog,\n      onShowOccurrenceDialogChange = props.onShowOccurrenceDialogChange,\n      propShowRemoveDialog = props.showRemoveDialog,\n      onShowRemoveDialogChange = props.onShowRemoveDialogChange,\n      onFocus = props.onFocus,\n      onFocusAction = props.onFocusAction,\n      onMouseDown = props.onMouseDown,\n      onMouseDownAction = props.onMouseDownAction,\n      onMouseUp = props.onMouseUp,\n      onMouseUpAction = props.onMouseUpAction,\n      onClick = props.onClick,\n      onClickAction = props.onClickAction,\n      onDoubleClick = props.onDoubleClick,\n      onDoubleClickAction = props.onDoubleClickAction,\n      onRemoveClick = props.onRemoveClick,\n      onRemoveClickAction = props.onRemoveClickAction,\n      onPress = props.onPress,\n      onPressAction = props.onPressAction,\n      onDrag = props.onDrag,\n      onDragAction = props.onDragAction,\n      onRelease = props.onRelease,\n      onReleaseAction = props.onReleaseAction,\n      onResizePress = props.onResizePress,\n      onResizePressAction = props.onResizePressAction,\n      onResizeStartDrag = props.onResizeStartDrag,\n      onResizeStartDragAction = props.onResizeStartDragAction,\n      onResizeEndDrag = props.onResizeEndDrag,\n      onResizeEndDragAction = props.onResizeEndDragAction,\n      onResizeRelease = props.onResizeRelease,\n      onResizeReleaseAction = props.onResizeReleaseAction,\n      onOccurrenceClick = props.onOccurrenceClick,\n      onOccurrenceClickAction = props.onOccurrenceClickAction,\n      onSeriesClick = props.onSeriesClick,\n      onSeriesClickAction = props.onSeriesClickAction,\n      onKeyDown = props.onKeyDown,\n      onKeyDownAction = props.onKeyDownAction,\n      onKeyUp = props.onKeyUp,\n      onKeyUpAction = props.onKeyUpAction,\n      onRemoveConfirm = props.onRemoveConfirm,\n      onRemoveConfirmAction = props.onRemoveConfirmAction,\n      onFormSubmit = props.onFormSubmit,\n      onFormSubmitAction = props.onFormSubmitAction,\n      onCancel = props.onCancel,\n      onCancelAction = props.onCancelAction;\n\n  var _a = React.useState(props.tabIndex),\n      tabIndex = _a[0],\n      setTabIndex = _a[1];\n\n  var editItem = React.useRef(null);\n  var item = React.useRef(null);\n  var eventId = React.useMemo(function () {\n    return guid();\n  }, []);\n  React.useImperativeHandle(editItem, function () {\n    return {\n      props: props,\n      element: item.current && item.current.element\n    };\n  });\n  React.useImperativeHandle(ref, function () {\n    return editItem.current;\n  });\n  React.useImperativeHandle(_ref, function () {\n    return item.current;\n  });\n  React.useImperativeHandle(itemRef, function () {\n    return item.current;\n  });\n  var ViewItem = propViewItem || defaultProps.viewItem;\n  var Drag = propDrag || defaultProps.drag;\n  var Resize = propResize || defaultProps.resize;\n  var Form = propForm || defaultProps.form;\n  var OccurrenceDialog = propOccurrenceDialog || defaultProps.occurrenceDialog;\n  var RemoveDialog = propRemoveDialog || defaultProps.removeDialog;\n  var editable = useEditable(props.editable);\n\n  var _b = useSchedulerViewSelectedItemsContext(),\n      selectedItems = _b[0],\n      dispatchItemSelection = _b[1];\n\n  var _c = useSeries(null, propSeries, onSeriesChange),\n      series = _c[0],\n      dispatchSeries = _c[2];\n\n  var _d = useFormItem({\n    series: series,\n    onDataAction: onDataAction\n  }, [null, propFormItem, onFormItemChange]),\n      formItem = _d[0],\n      setFormItem = _d[1],\n      dispatchFormItem = _d[2];\n\n  var _e = useDragItem({\n    dataItem: props.dataItem,\n    ignoreIsAllDay: props.ignoreIsAllDay,\n    isAllDay: props.isAllDay,\n    onDataAction: onDataAction\n  }, [null, propDragItem, onDragItemChange]),\n      dragItem = _e[0],\n      setDragItem = _e[1],\n      dispatchDragItem = _e[2];\n\n  var _f = useResizeItem({\n    dataItem: props.dataItem,\n    onDataAction: onDataAction\n  }, [null, propResizeItem, onResizeItemChange]),\n      resizeItem = _f[0],\n      setResizeItem = _f[1],\n      dispatchResizeItem = _f[2];\n\n  var _g = useRemoveItem({\n    series: series,\n    onDataAction: onDataAction\n  }, [null, propRemoveItem, onRemoveItemChange]),\n      removeItem = _g[0],\n      setRemoveItem = _g[1],\n      dispatchRemoveItem = _g[2];\n\n  var _h = useShowRemoveDialog(false, propShowRemoveDialog, onShowRemoveDialogChange),\n      showRemoveDialog = _h[0],\n      setShowRemoveDialog = _h[1],\n      dispatchShowRemoveDialog = _h[2];\n\n  var _j = useShowOccurrenceDialog(false, propShowOccurrenceDialog, onShowOccurrenceDialogChange),\n      showOccurrenceDialog = _j[0],\n      setShowOccurrenceDialog = _j[1],\n      dispatchShowOccurrenceDialog = _j[2];\n\n  var items = useSchedulerViewItemsContext()[0];\n\n  var _k = useSchedulerViewFocusedItemsContext(),\n      dispatchViewItemsFocus = _k[1];\n\n  var _l = useSchedulerViewFocusedSlotsContext(),\n      dispatchViewSlotsFocus = _l[1];\n\n  var selected = Boolean(selectedItems && selectedItems.some(function (si) {\n    return si.current === item.current;\n  }));\n  var state = React.useMemo(function () {\n    return {\n      selected: selected,\n      series: series,\n      formItem: formItem,\n      dragItem: dragItem,\n      resizeItem: resizeItem,\n      removeItem: removeItem,\n      showRemoveDialog: showRemoveDialog,\n      showOccurrenceDialog: showOccurrenceDialog\n    };\n  }, [dragItem, formItem, removeItem, resizeItem, selected, series, showOccurrenceDialog, showRemoveDialog]);\n  var actionsReducerMap = React.useMemo(function () {\n    var _a;\n\n    return _a = {}, _a[SERIES_ACTION.set] = dispatchSeries, _a[SERIES_ACTION.toggle] = dispatchSeries, _a[SERIES_ACTION.reset] = dispatchSeries, _a[ITEMS_SELECT_ACTION.select] = dispatchItemSelection, _a[ITEMS_SELECT_ACTION.add] = dispatchItemSelection, _a[ITEMS_SELECT_ACTION.remove] = dispatchItemSelection, _a[ITEMS_SELECT_ACTION.reset] = dispatchItemSelection, _a[ITEMS_SELECT_ACTION.selectNext] = dispatchItemSelection, _a[ITEMS_SELECT_ACTION.selectPrev] = dispatchItemSelection, _a[FORM_ITEM_ACTION.set] = dispatchFormItem, _a[FORM_ITEM_ACTION.setMaster] = dispatchFormItem, _a[FORM_ITEM_ACTION.reset] = dispatchFormItem, _a[FORM_ITEM_ACTION.complete] = dispatchFormItem, _a[REMOVE_ITEM_ACTION.set] = dispatchRemoveItem, _a[REMOVE_ITEM_ACTION.reset] = dispatchRemoveItem, _a[REMOVE_ITEM_ACTION.complete] = dispatchRemoveItem, _a[SHOW_OCCURRENCE_DIALOG_ACTION.close] = dispatchShowOccurrenceDialog, _a[SHOW_OCCURRENCE_DIALOG_ACTION.open] = dispatchShowOccurrenceDialog, _a[SHOW_OCCURRENCE_DIALOG_ACTION.set] = dispatchShowOccurrenceDialog, _a[SHOW_OCCURRENCE_DIALOG_ACTION.toggle] = dispatchShowOccurrenceDialog, _a[SHOW_OCCURRENCE_DIALOG_ACTION.reset] = dispatchShowOccurrenceDialog, _a[SHOW_REMOVE_DIALOG_ACTION.close] = dispatchShowRemoveDialog, _a[SHOW_REMOVE_DIALOG_ACTION.open] = dispatchShowRemoveDialog, _a[SHOW_REMOVE_DIALOG_ACTION.set] = dispatchShowRemoveDialog, _a[SHOW_REMOVE_DIALOG_ACTION.toggle] = dispatchShowRemoveDialog, _a[SHOW_REMOVE_DIALOG_ACTION.reset] = dispatchShowRemoveDialog, _a[DRAG_ITEM_ACTION.start] = dispatchDragItem, _a[DRAG_ITEM_ACTION.drag] = dispatchDragItem, _a[DRAG_ITEM_ACTION.complete] = dispatchDragItem, _a[DRAG_ITEM_ACTION.completeOccurrence] = dispatchDragItem, _a[DRAG_ITEM_ACTION.completeSeries] = dispatchDragItem, _a[DRAG_ITEM_ACTION.set] = dispatchDragItem, _a[DRAG_ITEM_ACTION.reset] = dispatchDragItem, _a[DRAG_ITEM_ACTION.dragSelected] = dispatchDragItem, _a[RESIZE_ITEM_ACTION.start] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.startDrag] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.startDragSelected] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.endDrag] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.endDragSelected] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.complete] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.completeOccurrence] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.completeSeries] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.set] = dispatchResizeItem, _a[RESIZE_ITEM_ACTION.reset] = dispatchResizeItem, _a[ITEMS_FOCUS_ACTION.next] = dispatchViewItemsFocus, _a[ITEMS_FOCUS_ACTION.prev] = dispatchViewItemsFocus, _a[SLOTS_FOCUS_ACTION.left] = dispatchViewSlotsFocus, _a[SLOTS_FOCUS_ACTION.right] = dispatchViewSlotsFocus, _a[SLOTS_FOCUS_ACTION.up] = dispatchViewSlotsFocus, _a[SLOTS_FOCUS_ACTION.down] = dispatchViewSlotsFocus, _a.null = function () {}, _a;\n  }, [dispatchDragItem, dispatchFormItem, dispatchItemSelection, dispatchRemoveItem, dispatchResizeItem, dispatchSeries, dispatchShowOccurrenceDialog, dispatchShowRemoveDialog, dispatchViewItemsFocus, dispatchViewSlotsFocus]);\n  var handleFocus = React.useCallback(function (event) {\n    if (onFocusAction) {\n      var actions = onFocusAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onFocus) {\n      onFocus.call(undefined, event);\n    }\n  }, [actionsReducerMap, onFocus, onFocusAction, props, state]);\n  var handleMouseDown = React.useCallback(function (event) {\n    if (onMouseDownAction) {\n      var actions = onMouseDownAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onMouseDown) {\n      onMouseDown.call(undefined, event);\n    }\n  }, [actionsReducerMap, onMouseDown, onMouseDownAction, props, state]);\n  var handleMouseUp = React.useCallback(function (event) {\n    if (onMouseUpAction) {\n      var actions = onMouseUpAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onMouseUp) {\n      onMouseUp.call(undefined, event);\n    }\n  }, [actionsReducerMap, onMouseUp, onMouseUpAction, props, state]);\n\n  var _m = React.useContext(SchedulerItemSelectionContext),\n      setSelectedItem = _m[1];\n\n  var handleClick = React.useCallback(function (event) {\n    if (onClickAction) {\n      setSelectedItem(item.current);\n      var actions = onClickAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onClick) {\n      onClick.call(undefined, event);\n    }\n  }, [actionsReducerMap, onClick, onClickAction, props, state]);\n  var handleDoubleClick = React.useCallback(function (event) {\n    if (onDoubleClickAction) {\n      var actions = onDoubleClickAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onDoubleClick) {\n      onDoubleClick.call(undefined, event);\n    }\n  }, [onDoubleClickAction, onDoubleClick, props, actionsReducerMap, state]);\n  var handleRemoveClick = React.useCallback(function (event) {\n    if (onRemoveClickAction) {\n      var actions = onRemoveClickAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }));\n      }\n    }\n\n    if (onRemoveClick) {\n      onRemoveClick.call(undefined, event);\n    }\n  }, [onRemoveClickAction, onRemoveClick, props, actionsReducerMap, state]);\n  var handlePress = React.useCallback(function (event) {\n    if (onPressAction) {\n      var actions = onPressAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event);\n      }\n    }\n\n    if (onPress) {\n      onPress.call(undefined, event);\n    }\n  }, [onPressAction, onPress, props, actionsReducerMap, state]);\n  var handleDrag = React.useCallback(function (event) {\n    if (onDragAction) {\n      var actions = onDragAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onDrag) {\n      onDrag.call(undefined, event);\n    }\n  }, [onDragAction, onDrag, props, actionsReducerMap, state]);\n  var handleRelease = React.useCallback(function (event) {\n    if (onReleaseAction) {\n      var actions = onReleaseAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onRelease) {\n      onRelease.call(undefined, event);\n    }\n  }, [onReleaseAction, onRelease, props, actionsReducerMap, state]);\n  var handleResizePress = React.useCallback(function (event) {\n    if (onResizePressAction) {\n      var actions = onResizePressAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onResizePress) {\n      onResizePress.call(undefined, event);\n    }\n  }, [onResizePressAction, onResizePress, props, state, actionsReducerMap]);\n  var handleResizeStartDrag = React.useCallback(function (event) {\n    if (onResizeStartDragAction) {\n      var actions = onResizeStartDragAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onResizeStartDrag) {\n      onResizeStartDrag.call(undefined, event);\n    }\n  }, [onResizeStartDrag, onResizeStartDragAction, props, actionsReducerMap, state]);\n  var handleResizeEndDrag = React.useCallback(function (event) {\n    if (onResizeEndDragAction) {\n      var actions = onResizeEndDragAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onResizeEndDrag) {\n      onResizeEndDrag.call(undefined, event);\n    }\n  }, [onResizeEndDrag, onResizeEndDragAction, props, actionsReducerMap, state]);\n  var handleResizeRelease = React.useCallback(function (event) {\n    if (onResizeReleaseAction) {\n      var actions = onResizeReleaseAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.dragEvent.originalEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.dragEvent.originalEvent);\n      }\n    }\n\n    if (onResizeRelease) {\n      onResizeRelease.call(undefined, event);\n    }\n  }, [onResizeReleaseAction, onResizeRelease, props, actionsReducerMap, state]);\n  var handleFormSubmit = React.useCallback(function (event) {\n    if (onFormSubmitAction) {\n      var actions = onFormSubmitAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event);\n      }\n    }\n\n    if (onFormSubmit) {\n      onFormSubmit.call(undefined, event);\n    }\n  }, [onFormSubmitAction, onFormSubmit, props, state, actionsReducerMap]);\n  var handleCancel = React.useCallback(function (event) {\n    if (onCancelAction) {\n      var actions = onCancelAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event);\n      }\n    }\n\n    if (onCancel) {\n      onCancel.call(undefined, event);\n    }\n  }, [onCancelAction, onCancel, props, state, actionsReducerMap]);\n  var handleOccurrenceClick = React.useCallback(function (event) {\n    if (onOccurrenceClickAction) {\n      var actions = onOccurrenceClickAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event);\n      }\n    }\n\n    if (onOccurrenceClick) {\n      onOccurrenceClick.call(undefined, event);\n    }\n  }, [onOccurrenceClickAction, onOccurrenceClick, props, state, actionsReducerMap]);\n  var handleSeriesClick = React.useCallback(function (event) {\n    if (onSeriesClickAction) {\n      var actions = onSeriesClickAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event);\n      }\n    }\n\n    if (onSeriesClick) {\n      onSeriesClick.call(undefined, event);\n    }\n  }, [onSeriesClickAction, onSeriesClick, props, state, actionsReducerMap]);\n  var handleKeyDown = React.useCallback(function (event) {\n    if (onKeyDownAction) {\n      var actions = onKeyDownAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.syntheticEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.syntheticEvent);\n      }\n    }\n\n    if (onKeyDown) {\n      onKeyDown.call(undefined, event);\n    }\n  }, [onKeyDownAction, onKeyDown, props, state, actionsReducerMap]);\n  var handleKeyUp = React.useCallback(function (event) {\n    if (onKeyUpAction) {\n      var actions = onKeyUpAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.syntheticEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.syntheticEvent);\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp.call(undefined, event);\n    }\n  }, [onKeyUpAction, onKeyUp, props, state, actionsReducerMap]);\n  var handleRemoveConfirm = React.useCallback(function (event) {\n    if (onRemoveConfirmAction) {\n      var actions = onRemoveConfirmAction(event, props, state);\n\n      if (actions) {\n        Array.isArray(actions) ? actions.filter(Boolean).map(function (action) {\n          return action && actionsReducerMap[action.type](__assign(__assign({}, action), {\n            item: item\n          }), event.syntheticEvent);\n        }) : actionsReducerMap[actions.type](__assign(__assign({}, actions), {\n          item: item\n        }), event.syntheticEvent);\n      }\n    }\n\n    if (onRemoveConfirm) {\n      onRemoveConfirm.call(undefined, event);\n    }\n  }, [onRemoveConfirmAction, onRemoveConfirm, props, state, actionsReducerMap]);\n  React.useEffect(function () {\n    var isFirst = items.length && items[0].current === item.current;\n    setTabIndex(props.tabIndex !== undefined ? props.tabIndex === null ? undefined : props.tabIndex : selectedItems.length === 0 ? isFirst ? 0 : undefined : undefined);\n  }, [items, props.tabIndex, selectedItems.length]);\n  return React.createElement(SchedulerEditItemContext, {\n    props: props,\n    form: [formItem, setFormItem, dispatchFormItem],\n    drag: [dragItem, setDragItem, dispatchDragItem],\n    resize: [resizeItem, setResizeItem, dispatchResizeItem],\n    remove: [removeItem, setRemoveItem, dispatchRemoveItem],\n    showRemoveDialog: [showRemoveDialog, setShowRemoveDialog, dispatchShowRemoveDialog],\n    showOccurrenceDialog: [showOccurrenceDialog, setShowOccurrenceDialog, dispatchShowOccurrenceDialog]\n  }, React.createElement(ViewItem, __assign({}, props, {\n    _ref: item,\n    itemRef: item,\n    selected: selected,\n    tabIndex: tabIndex,\n    id: eventId,\n    // Keyboard\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    // Focus\n    onFocus: handleFocus,\n    // Mouse\n    onMouseUp: handleMouseUp,\n    onMouseDown: handleMouseDown,\n    onClick: handleClick,\n    onDoubleClick: handleDoubleClick,\n    onRemoveClick: handleRemoveClick,\n    // Drag\n    onPress: handlePress,\n    onDrag: handleDrag,\n    onRelease: handleRelease,\n    // Resize\n    onResizePress: handleResizePress,\n    onResizeEndDrag: handleResizeEndDrag,\n    onResizeStartDrag: handleResizeStartDrag,\n    onResizeRelease: handleResizeRelease\n  })), dragItem && editable.drag && (Array.isArray(dragItem) ? dragItem.map(function (di, idx) {\n    return React.createElement(Drag, {\n      key: idx,\n      ignoreIsAllDay: ignoreIsAllDay,\n      dataItem: di,\n      vertical: props.vertical,\n      viewItem: ViewItem,\n      item: props.item\n    });\n  }) : React.createElement(Drag, {\n    ignoreIsAllDay: ignoreIsAllDay,\n    dataItem: dragItem,\n    vertical: props.vertical,\n    viewItem: ViewItem,\n    item: props.item\n  })), resizeItem && editable.resize && (Array.isArray(resizeItem) ? resizeItem.map(function (ri, idx) {\n    return React.createElement(Resize, {\n      key: idx,\n      format: props.format,\n      ignoreIsAllDay: ignoreIsAllDay,\n      dataItem: ri,\n      viewItem: props.viewItem,\n      item: props.item,\n      vertical: props.vertical\n    });\n  }) : React.createElement(Resize, {\n    format: props.format,\n    ignoreIsAllDay: ignoreIsAllDay,\n    dataItem: resizeItem,\n    viewItem: props.viewItem,\n    item: props.item,\n    vertical: props.vertical\n  })), formItem && !showOccurrenceDialog && editable.edit && React.createElement(Form, {\n    dataItem: formItem,\n    onSubmit: handleFormSubmit,\n    onClose: handleCancel,\n    onCancel: handleCancel\n  }), showOccurrenceDialog && React.createElement(OccurrenceDialog, {\n    dataItem: formItem || dragItem || resizeItem || removeItem,\n    isRemove: removeItem !== null,\n    onClose: handleCancel,\n    onOccurrenceClick: handleOccurrenceClick,\n    onSeriesClick: handleSeriesClick\n  }), showRemoveDialog && removeItem && editable.remove && React.createElement(RemoveDialog, {\n    dataItem: removeItem,\n    onClose: handleCancel,\n    onCancel: handleCancel,\n    onConfirm: handleRemoveConfirm\n  }));\n});\nvar defaultProps = {\n  viewItem: SchedulerViewItem,\n  drag: SchedulerDrag,\n  resize: SchedulerResize,\n  form: SchedulerForm,\n  occurrenceDialog: SchedulerOccurrenceDialog,\n  removeDialog: SchedulerRemoveDialog,\n  onClickAction: function (event, _, state) {\n    return [{\n      type: event.syntheticEvent.metaKey || event.syntheticEvent.ctrlKey ? state.selected && !state.dragItem && !state.resizeItem ? ITEMS_SELECT_ACTION.remove : ITEMS_SELECT_ACTION.add : ITEMS_SELECT_ACTION.select\n    }];\n  },\n  onDoubleClickAction: function (_, props) {\n    return props.editable ? [{\n      type: FORM_ITEM_ACTION.set,\n      payload: props.dataItem\n    }, props.isRecurring && {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.open\n    }].filter(Boolean) : [];\n  },\n  onRemoveClickAction: function (_, props) {\n    return props.editable ? [{\n      type: REMOVE_ITEM_ACTION.set,\n      payload: props.dataItem\n    }, props.isRecurring ? {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.open\n    } : {\n      type: SHOW_REMOVE_DIALOG_ACTION.open\n    }] : [];\n  },\n  onPressAction: function (event, props) {\n    return props.editable ? {\n      type: DRAG_ITEM_ACTION.start,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onDragAction: function (event, props) {\n    return props.editable ? {\n      type: event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey ? DRAG_ITEM_ACTION.dragSelected : DRAG_ITEM_ACTION.drag,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onReleaseAction: function (event, props, state) {\n    return props.editable && state.dragItem ? props.isRecurring && !props.isException && state.series === null ? {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.open\n    } : {\n      type: props.isRecurring ? state.series ? DRAG_ITEM_ACTION.completeSeries : DRAG_ITEM_ACTION.completeOccurrence : DRAG_ITEM_ACTION.complete,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onResizePressAction: function (event, props) {\n    return props.editable ? {\n      type: RESIZE_ITEM_ACTION.start,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onResizeStartDragAction: function (event, props) {\n    return props.editable ? {\n      type: event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey ? RESIZE_ITEM_ACTION.startDragSelected : RESIZE_ITEM_ACTION.startDrag,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onResizeEndDragAction: function (event, props) {\n    return props.editable ? {\n      type: event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey ? RESIZE_ITEM_ACTION.endDragSelected : RESIZE_ITEM_ACTION.endDrag,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onResizeReleaseAction: function (event, props, state) {\n    return props.editable && state.resizeItem ? props.isRecurring && !props.isException && state.series === null ? {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.open\n    } : {\n      type: props.isRecurring ? state.series ? RESIZE_ITEM_ACTION.completeSeries : RESIZE_ITEM_ACTION.completeOccurrence : RESIZE_ITEM_ACTION.complete,\n      payload: {\n        x: event.dragEvent.clientX,\n        y: event.dragEvent.clientY\n      }\n    } : [];\n  },\n  onOccurrenceClickAction: function (_event, props, state) {\n    if (state.dragItem) {\n      return [{\n        type: DRAG_ITEM_ACTION.completeOccurrence\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.resizeItem) {\n      return [{\n        type: RESIZE_ITEM_ACTION.completeOccurrence\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.formItem) {\n      return [{\n        type: SERIES_ACTION.set,\n        payload: false\n      }, {\n        type: FORM_ITEM_ACTION.set,\n        payload: props.dataItem\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.removeItem) {\n      return [{\n        type: SERIES_ACTION.set,\n        payload: false\n      }, {\n        type: REMOVE_ITEM_ACTION.set,\n        payload: props.dataItem\n      }, {\n        type: SHOW_REMOVE_DIALOG_ACTION.open\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n  },\n  onSeriesClickAction: function (_event, props, state) {\n    if (state.dragItem) {\n      return [{\n        type: DRAG_ITEM_ACTION.completeSeries\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.resizeItem) {\n      return [{\n        type: RESIZE_ITEM_ACTION.completeSeries\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.formItem) {\n      return [{\n        type: SERIES_ACTION.set,\n        payload: true\n      }, {\n        type: FORM_ITEM_ACTION.setMaster,\n        payload: props.dataItem\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n\n    if (state.removeItem) {\n      return [{\n        type: SERIES_ACTION.set,\n        payload: true\n      }, {\n        type: REMOVE_ITEM_ACTION.set,\n        payload: props.dataItem\n      }, {\n        type: SHOW_REMOVE_DIALOG_ACTION.open\n      }, {\n        type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n      }];\n    }\n  },\n  onKeyDownAction: function (event, props) {\n    switch (event.syntheticEvent.keyCode) {\n      case Keys.enter:\n        return [{\n          type: FORM_ITEM_ACTION.set,\n          payload: props.dataItem\n        }, props.isRecurring && {\n          type: SHOW_OCCURRENCE_DIALOG_ACTION.open\n        }];\n\n      case Keys.tab:\n        return [{\n          type: event.syntheticEvent.shiftKey ? ITEMS_FOCUS_ACTION.prev : ITEMS_FOCUS_ACTION.next,\n          ignoreIsAllDay: props.ignoreIsAllDay\n        }, {\n          type: event.syntheticEvent.shiftKey ? ITEMS_SELECT_ACTION.selectPrev : ITEMS_SELECT_ACTION.selectNext,\n          ignoreIsAllDay: props.ignoreIsAllDay\n        }];\n\n      case Keys.up:\n        return [Boolean(props.slots.length && props.slots[0]._ref.current) && {\n          type: SLOTS_FOCUS_ACTION.up,\n          slot: props.slots[0]._ref\n        }];\n\n      case Keys.right:\n        return [Boolean(props.slots.length && props.slots[0]._ref.current) && {\n          type: SLOTS_FOCUS_ACTION.right,\n          slot: props.slots[0]._ref\n        }];\n\n      case Keys.down:\n        return [Boolean(props.slots.length && props.slots[props.slots.length - 1]._ref.current) && {\n          type: SLOTS_FOCUS_ACTION.down,\n          slot: props.slots[props.slots.length - 1]._ref\n        }];\n\n      case Keys.left:\n        return [Boolean(props.slots.length && props.slots[0]._ref.current) && {\n          type: SLOTS_FOCUS_ACTION.left,\n          slot: props.slots[0]._ref\n        }];\n\n      default:\n        return;\n    }\n  },\n  onFormSubmitAction: function (event) {\n    return {\n      type: FORM_ITEM_ACTION.complete,\n      payload: event.value\n    };\n  },\n  onRemoveConfirmAction: function () {\n    return [{\n      type: REMOVE_ITEM_ACTION.complete\n    }, {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.close\n    }];\n  },\n  onCancelAction: function () {\n    return [{\n      type: SERIES_ACTION.reset\n    }, {\n      type: REMOVE_ITEM_ACTION.reset\n    }, {\n      type: FORM_ITEM_ACTION.reset\n    }, {\n      type: DRAG_ITEM_ACTION.reset\n    }, {\n      type: RESIZE_ITEM_ACTION.reset\n    }, {\n      type: SHOW_REMOVE_DIALOG_ACTION.reset\n    }, {\n      type: SHOW_OCCURRENCE_DIALOG_ACTION.reset\n    }];\n  }\n};\nSchedulerEditItem.defaultProps = defaultProps;\nSchedulerEditItem.displayName = 'KendoReactSchedulerEditItem';","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/node_modules/@progress/kendo-react-scheduler/dist/es/items/SchedulerEditItem.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","SchedulerOccurrenceDialog","SchedulerForm","SchedulerRemoveDialog","Keys","guid","SchedulerDrag","SchedulerResize","SchedulerViewItem","ITEMS_FOCUS_ACTION","SLOTS_FOCUS_ACTION","useEditable","useSchedulerViewFocusedItemsContext","useSchedulerViewFocusedSlotsContext","useSchedulerViewSelectedItemsContext","useSchedulerViewItemsContext","SchedulerItemSelectionContext","SchedulerEditItemContext","FORM_ITEM_ACTION","useFormItem","SHOW_OCCURRENCE_DIALOG_ACTION","useShowOccurrenceDialog","REMOVE_ITEM_ACTION","useRemoveItem","SHOW_REMOVE_DIALOG_ACTION","useShowRemoveDialog","DRAG_ITEM_ACTION","useDragItem","RESIZE_ITEM_ACTION","useResizeItem","SERIES_ACTION","useSeries","ITEMS_SELECT_ACTION","SchedulerEditItem","forwardRef","props","ref","_ref","itemRef","onDataAction","ignoreIsAllDay","propViewItem","viewItem","propSeries","series","onSeriesChange","propForm","form","propFormItem","formItem","onFormItemChange","propDrag","drag","propDragItem","dragItem","onDragItemChange","propResize","resize","propResizeItem","resizeItem","onResizeItemChange","propRemoveDialog","removeDialog","propRemoveItem","removeItem","onRemoveItemChange","propOccurrenceDialog","occurrenceDialog","propShowOccurrenceDialog","showOccurrenceDialog","onShowOccurrenceDialogChange","propShowRemoveDialog","showRemoveDialog","onShowRemoveDialogChange","onFocus","onFocusAction","onMouseDown","onMouseDownAction","onMouseUp","onMouseUpAction","onClick","onClickAction","onDoubleClick","onDoubleClickAction","onRemoveClick","onRemoveClickAction","onPress","onPressAction","onDrag","onDragAction","onRelease","onReleaseAction","onResizePress","onResizePressAction","onResizeStartDrag","onResizeStartDragAction","onResizeEndDrag","onResizeEndDragAction","onResizeRelease","onResizeReleaseAction","onOccurrenceClick","onOccurrenceClickAction","onSeriesClick","onSeriesClickAction","onKeyDown","onKeyDownAction","onKeyUp","onKeyUpAction","onRemoveConfirm","onRemoveConfirmAction","onFormSubmit","onFormSubmitAction","onCancel","onCancelAction","_a","useState","tabIndex","setTabIndex","editItem","useRef","item","eventId","useMemo","useImperativeHandle","element","current","ViewItem","defaultProps","Drag","Resize","Form","OccurrenceDialog","RemoveDialog","editable","_b","selectedItems","dispatchItemSelection","_c","dispatchSeries","_d","setFormItem","dispatchFormItem","_e","dataItem","isAllDay","setDragItem","dispatchDragItem","_f","setResizeItem","dispatchResizeItem","_g","setRemoveItem","dispatchRemoveItem","_h","setShowRemoveDialog","dispatchShowRemoveDialog","_j","setShowOccurrenceDialog","dispatchShowOccurrenceDialog","items","_k","dispatchViewItemsFocus","_l","dispatchViewSlotsFocus","selected","Boolean","some","si","state","actionsReducerMap","set","toggle","reset","select","add","remove","selectNext","selectPrev","setMaster","complete","close","open","start","completeOccurrence","completeSeries","dragSelected","startDrag","startDragSelected","endDrag","endDragSelected","next","prev","left","right","up","down","null","handleFocus","useCallback","event","actions","Array","isArray","filter","map","action","type","undefined","handleMouseDown","handleMouseUp","_m","useContext","setSelectedItem","handleClick","handleDoubleClick","handleRemoveClick","handlePress","handleDrag","dragEvent","originalEvent","handleRelease","handleResizePress","handleResizeStartDrag","handleResizeEndDrag","handleResizeRelease","handleFormSubmit","handleCancel","handleOccurrenceClick","handleSeriesClick","handleKeyDown","syntheticEvent","handleKeyUp","handleRemoveConfirm","useEffect","isFirst","createElement","id","di","idx","key","vertical","ri","format","edit","onSubmit","onClose","isRemove","onConfirm","_","metaKey","ctrlKey","payload","isRecurring","x","clientX","y","clientY","isException","_event","keyCode","enter","tab","shiftKey","slots","slot","value","displayName"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { SchedulerOccurrenceDialog } from '../components/SchedulerOccurrenceDialog';\nimport { SchedulerForm } from '../components/SchedulerForm';\nimport { SchedulerRemoveDialog } from '../components/SchedulerRemoveDialog';\nimport { Keys, guid } from '@progress/kendo-react-common';\nimport { SchedulerDrag } from '../views/common/SchedulerDrag';\nimport { SchedulerResize } from '../views/common/SchedulerResize';\nimport { SchedulerViewItem } from './SchedulerViewItem';\nimport { ITEMS_FOCUS_ACTION, SLOTS_FOCUS_ACTION, useEditable } from '../hooks';\nimport { useSchedulerViewFocusedItemsContext, useSchedulerViewFocusedSlotsContext, useSchedulerViewSelectedItemsContext, useSchedulerViewItemsContext, SchedulerItemSelectionContext } from '../context';\nimport { SchedulerEditItemContext } from '../context/SchedulerEditItemContext';\nimport { FORM_ITEM_ACTION, useFormItem } from './hooks/use-form-item';\nimport { SHOW_OCCURRENCE_DIALOG_ACTION, useShowOccurrenceDialog } from './hooks/use-show-occurrence-dialog';\nimport { REMOVE_ITEM_ACTION, useRemoveItem } from './hooks/use-remove-item';\nimport { SHOW_REMOVE_DIALOG_ACTION, useShowRemoveDialog } from './hooks/use-show-remove-item-dialog';\nimport { DRAG_ITEM_ACTION, useDragItem } from './hooks/use-drag-item';\nimport { RESIZE_ITEM_ACTION, useResizeItem } from './hooks/use-resize-item';\nimport { SERIES_ACTION, useSeries } from './hooks/use-series';\nimport { ITEMS_SELECT_ACTION } from '../hooks/use-items-selection';\n/**\n * Represents the default `editItem` component rendered by the [KendoReact Scheduler component]({% slug overview_scheduler %}).\n *\n * This is a composite component of the [`SchedulerViewItem`]({% slug api_scheduler_schedulerviewitem %}), extending it to provide editing through drag, resize and external form.\n */\nexport var SchedulerEditItem = React.forwardRef(function (props, ref) {\n    // tslint:enable:max-line-length\n    var _ref = props._ref, itemRef = props.itemRef, onDataAction = props.onDataAction, ignoreIsAllDay = props.ignoreIsAllDay, propViewItem = props.viewItem, propSeries = props.series, onSeriesChange = props.onSeriesChange, propForm = props.form, propFormItem = props.formItem, onFormItemChange = props.onFormItemChange, propDrag = props.drag, propDragItem = props.dragItem, onDragItemChange = props.onDragItemChange, propResize = props.resize, propResizeItem = props.resizeItem, onResizeItemChange = props.onResizeItemChange, propRemoveDialog = props.removeDialog, propRemoveItem = props.removeItem, onRemoveItemChange = props.onRemoveItemChange, propOccurrenceDialog = props.occurrenceDialog, propShowOccurrenceDialog = props.showOccurrenceDialog, onShowOccurrenceDialogChange = props.onShowOccurrenceDialogChange, propShowRemoveDialog = props.showRemoveDialog, onShowRemoveDialogChange = props.onShowRemoveDialogChange, onFocus = props.onFocus, onFocusAction = props.onFocusAction, onMouseDown = props.onMouseDown, onMouseDownAction = props.onMouseDownAction, onMouseUp = props.onMouseUp, onMouseUpAction = props.onMouseUpAction, onClick = props.onClick, onClickAction = props.onClickAction, onDoubleClick = props.onDoubleClick, onDoubleClickAction = props.onDoubleClickAction, onRemoveClick = props.onRemoveClick, onRemoveClickAction = props.onRemoveClickAction, onPress = props.onPress, onPressAction = props.onPressAction, onDrag = props.onDrag, onDragAction = props.onDragAction, onRelease = props.onRelease, onReleaseAction = props.onReleaseAction, onResizePress = props.onResizePress, onResizePressAction = props.onResizePressAction, onResizeStartDrag = props.onResizeStartDrag, onResizeStartDragAction = props.onResizeStartDragAction, onResizeEndDrag = props.onResizeEndDrag, onResizeEndDragAction = props.onResizeEndDragAction, onResizeRelease = props.onResizeRelease, onResizeReleaseAction = props.onResizeReleaseAction, onOccurrenceClick = props.onOccurrenceClick, onOccurrenceClickAction = props.onOccurrenceClickAction, onSeriesClick = props.onSeriesClick, onSeriesClickAction = props.onSeriesClickAction, onKeyDown = props.onKeyDown, onKeyDownAction = props.onKeyDownAction, onKeyUp = props.onKeyUp, onKeyUpAction = props.onKeyUpAction, onRemoveConfirm = props.onRemoveConfirm, onRemoveConfirmAction = props.onRemoveConfirmAction, onFormSubmit = props.onFormSubmit, onFormSubmitAction = props.onFormSubmitAction, onCancel = props.onCancel, onCancelAction = props.onCancelAction;\n    var _a = React.useState(props.tabIndex), tabIndex = _a[0], setTabIndex = _a[1];\n    var editItem = React.useRef(null);\n    var item = React.useRef(null);\n    var eventId = React.useMemo(function () { return guid(); }, []);\n    React.useImperativeHandle(editItem, function () { return ({ props: props, element: item.current && item.current.element }); });\n    React.useImperativeHandle(ref, function () { return editItem.current; });\n    React.useImperativeHandle(_ref, function () { return item.current; });\n    React.useImperativeHandle(itemRef, function () { return item.current; });\n    var ViewItem = propViewItem || defaultProps.viewItem;\n    var Drag = propDrag || defaultProps.drag;\n    var Resize = propResize || defaultProps.resize;\n    var Form = propForm || defaultProps.form;\n    var OccurrenceDialog = propOccurrenceDialog || defaultProps.occurrenceDialog;\n    var RemoveDialog = propRemoveDialog || defaultProps.removeDialog;\n    var editable = useEditable(props.editable);\n    var _b = useSchedulerViewSelectedItemsContext(), selectedItems = _b[0], dispatchItemSelection = _b[1];\n    var _c = useSeries(null, propSeries, onSeriesChange), series = _c[0], dispatchSeries = _c[2];\n    var _d = useFormItem({ series: series, onDataAction: onDataAction }, [null, propFormItem, onFormItemChange]), formItem = _d[0], setFormItem = _d[1], dispatchFormItem = _d[2];\n    var _e = useDragItem({ dataItem: props.dataItem, ignoreIsAllDay: props.ignoreIsAllDay, isAllDay: props.isAllDay, onDataAction: onDataAction }, [null, propDragItem, onDragItemChange]), dragItem = _e[0], setDragItem = _e[1], dispatchDragItem = _e[2];\n    var _f = useResizeItem({ dataItem: props.dataItem, onDataAction: onDataAction }, [null, propResizeItem, onResizeItemChange]), resizeItem = _f[0], setResizeItem = _f[1], dispatchResizeItem = _f[2];\n    var _g = useRemoveItem({ series: series, onDataAction: onDataAction }, [null, propRemoveItem, onRemoveItemChange]), removeItem = _g[0], setRemoveItem = _g[1], dispatchRemoveItem = _g[2];\n    var _h = useShowRemoveDialog(false, propShowRemoveDialog, onShowRemoveDialogChange), showRemoveDialog = _h[0], setShowRemoveDialog = _h[1], dispatchShowRemoveDialog = _h[2];\n    var _j = useShowOccurrenceDialog(false, propShowOccurrenceDialog, onShowOccurrenceDialogChange), showOccurrenceDialog = _j[0], setShowOccurrenceDialog = _j[1], dispatchShowOccurrenceDialog = _j[2];\n    var items = useSchedulerViewItemsContext()[0];\n    var _k = useSchedulerViewFocusedItemsContext(), dispatchViewItemsFocus = _k[1];\n    var _l = useSchedulerViewFocusedSlotsContext(), dispatchViewSlotsFocus = _l[1];\n    var selected = Boolean(selectedItems && selectedItems.some(function (si) { return si.current === item.current; }));\n    var state = React.useMemo(function () { return ({\n        selected: selected,\n        series: series,\n        formItem: formItem,\n        dragItem: dragItem,\n        resizeItem: resizeItem,\n        removeItem: removeItem,\n        showRemoveDialog: showRemoveDialog,\n        showOccurrenceDialog: showOccurrenceDialog\n    }); }, [dragItem, formItem, removeItem, resizeItem, selected, series, showOccurrenceDialog, showRemoveDialog]);\n    var actionsReducerMap = React.useMemo(function () {\n        var _a;\n        return (_a = {},\n            _a[SERIES_ACTION.set] = dispatchSeries,\n            _a[SERIES_ACTION.toggle] = dispatchSeries,\n            _a[SERIES_ACTION.reset] = dispatchSeries,\n            _a[ITEMS_SELECT_ACTION.select] = dispatchItemSelection,\n            _a[ITEMS_SELECT_ACTION.add] = dispatchItemSelection,\n            _a[ITEMS_SELECT_ACTION.remove] = dispatchItemSelection,\n            _a[ITEMS_SELECT_ACTION.reset] = dispatchItemSelection,\n            _a[ITEMS_SELECT_ACTION.selectNext] = dispatchItemSelection,\n            _a[ITEMS_SELECT_ACTION.selectPrev] = dispatchItemSelection,\n            _a[FORM_ITEM_ACTION.set] = dispatchFormItem,\n            _a[FORM_ITEM_ACTION.setMaster] = dispatchFormItem,\n            _a[FORM_ITEM_ACTION.reset] = dispatchFormItem,\n            _a[FORM_ITEM_ACTION.complete] = dispatchFormItem,\n            _a[REMOVE_ITEM_ACTION.set] = dispatchRemoveItem,\n            _a[REMOVE_ITEM_ACTION.reset] = dispatchRemoveItem,\n            _a[REMOVE_ITEM_ACTION.complete] = dispatchRemoveItem,\n            _a[SHOW_OCCURRENCE_DIALOG_ACTION.close] = dispatchShowOccurrenceDialog,\n            _a[SHOW_OCCURRENCE_DIALOG_ACTION.open] = dispatchShowOccurrenceDialog,\n            _a[SHOW_OCCURRENCE_DIALOG_ACTION.set] = dispatchShowOccurrenceDialog,\n            _a[SHOW_OCCURRENCE_DIALOG_ACTION.toggle] = dispatchShowOccurrenceDialog,\n            _a[SHOW_OCCURRENCE_DIALOG_ACTION.reset] = dispatchShowOccurrenceDialog,\n            _a[SHOW_REMOVE_DIALOG_ACTION.close] = dispatchShowRemoveDialog,\n            _a[SHOW_REMOVE_DIALOG_ACTION.open] = dispatchShowRemoveDialog,\n            _a[SHOW_REMOVE_DIALOG_ACTION.set] = dispatchShowRemoveDialog,\n            _a[SHOW_REMOVE_DIALOG_ACTION.toggle] = dispatchShowRemoveDialog,\n            _a[SHOW_REMOVE_DIALOG_ACTION.reset] = dispatchShowRemoveDialog,\n            _a[DRAG_ITEM_ACTION.start] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.drag] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.complete] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.completeOccurrence] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.completeSeries] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.set] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.reset] = dispatchDragItem,\n            _a[DRAG_ITEM_ACTION.dragSelected] = dispatchDragItem,\n            _a[RESIZE_ITEM_ACTION.start] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.startDrag] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.startDragSelected] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.endDrag] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.endDragSelected] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.complete] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.completeOccurrence] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.completeSeries] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.set] = dispatchResizeItem,\n            _a[RESIZE_ITEM_ACTION.reset] = dispatchResizeItem,\n            _a[ITEMS_FOCUS_ACTION.next] = dispatchViewItemsFocus,\n            _a[ITEMS_FOCUS_ACTION.prev] = dispatchViewItemsFocus,\n            _a[SLOTS_FOCUS_ACTION.left] = dispatchViewSlotsFocus,\n            _a[SLOTS_FOCUS_ACTION.right] = dispatchViewSlotsFocus,\n            _a[SLOTS_FOCUS_ACTION.up] = dispatchViewSlotsFocus,\n            _a[SLOTS_FOCUS_ACTION.down] = dispatchViewSlotsFocus,\n            _a.null = function () { },\n            _a);\n    }, [\n        dispatchDragItem,\n        dispatchFormItem,\n        dispatchItemSelection,\n        dispatchRemoveItem,\n        dispatchResizeItem,\n        dispatchSeries,\n        dispatchShowOccurrenceDialog,\n        dispatchShowRemoveDialog,\n        dispatchViewItemsFocus,\n        dispatchViewSlotsFocus\n    ]);\n    var handleFocus = React.useCallback(function (event) {\n        if (onFocusAction) {\n            var actions = onFocusAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onFocus) {\n            onFocus.call(undefined, event);\n        }\n    }, [actionsReducerMap, onFocus, onFocusAction, props, state]);\n    var handleMouseDown = React.useCallback(function (event) {\n        if (onMouseDownAction) {\n            var actions = onMouseDownAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onMouseDown) {\n            onMouseDown.call(undefined, event);\n        }\n    }, [actionsReducerMap, onMouseDown, onMouseDownAction, props, state]);\n    var handleMouseUp = React.useCallback(function (event) {\n        if (onMouseUpAction) {\n            var actions = onMouseUpAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onMouseUp) {\n            onMouseUp.call(undefined, event);\n        }\n    }, [actionsReducerMap, onMouseUp, onMouseUpAction, props, state]);\n    var _m = React.useContext(SchedulerItemSelectionContext), setSelectedItem = _m[1];\n    var handleClick = React.useCallback(function (event) {\n        if (onClickAction) {\n            setSelectedItem(item.current);\n            var actions = onClickAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onClick) {\n            onClick.call(undefined, event);\n        }\n    }, [actionsReducerMap, onClick, onClickAction, props, state]);\n    var handleDoubleClick = React.useCallback(function (event) {\n        if (onDoubleClickAction) {\n            var actions = onDoubleClickAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onDoubleClick) {\n            onDoubleClick.call(undefined, event);\n        }\n    }, [onDoubleClickAction, onDoubleClick, props, actionsReducerMap, state]);\n    var handleRemoveClick = React.useCallback(function (event) {\n        if (onRemoveClickAction) {\n            var actions = onRemoveClickAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }));\n            }\n        }\n        if (onRemoveClick) {\n            onRemoveClick.call(undefined, event);\n        }\n    }, [onRemoveClickAction, onRemoveClick, props, actionsReducerMap, state]);\n    var handlePress = React.useCallback(function (event) {\n        if (onPressAction) {\n            var actions = onPressAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event);\n            }\n        }\n        if (onPress) {\n            onPress.call(undefined, event);\n        }\n    }, [onPressAction, onPress, props, actionsReducerMap, state]);\n    var handleDrag = React.useCallback(function (event) {\n        if (onDragAction) {\n            var actions = onDragAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onDrag) {\n            onDrag.call(undefined, event);\n        }\n    }, [onDragAction, onDrag, props, actionsReducerMap, state]);\n    var handleRelease = React.useCallback(function (event) {\n        if (onReleaseAction) {\n            var actions = onReleaseAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onRelease) {\n            onRelease.call(undefined, event);\n        }\n    }, [onReleaseAction, onRelease, props, actionsReducerMap, state]);\n    var handleResizePress = React.useCallback(function (event) {\n        if (onResizePressAction) {\n            var actions = onResizePressAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onResizePress) {\n            onResizePress.call(undefined, event);\n        }\n    }, [onResizePressAction, onResizePress, props, state, actionsReducerMap]);\n    var handleResizeStartDrag = React.useCallback(function (event) {\n        if (onResizeStartDragAction) {\n            var actions = onResizeStartDragAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onResizeStartDrag) {\n            onResizeStartDrag.call(undefined, event);\n        }\n    }, [onResizeStartDrag, onResizeStartDragAction, props, actionsReducerMap, state]);\n    var handleResizeEndDrag = React.useCallback(function (event) {\n        if (onResizeEndDragAction) {\n            var actions = onResizeEndDragAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onResizeEndDrag) {\n            onResizeEndDrag.call(undefined, event);\n        }\n    }, [onResizeEndDrag, onResizeEndDragAction, props, actionsReducerMap, state]);\n    var handleResizeRelease = React.useCallback(function (event) {\n        if (onResizeReleaseAction) {\n            var actions = onResizeReleaseAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.dragEvent.originalEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.dragEvent.originalEvent);\n            }\n        }\n        if (onResizeRelease) {\n            onResizeRelease.call(undefined, event);\n        }\n    }, [onResizeReleaseAction, onResizeRelease, props, actionsReducerMap, state]);\n    var handleFormSubmit = React.useCallback(function (event) {\n        if (onFormSubmitAction) {\n            var actions = onFormSubmitAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event);\n            }\n        }\n        if (onFormSubmit) {\n            onFormSubmit.call(undefined, event);\n        }\n    }, [onFormSubmitAction, onFormSubmit, props, state, actionsReducerMap]);\n    var handleCancel = React.useCallback(function (event) {\n        if (onCancelAction) {\n            var actions = onCancelAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event);\n            }\n        }\n        if (onCancel) {\n            onCancel.call(undefined, event);\n        }\n    }, [onCancelAction, onCancel, props, state, actionsReducerMap]);\n    var handleOccurrenceClick = React.useCallback(function (event) {\n        if (onOccurrenceClickAction) {\n            var actions = onOccurrenceClickAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event);\n            }\n        }\n        if (onOccurrenceClick) {\n            onOccurrenceClick.call(undefined, event);\n        }\n    }, [onOccurrenceClickAction, onOccurrenceClick, props, state, actionsReducerMap]);\n    var handleSeriesClick = React.useCallback(function (event) {\n        if (onSeriesClickAction) {\n            var actions = onSeriesClickAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event);\n            }\n        }\n        if (onSeriesClick) {\n            onSeriesClick.call(undefined, event);\n        }\n    }, [onSeriesClickAction, onSeriesClick, props, state, actionsReducerMap]);\n    var handleKeyDown = React.useCallback(function (event) {\n        if (onKeyDownAction) {\n            var actions = onKeyDownAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.syntheticEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.syntheticEvent);\n            }\n        }\n        if (onKeyDown) {\n            onKeyDown.call(undefined, event);\n        }\n    }, [onKeyDownAction, onKeyDown, props, state, actionsReducerMap]);\n    var handleKeyUp = React.useCallback(function (event) {\n        if (onKeyUpAction) {\n            var actions = onKeyUpAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.syntheticEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.syntheticEvent);\n            }\n        }\n        if (onKeyUp) {\n            onKeyUp.call(undefined, event);\n        }\n    }, [onKeyUpAction, onKeyUp, props, state, actionsReducerMap]);\n    var handleRemoveConfirm = React.useCallback(function (event) {\n        if (onRemoveConfirmAction) {\n            var actions = onRemoveConfirmAction(event, props, state);\n            if (actions) {\n                Array.isArray(actions)\n                    ? actions.filter(Boolean).map(function (action) { return action && actionsReducerMap[action.type](__assign(__assign({}, action), { item: item }), event.syntheticEvent); })\n                    : actionsReducerMap[actions.type](__assign(__assign({}, actions), { item: item }), event.syntheticEvent);\n            }\n        }\n        if (onRemoveConfirm) {\n            onRemoveConfirm.call(undefined, event);\n        }\n    }, [onRemoveConfirmAction, onRemoveConfirm, props, state, actionsReducerMap]);\n    React.useEffect(function () {\n        var isFirst = items.length && items[0].current === item.current;\n        setTabIndex(props.tabIndex !== undefined\n            ? props.tabIndex === null\n                ? undefined\n                : props.tabIndex\n            : selectedItems.length === 0\n                ? isFirst\n                    ? 0\n                    : undefined\n                : undefined);\n    }, [items, props.tabIndex, selectedItems.length]);\n    return (React.createElement(SchedulerEditItemContext, { props: props, form: [formItem, setFormItem, dispatchFormItem], drag: [dragItem, setDragItem, dispatchDragItem], resize: [resizeItem, setResizeItem, dispatchResizeItem], remove: [removeItem, setRemoveItem, dispatchRemoveItem], showRemoveDialog: [showRemoveDialog, setShowRemoveDialog, dispatchShowRemoveDialog], showOccurrenceDialog: [showOccurrenceDialog, setShowOccurrenceDialog, dispatchShowOccurrenceDialog] },\n        React.createElement(ViewItem, __assign({}, props, { _ref: item, itemRef: item, selected: selected, tabIndex: tabIndex, id: eventId, \n            // Keyboard\n            onKeyDown: handleKeyDown, onKeyUp: handleKeyUp, \n            // Focus\n            onFocus: handleFocus, \n            // Mouse\n            onMouseUp: handleMouseUp, onMouseDown: handleMouseDown, onClick: handleClick, onDoubleClick: handleDoubleClick, onRemoveClick: handleRemoveClick, \n            // Drag\n            onPress: handlePress, onDrag: handleDrag, onRelease: handleRelease, \n            // Resize\n            onResizePress: handleResizePress, onResizeEndDrag: handleResizeEndDrag, onResizeStartDrag: handleResizeStartDrag, onResizeRelease: handleResizeRelease })),\n        ((dragItem && editable.drag)) && (Array.isArray(dragItem)\n            ? dragItem.map(function (di, idx) { return (React.createElement(Drag, { key: idx, ignoreIsAllDay: ignoreIsAllDay, dataItem: di, vertical: props.vertical, viewItem: ViewItem, item: props.item })); })\n            : (React.createElement(Drag, { ignoreIsAllDay: ignoreIsAllDay, dataItem: dragItem, vertical: props.vertical, viewItem: ViewItem, item: props.item }))),\n        ((resizeItem && editable.resize)) && (Array.isArray(resizeItem)\n            ? resizeItem.map(function (ri, idx) { return (React.createElement(Resize, { key: idx, format: props.format, ignoreIsAllDay: ignoreIsAllDay, dataItem: ri, viewItem: props.viewItem, item: props.item, vertical: props.vertical })); })\n            : (React.createElement(Resize, { format: props.format, ignoreIsAllDay: ignoreIsAllDay, dataItem: resizeItem, viewItem: props.viewItem, item: props.item, vertical: props.vertical }))),\n        (formItem && !showOccurrenceDialog && editable.edit) && (React.createElement(Form, { dataItem: formItem, onSubmit: handleFormSubmit, onClose: handleCancel, onCancel: handleCancel })),\n        (showOccurrenceDialog) && (React.createElement(OccurrenceDialog, { dataItem: formItem || dragItem || resizeItem || removeItem, isRemove: removeItem !== null, onClose: handleCancel, onOccurrenceClick: handleOccurrenceClick, onSeriesClick: handleSeriesClick })),\n        (showRemoveDialog && removeItem && editable.remove) && (React.createElement(RemoveDialog, { dataItem: removeItem, onClose: handleCancel, onCancel: handleCancel, onConfirm: handleRemoveConfirm }))));\n});\nvar defaultProps = {\n    viewItem: SchedulerViewItem,\n    drag: SchedulerDrag,\n    resize: SchedulerResize,\n    form: SchedulerForm,\n    occurrenceDialog: SchedulerOccurrenceDialog,\n    removeDialog: SchedulerRemoveDialog,\n    onClickAction: function (event, _, state) { return [\n        { type: (event.syntheticEvent.metaKey || event.syntheticEvent.ctrlKey)\n                ? (state.selected && !state.dragItem && !state.resizeItem)\n                    ? ITEMS_SELECT_ACTION.remove\n                    : ITEMS_SELECT_ACTION.add\n                : ITEMS_SELECT_ACTION.select\n        }\n    ]; },\n    onDoubleClickAction: function (_, props) { return props.editable\n        ? [\n            { type: FORM_ITEM_ACTION.set, payload: props.dataItem },\n            (props.isRecurring) && { type: SHOW_OCCURRENCE_DIALOG_ACTION.open }\n        ].filter(Boolean)\n        : []; },\n    onRemoveClickAction: function (_, props) { return props.editable\n        ? [\n            { type: REMOVE_ITEM_ACTION.set, payload: props.dataItem },\n            props.isRecurring ? { type: SHOW_OCCURRENCE_DIALOG_ACTION.open } : { type: SHOW_REMOVE_DIALOG_ACTION.open }\n        ]\n        : []; },\n    onPressAction: function (event, props) { return props.editable\n        ? { type: DRAG_ITEM_ACTION.start, payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY } }\n        : []; },\n    onDragAction: function (event, props) { return props.editable\n        ? {\n            type: (event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey)\n                ? DRAG_ITEM_ACTION.dragSelected\n                : DRAG_ITEM_ACTION.drag,\n            payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY }\n        }\n        : []; },\n    onReleaseAction: function (event, props, state) { return (props.editable && state.dragItem)\n        ? (props.isRecurring && !props.isException && state.series === null)\n            ? { type: SHOW_OCCURRENCE_DIALOG_ACTION.open }\n            : { type: props.isRecurring\n                    ? state.series\n                        ? DRAG_ITEM_ACTION.completeSeries\n                        : DRAG_ITEM_ACTION.completeOccurrence\n                    : DRAG_ITEM_ACTION.complete,\n                payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY }\n            }\n        : []; },\n    onResizePressAction: function (event, props) { return props.editable\n        ? { type: RESIZE_ITEM_ACTION.start, payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY } }\n        : []; },\n    onResizeStartDragAction: function (event, props) { return props.editable\n        ? {\n            type: (event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey)\n                ? RESIZE_ITEM_ACTION.startDragSelected\n                : RESIZE_ITEM_ACTION.startDrag,\n            payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY }\n        }\n        : []; },\n    onResizeEndDragAction: function (event, props) { return props.editable\n        ? {\n            type: (event.dragEvent.originalEvent.metaKey || event.dragEvent.originalEvent.ctrlKey)\n                ? RESIZE_ITEM_ACTION.endDragSelected\n                : RESIZE_ITEM_ACTION.endDrag,\n            payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY }\n        }\n        : []; },\n    onResizeReleaseAction: function (event, props, state) { return (props.editable && state.resizeItem)\n        ? (props.isRecurring && !props.isException && state.series === null)\n            ? { type: SHOW_OCCURRENCE_DIALOG_ACTION.open }\n            : { type: props.isRecurring\n                    ? state.series\n                        ? RESIZE_ITEM_ACTION.completeSeries\n                        : RESIZE_ITEM_ACTION.completeOccurrence\n                    : RESIZE_ITEM_ACTION.complete,\n                payload: { x: event.dragEvent.clientX, y: event.dragEvent.clientY }\n            }\n        : []; },\n    onOccurrenceClickAction: function (_event, props, state) {\n        if (state.dragItem) {\n            return [\n                { type: DRAG_ITEM_ACTION.completeOccurrence },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.resizeItem) {\n            return [\n                { type: RESIZE_ITEM_ACTION.completeOccurrence },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.formItem) {\n            return [\n                { type: SERIES_ACTION.set, payload: false },\n                { type: FORM_ITEM_ACTION.set, payload: props.dataItem },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.removeItem) {\n            return [\n                { type: SERIES_ACTION.set, payload: false },\n                { type: REMOVE_ITEM_ACTION.set, payload: props.dataItem },\n                { type: SHOW_REMOVE_DIALOG_ACTION.open },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n    },\n    onSeriesClickAction: function (_event, props, state) {\n        if (state.dragItem) {\n            return [\n                { type: DRAG_ITEM_ACTION.completeSeries },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.resizeItem) {\n            return [\n                { type: RESIZE_ITEM_ACTION.completeSeries },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.formItem) {\n            return [\n                { type: SERIES_ACTION.set, payload: true },\n                { type: FORM_ITEM_ACTION.setMaster, payload: props.dataItem },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n        if (state.removeItem) {\n            return [\n                { type: SERIES_ACTION.set, payload: true },\n                { type: REMOVE_ITEM_ACTION.set, payload: props.dataItem },\n                { type: SHOW_REMOVE_DIALOG_ACTION.open },\n                { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n            ];\n        }\n    },\n    onKeyDownAction: function (event, props) {\n        switch (event.syntheticEvent.keyCode) {\n            case Keys.enter:\n                return [\n                    { type: FORM_ITEM_ACTION.set, payload: props.dataItem },\n                    (props.isRecurring) && { type: SHOW_OCCURRENCE_DIALOG_ACTION.open }\n                ];\n            case Keys.tab:\n                return [\n                    { type: event.syntheticEvent.shiftKey ? ITEMS_FOCUS_ACTION.prev : ITEMS_FOCUS_ACTION.next, ignoreIsAllDay: props.ignoreIsAllDay },\n                    { type: event.syntheticEvent.shiftKey ? ITEMS_SELECT_ACTION.selectPrev : ITEMS_SELECT_ACTION.selectNext, ignoreIsAllDay: props.ignoreIsAllDay }\n                ];\n            case Keys.up:\n                return [\n                    Boolean(props.slots.length && props.slots[0]._ref.current) && { type: SLOTS_FOCUS_ACTION.up, slot: props.slots[0]._ref }\n                ];\n            case Keys.right:\n                return [\n                    Boolean(props.slots.length && props.slots[0]._ref.current) && { type: SLOTS_FOCUS_ACTION.right, slot: props.slots[0]._ref }\n                ];\n            case Keys.down:\n                return [\n                    Boolean(props.slots.length && props.slots[props.slots.length - 1]._ref.current) && { type: SLOTS_FOCUS_ACTION.down, slot: props.slots[props.slots.length - 1]._ref }\n                ];\n            case Keys.left:\n                return [\n                    Boolean(props.slots.length && props.slots[0]._ref.current) && { type: SLOTS_FOCUS_ACTION.left, slot: props.slots[0]._ref }\n                ];\n            default:\n                return;\n        }\n    },\n    onFormSubmitAction: function (event) { return ({ type: FORM_ITEM_ACTION.complete, payload: event.value }); },\n    onRemoveConfirmAction: function () { return [\n        { type: REMOVE_ITEM_ACTION.complete },\n        { type: SHOW_OCCURRENCE_DIALOG_ACTION.close }\n    ]; },\n    onCancelAction: function () { return [\n        { type: SERIES_ACTION.reset },\n        { type: REMOVE_ITEM_ACTION.reset },\n        { type: FORM_ITEM_ACTION.reset },\n        { type: DRAG_ITEM_ACTION.reset },\n        { type: RESIZE_ITEM_ACTION.reset },\n        { type: SHOW_REMOVE_DIALOG_ACTION.reset },\n        { type: SHOW_OCCURRENCE_DIALOG_ACTION.reset }\n    ]; }\n};\nSchedulerEditItem.defaultProps = defaultProps;\nSchedulerEditItem.displayName = 'KendoReactSchedulerEditItem';\n"]},"metadata":{},"sourceType":"module"}