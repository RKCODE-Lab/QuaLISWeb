{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{constructOptionList,sortData}from'../components/CommonScript';//, getComboLabelValue, searchData\nimport{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{transactionStatus}from'../components/Enumeration';export function getEditData(nbulkbarcodeconfigcode,userInfo,masterData,ncontrolcode,screenName){return function(dispatch){if(masterData.selectedBulkBarcodeConfig[\"ntransactionstatus\"]===transactionStatus.APPROVED||masterData.selectedBulkBarcodeConfig[\"ntransactionstatus\"]===transactionStatus.RETIRED){toast.warn(intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}else{var inputData={nbulkbarcodeconfigcode:nbulkbarcodeconfigcode,userinfo:userInfo};dispatch(initRequest(true));rsapi.post(\"bulkbarcodeconfiguration/getActiveBulkBarcodeConfigurationById\",inputData).then(function(response){var selectedRecord={};selectedRecord={'sconfigname':response.data.sconfigname,'nbarcodelength':response.data.nbarcodelength,'sdescription':response.data.sdescription,'nprojecttypecode':{'label':response.data.sprojecttypename,'value':response.data.nprojecttypecode},'nbulkbarcodeconfigcode':response.data.nbulkbarcodeconfigcode};dispatch({type:DEFAULT_RETURN,payload:{openModal:true,selectedRecord:selectedRecord,masterData:masterData,ncontrolcode:ncontrolcode,loadBulkBarcodeConfig:true,loadBarcodeMaster:false,loading:false,screenName:screenName,operation:'update'}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}};}export function getFilterProjectType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"bulkbarcodeconfiguration/getFilterProjectType\",{'userinfo':inputParam.inputData.userinfo,'nprojecttypecode':inputParam.inputData.nprojecttypecode}).then(function(response){var masterData={};masterData=_objectSpread(_objectSpread({},inputParam.inputData.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function getBulkBarcodeConfigDetail(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"bulkbarcodeconfiguration/getBulkBarcodeConfig\",{'userinfo':inputParam.userinfo,'nprojecttypecode':inputParam.nprojecttypecode||-1,'nbulkbarcodeconfigcode':inputParam.nbulkbarcodeconfigcode||-1}).then(function(response){var masterData={};masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function addBarcodeMaster(screenName,userInfo,operation,masterData,fieldName,ncontrolcode){return function(dispatch){if(masterData.selectedBulkBarcodeConfig.ntransactionstatus===transactionStatus.APPROVED||masterData.selectedBulkBarcodeConfig.ntransactionstatus===transactionStatus.RETIRED){toast.warn(intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}else{dispatch(initRequest(true));return rsapi.post(\"bulkbarcodeconfiguration/getBarcodeMaster\",{'userinfo':userInfo,\"nbulkbarcodeconfigcode\":masterData.selectedBulkBarcodeConfig.nbulkbarcodeconfigcode}).then(function(response){var bulkBarcodeMasterMap=constructOptionList(response.data.BulkBarcodeMaster||[],\"nbarcodemastercode\",\"sformname\",undefined,undefined,false);var bulkBarcodeMasterList=bulkBarcodeMasterMap.get(\"OptionList\");masterData=_objectSpread(_objectSpread({},masterData),response.data);dispatch({type:DEFAULT_RETURN,payload:{bulkBarcodeMasterList:bulkBarcodeMasterList,masterData:masterData,loading:false,openChildModal:true,loadBarcodeMaster:true,fieldName:fieldName,loadBulkBarcodeConfig:false,operation:operation,selectedMasterRecord:undefined,screenName:screenName,ncontrolcode:ncontrolcode}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}};}export function getFieldLengthService(methodParam){return function(dispatch){var URL=[];URL=rsapi.post(\"/bulkbarcodeconfiguration/getFieldLengthService\",{\"userinfo\":methodParam.inputData.userinfo,\"nprojecttypecode\":methodParam.inputData.nprojecttypecode,'stablename':methodParam.inputData.stablename});dispatch(initRequest(true));Axios.all([URL]).then(function(response){var selectedMasterRecord={};selectedMasterRecord=_objectSpread(_objectSpread({},methodParam.inputData.selectedMasterRecord),{},{'nfieldlength':response[0].data&&(response[0].data.FieldLength||\"\")});dispatch({type:DEFAULT_RETURN,payload:{loading:false,data:undefined,dataState:undefined,selectedMasterRecord:selectedMasterRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getParentBarcodeService(methodParam){return function(dispatch){var URL=[];URL=rsapi.post(\"/bulkbarcodeconfiguration/getParentBulkBarcodeMaster\",{\"userinfo\":methodParam.inputData.userinfo,\"nprojecttypecode\":methodParam.inputData.nprojecttypecode,'nbulkbarcodeconfigcode':methodParam.inputData.masterData.selectedBulkBarcodeConfig.nbulkbarcodeconfigcode,'selectedBarcodeFormatting':methodParam.inputData.selectedMasterRecord&&methodParam.inputData.selectedMasterRecord.nbarcodemastercode&&methodParam.inputData.selectedMasterRecord.nbarcodemastercode.item});dispatch(initRequest(true));Axios.all([URL]).then(function(response){// let masterData = {};\nvar bulkBarcodeMasterMap=constructOptionList(response[0].data.ParentBarcodeDetails||[],\"nbulkbarcodeconfigdetailscode\",\"sdisplayname\",undefined,undefined,false);var ParentBarcodeMasterList=bulkBarcodeMasterMap.get(\"OptionList\");//  masterData = { ...methodParam.inputData.masterData, ...response.data };\nvar selectedMasterRecord=_objectSpread({},methodParam.inputData.selectedMasterRecord);dispatch({type:DEFAULT_RETURN,payload:{loading:false,data:undefined,dataState:undefined,ParentBarcodeMasterList:ParentBarcodeMasterList,selectedMasterRecord:selectedMasterRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getBulkBarcodeDetailsEditData(fetchRecord){return function(dispatch){if(fetchRecord.masterData.selectedBulkBarcodeConfig.ntransactionstatus===transactionStatus.APPROVED||fetchRecord.masterData.selectedBulkBarcodeConfig.ntransactionstatus===transactionStatus.RETIRED){toast.warn(intl.formatMessage({id:\"IDS_SELECTDRAFTRECORD\"}));}else{var urlArray=[];var selectedId=null;var ActiveByID=rsapi.post(\"/bulkbarcodeconfiguration/getActiveBulkBarcodeMasterById\",{\"nbulkbarcodeconfigdetailscode\":fetchRecord.editRow.nbulkbarcodeconfigdetailscode,\"userinfo\":fetchRecord.userInfo});urlArray=[ActiveByID];selectedId=fetchRecord.editRow.nbulkbarcodeconfigdetailscode;dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedMasterRecord={};selectedMasterRecord={\"nbarcodemastercode\":{label:response[0].data.sformname,value:response[0].data.nbarcodemastercode},\"sfieldname\":response[0].data.sfieldname,\"nfieldlength\":response[0].data.nfieldlength,\"nsorter\":response[0].data.nsorter,\"sdescription\":response[0].data.sdescription==='null'?\"\":response[0].data.sdescription,\"isneedparent\":response[0].data.isneedparent,\"isvalidationrequired\":response[0].data.isvalidationrequired,//ALPD-5082 Added isvalidationrequired to send value to the backend by VISHAKH\n\"nparentmastercode\":response[0].data.isneedparent===transactionStatus.YES?{label:response[0].data.sparentformname,value:response[0].data.nparentnbarcodemastercode}:undefined,nbulkbarcodeconfigdetailscode:response[0].data.nbulkbarcodeconfigdetailscode};var fieldName=response[0].data.nneedmaster===transactionStatus.YES?\"barcodemaster\":\"\";var screenname=response[0].data.nneedmaster===transactionStatus.YES?\"IDS_BARCODEMASTERNAME\":\"IDS_BARCODEFORMATTINGFIELD\";dispatch({type:DEFAULT_RETURN,payload:{openChildModal:true,operation:fetchRecord.operation,selectedMasterRecord:selectedMasterRecord,fieldName:fieldName,loadBulkBarcodeConfig:false,ncontrolcode:fetchRecord.ncontrolCode,loadBarcodeMaster:true,screenName:screenname,loading:false,selectedId:selectedId}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}};}export function saveBarcodeMaster(inputParam,masterData,modalName){return function(dispatch){dispatch(initRequest(true));var requestUrl='';requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,_objectSpread({},inputParam.inputData));return requestUrl.then(function(response){var _payload;var openModal=false;var retrievedData=sortData(response.data);masterData=_objectSpread(_objectSpread({},masterData),retrievedData);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:(_payload={loadEsign:false,loadBarcodeMaster:true,selectedId:inputParam.selectedId,loading:false,masterData:masterData},_defineProperty(_payload,modalName,openModal),_defineProperty(_payload,\"selectedMasterRecord\",{}),_payload)});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function validateEsignCredentialSaveBarcodeMaster(inputParam,modalName){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;dispatch(saveBarcodeMaster(inputParam[\"screenData\"][\"inputParam\"],inputParam[\"screenData\"][\"masterData\"],modalName));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/actions/BulkBarcodeConfigAction.js"],"names":["rsapi","DEFAULT_RETURN","constructOptionList","sortData","toast","Axios","initRequest","intl","transactionStatus","getEditData","nbulkbarcodeconfigcode","userInfo","masterData","ncontrolcode","screenName","dispatch","selectedBulkBarcodeConfig","APPROVED","RETIRED","warn","formatMessage","id","inputData","userinfo","post","then","response","selectedRecord","data","sconfigname","nbarcodelength","sdescription","sprojecttypename","nprojecttypecode","type","payload","openModal","loadBulkBarcodeConfig","loadBarcodeMaster","loading","operation","catch","error","status","message","getFilterProjectType","inputParam","getBulkBarcodeConfigDetail","addBarcodeMaster","fieldName","ntransactionstatus","bulkBarcodeMasterMap","BulkBarcodeMaster","undefined","bulkBarcodeMasterList","get","openChildModal","selectedMasterRecord","getFieldLengthService","methodParam","URL","stablename","all","FieldLength","dataState","getParentBarcodeService","nbarcodemastercode","item","ParentBarcodeDetails","ParentBarcodeMasterList","getBulkBarcodeDetailsEditData","fetchRecord","urlArray","selectedId","ActiveByID","editRow","nbulkbarcodeconfigdetailscode","label","sformname","value","sfieldname","nfieldlength","nsorter","isneedparent","isvalidationrequired","YES","sparentformname","nparentnbarcodemastercode","nneedmaster","screenname","ncontrolCode","saveBarcodeMaster","modalName","requestUrl","classUrl","methodUrl","retrievedData","loadEsign","validateEsignCredentialSaveBarcodeMaster"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { constructOptionList, sortData } from '../components/CommonScript'//, getComboLabelValue, searchData\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus } from '../components/Enumeration';\r\n\r\nexport function getEditData(nbulkbarcodeconfigcode, userInfo, masterData, ncontrolcode, screenName) {\r\n    return function (dispatch) {\r\n        if (masterData.selectedBulkBarcodeConfig[\"ntransactionstatus\"] === transactionStatus.APPROVED ||\r\n            masterData.selectedBulkBarcodeConfig[\"ntransactionstatus\"] === transactionStatus.RETIRED) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        } else {\r\n            const inputData = {\r\n                nbulkbarcodeconfigcode: nbulkbarcodeconfigcode,\r\n                userinfo: userInfo\r\n            }\r\n            dispatch(initRequest(true));\r\n            rsapi.post(\"bulkbarcodeconfiguration/getActiveBulkBarcodeConfigurationById\", inputData)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    selectedRecord = {\r\n                        'sconfigname': response.data.sconfigname,\r\n                        'nbarcodelength': response.data.nbarcodelength,\r\n                        'sdescription': response.data.sdescription,\r\n                        'nprojecttypecode': {\r\n                            'label': response.data.sprojecttypename,\r\n                            'value': response.data.nprojecttypecode\r\n                        },\r\n                        'nbulkbarcodeconfigcode': response.data.nbulkbarcodeconfigcode\r\n                    }\r\n\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            openModal: true, selectedRecord, masterData,\r\n                            ncontrolcode: ncontrolcode, loadBulkBarcodeConfig: true,loadBarcodeMaster:false,\r\n                            loading: false, screenName: screenName, operation: 'update',\r\n\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\nexport function getFilterProjectType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"bulkbarcodeconfiguration/getFilterProjectType\", {\r\n            'userinfo': inputParam.inputData.userinfo,\r\n            'nprojecttypecode': inputParam.inputData.nprojecttypecode\r\n        })\r\n            .then(response => {\r\n                let masterData = {};\r\n                masterData = { ...inputParam.inputData.masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getBulkBarcodeConfigDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"bulkbarcodeconfiguration/getBulkBarcodeConfig\", {\r\n            'userinfo': inputParam.userinfo,\r\n            'nprojecttypecode': inputParam.nprojecttypecode || -1,\r\n            'nbulkbarcodeconfigcode': inputParam.nbulkbarcodeconfigcode || -1\r\n        })\r\n            .then(response => {\r\n                let masterData = {};\r\n                masterData = { ...inputParam.masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function addBarcodeMaster(screenName, userInfo, operation, masterData,fieldName,ncontrolcode) {\r\n    return function (dispatch) {\r\n        if (masterData.selectedBulkBarcodeConfig.ntransactionstatus === transactionStatus.APPROVED ||\r\n            masterData.selectedBulkBarcodeConfig.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        } else {\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"bulkbarcodeconfiguration/getBarcodeMaster\", {\r\n                'userinfo': userInfo,\"nbulkbarcodeconfigcode\":masterData.selectedBulkBarcodeConfig.nbulkbarcodeconfigcode\r\n            })\r\n                .then(response => {\r\n                    const bulkBarcodeMasterMap = constructOptionList(response.data.BulkBarcodeMaster || [], \"nbarcodemastercode\",\r\n                        \"sformname\", undefined, undefined, false);\r\n                    const bulkBarcodeMasterList = bulkBarcodeMasterMap.get(\"OptionList\");\r\n                    masterData = { ...masterData, ...response.data };\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            bulkBarcodeMasterList, masterData,\r\n                            loading: false, openChildModal: true, loadBarcodeMaster: true, fieldName: fieldName, loadBulkBarcodeConfig: false,\r\n                            operation: operation, selectedMasterRecord: undefined, screenName,ncontrolcode:ncontrolcode\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\nexport function getFieldLengthService(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        URL = rsapi.post(\"/bulkbarcodeconfiguration/getFieldLengthService\",\r\n            {\r\n                \"userinfo\": methodParam.inputData.userinfo, \"nprojecttypecode\": methodParam.inputData.nprojecttypecode,\r\n                'stablename': methodParam.inputData.stablename\r\n            })\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL])\r\n            .then(response => {\r\n                let selectedMasterRecord = {};\r\n                selectedMasterRecord = {\r\n                    ...methodParam.inputData.selectedMasterRecord,\r\n                    'nfieldlength': response[0].data && (response[0].data.FieldLength || \"\")\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                        { loading: false, data: undefined, dataState: undefined, selectedMasterRecord }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getParentBarcodeService(methodParam) {\r\n    return function (dispatch) {\r\n        let URL = [];\r\n        URL = rsapi.post(\"/bulkbarcodeconfiguration/getParentBulkBarcodeMaster\",\r\n            {\r\n                \"userinfo\": methodParam.inputData.userinfo, \"nprojecttypecode\": methodParam.inputData.nprojecttypecode,\r\n                'nbulkbarcodeconfigcode': methodParam.inputData.masterData.selectedBulkBarcodeConfig.nbulkbarcodeconfigcode,\r\n                'selectedBarcodeFormatting': methodParam.inputData.selectedMasterRecord &&  \r\n                methodParam.inputData.selectedMasterRecord.nbarcodemastercode && \r\n                methodParam.inputData.selectedMasterRecord.nbarcodemastercode.item\r\n            })\r\n        dispatch(initRequest(true));\r\n        Axios.all([URL])\r\n            .then(response => {\r\n               // let masterData = {};\r\n                const bulkBarcodeMasterMap = constructOptionList(response[0].data.ParentBarcodeDetails || [], \"nbulkbarcodeconfigdetailscode\",\r\n                    \"sdisplayname\", undefined, undefined, false);\r\n                const ParentBarcodeMasterList = bulkBarcodeMasterMap.get(\"OptionList\");\r\n              //  masterData = { ...methodParam.inputData.masterData, ...response.data };\r\n                let selectedMasterRecord = { ...methodParam.inputData.selectedMasterRecord };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload:\r\n                        { loading: false, data: undefined, dataState: undefined, ParentBarcodeMasterList, selectedMasterRecord }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getBulkBarcodeDetailsEditData(fetchRecord) {\r\n    return function (dispatch) {\r\n        if (fetchRecord.masterData.selectedBulkBarcodeConfig.ntransactionstatus === transactionStatus.APPROVED ||\r\n            fetchRecord.masterData.selectedBulkBarcodeConfig.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        } else {\r\n            let urlArray = [];\r\n            let selectedId = null;\r\n            const ActiveByID = rsapi.post(\"/bulkbarcodeconfiguration/getActiveBulkBarcodeMasterById\",\r\n                {\r\n                    \"nbulkbarcodeconfigdetailscode\": fetchRecord.editRow.nbulkbarcodeconfigdetailscode,\r\n                    \"userinfo\": fetchRecord.userInfo\r\n                });\r\n            urlArray = [ActiveByID];\r\n            selectedId = fetchRecord.editRow.nbulkbarcodeconfigdetailscode;\r\n\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedMasterRecord = {};\r\n                    selectedMasterRecord = {\r\n                        \"nbarcodemastercode\": { label: response[0].data.sformname, value: response[0].data.nbarcodemastercode },\r\n                        \"sfieldname\": response[0].data.sfieldname,\r\n                        \"nfieldlength\": response[0].data.nfieldlength,\r\n                        \"nsorter\": response[0].data.nsorter,\r\n                        \"sdescription\": response[0].data.sdescription === 'null' ? \"\" : response[0].data.sdescription,\r\n                        \"isneedparent\": response[0].data.isneedparent,\r\n                        \"isvalidationrequired\": response[0].data.isvalidationrequired,\t//ALPD-5082 Added isvalidationrequired to send value to the backend by VISHAKH\r\n                        \"nparentmastercode\": response[0].data.isneedparent === transactionStatus.YES ?\r\n                            { label: response[0].data.sparentformname, value: response[0].data.nparentnbarcodemastercode } : undefined,\r\n                        nbulkbarcodeconfigdetailscode: response[0].data.nbulkbarcodeconfigdetailscode\r\n                    }\r\n                    let fieldName = response[0].data.nneedmaster === transactionStatus.YES ? \"barcodemaster\" : \"\";\r\n                    let screenname=response[0].data.nneedmaster === transactionStatus.YES? \"IDS_BARCODEMASTERNAME\" : \"IDS_BARCODEFORMATTINGFIELD\" ;\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            openChildModal: true, operation: fetchRecord.operation,\r\n                            selectedMasterRecord, fieldName,loadBulkBarcodeConfig:false,\r\n                            ncontrolcode: fetchRecord.ncontrolCode, loadBarcodeMaster: true,\r\n                            screenName: screenname, loading: false, selectedId\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\nexport function saveBarcodeMaster(inputParam, masterData, modalName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        let requestUrl = '';\r\n        requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData });\r\n        return requestUrl\r\n            .then(response => {\r\n                let openModal = false;\r\n                const retrievedData = sortData(response.data);\r\n                masterData = {\r\n                    ...masterData,\r\n                    ...retrievedData\r\n                }\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loadEsign: false, loadBarcodeMaster: true,selectedId: inputParam.selectedId, loading: false, masterData, [modalName]: openModal, selectedMasterRecord: {} } })\r\n\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function validateEsignCredentialSaveBarcodeMaster(inputParam, modalName) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n                if (response.data === \"Success\") {\r\n\r\n\r\n\r\n                    inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n                    dispatch(saveBarcodeMaster(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"], modalName))\r\n\r\n\r\n                }\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        loading: false\r\n                    }\r\n                })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}