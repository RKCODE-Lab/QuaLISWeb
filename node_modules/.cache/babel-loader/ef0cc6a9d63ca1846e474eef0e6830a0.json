{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faFileInvoice,faEye,faLink,faChevronRight,faComments,faLaptopHouse,faBoxOpen,faBoxTissue,faBox,faLocationArrow,faFolderMinus,faFolderOpen,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,getSampleMaster,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,getContainerStorageCondition,getStorageConditionFromMaster,getSampleMasterDetails,getContainers,getselectedContainer,changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation,loadApprovedLocationOnCombo,filterColumnData,loadApprovedLocationOnTreeData,moveItems,saveSampleStorageMaster,getSelectedApprovedStorageVersion}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import AddSample from'../basemaster/AddSample';import AddContainerStorageCondition from'./AddContainerStorageCondition';import{ProductList}from'../product/product.styled';import TransactionListMasterJson from'../../components/TransactionListMasterJson';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import StorageCategoryFilter from'./StorageCategoryFilter';import MoveSampleOrContainers from'./MoveSampleOrContainers';import{faFolder}from'@fortawesome/free-regular-svg-icons';var SampleStorageMaster=/*#__PURE__*/function(_Component){_inherits(SampleStorageMaster,_Component);var _super=_createSuper(SampleStorageMaster);function SampleStorageMaster(props){var _this$state;var _this;_classCallCheck(this,SampleStorageMaster);_this=_super.call(this,props);_this.openModal=function(){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerlastnode===true){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},operation:\"create\"}};_this.props.updateStore(updateInfo);}};_this.closeModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:false,selectedRecord:{}}};_this.props.updateStore(updateInfo);};_this.closeChildModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:false,selectedRecord:{}}};_this.props.updateStore(updateInfo);};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[event.target.name]=event.target.value;_this.setState({selectedRecord:selectedRecord});};_this.onKeyUp=function(event){if(event.keyCode===13){_this.onSaveClickSample(2);}};_this.onSaveClick=function(saveType,formRef){if(_this.state.activeTabIndex===1){_this.onSaveClickSample(saveType,formRef);}else{_this.onSaveClickContainer(saveType,formRef);}};_this.onSaveClickSample=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.props.Login.operation===\"update\"){inputData[\"sampleStorageMaster\"]={\"nsamplecode\":_this.state.selectedRecord.nsamplecode?_this.state.selectedRecord.nsamplecode:-1,\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode};}else{//add               \ninputData[\"sampleStorageMaster\"]={\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode};}var inputParam={methodUrl:_this.props.Login.inputParam.methodUrl,classUrl:_this.props.Login.inputParam.classUrl,displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData }, saveType\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n// this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.saveSampleStorageMaster(_this.props.Login.userInfo,_this.props.Login.masterData,_this.state.selectedRecord,inputParam);// }\n};_this.onSaveClickContainer=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"containerStorageCondition\"]={\"nstatus\":1};if(_this.props.Login.operation===\"update\"){inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"]=_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.ncontainerstoragecode:-1;inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;}inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;var inputParam={methodUrl:\"ContainerStorageCondition\",classUrl:_this.props.Login.inputParam.classUrl,displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData }, saveType\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n_this.props.crudMaster(inputParam,masterData,\"openModal\");// }\n};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                            \".concat(item.selected?\"active-node\":\"\",\"\\n                            \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text)):\"\");}};_this.onItemClickView=function(event){if(_this.state.selectedItem){_this.state.selectedItem.selected=false;}event.item.selected=true;_this.setState({selectedItem:event.item});// let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\n//     if (item.editable === true) {\n//         item.editable = false;\n//     } else if (item.id === event.item.id) {\n//         item.editable = true;\n//     }\n//     return item;\n// });\n// this.setState({ treeDataView: newData });\nif(event.item&&event.item.containerlastnode&&event.item.containerlastnode===true){_this.props.getSampleMaster(event.item,_this.props.Login.userInfo,_this.props.Login.masterData);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(1);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(1);}else if(_this.state.activeTabIndex!==1){_this.changePropertyView(1);}}else if(event.item&&event.item.containerfirstnode&&event.item.containerfirstnode===true){var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length-1;i++){result=result[indices[i]].items;itemText=i>0?itemText+\" -> \"+result[0].text:itemText+\"\"+result[0].text;}_this.props.getContainerStorageCondition(event.item,_this.props.Login.userInfo,_this.props.Login.masterData,itemText);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(2);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(2);}else if(_this.state.activeTabIndex!==2){_this.changePropertyView(2);}}else if(event.item&&event.item.locationlastnode&&event.item.locationlastnode===true){var containers=[];event.item.items.forEach(function(element){if(element.containerfirstnode===true){containers.push(element);}});_this.props.getContainers(event.item,_this.props.Login.masterData,containers);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(3);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(3);}else if(_this.state.activeTabIndex!==3){_this.changePropertyView(3);}}else{var updateInfo={typeName:DEFAULT_RETURN,data:{selectedItem:event.item}};_this.props.updateStore(updateInfo);}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else if(caseNo===4){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnCombo(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else if(caseNo===5){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnTreeData(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.onExpandChangeView=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});setTimeout(function(){_this._scrollBarRef.updateScroll();});};_this.moveItem=function(userInfo,masterData){if(_this.state.activeTabIndex&&_this.state.activeTabIndex===1){if(_this.props.Login.masterData&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}}else if(_this.state.activeTabIndex&&_this.state.activeTabIndex===3){if(_this.props.Login.masterData&&_this.props.Login.masterData.selectedContainer&&_this.props.Login.masterData.selectedContainer[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}}};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageMaster(ncontrolCode);});};_this.deleteSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];if(_this.props.Login.masterData&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\n//             screenName: this.props.Login.inputParam.displayName\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.loadStorageCondition=function(){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerfirstnode===true){_this.props.getStorageConditionFromMaster(_this.props.Login.userInfo,_this.props.Login.masterData);}};_this.discardSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];if(_this.props.Login.masterData&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode,\"npreregno\":item.npreregno,\"ntransactionsamplecode\":item.ntransactionsamplecode,\"sarno\":item.sarno,\"ssamplearno\":item.ssamplearno});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"discard\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\n//             screenName: this.props.Login.inputParam.displayName\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.sideNavDetail=function(screenName){var addId=_this.state.controlMap.has(\"Add SampleStorageMaster\")&&_this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;var editId=_this.state.controlMap.has(\"Edit SampleStorageMaster\")&&_this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;var deleteId=_this.state.controlMap.has(\"Delete SampleStorageMaster\")&&_this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;var editContainerID=_this.state.controlMap.has(\"Edit StorageContainer\")&&_this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;var moveId=_this.state.controlMap.has(\"Move SampleStorageMaster\")&&_this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;var discardId=_this.state.controlMap.has(\"Discard SampleStorageMaster\")&&_this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;return screenName==\"IDS_SAMPLEDETAILS\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this.openModal();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAMPLE\",defaultMessage:\"Sample\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deletesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DELETE\",defaultMessage:\"Delete\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"movesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"discardsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(discardId)===-1,onClick:function onClick(){return _this.discardSampleStorageMaster(discardId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowRight}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DISCARD\",defaultMessage:\"Discard\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.sampleStorageMaster||[],selectedMaster:_this.props.Login.masterData.selectedSampleStorageMaster||[],primaryKeyField:\"nsamplecode\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getSampleMasterDetails,inputParam:_objectSpread({},_this.props.Login.masterData),moreField:_this.props.Login.masterData.sampleStorageMaster||[]// selectionList={this.props.Login.masterData.RealFilterStatusValue\n//     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\n,selectionColorField:\"scolorhexcode\",mainField:\"ssamplearno\",showStatusLink:true,showStatusName:true// statusFieldName=\"stransdisplaystatus\"\n// statusField=\"ntransactionstatus\"\n,selectedListName:\"selectedSampleStorageMaster\"// searchListName=\"searchedSample\"\n// searchRef={this.searchSampleRef}\n// objectName=\"sample\"\n,listName:\"IDS_SAMPLE\"// selectionField=\"ntransactionstatus\"\n// selectionFieldName=\"stransdisplaystatus\"\n// showFilter={this.props.Login.showFilter}\n// openFilter={this.openFilter}\n// closeFilter={this.closeFilter}\n// onFilterSubmit={this.onFilterSubmit}\n// subFields={this.state.DynamicSampleColumns}                                                 \n,needMultiSelect:false,needSingleSelect:true,subListName:\"columnlist\",jsonfield:\"jsondata\",showDynamicFields:true,showStatusBlink:true// filterParam={{\n//     ...this.state.filterSampleParam,\n//     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\n//     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\n// }}\n// subFieldsLabel={false}\n,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):screenName==\"IDS_CONTAINERS\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner container-tab\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.containers||[],selectedMaster:_this.props.Login.masterData.selectedContainer||[],primaryKeyField:\"id\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getselectedContainer,inputParam:_objectSpread({},_this.props.Login.masterData),selectionColorField:\"scolorhexcode\",mainField:\"text\",showStatusLink:true,showStatusName:true,selectedListName:\"selectedContainer\",listName:\"IDS_SAMPLE\",needMultiSelect:false,needSingleSelect:true,subListName:\"columnlist\",jsonfield:\"jsondata\",showDynamicFields:true,showStatusBlink:true,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):screenName==\"IDS_STORAGECONDITION\"?/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content storage-tab\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,{className:\"no-padding\"},/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editUser\",hidden:_this.state.userRoleControlRights.indexOf(editContainerID)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(){return _this.loadStorageCondition();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt}))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap no-padding\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGECONDITIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.sstorageconditionname:\"\"||\"\"))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGELOCATIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.containerLocation&&_this.props.Login.containerLocation))))))):\"\";};_this.changePropertyView=function(index,event,status){if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:_this.state.activeTabIndex!==index?index:0?index:false}};_this.props.updateStore(updateInfo);}};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined}};_this.props.updateStore(updateInfo);};_this.onInputSwitchOnChange=function(event){if(event.target.name==\"PopupNav\"){_this.setState({enablePropertyPopup:!_this.state.enablePropertyPopup});}else{_this.setState({enableAutoClick:!_this.state.enableAutoClick});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilterOnSampleMaster(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.itemRender=function(clickedItem){if(!_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline mb-0\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item mr-3 \"},clickedItem.item.text),clickedItem.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item \"},/*#__PURE__*/React.createElement(\"span\",null))):null):\"\");}};_this.onItemClick=function(event){var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});_this.setState({treeData:newData,clickedItem:event.item});};_this.onExpandChange=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.onMoveClick=function(saveType,formRef){var inputParam={};if(_this.state.activeTabIndex===1){if(_this.state.clickedItem&&_this.state.clickedItem.containerlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.sampleTrayCode){inputParam={selectedSamples:_this.props.Login.masterData.selectedSampleStorageMaster,moveTargetTrayCode:_this.state.clickedItem.id,nsamplestoragelocationcode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,moveContainers:false,storageCategory:_this.state.selectedRecord[\"nstoragecategorycode\"]&&_this.state.selectedRecord[\"nstoragecategorycode\"].value};_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}else if(_this.state.activeTabIndex===3){if(_this.state.clickedItem&&_this.state.clickedItem.locationlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.locationCode){var getSampleTray=[];var targetData=_this.state.treeData||[];var sourceData=_this.state.treeDataView||[];var newData=[];var sameLocation=true;var targetJsonData={};var SourceJsonData={};if(_this.props.Login.masterData.selectedSampleStorageVersion&&_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode===_this.state.selectedRecord[\"nsamplestoragelocationcode\"].value){_this.props.Login.masterData.selectedContainer.forEach(function(data){targetData=removeItems(targetData,\"items\",function(item){return item.id===data.id;});});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items;item.items=item.items||[];(_item$items=item.items).push.apply(_item$items,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}return item;});targetJsonData[\"data\"]=newData;}else{_this.props.Login.masterData.selectedContainer.forEach(function(data){sourceData=removeItems(sourceData,\"items\",function(item){return item.id===data.id;});});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items2;item.items=item.items||[];(_item$items2=item.items).push.apply(_item$items2,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}return item;});SourceJsonData[\"data\"]=sourceData;targetJsonData[\"data\"]=newData;_this.props.Login.masterData.selectedContainer.forEach(function(data){mapTree([data],\"items\",function(item){if(item.containerlastnode===true){getSampleTray.push({id:item.id,text:item.text,nsamplestoragelocationcode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].value});}});});sameLocation=false;}inputParam={selectedSamples:getSampleTray,sourceLocationCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,sourceVersionCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,nsamplestoragelocationcode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,nsamplestorageversioncode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,SourceJsonData:SourceJsonData,targetJsonData:targetJsonData,moveContainers:true,storageCategory:_this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,sameLocation:sameLocation};_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"samplestoragemaster\",methodUrl:\"SampleStorageMaster\",displayName:\"IDS_SAMPLESTORAGEMASTER\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.state=(_this$state={selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,enablePropertyPopup:false,enableAutoClick:false,treeDataView:undefined,toggleActionView:false,toggleAction:false,propertyPopupWidth:\"60\"},_defineProperty(_this$state,\"splitChangeWidthPercentage\",28.6),_defineProperty(_this$state,\"containers\",[]),_defineProperty(_this$state,\"treeData\",[]),_defineProperty(_this$state,\"selectedItem\",undefined),_this$state);_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageMaster,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var isComponentUpdated=false;var filterData=this.state.filterData;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}}if(this.props.Login.masterData.approvedTreeData!==previousProps.Login.masterData.approvedTreeData){if(this.props.Login.masterData.approvedTreeData&&this.props.Login.masterData.approvedTreeData!==undefined){this.setState({treeData:this.props.Login.masterData.approvedTreeData});}//JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\n}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){if(this.props.Login.masterData.filterStorageCategory&&this.props.Login.masterData.filterStorageCategory!==undefined){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){nfilterStorageCategory=filterStorageCategory[0];}isComponentUpdated=true;}}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){if(this.props.Login.masterData.nfilterStorageCategory&&this.props.Login.masterData.nfilterStorageCategory!==undefined){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,filterStorageCategory:filterStorageCategory});}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){this.setState({activeTabIndex:this.props.Login.activeTabIndex});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.approvedSampleStorageLocation?this.props.Login.masterData.filterStorageCategory&&this.props.Login.masterData.filterStorageCategory!==undefined?this.props.Login.masterData.selectedStorageCategoryName:\"NA\":\"NA\"});}return breadCrumbData;}},{key:\"render\",value:function render(){var _this2=this;var mandatoryFields=[];if(this.state.activeTabIndex===1){mandatoryFields.push({\"idsName\":\"IDS_SAMPLE\",\"dataField\":\"ssamplearno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else if(this.state.activeTabIndex===2){mandatoryFields.push({\"idsName\":\"IDS_STORAGECONDITIONNAME\",\"dataField\":\"nstorageconditioncode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});}var filterParam={inputListName:\"approvedSampleStorageLocation\",selectedObject:\"selectedSampleStorageVersion\",primaryKeyField:\"nsamplestorageversioncode\",fetchUrl:\"samplestoragelocation/getActiveSampleStorageVersion\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true,className:\"toolbar-top \".concat(this.state.activeTabIndex?'active-property-bar':\"\")},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ListWrapper,{className:\"vertical-tab-top grid-master \".concat(this.state.enablePropertyPopup?'active-popup':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-left-area \".concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.approvedSampleStorageLocation,getMasterDetail:function getMasterDetail(selectedItem){return _this2.props.getSelectedApprovedStorageVersion(selectedItem,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedSampleStorageVersion,primaryKeyField:\"nsamplestoragelocationcode\",mainField:\"ssamplestoragelocationname\"// firstField=\"sversionno\"\n// secondField=\"stransdisplaystatus\"\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,hideAddButton:true// addId={addId}\n,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:false// openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\n,showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_STORAGEFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]})),/*#__PURE__*/React.createElement(\"div\",{className:\"tree-view-container\"},/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.treeDataView,expandIcons:true,item:this.itemRenderView,selectField:'activeNode',onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView})),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" xs-grid-container vertical-tab \").concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" vertical-tab-content pager_wrap wrap-class \").concat(this.state.activeTabIndex?'active':\"\"),style:{width:this.state.enablePropertyPopup?this.state.propertyPopupWidth+'%':\"\"}},/*#__PURE__*/React.createElement(\"span\",{className:\" vertical-tab-close \".concat(this.state.activeTabIndex?'active':\"\"),onClick:function onClick(){return _this2.changePropertyViewClose(false);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronRight}),\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===1?this.sideNavDetail(\"IDS_SAMPLEDETAILS\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"})),this.state.activeTabIndex&&this.state.activeTabIndex===2?this.sideNavDetail(\"IDS_STORAGECONDITION\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===3?this.sideNavDetail(\"IDS_CONTAINERS\"):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-head\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\"),onClick:function onClick(){return _this2.changePropertyView(1);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\"),onClick:function onClick(){return _this2.changePropertyView(2);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLink}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\"),onClick:function onClick(){return _this2.changePropertyView(3);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faComments}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex===1?\"IDS_SAMPLE\":\"IDS_STORAGECONDITIONNAME\"}),onSaveClick:this.onSaveClick,selectedRecord:this.state.selectedRecord||{},showSaveContinue:this.state.activeTabIndex&&this.state.activeTabIndex===1?true:false,mandatoryFields:mandatoryFields,addComponent:this.state.activeTabIndex&&this.state.activeTabIndex===1?/*#__PURE__*/React.createElement(AddSample,{onInputChange:function onInputChange(e){return _this2.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},onKeyUp:function onKeyUp(e){return _this2.onKeyUp(e);}}):this.state.activeTabIndex&&this.state.activeTabIndex===2?/*#__PURE__*/React.createElement(AddContainerStorageCondition,{selectedRecord:this.state.selectedRecord||{},onComboChange:this.onComboChange,storageCondition:this.props.Login.masterData.storageCondition||[]}):/*#__PURE__*/React.createElement(React.Fragment,null)}),this.props.Login.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openChildModal,closeModal:this.closeChildModal,operation:this.props.intl.formatMessage({id:\"IDS_MOVE\"}),inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex==1?\"IDS_SAMPLE\":\"IDS_CONTAINERS\"}),onSaveClick:this.onMoveClick,selectedRecord:this.state.selectedRecord||{},addComponent:/*#__PURE__*/React.createElement(MoveSampleOrContainers,{treeData:this.state.treeData,selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,storageCategory:this.props.Login.masterData.storageCategory||[],approvedLocation:this.props.Login.masterData.approvedLocation||[]})}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageMaster;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getSampleMaster:getSampleMaster,filterColumnData:filterColumnData,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,getContainerStorageCondition:getContainerStorageCondition,getStorageConditionFromMaster:getStorageConditionFromMaster,getSampleMasterDetails:getSampleMasterDetails,getContainers:getContainers,getselectedContainer:getselectedContainer,changeStorageCategoryFilterOnSampleMaster:changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation:openSampleStorageApprovedLocation,loadApprovedLocationOnCombo:loadApprovedLocationOnCombo,loadApprovedLocationOnTreeData:loadApprovedLocationOnTreeData,moveItems:moveItems,saveSampleStorageMaster:saveSampleStorageMaster,getSelectedApprovedStorageVersion:getSelectedApprovedStorageVersion})(injectIntl(SampleStorageMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageMaster.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faFileInvoice","faEye","faLink","faChevronRight","faComments","faLaptopHouse","faBoxOpen","faBoxTissue","faBox","faLocationArrow","faFolderMinus","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","getSampleMaster","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","getContainerStorageCondition","getStorageConditionFromMaster","getSampleMasterDetails","getContainers","getselectedContainer","changeStorageCategoryFilterOnSampleMaster","openSampleStorageApprovedLocation","loadApprovedLocationOnCombo","filterColumnData","loadApprovedLocationOnTreeData","moveItems","saveSampleStorageMaster","getSelectedApprovedStorageVersion","DEFAULT_RETURN","ListWrapper","TreeViewEditable","mapTree","removeItems","ConfirmMessage","CustomSwitch","AddSample","AddContainerStorageCondition","ProductList","TransactionListMasterJson","BreadcrumbComponent","StorageCategoryFilter","MoveSampleOrContainers","faFolder","SampleStorageMaster","props","openModal","Login","selectedItem","containerlastnode","updateInfo","typeName","data","selectedRecord","operation","closeModal","closeChildModal","openChildModal","onInputChange","event","state","target","name","value","setState","onKeyUp","keyCode","onSaveClickSample","onSaveClick","saveType","formRef","activeTabIndex","onSaveClickContainer","inputData","userInfo","nsamplecode","sampleTrayCode","ssamplearno","masterData","selectedSampleStorageVersion","nsamplestoragelocationcode","inputParam","methodUrl","classUrl","displayName","storageContainer","ncontainerstoragecode","containerCode","undefined","nstorageconditioncode","itemRenderView","clickedItem","item","toggleActionView","selected","expanded","containerfirstnode","locationlastnode","text","onItemClickView","changePropertyView","result","treeDataView","indices","itemHierarchicalIndex","split","map","index","Number","itemText","i","length","items","containers","forEach","element","push","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","searchRef","current","onExpandChangeView","forceUpdate","handlePageChange","e","skip","take","setTimeout","_scrollBarRef","updateScroll","moveItem","selectedSampleStorageMaster","warn","intl","formatMessage","id","selectedContainer","confirmDelete","ncontrolCode","confirmMessage","confirm","deleteSampleStorageMaster","ssampletraycode","loadStorageCondition","discardSampleStorageMaster","npreregno","ntransactionsamplecode","sarno","sideNavDetail","screenName","addId","controlMap","has","get","ncontrolcode","editId","deleteId","editContainerID","moveId","discardId","userRoleControlRights","indexOf","splitChangeWidthPercentage","sampleStorageMaster","filterTransactionList","sstorageconditionname","containerLocation","status","window","innerWidth","enableAutoClick","changePropertyViewClose","onInputSwitchOnChange","enablePropertyPopup","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","itemRender","toggleAction","editable","onItemClick","newData","treeData","onExpandChange","onMoveClick","selectedSamples","moveTargetTrayCode","moveContainers","storageCategory","locationCode","getSampleTray","targetData","sourceData","sameLocation","targetJsonData","SourceJsonData","sourceLocationCode","sourceVersionCode","nsamplestorageversioncode","reloadData","Map","detailSkip","detailTake","settings","propertyPopupWidth","createRef","previousProps","isComponentUpdated","filterData","nformcode","Object","values","approvedTreeData","JSON","parse","nStorageCategory","filterStorageCategoryMap","generateBreadCrumData","breadCrumbData","approvedSampleStorageLocation","selectedStorageCategoryName","mandatoryFields","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","searchedData","width","storageCondition","approvedLocation","masterStatus","error","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faFileInvoice, faEye, faLink, faChevronRight, faComments, faLaptopHouse, faBoxOpen, faBoxTissue, faBox, faLocationArrow, faFolderMinus, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, getSampleMaster,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, getContainerStorageCondition,\r\n    getStorageConditionFromMaster, getSampleMasterDetails, getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster,\r\n    openSampleStorageApprovedLocation, loadApprovedLocationOnCombo, filterColumnData,\r\n    loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport AddSample from '../basemaster/AddSample';\r\nimport AddContainerStorageCondition from './AddContainerStorageCondition';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJson from '../../components/TransactionListMasterJson';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport MoveSampleOrContainers from './MoveSampleOrContainers';\r\nimport { faFolder } from '@fortawesome/free-regular-svg-icons';\r\n\r\nclass SampleStorageMaster extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            enablePropertyPopup: false,\r\n            enableAutoClick: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            toggleAction: false,\r\n            propertyPopupWidth: \"60\",\r\n            splitChangeWidthPercentage: 28.6,\r\n            containers: [],\r\n            treeData: [],\r\n            selectedItem:undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    openModal = () => {\r\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerlastnode === true) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal: true, selectedRecord: {},\r\n                    operation: \"create\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeChildModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openChildModal: false, selectedRecord: {}\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n    onKeyUp = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.onSaveClickSample(2);\r\n        }\r\n    };\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.activeTabIndex === 1) {\r\n            this.onSaveClickSample(saveType, formRef);\r\n        } else {\r\n            this.onSaveClickContainer(saveType, formRef);\r\n        }\r\n    }\r\n    onSaveClickSample = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"nsamplecode\": this.state.selectedRecord.nsamplecode ? this.state.selectedRecord.nsamplecode : -1,\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        // else {\r\n            // this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            this.props.saveSampleStorageMaster(this.props.Login.userInfo, this.props.Login.masterData, this.state.selectedRecord, inputParam);\r\n        // }\r\n\r\n    }\r\n\r\n    onSaveClickContainer = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        inputData[\"containerStorageCondition\"] = { \"nstatus\": 1 };\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"] = this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                this.props.Login.masterData.storageContainer.ncontainerstoragecode : -1\r\n            inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n            inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n\r\n        }\r\n        inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n        inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n        const inputParam = {\r\n            methodUrl: \"ContainerStorageCondition\",\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        // else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        // }\r\n\r\n    }\r\n\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${item.selected ? \"active-node\" :\"\"}\r\n                            ${item.expanded ? \"expand-node\" :\"collapse-node\"}\r\n                            `}>\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> : \r\n                                item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :  \r\n                                item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                item.expanded ?  <FontAwesomeIcon icon={faFolderOpen} /> :  <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                        {/* <ul className=\"list-inline mb-0\"> */}\r\n                          {/* {console.log(clickedItem,'===>')} */}\r\n                            {/* {clickedItem.item.editable ? (\r\n                                <>\r\n                                    <li className=\"list-inline-item\"> */}\r\n                                        {/* <span\r\n                                            className=\"action-icon tree-toggle\"\r\n                                            onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        ></span> */}\r\n                                    {/* </li> */}\r\n                                {/* </> */}\r\n                             {/* ) : null} */}\r\n                        {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n    \r\n    onItemClickView = (event) => {\r\n        if (this.state.selectedItem) {\r\n            this.state.selectedItem.selected = false;\r\n          }\r\n      \r\n          event.item.selected = true;\r\n          this.setState({\r\n            selectedItem : event.item\r\n        })\r\n        // let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n\r\n        // this.setState({ treeDataView: newData });\r\n\r\n        if (event.item && event.item.containerlastnode && event.item.containerlastnode === true) {\r\n\r\n            this.props.getSampleMaster(event.item, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex !== 1) {\r\n                this.changePropertyView(1);\r\n            }\r\n\r\n\r\n        } else if (event.item && event.item.containerfirstnode && event.item.containerfirstnode === true) {\r\n\r\n            let result = this.state.treeDataView;\r\n\r\n\r\n\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length - 1; i++) {\r\n\r\n                result = result[indices[i]].items;\r\n\r\n                itemText = i > 0 ? itemText + \" -> \" + result[0].text : itemText + \"\" + result[0].text;\r\n\r\n            }\r\n\r\n            this.props.getContainerStorageCondition(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex !== 2) {\r\n                this.changePropertyView(2);\r\n            }\r\n\r\n        } else if (event.item && event.item.locationlastnode && event.item.locationlastnode === true) {\r\n\r\n            let containers = [];\r\n            event.item.items.forEach(element => {\r\n                if (element.containerfirstnode === true) {\r\n                    containers.push(element);\r\n                }\r\n            });\r\n\r\n            this.props.getContainers(event.item, this.props.Login.masterData, containers);\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex !== 3) {\r\n                this.changePropertyView(3);\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    selectedItem: event.item\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n\r\n\r\n    };\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else if (caseNo === 4) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnCombo(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n\r\n        } else if (caseNo === 5) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnTreeData(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n        } else {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({ controlMap, userRoleControlRights });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.approvedTreeData !== previousProps.Login.masterData.approvedTreeData) {\r\n            if (this.props.Login.masterData.approvedTreeData && this.props.Login.masterData.approvedTreeData !== undefined) {\r\n                this.setState({\r\n                    treeData:\r\n                        this.props.Login.masterData.approvedTreeData\r\n                });\r\n            } //JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\r\n        }\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            }\r\n        }\r\n\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            if (this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined) {\r\n                const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                    \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n                filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n                if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n                    nfilterStorageCategory = filterStorageCategory[0];\r\n                }\r\n                isComponentUpdated = true;\r\n            }\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            if (this.props.Login.masterData.nfilterStorageCategory && this.props.Login.masterData.nfilterStorageCategory !== undefined) {\r\n                nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n                isComponentUpdated = true;\r\n            }\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, filterStorageCategory });\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n            this.setState({ activeTabIndex: this.props.Login.activeTabIndex });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n    moveItem = (userInfo, masterData) => {\r\n        if (this.state.activeTabIndex && this.state.activeTabIndex === 1) {\r\n            if (this.props.Login.masterData && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n            }\r\n        } else if (this.state.activeTabIndex && this.state.activeTabIndex === 3) {\r\n            if (this.props.Login.masterData && this.props.Login.masterData.selectedContainer && this.props.Login.masterData.selectedContainer[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageMaster(ncontrolCode));\r\n    };\r\n    deleteSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n                data.push({ \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode });\r\n            })\r\n\r\n            inputData[\"sampleStorageMaster\"] = data;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            const inputParam = {\r\n                methodUrl: \"SampleStorageMaster\",\r\n                classUrl: \"samplestoragemaster\",\r\n                inputData: inputData,\r\n                operation: \"delete\", searchRef: this.searchRef\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n            //             screenName: this.props.Login.inputParam.displayName\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            // }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    }\r\n    loadStorageCondition = () => {\r\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerfirstnode === true) {\r\n            this.props.getStorageConditionFromMaster(this.props.Login.userInfo, this.props.Login.masterData)\r\n        }\r\n    }\r\n    discardSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n                data.push({\r\n                    \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode, \"npreregno\": item.npreregno,\r\n                    \"ntransactionsamplecode\": item.ntransactionsamplecode, \"sarno\": item.sarno, \"ssamplearno\": item.ssamplearno\r\n                });\r\n            })\r\n\r\n            inputData[\"sampleStorageMaster\"] = data;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            const inputParam = {\r\n                methodUrl: \"SampleStorageMaster\",\r\n                classUrl: \"samplestoragemaster\",\r\n                inputData: inputData,\r\n                operation: \"discard\", searchRef: this.searchRef\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            //     const updateInfo = {\r\n            //         typeName: DEFAULT_RETURN,\r\n            //         data: {\r\n            //             loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\r\n            //             screenName: this.props.Login.inputParam.displayName\r\n            //         }\r\n            //     }\r\n            //     this.props.updateStore(updateInfo);\r\n            // }\r\n            // else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            // }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    }\r\n    sideNavDetail = (screenName) => {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageMaster\") && this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageMaster\") && this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageMaster\") && this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;\r\n        const editContainerID = this.state.controlMap.has(\"Edit StorageContainer\") && this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;\r\n        const moveId = this.state.controlMap.has(\"Move SampleStorageMaster\") && this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;\r\n        const discardId = this.state.controlMap.has(\"Discard SampleStorageMaster\") && this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;\r\n\r\n        return (\r\n            screenName == \"IDS_SAMPLEDETAILS\" ?\r\n                <>\r\n                    <div className=\"actions-stripe\">\r\n                        <div className=\"d-flex justify-content-end\">\r\n                            <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                onClick={() => this.openModal()}\r\n                            >\r\n                                <FontAwesomeIcon icon={faPlus} /> { }\r\n                                <FormattedMessage id=\"IDS_SAMPLE\" defaultMessage=\"Sample\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"deletesample\" className=\"add-txt-btn\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                onClick={() => this.confirmDelete(deleteId)}\r\n                            >\r\n                                <FontAwesomeIcon icon={faTrashAlt} /> { }\r\n                                <FormattedMessage id=\"IDS_DELETE\" defaultMessage=\"Delete\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"movesample\" className=\"add-txt-btn\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData)}\r\n                            >\r\n                                <FontAwesomeIcon icon={faPlus} /> { }\r\n                                <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"discardsample\" className=\"add-txt-btn\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(discardId) === -1}\r\n                                onClick={() => this.discardSampleStorageMaster(discardId)}\r\n                            >\r\n                                <FontAwesomeIcon icon={faArrowRight} /> { }\r\n                                <FormattedMessage id=\"IDS_DISCARD\" defaultMessage=\"Discard\" />\r\n                            </Nav.Link>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className='toolbar-top-inner'>\r\n                        <TransactionListMasterJson\r\n                            listMasterShowIcon={1}\r\n                            clickIconGroup={false}\r\n                            splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                            masterList={this.props.Login.masterData.sampleStorageMaster || []}\r\n                            selectedMaster={this.props.Login.masterData.selectedSampleStorageMaster || []}\r\n                            primaryKeyField=\"nsamplecode\"\r\n                            filterColumnData={this.props.filterTransactionList}\r\n                            getMasterDetail={this.props.getSampleMasterDetails}\r\n                            inputParam={{\r\n                                ...this.props.Login.masterData\r\n                            }}\r\n                            moreField={this.props.Login.masterData.sampleStorageMaster || []}\r\n                            // selectionList={this.props.Login.masterData.RealFilterStatusValue\r\n                            //     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\r\n                            selectionColorField=\"scolorhexcode\"\r\n                            mainField={\"ssamplearno\"}\r\n                            showStatusLink={true}\r\n                            showStatusName={true}\r\n                            // statusFieldName=\"stransdisplaystatus\"\r\n                            // statusField=\"ntransactionstatus\"\r\n                            selectedListName=\"selectedSampleStorageMaster\"\r\n                            // searchListName=\"searchedSample\"\r\n                            // searchRef={this.searchSampleRef}\r\n                            // objectName=\"sample\"\r\n                            listName=\"IDS_SAMPLE\"\r\n                            // selectionField=\"ntransactionstatus\"\r\n                            // selectionFieldName=\"stransdisplaystatus\"\r\n                            // showFilter={this.props.Login.showFilter}\r\n                            // openFilter={this.openFilter}\r\n                            // closeFilter={this.closeFilter}\r\n                            // onFilterSubmit={this.onFilterSubmit}\r\n                            // subFields={this.state.DynamicSampleColumns}                                                 \r\n                            needMultiSelect={false}\r\n                            needSingleSelect={true}\r\n                            subListName=\"columnlist\"\r\n                            jsonfield=\"jsondata\"\r\n                            showDynamicFields={true}\r\n                            showStatusBlink={true}\r\n                            // filterParam={{\r\n                            //     ...this.state.filterSampleParam,\r\n                            //     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\r\n                            //     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\r\n                            // }}\r\n                            // subFieldsLabel={false}\r\n                            handlePageChange={this.handlePageChange}\r\n                            skip={this.state.skip}\r\n                            take={this.state.take}\r\n                            needFilter={false}\r\n                            hidePaging={false}\r\n                            hideSearch={true}                           \r\n                        />\r\n                    </div>\r\n                </>\r\n                : screenName == \"IDS_CONTAINERS\" ?\r\n                    <>\r\n                        <div className=\"actions-stripe\">\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                    hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                    onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                >\r\n                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                    <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                </Nav.Link>\r\n                            </div>\r\n                        </div>\r\n                        <div className='toolbar-top-inner container-tab'>\r\n                            <TransactionListMasterJson\r\n                                listMasterShowIcon={1}\r\n                                clickIconGroup={false}\r\n                                splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                masterList={this.props.Login.masterData.containers || []}\r\n                                selectedMaster={this.props.Login.masterData.selectedContainer || []}\r\n                                primaryKeyField=\"id\"\r\n                                filterColumnData={this.props.filterTransactionList}\r\n                                getMasterDetail={this.props.getselectedContainer}\r\n                                inputParam={{\r\n                                    ...this.props.Login.masterData\r\n                                }}\r\n                                selectionColorField=\"scolorhexcode\"\r\n                                mainField={\"text\"}\r\n                                showStatusLink={true}\r\n                                showStatusName={true}\r\n                                selectedListName=\"selectedContainer\"\r\n                                listName=\"IDS_SAMPLE\"\r\n                                needMultiSelect={false}\r\n                                needSingleSelect={true}\r\n                                subListName=\"columnlist\"\r\n                                jsonfield=\"jsondata\"\r\n                                showDynamicFields={true}\r\n                                showStatusBlink={true}\r\n                                handlePageChange={this.handlePageChange}\r\n                                skip={this.state.skip}\r\n                                take={this.state.take}\r\n                                needFilter={false}\r\n                                hidePaging={false}\r\n                                hideSearch={true}\r\n\r\n                            />\r\n                        </div>\r\n                    </>\r\n                    : screenName == \"IDS_STORAGECONDITION\" ?\r\n                        <ProductList className=\"panel-main-content storage-tab\">\r\n                            {/* {this.props.Login.masterData.storageContainerCondition && this.props.Login.masterData.storageContainerCondition !== undefined ? */}\r\n                            <Card className=\"border-0\">\r\n                                <Card.Header className=\"no-padding\">\r\n                                    <Card.Subtitle>\r\n                                        <div className=\"d-inline\">\r\n                                            <Nav.Link name=\"editUser\" hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                className=\"btn btn-circle outline-grey mr-2\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                onClick={() => this.loadStorageCondition()}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={faPencilAlt} />\r\n                                            </Nav.Link>\r\n                                        </div>\r\n                                    </Card.Subtitle>\r\n                                </Card.Header>\r\n                                <Card.Body className=\"form-static-wrap no-padding\">\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <FormGroup>\r\n                                                <FormLabel>\r\n                                                    <FormattedMessage id=\"IDS_STORAGECONDITIONNAME\" />\r\n                                                </FormLabel>\r\n                                                <ReadOnlyText>\r\n                                                    {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.masterData.storageContainer.sstorageconditionname : \"\" || \"\"}\r\n                                                </ReadOnlyText>\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                        <Col md={12}>\r\n                                            <FormGroup>\r\n                                                <FormLabel>\r\n                                                    <FormattedMessage id=\"IDS_STORAGELOCATIONNAME\" />\r\n                                                </FormLabel>\r\n                                                <ReadOnlyText>\r\n                                                    {this.props.Login.containerLocation && this.props.Login.containerLocation}\r\n                                                </ReadOnlyText>\r\n                                            </FormGroup>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card.Body>\r\n                            </Card>\r\n                            {/* : \"\"} */}\r\n\r\n                        </ProductList>\r\n                        : \"\"\r\n        )\r\n    }\r\n    changePropertyView = (index, event, status) => {\r\n        if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: this.state.activeTabIndex !== index ? index : 0 ? index : false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyViewClose = (id) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputSwitchOnChange = (event) => {\r\n        if (event.target.name == \"PopupNav\") {\r\n            this.setState({\r\n                enablePropertyPopup: !this.state.enablePropertyPopup\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                enableAutoClick: !this.state.enableAutoClick\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                        this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilterOnSampleMaster(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    itemRender = (clickedItem) => {\r\n        if (!this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <ul className=\"list-inline mb-0\">\r\n                            <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\r\n                            {clickedItem.item.editable ? (\r\n                                <>\r\n                                    <li className=\"list-inline-item \">\r\n                                        <span\r\n                                        // className=\"action-icon\"\r\n                                        // onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        ></span>\r\n                                    </li>\r\n                                </>\r\n                            ) : null}\r\n                        </ul>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData, clickedItem: event.item });\r\n    };\r\n\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onMoveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.state.activeTabIndex === 1) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.containerlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.sampleTrayCode) {\r\n\r\n                    inputParam = {\r\n                        selectedSamples: this.props.Login.masterData.selectedSampleStorageMaster,\r\n                        moveTargetTrayCode: this.state.clickedItem.id,\r\n                        nsamplestoragelocationcode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        moveContainers: false,\r\n                        storageCategory: this.state.selectedRecord[\"nstoragecategorycode\"] && this.state.selectedRecord[\"nstoragecategorycode\"].value\r\n                    }\r\n                    this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                }\r\n            }\r\n\r\n\r\n        } else if (this.state.activeTabIndex === 3) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.locationlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.locationCode) {\r\n\r\n                    let getSampleTray = [];\r\n                    let targetData = this.state.treeData || [];\r\n                    let sourceData = this.state.treeDataView || [];\r\n                    let newData = [];\r\n                    let sameLocation = true;\r\n                    let targetJsonData = {};\r\n                    let SourceJsonData = {};\r\n\r\n\r\n\r\n                    if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode === this.state.selectedRecord[\"nsamplestoragelocationcode\"].value) {\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            targetData = removeItems(targetData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            return item;\r\n                        });\r\n                        targetJsonData[\"data\"] = newData;\r\n                    } else {\r\n\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            sourceData = removeItems(sourceData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            return item;\r\n                        });\r\n                        SourceJsonData[\"data\"] = sourceData;\r\n                        targetJsonData[\"data\"] = newData;\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n\r\n                            mapTree([data], \"items\", (item) => {\r\n                                if (item.containerlastnode === true) {\r\n                                    getSampleTray.push({ id: item.id, text: item.text, nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].value });\r\n                                }\r\n                            });\r\n                        })\r\n                        sameLocation = false;\r\n                    }\r\n\r\n\r\n                    inputParam = {\r\n                        selectedSamples: getSampleTray,\r\n                        sourceLocationCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        sourceVersionCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,\r\n                        nsamplestorageversioncode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,\r\n                        SourceJsonData: SourceJsonData,\r\n                        targetJsonData: targetJsonData,\r\n                        moveContainers: true,\r\n                        storageCategory: this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                        sameLocation\r\n                    }\r\n                    this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                }\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"samplestoragemaster\",\r\n            methodUrl: \"SampleStorageMaster\",\r\n            displayName: \"IDS_SAMPLESTORAGEMASTER\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    render() {\r\n\r\n        let mandatoryFields = [];\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_SAMPLE\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" });\r\n        } else if (this.state.activeTabIndex === 2) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_STORAGECONDITIONNAME\", \"dataField\": \"nstorageconditioncode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n        }\r\n\r\n        const filterParam = {\r\n            inputListName: \"approvedSampleStorageLocation\", selectedObject: \"selectedSampleStorageVersion\", primaryKeyField: \"nsamplestorageversioncode\",\r\n            fetchUrl: \"samplestoragelocation/getActiveSampleStorageVersion\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={`toolbar-top ${this.state.activeTabIndex ? 'active-property-bar' :\"\"}`}>\r\n                        <Col md={12}>\r\n                            <ListWrapper className={`vertical-tab-top grid-master ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`}>\r\n                                <div className={`tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`}>\r\n                                    <ListMaster\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMASTER\" })}\r\n                                        masterData={this.props.Login.masterData}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.approvedSampleStorageLocation}\r\n                                        getMasterDetail={(selectedItem) =>\r\n                                            this.props.getSelectedApprovedStorageVersion(\r\n                                                selectedItem, this.props.Login.userInfo,\r\n                                                this.props.Login.masterData\r\n                                            )}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion}\r\n                                        primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                        mainField=\"ssamplestoragelocationname\"\r\n                                        // firstField=\"sversionno\"\r\n                                        // secondField=\"stransdisplaystatus\"\r\n                                        filterColumnData={this.props.filterColumnData}\r\n                                        filterParam={filterParam}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        hideAddButton={true}\r\n                                        // addId={addId}\r\n                                        searchRef={this.searchRef}\r\n                                        reloadData={this.reloadData}\r\n                                        hidePaging={false}\r\n                                        // openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                        showFilterIcon={true}\r\n                                        showFilter={this.props.Login.showFilter}\r\n                                        openFilter={this.openFilter}\r\n                                        closeFilter={this.closeFilter}\r\n                                        onFilterSubmit={this.onFilterSubmit}\r\n                                        filterComponent={[\r\n                                            {\r\n                                                \"IDS_STORAGEFILTER\":\r\n                                                    <StorageCategoryFilter\r\n                                                        filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                        nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                    />\r\n                                            }\r\n                                        ]}\r\n                                    />\r\n\r\n                                </div>\r\n                                <div className='tree-view-container'>\r\n\r\n                                    <TreeViewEditable\r\n                                        id=\"samplestoragelocation\"\r\n                                        name=\"samplestoragelocation\"\r\n                                        // label=\"Sample Storage Location\"\r\n                                        data={this.state.treeDataView}\r\n                                        expandIcons={true}\r\n                                        item={this.itemRenderView}\r\n                                        selectField={'activeNode'}\r\n                                        onExpandChange={this.onExpandChangeView}\r\n                                        onItemClick={this.onItemClickView}\r\n                                    />\r\n\r\n                                </div>\r\n                                <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} xs-grid-container vertical-tab ${this.state.activeTabIndex ? 'active' : \"\"}`} >\r\n                                    <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} vertical-tab-content pager_wrap wrap-class ${this.state.activeTabIndex ? 'active' : \"\"}`} style={{ width: this.state.enablePropertyPopup ? this.state.propertyPopupWidth + '%' : \"\" }}>\r\n                                        <span className={` vertical-tab-close ${this.state.activeTabIndex ? 'active' : \"\"}`} onClick={() => this.changePropertyViewClose(false)}><FontAwesomeIcon icon={faChevronRight} /> </span>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 1 ? this.sideNavDetail(\"IDS_SAMPLEDETAILS\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 2 ? this.sideNavDetail(\"IDS_STORAGECONDITION\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 3 ? this.sideNavDetail(\"IDS_CONTAINERS\") : \"\"}\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <div className='tab-head'>\r\n                                        <ul>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(1)}>\r\n                                                <FontAwesomeIcon icon={faEye} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(2)}>\r\n                                                <FontAwesomeIcon icon={faLink} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(3)}>\r\n                                                <FontAwesomeIcon icon={faComments} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                                </span>\r\n                                            </li>\r\n\r\n                                        </ul>\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Auto Show\"}\r\n                                                type=\"switch\"\r\n                                                name={\"Auto Click\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enableAutoClick}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enableAutoClick}\r\n                                            />\r\n                                        </span> */}\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Popup Nav\"}\r\n                                                type=\"switch\"\r\n                                                name={\"PopupNav\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enablePropertyPopup}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enablePropertyPopup}\r\n                                            />\r\n                                        </span> */}\r\n                                    </div>\r\n                                </div>\r\n                            </ListWrapper>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_STORAGECONDITIONNAME\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        showSaveContinue={this.state.activeTabIndex && this.state.activeTabIndex === 1 ? true : false}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={\r\n\r\n                            this.state.activeTabIndex && this.state.activeTabIndex === 1 ? (\r\n                                <AddSample\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onKeyUp={(e) => this.onKeyUp(e)}\r\n                                />\r\n                            ) : this.state.activeTabIndex && this.state.activeTabIndex === 2 ? (\r\n                                <AddContainerStorageCondition\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCondition={this.props.Login.masterData.storageCondition || []}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openChildModal &&\r\n                    <SlideOutModal show={this.props.Login.openChildModal}\r\n                        closeModal={this.closeChildModal}\r\n                        operation={this.props.intl.formatMessage({ id: \"IDS_MOVE\" })}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex == 1 ? \"IDS_SAMPLE\" : \"IDS_CONTAINERS\" })}\r\n                        onSaveClick={this.onMoveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                            <MoveSampleOrContainers\r\n                                treeData={this.state.treeData}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                itemRender={this.itemRender}\r\n                                onExpandChange={this.onExpandChange}\r\n                                onItemClick={this.onItemClick}\r\n                                onComboChange={this.onComboChange}\r\n                                storageCategory={this.props.Login.masterData.storageCategory || []}\r\n                                approvedLocation={this.props.Login.masterData.approvedLocation || []}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSampleMaster, filterColumnData,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, getContainerStorageCondition, getStorageConditionFromMaster, getSampleMasterDetails,\r\n    getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster, openSampleStorageApprovedLocation,\r\n    loadApprovedLocationOnCombo, loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion\r\n})(injectIntl(SampleStorageMaster));"]},"metadata":{},"sourceType":"module"}