{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5294\\\\QuaLISWeb\\\\src\\\\pages\\\\basemaster\\\\SampleStorageMapping.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Row, Card, Nav, Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript'; //import SortableTree from 'react-sortable-tree'; \n\nimport DataGrid from '../../components/data-grid/data-grid.component';\nimport { Utils as QbUtils } from \"@react-awesome-query-builder/ui\";\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { callService, updateStore, validateEsignCredentialStorage } from '../../actions';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes'; // import { initRequest } from \"../../actions/LoginAction\";\n\nimport { ListWrapper } from '../../components/client-group.styles';\nimport { ProductList } from '../product/product.styled'; // import ReactTooltip from 'react-tooltip';\n\nimport { uuid } from \"uuidv4\";\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\nimport SplitterLayout from 'react-splitter-layout';\nimport { transactionStatus } from '../../components/Enumeration';\nimport Esign from '../audittrail/Esign';\nimport rsapi from '../../rsapi';\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\nimport Axios from 'axios';\nimport StorageMappingFilter from './StorageMappingFilter';\nimport Preloader from '../../components/preloader/preloader.component';\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\nimport { process } from '@progress/kendo-data-query'; //import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\n\nimport MatrixComponent from '../../components/MatrixComponent';\nimport { ReactComponent as RefreshIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\"; //   import { Upload } from '@progress/kendo-react-upload';\n//   import * as XLSX from 'xlsx';\n\nclass SampleStorageMapping extends Component {\n  constructor(props) {\n    super(props);\n    this.dragOverCnt = 0;\n    this.isDragDrop = false;\n    this.SEPARATOR = '_';\n    this.uniqueIDArr = [];\n    this.countforTree = 0;\n    this.pointedItem = undefined;\n    this.getitemPath = {};\n\n    this.openModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal: true,\n          selectedRecord: {},\n          loadTreeProperties: false,\n          treeData: [{\n            text: \"root\",\n            expanded: true,\n            editable: true,\n            root: true,\n            id: uuid()\n          }],\n          operation: \"create\"\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeModal = () => {\n      // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: {\n      //         openModal: false, selectedRecord: {}\n      //     }\n      // }\n      // this.props.updateStore(updateInfo);\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.state.openModal; //let selectedId = this.props.Login.selectedId;\n\n      let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\n\n      let operation = this.state.operation;\n\n      if (this.props.Login.loadEsign) {\n        if (operation === \"delete\" || operation === \"approve\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {}; //selectedId = null;\n\n          operation = undefined;\n        } else {\n          loadEsign = false;\n        }\n\n        selectedRecord['esignpassword'] = \"\";\n        selectedRecord['esigncomments'] = \"\";\n        selectedRecord['esignreason'] = \"\";\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            openModal,\n            loadEsign,\n            selectedRecord,\n            selectedId: null,\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        openModal = false; //selectedId = null;\n\n        selectedRecord = {};\n      } // const updateInfo = {\n      //     typeName: DEFAULT_RETURN,\n      //     data: { openModal, loadEsign, selectedRecord, selectedId }\n      // }\n      // this.props.updateStore(updateInfo);\n\n\n      this.setState({\n        selectedRecord,\n        openModal,\n        loadEsign,\n        isInitialRender: true\n      });\n    };\n\n    this.onInputChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === \"checkbox\") {\n        selectedRecord[event.target.name] = event.target.checked;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      if (this.props.Login.loadTreeProperties === true) {\n        this.onSaveProperties(saveType, formRef);\n      } else if (this.state.openSpreadSheet) {\n        this.CRUDSampleStorageMapping({ ...this.state.editedsheetData,\n          nsamplestoragemappingcode: this.state.isMultiSampleAdd ? Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\") : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\n          nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n          sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\n          sheetUpdate: true,\n          userinfo: this.props.Login.userInfo,\n          isMultiSampleAdd: this.state.isMultiSampleAdd\n        }, 'update');\n      } else {\n        this.onSaveSampleStorageMapping(saveType, formRef);\n      }\n    };\n\n    this.paneSizeChange = d => {\n      this.setState({\n        splitChangeWidthPercentage: d\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.handleDetailPageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.openFilter = () => {\n      let showFilter = !this.props.Login.showFilter;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeFilter = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          showFilter: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      this.setState({\n        loading: true\n      });\n      let inputParamData = {\n        nstoragecategorycode: this.state.filterData && this.state.filterData[0]['nfilterStorageCategory'] ? this.state.filterData[0]['nfilterStorageCategory'] : 0,\n        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n        // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        let object = {\n          selectedStorageCategoryName: this.state.filterData[0]['nfilterStorageCategory'].value,\n          nfilterStorageCategory: this.state.filterData[0]['nfilterStorageCategory'] // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n          // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n\n        };\n        let filterData = this.generateBreadCrumData(object);\n        this.setState({\n          filterData,\n          masterData: { ...this.state.masterData,\n            ...response[0].data,\n            searchedData: undefined //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\n\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\n      this.handleSearch();\n      this.setState({\n        searchedTreeData: undefined\n      });\n\n      if (this.searchRef.current) {\n        this.searchRef.current.value = \"\";\n      }\n\n      let isOnlyDraft = false;\n\n      if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\n        isOnlyDraft = true;\n      }\n\n      this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\n    };\n\n    this.openStorageMapping = addId => {\n      this.addSampleStorageMapping({\n        userInfo: this.props.Login.userInfo,\n        addId\n      });\n    };\n\n    this.handleClickDelete = deleteParam => {\n      //this.props.deleteRecord(deleteParam);\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deletesamplestoragemapping(deleteParam));\n    };\n\n    this.deletesamplestoragemapping = param => {\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode)) {\n        const masterData = this.state.masterData || {};\n        let inputParam = {\n          methodUrl: \"SampleStorageMapping\",\n          // operation: this.props.Login.operation || this.state.operation,\n          operation: \"delete\",\n          classUrl: \"samplestoragemapping\",\n          inputData: {\n            'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\n            userinfo: this.props.Login.userInfo\n          }\n        };\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            openModal: true,\n            operation: \"delete\",\n            screenData: {\n              inputParam,\n              masterData\n            }\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.CRUDSampleStorageMapping({\n          'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n          'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\n          userinfo: this.props.Login.userInfo\n        }, 'delete');\n      }\n    };\n\n    this.addMultipleSample = param => {\n      this.setState({\n        //sheetData: JSON.parse(response[0].data.sheetData),\n        openModal: true,\n        isMultiSampleAdd: true,\n        openSpreadSheet: true,\n        //, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\n        loading: false\n      });\n    };\n\n    this.importdata = () => {\n      this.setState({\n        openModal: true,\n        importdata: true\n      });\n    };\n\n    this.addSample = (param, nflag) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemappingSheetData\", {\n        isMultiSampleAdd: nflag === 2 ? true : false,\n        nsamplestoragemappingcode: nflag === 2 ? this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(\",\") : param.nsamplestoragemappingcode.toString()\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        if (nflag === 2) {\n          this.setState({\n            sheetData: JSON.parse(response[0].data.sheetData),\n            openModal: true,\n            isMultiSampleAdd: true,\n            openSpreadSheet: true,\n            //, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\n            loading: false\n          });\n        } else {\n          this.setState({\n            sheetData: JSON.parse(response[0].data.sheetData),\n            openModal: true,\n            isMultiSampleAdd: false,\n            openSpreadSheet: true,\n            editedsheetData: param,\n            Rows: param.nrow,\n            columns: param.ncolumn,\n            loading: false\n          });\n        }\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let selectedRecordFilter = this.state.selectedRecordFilter || {};\n\n      if (fieldName === 'nstoragecategorycode') {\n        selectedRecordFilter[fieldName] = comboData;\n        this.setState({\n          selectedRecordFilter\n        });\n        /*\r\n        return this.getSampleStorageLocation({\r\n            userinfo: this.props.Login.userInfo,\r\n            nstoragecategorycode: comboData.value\r\n        }, fieldName, comboData);*/\n      } else if (fieldName === 'ncontainertypecode') {\n        return this.getContainerStructure({\n          userinfo: this.props.Login.userInfo,\n          ncontainertypecode: comboData.value\n        }, fieldName, comboData);\n      } else if (fieldName === 'ncontainerstructurecode') {\n        selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\n        selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\n      } else if (fieldName === 'nsamplestoragelocationcode') {\n        return this.getSampleStorageLocation({\n          userinfo: this.props.Login.userInfo,\n          nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\n          nsamplestoragelocationcode: comboData.value\n        }, fieldName, comboData);\n      }\n\n      if (fieldName === 'nsamplestorageversioncode') {\n        selectedRecordFilter[fieldName] = comboData;\n        this.setState({\n          selectedRecordFilter\n        });\n      } else {\n        selectedRecord[fieldName] = comboData;\n        this.setState({\n          selectedRecord,\n          selectedRecordFilter\n        });\n      }\n    };\n\n    this.onSaveSampleStorageMapping = saveType => {\n      let selectedRecord = this.state.selectedRecord;\n      let containerpathCodeArray = [];\n\n      if (this.state.operation === 'create') {\n        containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\n      }\n\n      const inputParam = selectedRecord['nneedposition'] === true ? {\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ? parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\n        ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\n        nproductcode: selectedRecord['nproductcode'] ? selectedRecord['nproductcode'].value : -1,\n        nprojecttypecode: selectedRecord['nprojecttypecode'] ? selectedRecord['nprojecttypecode'].value : -1,\n        nunitcode: selectedRecord['nunitcode'] ? selectedRecord['nunitcode'].value : -1,\n        ssamplestoragemappingname: \"-\",\n        ndirectionmastercode: selectedRecord['ndirectionmastercode'] ? selectedRecord['ndirectionmastercode'].value : -1,\n        nsamplestoragecontainerpathcode: this.state.operation === 'create' ? JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\n        containerpathsize: containerpathCodeArray.length,\n        nneedposition: 3,\n        sboxid: '',\n        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\n        nquantity: selectedRecord['nquantity'] ? parseFloat(selectedRecord['nquantity']) : 0,\n        nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n        //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n        userinfo: this.props.Login.userInfo,\n        nrow: selectedRecord['nrow'],\n        ncolumn: selectedRecord['ncolumn']\n      } : {\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ? parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\n        ncontainertypecode: -1,\n        nproductcode: selectedRecord['nproductcode'] ? selectedRecord['nproductcode'].value : -1,\n        nprojecttypecode: selectedRecord['nprojecttypecode'] ? selectedRecord['nprojecttypecode'].value : -1,\n        nunitcode: selectedRecord['nunitcode'] ? selectedRecord['nunitcode'].value : -1,\n        ndirectionmastercode: 1,\n        ssamplestoragemappingname: \"-\",\n        nsamplestoragecontainerpathcode: this.state.operation === 'create' ? JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\n        containerpathsize: containerpathCodeArray.length,\n        nneedposition: 4,\n        sboxid: '',\n        ncontainerstructurecode: -1,\n        nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 0,\n        nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n        userinfo: this.props.Login.userInfo,\n        nrow: selectedRecord['nrow'],\n        ncolumn: selectedRecord['ncolumn']\n      };\n\n      if (this.state.operation === \"update\" && showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode)) {\n        const masterData = this.state.masterData; // let openModal = this.state.openModal;\n\n        let inputParam = {\n          methodUrl: \"SampleStorageMapping\",\n          operation: this.state.operation,\n          classUrl: \"samplestoragemapping\",\n          inputData: selectedRecord['nneedposition'] === true ? {\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n            nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ? parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\n            ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\n            nproductcode: selectedRecord['nproductcode'] ? selectedRecord['nproductcode'].value : -1,\n            nprojecttypecode: selectedRecord['nprojecttypecode'] ? selectedRecord['nprojecttypecode'].value : -1,\n            nunitcode: selectedRecord['nunitcode'] ? selectedRecord['nunitcode'].value : -1,\n            ssamplestoragemappingname: \"-\",\n            ndirectionmastercode: selectedRecord['ndirectionmastercode'] ? selectedRecord['ndirectionmastercode'].value : -1,\n            nsamplestoragecontainerpathcode: this.state.operation === 'create' ? JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\n            containerpathsize: containerpathCodeArray.length,\n            nneedposition: 3,\n            sboxid: '',\n            ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\n            nquantity: selectedRecord['nquantity'] ? parseFloat(selectedRecord['nquantity']) : 0,\n            nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n            //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n            userinfo: this.props.Login.userInfo,\n            nrow: selectedRecord['nrow'],\n            ncolumn: selectedRecord['ncolumn']\n          } : {\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n            nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ? parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\n            ncontainertypecode: -1,\n            nproductcode: selectedRecord['nproductcode'] ? selectedRecord['nproductcode'].value : -1,\n            nprojecttypecode: selectedRecord['nprojecttypecode'] ? selectedRecord['nprojecttypecode'].value : -1,\n            nunitcode: selectedRecord['nunitcode'] ? selectedRecord['nunitcode'].value : -1,\n            ndirectionmastercode: 1,\n            ssamplestoragemappingname: \"-\",\n            nsamplestoragecontainerpathcode: this.state.operation === 'create' ? JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\n            containerpathsize: containerpathCodeArray.length,\n            nneedposition: 4,\n            sboxid: '',\n            ncontainerstructurecode: -1,\n            nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 0,\n            nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n            userinfo: this.props.Login.userInfo,\n            nrow: selectedRecord['nrow'],\n            ncolumn: selectedRecord['ncolumn']\n          }\n        };\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            operation: this.state.operation,\n            openModal: true,\n            selectedRecord,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.CRUDSampleStorageMapping(inputParam, this.state.operation);\n      }\n    };\n\n    this.childDataChange = selectedRecord => {\n      this.setState({\n        selectedRecord: { ...selectedRecord\n        },\n        isInitialRender: false\n      });\n    };\n\n    this.childSheetDataChange = sheetData => {\n      this.setState({\n        // selectedRecord: {\n        //     ...this.state.selectedRecord,\n        //     sheetData: {\n        //         ...this.state.selectedRecord.sheetData,\n        //         ...sheetData\n        //     }\n        // },\n        sheetData: { ...sheetData\n        },\n        isInitialRender: false\n      });\n    };\n\n    this.getActiveSampleStorageMappingById = (inputParam, userinfo) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/getActiveSampleStorageMappingById\", {\n        nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\n        userinfo: userinfo\n      });\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          } //,\n          // selectedRecord: {\n          //     ...this.state.selectedRecord\n          //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\n          // }\n          ,\n          dataStateChange: {\n            skip: 0,\n            take: 10\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.filterColumnData = (filterValue, filterParam) => {\n      let masterData = filterParam.masterData;\n      let primaryKeyValue = 0;\n      let searchedData = undefined;\n\n      if (filterValue === \"\") {\n        if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\n          primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\n        }\n      } else {\n        if (filterParam.isjsondata) {\n          searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\n        } else {\n          searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\n        }\n\n        if (searchedData.length > 0) {\n          primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\n        }\n      }\n\n      if (primaryKeyValue !== 0) {\n        this.setState({\n          loading: true\n        });\n        return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject,\n          [filterParam.primaryKeyField]: primaryKeyValue\n        }).then(response => {\n          masterData[\"searchedData\"] = searchedData;\n          masterData = { ...masterData,\n            ...response.data\n          };\n\n          if (filterParam.sortField) {\n            sortData(masterData, filterParam.sortOrder, filterParam.sortField);\n          } else {\n            sortData(masterData);\n          }\n\n          this.setState({\n            masterData,\n            loading: false,\n            skip: 0,\n            take: 10,\n            selectedId: null\n          });\n        }).catch(error => {\n          this.setState({\n            loading: false\n          });\n\n          if (error.response.status === 500) {\n            toast.error(this.props.intl.formatMessage({\n              id: error.message\n            }));\n          } else {\n            toast.warn(this.props.intl.formatMessage({\n              id: error.response.data\n            }));\n          }\n        });\n      } else {\n        masterData[filterParam.selectedObject] = undefined;\n        masterData[\"searchedData\"] = [];\n        masterData[\"sampleStoragemapping\"] = [];\n        Object.keys(masterData).forEach(item => {\n          if (item !== filterParam.inputListName && item !== filterParam.selectedObject && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1) masterData[item] = [];\n        });\n        this.setState({\n          masterData,\n          operation: null,\n          modalName: undefined,\n          loading: false\n        });\n      }\n    };\n\n    this.CRUDSampleStorageMapping = (inputParam, operation, isImport) => {\n      this.setState({\n        loading: true\n      });\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/\" + operation + \"SampleStorageMapping\", inputParam);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        this.setState({\n          isInitialRender: true,\n          selectedRecord: {},\n          masterData: { ...this.state.masterData,\n            ...response[0].data\n          },\n          openModal: false,\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onFilterSubmit = () => {\n      this.searchRef.current.value = \"\";\n      this.setState({\n        loading: true\n      });\n      let inputParamData = {\n        nstoragecategorycode: this.state.selectedRecordFilter && this.state.selectedRecordFilter[\"nstoragecategorycode\"] && this.state.selectedRecordFilter[\"nstoragecategorycode\"].value ? this.state.selectedRecordFilter[\"nstoragecategorycode\"].value : 0,\n        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n        // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\n      urlArray = [url1];\n      Axios.all(urlArray).then(response => {\n        let object = {\n          selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\n          nfilterStorageCategory: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n          // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n\n        };\n        let filterData = this.generateBreadCrumData(object);\n        this.setState({\n          filterData,\n          masterData: { ...this.state.masterData,\n            ...response[0].data,\n            searchedData: undefined //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\n\n          },\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onSampleMappingSaveClick = () => {\n      const mandatoryFields = this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined || this.state.selectedRecord[\"nneedposition\"] === false ? [{\n        \"idsName\": \"IDS_SAMPLESTORAGEPATH\",\n        \"dataField\": \"nsamplestoragecontainerpathcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"nproductcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      } // },\n      // {\n      //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n      //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n      //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n      // }\n      ] : [{\n        \"idsName\": \"IDS_SAMPLESTORAGEPATH\",\n        \"dataField\": \"nsamplestoragecontainerpathcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"nproductcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERTYPE\",\n        \"dataField\": \"ncontainertypecode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n        \"dataField\": \"ncontainerstructurecode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_DIRECTION\",\n        \"dataField\": \"ndirectionmastercode\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"selectbox\"\n      } // },\n      // {\n      //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n      //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n      //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n      // }\n      ];\n      onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields, this.onSaveClick);\n    };\n\n    this.dataStateChange = event => {\n      this.setState({\n        dataStateChange: event.dataState\n      });\n    };\n\n    this.approveSampleStorageMapping = event => {\n      if (this.state.masterData.sampleStorageLocation.length > 0) {\n        if (this.state.masterData.sampleStoragemapping.length > 0) {\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode)) {\n            const masterData = this.state.masterData || {};\n            let inputParam = {\n              methodUrl: \"SampleStorageMapping\",\n              // operation: this.props.Login.operation || this.state.operation,\n              operation: \"approve\",\n              classUrl: \"samplestoragemapping\",\n              inputData: {\n                'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n                userinfo: this.props.Login.userInfo,\n                //ALPD-4934--Vignesh R(24-09-2024)\n                'nsamplestoragemappingcode': this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\n              }\n            };\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                openModal: true,\n                operation: \"approve\",\n                screenData: {\n                  inputParam,\n                  masterData\n                }\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            let inputParamData = {};\n            this.setState({\n              loading: true\n            });\n            inputParamData = {\n              nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n              userinfo: this.props.Login.userInfo,\n              //ALPD-4934--Vignesh R(24-09-2024)\n              'nsamplestoragemappingcode': this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\n            };\n            let urlArray = [];\n            const url1 = rsapi.post(\"samplestoragemapping/approveSampleStorageMapping\", inputParamData);\n            urlArray = [url1];\n            Axios.all(urlArray).then(response => {\n              this.setState({\n                masterData: { ...this.state.masterData,\n                  ...response[0].data\n                },\n                loading: false\n              });\n            }).catch(error => {\n              if (error.response.status === 500) {\n                toast.error(error.message);\n              } else {\n                toast.warn(error.response.data);\n              }\n\n              this.setState({\n                loading: false\n              });\n            });\n          }\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_CANNOTAPPROVEEMPTYMAPPING\"\n          }));\n        }\n      } else {\n        toast.info(this.props.intl.formatMessage({\n          id: \"IDS_SELECTSTORAGESTRUCTURE\"\n        }));\n      }\n    };\n\n    this.fetchRecord = data => {\n      this.setState({\n        loading: true\n      });\n      let selectedRecord = this.state.selectedRecord;\n      let inputParamData = {\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        userinfo: this.props.Login.userInfo\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\n      const url2 = rsapi.post(\"product/getProduct\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      const url3 = rsapi.post(\"samplestoragemapping/getEditSampleStorageMapping\", {\n        'nsamplestoragemappingcode': data.nsamplestoragemappingcode,\n        'userinfo': this.props.Login.userInfo\n      });\n      const getprojecttype = rsapi.post(\"/projecttype/getProjectType\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      const getUnit = rsapi.post(\"/unit/getUnit\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      urlArray = [url1, url2, url3, getprojecttype, getUnit];\n      Axios.all(urlArray).then(response => {\n        const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [], \"nsamplestoragecontainerpathcode\", \"scontainerpath\", undefined, undefined, true);\n        const storageMappingMapList = storageMappingMap.get(\"OptionList\"); //let containerStructure = response[0].data['containerStructure'];\n\n        const containerTypeMap = constructOptionList(response[0].data['containerType'] || [], \"ncontainertypecode\", \"scontainertype\", undefined, undefined, true);\n        const containerTypeList = containerTypeMap.get(\"OptionList\");\n        const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [], \"ndirectionmastercode\", \"sdirection\", undefined, undefined, true);\n        const directionmasterList = directionmasterMap.get(\"OptionList\");\n        const containerstructureMap = constructOptionList(response[2].data['containerStructure'] || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, true);\n        const containerstructureList = containerstructureMap.get(\"OptionList\");\n        const productMap = constructOptionList(response[1].data['Product'] || [], \"nproductcode\", \"sproductname\", undefined, undefined, true);\n        const productList = productMap.get(\"OptionList\");\n        const editedObject = response[2].data.editsampleStorageMapping;\n        storageMappingMapList.unshift({\n          label: editedObject.scontainerpath,\n          value: editedObject.nsamplestoragecontainerpathcode\n        });\n        const projectTypeMap = constructOptionList(response[3].data || [], \"nprojecttypecode\", \"sprojecttypename\", undefined, undefined, true);\n        const projectTypeMapList = projectTypeMap.get(\"OptionList\");\n        const unitMap = constructOptionList(response[4].data || [], \"nunitcode\", \"sunitname\", undefined, undefined, true);\n        const unitMapList = unitMap.get(\"OptionList\");\n        selectedRecord = {\n          ndirectionmastercode: {\n            label: editedObject.sdirection,\n            value: editedObject.ndirectionmastercode\n          },\n          nsamplestoragecontainerpathcode: {\n            label: editedObject.scontainerpath,\n            value: editedObject.nsamplestoragecontainerpathcode\n          },\n          nproductcode: {\n            label: editedObject.sproductname,\n            value: editedObject.nproductcode\n          },\n          nprojecttypecode: {\n            label: editedObject.sprojecttypename,\n            value: editedObject.nprojecttypecode\n          },\n          nunitcode: {\n            label: editedObject.sunitname,\n            value: editedObject.nunitcode\n          },\n          ncontainertypecode: {\n            label: editedObject.scontainertype,\n            value: editedObject.ncontainertypecode\n          },\n          ncontainerstructurecode: {\n            label: editedObject.scontainerstructurename,\n            value: editedObject.ncontainerstructurecode\n          },\n          nneedposition: editedObject.nneedposition === 3 ? true : false,\n          directionmasterOptions: directionmasterList,\n          nquantity: editedObject.nquantity,\n          nnoofcontainer: editedObject.nnoofcontainer,\n          nrow: editedObject.nrow,\n          ncolumn: editedObject.ncolumn,\n          nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\n        };\n        this.setState({\n          openSpreadSheet: false,\n          // ncontrolcode: this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode,\n          openModal: true,\n          selectedRecord: { ...selectedRecord,\n            projectOptions: projectTypeMapList,\n            unitOptions: unitMapList,\n            storageMappingMapOptions: storageMappingMapList,\n            productOptions: productList,\n            containerTypeOptions: containerTypeList,\n            containerStructureOptions: containerstructureList,\n            isInitialRender: true\n          },\n          operation: 'update',\n          loading: false\n        });\n      }).catch(error => {\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\n        }\n      } else if (event.target.type === 'select-one') {\n        selectedRecord[event.target.name] = event.target.value;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.handlePageChangeFilter = event => {\n      this.setState({\n        kendoSkip: event.skip,\n        kendoTake: event.take\n      });\n    };\n\n    this.onChange = (immutableTree, config) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[\"tree\"] = immutableTree;\n      selectedRecord[\"config\"] = config;\n      selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\n      this.setState({\n        tree: immutableTree,\n        config: config,\n        selectedRecord: selectedRecord\n      });\n    };\n\n    this.validateEsign = () => {\n      let screenData = this.props.Login.screenData;\n      screenData['inputParam']['selectedRecord'] = this.state.selectedRecord || {};\n\n      if (screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode']) {\n        delete screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode'];\n      }\n\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: screenData\n      };\n      this.props.validateEsignCredentialStorage(inputParam, \"openModal\");\n    };\n\n    this.state = {\n      sheetData: {},\n      selectedRecordFilter: {},\n      toggleAction: false,\n      treeDataView: undefined,\n      toggleActionView: false,\n      fields: {\n        \"ssamplestoragelocationname\": {\n          \"label\": this.props.intl.formatMessage({\n            id: \"IDS_STORAGESTRUCTURENAME\"\n          }),\n          \"type\": \"text\",\n          \"valueSources\": [\"value\", \"func\"],\n          \"mainWidgetProps\": {\n            \"valueLabel\": \"Name\",\n            \"valuePlaceholder\": this.props.intl.formatMessage({\n              id: \"IDS_STORAGESTRUCTURENAME\"\n            })\n          }\n        },\n        \"scontainerpath\": {\n          \"label\": this.props.intl.formatMessage({\n            id: \"IDS_SAMPLESTORAGEPATH\"\n          }),\n          \"type\": \"text\",\n          \"valueSources\": [\"value\", \"func\"],\n          \"mainWidgetProps\": {\n            \"valueLabel\": \"Name\",\n            \"valuePlaceholder\": this.props.intl.formatMessage({\n              id: \"IDS_SAMPLESTORAGEPATH\"\n            })\n          }\n        }\n      },\n      treeData: [{\n        //  text: \"root\",\n        text: this.props.intl.formatMessage({\n          id: \"IDS_ROOT\"\n        }),\n        expanded: true,\n        editable: true,\n        root: true,\n        id: uuid()\n      }],\n      panes: [{\n        size: '50%',\n        scrollable: false\n      }],\n      selectedRecord: {},\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      skip: 0,\n      detailSkip: 0,\n      detailTake: 10,\n      take: this.props.Login.settings ? this.props.Login.settings[3] : 25,\n      splitChangeWidthPercentage: 22,\n      selectedItem: undefined,\n      loading: false,\n      ncontrolcode: undefined,\n      openModal: false,\n      operation: undefined\n    };\n    this.searchRef = React.createRef();\n    this.dragClue = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== \"\" && props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    let {\n      filterData,\n      storageCategoryOptions,\n      selectedRecord,\n      controlMap,\n      userRoleControlRights,\n      storageLocationOptions,\n      sampleStorageVersionOptions,\n      masterData,\n      selectedRecordFilter,\n      openModal,\n      operation\n    } = this.state;\n    let bool = false;\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      bool = true;\n      userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n    }\n\n    if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\n      bool = true;\n      const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\", \"sstoragecategoryname\", undefined, undefined, undefined);\n      storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedStorageCategory) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nstoragecategorycode: storageCategoryOptions.filter(item => item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\n      bool = true;\n      const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", undefined, undefined, undefined);\n      storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedSampleStorageLocation) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nsamplestoragelocationcode: storageLocationOptions.filter(item => item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\n      bool = true;\n      const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\", \"nversionno\", undefined, undefined, undefined);\n      sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\n\n      if (this.props.Login.masterData.selectedSampleStorageVersion) {\n        selectedRecordFilter = { ...selectedRecordFilter,\n          nsamplestorageversioncode: sampleStorageVersionOptions.filter(item => item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\n        };\n      }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      bool = true;\n      masterData = this.props.Login.masterData;\n      filterData = this.generateBreadCrumData(this.props.Login.masterData);\n    }\n\n    if (this.state.masterData !== previousState.masterData) {\n      bool = true;\n      filterData = this.generateBreadCrumData(this.state.masterData);\n    }\n\n    if (this.props.Login.openModal !== previousProps.Login.openModal) {\n      bool = true;\n      openModal = this.props.Login.openModal;\n    }\n\n    if (this.props.Login.operation !== previousProps.Login.operation) {\n      bool = true;\n      operation = this.props.Login.operation;\n    }\n\n    if (bool) {\n      this.setState({\n        storageCategoryOptions,\n        filterData,\n        selectedRecord,\n        controlMap,\n        openModal,\n        userRoleControlRights,\n        storageLocationOptions,\n        sampleStorageVersionOptions,\n        masterData,\n        selectedRecordFilter,\n        operation\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.parentHeight) {\n      const height = this.parentHeight.clientHeight;\n      this.setState({\n        firstPane: height - 80,\n        parentHeight: height - 50\n      });\n    }\n  }\n\n  generateBreadCrumData(obj) {\n    const breadCrumbData = [];\n\n    if (this.state.masterData && this.state.masterData.filterStorageCategory) {\n      breadCrumbData.push({\n        \"label\": \"IDS_STORAGECATEGORY\",\n        \"value\": obj.selectedStorageCategoryName && obj.selectedStorageCategoryName !== null ? obj.selectedStorageCategoryName : \"NA\",\n        //ALPD-4783--Vignesh R(02-09-2024)\n        \"nfilterStorageCategory\": obj.nfilterStorageCategory\n      } // ,\n      // {\n      //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\n      //     \"value\": obj.selectedSampleStorageLocation &&\n      //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\n      //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\n      // },\n      // {\n      //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\n      //     \"value\": obj.selectedSampleStorageVersion &&\n      //         obj.selectedSampleStorageVersion.nversionno !== null ?\n      //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\n      // }\n      );\n    }\n\n    return breadCrumbData;\n  }\n\n  getSampleStorageLocation(inputData, fieldName, comboData) {\n    let selectedRecordFilter = this.state.selectedRecordFilter || {};\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n\n    if (fieldName === 'nsamplestoragelocationcode') {\n      inputParamData = {\n        nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\n        nsamplestoragelocationcode: comboData.value,\n        userinfo: inputData.userinfo\n      };\n    } else {\n      inputParamData = {\n        nstoragecategorycode: comboData.value,\n        userinfo: inputData.userinfo\n      };\n    }\n\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        storageLocationOptions,\n        sampleStorageVersionOptions\n      } = this.state;\n      let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\", \"ssamplestoragelocationname\", undefined, undefined, undefined);\n      storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\n      let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\", \"nversionno\", undefined, undefined, undefined);\n      sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\n      selectedRecordFilter = { ...selectedRecordFilter,\n        nsamplestoragelocationcode: storageLocationOptions.length > 0 ? storageLocationOptions[0] : [],\n        nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ? sampleStorageVersionOptions[0] : []\n      };\n      this.setState({\n        storageLocationOptions,\n        sampleStorageVersionOptions,\n        selectedRecordFilter: { ...selectedRecordFilter,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  addSampleStorageMapping() {\n    if (this.state.masterData.searchedData !== undefined ? this.state.masterData.searchedData.length > 0 ? true : false : this.state.masterData.sampleStorageLocation.length > 0) {\n      this.setState({\n        loading: true\n      });\n      let selectedRecord = this.state.selectedRecord;\n      let inputParamData = {\n        // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\n        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n        // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\n        userinfo: this.props.Login.userInfo,\n        operation: \"create\"\n      };\n      let urlArray = [];\n      const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\n      const url2 = rsapi.post(\"product/getProduct\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      const url3 = rsapi.post(\"/projecttype/getProjectType\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      const url4 = rsapi.post(\"/unit/getUnit\", {\n        'userinfo': this.props.Login.userInfo\n      });\n      urlArray = [url1, url2, url3, url4];\n      Axios.all(urlArray).then(response => {\n        const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [], \"nsamplestoragecontainerpathcode\", \"scontainerpath\", undefined, undefined, true);\n        const storageMappingMapList = storageMappingMap.get(\"OptionList\"); // let containerStructure = response[0].data['containerStructure'];\n\n        const containerTypeMap = constructOptionList(response[0].data['containerType'] || [], \"ncontainertypecode\", \"scontainertype\", undefined, undefined, true);\n        const containerTypeList = containerTypeMap.get(\"OptionList\");\n        const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [], \"ndirectionmastercode\", \"sdirection\", undefined, undefined, true);\n        const directionmasterList = directionmasterMap.get(\"OptionList\");\n        const containerstructureMap = constructOptionList(response[0].data['containerStructure'] || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, true);\n        const containerstructureList = containerstructureMap.get(\"OptionList\");\n        const productMap = constructOptionList(response[1].data['Product'] || [], \"nproductcode\", \"sproductname\", undefined, undefined, true);\n        const productList = productMap.get(\"OptionList\");\n        const projectTypeMap = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", undefined, undefined, true);\n        const projectTypeMapList = projectTypeMap.get(\"OptionList\");\n        const unitMap = constructOptionList(response[3].data || [], \"nunitcode\", \"sunitname\", undefined, undefined, true);\n        const unitMapList = unitMap.get(\"OptionList\"); //To Load selected Data from Sample storage Location\n\n        unitMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nunitcode\"] ? selectedRecord[\"nunitcode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        projectTypeMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nprojecttypecode\"] ? selectedRecord[\"nprojecttypecode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        productList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nproductcode\"] ? selectedRecord[\"nproductcode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        containerTypeList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainertypecode\"] ? selectedRecord[\"ncontainertypecode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        containerstructureList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainerstructurecode\"] ? selectedRecord[\"ncontainerstructurecode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        directionmasterList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ndirectionmastercode\"] ? selectedRecord[\"ndirectionmastercode\"] = {\n          \"label\": item.label,\n          \"value\": item.value,\n          \"item\": item.item\n        } : \"\");\n        selectedRecord = { ...selectedRecord,\n          nneedposition: true,\n          //ALPD-3353\n          nrow: response[0].data[\"selectedSampleStorageVersion\"].nrow === 0 ? 1 : response[0].data[\"selectedSampleStorageVersion\"].nrow,\n          ncolumn: response[0].data[\"selectedSampleStorageVersion\"].ncolumn === 0 ? 1 : response[0].data[\"selectedSampleStorageVersion\"].ncolumn,\n          nquantity: response[0].data[\"selectedSampleStorageVersion\"].nquantity,\n          nnoofcontainer: response[0].data[\"selectedSampleStorageVersion\"].nnoofcontainer,\n          containerTypeOptions: containerTypeList,\n          containerStructureOptions: containerstructureList,\n          directionmasterOptions: directionmasterList\n        };\n        this.setState({\n          openModal: true,\n          storageMappingMapOptions: storageMappingMapList,\n          selectedRecord: { ...selectedRecord,\n            nproductcode: {\n              label: response[0].data.samplestoragelocation.sproductname,\n              value: response[0].data.samplestoragelocation.nproductcode\n            },\n            nprojecttypecode: {\n              label: response[0].data.samplestoragelocation.sprojecttypename,\n              value: response[0].data.samplestoragelocation.nprojecttypecode\n            },\n            storageMappingMapOptions: storageMappingMapList,\n            productOptions: productList,\n            projectOptions: projectTypeMapList,\n            unitOptions: unitMapList,\n            containerTypeOptions: containerTypeList,\n            directionmasterOptions: directionmasterList,\n            // ncontainertypecode: containerTypeList[0],\n            // containerStructureOptions: containerstructureList,\n            // ncontainerstructurecode: containerstructureList[0],\n            // nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\n            // ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\n            isInitialRender: true\n          },\n          openSpreadSheet: false,\n          operation: 'create',\n          loading: false\n        });\n      }).catch(error => {\n        console.log(error);\n\n        if (error.response.status === 500) {\n          toast.error(error.message);\n        } else {\n          toast.warn(error.response.data);\n        }\n\n        this.setState({\n          loading: false\n        });\n      });\n    } else {\n      toast.info(this.props.intl.formatMessage({\n        id: \"IDS_SELECTSTORAGESTRUCTURE\"\n      }));\n    }\n  }\n\n  getContainerStructure(inputData, fieldName, comboData) {\n    let inputParamData = {};\n    this.setState({\n      loading: true\n    });\n    inputParamData = {\n      ncontainertypecode: comboData.value,\n      userinfo: inputData.userinfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      let {\n        containerStructureOptions,\n        selectedRecord\n      } = this.state;\n      let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\", \"scontainerstructurename\", undefined, undefined, undefined);\n      containerStructureOptions = containerStructureList.get(\"OptionList\");\n      selectedRecord = { ...selectedRecord,\n        nrow: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.nrow : 1,\n        ncolumn: containerStructureOptions.length > 0 ? containerStructureOptions[0].item.ncolumn : 1,\n        ncontainerstructurecode: containerStructureOptions.length > 0 ? containerStructureOptions[0] : [],\n        containerStructureOptions: containerStructureOptions.length > 0 ? [...containerStructureOptions] : []\n      };\n      this.setState({\n        selectedRecord: { ...selectedRecord,\n          [fieldName]: comboData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.warn(error.response.data);\n      }\n\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  getDynamicFilterExecuteData(inputParam) {\n    this.setState({\n      loading: true\n    });\n    let selectedRecord = this.state.selectedRecord || {};\n    let obj = {\n      // ...inputParam.component, \n      label: 'sampleStorageLocation',\n      valuemember: 'nsamplestoragelocationcode',\n      filterquery: selectedRecord.filterquery,\n      source: 'sampleStorageLocation',\n      userinfo: this.props.Login.userInfo\n    };\n    let urlArray = [];\n    const url1 = rsapi.post(\"/samplestoragemapping/getdynamicfilterexecutedata\", obj);\n    urlArray = [url1];\n    Axios.all(urlArray).then(response => {\n      console.log(response);\n      let masterData = this.state.masterData;\n      masterData = { ...masterData,\n        ...response[0].data\n      };\n      this.setState({\n        masterData: { ...masterData\n        },\n        loading: false\n      });\n    }).catch(error => {\n      this.setState({\n        loading: false\n      });\n\n      if (error.response.status === 500) {\n        toast.error(error.message);\n      } else {\n        toast.info(error.response.data.rtn);\n      }\n    });\n  }\n\n  //handleAdd = (e) => {\n  //     let file = e.newState[0].getRawFile();\n  //     let selectedRecord = this.state.selectedRecord;\n  //     selectedRecord['nsamplestoragecontainerpathcode'] = []\n  //     /* Boilerplate to set up FileReader */\n  //     const reader = new FileReader();\n  //     const rABS = !!reader.readAsBinaryString;\n  //     let data = []\n  //     reader.onload = (e) => {\n  //         /* Parse data */\n  //         const bstr = e.target.result;\n  //         const wb = XLSX.read(bstr, {\n  //             type: rABS ? 'binary' : 'array',\n  //             bookVBA: true,\n  //         });\n  //         /* Get first worksheet */\n  //         const wsname = wb.SheetNames[0];\n  //         const ws = wb.Sheets[wsname];\n  //         /* Convert array of arrays */\n  //         data = XLSX.utils.sheet_to_json(ws);\n  //         console.log(data);\n  //         /* Update state */\n  //         // this.setState({\n  //         //     data,\n  //         // });\n  //         console.log('xlsx data :', this.state.storageMappingMapOptions)\n  //         data.map((x, index) => {\n  //             let clientcontainerpath = 'root > ' + x.fz_code + ' > ' + x.sf_code\n  //                 + ' > ' + x.rk_code\n  //                 + ' > ' + x.tr_code\n  //                 + ' > ' + x.bx_code\n  //             console.log('clientcontainerpath:', clientcontainerpath)\n  //             this.state.storageMappingMapOptions.map((item, index) => {\n  //                 if (item.label === clientcontainerpath) {\n  //                     let i = -1\n  //                     if (selectedRecord['nsamplestoragecontainerpathcode'].length > 0) {\n  //                         i = selectedRecord['nsamplestoragecontainerpathcode']\n  //                             .findIndex(k => k.label === clientcontainerpath)\n  //                     }\n  //                     x['nsamplestoragecontainerpathcode'] = this.state.storageMappingMapOptions[index].value\n  //                     if (i === -1) {\n  //                         selectedRecord['nsamplestoragecontainerpathcode'].push(this.state.storageMappingMapOptions[index]);\n  //                     }\n  //                 }\n  //             });\n  //         });\n  //         let containerpathCodeArray = [];\n  //         containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\n  //         const inputParam = {\n  //             nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\n  //             nsamplestoragemappingcode: 0,\n  //             ncontainertypecode: 1,\n  //             nproductcode: 9,\n  //             nprojecttypecode: 2,\n  //             ndirectionmastercode: 1,\n  //             nsamplestoragecontainerpathcode: JSON.stringify(containerpathCodeArray),\n  //             containerpathsize: containerpathCodeArray.length,\n  //             nneedposition: 3,\n  //             ncontainerstructurecode: 1,\n  //             nquantity: 100,\n  //             sboxid: '-',\n  //             //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n  //             userinfo: this.props.Login.userInfo,\n  //             clientData: JSON.stringify(data),\n  //             isImport: true\n  //         }\n  //         this.CRUDSampleStorageMapping(inputParam, 'create', true);\n  //         console.log('selectedRecord:', selectedRecord['nsamplestoragecontainerpathcode'])\n  //     };\n  //     if (rABS) {\n  //         reader.readAsBinaryString(file);\n  //     } else {\n  //         reader.readAsArrayBuffer(file);\n  //     }\n  // };\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.openModal && nextState.isInitialRender === false && nextState.selectedRecord !== this.state.selectedRecord) {\n      return false;\n    } else if (this.state.openModal && nextState.isInitialRender === false && nextState.sheetData !== this.state.sheetData) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    //const addId = this.state.controlMap.has(\"AddSampleStorageMapping\") && this.state.controlMap.get(\"AddSampleStorageMapping\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"sampleStorageLocation\",\n      selectedObject: \"selectedSampleStorageLocation\",\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      fetchUrl: \"samplestoragemapping/getActiveSampleStorageMappingById\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.state.masterData,\n      searchFieldList: [\"ssamplestoragelocationname\"]\n    };\n    const breadCrumbData = this.state.filterData || []; //const confirmMessage = new ConfirmMessage();\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Preloader, {\n      loading: this.state.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1649,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ListWrapper, {\n      className: \"client-listing-wrap mtop-4 screen-height-window\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1650,\n        columnNumber: 17\n      }\n    }, breadCrumbData.length > 0 ? /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1652,\n        columnNumber: 25\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      className: 'sample-storage-mapping-grid',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1654,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SplitterLayout, {\n      borderColor: \"#999\",\n      percentage: true,\n      primaryIndex: 1,\n      onSecondaryPaneSizeChange: this.paneSizeChange,\n      secondaryInitialSize: 25,\n      primaryMinSize: 40,\n      secondaryMinSize: 20,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1655,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TransactionListMasterJsonView, {\n      paneHeight: this.state.parentHeight,\n      needMultiSelect: false,\n      masterList: this.state.masterData && this.state.masterData.searchedData || this.state.masterData && this.state.masterData.sampleStorageLocation || [],\n      selectedMaster: [this.state.masterData && this.state.masterData.selectedSampleStorageLocation],\n      primaryKeyField: \"nsamplestoragelocationcode\",\n      getMasterDetail: selectedItem => this.getActiveSampleStorageMappingById(selectedItem, this.props.Login.userInfo),\n      inputParam: {\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData\n      },\n      mainField: \"ssamplestoragelocationname\",\n      selectedListName: \"selectedSampleStorageLocation\",\n      objectName: \"LocationMaster\",\n      listName: \"IDS_STORAGESTRUCTURE\",\n      filterColumnData: this.filterColumnData,\n      searchListName: \"searchedData\",\n      searchRef: this.searchRef,\n      filterParam: filterParam,\n      showFilter: this.props.Login.showFilter,\n      openFilter: this.openFilter,\n      closeFilter: this.closeFilter,\n      onFilterSubmit: this.onFilterSubmit,\n      needFilter: true,\n      hidePaging: false,\n      handlePageChange: this.handlePageChange,\n      skip: this.state.skip,\n      take: this.state.take,\n      commonActions: /*#__PURE__*/React.createElement(ProductList, {\n        className: \"d-flex product-category float-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1693,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-circle outline-grey ml-2 p-0\",\n        variant: \"link\",\n        onClick: () => this.reloadData(),\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_REFRESH\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1700,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(RefreshIcon, {\n        className: \"custom_icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1703,\n          columnNumber: 49\n        }\n      }))),\n      filterComponent: [{\n        \"IDS_TESTFILTER\": /*#__PURE__*/React.createElement(StorageMappingFilter, {\n          storageCategoryOptions: this.state.storageCategoryOptions || [],\n          nfilterStorageCategory: this.state.nfilterStorageCategory || {},\n          storageLocationOptions: this.state.storageLocationOptions || [],\n          storageLocationValue: this.state.storageLocationValue || [],\n          sampleStorageVersionOptions: this.state.sampleStorageVersionOptions || [],\n          storageVersionValue: this.state.storageVersionValue || [],\n          onComboChange: this.onComboChange,\n          selectedRecordFilter: this.state.selectedRecordFilter,\n          selectedRecord: this.state.selectedRecord,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1710,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1659,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1729,\n        columnNumber: 37\n      }\n    }, this.state.masterData && this.state.masterData.selectedSampleStorageLocation && this.state.masterData.selectedSampleStorageLocation.ssamplestoragelocationname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1733,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1734,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1735,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"action-icons-wrap mr-2 pl-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1736,\n        columnNumber: 49\n      }\n    }, this.state.masterData && this.state.masterData.selectedSampleStorageLocation ? this.state.masterData.selectedSampleStorageLocation.nmappingtranscode === transactionStatus.DRAFT ? /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined  outline-secondary btn-sm mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1741,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_DRAFT\",\n      defaultMessage: \"Draft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1742,\n        columnNumber: 61\n      }\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined outline-success btn-sm mr-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1745,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_APPROVED\",\n      defaultMessage: \"Approved\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1746,\n        columnNumber: 61\n      }\n    })) : \"\")))), /*#__PURE__*/React.createElement(DataGrid, {\n      isRefreshRequired: false // fetchRecord={this.fetchRecord}\n      // editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\n      // handleClickDelete={this.deletesamplestoragemapping}\n      ,\n      methodUrl: 'SampleStorageMapping',\n      isAddRequired: this.state.masterData && this.state.masterData.sampleStoragemapping ? true : false,\n      primaryKeyField: 'nsamplestoragemappingcode',\n      data: this.state.masterData && this.state.masterData.sampleStoragemapping && this.state.masterData.sampleStoragemapping,\n      dataResult: this.state.masterData && this.state.masterData.sampleStoragemapping && process(this.state.masterData.sampleStoragemapping || [], this.state.dataStateChange ? this.state.dataStateChange : {\n        skip: 0,\n        take: 10\n      }),\n      dataState: this.state.dataStateChange ? this.state.dataStateChange : {\n        skip: 0,\n        take: 10\n      },\n      dataStateChange: this.dataStateChange,\n      isCustomButton: true,\n      customButtonlist: this.state.masterData && this.state.masterData.sampleStoragemapping ? [{\n        label: 'IDS_APPROVE',\n        id: {},\n        hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n        onClick: () => this.approveSampleStorageMapping(),\n        controlname: 'faThumbsUp'\n      }] : [],\n      extractedColumnList: [{\n        \"idsName\": \"IDS_SAMPLESTORAGEPATH\",\n        \"dataField\": \"scontainerpath\",\n        \"width\": \"450px\"\n      }, {\n        \"idsName\": \"IDS_PRODUCT\",\n        \"dataField\": \"sproductname\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_PROJECTTYPE\",\n        \"dataField\": \"sprojecttypename\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERID\",\n        \"dataField\": \"sboxid\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERTYPE\",\n        \"dataField\": \"scontainertype\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n        \"dataField\": \"scontainerstructurename\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_AVAILABLEQTY\",\n        \"dataField\": \"nquantity\",\n        \"width\": \"200px\"\n      }, {\n        \"idsName\": \"IDS_UNIT\",\n        \"dataField\": \"sunitname\",\n        \"width\": \"200px\"\n      }, //ALPD-4483 janakumar added the unit datagrid field\n      {\n        \"idsName\": \"IDS_NEEDPREDEFINEDSTRUCURE\",\n        \"dataField\": \"stransdisplaystatus\",\n        \"width\": \"200px\"\n      }],\n      controlMap: this.state.controlMap,\n      userRoleControlRights: this.state.userRoleControlRights,\n      userInfo: this.props.Login.userInfo //     fetchRecord={this.fetchRecord}\n      //    editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\n      // deleteRecord={this.deleteRecord}\n      ,\n      addRecord: () => this.openStorageMapping(),\n      pageable: true,\n      scrollable: 'scrollable' // isComponent={true}\n      ,\n      gridHeight: '500px',\n      isActionRequired: true // this.state.masterData&&this.state.masterData.\n      // selectedSampleStorageLocation&&this.state.masterData.\n      //     selectedSampleStorageLocation.nmappingtranscode\n      //     === transactionStatus.DRAFT ? true : false\n      ,\n      isToolBarRequired: true,\n      actionIcons: // this.state.masterData&&this.state.masterData.\n      // selectedSampleStorageLocation&&this.state.masterData.\n      // selectedSampleStorageLocation.nmappingtranscode\n      // === transactionStatus.DRAFT ?\n      [{\n        title: this.props.intl.formatMessage({\n          id: \"IDS_EDIT\"\n        }),\n        controlname: \"faPencilAlt\",\n        hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n        objectName: \"edit\",\n        onClick: this.fetchRecord\n      }, {\n        title: this.props.intl.formatMessage({\n          id: \"IDS_DELETE\"\n        }),\n        controlname: \"faTrashAlt\",\n        hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n        objectName: \"delete\",\n        onClick: this.handleClickDelete\n      } // {\n      //     title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLE\" }),\n      //     controlname: \"faPenSquare\",\n      //     hidden: false,\n      //     objectName: \"add\",\n      //     onClick: (param) => this.addSample(param, 1)\n      // }\n      ] // : []\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1806,\n        columnNumber: 37\n      }\n    }), \"    \")))), this.state.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.state.openModal,\n      closeModal: this.closeModal,\n      size: this.state.openSpreadSheet ? 'xl' : \"\",\n      operation: this.state.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_SAMPLESTORAGEMAPPING\"\n      }),\n      onSaveClick: this.onSampleMappingSaveClick,\n      esign: this.props.Login.loadEsign // className={\"wide-popup\"}\n      ,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      addComponent: // this.state.importdata ?\n      // <Upload\n      //     batch={false}\n      //     multiple={false}\n      //     defaultFiles={[]}\n      //     withCredentials={false}\n      //     autoUpload={false}\n      //     onAdd={this.handleAdd}\n      // />\n      // :\n      this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation || this.state.operation,\n        formatMessage: this.props.intl.formatMessage,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1930,\n          columnNumber: 37\n        }\n      }) : this.state.openSpreadSheet ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MatrixComponent, {\n        Rows: this.state.Rows || 1,\n        userInfo: this.props.Login.userInfo,\n        columns: this.state.columns || 1,\n        selectedRecord: this.state.selectedRecord.sheetData || {},\n        sheetData: this.state.sheetData || {},\n        isMultiSampleAdd: this.state.isMultiSampleAdd,\n        childSheetDataChange: this.childSheetDataChange,\n        editedsheetData: this.state.editedsheetData,\n        multipleSheetData: this.state.masterData && this.state.masterData.sampleStoragemapping && process(this.state.masterData.sampleStoragemapping || [], this.state.dataStateChange ? this.state.dataStateChange : {\n          skip: 0,\n          take: 10\n        }).data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1943,\n          columnNumber: 41\n        }\n      })) : /*#__PURE__*/React.createElement(AddSampleStorageMapping, {\n        operation: this.state.operation,\n        selectedRecordFilter: this.state.selectedRecordFilter,\n        onInputChange: e => this.onInputChange(e),\n        onComboChange: this.onComboChange,\n        selectedRecord: this.state.selectedRecord || {},\n        childDataChange: this.childDataChange,\n        userInfo: this.props.Login.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1957,\n          columnNumber: 41\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1903,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  callService,\n  updateStore,\n  validateEsignCredentialStorage\n})(injectIntl(SampleStorageMapping));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5294/QuaLISWeb/src/pages/basemaster/SampleStorageMapping.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Card","Nav","Button","toast","constructOptionList","getControlMap","onSaveMandatoryValidation","searchData","searchJsonData","showEsign","sortData","DataGrid","Utils","QbUtils","SlideOutModal","callService","updateStore","validateEsignCredentialStorage","DEFAULT_RETURN","ListWrapper","ProductList","uuid","ConfirmMessage","BreadcrumbComponent","SplitterLayout","transactionStatus","Esign","rsapi","AddSampleStorageMapping","Axios","StorageMappingFilter","Preloader","TransactionListMasterJsonView","process","MatrixComponent","SampleStorageMapping","constructor","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","treeData","text","expanded","editable","root","id","operation","closeModal","loadEsign","Login","state","selectedId","setState","isInitialRender","onInputChange","event","target","type","name","checked","value","onSaveClick","saveType","formRef","onSaveProperties","openSpreadSheet","CRUDSampleStorageMapping","editedsheetData","nsamplestoragemappingcode","isMultiSampleAdd","Object","keys","sheetData","map","join","toString","nsamplestoragelocationcode","masterData","selectedSampleStorageLocation","JSON","stringify","sheetUpdate","userinfo","userInfo","onSaveSampleStorageMapping","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","e","skip","take","handleDetailPageChange","openFilter","showFilter","closeFilter","reloadData","searchRef","current","loading","inputParamData","nstoragecategorycode","filterData","urlArray","url1","post","all","then","response","object","selectedStorageCategoryName","nfilterStorageCategory","generateBreadCrumData","searchedData","catch","error","status","message","warn","onEditSampleStorageLocation","selectedSampleStorageVersion","editId","handleSearch","searchedTreeData","isOnlyDraft","sampleStorageVersion","length","editSampleStorageLocation","openStorageMapping","addId","addSampleStorageMapping","handleClickDelete","deleteParam","confirmMessage","confirm","intl","formatMessage","deletesamplestoragemapping","param","userRoleControlRights","nformcode","controlMap","has","get","ncontrolcode","inputParam","methodUrl","classUrl","inputData","screenData","addMultipleSample","importdata","addSample","nflag","sampleStoragemapping","item","parse","Rows","nrow","columns","ncolumn","onComboChange","comboData","fieldName","selectedRecordFilter","getContainerStructure","ncontainertypecode","getSampleStorageLocation","containerpathCodeArray","parseInt","nproductcode","nprojecttypecode","nunitcode","ssamplestoragemappingname","ndirectionmastercode","nsamplestoragecontainerpathcode","containerpathsize","nneedposition","sboxid","ncontainerstructurecode","nquantity","parseFloat","nnoofcontainer","childDataChange","childSheetDataChange","getActiveSampleStorageMappingById","dataStateChange","filterColumnData","filterValue","filterParam","primaryKeyValue","inputListName","primaryKeyField","isjsondata","searchFieldList","fetchUrl","fecthInputObject","sortField","sortOrder","selectedObject","forEach","unchangeList","indexOf","modalName","isImport","onFilterSubmit","sstoragecategoryname","onSampleMappingSaveClick","mandatoryFields","dataState","approveSampleStorageMapping","sampleStorageLocation","info","fetchRecord","url2","url3","getprojecttype","getUnit","storageMappingMap","storageMappingMapList","containerTypeMap","containerTypeList","directionmasterMap","directionmasterList","containerstructureMap","containerstructureList","productMap","productList","editedObject","editsampleStorageMapping","unshift","label","scontainerpath","projectTypeMap","projectTypeMapList","unitMap","unitMapList","sdirection","sproductname","sprojecttypename","sunitname","scontainertype","scontainerstructurename","directionmasterOptions","projectOptions","unitOptions","storageMappingMapOptions","productOptions","containerTypeOptions","containerStructureOptions","onInputOnChange","handlePageChangeFilter","kendoSkip","kendoTake","onChange","immutableTree","config","sqlFormat","tree","validateEsign","sreason","nreasoncode","spredefinedreason","password","toggleAction","treeDataView","toggleActionView","fields","panes","size","scrollable","Map","detailSkip","detailTake","settings","selectedItem","createRef","dragClue","getDerivedStateFromProps","masterStatus","componentDidUpdate","previousProps","previousState","storageCategoryOptions","storageLocationOptions","sampleStorageVersionOptions","bool","values","push","filterStorageCategory","filterStorageCategorylist","selectedStorageCategory","filter","sampleStorageLocationList","sampleStorageVersionList","nsamplestorageversioncode","componentDidMount","parentHeight","height","clientHeight","firstPane","obj","breadCrumbData","url4","samplestoragelocation","console","log","containerStructureList","containerStructure","getDynamicFilterExecuteData","valuemember","filterquery","source","rtn","shouldComponentUpdate","nextProps","nextState","render","deleteId","approveId","storageLocationValue","storageVersionValue","ssamplestoragelocationname","nmappingtranscode","DRAFT","hidden","onClick","controlname","title","objectName","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Card, Nav,Button, } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData } from '../../components/CommonScript';\r\n//import SortableTree from 'react-sortable-tree'; \r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService,  updateStore,validateEsignCredentialStorage\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\n// import { initRequest } from \"../../actions/LoginAction\";\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport {  ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport rsapi from '../../rsapi';\r\nimport AddSampleStorageMapping from './AddSampleStorageMapping';\r\nimport Axios from 'axios';\r\nimport StorageMappingFilter from './StorageMappingFilter';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n\r\nimport { process } from '@progress/kendo-data-query';\r\n//import Spreadsheet from '../../components/Spreadsheet/Spreadsheet';\r\nimport MatrixComponent from '../../components/MatrixComponent';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\n\r\n//   import { Upload } from '@progress/kendo-react-upload';\r\n//   import * as XLSX from 'xlsx';\r\n\r\n\r\nclass SampleStorageMapping extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            sheetData: {},\r\n            selectedRecordFilter: {},\r\n           \r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            fields: {\r\n                \"ssamplestoragelocationname\": {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_STORAGESTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"text\",\r\n                    \"valueSources\": [\"value\", \"func\"],\r\n\r\n                    \"mainWidgetProps\": {\r\n                        \"valueLabel\": \"Name\",\r\n                        \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                            id: \"IDS_STORAGESTRUCTURENAME\"\r\n                        })\r\n                    }\r\n\r\n                }, \"scontainerpath\": {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_SAMPLESTORAGEPATH\",\r\n                    }),\r\n                    \"type\": \"text\",\r\n                    \"valueSources\": [\"value\", \"func\"],\r\n\r\n                    \"mainWidgetProps\": {\r\n                        \"valueLabel\": \"Name\",\r\n                        \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                            id: \"IDS_SAMPLESTORAGEPATH\"\r\n                        })\r\n                    }\r\n\r\n                }\r\n            },\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined,\r\n            loading: false,\r\n            ncontrolcode: undefined,\r\n            openModal: false,\r\n            operation: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let { filterData, storageCategoryOptions,\r\n            selectedRecord, controlMap,\r\n            userRoleControlRights, storageLocationOptions,\r\n            sampleStorageVersionOptions, masterData, selectedRecordFilter, openModal, operation } = this.state\r\n        let bool = false;\r\n\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            bool = true;\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            bool = true;\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", undefined, undefined, undefined);\r\n            storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedStorageCategory) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nstoragecategorycode: storageCategoryOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            bool = true;\r\n            const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n            storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageLocation) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\r\n            bool = true;\r\n            const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                \"nversionno\", undefined, undefined, undefined);\r\n            sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            filterData = this.generateBreadCrumData(this.props.Login.masterData);\r\n\r\n        }\r\n        if (this.state.masterData !== previousState.masterData) {\r\n            bool = true;\r\n            filterData = this.generateBreadCrumData(this.state.masterData);\r\n\r\n        }\r\n        if (this.props.Login.openModal !== previousProps.Login.openModal){\r\n            bool=true;\r\n            openModal= this.props.Login.openModal;\r\n        }\r\n        if(this.props.Login.operation !== previousProps.Login.operation){\r\n            bool = true;\r\n            operation = this.props.Login.operation;\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                storageCategoryOptions, filterData,\r\n                selectedRecord, controlMap, openModal,\r\n                userRoleControlRights, storageLocationOptions,\r\n                sampleStorageVersionOptions, masterData, selectedRecordFilter,operation\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.state.openModal;\r\n        //let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        let operation = this.state.operation;\r\n        \r\n        if (this.props.Login.loadEsign) {\r\n            if (operation === \"delete\" || operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                //selectedId = null;\r\n                operation= undefined;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n            selectedRecord['esignpassword'] = \"\"\r\n            selectedRecord['esigncomments'] = \"\"\r\n            selectedRecord['esignreason'] = \"\"\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: { openModal, loadEsign, selectedRecord, selectedId: null, operation }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            openModal = false;\r\n            //selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        this.setState({ selectedRecord, openModal, loadEsign, isInitialRender: true })\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if (this.state.openSpreadSheet) {\r\n            this.CRUDSampleStorageMapping({\r\n                ...this.state.editedsheetData,\r\n                nsamplestoragemappingcode: this.state.isMultiSampleAdd ?\r\n                    Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\") : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\r\n                sheetUpdate: true,\r\n                userinfo: this.props.Login.userInfo,\r\n                isMultiSampleAdd: this.state.isMultiSampleAdd\r\n            }, 'update');\r\n        } else {\r\n            this.onSaveSampleStorageMapping(saveType, formRef);\r\n        }\r\n    };\r\n\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData(obj) {\r\n        const breadCrumbData = [];\r\n        if (this.state.masterData && this.state.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": obj.selectedStorageCategoryName &&\r\n                        obj.selectedStorageCategoryName !== null ?\r\n                        obj.selectedStorageCategoryName : \"NA\",\r\n                        //ALPD-4783--Vignesh R(02-09-2024)\r\n                        \"nfilterStorageCategory\":obj.nfilterStorageCategory\r\n\r\n                }\r\n                // ,\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\r\n                //     \"value\": obj.selectedSampleStorageLocation &&\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\r\n                // },\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\r\n                //     \"value\": obj.selectedSampleStorageVersion &&\r\n                //         obj.selectedSampleStorageVersion.nversionno !== null ?\r\n                //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\r\n                // }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.filterData&&\r\n            this.state.filterData[0]['nfilterStorageCategory']?\r\n            this.state.filterData[0]['nfilterStorageCategory']:0,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.filterData[0]['nfilterStorageCategory'].value,\r\n                    nfilterStorageCategory: this.state.filterData[0]['nfilterStorageCategory']\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                          searchedData: undefined \r\n                        //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageMapping = (addId) => {\r\n        this.addSampleStorageMapping({ userInfo: this.props.Login.userInfo, addId });\r\n    }\r\n    handleClickDelete = (deleteParam) => {\r\n        //this.props.deleteRecord(deleteParam);\r\n\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deletesamplestoragemapping(deleteParam));\r\n    }\r\n    deletesamplestoragemapping = (param) => {\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode)) {\r\n            const masterData = this.state.masterData || {};\r\n                let inputParam = {\r\n                    methodUrl: \"SampleStorageMapping\",\r\n                    // operation: this.props.Login.operation || this.state.operation,\r\n                    operation: \"delete\",\r\n                    classUrl: \"samplestoragemapping\",\r\n                    inputData: \r\n                    {    \r\n                        'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n                         userinfo: this.props.Login.userInfo,\r\n                    } \r\n                };\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, openModal:true, operation:\"delete\", screenData: { inputParam, masterData }\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n        this.CRUDSampleStorageMapping({\r\n            'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }, 'delete');\r\n    }\r\n    }\r\n    addMultipleSample = (param) => {\r\n        this.setState({\r\n            //sheetData: JSON.parse(response[0].data.sheetData),\r\n            openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n            loading: false\r\n        })\r\n    }\r\n    importdata = () => {\r\n        this.setState({ openModal: true, importdata: true })\r\n    }\r\n    addSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemappingSheetData\",\r\n            {\r\n                isMultiSampleAdd: (nflag === 2) ? true : false,\r\n                nsamplestoragemappingcode:\r\n                    (nflag === 2) ? this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(\",\")\r\n                        : param.nsamplestoragemappingcode.toString()\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (nflag === 2) {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        openModal: true, isMultiSampleAdd: false, openSpreadSheet: true,\r\n                        editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n\r\n        if (fieldName === 'nstoragecategorycode') {\r\n              selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n            /*\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);*/\r\n        } else if (fieldName === 'ncontainertypecode') {\r\n            return this.getContainerStructure({\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontainertypecode: comboData.value\r\n            }, fieldName, comboData);\r\n\r\n        } else if (fieldName === 'ncontainerstructurecode') {\r\n            selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n            selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n        } else if (fieldName === 'nsamplestoragelocationcode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value\r\n\r\n            }, fieldName, comboData);\r\n        }\r\n        if (fieldName === 'nsamplestorageversioncode') {\r\n            selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord, selectedRecordFilter });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSaveSampleStorageMapping = (saveType) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let containerpathCodeArray = [];\r\n        \r\n        if (this.state.operation === 'create') {\r\n            containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n        }\r\n        const inputParam = selectedRecord['nneedposition'] === true ?\r\n            {   \r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                    parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                ncontainertypecode: selectedRecord['ncontainertypecode'].value ?\r\n                    selectedRecord['ncontainertypecode'].value : -1,\r\n                nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                ssamplestoragemappingname: \"-\",\r\n                ndirectionmastercode: selectedRecord['ndirectionmastercode']? selectedRecord['ndirectionmastercode'].value:-1,\r\n                nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                    JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                containerpathsize: containerpathCodeArray.length,\r\n                nneedposition: 3,\r\n                sboxid: '',\r\n                ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ?\r\n                    selectedRecord['ncontainerstructurecode'].value : -1,\r\n                nquantity: selectedRecord['nquantity'] ?\r\n                    parseFloat(selectedRecord['nquantity']) : 0,\r\n                nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                    parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                \r\n                userinfo: this.props.Login.userInfo,\r\n                \r\n                nrow: selectedRecord['nrow'],\r\n                ncolumn: selectedRecord['ncolumn']\r\n\r\n            } : {\r\n                \r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                    parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                ncontainertypecode: -1,\r\n                nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                ndirectionmastercode: 1,\r\n                ssamplestoragemappingname: \"-\",\r\n                nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                    JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                containerpathsize: containerpathCodeArray.length,\r\n                nneedposition: 4,\r\n                sboxid: '',\r\n                ncontainerstructurecode: -1,\r\n                nquantity: selectedRecord['nquantity'] ?\r\n                parseInt(selectedRecord['nquantity']) : 0,\r\n                nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                \r\n                userinfo: this.props.Login.userInfo,\r\n                \r\n                nrow: selectedRecord['nrow'],\r\n                ncolumn: selectedRecord['ncolumn']\r\n            }\r\n        \r\n        if ((this.state.operation === \"update\") && showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode,this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode )) {\r\n            const masterData = this.state.masterData;\r\n            // let openModal = this.state.openModal;\r\n                let inputParam = {\r\n                    methodUrl: \"SampleStorageMapping\",\r\n                    operation: this.state.operation,\r\n                    classUrl: \"samplestoragemapping\",\r\n\r\n                    inputData: selectedRecord['nneedposition'] === true ?\r\n                    {    \r\n                        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                            parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                        ncontainertypecode: selectedRecord['ncontainertypecode'].value ?\r\n                            selectedRecord['ncontainertypecode'].value : -1,\r\n                        nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                        nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                        nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                        ssamplestoragemappingname: \"-\",\r\n                        ndirectionmastercode: selectedRecord['ndirectionmastercode']? selectedRecord['ndirectionmastercode'].value:-1,\r\n                        nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                            JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                        containerpathsize: containerpathCodeArray.length,\r\n                        nneedposition: 3,\r\n                        sboxid: '',\r\n                        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ?\r\n                            selectedRecord['ncontainerstructurecode'].value : -1,\r\n                        nquantity: selectedRecord['nquantity'] ?\r\n                            parseFloat(selectedRecord['nquantity']) : 0,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                            parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                        \r\n                        userinfo: this.props.Login.userInfo,\r\n                        \r\n                        nrow: selectedRecord['nrow'],\r\n                        ncolumn: selectedRecord['ncolumn']\r\n        \r\n                    } : {\r\n                        nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                        nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                            parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n                        ncontainertypecode: -1,\r\n                        nproductcode: selectedRecord['nproductcode']?selectedRecord['nproductcode'].value:-1,\r\n                        nprojecttypecode: selectedRecord['nprojecttypecode']?selectedRecord['nprojecttypecode'].value:-1,\r\n                        nunitcode: selectedRecord['nunitcode']?selectedRecord['nunitcode'].value:-1,\r\n                        ndirectionmastercode: 1,\r\n                        ssamplestoragemappingname: \"-\",\r\n                        nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                            JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n                        containerpathsize: containerpathCodeArray.length,\r\n                        nneedposition: 4,\r\n                        sboxid: '',\r\n                        ncontainerstructurecode: -1,\r\n                        nquantity: selectedRecord['nquantity'] ?\r\n                        parseInt(selectedRecord['nquantity']) : 0,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?\r\n                        parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nrow: selectedRecord['nrow'],\r\n                        ncolumn: selectedRecord['ncolumn']\r\n                    }\r\n                    \r\n                };\r\n           \r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, operation: this.state.operation, openModal: true, selectedRecord ,screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } \r\n        \r\n    \r\n        else {\r\n            this.CRUDSampleStorageMapping(inputParam, this.state.operation);\r\n        }\r\n    }\r\n\r\n    childDataChange = (selectedRecord) => {\r\n        this.setState({\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    childSheetDataChange = (sheetData) => {\r\n        this.setState({\r\n            // selectedRecord: {\r\n            //     ...this.state.selectedRecord,\r\n            //     sheetData: {\r\n            //         ...this.state.selectedRecord.sheetData,\r\n            //         ...sheetData\r\n            //     }\r\n            // },\r\n            sheetData: {\r\n                ...sheetData\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    // Actions start\r\n    getActiveSampleStorageMappingById = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getActiveSampleStorageMappingById\", {\r\n            nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\r\n            userinfo: userinfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    }//,\r\n                    // selectedRecord: {\r\n                    //     ...this.state.selectedRecord\r\n                    //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\r\n                    // }\r\n                    ,\r\n                    dataStateChange:{skip:0,take:10},\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n    filterColumnData = (filterValue, filterParam) => {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n            }\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n\r\n        if (primaryKeyValue !== 0) {\r\n            this.setState({ loading: true });\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (filterParam.sortField) {\r\n                        sortData(masterData, filterParam.sortOrder, filterParam.sortField);\r\n                    }\r\n                    else {\r\n                        sortData(masterData);\r\n                    }\r\n                    this.setState({ masterData, loading: false, skip: 0, take: 10, selectedId: null });\r\n                })\r\n                .catch(error => {\r\n                    this.setState({ loading: false });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            masterData[\"sampleStoragemapping\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            this.setState({\r\n                masterData, operation: null, modalName: undefined,\r\n                loading: false\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n    CRUDSampleStorageMapping = (inputParam, operation, isImport) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/\" + operation + \"SampleStorageMapping\", inputParam);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    isInitialRender: true,\r\n                    selectedRecord: {},\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    openModal: false,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.selectedRecordFilter&&this.state.selectedRecordFilter[\"nstoragecategorycode\"]&&\r\n            this.state.selectedRecordFilter[\"nstoragecategorycode\"].value?\r\n            this.state.selectedRecordFilter[\"nstoragecategorycode\"].value:0,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\r\n                    nfilterStorageCategory:this.state.selectedRecordFilter[\"nstoragecategorycode\"].value\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                          searchedData: undefined \r\n                        //   sampleStoragemapping: response[0].data['sampleStoragemapping'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    addSampleStorageMapping() {\r\n        if(this.state.masterData.searchedData !==undefined ?\r\n            this.state.masterData.searchedData.length>0  ?\r\n            true  :false\r\n            : this.state.masterData.sampleStorageLocation.length>0   ){\r\n            this.setState({ loading: true })\r\n            let selectedRecord = this.state.selectedRecord\r\n            let inputParamData = {\r\n                // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n                userinfo: this.props.Login.userInfo,\r\n                operation: \"create\"\r\n            }\r\n    \r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\r\n    \r\n            const url2 = rsapi.post(\"product/getProduct\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n    \r\n            const url3 = rsapi.post(\"/projecttype/getProjectType\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n\r\n                const url4 = rsapi.post(\"/unit/getUnit\",\r\n                { 'userinfo': this.props.Login.userInfo });\r\n    \r\n            urlArray = [url1, url2, url3,url4];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                        \"nsamplestoragecontainerpathcode\",\r\n                        \"scontainerpath\", undefined, undefined, true);\r\n                    const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                   // let containerStructure = response[0].data['containerStructure'];\r\n    \r\n                    const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                        \"ncontainertypecode\",\r\n                        \"scontainertype\", undefined, undefined, true);\r\n                    const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n    \r\n    \r\n                    const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                        \"ndirectionmastercode\",\r\n                        \"sdirection\", undefined, undefined, true);\r\n                    const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n    \r\n                    const containerstructureMap = constructOptionList(response[0].data['containerStructure']\r\n                        || [],\r\n                        \"ncontainerstructurecode\",\r\n                        \"scontainerstructurename\", undefined, undefined, true);\r\n                    const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n    \r\n                    const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                        \"nproductcode\",\r\n                        \"sproductname\", undefined, undefined, true);\r\n                    const productList = productMap.get(\"OptionList\");\r\n    \r\n    \r\n                    const projectTypeMap = constructOptionList(response[2].data || [], \"nprojecttypecode\",\r\n                        \"sprojecttypename\", undefined, undefined, true);\r\n    \r\n                    const projectTypeMapList = projectTypeMap.get(\"OptionList\");\r\n\r\n                    const unitMap = constructOptionList(response[3].data || [], \"nunitcode\",\r\n                    \"sunitname\", undefined, undefined, true);\r\n\r\n                const unitMapList = unitMap.get(\"OptionList\");\r\n    \r\n    \r\n                    //To Load selected Data from Sample storage Location\r\n                    unitMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nunitcode\"] ?\r\n                    selectedRecord[\"nunitcode\"] = {\r\n                        \"label\": item.label,\r\n                        \"value\": item.value,\r\n                        \"item\": item.item\r\n                    }\r\n                    : \"\"); \r\n\r\n                    projectTypeMapList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nprojecttypecode\"] ?\r\n                        selectedRecord[\"nprojecttypecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    productList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"nproductcode\"] ?\r\n                        selectedRecord[\"nproductcode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    containerTypeList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainertypecode\"] ?\r\n                        selectedRecord[\"ncontainertypecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    containerstructureList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ncontainerstructurecode\"] ?\r\n                        selectedRecord[\"ncontainerstructurecode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n    \r\n                    directionmasterList.map(item => item.value === response[0].data[\"selectedSampleStorageVersion\"][\"ndirectionmastercode\"] ?\r\n                        selectedRecord[\"ndirectionmastercode\"] = {\r\n                            \"label\": item.label,\r\n                            \"value\": item.value,\r\n                            \"item\": item.item\r\n                        }\r\n                        : \"\");\r\n                    selectedRecord = {\r\n                        ...selectedRecord,\r\n                        nneedposition: true,\r\n                       //ALPD-3353\r\n                        nrow: response[0].data[\"selectedSampleStorageVersion\"].nrow===0?1:response[0].data[\"selectedSampleStorageVersion\"].nrow,\r\n                        ncolumn: response[0].data[\"selectedSampleStorageVersion\"].ncolumn===0?1: response[0].data[\"selectedSampleStorageVersion\"].ncolumn,\r\n                        nquantity: response[0].data[\"selectedSampleStorageVersion\"].nquantity,\r\n                        nnoofcontainer:response[0].data[\"selectedSampleStorageVersion\"].nnoofcontainer,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        directionmasterOptions: directionmasterList\r\n                    }\r\n                    this.setState({\r\n                        openModal: true,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        selectedRecord: {\r\n                            ...selectedRecord,\r\n                            nproductcode: { label: response[0].data.samplestoragelocation.sproductname, value: response[0].data.samplestoragelocation.nproductcode },\r\n                            nprojecttypecode: { label: response[0].data.samplestoragelocation.sprojecttypename, value: response[0].data.samplestoragelocation.nprojecttypecode },\r\n                            storageMappingMapOptions: storageMappingMapList,\r\n                            productOptions: productList,\r\n                            projectOptions: projectTypeMapList,\r\n                            unitOptions:unitMapList,\r\n                            containerTypeOptions: containerTypeList,\r\n                            directionmasterOptions: directionmasterList,\r\n                            // ncontainertypecode: containerTypeList[0],\r\n                            // containerStructureOptions: containerstructureList,\r\n                            // ncontainerstructurecode: containerstructureList[0],\r\n                            // nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\r\n                            // ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\r\n                            isInitialRender: true\r\n    \r\n                        },\r\n                        openSpreadSheet: false,\r\n                        operation: 'create',\r\n                        loading: false\r\n                    });\r\n                }).catch(error => {\r\n                    console.log(error)\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGESTRUCTURE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onSampleMappingSaveClick = () => {\r\n        const mandatoryFields = this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n            this.state.selectedRecord[\"nneedposition\"] === false ? [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            // },\r\n            // {\r\n            //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n            //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n            //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            // }\r\n        ] : [\r\n            {\r\n                \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\",\r\n                \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            }\r\n            ,\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERTYPE\",\r\n                \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n                \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n                    \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            },\r\n            {\r\n                \"idsName\": \"IDS_DIRECTION\",\r\n                \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n                    \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            }\r\n            // },\r\n            // {\r\n            //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n            //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n            //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n            // }\r\n        ]\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields,\r\n            this.onSaveClick)\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateChange: event.dataState\r\n        });\r\n    }\r\n\r\n    approveSampleStorageMapping = (event) => {\r\n        if(this.state.masterData.sampleStorageLocation.length>0){\r\n            if(this.state.masterData.sampleStoragemapping.length>0){\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode)) {\r\n                const masterData = this.state.masterData || {};\r\n                    let inputParam = {\r\n                        methodUrl: \"SampleStorageMapping\",\r\n                        // operation: this.props.Login.operation || this.state.operation,\r\n                        operation: \"approve\",\r\n                        classUrl: \"samplestoragemapping\",\r\n                        inputData: \r\n                        {    \r\n                            'nsamplestoragelocationcode': masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                             userinfo: this.props.Login.userInfo,\r\n\t\t\t\t\t\t\t//ALPD-4934--Vignesh R(24-09-2024)\r\n                             'nsamplestoragemappingcode':this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\r\n                        } \r\n                    };\r\n    \r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, openModal:true, operation:\"approve\", screenData: { inputParam, masterData }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else{\r\n\r\n            let inputParamData = {}\r\n            this.setState({ loading: true })\r\n            inputParamData = {\r\n                nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n                userinfo: this.props.Login.userInfo,\r\n\t\t\t\t//ALPD-4934--Vignesh R(24-09-2024)\r\n                'nsamplestoragemappingcode':this.state.masterData.sampleStoragemapping.map(item => item.nsamplestoragemappingcode).join(',')\r\n\r\n            }\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"samplestoragemapping/approveSampleStorageMapping\", inputParamData);\r\n    \r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    this.setState({\r\n                        masterData: {\r\n                            ...this.state.masterData,\r\n                            ...response[0].data\r\n                        },\r\n                        loading: false\r\n                    });\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n            }\r\n        }else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_CANNOTAPPROVEEMPTYMAPPING\" })); \r\n        }\r\n    }else{\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGESTRUCTURE\" })); \r\n        }\r\n       \r\n    }\r\n\r\n    getDynamicFilterExecuteData(inputParam) {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let obj = {// ...inputParam.component, \r\n            label: 'sampleStorageLocation', valuemember: 'nsamplestoragelocationcode',\r\n            filterquery: selectedRecord.filterquery, source: 'sampleStorageLocation', userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"/samplestoragemapping/getdynamicfilterexecutedata\", obj);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                console.log(response)\r\n                let masterData = this.state.masterData\r\n                masterData = { ...masterData, ...response[0].data }\r\n                this.setState({\r\n                    masterData: { ...masterData },\r\n                    loading: false\r\n                })\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.info(error.response.data.rtn);\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n    fetchRecord = (data) => {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"samplestoragemapping/getEditSampleStorageMapping\",\r\n            { 'nsamplestoragemappingcode': data.nsamplestoragemappingcode, 'userinfo': this.props.Login.userInfo });\r\n\r\n        const getprojecttype = rsapi.post(\"/projecttype/getProjectType\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n            const getUnit = rsapi.post(\"/unit/getUnit\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2, url3, getprojecttype,getUnit];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                //let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n\r\n                const containerstructureMap = constructOptionList(response[2].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                const editedObject = response[2].data.editsampleStorageMapping;\r\n\r\n                storageMappingMapList.unshift({ label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode })\r\n\r\n                const projectTypeMap = constructOptionList(response[3].data || [], \"nprojecttypecode\",\r\n                    \"sprojecttypename\", undefined, undefined, true);\r\n\r\n                const projectTypeMapList = projectTypeMap.get(\"OptionList\");\r\n\r\n                const unitMap = constructOptionList(response[4].data || [], \"nunitcode\",\r\n                \"sunitname\", undefined, undefined, true);\r\n\r\n            const unitMapList = unitMap.get(\"OptionList\");\r\n\r\n                selectedRecord = {\r\n                    ndirectionmastercode: { label: editedObject.sdirection, value: editedObject.ndirectionmastercode },\r\n                    nsamplestoragecontainerpathcode: { label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode },\r\n                    nproductcode: { label: editedObject.sproductname, value: editedObject.nproductcode },\r\n                    nprojecttypecode: { label: editedObject.sprojecttypename, value: editedObject.nprojecttypecode },\r\n                    nunitcode: { label: editedObject.sunitname, value: editedObject.nunitcode },\r\n                    ncontainertypecode: { label: editedObject.scontainertype, value: editedObject.ncontainertypecode },\r\n                    ncontainerstructurecode: { label: editedObject.scontainerstructurename, value: editedObject.ncontainerstructurecode },\r\n                    nneedposition: editedObject.nneedposition === 3 ? true : false,\r\n                    directionmasterOptions: directionmasterList,\r\n                    nquantity: editedObject.nquantity,\r\n                    nnoofcontainer: editedObject.nnoofcontainer,\r\n                    nrow: editedObject.nrow,\r\n                    ncolumn: editedObject.ncolumn,\r\n                    nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\r\n                }\r\n                this.setState({\r\n                    openSpreadSheet: false,\r\n                    // ncontrolcode: this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode,\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        projectOptions: projectTypeMapList,unitOptions:unitMapList,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        isInitialRender: true\r\n                    },\r\n                    operation: 'update',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    // Actions End\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n\r\n   \r\n    //handleAdd = (e) => {\r\n    //     let file = e.newState[0].getRawFile();\r\n    //     let selectedRecord = this.state.selectedRecord;\r\n    //     selectedRecord['nsamplestoragecontainerpathcode'] = []\r\n    //     /* Boilerplate to set up FileReader */\r\n    //     const reader = new FileReader();\r\n    //     const rABS = !!reader.readAsBinaryString;\r\n    //     let data = []\r\n    //     reader.onload = (e) => {\r\n    //         /* Parse data */\r\n    //         const bstr = e.target.result;\r\n    //         const wb = XLSX.read(bstr, {\r\n    //             type: rABS ? 'binary' : 'array',\r\n    //             bookVBA: true,\r\n    //         });\r\n    //         /* Get first worksheet */\r\n    //         const wsname = wb.SheetNames[0];\r\n    //         const ws = wb.Sheets[wsname];\r\n    //         /* Convert array of arrays */\r\n    //         data = XLSX.utils.sheet_to_json(ws);\r\n    //         console.log(data);\r\n    //         /* Update state */\r\n    //         // this.setState({\r\n    //         //     data,\r\n    //         // });\r\n\r\n    //         console.log('xlsx data :', this.state.storageMappingMapOptions)\r\n\r\n\r\n    //         data.map((x, index) => {\r\n    //             let clientcontainerpath = 'root > ' + x.fz_code + ' > ' + x.sf_code\r\n    //                 + ' > ' + x.rk_code\r\n    //                 + ' > ' + x.tr_code\r\n    //                 + ' > ' + x.bx_code\r\n    //             console.log('clientcontainerpath:', clientcontainerpath)\r\n\r\n    //             this.state.storageMappingMapOptions.map((item, index) => {\r\n    //                 if (item.label === clientcontainerpath) {\r\n    //                     let i = -1\r\n    //                     if (selectedRecord['nsamplestoragecontainerpathcode'].length > 0) {\r\n    //                         i = selectedRecord['nsamplestoragecontainerpathcode']\r\n    //                             .findIndex(k => k.label === clientcontainerpath)\r\n    //                     }\r\n    //                     x['nsamplestoragecontainerpathcode'] = this.state.storageMappingMapOptions[index].value\r\n    //                     if (i === -1) {\r\n\r\n    //                         selectedRecord['nsamplestoragecontainerpathcode'].push(this.state.storageMappingMapOptions[index]);\r\n    //                     }\r\n    //                 }\r\n    //             });\r\n\r\n    //         });\r\n    //         let containerpathCodeArray = [];\r\n\r\n    //         containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n    //         const inputParam = {\r\n    //             nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n    //             nsamplestoragemappingcode: 0,\r\n    //             ncontainertypecode: 1,\r\n    //             nproductcode: 9,\r\n    //             nprojecttypecode: 2,\r\n    //             ndirectionmastercode: 1,\r\n    //             nsamplestoragecontainerpathcode: JSON.stringify(containerpathCodeArray),\r\n    //             containerpathsize: containerpathCodeArray.length,\r\n    //             nneedposition: 3,\r\n    //             ncontainerstructurecode: 1,\r\n    //             nquantity: 100,\r\n    //             sboxid: '-',\r\n    //             //nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n    //             userinfo: this.props.Login.userInfo,\r\n    //             clientData: JSON.stringify(data),\r\n    //             isImport: true\r\n    //         }\r\n    //         this.CRUDSampleStorageMapping(inputParam, 'create', true);\r\n    //         console.log('selectedRecord:', selectedRecord['nsamplestoragecontainerpathcode'])\r\n    //     };\r\n    //     if (rABS) {\r\n    //         reader.readAsBinaryString(file);\r\n    //     } else {\r\n    //         reader.readAsArrayBuffer(file);\r\n    //     }\r\n\r\n    // };\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.sheetData !== this.state.sheetData)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    handlePageChangeFilter = (event) => {\r\n        this.setState({ kendoSkip: event.skip, kendoTake: event.take });\r\n    };\r\n    onChange = (immutableTree, config) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"tree\"] = immutableTree;\r\n        selectedRecord[\"config\"] = config;\r\n        selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\r\n        this.setState({ tree: immutableTree, config: config, selectedRecord: selectedRecord });\r\n\r\n    };\r\n\r\n    render() {\r\n\r\n        //const addId = this.state.controlMap.has(\"AddSampleStorageMapping\") && this.state.controlMap.get(\"AddSampleStorageMapping\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditsampleStorageMapping\") && this.state.controlMap.get(\"EditsampleStorageMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeletesampleStorageMapping\") && this.state.controlMap.get(\"DeletesampleStorageMapping\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"ApprovesampleStorageMapping\") && this.state.controlMap.get(\"ApprovesampleStorageMapping\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragemapping/getActiveSampleStorageMappingById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.state.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        //const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <Preloader loading={this.state.loading} />\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={'sample-storage-mapping-grid'}>\r\n                        <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n\r\n\r\n\r\n                            <TransactionListMasterJsonView\r\n                                paneHeight={this.state.parentHeight}\r\n                                needMultiSelect={false}\r\n                                masterList={this.state.masterData && this.state.masterData.searchedData ||\r\n                                    this.state.masterData && this.state.masterData.sampleStorageLocation || []}\r\n                                selectedMaster={[this.state.masterData && this.state.masterData.selectedSampleStorageLocation]}\r\n                                primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                getMasterDetail={(selectedItem) =>\r\n                                    this.getActiveSampleStorageMappingById(\r\n                                        selectedItem,\r\n                                        this.props.Login.userInfo\r\n                                    )}\r\n                                inputParam={{\r\n                                    userInfo: this.props.Login.userInfo,\r\n                                    masterData: this.props.Login.masterData\r\n                                }}\r\n                                mainField={\"ssamplestoragelocationname\"}\r\n                                selectedListName=\"selectedSampleStorageLocation\"\r\n                                objectName=\"LocationMaster\"\r\n                                listName=\"IDS_STORAGESTRUCTURE\"\r\n                                filterColumnData={this.filterColumnData}\r\n                                searchListName=\"searchedData\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                showFilter={this.props.Login.showFilter}\r\n                                openFilter={this.openFilter}\r\n                                closeFilter={this.closeFilter}\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                                needFilter={true}\r\n                                hidePaging={false}\r\n                                handlePageChange={this.handlePageChange}\r\n                                skip={this.state.skip}\r\n                                take={this.state.take}\r\n                                commonActions={\r\n                                    <ProductList className=\"d-flex product-category float-right\">\r\n                                        {/* <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageMapping(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button> */}\r\n                                        <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                            onClick={() => this.reloadData()}\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                <RefreshIcon className='custom_icons'/>\r\n                                        </Button>\r\n                                    </ProductList>\r\n                                }\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_TESTFILTER\":\r\n                                            <StorageMappingFilter\r\n                                                storageCategoryOptions={this.state.storageCategoryOptions || []}\r\n                                                nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                storageLocationOptions={this.state.storageLocationOptions || []}\r\n                                                storageLocationValue={this.state.storageLocationValue || []}\r\n                                                sampleStorageVersionOptions={this.state.sampleStorageVersionOptions || []}\r\n                                                storageVersionValue={this.state.storageVersionValue || []}\r\n                                                onComboChange={this.onComboChange}\r\n                                                selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                                selectedRecord={this.state.selectedRecord}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n\r\n                            />\r\n\r\n                           \r\n\r\n                                <>\r\n                                    <Card.Title className=\"product-title-main\">\r\n                                        {this.state.masterData&&this.state.masterData.selectedSampleStorageLocation&&\r\n                                        this.state.masterData.selectedSampleStorageLocation.ssamplestoragelocationname }</Card.Title>\r\n\r\n                                    <Card.Subtitle>\r\n                                        <div className=\"d-flex product-category\">\r\n                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                <Nav.Link className=\"action-icons-wrap mr-2 pl-0\">\r\n                                                    { \r\n                                                    this.state.masterData&&this.state.masterData.selectedSampleStorageLocation ?\r\n                                                    this.state.masterData.selectedSampleStorageLocation.nmappingtranscode === transactionStatus.DRAFT ?\r\n\r\n                                                        <span className={`btn btn-outlined  outline-secondary btn-sm mr-3`}>\r\n                                                            <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                        </span>\r\n                                                        :\r\n                                                        <span className={`btn btn-outlined outline-success btn-sm mr-3`}>\r\n                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                        </span> :\"\"\r\n                                                    }\r\n                                                </Nav.Link>\r\n                                            </h2>\r\n                                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                //hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                // data-for=\"tooltip_list_wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_IMPORT\" })}\r\n                                                onClick={(e) => this.importdata(faThumbsUp)}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={faFileImport} />\r\n\r\n                                            </Nav.Link>  */}\r\n                                            {/* <Button className=\"btn btn-circle outline-grey\"\r\n                                                            variant=\"link\"\r\n                                                            data-tip={this.props.intl.formatMessage({\r\n                                                                id: \"IDS_SAMPLE\"\r\n                                                            })}\r\n                                                            onClick={() => this.addSample({}, 2)}>\r\n                                                            <FontAwesomeIcon icon={faPuzzlePiece} />\r\n                                                        </Button> */}\r\n                                                        {/* {this.state.masterData && this.state.masterData.sampleStoragemapping && \r\n                                                          <Button className=\"btn btn-circle outline-grey\"\r\n                                            variant=\"link\"\r\n                                            data-tip={this.props.intl.formatMessage({\r\n                                                id: \"IDS_APPROVE\"\r\n                                            })}\r\n                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                            onClick={() => this.approveSampleStorageMapping()}\r\n\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                        </Button>} */}\r\n                                          \r\n                                            {/* <div className=\"d-flex justify-content-end mt-3\">\r\n                                                            <Button className=\"btn-user btn-primary-blue\"\r\n                                                                onClick={() => this.getDynamicFilterExecuteData()}>\r\n                                                                <FontAwesomeIcon icon={faCalculator} /> { }\r\n                                                                <FormattedMessage id='IDS_EXECUTE' defaultMessage='Execute' />\r\n                                                            </Button>\r\n                                                        </div> */}\r\n                                        </div>\r\n\r\n                                    </Card.Subtitle>\r\n                                    {/* <FilterQueryBuilder\r\n                                                    fields={this.state.fields}\r\n                                                    queryArray={this.state.queryArray}\r\n                                                    skip={this.state.kendoSkip}\r\n                                                    take={this.state.kendoTake}\r\n                                                    onChange={this.onChange}\r\n                                                    tree={this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree}\r\n                                                    gridColumns={this.slideList}\r\n                                                    filterData={this.props.Login.slideResult || []}\r\n                                                    handlePageChange={this.handlePageChangeFilter}\r\n                                                    static={true}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                    updateStore={this.props.updateStore}\r\n                                                /> */}\r\n                                       \r\n                                    <DataGrid\r\n                                        isRefreshRequired={false}\r\n                                        // fetchRecord={this.fetchRecord}\r\n                                        // editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\r\n                                        // handleClickDelete={this.deletesamplestoragemapping}\r\n                                        methodUrl={'SampleStorageMapping'}\r\n                                        isAddRequired={this.state.masterData &&  \r\n                                            this.state.masterData.sampleStoragemapping?true:false}\r\n                                        primaryKeyField={'nsamplestoragemappingcode'}\r\n                                        data={this.state.masterData && this.state.masterData.sampleStoragemapping &&\r\n                                            this.state.masterData.sampleStoragemapping}\r\n                                        dataResult={this.state.masterData &&\r\n                                            this.state.masterData.sampleStoragemapping &&\r\n                                            process(this.state.masterData.sampleStoragemapping || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 })}\r\n                                        dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                        dataStateChange={this.dataStateChange}\r\n                                        isCustomButton={true}\r\n                                        customButtonlist={this.state.masterData && this.state.masterData.sampleStoragemapping ?[{\r\n                                            label: 'IDS_APPROVE',\r\n                                            id: {},  \r\n                                            hidden : this.state.userRoleControlRights.indexOf(approveId) === -1,\r\n                                            onClick: () => this.approveSampleStorageMapping(),\r\n                                            controlname: 'faThumbsUp'\r\n                                        }]:[]}\r\n                                        extractedColumnList={[\r\n                                            { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"450px\" },\r\n                                            { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"sproductname\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"sprojecttypename\", \"width\": \"200px\" }, \r\n                                            { \"idsName\": \"IDS_CONTAINERID\", \"dataField\": \"sboxid\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"scontainertype\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\", \"dataField\": \"scontainerstructurename\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_AVAILABLEQTY\", \"dataField\": \"nquantity\", \"width\": \"200px\" },\r\n                                            { \"idsName\": \"IDS_UNIT\", \"dataField\": \"sunitname\", \"width\": \"200px\" },//ALPD-4483 janakumar added the unit datagrid field\r\n                                            { \"idsName\": \"IDS_NEEDPREDEFINEDSTRUCURE\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n\r\n                                        ]}\r\n                                        controlMap={this.state.controlMap}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        //     fetchRecord={this.fetchRecord}\r\n                                        //    editParam={{ 'primaryKeyField': 'nsamplestoragemappingcode' }}\r\n                                        // deleteRecord={this.deleteRecord}\r\n                                        addRecord={() => this.openStorageMapping()}\r\n                                        pageable={true}\r\n                                        scrollable={'scrollable'}\r\n                                        // isComponent={true}\r\n                                        gridHeight={'500px'}\r\n                                        isActionRequired={true\r\n                                            // this.state.masterData&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation&&this.state.masterData.\r\n                                            //     selectedSampleStorageLocation.nmappingtranscode\r\n                                            //     === transactionStatus.DRAFT ? true : false\r\n                                            }\r\n                                        isToolBarRequired={true}\r\n                                        actionIcons={\r\n                                            // this.state.masterData&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation&&this.state.masterData.\r\n                                            // selectedSampleStorageLocation.nmappingtranscode\r\n                                            // === transactionStatus.DRAFT ?\r\n                                            [\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                    controlname: \"faPencilAlt\",\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                    objectName: \"edit\",\r\n                                                    onClick: this.fetchRecord\r\n                                                },\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                    controlname: \"faTrashAlt\",\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                    objectName: \"delete\",\r\n                                                    onClick: this.handleClickDelete\r\n                                                },\r\n                                                // {\r\n                                                //     title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLE\" }),\r\n                                                //     controlname: \"faPenSquare\",\r\n                                                //     hidden: false,\r\n                                                //     objectName: \"add\",\r\n                                                //     onClick: (param) => this.addSample(param, 1)\r\n                                                // }\r\n                                            ] \r\n                                           // : []\r\n                                        }\r\n                                    />    </>\r\n\r\n\r\n                       \r\n\r\n\r\n                        </SplitterLayout>\r\n                    </Row>\r\n                </ListWrapper >\r\n\r\n                {\r\n                    this.state.openModal &&\r\n                    <SlideOutModal show={this.state.openModal}\r\n                        closeModal={this.closeModal}\r\n                        size={this.state.openSpreadSheet ? 'xl' : \"\"}\r\n                        operation={this.state.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMAPPING\" })}\r\n                        onSaveClick={this.onSampleMappingSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        // className={\"wide-popup\"}\r\n\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={\r\n                           // this.state.importdata ?\r\n                                // <Upload\r\n                                //     batch={false}\r\n                                //     multiple={false}\r\n                                //     defaultFiles={[]}\r\n                                //     withCredentials={false}\r\n                                //     autoUpload={false}\r\n                                //     onAdd={this.handleAdd}\r\n                                // />\r\n                               // :\r\n\r\n                                this.props.Login.loadEsign ?\r\n                                    <Esign operation={this.props.Login.operation || this.state.operation}\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        inputParam={this.props.Login.inputParam}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                    />\r\n                                    :\r\n                                    this.state.openSpreadSheet ? <>\r\n                                        {/* <Spreadsheet\r\n                                    data={this.state.placedSample}\r\n                                    Rows={this.state.Rows || 1}\r\n                                    columns={this.state.columns || 1}\r\n                                /> */}\r\n                                        <MatrixComponent\r\n                                            Rows={this.state.Rows || 1}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                            columns={this.state.columns || 1}\r\n                                            selectedRecord={this.state.selectedRecord.sheetData || {}}\r\n                                            sheetData={this.state.sheetData || {}}\r\n                                            isMultiSampleAdd={this.state.isMultiSampleAdd}\r\n                                            childSheetDataChange={this.childSheetDataChange}\r\n                                            editedsheetData={this.state.editedsheetData}\r\n                                            multipleSheetData={this.state.masterData &&\r\n                                                this.state.masterData.sampleStoragemapping &&\r\n                                                process(this.state.masterData.sampleStoragemapping || [],\r\n                                                    this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }).data} />\r\n                                    </> :\r\n                                        <AddSampleStorageMapping\r\n                                            operation={this.state.operation}\r\n                                            selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                            onInputChange={(e) => this.onInputChange(e)}\r\n                                            onComboChange={this.onComboChange}\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            childDataChange={this.childDataChange}\r\n                                            userInfo={this.props.Login.userInfo}\r\n                                        />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        let screenData = this.props.Login.screenData;\r\n        screenData['inputParam']['selectedRecord']= this.state.selectedRecord || {};\r\n        if(screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode']){\r\n            delete screenData['inputParam']['selectedRecord']['nsamplestoragecontainerpathcode'];\r\n        }\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: screenData\r\n        }\r\n       \r\n        this.props.validateEsignCredentialStorage(inputParam,\"openModal\");\r\n    }\r\n\r\n   \r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, updateStore,validateEsignCredentialStorage\r\n})(injectIntl(SampleStorageMapping));"]},"metadata":{},"sourceType":"module"}