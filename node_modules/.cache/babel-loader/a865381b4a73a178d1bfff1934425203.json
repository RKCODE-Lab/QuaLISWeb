{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{intl}from'../components/App';import{initRequest}from'./LoginAction';import{constructOptionList,parentChildComboLoad,constructjsonOptionList,constructjsonOptionDefault,childComboLoad,rearrangeDateFormatforUI,childComboLoadForEdit}from'../components/CommonScript';import Axios from'axios';import{getTreeByProduct}from'./RegistrationAction';export function getDynamicMasterCombo(masterData,userinfo,editId,columnList,selectedRecord,childColumnList,comboComponents,withoutCombocomponent,openPortal,openModal,mapOfFilterRegData,preview,operation,screenName){return function(dispatch){dispatch(initRequest(true));var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var actualService=rsapi.post(\"dynamicpreregdesign/getComboValues\",{parentcolumnlist:columnList,childcolumnlist:childColumnList,userinfo:userinfo});var urlArray=[timeZoneService,actualService];//const operation = fetchRecordParam.operation;\n// if (operation === \"update\"){\n//     const url = \"dynamicmaster/getActiveDynamicMasterById\";\n//     urlArray.push(rsapi.post(url, {\n//       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\n//     }));\n// }\nAxios.all(urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userinfo.stimezoneid,value:userinfo.ntimezonecode};// if (operation === \"update\"){\n//     selectedRecord = response[2].data;\n// }\nvar newcomboData=parentChildComboLoad(columnList,response[1].data,selectedRecord,childColumnList,withoutCombocomponent,undefined,userinfo.slanguagetypecode,userinfo);// sortData(masterData)\nvar comboData1=newcomboData.comboData;var selectedRecord1=newcomboData.selectedRecord;withoutCombocomponent.map(function(componentrow){if(componentrow.inputtype===\"date\"){if(componentrow.mandatory){selectedRecord1[componentrow.label]=componentrow.loadcurrentdate?new Date():\"\";}}else if(componentrow.inputtype===\"radio\"){selectedRecord1[componentrow.label]=componentrow.radioOptions?componentrow.radioOptions.tags[0].text:\"\";}});if(preview){dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:comboData1,selectedRecord:selectedRecord1,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,screenName:screenName,operation:operation}});}else{if(mapOfFilterRegData.nsampletypecode===1){var ProductCategory=comboComponents.filter(function(x){return x.name==='Product Category';});if(ProductCategory.length>0){var nproductcatcode=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label].value;var ncategorybasedFlow=newcomboData.selectedRecord[ProductCategory[0].label]&&newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(ncategorybasedFlow!==undefined){if(ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,inputParam));}else{var Product=comboComponents.filter(function(x){return x.name==='Product';});if(Product.length>0){var nproductcode=newcomboData.selectedRecord[Product[0].label]&&newcomboData.selectedRecord[Product[0].label].value;mapOfFilterRegData['nproductcode']=nproductcode!==undefined?nproductcode:-1;mapOfFilterRegData['nproductcatcode']=nproductcatcode;var _inputParam={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===2){var InstrumentCategory=comboComponents.filter(function(x){return x.name==='Instrument Category';});if(InstrumentCategory.length>0){var ninstrumentcatcode=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label].value;var _ncategorybasedFlow=newcomboData.selectedRecord[InstrumentCategory[0].label]&&newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow!==undefined){if(_ncategorybasedFlow===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam2={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam2));}else{var Instrument=comboComponents.filter(function(x){return x.name==='Instrument';});if(Instrument.length>0){var ninstrumentcode=newcomboData.selectedRecord[Instrument[0].label]&&newcomboData.selectedRecord[Instrument[0].label].value;mapOfFilterRegData['nproductcode']=ninstrumentcode!==undefined?ninstrumentcode:-1;mapOfFilterRegData['nproductcatcode']=ninstrumentcatcode;var _inputParam3={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam3));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}else if(mapOfFilterRegData.nsampletypecode===3){var MaterialType=comboComponents.filter(function(x){return x.name==='Material Type';});if(MaterialType.length>0){var nmaterialtypecode=newcomboData.selectedRecord[MaterialType[0].label]&&newcomboData.selectedRecord[MaterialType[0].label].value;if(nmaterialtypecode!==undefined){var MaterialCategory=comboComponents.filter(function(x){return x.name==='Material Category';});if(MaterialCategory.length>0){var nmaterialcatcode=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label].value;var _ncategorybasedFlow2=newcomboData.selectedRecord[MaterialCategory[0].label]&&newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];if(_ncategorybasedFlow2!==undefined){if(_ncategorybasedFlow2===3){mapOfFilterRegData['nproductcode']=-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam4={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam4));}else{var Material=comboComponents.filter(function(x){return x.name==='Material';});if(Material.length>0){var nmaterialcode=newcomboData.selectedRecord[Material[0].label]&&newcomboData.selectedRecord[Material[0].label].value;mapOfFilterRegData['nproductcode']=nmaterialcode!==undefined?nmaterialcode:-1;mapOfFilterRegData['nproductcatcode']=nmaterialcatcode;var _inputParam5={timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName};dispatch(getTreeByProduct(mapOfFilterRegData,newcomboData.selectedRecord,newcomboData.comboData,_inputParam5));}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,operation:operation,screenName:screenName}});}}}else{dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,masterData:masterData,ncontrolcode:editId,openModal:openModal,loading:false,comboData:newcomboData.comboData,selectedRecord:newcomboData.selectedRecord,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,openPortal:openPortal,columnList:columnList,childColumnList:childColumnList,operation:operation,screenName:screenName}});}}else{}}}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getEditDynamicMasterCombo(inputParam,columnList,selectedRecord1,childColumnList,comboComponents,withoutCombocomponent){return function(dispatch){var _rsapi$post;console.log(\"input:\",inputParam);dispatch(initRequest(true));var _inputParam6=_objectSpread({},inputParam),userInfo=_inputParam6.userInfo;var urlArray=[];var timeZoneService=rsapi.post(\"timezone/getTimeZone\");// const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\n//     parentcolumnlist: columnList,\n//     childcolumnlist: childColumnList,\n//     userinfo: inputParam.userInfo\n// })\nvar selectedMaster=rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\",(_rsapi$post={\"userinfo\":inputParam.userInfo},_defineProperty(_rsapi$post,inputParam.primaryKeyField,inputParam.primaryKeyValue),_defineProperty(_rsapi$post,\"parentcolumnlist\",columnList),_defineProperty(_rsapi$post,\"childcolumnlist\",childColumnList),_rsapi$post));urlArray=[timeZoneService,selectedMaster];Axios.all(urlArray).then(function(response){// let selectedRecord = { ...response[1].data };\nvar selectedRecord=_objectSpread({},response[1].data[\"EditData\"]);// selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\nconsole.log(\"selectedRecord:\",selectedRecord);var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");var defaultTimeZone={label:userInfo.stimezoneid,value:userInfo.ntimezonecode};var languagetypeCode=undefined;var comboData=response[1].data;delete comboData['EditData'];var comboValues={};if(columnList.length>0){columnList.map(function(x){if(x.inputtype==='combo'){if(comboData[x.label]&&comboData[x.label].length>0)//&& comboData[x.label][0].hasOwnProperty(x.source) \n{if(comboData[x.label].length>0){if(comboData[x.label][0].label===undefined){var optionList=constructjsonOptionList(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);comboData[x.label]=optionList.get(\"OptionList\");}else{comboData[x.label]=comboData[x.label];var _optionList=constructjsonOptionDefault(comboData[x.label]||[],x.valuemember,x.displaymember,false,false,true,undefined,x.source,x.isMultiLingual,languagetypeCode,x);}}else{comboData[x.label]=[];}comboValues=childComboLoadForEdit(x,comboData,selectedRecord,childColumnList,withoutCombocomponent);}else{comboValues={\"comboData\":comboData};}}else{comboValues=_objectSpread({comboData:comboData},comboValues);}});}else{comboValues={\"comboData\":comboData};}if(withoutCombocomponent.length>0){withoutCombocomponent.map(function(item){if(item.inputtype===\"date\"){if(selectedRecord[item.label]){selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},item.label,rearrangeDateFormatforUI(userInfo,selectedRecord[item.label])));}}});}dispatch({type:DEFAULT_RETURN,payload:{operation:\"update\",screenName:inputParam.screenName,timeZoneList:timeZoneList,defaultTimeZone:defaultTimeZone,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false,comboData:comboValues.comboData,childColumnList:childColumnList,comboComponents:comboComponents,withoutCombocomponent:withoutCombocomponent,columnList:columnList,selectedId:inputParam.primaryKeyValue}});}).catch(function(error){console.log(\"error:\",error);dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/DynamicMasterAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","intl","initRequest","constructOptionList","parentChildComboLoad","constructjsonOptionList","constructjsonOptionDefault","childComboLoad","rearrangeDateFormatforUI","childComboLoadForEdit","Axios","getTreeByProduct","getDynamicMasterCombo","masterData","userinfo","editId","columnList","selectedRecord","childColumnList","comboComponents","withoutCombocomponent","openPortal","openModal","mapOfFilterRegData","preview","operation","screenName","dispatch","timeZoneService","post","actualService","parentcolumnlist","childcolumnlist","urlArray","all","then","response","timeZoneMap","data","undefined","timeZoneList","get","defaultTimeZone","label","stimezoneid","value","ntimezonecode","newcomboData","slanguagetypecode","comboData1","comboData","selectedRecord1","map","componentrow","inputtype","mandatory","loadcurrentdate","Date","radioOptions","tags","text","type","payload","ncontrolcode","loading","nsampletypecode","ProductCategory","filter","x","name","length","nproductcatcode","ncategorybasedFlow","inputParam","Product","nproductcode","InstrumentCategory","ninstrumentcatcode","Instrument","ninstrumentcode","MaterialType","nmaterialtypecode","MaterialCategory","nmaterialcatcode","Material","nmaterialcode","catch","error","console","log","status","message","warn","getEditDynamicMasterCombo","userInfo","selectedMaster","primaryKeyField","primaryKeyValue","languagetypeCode","comboValues","optionList","valuemember","displaymember","source","isMultiLingual","item","ncontrolCode","selectedId","formatMessage","id"],"mappings":"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","sourcesContent":["\r\nimport rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { intl } from '../components/App';\r\nimport { initRequest } from './LoginAction';\r\nimport {\r\n    constructOptionList, parentChildComboLoad, constructjsonOptionList,\r\n    constructjsonOptionDefault, childComboLoad, rearrangeDateFormatforUI, childComboLoadForEdit\r\n} from '../components/CommonScript';\r\nimport Axios from 'axios';\r\nimport { getTreeByProduct } from './RegistrationAction';\r\n\r\nexport function getDynamicMasterCombo(masterData, userinfo,\r\n    editId, columnList, selectedRecord, childColumnList, comboComponents,\r\n    withoutCombocomponent, openPortal, openModal, mapOfFilterRegData, preview, operation,\r\n    screenName) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n            parentcolumnlist: columnList,\r\n            childcolumnlist: childColumnList,\r\n            userinfo\r\n        })\r\n        let urlArray = [timeZoneService, actualService];\r\n        //const operation = fetchRecordParam.operation;\r\n        // if (operation === \"update\"){\r\n        //     const url = \"dynamicmaster/getActiveDynamicMasterById\";\r\n        //     urlArray.push(rsapi.post(url, {\r\n        //       [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\r\n        //     }));\r\n        // }\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userinfo.stimezoneid, value: userinfo.ntimezonecode }\r\n                // if (operation === \"update\"){\r\n                //     selectedRecord = response[2].data;\r\n                // }\r\n                const newcomboData = parentChildComboLoad(columnList, response[1].data, selectedRecord, childColumnList,\r\n                    withoutCombocomponent, undefined, userinfo.slanguagetypecode, userinfo)\r\n                // sortData(masterData)\r\n\r\n                const comboData1 = newcomboData.comboData\r\n                const selectedRecord1 = newcomboData.selectedRecord\r\n                withoutCombocomponent.map(componentrow => {\r\n                    if (componentrow.inputtype === \"date\") {\r\n                        if (componentrow.mandatory) {\r\n                            selectedRecord1[componentrow.label] = componentrow.loadcurrentdate ? new Date() : \"\";\r\n                        }\r\n                    }\r\n                    else if (componentrow.inputtype === \"radio\") {\r\n                        selectedRecord1[componentrow.label] = componentrow.radioOptions ?\r\n                            componentrow.radioOptions.tags[0].text : \"\";\r\n                    }\r\n\r\n                })\r\n\r\n                if (preview) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN,\r\n                        payload: {\r\n                            timeZoneList,\r\n                            defaultTimeZone,\r\n                            masterData,\r\n                            ncontrolcode: editId,\r\n                            openModal,\r\n                            loading: false,\r\n                            comboData: comboData1,\r\n                            selectedRecord: selectedRecord1,\r\n                            comboComponents,\r\n                            withoutCombocomponent,\r\n                            openPortal,\r\n                            columnList,\r\n                            childColumnList,\r\n                            screenName,\r\n                            operation\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    if (mapOfFilterRegData.nsampletypecode === 1) {\r\n                        const ProductCategory = comboComponents.filter(x => x.name === 'Product Category');\r\n                        if (ProductCategory.length > 0) {\r\n                            const nproductcatcode = newcomboData.selectedRecord[ProductCategory[0].label] &&\r\n                                newcomboData.selectedRecord[ProductCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[ProductCategory[0].label]\r\n                                && newcomboData.selectedRecord[ProductCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Product = comboComponents.filter(x => x.name === 'Product');\r\n                                    if (Product.length > 0) {\r\n                                        const nproductcode = newcomboData.selectedRecord[Product[0].label]\r\n                                            && newcomboData.selectedRecord[Product[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = nproductcode !== undefined ? nproductcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = nproductcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 2) {\r\n                        const InstrumentCategory = comboComponents.filter(x => x.name === 'Instrument Category');\r\n                        if (InstrumentCategory.length > 0) {\r\n                            const ninstrumentcatcode = newcomboData.selectedRecord[InstrumentCategory[0].label] &&\r\n                                newcomboData.selectedRecord[InstrumentCategory[0].label].value\r\n                            const ncategorybasedFlow = newcomboData.selectedRecord[InstrumentCategory[0].label]\r\n                                && newcomboData.selectedRecord[InstrumentCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                            if (ncategorybasedFlow !== undefined) {\r\n                                if (ncategorybasedFlow === 3) {\r\n                                    mapOfFilterRegData['nproductcode'] = -1;\r\n                                    mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n                                    const inputParam = {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                    dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                        newcomboData.selectedRecord,\r\n                                        newcomboData.comboData, inputParam))\r\n                                }\r\n                                else {\r\n                                    const Instrument = comboComponents.filter(x => x.name === 'Instrument');\r\n                                    if (Instrument.length > 0) {\r\n                                        const ninstrumentcode = newcomboData.selectedRecord[Instrument[0].label]\r\n                                            && newcomboData.selectedRecord[Instrument[0].label].value;\r\n\r\n                                        mapOfFilterRegData['nproductcode'] = ninstrumentcode !== undefined ? ninstrumentcode : -1;\r\n                                        mapOfFilterRegData['nproductcatcode'] = ninstrumentcatcode\r\n\r\n                                        const inputParam = {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            columnList,\r\n                                            childColumnList,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                        dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                            newcomboData.selectedRecord,\r\n                                            newcomboData.comboData, inputParam))\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n\r\n                            } else {\r\n                                dispatch({\r\n                                    type: DEFAULT_RETURN,\r\n                                    payload: {\r\n                                        timeZoneList,\r\n                                        defaultTimeZone,\r\n                                        masterData,\r\n                                        ncontrolcode: editId,\r\n                                        openModal,\r\n                                        loading: false,\r\n                                        comboData: newcomboData.comboData,\r\n                                        selectedRecord: newcomboData.selectedRecord,\r\n                                        comboComponents,\r\n                                        withoutCombocomponent,\r\n                                        openPortal,\r\n                                        columnList,\r\n                                        childColumnList,\r\n                                        operation,\r\n                                        screenName\r\n                                    }\r\n                                })\r\n                            }\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n                    } else if (mapOfFilterRegData.nsampletypecode === 3) {\r\n                        const MaterialType = comboComponents.filter(x => x.name === 'Material Type');\r\n                        if (MaterialType.length > 0) {\r\n                            const nmaterialtypecode = newcomboData.selectedRecord[MaterialType[0].label] &&\r\n                                newcomboData.selectedRecord[MaterialType[0].label].value\r\n                            if (nmaterialtypecode !== undefined) {\r\n                                const MaterialCategory = comboComponents.filter(x => x.name === 'Material Category');\r\n                                if (MaterialCategory.length > 0) {\r\n                                    const nmaterialcatcode = newcomboData.selectedRecord[MaterialCategory[0].label] &&\r\n                                        newcomboData.selectedRecord[MaterialCategory[0].label].value\r\n                                    const ncategorybasedFlow = newcomboData.selectedRecord[MaterialCategory[0].label]\r\n                                        && newcomboData.selectedRecord[MaterialCategory[0].label]['item']['jsondata']['ncategorybasedflow'];\r\n                                    if (ncategorybasedFlow !== undefined) {\r\n                                        if (ncategorybasedFlow === 3) {\r\n                                            mapOfFilterRegData['nproductcode'] = -1;\r\n                                            mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n                                            const inputParam = {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                            dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                newcomboData.selectedRecord,\r\n                                                newcomboData.comboData, inputParam))\r\n                                        }\r\n                                        else {\r\n                                            const Material = comboComponents.filter(x => x.name === 'Material');\r\n                                            if (Material.length > 0) {\r\n                                                const nmaterialcode = newcomboData.selectedRecord[Material[0].label]\r\n                                                    && newcomboData.selectedRecord[Material[0].label].value;\r\n\r\n                                                mapOfFilterRegData['nproductcode'] = nmaterialcode !== undefined ? nmaterialcode : -1;\r\n                                                mapOfFilterRegData['nproductcatcode'] = nmaterialcatcode\r\n\r\n                                                const inputParam = {\r\n                                                    timeZoneList,\r\n                                                    defaultTimeZone,\r\n                                                    masterData,\r\n                                                    ncontrolcode: editId,\r\n                                                    openModal,\r\n                                                    comboComponents,\r\n                                                    withoutCombocomponent,\r\n                                                    openPortal,\r\n                                                    columnList,\r\n                                                    childColumnList,\r\n                                                    operation,\r\n                                                    screenName\r\n                                                }\r\n                                                dispatch(getTreeByProduct(mapOfFilterRegData,\r\n                                                    newcomboData.selectedRecord,\r\n                                                    newcomboData.comboData, inputParam))\r\n                                            } else {\r\n                                                dispatch({\r\n                                                    type: DEFAULT_RETURN,\r\n                                                    payload: {\r\n                                                        timeZoneList,\r\n                                                        defaultTimeZone,\r\n                                                        masterData,\r\n                                                        ncontrolcode: editId,\r\n                                                        openModal,\r\n                                                        loading: false,\r\n                                                        comboData: newcomboData.comboData,\r\n                                                        selectedRecord: newcomboData.selectedRecord,\r\n                                                        comboComponents,\r\n                                                        withoutCombocomponent,\r\n                                                        openPortal,\r\n                                                        columnList,\r\n                                                        childColumnList,\r\n                                                        operation,\r\n                                                        screenName\r\n                                                    }\r\n                                                })\r\n                                            }\r\n                                        }\r\n\r\n                                    } else {\r\n                                        dispatch({\r\n                                            type: DEFAULT_RETURN,\r\n                                            payload: {\r\n                                                timeZoneList,\r\n                                                defaultTimeZone,\r\n                                                masterData,\r\n                                                ncontrolcode: editId,\r\n                                                openModal,\r\n                                                loading: false,\r\n                                                comboData: newcomboData.comboData,\r\n                                                selectedRecord: newcomboData.selectedRecord,\r\n                                                comboComponents,\r\n                                                withoutCombocomponent,\r\n                                                openPortal,\r\n                                                columnList,\r\n                                                childColumnList,\r\n                                                operation,\r\n                                                screenName\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                } else {\r\n                                    dispatch({\r\n                                        type: DEFAULT_RETURN,\r\n                                        payload: {\r\n                                            timeZoneList,\r\n                                            defaultTimeZone,\r\n                                            masterData,\r\n                                            ncontrolcode: editId,\r\n                                            openModal,\r\n                                            loading: false,\r\n                                            comboData: newcomboData.comboData,\r\n                                            selectedRecord: newcomboData.selectedRecord,\r\n                                            comboComponents,\r\n                                            withoutCombocomponent,\r\n                                            openPortal,\r\n                                            operation,\r\n                                            screenName\r\n                                        }\r\n                                    })\r\n                                }\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN,\r\n                                payload: {\r\n                                    timeZoneList,\r\n                                    defaultTimeZone,\r\n                                    masterData,\r\n                                    ncontrolcode: editId,\r\n                                    openModal,\r\n                                    loading: false,\r\n                                    comboData: newcomboData.comboData,\r\n                                    selectedRecord: newcomboData.selectedRecord,\r\n                                    comboComponents,\r\n                                    withoutCombocomponent,\r\n                                    openPortal,\r\n                                    columnList,\r\n                                    childColumnList,\r\n                                    operation,\r\n                                    screenName\r\n                                }\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                    }\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getEditDynamicMasterCombo(inputParam, columnList,\r\n    selectedRecord1, childColumnList, comboComponents, withoutCombocomponent) {\r\n    return function (dispatch) {\r\n\r\n        console.log(\"input:\", inputParam);\r\n        dispatch(initRequest(true));\r\n        const { userInfo } = { ...inputParam };\r\n\r\n        let urlArray = [];\r\n\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        // const actualService = rsapi.post(\"dynamicpreregdesign/getComboValues\", {\r\n        //     parentcolumnlist: columnList,\r\n        //     childcolumnlist: childColumnList,\r\n        //     userinfo: inputParam.userInfo\r\n        // })\r\n        const selectedMaster = rsapi.post(\"/dynamicmaster/getActiveDynamicMasterById\", {\r\n            \"userinfo\": inputParam.userInfo,\r\n            [inputParam.primaryKeyField]: inputParam.primaryKeyValue,\r\n            parentcolumnlist: columnList,\r\n            childcolumnlist: childColumnList,\r\n        })\r\n\r\n        urlArray = [timeZoneService, selectedMaster]\r\n\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n               // let selectedRecord = { ...response[1].data };\r\n                let selectedRecord = { ...response[1].data[\"EditData\"] };\r\n                // selectedRecord = { ...selectedRecord, ...selectedRecord['jsondata'] }\r\n                console.log(\"selectedRecord:\", selectedRecord);\r\n\r\n                const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\", \"stimezoneid\", undefined, undefined, true);\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                const defaultTimeZone = { label: userInfo.stimezoneid, value: userInfo.ntimezonecode };\r\n\r\n                const languagetypeCode = undefined;\r\n                const comboData = response[1].data;\r\n                delete comboData['EditData']\r\n                let comboValues = {}\r\n                if (columnList.length > 0) {\r\n                    columnList.map(x => {\r\n                        if (x.inputtype === 'combo') {\r\n                            if (comboData[x.label] && comboData[x.label].length > 0) //&& comboData[x.label][0].hasOwnProperty(x.source) \r\n                            {\r\n                                if (comboData[x.label].length > 0) {\r\n                                    if (comboData[x.label][0].label === undefined) {\r\n                                        const optionList = constructjsonOptionList(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                        comboData[x.label] = optionList.get(\"OptionList\");\r\n                                    } else {\r\n                                        comboData[x.label] = comboData[x.label]\r\n                                        const optionList = constructjsonOptionDefault(comboData[x.label] || [], x.valuemember,\r\n                                            x.displaymember, false, false, true, undefined, x.source, x.isMultiLingual, languagetypeCode, x)\r\n                                    }\r\n                                } else {\r\n                                    comboData[x.label] = []\r\n                                }\r\n\r\n                                comboValues = childComboLoadForEdit(x, comboData, selectedRecord,\r\n                                    childColumnList, withoutCombocomponent)\r\n                            } else {\r\n                                comboValues = {\r\n                                    \"comboData\": comboData,\r\n                                }\r\n                            }\r\n                        } else {\r\n                            comboValues = {\r\n                                comboData: comboData,\r\n                                ...comboValues\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    comboValues = {\r\n                        \"comboData\": comboData,\r\n                    }\r\n                }\r\n\r\n                if (withoutCombocomponent.length > 0) {\r\n                    withoutCombocomponent.map(item => {\r\n                        if (item.inputtype === \"date\") {\r\n                            if (selectedRecord[item.label]) {\r\n                                selectedRecord = { ...selectedRecord, [item.label]: rearrangeDateFormatforUI(userInfo, selectedRecord[item.label]) }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        operation: \"update\",\r\n                        screenName: inputParam.screenName,\r\n                        timeZoneList,\r\n                        defaultTimeZone,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolCode,\r\n                        loading: false,\r\n                        comboData: comboValues.comboData,\r\n                        childColumnList, comboComponents,\r\n                        withoutCombocomponent,\r\n                        columnList,\r\n                        selectedId: inputParam.primaryKeyValue\r\n\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error:\", error);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({\r\n                        id: error.response.data\r\n                    }));\r\n                }\r\n            })\r\n\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}