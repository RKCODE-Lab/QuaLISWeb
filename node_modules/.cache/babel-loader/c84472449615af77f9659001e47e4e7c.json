{"ast":null,"code":"import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN,REQUEST_FAILURE}from'./LoginTypes';import{sortData,searchData,constructOptionList,fillRecordBasedOnCheckBoxSelection}from'../components/CommonScript';//getComboLabelValue,, searchData\nimport{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{intl}from'../components/App';export function comboChangeUserRoleScreenRights(selectedcombo,data,userInfo){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/screenrights/getScreenRightsByUserRoleCode\",{nuserrolecode:selectedcombo['nuserrolecode'].value,\"userinfo\":userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},data),response.data),{},{searchedData:undefined});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,skip:0,take:20}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(intl.formatMessage({id:error.message}));});};}export function getScreenRightsComboService(screenName,operation,userInfo,selectedcombo,ncontrolCode){return function(dispatch){if(operation===\"create\"){var urlArray=[];var AvaliableScreen=[];var ScreenRightsAvaliablescreen=rsapi.post(\"screenrights/getAvailableScreen\",{\"nuserrolecode\":selectedcombo[\"nuserrolecode\"]?selectedcombo[\"nuserrolecode\"].value:null,\"userinfo\":userInfo});urlArray=[ScreenRightsAvaliablescreen];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){// selectedRecord = response[0].data;\nAvaliableScreen=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{operation:operation,screenName:screenName,AvaliableScreen:AvaliableScreen,openModal:true,selectedcombo:selectedcombo,ncontrolCode:ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}};}export function getScreenRightsDetail(inputData,isServiceRequired){return function(dispatch){if(isServiceRequired){dispatch(initRequest(true));return rsapi.post(\"screenrights/getSingleSelectScreenRights\",{\"screenrights\":inputData.SelectedScreenRights,\"userinfo\":inputData.userinfo}).then(function(response){var dataState=inputData.dataState;if(response.data.ControlRights.length<dataState.skip){dataState['skip']=0;}var masterData=_objectSpread(_objectSpread(_objectSpread({},inputData.masterData),response.data),{},{SelectedScreenRights:inputData.SelectedScreenRights});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:dataState,skip:inputData.skip,take:inputData.take}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});}else{fillRecordBasedOnCheckBoxSelection(inputData.masterData,inputData.SelectedScreenRights,inputData.childTabsKey,inputData.checkBoxOperation,\"nuserrolescreencode\",inputData.removeElementFromArray);var masterData=_objectSpread(_objectSpread({},inputData.masterData),{},{SelectedScreenRights:inputData.SelectedScreenRights});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:undefined}});}};}export function handleClickDelete(SelectedScreenRights,userInfo,masterData,selectedcombo){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"screenrights/deleteScreenRights\",{\"screenrights\":SelectedScreenRights,\"userinfo\":userInfo,\"nuserrolecode\":selectedcombo[\"nuserrolecode\"].value}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);var dataState={skip:0,take:10};sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,dataState:dataState,skip:undefined,take:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function filterColumnData(filterValue,filterParam){return function(dispatch){var masterData=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){primaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];}}else{searchedData=searchData(filterValue,masterData[filterParam.inputListName]);if(searchedData.length>0){primaryKeyValue=searchedData[0][filterParam.primaryKeyField];}}if(primaryKeyValue!==0){masterData[\"searchedData\"]=searchedData;dispatch(initRequest(true));return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];Object.keys(masterData).forEach(function(item){if(item!==filterParam.inputListName&&item!==filterParam.selectedObject&&filterParam.unchangeList&&filterParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}};}export function getCopyUseRoleScreenRights(screenName,operation,ncontrolCode,selectedcombo,userInfo,masterData,saveType){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"screenrights/getUserRole\",{\"userinfo\":userInfo,\"nuserrolecode\":selectedcombo[\"nuserrolecode\"].value}).then(function(response){var roleMap=constructOptionList(response.data[\"Userrole\"]||[],\"nuserrolecode\",\"suserrolename\",false,false,true);masterData=_objectSpread(_objectSpread({},masterData),{},{Userrole:roleMap.get(\"OptionList\")});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,screenName:screenName,operation:operation,openModal:true,ncontrolCode:ncontrolCode,saveType:saveType,skip:undefined,take:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function copyScreenRights(userrolecode,nuserrolecode,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"screenrights/copyScreenRights\",{\"userrolecode\":userrolecode,\"nuserrolecode\":nuserrolecode,\"userinfo\":userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,loadEsign:false,openModal:false,skip:undefined,take:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false,openModal:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response}));}});};}export function checkUserRoleScreenRights(nuserrolecode,data,userInfo,selectedRecord){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"/screenrights/getCopyUserRoleCode\",{nuserrolecode:nuserrolecode,\"userinfo\":userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},data),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,openModal:true,loadEsign:false,selectedRecord:selectedRecord,skip:undefined,take:undefined}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.error(intl.formatMessage({id:error.message}));});};}export var reload=function reload(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"/screenrights/getScreenRightsByUserRoleCode\",{nuserrolecode:inputParam.nuserrolecode.nuserrolecode,\"userinfo\":inputParam.inputData.userinfo}).then(function(response){var data=response.data;var masterData=_objectSpread(_objectSpread({},inputParam.masterData),data);sortData(masterData);var selectedcombo={};selectedcombo[\"nuserrolecode\"]={value:inputParam.nuserrolecode.nuserrolecode,label:inputParam.nuserrolecode.suserrolename};//   const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { masterData: [], organisation: undefined, }\n//   }\n// dispatch(updateStore(updateInfo))\ndispatch({type:DEFAULT_RETURN,payload:{selectedcombo:selectedcombo,comboitem:inputParam.comboitem,masterData:masterData,activeTestTab:data.activeTestTab,inputParam:inputParam,masterStatus:\"\",userInfo:inputParam.inputData.userinfo,loading:false,selectedId:null,selectedRecord:{},dataState:undefined,organisation:{selectedNode:data.SelectedNode,selectedNodeName:data.SelectedNodeName,primaryKeyValue:data.AddedChildPrimaryKey},displayName:inputParam.displayName,reportFilePath:undefined,skip:0,take:20}});// }\n}).catch(function(error){if(error.response===undefined&&error===\"Network Error\"){dispatch({type:REQUEST_FAILURE,payload:{error:\"Network Error\",loading:false}});}});};};","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/ScreenRightsAction.js"],"names":["rsapi","DEFAULT_RETURN","REQUEST_FAILURE","sortData","searchData","constructOptionList","fillRecordBasedOnCheckBoxSelection","toast","Axios","initRequest","intl","comboChangeUserRoleScreenRights","selectedcombo","data","userInfo","dispatch","post","nuserrolecode","value","then","response","masterData","searchedData","undefined","type","payload","loading","skip","take","catch","error","formatMessage","id","message","getScreenRightsComboService","screenName","operation","ncontrolCode","urlArray","AvaliableScreen","ScreenRightsAvaliablescreen","all","openModal","status","warn","getScreenRightsDetail","inputData","isServiceRequired","SelectedScreenRights","userinfo","dataState","ControlRights","length","childTabsKey","checkBoxOperation","removeElementFromArray","handleClickDelete","filterColumnData","filterValue","filterParam","primaryKeyValue","inputListName","primaryKeyField","fetchUrl","fecthInputObject","selectedObject","Object","keys","forEach","item","unchangeList","indexOf","modalName","getCopyUseRoleScreenRights","saveType","roleMap","Userrole","get","copyScreenRights","userrolecode","loadEsign","checkUserRoleScreenRights","selectedRecord","reload","inputParam","label","suserrolename","comboitem","activeTestTab","masterStatus","selectedId","organisation","selectedNode","SelectedNode","selectedNodeName","SelectedNodeName","AddedChildPrimaryKey","displayName","reportFilePath"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN, REQUEST_FAILURE } from './LoginTypes';\r\nimport { sortData, searchData, constructOptionList, fillRecordBasedOnCheckBoxSelection } from '../components/CommonScript'//getComboLabelValue,, searchData\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\n\r\n\r\nexport function comboChangeUserRoleScreenRights(selectedcombo, data, userInfo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/screenrights/getScreenRightsByUserRoleCode\", { nuserrolecode: selectedcombo['nuserrolecode'].value, \"userinfo\": userInfo })\r\n            .then(response => {\r\n                const masterData = { ...data, ...response.data ,searchedData: undefined}\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, loading: false,skip:0,take:20\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            });\r\n    }\r\n}\r\n\r\nexport function getScreenRightsComboService(screenName, operation, userInfo, selectedcombo, ncontrolCode) {\r\n    return function (dispatch) {\r\n        if (operation === \"create\") {\r\n            let urlArray = [];\r\n            let AvaliableScreen = [];\r\n            const ScreenRightsAvaliablescreen = rsapi.post(\"screenrights/getAvailableScreen\", { \"nuserrolecode\": selectedcombo[\"nuserrolecode\"] ? selectedcombo[\"nuserrolecode\"].value : null, \"userinfo\": userInfo });\r\n            urlArray = [ScreenRightsAvaliablescreen];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    // selectedRecord = response[0].data;\r\n                    AvaliableScreen = response[0].data;\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            operation, screenName, AvaliableScreen, openModal: true, selectedcombo,\r\n                            ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n\r\n    }\r\n}\r\nexport function getScreenRightsDetail(inputData, isServiceRequired) {\r\n    return function (dispatch) {\r\n        if (isServiceRequired) {\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"screenrights/getSingleSelectScreenRights\", {\r\n                \"screenrights\": inputData.SelectedScreenRights,\r\n                \"userinfo\": inputData.userinfo\r\n            })\r\n                .then(response => {\r\n                    let dataState = inputData.dataState\r\n                    if (response.data.ControlRights.length < dataState.skip) {\r\n                        dataState['skip']=0\r\n                    }\r\n                    const masterData = { ...inputData.masterData, ...response.data, SelectedScreenRights: inputData.SelectedScreenRights };\r\n                    sortData(masterData);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false, dataState,skip:inputData.skip,take:inputData.take } });\r\n                }).catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({ id: error.response }));\r\n                    }\r\n                })\r\n        } else {\r\n\r\n            fillRecordBasedOnCheckBoxSelection(inputData.masterData, inputData.SelectedScreenRights, inputData.childTabsKey, inputData.checkBoxOperation, \"nuserrolescreencode\",inputData.removeElementFromArray);\r\n            let masterData={...inputData.masterData,SelectedScreenRights:inputData.SelectedScreenRights}\r\n            dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false, dataState: undefined } });\r\n        }\r\n\r\n    }\r\n}\r\nexport function handleClickDelete(SelectedScreenRights, userInfo, masterData, selectedcombo) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"screenrights/deleteScreenRights\", {\r\n            \"screenrights\": SelectedScreenRights,\r\n            \"userinfo\": userInfo, \"nuserrolecode\": selectedcombo[\"nuserrolecode\"].value\r\n        })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data };\r\n\r\n              const dataState={skip:0,take:10}\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false,dataState,skip:undefined,take:undefined } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function filterColumnData(filterValue, filterParam) {\r\n    return function (dispatch) {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            searchedData = searchData(filterValue, masterData[filterParam.inputListName]);\r\n\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        if (primaryKeyValue !== 0) {\r\n            masterData[\"searchedData\"] = searchedData;\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData = { ...masterData, ...response.data };\r\n                    sortData(masterData);\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            dispatch({\r\n                type: DEFAULT_RETURN, payload: {\r\n                    masterData, operation: null, modalName: undefined,\r\n                    loading: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nexport function getCopyUseRoleScreenRights(screenName, operation, ncontrolCode, selectedcombo, userInfo, masterData, saveType) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"screenrights/getUserRole\", {\r\n            \"userinfo\": userInfo, \"nuserrolecode\": selectedcombo[\"nuserrolecode\"].value\r\n        })\r\n            .then(response => {\r\n                const roleMap = constructOptionList(response.data[\"Userrole\"] || [], \"nuserrolecode\", \"suserrolename\", false, false, true);\r\n                masterData = { ...masterData, Userrole: roleMap.get(\"OptionList\") };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false, screenName, operation, openModal: true, ncontrolCode, saveType: saveType,skip:undefined,take:undefined} });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n}\r\n\r\nexport function copyScreenRights(userrolecode, nuserrolecode, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"screenrights/copyScreenRights\", {\r\n            \"userrolecode\": userrolecode,\r\n            \"nuserrolecode\": nuserrolecode,\r\n            \"userinfo\": userInfo\r\n        })\r\n            .then(response => {\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false, loadEsign: false, openModal: false,skip:undefined,take:undefined } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false, openModal: false, } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({ id: error.response }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function checkUserRoleScreenRights(nuserrolecode, data, userInfo, selectedRecord) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"/screenrights/getCopyUserRoleCode\", { nuserrolecode: nuserrolecode, \"userinfo\": userInfo })\r\n            .then(response => {\r\n                const masterData = { ...data, ...response.data }\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, loading: false, openModal: true, loadEsign: false, selectedRecord,skip:undefined,take:undefined\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n            });\r\n    }\r\n}\r\n\r\nexport const reload = (inputParam) => {\r\n    return (dispatch) => {\r\n      dispatch(initRequest(true));\r\n      return rsapi.post(\"/screenrights/getScreenRightsByUserRoleCode\", { nuserrolecode: inputParam.nuserrolecode.nuserrolecode, \"userinfo\": inputParam.inputData.userinfo })\r\n        .then(response => {\r\n          \r\n          let data = response.data;\r\n          let masterData={...inputParam.masterData,...data}\r\n          sortData(masterData);\r\n\r\n          let selectedcombo={};\r\n          selectedcombo[\"nuserrolecode\"]={value:inputParam.nuserrolecode.nuserrolecode,label:inputParam.nuserrolecode.suserrolename} \r\n      \r\n        //   const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: { masterData: [], organisation: undefined, }\r\n        //   }\r\n         // dispatch(updateStore(updateInfo))\r\n  \r\n          dispatch({\r\n            type: DEFAULT_RETURN,\r\n            payload: {\r\n                selectedcombo,\r\n                comboitem:inputParam.comboitem,\r\n              masterData: masterData,\r\n              activeTestTab: data.activeTestTab,\r\n              inputParam: inputParam,\r\n              masterStatus: \"\",\r\n              userInfo: inputParam.inputData.userinfo,\r\n              loading: false, selectedId: null, selectedRecord: {},\r\n              dataState: undefined,\r\n              organisation: {\r\n                selectedNode: data.SelectedNode, selectedNodeName: data.SelectedNodeName,\r\n                primaryKeyValue: data.AddedChildPrimaryKey\r\n              },\r\n              displayName: inputParam.displayName,\r\n              reportFilePath: undefined,skip:0,take:20\r\n            }\r\n          })\r\n          // }\r\n  \r\n        })\r\n        .catch(error => {\r\n          if (error.response === undefined && error === \"Network Error\") {\r\n            dispatch({\r\n              type: REQUEST_FAILURE,\r\n              payload: {\r\n                error: \"Network Error\",\r\n                loading: false,\r\n              }\r\n            });\r\n          } \r\n        })\r\n    };\r\n  };\r\n  "]},"metadata":{},"sourceType":"module"}