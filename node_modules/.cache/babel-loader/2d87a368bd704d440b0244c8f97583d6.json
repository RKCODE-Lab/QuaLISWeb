{"ast":null,"code":"import _createForOfIteratorHelper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button,FormControl}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import PerfectScrollbar from'react-perfect-scrollbar';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight,faSearch,faTimes,faArrowDown,faHandPointLeft,faArrowUp,faClone,faFileImport,faEye,faInfoCircle}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel,SearchIcon}from'../../components/App.styles';//import SortableTree from 'react-sortable-tree'; \nimport ScrollBar from'react-perfect-scrollbar';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,filterColumnData,changeStorageCategoryFilter,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,fetchStorageCategory,copySampleStorageVersion,crudSampleStorageLocation,additionalInformationData}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import TreeEditable from\"../../components/form-tree-editable/TreeEditable\";import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{getItemPath,mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import AddTreeview from'./AddTreeview';import AddTreeProperties from'./AddTreeProperties';import{Splitter}from'@progress/kendo-react-layout';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';import StorageCategoryFilter from'./StorageCategoryFilter';import{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';import{TreeViewDragAnalyzer,moveTreeViewItem}from'@progress/kendo-react-treeview';import{ReactComponent as RefreshIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/refresh.svg\";import ModalShow from'../../components/ModalShow';import{//faBell, \nfaChevronDown,faChevronUp,faExclamationCircle}from'@fortawesome/free-solid-svg-icons';import{Grid}from'@progress/kendo-react-grid';import Axios from'axios';import rsapi from'../../rsapi';//import { Upload } from '@progress/kendo-react-upload';\nvar SampleStorageLocation=/*#__PURE__*/function(_Component){_inherits(SampleStorageLocation,_Component);var _super=_createSuper(SampleStorageLocation);function SampleStorageLocation(_props){var _this$state;var _this;_classCallCheck(this,SampleStorageLocation);_this=_super.call(this,_props);_this.dragOverCnt=0;_this.isDragDrop=false;_this.SEPARATOR='_';_this.uniqueIDArr=[];_this.countforTree=0;_this.pointedItem=undefined;_this.getitemPath={};_this.onChange=function(event){_this.setState({panes:event.newState});};_this.getSiblings=function(itemIndex,data){var result=data;var indices=itemIndex.split(_this.SEPARATOR).map(function(index){return Number(index);});for(var i=0;i<indices.length-1;i++){result=result[indices[i]].items||[];}return result;};_this.onItemDragOver=function(event){_this.dragOverCnt++;_this.dragClue.show(event.pageY+10,event.pageX,event.item.text,_this.getClueClassName(event));};_this.onItemDragEnd=function(event){_this.isDragDrop=_this.dragOverCnt>0;_this.dragOverCnt=0;_this.dragClue.hide();var eventAnalyzer=new TreeViewDragAnalyzer(event).init();if(eventAnalyzer.isDropAllowed){var updatedTree=moveTreeViewItem(event.itemHierarchicalIndex,_this.state.treeData,eventAnalyzer.getDropOperation()||'child',eventAnalyzer.destinationMeta.itemHierarchicalIndex);_this.setState({tree:updatedTree});}};_this.addChildNode=function(e,clickedItem){var iscontainerlastnode=false;var ParentItem=_this.searchClickedItemParent(_this.state.treeData[0]);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){if(item['containerlastnode']===true){iscontainerlastnode=true;}else{item.items=item.items||[];item.expanded=true;item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}}return item;});if(iscontainerlastnode===true){toast.info(_this.props.intl.formatMessage({id:\"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\"}));}else{_this.setState({treeData:newData});}};_this.cloneNode=function(e,clickedItem){var parentItem={};var parentID='';var clonedParentID='';var parentFound=false;var cloneItems={};var clonedparentFound=false;var newData=_toConsumableArray(_this.state.treeData);var newData1=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){// if (item.items) {\n//     if (parentFound&&(item.id===parentID)) {\n//         parentItem = item;\n//         parentFound = false;\n//     }\n// }\nif(item.id===clickedItem.id){parentFound=true;parentID=clickedItem.parentID;parentItem=_this.searchClickedItemParent(_this.state.treeData[0]);}if(item.editable===true){clonedParentID=uuid();var clonedNewParentID=uuid();//     //  let clonedObject=//{...item}\n//     //   Object.assign({}, item);\n//       const clonedObject = JSON.parse(JSON.stringify(item1));\n//      cloneItems =//[{...clonedObject}].map((data) => {\n//       // return \n//        this.generateUUID(clonedObject)\n//    // })\nvar levelBasedParents={};cloneItems=mapTree([_objectSpread({},item)],\"items\",function(cloneditem){// const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\n// let x=getItemPath(this.state.treeData,indices,\"items\")\n// console.log('------------->',cloneditem)\n// if(cloneditem.items===undefined&&clonedparentFound){\n//     clonedParentID=uuid();\n//     clonedparentFound=false;\n// }\n// else{\n//     clonedNewParentID=uuid();\n// }\n// if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\n//     let level=cloneditem.itemHierarchicalIndex;\n//     levelBasedParents={...levelBasedParents,\n//                         [level]:uuid()\n//                     }\n// }\n// if(cloneditem.items){\n//      //if ClonedItem is a Parent\n//     cloneditem={\n//         ...cloneditem,\n//         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\n//         ,\n//         'id':clonedParentID,\n//         'editable': false \n//     } \n//     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n//     //  clonedParentID=uuid()//clonedNewParentID;\n//     // clonedparentFound=true;\n// }else{\n//if ClonedItem is a Child\ncloneditem=_objectSpread(_objectSpread({},cloneditem),{},{//'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\n// ,\n'id':uuid(),'editable':false,'expanded':false//   }\n//  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\n});return cloneditem;});}// item={\n//    ...item,\n//     'id':uuid(),\n//   'editable': false \n//     } \nreturn item;});if(parentItem===undefined){return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ROOTNODECANNOTBEDELETED\"}));}var count=1;newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){count++;item.items.push(// {\n// ...cloneItem,\n// 'id':uuid(),\n// 'editable': false,\n// 'text': cloneItem['text']+'('+count+')'\n// } \n_objectSpread(_objectSpread({},cloneItems[0]),{},{'parentID':parentID// 'id':clonedParentID\n}));}return item;});_this.setState({treeData:newData});};_this.equalNode=function(e,clickedItem){var parentItem={};var parentFound=false;var newData=_toConsumableArray(_this.state.treeData);mapTree(_this.state.treeData,\"items\",function(item){if(item.items){if(parentFound){parentItem=item;parentFound=false;}}if(item.id===clickedItem.id){parentFound=true;}return item;});if(parentItem.text===undefined){newData.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});_this.setState({treeData:newData});}else{newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===parentItem.id){item.items.push({id:uuid(),text:_this.props.intl.formatMessage({id:\"IDS_LABEL\"}),expanded:true,editable:false,locationlastnode:false,containerfirstnode:false,containerlastnode:false,itemhierarchy:\"\"});}return item;});_this.setState({treeData:newData});}};_this.deleteNode=function(clickedItem){if(clickedItem.root&&clickedItem.root===true){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PARENTNODENOTALLOWTODELETE\"}));}else{var newData=removeItems(_this.state.treeData,\"items\",function(item){return item.id===clickedItem.id;});_this.setState({treeData:newData});}};_this.editRecord=function(e,clickedItem){_this.setState({toggleAction:!_this.state.toggleAction});};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModalShow=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{loadTreeProperties:false}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\nvar loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Approve\"||_this.props.Login.operation===\"copy\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId,isView:false}};_this.props.updateStore(updateInfo);};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){if(event.target.checked&&event.target.name==='nneedposition'){selectedRecord['ncontainertypecode']&&delete selectedRecord['ncontainertypecode'];selectedRecord['ncontainerstructurecode']&&delete selectedRecord['ncontainerstructurecode'];selectedRecord['containerStructureOptions']&&delete selectedRecord['containerStructureOptions'];selectedRecord['nrow']&&delete selectedRecord['nrow'];selectedRecord['ncolumn']&&delete selectedRecord['ncolumn'];selectedRecord['ndirectionmastercode']&&delete selectedRecord['ndirectionmastercode'];//  selectedRecord['nquantity'] = this.calculateRowColumn(selectedRecord['nrow'], selectedRecord['ncolumn']);\n}selectedRecord[event.target.name]=event.target.checked;if(event.target.checked===false&&event.target.name==='nneedposition'){selectedRecord['nrow']=1;selectedRecord['ncolumn']=1;selectedRecord['nnoofcontainer']=1;}}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.itemRender=function(props){if(_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,props.item.editable?/*#__PURE__*/React.createElement(Form.Group,{className:\"k-editable-text-wrap\"},/*#__PURE__*/React.createElement(Form.Control,{id:\"nodename\",name:\"nodename\",type:\"text\",onKeyDown:function onKeyDown(e){return e.stopPropagation();},value:props.item.text,autoFocus:true,autoComplete:\"off\",onChange:function onChange(e){return _this.handleChange(e,props.item);},onBlur:function onBlur(e){return _this.handleBlur(e,props.item,props.itemHierarchicalIndex);},maxLength:\"50\"})):/*#__PURE__*/React.createElement(\"span\",null,props.item.text));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,props.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node text-truncate\\n                            \".concat(props.item.editable?\"active-node\":\"\",\"\\n                            \").concat(props.item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \"),\"data-tip\":props.item.text},props.item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):props.item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):props.item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):props.item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),props.item.text),props.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CHILDNODE\"}),onClick:function onClick(e){e.stopPropagation();_this.addChildNode(e,props.item);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-edit k-i-pencil ml-2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){e.stopPropagation();_this.editRecord(e,props.item);}}),!props.item.isRoot?/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-delete ml-2\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(e){e.stopPropagation();_this.deleteNode(props.item);}}):null,/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-toggle m-l-half\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_PROPERTIES\"}),onClick:function onClick(e){return _this.setProperties(e,props);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"action-icon tree-level1\",\"data-tip\":_this.props.intl.formatMessage({id:\"IDS_CLONENODE\"}),onClick:function onClick(e){e.stopPropagation();_this.cloneNode(e,props.item);}})):null)):\"\");}};_this.onItemClick=function(event){// if (selectedItem) {\n//     selectedItem.editable = false;\n//   }\n//   event.item.editable = true;\n//   selectedItem = event.item; \n// let searchedData =undefined;\n// if(this.state.searchedTreeData){\n//      searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\n//         if (item1.editable === true) {\n//             item1.editable = false;\n//         } else if (item1.id === event.item.id) {\n//             item1.editable = true;\n//         }\n//         return item1;\n//     });\n// } \n// let newData = mapTree(this.state.treeData, \"items\", (item) => {\n//     if (item.editable === true) {\n//         item.editable = false;\n//     } else if (item.id === event.item.id) {\n//         item.editable = true;\n//     }\n//     return item;\n// });\n// this.setState({ treeData: newData,searchedTreeData: searchedData  }); \nvar searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;if(_this.pointedItem){if(_this.pointedItem.id===item.id){_this.pointedItem=undefined;}}var result=_this.state.searchedTreeData;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});searchedData.map(function(data){_this.clearSelected(data,event.item);});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;var result=_this.state.treeData;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});newData.map(function(data){_this.clearSelected(data,event.item);});_this.setState({treeData:newData,searchedTreeData:searchedData});};_this.toggleSearch=function(){_this.setState({showSearch:!_this.state.showSearch});};_this.clearSearchedState=function(){_this.setState({searchedTreeData:undefined,showSearch:false});};_this.navigationCounter=function(){var counter=_this.state.counter||0;return counter;};_this.handleSearch=function(){_this.uniqueIDArr=[];_this.pointedItem=undefined;_this.countforTree=0;//this.setState({searchedTreeData: undefined})\n};_this.search=function(items,term){return items.reduce(function(acc,item){if(_this.contains(item.text,term)){_this.uniqueIDArr.push(item.id);acc.push(item);}else if(item.items&&item.items.length>0){var newItems=_this.search(item.items,term);if(newItems&&newItems.length>0){acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:acc.length===0?true:false//item.expanded\n}));}}return acc;},[]);};_this.handlenavigation=function(e,direction){if(e.key==='Enter'||e.type==='click'){var value=document.querySelector('.k-textbox').value;if(value!==\"\"){if(direction==='up'){//Navigate up\n_this.countforTree--;if(_this.countforTree<=0){_this.countforTree=0;}}else{//if(direction==='down'){\n//Navigate down\n_this.countforTree++;if(_this.countforTree>=_this.uniqueIDArr.length){if(_this.uniqueIDArr.length-1===-1){_this.countforTree=0;}else{_this.countforTree=_this.uniqueIDArr.length-1;}//toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\n}}var newData=_this.navigateSearchedTree(_this.state.treeDataView,value);_this.setState({searchedTreeData:JSON.parse(JSON.stringify(newData))});}else{_this.setState({searchedTreeData:undefined});}}};_this.navigateSearchedTree=function(items,term){return items.reduce(function(acc,item){if(item.editable){item.editable=false;}if(item.selected){item.selected=false;}if(_this.contains(item.text,term)){if(!_this.uniqueIDArr.includes(item.id)){_this.uniqueIDArr.push(item.id);}if(item.id===_this.uniqueIDArr[_this.countforTree]){if(_this.pointedItem){_this.pointedItem=undefined;}_this.pointedItem=item;}if(item.items&&item.items.length>0){var newItems=_this.navigateSearchedTree(item.items,term);if(newItems&&newItems.length>0){if(newItems.some(function(item){return item.id===_this.uniqueIDArr[_this.countforTree];})){acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:true}));}else{acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:newItems,expanded:newItems.some(function(item){return item.expanded===true;})?true:false}));}}else{acc.push(item);}}else{acc.push(item);}}else if(item.items&&item.items.length>0){var _newItems=_this.navigateSearchedTree(item.items,term);if(_newItems&&_newItems.length>0){if(_newItems.some(function(item){return item.id===_this.uniqueIDArr[_this.countforTree];})){acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:_newItems,expanded:true}));}else{acc.push(_objectSpread(_objectSpread({},item),{},{text:item.text,items:_newItems,expanded:_newItems.some(function(item){return item.expanded===true;})?true:false}));}}}return acc;},[]);};_this.contains=function(text,term){return text.toLowerCase().indexOf(term.toLowerCase())>=0;};_this.onExpandChange=function(event){var clickedItem=event.item;if(!event.item.expanded){//this.onItemClick(event)\nvar ParentItem=_this.searchClickedItemParent(//this.state.searchedTreeData&&\n//this.state.searchedTreeData[0]||\n_this.state.treeData[0],clickedItem);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}_this.shrinkNodes(event.item);}event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;_this.getitemPath=_objectSpread(_objectSpread({},_this.getitemPath),{},_defineProperty({},item.id,clickedItem.itemHierarchicalIndex));if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex align-items-center\"},_this.pointedItem?item.id===_this.pointedItem.id&&!item.selected?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"hidden-treeview-focus\",id:\"selected-tree-point\"})):/*#__PURE__*/React.createElement(React.Fragment,null):'',/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node text-truncate\\n                                \".concat(_this.pointedItem?item.id===_this.pointedItem.id&&!item.selected?\"pointed-node\":item.selected?\"active-node\":\"\":item.selected?\"active-node\":\"\",\"\\n                                \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                                \"),\"data-tip\":item.text},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text),_this.pointedItem&&item.id===_this.pointedItem.id?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faHandPointLeft,bounce:true}):clickedItem.item.editable?/*#__PURE__*/React.createElement(React.Fragment,null):null)):\"\");}};_this.onItemClickView=function(event){// if (this.state.selectedItem) {\n//     let selectedobj = this.state.selectedItem;\n//         selectedobj.selected = false\n//     this.setState({\n//         selectedItem : selectedobj\n//     })\n// }\n// this.setState({\n//     selectedItem : event.item\n// })             \nvar searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;if(_this.pointedItem){if(_this.pointedItem.id===item.id){_this.pointedItem=undefined;}}var result=_this.state.searchedTreeData;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});searchedData.map(function(data){_this.clearSelected(data,event.item);});}var newData=mapTree(_this.state.treeDataView,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length;i++){if(i===0){result=result[0];}else{result=result.items[indices[i]];}itemText=i>0?itemText+\" > \"+result.text:result.text;}item.itemhierarchy=itemText;}return item;});newData.map(function(data){_this.clearSelected(data,event.item);});_this.setState({treeDataView:newData,searchedTreeData:searchedData});};_this.onExpandChangeView=function(event){var clickedItem=event.item;if(!event.item.expanded){//this.onItemClick(event)\nvar ParentItem=_this.searchClickedItemParent(_this.state.searchedTreeData&&_this.state.searchedTreeData[0]||_this.state.treeDataView[0],clickedItem);if(ParentItem){ParentItem.items.map(function(item){item.expanded=false;});}_this.shrinkNodes(event.item);}event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.setProperties=function(event,clickedItem){var editId=_this.state.controlMap.has(\"Edit SampleStorageLocation\")&&_this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;//this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\n_this.openPropertyModal(clickedItem,editId);};_this.handleChange=function(e,clickedItem){var searchedData=undefined;if(_this.state.searchedTreeData){searchedData=mapTree(_this.state.searchedTreeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});}var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===clickedItem.id){item.text=e.target.value;}return item;});_this.setState({treeData:newData,searchedTreeData:searchedData});};_this.handleBlur=function(e,clickedItem,itemHierarchicalIndex){clickedItem.editable=false;//Added for creating path after edit \nvar indices=itemHierarchicalIndex.split('_').map(function(index){return Number(index);});_this.generatePathForEditedItem(clickedItem,indices);_this.setState({toggleAction:!_this.state.toggleAction});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else if(_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\"){_this.onSaveSampleStorageLocation(saveType,formRef);}else if(_this.props.Login.operation===\"addinfo\"){_this.onSaveAdditionalInformation(saveType,formRef);}};_this.onSaveProperties=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\nif(_this.props.Login.clickedItem&&_this.props.Login.clickedItem!==undefined){var inputData=[];var jsondata={};var postParam=undefined;var count=0;if(selectedRecord[\"locationlastnode\"]!==undefined&&selectedRecord[\"locationlastnode\"]===true){count=count+1;}if(selectedRecord[\"containerfirstnode\"]!==undefined&&selectedRecord[\"containerfirstnode\"]===true){count=count+1;}if(selectedRecord[\"containerlastnode\"]!==undefined&&selectedRecord[\"containerlastnode\"]===true){count=count+1;}if(count>1){toast.info(_this.props.intl.formatMessage({id:\"IDS_SELECTONLYONE\"}));}else{var haschild=false;var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.id===_this.props.Login.clickedItem.item.id){if(item.hasOwnProperty('items')&&item.items!==undefined&&selectedRecord[\"containerlastnode\"]===true){haschild=true;}else{item.locationlastnode=selectedRecord[\"locationlastnode\"]!==undefined?selectedRecord[\"locationlastnode\"]:false;item.containerfirstnode=selectedRecord[\"containerfirstnode\"]!==undefined?selectedRecord[\"containerfirstnode\"]:false;item.containerlastnode=selectedRecord[\"containerlastnode\"]!==undefined?selectedRecord[\"containerlastnode\"]:false;}}if(item.selected&&item.selected===true){item.selected=false;}return item;});if(haschild===true){toast.info(_this.props.intl.formatMessage({id:\"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\"}));}else{var updateInfo={typeName:DEFAULT_RETURN,data:{treeData:newData,selectedRecord:selectedRecord,loadTreeProperties:false,loading:false}};_this.props.updateStore(updateInfo);}}}// } else {\n//     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\n// }\n};_this.onSaveSampleStorageLocation=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;// if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\n//     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\nvar inputData=[];var jsondata={};var postParam=undefined;var countLevels=0;var newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}if(item.expanded===false){item.expanded=true;}item.expanded=false;countLevels++;return item;});// let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\n// let rhs = newData;\n// console.log(detailedDiff(lhs, rhs));\n// return;\n// postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\nif(countLevels>3){jsondata[\"data\"]=newData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=selectedRecord[\"ssamplestoragelocationname\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=selectedRecord[\"nstoragecategorycode\"].value;if(_this.props.Login.operation===\"create\"){inputData[\"sampleStorageLocation\"][\"nproductcode\"]=selectedRecord[\"nproductcode\"]&&selectedRecord[\"nproductcode\"].value?selectedRecord[\"nproductcode\"].value:-1;inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"]=selectedRecord[\"nprojecttypecode\"]&&selectedRecord[\"nprojecttypecode\"].value?selectedRecord[\"nprojecttypecode\"].value:-1;inputData[\"sampleStorageLocation\"][\"nquantity\"]=selectedRecord['nquantity']?parseInt(selectedRecord['nquantity']):0;inputData[\"sampleStorageLocation\"][\"nunitcode\"]=selectedRecord['nunitcode']?parseInt(selectedRecord['nunitcode']):-1;inputData[\"sampleStorageLocation\"][\"nneedautomapping\"]=selectedRecord[\"nneedautomapping\"]?3:4;inputData[\"sampleStorageLocation\"]=selectedRecord['nneedposition']===true?_objectSpread(_objectSpread({},inputData[\"sampleStorageLocation\"]),{},{ncontainertypecode:selectedRecord['ncontainertypecode'].value?selectedRecord['ncontainertypecode'].value:-1,ndirectionmastercode:selectedRecord['ndirectionmastercode'].value,nneedposition:3,ncontainerstructurecode:selectedRecord['ncontainerstructurecode'].value?selectedRecord['ncontainerstructurecode'].value:-1,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']}):_objectSpread(_objectSpread({},inputData[\"sampleStorageLocation\"]),{},{ncontainertypecode:-1,ndirectionmastercode:1,nneedposition:4,ncontainerstructurecode:-1,nnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,//ALPD-3353\nnrow:selectedRecord['nrow']===undefined||selectedRecord['nrow']===0?1:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']===undefined||selectedRecord['ncolumn']===0?1:selectedRecord['ncolumn']});}inputData[\"sampleStorageVersion\"][\"jsondata\"]=jsondata;if(_this.props.Login.operation===\"create\"){var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"create\",saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");// }\n// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}else{inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];// inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"].value\n// inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"].value\ninputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];var _inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"update\",saveType:saveType,formRef:formRef};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam,masterData:_masterData},saveType:saveType}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam,_this.props.Login.masterData,\"openModal\");// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\n}}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_CREATEATLEASTFOURLEVELS\"}));}};_this.onSaveAdditionalInformation=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var inputData=[];inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"]=selectedRecord[\"nprojecttypecode\"]&&selectedRecord[\"nprojecttypecode\"].value?selectedRecord[\"nprojecttypecode\"].value:-1;inputData[\"sampleStorageLocation\"][\"nunitcode\"]=selectedRecord[\"nunitcode\"]&&selectedRecord[\"nunitcode\"].value?selectedRecord[\"nunitcode\"].value:-1;inputData[\"sampleStorageLocation\"][\"nquantity\"]=selectedRecord[\"nquantity\"]&&selectedRecord[\"nquantity\"]?parseFloat(selectedRecord[\"nquantity\"]):0;inputData[\"sampleStorageLocation\"][\"nproductcode\"]=selectedRecord[\"nproductcode\"]&&selectedRecord[\"nproductcode\"].value?selectedRecord[\"nproductcode\"].value:-1;inputData[\"sampleStorageLocation\"][\"nneedautomapping\"]=selectedRecord[\"nneedautomapping\"]?3:4;inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode?_this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode:0;inputData[\"sampleStorageLocation\"]=selectedRecord['nneedposition']===true?_objectSpread(_objectSpread({},inputData[\"sampleStorageLocation\"]),{},{ncontainertypecode:selectedRecord['ncontainertypecode'].value?selectedRecord['ncontainertypecode'].value:-1,ndirectionmastercode:selectedRecord['ndirectionmastercode'].value,nneedposition:3,ncontainerstructurecode:selectedRecord['ncontainerstructurecode'].value?selectedRecord['ncontainerstructurecode'].value:-1,// nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 1,\nnnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']}):_objectSpread(_objectSpread({},inputData[\"sampleStorageLocation\"]),{},{ncontainertypecode:-1,ndirectionmastercode:1,nneedposition:4,ncontainerstructurecode:-1,// nquantity: selectedRecord['nquantity'] ?  parseInt(selectedRecord['nquantity']) : 1,\nnnoofcontainer:selectedRecord['nnoofcontainer']?parseInt(selectedRecord['nnoofcontainer']):1,nrow:selectedRecord['nrow'],ncolumn:selectedRecord['ncolumn']});var inputParam={classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:\"addinfo\",saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.deleteSampleStorageLocation=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];inputData[\"sampleStorageVersion\"]={};inputData[\"sampleStorageLocation\"]={};inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=_this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"]=_this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"];var inputParam={methodUrl:\"SampleStorageLocation\",classUrl:\"samplestoragelocation\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;// this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.confirmDelete=function(ncontrolCode){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageLocation(ncontrolCode);});};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.calculateRowColumn=function(Row,column){var nnoofcontainer=Row*column;return nnoofcontainer;};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;if(_this.searchRef.current){_this.searchRef.current.value=\"\";}_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else{if(fieldName==='nstoragecategorycode'){_this.getSampleStorageLocation({userinfo:_this.props.userInfo,nstoragecategorycode:comboData.value},fieldName,comboData);}else if(fieldName==='ncontainertypecode'){_this.getContainerStructure({userinfo:_this.props.userInfo,ncontainertypecode:comboData.value},fieldName,comboData);}else if(fieldName==='ncontainerstructurecode'){selectedRecord['nrow']=comboData.item.nrow?comboData.item.nrow:1;selectedRecord['ncolumn']=comboData.item.ncolumn?comboData.item.ncolumn:1;selectedRecord['nnoofcontainer']=selectedRecord[\"nneedposition\"]===true?_this.calculateRowColumn(selectedRecord['nrow'],selectedRecord['ncolumn']):1;}else if(fieldName==='nsamplestoragelocationcode'){_this.getSampleStorageLocation({userinfo:_this.props.userInfo,nstoragecategorycode:_this.props.selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value},fieldName,comboData);}selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilter(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.onApproveSampleStorageLocation=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];var locationEnd=false;var storageStart=false;var storageEnd=false;var containers=[];var containerpath=[];var containerlastnode=[];mapTree(_this.state.treeDataView//this.state.treeData\n,\"items\",function(item){if(item.locationlastnode===true){locationEnd=true;}if(item.containerfirstnode===true){storageStart=true;containers.push({itemHierarchy:item.itemhierarchy,scontainercode:item.id});}if(item.containerlastnode===true){storageEnd=true;containerpath.push({scontainerpath:item.itemhierarchy});containerlastnode.push(item.text);}return null;});// if (locationEnd === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\n//     return;\n// }\n// if (storageStart === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\n//     return;\n// }\n// if (storageEnd === false) {\n//     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\n//     return;\n// }\nvar masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"containers\"]=containers;inputData[\"containerpath\"]=JSON.stringify(containerpath);inputData[\"containerpathsize\"]=containerpath.length;inputData[\"containerlastnode\"]=JSON.stringify(containerlastnode);inputData[\"propertyValidation\"]={\"locationEnd\":locationEnd,\"storageStart\":storageStart,\"storageEnd\":storageEnd};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"selectedSampleStorageLocation\"]=masterData.selectedSampleStorageLocation;var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_STORAGESTRUCTURE\",userInfo:_this.props.Login.userInfo,operation:\"Approve\",selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"Approve\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.viewAdditionalInfo=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{isView:true,openModal:true}};_this.props.updateStore(updateInfo);};_this.additionalInformation=function(selectedSampleStorageVersion,userInfo,addInfoId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.additionalInformationData(selectedSampleStorageVersion,userInfo,isOnlyDraft,addInfoId);};_this.importdata=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:'IDS_IMPORT',openModal:true}};_this.props.updateStore(updateInfo);};_this.copySampleStorageversion=function(ncontrolCode){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var inputData=[];var masterData=_this.props.Login.masterData;inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"sampleStorageLocation\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"]={\"nstatus\":1};inputData[\"sampleStorageVersion\"][\"napprovalstatus\"]=masterData.selectedSampleStorageVersion[\"napprovalstatus\"];inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"]=masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"]=masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"]=masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];var inputParam={inputData:inputData,classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageVersion\",displayName:\"IDS_STORAGESTRUCTURE\",userInfo:_this.props.Login.userInfo,operation:\"copy\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,operation:\"copy\",screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{// this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\n_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.reloadData=function(){if(_this.searchRef.current){_this.searchRef.current.value=\"\";}// let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\nvar nfilterStorageCategory=_this.props.Login.masterData.filterStorageCategory&&_this.props.Login.masterData.nfilterStorageCategory;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragelocation\",methodUrl:\"SampleStorageLocation\",displayName:\"IDS_STORAGESTRUCTURE\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onNumericInputChange=function(value,field){var selectedRecord=_this.state.selectedRecord||{};var constantvalue=value.target.value;if(field==='nnoofcontainer'){if(constantvalue!==0){selectedRecord['nrow']=1;selectedRecord['ncolumn']=constantvalue;}else{selectedRecord['nrow']&&delete selectedRecord['nrow'];selectedRecord['ncolumn']&&delete selectedRecord['ncolumn'];}}if(!isNaN(constantvalue)){selectedRecord[field]=constantvalue;_this.setState({selectedRecord:selectedRecord});}};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageLocation=function(addId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}if(_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0){_this.props.fetchStorageCategory({userInfo:_this.props.Login.userInfo,id:uuid(),nfilterStorageCategory:_this.state.nfilterStorageCategory,addId:addId});}else{toast.warning(_this.props.intl.formatMessage({id:\"IDS_SELECTSTORAGECATEGORY\"}));}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.state=(_this$state={treeData:[{title:'Chicken',children:[{title:'Egg'}]}],toggleAction:false,treeDataView:undefined,toggleActionView:false,keyIndentify:false},_defineProperty(_this$state,\"treeData\",[{//  text: \"root\",\ntext:_this.props.intl.formatMessage({id:\"IDS_ROOT\"}),expanded:true,editable:true,root:true,id:uuid()}]),_defineProperty(_this$state,\"panes\",[{size:'50%',scrollable:false}]),_defineProperty(_this$state,\"selectedRecord\",{}),_defineProperty(_this$state,\"userRoleControlRights\",[]),_defineProperty(_this$state,\"controlMap\",new Map()),_defineProperty(_this$state,\"skip\",0),_defineProperty(_this$state,\"detailSkip\",0),_defineProperty(_this$state,\"detailTake\",10),_defineProperty(_this$state,\"take\",_this.props.Login.settings?_this.props.Login.settings[3]:25),_defineProperty(_this$state,\"splitChangeWidthPercentage\",22),_defineProperty(_this$state,\"selectedItem\",undefined),_this$state);_this.searchRef=React.createRef();_this.dragClue=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageLocation,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;if(this.pointedItem){var scrollDoc=document.getElementById('selected-tree-point');if(scrollDoc){scrollDoc.scrollIntoView({behavior:'smooth'});}}var isComponentUpdated=false;var filterData=this.state.filterData;var selectedRecord=this.state.selectedRecord||{};if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}if(this.props.Login.treeData!==previousProps.Login.treeData){this.setState({treeData:this.props.Login.treeData});}if(this.props.Login.treeDataView!==previousProps.Login.treeDataView){this.setState({treeDataView:this.props.Login.treeDataView});}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){if(this.searchRef.current){this.searchRef.current.value=\"\";}this.handleSearch();this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,searchedTreeData:undefined,showSearch:false});}else{if(this.searchRef.current){this.searchRef.current.value=\"\";}this.handleSearch();this.setState({treeDataView:undefined,searchedTreeData:undefined,showSearch:false});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,selectedRecord:selectedRecord,filterStorageCategory:filterStorageCategory});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"getClueClassName\",value:function getClueClassName(event){var eventAnalyzer=new TreeViewDragAnalyzer(event).init();var itemIndex=eventAnalyzer.destinationMeta.itemHierarchicalIndex;if(eventAnalyzer.isDropAllowed){switch(eventAnalyzer.getDropOperation()){case'child':return'k-i-plus';case'before':return itemIndex==='0'||itemIndex.endsWith(\"\".concat(this.SEPARATOR,\"0\"))?'k-i-insert-up':'k-i-insert-middle';case'after':var siblings=this.getSiblings(itemIndex,this.state.tree);var lastIndex=Number(itemIndex.split(this.SEPARATOR).pop());return lastIndex<siblings.length-1?'k-i-insert-middle':'k-i-insert-down';default:break;}}return'k-i-cancel';}},{key:\"generateUUID\",value:// generateUUID(innerObj) {\n//     // let parentIDNew=uuid()\n//     // let innerObjNew={...innerObj,\n//     //                 'id':parentIDNew } \n//     // if (innerObjNew.items && innerObjNew.items.length > 0) {\n//     //     innerObjNew.items.map((childObj) => { \n//     //         childObj={...childObj,\n//     //         'parentID':parentIDNew}\n//     //         this.generateUUID(childObj)\n//     //     })\n//     // }\n//     let parentIDNew=uuid()\n//     let innerObjNew={...innerObj,\n//            'id':parentIDNew } \n//  if (innerObjNew.items && innerObjNew.items.length > 0) {\n//        innerObjNew.items.map((childObj) => { \n//                 childObj={...childObj,\n//                 'parentID':parentIDNew}\n//                 return  this.generateUUID(childObj)\n//             })\n// } \n//     return innerObjNew\n// }\nfunction generateUUID(innerObj){var parentIDNew=uuid();var innerObjNew=_objectSpread(_objectSpread({},innerObj),{},{'id':parentIDNew});//  innerObj['id']=parentIDNew  \nif(innerObj.items&&innerObj.items.length>0){var _iterator=_createForOfIteratorHelper(innerObj.items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var Obj=_step.value;var childObj=Obj;childObj=_objectSpread(_objectSpread({},childObj),{},{'parentID':parentIDNew});//childObj['parentID']=parentIDNew\nthis.generateUUID(childObj);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return innerObj;}},{key:\"searchClickedItemParent\",value:function searchClickedItemParent(treeData,clickedItem){var ParentItem=_objectSpread({},treeData);if(ParentItem.items&&ParentItem.items.length>0){var childArray=ParentItem.items;if(childArray.length>0){for(var i=0;i<childArray.length;i++){var childData=childArray[i];if(clickedItem?clickedItem.id===childData.id:childData.editable===true){return treeData;}else{if(childData.items){ParentItem=this.searchClickedItemParent(childData,clickedItem);if(ParentItem){return ParentItem;}}}}}}//    return ParentItem;\n}},{key:\"shrinkNodes\",value:function shrinkNodes(ParentItem){//  ParentItem.expanded=false;\nif(ParentItem.items&&ParentItem.items.length>0){var childArray=ParentItem.items;if(childArray.length>0){for(var i=0;i<childArray.length;i++){var childData=childArray[i];childData.expanded=false;if(childData.items){this.shrinkNodes(childData);}}}}}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;if(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"openPropertyModal\",value:function openPropertyModal(clickedItem,editId){var selectedRecord=this.state.selectedRecord||{};selectedRecord[\"locationlastnode\"]=clickedItem.item.locationlastnode===undefined?false:clickedItem.item.locationlastnode;selectedRecord[\"containerfirstnode\"]=clickedItem.item.containerfirstnode===undefined?false:clickedItem.item.containerfirstnode;selectedRecord[\"containerlastnode\"]=clickedItem.item.containerlastnode===undefined?false:clickedItem.item.containerlastnode;var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,loadTreeProperties:true,clickedItem:clickedItem,loading:false}};this.props.updateStore(updateInfo);}},{key:\"generatePathForEditedItem\",value://generate Path for edited item \nfunction generatePathForEditedItem(ParentItem,indices){if(ParentItem.items&&ParentItem.items.length>0){var childArray=ParentItem.items;if(childArray.length>0){for(var i=0;i<childArray.length;i++){var childData=childArray[i];var result=this.state.treeData;indices.push(i);var itemText=\"\";for(var _i=0;_i<indices.length;_i++){if(_i===0){result=result[0];}else{result=result.items[indices[_i]];}itemText=_i>0?itemText+\" > \"+result.text:result.text;}childData.itemhierarchy=itemText;if(childData.items){this.generatePathForEditedItem(childData,indices);}indices.pop();}}}else{var _result=this.state.treeData;var _itemText=\"\";for(var _i2=0;_i2<indices.length;_i2++){if(_i2===0){_result=_result[0];}else{_result=_result.items[indices[_i2]];}_itemText=_i2>0?_itemText+\" > \"+_result.text:_result.text;}ParentItem.itemhierarchy=_itemText;}}},{key:\"getSampleStorageLocation\",value:function getSampleStorageLocation(inputData,fieldName,comboData){var _this4=this;var selectedRecordFilter=this.props.selectedRecordFilter||{};var inputParamData={};this.setState({loading:true});if(fieldName==='nsamplestoragelocationcode'){inputParamData={nstoragecategorycode:selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value,userinfo:this.props.Login.userInfo};}else{inputParamData={nstoragecategorycode:comboData.value,userinfo:this.props.Login.userInfo};}var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this4$state=_this4.state,storageLocationOptions=_this4$state.storageLocationOptions,sampleStorageVersionOptions=_this4$state.sampleStorageVersionOptions;var sampleStorageLocationList=constructOptionList(response[0].data.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");var sampleStorageVersionList=constructOptionList(response[0].data.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.length>0?storageLocationOptions[0]:[],nsamplestorageversioncode:sampleStorageVersionOptions.length>0?sampleStorageVersionOptions[0]:[]});_this4.setState({storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,selectedRecordFilter:_objectSpread(_objectSpread({},selectedRecordFilter),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this4.setState({loading:false});});}},{key:\"getContainerStructure\",value:function getContainerStructure(inputData,fieldName,comboData){var _this5=this;var inputParamData={};this.setState({loading:true});inputParamData={ncontainertypecode:comboData.value,userinfo:inputData.userinfo};var urlArray=[];var url1=rsapi.post(\"samplestoragemapping/getContainerStructure\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this5$state=_this5.state,containerStructureOptions=_this5$state.containerStructureOptions,selectedRecord=_this5$state.selectedRecord;var containerStructureList=constructOptionList(response[0].data.containerStructure||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,undefined);containerStructureOptions=containerStructureList.get(\"OptionList\");selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nnoofcontainer:selectedRecord[\"nneedposition\"]===true?_this5.calculateRowColumn(containerStructureOptions[0].item.nrow,containerStructureOptions[0].item.ncolumn):1,nrow:containerStructureOptions.length>0?containerStructureOptions[0].item.nrow:1,ncolumn:containerStructureOptions.length>0?containerStructureOptions[0].item.ncolumn:1,ncontainerstructurecode:containerStructureOptions.length>0?containerStructureOptions[0]:[],containerStructureOptions:containerStructureOptions.length>0?_toConsumableArray(containerStructureOptions):[]});_this5.setState({selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this5.setState({loading:false});});}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"render\",value:function render(){var _this6=this;var addId=this.state.controlMap.has(\"Add SampleStorageStructure\")&&this.state.controlMap.get(\"Add SampleStorageStructure\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageStructure\")&&this.state.controlMap.get(\"Edit SampleStorageStructure\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageStructure\")&&this.state.controlMap.get(\"Delete SampleStorageStructure\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageStructure\")&&this.state.controlMap.get(\"Copy SampleStorageStructure\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageStructure\")&&this.state.controlMap.get(\"Approve SampleStorageStructure\").ncontrolcode;var addInfoId=this.state.controlMap.has(\"AdditionalInformation\")&&this.state.controlMap.get(\"AdditionalInformation\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"samplestoragelocation/getSelectedSampleStorageLocation\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var infoFields=[{\"dataField\":\"sstoragecategoryname\",\"idsName\":\"IDS_STORAGECATEGORY\"},{\"dataField\":\"ssamplestoragelocationname\",\"idsName\":\"IDS_STORAGESTRUCTURENAME\"},{\"dataField\":\"sprojecttypename\",\"idsName\":\"IDS_PROJECT\"},{\"dataField\":\"sproductname\",\"idsName\":\"IDS_PRODUCT\"},{\"dataField\":\"nquantity\",\"idsName\":\"IDS_QUANTITY\"},{\"dataField\":\"sunitname\",\"idsName\":\"IDS_UNIT\"},{\"dataField\":\"scontainertype\",\"idsName\":\"IDS_CONTAINERTYPE\"},{\"dataField\":\"scontainerstructurename\",\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\"},{\"dataField\":\"nnoofcontainer\",\"idsName\":\"IDS_NOOFSAMPLECONTAINER\"},{\"dataField\":\"sdirection\",\"idsName\":\"IDS_DIRECTION\"},{\"dataField\":\"nrow\",\"idsName\":\"IDS_ROWS\"},{\"dataField\":\"ncolumn\",\"idsName\":\"IDS_COLUMNS\"},{\"dataField\":\"sneedautomapping\",\"idsName\":\"IDS_AUTOMAPPING\"}];// const mandatoryFields =\n//     this.state.selectedRecord[\"nneedposition\"] === undefined ||\n//         this.state.selectedRecord[\"nneedposition\"] === false ?\n//         [\n//             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\n//             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n//             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n//             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n//             // {\n//             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n//             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//             // }\n//         ]\n//         : [\n//             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\n//             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\n//             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n//             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\n//             // {\n//             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\n//             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//             // },  \n//             {\n//                 \"idsName\": \"IDS_CONTAINERTYPE\",\n//                 \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\n//                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//             },\n//             {\n//                 \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n//                 \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\n//                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//             },\n//             {\n//                 \"idsName\": \"IDS_DIRECTION\",\n//                 \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\n//                     \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//             }\n//         ]\nvar mandatoryFields=this.state.selectedRecord[\"nneedposition\"]===undefined||this.state.selectedRecord[\"nneedposition\"]===false&&this.props.Login.operation!==\"addinfo\"?[{\"idsName\":\"IDS_STORAGECATEGORY\",\"dataField\":\"nstoragecategorycode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STORAGESTRUCTURENAME\",\"dataField\":\"ssamplestoragelocationname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}]:this.props.Login.operation===\"create\"?[{\"idsName\":\"IDS_STORAGECATEGORY\",\"dataField\":\"nstoragecategorycode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STORAGESTRUCTURENAME\",\"dataField\":\"ssamplestoragelocationname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}]:this.props.Login.operation===\"addinfo\"&&this.state.selectedRecord[\"nneedposition\"]!==undefined&&this.state.selectedRecord[\"nneedposition\"]===true?[{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"ncontainertypecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"ncontainerstructurecode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_DIRECTION\",\"dataField\":\"ndirectionmastercode\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"selectbox\"}]:\"\";var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height\"},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",percentage:true,primaryIndex:1,onSecondaryPaneSizeChange:this.paneSizeChange,secondaryInitialSize:25,primaryMinSize:40,secondaryMinSize:20},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{paneHeight:this.state.parentHeight,needMultiSelect:false,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.sampleStorageLocation||[],selectedMaster:this.props.Login.masterData.selectedSampleStorageLocation&&[this.props.Login.masterData.selectedSampleStorageLocation],primaryKeyField:\"nsamplestoragelocationcode\",getMasterDetail:function getMasterDetail(selectedItem){return _this6.props.getSelectedSampleStorageLocation(selectedItem,_this6.props.Login.userInfo,_this6.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"ssamplestoragelocationname\",selectedListName:\"selectedSampleStorageLocation\",objectName:\"LocationMaster\",listName:\"IDS_STORAGESTRUCTURE\",filterColumnData:this.props.filterColumnData,searchListName:\"searchedData\",searchRef:this.searchRef,filterParam:filterParam,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,needFilter:true,hidePaging:false,handlePageChange:this.handlePageChange,skip:this.state.skip,take:this.state.take,commonActions:/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-common-wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this6.openStorageLocation(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-2 p-0\",variant:\"link\",onClick:function onClick(){return _this6.reloadData();}// data-for=\"tooltip-common-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(RefreshIcon,{className:\"custom_icons\"}))),filterComponent:[{\"IDS_TESTFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]}),/*#__PURE__*/React.createElement(SplitterLayout,{vertical:true,borderColor:\"#999\",percentage:true,primaryIndex:1//secondaryInitialSize={400}\n,customClassName:\"fixed_list_height\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3,style:{paddingRight:'0'}},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.sampleStorageVersion||[],needMultiSelect:false,selectedMaster:this.props.Login.masterData.selectedSampleStorageVersion&&[this.props.Login.masterData.selectedSampleStorageVersion],primaryKeyField:\"nsamplestorageversioncode\",getMasterDetail:function getMasterDetail(selectedItem){return _this6.props.getSelectedSampleStorageVersion(selectedItem,_this6.props.Login.userInfo,_this6.props.Login.masterData);},inputParam:{userInfo:this.props.Login.userInfo,masterData:this.props.Login.masterData},mainField:\"nversionno\",mainFieldLabel:this.props.intl.formatMessage({id:\"IDS_VERSION\"}),selectedListName:\"selectedSampleStorageVersion\",objectName:\"Version\",listName:\"IDS_SAMPLESTORAGEVersion\",hideSearch:true,needValidation:false,needFilter:false,moreField:[],skip:this.state.detailSkip,take:this.state.detailTake,hidePaging:true,handlePageChange:this.handleDetailPageChange,splitModeClass:this.state.splitChangeWidthPercentage&&this.state.splitChangeWidthPercentage>50?'split-mode':this.state.splitChangeWidthPercentage>40?'split-md':''// actionIcons={\n//     [\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\n//             controlname: \"faPencilAlt\",\n//             objectName: \"detailtoedit\",\n//             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n//             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\n//         },\n//         {\n//             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\n//             controlname: \"faTrashAlt\",\n//             objectName: \"mastertodelete\",\n//             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n//             onClick: () => this.confirmDelete(deleteId)\n//         }\n//     ]\n// }\n})),/*#__PURE__*/React.createElement(Col,{md:9},/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content grid-master \"},this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.length>0&&this.props.Login.masterData.selectedSampleStorageLocation?/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"action-icons-wrap mr-2 pl-0\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined  outline-secondary btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DRAFT\",defaultMessage:\"Draft\"})):this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.RETIRED?/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-danger btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_RETIRED\",defaultMessage:\"Retired\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined outline-success btn-sm mr-3\"},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_APPROVED\",defaultMessage:\"Approved\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle 1 outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(e){return _this6.onEditSampleStorageLocation(_this6.props.Login.masterData.selectedSampleStorageVersion,_this6.props.Login.userInfo,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})):/*#__PURE__*/React.createElement(React.Fragment,null,\"    \",/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(copyId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"}),onClick:function onClick(e){return _this6.copySampleStorageversion(copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy}))),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",hidden:this.state.userRoleControlRights.indexOf(addInfoId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADDITIONALINFO\"}),onClick:function onClick(e){return _this6.additionalInformation(_this6.props.Login.masterData.selectedSampleStorageVersion,_this6.props.Login.userInfo,addInfoId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faInfoCircle})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),onClick:function onClick(){return _this6.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus===transactionStatus.DRAFT?/*#__PURE__*/React.createElement(Nav.Link,{name:\"QB\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1// data-for=\"tooltip_list_wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"}),onClick:function onClick(){return _this6.onApproveSampleStorageLocation(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})):\"\",/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 \",href:\"#\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_VIEW\"}),onClick:function onClick(e){return _this6.viewAdditionalInfo(copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye})))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-search tool-search \".concat(this.state.showSearch?'activesearch':\"\")},/*#__PURE__*/React.createElement(SearchIcon,{className:\"search-icon\",onClick:this.toggleSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSearch})),/*#__PURE__*/React.createElement(FormControl// ref={this.searchRef}\n,{autoComplete:\"off\",className:\"k-textbox\",onChange:this.handleSearch,placeholder:\"\".concat(this.props.intl.formatMessage({id:\"IDS_FILTER\"})),name:\"search\",onKeyUp:function onKeyUp(e){return _this6.handlenavigation(e,'down');}}),!this.props.showSearch?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"search-up-down\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronUp,onClick:function onClick(e){return _this6.handlenavigation(e,'up');}}),/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronDown,onClick:function onClick(e){return _this6.handlenavigation(e,'down');}}))):\"\",this.props.showSearch?/*#__PURE__*/React.createElement(SearchIcon,{className:\"close-right-icon\",onClick:this.toggleSearch},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes})):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tree-view-container\"},/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.searchedTreeData||this.state.treeDataView,expandIcons:true,selectField:'active-node',item:this.itemRenderView,onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView}))))):\"\"))))))))),/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.props.Login.loadTreeProperties,modalTitle:this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURE\"}),closeModal:this.closeModalShow,onSaveClick:this.onSaveClick,selectedRecord:this.state.selectedRecord||{},modalBody:/*#__PURE__*/React.createElement(AddTreeProperties,{onInputChange:function onInputChange(e){return _this6.onInputChange(e);},selectedRecord:this.state.selectedRecord||{}})}),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,hideSave:this.props.Login.isView,operation:this.props.Login.isView?\"\":this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.isView?this.props.intl.formatMessage({id:\"IDS_VIEW\"}):this.props.Login.operation===\"addinfo\"?\"\":this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURE\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.loadTreeProperties===true?[]:mandatoryFields,addComponent:this.props.Login.isView?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,infoFields.map(function(item,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,_this6.props.intl.formatMessage({id:item.idsName})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this6.props.Login.masterData.selectedSampleStorageLocation[item.dataField]?_this6.props.Login.masterData.selectedSampleStorageLocation[item.dataField]:'-'))));}))):this.props.Login.screenName==='IDS_IMPORT'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"hr\",null)):this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):// this.props.Login.loadTreeProperties ? (\n//     <AddTreeProperties\n//         onInputChange={(e) => this.onInputChange(e)}\n//         selectedRecord={this.state.selectedRecord || {}}\n//     />\n// ) \n// :\nthis.state.treeData?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AddTreeview,{clearSearchedState:this.clearSearchedState,toggleSearch:this.toggleSearch,handleSearch:this.handleSearch,handlenavigation:this.handlenavigation,showSearch:this.state.showSearch,treeData://this.state.searchedTreeData||\nthis.state.treeData,onInputChange:function onInputChange(e){return _this6.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,onItemDragOver:this.onItemDragOver,onItemDragEnd:this.onItemDragEnd,onNumericInputChange:this.onNumericInputChange,operation:this.props.Login.operation,storageCategoryList:this.props.Login.storageCategoryList||[],projectTypeMapList:this.props.Login.projectTypeMapList||[],sampleTypeList:this.props.Login.sampleTypeList||[],isOnlyDraft:this.props.Login.isOnlyDraft,unitMapList:this.props.Login.unitMapList}))):\"\"}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageLocation;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,filterColumnData:filterColumnData,changeStorageCategoryFilter:changeStorageCategoryFilter,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,fetchStorageCategory:fetchStorageCategory,copySampleStorageVersion:copySampleStorageVersion,crudSampleStorageLocation:crudSampleStorageLocation,additionalInformationData:additionalInformationData})(injectIntl(SampleStorageLocation));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/basemaster/SampleStorageLocation.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faFileImport","faEye","faInfoCircle","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SearchIcon","ScrollBar","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","additionalInformationData","DEFAULT_RETURN","ListWrapper","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","AddTreeview","AddTreeProperties","Splitter","TransactionListMasterJsonView","BreadcrumbComponent","SplitterLayout","StorageCategoryFilter","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","ModalShow","faChevronDown","faChevronUp","faExclamationCircle","Grid","Axios","rsapi","SampleStorageLocation","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","onChange","event","setState","panes","newState","getSiblings","itemIndex","data","result","indices","split","map","index","Number","i","length","items","onItemDragOver","dragClue","show","pageY","pageX","item","text","getClueClassName","onItemDragEnd","hide","eventAnalyzer","init","isDropAllowed","updatedTree","itemHierarchicalIndex","state","treeData","getDropOperation","destinationMeta","tree","addChildNode","e","clickedItem","iscontainerlastnode","ParentItem","searchClickedItemParent","expanded","newData","id","push","intl","formatMessage","editable","locationlastnode","containerfirstnode","containerlastnode","itemhierarchy","info","cloneNode","parentItem","parentID","clonedParentID","parentFound","cloneItems","clonedparentFound","newData1","clonedNewParentID","levelBasedParents","cloneditem","warn","count","equalNode","deleteNode","root","editRecord","toggleAction","openModal","updateInfo","typeName","selectedRecord","loadTreeProperties","operation","closeModalShow","closeModal","loadEsign","Login","selectedId","isView","onInputChange","target","type","checked","name","value","itemRender","stopPropagation","handleChange","handleBlur","isRoot","setProperties","onItemClick","searchedData","searchedTreeData","itemText","clearSelected","toggleSearch","showSearch","clearSearchedState","navigationCounter","counter","handleSearch","search","term","reduce","acc","contains","newItems","handlenavigation","direction","key","document","querySelector","navigateSearchedTree","treeDataView","JSON","parse","stringify","selected","includes","some","toLowerCase","indexOf","onExpandChange","shrinkNodes","forceUpdate","itemRenderView","toggleActionView","onItemClickView","onExpandChangeView","editId","controlMap","has","get","ncontrolcode","generatePathForEditedItem","onSaveClick","saveType","formRef","onSaveProperties","onSaveSampleStorageLocation","onSaveAdditionalInformation","inputData","jsondata","postParam","haschild","hasOwnProperty","loading","countLevels","userInfo","parseInt","ncontainertypecode","ndirectionmastercode","nneedposition","ncontainerstructurecode","nnoofcontainer","nrow","ncolumn","inputParam","classUrl","methodUrl","displayName","masterData","userRoleControlRights","nformcode","screenData","selectedSampleStorageLocation","selectedSampleStorageVersion","parseFloat","selectedStorageCategory","nstoragecategorycode","deleteSampleStorageLocation","ncontrolCode","searchRef","current","screenName","confirmDelete","confirmMessage","confirm","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","skip","take","handleDetailPageChange","calculateRowColumn","column","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","getSampleStorageLocation","userinfo","getContainerStructure","selectedRecordFilter","nsamplestoragelocationcode","openFilter","showFilter","closeFilter","onFilterSubmit","filterStorageCategory","onApproveSampleStorageLocation","locationEnd","storageStart","storageEnd","containers","containerpath","itemHierarchy","scontainercode","scontainerpath","viewAdditionalInfo","additionalInformation","addInfoId","isOnlyDraft","sampleStorageVersion","importdata","copySampleStorageversion","reloadData","onNumericInputChange","field","constantvalue","isNaN","onEditSampleStorageLocation","openStorageLocation","addId","Object","keys","warning","onInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","title","children","keyIndentify","size","scrollable","Map","settings","createRef","previousProps","scrollDoc","getElementById","scrollIntoView","behavior","isComponentUpdated","filterData","values","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","endsWith","siblings","lastIndex","pop","innerObj","parentIDNew","innerObjNew","Obj","childObj","generateUUID","childArray","childData","selectedItem","inputParamData","urlArray","url1","post","all","then","response","storageLocationOptions","sampleStorageVersionOptions","sampleStorageLocationList","sampleStorageLocation","sampleStorageVersionList","nsamplestorageversioncode","catch","error","status","message","containerStructureOptions","containerStructureList","containerStructure","parentHeight","height","clientHeight","firstPane","breadCrumbData","selectedStorageCategoryName","deleteId","copyId","approveId","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","infoFields","mandatoryFields","paddingRight","detailSkip","detailTake","ssamplestoragelocationname","napprovalstatus","DRAFT","RETIRED","masterStatus","idsName","dataField","storageCategoryList","projectTypeMapList","sampleTypeList","unitMapList","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faFileImport, faEye, faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\n\r\nimport ScrollBar from 'react-perfect-scrollbar';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation,additionalInformationData\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport AddTreeview from './AddTreeview';\r\nimport AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\nimport { ReactComponent as RefreshIcon } from '../../assets/image/refresh.svg';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport { //faBell, \r\n    faChevronDown, faChevronUp, faExclamationCircle\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { Grid } from '@progress/kendo-react-grid';\r\nimport Axios from 'axios';\r\nimport rsapi from '../../rsapi';\r\n//import { Upload } from '@progress/kendo-react-upload';\r\n\r\n\r\nclass SampleStorageLocation extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            treeData: [{ title: 'Chicken', children: [{ title: 'Egg' }] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            keyIndentify: false,\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    onChange = (event) => {\r\n        this.setState({ panes: event.newState })\r\n    };\r\n    componentDidUpdate(previousProps) {\r\n        if (this.pointedItem) {\r\n            let scrollDoc = document.getElementById('selected-tree-point');\r\n            if (scrollDoc) {\r\n                scrollDoc.scrollIntoView({ behavior: 'smooth' })\r\n            }\r\n        }\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ controlMap, userRoleControlRights });\r\n        }\r\n        if (this.props.Login.treeData !== previousProps.Login.treeData) {\r\n            this.setState({\r\n                treeData: this.props.Login.treeData\r\n            });\r\n        }\r\n        if (this.props.Login.treeDataView !== previousProps.Login.treeDataView) {\r\n            this.setState({\r\n                treeDataView: this.props.Login.treeDataView\r\n            });\r\n        }\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                if (this.searchRef.current) {\r\n                    this.searchRef.current.value = \"\";\r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data,\r\n                    searchedTreeData: undefined,\r\n                    showSearch: false\r\n                });\r\n            } else {\r\n                if (this.searchRef.current) {\r\n                    this.searchRef.current.value = \"\";\r\n                }\r\n                this.handleSearch();\r\n                this.setState({\r\n                    treeDataView: undefined,\r\n                    searchedTreeData: undefined,\r\n                    showSearch: false\r\n                });\r\n            }\r\n        }\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n            filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n            if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n\r\n                const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                nfilterStorageCategory = filterCategory[0];\r\n            }\r\n            isComponentUpdated = true;\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n            isComponentUpdated = true;\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, selectedRecord, filterStorageCategory });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n    }\r\n    getSiblings = (itemIndex, data) => {\r\n        let result = data;\r\n        const indices = itemIndex.split(this.SEPARATOR).map(index => Number(index));\r\n        for (let i = 0; i < indices.length - 1; i++) {\r\n            result = result[indices[i]].items || [];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    getClueClassName(event) {\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        const {\r\n            itemHierarchicalIndex: itemIndex\r\n        } = eventAnalyzer.destinationMeta;\r\n        if (eventAnalyzer.isDropAllowed) {\r\n            switch (eventAnalyzer.getDropOperation()) {\r\n                case 'child':\r\n                    return 'k-i-plus';\r\n                case 'before':\r\n                    return itemIndex === '0' || itemIndex.endsWith(`${this.SEPARATOR}0`) ? 'k-i-insert-up' : 'k-i-insert-middle';\r\n                case 'after':\r\n                    const siblings = this.getSiblings(itemIndex, this.state.tree);\r\n                    const lastIndex = Number(itemIndex.split(this.SEPARATOR).pop());\r\n                    return lastIndex < siblings.length - 1 ? 'k-i-insert-middle' : 'k-i-insert-down';\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        return 'k-i-cancel';\r\n    }\r\n    onItemDragOver = event => {\r\n        this.dragOverCnt++;\r\n        this.dragClue.show(event.pageY + 10, event.pageX, event.item.text, this.getClueClassName(event));\r\n    };\r\n    onItemDragEnd = event => {\r\n        this.isDragDrop = this.dragOverCnt > 0;\r\n        this.dragOverCnt = 0;\r\n        this.dragClue.hide();\r\n        const eventAnalyzer = new TreeViewDragAnalyzer(event).init();\r\n        if (eventAnalyzer.isDropAllowed) {\r\n            const updatedTree = moveTreeViewItem(event.itemHierarchicalIndex, this.state.treeData, eventAnalyzer.getDropOperation() || 'child', eventAnalyzer.destinationMeta.itemHierarchicalIndex);\r\n            this.setState({\r\n                tree: updatedTree\r\n            });\r\n        }\r\n    };\r\n    addChildNode = (e, clickedItem) => {\r\n        let iscontainerlastnode=false;\r\n        let ParentItem = this.searchClickedItemParent(this.state.treeData[0])\r\n        if (ParentItem) {\r\n            ParentItem.items.map(item => {\r\n                item.expanded = false;\r\n            });\r\n        }\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                if(item['containerlastnode']===true){\r\n                    iscontainerlastnode=true;\r\n                }else{\r\n                    item.items = item.items || [];\r\n                    item.expanded = true\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n               \r\n            }\r\n            return item;\r\n        });\r\n        if(iscontainerlastnode===true){\r\n            toast.info (this.props.intl.formatMessage({ id:   \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\" })\r\n          \r\n            );\r\n        }else{\r\n            this.setState({ treeData: newData });\r\n        } \r\n    };\r\n\r\n    // generateUUID(innerObj) {\r\n\r\n    //     // let parentIDNew=uuid()\r\n    //     // let innerObjNew={...innerObj,\r\n    //     //                 'id':parentIDNew } \r\n    //     // if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //     //     innerObjNew.items.map((childObj) => { \r\n    //     //         childObj={...childObj,\r\n    //     //         'parentID':parentIDNew}\r\n    //     //         this.generateUUID(childObj)\r\n    //     //     })\r\n    //     // }\r\n    //     let parentIDNew=uuid()\r\n    //     let innerObjNew={...innerObj,\r\n    //            'id':parentIDNew } \r\n    //  if (innerObjNew.items && innerObjNew.items.length > 0) {\r\n    //        innerObjNew.items.map((childObj) => { \r\n    //                 childObj={...childObj,\r\n    //                 'parentID':parentIDNew}\r\n    //                 return  this.generateUUID(childObj)\r\n    //             })\r\n    // } \r\n    //     return innerObjNew\r\n    // }\r\n\r\n    generateUUID(innerObj) {\r\n        let parentIDNew = uuid()\r\n        let innerObjNew = {\r\n            ...innerObj,\r\n            'id': parentIDNew\r\n        }\r\n\r\n        //  innerObj['id']=parentIDNew  \r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            for (let Obj of innerObj.items) {\r\n                let childObj = Obj;\r\n                childObj = {\r\n                    ...childObj,\r\n                    'parentID': parentIDNew\r\n                }\r\n                //childObj['parentID']=parentIDNew\r\n\r\n                this.generateUUID(childObj);\r\n            }\r\n        }\r\n        return innerObj;\r\n    }\r\n\r\n    searchClickedItemParent(treeData, clickedItem) {\r\n        let ParentItem = { ...treeData };\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    if (clickedItem ? (clickedItem.id === childData.id) : (childData.editable === true)) {\r\n                        return treeData;\r\n                    } else {\r\n                        if (childData.items) {\r\n                            ParentItem = this.searchClickedItemParent(childData, clickedItem)\r\n                            if (ParentItem) {\r\n                                return ParentItem;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        //    return ParentItem;\r\n    }\r\n    cloneNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentID = '';\r\n        let clonedParentID = '';\r\n        let parentFound = false;\r\n        let cloneItems = {};\r\n        let clonedparentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        let newData1 = [...this.state.treeData];\r\n        mapTree(this.state.treeData\r\n            , \"items\", (item) => {\r\n                // if (item.items) {\r\n                //     if (parentFound&&(item.id===parentID)) {\r\n                //         parentItem = item;\r\n                //         parentFound = false;\r\n                //     }\r\n                // }\r\n\r\n                if (item.id === clickedItem.id) {\r\n                    parentFound = true;\r\n                    parentID = clickedItem.parentID\r\n                    parentItem = this.searchClickedItemParent(this.state.treeData[0])\r\n                }\r\n                if (item.editable === true) {\r\n                    clonedParentID = uuid();\r\n                    let clonedNewParentID = uuid();\r\n                    //     //  let clonedObject=//{...item}\r\n                    //     //   Object.assign({}, item);\r\n                    //       const clonedObject = JSON.parse(JSON.stringify(item1));\r\n                    //      cloneItems =//[{...clonedObject}].map((data) => {\r\n                    //       // return \r\n                    //        this.generateUUID(clonedObject)\r\n                    //    // })\r\n                    let levelBasedParents = {}\r\n                    cloneItems = mapTree([{ ...item }], \"items\", (cloneditem) => {\r\n                        // const indices = cloneditem.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                        // let x=getItemPath(this.state.treeData,indices,\"items\")\r\n                        // console.log('------------->',cloneditem)\r\n                        // if(cloneditem.items===undefined&&clonedparentFound){\r\n                        //     clonedParentID=uuid();\r\n                        //     clonedparentFound=false;\r\n                        // }\r\n                        // else{\r\n                        //     clonedNewParentID=uuid();\r\n                        // }\r\n                        // if(!levelBasedParents.hasOwnProperty(cloneditem.itemHierarchicalIndex)){\r\n                        //     let level=cloneditem.itemHierarchicalIndex;\r\n                        //     levelBasedParents={...levelBasedParents,\r\n                        //                         [level]:uuid()\r\n                        //                     }\r\n                        // }\r\n                        // if(cloneditem.items){\r\n                        //      //if ClonedItem is a Parent\r\n\r\n                        //     cloneditem={\r\n                        //         ...cloneditem,\r\n                        //         'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedNewParentID\r\n                        //         ,\r\n                        //         'id':clonedParentID,\r\n                        //         'editable': false \r\n                        //     } \r\n                        //     clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                        //     //  clonedParentID=uuid()//clonedNewParentID;\r\n                        //     // clonedparentFound=true;\r\n                        // }else{\r\n                        //if ClonedItem is a Child\r\n                        cloneditem = {\r\n                            ...cloneditem,\r\n                            //'parentID':levelBasedParents[cloneditem.itemHierarchicalIndex]//clonedParentID\r\n                            // ,\r\n                            'id': uuid(),\r\n                            'editable': false,\r\n                            'expanded': false\r\n                            //   }\r\n                            //  clonedParentID=levelBasedParents[cloneditem.itemHierarchicalIndex];\r\n                        }\r\n                        return cloneditem;\r\n                    });\r\n                }\r\n\r\n                // item={\r\n                //    ...item,\r\n                //     'id':uuid(),\r\n                //   'editable': false \r\n                //     } \r\n                return item;\r\n            });\r\n        if (parentItem === undefined) {\r\n            return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ROOTNODECANNOTBEDELETED\" }))\r\n        }\r\n        let count = 1;\r\n        newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n\r\n            if (item.id === parentItem.id) {\r\n                count++;\r\n                item.items.push(\r\n                    // {\r\n                    // ...cloneItem,\r\n                    // 'id':uuid(),\r\n                    // 'editable': false,\r\n                    // 'text': cloneItem['text']+'('+count+')'\r\n                    // } \r\n                    {\r\n                        ...cloneItems[0]\r\n                        ,\r\n                        'parentID': parentID,\r\n                        // 'id':clonedParentID\r\n                    }\r\n                );\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData });\r\n    }\r\n    equalNode = (e, clickedItem) => {\r\n        let parentItem = {};\r\n        let parentFound = false;\r\n        let newData = [...this.state.treeData];\r\n        mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.items) {\r\n                if (parentFound) {\r\n                    parentItem = item;\r\n                    parentFound = false;\r\n                }\r\n            }\r\n\r\n            if (item.id === clickedItem.id) {\r\n                parentFound = true;\r\n            }\r\n\r\n            return item;\r\n        });\r\n        if (parentItem.text === undefined) {\r\n            newData.push({\r\n                id: uuid(),\r\n                text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                expanded: true,\r\n                editable: false,\r\n                locationlastnode: false,\r\n                containerfirstnode: false,\r\n                containerlastnode: false,\r\n                itemhierarchy: \"\"\r\n            });\r\n            this.setState({ treeData: newData });\r\n        } else {\r\n            newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                if (item.id === parentItem.id) {\r\n                    item.items.push({\r\n                        id: uuid(),\r\n                        text: this.props.intl.formatMessage({ id: \"IDS_LABEL\" }),\r\n                        expanded: true,\r\n                        editable: false,\r\n                        locationlastnode: false,\r\n                        containerfirstnode: false,\r\n                        containerlastnode: false,\r\n                        itemhierarchy: \"\"\r\n                    });\r\n                }\r\n                return item;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    deleteNode = (clickedItem) => {\r\n        if (clickedItem.root && clickedItem.root === true) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PARENTNODENOTALLOWTODELETE\" }));\r\n        } else {\r\n            const newData = removeItems(this.state.treeData, \"items\", (item) => {\r\n                return item.id === clickedItem.id;\r\n            });\r\n            this.setState({ treeData: newData });\r\n        }\r\n    };\r\n    editRecord = (e, clickedItem) => {\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModalShow = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { loadTreeProperties: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Approve\" || this.props.Login.operation === \"copy\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId, isView: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            if (event.target.checked && event.target.name === 'nneedposition') {\r\n                selectedRecord['ncontainertypecode'] && delete selectedRecord['ncontainertypecode'];\r\n                selectedRecord['ncontainerstructurecode'] && delete selectedRecord['ncontainerstructurecode'];\r\n                selectedRecord['containerStructureOptions'] && delete selectedRecord['containerStructureOptions'];\r\n                selectedRecord['nrow'] && delete selectedRecord['nrow'];\r\n                selectedRecord['ncolumn'] && delete selectedRecord['ncolumn'];\r\n                selectedRecord['ndirectionmastercode'] && delete selectedRecord['ndirectionmastercode'];\r\n\r\n                //  selectedRecord['nquantity'] = this.calculateRowColumn(selectedRecord['nrow'], selectedRecord['ncolumn']);\r\n            }\r\n               \r\n            selectedRecord[event.target.name] = event.target.checked;\r\n            if(event.target.checked===false && event.target.name === 'nneedposition'){\r\n                selectedRecord['nrow'] =1;\r\n                selectedRecord['ncolumn']=1;\r\n                selectedRecord['nnoofcontainer']=1;\r\n            }\r\n           \r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n\r\n    itemRender = (props) => {\r\n        if (this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {props.item.editable ? (\r\n                        <Form.Group className=\"k-editable-text-wrap\">\r\n                            <Form.Control\r\n                                id={\"nodename\"}\r\n                                name={\"nodename\"}\r\n                                type=\"text\"\r\n                                onKeyDown={(e) => e.stopPropagation()}\r\n                                value={props.item.text}\r\n                                autoFocus\r\n                                autoComplete=\"off\"\r\n                                onChange={(e) => this.handleChange(e, props.item)}\r\n                                onBlur={(e) => this.handleBlur(e, props.item, props.itemHierarchicalIndex)}\r\n                                maxLength=\"50\"\r\n                            />\r\n                        </Form.Group>\r\n                    ) : (\r\n                        <span>{props.item.text}</span>\r\n                    )}\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    {props.item ? (\r\n                        <>\r\n                            <span className='d-flex align-items-center'>\r\n                                <span className={`normal-node text-truncate\r\n                            ${props.item.editable ? \"active-node\" : \"\"}\r\n                            ${props.item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `} data-tip={props.item.text}>\r\n                                    {props.item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                        props.item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                            props.item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                                props.item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                    {props.item.text}\r\n                                </span>\r\n                                {props.item.editable ? (\r\n                                    <>  \r\n                                        {/* \r\n                                <Button   className=\"action-icon tree-level1\" role=\"button\"\r\n                                                 data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.cloneNode(e, props.item);\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faClone}\r\n                                                 title={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })} />\r\n                                            </Button> */}\r\n                                        {/* <span\r\n                                        className=\"action-icon tree-level1\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EQUALNODE\" })}\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            this.equalNode(e, props.item);\r\n                                        }}\r\n                                    ></span> */}\r\n                                        <span\r\n                                            className=\"action-icon tree-level2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CHILDNODE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.addChildNode(e, props.item);\r\n                                            }}\r\n                                        ></span> \r\n                                        <span\r\n                                            className=\"k-icon k-i-edit k-i-pencil ml-2\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.editRecord(e, props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                        {!props.item.isRoot ? (\r\n                                            <span\r\n                                                className=\"k-icon k-i-delete ml-2\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    this.deleteNode(props.item);\r\n                                                }}\r\n                                            ></span>\r\n                                        ) : null}\r\n                                           <span\r\n                                            className=\"action-icon tree-toggle m-l-half\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                            onClick={(e) => this.setProperties(e, props)}\r\n                                        ></span>\r\n                                          <span\r\n                                            className=\"action-icon tree-level1\"\r\n                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_CLONENODE\" })}\r\n                                            onClick={(e) => {\r\n                                                e.stopPropagation();\r\n                                                this.cloneNode(e, props.item);\r\n                                            }}\r\n                                        ></span>\r\n                                    </>\r\n                                ) : null}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (selectedItem) {\r\n        //     selectedItem.editable = false;\r\n        //   }\r\n        //   event.item.editable = true;\r\n        //   selectedItem = event.item; \r\n\r\n\r\n        // let searchedData =undefined;\r\n        // if(this.state.searchedTreeData){\r\n        //      searchedData = mapTree(this.state.searchedTreeData, \"items\", (item1) => {\r\n        //         if (item1.editable === true) {\r\n        //             item1.editable = false;\r\n        //         } else if (item1.id === event.item.id) {\r\n        //             item1.editable = true;\r\n        //         }\r\n        //         return item1;\r\n        //     });\r\n        // } \r\n\r\n        // let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n        // this.setState({ treeData: newData,searchedTreeData: searchedData  }); \r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if (this.pointedItem) {\r\n                        if (this.pointedItem.id === item.id) {\r\n                            this.pointedItem = undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices =\r\n                        event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            searchedData.map((data) => {\r\n                this.clearSelected(data, event.item)\r\n            })\r\n        }\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeData;\r\n                const indices =\r\n                    event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeData: newData, searchedTreeData: searchedData });\r\n    };\r\n\r\n\r\n    shrinkNodes(ParentItem) {\r\n        //  ParentItem.expanded=false;\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    childData.expanded = false;\r\n                    if (childData.items) {\r\n                        this.shrinkNodes(childData)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleSearch = () => {\r\n        this.setState({\r\n            showSearch: !this.state.showSearch\r\n        })\r\n    }\r\n\r\n\r\n    clearSearchedState = () => {\r\n        this.setState({\r\n            searchedTreeData: undefined,\r\n            showSearch: false\r\n        })\r\n    }\r\n\r\n    navigationCounter = () => {\r\n        let counter = this.state.counter || 0;\r\n\r\n        return counter;\r\n    }\r\n    // handleSearch = () => { \r\n    //     let value = document.querySelector('.k-textbox').value\r\n    //     this.uniqueIDArr=[]\r\n    //     this.countforTree=0;\r\n    //     let newData = this.search(this.state.treeDataView, value) \r\n    //     //Always root node should be expanded\r\n    //     newData[0].expanded=true;  \r\n    //     if(value===\"\"){\r\n    //         this.pointedItem=undefined\r\n    //         this.setState({ searchedTreeData: undefined })\r\n    //     }else{\r\n    //         this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n    //     }\r\n    //   }\r\n    handleSearch = () => {\r\n        this.uniqueIDArr = []\r\n        this.pointedItem = undefined\r\n        this.countforTree = 0;\r\n        //this.setState({searchedTreeData: undefined})\r\n    }\r\n    search = (items, term) => {\r\n        return items.reduce((acc, item) => {\r\n            if (this.contains(item.text, term)) {\r\n                this.uniqueIDArr.push(item.id);\r\n                acc.push(item);\r\n            } else if (item.items && item.items.length > 0) {\r\n                let newItems = this.search(item.items, term);\r\n                if (newItems && newItems.length > 0) {\r\n                    acc.push({\r\n                        ...item, text: item.text, items: newItems, expanded: acc.length === 0 ?\r\n                            true : false//item.expanded\r\n\r\n                    });\r\n                }\r\n            }\r\n            return acc;\r\n        }, []);\r\n    }\r\n\r\n    handlenavigation = (e, direction) => {\r\n        if (e.key === 'Enter' || e.type === 'click') {\r\n            let value = document.querySelector('.k-textbox').value\r\n            if (value !== \"\") {\r\n\r\n                if (direction === 'up') {\r\n                    //Navigate up\r\n                    this.countforTree--;\r\n                    if (this.countforTree <= 0) {\r\n                        this.countforTree = 0;\r\n\r\n                    }\r\n                } else {\r\n                    //if(direction==='down'){\r\n                    //Navigate down\r\n                    this.countforTree++;\r\n                    if (this.countforTree >= this.uniqueIDArr.length) {\r\n                        if ((this.uniqueIDArr.length - 1) === -1) {\r\n                            this.countforTree = 0;\r\n                        } else {\r\n                            this.countforTree = this.uniqueIDArr.length - 1;\r\n                        }\r\n\r\n                        //toast.info(this.props.intl.formatMessage({ id: \"IDS_NOMORENODESTOSEARCH\" }))\r\n                    }\r\n                }\r\n\r\n                let newData = this.navigateSearchedTree(this.state.treeDataView, value)\r\n\r\n\r\n                this.setState({ searchedTreeData: JSON.parse(JSON.stringify(newData)) })\r\n            }\r\n            else {\r\n                this.setState({ searchedTreeData: undefined })\r\n            }\r\n        }\r\n    }\r\n\r\n    navigateSearchedTree = (items, term) => {\r\n        return items.reduce((acc, item) => {\r\n            if (item.editable) {\r\n                item.editable = false\r\n            }\r\n            if (item.selected) {\r\n                item.selected = false\r\n            }\r\n            if (this.contains(item.text, term)) {\r\n \r\n                if (!this.uniqueIDArr.includes(item.id)) {\r\n                    this.uniqueIDArr.push(item.id);\r\n                }\r\n                if (item.id === this.uniqueIDArr[this.countforTree]) {\r\n                    if (this.pointedItem) {\r\n                        this.pointedItem = undefined;\r\n                    }\r\n                    this.pointedItem = item;\r\n                }\r\n               \r\n                if (item.items && item.items.length > 0) {\r\n                    let newItems = this.navigateSearchedTree(item.items, term);\r\n                    if (newItems && newItems.length > 0) {\r\n                        if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n                            acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n                        } else {\r\n                            acc.push({\r\n                                ...item, text: item.text, items: newItems, expanded:\r\n                                    newItems.some(item => item.expanded === true) ? true : false\r\n                            });\r\n                        }\r\n   \r\n                    }else{\r\n                        acc.push(item);\r\n                    }\r\n                }else{\r\n                    acc.push(item);\r\n                }\r\n            }\r\n             else if (item.items && item.items.length > 0) {\r\n                let newItems = this.navigateSearchedTree(item.items, term);\r\n                if (newItems && newItems.length > 0) {\r\n                    if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n                        acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n                    } else {\r\n                        acc.push({\r\n                            ...item, text: item.text, items: newItems, expanded:\r\n                                newItems.some(item => item.expanded === true) ? true : false\r\n                        });\r\n                    }\r\n \r\n                }\r\n            }\r\n            return acc;\r\n        }, []);\r\n    }\r\n    // navigateSearchedTree = (items, term) => {\r\n    //     return items.reduce((acc, item) => {\r\n    //         if (item.editable) {\r\n    //             item.editable = false\r\n    //         }\r\n    //         if (item.selected) {\r\n    //             item.selected = false\r\n    //         }\r\n    //         if (this.contains(item.text, term)) {\r\n\r\n    //             if (!this.uniqueIDArr.includes(item.id)) {\r\n    //                 this.uniqueIDArr.push(item.id);\r\n    //             }\r\n    //             if (item.id === this.uniqueIDArr[this.countforTree]) {\r\n    //                 if (this.pointedItem) {\r\n    //                     this.pointedItem = undefined;\r\n    //                 }\r\n    //                 this.pointedItem = item;\r\n    //             }\r\n    //             acc.push(item);\r\n    //         } else if (item.items && item.items.length > 0) {\r\n    //             let newItems = this.navigateSearchedTree(item.items, term);\r\n    //             if (newItems && newItems.length > 0) {\r\n    //                 if (newItems.some(item => item.id === this.uniqueIDArr[this.countforTree])) {\r\n    //                     acc.push({ ...item, text: item.text, items: newItems, expanded: true });\r\n    //                 } else {\r\n    //                     acc.push({\r\n    //                         ...item, text: item.text, items: newItems, expanded:\r\n    //                             newItems.some(item => item.expanded === true) ? true : false\r\n    //                     });\r\n    //                 }\r\n\r\n    //             }\r\n    //         }\r\n    //         return acc;\r\n    //     }, []);\r\n    // }\r\n\r\n    contains = (text, term) => {\r\n        return text.toLowerCase().indexOf(term.toLowerCase()) >= 0;\r\n    }\r\n    onExpandChange = (event) => {\r\n        let clickedItem = event.item\r\n        if (!event.item.expanded) {\r\n            //this.onItemClick(event)\r\n            let ParentItem = this.searchClickedItemParent(//this.state.searchedTreeData&&\r\n                //this.state.searchedTreeData[0]||\r\n                this.state.treeData[0], clickedItem)\r\n            if (ParentItem) {\r\n                ParentItem.items.map(item => {\r\n                    item.expanded = false;\r\n                });\r\n            }\r\n            this.shrinkNodes(event.item);\r\n        }\r\n        event.item.expanded = !event.item.expanded;\r\n\r\n        this.forceUpdate();\r\n    };\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        this.getitemPath = { ...this.getitemPath, [item.id]: clickedItem.itemHierarchicalIndex }\r\n\r\n\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <>\r\n\r\n                            <span className='d-flex align-items-center'>\r\n                                {this.pointedItem ? (item.id === this.pointedItem.id) && !item.selected ?\r\n                                    <>\r\n                                        <input type=\"text\" className='hidden-treeview-focus' id='selected-tree-point' />\r\n                                    </> :\r\n                                    <></> : ''\r\n                                }\r\n                                <span className={`normal-node text-truncate\r\n                                ${this.pointedItem ? (item.id === this.pointedItem.id) && !item.selected ? \"pointed-node\" : item.selected ? \"active-node\" : \"\" :\r\n                                        item.selected ? \"active-node\" : \"\"}\r\n                                ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                                `} data-tip={item.text}>\r\n                                    {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                        item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                            item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                                item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                    {item.text}\r\n                                </span>\r\n                                {/* <ul className=\"list-inline mb-0\">\r\n                                <li className=\"list-inline-item mr-3\">{clickedItem.item.text}</li> */}\r\n                                {this.pointedItem && item.id === this.pointedItem.id ?\r\n                                    <FontAwesomeIcon icon={faHandPointLeft} bounce\r\n                                    />\r\n                                    :\r\n                                    clickedItem.item.editable ?\r\n                                        (\r\n                                            <>\r\n                                                {/* <span\r\n                                        className=\"action-icon tree-toggle m-l-half\"\r\n                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_PROPERTIES\" })}\r\n                                        onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                    ></span>  */}\r\n                                            </>\r\n                                        )\r\n                                        : null\r\n                                }\r\n                                {/* </ul> */}\r\n                            </span>\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        // if (this.state.selectedItem) {\r\n        //     let selectedobj = this.state.selectedItem;\r\n        //         selectedobj.selected = false\r\n        //     this.setState({\r\n        //         selectedItem : selectedobj\r\n        //     })\r\n        // }\r\n        // this.setState({\r\n        //     selectedItem : event.item\r\n        // })             \r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.editable === true) {\r\n                    item.editable = false;\r\n                } else if (item.id === event.item.id) {\r\n                    item.editable = true;\r\n                    if (this.pointedItem) {\r\n                        if (this.pointedItem.id === item.id) {\r\n                            this.pointedItem = undefined\r\n                        }\r\n                    }\r\n                    let result = this.state.searchedTreeData;\r\n                    const indices =\r\n                        event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                    let itemText = \"\";\r\n\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    item.itemhierarchy = itemText;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            searchedData.map((data) => {\r\n                this.clearSelected(data, event.item)\r\n            })\r\n        }\r\n        let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n\r\n                let result = this.state.treeDataView;\r\n                const indices =\r\n                    event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n                let itemText = \"\";\r\n\r\n                for (let i = 0; i < indices.length; i++) {\r\n                    if (i === 0) {\r\n                        result = result[0];\r\n                    } else {\r\n                        result = result.items[indices[i]];\r\n                    }\r\n                    itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                }\r\n                item.itemhierarchy = itemText;\r\n            }\r\n            return item;\r\n        });\r\n        newData.map((data) => {\r\n            this.clearSelected(data, event.item)\r\n        })\r\n\r\n\r\n        this.setState({ treeDataView: newData, searchedTreeData: searchedData });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChangeView = (event) => {\r\n\r\n        let clickedItem = event.item\r\n        if (!event.item.expanded) {\r\n            //this.onItemClick(event)\r\n            let ParentItem = this.searchClickedItemParent(this.state.searchedTreeData &&\r\n                this.state.searchedTreeData[0] || this.state.treeDataView[0], clickedItem)\r\n            if (ParentItem) {\r\n                ParentItem.items.map(item => {\r\n                    item.expanded = false;\r\n                });\r\n            }\r\n            this.shrinkNodes(event.item);\r\n        }\r\n\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n    setProperties = (event, clickedItem) => {\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        //this.props.openPropertyModal(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, clickedItem, editId);\r\n        this.openPropertyModal(clickedItem, editId);\r\n\r\n    };\r\n\r\n    openPropertyModal(clickedItem, editId) {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"locationlastnode\"] = clickedItem.item.locationlastnode === undefined ? false :\r\n            clickedItem.item.locationlastnode;\r\n        selectedRecord[\"containerfirstnode\"] = clickedItem.item.containerfirstnode === undefined ? false :\r\n            clickedItem.item.containerfirstnode;\r\n        selectedRecord[\"containerlastnode\"] = clickedItem.item.containerlastnode === undefined ? false :\r\n            clickedItem.item.containerlastnode;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord, loadTreeProperties: true,\r\n                clickedItem, loading: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    handleChange = (e, clickedItem) => {\r\n        let searchedData = undefined;\r\n        if (this.state.searchedTreeData) {\r\n            searchedData = mapTree(this.state.searchedTreeData, \"items\", (item) => {\r\n                if (item.id === clickedItem.id) {\r\n                    item.text = e.target.value;\r\n                }\r\n                return item;\r\n            });\r\n        }\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.id === clickedItem.id) {\r\n                item.text = e.target.value;\r\n            }\r\n            return item;\r\n        });\r\n        this.setState({ treeData: newData, searchedTreeData: searchedData });\r\n    };\r\n    //generate Path for edited item \r\n    generatePathForEditedItem(ParentItem, indices) {\r\n        if (ParentItem.items && ParentItem.items.length > 0) {\r\n            let childArray = ParentItem.items;\r\n            if (childArray.length > 0) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i];\r\n                    let result = this.state.treeData;\r\n                    indices.push(i);\r\n                    let itemText = \"\";\r\n                    for (let i = 0; i < indices.length; i++) {\r\n                        if (i === 0) {\r\n                            result = result[0];\r\n                        } else {\r\n                            result = result.items[indices[i]];\r\n                        }\r\n                        itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n                    }\r\n                    childData.itemhierarchy = itemText;\r\n\r\n                    if (childData.items) {\r\n                        this.generatePathForEditedItem(childData, indices)\r\n                    }\r\n                    indices.pop();\r\n                }\r\n            }\r\n        } else {\r\n            let result = this.state.treeData;\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length; i++) {\r\n                if (i === 0) {\r\n                    result = result[0];\r\n                } else {\r\n                    result = result.items[indices[i]];\r\n                }\r\n                itemText = i > 0 ? itemText + \" > \" + result.text : result.text;\r\n            }\r\n            ParentItem.itemhierarchy = itemText;\r\n        }\r\n    }\r\n\r\n    handleBlur = (e, clickedItem, itemHierarchicalIndex) => {\r\n        clickedItem.editable = false;\r\n        //Added for creating path after edit \r\n        const indices = itemHierarchicalIndex.split('_').map(index => Number(index));\r\n        this.generatePathForEditedItem(clickedItem, indices);\r\n        this.setState({ toggleAction: !this.state.toggleAction });\r\n    };\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if(this.props.Login.operation ===\"create\" || this.props.Login.operation ===\"update\"){\r\n            this.onSaveSampleStorageLocation(saveType, formRef);\r\n        } else if(this.props.Login.operation === \"addinfo\"){\r\n            this.onSaveAdditionalInformation(saveType, formRef);\r\n        }\r\n    };\r\n    onSaveProperties = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        // if (this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT) {\r\n        if (this.props.Login.clickedItem && this.props.Login.clickedItem !== undefined) {\r\n            let inputData = [];\r\n            let jsondata = {}\r\n            let postParam = undefined;\r\n            let count = 0;\r\n            if (selectedRecord[\"locationlastnode\"] !== undefined && selectedRecord[\"locationlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerfirstnode\"] !== undefined && selectedRecord[\"containerfirstnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (selectedRecord[\"containerlastnode\"] !== undefined && selectedRecord[\"containerlastnode\"] === true) {\r\n                count = count + 1;\r\n            }\r\n            if (count > 1) {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTONLYONE\" }));\r\n            } else {\r\n                let haschild=false;\r\n                let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n                    if (item.id === this.props.Login.clickedItem.item.id) {\r\n                        if(item.hasOwnProperty('items')&&item.items!==undefined&&selectedRecord[\"containerlastnode\"]===true){\r\n                            haschild=true;\r\n                        }else{\r\n                            item.locationlastnode = selectedRecord[\"locationlastnode\"] !== undefined ? selectedRecord[\"locationlastnode\"] : false;\r\n                            item.containerfirstnode = selectedRecord[\"containerfirstnode\"] !== undefined ? selectedRecord[\"containerfirstnode\"] : false;\r\n                            item.containerlastnode = selectedRecord[\"containerlastnode\"] !== undefined ? selectedRecord[\"containerlastnode\"] : false;\r\n                        } \r\n                    }\r\n                    if (item.selected && item.selected === true) {\r\n                        item.selected = false;\r\n                    }\r\n                    return item;\r\n                });\r\n                if(haschild===true){\r\n                    toast.info( this.props.intl.formatMessage({ id:  \"IDS_STORAGELOCATIONENDCANNOTHAVECHILDNODE\" })\r\n                   \r\n                    );\r\n                }else{\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            treeData: newData,\r\n                            selectedRecord, loadTreeProperties: false,\r\n                            loading: false\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo)\r\n                } \r\n            }\r\n        }\r\n        // } else {\r\n        //     toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTRECORD\" }));\r\n        // }\r\n    }\r\n    onSaveSampleStorageLocation = (saveType, formRef) => {\r\n\r\n        const { selectedRecord } = this.state;\r\n\r\n        // if (selectedRecord[\"nstoragecategorycode\"] && selectedRecord[\"nstoragecategorycode\"] !== undefined) {\r\n        //     if (selectedRecord[\"ssamplestoragelocationname\"] && selectedRecord[\"ssamplestoragelocationname\"].length > 0) {\r\n\r\n        let inputData = [];\r\n        let jsondata = {}\r\n        let postParam = undefined;\r\n        let countLevels = 0;\r\n\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            }\r\n            if (item.expanded === false) {\r\n                item.expanded = true;\r\n            }\r\n            item.expanded = false;\r\n            countLevels++;\r\n            return item;\r\n        });\r\n\r\n        // let lhs = JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data;\r\n        // let rhs = newData;\r\n\r\n        // console.log(detailedDiff(lhs, rhs));\r\n\r\n        // return;\r\n        // postParam = { inputListName: \"SampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\" };\r\n\r\n        if (countLevels > 3) {\r\n\r\n\r\n            jsondata[\"data\"] = newData;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n            inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n\r\n            inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = selectedRecord[\"ssamplestoragelocationname\"];\r\n            inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = selectedRecord[\"nstoragecategorycode\"].value;\r\n\r\n\r\n            if(this.props.Login.operation === \"create\"){\r\n                 inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? \r\n                                                                      selectedRecord[\"nproductcode\"].value    : -1;\r\n                inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ?\r\n                                                                         selectedRecord[\"nprojecttypecode\"].value : -1;\r\n                inputData[\"sampleStorageLocation\"][\"nquantity\"]= selectedRecord['nquantity'] ?parseInt(selectedRecord['nquantity']) : 0;\r\n                inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord['nunitcode'] ? parseInt(selectedRecord['nunitcode']) : -1;\r\n\r\n                inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"]  ? 3 : 4;\r\n                inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ?\r\n                    {\r\n                        ...inputData[\"sampleStorageLocation\"],\r\n                        ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\r\n                        ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\r\n                        nneedposition: 3,\r\n                        ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\r\n                        nnoofcontainer: selectedRecord['nnoofcontainer'] ?  parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        nrow:selectedRecord['nrow'] ,\r\n                        ncolumn: selectedRecord['ncolumn']\r\n\r\n                    } : {\r\n                        ...inputData[\"sampleStorageLocation\"],\r\n                        ncontainertypecode: -1,\r\n                        ndirectionmastercode: 1,\r\n                        nneedposition: 4,\r\n                        ncontainerstructurecode: -1, nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                        //ALPD-3353\r\n                        nrow:selectedRecord['nrow']===undefined || selectedRecord['nrow']===0 ?1 :selectedRecord['nrow'] ,\r\n                        ncolumn: selectedRecord['ncolumn']===undefined || selectedRecord['ncolumn']===0 ?1:selectedRecord['ncolumn']\r\n                    }\r\n\r\n            }\r\n\r\n\r\n           \r\n           \r\n\r\n            inputData[\"sampleStorageVersion\"][\"jsondata\"] = jsondata;\r\n\r\n            if (this.props.Login.operation === \"create\") {\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"create\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // }\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n            } else {\r\n                inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n                // inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"].value\r\n                // inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"].value\r\n\r\n                inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n                inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"update\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                    // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n                }\r\n\r\n            }\r\n        } else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_CREATEATLEASTFOURLEVELS\" }));\r\n        }\r\n\r\n    }\r\n\r\n    onSaveAdditionalInformation = (saveType, formRef) => {\r\n        const { selectedRecord } = this.state;\r\n        let inputData = [];\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nprojecttypecode\"] = selectedRecord[\"nprojecttypecode\"] && selectedRecord[\"nprojecttypecode\"].value ? selectedRecord[\"nprojecttypecode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nunitcode\"] = selectedRecord[\"nunitcode\"] && selectedRecord[\"nunitcode\"].value ? selectedRecord[\"nunitcode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nquantity\"] = selectedRecord[\"nquantity\"] && selectedRecord[\"nquantity\"] ? parseFloat(selectedRecord[\"nquantity\"]) : 0;\r\n        inputData[\"sampleStorageLocation\"][\"nproductcode\"] = selectedRecord[\"nproductcode\"] && selectedRecord[\"nproductcode\"].value ? selectedRecord[\"nproductcode\"].value : -1;\r\n        inputData[\"sampleStorageLocation\"][\"nneedautomapping\"] = selectedRecord[\"nneedautomapping\"] ? 3 : 4;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] =this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode? this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode:0;\r\n        inputData[\"sampleStorageLocation\"] = selectedRecord['nneedposition'] === true ?\r\n                {\r\n                    ...inputData[\"sampleStorageLocation\"],\r\n                    ncontainertypecode: selectedRecord['ncontainertypecode'].value ? selectedRecord['ncontainertypecode'].value : -1,\r\n                    ndirectionmastercode: selectedRecord['ndirectionmastercode'].value,\r\n                    nneedposition: 3,\r\n                    ncontainerstructurecode: selectedRecord['ncontainerstructurecode'].value ? selectedRecord['ncontainerstructurecode'].value : -1,\r\n                    // nquantity: selectedRecord['nquantity'] ? parseInt(selectedRecord['nquantity']) : 1,\r\n                    nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                    nrow:selectedRecord['nrow'] ,\r\n\t\t\t\t\tncolumn: selectedRecord['ncolumn']\r\n\r\n                } : {\r\n                    ...inputData[\"sampleStorageLocation\"],\r\n                    ncontainertypecode: -1,\r\n                    ndirectionmastercode: 1,\r\n                    nneedposition: 4,\r\n                    ncontainerstructurecode: -1,\r\n                    // nquantity: selectedRecord['nquantity'] ?  parseInt(selectedRecord['nquantity']) : 1,\r\n                     nnoofcontainer: selectedRecord['nnoofcontainer'] ? parseInt(selectedRecord['nnoofcontainer']) : 1,\r\n                    nrow:selectedRecord['nrow'] ,\r\n                    ncolumn: selectedRecord['ncolumn']\r\n                }\r\n\r\n                const inputParam = {\r\n                    classUrl: \"samplestoragelocation\",\r\n                    methodUrl: \"SampleStorageLocation\",\r\n                    displayName: this.props.Login.inputParam.displayName,\r\n                    inputData: inputData,\r\n                    operation: \"addinfo\", saveType, formRef\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n\r\n            \r\n        \r\n    }\r\n\r\n    deleteSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n\r\n        let inputData = [];\r\n        inputData[\"sampleStorageVersion\"] = {};\r\n        inputData[\"sampleStorageLocation\"] = {};\r\n\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"]\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"]\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"napprovalstatus\"]\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = this.props.Login.masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"]\r\n        inputData[\"sampleStorageLocation\"][\"ssamplestoragelocationname\"] = this.props.Login.masterData.selectedSampleStorageLocation[\"ssamplestoragelocationname\"]\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageLocation\",\r\n            classUrl: \"samplestoragelocation\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudSampleStorageLocation(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\",\r\n            this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteSampleStorageLocation(ncontrolCode));\r\n    };\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.props.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    calculateRowColumn = (Row, column) => {\r\n        let nnoofcontainer = Row * column;\r\n        return nnoofcontainer;\r\n    }\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemapping/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nnoofcontainer: selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(containerStructureOptions[0].item.nrow,\r\n                        containerStructureOptions[0].item.ncolumn) : 1,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            if (this.searchRef.current) {\r\n                this.searchRef.current.value = \"\";\r\n            }\r\n\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else {\r\n            if (fieldName === 'nstoragecategorycode') {\r\n                this.getSampleStorageLocation({\r\n                    userinfo: this.props.userInfo,\r\n                    nstoragecategorycode: comboData.value\r\n                }, fieldName, comboData);\r\n            } else if (fieldName === 'ncontainertypecode') {\r\n                this.getContainerStructure({\r\n                    userinfo: this.props.userInfo,\r\n                    ncontainertypecode: comboData.value\r\n                }, fieldName, comboData);\r\n\r\n            } else if (fieldName === 'ncontainerstructurecode') {\r\n                selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n                selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n                selectedRecord['nnoofcontainer'] = selectedRecord[\"nneedposition\"] === true ? this.calculateRowColumn(selectedRecord['nrow'],\r\n                    selectedRecord['ncolumn']) : 1\r\n\r\n            } else if (fieldName === 'nsamplestoragelocationcode') {\r\n                this.getSampleStorageLocation({\r\n                    userinfo: this.props.userInfo,\r\n                    nstoragecategorycode: this.props.selectedRecordFilter['nstoragecategorycode'].value,\r\n                    nsamplestoragelocationcode: comboData.value\r\n\r\n                }, fieldName, comboData);\r\n            }\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n\r\n    }\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.selectedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.searchRef.current.value = \"\";\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilter(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n\r\n    onApproveSampleStorageLocation = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let inputData = [];\r\n        let locationEnd = false;\r\n        let storageStart = false;\r\n        let storageEnd = false;\r\n        let containers = [];\r\n        let containerpath = [];\r\n        let containerlastnode = [];\r\n        mapTree(this.state.treeDataView\r\n            //this.state.treeData\r\n            , \"items\", (item) => {\r\n                if (item.locationlastnode === true) {\r\n                    locationEnd = true;\r\n                }\r\n                if (item.containerfirstnode === true) {\r\n                    storageStart = true;\r\n                    containers.push({ itemHierarchy: item.itemhierarchy, scontainercode: item.id });\r\n                }\r\n                if (item.containerlastnode === true) {\r\n                    storageEnd = true;\r\n                    containerpath.push({scontainerpath:item.itemhierarchy});\r\n                    containerlastnode.push(item.text);\r\n                }\r\n                return null;\r\n            });\r\n        // if (locationEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTLOCATIONEND\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageStart === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGESTART\" }));\r\n        //     return;\r\n        // }\r\n        // if (storageEnd === false) {\r\n        //     toast.warning(this.props.intl.formatMessage({ id: \"IDS_PLEASESELECTSTORAGEEND\" }));\r\n        //     return;\r\n        // }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n        inputData[\"containers\"] = containers;\r\n        inputData[\"containerpath\"] = JSON.stringify(containerpath);\r\n        inputData[\"containerpathsize\"] = containerpath.length;\r\n        inputData[\"containerlastnode\"] = JSON.stringify(containerlastnode);\r\n        inputData[\"propertyValidation\"] = { \"locationEnd\": locationEnd, \"storageStart\": storageStart, \"storageEnd\": storageEnd };\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        inputData[\"selectedSampleStorageLocation\"] = masterData.selectedSampleStorageLocation;\r\n\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",\r\n            userInfo: this.props.Login.userInfo, operation: \"Approve\",\r\n            selectedRecord:{...this.state.selectedRecord}\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"Approve\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    viewAdditionalInfo = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                isView: true,\r\n                openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    additionalInformation=(selectedSampleStorageVersion,userInfo,addInfoId) => {\r\n\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.additionalInformationData(selectedSampleStorageVersion, userInfo, isOnlyDraft, addInfoId);\r\n\r\n    }\r\n\r\n\r\n    importdata = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: 'IDS_IMPORT',\r\n                openModal: true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    copySampleStorageversion = (ncontrolCode) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n\r\n        let inputData = [];\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n        inputData[\"sampleStorageLocation\"] = { \"nstatus\": 1 };\r\n        inputData[\"sampleStorageVersion\"] = { \"nstatus\": 1 };\r\n\r\n        inputData[\"sampleStorageVersion\"][\"napprovalstatus\"] = masterData.selectedSampleStorageVersion[\"napprovalstatus\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestorageversioncode\"] = masterData.selectedSampleStorageVersion[\"nsamplestorageversioncode\"];\r\n        inputData[\"sampleStorageVersion\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n\r\n        inputData[\"sampleStorageLocation\"][\"nstoragecategorycode\"] = masterData.selectedSampleStorageVersion[\"nstoragecategorycode\"];\r\n        inputData[\"sampleStorageLocation\"][\"nsamplestoragelocationcode\"] = masterData.selectedSampleStorageVersion[\"nsamplestoragelocationcode\"];\r\n        const inputParam = {\r\n            inputData: inputData,\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageVersion\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",\r\n            userInfo: this.props.Login.userInfo, operation: \"copy\"\r\n        };\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, openModal: true, operation: \"copy\",\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.approveSampleStorageLocation(this.props.Login.userInfo, this.props.Login.masterData);\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n    }\r\n    reloadData = () => {\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n       \r\n        // let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        let nfilterStorageCategory = this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.nfilterStorageCategory;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragelocation\",\r\n            methodUrl: \"SampleStorageLocation\",\r\n            displayName: \"IDS_STORAGESTRUCTURE\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onNumericInputChange = (value, field) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let constantvalue = value.target.value ;\r\n\r\n        if (field === 'nnoofcontainer') {\r\n            if (constantvalue !== 0) {\r\n                selectedRecord['nrow'] = 1;\r\n                selectedRecord['ncolumn'] = constantvalue;\r\n            } else {\r\n                selectedRecord['nrow'] && delete selectedRecord['nrow'];\r\n                selectedRecord['ncolumn'] && delete selectedRecord['ncolumn']\r\n            }\r\n\r\n        }\r\n        if (!isNaN(constantvalue)) {\r\n            selectedRecord[field] = constantvalue;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageLocation = (addId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n        if (this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0) {\r\n            this.props.fetchStorageCategory({ userInfo: this.props.Login.userInfo, id: uuid(), nfilterStorageCategory: this.state.nfilterStorageCategory, addId });\r\n        } else {\r\n            toast.warning(this.props.intl.formatMessage({ id: \"IDS_SELECTSTORAGECATEGORY\" }));\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageStructure\") && this.state.controlMap.get(\"Add SampleStorageStructure\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageStructure\") && this.state.controlMap.get(\"Edit SampleStorageStructure\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageStructure\") && this.state.controlMap.get(\"Delete SampleStorageStructure\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageStructure\") && this.state.controlMap.get(\"Copy SampleStorageStructure\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageStructure\") && this.state.controlMap.get(\"Approve SampleStorageStructure\").ncontrolcode;\r\n        const addInfoId = this.state.controlMap.has(\"AdditionalInformation\") && this.state.controlMap.get(\"AdditionalInformation\").ncontrolcode;\r\n\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"samplestoragelocation/getSelectedSampleStorageLocation\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n        const infoFields = [\r\n            { \"dataField\": \"sstoragecategoryname\", \"idsName\": \"IDS_STORAGECATEGORY\" },\r\n            { \"dataField\": \"ssamplestoragelocationname\", \"idsName\": \"IDS_STORAGESTRUCTURENAME\" },\r\n            { \"dataField\": \"sprojecttypename\", \"idsName\": \"IDS_PROJECT\" },\r\n            { \"dataField\": \"sproductname\", \"idsName\": \"IDS_PRODUCT\" }, \r\n            { \"dataField\": \"nquantity\", \"idsName\": \"IDS_QUANTITY\" },\r\n            { \"dataField\": \"sunitname\", \"idsName\": \"IDS_UNIT\" },\r\n            { \"dataField\": \"scontainertype\", \"idsName\": \"IDS_CONTAINERTYPE\" },\r\n            { \"dataField\": \"scontainerstructurename\", \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\" },\r\n            { \"dataField\": \"nnoofcontainer\", \"idsName\": \"IDS_NOOFSAMPLECONTAINER\" },\r\n            { \"dataField\": \"sdirection\", \"idsName\": \"IDS_DIRECTION\" },\r\n            { \"dataField\": \"nrow\", \"idsName\": \"IDS_ROWS\" },\r\n            { \"dataField\": \"ncolumn\", \"idsName\": \"IDS_COLUMNS\" },  \r\n            { \"dataField\": \"sneedautomapping\", \"idsName\": \"IDS_AUTOMAPPING\" }];\r\n\r\n        // const mandatoryFields =\r\n        //     this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n        //         this.state.selectedRecord[\"nneedposition\"] === false ?\r\n        //         [\r\n        //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // {\r\n        //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n        //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n        //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             // }\r\n        //         ]\r\n        //         : [\r\n\r\n        //             { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        //             { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"nproductcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"textbox\" },\r\n        //             // {\r\n        //             //     \"idsName\": \"IDS_AVAILABLEQUANTITY\",\r\n        //             //     \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n        //             //         \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             // },  \r\n        //             {\r\n        //                 \"idsName\": \"IDS_CONTAINERTYPE\",\r\n        //                 \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n        //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n        //             },\r\n        //             {\r\n        //                 \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n        //                 \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n        //                     \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n        //             },\r\n        //             {\r\n        //                 \"idsName\": \"IDS_DIRECTION\",\r\n        //                 \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n        //                     \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n        //             }\r\n        //         ]\r\n\r\n\r\n\r\n\r\n            const mandatoryFields =\r\n              this.state.selectedRecord[\"nneedposition\"] === undefined ||  this.state.selectedRecord[\"nneedposition\"] === false && this.props.Login.operation !==\"addinfo\" ?\r\n                [\r\n                    { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                ] : this.props.Login.operation ===\"create\" ? [                    \r\n                    { \"idsName\": \"IDS_STORAGECATEGORY\", \"dataField\": \"nstoragecategorycode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_STORAGESTRUCTURENAME\", \"dataField\": \"ssamplestoragelocationname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                ] : this.props.Login.operation ===\"addinfo\" && this.state.selectedRecord[\"nneedposition\"] !== undefined&& this.state.selectedRecord[\"nneedposition\"] === true   ? [ \r\n                    { \"idsName\": \"IDS_CONTAINERTYPE\",\"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n                    { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n                    { \"idsName\": \"IDS_DIRECTION\",\"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"selectbox\" }\r\n\r\n                ] :\"\"\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true}>\r\n                        <Col md={12} className=\"parent-port-height\">\r\n                            {/* <Col md={12} className='parent-port-height-nobreadcrumb sticky_head_parent' ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <ListWrapper> */}\r\n                            <SplitterLayout borderColor=\"#999\" percentage={true} primaryIndex={1} onSecondaryPaneSizeChange={this.paneSizeChange} secondaryInitialSize={25} primaryMinSize={40} secondaryMinSize={20}>\r\n                                {/* First column */}\r\n                                <TransactionListMasterJsonView\r\n                                    paneHeight={this.state.parentHeight}\r\n                                    needMultiSelect={false}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.sampleStorageLocation || []}\r\n                                    selectedMaster={this.props.Login.masterData.selectedSampleStorageLocation &&\r\n                                        [this.props.Login.masterData.selectedSampleStorageLocation]}\r\n                                    primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                    getMasterDetail={(selectedItem) =>\r\n                                        this.props.getSelectedSampleStorageLocation(\r\n                                            selectedItem,\r\n                                            this.props.Login.userInfo, this.props.Login.masterData\r\n                                        )}\r\n                                    inputParam={{\r\n                                        userInfo: this.props.Login.userInfo,\r\n                                        masterData: this.props.Login.masterData\r\n                                    }}\r\n                                    mainField={\"ssamplestoragelocationname\"}\r\n                                    selectedListName=\"selectedSampleStorageLocation\"\r\n                                    objectName=\"LocationMaster\"\r\n                                    listName=\"IDS_STORAGESTRUCTURE\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    searchListName=\"searchedData\"\r\n                                    searchRef={this.searchRef}\r\n                                    filterParam={filterParam}\r\n                                    showFilter={this.props.Login.showFilter}\r\n                                    openFilter={this.openFilter}\r\n                                    closeFilter={this.closeFilter}\r\n                                    onFilterSubmit={this.onFilterSubmit}\r\n                                    needFilter={true}\r\n                                    hidePaging={false}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    commonActions={\r\n                                        <ProductList className=\"d-flex product-category float-right\">\r\n                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                onClick={() => this.openStorageLocation(addId)}>\r\n                                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                            </Button>\r\n                                            <Button className=\"btn btn-circle outline-grey ml-2 p-0\" variant=\"link\"\r\n                                                onClick={() => this.reloadData()}\r\n                                                // data-for=\"tooltip-common-wrap\"\r\n                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                    <RefreshIcon className='custom_icons'/>\r\n                                            </Button>\r\n                                        </ProductList>\r\n                                    }\r\n                                    filterComponent={[\r\n                                        {\r\n                                            \"IDS_TESTFILTER\":\r\n                                                <StorageCategoryFilter\r\n                                                    filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                    nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                    onComboChange={this.onComboChange}\r\n                                                />\r\n                                        }\r\n                                    ]}\r\n\r\n                                />\r\n\r\n                                {/* End of first column */}\r\n                                <SplitterLayout vertical borderColor=\"#999\" percentage={true} primaryIndex={1} //secondaryInitialSize={400}\r\n                                    customClassName=\"fixed_list_height\">\r\n                                    {/* <PerfectScrollbar> */}\r\n                                    {/* Start of second column */}\r\n                                    <div className=\"card_group\">\r\n                                        <Row>\r\n                                            <Col md={3} style={{ paddingRight: '0' }}>\r\n                                                {/* Start of version column */}\r\n                                                <TransactionListMasterJsonView\r\n                                                    masterList={this.props.Login.masterData.searchedData ||\r\n                                                        this.props.Login.masterData.sampleStorageVersion || []}\r\n                                                    needMultiSelect={false}\r\n                                                    selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion &&\r\n                                                        [this.props.Login.masterData.selectedSampleStorageVersion]}\r\n                                                    primaryKeyField=\"nsamplestorageversioncode\"\r\n                                                    getMasterDetail={(selectedItem) =>\r\n                                                        this.props.getSelectedSampleStorageVersion(\r\n                                                            selectedItem, this.props.Login.userInfo,\r\n                                                            this.props.Login.masterData\r\n                                                        )}\r\n                                                    inputParam={{\r\n                                                        userInfo: this.props.Login.userInfo,\r\n                                                        masterData: this.props.Login.masterData\r\n                                                    }}\r\n                                                    mainField={\"nversionno\"}\r\n                                                    mainFieldLabel={this.props.intl.formatMessage({ id: \"IDS_VERSION\" })}\r\n                                                    selectedListName=\"selectedSampleStorageVersion\"\r\n                                                    objectName=\"Version\"\r\n                                                    listName=\"IDS_SAMPLESTORAGEVersion\"\r\n                                                    hideSearch={true}\r\n                                                    needValidation={false}\r\n                                                    needFilter={false}\r\n                                                    moreField={[]}\r\n                                                    skip={this.state.detailSkip}\r\n                                                    take={this.state.detailTake}\r\n                                                    hidePaging={true}\r\n                                                    handlePageChange={this.handleDetailPageChange}\r\n                                                    splitModeClass={this.state.splitChangeWidthPercentage && this.state.splitChangeWidthPercentage > 50 ? 'split-mode' : this.state.splitChangeWidthPercentage > 40 ? 'split-md' : ''}\r\n                                                // actionIcons={\r\n                                                //     [\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                //             controlname: \"faPencilAlt\",\r\n                                                //             objectName: \"detailtoedit\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\r\n                                                //             onClick: (e) => this.props.editSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, this.props.Login.masterData),\r\n                                                //         },\r\n                                                //         {\r\n                                                //             title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                //             controlname: \"faTrashAlt\",\r\n                                                //             objectName: \"mastertodelete\",\r\n                                                //             hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\r\n                                                //             onClick: () => this.confirmDelete(deleteId)\r\n                                                //         }\r\n                                                //     ]\r\n                                                // }\r\n                                                />\r\n                                                {/* End of version column */}\r\n                                            </Col>\r\n                                            <Col md={9}>\r\n                                                {/* Start of detailed content */}\r\n                                                <ProductList className=\"panel-main-content grid-master \">\r\n                                                    {this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.length > 0 && this.props.Login.masterData.selectedSampleStorageLocation ?\r\n                                                        <Card className=\"border-0\">\r\n                                                            <Card.Header>\r\n                                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedSampleStorageLocation.ssamplestoragelocationname}</Card.Title>\r\n                                                                <Card.Subtitle>\r\n                                                                    <div className=\"d-flex product-category\">\r\n                                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                            <Nav.Link className=\"action-icons-wrap mr-2 pl-0\">\r\n                                                                                {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n\r\n                                                                                    <span className={`btn btn-outlined  outline-secondary btn-sm mr-3`}>\r\n                                                                                        <FormattedMessage id={\"IDS_DRAFT\"} defaultMessage=\"Draft\" />\r\n                                                                                    </span>\r\n                                                                                    :\r\n                                                                                    this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.RETIRED ?\r\n\r\n                                                                                        <span className={`btn btn-outlined outline-danger btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_RETIRED\"} defaultMessage=\"Retired\" />\r\n                                                                                        </span>\r\n                                                                                        :\r\n                                                                                        <span className={`btn btn-outlined outline-success btn-sm mr-3`}>\r\n                                                                                            <FormattedMessage id={\"IDS_APPROVED\"} defaultMessage=\"Approved\" />\r\n                                                                                        </span>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </h2>\r\n                                                                        <div className=\"d-inline\">\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link className=\"btn btn-circle 1 outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                                    onClick={(e) => this.onEditSampleStorageLocation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, editId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                :\r\n                                                                                <>    <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                                    onClick={(e) => this.copySampleStorageversion(copyId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faCopy} />\r\n\r\n                                                                                </Nav.Link>\r\n                                                                                    {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                        //hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                                        // data-for=\"tooltip_list_wrap\"\r\n                                                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_IMPORT\" })}\r\n                                                                                        onClick={(e) => this.importdata(copyId)}\r\n                                                                                    >\r\n                                                                                        <FontAwesomeIcon icon={faFileImport} />\r\n\r\n                                                                                    </Nav.Link> */}\r\n\r\n                                                                                </>\r\n\r\n                                                                            } \r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(addInfoId) === -1}\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADDITIONALINFO\" })}\r\n                                                                                onClick={(e) => this.additionalInformation(this.props.Login.masterData.selectedSampleStorageVersion, this.props.Login.userInfo, addInfoId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faInfoCircle} />\r\n                                                                            </Nav.Link>                                                                            \r\n\r\n                                                                            <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                // data-for=\"tooltip_list_wrap\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                onClick={() => this.confirmDelete(deleteId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            </Nav.Link>\r\n                                                                            {this.props.Login.masterData.selectedSampleStorageVersion.napprovalstatus === transactionStatus.DRAFT ?\r\n                                                                                <Nav.Link name=\"QB\" className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                                    hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                                    // data-for=\"tooltip_list_wrap\"\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                                    onClick={() => this.onApproveSampleStorageLocation(approveId)}\r\n                                                                                >\r\n                                                                                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                                </Nav.Link>\r\n                                                                                : \"\"\r\n                                                                            }\r\n                                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 \" href=\"#\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_VIEW\" })}\r\n                                                                                onClick={(e) => this.viewAdditionalInfo(copyId)}\r\n                                                                            >\r\n                                                                                <FontAwesomeIcon icon={faEye} />\r\n                                                                            </Nav.Link>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </Card.Subtitle>\r\n                                                            </Card.Header>\r\n                                                            <Card.Body >\r\n                                                                <Col md={12}>\r\n\r\n                                                                    <div className={`list-group-search tool-search ${this.state.showSearch ? 'activesearch' : \"\"}`}>\r\n                                                                        <SearchIcon className=\"search-icon\" onClick={this.toggleSearch}>\r\n                                                                            <FontAwesomeIcon icon={faSearch} />\r\n                                                                        </SearchIcon>\r\n                                                                        <FormControl // ref={this.searchRef}\r\n                                                                         autoComplete=\"off\"\r\n                                                                            className='k-textbox' onChange={this.handleSearch}\r\n                                                                            placeholder={`${this.props.intl.formatMessage({ id: \"IDS_FILTER\" })}`}\r\n                                                                            name={\"search\"} onKeyUp={(e) => this.handlenavigation(e, 'down')}\r\n                                                                        />\r\n                                                                        {!this.props.showSearch ?\r\n                                                                            <>\r\n                                                                                <span className='search-up-down'>\r\n                                                                                    <FontAwesomeIcon icon={faChevronUp} onClick={(e) => this.handlenavigation(e, 'up')} />\r\n                                                                                    <FontAwesomeIcon icon={faChevronDown} onClick={(e) => this.handlenavigation(e, 'down')} />\r\n                                                                                    {/* <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'down')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowDown} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button>\r\n\r\n                                                                                                <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" \r\n                                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEUP\" })}  \r\n                                                                                                    onClick={(e)=>this.handlenavigation(e,'up')}>\r\n                                                                                                    <FontAwesomeIcon icon={faArrowUp} title={this.props.intl.formatMessage({ id: \"IDS_NAVIGATEDOWN\" })} />\r\n                                                                                                </Button> */}\r\n                                                                                </span>\r\n                                                                            </>\r\n                                                                            : \"\"}\r\n                                                                        {this.props.showSearch ?\r\n                                                                            <SearchIcon className=\"close-right-icon\" onClick={this.toggleSearch}>\r\n                                                                                <FontAwesomeIcon icon={faTimes} />\r\n                                                                            </SearchIcon>\r\n                                                                            : \"\"}\r\n                                                                    </div>\r\n                                                                    <div className='tree-view-container'>\r\n                                                                        <TreeViewEditable\r\n                                                                            id=\"samplestoragelocation\"\r\n                                                                            name=\"samplestoragelocation\"\r\n                                                                            // label=\"Sample Storage Location\"\r\n                                                                            data={this.state.searchedTreeData || this.state.treeDataView}\r\n                                                                            expandIcons={true}\r\n                                                                            selectField={'active-node'}\r\n                                                                            item={this.itemRenderView}\r\n                                                                            onExpandChange={this.onExpandChangeView}\r\n                                                                            onItemClick={this.onItemClickView}\r\n                                                                        />\r\n                                                                    </div>\r\n                                                                </Col>\r\n                                                            </Card.Body>\r\n                                                        </Card>\r\n                                                        : \"\"}\r\n\r\n                                                </ProductList>\r\n                                                {/* End of detailed content */}\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </div>\r\n                                    {/* End of second column */}\r\n                                    {/* </PerfectScrollbar> */}\r\n\r\n                                </SplitterLayout>\r\n\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n                {<ModalShow\r\n                    modalShow={this.props.Login.loadTreeProperties}\r\n                    modalTitle={this.props.intl.formatMessage({ id: \"IDS_STORAGESTRUCTURE\" })}\r\n                    closeModal={this.closeModalShow}\r\n                    onSaveClick={this.onSaveClick}\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    modalBody={\r\n                        <AddTreeProperties\r\n                            onInputChange={(e) => this.onInputChange(e)}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                    }\r\n                />}\r\n\r\n\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        hideSave={this.props.Login.isView}\r\n                        operation={this.props.Login.isView ? \"\" : this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.isView ? this.props.intl.formatMessage({ id: \"IDS_VIEW\" }) :\r\n                            this.props.Login.operation ===\"addinfo\" ? \"\" :\r\n                            this.props.intl.formatMessage({ id: \"IDS_STORAGESTRUCTURE\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.loadTreeProperties === true ? [] : mandatoryFields}\r\n                        addComponent={\r\n                            this.props.Login.isView ?\r\n                                <>\r\n\r\n                                    <Row>\r\n                                        {\r\n                                            infoFields.map((item, index) => {\r\n                                                return (\r\n                                                    <>\r\n                                                        <Col md={6} >\r\n                                                            <FormGroup>\r\n                                                                <FormLabel>{this.props.intl.formatMessage({ id: item.idsName })}</FormLabel>\r\n                                                                <ReadOnlyText>{this.props.Login.masterData.selectedSampleStorageLocation[item.dataField] ?\r\n                                                                    this.props.Login.masterData.selectedSampleStorageLocation[item.dataField] : '-'\r\n                                                                }</ReadOnlyText>\r\n                                                            </FormGroup>\r\n                                                        </Col>\r\n                                                    </>\r\n                                                )\r\n                                            })}\r\n                                    </Row>\r\n                                </>\r\n                                :\r\n                                this.props.Login.screenName === 'IDS_IMPORT'\r\n                                    ? <>\r\n                                        {/* <Upload\r\n                                        batch={false}\r\n                                        multiple={false}\r\n                                        defaultFiles={[]}\r\n                                        withCredentials={false}\r\n                                        autoUpload={false}\r\n                                        onAdd={this.handleAdd}\r\n                                    /> */}\r\n                                        <hr />\r\n                                        {/* <Grid data={this.state.data} key={this.state.data} /> */}\r\n                                    </> :\r\n                                    this.props.Login.loadEsign ?\r\n                                        <Esign operation={this.props.Login.operation}\r\n                                            formatMessage={this.props.intl.formatMessage}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            inputParam={this.props.Login.inputParam}\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                        />\r\n                                        :\r\n                                        // this.props.Login.loadTreeProperties ? (\r\n                                        //     <AddTreeProperties\r\n                                        //         onInputChange={(e) => this.onInputChange(e)}\r\n                                        //         selectedRecord={this.state.selectedRecord || {}}\r\n                                        //     />\r\n                                        // ) \r\n                                       // :\r\n                                         this.state.treeData ? (\r\n                                            <>\r\n                                                <div>\r\n                                                    {/* <input className='k-textbox' onChange={this.handleSearch}/>\r\n                                <hr /> */}\r\n                                                    <AddTreeview\r\n                                                        clearSearchedState={this.clearSearchedState}\r\n                                                        toggleSearch={this.toggleSearch}\r\n                                                        handleSearch={this.handleSearch}\r\n                                                        handlenavigation={this.handlenavigation}\r\n                                                        showSearch={this.state.showSearch}\r\n                                                        treeData={//this.state.searchedTreeData||\r\n                                                            this.state.treeData}\r\n                                                        onInputChange={(e) => this.onInputChange(e)}\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        itemRender={this.itemRender}\r\n                                                        onExpandChange={this.onExpandChange}\r\n                                                        onItemClick={this.onItemClick}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onItemDragOver={this.onItemDragOver}\r\n                                                        onItemDragEnd={this.onItemDragEnd}\r\n                                                        onNumericInputChange={this.onNumericInputChange}\r\n                                                        operation ={this.props.Login.operation}\r\n                                                        storageCategoryList={this.props.Login.storageCategoryList || []}\r\n                                                        projectTypeMapList={this.props.Login.projectTypeMapList || []}\r\n                                                        sampleTypeList={this.props.Login.sampleTypeList || []}\r\n                                                        isOnlyDraft={this.props.Login.isOnlyDraft}\r\n                                                        unitMapList={this.props.Login.unitMapList}\r\n                                                    />\r\n                                                </div></>\r\n                                        ) :\"\"\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, filterColumnData, changeStorageCategoryFilter,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion, crudSampleStorageLocation,additionalInformationData\r\n})(injectIntl(SampleStorageLocation));"]},"metadata":{},"sourceType":"module"}