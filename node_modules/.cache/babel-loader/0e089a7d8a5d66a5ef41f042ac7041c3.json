{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{toast}from'react-toastify';import{callService,crudMaster}from'../../../actions';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faCopy,faThumbsUp,faTrashAlt}from'@fortawesome/free-solid-svg-icons';import{sortData,getControlMap,showEsign,constructOptionList,validateCreateView}from'../../../components/CommonScript';import{process}from'@progress/kendo-data-query';import ListMaster from'../../../components/list-master/list-master.component';import Esign from'../../audittrail/Esign';import SampleFilter from'./SampleFilter';import AddApprovalConfig from'./AddApprovalConfig';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import{openModal,updateStore,getApprovalConfigVersion,getApprovalConfigEditData,copyVersion,setDefault,validateEsignCredential,getFilterChange,getRoleDetails,getCopySubType,filterColumnData,getApprovalConfigurationVersion,approveVersion}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{ApprovalSubType,designProperties,transactionStatus}from'../../../components/Enumeration';import FilterStatusTab from'./FilterStatusTab';import ValidationStatusTab from'./ValidationStatusTab';import UserRoleAccordion from'./UserRoleAccordion';import CustomAccordion from'../../../components/custom-accordion/custom-accordion.component';import DecisionStatusTab from'./DecisionStatusTab';import ActionStatusTab from'./ActionStatusTab';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport BreadcrumbComponent from'../../../components/Breadcrumb.Component';import ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import{Affix}from'rsuite';import FormInput from'../../../components/form-input/form-input.component';import FormSelectSearch from'../../../components/form-select-search/form-select-search.component';// import ReactTooltip from 'react-tooltip';\nvar mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ApprovalConfig=/*#__PURE__*/function(_React$Component){_inherits(ApprovalConfig,_React$Component);var _super=_createSuper(ApprovalConfig);function ApprovalConfig(props){var _this;_classCallCheck(this,ApprovalConfig);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.handleClose=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.deleteApprovalConfigVersion=function(deleteId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo}// unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\n//  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\n//     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\n};var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue.value,userinfo:_this.props.Login.userInfo}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"delete\",selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.approveVersion=function(approveId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{if(_this.approvalSubTypeValue.value===2){var inputData={// 'approvalconfigversion': {\nnapprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.value:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.label:\"\",nregtypecode:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue.value:-1// nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\n// }\n};inputData['userinfo']=_this.props.Login.userInfo;//  inputData['userinfo'] = this.props.Login.userInfo\nvar inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,operation:\"approve\",ncontrolcode:approveId};//const masterData = this.props.Login.masterData;\n_this.props.approveVersion(inputParam);// if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             loadEsign: true, screenData: { inputParam, masterData },\n//             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// else {\n//     this.props.crudMaster(inputParam, masterData, \"openModal\");\n// }\n}else if(_this.approvalSubTypeValue.value===ApprovalSubType.PROTOCOLAPPROVAL){var _inputData={napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo};_inputData['userinfo']=_this.props.Login.userInfo;var _inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:_inputData,operation:\"approve\",ncontrolcode:approveId};_this.props.approveVersion(_inputParam);}else{var _inputData2={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.value||-1:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue.label||\"\":\"\",nregtypecode:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue.value:-1}};_inputData2['userinfo']=_this.props.Login.userInfo;var _inputParam2={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:_inputData2,operation:\"updateapprove\",ncontrolcode:approveId,selectedRecord:_objectSpread({},_this.state.selectedRecord)};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam2,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(_inputParam2,_this.props.Login.masterData,\"openModal\");}}}};_this.getGridJsondata=function(templatedata,subSampleCheck,subSampleTemplate){var gridItem=[];var gridMoreItem=[];var masterdatefields=[];var masterdateconstraints=[];var masteruniquevalidation=[];var mastercombinationunique=[];var editable=[];var jdynamiccolumns=[];var jnumericcolumns=[];var templatePrimaryKey=\"\";var mastertemplatefields=[];var sampleAuditFields=[];var sampleAuditEditable=[];var sampleAuditMultilingualFields=[];var sampleQuerybuilderViewCondition=[];var sampleQuerybuilderViewSelect=[];var jsqlquerycolumns=[];var jsqlquerycolumnssub=[];templatedata&&templatedata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component,index){//console.log(\"component2:\", component);\nif(component.hasOwnProperty('children')){component.children.map(function(componentRow){var _componentRow$label,_mastertemplatefields;if(componentRow.inputtype!=='frontendsearchfilter'&&componentRow.inputtype!=='backendsearchfilter'){jsqlquerycolumns.push({\"tablename\":\"registration\",\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"isjsoncolumn\":false,\"columndatatype\":componentRow.inputtype==='date'?\"date\":\"string\",\"jsoncolumnname\":\"jsonuidata\"});}// console.log(\"component row2:\", componentRow);\ncomponentRow.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,componentRow.label));componentRow.unique&&mastercombinationunique.push(_defineProperty({},componentRow.label,(_componentRow$label={},_defineProperty(_componentRow$label,designProperties.LABEL,componentRow.displayname),_defineProperty(_componentRow$label,designProperties.VALUE,componentRow.label),_componentRow$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&componentRow.unique?componentRow.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};if(componentRow.inputtype==='combo'){comboDataInputObject={\"predefinedtablename\":componentRow.source,\"predefinedvaluemember\":componentRow.valuemember,\"predefineddisplaymember\":componentRow.displaymember,\"predefinedismultilingual\":componentRow.isMultiLingual?componentRow.isMultiLingual:false,\"predefinedconditionalString\":\"\\\"\"+componentRow.valuemember+\"\\\"\"+\" > '0' \"};jnumericcolumns.push(_objectSpread({\"columnname\":componentRow.displaymember,\"displayname\":componentRow.displayname,\"foriegntablePK\":componentRow.valuemember,// \"ismultilingual\": true,\n// \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n\"tablecolumnname\":componentRow.label,\"foriegntablename\":componentRow.source},comboDataInputObject));if(!componentRow.ismultilingual===true){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":1,\"viewvaluemember\":componentRow.label,\"valuemember\":componentRow.valuemember,\"displaymember\":componentRow.displaymember,\"mastertablename\":componentRow.source,\"needmasterdata\":true,\"columntypedesc\":\"textinput\"});}else{sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"columntype\":4,\"columntypedesc\":\"combo\",\"isjsondisplayname\":true,\"displayname\":component.displayname,\"sforeigntablename\":component.source,\"sforeigncolumnname\":component.valuemember,\"sforeigndisplayname\":\"jsondata->[\"+component.displaymember+\"]->>\"});}sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});filterinputtype=\"predefinednumeric\";}// samplesearchfields.push(componentRow.label)\nif(componentRow.inputtype==='date'){var _masterdatefields$pus;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus={},_defineProperty(_masterdatefields$pus,designProperties.VALUE,componentRow.label),_defineProperty(_masterdatefields$pus,\"dateonly\",componentRow.dateonly||false),_masterdatefields$pus));masterdateconstraints=componentRow.dateConstraintArraySQL?[].concat(_toConsumableArray(componentRow.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":2,\"columntypedesc\":\"datetime\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}if(componentRow.inputtype==='Numeric'||componentRow.inputtype==='radio'){filterinputtype=\"numeric\";if(componentRow.inputtype==='Numeric'){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":5,\"columntypedesc\":\"numericinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}}if(componentRow.inputtype==='textinput'||componentRow.inputtype==='email'||componentRow.inputtype==='textarea'||componentRow.inputtype==='radio'){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":1,\"columntypedesc\":\"textinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}jdynamiccolumns.push(_objectSpread({default:componentRow.unique?true:false,filterinputtype:filterinputtype,columnname:componentRow.label,displayname:componentRow.displayname},comboDataInputObject));// displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n// componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\nif(componentRow.mandatory||componentRow.templatemandatory){var _gridItem$push;gridItem.push((_gridItem$push={},_defineProperty(_gridItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridItem$push,designProperties.VALUE,componentRow.label),_gridItem$push));sampleAuditEditable.push(componentRow.label);}else{var _gridMoreItem$push;gridMoreItem.push((_gridMoreItem$push={},_defineProperty(_gridMoreItem$push,designProperties.LABEL,componentRow.displayname),_defineProperty(_gridMoreItem$push,designProperties.VALUE,componentRow.label),_gridMoreItem$push));}mastertemplatefields.push((_mastertemplatefields={},_defineProperty(_mastertemplatefields,designProperties.LABEL,componentRow.displayname),_defineProperty(_mastertemplatefields,designProperties.VALUE,componentRow.label),_mastertemplatefields));sampleAuditFields.push(componentRow.label);sampleAuditMultilingualFields.push(_defineProperty({},componentRow.label,componentRow.displayname));if(componentRow.templatemandatory){editable.push({label:componentRow.label,editableuntill:[]});}else{editable.push({label:componentRow.label,editableuntill:[transactionStatus.DRAFT]});}return null;});}else{var _component$label,_mastertemplatefields2;if(component.inputtype!=='frontendsearchfilter'&&component.inputtype!=='backendsearchfilter'){jsqlquerycolumns.push({\"tablename\":\"registration\",\"columnname\":component.label,\"displayname\":component.displayname,\"isjsoncolumn\":false,\"columndatatype\":component.inputtype==='date'?'date':\"string\",\"jsoncolumnname\":\"jsondata\"});}//console.log(\"component2:\", component);\ncomponent.unique&&masteruniquevalidation.push(_defineProperty({},designProperties.LABEL,component.label));component.unique&&mastercombinationunique.push(_defineProperty({},component.label,(_component$label={},_defineProperty(_component$label,designProperties.LABEL,component.displayname),_defineProperty(_component$label,designProperties.VALUE,component.label),_component$label)));templatePrimaryKey=templatePrimaryKey===\"\"&&component.unique?component.label:templatePrimaryKey;var filterinputtype=\"text\";var comboDataInputObject={};mastertemplatefields.push((_mastertemplatefields2={},_defineProperty(_mastertemplatefields2,designProperties.LABEL,component.displayname),_defineProperty(_mastertemplatefields2,designProperties.VALUE,component.label),_mastertemplatefields2));sampleAuditFields.push(component.label);sampleAuditMultilingualFields.push(_defineProperty({},component.label,component.displayname));if(component.inputtype==='combo'){filterinputtype=\"predefinednumeric\";comboDataInputObject={\"predefinedtablename\":component.source,\"predefinedvaluemember\":component.valuemember,\"predefineddisplaymember\":component.displaymember,\"predefinedismultilingual\":component.isMultiLingual?component.isMultiLingual:false,\"predefinedconditionalString\":\"\\\"\"+component.valuemember+\"\\\"\"+\" > '0'\"};jnumericcolumns.push(_objectSpread({\"columnname\":component.label,\"displayname\":component.displayname,\"foriegntablePK\":component.valuemember,// \"ismultilingual\": true,\n//\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\n\"tablecolumnname\":component.label,\"foriegntablename\":component.source},comboDataInputObject));if(!component.ismultilingual===true){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":1,\"viewvaluemember\":component.label,\"valuemember\":component.valuemember,\"displaymember\":component.displaymember,\"mastertablename\":component.source,\"needmasterdata\":true,\"columntypedesc\":\"textinput\"});}else{sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"columntype\":4,\"columntypedesc\":\"combo\",\"isjsondisplayname\":true,\"displayname\":component.displayname,\"sforeigntablename\":component.source,\"sforeigncolumnname\":component.valuemember,\"sforeigndisplayname\":\"jsondata->[\"+component.displaymember+\"]->>\"});}sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}// samplesearchfields.push(component.label)\nif(component.inputtype==='date'){var _masterdatefields$pus2;filterinputtype=\"date\";masterdatefields.push((_masterdatefields$pus2={},_defineProperty(_masterdatefields$pus2,designProperties.VALUE,component.label),_defineProperty(_masterdatefields$pus2,\"dateonly\",component.dateonly||false),_masterdatefields$pus2));masterdateconstraints=component.dateConstraintArraySQL?[].concat(_toConsumableArray(component.dateConstraintArraySQL),_toConsumableArray(masterdateconstraints)):masterdateconstraints;sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":2,\"columntypedesc\":\"datetime\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}if(component.inputtype==='Numeric'||component.inputtype==='radio'){filterinputtype=\"numeric\";if(component.inputtype==='Numeric'){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":5,\"columntypedesc\":\"numericinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}}if(component.inputtype==='textinput'||component.inputtype==='email'||component.inputtype==='textarea'||component.inputtype==='radio'){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":1,\"columntypedesc\":\"textinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}jdynamiccolumns.push(_objectSpread({default:component.unique?true:false,columnname:component.label,displayname:component.displayname,filterinputtype:filterinputtype},comboDataInputObject));if(component.mandatory||component.templatemandatory){var _gridItem$push2;gridItem.push((_gridItem$push2={},_defineProperty(_gridItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridItem$push2,designProperties.VALUE,component.label),_gridItem$push2));sampleAuditEditable.push(component.label);}else{var _gridMoreItem$push2;gridMoreItem.push((_gridMoreItem$push2={},_defineProperty(_gridMoreItem$push2,designProperties.LABEL,component.displayname),_defineProperty(_gridMoreItem$push2,designProperties.VALUE,component.label),_gridMoreItem$push2));}if(component.templatemandatory){editable.push({label:component.label,editableuntill:[]});}else{editable.push({label:component.label,editableuntill:[transactionStatus.DRAFT]});}return null;}});});});if(subSampleCheck){subSampleTemplate&&subSampleTemplate.jsondata.map(function(row){return row.children&&row.children.map(function(column){column.children&&column.children.map(function(component,index){//console.log(\"component2:\", component);\nif(component.hasOwnProperty('children')){component.children.map(function(componentRow){if(componentRow.inputtype!=='frontendsearchfilter'&&componentRow.inputtype!=='backendsearchfilter'){jsqlquerycolumnssub.push({\"tablename\":\"registrationsample\",\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"isjsoncolumn\":true,\"columndatatype\":componentRow.inputtype==='date'?\"date\":\"string\",\"jsoncolumnname\":\"jsonuidata\"});}if(componentRow.inputtype==='combo'){if(!componentRow.ismultilingual===true){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":1,\"viewvaluemember\":componentRow.label,\"valuemember\":componentRow.valuemember,\"displaymember\":componentRow.displaymember,\"mastertablename\":componentRow.source,\"needmasterdata\":true,\"columntypedesc\":\"textinput\"});}else{sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"columntype\":1,\"displayname\":componentRow.displayname,\"columntypedesc\":\"textinput\",\"isjsondisplayname\":true,\"sforeigntablename\":component.source,\"sforeigncolumnname\":component.valuemember,\"sforeigndisplayname\":\"jsondata->[\"+component.displaymember+\"]->>\"});}sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}if(componentRow.inputtype==='date'){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":2,\"columntypedesc\":\"datetime\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}if(componentRow.inputtype==='Numeric'){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":5,\"columntypedesc\":\"numericinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}if(componentRow.inputtype==='textinput'||componentRow.inputtype==='email'||componentRow.inputtype==='textarea'||componentRow.inputtype==='radio'){sampleQuerybuilderViewCondition.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"columntype\":1,\"columntypedesc\":\"textinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":componentRow.label,\"displayname\":componentRow.displayname,\"languagecode\":false});}return null;});}else{if(component.inputtype!=='frontendsearchfilter'&&component.inputtype!=='backendsearchfilter'){jsqlquerycolumnssub.push({\"tablename\":\"registrationsample\",\"columnname\":component.label,\"displayname\":component.displayname,\"isjsoncolumn\":true,\"columndatatype\":component.inputtype==='date'?\"date\":\"string\",\"jsoncolumnname\":\"jsonuidata\"});}if(component.inputtype==='combo'){if(!component.ismultilingual===true){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":1,\"viewvaluemember\":component.label,\"valuemember\":component.valuemember,\"displaymember\":component.displaymember,\"mastertablename\":component.source,\"needmasterdata\":true,\"columntypedesc\":\"textinput\"});}else{sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"columntype\":4,\"displayname\":component.displayname,\"columntypedesc\":\"combo\",\"isjsondisplayname\":true,\"sforeigntablename\":component.source,\"sforeigncolumnname\":component.valuemember,\"sforeigndisplayname\":\"jsondata->[\"+component.displaymember+\"]->>\"});}sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}if(component.inputtype==='date'){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":2,\"columntypedesc\":\"datetime\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}if(component.inputtype==='Numeric'){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":5,\"columntypedesc\":\"numericinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}if(component.inputtype==='textinput'||component.inputtype==='email'||component.inputtype==='textarea'||component.inputtype==='radio'){sampleQuerybuilderViewCondition.push({\"columnname\":component.label,\"displayname\":component.displayname,\"columntype\":1,\"columntypedesc\":\"textinput\"});sampleQuerybuilderViewSelect.push({\"columnname\":component.label,\"displayname\":component.displayname,\"languagecode\":false});}return null;}});});});}var jsondata={griditem:gridItem,gridmoreitem:gridMoreItem,masterdatefields:masterdatefields,masterdateconstraints:masterdateconstraints,masteruniquevalidation:masteruniquevalidation,editable:editable,mastertemplatefields:mastertemplatefields,mastercombinationunique:mastercombinationunique,sampleAuditFields:sampleAuditFields,sampleAuditEditable:sampleAuditEditable,sampleAuditMultilingualFields:sampleAuditMultilingualFields};//console.log(\"dynamiccolumns:\", jdynamiccolumns);\nreturn{jsondata:jsondata,jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,templatePrimaryKey:templatePrimaryKey,sampleQuerybuilderViewCondition:sampleQuerybuilderViewCondition,sampleQuerybuilderViewSelect:sampleQuerybuilderViewSelect,jsqlquerycolumns:jsqlquerycolumns,jsqlquerycolumnssub:jsqlquerycolumnssub};};_this.approveVersion1=function(approveId){if(_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED||_this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}else{var postParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",primaryKeyValue:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:_this.approvalSubTypeValue.value,userinfo:_this.props.Login.userInfo},unchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\"]};var _this$getGridJsondata=_this.getGridJsondata(_this.props.Login.selectedTemplate&&_this.props.Login.selectedTemplate,_this.props.Login.subSampleCheck,_this.props.Login.subSampleTemplate),jdynamiccolumns=_this$getGridJsondata.jdynamiccolumns,jnumericcolumns=_this$getGridJsondata.jnumericcolumns,templatePrimaryKey=_this$getGridJsondata.templatePrimaryKey,sampleQuerybuilderViewCondition=_this$getGridJsondata.sampleQuerybuilderViewCondition,sampleQuerybuilderViewSelect=_this$getGridJsondata.sampleQuerybuilderViewSelect,jsqlquerycolumns=_this$getGridJsondata.jsqlquerycolumns,jsqlquerycolumnssub=_this$getGridJsondata.jsqlquerycolumnssub;var inputData={'approvalconfigversion':{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:_this.approvalSubTypeValue.value,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1,userinfo:_this.props.Login.userInfo,nregsubtypecode:_this.props.Login.masterData.registrationSubTypeValue&&_this.props.Login.masterData.registrationSubTypeValue.value?_this.props.Login.masterData.registrationSubTypeValue.value:-1,sregsubtypename:_this.props.Login.masterData.registrationSubTypeValue&&_this.props.Login.masterData.registrationSubTypeValue.label?_this.props.Login.masterData.registrationSubTypeValue.label:\"\",sviewname:_this.state.selectedRecord.sviewname,ndesigntemplatemappingcode:_this.state.selectedRecord.ndesigntemplatemappingcode.value,sregtemplatename:_this.state.selectedRecord.ndesigntemplatemappingcode.label},jdynamiccolumns:jdynamiccolumns,jnumericcolumns:jnumericcolumns,sprimarykey:templatePrimaryKey,sampleQuerybuilderViewCondition:sampleQuerybuilderViewCondition,sampleQuerybuilderViewSelect:sampleQuerybuilderViewSelect,jsqlquerycolumns:jsqlquerycolumns,jsqlquerycolumnssub:jsqlquerycolumnssub};inputData['userinfo']=_this.props.Login.userInfo;// inputData['jsondata'] = this.props.Login.userInfo\nvar inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,operation:\"updateapprove\",selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,approveId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"approve\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}};_this.onSaveClick=function(saveType,formRef){var postParam=undefined;if(_this.props.Login.operation===\"copy\"){var subTypeCode=_this.approvalSubTypeValue.value;var inputData={approvalconfigversion:{napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napprovalsubtypecode:subTypeCode,sversionname:_this.state.selectedRecord.sversionname,nregtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regtype']?_this.state.selectedRecord['regtype'].value:_this.state.registrationTypeValue[0].value:-1,nregsubtypecode:subTypeCode===ApprovalSubType.TESTRESULTAPPROVAL?_this.state.selectedRecord['regsubtype']?_this.state.selectedRecord['regsubtype'].value:_this.state.registrationSubTypeValue[0].value:-1,userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1}};inputData['userinfo']=_this.props.Login.userInfo;var inputParam={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:inputData,postParam:postParam,searchRef:_this.searchRef,operation:\"copy\",selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),operation:\"copy\"}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else if(_this.props.Login.operation==='approve'){_this.approveVersion1(_this.props.Login.ncontrolcode);}else{var bool=true;var errormessage=[];var _inputData3={};var approvalconfigrole=[];var filterDetailCount=0;var validationDetailCount=0;var decisionDetailCount=0;var actionDetailCount=0;_inputData3[\"userinfo\"]=_this.props.Login.userInfo;_inputData3['napprovalconfigcode']=_this.props.Login.masterData.realApprovalConfigCode;_inputData3['ntreeversiontempcode']=_this.props.Login.userRoleTree[0].ntreeversiontempcode;_inputData3['napprovalsubtypecode']=_this.approvalSubTypeValue.value;var isAutoApprovalVersion=_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?true:false;var userRoleTree=_this.props.Login.userRoleTree;//.reverse();\nuserRoleTree.map(function(role){var approvalconfigrolefilterdetail=[];var approvalconfigrolevalidationdetail=[];var approvalconfigroledecisiondetail=[];var approvalconfigroleactiondetail=[];//to fill role details\nif(_this.state.selectedRecord[role.nuserrolecode]){approvalconfigrole.push({napprovalconfigrolecode:_this.props.Login.operation==='create'?0:role.napprovalconfigrolecode,napprovalconfigcode:role.napprovalconfigcode,ntreeversiontempcode:role.ntreeversiontempcode,nuserrolecode:role.nuserrolecode,nchecklistversioncode:_this.state.selectedRecord[role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode].checklist?_this.state.selectedRecord[role.nuserrolecode].checklist:transactionStatus.NA:transactionStatus.NA,npartialapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Partial Approval_'+role.nuserrolecode]:transactionStatus.YES,nsectionwiseapprovalneed:_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL']===transactionStatus.NO?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']?_this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE']:transactionStatus.NO:transactionStatus.NO,// nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\n// nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\n// nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\n// nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\n//     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\n// nlevelno: role.nlevelno,\nnrecomretestneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_'+role.nuserrolecode]:transactionStatus.NO,nrecomrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_'+role.nuserrolecode]:transactionStatus.NO,nretestneed:_this.state.selectedRecord[role.nuserrolecode]['ReTest_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['ReTest_'+role.nuserrolecode]:transactionStatus.NO,nrecalcneed:_this.state.selectedRecord[role.nuserrolecode]['ReCalc_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['ReCalc_'+role.nuserrolecode]:transactionStatus.NO,nlevelno:role.nlevelno,napprovalstatuscode:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautoapproval:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?transactionStatus.YES:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']?_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']:transactionStatus.NO,nautoapprovalstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatuscode:_this.state.selectedRecord['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord['IDS_AUTOAPPROVAL']===transactionStatus.YES?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]:transactionStatus.PASS:_this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL']&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus&&_this.state.selectedRecord[role.nuserrolecode].decisionstatus.length>0?_this.state.selectedRecord[role.nuserrolecode].decisionstatus[0]:transactionStatus.DRAFT// :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\n// :transactionStatus.NA\n,ncorrectionneed:_this.state.selectedRecord[role.nuserrolecode]['Correction_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Correction_'+role.nuserrolecode]:transactionStatus.NO,nesignneed:_this.state.selectedRecord[role.nuserrolecode]['Esign_'+role.nuserrolecode]?_this.state.selectedRecord[role.nuserrolecode]['Esign_'+role.nuserrolecode]:transactionStatus.NO,ntransactionstatus:transactionStatus.DRAFT,nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE});if(_this.state.selectedRecord[role.nuserrolecode].filterstatus){_this.state.selectedRecord[role.nuserrolecode].filterstatus.map(function(filterValue){filterDetailCount++;approvalconfigrolefilterdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:filterValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].validationstatus){_this.state.selectedRecord[role.nuserrolecode].validationstatus.map(function(validationValue){validationDetailCount++;approvalconfigrolevalidationdetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:validationValue,nstatus:transactionStatus.ACTIVE});return null;});}if(_this.state.selectedRecord[role.nuserrolecode].decisionstatus){_this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(function(decisionValue){decisionDetailCount++;approvalconfigroledecisiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:decisionValue,nstatus:transactionStatus.ACTIVE});return null;});}_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]?_this.state.selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)].map(function(actionValue){actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:actionValue,nstatus:transactionStatus.ACTIVE});return null;}):approvalconfigroleactiondetail.push();actionDetailCount++;approvalconfigroleactiondetail.push({napprovalconfigcode:role.napprovalconfigcode,nuserrolecode:role.nuserrolecode,nlevelno:role.nlevelno,ntransactionstatus:_this.state.selectedRecord[role.nuserrolecode].approvalstatus?_this.state.selectedRecord[role.nuserrolecode].approvalstatus:-1,nstatus:transactionStatus.ACTIVE});_inputData3[\"approvalconfigrolefilterdetail_\".concat([role.nuserrolecode])]=approvalconfigrolefilterdetail;_inputData3[\"approvalconfigrolevalidationdetail_\".concat([role.nuserrolecode])]=approvalconfigrolevalidationdetail;_inputData3[\"approvalconfigroledecisiondetail_\".concat([role.nuserrolecode])]=approvalconfigroledecisiondetail;_inputData3[\"approvalconfigroleactiondetail_\".concat([role.nuserrolecode])]=approvalconfigroleactiondetail;bool=bool?true:false;return null;}else{bool=false;errormessage.push(role.suserrolename);return false;}});//role map\n_inputData3['approvalconfigrole']=approvalconfigrole;_inputData3['rolecount']=_this.props.Login.userRoleTree.length;_inputData3['filterdetailcount']=filterDetailCount;_inputData3['validationdetailcount']=validationDetailCount;_inputData3['decisiondetailcount']=decisionDetailCount;_inputData3['actioncount']=actionDetailCount;_inputData3['ntreeversiontempcode']=_this.props.Login.masterData.realTreeVersionTemplateValue?_this.props.Login.masterData.realTreeVersionTemplateValue.value:-1;var finalInputData={};var _inputParam3={};if(bool){if(_this.props.Login.operation===\"update\"){// edit\npostParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\"};var temp1={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===transactionStatus.AUTOAPPROVAL){temp1['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===transactionStatus.AUTOCOMPLETE){temp1['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData3['approvalconfigautoapproval']=_objectSpread({napprovalconfigversioncode:_this.props.Login.masterData.selectedVersion.napproveconfversioncode,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,//  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE,nneedautoouterband:_this.state.selectedRecord['nneedautoouterband']?_this.state.selectedRecord['nneedautoouterband']:transactionStatus.NO,nneedautoinnerband:_this.state.selectedRecord['nneedautoinnerband']?_this.state.selectedRecord['nneedautoinnerband']:transactionStatus.NO},temp1);}else{_inputData3['approveconfigversion']={napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,napproveconfversionno:-1,ntransactionstatus:transactionStatus.DRAFT,ntreeversiontempcode:_this.props.Login.userRoleTree[0].ntreeversiontempcode,sapproveconfversiondesc:'-',nsitecode:_this.props.Login.userInfo.nmastersitecode,nstatus:transactionStatus.ACTIVE};var _temp={};_this.props.Login.versionConfig.map(function(temp){if(temp.ntranscode===transactionStatus.AUTOAPPROVAL){_temp['nneedautoapproval']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}else if(temp.ntranscode===transactionStatus.AUTOCOMPLETE){_temp['nneedautocomplete']=_this.state.selectedRecord[temp.stransdisplaystatus]?_this.state.selectedRecord[temp.stransdisplaystatus]:transactionStatus.NO;}});_inputData3['approvalconfigautoapproval']=_objectSpread({napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,sversionname:_this.state.selectedRecord.sversionname,// nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n//  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\nnautoapprovalstatus:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus:transactionStatus.NA,nautodescisionstatus:isAutoApprovalVersion?transactionStatus.PASS:_this.props.Login.userRoleTree&&_this.props.Login.userRoleTree.length>0&&_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus?_this.state.selectedRecord[_this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0]||transactionStatus.DRAFT:transactionStatus.DRAFT,nautoallot:_this.state.selectedRecord['IDS_AUTOALLOT']?_this.state.selectedRecord['IDS_AUTOALLOT']:transactionStatus.NO,nneedjoballocation:_this.state.selectedRecord['IDS_JOBALLOCATION']?_this.state.selectedRecord['IDS_JOBALLOCATION']:transactionStatus.NO,nneedautoouterband:_this.state.selectedRecord['nneedautoouterband']?_this.state.selectedRecord['nneedautoouterband']:transactionStatus.NO,nneedautoinnerband:_this.state.selectedRecord['nneedautoinnerband']?_this.state.selectedRecord['nneedautoinnerband']:transactionStatus.NO,nstatus:transactionStatus.ACTIVE},_temp);}finalInputData['approvalconfigversion']=_inputData3;finalInputData['userinfo']=_this.props.Login.userInfo;_inputParam3={methodUrl:'ApprovalConfigVersion',classUrl:_this.props.Login.inputParam.classUrl,displayName:\"IDS_APPROVALCONFIG\",inputData:finalInputData,saveType:saveType,formRef:formRef,operation:_this.props.Login.operation,postParam:postParam,searchRef:_this.searchRef,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var _masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:_inputParam3,masterData:_masterData},saveType:saveType,openModal:true,operation:_this.props.Login.operation,screenName:_this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"})}};_this.props.updateStore(_updateInfo);}else{_this.props.crudMaster(_inputParam3,_masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FILLDETAILSFOR\"})+\" \"+errormessage.join(\",\"));}}};_this.ConfirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteApprovalConfigVersion(deleteId);});};_this.onInputOnChange=function(event,role,action){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=event.target.name.split('_')[0]+'_'+event.target.name.split('_')[1];var actionArray=selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]||[];if(event.target.type==='checkbox'){if(action){if(event.target.checked){actionArray.push(action.ntranscode);}else{actionArray.splice(actionArray.indexOf(action.ntranscode),1);}selectedRecord[\"actionStatus_\".concat(role.nuserrolecode)]=actionArray;}roleDetails[fieldName]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;if(fieldName==='IDS_PARTIALAPPROVAL'&&roleDetails[\"IDS_PARTIALAPPROVAL\"]&&roleDetails[\"IDS_PARTIALAPPROVAL\"]===transactionStatus.YES){roleDetails['IDS_SECTIONWISEAPPROVE']=transactionStatus.NO;}selectedRecord[role.nuserrolecode]=roleDetails;}else{roleDetails[fieldName]=event.target.value;selectedRecord[role.nuserrolecode]=roleDetails;}}else{if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;if(selectedRecord[event.target.name]){if(event.target.name===\"nneedautoinnerband\"&&(selectedRecord[\"Auto Approval\"]===transactionStatus.YES||selectedRecord[\"nneedautoouterband\"]===transactionStatus.YES)){delete selectedRecord[\"Auto Approval\"];delete selectedRecord[\"nneedautoouterband\"];}else if(event.target.name===\"Auto Approval\"&&(selectedRecord[\"nneedautoinnerband\"]===transactionStatus.YES||selectedRecord[\"nneedautoouterband\"]===transactionStatus.YES)){delete selectedRecord[\"nneedautoinnerband\"];delete selectedRecord[\"nneedautoouterband\"];}else if(event.target.name===\"nneedautoouterband\"&&(selectedRecord[\"Auto Approval\"]===transactionStatus.YES||selectedRecord[\"nneedautoinnerband\"]===transactionStatus.YES)){delete selectedRecord[\"Auto Approval\"];delete selectedRecord[\"nneedautoinnerband\"];}}}else{if(event.target.name==='sviewname'){if(event.target.value!==\"\"){// selectedRecord[event.target.name] =   event.target.value.replace(/[^a-z]/gi, '')\n//event.target.value =  validateCreateView(event.target.value);\n//Janakumar -> ALPD-5184 Approval configuration - In view name field ( when enter french lang 500 error is occurring ) (Both Normal & French)\nvar regex=/^[a-z0-9]+$/;var regexNum=/^[0-9]+$/;var value=regex.test(event.target.value);if(value){selectedRecord[event.target.name]=event.target.value!==\"\"?regexNum.test(event.target.value.charAt(0))?event.target.defaultValue:event.target.value:selectedRecord[event.target.name];}else{selectedRecord[event.target.name]=regexNum.test(event.target.value.charAt(0))?event.target.defaultValue:event.target.value.replace(/[^a-z0-9]/g,'');}}else{selectedRecord[event.target.name]=event.target.value;}}else{selectedRecord[event.target.name]=event.target.value;}}}_this.setState({selectedRecord:selectedRecord});};_this.onComboChange=function(comboData,role,comboName){var selectedRecord=_this.state.selectedRecord||{};if(role){var roleDetails=_this.state.selectedRecord[role.nuserrolecode]||{};var fieldName=comboName.split('_')[0];var filterArray=[];roleDetails[fieldName]=[];if(comboData){selectedRecord[comboName]=comboData;if(fieldName==='checklist'){selectedRecord[\"checklistVersion_\".concat(role.nuserrolecode)]={label:comboData.item.schecklistversionname,value:comboData.item.nchecklistversioncode};filterArray=comboData.item.nchecklistversioncode;}else{if(Array.isArray(comboData)){comboData.map(function(item){return filterArray.push(item.value);});}else{filterArray=comboData.value;}}roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}else{selectedRecord[comboName]=[];filterArray=[];roleDetails[fieldName]=filterArray;selectedRecord[role.nuserrolecode]=roleDetails;}_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[comboName]=comboData;if(comboName==='regtype'){_this.props.getCopySubType(comboData,selectedRecord,_this.props.Login.userInfo,_this.props.Login.masterData,_this.props.Login.optCopyRegType);}else{_this.setState({selectedRecord:selectedRecord});}}};_this.onFilterComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var approvalSubTypeValue=_this.props.Login.masterData.approvalSubTypeValue;var registrationTypeValue=_this.props.Login.masterData.registrationTypeValue;var registrationSubTypeValue;if(comboData){selectedRecord[fieldName]=comboData.value;var inputData={};if(fieldName==='napprovalsubtypecode'){approvalSubTypeValue=comboData;inputData={nFlag:2,napprovalsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregtypecode'){registrationTypeValue=comboData;inputData={nFlag:3,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}else if(fieldName==='nregsubtypecode'){registrationSubTypeValue=comboData;inputData={nFlag:4,napprovalsubtypecode:approvalSubTypeValue.value,nregtypecode:registrationTypeValue.value,nregsubtypecode:comboData.value,userinfo:_this.props.Login.userInfo};}if(fieldName==='ntreeversiontempcode'){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{userroleTemplateValue:comboData})}};_this.props.updateStore(updateInfo);}else{var oldState={approvalsubtype:_this.props.Login.masterData.approvalsubtype,registrationtype:_this.props.Login.masterData.registrationType,registrationsubtype:_this.props.Login.masterData.registrationSubType,approvalSubTypeValue:approvalSubTypeValue,registrationTypeValue:registrationTypeValue,registrationSubTypeValue:registrationSubTypeValue,RegistrationTypeList:_this.state.RegistrationTypeList,RegistrationSubTypeList:_this.state.RegistrationSubTypeList};var inputParamData={inputData:inputData,masterData:_this.props.Login.masterData};_this.props.getFilterChange(inputParamData,oldState);}}else{selectedRecord[fieldName]=\"\";if(fieldName==='napprovalsubtypecode'){_this.approvalSubTypeValue=[];registrationTypeValue=[];registrationSubTypeValue=[];}else if(fieldName==='nregtypecode'){registrationTypeValue=[];registrationSubTypeValue=[];}else{registrationSubTypeValue=[];}_this.setState({selectedRecord:selectedRecord});}// this.searchRef.current.value = \"\"\n};_this.getApprovalConfigurationVersion=function(){if(_this.props.Login.masterData.approvalSubTypeValue){//this.searchRef.current.value = \"\"\nvar masterData=_objectSpread({},_this.props.Login.masterData);var inputData={napprovalsubtypecode:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue.value:-1,napprovalconfigcode:_this.props.Login.masterData.realApprovalConfigCode,ntreeversiontempcode:_this.props.Login.masterData.realTreeVersionTemplateValue.value,userinfo:_this.props.Login.userInfo};var inputParamData={inputData:inputData,masterData:masterData,searchRef:_this.searchRef};_this.props.getApprovalConfigurationVersion(inputParamData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_APPROVALSUBTYPENOTAVAILABLE\"}));}};_this.onFilterSubmit=function(){if(_this.props.Login.masterData.approvalSubTypeValue){var check=false;if(_this.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.TESTGROUPAPPROVAL){if(_this.props.Login.masterData.userroleTemplateValue.value===undefined){check=true;}}else if(_this.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL){if(_this.props.Login.masterData.userroleTemplateValue.value===undefined||_this.props.Login.masterData.registrationSubTypeValue.value===undefined||_this.props.Login.masterData.registrationTypeValue.value===undefined){check=true;}}if(!check){//this.searchRef.current.value = \"\"\nvar masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{realApprovalSubTypeValue:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue:-1,realRegistrationTypeValue:_this.props.Login.masterData.registrationTypeValue?_this.props.Login.masterData.registrationTypeValue:-1,realRegistrationSubTypeValue:_this.props.Login.masterData.registrationSubTypeValue?_this.props.Login.masterData.registrationSubTypeValue:-1,realApprovalConfigCode:_this.props.Login.masterData.approvalConfigCode||-1,realTreeVersionTemplateValue:_this.props.Login.masterData.userroleTemplateValue||-1});var inputData={napprovalsubtypecode:_this.props.Login.masterData.approvalSubTypeValue?_this.props.Login.masterData.approvalSubTypeValue.value:-1,napprovalconfigcode:_this.props.Login.masterData.approvalConfigCode,ntreeversiontempcode:_this.props.Login.masterData.userroleTemplateValue.value,userinfo:_this.props.Login.userInfo};var inputParamData={inputData:inputData,masterData:masterData,searchRef:_this.searchRef};_this.props.getApprovalConfigurationVersion(inputParamData);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTALLINFILTER\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_APPROVALSUBTYPENOTAVAILABLE\"}));}};_this.reloadData=function(){// this.searchRef.current.value = \"\";\n// const inputParam = {\n//     inputData: { \"userinfo\": this.props.Login.userInfo },\n//     classUrl: \"approvalconfig\",\n//     methodUrl: \"ApprovalConfigFilter\",\n//     userInfo: this.props.Login.userInfo,\n//     displayName: \"IDS_APPROVALCONFIG\"\n// };\n// this.props.callService(inputParam);\n_this.getApprovalConfigurationVersion();};_this.userRoleAccordion=function(userRoleList){var accordionMap=new Map();userRoleList=sortData(userRoleList,'ascending','nlevelno');userRoleList.map(function(role){return accordionMap.set(role.napprovalconfigrolecode,/*#__PURE__*/React.createElement(UserRoleAccordion,{role:role,roleConfig:_this.props.Login.masterData.roleConfig,userRoleControlRights:_this.state.userRoleControlRights,controlMap:_this.state.controlMap,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,deleteRecord:_this.deleteRecord,tabDetail:_this.tabDetail(role),onTabOnChange:_this.onTabOnChange,approvalSubTypeValue:_this.props.Login.masterData.approvalSubTypeValue}));});return accordionMap;};_this.tabDetail=function(){var selectedRole=_this.props.Login.masterData.selectedRole?_this.props.Login.masterData.selectedRole:_this.props.Login.masterData.approvalconfigRoleNames&&_this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(_this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var tabMap=new Map();tabMap.set(\"IDS_FILTERSTATUS\",/*#__PURE__*/React.createElement(FilterStatusTab,{filterData:process(_this.props.Login.masterData.roleFilters?// sortData(this.props.Login.masterData.roleFilters) : [],\n// { skip: this.state.dataState.skip, take: this.state.dataState.take })}\nsortData(_this.props.Login.masterData.roleFilters):[],_this.state.filterStatusState),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,dataState:_this.state.filterStatusState,dataStateChange:function dataStateChange(event){return _this.setState({filterStatusState:event.dataState});},screenName:\"IDS_FILTERSTATUS\"}));tabMap.set(\"IDS_VALIDATIONSTATUS\",/*#__PURE__*/React.createElement(ValidationStatusTab,{validationStatus:process(_this.props.Login.masterData.roleValidations?sortData(_this.props.Login.masterData.roleValidations):[],_this.state.validationStatusState)// sortData(this.props.Login.masterData.roleValidations) : [],\n// { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,dataState:_this.state.validationStatusState,dataStateChange:function dataStateChange(event){return _this.setState({validationStatusState:event.dataState});},screenName:\"IDS_VALIDATIONSTATUS\"}));//ATE234 Janakumar ALPD-5316 Test Approval -> Decision Status there have based on sample type.\n// if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\n//ALPD-5394 added by Dhanushya RI,Decision Status tab and combo should hide for testgroup and protocol subtype\nif(_this.props.Login.masterData.realApprovalSubTypeValue&&_this.props.Login.masterData.realApprovalSubTypeValue.value!==ApprovalSubType.TESTGROUPAPPROVAL&&_this.props.Login.masterData.realApprovalSubTypeValue.value!==ApprovalSubType.PROTOCOLAPPROVAL){tabMap.set(\"IDS_DECISIONSTATUS\",/*#__PURE__*/React.createElement(DecisionStatusTab,{decisionData:process(_this.props.Login.masterData.roleDecisions?sortData(_this.props.Login.masterData.roleDecisions):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,screenName:\"IDS_DECISIONSTATUS\"}));}// }\ntabMap.set(\"IDS_ACTIONSTATUS\",/*#__PURE__*/React.createElement(ActionStatusTab,{actionData:process(_this.props.Login.masterData.roleActions?sortData(_this.props.Login.masterData.roleActions):[],{skip:_this.state.dataState.skip,take:_this.state.dataState.take}),setDefault:_this.props.setDefault,selectedRole:selectedRole,napprovalsubtypecode:_this.approvalSubTypeValue.value,userInfo:_this.props.Login.userInfo,masterData:_this.props.Login.masterData,screenName:\"IDS_ACTIONSTATUS\"}));return tabMap;};_this.onTabOnChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};var dataState={skip:0,take:10};var filterStatusState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var validationStatusState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={userRoleControlRights:[],controlMap:new Map(),openModal:false,masterStatus:\"\",error:\"\",approvalConfigCode:-1,dataResult:[],dataState:dataState,selectedRecord:{},ApprovalsubtypeList:[],RegistrationTypeList:[],RegistrationSubTypeList:[],UserRoleTemplateList:[],filterStatusState:filterStatusState,validationStatusState:validationStatusState,sidebarview:false};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ApprovalConfig,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.selectedVersion&&this.props.Login.masterData.selectedVersion.ntransactionstatus===transactionStatus.RETIRED){versionStatusCSS=\"outline-danger\";}var editId=this.state.controlMap.has(\"EditApprovalConfig\")&&this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteApprovalConfig\")&&this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveApprovalConfig\")&&this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode;var copyId=this.state.controlMap.has(\"CopyApprovalConfig\")&&this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode;var addId=this.state.controlMap.has(\"AddApprovalConfig\")&&this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode;this.approvalSubTypeValue=this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue?this.props.Login.masterData.approvalSubTypeValue:this.props.Login.masterData.approvalsubtype?this.props.Login.masterData.approvalsubtype.length>0?{value:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].napprovalsubtypecode,label:sortData(this.props.Login.masterData.approvalsubtype,'ascending','napprovalsubtypecode')[0].ssubtypename}:{}:{};var filterParam={inputListName:\"versionData\",selectedObject:\"selectedVersion\",primaryKeyField:\"napproveconfversioncode\",searchFieldList:[\"sversionname\",\"sversionstatus\",\"sapproveconfversiondesc\"],fetchUrl:\"approvalconfig/getApprovalConfigVersion\",fecthInputObject:{napprovalsubtypecode:this.approvalSubTypeValue.value,userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,sortField:\"napproveconfversioncode\",sortOrder:\"descending\",//NIBSCRT-2294\nunchangeList:[\"approvalsubtype\",\"approvalSubTypeValue\",\"registrationType\",\"registrationTypeValue\",\"registrationSubType\",\"registrationSubTypeValue\",\"ApprovalsubtypeList\",\"RegistrationTypeList\",\"RegistrationSubTypeList\",\"treeVersionTemplate\",\"userroleTemplateValue\",\"realApprovalSubTypeValue\",\"realRegistrationTypeValue\",\"realRegistrationSubTypeValue\",\"realTreeVersionTemplateValue\",\"approvalConfigCode\",\"realApprovalConfigCode\"]};var selectedRole=this.props.Login.masterData.selectedRole?this.props.Login.masterData.selectedRole:this.props.Login.masterData.approvalconfigRoleNames&&this.props.Login.masterData.approvalconfigRoleNames.length>0&&sortData(this.props.Login.masterData.approvalconfigRoleNames,'ascending','nlevelno')[0];var mandatoryFields=[{\"idsName\":\"IDS_VERSIONNAME\",\"dataField\":\"sversionname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];this.props.Login.operation!=='copy'&&this.props.Login.userRoleTree&&this.props.Login.userRoleTree.map(function(role){mandatoryFields.push({\"idsName\":\"IDS_APPROVALSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"approvalstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_FILTERSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"filterstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});mandatoryFields.push({\"idsName\":\"IDS_VALIDATIONSTATUS\",\"alertSuffix\":\" - \".concat(role.suserrolename),\"dataField\":\"validationstatus_\".concat(role.nuserrolecode),\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});//ALPD-5334 added by Dhanushya RI,Enable mandatory field to non mandatory field\n// if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\n//     mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\n// }\nreturn null;});var breadCrumbData=[];if(this.props.Login.masterData.realApprovalSubTypeValue&&this.props.Login.masterData.realApprovalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL){breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONTYPE\",\"value\":this.props.Login.masterData.realRegistrationTypeValue?this.props.Login.masterData.realRegistrationTypeValue.label:\"NA\"},{\"label\":\"IDS_REGISTRATIONSUBTYPE\",\"value\":this.props.Login.masterData.realRegistrationSubTypeValue?this.props.Login.masterData.realRegistrationSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}else{breadCrumbData=[{\"label\":\"IDS_APPROVALSUBTYPE\",\"value\":this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue.label:\"NA\"},{\"label\":\"IDS_USERROLETEMPLATE\",\"value\":this.props.Login.masterData.realTreeVersionTemplateValue?this.props.Login.masterData.realTreeVersionTemplateValue.label:\"NA\"}];}// console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\n// console.log(\"this.props.Login.masterData.:\", this.props.Login.masterData);\nvar masterList=sortData(this.props.Login.masterData.searchedData||this.props.Login.masterData.versionData,\"descending\",\"napproveconfversioncode\");//console.log(\"masterList:\", masterList);\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(ListMaster,{filterColumnData:this.props.filterColumnData,masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,screenName:this.props.intl.formatMessage({id:\"IDS_APPROVALCONFIG\"}),masterList:masterList,getMasterDetail:function getMasterDetail(version){return _this2.props.getApprovalConfigVersion(version,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedVersion,primaryKeyField:\"napproveconfversioncode\",mainField:\"sversionname\",firstField:\"sapproveconfversiondesc\",secondField:\"sversionstatus\",isIDSField:\"Yes\",searchRef:this.searchRef,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,openModal:function openModal(){return _this2.props.openModal(\"create\",_this2.props.Login.masterData.realApprovalConfigCode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,addId,_this2.props.Login.masterData.realTreeVersionTemplateValue?_this2.props.Login.masterData.realTreeVersionTemplateValue.value:-10);},needAccordianFilter:false,reloadData:this.reloadData,hidePaging:true,showFilterIcon:true//ALPD-5195--Vignesh R(21-01-2025)-->reg sub type and approval config-- filter issue, check description\n,onFilterSubmit:this.onFilterSubmit// callCloseFunction={true}\n//closeFilter={this.closeFilter}\n,filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{selectedRecord:this.state.selectedRecord||{},filterComboChange:this.onFilterComboChange,approvalSubTypeOptions:this.state.ApprovalsubtypeList,approvalSubTypeValue:this.props.Login.masterData.approvalSubTypeValue,registrationTypeOptions:this.state.RegistrationTypeList,registrationTypeValue:this.props.Login.masterData.registrationTypeValue,registrationSubTypeOptions:this.state.RegistrationSubTypeList,registrationSubTypeValue:this.props.Login.masterData.registrationSubTypeValue,userroleTemplateOptions:this.state.UserRoleTemplateList,userroleTemplateValue:this.props.Login.masterData.userroleTemplateValue})}]})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.props.sidebarview?'8':\"10\"),className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn-block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-view-btn \",onClick:this.props.parentFunction},!this.props.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"}))),/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.selectedVersion?Object.entries(this.props.Login.masterData.selectedVersion).length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"product-title-main\"},this.props.Login.masterData.selectedVersion.sversionname)),/*#__PURE__*/React.createElement(Card.Subtitle,{className:\"readonly-text font-weight-normal\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},\"\".concat(this.props.intl.formatMessage({id:\"IDS_VERSIONNO\"}),\":\").concat(this.props.Login.masterData.selectedVersion.sapproveconfversiondesc),/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},this.props.Login.masterData.selectedVersion.sversionstatus))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\",style:{float:\"right\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline \"},/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(editId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.getApprovalConfigEditData(_this2.props.Login.masterData.selectedVersion.napproveconfversioncode,_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,editId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt,title:this.props.intl.formatMessage({id:\"IDS_EDIT\"})})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//  data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})// data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveVersion(approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{hidden:this.state.userRoleControlRights.indexOf(copyId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_COPY\"})//  data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.copyVersion(_this2.approvalSubTypeValue.value,_this2.props.Login.userInfo,_this2.props.Login.masterData,copyId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCopy,title:this.props.intl.formatMessage({id:\"IDS_COPY\"})}))))))))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Text,null,/*#__PURE__*/React.createElement(Row,null,this.props.Login.masterData.approvalSubTypeValue&&this.props.Login.masterData.approvalSubTypeValue!==undefined&&(this.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL||this.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.PROTOCOLAPPROVAL)?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_VIEWNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedVersion.sviewname===\"\"?'-':this.props.Login.masterData.selectedVersion.sviewname))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TEMPLATEMAPPINGVERSION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedVersion.stemplatemappingversion)))):\"\"),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_AUTOAPPROVAL\",message:\"Auto Approval\"})),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Row,null,this.props.Login.masterData.approvalSubTypeValue&&this.props.Login.masterData.approvalSubTypeValue!==undefined&&this.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:'IDS_AUTOINNERBAND'})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedVersion.sneedautoinnerband))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:'IDS_AUTOOUTERBAND'})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.selectedVersion.sneedautoouterband)))):\"\",this.props.Login.masterData.versionConfig?this.props.Login.masterData.versionConfig.map(function(item){return/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,_this2.props.Login.masterData.approvalSubTypeValue&&_this2.props.Login.masterData.approvalSubTypeValue!==undefined&&_this2.props.Login.masterData.approvalSubTypeValue.value===ApprovalSubType.TESTRESULTAPPROVAL?/*#__PURE__*/React.createElement(FormattedMessage,{id:'IDS_ANYCASE'}):\"\"//<FormattedMessage id={'IDS_AUTOAPPROVAL'} /> \n),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this2.props.Login.masterData.selectedVersion[\"\".concat(item.ntranscode)])));}):\"\")))))),/*#__PURE__*/React.createElement(Row,{oGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Card,{className:\"at-tabs\"},this.props.Login.masterData?this.props.Login.masterData.approvalconfigRoleNames&&this.props.Login.masterData.approvalconfigRoleNames.length>0?/*#__PURE__*/React.createElement(CustomAccordion,{key:\"UserRoles\",accordionTitle:\"suserrolename\",accordionComponent:this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames),inputParam:{masterData:this.props.Login.masterData,userinfo:this.props.Login.userInfo,napprovalsubtypecode:this.approvalSubTypeValue.value},accordionClick:this.props.getRoleDetails,accordionPrimaryKey:\"napprovalconfigrolecode\",accordionObjectName:\"role\",selectedKey:selectedRole.napprovalconfigrolecode}):\"\":\"\"))))):\"\":\"\"))))),this.props.Login.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{onSaveClick:this.onSaveClick,operation:this.props.Login.operation,screenName:\"IDS_APPROVALCONFIG\",closeModal:this.handleClose,show:this.props.Login.openModal,inputParam:this.props.Login.inputParam,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.operation==='approve'?[{\"idsName\":\"IDS_VIEWNAME\",\"dataField\":\"sviewname\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_TEMPLATEMAPPING\",\"dataField\":\"ndesigntemplatemappingcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"combo\"}]:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.operation==='approve'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"ndesigntemplatemappingcode\",formLabel:this.props.intl.formatMessage({id:\"IDS_TEMPLATEMAPPING\"}),placeholder:\"Please Select...\",options:this.props.Login.designTemplateMapping// optionId=\"ntimezonecode\"\n// optionValue=\"stimezoneid\"\n,value:this.state.selectedRecord[\"ndesigntemplatemappingcode\"]//defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\n,isMandatory:true,isMulti:false,isSearchable:false,isClearable:false,isDisabled:true,closeMenuOnSelect:true,onChange:function onChange(event){return _this2.onComboChange(event,'ndesigntemplatemappingcode');}}),/*#__PURE__*/React.createElement(FormInput,{label:this.props.intl.formatMessage({id:\"IDS_VIEWNAME\"}),name:\"sviewname\",type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_VIEWNAME\"}),value:this.state.selectedRecord[\"sviewname\"],isMandatory:true//required={true}\n,maxLength:30,onPaste:true})))):/*#__PURE__*/React.createElement(AddApprovalConfig,{selectedRecord:this.state.selectedRecord?this.state.selectedRecord:{},userRoleTree:this.props.Login.userRoleTree,approvalSubTypeValue:this.approvalSubTypeValue//filter\n,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange,approvalStatusOptions:this.props.Login.approvalStatusOptions,approvalStatusValue:this.props.Login.approvalStatusValue,filterStatusOptions:this.props.Login.filterStatusOptions,filterStatusValues:this.props.Login.filterStatusValues,topLevelValidStatusOptions:this.props.Login.topLevelValidStatusOptions,validationStatusOptions:this.props.Login.validationStatusOptions,validationStatusValues:this.props.Login.validationStatusValues,decisionStatusOptions:this.props.Login.decisionStatusOptions,decisionStatusValues:this.props.Login.decisionStatusValues,actionStatus:this.props.Login.actionStatus,checklistOptions:this.props.Login.checklistOptions,checklistValues:this.props.Login.checklistValues,roleConfig:this.props.Login.roleConfig,versionConfig:this.props.Login.versionConfig,operation:this.props.Login.operation,nsubType:this.approvalSubTypeValue.value,registrationTypeOptions:this.props.Login.optCopyRegType,registrationTypeValue:this.state.registrationTypeValue//filter\n,registrationSubTypeOptions:this.props.Login.optCopyRegSubType,registrationSubTypeValue:this.state.registrationSubTypeValue//filter\n,selectedVersion:this.props.Login.masterData.selectedVersion,masterData:this.props.Login.masterData})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this$state=this.state,selectedRecord=_this$state.selectedRecord,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,ApprovalsubtypeList=_this$state.ApprovalsubtypeList,RegistrationTypeList=_this$state.RegistrationTypeList,RegistrationSubTypeList=_this$state.RegistrationSubTypeList,UserRoleTemplateList=_this$state.UserRoleTemplateList,filterStatusState=_this$state.filterStatusState,validationStatusState=_this$state.validationStatusState;var updateState=false;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);// const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\n// const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\n// const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\nvar ApprovalsubtypeListMap=constructOptionList(this.props.Login.masterData.approvalsubtype||[],\"napprovalsubtypecode\",\"ssubtypename\",'ntemplatecode','ascending',false);var RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);ApprovalsubtypeList=ApprovalsubtypeListMap.get(\"OptionList\");RegistrationTypeList=RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=UserRoleTemplateListMap.get(\"OptionList\");updateState=true;}if(this.props.Login.masterData!==previousProps.Login.masterData){//this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \n// RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\n// RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\nvar _RegistrationTypeListMap=constructOptionList(this.props.Login.masterData.registrationType||[],\"nregtypecode\",\"sregtypename\",'nsorter','ascending',false);var _RegistrationSubTypeListMap=constructOptionList(this.props.Login.masterData.registrationSubType||[],\"nregsubtypecode\",\"sregsubtypename\",'nsorter','ascending',false);var _UserRoleTemplateListMap=constructOptionList(this.props.Login.masterData.treeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",'ntransactionstatus','descending',false);RegistrationTypeList=_RegistrationTypeListMap.get(\"OptionList\");RegistrationSubTypeList=_RegistrationSubTypeListMap.get(\"OptionList\");UserRoleTemplateList=_UserRoleTemplateListMap.get(\"OptionList\");updateState=true;// if (this.props.dataState === undefined) {\n//     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n//     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n// }\n}if(updateState){this.setState({selectedRecord:selectedRecord,userRoleControlRights:userRoleControlRights,controlMap:controlMap,ApprovalsubtypeList:ApprovalsubtypeList,RegistrationTypeList:RegistrationTypeList,RegistrationSubTypeList:RegistrationSubTypeList,UserRoleTemplateList:UserRoleTemplateList,filterStatusState:filterStatusState,validationStatusState:validationStatusState});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ApprovalConfig;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,openModal:openModal,updateStore:updateStore,getApprovalConfigVersion:getApprovalConfigVersion,getApprovalConfigEditData:getApprovalConfigEditData,copyVersion:copyVersion,getFilterChange:getFilterChange,validateEsignCredential:validateEsignCredential,getCopySubType:getCopySubType,getRoleDetails:getRoleDetails,setDefault:setDefault,filterColumnData:filterColumnData,getApprovalConfigurationVersion:getApprovalConfigurationVersion,approveVersion:approveVersion})(injectIntl(ApprovalConfig));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/configurationmaster/approvalconfig/ApprovalConfig.jsx"],"names":["React","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faCopy","faThumbsUp","faTrashAlt","sortData","getControlMap","showEsign","constructOptionList","validateCreateView","process","ListMaster","Esign","SampleFilter","AddApprovalConfig","SlideOutModal","ReadOnlyText","ContentPanel","openModal","updateStore","getApprovalConfigVersion","getApprovalConfigEditData","copyVersion","setDefault","validateEsignCredential","getFilterChange","getRoleDetails","getCopySubType","filterColumnData","getApprovalConfigurationVersion","approveVersion","DEFAULT_RETURN","ApprovalSubType","designProperties","transactionStatus","FilterStatusTab","ValidationStatusTab","UserRoleAccordion","CustomAccordion","DecisionStatusTab","ActionStatusTab","BreadcrumbComponent","ConfirmMessage","Affix","FormInput","FormSelectSearch","mapStateToProps","state","Login","ApprovalConfig","props","sidebarExpandCollapse","setState","sidebarview","validateEsign","inputParam","inputData","userInfo","sreason","selectedRecord","nreasoncode","value","spredefinedreason","label","password","screenData","handleClose","loadEsign","operation","updateInfo","typeName","data","selectedId","deleteApprovalConfigVersion","deleteId","masterData","selectedVersion","ntransactionstatus","APPROVED","RETIRED","warn","intl","formatMessage","id","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","napproveconfversioncode","fetchUrl","fecthInputObject","napprovalsubtypecode","approvalSubTypeValue","userinfo","napprovalconfigversioncode","napprovalconfigcode","realApprovalConfigCode","ntreeversiontempcode","realTreeVersionTemplateValue","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","screenName","approveId","nregsubtypecode","registrationSubTypeValue","sregsubtypename","nregtypecode","registrationTypeValue","ncontrolcode","PROTOCOLAPPROVAL","getGridJsondata","templatedata","subSampleCheck","subSampleTemplate","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","mastercombinationunique","editable","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","mastertemplatefields","sampleAuditFields","sampleAuditEditable","sampleAuditMultilingualFields","sampleQuerybuilderViewCondition","sampleQuerybuilderViewSelect","jsqlquerycolumns","jsqlquerycolumnssub","map","row","children","column","component","index","hasOwnProperty","componentRow","inputtype","push","displayname","unique","LABEL","VALUE","filterinputtype","comboDataInputObject","source","valuemember","displaymember","isMultiLingual","ismultilingual","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","DRAFT","jsondata","griditem","gridmoreitem","approveVersion1","unchangeList","selectedTemplate","sviewname","ndesigntemplatemappingcode","sregtemplatename","sprimarykey","onSaveClick","saveType","formRef","undefined","subTypeCode","approvalconfigversion","sversionname","TESTRESULTAPPROVAL","searchRef","bool","errormessage","approvalconfigrole","filterDetailCount","validationDetailCount","decisionDetailCount","actionDetailCount","userRoleTree","isAutoApprovalVersion","YES","role","approvalconfigrolefilterdetail","approvalconfigrolevalidationdetail","approvalconfigroledecisiondetail","approvalconfigroleactiondetail","nuserrolecode","napprovalconfigrolecode","nchecklistversioncode","checklist","NA","npartialapprovalneed","nsectionwiseapprovalneed","NO","nrecomretestneed","nrecomrecalcneed","nretestneed","nrecalcneed","nlevelno","napprovalstatuscode","approvalstatus","nautoapproval","nautoapprovalstatuscode","nautodescisionstatuscode","decisionstatus","PASS","length","ncorrectionneed","nesignneed","nsitecode","nmastersitecode","nstatus","ACTIVE","filterstatus","filterValue","validationstatus","validationValue","decisionValue","actionValue","suserrolename","finalInputData","temp1","versionConfig","temp","ntranscode","AUTOAPPROVAL","stransdisplaystatus","AUTOCOMPLETE","nautoapprovalstatus","nautodescisionstatus","nautoallot","nneedjoballocation","nneedautoouterband","nneedautoinnerband","napproveconfversionno","sapproveconfversiondesc","join","ConfirmDelete","confirmMessage","confirm","onInputOnChange","event","action","roleDetails","fieldName","target","name","split","actionArray","type","checked","splice","indexOf","regex","regexNum","test","charAt","defaultValue","replace","onComboChange","comboData","comboName","filterArray","item","schecklistversionname","Array","isArray","optCopyRegType","onFilterComboChange","nFlag","userroleTemplateValue","oldState","approvalsubtype","registrationtype","registrationType","registrationsubtype","registrationSubType","RegistrationTypeList","RegistrationSubTypeList","inputParamData","onFilterSubmit","check","TESTGROUPAPPROVAL","realApprovalSubTypeValue","realRegistrationTypeValue","realRegistrationSubTypeValue","approvalConfigCode","reloadData","userRoleAccordion","userRoleList","accordionMap","Map","set","roleConfig","controlMap","deleteRecord","tabDetail","onTabOnChange","selectedRole","approvalconfigRoleNames","tabMap","roleFilters","filterStatusState","dataState","roleValidations","validationStatusState","roleDecisions","skip","take","roleActions","tabProps","settings","parseInt","masterStatus","error","dataResult","ApprovalsubtypeList","UserRoleTemplateList","createRef","versionStatusCSS","editId","has","get","copyId","addId","ssubtypename","filterParam","searchFieldList","sortField","sortOrder","mandatoryFields","breadCrumbData","masterList","searchedData","versionData","version","parentFunction","Object","entries","sversionstatus","float","stemplatemappingversion","sneedautoinnerband","sneedautoouterband","designTemplateMapping","approvalStatusOptions","approvalStatusValue","filterStatusOptions","filterStatusValues","topLevelValidStatusOptions","validationStatusOptions","validationStatusValues","decisionStatusOptions","decisionStatusValues","actionStatus","checklistOptions","checklistValues","optCopyRegSubType","previousProps","updateState","values","ApprovalsubtypeListMap","RegistrationTypeListMap","RegistrationSubTypeListMap","UserRoleTemplateListMap","treeVersionTemplate","modalName","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { callService, crudMaster } from '../../../actions';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faCopy, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { sortData, getControlMap, showEsign, constructOptionList, validateCreateView } from '../../../components/CommonScript'\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport Esign from '../../audittrail/Esign';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddApprovalConfig from './AddApprovalConfig';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\r\nimport {\r\n    openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, setDefault, validateEsignCredential,\r\n    getFilterChange, getRoleDetails, getCopySubType, filterColumnData, getApprovalConfigurationVersion, approveVersion\r\n} from '../../../actions'\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { ApprovalSubType, designProperties, transactionStatus } from '../../../components/Enumeration';\r\nimport FilterStatusTab from './FilterStatusTab';\r\nimport ValidationStatusTab from './ValidationStatusTab';\r\nimport UserRoleAccordion from './UserRoleAccordion';\r\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\r\nimport DecisionStatusTab from './DecisionStatusTab';\r\nimport ActionStatusTab from './ActionStatusTab';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport FormInput from '../../../components/form-input/form-input.component';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\n// import ReactTooltip from 'react-tooltip';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass ApprovalConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const dataState = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n        const filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n\r\n        this.state = {\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            openModal: false, masterStatus: \"\", error: \"\",\r\n            approvalConfigCode: -1,\r\n            dataResult: [], dataState: dataState, selectedRecord: {},\r\n            ApprovalsubtypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            UserRoleTemplateList: [],\r\n            filterStatusState,\r\n            validationStatusState,\r\n            sidebarview: false\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\":\r\n                {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    handleClose = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {}\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteApprovalConfigVersion = (deleteId) => {\r\n\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        }\r\n        else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                // unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\r\n                //  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\r\n                //     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"delete\",\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\",\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    approveVersion = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n\r\n            if (this.approvalSubTypeValue.value === 2) {\r\n                const inputData = {\r\n                    // 'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                    sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                    nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    // nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    // }\r\n\r\n                }\r\n                inputData['userinfo'] = this.props.Login.userInfo\r\n                //  inputData['userinfo'] = this.props.Login.userInfo\r\n                const inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: inputData,\r\n                    operation: \"approve\", ncontrolcode: approveId\r\n                }\r\n                //const masterData = this.props.Login.masterData;\r\n                this.props.approveVersion(inputParam);\r\n\r\n                // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                //     const updateInfo = {\r\n                //         typeName: DEFAULT_RETURN,\r\n                //         data: {\r\n                //             loadEsign: true, screenData: { inputParam, masterData },\r\n                //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                //         }\r\n                //     }\r\n                //     this.props.updateStore(updateInfo);\r\n                // }\r\n                // else {\r\n                //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                // }\r\n            } else if (this.approvalSubTypeValue.value === ApprovalSubType.PROTOCOLAPPROVAL) {\r\n                const inputData = {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n\r\n                }\r\n                inputData['userinfo'] = this.props.Login.userInfo\r\n                const inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: inputData,\r\n                    operation: \"approve\", ncontrolcode: approveId\r\n                }\r\n                this.props.approveVersion(inputParam);\r\n\r\n            } else {\r\n                const inputData = {\r\n                    'approvalconfigversion': {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                        ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value || -1 : -1,\r\n                        sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label || \"\" : \"\",\r\n                        nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    }\r\n\r\n                }\r\n                inputData['userinfo'] = this.props.Login.userInfo\r\n                const inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: inputData,\r\n                    operation: \"updateapprove\", ncontrolcode: approveId,\r\n                    selectedRecord: { ...this.state.selectedRecord }\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    getGridJsondata = (templatedata, subSampleCheck, subSampleTemplate) => {\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let mastercombinationunique = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        let sampleAuditFields = [];\r\n        let sampleAuditEditable = [];\r\n        let sampleAuditMultilingualFields = [];\r\n        let sampleQuerybuilderViewCondition = [];\r\n        let sampleQuerybuilderViewSelect = [];\r\n        let jsqlquerycolumns = [];\r\n        let jsqlquerycolumnssub = [];\r\n\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    //console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n\r\n                            if (componentRow.inputtype !== 'frontendsearchfilter'\r\n                                && componentRow.inputtype !== 'backendsearchfilter') {\r\n                                jsqlquerycolumns.push({\r\n                                    \"tablename\": \"registration\",\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"isjsoncolumn\": false,\r\n                                    \"columndatatype\": componentRow.inputtype === 'date' ? \"date\" : \"string\",\r\n                                    \"jsoncolumnname\": \"jsonuidata\"\r\n                                })\r\n                            }\r\n\r\n\r\n                            // console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && mastercombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n\r\n\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n\r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject = {};\r\n\r\n                            if (componentRow.inputtype === 'combo') {\r\n\r\n                                comboDataInputObject = {\r\n                                    \"predefinedtablename\": componentRow.source,\r\n                                    \"predefinedvaluemember\": componentRow.valuemember,\r\n                                    \"predefineddisplaymember\": componentRow.displaymember,\r\n                                    \"predefinedismultilingual\": componentRow.isMultiLingual ? componentRow.isMultiLingual : false,\r\n                                    \"predefinedconditionalString\": \"\\\"\" + componentRow.valuemember + \"\\\"\" + \" > '0' \"\r\n                                };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.valuemember,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.label,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                    ...comboDataInputObject\r\n                                })\r\n                                if (!componentRow.ismultilingual === true) {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 1,\r\n                                        \"viewvaluemember\": componentRow.label,\r\n                                        \"valuemember\": componentRow.valuemember,\r\n                                        \"displaymember\": componentRow.displaymember,\r\n                                        \"mastertablename\": componentRow.source,\r\n                                        \"needmasterdata\": true,\r\n                                        \"columntypedesc\": \"textinput\",\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": component.label,\r\n                                        \"columntype\": 4,\r\n                                        \"columntypedesc\": \"combo\",\r\n                                        \"isjsondisplayname\": true,\r\n                                        \"displayname\": component.displayname,\r\n                                        \"sforeigntablename\": component.source,\r\n                                        \"sforeigncolumnname\": component.valuemember,\r\n                                        \"sforeigndisplayname\": \"jsondata->[\" + component.displaymember + \"]->>\"\r\n                                    })\r\n\r\n                                }\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                                filterinputtype = \"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype = \"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"columntype\": 2,\r\n                                    \"columntypedesc\": \"datetime\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype = \"numeric\";\r\n\r\n                                if (componentRow.inputtype === 'Numeric') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 5,\r\n                                        \"columntypedesc\": \"numericinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n\r\n\r\n                            }\r\n\r\n                            if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email'\r\n                                || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true : false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                                sampleAuditEditable.push(componentRow.label);\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            sampleAuditFields.push(componentRow.label);\r\n                            sampleAuditMultilingualFields.push({ [componentRow.label]: componentRow.displayname });\r\n\r\n\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        if (component.inputtype !== 'frontendsearchfilter'\r\n                            && component.inputtype !== 'backendsearchfilter') {\r\n                            jsqlquerycolumns.push({\r\n                                \"tablename\": \"registration\",\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"isjsoncolumn\": false,\r\n                                \"columndatatype\": component.inputtype === 'date' ? 'date' : \"string\",\r\n                                \"jsoncolumnname\": \"jsondata\"\r\n                            })\r\n                        }\r\n                        //console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && mastercombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n\r\n\r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject = {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        sampleAuditFields.push(component.label);\r\n                        sampleAuditMultilingualFields.push({ [component.label]: component.displayname });\r\n\r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype = \"predefinednumeric\";\r\n                            comboDataInputObject = {\r\n                                \"predefinedtablename\": component.source,\r\n                                \"predefinedvaluemember\": component.valuemember,\r\n                                \"predefineddisplaymember\": component.displaymember,\r\n                                \"predefinedismultilingual\": component.isMultiLingual ? component.isMultiLingual : false,\r\n                                \"predefinedconditionalString\": \"\\\"\" + component.valuemember + \"\\\"\" + \" > '0'\"\r\n                            };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.valuemember,\r\n                                // \"ismultilingual\": true,\r\n                                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.label,\r\n                                \"foriegntablename\": component.source,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            if (!component.ismultilingual === true) {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"viewvaluemember\": component.label,\r\n                                    \"valuemember\": component.valuemember,\r\n                                    \"displaymember\": component.displaymember,\r\n                                    \"mastertablename\": component.source,\r\n                                    \"needmasterdata\": true,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n                            }\r\n                            else {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"columntype\": 4,\r\n                                    \"columntypedesc\": \"combo\",\r\n                                    \"isjsondisplayname\": true,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"sforeigntablename\": component.source,\r\n                                    \"sforeigncolumnname\": component.valuemember,\r\n                                    \"sforeigndisplayname\": \"jsondata->[\" + component.displaymember + \"]->>\"\r\n                                })\r\n\r\n\r\n                            }\r\n\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype = \"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n\r\n                            sampleQuerybuilderViewCondition.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"columntype\": 2,\r\n                                \"columntypedesc\": \"datetime\",\r\n                            })\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n                        }\r\n                        if (component.inputtype === 'Numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype = \"numeric\";\r\n                            if (component.inputtype === 'Numeric') {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 5,\r\n                                    \"columntypedesc\": \"numericinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n                        }\r\n\r\n                        if (component.inputtype === 'textinput' || component.inputtype === 'email'\r\n                            || component.inputtype === 'textarea' || component.inputtype === 'radio') {\r\n\r\n                            sampleQuerybuilderViewCondition.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"columntype\": 1,\r\n                                \"columntypedesc\": \"textinput\",\r\n                            })\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true : false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            sampleAuditEditable.push(component.label);\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] });\r\n\r\n                        }\r\n                        else {\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n\r\n\r\n        if (subSampleCheck) {\r\n            subSampleTemplate && subSampleTemplate.jsondata.map(row =>\r\n                row.children && row.children.map(column => {\r\n                    column.children && column.children.map((component, index) => {\r\n                        //console.log(\"component2:\", component);\r\n                        if (component.hasOwnProperty('children')) {\r\n                            component.children.map(componentRow => {\r\n                                if (componentRow.inputtype !== 'frontendsearchfilter'\r\n                                    && componentRow.inputtype !== 'backendsearchfilter') {\r\n                                    jsqlquerycolumnssub.push({\r\n                                        \"tablename\": \"registrationsample\",\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"isjsoncolumn\": true,\r\n                                        \"columndatatype\": componentRow.inputtype === 'date' ? \"date\" : \"string\",\r\n                                        \"jsoncolumnname\": \"jsonuidata\"\r\n                                    })\r\n                                }\r\n\r\n\r\n                                if (componentRow.inputtype === 'combo') {\r\n                                    if (!componentRow.ismultilingual === true) {\r\n                                        sampleQuerybuilderViewCondition.push({\r\n                                            \"columnname\": componentRow.label,\r\n                                            \"displayname\": componentRow.displayname,\r\n                                            \"columntype\": 1,\r\n                                            \"viewvaluemember\": componentRow.label,\r\n                                            \"valuemember\": componentRow.valuemember,\r\n                                            \"displaymember\": componentRow.displaymember,\r\n                                            \"mastertablename\": componentRow.source,\r\n                                            \"needmasterdata\": true,\r\n                                            \"columntypedesc\": \"textinput\",\r\n                                        })\r\n                                    }\r\n\r\n                                    else {\r\n                                        sampleQuerybuilderViewCondition.push({\r\n                                            \"columnname\": component.label,\r\n                                            \"columntype\": 1,\r\n                                            \"displayname\": componentRow.displayname,\r\n                                            \"columntypedesc\": \"textinput\",\r\n                                            \"isjsondisplayname\": true,\r\n                                            \"sforeigntablename\": component.source,\r\n                                            \"sforeigncolumnname\": component.valuemember,\r\n                                            \"sforeigndisplayname\": \"jsondata->[\" + component.displaymember + \"]->>\"\r\n                                        })\r\n                                    }\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n                                if (componentRow.inputtype === 'date') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 2,\r\n                                        \"columntypedesc\": \"datetime\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n\r\n\r\n                                }\r\n\r\n                                if (componentRow.inputtype === 'Numeric') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 5,\r\n                                        \"columntypedesc\": \"numericinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n\r\n\r\n                                if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email'\r\n                                    || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\r\n\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 1,\r\n                                        \"columntypedesc\": \"textinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n\r\n                                }\r\n                                return null;\r\n                            })\r\n                        } else {\r\n\r\n                            if (component.inputtype !== 'frontendsearchfilter'\r\n                                && component.inputtype !== 'backendsearchfilter') {\r\n                                jsqlquerycolumnssub.push({\r\n                                    \"tablename\": \"registrationsample\",\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"isjsoncolumn\": true,\r\n                                    \"columndatatype\": component.inputtype === 'date' ? \"date\" : \"string\",\r\n                                    \"jsoncolumnname\": \"jsonuidata\"\r\n                                })\r\n                            }\r\n                            if (component.inputtype === 'combo') {\r\n                                if (!component.ismultilingual === true) {\r\n\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": component.label,\r\n                                        \"displayname\": component.displayname,\r\n                                        \"columntype\": 1,\r\n                                        \"viewvaluemember\": component.label,\r\n                                        \"valuemember\": component.valuemember,\r\n                                        \"displaymember\": component.displaymember,\r\n                                        \"mastertablename\": component.source,\r\n                                        \"needmasterdata\": true,\r\n                                        \"columntypedesc\": \"textinput\",\r\n                                    })\r\n                                }\r\n                                else {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": component.label,\r\n                                        \"columntype\": 4,\r\n                                        \"displayname\": component.displayname,\r\n                                        \"columntypedesc\": \"combo\",\r\n                                        \"isjsondisplayname\": true,\r\n                                        \"sforeigntablename\": component.source,\r\n                                        \"sforeigncolumnname\": component.valuemember,\r\n                                        \"sforeigndisplayname\": \"jsondata->[\" + component.displaymember + \"]->>\"\r\n                                    })\r\n                                }\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n                            if (component.inputtype === 'date') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 2,\r\n                                    \"columntypedesc\": \"datetime\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n\r\n                            if (component.inputtype === 'Numeric') {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 5,\r\n                                    \"columntypedesc\": \"numericinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n\r\n                            if (component.inputtype === 'textinput' || component.inputtype === 'email'\r\n                                || component.inputtype === 'textarea' || component.inputtype === 'radio') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                            }\r\n                            return null;\r\n                        }\r\n\r\n                    })\r\n                })\r\n            );\r\n\r\n\r\n        }\r\n        let jsondata = {\r\n            griditem: gridItem,\r\n            gridmoreitem: gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields,\r\n            mastercombinationunique,\r\n            sampleAuditFields,\r\n            sampleAuditEditable,\r\n            sampleAuditMultilingualFields\r\n        }\r\n\r\n        //console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey, sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect, jsqlquerycolumns, jsqlquerycolumnssub };\r\n    }\r\n\r\n\r\n    approveVersion1 = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\",\r\n                    \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n\r\n            let { jdynamiccolumns, jnumericcolumns, templatePrimaryKey, sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect, jsqlquerycolumns, jsqlquerycolumnssub } = this.getGridJsondata(this.props.Login.selectedTemplate &&\r\n                this.props.Login.selectedTemplate, this.props.Login.subSampleCheck, this.props.Login.subSampleTemplate);\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue && this.props.Login.masterData.registrationSubTypeValue.value ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                    sregsubtypename: this.props.Login.masterData.registrationSubTypeValue && this.props.Login.masterData.registrationSubTypeValue.label ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                    sviewname: this.state.selectedRecord.sviewname,\r\n                    ndesigntemplatemappingcode: this.state.selectedRecord.ndesigntemplatemappingcode.value,\r\n                    sregtemplatename: this.state.selectedRecord.ndesigntemplatemappingcode.label,\r\n                }, jdynamiccolumns, jnumericcolumns, sprimarykey: templatePrimaryKey,\r\n                sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect, jsqlquerycolumns, jsqlquerycolumnssub\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n\r\n\r\n            // inputData['jsondata'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"updateapprove\",\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let postParam = undefined;\r\n        if (this.props.Login.operation === \"copy\") {\r\n\r\n            const subTypeCode = this.approvalSubTypeValue.value;\r\n\r\n            const inputData = {\r\n                approvalconfigversion: {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: subTypeCode,\r\n                    sversionname: this.state.selectedRecord.sversionname,\r\n                    nregtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regtype'] ? this.state.selectedRecord['regtype'].value : this.state.registrationTypeValue[0].value : -1,\r\n                    nregsubtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regsubtype'] ? this.state.selectedRecord['regsubtype'].value : this.state.registrationSubTypeValue[0].value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1\r\n                }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam, searchRef: this.searchRef,\r\n                operation: \"copy\",\r\n                selectedRecord: { ...this.state.selectedRecord }\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"copy\"\r\n                    }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n\r\n            } else {\r\n\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n\r\n            }\r\n\r\n        } else if (this.props.Login.operation === 'approve') {\r\n            this.approveVersion1(this.props.Login.ncontrolcode);\r\n        }\r\n        else {\r\n\r\n            let bool = true;\r\n            let errormessage = [];\r\n            let inputData = {};\r\n            let approvalconfigrole = [];\r\n            let filterDetailCount = 0;\r\n            let validationDetailCount = 0;\r\n            let decisionDetailCount = 0;\r\n            let actionDetailCount = 0;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData['napprovalconfigcode'] = this.props.Login.masterData.realApprovalConfigCode\r\n            inputData['ntreeversiontempcode'] = this.props.Login.userRoleTree[0].ntreeversiontempcode\r\n            inputData['napprovalsubtypecode'] = this.approvalSubTypeValue.value\r\n            let isAutoApprovalVersion = this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? true : false;\r\n\r\n            const userRoleTree = this.props.Login.userRoleTree;//.reverse();\r\n            userRoleTree.map(role => {\r\n                let approvalconfigrolefilterdetail = [];\r\n                let approvalconfigrolevalidationdetail = [];\r\n                let approvalconfigroledecisiondetail = [];\r\n                let approvalconfigroleactiondetail = [];\r\n                //to fill role details\r\n                if (this.state.selectedRecord[role.nuserrolecode]) {\r\n                    approvalconfigrole.push({\r\n                        napprovalconfigrolecode: this.props.Login.operation === 'create' ? 0 : role.napprovalconfigrolecode,\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        ntreeversiontempcode: role.ntreeversiontempcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nchecklistversioncode: this.state.selectedRecord[role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode].checklist ?\r\n                            this.state.selectedRecord[role.nuserrolecode].checklist : transactionStatus.NA : transactionStatus.NA,\r\n                        npartialapprovalneed: this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] : transactionStatus.YES,\r\n                        nsectionwiseapprovalneed: this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] === transactionStatus.NO ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] ?\r\n                                this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] : transactionStatus.NO\r\n                            : transactionStatus.NO,\r\n                        // nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\r\n                        // nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\r\n                        // nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\r\n                        // nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\r\n                        // nlevelno: role.nlevelno,\r\n                        nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nretestneed: this.state.selectedRecord[role.nuserrolecode]['ReTest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['ReTest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['ReCalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['ReCalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nlevelno: role.nlevelno,\r\n                        napprovalstatuscode: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\r\n\r\n                        nautoapproval: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? transactionStatus.YES :\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] : transactionStatus.NO,\r\n\r\n                        nautoapprovalstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].approvalstatus ?\r\n                                this.state.selectedRecord[role.nuserrolecode].approvalstatus\r\n                                : transactionStatus.NA\r\n                        ,\r\n                        nautodescisionstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] : transactionStatus.PASS\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].decisionstatus && this.state.selectedRecord[role.nuserrolecode].decisionstatus.length > 0 ?\r\n                                this.state.selectedRecord[role.nuserrolecode].decisionstatus[0] : transactionStatus.DRAFT\r\n                        // :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\r\n                        // :transactionStatus.NA\r\n                        ,\r\n                        ncorrectionneed: this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nesignneed: this.state.selectedRecord[role.nuserrolecode]['Esign_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Esign_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n\r\n                    })\r\n\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].filterstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].filterstatus.map(filterValue => {\r\n                            filterDetailCount++;\r\n                            approvalconfigrolefilterdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: filterValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].validationstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].validationstatus.map(validationValue => {\r\n                            validationDetailCount++;\r\n                            approvalconfigrolevalidationdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: validationValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].decisionstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(decisionValue => {\r\n                            decisionDetailCount++;\r\n                            approvalconfigroledecisiondetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: decisionValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            });\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`] ? this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`].map(actionValue => {\r\n                        actionDetailCount++;\r\n                        approvalconfigroleactiondetail.push({\r\n                            napprovalconfigcode: role.napprovalconfigcode,\r\n                            nuserrolecode: role.nuserrolecode,\r\n                            nlevelno: role.nlevelno,\r\n                            ntransactionstatus: actionValue,\r\n                            nstatus: transactionStatus.ACTIVE\r\n                        });\r\n                        return null;\r\n                    }) : approvalconfigroleactiondetail.push();\r\n                    actionDetailCount++;\r\n                    approvalconfigroleactiondetail.push({\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nlevelno: role.nlevelno,\r\n                        ntransactionstatus: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : -1,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    });\r\n\r\n                    inputData[`approvalconfigrolefilterdetail_${[role.nuserrolecode]}`] = approvalconfigrolefilterdetail\r\n                    inputData[`approvalconfigrolevalidationdetail_${[role.nuserrolecode]}`] = approvalconfigrolevalidationdetail\r\n                    inputData[`approvalconfigroledecisiondetail_${[role.nuserrolecode]}`] = approvalconfigroledecisiondetail\r\n                    inputData[`approvalconfigroleactiondetail_${[role.nuserrolecode]}`] = approvalconfigroleactiondetail\r\n                    bool = bool ? true : false\r\n                    return null;\r\n                } else {\r\n                    bool = false\r\n                    errormessage.push(role.suserrolename)\r\n                    return false;\r\n                }\r\n            })//role map\r\n\r\n            inputData['approvalconfigrole'] = approvalconfigrole\r\n            inputData['rolecount'] = this.props.Login.userRoleTree.length\r\n            inputData['filterdetailcount'] = filterDetailCount\r\n            inputData['validationdetailcount'] = validationDetailCount\r\n            inputData['decisiondetailcount'] = decisionDetailCount\r\n            inputData['actioncount'] = actionDetailCount\r\n            inputData['ntreeversiontempcode'] = this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1;\r\n            let finalInputData = {}\r\n            let inputParam = {}\r\n            if (bool) {\r\n                if (this.props.Login.operation === \"update\") {\r\n                    // edit\r\n                    postParam = { inputListName: \"versionData\", selectedObject: \"selectedVersion\", primaryKeyField: \"napproveconfversioncode\" };\r\n\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n\r\n\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        //  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        nneedautoouterband: this.state.selectedRecord['nneedautoouterband'] ? this.state.selectedRecord['nneedautoouterband'] : transactionStatus.NO,\r\n                        nneedautoinnerband: this.state.selectedRecord['nneedautoinnerband'] ? this.state.selectedRecord['nneedautoinnerband'] : transactionStatus.NO,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                else {\r\n\r\n\r\n                    inputData['approveconfigversion'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napproveconfversionno: -1,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        ntreeversiontempcode: this.props.Login.userRoleTree[0].ntreeversiontempcode,\r\n                        sapproveconfversiondesc: '-',\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    }\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        // nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nneedautoouterband: this.state.selectedRecord['nneedautoouterband'] ? this.state.selectedRecord['nneedautoouterband'] : transactionStatus.NO,\r\n                        nneedautoinnerband: this.state.selectedRecord['nneedautoinnerband'] ? this.state.selectedRecord['nneedautoinnerband'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                finalInputData['approvalconfigversion'] = inputData\r\n                finalInputData['userinfo'] = this.props.Login.userInfo\r\n                inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: finalInputData, saveType, formRef,\r\n                    operation: this.props.Login.operation,\r\n                    postParam, searchRef: this.searchRef,\r\n                    selectedRecord: { ...this.state.selectedRecord }\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                            openModal: true, operation: this.props.Login.operation, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FILLDETAILSFOR\" }) + \" \" + errormessage.join(\",\"))\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n\r\n        let versionStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED) {\r\n            versionStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            versionStatusCSS = \"outline-danger\";\r\n        }\r\n        const editId = this.state.controlMap.has(\"EditApprovalConfig\") && this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteApprovalConfig\") && this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode\r\n        const approveId = this.state.controlMap.has(\"ApproveApprovalConfig\") && this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode\r\n        const copyId = this.state.controlMap.has(\"CopyApprovalConfig\") && this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode\r\n        const addId = this.state.controlMap.has(\"AddApprovalConfig\") && this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode\r\n\r\n        this.approvalSubTypeValue = this.props.Login.masterData.realApprovalSubTypeValue ?\r\n            this.props.Login.masterData.realApprovalSubTypeValue\r\n            : this.props.Login.masterData.approvalSubTypeValue ?\r\n                this.props.Login.masterData.approvalSubTypeValue\r\n                : this.props.Login.masterData.approvalsubtype ? this.props.Login.masterData.approvalsubtype.length > 0 ?\r\n                    {\r\n                        value: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].napprovalsubtypecode,\r\n                        label: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].ssubtypename\r\n                    } : {} : {};\r\n\r\n        const filterParam = {\r\n            inputListName: \"versionData\",\r\n            selectedObject: \"selectedVersion\",\r\n            primaryKeyField: \"napproveconfversioncode\",\r\n            searchFieldList: [\"sversionname\", \"sversionstatus\", \"sapproveconfversiondesc\"],\r\n            fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n            fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            sortField: \"napproveconfversioncode\", sortOrder: \"descending\",\r\n\r\n            //NIBSCRT-2294\r\n            unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\",\r\n                \"registrationSubType\", \"registrationSubTypeValue\", \"ApprovalsubtypeList\",\r\n                \"RegistrationTypeList\", \"RegistrationSubTypeList\", \"treeVersionTemplate\", \"userroleTemplateValue\",\r\n                \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\",\r\n                \"realTreeVersionTemplateValue\", \"approvalConfigCode\", \"realApprovalConfigCode\"]\r\n        };\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n\r\n        const mandatoryFields = [{ \"idsName\": \"IDS_VERSIONNAME\", \"dataField\": \"sversionname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }]\r\n        this.props.Login.operation !== 'copy' && this.props.Login.userRoleTree && this.props.Login.userRoleTree.map(role => {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_APPROVALSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `approvalstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_FILTERSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `filterstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_VALIDATIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `validationstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            //ALPD-5334 added by Dhanushya RI,Enable mandatory field to non mandatory field\r\n            // if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\r\n            //     mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\r\n            // }\r\n            return null;\r\n        });\r\n        let breadCrumbData = []\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ];\r\n        } else {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ]\r\n        }\r\n        // console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\r\n        // console.log(\"this.props.Login.masterData.:\", this.props.Login.masterData);\r\n        const masterList = sortData((this.props.Login.masterData.searchedData || this.props.Login.masterData.versionData), \"descending\", \"napproveconfversioncode\");\r\n        //console.log(\"masterList:\", masterList);\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Affix top={53}>\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    </Affix>\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}>\r\n                            <ListMaster\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })}\r\n                                masterList={masterList}\r\n                                getMasterDetail={(version) => this.props.getApprovalConfigVersion(version, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedVersion}\r\n                                primaryKeyField=\"napproveconfversioncode\"\r\n                                mainField=\"sversionname\"\r\n                                firstField=\"sapproveconfversiondesc\"\r\n                                secondField=\"sversionstatus\"\r\n                                isIDSField=\"Yes\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                openModal={() => this.props.openModal(\"create\", this.props.Login.masterData.realApprovalConfigCode, this.approvalSubTypeValue.value,\r\n                                    this.props.Login.userInfo, addId, this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -10)}\r\n                                needAccordianFilter={false}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                showFilterIcon={true}\r\n                                //ALPD-5195--Vignesh R(21-01-2025)-->reg sub type and approval config-- filter issue, check description\r\n                                onFilterSubmit={this.onFilterSubmit}\r\n                               // callCloseFunction={true}\r\n                                //closeFilter={this.closeFilter}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_SAMPLEFILTER\":\r\n                                            <SampleFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                filterComboChange={this.onFilterComboChange}\r\n                                                approvalSubTypeOptions={this.state.ApprovalsubtypeList}\r\n                                                approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                                                registrationTypeOptions={this.state.RegistrationTypeList}\r\n                                                registrationTypeValue={this.props.Login.masterData.registrationTypeValue}\r\n                                                registrationSubTypeOptions={this.state.RegistrationSubTypeList}\r\n                                                registrationSubTypeValue={this.props.Login.masterData.registrationSubTypeValue}\r\n                                                userroleTemplateOptions={this.state.UserRoleTemplateList}\r\n                                                userroleTemplateValue={this.props.Login.masterData.userroleTemplateValue}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?\r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.selectedVersion ? Object.entries(this.props.Login.masterData.selectedVersion).length > 0 ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedVersion.sversionname}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"readonly-text font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={8} >\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSIONNO\" })}:${this.props.Login.masterData.selectedVersion.sapproveconfversiondesc}`}\r\n                                                                <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                                                                    {/* <i class=\"fas fa-check \"></i>  */}\r\n                                                                    {this.props.Login.masterData.selectedVersion.sversionstatus}\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={4}>\r\n                                                            <>\r\n                                                                <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                                    <div className=\"d-inline \">\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.getApprovalConfigEditData(this.props.Login.masterData.selectedVersion.napproveconfversioncode, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, editId)}>\r\n                                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            {/* <ConfirmDialog\r\n                                                                        name=\"deleteMessage\"\r\n                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                        icon={faTrashAlt}\r\n                                                                        //title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        handleClickDelete={() => this.deleteApprovalConfigVersion(deleteId)}\r\n                                                                    /> */}\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                            // data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.approveVersion(approveId)}>\r\n                                                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.copyVersion(this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, copyId)}>\r\n                                                                            <FontAwesomeIcon icon={faCopy} title={this.props.intl.formatMessage({ id: \"IDS_COPY\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                    </div>\r\n                                                                    {/* </Tooltip> */}\r\n                                                                </div>\r\n                                                            </>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n\r\n                                                <Card.Text>\r\n                                                    <Row>\r\n                                                        {this.props.Login.masterData.approvalSubTypeValue && this.props.Login.masterData.approvalSubTypeValue !== undefined\r\n                                                            && (this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL\r\n                                                                || this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.PROTOCOLAPPROVAL) ?\r\n                                                            <>\r\n                                                                <Col md=\"6\">\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id={\"IDS_VIEWNAME\"} /></FormLabel>\r\n                                                                        <ReadOnlyText>{\r\n                                                                            this.props.Login.masterData.selectedVersion.sviewname === \"\" ? '-'\r\n                                                                                : this.props.Login.masterData.selectedVersion.sviewname}</ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n                                                                <Col md=\"6\">\r\n                                                                    <FormGroup>\r\n                                                                        <FormLabel><FormattedMessage id={\"IDS_TEMPLATEMAPPINGVERSION\"} /></FormLabel>\r\n                                                                        <ReadOnlyText>{this.props.Login.masterData.selectedVersion.stemplatemappingversion}</ReadOnlyText>\r\n                                                                    </FormGroup>\r\n                                                                </Col>\r\n                                                            </>\r\n                                                            : \"\"}\r\n                                                    </Row>\r\n                                                    <Row>\r\n                                                        <Col>\r\n\r\n                                                            <Card>\r\n                                                                <Card.Header><FormattedMessage id=\"IDS_AUTOAPPROVAL\" message=\"Auto Approval\" /></Card.Header>\r\n                                                                <Card.Body>\r\n                                                                    <Row>\r\n                                                                        { /*Added by sonia on 14th NOV 2024 for jira id: ALPD-5086\t*/}\r\n\r\n\r\n                                                                        {this.props.Login.masterData.approvalSubTypeValue &&\r\n                                                                            this.props.Login.masterData.approvalSubTypeValue !== undefined &&\r\n                                                                            this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ?\r\n                                                                            <>\r\n                                                                                <Col md=\"4\">\r\n                                                                                    <FormGroup>\r\n                                                                                        <FormLabel><FormattedMessage id={'IDS_AUTOINNERBAND'} /></FormLabel>\r\n                                                                                        <ReadOnlyText>{this.props.Login.masterData.selectedVersion.sneedautoinnerband}</ReadOnlyText>\r\n                                                                                    </FormGroup>\r\n                                                                                </Col>\r\n                                                                                <Col md=\"4\">\r\n                                                                                    <FormGroup>\r\n                                                                                        <FormLabel><FormattedMessage id={'IDS_AUTOOUTERBAND'} /></FormLabel>\r\n                                                                                        <ReadOnlyText>{this.props.Login.masterData.selectedVersion.sneedautoouterband}</ReadOnlyText>\r\n                                                                                    </FormGroup>\r\n                                                                                </Col>\r\n                                                                            </>\r\n\r\n                                                                            : \"\"}\r\n                                                                        {this.props.Login.masterData.versionConfig ? this.props.Login.masterData.versionConfig.map(item =>\r\n                                                                            <Col md=\"4\">\r\n                                                                                <FormGroup>\r\n                                                                                    <FormLabel>\r\n                                                                                        {this.props.Login.masterData.approvalSubTypeValue &&\r\n                                                                                            this.props.Login.masterData.approvalSubTypeValue !== undefined &&\r\n                                                                                            this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ?\r\n                                                                                            <FormattedMessage id={'IDS_ANYCASE'} />\r\n                                                                                            : \"\"//<FormattedMessage id={'IDS_AUTOAPPROVAL'} /> \r\n                                                                                        }\r\n\r\n                                                                                    </FormLabel>\r\n                                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedVersion[`${item.ntranscode}`]}</ReadOnlyText>\r\n                                                                                </FormGroup>\r\n                                                                            </Col>\r\n                                                                        ) : \"\"}\r\n\r\n                                                                    </Row>\r\n\r\n                                                                </Card.Body>\r\n                                                            </Card>\r\n                                                        </Col>\r\n                                                    </Row>\r\n\r\n\r\n\r\n                                                </Card.Text>\r\n                                                <Row oGutters={true}>\r\n                                                    <Col md={12}>\r\n                                                        <Card className=\"at-tabs\">\r\n                                                            {this.props.Login.masterData ? this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 ?\r\n                                                                <CustomAccordion\r\n                                                                    key=\"UserRoles\"\r\n                                                                    accordionTitle=\"suserrolename\"\r\n                                                                    accordionComponent={this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames)}\r\n                                                                    inputParam={{ masterData: this.props.Login.masterData, userinfo: this.props.Login.userInfo, napprovalsubtypecode: this.approvalSubTypeValue.value }}\r\n                                                                    accordionClick={this.props.getRoleDetails}\r\n                                                                    accordionPrimaryKey={\"napprovalconfigrolecode\"}\r\n                                                                    accordionObjectName={\"role\"}\r\n                                                                    selectedKey={selectedRole.napprovalconfigrolecode}\r\n\r\n                                                                />\r\n                                                                : \"\" : \"\"}\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\" : \"\"}\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal\r\n                        onSaveClick={this.onSaveClick}\r\n                        operation={this.props.Login.operation}\r\n                        screenName={\"IDS_APPROVALCONFIG\"}\r\n                        closeModal={this.handleClose}\r\n                        show={this.props.Login.openModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.operation === 'approve' ? [{ \"idsName\": \"IDS_VIEWNAME\", \"dataField\": \"sviewname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                        { \"idsName\": \"IDS_TEMPLATEMAPPING\", \"dataField\": \"ndesigntemplatemappingcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"combo\" }] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'approve' ?\r\n                                <>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <FormSelectSearch\r\n                                                name={\"ndesigntemplatemappingcode\"}\r\n                                                formLabel={this.props.intl.formatMessage({ id: \"IDS_TEMPLATEMAPPING\" })}\r\n                                                placeholder=\"Please Select...\"\r\n                                                options={this.props.Login.designTemplateMapping}\r\n                                                // optionId=\"ntimezonecode\"\r\n                                                // optionValue=\"stimezoneid\"\r\n                                                value={this.state.selectedRecord[\"ndesigntemplatemappingcode\"]}\r\n                                                //defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\r\n                                                isMandatory={true}\r\n                                                isMulti={false}\r\n                                                isSearchable={false}\r\n                                                isClearable={false}\r\n                                                isDisabled={true}\r\n                                                closeMenuOnSelect={true}\r\n                                                onChange={(event) => this.onComboChange(event, 'ndesigntemplatemappingcode')}\r\n                                            />\r\n                                            <FormInput\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                name={\"sviewname\"}\r\n                                                type=\"text\"\r\n                                                onChange={(event) => this.onInputOnChange(event)}\r\n                                                placeholder={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                value={this.state.selectedRecord[\"sviewname\"]}\r\n                                                isMandatory={true}\r\n                                                //required={true}\r\n                                                maxLength={30}\r\n                                                onPaste={true}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                    </Row>\r\n                                </>\r\n                                :\r\n                                <AddApprovalConfig\r\n                                    selectedRecord={this.state.selectedRecord ? this.state.selectedRecord : {}}\r\n                                    userRoleTree={this.props.Login.userRoleTree}\r\n                                    approvalSubTypeValue={this.approvalSubTypeValue}//filter\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    approvalStatusOptions={this.props.Login.approvalStatusOptions}\r\n                                    approvalStatusValue={this.props.Login.approvalStatusValue}\r\n                                    filterStatusOptions={this.props.Login.filterStatusOptions}\r\n                                    filterStatusValues={this.props.Login.filterStatusValues}\r\n                                    topLevelValidStatusOptions={this.props.Login.topLevelValidStatusOptions}\r\n                                    validationStatusOptions={this.props.Login.validationStatusOptions}\r\n                                    validationStatusValues={this.props.Login.validationStatusValues}\r\n                                    decisionStatusOptions={this.props.Login.decisionStatusOptions}\r\n                                    decisionStatusValues={this.props.Login.decisionStatusValues}\r\n                                    actionStatus={this.props.Login.actionStatus}\r\n                                    checklistOptions={this.props.Login.checklistOptions}\r\n                                    checklistValues={this.props.Login.checklistValues}\r\n                                    roleConfig={this.props.Login.roleConfig}\r\n                                    versionConfig={this.props.Login.versionConfig}\r\n                                    operation={this.props.Login.operation}\r\n                                    nsubType={this.approvalSubTypeValue.value}\r\n                                    registrationTypeOptions={this.props.Login.optCopyRegType}\r\n                                    registrationTypeValue={this.state.registrationTypeValue}//filter\r\n                                    registrationSubTypeOptions={this.props.Login.optCopyRegSubType}\r\n                                    registrationSubTypeValue={this.state.registrationSubTypeValue}//filter\r\n                                    selectedVersion={this.props.Login.masterData.selectedVersion}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />}\r\n                    />\r\n                    : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteApprovalConfigVersion(deleteId));\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n            RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState } = this.state;\r\n        let updateState = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            // const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\r\n            // const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\r\n            // const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\r\n            const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            //this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \r\n            // RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\r\n            // RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\r\n\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n\r\n            // if (this.props.dataState === undefined) {\r\n            //     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            //     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            // }\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n                RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState\r\n            })\r\n        }\r\n    }\r\n    onInputOnChange = (event, role, action) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = event.target.name.split('_')[0] + '_' + event.target.name.split('_')[1]\r\n            let actionArray = selectedRecord[`actionStatus_${role.nuserrolecode}`] || [];\r\n            if (event.target.type === 'checkbox') {\r\n                if (action) {\r\n                    if (event.target.checked) {\r\n                        actionArray.push(action.ntranscode);\r\n                    } else {\r\n                        actionArray.splice(actionArray.indexOf(action.ntranscode), 1)\r\n                    }\r\n                    selectedRecord[`actionStatus_${role.nuserrolecode}`] = actionArray\r\n                }\r\n                roleDetails[fieldName] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO\r\n                if (fieldName === 'IDS_PARTIALAPPROVAL' && roleDetails[\"IDS_PARTIALAPPROVAL\"] && roleDetails[\"IDS_PARTIALAPPROVAL\"] === transactionStatus.YES) {\r\n                    roleDetails['IDS_SECTIONWISEAPPROVE'] = transactionStatus.NO\r\n                }\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            else {\r\n                roleDetails[fieldName] = event.target.value\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n                if (selectedRecord[event.target.name]) {\r\n                    if (event.target.name === \"nneedautoinnerband\" && (selectedRecord[\"Auto Approval\"] === transactionStatus.YES || selectedRecord[\"nneedautoouterband\"] === transactionStatus.YES)) {\r\n                        delete selectedRecord[\"Auto Approval\"]\r\n                        delete selectedRecord[\"nneedautoouterband\"]\r\n\r\n                    }\r\n                    else if (event.target.name === \"Auto Approval\" && (selectedRecord[\"nneedautoinnerband\"] === transactionStatus.YES || selectedRecord[\"nneedautoouterband\"] === transactionStatus.YES)) {\r\n                        delete selectedRecord[\"nneedautoinnerband\"]\r\n                        delete selectedRecord[\"nneedautoouterband\"]\r\n\r\n                    }\r\n                    else if (event.target.name === \"nneedautoouterband\" && (selectedRecord[\"Auto Approval\"] === transactionStatus.YES || selectedRecord[\"nneedautoinnerband\"] === transactionStatus.YES)) {\r\n                        delete selectedRecord[\"Auto Approval\"]\r\n                        delete selectedRecord[\"nneedautoinnerband\"]\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n            else {\r\n                if (event.target.name === 'sviewname') {\r\n                    if (event.target.value !== \"\") {\r\n                        // selectedRecord[event.target.name] =   event.target.value.replace(/[^a-z]/gi, '')\r\n                        //event.target.value =  validateCreateView(event.target.value);\r\n                        //Janakumar -> ALPD-5184 Approval configuration - In view name field ( when enter french lang 500 error is occurring ) (Both Normal & French)\r\n                        const regex = /^[a-z0-9]+$/;\r\n                        const regexNum = /^[0-9]+$/;\r\n                        const value = regex.test(event.target.value);\r\n                        if (value) {\r\n                            selectedRecord[event.target.name] = event.target.value !== \"\" ? regexNum.test(event.target.value.charAt(0))\r\n                                ? event.target.defaultValue : event.target.value : selectedRecord[event.target.name];\r\n                        } else {\r\n                            selectedRecord[event.target.name] = regexNum.test(event.target.value.charAt(0))\r\n                                ? event.target.defaultValue : event.target.value.replace(/[^a-z0-9]/g, '');\r\n                        }\r\n                    } else {\r\n                        selectedRecord[event.target.name] = event.target.value;\r\n                    }\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, role, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = comboName.split('_')[0]\r\n            let filterArray = [];\r\n            roleDetails[fieldName] = [];\r\n            if (comboData) {\r\n                selectedRecord[comboName] = comboData\r\n                if (fieldName === 'checklist') {\r\n                    selectedRecord[`checklistVersion_${role.nuserrolecode}`] = { label: comboData.item.schecklistversionname, value: comboData.item.nchecklistversioncode }\r\n                    filterArray = comboData.item.nchecklistversioncode;\r\n\r\n                } else {\r\n                    if (Array.isArray(comboData)) {\r\n                        comboData.map(item => {\r\n                            return (filterArray.push(item.value))\r\n                        })\r\n                    } else {\r\n                        filterArray = comboData.value;\r\n                    }\r\n                }\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            } else {\r\n                selectedRecord[comboName] = []\r\n                filterArray = []\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            selectedRecord[comboName] = comboData\r\n\r\n            if (comboName === 'regtype') {\r\n                this.props.getCopySubType(comboData, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType)\r\n            } else {\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n        }\r\n    }\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        let approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue;\r\n        let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\r\n        let registrationSubTypeValue;\r\n\r\n        if (comboData) {\r\n\r\n            selectedRecord[fieldName] = comboData.value;\r\n            let inputData = {};\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                approvalSubTypeValue = comboData\r\n                inputData = { nFlag: 2, napprovalsubtypecode: comboData.value, userinfo: this.props.Login.userInfo };\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = comboData\r\n                inputData = { nFlag: 3, napprovalsubtypecode: approvalSubTypeValue.value, nregtypecode: comboData.value, userinfo: this.props.Login.userInfo }\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = comboData\r\n                inputData = {\r\n                    nFlag: 4, napprovalsubtypecode: approvalSubTypeValue.value,\r\n                    nregtypecode: registrationTypeValue.value,\r\n                    nregsubtypecode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            if (fieldName === 'ntreeversiontempcode') {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            userroleTemplateValue: comboData\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                const oldState = {\r\n                    approvalsubtype: this.props.Login.masterData.approvalsubtype,\r\n                    registrationtype: this.props.Login.masterData.registrationType,\r\n                    registrationsubtype: this.props.Login.masterData.registrationSubType,\r\n                    approvalSubTypeValue,\r\n                    registrationTypeValue,\r\n                    registrationSubTypeValue,\r\n                    RegistrationTypeList: this.state.RegistrationTypeList,\r\n                    RegistrationSubTypeList: this.state.RegistrationSubTypeList,\r\n                }\r\n                let inputParamData = { inputData, masterData: this.props.Login.masterData }\r\n                this.props.getFilterChange(inputParamData, oldState)\r\n            }\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = \"\";\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = []\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else {\r\n\r\n                registrationSubTypeValue = []\r\n\r\n            }\r\n\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n        // this.searchRef.current.value = \"\"\r\n\r\n    }\r\n    getApprovalConfigurationVersion = () => {\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n            //this.searchRef.current.value = \"\"\r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                //ALPD-5195--Vignesh R(21-01-2025)-->reg sub type and approval config-- filter issue, check description\r\n                //realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                //realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                // realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                //realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                //realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n\r\n            }\r\n            const inputData = {\r\n                napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                    this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            let inputParamData = { inputData, masterData, searchRef: this.searchRef }\r\n            this.props.getApprovalConfigurationVersion(inputParamData);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n    //ATE234 janakumar -> ALPD-5616 Approval Configuration -->Copy Approval Configuration grid data displaying wrongly in specific scenario.\r\n  //ALPD-5616--comment  by Vignesh R(04-04-2025)-->Copy Approval Configuration grid data displaying wrongly in specific scenario.\r\n    /*closeFilter = () => {\r\n\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n\r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                approvalSubTypeValue: this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue : -1,\r\n                registrationTypeValue: this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue : -1,\r\n                registrationSubTypeValue: this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue : -1,\r\n                userroleTemplateValue: this.props.Login.masterData.realTreeVersionTemplateValue || -1,\r\n\r\n            }\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    masterData,\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLINFILTER\" }))\r\n        }\r\n    }*/\r\n    //ALPD-5195--Vignesh R(21-01-2025)-->reg sub type and approval config-- filter issue, check description\r\n    onFilterSubmit = () => {\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n\r\n            let check = false;\r\n\r\n            if (this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTGROUPAPPROVAL) {\r\n                if (this.props.Login.masterData.userroleTemplateValue.value === undefined) {\r\n                    check = true;\r\n                }\r\n\r\n            } else if (this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n                if (this.props.Login.masterData.userroleTemplateValue.value === undefined || this.props.Login.masterData.registrationSubTypeValue.value === undefined ||\r\n                    this.props.Login.masterData.registrationTypeValue.value === undefined) {\r\n                    check = true;\r\n                }\r\n            }\r\n            if (!check) {\r\n\r\n                //this.searchRef.current.value = \"\"\r\n                let masterData = {\r\n                    ...this.props.Login.masterData,\r\n                    realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                    realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                    realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                    realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                    realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n\r\n                }\r\n                const inputData = {\r\n                    napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                        this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                    napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\r\n                    ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n                let inputParamData = { inputData, masterData, searchRef: this.searchRef }\r\n                this.props.getApprovalConfigurationVersion(inputParamData);\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTALLINFILTER\" }))\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        // this.searchRef.current.value = \"\";\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"approvalconfig\",\r\n        //     methodUrl: \"ApprovalConfigFilter\",\r\n        //     userInfo: this.props.Login.userInfo,\r\n        //     displayName: \"IDS_APPROVALCONFIG\"\r\n        // };\r\n        // this.props.callService(inputParam);\r\n        this.getApprovalConfigurationVersion()\r\n    }\r\n    userRoleAccordion = (userRoleList) => {\r\n        const accordionMap = new Map();\r\n        userRoleList = sortData(userRoleList, 'ascending', 'nlevelno')\r\n        userRoleList.map((role) =>\r\n            accordionMap.set(role.napprovalconfigrolecode,\r\n                <UserRoleAccordion\r\n                    role={role}\r\n                    roleConfig={this.props.Login.masterData.roleConfig}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    controlMap={this.state.controlMap}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                    deleteRecord={this.deleteRecord}\r\n                    tabDetail={this.tabDetail(role)}\r\n                    onTabOnChange={this.onTabOnChange}\r\n                    approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                />)\r\n        )\r\n        return accordionMap;\r\n    }\r\n    tabDetail = () => {\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILTERSTATUS\",\r\n            <FilterStatusTab\r\n                filterData={process(this.props.Login.masterData.roleFilters ?\r\n                    // sortData(this.props.Login.masterData.roleFilters) : [],\r\n                    // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                    sortData(this.props.Login.masterData.roleFilters) : [], this.state.filterStatusState)}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.filterStatusState}\r\n                dataStateChange={(event) => this.setState({ filterStatusState: event.dataState })}\r\n                screenName=\"IDS_FILTERSTATUS\"\r\n            />\r\n        )\r\n\r\n        tabMap.set(\"IDS_VALIDATIONSTATUS\",\r\n            <ValidationStatusTab\r\n                validationStatus={process(this.props.Login.masterData.roleValidations ?\r\n                    sortData(this.props.Login.masterData.roleValidations) : [], this.state.validationStatusState)}\r\n                // sortData(this.props.Login.masterData.roleValidations) : [],\r\n                // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.validationStatusState}\r\n                dataStateChange={(event) => this.setState({ validationStatusState: event.dataState })}\r\n                screenName=\"IDS_VALIDATIONSTATUS\"\r\n            />)\r\n        //ATE234 Janakumar ALPD-5316 Test Approval -> Decision Status there have based on sample type.\r\n        // if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\r\n        //ALPD-5394 added by Dhanushya RI,Decision Status tab and combo should hide for testgroup and protocol subtype\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue\r\n            && this.props.Login.masterData.realApprovalSubTypeValue.value !== ApprovalSubType.TESTGROUPAPPROVAL\r\n            && this.props.Login.masterData.realApprovalSubTypeValue.value !== ApprovalSubType.PROTOCOLAPPROVAL) {\r\n            tabMap.set(\"IDS_DECISIONSTATUS\",\r\n                <DecisionStatusTab\r\n                    decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\r\n                        { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                    setDefault={this.props.setDefault}\r\n                    selectedRole={selectedRole}\r\n                    napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                    screenName=\"IDS_DECISIONSTATUS\"\r\n                />)\r\n        }\r\n        // }\r\n        tabMap.set(\"IDS_ACTIONSTATUS\",\r\n            <ActionStatusTab\r\n                actionData={process(this.props.Login.masterData.roleActions ? sortData(this.props.Login.masterData.roleActions) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                screenName=\"IDS_ACTIONSTATUS\"\r\n            />)\r\n        return tabMap;\r\n    }\r\n    onTabOnChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, getFilterChange\r\n        , validateEsignCredential, getCopySubType, getRoleDetails, setDefault, filterColumnData,\r\n        getApprovalConfigurationVersion, approveVersion\r\n    })\r\n    (injectIntl(ApprovalConfig));"]},"metadata":{},"sourceType":"module"}