{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\contactmaster\\\\SupplierMaterialCategoryTab.jsx\";\nimport React from 'react';\nimport { Row, Col, Card } from 'react-bootstrap'; //, Nav, Tab\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\n\nimport { injectIntl } from 'react-intl'; //FormattedMessage,\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\n\nimport { process } from '@progress/kendo-data-query';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal'; //import Axios from 'axios';\n//import rsapi from '../../rsapi';\n\nimport { toast } from 'react-toastify';\nimport AddSupplierCategory from './AddSupplierCategory';\nimport AddMaterialCategory from './AddMaterialCategory';\nimport Esign from '../audittrail/Esign';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { constructOptionList, showEsign, onDropAttachFileList, create_UUID, validatePhoneNumber, validateEmail, deleteAttachmentDropZone } from '../../components/CommonScript'; //import DataGrid from '../../components/DataGrid';\n\nimport SupplierTabs from './SupplierTabs';\nimport SupplierFileTab from './SupplierFileTabs';\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\nimport AddSupplierFile from './AddSupplierFile';\nimport AddSupplierContact from './AddSupplierContact';\n\nclass SupplierMaterialCategoryTab extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.supplierDataStateChange = event => {\n      this.setState({\n        dataState: event.dataState\n      });\n    };\n\n    this.materialDataStateChange = event => {\n      this.setState({\n        dataStateMaterial: event.dataState\n      });\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onDropSupplierFile = (attachedFiles, fieldName, maxSize) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize);\n      this.setState({\n        selectedRecord,\n        actionType: \"new\"\n      });\n    };\n\n    this.tabDetail = () => {\n      const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode;\n      const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode;\n      const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode;\n      const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode;\n      const addSupCotId = this.props.controlMap.has(\"AddSupplierContact\") && this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode;\n      const editSupCotId = this.props.controlMap.has(\"EditSupplierContact\") && this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode;\n      const deleteSupCotId = this.props.controlMap.has(\"DeleteSupplierContact\") && this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode;\n      const supcatAddParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCATEGORY\"\n        }),\n        operation: \"create\",\n        primaryKeyField: \"nsuppliercatcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: addSupCatId\n      };\n      const supcatDeleteParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCATEGORY\"\n        }),\n        methodUrl: \"SupplierMatrix\",\n        operation: \"delete\",\n        ncontrolCode: deleteSupCatId\n      };\n      const matericatAddParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_MATERIALCATEGORY\"\n        }),\n        operation: \"create\",\n        primaryKeyField: \"nmaterialcatcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: addMatCatId\n      };\n      const materialcatDeleteParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_MATERIALCATEGORY\"\n        }),\n        methodUrl: \"SupplierMatrix\",\n        operation: \"delete\",\n        ncontrolCode: deleteMatCatId\n      };\n      const supcotAddParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        }),\n        operation: \"create\",\n        primaryKeyField: \"nsuppliercontactcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: addSupCotId\n      };\n      const editcotAddParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        }),\n        operation: \"update\",\n        primaryKeyField: \"nsuppliercontactcode\",\n        masterData: this.props.masterData,\n        userInfo: this.props.userInfo,\n        ncontrolCode: editSupCotId\n      };\n      const supcotDeleteParam = {\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        }),\n        methodUrl: \"Supplier\",\n        operation: \"delete\",\n        ncontrolCode: deleteSupCotId\n      };\n      const tabMap = new Map();\n      const detailedFieldList = [{\n        \"idsName\": \"IDS_DESIGNATION\",\n        \"dataField\": \"sdesignation\",\n        \"width\": \"150px\",\n        \"mandatory\": false,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_MOBILENO\",\n        \"dataField\": \"smobileno\",\n        \"width\": \"150px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_TELEPHONENO\",\n        \"dataField\": \"stelephoneno\",\n        \"width\": \"150px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_EMAIL\",\n        \"dataField\": \"semail\",\n        \"width\": \"150px\",\n        \"mandatory\": false,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_DESCRIPTION\",\n        \"dataField\": \"sdescription\",\n        \"width\": \"150px\",\n        \"mandatory\": false,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_DEFAULTSTATUS\",\n        \"dataField\": \"sdisplaystatus\",\n        \"width\": \"250px\"\n      }];\n      tabMap.set(\"IDS_SUPPLIERCATEGORY\", /*#__PURE__*/React.createElement(SupplierTabs, {\n        userRoleControlRights: this.props.userRoleControlRights,\n        controlMap: this.props.controlMap,\n        inputParam: this.props.inputParam,\n        userInfo: this.props.userInfo,\n        addId: addSupCatId,\n        addParam: supcatAddParam,\n        comboDataService: this.props.getSupplierCategoryComboDataService,\n        addTitleIDS: \"IDS_SUPPLIERCATEGORY\",\n        addTitleDefaultMsg: 'SupplierCategory',\n        primaryKeyField: \"nsuppliermatrixcode\",\n        masterData: this.props.masterData,\n        primaryList: \"SupplierCategory\",\n        dataResult: process(this.props.masterData[\"SupplierCategory\"] || [], this.state.dataState) // dataState={this.state.dataState}\n        // dataStateChange={this.supplierDataStateChange}\n        ,\n        dataState: this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\" || this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCATEGORY\"\n        }) ? this.state.dataState : {\n          skip: 0\n        },\n        dataStateChange: event => this.setState({\n          dataState: event.dataState\n        }),\n        columnList: this.suppliercatColumnList,\n        methodUrl: \"SupplierMatrix\",\n        deleteRecord: this.deleteRecord,\n        deleteParam: supcatDeleteParam //selectedId={this.props.selectedId}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 44\n        }\n      }));\n      tabMap.set(\"IDS_MATERIALCATEGORY\", /*#__PURE__*/React.createElement(SupplierTabs, {\n        userRoleControlRights: this.props.userRoleControlRights,\n        controlMap: this.props.controlMap,\n        inputParam: this.props.inputParam,\n        userInfo: this.props.userInfo,\n        addId: addMatCatId,\n        addParam: matericatAddParam,\n        comboDataService: this.props.getMaterialCategoryComboDataService,\n        addTitleIDS: \"IDS_MATERIALCATEGORY\",\n        addTitleDefaultMsg: 'MaterialCategory',\n        primaryKeyField: \"nsuppliermatrixcode\",\n        masterData: this.props.masterData,\n        primaryList: \"MaterialCategory\",\n        dataResult: process(this.props.masterData[\"MaterialCategory\"] || [], this.state.dataStateMaterial) // dataState={this.state.dataStateMaterial}\n        // dataStateChange={this.materialDataStateChange}\n        ,\n        dataState: this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\" || this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_MATERIALCATEGORY\"\n        }) ? this.state.dataStateMaterial : {\n          skip: 0\n        },\n        dataStateChange: event => this.setState({\n          dataStateMaterial: event.dataState\n        }),\n        columnList: this.materialcatColumnList,\n        methodUrl: \"SupplierMatrix\",\n        deleteRecord: this.deleteRecord,\n        deleteParam: materialcatDeleteParam //selectedId={this.props.selectedId}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 44\n        }\n      }));\n      tabMap.set(\"IDS_SUPPLIERCONTACT\", /*#__PURE__*/React.createElement(SupplierTabs, {\n        userRoleControlRights: this.props.userRoleControlRights,\n        selectedId: this.props.selectedId,\n        controlMap: this.props.controlMap,\n        inputParam: this.props.inputParam,\n        userInfo: this.props.userInfo,\n        fetchRecord: this.props.getSupplierContactComboDataService,\n        addId: addSupCotId,\n        editId: editSupCotId,\n        editParam: editcotAddParam,\n        addParam: supcotAddParam,\n        comboDataService: this.props.getSupplierContactComboDataService,\n        addTitleIDS: \"IDS_SUPPLIERCONTACT\",\n        addTitleDefaultMsg: 'SupplierContact',\n        primaryKeyField: \"nsuppliercontactcode\",\n        masterData: this.props.masterData,\n        primaryList: \"SupplierContact\",\n        dataResult: process(this.props.masterData[\"SupplierContact\"] || [], this.state.dataState) // dataState={this.state.dataStateMaterial}\n        // dataStateChange={this.materialDataStateChange}\n        ,\n        dataState: this.props.screenName === undefined || supcotAddParam.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        }) ? this.state.dataState : {\n          skip: 0\n        },\n        dataStateChange: event => this.setState({\n          dataState: event.dataState\n        }),\n        columnList: this.supplierContactColumnList,\n        methodUrl: \"SupplierContact\",\n        deleteRecord: this.deleteRecord,\n        deleteParam: supcotDeleteParam,\n        detailedFieldList: detailedFieldList //selectedId={this.props.selectedId}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 43\n        }\n      }));\n      tabMap.set(\"IDS_FILE\", /*#__PURE__*/React.createElement(SupplierFileTab, {\n        controlMap: this.props.controlMap,\n        userRoleControlRights: this.props.userRoleControlRights,\n        userInfo: this.props.userInfo,\n        inputParam: this.props.inputParam,\n        deleteRecord: this.deleteRecord,\n        supplierFile: this.props.masterData.supplierFile || [],\n        getAvailableData: this.props.getAvailableData,\n        addSupplierFile: this.props.addSupplierFile,\n        viewSupplierFile: this.viewSupplierFile,\n        defaultRecord: this.defaultRecord,\n        screenName: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERFILE\"\n        }),\n        settings: this.props.settings,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.loadEsign;\n      let openChildModal = this.props.openChildModal;\n      let selectedRecord = this.props.selectedRecord;\n      let selectedId = this.props.selectedId;\n\n      if (this.props.loadEsign) {\n        if (this.props.operation === \"delete\") {\n          loadEsign = false;\n          openChildModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = '';\n          selectedRecord['esigncomments'] = '';\n        }\n      } else {\n        openChildModal = false;\n        selectedId = null;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openChildModal,\n          loadEsign,\n          selectedRecord,\n          selectedId\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = comboData;\n      ;\n\n      if (fieldName === \"nsuppliercatcode\") {\n        let selectedSupplierCategory = comboData;\n        this.setState({\n          selectedRecord,\n          selectedSupplierCategory\n        });\n      }\n\n      if (fieldName === \"nmaterialcatcode\") {\n        let selectedMaterialCategory = comboData;\n        this.setState({\n          selectedRecord,\n          selectedMaterialCategory\n        });\n      }\n\n      if (fieldName === \"ncountrycode\") {\n        let selectedSupplierContact = comboData;\n        this.setState({\n          selectedRecord,\n          selectedSupplierContact\n        });\n      }\n    };\n\n    this.viewSupplierFile = filedata => {\n      const inputParam = {\n        inputData: {\n          supplierfile: filedata,\n          userinfo: this.props.userInfo\n        },\n        classUrl: \"supplier\",\n        operation: \"view\",\n        methodUrl: \"AttachedSupplierFile\",\n        screenName: \"Supplier File\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.onInputOnChange = (event, optional) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"ntransactionstatus\") selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE; // else if (event.target.name === \"nlockmode\")\n        //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\n        else selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else if (event.target.type === 'radio') {\n        selectedRecord[event.target.name] = optional;\n      } else {\n        if (event.target.name === \"stelephoneno\" || event.target.name === \"smobileno\") {\n          if (event.target.value !== \"\") {\n            event.target.value = validatePhoneNumber(event.target.value);\n            selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\n          } else {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n        } else selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      //add / edit  \n      if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\n        let inputParam = {};\n\n        if (this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCATEGORY\"\n        })) {\n          inputParam = this.saveSupplierCategory(saveType, formRef);\n        } else if (this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_MATERIALCATEGORY\"\n        })) {\n          inputParam = this.saveMaterial(saveType, formRef);\n        } else if (this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        })) {\n          inputParam = this.saveSupplierContact(saveType, formRef);\n        } else if (this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERFILE\"\n        })) {\n          inputParam = this.onSaveSupplierFile(saveType, formRef);\n        }\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.masterData\n              },\n              saveType\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_ENTERVALIDEMAIL\"\n        }));\n      }\n    };\n\n    this.onSaveSupplierFile = (saveType, formRef) => {\n      const selectedRecord = this.state.selectedRecord;\n      const acceptedFiles = selectedRecord.sfilename;\n      const nattachmenttypecode = selectedRecord.nattachmenttypecode;\n      let isFileEdited = transactionStatus.NO;\n      let supplierFileArray = [];\n      let supplierFile = {\n        nsuppliercode: this.props.masterData.SelectedSupplier.nsuppliercode,\n        nsupplierfilecode: selectedRecord.nsupplierfilecode ? selectedRecord.nsupplierfilecode : 0,\n        nstatus: transactionStatus.ACTIVE,\n        nattachmenttypecode // ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\n\n      };\n      const formData = new FormData();\n\n      if (nattachmenttypecode === attachmentType.FTP) {\n        if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\n          acceptedFiles.forEach((file, index) => {\n            const tempData = Object.assign({}, supplierFile);\n            const splittedFileName = file.name.split('.');\n            const fileExtension = file.name.split('.')[splittedFileName.length - 1];\n            const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\n            const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\n            const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nsupplierfilecode && selectedRecord.nsupplierfilecode > 0 && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\n            tempData[\"sfilename\"] = file.name;\n            tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\n            tempData[\"nlinkcode\"] = transactionStatus.NA;\n            tempData[\"ssystemfilename\"] = uniquefilename;\n            tempData[\"nfilesize\"] = file.size;\n            formData.append(\"uploadedFile\" + index, file);\n            formData.append(\"uniquefilename\" + index, uniquefilename);\n            supplierFileArray.push(tempData);\n          });\n          formData.append(\"filecount\", acceptedFiles.length);\n          isFileEdited = transactionStatus.YES;\n        } else {\n          supplierFile[\"sfilename\"] = selectedRecord.sfilename;\n          supplierFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\n          supplierFile[\"nlinkcode\"] = transactionStatus.NA;\n          supplierFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\n          supplierFile[\"nfilesize\"] = selectedRecord.nfilesize;\n          supplierFileArray.push(supplierFile);\n        }\n      } else {\n        supplierFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\n        supplierFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\n        supplierFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\n        supplierFile[\"ssystemfilename\"] = \"\";\n        supplierFile[\"nfilesize\"] = 0;\n        supplierFileArray.push(supplierFile);\n      }\n\n      formData.append(\"isFileEdited\", isFileEdited);\n      formData.append(\"supplierfile\", JSON.stringify(supplierFileArray)); // formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\n\n      let selectedId = null;\n      let postParam = undefined;\n\n      if (this.props.operation === \"update\") {\n        // edit\n        postParam = {\n          inputListName: \"Supplier\",\n          selectedObject: \"SelectedSupplier\",\n          primaryKeyField: \"nsuppliercode\"\n        };\n        selectedId = selectedRecord[\"nsupplierfilecode\"];\n      }\n\n      const inputParam = {\n        inputData: {\n          userinfo: this.props.userInfo\n        },\n        formData: formData,\n        isFileupload: true,\n        operation: this.props.operation,\n        classUrl: \"supplier\",\n        saveType,\n        formRef,\n        methodUrl: \"SupplierFile\",\n        postParam\n      };\n      return inputParam;\n    };\n\n    this.deleteRecord = supplierparam => {\n      if (this.props.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: this.props.masterData.SelectedSupplier.stranstatus\n        }));\n      } else {\n        let inputParam = {};\n\n        if (this.props.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERFILE\"\n        })) {\n          inputParam = {\n            classUrl: \"supplier\",\n            methodUrl: supplierparam.methodUrl,\n            inputData: {\n              [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\n              \"userinfo\": this.props.userInfo\n            },\n            operation: supplierparam.operation,\n            //dataState: this.state.dataState,\n            //dataStateMaterial: this.state.dataStateMaterial\n            dataState: this.state.dataState\n          };\n        } else if (supplierparam.screenName === this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERCONTACT\"\n        })) {\n          inputParam = {\n            classUrl: \"supplier\",\n            methodUrl: \"SupplierContact\",\n            inputData: {\n              [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\n              \"userinfo\": this.props.userInfo\n            },\n            operation: supplierparam.operation,\n            //dataState: this.state.dataState,\n            //dataStateMaterial: this.state.dataStateMaterial\n            dataState: this.state.dataState\n          };\n        } else {\n          inputParam = {\n            classUrl: \"suppliermatrix\",\n            methodUrl: supplierparam.methodUrl,\n            inputData: {\n              [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\n              \"userinfo\": this.props.userInfo\n            },\n            operation: supplierparam.operation,\n            //dataState: this.state.dataState,\n            //dataStateMaterial: this.state.dataStateMaterial\n            dataState: this.state.dataState\n          };\n        }\n\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.masterData\n              },\n              openChildModal: true,\n              screenName: supplierparam.screenName,\n              operation: supplierparam.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\n        }\n      }\n    };\n\n    this.deleteAttachment = (event, file, fieldName) => {\n      let selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file);\n      this.setState({\n        selectedRecord,\n        actionType: \"delete\" //fileToDelete:file.name \n\n      });\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openChildModal\");\n    };\n\n    const dataState = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    const dataStateMaterial = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    this.state = {\n      isOpen: false,\n      selectedRecord: {},\n      dataResult: [],\n      activeTab: 'SupplierCategory-tab',\n      dataState: dataState,\n      dataStateMaterial: dataStateMaterial,\n      supplierCategory: [],\n      materialCategory: [],\n      countryList: []\n    };\n    this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname', 'sremarks', 'ntransactionstatus'];\n    this.supplierContactFieldList = ['ssuppliercontactname', 'sdescription', 'sdesignation', 'saddress1', 'saddress2', 'saddress3', 'sphoneno', 'smobileno', 'sfaxno', 'semail', 'ndefaultstatus', 'ncountrycode'];\n    this.suppliercatColumnList = [{\n      \"idsName\": \"IDS_SUPPLIERCATNAME\",\n      \"dataField\": \"ssuppliercatname\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    this.materialcatColumnList = [{\n      \"idsName\": \"IDS_MATERIALCATNAME\",\n      \"dataField\": \"smaterialcatname\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    this.supplierContactColumnList = [{\n      \"idsName\": \"IDS_SUPPLIERCONTACTNAME\",\n      \"dataField\": \"ssuppliercontactname\",\n      \"width\": \"150px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_DEFAULTSTATUS\",\n      \"dataField\": \"sdisplaystatus\",\n      \"width\": \"250px\",\n      \"mandatory\": false,\n      \"controlType\": \"checkbox\"\n    }];\n    this.validationSuppliercatColumnList = [{\n      \"idsName\": \"IDS_SUPPLIERCATNAME\",\n      \"dataField\": \"nsuppliercatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n    this.validationMaterialcatColumnList = [{\n      \"idsName\": \"IDS_MATERIALCATNAME\",\n      \"dataField\": \"nmaterialcatcode\",\n      \"width\": \"200px\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n  }\n\n  render() {\n    const mandatoryFields = [];\n    let matmandatoryFields = [];\n    this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ? mandatoryFields.push(item) : \"\"); //ALPD-849 Fix\n\n    if (this.props.screenName === this.props.intl.formatMessage({\n      id: \"IDS_MATERIALCATEGORY\"\n    })) {\n      this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ? matmandatoryFields.push(item) : \"\");\n    } else if (this.props.screenName === this.props.intl.formatMessage({\n      id: \"IDS_SUPPLIERFILE\"\n    })) {\n      if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\n        matmandatoryFields = [{\n          \"idsName\": \"IDS_FILENAME\",\n          \"dataField\": \"slinkfilename\",\n          \"mandatory\": true,\n          \"mandatoryLabel\": \"IDS_CHOOSE\",\n          \"controlType\": \"file\"\n        }, {\n          \"idsName\": \"IDS_LINKNAME\",\n          \"dataField\": \"nlinkcode\",\n          \"mandatory\": true,\n          \"mandatoryLabel\": \"IDS_SELECT\",\n          \"controlType\": \"selectbox\"\n        }];\n      } else {\n        // if (this.props.operation !== 'update') {\n        matmandatoryFields = [{\n          \"idsName\": \"IDS_FILE\",\n          \"dataField\": \"sfilename\",\n          \"mandatory\": true,\n          \"mandatoryLabel\": \"IDS_CHOOSE\",\n          \"controlType\": \"file\"\n        }]; // }\n      }\n    } else if (this.props.screenName === this.props.intl.formatMessage({\n      id: \"IDS_SUPPLIERCONTACT\"\n    })) {\n      matmandatoryFields = [{\n        \"idsName\": \"IDS_SUPPLIERCONTACT\",\n        \"dataField\": \"ssuppliercontactname\",\n        \"width\": \"150px\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }];\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"at-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CustomTabs, {\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    })))), this.props.openChildModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.openChildModal,\n      closeModal: this.closeModal,\n      operation: this.props.operation,\n      inputParam: this.props.inputParam,\n      screenName: this.props.screenName,\n      onSaveClick: this.onSaveClick,\n      updateStore: this.props.updateStore,\n      esign: this.props.loadEsign,\n      validateEsign: this.validateEsign,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.screenName === this.props.intl.formatMessage({\n        id: \"IDS_SUPPLIERCATEGORY\"\n      }) ? mandatoryFields : matmandatoryFields || [],\n      addComponent: this.props.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }\n      }) : this.props.screenName === this.props.intl.formatMessage({\n        id: \"IDS_SUPPLIERCATEGORY\"\n      }) ? /*#__PURE__*/React.createElement(AddSupplierCategory, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        selectedSupplierCategory: this.props.masterData.selectedSupplierCategory,\n        supplierCategory: this.state.supplierCategory || [] //{this.props.supplierCategory || []}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }\n      }) : this.props.screenName === this.props.intl.formatMessage({\n        id: \"IDS_MATERIALCATEGORY\"\n      }) ? /*#__PURE__*/React.createElement(AddMaterialCategory, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        operation: this.props.operation,\n        selectedMaterialCategory: this.props.masterData.selectedMaterialCategory,\n        materialCategory: this.state.materialCategory //{this.props.materialCategory}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 37\n        }\n      }) : this.props.screenName === this.props.intl.formatMessage({\n        id: \"IDS_SUPPLIERCONTACT\"\n      }) ? /*#__PURE__*/React.createElement(AddSupplierContact, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        operation: this.props.operation,\n        formatMessage: this.props.intl.formatMessage,\n        selectedSupplierContact: this.props.masterData.selectedSupplierContact,\n        countryList: this.state.countryList || [],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 41\n        }\n      }) : this.props.screenName === this.props.intl.formatMessage({\n        id: \"IDS_SUPPLIERFILE\"\n      }) ? /*#__PURE__*/React.createElement(AddSupplierFile, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onDrop: this.onDropSupplierFile,\n        onDropAccepted: this.onDropAccepted,\n        deleteAttachment: this.deleteAttachment,\n        actionType: this.state.actionType,\n        onComboChange: this.onComboChange,\n        linkMaster: this.props.linkMaster,\n        editFiles: this.props.editFiles,\n        maxSize: 20 // maxFiles={this.props.operation === \"update\" ? 1 : 3}\n        // multiple={this.props.operation === \"update\" ? false : true}\n        ,\n        maxFiles: 1,\n        multiple: false,\n        label: this.props.intl.formatMessage({\n          id: \"IDS_SUPPLIERFILE\"\n        }),\n        name: \"supplierfilename\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 45\n        }\n      }) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.masterData !== previousProps.masterData) {\n      let isOpen = false;\n\n      if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\n        isOpen = true;\n      }\n\n      let {\n        dataState,\n        dataStateMaterial\n      } = this.state;\n\n      if (this.props.dataState === undefined) {\n        dataState = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\n          filter: undefined,\n          sort: undefined\n        };\n        dataStateMaterial = {\n          skip: 0,\n          take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\n          filter: undefined,\n          sort: undefined\n        };\n      }\n\n      this.setState({\n        isOpen,\n        activeTab: 'SupplierCategory-tab',\n        dataState,\n        dataStateMaterial\n      });\n    }\n\n    if (this.props.selectedRecord !== previousProps.selectedRecord) {\n      const countryList = constructOptionList(this.props.selectedRecord.countryList || [], \"ncountrycode\", \"scountryname\", undefined, undefined, undefined);\n      const countryListSupplier = countryList.get(\"OptionList\");\n      this.setState({\n        selectedRecord: this.props.selectedRecord,\n        countryList: countryListSupplier\n      });\n    }\n\n    let {\n      dataState,\n      dataStateMaterial\n    } = this.state;\n\n    if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\n      dataState = {\n        skip: 0,\n        take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n      };\n      dataStateMaterial = {\n        skip: 0,\n        take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n      };\n      this.setState({\n        dataState,\n        dataStateMaterial\n      });\n    } // {\n    //     dataState={...dataState,filter:undefined,sort:undefined}\n    //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\n    //     this.setState({ dataState, dataStateMaterial });\n    // }\n\n\n    if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\n      const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\", \"ssuppliercatname\", undefined, undefined, undefined);\n      const supplierCategoryList = supplierCategory.get(\"OptionList\");\n      const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\", \"smaterialcatname\", undefined, undefined, undefined);\n      const materialCategoryList = materialCategory.get(\"OptionList\");\n      this.setState({\n        supplierCategory: supplierCategoryList,\n        materialCategory: materialCategoryList\n      });\n    }\n  }\n\n  saveSupplierCategory(saveType, formRef) {\n    let inputData = [];\n    inputData[\"userinfo\"] = this.props.userInfo;\n    inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\n    inputData[\"suppliermatrix\"] = {};\n    let dataState = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n    let suppliermatrixArray = [];\n    suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\n      let suppliermat = {};\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"ntypecode\"] = 1;\n      suppliermat[\"sremarks\"] = \"\";\n      suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\n      suppliermat[\"ncategorycode\"] = item.value; //suppliermatrixArray.push(suppliermat);\n\n      return suppliermat;\n    });\n    inputData['suppliermatrix'] = suppliermatrixArray;\n    const inputParam = {\n      classUrl: \"suppliermatrix\",\n      methodUrl: \"SupplierMatrix\",\n      inputData: inputData,\n      operation: this.props.operation,\n      saveType,\n      formRef,\n      dataState\n    };\n    return inputParam;\n  }\n\n  saveMaterial(saveType, formRef) {\n    let inputData = [];\n    inputData[\"userinfo\"] = this.props.userInfo;\n    inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\n    inputData[\"suppliermatrix\"] = {};\n    let dataStateMaterial = undefined;\n    let suppliermatrixArray = [];\n    suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\n      let suppliermat = {};\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"ntypecode\"] = 2;\n      suppliermat[\"sremarks\"] = \"\";\n      suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\n      suppliermat[\"ncategorycode\"] = item.value; //suppliermatrixArray.push(suppliermat);\n\n      return suppliermat;\n    });\n    inputData['suppliermatrix'] = suppliermatrixArray;\n    const inputParam = {\n      classUrl: \"suppliermatrix\",\n      methodUrl: \"SupplierMatrix\",\n      inputData: inputData,\n      operation: this.props.operation,\n      saveType,\n      formRef,\n      dataStateMaterial\n    };\n    return inputParam;\n  }\n\n  saveSupplierContact(saveType, formRef) {\n    let inputData = [];\n    let postParam = {};\n    inputData[\"userinfo\"] = this.props.userInfo;\n    inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\n    inputData[\"suppliercontact\"] = {};\n    let dataState = {\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    }; // let suppliercontactArray = []\n\n    let suppliermat = {};\n\n    if (this.props.operation === \"update\") {\n      postParam = {\n        inputListName: \"Suppliercontact\",\n        selectedObject: \"SupplierContact\",\n        primaryKeyField: \"nsuppliercontactcode\"\n      };\n      inputData[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\n      suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\n      suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\n      suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\n      suppliermat[\"semail\"] = this.state.selectedRecord.semail;\n      suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\n      suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\n      suppliermat[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\n      inputData['suppliercontact'] = suppliermat;\n    } else {\n      suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\n\n      suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\n      suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\n      suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\n      suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\n      suppliermat[\"semail\"] = this.state.selectedRecord.semail;\n      suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\n      suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname; //suppliermat[\"ncategorycode\"] = item.value\n      //   suppliercontactArray.push(suppliermat);\n      //  return suppliermat;\n\n      inputData['suppliercontact'] = suppliermat;\n    }\n\n    let inputParam = {\n      classUrl: \"supplier\",\n      methodUrl: \"SupplierContact\",\n      inputData: inputData,\n      operation: this.props.operation,\n      postParam,\n      saveType,\n      formRef,\n      dataState\n    };\n    return inputParam;\n  }\n\n}\n\nexport default injectIntl(SupplierMaterialCategoryTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/SupplierMaterialCategoryTab.jsx"],"names":["React","Row","Col","Card","injectIntl","process","SlideOutModal","toast","AddSupplierCategory","AddMaterialCategory","Esign","DEFAULT_RETURN","constructOptionList","showEsign","onDropAttachFileList","create_UUID","validatePhoneNumber","validateEmail","deleteAttachmentDropZone","SupplierTabs","SupplierFileTab","transactionStatus","attachmentType","CustomTabs","AddSupplierFile","AddSupplierContact","SupplierMaterialCategoryTab","Component","constructor","props","supplierDataStateChange","event","setState","dataState","materialDataStateChange","dataStateMaterial","onTabChange","tabProps","screenName","updateInfo","typeName","data","updateStore","onDropSupplierFile","attachedFiles","fieldName","maxSize","selectedRecord","state","actionType","tabDetail","addSupCatId","controlMap","has","get","ncontrolcode","deleteSupCatId","addMatCatId","deleteMatCatId","addSupCotId","editSupCotId","deleteSupCotId","supcatAddParam","intl","formatMessage","id","operation","primaryKeyField","masterData","userInfo","ncontrolCode","supcatDeleteParam","methodUrl","matericatAddParam","materialcatDeleteParam","supcotAddParam","editcotAddParam","supcotDeleteParam","tabMap","Map","detailedFieldList","set","userRoleControlRights","inputParam","getSupplierCategoryComboDataService","undefined","skip","suppliercatColumnList","deleteRecord","getMaterialCategoryComboDataService","materialcatColumnList","selectedId","getSupplierContactComboDataService","supplierContactColumnList","supplierFile","getAvailableData","addSupplierFile","viewSupplierFile","defaultRecord","settings","closeModal","loadEsign","openChildModal","onComboChange","comboData","selectedSupplierCategory","selectedMaterialCategory","selectedSupplierContact","filedata","inputData","supplierfile","userinfo","classUrl","viewAttachment","onInputOnChange","optional","target","type","name","checked","ACTIVE","DEACTIVE","YES","NO","value","onSaveClick","saveType","formRef","saveSupplierCategory","saveMaterial","saveSupplierContact","onSaveSupplierFile","esignRights","nformcode","screenData","crudMaster","warn","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","supplierFileArray","nsuppliercode","SelectedSupplier","nsupplierfilecode","nstatus","formData","FormData","FTP","Array","isArray","length","forEach","file","index","tempData","Object","assign","splittedFileName","split","fileExtension","ssystemfilename","filesystemfileext","uniquefilename","sdescription","trim","NA","size","append","push","nfilesize","slinkfilename","slinkdescription","nlinkcode","JSON","stringify","postParam","inputListName","selectedObject","isFileupload","supplierparam","ntransactionstatus","RETIRED","stranstatus","toLowerCase","deleteAttachment","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","validateEsignCredential","take","parseInt","isOpen","dataResult","activeTab","supplierCategory","materialCategory","countryList","supplerCategoryFieldList","supplierContactFieldList","validationSuppliercatColumnList","validationMaterialcatColumnList","render","mandatoryFields","matmandatoryFields","item","mandatory","LINK","onDropAccepted","linkMaster","editFiles","componentDidUpdate","previousProps","errorCode","filter","sort","countryListSupplier","supplierCategoryList","materialCategoryList","suppliermatrixArray","nsuppliercatcode","map","suppliermat","nmaterialcatcode","nsuppliercontactcode","sdesignation","smobileno","stelephoneno","semail","ndefaultstatus","ssuppliercontactname"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card } from 'react-bootstrap';//, Nav, Tab\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';//,faPencilAlt, faTrash\r\nimport { injectIntl } from 'react-intl';//FormattedMessage,\r\n//import { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\n//import Axios from 'axios';\r\n//import rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport AddSupplierCategory from './AddSupplierCategory';\r\nimport AddMaterialCategory from './AddMaterialCategory';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { constructOptionList, showEsign, onDropAttachFileList, create_UUID, validatePhoneNumber,\r\n    validateEmail,deleteAttachmentDropZone } from '../../components/CommonScript';\r\n//import DataGrid from '../../components/DataGrid';\r\nimport SupplierTabs from './SupplierTabs';\r\nimport SupplierFileTab from './SupplierFileTabs';\r\nimport { transactionStatus, attachmentType } from '../../components/Enumeration';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport AddSupplierFile from './AddSupplierFile';\r\nimport AddSupplierContact from './AddSupplierContact';\r\n\r\nclass SupplierMaterialCategoryTab extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        const dataStateMaterial = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5\r\n        };\r\n        this.state = {\r\n            isOpen: false, selectedRecord: {}, dataResult: [],\r\n            activeTab: 'SupplierCategory-tab',\r\n            dataState: dataState,\r\n            dataStateMaterial: dataStateMaterial, supplierCategory: [], materialCategory: [], countryList: []\r\n        };\r\n        this.supplerCategoryFieldList = ['nsuppliercode', 'ncategorycode', 'ntypecode', 'ssuppliercatname', 'smaterialcatname',\r\n            'sremarks', 'ntransactionstatus'];\r\n        this.supplierContactFieldList = ['ssuppliercontactname', 'sdescription', 'sdesignation', 'saddress1', 'saddress2', 'saddress3',\r\n            'sphoneno', 'smobileno', 'sfaxno', 'semail', 'ndefaultstatus', 'ncountrycode'];\r\n        this.suppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"ssuppliercatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.materialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"smaterialcatname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }];\r\n        this.supplierContactColumnList = [{ \"idsName\": \"IDS_SUPPLIERCONTACTNAME\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\",\"mandatory\": false,\"controlType\": \"checkbox\" }\r\n        ]\r\n        this.validationSuppliercatColumnList = [{ \"idsName\": \"IDS_SUPPLIERCATNAME\", \"dataField\": \"nsuppliercatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n        this.validationMaterialcatColumnList = [{ \"idsName\": \"IDS_MATERIALCATNAME\", \"dataField\": \"nmaterialcatcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }];\r\n\r\n\r\n    }\r\n    supplierDataStateChange = (event) => {\r\n        this.setState({\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n    materialDataStateChange = (event) => {\r\n        this.setState({\r\n            dataStateMaterial: event.dataState\r\n        });\r\n    }\r\n    render() {\r\n        const mandatoryFields = [];\r\n        let matmandatoryFields = [];\r\n\r\n        this.validationSuppliercatColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n        //ALPD-849 Fix\r\n        if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" })) {\r\n            this.validationMaterialcatColumnList.forEach(item => item.mandatory === true ?\r\n                matmandatoryFields.push(item) : \"\"\r\n            );\r\n        }\r\n        else if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })) {\r\n            if (this.state.selectedRecord && this.state.selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                matmandatoryFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                // if (this.props.operation !== 'update') {\r\n                matmandatoryFields = [{ \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" }];\r\n                // }\r\n            }\r\n        }\r\n        else if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" })) {\r\n            matmandatoryFields = [{ \"idsName\": \"IDS_SUPPLIERCONTACT\", \"dataField\": \"ssuppliercontactname\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            ]\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Row className=\"no-gutters\">\r\n                    <Col md={12}>\r\n                        <Card className=\"at-tabs\">\r\n                            <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.openChildModal &&\r\n                    <SlideOutModal show={this.props.openChildModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.operation}\r\n                        inputParam={this.props.inputParam}\r\n                        screenName={this.props.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        updateStore={this.props.updateStore}\r\n                        esign={this.props.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" }) ? mandatoryFields : matmandatoryFields || []}\r\n                        addComponent={this.props.loadEsign ?\r\n                            <Esign operation={this.props.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" }) ?\r\n                                <AddSupplierCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedSupplierCategory={this.props.masterData.selectedSupplierCategory}\r\n                                    supplierCategory={this.state.supplierCategory || []} //{this.props.supplierCategory || []}\r\n                                /> :\r\n                                this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" }) ?\r\n                                    <AddMaterialCategory selectedRecord={this.state.selectedRecord || {}}\r\n                                        onInputOnChange={this.onInputOnChange}\r\n                                        onComboChange={this.onComboChange}\r\n                                        operation={this.props.operation}\r\n                                        selectedMaterialCategory={this.props.masterData.selectedMaterialCategory}\r\n                                        materialCategory={this.state.materialCategory}//{this.props.materialCategory}\r\n                                    /> :\r\n                                    this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" }) ?\r\n                                        <AddSupplierContact\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            onComboChange={this.onComboChange}\r\n                                            operation={this.props.operation}\r\n                                            formatMessage={this.props.intl.formatMessage}\r\n                                            selectedSupplierContact={this.props.masterData.selectedSupplierContact}\r\n                                            countryList={this.state.countryList || []}\r\n                                        /> :\r\n                                        this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" }) ?\r\n                                            <AddSupplierFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                onDrop={this.onDropSupplierFile}\r\n                                                onDropAccepted={this.onDropAccepted}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                actionType={this.state.actionType}\r\n                                                onComboChange={this.onComboChange}\r\n                                                linkMaster={this.props.linkMaster}\r\n                                                editFiles={this.props.editFiles}\r\n                                                maxSize={20}\r\n                                                // maxFiles={this.props.operation === \"update\" ? 1 : 3}\r\n                                                // multiple={this.props.operation === \"update\" ? false : true}\r\n                                                maxFiles={1}\r\n                                                multiple={false}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })}\r\n                                                name=\"supplierfilename\"\r\n                                            /> : \"\"\r\n                        }\r\n\r\n                    />\r\n                }\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onDropSupplierFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n\r\n    tabDetail = () => {\r\n        const addSupCatId = this.props.controlMap.has(\"AddSupplierCategory\") && this.props.controlMap.get(\"AddSupplierCategory\").ncontrolcode\r\n\r\n        const deleteSupCatId = this.props.controlMap.has(\"DeleteSupplierCategory\") && this.props.controlMap.get(\"DeleteSupplierCategory\").ncontrolcode\r\n\r\n        const addMatCatId = this.props.controlMap.has(\"AddMaterialCategory\") && this.props.controlMap.get(\"AddMaterialCategory\").ncontrolcode\r\n\r\n        const deleteMatCatId = this.props.controlMap.has(\"DeleteMaterialCategory\") && this.props.controlMap.get(\"DeleteMaterialCategory\").ncontrolcode\r\n\r\n        const addSupCotId = this.props.controlMap.has(\"AddSupplierContact\") && this.props.controlMap.get(\"AddSupplierContact\").ncontrolcode\r\n\r\n        const editSupCotId = this.props.controlMap.has(\"EditSupplierContact\") && this.props.controlMap.get(\"EditSupplierContact\").ncontrolcode\r\n\r\n        const deleteSupCotId = this.props.controlMap.has(\"DeleteSupplierContact\") && this.props.controlMap.get(\"DeleteSupplierContact\").ncontrolcode\r\n\r\n        const supcatAddParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" }), operation: \"create\", primaryKeyField: \"nsuppliercatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCatId\r\n        };\r\n\r\n        const supcatDeleteParam = { screenName: this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" }), methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteSupCatId };\r\n\r\n        const matericatAddParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" }), operation: \"create\", primaryKeyField: \"nmaterialcatcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addMatCatId\r\n        };\r\n\r\n        const materialcatDeleteParam = { screenName: this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" }), methodUrl: \"SupplierMatrix\", operation: \"delete\", ncontrolCode: deleteMatCatId };\r\n\r\n        const supcotAddParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" }), operation: \"create\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: addSupCotId\r\n        };\r\n        const editcotAddParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" }), operation: \"update\", primaryKeyField: \"nsuppliercontactcode\",\r\n            masterData: this.props.masterData, userInfo: this.props.userInfo, ncontrolCode: editSupCotId\r\n        };\r\n\r\n\r\n        const supcotDeleteParam = { screenName: this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" }), methodUrl: \"Supplier\", operation: \"delete\", ncontrolCode: deleteSupCotId };\r\n\r\n        const tabMap = new Map();\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_DESIGNATION\", \"dataField\": \"sdesignation\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_MOBILENO\", \"dataField\": \"smobileno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_TELEPHONENO\", \"dataField\": \"stelephoneno\", \"width\": \"150px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"150px\", \"mandatory\": false, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_DEFAULTSTATUS\", \"dataField\": \"sdisplaystatus\", \"width\": \"250px\" },\r\n\r\n        ];\r\n\r\n        tabMap.set(\"IDS_SUPPLIERCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addSupCatId}\r\n            addParam={supcatAddParam}\r\n            comboDataService={this.props.getSupplierCategoryComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCATEGORY\"}\r\n            addTitleDefaultMsg={'SupplierCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierCategory\"}\r\n            dataResult={process(this.props.masterData[\"SupplierCategory\"]||[], this.state.dataState)}\r\n            // dataState={this.state.dataState}\r\n            // dataStateChange={this.supplierDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === '' || this.props.screenName === \"SupplierCategory\" || this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" })) ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.suppliercatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_MATERIALCATEGORY\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            addId={addMatCatId}\r\n            addParam={matericatAddParam}\r\n            comboDataService={this.props.getMaterialCategoryComboDataService}\r\n            addTitleIDS={\"IDS_MATERIALCATEGORY\"}\r\n            addTitleDefaultMsg={'MaterialCategory'}\r\n            primaryKeyField={\"nsuppliermatrixcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"MaterialCategory\"}\r\n            dataResult={process(this.props.masterData[\"MaterialCategory\"]||[], this.state.dataStateMaterial)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || this.props.screenName === \"MaterialCategory\" || this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" })) ? this.state.dataStateMaterial : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataStateMaterial: event.dataState })}\r\n            columnList={this.materialcatColumnList}\r\n            methodUrl={\"SupplierMatrix\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={materialcatDeleteParam}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n        tabMap.set(\"IDS_SUPPLIERCONTACT\", <SupplierTabs userRoleControlRights={this.props.userRoleControlRights}\r\n            selectedId = {this.props.selectedId}\r\n            controlMap={this.props.controlMap}\r\n            inputParam={this.props.inputParam}\r\n            userInfo={this.props.userInfo}\r\n            fetchRecord={this.props.getSupplierContactComboDataService}\r\n            addId={addSupCotId}\r\n            editId={editSupCotId}\r\n            editParam={editcotAddParam}\r\n            addParam={supcotAddParam}\r\n            comboDataService={this.props.getSupplierContactComboDataService}\r\n            addTitleIDS={\"IDS_SUPPLIERCONTACT\"}\r\n            addTitleDefaultMsg={'SupplierContact'}\r\n            primaryKeyField={\"nsuppliercontactcode\"}\r\n            masterData={this.props.masterData}\r\n            primaryList={\"SupplierContact\"}\r\n            dataResult={process(this.props.masterData[\"SupplierContact\"]||[], this.state.dataState)}\r\n            // dataState={this.state.dataStateMaterial}\r\n            // dataStateChange={this.materialDataStateChange}\r\n            dataState={(this.props.screenName === undefined || supcotAddParam.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" })) ? this.state.dataState : { skip: 0 }}\r\n            dataStateChange={(event) => this.setState({ dataState: event.dataState })}\r\n            columnList={this.supplierContactColumnList}\r\n            methodUrl={\"SupplierContact\"}\r\n            deleteRecord={this.deleteRecord}\r\n            deleteParam={supcotDeleteParam}\r\n            detailedFieldList={detailedFieldList}\r\n        //selectedId={this.props.selectedId}\r\n        />)\r\n\r\n        tabMap.set(\"IDS_FILE\",\r\n            <SupplierFileTab\r\n                controlMap={this.props.controlMap}\r\n                userRoleControlRights={this.props.userRoleControlRights}\r\n                userInfo={this.props.userInfo}\r\n                inputParam={this.props.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                supplierFile={this.props.masterData.supplierFile || []}\r\n                getAvailableData={this.props.getAvailableData}\r\n                addSupplierFile={this.props.addSupplierFile}\r\n                viewSupplierFile={this.viewSupplierFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName={this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })}\r\n                settings={this.props.settings}\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.loadEsign;\r\n        let openChildModal = this.props.openChildModal;\r\n        let selectedRecord = this.props.selectedRecord;\r\n        let selectedId = this.props.selectedId;\r\n        if (this.props.loadEsign) {\r\n            if (this.props.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = '';\r\n                selectedRecord['esigncomments'] = '';\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord,selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;;\r\n\r\n\r\n        if (fieldName === \"nsuppliercatcode\") {\r\n            let selectedSupplierCategory = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierCategory });\r\n        }\r\n        if (fieldName === \"nmaterialcatcode\") {\r\n            let selectedMaterialCategory = comboData;\r\n            this.setState({ selectedRecord, selectedMaterialCategory });\r\n        }\r\n        if (fieldName === \"ncountrycode\") {\r\n            let selectedSupplierContact = comboData;\r\n            this.setState({ selectedRecord, selectedSupplierContact });\r\n        }\r\n    }\r\n    viewSupplierFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                supplierfile: filedata,\r\n                userinfo: this.props.userInfo\r\n            },\r\n            classUrl: \"supplier\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedSupplierFile\",\r\n            screenName: \"Supplier File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    onInputOnChange = (event, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            // else if (event.target.name === \"nlockmode\")\r\n            //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else if (event.target.type === 'radio') {\r\n            selectedRecord[event.target.name] = optional;\r\n        }\r\n        else {\r\n            if (event.target.name === \"stelephoneno\" || event.target.name === \"smobileno\") {\r\n                if (event.target.value !== \"\") {\r\n                    event.target.value = validatePhoneNumber(event.target.value);\r\n                    selectedRecord[event.target.name] = event.target.value !== \"\" ? event.target.value : selectedRecord[event.target.name];\r\n                }\r\n                else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n            }\r\n            else\r\n                selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.masterData !== previousProps.masterData) {\r\n\r\n            let isOpen = false;\r\n            if (this.props.errorCode !== undefined && (this.state.operation === \"create\" || this.state.operation === \"update\")) {\r\n                isOpen = true;\r\n            }\r\n            let { dataState, dataStateMaterial } = this.state;\r\n            if (this.props.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n                dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5, filter: undefined, sort: undefined }\r\n            }\r\n            this.setState({ isOpen, activeTab: 'SupplierCategory-tab', dataState, dataStateMaterial });\r\n        }\r\n\r\n        if (this.props.selectedRecord !== previousProps.selectedRecord) {\r\n\r\n            const countryList = constructOptionList(this.props.selectedRecord.countryList || [], \"ncountrycode\",\r\n                \"scountryname\", undefined, undefined, undefined);\r\n            const countryListSupplier = countryList.get(\"OptionList\");\r\n            this.setState({ selectedRecord: this.props.selectedRecord, countryList: countryListSupplier });\r\n        }\r\n        let { dataState, dataStateMaterial } = this.state;\r\n        if (this.props.dataState !== previousProps.dataState && this.props.dataState !== dataState) {\r\n            dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            dataStateMaterial = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 }\r\n            this.setState({ dataState, dataStateMaterial });\r\n        }\r\n\r\n        // {\r\n        //     dataState={...dataState,filter:undefined,sort:undefined}\r\n        //     dataStateMaterial={...dataStateMaterial,filter:undefined,sort:undefined}\r\n        //     this.setState({ dataState, dataStateMaterial });\r\n        // }\r\n        if (this.props.supplierCategory !== previousProps.supplierCategory || this.props.materialCategory !== previousProps.materialCategory) {\r\n\r\n            const supplierCategory = constructOptionList(this.props.supplierCategory || [], \"nsuppliercatcode\",\r\n                \"ssuppliercatname\", undefined, undefined, undefined);\r\n            const supplierCategoryList = supplierCategory.get(\"OptionList\");\r\n\r\n            const materialCategory = constructOptionList(this.props.materialCategory || [], \"nmaterialcatcode\",\r\n                \"smaterialcatname\", undefined, undefined, undefined);\r\n            const materialCategoryList = materialCategory.get(\"OptionList\");\r\n\r\n            this.setState({ supplierCategory: supplierCategoryList, materialCategory: materialCategoryList });\r\n        }\r\n    }\r\n\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        if (this.state.selectedRecord['semail'] ? validateEmail(this.state.selectedRecord['semail']) : true) {\r\n\r\n        let inputParam = {};\r\n\r\n        if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCATEGORY\" })) {\r\n            inputParam = this.saveSupplierCategory(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORY\" })) {\r\n            inputParam = this.saveMaterial(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" })) {\r\n            inputParam = this.saveSupplierContact(saveType, formRef);\r\n        }\r\n        else if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })) {\r\n            inputParam = this.onSaveSupplierFile(saveType, formRef);\r\n        }\r\n\r\n\r\n        if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, this.props.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n        }\r\n    } else {\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_ENTERVALIDEMAIL\" }));\r\n}\r\n\r\n }\r\n\r\n    saveSupplierCategory(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nsuppliercatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 1;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    saveMaterial(saveType, formRef) {\r\n        let inputData = [];\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliermatrix\"] = {};\r\n        let dataStateMaterial = undefined;\r\n\r\n        let suppliermatrixArray = []\r\n        suppliermatrixArray = this.state.selectedRecord.nmaterialcatcode.map(item => {\r\n            let suppliermat = {}\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"ntypecode\"] = 2;\r\n            suppliermat[\"sremarks\"] = \"\";\r\n            suppliermat[\"ntransactionstatus\"] = transactionStatus.ACTIVE;\r\n            suppliermat[\"ncategorycode\"] = item.value\r\n            //suppliermatrixArray.push(suppliermat);\r\n            return suppliermat;\r\n        });\r\n        inputData['suppliermatrix'] = suppliermatrixArray;\r\n\r\n        const inputParam = {\r\n            classUrl: \"suppliermatrix\",\r\n            methodUrl: \"SupplierMatrix\",\r\n            inputData: inputData,\r\n            operation: this.props.operation, saveType, formRef, dataStateMaterial\r\n        }\r\n        return inputParam;\r\n    }\r\n    saveSupplierContact(saveType, formRef) {\r\n        let inputData = [];\r\n        let postParam={};\r\n        inputData[\"userinfo\"] = this.props.userInfo;\r\n        inputData[\"supplier\"] = this.props.masterData.SelectedSupplier;\r\n        inputData[\"suppliercontact\"] = {};\r\n        let dataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n       // let suppliercontactArray = []\r\n\r\n        let suppliermat = {}\r\n        if (this.props.operation === \"update\") {\r\n            postParam = { inputListName: \"Suppliercontact\", selectedObject: \"SupplierContact\", primaryKeyField: \"nsuppliercontactcode\" };\r\n\r\n            inputData[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n            suppliermat[\"nsuppliercontactcode\"] = this.state.selectedRecord.nsuppliercontactcode;\r\n            inputData['suppliercontact'] = suppliermat;\r\n\r\n        }\r\n        else {\r\n            suppliermat[\"nsuppliercode\"] = this.props.masterData.SelectedSupplier.nsuppliercode; //this.state.selectedRecord[\"nmahcode\"] ? this.state.selectedRecord[\"nmahcode\"].value : \"\";\r\n            suppliermat[\"sdescription\"] = this.state.selectedRecord.sdescription;\r\n            suppliermat[\"sdesignation\"] = this.state.selectedRecord.sdesignation;\r\n            suppliermat[\"smobileno\"] = this.state.selectedRecord.smobileno;\r\n            suppliermat[\"stelephoneno\"] = this.state.selectedRecord.stelephoneno;\r\n            suppliermat[\"semail\"] = this.state.selectedRecord.semail;\r\n            suppliermat[\"ndefaultstatus\"] = this.state.selectedRecord.ndefaultstatus ? this.state.selectedRecord.ndefaultstatus : \"4\";\r\n            suppliermat[\"ssuppliercontactname\"] = this.state.selectedRecord.ssuppliercontactname;\r\n\r\n            //suppliermat[\"ncategorycode\"] = item.value\r\n            //   suppliercontactArray.push(suppliermat);\r\n            //  return suppliermat;\r\n\r\n            inputData['suppliercontact'] = suppliermat;\r\n        }\r\n        let inputParam = {\r\n            classUrl: \"supplier\",\r\n            methodUrl: \"SupplierContact\",\r\n            inputData: inputData,\r\n            operation: this.props.operation,postParam, saveType, formRef, dataState\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n\r\n\r\n    onSaveSupplierFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let supplierFileArray = [];\r\n        let supplierFile = {\r\n            nsuppliercode: this.props.masterData.SelectedSupplier.nsuppliercode,\r\n            nsupplierfilecode: selectedRecord.nsupplierfilecode ? selectedRecord.nsupplierfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode,\r\n           // ndefaultstatus: selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] ? selectedRecord[nattachmenttypecode === attachmentType.LINK ? \"nlinkdefaultstatus\" : \"ndefaultstatus\"] : 4\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, supplierFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const ssystemfilename = selectedRecord.ssystemfilename ? selectedRecord.ssystemfilename.split('.') : \"\";\r\n                    const filesystemfileext = selectedRecord.ssystemfilename ? file.name.split('.')[ssystemfilename.length - 1] : \"\";\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? selectedRecord.nsupplierfilecode && selectedRecord.nsupplierfilecode > 0\r\n                        && selectedRecord.ssystemfilename !== \"\" ? ssystemfilename[0] + '.' + filesystemfileext : create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    supplierFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                supplierFile[\"sfilename\"] = selectedRecord.sfilename;\r\n                supplierFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                supplierFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                supplierFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                supplierFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                supplierFileArray.push(supplierFile);\r\n            }\r\n        } else {\r\n            supplierFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            supplierFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\r\n            supplierFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            supplierFile[\"ssystemfilename\"] = \"\";\r\n            supplierFile[\"nfilesize\"] = 0;\r\n            supplierFileArray.push(supplierFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"supplierfile\", JSON.stringify(supplierFileArray));\r\n        // formData.append(\"userinfo\", JSON.stringify(this.props.userInfo));\r\n\r\n\r\n\r\n        let selectedId = null;\r\n        let postParam = undefined;\r\n        if (this.props.operation === \"update\") {\r\n            // edit\r\n            postParam = { inputListName: \"Supplier\", selectedObject: \"SelectedSupplier\", primaryKeyField: \"nsuppliercode\" };\r\n            selectedId = selectedRecord[\"nsupplierfilecode\"];\r\n        }\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.operation,\r\n            classUrl: \"supplier\",\r\n            saveType, formRef, methodUrl: \"SupplierFile\", postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteRecord = (supplierparam) => {\r\n        if (this.props.masterData.SelectedSupplier.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: this.props.masterData.SelectedSupplier.stranstatus }));\r\n        }\r\n        else {\r\n            let inputParam = {};\r\n            if (this.props.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERFILE\" })) {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            } else if (supplierparam.screenName === this.props.intl.formatMessage({ id: \"IDS_SUPPLIERCONTACT\" })) {\r\n                inputParam = {\r\n                    classUrl: \"supplier\",\r\n                    methodUrl: \"SupplierContact\",\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n            else {\r\n                inputParam = {\r\n                    classUrl: \"suppliermatrix\",\r\n                    methodUrl: supplierparam.methodUrl,\r\n                    inputData: {\r\n                        [supplierparam.methodUrl.toLowerCase()]: supplierparam.selectedRecord,\r\n                        \"userinfo\": this.props.userInfo,\r\n\r\n                    },\r\n                    operation: supplierparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n            }\r\n\r\n            if (showEsign(this.props.esignRights, this.props.userInfo.nformcode, supplierparam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.masterData },\r\n                        openChildModal: true, screenName: supplierparam.screenName, operation: supplierparam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n}\r\n\r\nexport default injectIntl(SupplierMaterialCategoryTab);\r\n\r\n"]},"metadata":{},"sourceType":"module"}