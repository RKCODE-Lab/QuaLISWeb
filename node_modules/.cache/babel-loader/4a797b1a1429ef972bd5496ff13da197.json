{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faFileInvoice,faEye,faLink,faChevronRight,faComments,faLaptopHouse,faBoxOpen,faBoxTissue,faBox,faLocationArrow,faFolderMinus,faFolderOpen,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{constructOptionList,getControlMap,showEsign}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel}from'../../components/App.styles';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,getSampleMaster,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,getContainerStorageCondition,getStorageConditionFromMaster,getSampleMasterDetails,getContainers,getselectedContainer,changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation,loadApprovedLocationOnCombo,filterColumnData,loadApprovedLocationOnTreeData,moveItems,saveSampleStorageMaster,getSelectedApprovedStorageVersion,validateEsignCredentialSampleStorageMaster}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import AddSample from'../basemaster/AddSample';import AddContainerStorageCondition from'./AddContainerStorageCondition';import{ProductList}from'../product/product.styled';import TransactionListMasterJson from'../../components/TransactionListMasterJson';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import StorageCategoryFilter from'./StorageCategoryFilter';import MoveSampleOrContainers from'./MoveSampleOrContainers';import{faFolder}from'@fortawesome/free-regular-svg-icons';import Esign from'../audittrail/Esign';var SampleStorageMaster=/*#__PURE__*/function(_Component){_inherits(SampleStorageMaster,_Component);var _super=_createSuper(SampleStorageMaster);function SampleStorageMaster(props){var _this$state;var _this;_classCallCheck(this,SampleStorageMaster);_this=_super.call(this,props);_this.openModal=function(addId){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerlastnode===true){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},operation:\"create\",ncontrolcode:addId}};_this.props.updateStore(updateInfo);}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"discard\"){loadEsign=false;openModal=false;selectedRecord={};selectedId=null;}else{loadEsign=false;}}else{openModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.closeChildModal=function(){var loadEsign=_this.props.Login.loadEsign;var openChildModal=_this.props.Login.openChildModal;var selectedId=_this.props.Login.selectedId;var selectedRecord=_this.state.selectedRecord;//this.props.Login.selectedRecord;\nif(_this.props.Login.loadEsign){loadEsign=false;}else{openChildModal=false;selectedId=null;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         openChildModal: false, selectedRecord: {}\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[event.target.name]=event.target.value;_this.setState({selectedRecord:selectedRecord});};_this.onKeyUp=function(event){if(event.keyCode===13){_this.onSaveClickSample(2);}};_this.onSaveClick=function(saveType,formRef){if(_this.state.activeTabIndex===1){_this.onSaveClickSample(saveType,formRef);}else{_this.onSaveClickContainer(saveType,formRef);}};_this.onSaveClickSample=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.props.Login.operation===\"update\"){inputData[\"sampleStorageMaster\"]={\"nsamplecode\":_this.state.selectedRecord.nsamplecode?_this.state.selectedRecord.nsamplecode:-1,\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode};}else{//add               \ninputData[\"sampleStorageMaster\"]={\"ssampletraycode\":_this.props.Login.sampleTrayCode?_this.props.Login.sampleTrayCode:\"\",\"ssamplearno\":_this.state.selectedRecord.ssamplearno?_this.state.selectedRecord.ssamplearno:\"\",\"nsamplestoragelocationcode\":_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode};}var inputParam={methodUrl:_this.props.Login.inputParam.methodUrl,classUrl:_this.props.Login.inputParam.classUrl,displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData,selectedRecord:selectedRecord},saveType:saveType,openModal:true}};_this.props.updateStore(updateInfo);}else{// this.props.crudMaster(inputParam, masterData, \"openModal\");\n_this.props.saveSampleStorageMaster(_this.props.Login.userInfo,_this.props.Login.masterData,_this.state.selectedRecord,inputParam);}};_this.onSaveClickContainer=function(saveType,formRef){var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;inputData[\"containerStorageCondition\"]={\"nstatus\":1};if(_this.props.Login.operation===\"update\"){inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"]=_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.ncontainerstoragecode:-1;inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;}inputData[\"containerStorageCondition\"][\"scontainercode\"]=_this.props.Login.containerCode&&_this.props.Login.containerCode!==undefined?_this.props.Login.containerCode:\"\";inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"]=_this.state.selectedRecord.nstorageconditioncode&&_this.state.selectedRecord.nstorageconditioncode!==undefined?_this.state.selectedRecord.nstorageconditioncode.value:-1;var inputParam={methodUrl:\"ContainerStorageCondition\",classUrl:\"samplestoragemaster\",displayName:_this.props.Login.inputParam.displayName?_this.props.Login.inputParam.displayName:'',inputData:inputData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType,openModal:true}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.itemRenderView=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleActionView){return/*#__PURE__*/React.createElement(React.Fragment,null,item?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                            \".concat(item.selected?\"active-node\":\"\",\"\\n                            \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                            \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text)):\"\");}};_this.onItemClickView=function(event){if(_this.state.selectedItem){_this.state.selectedItem.selected=false;}event.item.selected=true;_this.setState({selectedItem:event.item});// let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\n//     if (item.editable === true) {\n//         item.editable = false;\n//     } else if (item.id === event.item.id) {\n//         item.editable = true;\n//     }\n//     return item;\n// });\n// this.setState({ treeDataView: newData });\nif(event.item&&event.item.containerlastnode&&event.item.containerlastnode===true){_this.props.getSampleMaster(event.item,_this.props.Login.userInfo,_this.props.Login.masterData);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(1);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(1);}else if(_this.state.activeTabIndex!==1){_this.changePropertyView(1);}}else if(event.item&&event.item.containerfirstnode&&event.item.containerfirstnode===true){var result=_this.state.treeDataView;var indices=event.itemHierarchicalIndex.split('_').map(function(index){return Number(index);});var itemText=\"\";for(var i=0;i<indices.length-1;i++){result=result[indices[i]].items;itemText=i>0?itemText+\" -> \"+result[0].text:itemText+\"\"+result[0].text;}_this.props.getContainerStorageCondition(event.item,_this.props.Login.userInfo,_this.props.Login.masterData,itemText);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(2);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(2);}else if(_this.state.activeTabIndex!==2){_this.changePropertyView(2);}}else if(event.item&&event.item.locationlastnode&&event.item.locationlastnode===true){var containers=[];if(event.item.items&&event.item.items.length>0){event.item.items.forEach(function(element){if(element.containerfirstnode===true){containers.push(element);}});}_this.props.getContainers(event.item,_this.props.Login.masterData,containers);if(_this.state.activeTabIndex&&_this.state.activeTabIndex===false){_this.changePropertyView(3);}else if(_this.state.activeTabIndex===undefined){_this.changePropertyView(3);}else if(_this.state.activeTabIndex!==3){_this.changePropertyView(3);}}else{var updateInfo={typeName:DEFAULT_RETURN,data:{selectedItem:event.item,activeTabIndex:undefined}};_this.props.updateStore(updateInfo);}};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};if(caseNo===3){var nfilterStorageCategory=_this.state.nfilterStorageCategory||{};nfilterStorageCategory=comboData;_this.searchRef.current.value=\"\";_this.setState({nfilterStorageCategory:nfilterStorageCategory});}else if(caseNo===4){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnCombo(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else if(caseNo===5){selectedRecord[fieldName]=comboData;_this.props.loadApprovedLocationOnTreeData(_this.props.Login.userInfo,_this.props.Login.masterData,selectedRecord);}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}};_this.onExpandChangeView=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});setTimeout(function(){_this._scrollBarRef.updateScroll();});};_this.moveItem=function(userInfo,masterData,moveId){if(_this.state.activeTabIndex&&_this.state.activeTabIndex===1){if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData,moveId);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}}else if(_this.state.activeTabIndex&&_this.state.activeTabIndex===3){if(_this.props.Login.masterData.containers&&_this.props.Login.masterData.selectedContainer&&_this.props.Login.masterData.selectedContainer[0]!==undefined){_this.props.openSampleStorageApprovedLocation(userInfo,masterData,moveId);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}}};_this.confirmDelete=function(ncontrolCode){if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteSampleStorageMaster(ncontrolCode);});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.deleteSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"delete\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"delete\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.loadStorageCondition=function(editContainerID){var openStorage=false;if(_this.props.Login.masterData.storageContainer===null||_this.props.Login.masterData.storageContainer===undefined){mapTree(_this.state.treeDataView,\"items\",function(item){if(item.id===_this.props.Login.selectedItem.id){openStorage=true;}return item;});}else if(_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==undefined){openStorage=true;}if(openStorage===true){if(_this.props.Login.selectedItem&&_this.props.Login.selectedItem.containerfirstnode===true){_this.props.getStorageConditionFromMaster(_this.props.Login.userInfo,_this.props.Login.masterData,editContainerID);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYCONTAINER\"}));}};_this.discardSampleStorageMaster=function(ncontrolCode){var inputData=[];var data=[];if(_this.props.Login.masterData.sampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster&&_this.props.Login.masterData.selectedSampleStorageMaster[0]!==undefined){_this.props.Login.masterData.selectedSampleStorageMaster.forEach(function(item){data.push({\"nsamplecode\":item.nsamplecode,\"ssampletraycode\":item.ssampletraycode,\"npreregno\":item.npreregno,\"ntransactionsamplecode\":item.ntransactionsamplecode,\"sarno\":item.sarno,\"ssamplearno\":item.ssamplearno});});inputData[\"sampleStorageMaster\"]=data;inputData[\"userinfo\"]=_this.props.Login.userInfo;var inputParam={methodUrl:\"SampleStorageMaster\",classUrl:\"samplestoragemaster\",inputData:inputData,operation:\"discard\",searchRef:_this.searchRef};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},operation:\"discard\",openModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTANYSAMPLE\"}));}};_this.sideNavDetail=function(screenName){var addId=_this.state.controlMap.has(\"Add SampleStorageMaster\")&&_this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;var editId=_this.state.controlMap.has(\"Edit SampleStorageMaster\")&&_this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;var deleteId=_this.state.controlMap.has(\"Delete SampleStorageMaster\")&&_this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;var editContainerID=_this.state.controlMap.has(\"Edit StorageContainer\")&&_this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;var moveId=_this.state.controlMap.has(\"Move SampleStorageMaster\")&&_this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;var discardId=_this.state.controlMap.has(\"Discard SampleStorageMaster\")&&_this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;if(_this.props.Login.masterData.selectedSampleStorageVersion&&_this.props.Login.masterData.selectedSampleStorageVersion!==undefined){return screenName==\"IDS_SAMPLEDETAILS\"?/*#__PURE__*/React.createElement(React.Fragment,null,_this.props.Login.sampleTrayCode&&_this.props.Login.sampleTrayCode!==undefined?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(addId)===-1,onClick:function onClick(){return _this.openModal(addId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_SAMPLE\",defaultMessage:\"Sample\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deletesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DELETE\",defaultMessage:\"Delete\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"movesample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData,moveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"discardsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(discardId)===-1,onClick:function onClick(){return _this.discardSampleStorageMaster(discardId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faArrowRight}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DISCARD\",defaultMessage:\"Discard\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.sampleStorageMaster||[],selectedMaster:_this.props.Login.masterData.selectedSampleStorageMaster||[],primaryKeyField:\"nsamplecode\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getSampleMasterDetails,inputParam:_objectSpread({},_this.props.Login.masterData),moreField:_this.props.Login.masterData.sampleStorageMaster||[]// selectionList={this.props.Login.masterData.RealFilterStatusValue\n//     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\n,selectionColorField:\"scolorhexcode\",mainField:\"ssamplearno\",showStatusLink:true,showStatusName:true// statusFieldName=\"stransdisplaystatus\"\n// statusField=\"ntransactionstatus\"\n,selectedListName:\"selectedSampleStorageMaster\"// searchListName=\"searchedSample\"\n// searchRef={this.searchSampleRef}\n// objectName=\"sample\"\n,listName:\"IDS_SAMPLE\"// selectionField=\"ntransactionstatus\"\n// selectionFieldName=\"stransdisplaystatus\"\n// showFilter={this.props.Login.showFilter}\n// openFilter={this.openFilter}\n// closeFilter={this.closeFilter}\n// onFilterSubmit={this.onFilterSubmit}\n// subFields={this.state.DynamicSampleColumns}                                                 \n,needMultiSelect:false,needSingleSelect:true,subListName:\"columnlist\",jsonfield:\"jsondata\",showDynamicFields:true,showStatusBlink:true// filterParam={{\n//     ...this.state.filterSampleParam,\n//     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\n//     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\n// }}\n// subFieldsLabel={false}\n,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):/*#__PURE__*/React.createElement(React.Fragment,null)):screenName==\"IDS_CONTAINERS\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsample\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(moveId)===-1,onClick:function onClick(){return _this.moveItem(_this.props.Login.userInfo,_this.props.Login.masterData,moveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_MOVE\",defaultMessage:\"Move\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-top-inner container-tab\"},/*#__PURE__*/React.createElement(TransactionListMasterJson,{listMasterShowIcon:1,clickIconGroup:false,splitChangeWidthPercentage:_this.state.splitChangeWidthPercentage,masterList:_this.props.Login.masterData.containers||[],selectedMaster:_this.props.Login.masterData.selectedContainer||[],primaryKeyField:\"id\",filterColumnData:_this.props.filterTransactionList,getMasterDetail:_this.props.getselectedContainer,inputParam:_objectSpread({},_this.props.Login.masterData),selectionColorField:\"scolorhexcode\",mainField:\"text\",showStatusLink:true,showStatusName:true,selectedListName:\"selectedContainer\",listName:\"IDS_SAMPLE\",needMultiSelect:false,needSingleSelect:true,subListName:\"columnlist\",jsonfield:\"jsondata\",showDynamicFields:true,showStatusBlink:true,handlePageChange:_this.handlePageChange,skip:_this.state.skip,take:_this.state.take,needFilter:false,hidePaging:false,hideSearch:true}))):screenName==\"IDS_STORAGECONDITION\"?/*#__PURE__*/React.createElement(ProductList,{className:\"panel-main-content storage-tab\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,{className:\"no-padding\"},/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editContainer\",className:\"add-txt-btn\",hidden:_this.state.userRoleControlRights.indexOf(editContainerID)===-1,onClick:function onClick(){return _this.loadStorageCondition(editContainerID);}},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGECONDITION\",defaultMessage:\"Storage Condition\"})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap no-padding\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGECONDITIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.masterData.storageContainer.sstorageconditionname:\"\"||\"\"))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_STORAGELOCATIONNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,_this.props.Login.masterData.storageContainer&&_this.props.Login.masterData.storageContainer!==null?_this.props.Login.containerLocation&&_this.props.Login.containerLocation:\"\"))))))):\"\";}else{var masterData=_objectSpread(_objectSpread({},_this.props.Login.masterData),{},{storageContainer:undefined,containers:undefined,sampleStorageMaster:undefined});var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined,containerLocation:undefined,sampleTrayCode:undefined,containerCode:undefined,locationCode:undefined,masterData:masterData}};_this.props.updateStore(updateInfo);}};_this.changePropertyView=function(index,event,status){if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:_this.state.activeTabIndex!==index?index:0?index:false}};_this.props.updateStore(updateInfo);}};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined}};_this.props.updateStore(updateInfo);};_this.onInputSwitchOnChange=function(event){if(event.target.name==\"PopupNav\"){_this.setState({enablePropertyPopup:!_this.state.enablePropertyPopup});}else{_this.setState({enableAutoClick:!_this.state.enableAutoClick});}};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){if(_this.state.nfilterStorageCategory.value){var inputParam={inputData:{nstoragecategorycode:_this.state.nfilterStorageCategory.value,userinfo:_this.props.Login.userInfo,nfilterStorageCategory:_this.state.nfilterStorageCategory}};_this.props.changeStorageCategoryFilterOnSampleMaster(inputParam,_this.props.Login.masterData.filterStorageCategory);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_STORAGECATEGORYNOTAVAILABLE\"}));}};_this.itemRender=function(clickedItem){var item=clickedItem.item;if(!_this.state.toggleAction){return/*#__PURE__*/React.createElement(React.Fragment,null,clickedItem.item?/*#__PURE__*/React.createElement(\"span\",{className:\"normal-node\\n                         \".concat(clickedItem.item.editable?\"active-node\":\"\",\"\\n                         \").concat(item.expanded?\"expand-node\":\"collapse-node\",\"\\n                         \")},item.containerfirstnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBoxOpen}):item.locationlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLocationArrow}):item.containerlastnode?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBox}):item.expanded?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolderOpen}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFolder}),item.text)// <ul className=\"list-inline mb-0\">\n// <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\n// {clickedItem.item.editable ? (\n// <>\n// <li className=\"list-inline-item \">\n// <span\n// className=\"action-icon\"\n// onClick={(e) => this.setProperties(e, clickedItem)}\n// ></span>\n// </li>\n// </>\n// ) : null}\n// </ul>\n:\"\");}};_this.onItemClick=function(event){// if (this.state.selectedItemMove) {\n//     this.state.selectedItemMove.selected = false;\n// }\n// event.item.selected = true;\n// this.setState({\n//     selectedItem: event.item\n// })\nvar newData=mapTree(_this.state.treeData,\"items\",function(item){if(item.editable===true){item.editable=false;}else if(item.id===event.item.id){item.editable=true;}return item;});// newData.map((data) => {\n//     this.clearSelected(data, event.item)\n// })\n_this.setState({treeData:newData,clickedItem:event.item});};_this.onExpandChange=function(event){event.item.expanded=!event.item.expanded;_this.forceUpdate();};_this.onMoveClick=function(saveType,formRef){var inputParam={};var inputData=[];inputData[\"userinfo\"]=_this.props.Login.userInfo;if(_this.state.activeTabIndex===1){if(_this.state.clickedItem&&_this.state.clickedItem.containerlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.sampleTrayCode){inputParam={selectedSamples:_this.props.Login.masterData.selectedSampleStorageMaster,moveTargetTrayCode:_this.state.clickedItem.id,nsamplestoragelocationcode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,moveContainers:false,storageCategory:_this.state.selectedRecord[\"nstoragecategorycode\"]&&_this.state.selectedRecord[\"nstoragecategorycode\"].value,methodUrl:\"SampleStorageMaster\",inputData:inputData,operation:\"move\",userInfo:_this.props.Login.userInfo};var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData,selectedRecord:selectedRecord},operation:\"move\",openChildModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(updateInfo);}else{_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}}else if(_this.state.activeTabIndex===3){if(_this.state.clickedItem&&_this.state.clickedItem.locationlastnode===true){if(_this.state.clickedItem.id!==_this.props.Login.locationCode){var getSampleTray=[];var targetData=_this.state.treeData||[];var sourceData=_this.state.treeDataView||[];var newData=[];var sameLocation=true;var targetJsonData={};var SourceJsonData={};if(_this.props.Login.masterData.selectedSampleStorageVersion&&_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode===_this.state.selectedRecord[\"nsamplestoragelocationcode\"].value){_this.props.Login.masterData.selectedContainer.forEach(function(data){targetData=removeItems(targetData,\"items\",function(item){return item.id===data.id;});});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items;item.items=item.items||[];(_item$items=item.items).push.apply(_item$items,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}if(item.expanded===false){item.expanded=true;}if(item.selected&&item.selected===true){item.selected=false;}return item;});targetJsonData[\"data\"]=newData;}else{_this.props.Login.masterData.selectedContainer.forEach(function(data){sourceData=removeItems(sourceData,\"items\",function(item){return item.id===data.id;});if(sourceData.length>0){sourceData=mapTree(sourceData,\"items\",function(item){if(item.selected&&item.selected===true){item.selected=false;}return item;});}});newData=mapTree(targetData,\"items\",function(item){if(item.id===_this.state.clickedItem.id){var _item$items2;item.items=item.items||[];(_item$items2=item.items).push.apply(_item$items2,_toConsumableArray(_this.props.Login.masterData.selectedContainer));}if(item.expanded===false){item.expanded=true;}if(item.selected&&item.selected===true){item.selected=false;}return item;});SourceJsonData[\"data\"]=sourceData;targetJsonData[\"data\"]=newData;_this.props.Login.masterData.selectedContainer.forEach(function(data){mapTree([data],\"items\",function(item){if(item.containerlastnode===true){getSampleTray.push({id:item.id,text:item.text,nsamplestoragelocationcode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].value});}});});sameLocation=false;}inputParam={selectedSamples:getSampleTray,sourceLocationCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,sourceVersionCode:_this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,nsamplestoragelocationcode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,nsamplestorageversioncode:_this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,SourceJsonData:SourceJsonData,targetJsonData:targetJsonData,moveContainers:true,storageCategory:_this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,sameLocation:sameLocation,methodUrl:\"SampleStorageMaster\",inputData:inputData,operation:\"move\",userInfo:_this.props.Login.userInfo};// this.props.moveItems(inputParam, this.props.Login.masterData);\nvar _masterData=_this.props.Login.masterData;var _selectedRecord=_this.state.selectedRecord||{};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var _updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData,selectedRecord:_selectedRecord},operation:\"move\",openChildModal:true,screenName:_this.props.Login.inputParam.displayName}};_this.props.updateStore(_updateInfo);}else{_this.props.moveItems(inputParam,_this.props.Login.masterData);}}}}};_this.reloadData=function(){_this.searchRef.current.value=\"\";var nfilterStorageCategory=_this.state.nfilterStorageCategory&&Object.keys(_this.state.nfilterStorageCategory).length!==0?_this.state.nfilterStorageCategory.value:0;var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,\"nstoragecategorycode\":nfilterStorageCategory},classUrl:\"samplestoragemaster\",methodUrl:\"SampleStorageMaster\",displayName:\"IDS_SAMPLESTORAGEMASTER\",userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};if(_this.state.activeTabIndex===1&&_this.props.Login.operation===\"create\"){_this.props.validateEsignCredentialSampleStorageMaster(inputParam);}else if(_this.props.Login.operation===\"move\"){_this.props.validateEsignCredentialSampleStorageMaster(inputParam);}else{_this.props.validateEsignCredential(inputParam,\"openModal\");}};_this.state=(_this$state={selectedRecord:{},userRoleControlRights:[],controlMap:new Map(),skip:0,detailSkip:0,detailTake:10,take:_this.props.Login.settings?_this.props.Login.settings[3]:25,splitChangeWidthPercentage:22,enablePropertyPopup:false,enableAutoClick:false,treeDataView:undefined,toggleActionView:false,toggleAction:false,propertyPopupWidth:\"60\"},_defineProperty(_this$state,\"splitChangeWidthPercentage\",28.6),_defineProperty(_this$state,\"containers\",[]),_defineProperty(_this$state,\"treeData\",[]),_defineProperty(_this$state,\"selectedItem\",undefined),_defineProperty(_this$state,\"selectedItemMove\",undefined),_this$state);_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageMaster,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var _this2=this;var isComponentUpdated=false;var filterData=this.state.filterData;if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});}}if(this.props.Login.masterData.approvedTreeData!==previousProps.Login.masterData.approvedTreeData){if(this.props.Login.masterData.approvedTreeData&&this.props.Login.masterData.approvedTreeData!==undefined){this.setState({treeData:this.props.Login.masterData.approvedTreeData});}//JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\n}if(this.props.Login.masterData.selectedSampleStorageVersion!==previousProps.Login.masterData.selectedSampleStorageVersion){if(this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined){this.setState({treeDataView:JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data});}else{this.setState({treeDataView:undefined});}}var nfilterStorageCategory=this.state.nStorageCategory||{};var filterStorageCategory=this.state.filterStorageCategory||{};if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){if(this.props.Login.masterData.filterStorageCategory&&this.props.Login.masterData.filterStorageCategory!==undefined){var filterStorageCategoryMap=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",'nstoragecategorycode','ascending',false);filterStorageCategory=filterStorageCategoryMap.get(\"OptionList\");if(filterStorageCategory&&filterStorageCategory.length>0){var filterCategory=filterStorageCategory.filter(function(item){return item.value===_this2.props.Login.masterData.nfilterStorageCategory;});//filterStorageCategory[0];\nnfilterStorageCategory=filterCategory[0];}isComponentUpdated=true;}}else if(this.props.Login.masterData.nfilterStorageCategory!==previousProps.Login.masterData.nfilterStorageCategory){if(this.props.Login.masterData.nfilterStorageCategory&&this.props.Login.masterData.nfilterStorageCategory!==undefined){nfilterStorageCategory=this.props.Login.masterData.nfilterStorageCategory;isComponentUpdated=true;}}if(isComponentUpdated){this.setState({nfilterStorageCategory:nfilterStorageCategory,filterStorageCategory:filterStorageCategory});}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){this.setState({activeTabIndex:this.props.Login.activeTabIndex});}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){var _filterData=this.generateBreadCrumData();this.setState({filterData:_filterData});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":this.props.Login.masterData.selectedStorageCategoryName&&this.props.Login.masterData.selectedStorageCategoryName!==null?this.props.Login.masterData.selectedStorageCategoryName:\"NA\"// \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\n//     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\n});}return breadCrumbData;}},{key:\"clearSelected\",value:function clearSelected(innerObj,selectedItem){var _this3=this;// console.log(innerObj, selectedItem, \"aasd\")\nif(innerObj.id==selectedItem.id){innerObj.selected=true;}else{innerObj.selected=false;}if(innerObj.items&&innerObj.items.length>0){innerObj.items.map(function(childObj){_this3.clearSelected(childObj,selectedItem);});}return innerObj;}},{key:\"render\",value:function render(){var _this4=this;var mandatoryFields=[];if(this.state.activeTabIndex===1){mandatoryFields.push({\"idsName\":\"IDS_SAMPLE\",\"dataField\":\"ssamplearno\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"});}else if(this.state.activeTabIndex===2){mandatoryFields.push({\"idsName\":\"IDS_STORAGECONDITIONNAME\",\"dataField\":\"nstorageconditioncode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"});}var filterParam={inputListName:\"approvedSampleStorageLocation\",selectedObject:\"selectedSampleStorageVersion\",primaryKeyField:\"nsamplestorageversioncode\",fetchUrl:\"samplestoragelocation/getActiveSampleStorageVersion\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData}):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true,className:\"toolbar-top \".concat(this.state.activeTabIndex?'active-property-bar':\"\")},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ListWrapper,{className:\"vertical-tab-top grid-master \".concat(this.state.enablePropertyPopup?'active-popup':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-left-area \".concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(ListMaster,{formatMessage:this.props.intl.formatMessage,screenName:this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGEMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.approvedSampleStorageLocation,getMasterDetail:function getMasterDetail(selectedItem){return _this4.props.getSelectedApprovedStorageVersion(selectedItem,_this4.props.Login.userInfo,_this4.props.Login.masterData);},selectedMaster:this.props.Login.masterData.selectedSampleStorageVersion,primaryKeyField:\"nsamplestoragelocationcode\",mainField:\"ssamplestoragelocationname\"// firstField=\"sversionno\"\n// secondField=\"stransdisplaystatus\"\n,filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,hideAddButton:true// addId={addId}\n,searchRef:this.searchRef,reloadData:this.reloadData,hidePaging:false// openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\n,showFilterIcon:true,showFilter:this.props.Login.showFilter,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,filterComponent:[{\"IDS_STORAGEFILTER\":/*#__PURE__*/React.createElement(StorageCategoryFilter,{filterStorageCategory:this.state.filterStorageCategory||[],nfilterStorageCategory:this.state.nfilterStorageCategory||{},onComboChange:this.onComboChange})}]})),/*#__PURE__*/React.createElement(\"div\",{className:\"tree-view-container\"},this.props.Login.masterData.selectedSampleStorageVersion&&this.props.Login.masterData.selectedSampleStorageVersion!==undefined?/*#__PURE__*/React.createElement(TreeViewEditable,{id:\"samplestoragelocation\",name:\"samplestoragelocation\"// label=\"Sample Storage Location\"\n,data:this.state.treeDataView,expandIcons:true,item:this.itemRenderView,selectField:'active-node',onExpandChange:this.onExpandChangeView,onItemClick:this.onItemClickView}):/*#__PURE__*/React.createElement(React.Fragment,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" xs-grid-container vertical-tab \").concat(this.state.activeTabIndex?'active':\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.enablePropertyPopup?'active-popup':\"\",\" vertical-tab-content pager_wrap wrap-class \").concat(this.state.activeTabIndex?'active':\"\"),style:{width:this.state.enablePropertyPopup?this.state.propertyPopupWidth+'%':\"\"}},/*#__PURE__*/React.createElement(\"span\",{className:\" vertical-tab-close \".concat(this.state.activeTabIndex?'active':\"\"),onClick:function onClick(){return _this4.changePropertyViewClose(false);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronRight}),\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===1?this.sideNavDetail(\"IDS_SAMPLEDETAILS\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"})),this.state.activeTabIndex&&this.state.activeTabIndex===2?this.sideNavDetail(\"IDS_STORAGECONDITION\"):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-common  \".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4 no-margin\"},this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})),this.state.activeTabIndex&&this.state.activeTabIndex===3?this.sideNavDetail(\"IDS_CONTAINERS\"):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-head\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===1?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(1);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_SAMPLEDETAILS\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===2?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(2);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faLink}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_STORAGECONDITION\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(this.state.activeTabIndex&&this.state.activeTabIndex===3?'active':\"\"),onClick:function onClick(){return _this4.changePropertyView(3);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faComments}),/*#__PURE__*/React.createElement(\"span\",null,this.props.intl.formatMessage({id:\"IDS_CONTAINERS\"})))))))))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex===1?\"IDS_SAMPLE\":\"IDS_STORAGECONDITIONNAME\"}),onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},showSaveContinue:this.props.Login.loadEsign?false:this.state.activeTabIndex&&this.state.activeTabIndex===1?true:false,mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.state.activeTabIndex&&this.state.activeTabIndex===1?/*#__PURE__*/React.createElement(AddSample,{onInputChange:function onInputChange(e){return _this4.onInputChange(e);},selectedRecord:this.state.selectedRecord||{},onKeyUp:function onKeyUp(e){return _this4.onKeyUp(e);}}):this.state.activeTabIndex&&this.state.activeTabIndex===2?/*#__PURE__*/React.createElement(AddContainerStorageCondition,{selectedRecord:this.state.selectedRecord||{},onComboChange:this.onComboChange,storageCondition:this.props.Login.masterData.storageCondition||[]}):/*#__PURE__*/React.createElement(React.Fragment,null)}),this.props.Login.openChildModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openChildModal,closeModal:this.closeChildModal,operation:this.props.intl.formatMessage({id:\"IDS_MOVE\"}),inputParam:this.props.Login.inputParam,screenName:this.props.intl.formatMessage({id:this.state.activeTabIndex&&this.state.activeTabIndex==1?\"IDS_SAMPLE\":\"IDS_CONTAINERS\"}),onSaveClick:this.onMoveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(MoveSampleOrContainers,{treeData:this.state.treeData,selectedRecord:this.state.selectedRecord||{},itemRender:this.itemRender,onExpandChange:this.onExpandChange,onItemClick:this.onItemClick,onComboChange:this.onComboChange,storageCategory:this.props.Login.masterData.storageCategory||[],approvedLocation:this.props.Login.masterData.approvedLocation||[]})}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageMaster;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getSampleMaster:getSampleMaster,filterColumnData:filterColumnData,getSelectedSampleStorageLocation:getSelectedSampleStorageLocation,openPropertyModal:openPropertyModal,editSampleStorageLocation:editSampleStorageLocation,approveSampleStorageLocation:approveSampleStorageLocation,getSelectedSampleStorageVersion:getSelectedSampleStorageVersion,getContainerStorageCondition:getContainerStorageCondition,getStorageConditionFromMaster:getStorageConditionFromMaster,getSampleMasterDetails:getSampleMasterDetails,getContainers:getContainers,getselectedContainer:getselectedContainer,changeStorageCategoryFilterOnSampleMaster:changeStorageCategoryFilterOnSampleMaster,openSampleStorageApprovedLocation:openSampleStorageApprovedLocation,loadApprovedLocationOnCombo:loadApprovedLocationOnCombo,loadApprovedLocationOnTreeData:loadApprovedLocationOnTreeData,moveItems:moveItems,saveSampleStorageMaster:saveSampleStorageMaster,getSelectedApprovedStorageVersion:getSelectedApprovedStorageVersion,validateEsignCredentialSampleStorageMaster:validateEsignCredentialSampleStorageMaster})(injectIntl(SampleStorageMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/basemaster/SampleStorageMaster.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FontAwesomeIcon","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faFileInvoice","faEye","faLink","faChevronRight","faComments","faLaptopHouse","faBoxOpen","faBoxTissue","faBox","faLocationArrow","faFolderMinus","faFolderOpen","faArrowRight","toast","ListMaster","constructOptionList","getControlMap","showEsign","ReadOnlyText","ContentPanel","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","getSampleMaster","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","getContainerStorageCondition","getStorageConditionFromMaster","getSampleMasterDetails","getContainers","getselectedContainer","changeStorageCategoryFilterOnSampleMaster","openSampleStorageApprovedLocation","loadApprovedLocationOnCombo","filterColumnData","loadApprovedLocationOnTreeData","moveItems","saveSampleStorageMaster","getSelectedApprovedStorageVersion","validateEsignCredentialSampleStorageMaster","DEFAULT_RETURN","ListWrapper","TreeViewEditable","mapTree","removeItems","ConfirmMessage","CustomSwitch","AddSample","AddContainerStorageCondition","ProductList","TransactionListMasterJson","BreadcrumbComponent","StorageCategoryFilter","MoveSampleOrContainers","faFolder","Esign","SampleStorageMaster","props","openModal","addId","Login","selectedItem","containerlastnode","updateInfo","typeName","data","selectedRecord","operation","ncontrolcode","closeModal","loadEsign","selectedId","state","closeChildModal","openChildModal","onInputChange","event","target","name","value","setState","onKeyUp","keyCode","onSaveClickSample","onSaveClick","saveType","formRef","activeTabIndex","onSaveClickContainer","inputData","userInfo","nsamplecode","sampleTrayCode","ssamplearno","masterData","selectedSampleStorageVersion","nsamplestoragelocationcode","inputParam","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","screenData","storageContainer","ncontainerstoragecode","containerCode","undefined","nstorageconditioncode","itemRenderView","clickedItem","item","toggleActionView","selected","expanded","containerfirstnode","locationlastnode","text","onItemClickView","changePropertyView","result","treeDataView","indices","itemHierarchicalIndex","split","map","index","Number","itemText","i","length","items","containers","forEach","element","push","onComboChange","comboData","fieldName","caseNo","nfilterStorageCategory","searchRef","current","onExpandChangeView","forceUpdate","handlePageChange","e","skip","take","setTimeout","_scrollBarRef","updateScroll","moveItem","moveId","sampleStorageMaster","selectedSampleStorageMaster","warn","intl","formatMessage","id","selectedContainer","confirmDelete","ncontrolCode","confirmMessage","confirm","deleteSampleStorageMaster","ssampletraycode","screenName","loadStorageCondition","editContainerID","openStorage","discardSampleStorageMaster","npreregno","ntransactionsamplecode","sarno","sideNavDetail","controlMap","has","get","editId","deleteId","discardId","indexOf","splitChangeWidthPercentage","filterTransactionList","sstorageconditionname","containerLocation","locationCode","status","window","innerWidth","enableAutoClick","changePropertyViewClose","onInputSwitchOnChange","enablePropertyPopup","openFilter","showFilter","closeFilter","onFilterSubmit","nstoragecategorycode","userinfo","filterStorageCategory","itemRender","toggleAction","editable","onItemClick","newData","treeData","onExpandChange","onMoveClick","selectedSamples","moveTargetTrayCode","moveContainers","storageCategory","getSampleTray","targetData","sourceData","sameLocation","targetJsonData","SourceJsonData","sourceLocationCode","sourceVersionCode","nsamplestorageversioncode","reloadData","Object","keys","onInputOnChange","type","checked","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","Map","detailSkip","detailTake","settings","propertyPopupWidth","createRef","previousProps","isComponentUpdated","filterData","values","approvedTreeData","JSON","parse","nStorageCategory","filterStorageCategoryMap","filterCategory","filter","generateBreadCrumData","breadCrumbData","selectedStorageCategoryName","innerObj","childObj","clearSelected","mandatoryFields","filterParam","inputListName","selectedObject","primaryKeyField","fetchUrl","fecthInputObject","searchFieldList","searchedData","approvedSampleStorageLocation","width","masterStatus","storageCondition","approvedLocation","error","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faFileInvoice, faEye, faLink, faChevronRight, faComments, faLaptopHouse, faBoxOpen, faBoxTissue, faBox, faLocationArrow, faFolderMinus, faFolderOpen, faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { constructOptionList, getControlMap, showEsign } from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel } from '../../components/App.styles';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, getSampleMaster,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, getContainerStorageCondition,\r\n    getStorageConditionFromMaster, getSampleMasterDetails, getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster,\r\n    openSampleStorageApprovedLocation, loadApprovedLocationOnCombo, filterColumnData,\r\n    loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion, validateEsignCredentialSampleStorageMaster\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport AddSample from '../basemaster/AddSample';\r\nimport AddContainerStorageCondition from './AddContainerStorageCondition';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJson from '../../components/TransactionListMasterJson';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport StorageCategoryFilter from './StorageCategoryFilter';\r\nimport MoveSampleOrContainers from './MoveSampleOrContainers';\r\nimport { faFolder } from '@fortawesome/free-regular-svg-icons';\r\nimport Esign from '../audittrail/Esign';\r\n\r\nclass SampleStorageMaster extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            enablePropertyPopup: false,\r\n            enableAutoClick: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            toggleAction: false,\r\n            propertyPopupWidth: \"60\",\r\n            splitChangeWidthPercentage: 28.6,\r\n            containers: [],\r\n            treeData: [],\r\n            selectedItem: undefined,\r\n            selectedItemMove: undefined\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    openModal = (addId) => {\r\n        if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerlastnode === true) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModal: true, selectedRecord: {},\r\n                    operation: \"create\", ncontrolcode: addId\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"discard\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                selectedId = null;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeChildModal = () => {\r\n\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let selectedId = this.props.Login.selectedId;\r\n        let selectedRecord = this.state.selectedRecord; //this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            loadEsign = false;\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            selectedId = null;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         openChildModal: false, selectedRecord: {}\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    };\r\n    onKeyUp = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.onSaveClickSample(2);\r\n        }\r\n    };\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.activeTabIndex === 1) {\r\n            this.onSaveClickSample(saveType, formRef);\r\n        } else {\r\n            this.onSaveClickContainer(saveType, formRef);\r\n        }\r\n    }\r\n    onSaveClickSample = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"nsamplecode\": this.state.selectedRecord.nsamplecode ? this.state.selectedRecord.nsamplecode : -1,\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n        else {\r\n            //add               \r\n            inputData[\"sampleStorageMaster\"] = {\r\n                \"ssampletraycode\": this.props.Login.sampleTrayCode ? this.props.Login.sampleTrayCode : \"\",\r\n                \"ssamplearno\": this.state.selectedRecord.ssamplearno ? this.state.selectedRecord.ssamplearno : \"\",\r\n                \"nsamplestoragelocationcode\": this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode\r\n            }\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, saveType, openModal: true\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            // this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            this.props.saveSampleStorageMaster(this.props.Login.userInfo, this.props.Login.masterData, this.state.selectedRecord, inputParam);\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClickContainer = (saveType, formRef) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        inputData[\"containerStorageCondition\"] = { \"nstatus\": 1 };\r\n        if (this.props.Login.operation === \"update\") {\r\n            inputData[\"containerStorageCondition\"][\"ncontainerstoragecode\"] = this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ?\r\n                this.props.Login.masterData.storageContainer.ncontainerstoragecode : -1\r\n            inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n            inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n\r\n        }\r\n        inputData[\"containerStorageCondition\"][\"scontainercode\"] = this.props.Login.containerCode && this.props.Login.containerCode !== undefined ? this.props.Login.containerCode : \"\"\r\n        inputData[\"containerStorageCondition\"][\"nstorageconditioncode\"] = this.state.selectedRecord.nstorageconditioncode && this.state.selectedRecord.nstorageconditioncode !== undefined ? this.state.selectedRecord.nstorageconditioncode.value : -1\r\n\r\n        const inputParam = {\r\n            methodUrl: \"ContainerStorageCondition\",\r\n            classUrl: \"samplestoragemaster\",\r\n            displayName: this.props.Login.inputParam.displayName ? this.props.Login.inputParam.displayName : '',\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType, openModal: true\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    itemRenderView = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleActionView) {\r\n            return (\r\n                <>\r\n                    {item ? (\r\n                        <>\r\n                            <span className={`normal-node\r\n                            ${item.selected ? \"active-node\" : \"\"}\r\n                            ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                            `}>\r\n                                {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                    item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                        item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                            item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                                {item.text}\r\n                            </span>\r\n                            {/* <ul className=\"list-inline mb-0\"> */}\r\n                            {/* {console.log(clickedItem,'===>')} */}\r\n                            {/* {clickedItem.item.editable ? (\r\n                                <>\r\n                                    <li className=\"list-inline-item\"> */}\r\n                            {/* <span\r\n                                            className=\"action-icon tree-toggle\"\r\n                                            onClick={(e) => this.setProperties(e, clickedItem)}\r\n                                        ></span> */}\r\n                            {/* </li> */}\r\n                            {/* </> */}\r\n                            {/* ) : null} */}\r\n                            {/* </ul> */}\r\n                        </>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClickView = (event) => {\r\n        if (this.state.selectedItem) {\r\n            this.state.selectedItem.selected = false;\r\n        }\r\n\r\n        event.item.selected = true;\r\n        this.setState({\r\n            selectedItem: event.item\r\n        })\r\n        // let newData = mapTree(this.state.treeDataView, \"items\", (item) => {\r\n        //     if (item.editable === true) {\r\n        //         item.editable = false;\r\n        //     } else if (item.id === event.item.id) {\r\n        //         item.editable = true;\r\n        //     }\r\n        //     return item;\r\n        // });\r\n\r\n        // this.setState({ treeDataView: newData });\r\n\r\n        if (event.item && event.item.containerlastnode && event.item.containerlastnode === true) {\r\n\r\n            this.props.getSampleMaster(event.item, this.props.Login.userInfo, this.props.Login.masterData);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(1);\r\n            } else if (this.state.activeTabIndex !== 1) {\r\n                this.changePropertyView(1);\r\n            }\r\n\r\n\r\n        } else if (event.item && event.item.containerfirstnode && event.item.containerfirstnode === true) {\r\n\r\n            let result = this.state.treeDataView;\r\n\r\n\r\n\r\n            const indices = event.itemHierarchicalIndex.split('_').map(index => Number(index));\r\n            let itemText = \"\";\r\n            for (let i = 0; i < indices.length - 1; i++) {\r\n\r\n                result = result[indices[i]].items;\r\n\r\n                itemText = i > 0 ? itemText + \" -> \" + result[0].text : itemText + \"\" + result[0].text;\r\n\r\n            }\r\n\r\n            this.props.getContainerStorageCondition(event.item, this.props.Login.userInfo, this.props.Login.masterData, itemText);\r\n\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(2);\r\n            } else if (this.state.activeTabIndex !== 2) {\r\n                this.changePropertyView(2);\r\n            }\r\n\r\n        } else if (event.item && event.item.locationlastnode && event.item.locationlastnode === true) {\r\n\r\n            let containers = [];\r\n            if (event.item.items && event.item.items.length > 0) {\r\n                event.item.items.forEach(element => {\r\n                    if (element.containerfirstnode === true) {\r\n                        containers.push(element);\r\n                    }\r\n                });\r\n            }\r\n\r\n            this.props.getContainers(event.item, this.props.Login.masterData, containers);\r\n            if (this.state.activeTabIndex && this.state.activeTabIndex === false) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex === undefined) {\r\n                this.changePropertyView(3);\r\n            } else if (this.state.activeTabIndex !== 3) {\r\n                this.changePropertyView(3);\r\n            }\r\n        } else {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    selectedItem: event.item,\r\n                    activeTabIndex: undefined\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n\r\n\r\n\r\n    };\r\n    onComboChange = (comboData, fieldName, caseNo) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (caseNo === 3) {\r\n\r\n            let nfilterStorageCategory = this.state.nfilterStorageCategory || {}\r\n            nfilterStorageCategory = comboData;\r\n            this.searchRef.current.value = \"\";\r\n            this.setState({ nfilterStorageCategory })\r\n\r\n        } else if (caseNo === 4) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnCombo(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n\r\n        } else if (caseNo === 5) {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.loadApprovedLocationOnTreeData(this.props.Login.userInfo, this.props.Login.masterData, selectedRecord);\r\n        } else {\r\n\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    onExpandChangeView = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        let isComponentUpdated = false;\r\n        let { filterData } = this.state;\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({ controlMap, userRoleControlRights });\r\n            }\r\n        }\r\n        if (this.props.Login.masterData.approvedTreeData !== previousProps.Login.masterData.approvedTreeData) {\r\n            if (this.props.Login.masterData.approvedTreeData && this.props.Login.masterData.approvedTreeData !== undefined) {\r\n                this.setState({\r\n                    treeData:\r\n                        this.props.Login.masterData.approvedTreeData\r\n                });\r\n            } //JSON.parse(this.props.Login.masterData.approvedTreeData[\"jsondata\"].value).data\r\n        }\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion !== previousProps.Login.masterData.selectedSampleStorageVersion) {\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n                this.setState({\r\n                    treeDataView:\r\n                        JSON.parse(this.props.Login.masterData.selectedSampleStorageVersion[\"jsondata\"].value).data\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    treeDataView: undefined\r\n                });\r\n            }\r\n        }\r\n\r\n        let nfilterStorageCategory = this.state.nStorageCategory || {};\r\n        let filterStorageCategory = this.state.filterStorageCategory || {};\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            if (this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined) {\r\n                const filterStorageCategoryMap = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                    \"sstoragecategoryname\", 'nstoragecategorycode', 'ascending', false);\r\n                filterStorageCategory = filterStorageCategoryMap.get(\"OptionList\");\r\n                if (filterStorageCategory && filterStorageCategory.length > 0) {\r\n                    const filterCategory = filterStorageCategory.filter(item => item.value === this.props.Login.masterData.nfilterStorageCategory);//filterStorageCategory[0];\r\n                    nfilterStorageCategory = filterCategory[0];\r\n                }\r\n                isComponentUpdated = true;\r\n            }\r\n        } else if (this.props.Login.masterData.nfilterStorageCategory !== previousProps.Login.masterData.nfilterStorageCategory) {\r\n            if (this.props.Login.masterData.nfilterStorageCategory && this.props.Login.masterData.nfilterStorageCategory !== undefined) {\r\n                nfilterStorageCategory = this.props.Login.masterData.nfilterStorageCategory;\r\n                isComponentUpdated = true;\r\n            }\r\n        }\r\n        if (isComponentUpdated) {\r\n            this.setState({ nfilterStorageCategory, filterStorageCategory });\r\n        }\r\n\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n            this.setState({ activeTabIndex: this.props.Login.activeTabIndex });\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({\r\n                selectedRecord: this.props.Login.selectedRecord\r\n            });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            const filterData = this.generateBreadCrumData();\r\n            this.setState({ filterData });\r\n        }\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n        setTimeout(() => { this._scrollBarRef.updateScroll() })\r\n    };\r\n\r\n    moveItem = (userInfo, masterData, moveId) => {\r\n        if (this.state.activeTabIndex && this.state.activeTabIndex === 1) {\r\n            if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData, moveId);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n            }\r\n        } else if (this.state.activeTabIndex && this.state.activeTabIndex === 3) {\r\n            if (this.props.Login.masterData.containers && this.props.Login.masterData.selectedContainer && this.props.Login.masterData.selectedContainer[0] !== undefined) {\r\n                this.props.openSampleStorageApprovedLocation(userInfo, masterData, moveId);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        }\r\n\r\n    }\r\n    confirmDelete = (ncontrolCode) => {\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.confirmMessage.confirm(\"deleteMessage\",\r\n                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                () => this.deleteSampleStorageMaster(ncontrolCode));\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    };\r\n    deleteSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n\r\n        this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n            data.push({ \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode });\r\n        })\r\n\r\n        inputData[\"sampleStorageMaster\"] = data;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageMaster\",\r\n            classUrl: \"samplestoragemaster\",\r\n            inputData: inputData,\r\n            operation: \"delete\", searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\", openModal: true,\r\n                    screenName: this.props.Login.inputParam.displayName\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n    loadStorageCondition = (editContainerID) => {\r\n        let openStorage = false;\r\n        if (this.props.Login.masterData.storageContainer === null || this.props.Login.masterData.storageContainer === undefined) {\r\n            mapTree(this.state.treeDataView, \"items\", (item) => {\r\n                if (item.id === this.props.Login.selectedItem.id) {\r\n                    openStorage = true;\r\n                }\r\n                return item;\r\n            });\r\n        } else if (this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== undefined) {\r\n            openStorage = true;\r\n        }\r\n        if (openStorage === true) {\r\n            if (this.props.Login.selectedItem && this.props.Login.selectedItem.containerfirstnode === true) {\r\n                this.props.getStorageConditionFromMaster(this.props.Login.userInfo, this.props.Login.masterData, editContainerID)\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYCONTAINER\" }));\r\n        }\r\n\r\n    }\r\n    discardSampleStorageMaster = (ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        let data = [];\r\n        if (this.props.Login.masterData.sampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster && this.props.Login.masterData.selectedSampleStorageMaster[0] !== undefined) {\r\n            this.props.Login.masterData.selectedSampleStorageMaster.forEach(item => {\r\n                data.push({\r\n                    \"nsamplecode\": item.nsamplecode, \"ssampletraycode\": item.ssampletraycode, \"npreregno\": item.npreregno,\r\n                    \"ntransactionsamplecode\": item.ntransactionsamplecode, \"sarno\": item.sarno, \"ssamplearno\": item.ssamplearno\r\n                });\r\n            })\r\n\r\n            inputData[\"sampleStorageMaster\"] = data;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n            const inputParam = {\r\n                methodUrl: \"SampleStorageMaster\",\r\n                classUrl: \"samplestoragemaster\",\r\n                inputData: inputData,\r\n                operation: \"discard\", searchRef: this.searchRef\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"discard\", openModal: true,\r\n                        screenName: this.props.Login.inputParam.displayName\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTANYSAMPLE\" }));\r\n        }\r\n    }\r\n    sideNavDetail = (screenName) => {\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageMaster\") && this.state.controlMap.get(\"Add SampleStorageMaster\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageMaster\") && this.state.controlMap.get(\"Edit SampleStorageMaster\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageMaster\") && this.state.controlMap.get(\"Delete SampleStorageMaster\").ncontrolcode;\r\n        const editContainerID = this.state.controlMap.has(\"Edit StorageContainer\") && this.state.controlMap.get(\"Edit StorageContainer\").ncontrolcode;\r\n        const moveId = this.state.controlMap.has(\"Move SampleStorageMaster\") && this.state.controlMap.get(\"Move SampleStorageMaster\").ncontrolcode;\r\n        const discardId = this.state.controlMap.has(\"Discard SampleStorageMaster\") && this.state.controlMap.get(\"Discard SampleStorageMaster\").ncontrolcode;\r\n\r\n        if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined) {\r\n            return (\r\n                screenName == \"IDS_SAMPLEDETAILS\" ?\r\n                    <>\r\n                        {this.props.Login.sampleTrayCode && this.props.Login.sampleTrayCode !== undefined ?\r\n                            <>\r\n                                <div className=\"actions-stripe\">\r\n                                    <div className=\"d-flex justify-content-end\">\r\n                                        <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                            onClick={() => this.openModal(addId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_SAMPLE\" defaultMessage=\"Sample\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"deletesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                            onClick={() => this.confirmDelete(deleteId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faTrashAlt} /> { }\r\n                                            <FormattedMessage id=\"IDS_DELETE\" defaultMessage=\"Delete\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"movesample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                            onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData, moveId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faPlus} /> { }\r\n                                            <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                        </Nav.Link>\r\n\r\n                                        <Nav.Link name=\"discardsample\" className=\"add-txt-btn\"\r\n                                            hidden={this.state.userRoleControlRights.indexOf(discardId) === -1}\r\n                                            onClick={() => this.discardSampleStorageMaster(discardId)}\r\n                                        >\r\n                                            <FontAwesomeIcon icon={faArrowRight} /> { }\r\n                                            <FormattedMessage id=\"IDS_DISCARD\" defaultMessage=\"Discard\" />\r\n                                        </Nav.Link>\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className='toolbar-top-inner'>\r\n                                    <TransactionListMasterJson\r\n                                        listMasterShowIcon={1}\r\n                                        clickIconGroup={false}\r\n                                        splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                        masterList={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageMaster || []}\r\n                                        primaryKeyField=\"nsamplecode\"\r\n                                        filterColumnData={this.props.filterTransactionList}\r\n                                        getMasterDetail={this.props.getSampleMasterDetails}\r\n                                        inputParam={{\r\n                                            ...this.props.Login.masterData\r\n                                        }}\r\n                                        moreField={this.props.Login.masterData.sampleStorageMaster || []}\r\n                                        // selectionList={this.props.Login.masterData.RealFilterStatusValue\r\n                                        //     && this.props.Login.masterData.RealFilterStatusValue.ntransactionstatus === transactionStatus.ALL ? this.props.Login.masterData.FilterStatus : []}\r\n                                        selectionColorField=\"scolorhexcode\"\r\n                                        mainField={\"ssamplearno\"}\r\n                                        showStatusLink={true}\r\n                                        showStatusName={true}\r\n                                        // statusFieldName=\"stransdisplaystatus\"\r\n                                        // statusField=\"ntransactionstatus\"\r\n                                        selectedListName=\"selectedSampleStorageMaster\"\r\n                                        // searchListName=\"searchedSample\"\r\n                                        // searchRef={this.searchSampleRef}\r\n                                        // objectName=\"sample\"\r\n                                        listName=\"IDS_SAMPLE\"\r\n                                        // selectionField=\"ntransactionstatus\"\r\n                                        // selectionFieldName=\"stransdisplaystatus\"\r\n                                        // showFilter={this.props.Login.showFilter}\r\n                                        // openFilter={this.openFilter}\r\n                                        // closeFilter={this.closeFilter}\r\n                                        // onFilterSubmit={this.onFilterSubmit}\r\n                                        // subFields={this.state.DynamicSampleColumns}                                                 \r\n                                        needMultiSelect={false}\r\n                                        needSingleSelect={true}\r\n                                        subListName=\"columnlist\"\r\n                                        jsonfield=\"jsondata\"\r\n                                        showDynamicFields={true}\r\n                                        showStatusBlink={true}\r\n                                        // filterParam={{\r\n                                        //     ...this.state.filterSampleParam,\r\n                                        //     childRefs: [{ ref: this.searchSubSampleRef, childFilteredListName: \"searchedSubSample\" },\r\n                                        //     { ref: this.searchTestRef, childFilteredListName: \"searchedTest\" }],\r\n                                        // }}\r\n                                        // subFieldsLabel={false}\r\n                                        handlePageChange={this.handlePageChange}\r\n                                        skip={this.state.skip}\r\n                                        take={this.state.take}\r\n                                        needFilter={false}\r\n                                        hidePaging={false}\r\n                                        hideSearch={true}\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                            : <></>\r\n                        }\r\n                    </>\r\n                    : screenName == \"IDS_CONTAINERS\" ?\r\n                        <>\r\n                            <div className=\"actions-stripe\">\r\n                                <div className=\"d-flex justify-content-end\">\r\n                                    <Nav.Link name=\"addsample\" className=\"add-txt-btn\"\r\n                                        hidden={this.state.userRoleControlRights.indexOf(moveId) === -1}\r\n                                        onClick={() => this.moveItem(this.props.Login.userInfo, this.props.Login.masterData, moveId)}\r\n                                    >\r\n                                        <FontAwesomeIcon icon={faPlus} /> { }\r\n                                        <FormattedMessage id=\"IDS_MOVE\" defaultMessage=\"Move\" />\r\n                                    </Nav.Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className='toolbar-top-inner container-tab'>\r\n                                <TransactionListMasterJson\r\n                                    listMasterShowIcon={1}\r\n                                    clickIconGroup={false}\r\n                                    splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                    masterList={this.props.Login.masterData.containers || []}\r\n                                    selectedMaster={this.props.Login.masterData.selectedContainer || []}\r\n                                    primaryKeyField=\"id\"\r\n                                    filterColumnData={this.props.filterTransactionList}\r\n                                    getMasterDetail={this.props.getselectedContainer}\r\n                                    inputParam={{\r\n                                        ...this.props.Login.masterData\r\n                                    }}\r\n                                    selectionColorField=\"scolorhexcode\"\r\n                                    mainField={\"text\"}\r\n                                    showStatusLink={true}\r\n                                    showStatusName={true}\r\n                                    selectedListName=\"selectedContainer\"\r\n                                    listName=\"IDS_SAMPLE\"\r\n                                    needMultiSelect={false}\r\n                                    needSingleSelect={true}\r\n                                    subListName=\"columnlist\"\r\n                                    jsonfield=\"jsondata\"\r\n                                    showDynamicFields={true}\r\n                                    showStatusBlink={true}\r\n                                    handlePageChange={this.handlePageChange}\r\n                                    skip={this.state.skip}\r\n                                    take={this.state.take}\r\n                                    needFilter={false}\r\n                                    hidePaging={false}\r\n                                    hideSearch={true}\r\n\r\n                                />\r\n                            </div>\r\n                        </>\r\n                        : screenName == \"IDS_STORAGECONDITION\" ?\r\n                            <ProductList className=\"panel-main-content storage-tab\">\r\n                                {/* {this.props.Login.masterData.storageContainerCondition && this.props.Login.masterData.storageContainerCondition !== undefined ? */}\r\n                                <Card className=\"border-0\">\r\n                                    <Card.Header className=\"no-padding\">\r\n                                        <Card.Subtitle>\r\n                                            {/* <div className=\"d-inline\">\r\n                                                <Nav.Link name=\"editUser\" hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                    className=\"btn btn-circle outline-grey mr-2\"\r\n                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                    onClick={() => this.loadStorageCondition()}\r\n                                                >\r\n                                                    <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                </Nav.Link>\r\n                                            </div> */}\r\n                                            <div className=\"actions-stripe\">\r\n                                                <div className=\"d-flex justify-content-end\">\r\n                                                    <Nav.Link name=\"editContainer\" className=\"add-txt-btn\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editContainerID) === -1}\r\n                                                        onClick={() => this.loadStorageCondition(editContainerID)}\r\n                                                    >\r\n                                                        {/* <FontAwesomeIcon icon={faPlus} /> { } */}\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITION\" defaultMessage=\"Storage Condition\" />\r\n                                                    </Nav.Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Card.Subtitle>\r\n                                    </Card.Header>\r\n                                    <Card.Body className=\"form-static-wrap no-padding\">\r\n                                        <Row>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGECONDITIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? this.props.Login.masterData.storageContainer.sstorageconditionname : \"\" || \"\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                            <Col md={12}>\r\n                                                <FormGroup>\r\n                                                    <FormLabel>\r\n                                                        <FormattedMessage id=\"IDS_STORAGELOCATIONNAME\" />\r\n                                                    </FormLabel>\r\n                                                    <ReadOnlyText>\r\n                                                        {this.props.Login.masterData.storageContainer && this.props.Login.masterData.storageContainer !== null ? (this.props.Login.containerLocation && this.props.Login.containerLocation) : \"\"}\r\n                                                    </ReadOnlyText>\r\n                                                </FormGroup>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                                {/* : \"\"} */}\r\n\r\n                            </ProductList>\r\n                            : \"\"\r\n            )\r\n        } else {\r\n            const masterData = {\r\n                ...this.props.Login.masterData, storageContainer: undefined,\r\n                containers: undefined, sampleStorageMaster: undefined\r\n            };\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: undefined,\r\n                    containerLocation: undefined,\r\n                    sampleTrayCode: undefined,\r\n                    containerCode: undefined,\r\n                    locationCode: undefined,\r\n                    masterData\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyView = (index, event, status) => {\r\n        if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    activeTabIndex: this.state.activeTabIndex !== index ? index : 0 ? index : false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    changePropertyViewClose = (id) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputSwitchOnChange = (event) => {\r\n        if (event.target.name == \"PopupNav\") {\r\n            this.setState({\r\n                enablePropertyPopup: !this.state.enablePropertyPopup\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                enableAutoClick: !this.state.enableAutoClick\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    generateBreadCrumData() {\r\n        const breadCrumbData = [];\r\n        if (this.props.Login.masterData && this.props.Login.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": this.props.Login.masterData.selectedStorageCategoryName && this.props.Login.masterData.selectedStorageCategoryName !== null ? this.props.Login.masterData.selectedStorageCategoryName : \"NA\"\r\n                    // \"value\": this.props.Login.masterData.approvedSampleStorageLocation ? this.props.Login.masterData.filterStorageCategory && this.props.Login.masterData.filterStorageCategory !== undefined ?\r\n                    //     this.props.Login.masterData.selectedStorageCategoryName : \"NA\" : \"NA\"\r\n                }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        if (this.state.nfilterStorageCategory.value) {\r\n            let inputParam = {\r\n                inputData: {\r\n                    nstoragecategorycode: this.state.nfilterStorageCategory.value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nfilterStorageCategory: this.state.nfilterStorageCategory\r\n\r\n                }\r\n            }\r\n            this.props.changeStorageCategoryFilterOnSampleMaster(inputParam, this.props.Login.masterData.filterStorageCategory);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STORAGECATEGORYNOTAVAILABLE\" }));\r\n        }\r\n    }\r\n\r\n    itemRender = (clickedItem) => {\r\n        let item = clickedItem.item;\r\n        if (!this.state.toggleAction) {\r\n            return (\r\n                <>\r\n                    {clickedItem.item ? (\r\n                        <span className={`normal-node\r\n                         ${clickedItem.item.editable ? \"active-node\" : \"\"}\r\n                         ${item.expanded ? \"expand-node\" : \"collapse-node\"}\r\n                         `}>\r\n                            {item.containerfirstnode ? <FontAwesomeIcon icon={faBoxOpen} /> :\r\n                                item.locationlastnode ? <FontAwesomeIcon icon={faLocationArrow} /> :\r\n                                    item.containerlastnode ? <FontAwesomeIcon icon={faBox} /> :\r\n                                        item.expanded ? <FontAwesomeIcon icon={faFolderOpen} /> : <FontAwesomeIcon icon={faFolder} />}\r\n                            {item.text}\r\n                        </span>\r\n                        // <ul className=\"list-inline mb-0\">\r\n                        // <li className=\"list-inline-item mr-3 \">{clickedItem.item.text}</li>\r\n                        // {clickedItem.item.editable ? (\r\n                        // <>\r\n                        // <li className=\"list-inline-item \">\r\n                        // <span\r\n                        // className=\"action-icon\"\r\n                        // onClick={(e) => this.setProperties(e, clickedItem)}\r\n                        // ></span>\r\n                        // </li>\r\n                        // </>\r\n                        // ) : null}\r\n                        // </ul>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n    onItemClick = (event) => {\r\n        // if (this.state.selectedItemMove) {\r\n        //     this.state.selectedItemMove.selected = false;\r\n        // }\r\n\r\n        // event.item.selected = true;\r\n        // this.setState({\r\n        //     selectedItem: event.item\r\n        // })\r\n        let newData = mapTree(this.state.treeData, \"items\", (item) => {\r\n            if (item.editable === true) {\r\n                item.editable = false;\r\n            } else if (item.id === event.item.id) {\r\n                item.editable = true;\r\n            }\r\n            return item;\r\n        });\r\n        // newData.map((data) => {\r\n        //     this.clearSelected(data, event.item)\r\n        // })\r\n        this.setState({ treeData: newData, clickedItem: event.item });\r\n    };\r\n    clearSelected(innerObj, selectedItem) {\r\n        // console.log(innerObj, selectedItem, \"aasd\")\r\n        if (innerObj.id == selectedItem.id) {\r\n            innerObj.selected = true;\r\n        } else {\r\n            innerObj.selected = false;\r\n        }\r\n        if (innerObj.items && innerObj.items.length > 0) {\r\n            innerObj.items.map((childObj) => {\r\n                this.clearSelected(childObj, selectedItem)\r\n            })\r\n        }\r\n        return innerObj\r\n    }\r\n    onExpandChange = (event) => {\r\n        event.item.expanded = !event.item.expanded;\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onMoveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        let inputData = [];\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.containerlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.sampleTrayCode) {\r\n\r\n                    inputParam = {\r\n                        selectedSamples: this.props.Login.masterData.selectedSampleStorageMaster,\r\n                        moveTargetTrayCode: this.state.clickedItem.id,\r\n                        nsamplestoragelocationcode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        moveContainers: false,\r\n                        storageCategory: this.state.selectedRecord[\"nstoragecategorycode\"] && this.state.selectedRecord[\"nstoragecategorycode\"].value,\r\n                        methodUrl: \"SampleStorageMaster\",\r\n                        inputData: inputData,\r\n                        operation: \"move\",\r\n                        userInfo: this.props.Login.userInfo\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n                    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, operation: \"move\", openChildModal: true,\r\n                                screenName: this.props.Login.inputParam.displayName\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n        } else if (this.state.activeTabIndex === 3) {\r\n\r\n            if (this.state.clickedItem && this.state.clickedItem.locationlastnode === true) {\r\n                if (this.state.clickedItem.id !== this.props.Login.locationCode) {\r\n\r\n                    let getSampleTray = [];\r\n                    let targetData = this.state.treeData || [];\r\n                    let sourceData = this.state.treeDataView || [];\r\n                    let newData = [];\r\n                    let sameLocation = true;\r\n                    let targetJsonData = {};\r\n                    let SourceJsonData = {};\r\n\r\n\r\n\r\n                    if (this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode === this.state.selectedRecord[\"nsamplestoragelocationcode\"].value) {\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            targetData = removeItems(targetData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        targetJsonData[\"data\"] = newData;\r\n                    } else {\r\n\r\n\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n                            sourceData = removeItems(sourceData, \"items\", (item) => {\r\n                                return item.id === data.id;\r\n                            });\r\n\r\n                            if (sourceData.length > 0) {\r\n                                sourceData = mapTree(sourceData, \"items\", (item) => {\r\n                                    if (item.selected && item.selected === true) {\r\n                                        item.selected = false;\r\n                                    }\r\n                                    return item;\r\n                                });\r\n                            }\r\n                        })\r\n\r\n\r\n                        newData = mapTree(targetData, \"items\", (item) => {\r\n                            if (item.id === this.state.clickedItem.id) {\r\n                                item.items = item.items || [];\r\n                                item.items.push(...this.props.Login.masterData.selectedContainer);\r\n                            }\r\n                            if (item.expanded === false) {\r\n                                item.expanded = true;\r\n                            }\r\n                            if (item.selected && item.selected === true) {\r\n                                item.selected = false;\r\n                            }\r\n                            return item;\r\n                        });\r\n                        SourceJsonData[\"data\"] = sourceData;\r\n                        targetJsonData[\"data\"] = newData;\r\n                        this.props.Login.masterData.selectedContainer.forEach(data => {\r\n\r\n                            mapTree([data], \"items\", (item) => {\r\n                                if (item.containerlastnode === true) {\r\n                                    getSampleTray.push({ id: item.id, text: item.text, nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].value });\r\n                                }\r\n                            });\r\n                        })\r\n                        sameLocation = false;\r\n                    }\r\n\r\n\r\n                    inputParam = {\r\n                        selectedSamples: getSampleTray,\r\n                        sourceLocationCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestoragelocationcode,\r\n                        sourceVersionCode: this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestoragelocationcode,\r\n                        nsamplestorageversioncode: this.state.selectedRecord[\"nsamplestoragelocationcode\"].item.nsamplestorageversioncode,\r\n                        SourceJsonData: SourceJsonData,\r\n                        targetJsonData: targetJsonData,\r\n                        moveContainers: true,\r\n                        storageCategory: this.props.Login.masterData.selectedSampleStorageVersion.nstoragecategorycode,\r\n                        sameLocation,\r\n                        methodUrl: \"SampleStorageMaster\",\r\n                        inputData: inputData,\r\n                        operation: \"move\",\r\n                        userInfo: this.props.Login.userInfo\r\n                    }\r\n                    // this.props.moveItems(inputParam, this.props.Login.masterData);\r\n\r\n                    const masterData = this.props.Login.masterData;\r\n                    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData, selectedRecord }, operation: \"move\", openChildModal: true,\r\n                                screenName: this.props.Login.inputParam.displayName\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.moveItems(inputParam, this.props.Login.masterData);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        let nfilterStorageCategory = this.state.nfilterStorageCategory && Object.keys(this.state.nfilterStorageCategory).length !== 0 ? this.state.nfilterStorageCategory.value : 0;\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo, \"nstoragecategorycode\": nfilterStorageCategory },\r\n            classUrl: \"samplestoragemaster\",\r\n            methodUrl: \"SampleStorageMaster\",\r\n            displayName: \"IDS_SAMPLESTORAGEMASTER\",\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n    render() {\r\n\r\n        let mandatoryFields = [];\r\n\r\n        if (this.state.activeTabIndex === 1) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_SAMPLE\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" });\r\n        } else if (this.state.activeTabIndex === 2) {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_STORAGECONDITIONNAME\", \"dataField\": \"nstorageconditioncode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n        }\r\n\r\n        const filterParam = {\r\n            inputListName: \"approvedSampleStorageLocation\", selectedObject: \"selectedSampleStorageVersion\", primaryKeyField: \"nsamplestorageversioncode\",\r\n            fetchUrl: \"samplestoragelocation/getActiveSampleStorageVersion\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <ListWrapper className=\"client-listing-wrap toolbar-top-wrap mtop-4 screen-height-window\">\r\n                    {breadCrumbData.length > 0 ?\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                        : \"\"}\r\n                    <Row noGutters={true} className={`toolbar-top ${this.state.activeTabIndex ? 'active-property-bar' : \"\"}`}>\r\n                        <Col md={12}>\r\n                            <ListWrapper className={`vertical-tab-top grid-master ${this.state.enablePropertyPopup ? 'active-popup' : \"\"}`}>\r\n                                <div className={`tab-left-area ${this.state.activeTabIndex ? 'active' : \"\"}`}>\r\n                                    <ListMaster\r\n                                        formatMessage={this.props.intl.formatMessage}\r\n                                        screenName={this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGEMASTER\" })}\r\n                                        masterData={this.props.Login.masterData}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.approvedSampleStorageLocation}\r\n                                        getMasterDetail={(selectedItem) =>\r\n                                            this.props.getSelectedApprovedStorageVersion(\r\n                                                selectedItem, this.props.Login.userInfo,\r\n                                                this.props.Login.masterData\r\n                                            )}\r\n                                        selectedMaster={this.props.Login.masterData.selectedSampleStorageVersion}\r\n                                        primaryKeyField=\"nsamplestoragelocationcode\"\r\n                                        mainField=\"ssamplestoragelocationname\"\r\n                                        // firstField=\"sversionno\"\r\n                                        // secondField=\"stransdisplaystatus\"\r\n                                        filterColumnData={this.props.filterColumnData}\r\n                                        filterParam={filterParam}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        hideAddButton={true}\r\n                                        // addId={addId}\r\n                                        searchRef={this.searchRef}\r\n                                        reloadData={this.reloadData}\r\n                                        hidePaging={false}\r\n                                        // openModal={() => this.props.getDesignTemplateMappingComboService(addParam)}\r\n                                        showFilterIcon={true}\r\n                                        showFilter={this.props.Login.showFilter}\r\n                                        openFilter={this.openFilter}\r\n                                        closeFilter={this.closeFilter}\r\n                                        onFilterSubmit={this.onFilterSubmit}\r\n                                        filterComponent={[\r\n                                            {\r\n                                                \"IDS_STORAGEFILTER\":\r\n                                                    <StorageCategoryFilter\r\n                                                        filterStorageCategory={this.state.filterStorageCategory || []}\r\n                                                        nfilterStorageCategory={this.state.nfilterStorageCategory || {}}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                    />\r\n                                            }\r\n                                        ]}\r\n                                    />\r\n\r\n                                </div>\r\n                                <div className='tree-view-container'>\r\n                                    {this.props.Login.masterData.selectedSampleStorageVersion && this.props.Login.masterData.selectedSampleStorageVersion !== undefined ?\r\n                                        <TreeViewEditable\r\n                                            id=\"samplestoragelocation\"\r\n                                            name=\"samplestoragelocation\"\r\n                                            // label=\"Sample Storage Location\"\r\n                                            data={this.state.treeDataView}\r\n                                            expandIcons={true}\r\n                                            item={this.itemRenderView}\r\n                                            selectField={'active-node'}\r\n                                            onExpandChange={this.onExpandChangeView}\r\n                                            onItemClick={this.onItemClickView}\r\n                                        />\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                </div>\r\n                                <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} xs-grid-container vertical-tab ${this.state.activeTabIndex ? 'active' : \"\"}`} >\r\n                                    <div className={`${this.state.enablePropertyPopup ? 'active-popup' : \"\"} vertical-tab-content pager_wrap wrap-class ${this.state.activeTabIndex ? 'active' : \"\"}`} style={{ width: this.state.enablePropertyPopup ? this.state.propertyPopupWidth + '%' : \"\" }}>\r\n                                        <span className={` vertical-tab-close ${this.state.activeTabIndex ? 'active' : \"\"}`} onClick={() => this.changePropertyViewClose(false)}><FontAwesomeIcon icon={faChevronRight} /> </span>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 1 ? this.sideNavDetail(\"IDS_SAMPLEDETAILS\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 2 ? this.sideNavDetail(\"IDS_STORAGECONDITION\") : \"\"}\r\n                                        </div>\r\n                                        <div className={` vertical-tab-content-common  ${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`}>\r\n                                            <h4 className='inner_h4 no-margin'>\r\n                                                {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                            </h4>\r\n                                            {this.state.activeTabIndex && this.state.activeTabIndex === 3 ? this.sideNavDetail(\"IDS_CONTAINERS\") : \"\"}\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <div className='tab-head'>\r\n                                        <ul>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 1 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(1)}>\r\n                                                <FontAwesomeIcon icon={faEye} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_SAMPLEDETAILS\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 2 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(2)}>\r\n                                                <FontAwesomeIcon icon={faLink} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_STORAGECONDITION\" })}\r\n                                                </span>\r\n                                            </li>\r\n                                            <li className={`${this.state.activeTabIndex && this.state.activeTabIndex === 3 ? 'active' : \"\"}`} onClick={() => this.changePropertyView(3)}>\r\n                                                <FontAwesomeIcon icon={faComments} />\r\n                                                <span>\r\n                                                    {this.props.intl.formatMessage({ id: \"IDS_CONTAINERS\" })}\r\n                                                </span>\r\n                                            </li>\r\n\r\n                                        </ul>\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Auto Show\"}\r\n                                                type=\"switch\"\r\n                                                name={\"Auto Click\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enableAutoClick}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enableAutoClick}\r\n                                            />\r\n                                        </span> */}\r\n                                        {/* <span className='tab-click-toggle-btn'>\r\n                                            <CustomSwitch\r\n                                                label={\"Popup Nav\"}\r\n                                                type=\"switch\"\r\n                                                name={\"PopupNav\"}\r\n                                                onChange={(event) => this.onInputSwitchOnChange(event)}\r\n                                                defaultValue={this.state.enablePropertyPopup}\r\n                                                isMandatory={false}\r\n                                                required={true}\r\n                                                checked={this.state.enablePropertyPopup}\r\n                                            />\r\n                                        </span> */}\r\n                                    </div>\r\n                                </div>\r\n                            </ListWrapper>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex === 1 ? \"IDS_SAMPLE\" : \"IDS_STORAGECONDITIONNAME\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        showSaveContinue={this.props.Login.loadEsign ? false : this.state.activeTabIndex && this.state.activeTabIndex === 1 ? true : false}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            this.state.activeTabIndex && this.state.activeTabIndex === 1 ? (\r\n                                <AddSample\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onKeyUp={(e) => this.onKeyUp(e)}\r\n                                />\r\n                            ) : this.state.activeTabIndex && this.state.activeTabIndex === 2 ? (\r\n                                <AddContainerStorageCondition\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    onComboChange={this.onComboChange}\r\n                                    storageCondition={this.props.Login.masterData.storageCondition || []}\r\n                                />\r\n                            ) : (\r\n                                <></>\r\n                            )\r\n                        }\r\n                    />\r\n                }\r\n\r\n                {this.props.Login.openChildModal &&\r\n                    <SlideOutModal show={this.props.Login.openChildModal}\r\n                        closeModal={this.closeChildModal}\r\n                        operation={this.props.intl.formatMessage({ id: \"IDS_MOVE\" })}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: this.state.activeTabIndex && this.state.activeTabIndex == 1 ? \"IDS_SAMPLE\" : \"IDS_CONTAINERS\" })}\r\n                        onSaveClick={this.onMoveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <MoveSampleOrContainers\r\n                                treeData={this.state.treeData}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                itemRender={this.itemRender}\r\n                                onExpandChange={this.onExpandChange}\r\n                                onItemClick={this.onItemClick}\r\n                                onComboChange={this.onComboChange}\r\n                                storageCategory={this.props.Login.masterData.storageCategory || []}\r\n                                approvedLocation={this.props.Login.masterData.approvedLocation || []}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n\r\n        }\r\n        if (this.state.activeTabIndex === 1 && this.props.Login.operation === \"create\") {\r\n\r\n            this.props.validateEsignCredentialSampleStorageMaster(inputParam);\r\n        } else if (this.props.Login.operation === \"move\") {\r\n            this.props.validateEsignCredentialSampleStorageMaster(inputParam);\r\n        } else {\r\n            this.props.validateEsignCredential(inputParam, \"openModal\");\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSampleMaster, filterColumnData,\r\n    getSelectedSampleStorageLocation, openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation,\r\n    getSelectedSampleStorageVersion, getContainerStorageCondition, getStorageConditionFromMaster, getSampleMasterDetails,\r\n    getContainers, getselectedContainer, changeStorageCategoryFilterOnSampleMaster, openSampleStorageApprovedLocation,\r\n    loadApprovedLocationOnCombo, loadApprovedLocationOnTreeData, moveItems, saveSampleStorageMaster, getSelectedApprovedStorageVersion,\r\n    validateEsignCredentialSampleStorageMaster\r\n})(injectIntl(SampleStorageMaster));"]},"metadata":{},"sourceType":"module"}