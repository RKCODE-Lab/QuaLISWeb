{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5500\\\\QuaLISWeb\\\\src\\\\components\\\\sign-in\\\\sign-in.component.jsx\";\n\n/* eslint-disable no-undef */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport FormInput from '../form-input/form-input.component';\nimport CustomButtom from '../custom-button/custom-button.component';\nimport { changeLanguage, getLoginDetails, getUserSiteAndRole, updateStore, createPassword, validateADSPassword, changepassword, getUsersiteRole, checkPassword } from '../../actions';\nimport CreatePassword from '../../pages/Login/CreatePassWord';\nimport CreateADSPassword from '../../pages/Login/CreateADSPassWord';\nimport { clickOnLoginButton } from '../../actions';\nimport { toast } from 'react-toastify';\nimport FormSelectSearch from '../form-select-search/form-select-search.component';\nimport { validateLoginId } from '../CommonScript';\nimport SlideOutModal from '../slide-out-modal/SlideOutModal';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport ChangePassword from '../../pages/Login/ChangePassWord';\nimport { changePasswordValidation, fnPassMessage, fnValidatePassword } from '../../pages/Login/LoginCommonFunction';\nimport { LOGINTYPE, transactionStatus } from '../Enumeration';\nimport { Form } from 'react-bootstrap';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.closeModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openCPModal: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.closeADSModal = () => {\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openADSModal: false\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.onCreatePassWord = () => {\n      const selectedRecord = this.state.selectedRecord;\n      const createPwdRecord = this.state.createPwdRecord;\n      const snewpassword = createPwdRecord.snewpassword.trim();\n      const sconfirmpassword = createPwdRecord.sconfirmpassword.trim();\n\n      if (selectedRecord.sloginid === snewpassword) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PASSWORDSHOULDNOTSAMEASLOGINID\"\n        }));\n      } else if (sconfirmpassword !== snewpassword) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_PASSWORDNOTMATCHED\"\n        }));\n      } else {\n        // Added by Ragul.C for Double alert shows for Invaliduser\n        //selectedRecord[\"nusermultirolecode\"]=this.props.Login.nusermultirolecode;\n        selectedRecord[\"nusermultirolecode\"] = this.state.selectedRecord.nusermultirolecode !== undefined && this.state.selectedRecord.nusermultirolecode !== \"\" ? this.state.selectedRecord.nusermultirolecode : this.props.Login.nusermultirolecode;\n        selectedRecord[\"nusersitecode\"] = this.state.selectedRecord.nusersitecode !== undefined && this.state.selectedRecord.nusersitecode !== \"\" ? this.state.selectedRecord.nusersitecode : this.props.Login.nusersitecode; // selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\n\n        selectedRecord[\"nusercode\"] = this.props.Login.nusercode;\n        selectedRecord[\"nlogintypecode\"] = this.props.Login.nlogintypecode;\n        selectedRecord[\"nlanguagecode\"] = this.props.Login.nlanguagecode;\n        this.setState({\n          selectedRecord\n        }); // \n\n        const returnString = fnValidatePassword(this.props.Login.passwordPolicy, snewpassword);\n\n        if (returnString === 0) {\n          const inputParam = {\n            spassword: snewpassword,\n            nusersitecode: selectedRecord.nusersitecode.value,\n            nusermultirolecode: selectedRecord.nusermultirolecode.value\n          };\n          this.props.createPassword(inputParam);\n        } else {\n          toast.info(returnString);\n        }\n      }\n    };\n\n    this.onCreateADSPassWord = () => {\n      const selectedRecord = { ...this.state.selectedRecord\n      };\n      const createPwdRecord = this.state.createPwdRecord;\n      const sadspassword = createPwdRecord.sadspassword && createPwdRecord.sadspassword.trim();\n      const inputParam = {\n        spassword: sadspassword,\n        sloginid: selectedRecord.sloginid,\n        slanguagefilename: this.props.Login.nlanguagecode && this.props.Login.nlanguagecode.item && this.props.Login.nlanguagecode.item.sfilename,\n        selectedRecord: selectedRecord,\n        nlogintypecode: this.props.Login.userInfo && this.props.Login.userInfo.nlogintypecode || LOGINTYPE.ADS\n      };\n      this.props.validateADSPassword(inputParam);\n    };\n\n    this.onChangePassword = () => {\n      const selectedRecord = this.state.selectedRecord;\n      const createPwdRecord = this.state.createPwdRecord;\n      const returnMsg = changePasswordValidation(createPwdRecord, this.props.Login.passwordPolicy, this.state.selectedRecord.sloginid);\n\n      if (returnMsg === 0) {\n        const inputParam = {\n          spassword: createPwdRecord.snewpassword.trim(),\n          sOldPassword: createPwdRecord.soldpassword.trim(),\n          nusersitecode: selectedRecord.nusersitecode.value,\n          isPasswordExpiry: true,\n          userInfo: { ...this.props.Login.userInfo,\n            slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\n            sloginid: selectedRecord.sloginid,\n            suserrolename: selectedRecord.nusermultirolecode.label\n          },\n          slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode\n        };\n        this.props.changepassword(inputParam);\n      } else {\n        toast.info(returnMsg);\n      }\n    };\n\n    this.onSelectChange = (ComboVal, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = ComboVal;\n\n      if (fieldName === \"nlogintypecode\" && ComboVal.value === LOGINTYPE.INTERNAL && selectedRecord.sloginid && selectedRecord.sloginid !== \"\" && selectedRecord.nusermultirolecode && selectedRecord.nusermultirolecode !== \"\" && selectedRecord.nusersitecode && selectedRecord.nusersitecode !== \"\") {\n        const inputParam = {\n          sloginid: this.state.selectedRecord.sloginid,\n          Language: selectedRecord.nlanguagecode.item,\n          nusermultisitecode: selectedRecord.nusersitecode.value,\n          nusermultirolecode: selectedRecord.nusermultirolecode.value,\n          nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\n          nlogintypecode: ComboVal.value\n        };\n        this.props.checkPassword(inputParam, selectedRecord);\n      } else {\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onChangeLanguage = (ComboVal, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      selectedRecord[fieldName] = ComboVal;\n      this.props.changeLanguage(ComboVal.item.slanguagetypecode, selectedRecord, this.props.Login.loginTypes);\n    };\n\n    this.onLoginEvent = event => {\n      if (event.keyCode === 13) {\n        const inputValue = event.target.value;\n        this.setState({\n          show: this.props.Login.open\n        });\n\n        if (inputValue !== \"\") {\n          this.onLoginSubmit(inputValue);\n        }\n      }\n    };\n\n    this.AutoLogin = event => {\n      if (event.keyCode === 118) {\n        let nlogintypecode = 1;\n        const inputParam = {\n          nusermultisitecode: parseInt(-1),\n          nusermultirolecode: parseInt(-1),\n          slanguagetypecode: \"en-US\",\n          spassword: \"123\",\n          nusercode: -1,\n          nlogintypecode: 1,\n          nuserrolecode: -1,\n          url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adslogin\",\n          navigation: \"home\",\n          nsitecode: -1,\n          languageList: this.props.Login.languageList\n        };\n        this.setState({\n          nusermultisitecode: parseInt(-1),\n          nusermultirolecode: parseInt(-1),\n          slanguagetypecode: 1,\n          spassword: \"123\",\n          nusercode: -1,\n          nlogintypecode: 1,\n          nuserrolecode: -1\n        });\n        this.props.clickOnLoginButton(inputParam, this.props.Login.languageList);\n      }\n    };\n\n    this.state = {\n      PasswordPolicy: {},\n      selectedRecord: {}\n    };\n    this.loginRef = React.createRef();\n  }\n\n  render() {\n    const {\n      loginTypeList,\n      languageList,\n      loginUserSite,\n      count = 0,\n      loginUserRole\n    } = this.props.Login;\n    return /*#__PURE__*/React.createElement(Form, {\n      ref: this.loginRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      name: \"sloginid\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_LOGINID\"\n      }),\n      type: \"text\" // placeholder={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\n      ,\n      required: true,\n      isMandatory: \"*\",\n      onChange: event => this.onLoginInputChange(event),\n      onBlur: event => this.onFocusOutEvent(event) //ALPD-1926\n      // onKeyUp={this.AutoLogin} \n      ,\n      value: this.state.selectedRecord.sloginid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(FormInput, {\n      name: \"spassword\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_PASSWORD\"\n      }),\n      type: \"password\",\n      required: true,\n      isMandatory: \"*\" // placeholder={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\n      ,\n      onChange: event => this.selectInputOnChange(event),\n      onKeyUp: this.onLoginEvent,\n      value: this.state.selectedRecord.spassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }), loginUserSite !== undefined && loginUserSite.length > 1 ? /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nusersitecode\",\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_SITE\"\n      }),\n      isSearchable: false,\n      isDisabled: false,\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_SELECTRECORD\"\n      }),\n      isMandatory: true,\n      options: loginUserSite || [],\n      optionId: \"nusersitecode\",\n      optionValue: \"ssitename\",\n      value: this.state.selectedRecord.nusersitecode ? this.state.selectedRecord.nusersitecode : \"\",\n      onChange: value => this.onUsersiteChange(value, \"nusersitecode\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nusermultirolecode\",\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_USERROLE\"\n      }),\n      isSearchable: false,\n      isDisabled: false,\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_SELECTRECORD\"\n      }),\n      isMandatory: true,\n      options: loginUserRole || [],\n      optionId: \"nusermultirolecode\",\n      optionValue: \"suserrolename\",\n      value: this.state.selectedRecord.nusermultirolecode ? this.state.selectedRecord.nusermultirolecode : \"\",\n      onChange: value => this.onSelectChange(value, \"nusermultirolecode\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), loginTypeList !== undefined && loginTypeList.length > 1 ? /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nlogintypecode\",\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_LOGINTYPE\"\n      }),\n      isSearchable: false,\n      isDisabled: false,\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_SELECTRECORD\"\n      }),\n      isMandatory: true,\n      options: loginTypeList || [],\n      optionId: \"nlogintypecode\",\n      optionValue: \"sdisplayname\",\n      value: this.state.selectedRecord.nlogintypecode ? this.state.selectedRecord.nlogintypecode : \"\",\n      onChange: value => this.onSelectChange(value, \"nlogintypecode\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 18\n      }\n    }) : \"\", languageList !== undefined && languageList.length > 1 ? /*#__PURE__*/React.createElement(FormSelectSearch, {\n      name: \"nlanguagecode\",\n      formLabel: this.props.intl.formatMessage({\n        id: \"IDS_LANGUAGE\"\n      }),\n      isSearchable: false,\n      isDisabled: false,\n      placeholder: this.props.intl.formatMessage({\n        id: \"IDS_SELECTRECORD\"\n      }),\n      isMandatory: true,\n      options: languageList || [],\n      optionId: \"nlanguagecode\",\n      optionValue: \"slanguagename\",\n      value: this.state.selectedRecord.nlanguagecode ? this.state.selectedRecord.nlanguagecode : \"\",\n      onChange: value => this.onChangeLanguage(value, \"nlanguagecode\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }) : \"\", /*#__PURE__*/React.createElement(CustomButtom, {\n      name: \"loginbutton\",\n      label: this.props.intl.formatMessage({\n        id: \"IDS_LOGIN\"\n      }),\n      color: \"primary\",\n      className: \"btn-user btn-primary-blue\",\n      handleClick: () => this.onLoginSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }), this.props.Login.openCPModal && this.props.Login.userInfo.nlogintypecode === LOGINTYPE.INTERNAL && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openCPModal,\n      closeModal: this.closeModal,\n      loginoperation: true,\n      inputParam: {},\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.props.Login.PassFlag === 6 ? this.onCreatePassWord : this.onChangePassword,\n      selectedRecord: this.state.createPwdRecord || {},\n      mandatoryFields: this.mandatoryFieldFunction(this.props.Login.PassFlag),\n      addComponent: this.props.Login.PassFlag === 6 ? /*#__PURE__*/React.createElement(CreatePassword, {\n        sloginid: this.state.selectedRecord.sloginid,\n        createPwdRecord: this.state.createPwdRecord,\n        msg: fnPassMessage(this.props.Login.passwordPolicy),\n        onInputChange: event => this.onInputChange(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 29\n        }\n      }) : this.props.Login.PassFlag === transactionStatus.EXPIRED ? /*#__PURE__*/React.createElement(ChangePassword, {\n        sloginid: this.state.selectedRecord.sloginid,\n        createPwdRecord: this.state.createPwdRecord,\n        msg: fnPassMessage(this.props.Login.passwordPolicy),\n        onInputChange: event => this.onInputChange(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 33\n        }\n      }) : \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }), this.props.Login.openADSModal && this.props.Login.userInfo.nlogintypecode === LOGINTYPE.ADS && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openADSModal,\n      closeModal: this.closeADSModal,\n      loginoperation: true,\n      inputParam: {},\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onCreateADSPassWord,\n      selectedRecord: this.state.createPwdRecord || {},\n      mandatoryFields: this.mandatoryFieldFunction(\"ADS\"),\n      addComponent: /*#__PURE__*/React.createElement(CreateADSPassword, {\n        sloginid: this.state.selectedRecord.sloginid,\n        createPwdRecord: this.state.createPwdRecord,\n        onInputChange: event => this.onInputChange(event),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  onUsersiteChange(ComboVal, fieldName) {\n    const selectedRecord = this.state.selectedRecord || {};\n    selectedRecord[fieldName] = ComboVal;\n    const inputParam = {\n      selectedRecord\n    };\n    this.props.getUsersiteRole(inputParam);\n  }\n\n  componentDidMount() {\n    this.loginRef.current[0].focus();\n    this.props.getLoginDetails();\n  }\n\n  mandatoryFieldFunction(passFlag) {\n    let mandatoryField = [];\n\n    if (passFlag === 6) {\n      mandatoryField = [{\n        \"idsName\": \"IDS_NEWPASSWORD\",\n        \"dataField\": \"snewpassword\",\n        \"mandatory\": false\n      }, {\n        \"idsName\": \"IDS_CONFIRMPASSWORD\",\n        \"dataField\": \"sconfirmpassword\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }];\n    } else if (passFlag === \"ADS\") {\n      mandatoryField = [{\n        \"idsName\": \"IDS_ADSPASSWORD\",\n        \"dataField\": \"sadspassword\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }];\n    } else {\n      mandatoryField = [{\n        \"idsName\": \"IDS_OLDPASSWORD\",\n        \"dataField\": \"soldpassword\",\n        \"mandatory\": false\n      }, {\n        \"idsName\": \"IDS_NEWPASSWORD\",\n        \"dataField\": \"snewpassword\",\n        \"mandatory\": false\n      }, {\n        \"idsName\": \"IDS_CONFIRMPASSWORD\",\n        \"dataField\": \"sconfirmpassword\",\n        \"mandatory\": true,\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }];\n    }\n\n    return mandatoryField;\n  }\n\n  onLoginInputChange(event) {\n    // Gowtham R -- 14/12/2024 -- for Vacuum ALPD-5190\n    if (this.state.selectedRecord.nlanguagecode === undefined && event.target.value !== \"\") this.props.getLoginDetails();\n    const selectedRecord = this.state.selectedRecord || {};\n    const loginid = validateLoginId(event.target.value);\n\n    if (loginid) {\n      selectedRecord[event.target.name] = event.target.value;\n    } else {\n      selectedRecord[event.target.name] = this.state.selectedRecord[event.target.name] ? this.state.selectedRecord[event.target.name] : \"\";\n    }\n\n    this.setState({\n      selectedRecord\n    });\n  }\n\n  selectInputOnChange(event) {\n    const selectedRecord = this.state.selectedRecord || {};\n    selectedRecord[event.target.name] = event.target.value;\n    this.setState({\n      selectedRecord\n    });\n  }\n\n  onInputChange(event) {\n    const createPwdRecord = this.state.createPwdRecord || {};\n    createPwdRecord[event.target.name] = event.target.value;\n    this.setState({\n      createPwdRecord\n    });\n  }\n\n  onFocusOutEvent(event) {\n    // event.stopPropagation();\n    //  Added by Ragul.C for Double alert shows for Invaliduser\n    if (event.target.name === \"sloginid\") {\n      event.stopPropagation();\n    }\n\n    const sloginid = event.target.value;\n\n    if (sloginid !== \"\") {\n      const selectedRecord = this.state.selectedRecord || {};\n      const inputParam = {\n        sloginid,\n        Language: selectedRecord.nlanguagecode && selectedRecord.nlanguagecode.item,\n        logintype: this.props.Login.loginTypeList,\n        nlogintypecode: selectedRecord.nlogintypecode && selectedRecord.nlogintypecode.value || -1\n      };\n      this.props.getUserSiteAndRole(inputParam, selectedRecord);\n    }\n  }\n\n  onLoginSubmit() {\n    const selectedRecord = this.state.selectedRecord;\n    const mandatoryField = [{\n      \"idsName\": \"IDS_LOGINID\",\n      \"dataField\": \"sloginid\",\n      \"mandatory\": false\n    }, {\n      \"idsName\": \"IDS_PASSWORD\",\n      \"dataField\": \"spassword\",\n      \"mandatory\": true\n    }, //Don't Remove the Commented line commented for NIBSC\n    {\n      \"idsName\": \"IDS_SITE\",\n      \"dataField\": \"nusersitecode\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_ROLE\",\n      \"dataField\": \"nusermultirolecode\",\n      \"mandatory\": true\n    }, {\n      \"idsName\": \"IDS_LOGINTYPE\",\n      \"dataField\": \"nlogintypecode\",\n      \"mandatory\": true\n    }, //Don't Remove the Commented line commented for NIBSC\n    {\n      \"idsName\": \"IDS_LANGUAGE\",\n      \"dataField\": \"nlanguagecode\",\n      \"mandatory\": true\n    }];\n    const failedControls = [];\n    mandatoryField.map(item => {\n      if (selectedRecord[item.dataField] === undefined) {\n        failedControls.push(this.props.intl.formatMessage({\n          id: item.idsName\n        }));\n      } else if (typeof selectedRecord[item.dataField] === \"object\") {\n        //to validate FormSelectSearch component\n        if (selectedRecord[item.dataField].length === 0) {\n          failedControls.push(this.props.intl.formatMessage({\n            id: item.idsName\n          }));\n        }\n      } else if (typeof selectedRecord[item.dataField] === \"string\") {\n        //to handle string field -- added trim function\n        if (selectedRecord[item.dataField].trim().length === 0) {\n          failedControls.push(this.props.intl.formatMessage({\n            id: item.idsName\n          }));\n        }\n      }\n\n      return null;\n    });\n\n    if (failedControls.length === 0) {\n      let nlogintypecode = selectedRecord.nlogintypecode.value;\n\n      if (selectedRecord.nusercode === -1) {\n        nlogintypecode = LOGINTYPE.INTERNAL;\n      }\n\n      const inputParam = {\n        nusermultisitecode: selectedRecord.nusersitecode.value,\n        nusermultirolecode: selectedRecord.nusermultirolecode.value,\n        slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode,\n        slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\n        spassword: selectedRecord.spassword,\n        // nusercode: selectedRecord.nusercode,\n        nusercode: selectedRecord.nusercode ? selectedRecord.nusercode : this.props.Login.nusercode,\n        nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\n        sloginid: selectedRecord.sloginid,\n        nlogintypecode: nlogintypecode,\n        //nlogintypecode: 1,\n        url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adsLogin\",\n        // url: \"/login/internallogin\" ,\n        navigation: \"home\",\n        languageList: this.props.Login.languageList,\n        nsitecode: selectedRecord.nusersitecode.item.nsitecode\n      };\n      this.props.clickOnLoginButton(inputParam, this.props.Login.languageList);\n    } else {\n      toast.info(`${this.props.intl.formatMessage({\n        id: \"IDS_ENTER\"\n      })} ${failedControls[0]}`);\n    }\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.Login.navigation === \"home\" || this.props.Login.navigation === \"dashboard\" || this.props.Login.navigation === \"alert\") {\n      this.props.history.push('/' + this.props.Login.navigation);\n    }\n\n    let selectedRecord = this.state.selectedRecord || {};\n    let createPwdRecord = this.state.createPwdRecord || {};\n    let isStateChanged = false;\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = { ...selectedRecord,\n        ...this.props.Login.selectedRecord\n      }; // Gowtham --ALPD-5190\n\n      isStateChanged = true;\n    }\n\n    if (this.props.Login.createPwdRecord !== previousProps.Login.createPwdRecord) {\n      createPwdRecord = this.props.Login.createPwdRecord;\n      isStateChanged = true;\n    } //     Added by Ragul.C for Double alert shows for Invaliduser\n    //         if (this.props.Login !== previousProps.Login) {\n    //           //  selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode;\n    //             selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode !== undefined ?this.props.Login.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\n    //             //this.props.Login.nusermultirolecode;\n    //             selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\n    // //            selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\n    //             selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\n    //             selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\n    //             // selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\n    //             isStateChanged = true;\n    //         }\n\n\n    if (isStateChanged) {\n      this.setState({\n        selectedRecord,\n        createPwdRecord\n      });\n    }\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  clickOnLoginButton,\n  changeLanguage,\n  getLoginDetails,\n  getUserSiteAndRole,\n  updateStore,\n  createPassword,\n  changepassword,\n  getUsersiteRole,\n  checkPassword,\n  validateADSPassword\n})(injectIntl(SignIn));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/components/sign-in/sign-in.component.jsx"],"names":["React","connect","injectIntl","FormInput","CustomButtom","changeLanguage","getLoginDetails","getUserSiteAndRole","updateStore","createPassword","validateADSPassword","changepassword","getUsersiteRole","checkPassword","CreatePassword","CreateADSPassword","clickOnLoginButton","toast","FormSelectSearch","validateLoginId","SlideOutModal","DEFAULT_RETURN","ChangePassword","changePasswordValidation","fnPassMessage","fnValidatePassword","LOGINTYPE","transactionStatus","Form","mapStateToProps","state","Login","SignIn","Component","constructor","props","closeModal","updateInfo","typeName","data","openCPModal","closeADSModal","openADSModal","onCreatePassWord","selectedRecord","createPwdRecord","snewpassword","trim","sconfirmpassword","sloginid","warn","intl","formatMessage","id","nusermultirolecode","undefined","nusersitecode","nusercode","nlogintypecode","nlanguagecode","setState","returnString","passwordPolicy","inputParam","spassword","value","info","onCreateADSPassWord","sadspassword","slanguagefilename","item","sfilename","userInfo","ADS","onChangePassword","returnMsg","sOldPassword","soldpassword","isPasswordExpiry","suserrolename","label","slanguagetypecode","onSelectChange","ComboVal","fieldName","INTERNAL","Language","nusermultisitecode","nuserrolecode","onChangeLanguage","loginTypes","onLoginEvent","event","keyCode","inputValue","target","show","open","onLoginSubmit","AutoLogin","parseInt","url","navigation","nsitecode","languageList","PasswordPolicy","loginRef","createRef","render","loginTypeList","loginUserSite","count","loginUserRole","onLoginInputChange","onFocusOutEvent","selectInputOnChange","length","onUsersiteChange","screenName","PassFlag","mandatoryFieldFunction","onInputChange","EXPIRED","componentDidMount","current","focus","passFlag","mandatoryField","loginid","name","stopPropagation","logintype","failedControls","map","dataField","push","idsName","componentDidUpdate","previousProps","history","isStateChanged"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButtom from '../custom-button/custom-button.component';\r\nimport { changeLanguage, getLoginDetails, getUserSiteAndRole, updateStore, createPassword,validateADSPassword, changepassword, getUsersiteRole, checkPassword } from '../../actions';\r\nimport CreatePassword from '../../pages/Login/CreatePassWord';\r\nimport CreateADSPassword from '../../pages/Login/CreateADSPassWord';\r\nimport { clickOnLoginButton } from '../../actions'\r\nimport { toast } from 'react-toastify';\r\nimport FormSelectSearch from '../form-select-search/form-select-search.component';\r\nimport { validateLoginId } from '../CommonScript';\r\nimport SlideOutModal from '../slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport ChangePassword from '../../pages/Login/ChangePassWord';\r\nimport { changePasswordValidation, fnPassMessage, fnValidatePassword } from '../../pages/Login/LoginCommonFunction';\r\nimport { LOGINTYPE, transactionStatus } from '../Enumeration'\r\nimport { Form } from 'react-bootstrap';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nclass SignIn extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            PasswordPolicy: {},\r\n            selectedRecord: {},\r\n           \r\n        }\r\n        this.loginRef = React.createRef();\r\n    }\r\n\r\n    render() {\r\n        const { loginTypeList, languageList, loginUserSite, count=0,\r\n             loginUserRole } = this.props.Login;\r\n             \r\n        return (\r\n            <Form ref={this.loginRef}>\r\n                <FormInput\r\n                    name=\"sloginid\"\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\r\n                    type=\"text\"\r\n                    // placeholder={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\r\n                    required={true}\r\n                    isMandatory={\"*\"}\r\n                    onChange={(event) => this.onLoginInputChange(event)}\r\n                    onBlur={(event) => this.onFocusOutEvent(event)}\r\n                    //ALPD-1926\r\n                    // onKeyUp={this.AutoLogin} \r\n                    value={this.state.selectedRecord.sloginid}\r\n                />\r\n                <FormInput\r\n                    name=\"spassword\"\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\r\n                    type=\"password\"\r\n                    required={true}\r\n                    isMandatory={\"*\"}\r\n                    // placeholder={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\r\n                    onChange={(event) => this.selectInputOnChange(event)}\r\n                    onKeyUp={this.onLoginEvent}\r\n                    value={this.state.selectedRecord.spassword}\r\n                />\r\n                {/* Don't Remove the Commented line commented for NIBSC */}\r\n                { (loginUserSite !== undefined && loginUserSite.length > 1) ?\r\n                <FormSelectSearch\r\n                    name={\"nusersitecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_SITE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginUserSite || []}\r\n                    optionId='nusersitecode'\r\n                    optionValue='ssitename'\r\n                    value={this.state.selectedRecord.nusersitecode ? this.state.selectedRecord.nusersitecode : \"\"}\r\n                    onChange={value => this.onUsersiteChange(value, \"nusersitecode\")}\r\n                >\r\n                </FormSelectSearch>:\"\"}\r\n                <FormSelectSearch\r\n                    name={\"nusermultirolecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_USERROLE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginUserRole || []}\r\n                    optionId='nusermultirolecode'\r\n                    optionValue='suserrolename'\r\n                    value={this.state.selectedRecord.nusermultirolecode ? this.state.selectedRecord.nusermultirolecode : \"\"}\r\n                    onChange={value => this.onSelectChange(value, \"nusermultirolecode\")}\r\n                >\r\n                </FormSelectSearch>\r\n               {/* ALPD-3816 */}\r\n               { (loginTypeList !== undefined && loginTypeList.length > 1) ?\r\n                 <FormSelectSearch\r\n                    name={\"nlogintypecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_LOGINTYPE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginTypeList || []}\r\n                    optionId='nlogintypecode'\r\n                    optionValue='sdisplayname'\r\n                    value={this.state.selectedRecord.nlogintypecode ? this.state.selectedRecord.nlogintypecode : \"\"}\r\n                    onChange={value => this.onSelectChange(value, \"nlogintypecode\")}\r\n                >\r\n                </FormSelectSearch> \r\n                : \"\"\r\n                } \r\n                {/* Don't Remove the Commented line commented for NIBSC */}\r\n                {/* ALPD-3816 */}\r\n                { (languageList !== undefined && languageList.length > 1) ?\r\n                <FormSelectSearch\r\n                    name={\"nlanguagecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_LANGUAGE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={languageList || []}\r\n                    optionId='nlanguagecode'\r\n                    optionValue='slanguagename'\r\n                    value={this.state.selectedRecord.nlanguagecode ? this.state.selectedRecord.nlanguagecode : \"\"}\r\n                    onChange={value => this.onChangeLanguage(value, \"nlanguagecode\")}\r\n                >\r\n                </FormSelectSearch> : \"\"\r\n                }\r\n                <CustomButtom name=\"loginbutton\" label={this.props.intl.formatMessage({id:\"IDS_LOGIN\"})} color=\"primary\" className=\"btn-user btn-primary-blue\"\r\n                    handleClick={() => this.onLoginSubmit()}></CustomButtom>\r\n                { this.props.Login.openCPModal &&\r\n                    this.props.Login.userInfo.nlogintypecode === LOGINTYPE.INTERNAL &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openCPModal}\r\n                        closeModal={this.closeModal}\r\n                        loginoperation={true}\r\n                        inputParam={{}}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.props.Login.PassFlag === 6 ? this.onCreatePassWord : this.onChangePassword}\r\n                        selectedRecord={this.state.createPwdRecord || {}}\r\n                        mandatoryFields={this.mandatoryFieldFunction(this.props.Login.PassFlag)}\r\n                        addComponent={this.props.Login.PassFlag === 6 ?\r\n                            <CreatePassword\r\n                                sloginid={this.state.selectedRecord.sloginid}\r\n                                createPwdRecord={this.state.createPwdRecord}\r\n                                msg={fnPassMessage(this.props.Login.passwordPolicy)}\r\n                                onInputChange={(event) => this.onInputChange(event)}\r\n                            /> : this.props.Login.PassFlag === transactionStatus.EXPIRED ?\r\n                                <ChangePassword\r\n                                    sloginid={this.state.selectedRecord.sloginid}\r\n                                    createPwdRecord={this.state.createPwdRecord}\r\n                                    msg={fnPassMessage(this.props.Login.passwordPolicy)}\r\n                                    onInputChange={(event) => this.onInputChange(event)}\r\n                                /> : \"\"\r\n                        }\r\n                    />}\r\n                     {/* Start ALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it */}\r\n                    { this.props.Login.openADSModal &&\r\n                    this.props.Login.userInfo.nlogintypecode === LOGINTYPE.ADS &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openADSModal}\r\n                        closeModal={this.closeADSModal}\r\n                        loginoperation={true}\r\n                        inputParam={{}}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onCreateADSPassWord}\r\n                        selectedRecord={this.state.createPwdRecord || {}}\r\n                        mandatoryFields={this.mandatoryFieldFunction(\"ADS\")}\r\n                        addComponent={\r\n                            <CreateADSPassword\r\n                                sloginid={this.state.selectedRecord.sloginid}\r\n                                createPwdRecord={this.state.createPwdRecord}\r\n                                onInputChange={(event) => this.onInputChange(event)}\r\n                            /> \r\n                        }\r\n                    />}\r\n                    {/*End  ALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it */}\r\n            </Form>\r\n        );\r\n    }\r\n\r\n\r\n    onUsersiteChange(ComboVal, fieldName) {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        const inputParam = {\r\n            selectedRecord\r\n        };\r\n        this.props.getUsersiteRole(inputParam);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loginRef.current[0].focus();\r\n        this.props.getLoginDetails();\r\n    }\r\n\r\n    mandatoryFieldFunction(passFlag) {\r\n        let mandatoryField = [];\r\n        if (passFlag === 6) {\r\n            mandatoryField = [\r\n                { \"idsName\": \"IDS_NEWPASSWORD\", \"dataField\": \"snewpassword\", \"mandatory\": false },\r\n                { \"idsName\": \"IDS_CONFIRMPASSWORD\", \"dataField\": \"sconfirmpassword\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n            ]\r\n        } else if (passFlag === \"ADS\") {\r\n            mandatoryField = [\r\n            { \"idsName\": \"IDS_ADSPASSWORD\", \"dataField\": \"sadspassword\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            ]\r\n        }\r\n        else {\r\n            mandatoryField = [\r\n                { \"idsName\": \"IDS_OLDPASSWORD\", \"dataField\": \"soldpassword\", \"mandatory\": false},\r\n                { \"idsName\": \"IDS_NEWPASSWORD\", \"dataField\": \"snewpassword\", \"mandatory\": false },\r\n                { \"idsName\": \"IDS_CONFIRMPASSWORD\", \"dataField\": \"sconfirmpassword\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n            ]\r\n        }\r\n        return mandatoryField;\r\n    }\r\n\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openCPModal: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n//Start\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n    closeADSModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openADSModal: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n//End\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n\r\n    onCreatePassWord = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const snewpassword = createPwdRecord.snewpassword.trim();\r\n        const sconfirmpassword = createPwdRecord.sconfirmpassword.trim();\r\n        if (selectedRecord.sloginid === snewpassword) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PASSWORDSHOULDNOTSAMEASLOGINID\" }));\r\n        } else if (sconfirmpassword !== snewpassword) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PASSWORDNOTMATCHED\" }));\r\n        } else {\r\n\r\n// Added by Ragul.C for Double alert shows for Invaliduser\r\n            //selectedRecord[\"nusermultirolecode\"]=this.props.Login.nusermultirolecode;\r\n            selectedRecord[\"nusermultirolecode\"]=this.state.selectedRecord.nusermultirolecode!==undefined && this.state.selectedRecord.nusermultirolecode!==\"\" ?this.state.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\r\n            selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined && this.state.selectedRecord.nusersitecode!==\"\" ?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\r\n            // selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\r\n            selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\r\n            selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\r\n            selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\r\n            this.setState({ selectedRecord });\r\n// \r\n            const returnString = fnValidatePassword(this.props.Login.passwordPolicy, snewpassword)\r\n            if (returnString === 0) {\r\n                const inputParam = {\r\n                    spassword: snewpassword,\r\n                    nusersitecode: selectedRecord.nusersitecode.value,\r\n                    nusermultirolecode: selectedRecord.nusermultirolecode.value\r\n                };\r\n                this.props.createPassword(inputParam);\r\n            } else {\r\n                toast.info(returnString);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Start\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n    onCreateADSPassWord = () => {\r\n        const selectedRecord = {...this.state.selectedRecord};\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const sadspassword = createPwdRecord.sadspassword && createPwdRecord.sadspassword.trim();\r\n                const inputParam = {\r\n                    spassword: sadspassword,\r\n                    sloginid: selectedRecord.sloginid,\r\n                    slanguagefilename: this.props.Login.nlanguagecode && this.props.Login.nlanguagecode.item && this.props.Login.nlanguagecode.item.sfilename,\r\n                    selectedRecord: selectedRecord,\r\n                    nlogintypecode: (this.props.Login.userInfo && this.props.Login.userInfo.nlogintypecode) || LOGINTYPE.ADS,\r\n                };\r\n                this.props.validateADSPassword(inputParam);\r\n        \r\n    }\r\n    //End\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n\r\n\r\n    onChangePassword = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const returnMsg = changePasswordValidation(createPwdRecord, this.props.Login.passwordPolicy, this.state.selectedRecord.sloginid);\r\n        if (returnMsg === 0) {\r\n            const inputParam = {\r\n                spassword: createPwdRecord.snewpassword.trim(),\r\n                sOldPassword: createPwdRecord.soldpassword.trim(),\r\n                nusersitecode: selectedRecord.nusersitecode.value,\r\n                isPasswordExpiry: true,\r\n                userInfo: { ...this.props.Login.userInfo, slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\r\n                            sloginid:selectedRecord.sloginid, suserrolename:selectedRecord.nusermultirolecode.label },\r\n                slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode\r\n            };\r\n\r\n            this.props.changepassword(inputParam);\r\n        } else {\r\n            toast.info(returnMsg);\r\n        }\r\n    }\r\n\r\n    onLoginInputChange(event) {\r\n        // Gowtham R -- 14/12/2024 -- for Vacuum ALPD-5190\r\n        if(this.state.selectedRecord.nlanguagecode === undefined && event.target.value !== \"\")\r\n            this.props.getLoginDetails();\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        const loginid = validateLoginId(event.target.value);\r\n        if (loginid) {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        } else {\r\n            selectedRecord[event.target.name] = this.state.selectedRecord[event.target.name] ? this.state.selectedRecord[event.target.name] : \"\";\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    selectInputOnChange(event) {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputChange(event) {\r\n        const createPwdRecord = this.state.createPwdRecord || {};\r\n        createPwdRecord[event.target.name] = event.target.value;\r\n        this.setState({ createPwdRecord });\r\n    }\r\n\r\n    onSelectChange = (ComboVal, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        if (fieldName === \"nlogintypecode\" && ComboVal.value === LOGINTYPE.INTERNAL\r\n            && selectedRecord.sloginid && selectedRecord.sloginid !== \"\" \r\n            && selectedRecord.nusermultirolecode && selectedRecord.nusermultirolecode !== \"\"\r\n            && selectedRecord.nusersitecode && selectedRecord.nusersitecode !== \"\") {\r\n            const inputParam = {\r\n                sloginid: this.state.selectedRecord.sloginid,\r\n                Language: selectedRecord.nlanguagecode.item,\r\n                nusermultisitecode: selectedRecord.nusersitecode.value,\r\n                nusermultirolecode: selectedRecord.nusermultirolecode.value,\r\n                nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\r\n                nlogintypecode: ComboVal.value\r\n            };\r\n            this.props.checkPassword(inputParam, selectedRecord);\r\n        } else {\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onChangeLanguage = (ComboVal, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        this.props.changeLanguage(ComboVal.item.slanguagetypecode, selectedRecord,this.props.Login.loginTypes);\r\n    }\r\n\r\n\r\n    onFocusOutEvent(event) {\r\n\r\n        // event.stopPropagation();\r\n      //  Added by Ragul.C for Double alert shows for Invaliduser\r\n        if(event.target.name === \"sloginid\"){ \r\n            \r\n            event.stopPropagation();\r\n        }\r\n        const sloginid = event.target.value;\r\n        if (sloginid !== \"\") {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            const inputParam = {\r\n                sloginid, Language: selectedRecord.nlanguagecode && selectedRecord.nlanguagecode.item,\r\n                 logintype: this.props.Login.loginTypeList,\r\n                 nlogintypecode: selectedRecord.nlogintypecode && selectedRecord.nlogintypecode.value || -1,\r\n            };            \r\n            this.props.getUserSiteAndRole(inputParam, selectedRecord);\r\n        }       \r\n    }\r\n\r\n    onLoginEvent = (event) => {\r\n        if (event.keyCode === 13) {\r\n            const inputValue = event.target.value;\r\n            this.setState({\r\n                show: this.props.Login.open\r\n            })\r\n            if (inputValue !== \"\") {\r\n                this.onLoginSubmit(inputValue);\r\n            }\r\n        }\r\n    }\r\n    AutoLogin = (event) => {\r\n        if (event.keyCode === 118) {\r\n            let nlogintypecode = 1;\r\n            const inputParam = {\r\n                nusermultisitecode: parseInt(-1),\r\n                nusermultirolecode: parseInt(-1),\r\n                slanguagetypecode: \"en-US\",\r\n                spassword: \"123\",\r\n                nusercode: -1,\r\n                nlogintypecode: 1,\r\n                nuserrolecode: -1,\r\n                url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adslogin\",\r\n                navigation: \"home\",\r\n                nsitecode:-1,\r\n                languageList: this.props.Login.languageList\r\n            }\r\n            this.setState({\r\n                nusermultisitecode: parseInt(-1),\r\n                nusermultirolecode: parseInt(-1),\r\n                slanguagetypecode: 1,\r\n                spassword: \"123\",\r\n                nusercode: -1,\r\n                nlogintypecode: 1,\r\n                nuserrolecode: -1\r\n            })\r\n            this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);\r\n        }\r\n    }\r\n    onLoginSubmit() {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const mandatoryField = [\r\n            { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"mandatory\": false },\r\n            { \"idsName\": \"IDS_PASSWORD\", \"dataField\": \"spassword\", \"mandatory\": true },\r\n            //Don't Remove the Commented line commented for NIBSC\r\n            { \"idsName\": \"IDS_SITE\", \"dataField\": \"nusersitecode\", \"mandatory\": true },\r\n            { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nusermultirolecode\", \"mandatory\": true },\r\n            { \"idsName\": \"IDS_LOGINTYPE\", \"dataField\": \"nlogintypecode\", \"mandatory\": true },\r\n            //Don't Remove the Commented line commented for NIBSC\r\n            { \"idsName\": \"IDS_LANGUAGE\", \"dataField\": \"nlanguagecode\", \"mandatory\": true },\r\n        ];\r\n        const failedControls = [];\r\n        mandatoryField.map(item => {\r\n            if (selectedRecord[item.dataField] === undefined) {\r\n                failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n            } else if (typeof selectedRecord[item.dataField] === \"object\") {\r\n                //to validate FormSelectSearch component\r\n                if (selectedRecord[item.dataField].length === 0) {\r\n                    failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n                }\r\n            } else if (typeof selectedRecord[item.dataField] === \"string\") {\r\n                //to handle string field -- added trim function\r\n                if (selectedRecord[item.dataField].trim().length === 0) {\r\n                    failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n                }\r\n            }\r\n            return null;\r\n        });\r\n        if (failedControls.length === 0) {\r\n            let nlogintypecode = selectedRecord.nlogintypecode.value;\r\n            if (selectedRecord.nusercode === -1) {\r\n                nlogintypecode = LOGINTYPE.INTERNAL;\r\n            }\r\n            const inputParam = {\r\n                nusermultisitecode: selectedRecord.nusersitecode.value,\r\n                nusermultirolecode: selectedRecord.nusermultirolecode.value,\r\n                slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode,\r\n                slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\r\n                spassword: selectedRecord.spassword,\r\n                // nusercode: selectedRecord.nusercode,\r\n                nusercode: selectedRecord.nusercode ? selectedRecord.nusercode : this.props.Login.nusercode,\r\n                nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\r\n                sloginid: selectedRecord.sloginid,\r\n                nlogintypecode: nlogintypecode,\r\n                //nlogintypecode: 1,\r\n                url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adsLogin\",\r\n               // url: \"/login/internallogin\" ,\r\n                navigation: \"home\",\r\n                languageList: this.props.Login.languageList,\r\n                nsitecode:selectedRecord.nusersitecode.item.nsitecode\r\n            }\r\n            this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);\r\n        } else {\r\n            toast.info(`${this.props.intl.formatMessage({ id: \"IDS_ENTER\" })} ${failedControls[0]}`);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.navigation === \"home\"||this.props.Login.navigation === \"dashboard\"\r\n        ||this.props.Login.navigation === \"alert\") {\r\n            this.props.history.push('/'+this.props.Login.navigation);\r\n        }\r\n  \r\n\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let createPwdRecord = this.state.createPwdRecord || {};\r\n        let isStateChanged = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n           selectedRecord = { ...selectedRecord, ...this.props.Login.selectedRecord }; // Gowtham --ALPD-5190\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (this.props.Login.createPwdRecord !== previousProps.Login.createPwdRecord) {\r\n            createPwdRecord = this.props.Login.createPwdRecord;\r\n            isStateChanged = true;\r\n        }\r\n\r\n   //     Added by Ragul.C for Double alert shows for Invaliduser\r\n   \r\n//         if (this.props.Login !== previousProps.Login) {\r\n//           //  selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode;\r\n//             selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode !== undefined ?this.props.Login.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\r\n//             //this.props.Login.nusermultirolecode;\r\n//             selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\r\n// //            selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\r\n//             selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\r\n//             selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\r\n//             // selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\r\n//             isStateChanged = true;\r\n//         }\r\n\r\n\r\n        if (isStateChanged) {\r\n            this.setState({ selectedRecord, createPwdRecord });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    clickOnLoginButton, changeLanguage,\r\n    getLoginDetails, getUserSiteAndRole, updateStore, createPassword, changepassword, getUsersiteRole, checkPassword, validateADSPassword\r\n})(injectIntl(SignIn));\r\n"]},"metadata":{},"sourceType":"module"}