{"ast":null,"code":"import _toConsumableArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import rsapi from'../../rsapi';import{toast}from'react-toastify';import{Row,Col,Card,Button,Nav}from'react-bootstrap';import PerfectScrollbar from'react-perfect-scrollbar';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faPlus,faSync}from'@fortawesome/free-solid-svg-icons';import'react-perfect-scrollbar/dist/css/styles.css';import SplitterLayout from'react-splitter-layout';import{faEye,faTrashAlt}from'@fortawesome/free-regular-svg-icons';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport{process}from'@progress/kendo-data-query';import DataGrid from'../../components/data-grid/data-grid.component';import OrgTree from'react-org-tree';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import{callService,crudMaster,filterTestGroup,createTree,editTree,getTestGroupDetails,sampleTypeOnChange,validateEsignCredential,updateStore,addSpecification,getSpecification,addComponent,changeTestCategory,addTestGroupTest,editTestGroupTest,getTestGroupParameter,editTestGroupParameter,addTestFile,editSpecFile,getSpecificationDetails,addTestGroupCodedResult,getComponentBySpecId,filterColumnData,viewAttachment,viewTestGroupCheckList,getTestGroupComponentDetails,filterTransactionList,reportSpecification,retireSpecification,getDataForTestMaterial,getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory,getTestGroupMaterial,getDataForEditTestMaterial,addTestGroupNumericTab,getTestGroupRulesEngineAdd,getEditTestGroupRulesEngine,getSelectedTestGroupRulesEngine,getParameterforEnforce,getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder,getPredefinedDataRulesEngine}from'../../actions';import{constructOptionList,formatInputDate,create_UUID,deleteAttachmentDropZone,filterRecordBasedOnTwoArrays,getControlMap,onDropAttachFileList,showEsign,sortData,Lims_JSON_stringify}from'../../components/CommonScript';import TestGroupTestTab from'./TestGroupTestTab';import AddTestGroupSpecification from'./AddTestGroupSpecification';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,REPORTTYPE,attachmentType,formCode,designProperties,// parameterType,SampleType, grade } from '../../components/Enumeration';\n// parameterType,SampleType } from '../../components/Enumeration';\nparameterType,SampleType,MaterialType,grade}from'../../components/Enumeration';import AddTestGroupTest from'./AddTestGroupTest';import AddProfileTree from'./AddProfileTree';import SampleFilter from'./SampleFilter';import AddFile from'../testmanagement/AddFile';import AdvFilter from'../../components/AdvFilter';import SpecificationHistory from'./SpecificationHistory';import TestGroupSpecFile from'./TestGroupSpecFile';import SpecificationInfo from'./SpecificationInfo';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import TransationListMaster from'../../components/TransactionListMaster';import TransationListMasterView from'../../components/TransactionListMasterView';import FormTreeMenu from'../../components/form-tree-menu/form-tree-menu.component';// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport FormInput from'../../components/form-input/form-input.component';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{testMoreFields,testSubFields,searchFieldList,specificationColumnList,componentColumnList,addTestColumnList,editTestColumnList}from'./TestGroupFields';import EditTestGroupTest from'./EditTestGroupTest';import{ContentPanel,SearchAdd}from'../../components/App.styles';import'../../pages/registration/registration.css';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';// import ReactTooltip from 'react-tooltip';\nimport PortalModalSlideout from'../../components/portal-modal/portal-modal-slideout';import AddTestGroupRule from'./AddTestGroupRule';import ViewSubCodedResult from'./ViewSubCodedResult';import{numberConversion,numericGrade}from'../ResultEntryBySample/ResultEntryValidation';import ResultEntryPredefinedComments from'../ResultEntryBySample/ResultEntryPredefinedComments';import ModalShow from'../../components/ModalShow';var TestGroup=/*#__PURE__*/function(_Component){_inherits(TestGroup,_Component);var _super=_createSuper(TestGroup);function TestGroup(_props){var _ref3;var _this;_classCallCheck(this,TestGroup);_this=_super.call(this,_props);_this.reloadData=function(){var filterData=_this.props.Login.filterData||_this.state.filterData;if(filterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(filterData.nproductcatcode===\"\"){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}else if(filterData.nproductcode===\"\"&&filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY&&filterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}else if(filterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:filterData.nsampletypecode.item[\"nsampletypecode\"],nproductcatcode:filterData.nproductcatcode.item[\"nproductcatcode\"],//   nproductcode: filterData.nproductcode.item[\"nproductcode\"],\nnproductcode:filterData.nsampletypecode.item.ncategorybasedflowrequired==transactionStatus.YES?-1:filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?-1:filterData.nproductcode?filterData.nproductcode.value:-1,ntreeversiontempcode:filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],nprojectmastercode:filterData.nprojectmastercode!==undefined?filterData.nprojectmastercode.item[\"nprojectmastercode\"]:-1,filterData:filterData//: { ...this.props.Login.filterData }\n},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(obj);});};_this.handlePageChange=function(event){_this.setState({testskip:event.skip,testtake:event.take});};_this.viewTestFile=function(props){var viewParam={operation:\"view\",methodUrl:\"TestGroupTestFile\",classUrl:\"testgroup\",inputData:{ntestgroupfilecode:props.selectedTest?props.selectedTest.ntestgroupfilecode:0,userinfo:_this.props.Login.userInfo,testgroupspecification:_this.props.Login.masterData.SelectedSpecification,ntestgrouptestcode:props.selectedTest?props.selectedTest.ntestgrouptestcode:0}};_this.props.viewAttachment(viewParam);};_this.fileViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode===transactionStatus.NA){return true;}else{return false;}};_this.linkViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode!==transactionStatus.NA){return true;}else{return false;}};_this.onFilterSumbit=function(){var tempFilterData=_this.state.tempFilterData;if(tempFilterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(tempFilterData.nproductcatcode===\"\"){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}// else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\nelse if(tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===\"\"&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO||tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===undefined&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY&&tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.NO){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}// }\nelse if(tempFilterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:tempFilterData.nsampletypecode.value,nproductcatcode:tempFilterData.nproductcatcode.value,nproductcode:tempFilterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.YES?-1:tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?-1:tempFilterData.nproductcode?tempFilterData.nproductcode.value:-1,ntreeversiontempcode:tempFilterData.ntreeversiontempcode.value,nprojectmastercode:tempFilterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE?tempFilterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?tempFilterData.nprojectmastercode.value:-1:-1,filterData:_objectSpread({},tempFilterData)},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.onTreeClick=function(event){var inputParam={methodUrl:\"TestGroupSpecification\",screenName:\"IDS_SPECIFICATION\",operation:\"get\",keyName:\"treetemplatemanipulation\",userinfo:_this.props.Login.userInfo,selectedRecord:event.item,activeKey:event.key,focusKey:event.key,primaryKey:event.primaryKey,historyDataState:_this.state.historyDataState};_this.props.getSpecification(inputParam,_this.props.Login.masterData,_this.searchRef);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(TestGroupSpecFile,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.deleteRecord,testGroupSpecFile:_this.props.Login.masterData.TestGroupSpecFile||[],selectedSpecification:_this.props.Login.masterData.SelectedSpecification,addTestFile:_this.addFile,editSpecFile:_this.props.editSpecFile,filterData:_this.state.filterData,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_FILE\",viewAttachment:_this.props.viewAttachment,settings:_this.props.Login.settings,masterData:_this.props.Login.masterData}));tabMap.set(\"IDS_SPECIFICATIONHISTORY\",/*#__PURE__*/React.createElement(SpecificationHistory,{data:_this.props.Login.masterData.TestGroupSpecificationHistory,dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],_this.state.historyDataState),dataState:_this.state.historyDataState,dataStateChange:_this.historyDataStateChange// testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\n// dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,screenName:\"IDS_SPECIFICATIONHISTORY\"}));return tabMap;};_this.historyDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],event.dataState),historyDataState:event.dataState});};_this.specDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupTestClinicalSpec||[],event.dataState),clinicalspecDataState:event.dataState});};_this.addFile=function(userInfo,operation,ncontrolCode,screenName,modalName,nflag){// const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\n// if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\n//     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n//     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\n// } else {\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n// }\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){_this.props.addTestFile(userInfo,operation,ncontrolCode,screenName,modalName);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.componentRowClick=function(event){var masterData=_this.props.Login.masterData;masterData[\"SelectedComponent\"]=event.testgroupspecsampletype[0];var inputParam={testgroupspecsampletype:event.testgroupspecsampletype[0],userInfo:_this.props.Login.userInfo};_this.props.getTestGroupComponentDetails(inputParam,masterData,_this.searchRef);};_this.deleteTest=function(deleteParam){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var testgrouptest=deleteParam.props.testgrouptest;var inputParam={inputData:{testgrouptest:testgrouptest,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,ntreeversiontempcode:deleteParam.filterData.ntreeversiontempcode.value},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"Test\",screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:testgrouptest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:masterData,searchFieldList:searchFieldList,unchangeList:[\"TestGroupSpecification\",\"SelectedSpecification\",\"SampleType\",\"TreeVersionTemplate\",\"ProductCategory\",\"SelectedTest\",\"Product\",\"AgaramTree\",\"OpenNodes\",\"selectedNode\",\"FocusKey\",\"ActiveKey\",\"SelectedComponent\",\"TestGroupSpecSampleType\"]//, isSingleSelect: true\n}};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TEST\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Default\"||_this.props.Login.operation==='approve'||_this.props.Login.operation==='complete'){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=4;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onInputOnChange=function(event,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;// selectedRecord[\"sfilename\"] = \"\";\n}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[event.target.name]=event.target.value;var indexKey=Object.keys(optional)[0];var value=Object.values(optional)[0];var treeData={ntreeversiontempcode:value.ntreeversiontempcode,npositioncode:value.nlevelno-1,sleveldescription:event.target.value,ntemptranstestgroupcode:value.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:value.schildnode!==null?value.schildnode:-1,ntemplatemanipulationcode:value.ntemplatemanipulationcode,isreadonly:value.ntemplatemanipulationcode>0?true:false,slevelformat:value.slevelformat};var treetemplatemanipulation=selectedRecord.treetemplatemanipulation||[];treetemplatemanipulation[indexKey]=treeData;selectedRecord[\"treetemplatemanipulation\"]=treetemplatemanipulation;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onTabChangeRulesEngine=function(tabProps){var masterData=_this.props.Login.masterData&&_this.props.Login.masterData;masterData['activeTabName']=tabProps.activeTabName;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.tabDetailRulesEngine=function(){var masterData=_this.props.Login.masterData||{};var jsonuidata=_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine['jsonuidata'];var tabMap=new Map();{tabMap.set(\"IDS_Test\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",expandField:\"expanded\",handleExpandChange:_this.handleExpandChange,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'],\"descending\",\"npkAtestparametercode\")||[],_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10}),dataState:_this.state.dataStatetestinitiate?_this.state.dataStatetestinitiate:{skip:0,take:10},dataStateChange:_this.dataStateChangetestinitiateTab,extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"}],controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},hasChild:true,childMappingField:'npkAtestparametercode',childColumnList:[{\"idsName\":\"IDS_TOSITE\",\"dataField\":\"stositename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FROMSITE\",\"dataField\":\"sfromsitename\",\"width\":\"200px\"}],childList:_this.state.childListMap,activeTabName:\"IDS_Test\",gridHeight:'400px',isActionRequired:true,actionIcons:[{title:_this.props.intl.formatMessage({id:\"IDS_VIEWPARAMETER\"}),controlname:\"faEye\",hidden:false,objectName:\"view\",onClick:_this.viewParameter}]}));tabMap.set(\"IDS_COMMENTS\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",handleExpandChange:_this.handleExpandChange,dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'],\"descending\",\"nslno\")||[],_this.state.dataState?_this.state.dataState:{skip:0,take:10}),dataState:_this.state.dataState?_this.state.dataState:{skip:0,take:10},dataStateChange:_this.dataStateChange,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},childMappingField:'npkBtestparametercode',extractedColumnList:[{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULTS\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTSUBTYPE\",\"dataField\":\"scommentsubtype\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTTYPE\",\"dataField\":\"scommenttype\",\"width\":\"200px\"},{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"}],childList:_this.state.childListMap2&&_this.state.childListMap2,activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));tabMap.set(\"IDS_REPEAT\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testRepeatTestsTab'],\"descending\",\"npkCtestparametercode\")||[],_this.state.dataStaterepeatTab?_this.state.dataStaterepeatTab:{skip:0,take:10}),dataState:_this.state.dataStaterepeatTab?_this.state.dataStaterepeatTab:{skip:0,take:10},dataStateChange:_this.dataStateChangeRepeatTab,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_REPEATCOUNT\",\"dataField\":\"nrepeatcountno\",\"width\":\"200px\"}],activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));tabMap.set(\"IDS_ENFORCERESULT\",/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"nresultusedmaterialcode\",dataResult:_this.props.Login.masterData.SelectedRulesEngine&&process(sortData(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testenforceTestsTab'],\"descending\",\"npkDtestparametercode\")||[],_this.state.dataStateChangenforceTab?_this.state.dataStateChangenforceTab:{skip:0,take:10}),dataState:_this.state.dataStateChangenforceTab?_this.state.dataStateChangenforceTab:{skip:0,take:10},dataStateChange:_this.dataStateChangenforceTab,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:false,selectedId:0,deleteParam:{operation:\"delete\"},extractedColumnList:[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_PARAMETERS\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULTFLAG\",\"dataField\":\"sgradename\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULTS\",\"dataField\":\"senforceresult\",\"width\":\"200px\"}],activeTabName:\"IDS_COMMENTS\",gridHeight:'400px'}));}return tabMap;};_this.dataStateChange=function(event,ntestgrouptestparametercode){var dataStateObject=_this.state.dataStateObject||{};if(ntestgrouptestparametercode){dataStateObject=_objectSpread(_objectSpread({},dataStateObject),{},_defineProperty({},ntestgrouptestparametercode,event.dataState));_this.setState({dataStateObject:dataStateObject});}else{_this.setState({dataState:event.dataState});}};_this.dataStateChangetestRepeat=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestRepeat:event.dataState});};_this.dataStateChangetestEnforce=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestEnforce:event.dataState});};_this.dataStateChangetestinitiateTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStatetestinitiate:event.dataState});};_this.dataStateChangeViewParameter=function(event){_this.setState({dataStateChangeViewParameter:event.dataState});};_this.dataStateChangeRepeatTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStaterepeatTab:event.dataState});};_this.dataStateChangenforceTab=function(event){_this.setState({//  dataResult: process(this.props.Login.queryData, event.dataState),\ndataStateChangenforceTab:event.dataState});};_this.dataStateChangeMain=function(event){_this.setState({dataResultMain:process(_this.props.Login.queryDataMain,event.dataStateMain),dataStateMain:event.dataStateMain});};_this.ConfirmDeleteRule=function(deleteId){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.handleClickDelete(_this.props.Login.masterData,deleteId,\"openModal\");});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETODELETE\"}));}};_this.closeModalShow=function(){var openModalPopup=_this.props.Login.openModalPopup;var modalParameterPopup=_this.props.Login.modalParameterPopup;var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['srulename']=\"\";if(selectedRecord['ParameterRulesEngine']){selectedRecord['ParameterRulesEngine']=[];}openModalPopup=false;modalParameterPopup=false;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,selectedRecord:selectedRecord,modalParameterPopup:modalParameterPopup}};_this.props.updateStore(updateInfo);};_this.onModalSavePredefAlert=function(){var selectedRecord=_this.state.selectedRecord||[];var currentAlertResultCode=_this.state.currentAlertResultCode||0;var currentntestgrouptestpredefcode=_this.state.currentntestgrouptestpredefcode||0;var bool=_this.state.selectedRecord.ParameterRulesEngine.some(function(x){return x['ntestgrouptestparametercode']===currentAlertResultCode;});if(bool){_this.state.selectedRecord.ParameterRulesEngine.map(function(Parameter){if(Parameter['ntestgrouptestparametercode']===currentAlertResultCode){Parameter['additionalInfoUidata']={ntestgrouptestpredefsubcode:selectedRecord['ntestgrouptestpredefsubcode']};if(selectedRecord['ntestgrouptestpredefsubcode']){if(typeof selectedRecord['ntestgrouptestpredefsubcode']==='string'){Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode'];}else{Parameter['additionalInfo']=\"\";Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode'].map(function(x){return x.label+\",\";}).join('\\n');Parameter['additionalInfo']=Parameter['additionalInfo'].substring(0,Parameter['additionalInfo'].length-1);}}else{Parameter['additionalInfo']=\"\";Parameter['additionalInfoUidata']&&delete Parameter['additionalInfoUidata'];}Parameter['ntestgrouptestpredefcode']=currentntestgrouptestpredefcode;}});}var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,showAlertGrid:false}};_this.props.updateStore(updateInfo);};_this.closeModalShowPredefAlert=function(){var showAlertGrid=_this.props.Login.showAlertGrid;var selectedRecord=_this.props.Login.selectedRecord;var masterData=_this.props.Login.masterData&&_this.props.Login.masterData;// masterData['RESelectedTest'].forEach(object => {\n//     object['expanded']&&delete object['expanded'];\n//   });\nselectedRecord['ntestgrouptestpredefsubcode']&&delete selectedRecord['ntestgrouptestpredefsubcode'];showAlertGrid=false;var updateInfo={typeName:DEFAULT_RETURN,data:{showAlertGrid:showAlertGrid,masterData:masterData,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onsavevalidation=function(selectedRecord){var grouplist=selectedRecord[\"groupList\"];var hasAll=true;var _loop=function _loop(){var rules=grouplist[i];for(j=0;j<rules.length;j++){var props=[];if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===1){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ndiagnosticcasecode\"];}else if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===3){if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.PREDEFINED){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestpredefcode\"];}else if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.CHARACTER){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestcharcode\"];}else if(rules[j][\"stestname\"]&&rules[j][\"stestname\"]['item']['nparametertypecode']===parameterType.NUMERIC){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ntestgrouptestnumericcode\"];}else{if(rules[j][\"orderresulttype\"]&&rules[j][\"orderresulttype\"].value===1){props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ndiagnosticcasecode\"];}else{props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ngradecode\"];}}}else{props=[\"stestname\",\"ssymbolname\",\"orderresulttype\",\"ngradecode\"];}hasAll=props.every(function(prop){return rules[j].hasOwnProperty(prop);});if(hasAll===false){break;}}if(hasAll===false){return\"break\";}};for(var i=0;i<grouplist.length;i++){var j;var _ret=_loop();if(_ret===\"break\")break;}return hasAll;};_this.save=function(){var inputData=[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var testsInvolvedInRules=[];var testsNameInvolvedInRules=[];var selectedRecord=_this.state.selectedRecord;var rules=[];//  if (selectedRecord[\"nproductcatcode\"]) {\nif(testInitiateTests.length>0||testCommentsTests.length>0||testRepeatTests.length>0||testenforceTests.length>0){if(selectedRecord[\"groupList\"].length>0){if(_this.onsavevalidation(selectedRecord)){if(selectedRecord[\"srulename\"]&&selectedRecord[\"srulename\"]!==\"\"&&_this.props.Login.action!=='update'&&_this.props.Login.action!=='IDS_ADDTESTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDREPORTCOMMENTS'&&_this.props.Login.action!=='IDS_ADDTEST'&&_this.props.Login.action!=='IDS_ADDSITE'&&_this.props.Login.action!=='IDS_ADDPARAMETER'){if(selectedRecord[\"groupList\"]){var groupList=[];var outcomeList={};groupList=selectedRecord[\"groupList\"];outcomeList['groupList']=groupList;outcomeList['addGroupList']=_this.props.Login.addGroupList;outcomeList['testInitiateTests']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests;outcomeList['testCommentsTests']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests;outcomeList['testRepeatTests']=_this.props.Login.testRepeatTests&&_this.props.Login.testRepeatTests;outcomeList['testenforceTests']=_this.props.Login.testenforceTests&&_this.props.Login.testenforceTests;outcomeList['reportCommentsTests']=_this.props.Login.reportCommentsTests&&_this.props.Login.reportCommentsTests;outcomeList['siteObject']=_this.props.Login.siteObject&&_this.props.Login.siteObject;outcomeList['testCommentObject']=_this.props.Login.testCommentObject&&_this.props.Login.testCommentObject;outcomeList['reportCommentObject']=_this.props.Login.reportCommentObject&&_this.props.Login.reportCommentObject;outcomeList['testInitiateSiteTab']=_this.props.Login.masterData.testInitiateSiteTab&&_this.props.Login.masterData.testInitiateSiteTab;outcomeList['testCommentsTestsTab']=_this.props.Login.masterData.testCommentsTestsTab&&_this.props.Login.masterData.testCommentsTestsTab;outcomeList['reportCommentsTestsTab']=_this.props.Login.reportCommentsTestsTab&&_this.props.Login.reportCommentsTestsTab;outcomeList['testRepeatTestsTab']=_this.props.Login.masterData['testRepeatTestsTab']&&_this.props.Login.masterData['testRepeatTestsTab'];outcomeList['testenforceTestsTab']=_this.props.Login.masterData['testenforceTestsTab']&&_this.props.Login.masterData['testenforceTestsTab'];outcomeList['PredefinedParameterOptions']=PredefinedParameterOptions;// outcomeList['nproductcatcode'] = selectedRecord['nproductcatcode']\noutcomeList['ntestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;// outcomeList['nallottedspeccode'] = selectedRecord['nallottedspeccode']\n// outcomeList['ncomponentcode'] = selectedRecord['ncomponentcode'] \noutcomeList['groupListJoins']=selectedRecord['groupListJoins']?selectedRecord['groupListJoins']:[];var ruleEngineLayout=[];var ruleEngineLayoutObject=[];var groupRuleObject={};groupList.map(function(List){return List.map(function(x){testsInvolvedInRules.push(x.stestname.item.ntestgrouptestcode);testsNameInvolvedInRules.push(x.stestname.item);});});outcomeList['testsNameInvolvedInRules']=testsNameInvolvedInRules;outcomeList['testsInvolvedInRules']=testsInvolvedInRules;groupList.map(function(List){if(List.hasOwnProperty('button_or')&&List['button_or']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_or']=List;}else{groupRuleObject['button_or']=List;}// groupRuleObject['button_or'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}if(List.hasOwnProperty('button_and')&&List['button_and']===true){if(List.hasOwnProperty('button_not')&&List['button_not']===true){groupRuleObject['button_not_button_and']=List;}else{groupRuleObject['button_and']=List;}//  groupRuleObject['button_and'] = List\nruleEngineLayout.push(groupRuleObject);groupRuleObject={};}});ruleEngineLayoutObject=groupList.hasOwnProperty('button_or')&&groupList['button_or']===true?{'button_or':ruleEngineLayout}:{'button_and':ruleEngineLayout};// console.log('savelist--->', JSON.stringify(ruleEngineLayoutObject))\n//  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\n//  inputData['nproductcatcode'] = selectedRecord['nproductcatcode'].value\ninputData['ntestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;// inputData['nallottedspeccode'] = selectedRecord['nallottedspeccode'].value\n// inputData['ncomponentcode'] = selectedRecord['ncomponentcode'].value\ninputData['srulename']=selectedRecord['srulename'];//   inputData['nruleexecorder'] = parseInt(selectedRecord['nruleexecorder'])\ninputData['outcomeList']=JSON.stringify(outcomeList);inputData['jsondata']=JSON.stringify(ruleEngineLayout);inputData['userinfo']=_this.props.Login.userInfo;if(_this.props.Login.operation==='update'){inputData['ntestgrouprulesenginecode']=_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode'];}var inputParam={classUrl:\"testgrouprulesengine\",methodUrl:\"TestGroupRulesEngine\",displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:_this.props.Login.operation==='create'?'create':'update'};_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openPortalModal\");}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULE\"}));}}else{selectedRecord['srulename']=selectedRecord['srulenamecopy']||\"\";//  selectedRecord['nruleexecorder'] = selectedRecord['nruleexecordercopy'] || \"\"\nvar updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:true,selectedRecord:selectedRecord,action:\"IDS_SAVERULEMODAL\",openmodalsavePopup:true}};_this.props.updateStore(updateInfo);//   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\n}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_COMPLETETHERULETOSAVE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONERULE\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONEOUTCOME\"}));}};_this.onOutcomeChange=function(comboData,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"outComeList\"]=[];selectedRecord[\"outComeList\"][index]=[];selectedRecord[\"outComeList\"][index]=comboData;if(selectedRecord[\"outComeList\"][index]){_this.setState({selectedRecord:selectedRecord});}};_this.writtenRules=function(data){var selectedRecord=_this.state.selectedRecord||{};var grouplist=selectedRecord[\"groupList\"];var activeTabIndex=_this.props.Login.activeTabIndex||0;if(activeTabIndex===1){var boolean=grouplist.every(function(x){return x.every(function(y){return y['stestname']['item'].ntestgrouptestcode!==data['item'].ntestgrouptestcode;});});if(boolean){return data;}}else{var _boolean=grouplist.some(function(x){return x.some(function(y){return y['stestname']['item'].ntestgrouptestcode===data['item'].ntestgrouptestcode;});});if(_boolean){return data;}}};_this.selectedTestRemove=function(data){var activeTabIndex=_this.props.Login.activeTabIndex||0;if(activeTabIndex===1){if(_this.props.Login.masterData.SelectedTest.ntestgrouptestcode!==data['item'].ntestgrouptestcode){return data;}}else{if(_this.props.Login.masterData.SelectedTest.ntestgrouptestcode===data['item'].ntestgrouptestcode){return data;}}};_this.outComeTestsRemoveFromRules=function(data){var testInitiateTests=_this.props.Login.testInitiateTests;var boolean=testInitiateTests.every(function(x){return x['ntestgrouptestcode']!==data['item'].ntestgrouptestcode;});if(boolean){return data;}};_this.addTest=function(tabName){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedRecord=_this.props.Login.selectedRecord||{};var rulesOption=_this.props.Login.masterData.rulesOption||[];var testInitiateTestCombo=_this.props.Login.masterData.testInitiateTestCombo||[];var testCommentsTestCombo=_this.props.Login.masterData.testCommentsTestCombo||[];var testRepeatTestCombo=_this.props.Login.masterData.testRepeatTestCombo||[];var testenforceTestCombo=_this.props.Login.masterData.testenforceTestCombo||[];if(tabName=='IDS_Test'){testInitiateTestCombo=testInitiateTestCombo.filter(_this.selectedTestRemove);testInitiateTestCombo=testInitiateTestCombo.filter(_this.writtenRules);selectedRecord['ParameterRulesEngine']&&delete selectedRecord['ParameterRulesEngine'];}else if(tabName=='IDS_COMMENTS'){var selectedTestTempArray=[];selectedTestTempArray=testCommentsTestCombo.filter(_this.selectedTestRemove);testCommentsTestCombo=testCommentsTestCombo.filter(_this.writtenRules);var duplicatePresent=selectedTestTempArray.some(function(x){return testCommentsTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(duplicatePresent){testCommentsTestCombo=testCommentsTestCombo;}else{testCommentsTestCombo=[].concat(_toConsumableArray(testCommentsTestCombo),_toConsumableArray(selectedTestTempArray));}}else if(tabName=='IDS_REPEAT'){var _selectedTestTempArray=[];_selectedTestTempArray=testRepeatTestCombo.filter(_this.selectedTestRemove);testRepeatTestCombo=testRepeatTestCombo.filter(_this.writtenRules);var _duplicatePresent=_selectedTestTempArray.some(function(x){return testRepeatTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(_duplicatePresent){testRepeatTestCombo=testRepeatTestCombo;}else{testRepeatTestCombo=[].concat(_toConsumableArray(testRepeatTestCombo),_toConsumableArray(_selectedTestTempArray));}}else if(tabName=='IDS_ENFORCERESULT'){var _selectedTestTempArray2=[];_selectedTestTempArray2=testenforceTestCombo.filter(_this.selectedTestRemove);testenforceTestCombo=testenforceTestCombo.filter(_this.writtenRules);var _duplicatePresent2=_selectedTestTempArray2.some(function(x){return testenforceTestCombo.some(function(y){return y['item'].ntestgrouptestcode===x['item'].ntestgrouptestcode;});});if(_duplicatePresent2){testenforceTestCombo=testenforceTestCombo;}else{testenforceTestCombo=[].concat(_toConsumableArray(testenforceTestCombo),_toConsumableArray(_selectedTestTempArray2));}}else{}selectedRecord['ntestgrouptestcode']&&delete selectedRecord['ntestgrouptestcode'];selectedRecord['nsampletestcommentscode']&&delete selectedRecord['nsampletestcommentscode'];selectedRecord['ncommentsubtypecode']&&delete selectedRecord['ncommentsubtypecode'];selectedRecord['ncommenttypecode']&&delete selectedRecord['ncommenttypecode'];selectedRecord['sgeneralcomments']&&delete selectedRecord['sgeneralcomments'];selectedRecord['needoutsource']&&delete selectedRecord['needoutsource'];selectedRecord['sdescription']&&delete selectedRecord['sdescription'];selectedRecord['ntestgrouptestparametercode']&&delete selectedRecord['ntestgrouptestparametercode'];selectedRecord['senforceresult']&&delete selectedRecord['senforceresult'];selectedRecord['ngradecode']&&delete selectedRecord['ngradecode'];selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode'];selectedRecord['ntositecode']&&delete selectedRecord['ntositecode'];selectedRecord['nrepeatcountno']&&delete selectedRecord['nrepeatcountno'];if(_this.props.Login.addGroupList.length>0){action=\"IDS_ADDTEST\";openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,modalParameterPopup:false,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false,testInitiateTestCombo:testInitiateTestCombo,testCommentsTestCombo:testCommentsTestCombo,testRepeatTestCombo:testRepeatTestCombo,testenforceTestCombo:testenforceTestCombo}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.onRuleChange=function(comboData,fieldName,groupIndex,index){var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var selectedRecord=_this.state.selectedRecord;_this.clearSelectedRule(selectedRecord,index);if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value){selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode'];selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode'];selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname'];}selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparenttestgrouptestcode']=_this.props.Login.masterData.SelectedTest.ntestgrouptestcode;selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparentstestname']=_this.props.Login.masterData.SelectedTest.stestname;if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype']){if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'].value===3){var nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index][fieldName]['item']['nparametertypecode'];if(nparametertypecode===parameterType.PREDEFINED){_this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo);}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}}else{if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]){_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});}}};_this.onRuleInputChange=function(event,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupList\"][groupIndex][index][fieldName]=event.target.value;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=event.target.value;_this.setState({selectedRecord:selectedRecord});};_this.onRuleNumericInputOnChange=function(event,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;if(groupIndex===undefined&&index===undefined){selectedRecord[fieldName]=event;_this.setState({selectedRecord:selectedRecord});}else{if(event!==0){selectedRecord[\"groupList\"][groupIndex][index][fieldName]=event;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=event;_this.setState({selectedRecord:selectedRecord});}}};_this.onMasterDataChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var PredefinedParameterOptions=_this.props.Login.masterData.PredefinedParameterOptions||[];var isResultorOrderType=[];var optionsByRule=[];if(_this.state.optionsByRule&&_this.state.optionsByRule.length>0){optionsByRule=_this.state.optionsByRule;}else{optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(_this.state.isResultorOrderType&&_this.state.isResultorOrderType.length>0){isResultorOrderType=_this.state.isResultorOrderType;}else{isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}if(fieldName!=='ndiagnosticcasecode'&&fieldName!=='ngradecode'&&fieldName!=='ntestgrouptestpredefcode'&&fieldName!=='ntestgrouptestcharcode'&&fieldName!=='ntestgrouptestnumericcode'){if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value){selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode'];selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'];selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode'];selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname'];}selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;if(isResultorOrderType[groupIndex]===undefined){isResultorOrderType[groupIndex]=[];isResultorOrderType[groupIndex][index]=[];}isResultorOrderType[groupIndex][index]=comboData.value;if(optionsByRule[groupIndex]===undefined){optionsByRule[groupIndex]=[];optionsByRule[groupIndex][index]=[];}if(isResultorOrderType[groupIndex][index]===1){optionsByRule[groupIndex][index]=_this.props.Login.masterData.DiagnosticCaseList;}else if(isResultorOrderType[groupIndex][index]===3){var nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index]['stestname']['item']['nparametertypecode'];if(nparametertypecode===parameterType.PREDEFINED){_this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo);}else{optionsByRule[groupIndex][index]=_this.props.Login.masterData.GradeList;}}else{optionsByRule[groupIndex][index]=_this.props.Login.masterData.GradeList;}_this.setState({selectedRecord:selectedRecord,isResultorOrderType:isResultorOrderType,optionsByRule:optionsByRule});}else{selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=comboData.label;_this.setState({selectedRecord:selectedRecord});}};_this.addRule=function(type,groupIndex){var selectedRecord=_this.state.selectedRecord;var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList[groupIndex];addGroupList[groupIndex]=arrayLength+1;selectedRecord[\"groupList\"][groupIndex][arrayLength]={};viewColumnListByRule=_this.props.Login.viewColumnList||_this.props.Login.databaseviewList;;var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.addComments=function(){var openModalPopup=_this.props.Login.openModalPopup;var action=_this.props.Login.action;var selectedParameterRulesEngine=_this.props.Login.masterData.selectedParameterRulesEngine||[];var testparameter=_this.props.Login.masterData.testCommentsTestCombo||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestgrouptestcode']={};selectedRecord['ntestgrouptestcode']=testparameter.filter(function(x){return x.value===selectedParameterRulesEngine.ntestgrouptestcode;})[0];delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];delete selectedRecord['sdescription'];if(_this.props.Login.addGroupList.length>0){if(_this.props.Login.activeTabIndex===2){action=\"IDS_ADDTESTCOMMENTS\";}else{action=\"IDS_ADDREPORTCOMMENTS\";}openModalPopup=true;var updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:openModalPopup,action:action,selectedRecord:selectedRecord,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PLEASEADDRULETOADDOUTCOME\"}));}};_this.addModalSite=function(){var openModalPopup=_this.props.Login.openModalPopup;var selectedParameterRulesEngine=_this.props.Login.masterData.selectedParameterRulesEngine||[];var testparameter=_this.props.Login.masterData.testInitiateTestCombo||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestgrouptestcode']={};selectedRecord['ntestgrouptestcode']=testparameter.filter(function(x){return x.value===selectedParameterRulesEngine.ntestgrouptestcode;})[0];selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode'];selectedRecord['ntositecode']&&delete selectedRecord['ntositecode'];openModalPopup=true;var action=_this.props.Login.action;action=\"IDS_ADDSITE\";var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:selectedRecord,openModalPopup:openModalPopup,action:action,openmodalsavePopup:false}};_this.props.updateStore(updateInfo);};_this.onGradeEvent=function(parameterResults,index,parameter){if(parameterResults.length>0&&parameterResults[index]!==undefined&&parameterResults[index].sresult!==null){var selectedRecord=_this.state.selectedRecord||[];var selectedResultGrade=_this.state.selectedRecord.selectedResultGrade||[];if(parameter.nparametertypecode===parameterType.NUMERIC){selectedResultGrade[index]={ngradecode:parameterResults[index].sresult!==\"\"?numericGrade(parameter,numberConversion(parseFloat(parameterResults[index].sresult),parseInt(parameter.nroundingdigits))):-1};}if(parameter.nparametertypecode===parameterType.PREDEFINED){if(parameterResults[index].sresult!==null){selectedResultGrade[index]={ngradecode:parameterResults[index].ngradecode};}else{selectedResultGrade[index]={ngradecode:0};}}if(parameter.nparametertypecode===parameterType.CHARACTER){if(parameterResults[index].sresult!==null&&parameterResults[index].sresult.trim()!==\"\"){selectedResultGrade[index]={ngradecode:4};}else{selectedResultGrade[index]={ngradecode:-1};}}selectedRecord.selectedResultGrade=selectedResultGrade;_this.setState({selectedRecord:selectedRecord});}};_this.onInputSwitchOnChange=function(event){if(event.target.name==\"PopupNav\"){_this.setState({enablePropertyPopup:!_this.state.enablePropertyPopup});}else{_this.setState({enableAutoClick:!_this.state.enableAutoClick});}};_this.addParameter=function(){var openModalPopup=_this.props.Login.openModalPopup;var isServiceNeed=_this.props.Login.isServiceNeed===undefined||_this.props.Login.isServiceNeed===true?true:false;var selectedParameterRulesEngine=_this.props.Login.masterData.selectedParameterRulesEngine||[];var testparameter=_this.props.Login.masterData.testInitiateTestCombo||[];var selectedRecord=_this.props.Login.selectedRecord||{};selectedRecord['ntestgrouptestpredefsubcode']&&delete selectedRecord['ntestgrouptestpredefsubcode'];selectedRecord['ntestgrouptestcode']={};selectedRecord['ntestgrouptestcode']=testparameter.filter(function(x){return x.value===selectedParameterRulesEngine.ntestgrouptestcode;})[0];selectedRecord['ntestgrouprulesenginecode']=_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']?_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']:0;selectedRecord['ParameterRulesEngine']&&delete selectedRecord['ParameterRulesEngine'];//    if(isServiceNeed){\n_this.props.getParameterRulesEngine(selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo,_this.state.activeTabIndex,\"IDS_ADDPARAMETER\");// }else{\n//     const updateInfo = {\n//         typeName: DEFAULT_RETURN,\n//         data: {\n//             openModalPopup: true,\n//                 modalParameterPopup:true,\n//                 // masterData: {\n//                 //     ...masterData,\n//                 //     ...response.data,\n//                 //     paremterResultcode\n//                 // },\n//                 // selectedRecord: {\n//                 //     ...selectedRecord,\n//                 //     additionalInfo: additionalInfo.length > 0 ? additionalInfo : [],\n//                 //     selectedResultGrade: selectedResultGrade,\n//                 //     ParameterRulesEngine: response.data.TestGroupTestParameterRulesEngine\n//                 // },\n//               ///  loading: false,\n//                 action:\"IDS_ADDPARAMETER\",\n//                 openmodalsavePopup:false\n//         }\n//     }\n//     this.props.updateStore(updateInfo);\n// }\n// openModalPopup = true;\n// let action = this.props.Login.action;\n// action = \"IDS_ADDPARAMETER\"\n// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         selectedRecord,\n//         openModalPopup,\n//         action,\n//         modalParameterPopup :true,\n//         openmodalsavePopup: false\n//     }\n// }\n// this.props.updateStore(updateInfo);\n};_this.deletetestparameter=function(deleteparameter){var masterData=_this.props.Login.masterData||{};masterData['testParameter'].map(function(test){if(test['ParameterRulesEngine']){var parameters=test['ParameterRulesEngine'];var tempparameters=_toConsumableArray(test['ParameterRulesEngine']);tempparameters.map(function(param,index){if(param['ntestgrouptestparametercode']===deleteparameter['ntestgrouptestparametercode']){//delete parameters[index];\nvar removeIndex=parameters.findIndex(function(x){return x['ntestgrouptestparametercode']===param['ntestgrouptestparametercode'];});parameters.splice(removeIndex,1);sortData(test['ParameterRulesEngine'],'ascending','slNo').map(function(param,index){param['slNo']=index+1;});}});}});_this.setState({masterData:masterData});};_this.modalsaveClick=function(){var needoutsource=_this.props.Login.needoutsource||{};var selectedRecord=_this.state.selectedRecord||{};var masterData=_this.props.Login.masterData||{};var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestsTemp=[];var testCommentsTestsTemp=[];var reportCommentsTestsTemp=[];var testInitiateSiteTemp=[];var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab||[];var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab||[];var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab||[];var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var updateInfo={};if(_this.props.Login.action==='IDS_ADDTEST'){var npkAtestparametercode=0;var npkBtestparametercode=0;var npkCtestparametercode=0;var npkDtestparametercode=0;if(_this.props.Login.activeTabIndex===1){var isduplicate={};isduplicate=testInitiateTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(isduplicate.length===0){masterData['testParameter']={};npkAtestparametercode=testInitiateTests.length>0?Math.max.apply(Math,_toConsumableArray(testInitiateTests.map(function(x){return x.npkAtestparametercode;}))):0;npkAtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkAtestparametercode']=npkAtestparametercode;// selectedRecord['ParameterRulesEngine']=selectedRecord['ParameterRulesEngine'].filter(param=>param['sresult']&&param['sresult']!==\"\");\n//  let slNo=1;\n// selectedRecord['ParameterRulesEngine']\n//      .map((resultData) => {\n//         if (resultData.nparametertypecode===1) { \n//             resultData[\"ngradecode\"] = resultData.sresult !== \"\" ?\n//             numericGrade(resultData, resultData[\"sfinal\"]) : -1;\n//          }\n//         else if (resultData.nparametertypecode===2)\n//          {\n//             resultData[\"ngradecode\"] = resultData.ngradecode; \n//             resultData[\"salertmessage\"] = resultData.salertmessage&&resultData.salertmessage;\n//             resultData[\"additionalInfo\"] = resultData['additionalInfo'];\n//             resultData[\"additionalInfoUidata\"] = resultData['additionalInfoUidata']===undefined?\"\":\n//             resultData['additionalInfoUidata']; \n//             resultData[\"ntestgrouptestpredefcode\"]=resultData['ntestgrouptestpredefcode']\n//             resultData[\"sresultcomment\"]=resultData['sresultcomment']  \n//          } \n//          else if (resultData.nparametertypecode===3)\n//          {\n//             resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \n//          }\n//          else if (resultData.nparametertypecode===4)\n//          {\n//             resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \n//          }   \n//          resultData[\"slNo\"]=slNo;\n//          slNo++;\n//     });\n// selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine']=sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo')\nif(selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']){selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=0;}selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine']&&delete selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine'];testInitiateTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testParameter']=sortData(testInitiateTests,'descending','npkAtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;delete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===2){var _isduplicate={};_isduplicate=testCommentsTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(_isduplicate.length===0){masterData['testParameterComments']={};npkBtestparametercode=testCommentsTests.length>0?Math.max.apply(Math,_toConsumableArray(testCommentsTests.map(function(x){return x.npkBtestparametercode;}))):0;npkBtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkBtestparametercode']=npkBtestparametercode;selectedRecord['ntestgrouptestcode'].item['sdescription']=selectedRecord['sdescription']?selectedRecord['sdescription']:'-';testCommentsTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testParameterComments']=sortData(testCommentsTests,'descending','npkBtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;//delete selectedRecord['ntestgrouptestcode']\n}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===3){var _isduplicate2={};_isduplicate2=testRepeatTests.filter(function(x){return x.ntestgrouptestcode===selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'];});if(_isduplicate2.length===0){masterData['testRepeat']={};npkCtestparametercode=testRepeatTests.length>0?Math.max.apply(Math,_toConsumableArray(testRepeatTests.map(function(x){return x.npkCtestparametercode;}))):0;npkCtestparametercode++;selectedRecord['ntestgrouptestcode'].item['npkCtestparametercode']=npkCtestparametercode;selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=selectedRecord['nrepeatcountno']?selectedRecord['nrepeatcountno']:1;testRepeatTests.push(selectedRecord['ntestgrouptestcode'].item);masterData['testRepeatTestsTab']=sortData(testRepeatTests,'descending','npkCtestparametercode');masterData['testRepeat']=sortData(testRepeatTests,'descending','npkCtestparametercode');masterData['selectedParameterRulesEngine']=selectedRecord['ntestgrouptestcode'].item;delete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}if(_this.props.Login.activeTabIndex===4){var _isduplicate3={};// isduplicate = testenforceTests.filter(x => x.ntestgrouptestcode ===\n//     selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\n_isduplicate3=testenforceTests.some(function(x){return selectedRecord['ntestgrouptestcode'].value===x.ntestgrouptestcode&&selectedRecord['ntestgrouptestparametercode'].value===x.ntestgrouptestparametercode;});if(!_isduplicate3){masterData['testenforceTests']={};npkDtestparametercode=testenforceTests.length>0?Math.max.apply(Math,_toConsumableArray(testenforceTests.map(function(x){return x.npkDtestparametercode;}))):0;npkDtestparametercode++;// selectedRecord['ntestgrouptestcode'].item['sparametersynonym'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label\n// selectedRecord['ntestgrouptestcode'].item['ngradecode'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value\n// selectedRecord['ntestgrouptestcode'].item['sgradename'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label\n// selectedRecord['ntestgrouptestcode'].item['ntestgrouptestparametercode'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value\n// selectedRecord['ntestgrouptestcode'].item['senforceresult'] = selectedRecord['senforceresult'] && selectedRecord['senforceresult']\nvar object=_objectSpread(_objectSpread({},selectedRecord['ntestgrouptestcode'].item),{},{'sparametersynonym':selectedRecord['ntestgrouptestparametercode']&&selectedRecord['ntestgrouptestparametercode'].label,'ngradecode':selectedRecord['ngradecode']&&selectedRecord['ngradecode'].value,'sgradename':selectedRecord['ngradecode']&&selectedRecord['ngradecode'].label,'ntestgrouptestparametercode':selectedRecord['ntestgrouptestparametercode']&&selectedRecord['ntestgrouptestparametercode'].value,'senforceresult':selectedRecord['senforceresult']&&selectedRecord['senforceresult'],'npkDtestparametercode':npkDtestparametercode});// selectedRecord['ntestgrouptestcode'].item['npkDtestparametercode'] = npkDtestparametercode\ntestenforceTests.push(object);masterData['testenforceTestsTab']=sortData(testenforceTests,'descending','npkDtestparametercode');masterData['testenforceTests']=sortData(testenforceTests,'descending','npkDtestparametercode');//  masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\ndelete selectedRecord['ntestgrouptestcode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYEXISTS\"}));}}updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testInitiateTests:testInitiateTests,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,npkAtestparametercode:npkAtestparametercode,npkBtestparametercode:npkBtestparametercode,npkCtestparametercode:npkCtestparametercode,testInitiateTestOptions:testInitiateTestOptions,testInitiateTestdeletedOptions:testInitiateTestdeletedOptions,selectedRecord:selectedRecord,testRepeatTests:testRepeatTests,testenforceTests:testenforceTests}};}if(_this.props.Login.action==='IDS_ADDPARAMETER'){var selectedntestgrouptestcode=masterData.selectedParameterRulesEngine.ntestgrouptestcode;var selectedParameterRulesEngine=masterData.selectedParameterRulesEngine.ParameterRulesEngine;selectedRecord['ParameterRulesEngine']=selectedRecord['ParameterRulesEngine'].filter(function(param){return param['sresult']&&param['sresult']!==\"\";});var slNo=selectedParameterRulesEngine===undefined||selectedParameterRulesEngine&&selectedParameterRulesEngine.length===0?1:selectedParameterRulesEngine.length+1;selectedRecord['ParameterRulesEngine'].map(function(resultData){if(resultData.nparametertypecode===1){resultData[\"ngradecode\"]=resultData.sresult!==\"\"?numericGrade(resultData,resultData[\"sresult\"]):-1;resultData[\"sresult\"]=resultData.sresult;resultData[\"sfinal\"]=resultData.sresult!==\"\"?numberConversion(parseFloat(resultData.sresult),parseInt(resultData.nroundingdigits)):\"\";resultData[\"ngradecode\"]=resultData.sresult!==\"\"?numericGrade(resultData,resultData[\"sfinal\"]):-1;}else if(resultData.nparametertypecode===2){resultData[\"ngradecode\"]=resultData.ngradecode;resultData[\"salertmessage\"]=resultData.salertmessage&&resultData.salertmessage;resultData[\"additionalInfo\"]=resultData['additionalInfo'];resultData[\"additionalInfoUidata\"]=resultData['additionalInfoUidata']===undefined?\"\":resultData['additionalInfoUidata'];resultData[\"ntestgrouptestpredefcode\"]=resultData['ntestgrouptestpredefcode'];resultData[\"sresultcomment\"]=resultData['sresultcomment'];resultData[\"sresultpredefinedname\"]=resultData['sresultpredefinedname'];resultData[\"sfinal\"]=resultData['sfinal'];}else if(resultData.nparametertypecode===3){resultData[\"sresult\"]=resultData.sresult;resultData[\"sfinal\"]=resultData.sresult;resultData[\"ngradecode\"]=resultData.sresult&&resultData.sresult.trim()===\"\"?-1:grade.FIO;}else if(resultData.nparametertypecode===4){resultData[\"ngradecode\"]=resultData.sresult&&resultData.sresult.trim()===\"\"?-1:grade.FIO;}resultData['sgradename']=_this.props.Login.masterData.GradeValues[resultData[\"ngradecode\"]][0]['sgradename'];resultData[\"slNo\"]=slNo;slNo++;});masterData['testParameter'].map(function(param){if(param['ntestgrouptestcode']===selectedntestgrouptestcode){if(param['ParameterRulesEngine']){param['ParameterRulesEngine']=param['ParameterRulesEngine'].concat(sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo'));}else{param['ParameterRulesEngine']=sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo');}}});testInitiateTests=masterData['testParameter'];updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testInitiateTests:testInitiateTests,modalParameterPopup:false,isServiceNeed:false}};}if(selectedRecord['nsampletestcommentscode']||selectedRecord['sgeneralcomments']){masterData['testComments']={};var npKAsampletestcommentscode=0;var nslno=0;var _object={ncommentsubtypecode:selectedRecord['ncommentsubtypecode'],scommentsubtype:selectedRecord['ncommentsubtypecode']['label'],stestsynonym:selectedRecord['ntestgrouptestcode']['label'],ncommenttypecode:selectedRecord['ncommenttypecode']['value'],scommenttype:selectedRecord['ncommenttypecode']['label'],nsampletestcommentscode:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode']:-1,// spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\n// sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\nspredefinedname:selectedRecord['nsampletestcommentscode']?selectedRecord['nsampletestcommentscode'].label:selectedRecord['sgeneralcomments']?selectedRecord['sgeneralcomments']:\"-\",scomments:selectedRecord['sdescription']?selectedRecord['sdescription']:'-',sdescription:selectedRecord['sdescription']?selectedRecord['sdescription']:'-',stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,ntestgrouptestcode:masterData.selectedParameterRulesEngine.ntestgrouptestcode,npkBtestparametercode:masterData.selectedParameterRulesEngine.npkBtestparametercode};nslno=testCommentsTestsTab.length>0?Math.max.apply(Math,_toConsumableArray(testCommentsTestsTab.map(function(x){return x.nslno;}))):0;nslno++;if(testCommentObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkBtestparametercode)){npKAsampletestcommentscode=Math.max.apply(Math,_toConsumableArray(testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode].map(function(x){return x.npKAsampletestcommentscode;})));npKAsampletestcommentscode++;_object=_objectSpread(_objectSpread({},_object),{},{npKAsampletestcommentscode:npKAsampletestcommentscode,nslno:nslno});testCommentsTestsTemp=testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode];testCommentsTestsTemp.push(_object);testCommentsTestsTab.push(_object);var commentsArrayIndex=testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode;});testCommentsTests[commentsArrayIndex]['commentsArray']=[];testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp,'ascending','npKAsampletestcommentscode');testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}else{npKAsampletestcommentscode++;_object=_objectSpread(_objectSpread({},_object),{},{npKAsampletestcommentscode:npKAsampletestcommentscode,nslno:nslno});testCommentsTestsTemp.push(_object);testCommentsTestsTab.push(_object);var _commentsArrayIndex=testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode;});testCommentsTests[_commentsArrayIndex]['commentsArray']=[];testCommentsTests[_commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp,'ascending','npKAsampletestcommentscode');testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=sortData(testCommentsTestsTemp,'descending','npKAsampletestcommentscode');delete selectedRecord['nsampletestcommentscode'];delete selectedRecord['ncommentsubtypecode'];delete selectedRecord['ncommenttypecode'];delete selectedRecord['sgeneralcomments'];}masterData['testComments']=testCommentObject;masterData['testCommentsTestsTab']=testCommentsTestsTab;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,testCommentObject:testCommentObject,npKAsampletestcommentscode:npKAsampletestcommentscode,selectedRecord:selectedRecord}};}if(selectedRecord['nfromsitecode']&&selectedRecord['ntositecode']){if(selectedRecord['nfromsitecode'].value!==selectedRecord['ntositecode'].value){var siteseqnumber=0;if(siteObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkAtestparametercode)){var isalreadyExist=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].some(function(x){return selectedRecord['nfromsitecode'].value===x.nfromsitecode&&selectedRecord['ntositecode'].value===x.ntositecode;});if(!isalreadyExist){masterData['testSite']={};siteseqnumber=Math.max.apply(Math,_toConsumableArray(siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].map(function(x){return x.npksitecode;})));siteseqnumber++;var _object2={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,nfromsitecode:selectedRecord['nfromsitecode'].value,ntositecode:selectedRecord['ntositecode'].value,stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,npkAtestparametercode:masterData.selectedParameterRulesEngine.ntestgrouptestcode};testInitiateSiteTemp=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode];testInitiateSiteTemp.push(_object2);testInitiateSiteTab.push(_object2);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestgrouptestcode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}else{return toast.warn(_this.props.intl.formatMessage({id:\"IDS_FROMANDTOSITEALREADYEXIST\"}));}}else{masterData['testSite']={};siteseqnumber++;var _object3={npksitecode:siteseqnumber,sfromsitename:selectedRecord['nfromsitecode'].label,stositename:selectedRecord['ntositecode'].label,nfromsitecode:selectedRecord['nfromsitecode'].value,ntositecode:selectedRecord['ntositecode'].value,stestparametersynonym:masterData.selectedParameterRulesEngine.stestparametersynonym,npkAtestparametercode:masterData.selectedParameterRulesEngine.npkAtestparametercode};testInitiateSiteTemp.push(_object3);testInitiateSiteTab.push(_object3);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=sortData(testInitiateSiteTemp,'descending','npksitecode');delete selectedRecord['ntestgrouptestcode'];delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}masterData['testSite']=siteObject;masterData['testInitiateSiteTab']=testInitiateSiteTab;updateInfo={typeName:DEFAULT_RETURN,data:{openModalPopup:false,masterData:masterData,siteObject:siteObject,siteseqnumber:siteseqnumber}};}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FROMANDTOSITECANNOTBESAME\"}));}}if(Object.keys(updateInfo).length>0){_this.props.updateStore(updateInfo);}};_this.deletModalSite=function(inputparam,action,row){var temparray=[];var index=0;var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab;var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab;var reportCommentsTestsTab=_this.props.Login.reportCommentsTestsTab;var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var masterData=_this.props.Login.masterData||{};if(_this.props.Login.activeTabIndex===1){temparray=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode];temparray.splice(row['dataIndex'],1);testInitiateSiteTab.splice(row['dataIndex'],1);siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===2){temparray=testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode];index=temparray.findIndex(function(x){return x.npKAsampletestcommentscode===row['dataItem'].npKAsampletestcommentscode;});// temparray.splice(row['dataIndex'], 1);\ntemparray.splice(index,1);index=testCommentsTestsTab.findIndex(function(x){return x.nslno===row['dataItem'].nslno;});//   testCommentsTestsTab.splice(row['dataIndex'], 1);\ntestCommentsTestsTab.splice(index,1);testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]=temparray;}if(_this.props.Login.activeTabIndex===3){temparray=masterData.testRepeat;temparray.splice(row['dataIndex'],1);reportCommentsTestsTab.splice(row['dataIndex'],1);reportCommentObject[masterData.selectedParameterRulesEngine.ntestgrouptestcode]=temparray;}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{siteObject:siteObject,testCommentObject:testCommentObject,reportCommentObject:reportCommentObject,testInitiateSiteTab:testInitiateSiteTab,reportCommentsTestsTab:reportCommentsTestsTab,testCommentsTestsTab:testCommentsTestsTab}};_this.props.updateStore(updateInfo);};_this.deleteModalTest=function(inputparam,action,row){var testInitiateTests=_this.props.Login.testInitiateTests||[];var testCommentsTests=_this.props.Login.testCommentsTests||[];var testRepeatTests=_this.props.Login.testRepeatTests||[];var testenforceTests=_this.props.Login.testenforceTests||[];var reportCommentsTests=_this.props.Login.reportCommentsTests||[];var testInitiateSiteTab=_this.props.Login.masterData.testInitiateSiteTab;var testCommentsTestsTab=_this.props.Login.masterData.testCommentsTestsTab;var testRepeatTestsTab=_this.props.Login.masterData.testRepeatTestsTab;var testenforceTestsTab=_this.props.Login.masterData.testenforceTestsTab;var siteObject=_this.props.Login.siteObject||{};var testCommentObject=_this.props.Login.testCommentObject||{};var reportCommentObject=_this.props.Login.reportCommentObject||{};var testInitiateTestOptions=_this.props.Login.testInitiateTestOptions||[];var testCommentsTestOptions=_this.props.Login.testCommentsTestOptions||[];var reportCommentsTestOptions=_this.props.Login.reportCommentsTestOptions||[];var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var testInitiateTestdeletedOptions=_this.props.Login.testInitiateTestdeletedOptions||[];var testCommentsTestdeletedOptions=_this.props.Login.testCommentsTestdeletedOptions||[];var reportCommentsTestdeletedOptions=_this.props.Login.reportCommentsTestdeletedOptions||[];var masterData=_this.props.Login.masterData||{};var index=0;if(_this.props.Login.activeTabIndex===1){// index = this.props.Login.testInitiateTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)\nindex=_this.props.Login.testInitiateTests.findIndex(function(x){return x.npkAtestparametercode===inputparam.testParameter.npkAtestparametercode;});testInitiateTests.splice(index,1);//   index =  masterData['testParameter'].findIndex(x => x.ntestgrouptestcode === inputparam.testParameter.ntestgrouptestcode)\n//   masterData['testParameter'].splice(index, 1); \ntestInitiateSiteTab=testInitiateSiteTab.filter(function(obj){return obj.npkAtestparametercode!==inputparam.testParameter.npkAtestparametercode;});delete siteObject[inputparam.testParameter.npkAtestparametercode];}if(_this.props.Login.activeTabIndex===2){index=_this.props.Login.testCommentsTests.findIndex(function(x){return x.npkBtestparametercode===inputparam.testParameterComments.npkBtestparametercode;});testCommentsTests.splice(index,1);// index =  testCommentsTestsTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameterComments.ntestgrouptestcode) \n// testCommentsTestsTab.splice(index, 1);\ntestCommentsTestsTab=testCommentsTestsTab.filter(function(obj){return obj.npkBtestparametercode!==inputparam.testParameterComments.npkBtestparametercode;});delete testCommentObject[inputparam.testParameterComments.npkBtestparametercode];}if(_this.props.Login.activeTabIndex===3){//  index = this.props.Login.testRepeatTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode) \nindex=row['dataIndex'];testRepeatTests.splice(index,1);testRepeatTestsTab.splice(index,1);}if(_this.props.Login.activeTabIndex===4){//    index = this.props.Login.testenforceTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)  \nindex=row['dataIndex'];testenforceTests.splice(index,1);testenforceTestsTab.splice(index,1);}var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{testInitiateTests:testInitiateTests,siteObject:siteObject,testCommentObject:testCommentObject,testCommentsTests:testCommentsTests,reportCommentsTests:reportCommentsTests,reportCommentObject:reportCommentObject,masterData:_objectSpread(_objectSpread({},masterData),{},{testCommentsTestsTab:testCommentsTestsTab,testInitiateSiteTab:testInitiateSiteTab,testRepeatTestsTab:testRepeatTestsTab,testenforceTestsTab:testenforceTestsTab}),testRepeatTests:testRepeatTests,testenforceTests:testenforceTests}};_this.props.updateStore(updateInfo);};_this.onmodalComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var isneedsgeneralcomments=_this.state.isneedsgeneralcomments||{};var action=_this.props.Login.action;if(fieldName==='ncommentsubtypecode'){if(comboData.value===6){isneedsgeneralcomments=true;delete selectedRecord['nsampletestcommentscode'];}else{isneedsgeneralcomments=false;delete selectedRecord['sgeneralcomments'];}}else if(fieldName==='nproductcatcode'){selectedRecord[fieldName]=comboData;_this.props.getSpecificationTestGroupRulesEngine(selectedRecord,_this.props.Login.selectedRecord,true,_this.props.Login.masterData,_this.props.Login.userInfo);}else if(fieldName==='ntestgrouptestcode'&&_this.state.activeTabIndex===4//||this.state.activeTabIndex === 1\n){if(selectedRecord['ntestgrouptestparametercode']){if(selectedRecord[fieldName].value!==comboData.value){delete selectedRecord['ntestgrouptestparametercode'];}}selectedRecord[fieldName]=comboData;selectedRecord['ntestgrouprulesenginecode']=_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']?_this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']:0;_this.props.getParameterforEnforce(selectedRecord,_this.props.Login.masterData,_this.props.Login.userInfo,_this.state.activeTabIndex,action);}//This is to Get Parameter Results from the User\nelse if(fieldName==='ntestgrouptestparametercode'&&_this.state.activeTabIndex===1){var updateInfo={};updateInfo={typeName:DEFAULT_RETURN,data:{screenName:'IDS_TESTGROUPRESULTENTRY',openModal:true}};_this.props.updateStore(updateInfo);}else if(fieldName==='nallottedspeccode'){selectedRecord[fieldName]=comboData;_this.props.getComponentTestGroupRulesEngine(selectedRecord,_this.props.Login.selectedRecord,true,_this.props.Login.masterData,_this.props.Login.userInfo);}if(fieldName==='nsampletestcommentscode'){selectedRecord['sdescription']=comboData.item.sdescription;}selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,isneedsgeneralcomments:isneedsgeneralcomments});};_this.onResultInputChange=function(event,index,parameter){var selectedRecord=_this.state.selectedRecord||[];var ParameterRulesEngine=_this.state.selectedRecord.ParameterRulesEngine?_this.state.selectedRecord.ParameterRulesEngine:[];var sresult=\"\";var sfinal=\"\";var sresultpredefinedname=\"\";var salertmessage=\"\";var sresultcomment=\"\";var sgradename=\"\";var value=-1;var acceptedFile=[];var ncalculatedresult;var currentAlertResultCode=0;var currentntestgrouptestpredefcode=0;var inputData={};if(parameter.nparametertypecode===parameterType.NUMERIC){if(/^-?\\d*?\\.?\\d*?$/.test(event.target.value)||event.target.value===\"\"){sresult=event.target.value;ncalculatedresult=4;}else{sresult=ParameterRulesEngine[index]['sresult']===null?\"\":ParameterRulesEngine[index]['sresult'];ncalculatedresult=ParameterRulesEngine[index]['ncalculatedresult'];}}if(parameter.nparametertypecode===parameterType.PREDEFINED){currentAlertResultCode=event.item.ntestgrouptestparametercode;currentntestgrouptestpredefcode=event.item.ntestgrouptestpredefcode;if(event!=null){sresult=event.item.spredefinedname;sresultpredefinedname=event.item.sresultpredefinedname;sfinal=event.item.spredefinedsynonym;value=event.item.ngradecode;salertmessage=event.item.salertmessage?event.item.salertmessage:\"\";sresultcomment=event.item.spredefinedcomments?event.item.spredefinedcomments:\"\";ncalculatedresult=4;}else{sresult=\"\";sfinal=\"\";sresultpredefinedname=\"\";value=-1;ncalculatedresult=4;}inputData={'ntestgrouptestpredefcode':event.item.ntestgrouptestpredefcode,'salertmessage':salertmessage,'nneedresultentryalert':event.item.nneedresultentryalert,'nneedsubcodedresult':event.item.nneedsubcodedresult};if(event.item.nneedresultentryalert===transactionStatus.NO&&event.item.nneedsubcodedresult===transactionStatus.NO){if(ParameterRulesEngine[index]['additionalInfo']){ParameterRulesEngine[index]['additionalInfo']=\"\";}if(ParameterRulesEngine[index]['additionalInfoUidata']){ParameterRulesEngine[index]['additionalInfoUidata']=\"\";}}}if(parameter.nparametertypecode===parameterType.CHARACTER){sresult=event.target.value;if(event.target.value.trim()===\"\"){ncalculatedresult=-1;}else{ncalculatedresult=4;}}if(parameter.nparametertypecode===parameterType.ATTACHMENT){sresult=event[0].name;acceptedFile=event;ncalculatedresult=4;}ParameterRulesEngine[index]['sresult']=sresult;ParameterRulesEngine[index]['sfinal']=sfinal;ParameterRulesEngine[index]['sresultpredefinedname']=sresultpredefinedname;ParameterRulesEngine[index]['sresultcomment']=sresultcomment;ParameterRulesEngine[index]['salertmessage']=salertmessage;ParameterRulesEngine[index]['acceptedFile']=acceptedFile;ParameterRulesEngine[index]['editable']=true;ParameterRulesEngine[index]['ngradecode']=value;ParameterRulesEngine[index]['ncalculatedresult']=ncalculatedresult;selectedRecord.ParameterRulesEngine=ParameterRulesEngine;if(parameter.nparametertypecode===parameterType.PREDEFINED){_this.props.getPredefinedDataRulesEngine(inputData,selectedRecord,currentAlertResultCode,_this.props.Login.masterData);}_this.setState({selectedRecord:selectedRecord,currentAlertResultCode:currentAlertResultCode,currentntestgrouptestpredefcode:currentntestgrouptestpredefcode});};_this.getOutcomeDetails=function(inputParam){var masterData=_this.props.Login.masterData||{};var testParameter=_this.state.activeTabIndex===1?inputParam.testParameter:_this.state.activeTabIndex===2?inputParam.testParameterComments:inputParam.testParameterreportComments;masterData['selectedParameterRulesEngine']={};masterData['selectedParameterRulesEngine']=testParameter;var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:masterData}};_this.props.updateStore(updateInfo);};_this.viewParameter=function(param){var masterData=_this.props.Login.masterData||{};masterData['ParameterRulesEngine']=param['ParameterRulesEngine'];var updateInfo={typeName:DEFAULT_RETURN,data:{showAlertGrid:true,masterData:masterData,showParameterGrid:true}};_this.props.updateStore(updateInfo);};_this.handleExpandChange=function(){var childListMap1=new Map();var childListMap2=new Map();var childListMap3=new Map();var childListMap=new Map();if(_this.props.Login.masterData.activeTabName==='IDS_Test'){var keylst=_this.props.Login.masterData.activeTabName==='IDS_Test'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']):_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'?Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']):Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);keylst.map(function(key){childListMap.set(parseInt(key),Object.values(_this.props.Login.masterData.activeTabName==='IDS_Test'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key]:_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'?_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]:_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap:childListMap});}if(_this.props.Login.masterData.activeTabName==='IDS_COMMENTS'){var _keylst=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']);_keylst.map(function(key){childListMap2.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));});_this.setState({childListMap2:childListMap2});}if(_this.props.Login.masterData.activeTabName==='IDS_REPORTCOMMENTS'){var _keylst2=Object.keys(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);_keylst2.map(function(key){childListMap3.set(parseInt(key),Object.values(_this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));});_this.setState({childListMap3:childListMap3});}};_this.viewOutcome=function(props){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){var masterData=_this.props.Login.masterData;masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0];if(masterData['SelectedRulesEngine']['jsonuidata']&&masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests']){masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'].forEach(function(object){object['expanded']&&delete object['expanded'];});}masterData['activeTabName']='IDS_Test';var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_VIEWOUTCOME\",operation:\"IDS_VIEW\",openModal:true,masterData:masterData}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETOVIEWOUTCOME\"}));}};_this.openflowview=function(props){if(_this.props.Login.masterData['RulesEngine']&&_this.props.Login.masterData['RulesEngine'].length>0){var masterData=_this.props.Login.masterData;masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0];var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_VIEWRULE\",operation:\"IDS_VIEW\",openModal:true,masterData:masterData}};_this.props.updateStore(updateInfo);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTRULETOVIEWRULE\"}));}};_this.handlePageChangeRuleEngine=function(event){_this.setState({skipRulesEngine:event.skip,takeRulesEngine:event.take});};_this.addGroup=function(){var selectedRecord=_this.state.selectedRecord;var viewColumnListByRule=_this.props.Login.viewColumnListByRule||[];var addGroupList=_this.props.Login.addGroupList||[];var arrayLength=addGroupList.length;addGroupList[arrayLength]=1;viewColumnListByRule=_this.props.Login.databaseviewList;if(arrayLength===0){selectedRecord[\"groupList\"]=[];selectedRecord[\"filtercolumns\"]=_this.props.Login.selectFields;}if(selectedRecord[\"groupListJoins\"]===undefined){selectedRecord[\"groupListJoins\"]=[];}if(selectedRecord[\"groupListJoins\"][arrayLength-1]===undefined){selectedRecord[\"groupListJoins\"][arrayLength-1]={};}selectedRecord[\"groupListJoins\"][arrayLength-1][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength]=[];selectedRecord[\"groupList\"][arrayLength][\"button_and\"]=true;selectedRecord[\"groupList\"][arrayLength][0]={};var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,viewColumnListByRule:viewColumnListByRule,selectedRecord:selectedRecord,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.getTestGroupRulesEngineAdd=function(){//   if (this.state.selectedcombo['nproductcatcode']) {\n//    const sqlQuery = false;\n//this.setState({ selectedRecord: {} });\nvar selectedRecord=_this.state.selectedRecord||{};_this.props.getTestGroupRulesEngineAdd(_this.props.Login.userInfo,false,{addRuleList:[],addGroupList:[],addAggregateList:[],addOrderbyList:[]},_this.props.Login.masterData);//  } else {\n//       toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\n//   }\n};_this.closePortalModal=function(){var masterData=_this.props.Login.masterData||{};masterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testSite']={};var updateInfo={typeName:DEFAULT_RETURN,data:_this.props.Login.operation!=='update'?{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},npkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0,testInitiateSiteTab:[],testCommentsTestsTab:[],reportCommentsTestsTab:[]}:{activeTabIndex:0,openPortalModal:false,selectedRecord:{},addRuleList:[],count:0,masterData:masterData,//  testInitiateTests: [], reportCommentsTests: [],\n// testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\nnpkAtestparametercode:0,npkBtestparametercode:0,npkCtestparametercode:0// ,\n// testInitiateSiteTab: [],\n// testCommentsTestsTab: [],\n// reportCommentsTestsTab: []\n}};_this.props.updateStore(updateInfo);};_this.changePropertyView=function(index,event,status){var id=false;var activeTabIndex;var activeTabId;var masterData=_this.props.Login.masterData||{};var activeTestTab=_this.props.Login.activeTestTab||\"\";var selectedRecord=_this.state.selectedRecord;if(selectedRecord[\"groupList\"].length>0){if(_this.onsavevalidation(selectedRecord)){if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){activeTabIndex=_this.state.activeTabIndex!==index?index:id?index:false;}if(window.innerWidth>992&&event&&_this.state.enableAutoClick||!event){if(index===1){activeTestTab='IDS_Test';masterData['selectedParameterRulesEngine']=_this.props.Login.testInitiateTests&&_this.props.Login.testInitiateTests[0];}if(index===2){activeTestTab='IDS_COMMENTS';masterData['selectedParameterRulesEngine']=_this.props.Login.testCommentsTests&&_this.props.Login.testCommentsTests[0];}if(index===3){activeTestTab='IDS_REPEAT';masterData['selectedParameterRulesEngine']=_this.props.Login.testRepeatTests&&_this.props.Login.testRepeatTests[0];}if(index===4){activeTestTab='IDS_ENFORCERESULT';masterData['selectedParameterRulesEngine']=_this.props.Login.testEnforceTests&&_this.props.Login.testEnforceTests[0];}var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:index===0?0:_this.state.activeTabIndex!==index?index:id?index:false,activeTabId:id,activeTestTab:activeTestTab,masterData:masterData}};_this.props.updateStore(updateInfo);}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_FILLTHERULETOADDOUTCOME\"}));}}else{toast.info(_this.props.intl.formatMessage({id:\"IDS_ATLEASTADDONERULETOADDOUTCOME\"}));}};_this.deleteRule=function(groupIndex,index){var addGroupList=_this.props.Login.addGroupList||[];var selectedRecord=_this.state.selectedRecord;addGroupList[groupIndex]=addGroupList[groupIndex]-1;if(addGroupList[groupIndex]===0){addGroupList.splice(groupIndex,1);selectedRecord[\"groupList\"].splice(groupIndex,1);if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"].splice(groupIndex-1,1);}}else{selectedRecord[\"groupList\"][groupIndex].splice(index,1);}var updateInfo={typeName:DEFAULT_RETURN,data:{addGroupList:addGroupList,selectedRecord:selectedRecord,activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.deleteOutcome=function(index){var addOutcomeList=_this.props.Login.addOutcomeList;addOutcomeList.splice(index,1);var updateInfo={typeName:DEFAULT_RETURN,data:{addOutcomeList:addOutcomeList}};_this.props.updateStore(updateInfo);};_this.clearRule=function(){var sviewname=_this.state.selectedRecord.sviewname||\"\";var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],selectedRecord:{sviewname:sviewname},sqlQuery:false}};_this.props.updateStore(updateInfo);};_this.resetRule=function(){var masterData=_this.props.Login.masterData||{};var selectedRecord=_this.state.selectedRecord||{};masterData['testParameter']={};masterData['testParameterComments']={};masterData['testParameterreportComments']={};masterData['testComments']={};masterData['reportComments']={};masterData['testRepeat']=[];masterData['testenforceTests']=[];masterData['testSite']={};if(selectedRecord[\"groupList\"]){selectedRecord[\"groupList\"]=[];}if(selectedRecord[\"groupListJoins\"]){selectedRecord[\"groupListJoins\"]=[];}var updateInfo={typeName:DEFAULT_RETURN,data:{addRuleList:[],addGroupList:[],masterData:masterData,addAggregateList:[],addOrderbyList:[],testInitiateTests:[],reportCommentsTests:[],testCommentsTests:[],siteObject:{},testCommentObject:{},reportCommentObject:{},selectedRecord:selectedRecord,testRepeatTests:[],testenforceTests:[],activeTabIndex:0}};_this.props.updateStore(updateInfo);};_this.onSymbolChange=function(comboData,fieldName,groupIndex,index){var selectedRecord=_this.state.selectedRecord;var oldSelectedRecord=selectedRecord[\"groupList\"][groupIndex][index][fieldName]||{};selectedRecord[\"groupList\"][groupIndex][index][fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,groupIndex:groupIndex,index:index});};_this.onInputChange=function(event,type,groupIndex,index){var selectedRecord=_this.state.selectedRecord||{};var needoutsource=_this.state.needoutsource||{};if(event.target.type==='checkbox'){if(event.target.name==='needoutsource'&&event.target.checked===true){needoutsource=true;}else{needoutsource=false;delete selectedRecord['nfromsitecode'];delete selectedRecord['ntositecode'];}selectedRecord[event.target.name]=event.target.checked===true?3:4;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord,needoutsource:needoutsource});};_this.viewColumnListByRule=function(list){var activeTabIndex=_this.props.Login.activeTabIndex;if(activeTabIndex!==0){var selectedRecord=_this.props.Login.selectedRecord&&_this.props.Login.selectedRecord;var dynamicList=activeTabIndex===1?_this.props.Login.testInitiateTests:activeTabIndex===2?_this.props.Login.testCommentsTests:activeTabIndex===3?_this.props.Login.testRepeatTests:activeTabIndex===4?_this.props.Login.testenforceTests:\"\";if(dynamicList!==undefined&&dynamicList)list=list.filter(function(_ref){var value=_ref.value;return!dynamicList.some(function(x){return x.ntestgrouptestcode==value;});});}return list;};_this.onConditionClick=function(fieldName,index,isgroup){var selectedRecord=_this.state.selectedRecord;selectedRecord[\"groupListJoins\"]=selectedRecord[\"groupListJoins\"]||[];if(index!==undefined&&isgroup===false){if(fieldName===\"button_and\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_or\"]=false;}else if(fieldName===\"button_or\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?true:true;selectedRecord[\"groupList\"][index][\"button_and\"]=false;}else if(fieldName===\"button_not\"){selectedRecord[\"groupList\"][index][fieldName]=selectedRecord[\"groupList\"][index][fieldName]===true?false:true;}else{}_this.setState({selectedRecord:selectedRecord});}else{if(fieldName===\"button_and\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_or\"]=false;}if(fieldName===\"button_or\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?true:true;selectedRecord[\"groupListJoins\"][index][\"button_and\"]=false;}if(fieldName===\"button_not\"){if(selectedRecord[\"groupListJoins\"][index]===undefined){selectedRecord[\"groupListJoins\"][index]={};}selectedRecord[\"groupListJoins\"][index][fieldName]=selectedRecord[\"groupListJoins\"][index][fieldName]===true?false:true;}_this.setState({selectedRecord:selectedRecord});}};_this.changePropertyViewClose=function(id){var updateInfo={typeName:DEFAULT_RETURN,data:{activeTabIndex:undefined,activeTestTab:undefined,activeTabId:id}};_this.props.updateStore(updateInfo);};_this.onFilterComboChange=function(comboData,fieldName,caseNo){var tempFilterData=_this.state.tempFilterData||{};var inputParam={};switch(caseNo){case 1:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProductCategory\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 2:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProduct\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 3:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:tempFilterData.nproductcatcode.item,product:comboData.item,project:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getTreeVersionTemplate\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 4:tempFilterData[fieldName]=comboData;_this.setState({tempFilterData:tempFilterData});break;case 5:var selectedRecord=_this.state.selectedRecord;selectedRecord[fieldName]=comboData;var TestGroupSpecSampleType=_this.props.Login.testGroupInputData.TestGroupSpecSampleType||{};var testGroupSpecSampleType={};if(_this.props.Login.screenName===(_this.props.Login.genericLabel&&_this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][_this.props.Login.userInfo.slanguagetypecode])){testGroupSpecSampleType=selectedRecord[\"ncomponentcode\"]?selectedRecord[\"ncomponentcode\"].item:TestGroupSpecSampleType[0].item;}else{testGroupSpecSampleType=_this.props.Login.masterData.SelectedComponent;}inputParam={userinfo:_this.props.Login.userInfo,testcategory:comboData.item,testgroupspecsampletype:testGroupSpecSampleType,nallottedspeccode:_this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],selectedRecord:selectedRecord};_this.props.changeTestCategory(inputParam,_this.props.Login.testGroupInputData);break;case 6:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,nprojecttypecode:tempFilterData.nprojecttypecode.value,projecttype:tempFilterData.nprojecttypecode.item,// sampletype: tempFilterData.nsampletypecode.item,\n// productcategory: comboData.item,\ntempFilterData:tempFilterData},classUrl:\"/projectmaster\",methodUrl:\"/getApprovedProjectByProjectType\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;default:break;}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputParam={};if(_this.props.Login.screenName===\"IDS_PROFILETREE\"||_this.props.Login.screenName===\"IDS_EDITTREE\"){inputParam=_this.onSaveTree(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECIFICATION\"){inputParam=_this.onSaveSpecification(saveType,formRef);}else if(_this.props.Login.screenName===_this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][_this.props.Login.userInfo.slanguagetypecode]){inputParam=_this.onSaveComponent(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COPYSPECIFICATION\"){inputParam=_this.onSaveCopySpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_TEST\"||_this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"){inputParam=_this.onSaveTest(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECFILE\"){inputParam=_this.onSaveSpecFile(saveType,formRef);}if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,openModal:true,operation:_this.props.Login.operation,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}};_this.onSaveTest=function(saveType,formRef){var operation=_this.props.Login.operation;var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var inputData={};var userinfo=_this.props.Login.userInfo;var postParam=undefined;if(operation===\"create\"){var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[masterData.SelectedComponent],testgrouptest:testArray,userinfo:userinfo};}else{postParam={inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:masterData.SelectedTest?masterData.SelectedTest.ntestgrouptestcode:0,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var testgrouptestfile=null;var testGroupFile=selectedRecord.ntestfilecode;if(testGroupFile){testGroupFile=testGroupFile.item;testgrouptestfile={nlinkcode:testGroupFile.nlinkcode,nattachmenttypecode:testGroupFile.nattachmenttypecode,sdescription:testGroupFile.sdescription,ssystemfilename:testGroupFile.ssystemfilename,dcreateddate:testGroupFile.dcreateddate,nfilesize:testGroupFile.nfilesize,ntestgroupfilecode:selectedRecord.ntestgroupfilecode,ntestgrouptestcode:selectedRecord.ntestgrouptestcode,sfilename:testGroupFile.sfilename,nstatus:transactionStatus.ACTIVE};}inputData={testgroupspecification:masterData.SelectedSpecification,testgrouptest:{ntestgrouptestcode:selectedRecord.ntestgrouptestcode,nsectioncode:selectedRecord.nsectioncode.value,//nsourcecode: selectedRecord.nsourcecode.value,\nnmethodcode:selectedRecord.nmethodcode?selectedRecord.nmethodcode.value:transactionStatus.NA,ninstrumentcatcode:selectedRecord.ninstrumentcatcode?selectedRecord.ninstrumentcatcode.value:transactionStatus.NA,ncontainertypecode:selectedRecord.ncontainertypecode?selectedRecord.ncontainertypecode.value:transactionStatus.NA,stestsynonym:selectedRecord.stestsynonym,ncost:selectedRecord.ncost,nsorter:selectedRecord.nsorter,nspecsampletypecode:selectedRecord.nspecsampletypecode,nrepeatcountno:selectedRecord.nrepeatcountno},testgrouptestfile:testgrouptestfile,userinfo:userinfo};}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Test\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:postParam};return inputParam;};_this.onSaveTree=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var inputData={userinfo:_this.props.Login.userInfo};if(operation===\"update\"){var selectedNode=_this.props.Login.masterData.selectedNode;inputData[\"treetemplatemanipulation\"]={ntemplatemanipulationcode:selectedRecord.ntemplatemanipulationcode,sleveldescription:selectedRecord.sleveldescription,nsampletypecode:selectedNode.nsampletypecode,ntreeversiontempcode:selectedNode.ntreeversiontempcode,nproductcatcode:selectedNode.nproductcatcode,nproductcode:selectedNode.nproductcode,nprojectmastercode:selectedNode.nprojectmastercode};inputData[\"selectednode\"]=_this.props.Login.masterData.ActiveKey;}else{var TreetempTranstestGroup=_this.props.Login.TreetempTranstestGroup;var filterData=_this.state.filterData;var _selectedRecord=_this.state.selectedRecord;var treetemplatemanipulation=[];var tempArray=filterRecordBasedOnTwoArrays(TreetempTranstestGroup,_selectedRecord.treetemplatemanipulation,\"ntemptranstestgroupcode\");tempArray.map(function(item){var treeData={ntreeversiontempcode:item.ntreeversiontempcode,npositioncode:item.nlevelno-1,sleveldescription:item.sleveldescription,ntemptranstestgroupcode:item.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:item.schildnode,ntemplatemanipulationcode:item.ntemplatemanipulationcode,isreadonly:item.ntemplatemanipulationcode>0?true:false,slevelformat:item.slevelformat};return treetemplatemanipulation.push(treeData);});_selectedRecord.treetemplatemanipulation.map(function(item){var treeTemplateManip=TreetempTranstestGroup.filter(function(temp){return temp.ntemptranstestgroupcode===item.ntemptranstestgroupcode;});if(treeTemplateManip.length>0){item[\"ntemplatemanipulationcode\"]=treeTemplateManip[\"ntemplatemanipulationcode\"];}else{item[\"ntemplatemanipulationcode\"]=0;}return treetemplatemanipulation.push(item);});inputData[\"treetemplatemanipulation\"]=treetemplatemanipulation;inputData[\"sampletype\"]=filterData.nsampletypecode.item;inputData[\"ncategorycode\"]=filterData.nproductcatcode.value;inputData[\"nproductcode\"]=filterData.nsampletypecode.item.ncategorybasedflowrequired===transactionStatus.YES?-1:filterData.nproductcatcode.item.ncategorybasedflow==transactionStatus.YES?-1:filterData.nproductcode.value?filterData.nproductcode.value:-1;inputData[\"ntreeversiontempcode\"]=filterData.ntreeversiontempcode.value;//  inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nprojectmastercode.value:-1;\ninputData[\"nprojectmastercode\"]=filterData.nprojectmastercode?filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?filterData.nprojectmastercode.value:-1:-1;}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Tree\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecification=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var testGroupSpec={napproveconfversioncode:-1,sversion:'',napprovalstatus:transactionStatus.DRAFT,nstatus:transactionStatus.ACTIVE,ntransactionstatus:selectedRecord[\"ntransactionstatus\"],ncomponentrequired:selectedRecord[\"ncomponentrequired\"],//   nclinicalspec: selectedRecord[\"nclinicalspec\"],\n// nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\nnprojectmastercode:_this.state.filterData.nprojectmastercode?_this.state.filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES?_this.state.filterData.nprojectmastercode.value:-1:-1,sspecname:selectedRecord[\"sspecname\"],dexpirydate:selectedRecord[\"dexpirydate\"],nallottedspeccode:selectedRecord[\"nallottedspeccode\"]?selectedRecord[\"nallottedspeccode\"]:0,ntzexpirydate:selectedRecord[\"ntzexpirydate\"].value,stzexpirydate:selectedRecord[\"ntzexpirydate\"].label};var dexpirydate=testGroupSpec[\"dexpirydate\"];//need this conversion when the datatype of the field is 'Instant'\ntestGroupSpec[\"dexpirydate\"]=formatInputDate(dexpirydate,false);if(operation===\"create\"){testGroupSpec[\"ntemplatemanipulationcode\"]=_this.props.Login.masterData.selectedNode.ntemplatemanipulationcode;}var ntreeversiontempcode=_this.state.filterData.ntreeversiontempcode.value;var inputData={userinfo:_this.props.Login.userInfo,testgroupspecification:testGroupSpec,treetemplatemanipulation:_this.props.Login.masterData.selectedNode,selectedspecification:_this.props.Login.masterData.SelectedSpecification,ntreeversiontempcode:ntreeversiontempcode};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveComponent=function(saveType,formRef){var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});var inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[selectedRecord.ncomponentcode.item],testgrouptest:testArray,userinfo:_this.props.Login.userInfo,genericlabel:_this.props.Login.genericLabel};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:_this.props.Login.operation,methodUrl:\"Component\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var specFileArray=[];var selectedSpecification=_this.props.Login.masterData.SelectedSpecification;var specFile={nallottedspeccode:selectedSpecification.nallottedspeccode,nspecfilecode:selectedRecord.nspecfilecode?selectedRecord.nspecfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},specFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=nattachmenttypecode===attachmentType.FTP?create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=Lims_JSON_stringify(file.name,false);tempData[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);specFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{specFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.sfilename,false);specFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\",false);specFile[\"nlinkcode\"]=transactionStatus.NA;specFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;specFile[\"nfilesize\"]=selectedRecord.nfilesize;specFileArray.push(specFile);}}else{specFile[\"sfilename\"]=Lims_JSON_stringify(selectedRecord.slinkfilename.trim(),false);specFile[\"sdescription\"]=Lims_JSON_stringify(selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\",false);specFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;specFile[\"ssystemfilename\"]=\"\";specFile[\"nfilesize\"]=0;specFileArray.push(specFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"testgroupspecification\",JSON.stringify(selectedSpecification));formData.append(\"testgroupspecfile\",JSON.stringify(specFileArray));var inputParam={// inputData: { userinfo: this.props.Login.userInfo },\ninputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sformname:Lims_JSON_stringify(_this.props.Login.userInfo.sformname),smodulename:Lims_JSON_stringify(_this.props.Login.userInfo.smodulename),//ALPD-1628(while saving the file and link,audit trail is not captured the respective language)\nslanguagename:Lims_JSON_stringify(_this.props.Login.userInfo.slanguagename)})},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"testgroup\",saveType:saveType,formRef:formRef,methodUrl:\"SpecificationFile\"};return inputParam;};_this.deleteSpecRecord=function(deleteParam){var selectedRecord=deleteParam.selectedRecord;var masterData=_this.props.Login.masterData;var ntreeversiontempcode=masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===ntreeversiontempcode;});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(selectedRecord.napprovalstatus===transactionStatus.DRAFT||selectedRecord.napprovalstatus===transactionStatus.CORRECTION){_this.deleteRecord(deleteParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.deleteRecord=function(deleteParam){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(_this.props.Login.masterData.selectedNode){var _inputData;var methodUrl=deleteParam.methodUrl;var dataState=_this.state.componentDataState;var screenName=deleteParam.screenName;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,deleteParam.keyName,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData,\"genericlabel\",_this.props.Login.genericLabel),_defineProperty(_inputData,\"testgroupspecification\",_this.props.Login.masterData.SelectedSpecification),_defineProperty(_inputData,\"treetemplatemanipulation\",_this.props.Login.masterData.selectedNode),_defineProperty(_inputData,\"ntreeversiontempcode\",deleteParam.filterData.ntreeversiontempcode.value),_inputData),classUrl:\"testgroup\",operation:deleteParam.operation,methodUrl:methodUrl,screenName:screenName,dataState:dataState};var _masterData=_this.props.Login.masterData;//if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData},openModal:true,screenName:screenName,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}};_this.deleteMultipleRecord=function(deleteParam){//console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:{testgroupspecsampletype:deleteParam.props.testgroupspecsampletype,userinfo:_this.props.Login.userInfo,genericlabel:_this.props.Login.genericLabel,testgroupspecification:testgroupspecification,treetemplatemanipulation:_this.props.Login.masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"TestGroupComponent\",screenName:_this.props.Login.genericLabel&&_this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][_this.props.Login.userInfo.slanguagetypecode]};var _masterData2=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData2},openModal:true,screenName:_this.props.Login.genericLabel&&_this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][_this.props.Login.userInfo.slanguagetypecode],operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onDropSpecFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateTestGroupComplete=function(operation,inputValue,ncontrolCode){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){return rsapi.post(\"testgroup/validateTestGroupComplete\",{nallottedspeccode:inputValue.testgroupspecification.nallottedspeccode,\"userinfo\":_this.props.Login.userInfo}).then(function(response){if(response.data&&response.data.length>0){var inactiveTestArray=[];response.data.map(function(item){return inactiveTestArray.indexOf(item.stestname)===-1?inactiveTestArray.push(item.stestname):\"\";});var data=\" [\"+inactiveTestArray+\"] \"+_this.props.intl.formatMessage({id:\"IDS_INACTIVETESTSATCOMPLETE\"});_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),data,_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.completeSpecification(operation,inputValue,ncontrolCode);},false,undefined);}else{_this.completeSpecification(operation,inputValue,ncontrolCode);}}).catch(function(error){if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response}));}});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.retireSpec=function(operation,selectedSpecification,approvalRoleActionDetail,retireSpecId){if(selectedSpecification.testgroupspecification.napprovalstatus!==transactionStatus.RETIRED){if(approvalRoleActionDetail.length>0&&approvalRoleActionDetail[0].nlevelno===transactionStatus.ACTIVE){if(selectedSpecification.testgroupspecification[\"napprovalstatus\"]===approvalRoleActionDetail[0].ntransactionstatus){var inputParam={inputData:{nallottedspeccode:selectedSpecification.testgroupspecification,treetemplatemanipulation:selectedSpecification.treetemplatemanipulation,approvalRoleActionDetail:approvalRoleActionDetail[0],userinfo:_this.props.Login.userInfo,operation:operation},classUrl:\"testgroup\",operation:operation,methodUrl:\"Spec\",screenName:\"IDS_STUDYPLAN\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,retireSpecId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_STUDYPLAN\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.retireSpecification(inputParam.inputData,masterData);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RETIRECANBECONEAFTERFINAL\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FINALLEVELAPPROVE\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYRETIRED\"}));}};_this.specificationReport=function(operation,ncontrolCode){if(_this.props.Login.masterData.SelectedComponent&&_this.props.Login.masterData.SelectedTest){var inputParam={inputData:{sprimarykeyname:'nallottedspeccode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nregtypecode:transactionStatus.NA,nregsubtypecode:transactionStatus.NA,nreportmodulecode:transactionStatus.NA,nreporttypecode:REPORTTYPE.CONTROLBASED,nreportdecisiontypecode:transactionStatus.NA,certificatetypecode:transactionStatus.NA,nsectioncode:transactionStatus.NA,operation:operation,nallottedspeccode:_this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],selectedComponent:_this.props.Login.masterData[\"SelectedComponent\"],selectedTest:_this.props.Login.masterData[\"SelectedTest\"],filterData:_this.state.filterData}};_this.props.reportSpecification(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.completeSpecification=function(operation,inputValue,ncontrolCode){if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:_objectSpread({userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testGroupTest:_this.props.Login.masterData.TestGroupTest},inputValue),classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.approveSpecification=function(status,needEsign){var masterData=_this.props.Login.masterData;var inputParam={inputData:{userinfo:_this.props.Login.userInfo,treetemplatemanipulation:masterData.selectedNode,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testgroupspecification:_objectSpread(_objectSpread({},masterData.SelectedSpecification),{},{napprovalstatus:status})},classUrl:\"testgroup\",operation:\"approve\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(needEsign===transactionStatus.YES){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:\"approve\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}};_this.onComboChange=function(comboData,fieldName,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(fieldName===\"ntestcode\"){selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}break;case 2:selectedRecord[\"parameterTypeCode\"]=comboData.value;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 3:selectedRecord[\"schecklistversionname\"]=comboData.item.schecklistversionname;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};var componentDataState={skip:0,take:10};var historyDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var clinicalspecDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5,group:[{field:'sgendername'}]};_this.state={selectedRecord:{},filterData:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),componentDataState:componentDataState,historyDataState:historyDataState,clinicalspecDataState:clinicalspecDataState,tempFilterData:{},showTest:true,testskip:0,testtake:_this.props.Login.settings?_this.props.Login.settings[12]:5,skipRulesEngine:0,takeRulesEngine:_this.props.Login.settings?_this.props.Login.settings[12]:5,fixefScrollHeight:window.outerHeight-400,initialVerticalWidth:\"20vh\",testView:true,//paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\npaneHeight:'calc(100vh -183px)'};_this.componentBreadcrumbs=[];_this.breadCrumbData=[];_this.searchRef=React.createRef();_this.specSubField=[_defineProperty({},designProperties.VALUE,\"stransdisplaystatus\"),(_ref3={},_defineProperty(_ref3,designProperties.VALUE,\"sapprovalstatus\"),_defineProperty(_ref3,designProperties.COLOUR,true),_ref3)];_this.myRef=React.createRef();return _this;}_createClass(TestGroup,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({parentHeight:height-50});}}},{key:\"render\",value:function render(){var _this2=this;console.log(\"Screen Name need\",this.props.Login.screenName);var _this$props$Login$mas=this.props.Login.masterData,TestGroupSpecification=_this$props$Login$mas.TestGroupSpecification,SelectedSpecification=_this$props$Login$mas.SelectedSpecification,SelectedTest=_this$props$Login$mas.SelectedTest,OpenNodes=_this$props$Login$mas.OpenNodes,selectedNode=_this$props$Login$mas.selectedNode,FocusKey=_this$props$Login$mas.FocusKey,ActiveKey=_this$props$Login$mas.ActiveKey,SelectedComponent=_this$props$Login$mas.SelectedComponent,TestGroupTest=_this$props$Login$mas.TestGroupTest,TestGroupSpecSampleType=_this$props$Login$mas.TestGroupSpecSampleType,searchedData=_this$props$Login$mas.searchedData,TestGroupTestParameter=_this$props$Login$mas.TestGroupTestParameter;// const deleteTree = {\n//     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\n//     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\n// };\nif(this.props.Login.masterData&&this.props.Login.masterData.AgaramTree&&this.props.Login.masterData.AgaramTree.length>0){this.props.Login.masterData.AgaramTree[0][\"label\"]=this.props.Login.masterData.AgaramTree[0][\"label\"]==='root'?this.props.intl.formatMessage({id:\"IDS_ROOT\"}):this.props.Login.masterData.AgaramTree[0][\"label\"];}var testGroupTestData=searchedData||TestGroupTest||[];if(TestGroupTestParameter){sortData(TestGroupTestParameter,\"ascending\",\"nsorter\");}if(testGroupTestData){sortData(testGroupTestData,\"descending\",\"nsorter\");}var getComponent={screenName:this.props.Login.genericLabel&&this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],operation:\"get\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupComponent\",keyName:\"testgroupspecification\"};var addSpecParam={testgroupspecification:SelectedSpecification,selectedRecord:this.state.filterData,userInfo:this.props.Login.userInfo,selectedNode:selectedNode};var editSpecParam={selectedRecord:this.state.filterData,userinfo:this.props.Login.userInfo,selectedNode:selectedNode};var specDeleteParam={operation:\"delete\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\",keyName:\"testgroupspecification\",filterData:this.state.filterData};var addSpecId=this.state.controlMap.has(\"AddSpecification\")&&this.state.controlMap.get(\"AddSpecification\").ncontrolcode;var addTreeId=this.state.controlMap.has(\"AddTree\")&&this.state.controlMap.get(\"AddTree\").ncontrolcode;var editTreeId=this.state.controlMap.has(\"EditTree\")&&this.state.controlMap.get(\"EditTree\").ncontrolcode;var deleteTreeId=this.state.controlMap.has(\"DeleteTree\")&&this.state.controlMap.get(\"DeleteTree\").ncontrolcode;var editSpecId=this.state.controlMap.has(\"EditSpecification\")&&this.state.controlMap.get(\"EditSpecification\").ncontrolcode;var deleteSpecId=this.state.controlMap.has(\"DeleteSpecification\")&&this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;var addComponentId=this.state.controlMap.has(\"AddComponent\")&&this.state.controlMap.get(\"AddComponent\").ncontrolcode;var deleteComponentId=this.state.controlMap.has(\"DeleteComponent\")&&this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;var addTestId=this.state.controlMap.has(\"AddTest\")&&this.state.controlMap.get(\"AddTest\").ncontrolcode;var deleteTestId=this.state.controlMap.has(\"DeleteTest\")&&this.state.controlMap.get(\"DeleteTest\").ncontrolcode;var editTestId=this.state.controlMap.has(\"EditTest\")&&this.state.controlMap.get(\"EditTest\").ncontrolcode;var viewFileId=this.state.controlMap.has(\"ViewTestFile\")&&this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;var confirmMessage=new ConfirmMessage();var deleteTree={methodUrl:\"Tree\",operation:\"delete\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,screenName:\"IDS_TREE\",ncontrolCode:deleteTreeId,filterData:this.state.filterData};var getTest={screenName:\"IDS_TEST\",operation:\"get\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupTest\",keyName:\"ntestgrouptestcode\"};var filterParam={testskip:0,testtake:this.props.Login.settings?this.props.Login.settings[12]:5,inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var filterParamRulesEngine={skipRulesEngine:0,takeRulesEngine:this.props.Login.settings?this.props.Login.settings[12]:5,inputListName:\"RulesEngine\",selectedObject:\"SelectedRulesEngine\",primaryKeyField:\"ntestgrouprulesenginecode\",fetchUrl:\"testgrouprulesengine/getSelectedTestGroupRulesEngine\",fecthInputObject:{userinfo:this.props.Login.userInfo,ntestgrouptestcode:this.props.Login.masterData.SelectedTest&&this.props.Login.masterData.SelectedTest.ntestgrouptestcode},masterData:this.props.Login.masterData,'searchFieldList':[\"srulename\",\"stransdisplaystatus\"],changeList:[],isSingleSelect:true};var specMandatoryFields=[];var compMandatoryFields=[];var editTestMandatoryFields=[];var addTestMandatoryFields=[];specificationColumnList.forEach(function(item){return item.mandatory===true?specMandatoryFields.push(item):\"\";});componentColumnList.forEach(function(item){return item.mandatory===true?compMandatoryFields.push(item):\"\";});editTestColumnList.forEach(function(item){return item.mandatory===true?editTestMandatoryFields.push(item):\"\";});addTestColumnList.forEach(function(item){return item.mandatory===true?addTestMandatoryFields.push(item):\"\";});if(this.props.Login.masterData&&Object.values(this.props.Login.masterData).length>0){if(selectedNode&&selectedNode.sleveldescription){var splitNode=this.props.Login.masterData.ActiveKey.split('/');var treeNodeNames=[];splitNode.forEach(function(nodeItem){_this2.props.Login.masterData.TreeTemplateManipulation.forEach(function(treeItem){if(treeItem.ntemplatemanipulationcode===parseInt(nodeItem))treeNodeNames.push(treeItem.sleveldescription);});});this.componentBreadcrumbs=treeNodeNames;if(SelectedSpecification&&SelectedSpecification!==null&&SelectedSpecification.sspecname){this.componentBreadcrumbs.push(SelectedSpecification.sspecname);if(SelectedComponent&&SelectedComponent!==null&&SelectedComponent.ncomponentcode!==-1){// this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\nthis.componentBreadcrumbs.push(SelectedComponent.scomponentname);}else{// delete this.componentBreadcrumbs[2];\n}}else{// delete this.componentBreadcrumbs[1];\n}}else{this.componentBreadcrumbs=[];// delete this.componentBreadcrumbs[0];\n}}this.confirmMessage=new ConfirmMessage();//New Design\nvar specDesign=/*#__PURE__*/React.createElement(React.Fragment,null,this.componentBreadcrumbs&&this.componentBreadcrumbs.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"component_breadcrumbs\"},/*#__PURE__*/React.createElement(\"ul\",null,this.componentBreadcrumbs.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,item);}))),/*#__PURE__*/React.createElement(ContentPanel,{hidden:this.state.showTest,className:\"mr-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\",marginRight:\"1rem\"},onClick:function onClick(){return _this2.showSpecAndTestInfo1();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{genericLabel:this.props.Login.genericLabel,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.SelectedSpecification,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\",deleteRecord:this.deleteRecord,addSpecification:this.props.addSpecification,filterData:this.state.filterData//completeSpecification={this.completeSpecification}\n,completeSpecification:this.validateTestGroupComplete,approveSpecification:this.approveSpecification,specificationReport:this.specificationReport,retireSpec:this.retireSpec,masterData:this.props.Login.masterData})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange}))));var testDesign=/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"sm-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"spec-info-title\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_TEST\"})},this.props.intl.formatMessage({id:\"IDS_TEST\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{position:\"absolute\",right:\"7px\",top:\"7px\"},onClick:function onClick(){return _this2.showSpecAndTestInfo();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_SPECINFO\"}))),/*#__PURE__*/React.createElement(Card.Body,{className:this.state.testView?'p-0':'no-pad-t'},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{cardHead:167,componentBreadcrumbs:this.breadCrumbData?this.breadCrumbData.length>0?true:false:false// notSearchable={false}\n,masterList:searchedData||TestGroupTest||[]//selectedMaster={[SelectedTest]}\n,clickIconGroup:true,selectedMaster:SelectedTest!==undefined?[SelectedTest]:undefined,primaryKeyField:\"ntestgrouptestcode\",getMasterDetail:this.props.getTestGroupDetails,inputParam:getTest,additionalParam:[],mainField:\"stestname\",selectedListName:\"SelectedTest\",objectName:\"testgrouptest\",listName:\"IDS_TEST\",showStatusLink:true,statusFieldName:\"stransdisplaystatus\",statusField:\"ntransactionstatus\",subFields:testSubFields,moreField:testMoreFields,needValidation:false,needFilter:false,filterColumnData:this.props.filterTransactionList,searchListName:\"searchedData\",searchRef:this.searchRef,hidePaging:false,filterParam:filterParam,handlePageChange:this.handlePageChange,skip:this.state.testskip,take:this.state.testtake,pageSize:this.props.Login.settings&&this.props.Login.settings[13].split(\",\").map(function(setting){return parseInt(setting);}),actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faCloudDownloadAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.fileViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faExternalLinkAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.linkViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.editTestGroupTest(\"update\",props.SelectedTest[0],_this2.props.Login.userInfo,editTestId,SelectedSpecification,_this2.state.filterData,props.masterData);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgrouptest\",hidden:this.state.userRoleControlRights.indexOf(deleteTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteTest({props:props,ncontrolCode:deleteTestId,filterData:_this2.state.filterData});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTestId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addTestGroupTest(SelectedComponent,_this2.props.Login.userInfo,addTestId,SelectedSpecification,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})))})));var paramDesign=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ContentPanel,{hidden:!this.state.showTest,className:\"grouped-param\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(TestGroupTestTab,{paneHeight:this.state.paneHeight,testView:this.state.testView,isrulesenginerequired:this.props.Login.masterData.isrulesenginerequired&&this.props.Login.masterData.isrulesenginerequired===transactionStatus.YES?true:false,masterData:this.props.Login.masterData,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenName:this.props.Login.screenName,openChildModal:this.props.Login.openChildModal,operation:this.props.Login.operation,loadEsign:this.props.Login.loadEsign,testGroupInputData:this.props.Login.testGroupInputData,parameterData:this.props.Login.parameterData,selectedRecord:this.state.selectedRecord,selectedsubcodedresult:this.state.selectedsubcodedresult||[],selectsubcodedelete:this.state.selectsubcodedelete,screenData:this.props.Login.screenData,ncontrolCode:this.props.Login.ncontrolCode,controlMap:this.state.controlMap,testGroupCheckList:this.props.Login.testGroupCheckList,openTemplateModal:this.props.Login.openTemplateModal,editTestGroupTest:this.props.editTestGroupTest,updateStore:this.props.updateStore,crudMaster:this.props.crudMaster,getTestGroupParameter:this.props.getTestGroupParameter,editTestGroupParameter:this.props.editTestGroupParameter,filterData:this.state.filterData,addTestGroupCodedResult:this.props.addTestGroupCodedResult,subCodedResultView:this.props.subCodedResultView,addTestGroupNumericTab:this.props.addTestGroupNumericTab,validateEsignCredential:this.props.validateEsignCredential,filterColumnData:this.props.filterColumnData,viewTestGroupCheckList:this.props.viewTestGroupCheckList,getDataForTestMaterial:this.props.getDataForTestMaterial,materialType:this.props.Login.materialType,getMaterialCategoryBasedMaterialType:this.props.getMaterialCategoryBasedMaterialType,materialCategoryList:this.props.Login.materialCategoryList,materialList:this.props.Login.materialList,getMaterialBasedMaterialCategory:this.props.getMaterialBasedMaterialCategory,getTestGroupMaterial:this.props.getTestGroupMaterial,getDataForEditTestMaterial:this.props.getDataForEditTestMaterial,dataState:this.state.clinicalspecDataState,dataStateChange:this.specDataStateChange,getTestGroupRulesEngineAdd:this.getTestGroupRulesEngineAdd,settings:this.props.Login.settings,skip:this.state.testskip,take:this.state.testtake,getEditTestGroupRulesEngine:this.props.getEditTestGroupRulesEngine,getSelectedTestGroupRulesEngine:this.props.getSelectedTestGroupRulesEngine,ConfirmDeleteRule:this.ConfirmDeleteRule,approveVersion:function approveVersion(masterdata,nflag){return _this2.approveVersion(masterdata,nflag);},openflowview:function openflowview(props){return _this2.openflowview(props);},handlePageChangeRuleEngine:function handlePageChangeRuleEngine(event){return _this2.handlePageChangeRuleEngine(event);},skipRulesEngine:this.state.skipRulesEngine,takeRulesEngine:this.state.takeRulesEngine,viewOutcome:function viewOutcome(props){return _this2.viewOutcome(props);},filterParamRulesEngine:filterParamRulesEngine,filterTransactionList:this.props.filterTransactionList,saveExecutionOrder:function saveExecutionOrder(props){return _this2.props.saveExecutionOrder(props,_this2.props.Login.masterData,_this2.props.Login.userInfo);}}))));var mainDesign=/*#__PURE__*/React.createElement(SplitterLayout,{customClassName:this.state.testView?\"detailed-inner\":\"detailed-inner no-height \",vertical:this.state.testView?false:true,borderColor:\"#999\",primaryIndex:1,percentage:true//secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\n,secondaryInitialSize:37,primaryMinSize:30,secondaryMinSize:37},testDesign,paramDesign);// const testDesign = this.state.testView ?\n//     <SplitterLayout\n//         customClassName=\"detailed-inner\"\n//         borderColor=\"#999\"\n//         primaryIndex={1}>\n//         {tempDesign}{paramDesign}\n//     </SplitterLayout>\n//     :\n//     <SplitterLayout\n//         customClassName=\"detailed-inner no-height\"\n//         vertical\n//         borderColor=\"#999\"\n//         primaryIndex={1}\n//         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\n//         secondaryInitialSize={this.state.fixefScrollHeight}\n//     >\n//         <ContentPanel>\n//             {tempDesign}\n//         </ContentPanel>\n//         {paramDesign}\n//     </SplitterLayout>\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},this.breadCrumbData&&this.breadCrumbData.length>0&&/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:this.breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height sticky_head_parent\",ref:function ref(parentHeight){_this2.parentHeight=parentHeight;}},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:30//customClassName=\"fixed_list_height\"\n},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.showModalBg?'show_modal_bg fixed_list_height':'fixed_list_height')},/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head\"},/*#__PURE__*/React.createElement(SearchAdd,{className:\"border fixed_ico_list title_grp_custom\"},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_PROFILETREE\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon_group_right_aligned\"},/*#__PURE__*/React.createElement(AdvFilter,{filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{genericLabel:this.props.Login.genericLabel,userInfo:this.props.Login.userInfo,sampleType:this.state.sampleType,treeVersionTemplate:this.state.treeVersionTemplate,productCategory:this.state.productCategory,product:this.state.product,projectType:this.state.projectType,project:this.state.project,onFilterComboChange:this.onFilterComboChange,tempFilterData:this.state.tempFilterData}),needActionStrip:false}],onFilterSubmit:this.onFilterSumbit,showModalBg:function showModalBg(e){return _this2.setState({showModalBg:e});}}),/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue mr-1\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTreeId)===-1,onClick:function onClick(){return _this2.props.createTree(_this2.state.filterData,_this2.props.Login.userInfo,_this2.props.Login.masterData,addTreeId);},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr0 mr-1\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.editTree(\"update\",selectedNode,_this2.props.Login.userInfo,editTreeId,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteLink\",hidden:this.state.userRoleControlRights.indexOf(deleteTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})// data-for=\"tooltip-list-wrap\"\n,className:\"btn btn-circle outline-grey \",onClick:function onClick(){return _this2.ConfirmDelete(_objectSpread({},deleteTree));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-1\",variant:\"link\",onClick:function onClick(){return _this2.reloadData();}// data-for=\"tooltip-list-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head_scroll_body\",style:{\"height\":this.state.parentHeight}},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(FormTreeMenu,{data:this.props.Login.masterData.AgaramTree,hasSearch:false,handleTreeClick:this.onTreeClick,initialOpenNodes:OpenNodes,focusKey:FocusKey||\"\",activeKey:ActiveKey||\"\"}),/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_SPECIFICATION\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecification||[],selectedMaster:[SelectedSpecification],needMultiSelect:false,primaryKeyField:\"nallottedspeccode\",getMasterDetail:function getMasterDetail(spec){return _this2.props.getComponentBySpecId(_objectSpread(_objectSpread({},getComponent),{},{selectedRecord:spec,historyDataState:_this2.state.historyDataState}),_this2.props.Login.masterData,_this2.searchRef);},mainField:\"sspecname\",selectedListName:\"testgroupspecification\",objectName:\"testgroupspecification\",listName:\"IDS_SPECIFICATION\",onFilterSumbit:this.onFilterSumbit,subFields:this.specSubField,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.addSpecification(\"update\",_objectSpread(_objectSpread({},editSpecParam),props),editSpecId);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(deleteSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteSpecRecord(_objectSpread(_objectSpread({props:props},specDeleteParam),{},{selectedRecord:SelectedSpecification,ncontrolCode:deleteSpecId}));});}}],needFilter:false,commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addSpecId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addSpecification(\"create\",_objectSpread({},addSpecParam),addSpecId,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n}))),hideSearch:false,hidePaging:true}),this.props.Login.filterData&&this.props.Login.filterData.nproductcatcode.item.nmaterialtypecode==MaterialType.IQCSTANDARDMATERIALTYPE?\"\"://{\nSelectedSpecification&&SelectedSpecification.ncomponentrequired===transactionStatus.YES&&/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.Login.genericLabel&&this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecSampleType||[],selectedMaster:[SelectedComponent],needMultiSelect:false,primaryKeyField:\"nspecsampletypecode\",getMasterDetail:function getMasterDetail(event){return _this2.componentRowClick(event);},mainField:\"scomponentname\",selectedListName:\"testgroupspecsampletype\",objectName:\"testgroupspecsampletype\",listName:this.props.Login.genericLabel&&this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode],actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),// data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\ncontrolname:\"faTrashAlt\",objectName:\"testgroupspecsampletype\",hidden:this.state.userRoleControlRights.indexOf(deleteComponentId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteMultipleRecord({props:props,ncontrolCode:deleteComponentId});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addComponentId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n,onClick:function onClick(){return _this2.props.addComponent(SelectedSpecification,_this2.props.Login.userInfo,addComponentId,_this2.props.Login.masterData,_this2.props.Login.genericLabel);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \n}))),hidePaging:true})//}\n))),/*#__PURE__*/React.createElement(React.Fragment,null,this.state.testView?/*#__PURE__*/React.createElement(React.Fragment,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\"):/*#__PURE__*/React.createElement(PerfectScrollbar,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\")))))),/*#__PURE__*/React.createElement(ModalShow,{modalShow:this.props.Login.showAlertGrid,modalTitle:this.props.Login.showParameterGrid?\"IDS_VIEWPARAMETER\":this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?this.props.intl.formatMessage({id:\"IDS_ADDITIONALINFOREQURIED\"}):'',closeModal:this.closeModalShowPredefAlert,onSaveClick:this.onModalSavePredefAlert,removeCancel:this.props.Login.showParameterGrid?false:this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?true:false,needSubmit:this.props.Login.showParameterGrid?false:this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?true:false,needSave:this.props.Login.showParameterGrid?true:this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?\"\":true,selectedRecord:this.state.selectedRecord||{},size:this.props.Login.showParameterGrid?\"lg\":this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?\"\":'lg',showAlertMsg:this.props.Login.showAlertForPredefined?true:false,modalBody:this.props.Login.showParameterGrid?/*#__PURE__*/React.createElement(DataGrid,{key:\"testsectionkey\",primaryKeyField:\"ntestgrouptestparametercode\",dataResult:this.props.Login.masterData.ParameterRulesEngine&&process(sortData(this.props.Login.masterData.ParameterRulesEngine,\"descending\",\"ntestgrouptestparametercode\")||[],this.state.dataStateChangeViewParameter?this.state.dataStateChangeViewParameter:{skip:0,take:10}),dataState:this.state.dataStateChangeViewParameter?this.state.dataStateChangeViewParameter:{skip:0,take:10},dataStateChange:this.dataStateChangeViewParameter,extractedColumnList:[{\"idsName\":\"IDS_PARAMETERNAME\",\"dataField\":\"sparametersynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_RESULT\",\"dataField\":\"sfinal\",\"width\":\"200px\"}// { \"idsName\": \"IDS_RESULTFLAG\", \"dataField\": \"sgradename\", \"width\": \"200px\" } \n],controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,pageable:true,scrollable:'scrollable',hideColumnFilter:true,selectedId:0,activeTabName:\"IDS_Test\",gridHeight:'400px'}):this.props.Login.additionalInfoView?this.state.selectedRecord['additionalResultData']:this.props.Login.showAlertForPredefined?/*#__PURE__*/React.createElement(ResultEntryPredefinedComments,{onlyAlertMsgAvailable:this.props.Login.onlyAlertMsgAvailable,salertmessage:this.props.Login.masterData['salertmessage'],showMultiSelectCombo:this.props.Login.showMultiSelectCombo,testgrouptestpredefsubresultOptions:this.props.Login.masterData.testgrouptestpredefsubresultOptions||[],selectedRecord:this.state.selectedRecord||{},onInputChange:this.onInputChange,onComboChange:this.onComboChange}):''}),this.props.Login.openModal&&this.props.Login.screenName&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,className:this.props.Login.screenName===\"IDS_VIEWRULE\"?\"wide-popup\":\"\",operation:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?\"\":this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?this.props.intl.formatMessage({id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym:this.props.Login.screenName,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,onSaveClick:this.onSaveClick,hideSave:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"||this.props.Login.screenName===\"IDS_SUBCODERESULT\"?true:false,size:this.props.Login.screenName===\"IDS_VIEWRULE\"||this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?'xl':\"lg\",selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.screenName===\"IDS_SPECFILE\"?this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord):this.props.Login.screenName===\"IDS_SPECIFICATION\"?specMandatoryFields:this.props.Login.screenName===this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]?compMandatoryFields:this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?editTestMandatoryFields:this.props.Login.screenName===\"IDS_TEST\"?addTestMandatoryFields:this.props.Login.screenName===\"IDS_PROFILETREE\"||this.props.Login.screenName===\"IDS_EDITTREE\"?this.props.Login.treeMandatoryFields:[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_SPECIFICATION\"?/*#__PURE__*/React.createElement(AddTestGroupSpecification,{genericLabel:this.props.Login.genericLabel,userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},timeZoneList:this.props.Login.timeZoneList,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,onComboChange:this.onComboChange,screenName:this.props.Login.screenName,operation:this.props.Login.operation,nsampletypecode:this.props.Login.masterData.selectedNode.nsampletypecode,settings:this.props.Login.settings,tempFilterData:this.state.tempFilterData,filterData:this.props.Login.filterData}):this.props.Login.screenName===this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]?/*#__PURE__*/React.createElement(AddTestGroupTest,{genericLabel:this.props.Login.genericLabel,userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_SUBCODERESULT\"?/*#__PURE__*/React.createElement(ViewSubCodedResult,{selectedRecord:this.state.selectedsubcoderesult||{},selectedsubcoderesult:this.props.Login.selectedsubcoderesult||[],screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_PROFILETREE\"?/*#__PURE__*/React.createElement(AddProfileTree,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,treetempTranstestGroup:this.props.Login.TreetempTranstestGroup}):this.props.Login.screenName===\"IDS_SPECFILE\"?/*#__PURE__*/React.createElement(AddFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,actionType:this.state.actionType,onDrop:this.onDropSpecFile,deleteAttachment:this.deleteAttachment,linkMaster:this.props.Login.linkMaster,editFiles:this.props.Login.editFiles,maxSize:20,maxFiles:this.props.Login.operation===\"update\"?1:1,multiple:this.props.Login.operation===\"update\"?false:true,label:this.props.intl.formatMessage({id:\"IDS_SPECFILE\"}),hideDefaultToggle:true,name:\"specfilename\"}):this.props.Login.screenName===\"IDS_EDITTREE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{name:\"sleveldescription\",label:this.state.selectedRecord.slabelname,type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event,1);},placeholder:this.state.selectedRecord.slabelname,value:this.state.selectedRecord?this.state.selectedRecord[\"sleveldescription\"]:\"\",isMandatory:\"*\",required:true,maxLength:100}))):this.props.Login.screenName===\"IDS_TEST\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{genericLabel:this.props.Login.genericLabel,userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?/*#__PURE__*/React.createElement(EditTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange}):this.props.Login.screenName===\"IDS_VIEWRULE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(OrgTree,{data:this.ruleflowobject(),horizontal:true,collapsable:true,expandAll:true,labelClassName:\"ruletree\"}))):this.props.Login.screenName===\"IDS_VIEWOUTCOME\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},this.props.Login.masterData.SelectedRulesEngine&&/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetailRulesEngine(),onTabChange:this.onTabChangeRulesEngine}))):\"\"}),this.props.Login.openPortalModal&&/*#__PURE__*/React.createElement(PortalModalSlideout,{show:this.props.Login.openPortalModal,closeModal:this.closePortalModal,screenName:this.props.intl.formatMessage({id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym,handleSaveClick:this.save,addComponent:(this.props.Login.operation==='update'?this.state.selectedRecord['groupList']:true)&&/*#__PURE__*/React.createElement(AddTestGroupRule,{productCategoryList:this.state.ProductCategoryList||[],selectedRecord:this.state.selectedRecord||{},databaseTableList:this.props.Login.databaseTableList,tableColumnList:this.state.tableColumnList,specificationOptions:this.state.TestGroupSpecificationList||[],componentOptions:this.state.ComponentList||[],foreignTableList:this.state.foreignTableList||[],foreignTableColumnList:this.props.Login.foreignTableColumnList||[],count:this.state.count,foreignTableCount:this.state.foreignTableCount,sqlQuery:this.state.sqlQuery,userInfo:this.props.Login.userInfo,onInputChange:this.onInputChange,deleteRule:this.deleteRule,clearRule:this.clearRule,resetRule:this.resetRule,onSymbolChange:this.onSymbolChange,onRuleChange:this.onRuleChange,addRule:this.addRule,addTest:this.addTest,onConditionClick:this.onConditionClick,onMasterDataChange:this.onMasterDataChange,databaseviewList:this.props.Login.databaseviewList,addRuleList:this.props.Login.addRuleList||[],rulesOption:this.props.Login.masterData.rulesOption&&this.props.Login.masterData.rulesOption.filter(this.outComeTestsRemoveFromRules),masterdata:this.props.Login.masterdata,switchRecord:this.state.switchRecord,data:this.state.data,dataResult:this.state.dataResult||[],dataState:this.state.dataState,dataStateChange:this.dataStateChange,userRoleControlRights:this.state.userRoleControlRights,gridColumnList:this.props.Login.gridColumnList||[],queryType:this.state.queryType,addAggregateList:this.props.Login.addAggregateList||[],addOrderbyList:this.props.Login.addOrderbyList||[],addGroup:this.addGroup,addGroupList:this.props.Login.addGroupList||[],onFilterComboChange:this.onFilterComboChange,selectFields:this.props.Login.selectFields||[],SelectedProductCategory:this.props.Login.masterData.SelectedProductCategory,DiagnosticCaseList:this.props.Login.masterData.DiagnosticCaseList,GradeList:this.props.Login.masterData.GradeList,PredefinedParameterOptions:this.props.Login.masterData.PredefinedParameterOptions,siteList:this.props.Login.masterData.siteList,resultTypeList:this.props.Login.masterData.resultTypeList,isResultorOrderType:this.state.isResultorOrderType,optionsByRule:this.state.optionsByRule||this.props.Login.masterData.DiagnosticCaseList,changePropertyView:this.changePropertyView,splitChangeWidthPercentage:this.state.splitChangeWidthPercentage,activeTabIndex:this.props.Login.activeTabIndex,enablePropertyPopup:this.state.enablePropertyPopup,propertyPopupWidth:this.state.propertyPopupWidth,controlMap:this.state.controlMap,sectionDataState:this.state.sectionDataState,masterData:this.props.Login.masterData,intl:this.props.intl,addOutcomeList:this.props.Login.addOutcomeList&&this.props.Login.addOutcomeList||[],deleteOutcome:this.deleteOutcome,onmodalComboChange:this.onmodalComboChange,openModalPopup:this.props.Login.openModalPopup,closeModalShow:this.closeModalShow,modalsaveClick:this.modalsaveClick,getOutcomeDetails:this.getOutcomeDetails,addModalSite:this.addModalSite,action:this.props.Login.action,deletModalSite:this.deletModalSite,deleteModalTest:this.deleteModalTest,activeTestTab:this.props.Login.activeTestTab,testcomments:this.props.Login.testcomments,reportcomments:this.props.Login.reportcomments,addComments:this.addComments,CommentType:this.props.Login.CommentType,CommentSubType:this.props.Login.CommentSubType,isneedsgeneralcomments:this.state.isneedsgeneralcomments,predefcomments:this.props.Login.predefcomments,needoutsource:this.state.selectedRecord['needoutsource']&&this.state.selectedRecord['needoutsource']===3?true:false,openmodalsavePopup:this.props.Login.openmodalsavePopup,save:this.save,dataStateObject:this.state.dataStateObject,paneSizeChange:this.paneSizeChange,testInitiateTestCombo:this.props.Login.testInitiateTestCombo&&this.viewColumnListByRule(this.props.Login.testInitiateTestCombo),testCommentsTestCombo:this.props.Login.testCommentsTestCombo&&this.viewColumnListByRule(this.props.Login.testCommentsTestCombo),testRepeatTestCombo:this.props.Login.testRepeatTestCombo&&this.viewColumnListByRule(this.props.Login.testRepeatTestCombo),testenforceTestCombo:this.props.Login.testenforceTestCombo&&this.props.Login.testenforceTestCombo,dataStateChangetestRepeat:this.dataStateChangetestRepeat,dataStateChangetestEnforce:this.dataStateChangetestEnforce,dataStatetestEnforce:this.state.dataStatetestEnforce,dataStatetestRepeat:this.state.dataStatetestRepeat,testGroupTestParameterRulesEngine:this.props.Login.masterData.testGroupTestParameterRulesEngine||[],ParameterRulesEngine:this.props.Login.masterData.ParameterRulesEngine||[],onRuleInputChange:this.onRuleInputChange,onRuleNumericInputOnChange:this.onRuleNumericInputOnChange,onResultInputChange:this.onResultInputChange,PredefinedValues:this.props.Login.masterData.PredefinedValues||{},onGradeEvent:this.onGradeEvent,deletetestparameter:this.deletetestparameter,gradeValues:this.props.Login.masterData.GradeValues||[],modalParameterPopup:this.props.Login.modalParameterPopup||false,addParameter:this.addParameter,onInputSwitchOnChange:this.onInputSwitchOnChange})}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord){var mandyFields=[];if(screenName===\"IDS_SPECFILE\"){if(selectedRecord&&selectedRecord.nattachmenttypecode===attachmentType.LINK){mandyFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{//if (this.props.Login.operation === 'update') {\nmandyFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else{return[];}var finalMandyFields=[];mandyFields.forEach(function(item){return item.mandatory===true&&finalMandyFields.push(item);});return finalMandyFields;}},{key:\"showSpecAndTestInfo\",value:function showSpecAndTestInfo(){this.setState({showTest:!this.state.showTest,testView:false});this.updateSpiltterLayout();}},{key:\"showSpecAndTestInfo1\",value:function showSpecAndTestInfo1(){this.setState({showTest:!this.state.showTest,testView:true});//this.updateSpiltterLayout()\n}},{key:\"ruleflowobject\",value://Rules Engine Functions Start\nfunction ruleflowobject(){var _this3=this;var object={};var labelColor=['#e63109','#2fb47d','#eaa203','#6554c0'];var labelBGColor=['#fcd7cd','#e5f8f1','#fcf3dd','#e7e6f5'];var borderColor=['#e6310','#c6f6e4','#fde2a4','#cbc5f7'];var groupList=this.props.Login.masterData.SelectedRulesEngine['jsondata'];var groupListJoins=this.props.Login.masterData.SelectedRulesEngine['jsonuidata']&&this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins'];var children=[];var parent=[];var grandparent=[];groupList.map(function(groupobject,index){if(groupobject.hasOwnProperty('button_or')){children=[];var rulesList=groupobject['button_or'];rulesList.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});if(groupList.length===1?rulesList.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children});}}if(groupobject.hasOwnProperty('button_and')){children=[];var _rulesList=groupobject['button_and'];_rulesList.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});if(groupList.length===1?_rulesList.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children});}}if(groupobject.hasOwnProperty('button_not_button_and')){children=[];var _rulesList2=groupobject['button_not_button_and'];_rulesList2.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});var notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"})),children:children}];if(groupList.length===1?_rulesList2.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:notarray});}}if(groupobject.hasOwnProperty('button_not_button_or')){children=[];var _rulesList3=groupobject['button_not_button_or'];_rulesList3.map(function(rule,index){children.push({id:index,label:/*#__PURE__*/React.createElement(React.Fragment,null,rule['stestname'].label+\" -> \"+rule['orderresulttype'].label+\" -> \"+rule['ssymbolname'].label+\" -> \"+(rule['ndiagnosticcasecode']&&rule['ndiagnosticcasecode'].label||rule['ngradecode']&&rule['ngradecode'].label||rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']||rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label))});});var _notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"})),children:children}];if(groupList.length===1?_rulesList3.length>1:true){parent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"})),children:_notarray});}}});if(groupListJoins!==undefined){groupListJoins.map(function(join,index){var parentjoins=[];if(join.hasOwnProperty('button_or')&&join['button_or']===true){var notarray=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){notarray=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:notarray});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_OR\"}),\" \")// 'button_or'\n,children:parentjoins});}}if(join.hasOwnProperty('button_and')&&join['button_and']===true){var _notarray2=[];parentjoins.push(parent[index]);parentjoins.push(parent[index+1]);if(join.hasOwnProperty('button_not')&&join['button_not']===true){_notarray2=[{id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}),\" \")// 'button_or'\n,children:parentjoins}];grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_NOT\"}),\" \")// 'button_or'\n,children:_notarray2});}else{grandparent.push({id:index,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},_this3.props.intl.formatMessage({id:\"IDS_AND\"}))// 'button_and'\n,children:parentjoins});}}});}object=grandparent.length>0?{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:grandparent}:{id:0,label:/*#__PURE__*/React.createElement(\"div\",{className:\"btn btn-primary\"},this.props.Login.masterData.SelectedRulesEngine.srulename,\" \"),children:parent.length!==0?parent:children};return object;}},{key:\"handleClickDelete\",value:function handleClickDelete(masterData,ncontrolcode//, modalName\n){var fieldArray=[];var inputParam={methodUrl:\"TestGroupRulesEngine\",classUrl:\"testgrouprulesengine\",inputData:{\"ntestgrouptestcode\":this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\"ntestgrouprulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\"userinfo\":this.props.Login.userInfo},operation:\"delete\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"IDS_RULESENGINE\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}},{key:\"approveVersion\",value:function approveVersion(masterData,nflag,ncontrolcode//, modalName\n){if(masterData['RulesEngine']&&masterData['RulesEngine'].length>0){var fieldArray=[];var inputParam={methodUrl:\"TestGroupRulesEngine\",classUrl:\"testgrouprulesengine\",inputData:{\"ntestgrouptestcode\":this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\"ntestgrouprulesenginecode\":this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\"userinfo\":this.props.Login.userInfo,nflag:nflag},operation:\"approve\",//postParam,\ndisplayName:\"RulesEngine\"};if(showEsign(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode,ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},// [modalName]: true,\noperation:'delete',screenName:\"IDS_RULESENGINE\",id:\"RulesEngine\"}};this.props.updateStore(updateInfo);}else{this.props.crudMaster(inputParam,masterData,undefined);}}else{if(nflag==1){toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTRULETOAPPROVE\"}));}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTRULETORETIRE\"}));}}}},{key:\"clearSelectedRule\",value:function clearSelectedRule(selectedRecord,index){selectedRecord[\"sinputname_\"+index]&&delete selectedRecord[\"sinputname_\"+index];selectedRecord[\"ssymbolname_\"+index]&&delete selectedRecord[\"ssymbolname_\"+index];selectedRecord[\"snumericinput_\"+index]&&delete selectedRecord[\"snumericinput_\"+index];selectedRecord[\"columnname_\"+index]&&delete selectedRecord[\"columnname_\"+index];selectedRecord[\"snumericinputtwo_\"+index]&&delete selectedRecord[\"snumericinputtwo_\"+index];selectedRecord[\"dateinput_\"+index]&&delete selectedRecord[\"dateinput_\"+index];selectedRecord[\"dateinputtwo_\"+index]&&delete selectedRecord[\"dateinputtwo_\"+index];}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(filterData){if(filterData&&Object.values(filterData).length>0&&filterData.nsampletypecode&&filterData.nsampletypecode.item){// if (filterData.nsampletypecode && filterData.nproductcatcode \n//     && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES \n//     && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.NO) \nif(filterData.nsampletypecode&&filterData.nsampletypecode.item.ncategorybasedflowrequired==transactionStatus.YES?true:filterData.nproductcatcode&&filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?true:false){this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?this.props.Login.genericLabel&&this.props.Login.genericLabel[\"ProductCategory\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]:filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];if(filterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE){if(filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES){this.breadCrumbData.push({\"label\":\"IDS_PROJECTTYPE\",\"value\":filterData.nprojecttypecode?filterData.nprojecttypecode.label:\"\"},{\"label\":\"IDS_PROJECT\",\"value\":filterData.nprojectmastercode?filterData.nprojectmastercode.label:\"\"});}}}else{this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?this.props.Login.genericLabel&&this.props.Login.genericLabel[\"ProductCategory\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]:filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?this.props.Login.genericLabel&&this.props.Login.genericLabel[\"Product\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]:filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENT\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIAL\":\"\",\"value\":filterData.nproductcode?filterData.nproductcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];if(filterData.nsampletypecode.value===SampleType.PROJECTSAMPLETYPE){if(filterData.nsampletypecode.item.nprojectspecrequired===transactionStatus.YES){this.breadCrumbData.push({\"label\":\"IDS_PROJECTTYPE\",\"value\":filterData.nprojecttypecode?filterData.nprojecttypecode.label:\"\"},{\"label\":\"IDS_PROJECT\",\"value\":filterData.nprojectmastercode?filterData.nprojectmastercode.label:\"\"});}}}}else{this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData&&filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"}];}}},{key:\"updateSpiltterLayout\",value:function updateSpiltterLayout(){var _this4=this;if(this.myRef&&this.myRef.current&&this.myRef.current.clientHeight+20!==this.state.fixefScrollHeight){this.setState({fixefScrollHeight:this.myRef.current.clientHeight+20,disableSplit:true});//console.log(this.myRef.current.clientHeight)\nsetTimeout(function(){_this4.setState({disableSplit:false});});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var selectedRecord=this.state.selectedRecord;var selectedsubcodedresult=this.state.selectedsubcodedresult;var selectsubcodedelete=this.state.selectsubcodedelete;var filterData=this.state.filterData||{};var isStateChanged=false;var activeTabIndex=this.props.Login.activeTabIndex||0;var activeTabId=this.props.Login.activeTabId||false;this.updateSpiltterLayout();var tempFilterData=this.state.tempFilterData||{};if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;isStateChanged=true;}if(this.props.Login.selectedsubcodedresult!==previousProps.Login.selectedsubcodedresult){selectedsubcodedresult=this.props.Login.selectedsubcodedresult;//selectedsubcodedresult = this.state.selectedsubcodedresult;\nisStateChanged=true;}if(this.props.Login.selectsubcodedelete!==previousProps.Login.selectsubcodedelete){selectsubcodedelete=this.props.Login.selectsubcodedelete;//selectedsubcodedresult = this.state.selectedsubcodedresult;\nisStateChanged=true;}if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex||this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.activeTabIndex!==previousProps.Login.activeTabIndex){activeTabIndex=this.props.Login.activeTabIndex;activeTabId=this.props.Login.activeTabId;isStateChanged=true;// this.setState({\n//     activeTabIndex,\n//     activeTabId\n// });\n}}if(this.props.Login.tempFilterData!==previousProps.Login.tempFilterData){tempFilterData=this.props.Login.tempFilterData||{};isStateChanged=true;}var sampleType=this.state.sampleType||[];if(this.props.Login.masterData.SampleType!==previousProps.Login.masterData.SampleType){var sampleTypeMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",\"nsorter\",\"ascending\",false);sampleType=sampleTypeMap.get(\"OptionList\");tempFilterData[\"nsampletypecode\"]=sampleType.length?sampleType[0]:\"\";isStateChanged=true;}var productCategory=this.state.productCategory||[];if(this.props.Login.masterData.ProductCategory!==previousProps.Login.masterData.ProductCategory){var productCatMap=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",\"nproductcatcode\",\"ascending\",false);productCategory=productCatMap.get(\"OptionList\");tempFilterData[\"nproductcatcode\"]=productCategory.length>0?productCategory[0]:\"\";isStateChanged=true;}var product=this.state.product||[];if(this.props.Login.masterData.Product!==previousProps.Login.masterData.Product){var productMap=constructOptionList(this.props.Login.masterData.Product||[],\"nproductcode\",\"sproductname\",\"nproductcode\",\"ascending\",false);product=productMap.get(\"OptionList\");tempFilterData[\"nproductcode\"]=product.length>0?product[0]:undefined;isStateChanged=true;}var projectType=this.state.projectType||[];if(this.props.Login.masterData.ProjectTypeList!==previousProps.Login.masterData.ProjectTypeList){var projectTypeMap=constructOptionList(this.props.Login.masterData.ProjectTypeList||[],\"nprojecttypecode\",\"sprojecttypename\",\"nprojecttypecode\",\"ascending\",false);projectType=projectTypeMap.get(\"OptionList\");tempFilterData[\"nprojecttypecode\"]=projectType.length>0?projectType[0]:undefined;isStateChanged=true;}var project=this.state.project||[];if(this.props.Login.masterData.ProjectMasterList!==previousProps.Login.masterData.ProjectMasterList){var projectMasterMap=constructOptionList(this.props.Login.masterData.ProjectMasterList||[],\"nprojectmastercode\",\"sprojectcode\",\"nprojectmastercode\",\"ascending\",false);project=projectMasterMap.get(\"OptionList\");tempFilterData[\"nprojectmastercode\"]=project.length>0?project[0]:undefined;isStateChanged=true;}var treeVersionTemplate=this.state.treeVersionTemplate||[];if(this.props.Login.masterData.TreeVersionTemplate!==previousProps.Login.masterData.TreeVersionTemplate){var templateMap=constructOptionList(this.props.Login.masterData.TreeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",\"ntreeversiontempcode\",\"ascending\",false);treeVersionTemplate=templateMap.get(\"OptionList\");tempFilterData[\"ntreeversiontempcode\"]=treeVersionTemplate.length>0?treeVersionTemplate[treeVersionTemplate.length-1]:\"\";isStateChanged=true;}// if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\n//     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\n// }\n// if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\n//     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\n// }\nvar userRoleControlRights=this.state.userRoleControlRights||[];var controlMap=this.state.controlMap||[];if(this.props.Login.userInfo&&this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var nformCode=this.props.Login.userInfo.nformcode;if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[nformCode]&&Object.values(this.props.Login.userRoleControlRights[nformCode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,nformCode);filterData=_objectSpread({},tempFilterData);this.generateBreadCrumData(filterData);}if(this.props.Login.filterData!==previousProps.Login.filterData){filterData=_objectSpread({},this.props.Login.filterData);this.generateBreadCrumData(filterData);isStateChanged=true;}else{this.generateBreadCrumData(filterData);}// else if (filterData !== previousState.filterData) {\n//     filterData = { ...tempFilterData };\n//     this.generateBreadCrumData(filterData);\n// }\nvar historyDataState=this.state.historyDataState;if(this.props.Login.historyDataState&&this.props.Login.historyDataState!==previousProps.Login.historyDataState){historyDataState=this.props.Login.historyDataState;isStateChanged=true;}var _this$state=this.state,testskip=_this$state.testskip,testtake=_this$state.testtake;if(this.props.Login.masterData!==previousProps.Login.masterData){testskip=this.props.Login.testskip===undefined?testskip:this.props.Login.testskip;testtake=testtake?testtake:this.props.Login.testtake;isStateChanged=true;}var _this$state2=this.state,skipRulesEngine=_this$state2.skipRulesEngine,takeRulesEngine=_this$state2.takeRulesEngine;if(this.props.Login.masterData!==previousProps.Login.masterData){skipRulesEngine=this.props.Login.skipRulesEngine===undefined?skipRulesEngine:this.props.Login.skipRulesEngine;takeRulesEngine=takeRulesEngine?takeRulesEngine:this.props.Login.takeRulesEngine;isStateChanged=true;}if(isStateChanged){this.setState({selectedRecord:selectedRecord,tempFilterData:tempFilterData,filterData:filterData,userRoleControlRights:userRoleControlRights,controlMap:controlMap,sampleType:sampleType,productCategory:productCategory,product:product,treeVersionTemplate:treeVersionTemplate,historyDataState:historyDataState,testskip:testskip,testtake:testtake,projectType:projectType,project:project,activeTabIndex:activeTabIndex,activeTabId:activeTabId,skipRulesEngine:skipRulesEngine,takeRulesEngine:takeRulesEngine,selectedsubcodedresult:selectedsubcodedresult,selectsubcodedelete:selectsubcodedelete});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return TestGroup;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterTestGroup:filterTestGroup,createTree:createTree,editTree:editTree,sampleTypeOnChange:sampleTypeOnChange,getTestGroupDetails:getTestGroupDetails,validateEsignCredential:validateEsignCredential,updateStore:updateStore,addSpecification:addSpecification,getSpecification:getSpecification,addComponent:addComponent,changeTestCategory:changeTestCategory,addTestGroupTest:addTestGroupTest,editTestGroupTest:editTestGroupTest,getTestGroupParameter:getTestGroupParameter,editTestGroupParameter:editTestGroupParameter,addTestFile:addTestFile,editSpecFile:editSpecFile,getSpecificationDetails:getSpecificationDetails,addTestGroupCodedResult:addTestGroupCodedResult,getComponentBySpecId:getComponentBySpecId,filterColumnData:filterColumnData,viewAttachment:viewAttachment,viewTestGroupCheckList:viewTestGroupCheckList,getTestGroupComponentDetails:getTestGroupComponentDetails,filterTransactionList:filterTransactionList,reportSpecification:reportSpecification,retireSpecification:retireSpecification,getDataForTestMaterial:getDataForTestMaterial,getEditTestGroupRulesEngine:getEditTestGroupRulesEngine,getMaterialCategoryBasedMaterialType:getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory:getMaterialBasedMaterialCategory,getTestGroupMaterial:getTestGroupMaterial,getDataForEditTestMaterial:getDataForEditTestMaterial,addTestGroupNumericTab:addTestGroupNumericTab,getTestGroupRulesEngineAdd:getTestGroupRulesEngineAdd,getSelectedTestGroupRulesEngine:getSelectedTestGroupRulesEngine,getParameterforEnforce:getParameterforEnforce,getParameterRulesEngine:getParameterRulesEngine,getParameterResultValue:getParameterResultValue,subCodedResultView:subCodedResultView,saveExecutionOrder:saveExecutionOrder,getPredefinedDataRulesEngine:getPredefinedDataRulesEngine})(injectIntl(TestGroup));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroup.jsx"],"names":["React","Component","connect","injectIntl","rsapi","toast","Row","Col","Card","Button","Nav","PerfectScrollbar","FontAwesomeIcon","faPencilAlt","faPlus","faSync","SplitterLayout","faEye","faTrashAlt","process","DataGrid","OrgTree","SlideOutModal","Esign","callService","crudMaster","filterTestGroup","createTree","editTree","getTestGroupDetails","sampleTypeOnChange","validateEsignCredential","updateStore","addSpecification","getSpecification","addComponent","changeTestCategory","addTestGroupTest","editTestGroupTest","getTestGroupParameter","editTestGroupParameter","addTestFile","editSpecFile","getSpecificationDetails","addTestGroupCodedResult","getComponentBySpecId","filterColumnData","viewAttachment","viewTestGroupCheckList","getTestGroupComponentDetails","filterTransactionList","reportSpecification","retireSpecification","getDataForTestMaterial","getMaterialCategoryBasedMaterialType","getMaterialBasedMaterialCategory","getTestGroupMaterial","getDataForEditTestMaterial","addTestGroupNumericTab","getTestGroupRulesEngineAdd","getEditTestGroupRulesEngine","getSelectedTestGroupRulesEngine","getParameterforEnforce","getParameterRulesEngine","getParameterResultValue","subCodedResultView","saveExecutionOrder","getPredefinedDataRulesEngine","constructOptionList","formatInputDate","create_UUID","deleteAttachmentDropZone","filterRecordBasedOnTwoArrays","getControlMap","onDropAttachFileList","showEsign","sortData","Lims_JSON_stringify","TestGroupTestTab","AddTestGroupSpecification","DEFAULT_RETURN","transactionStatus","REPORTTYPE","attachmentType","formCode","designProperties","parameterType","SampleType","MaterialType","grade","AddTestGroupTest","AddProfileTree","SampleFilter","AddFile","AdvFilter","SpecificationHistory","TestGroupSpecFile","SpecificationInfo","CustomTab","TransationListMaster","TransationListMasterView","FormTreeMenu","FormInput","ConfirmMessage","BreadcrumbComponent","testMoreFields","testSubFields","searchFieldList","specificationColumnList","componentColumnList","addTestColumnList","editTestColumnList","EditTestGroupTest","ContentPanel","SearchAdd","ListWrapper","ProductList","TransactionListMasterJsonView","PortalModalSlideout","AddTestGroupRule","ViewSubCodedResult","numberConversion","numericGrade","ResultEntryPredefinedComments","ModalShow","TestGroup","props","reloadData","filterData","Login","state","nsampletypecode","undefined","warn","intl","formatMessage","id","nproductcatcode","item","nformcode","PRODUCTCATEGORY","INSTRUMENTCATEGORY","MATERIALCATEGORY","nproductcode","ncategorybasedflow","NO","ncategorybasedflowrequired","ntreeversiontempcode","inputParam","inputData","userinfo","userInfo","YES","value","nprojectmastercode","historyDataState","masterData","searchRef","ConfirmDelete","obj","confirmMessage","confirm","deleteRecord","handlePageChange","event","setState","testskip","skip","testtake","take","viewTestFile","viewParam","operation","methodUrl","classUrl","ntestgroupfilecode","selectedTest","testgroupspecification","SelectedSpecification","ntestgrouptestcode","fileViewIcon","master","nlinkcode","NA","linkViewIcon","onFilterSumbit","tempFilterData","PROJECTSAMPLETYPE","nprojectspecrequired","onTreeClick","screenName","keyName","selectedRecord","activeKey","key","focusKey","primaryKey","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","addFile","defaultRecord","settings","TestGroupSpecificationHistory","historyDataStateChange","dataResult","dataState","specDataStateChange","TestGroupTestClinicalSpec","clinicalspecDataState","ncontrolCode","modalName","nflag","treeVersionTemplateIndex","findIndex","x","selectedNode","templateVersionStatus","ntransactionstatus","RETIRED","napprovalstatus","DRAFT","CORRECTION","onTabChange","tabProps","updateInfo","typeName","data","componentRowClick","testgroupspecsampletype","deleteTest","deleteParam","testgrouptest","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","unchangeList","loadEsign","screenData","openModal","closeModal","onInputOnChange","caseNo","optional","target","type","name","checked","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","ntemplatemanipulationcode","isreadonly","slevelformat","treetemplatemanipulation","onEsignInputOnChange","onTabChangeRulesEngine","activeTabName","tabDetailRulesEngine","jsonuidata","SelectedRulesEngine","handleExpandChange","dataStatetestinitiate","dataStateChangetestinitiateTab","childListMap","title","controlname","hidden","objectName","onClick","viewParameter","dataStateChange","childListMap2","dataStaterepeatTab","dataStateChangeRepeatTab","dataStateChangenforceTab","ntestgrouptestparametercode","dataStateObject","dataStateChangetestRepeat","dataStatetestRepeat","dataStateChangetestEnforce","dataStatetestEnforce","dataStateChangeViewParameter","dataStateChangeMain","dataResultMain","queryDataMain","dataStateMain","ConfirmDeleteRule","deleteId","length","handleClickDelete","closeModalShow","openModalPopup","modalParameterPopup","onModalSavePredefAlert","currentAlertResultCode","currentntestgrouptestpredefcode","bool","ParameterRulesEngine","some","map","Parameter","ntestgrouptestpredefsubcode","label","join","substring","showAlertGrid","closeModalShowPredefAlert","onsavevalidation","grouplist","hasAll","rules","i","j","PREDEFINED","CHARACTER","NUMERIC","every","prop","hasOwnProperty","save","siteObject","testCommentObject","reportCommentObject","PredefinedParameterOptions","testInitiateTests","testCommentsTests","reportCommentsTests","testRepeatTests","testenforceTests","testsInvolvedInRules","testsNameInvolvedInRules","action","groupList","outcomeList","addGroupList","testInitiateSiteTab","testCommentsTestsTab","reportCommentsTestsTab","SelectedTest","ruleEngineLayout","ruleEngineLayoutObject","groupRuleObject","List","push","stestname","JSON","stringify","displayName","info","openmodalsavePopup","onOutcomeChange","comboData","index","writtenRules","activeTabIndex","boolean","y","selectedTestRemove","outComeTestsRemoveFromRules","addTest","tabName","rulesOption","testInitiateTestCombo","testCommentsTestCombo","testRepeatTestCombo","testenforceTestCombo","filter","selectedTestTempArray","duplicatePresent","onRuleChange","fieldName","groupIndex","clearSelectedRule","nparametertypecode","onRuleInputChange","onRuleNumericInputOnChange","onMasterDataChange","isResultorOrderType","optionsByRule","DiagnosticCaseList","GradeList","addRule","viewColumnListByRule","arrayLength","viewColumnList","databaseviewList","paneSizeChange","d","splitChangeWidthPercentage","addComments","selectedParameterRulesEngine","testparameter","addModalSite","onGradeEvent","parameterResults","parameter","sresult","selectedResultGrade","ngradecode","parseFloat","parseInt","nroundingdigits","trim","onInputSwitchOnChange","enablePropertyPopup","enableAutoClick","addParameter","isServiceNeed","deletetestparameter","deleteparameter","test","parameters","tempparameters","param","removeIndex","splice","modalsaveClick","needoutsource","testInitiateTestsTemp","testCommentsTestsTemp","reportCommentsTestsTemp","testInitiateSiteTemp","testInitiateTestOptions","testCommentsTestOptions","reportCommentsTestOptions","testInitiateTestdeletedOptions","testCommentsTestdeletedOptions","reportCommentsTestdeletedOptions","npkAtestparametercode","npkBtestparametercode","npkCtestparametercode","npkDtestparametercode","isduplicate","Math","max","object","selectedntestgrouptestcode","slNo","resultData","salertmessage","FIO","GradeValues","concat","npKAsampletestcommentscode","nslno","ncommentsubtypecode","scommentsubtype","stestsynonym","ncommenttypecode","scommenttype","nsampletestcommentscode","spredefinedname","scomments","sdescription","stestparametersynonym","commentsArrayIndex","siteseqnumber","isalreadyExist","nfromsitecode","ntositecode","npksitecode","sfromsitename","stositename","deletModalSite","inputparam","row","temparray","testRepeat","deleteModalTest","testRepeatTestsTab","testenforceTestsTab","testParameter","testParameterComments","onmodalComboChange","isneedsgeneralcomments","getSpecificationTestGroupRulesEngine","getComponentTestGroupRulesEngine","onResultInputChange","sfinal","sresultpredefinedname","sresultcomment","sgradename","acceptedFile","ncalculatedresult","ntestgrouptestpredefcode","spredefinedsynonym","spredefinedcomments","nneedresultentryalert","nneedsubcodedresult","ATTACHMENT","getOutcomeDetails","testParameterreportComments","showParameterGrid","childListMap1","childListMap3","keylst","viewOutcome","forEach","openflowview","handlePageChangeRuleEngine","skipRulesEngine","takeRulesEngine","addGroup","selectFields","addRuleList","addAggregateList","addOrderbyList","closePortalModal","openPortalModal","count","changePropertyView","status","activeTabId","activeTestTab","window","innerWidth","testEnforceTests","deleteRule","deleteOutcome","addOutcomeList","clearRule","sviewname","sqlQuery","resetRule","onSymbolChange","oldSelectedRecord","onInputChange","list","dynamicList","onConditionClick","isgroup","changePropertyViewClose","onFilterComboChange","sampletype","productcategory","product","project","TestGroupSpecSampleType","testGroupInputData","testGroupSpecSampleType","genericLabel","slanguagetypecode","SelectedComponent","testcategory","nallottedspeccode","nprojecttypecode","projecttype","handleDateChange","dateName","dateValue","Date","onNumericInputChange","onSaveClick","saveType","formRef","onSaveTree","onSaveSpecification","onSaveComponent","onSaveCopySpecification","onSaveTest","onSaveSpecFile","testArray","ntestcode","changeList","isSingleSelect","testgrouptestfile","testGroupFile","ntestfilecode","nattachmenttypecode","ssystemfilename","dcreateddate","nfilesize","sfilename","nstatus","ACTIVE","nsectioncode","nmethodcode","ninstrumentcatcode","ncontainertypecode","ncost","nsorter","nspecsampletypecode","nrepeatcountno","ActiveKey","TreetempTranstestGroup","tempArray","treeTemplateManip","temp","testGroupSpec","napproveconfversioncode","sversion","ncomponentrequired","sspecname","dexpirydate","ntzexpirydate","stzexpirydate","selectedspecification","ncomponentcode","genericlabel","acceptedFiles","isFileEdited","specFileArray","selectedSpecification","specFile","nspecfilecode","formData","FormData","FTP","Array","isArray","file","tempData","assign","splittedFileName","split","fileExtension","uniquefilename","size","append","slinkfilename","slinkdescription","sformname","smodulename","slanguagename","isFileupload","deleteSpecRecord","componentDataState","deleteMultipleRecord","onDropSpecFile","attachedFiles","maxSize","actionType","deleteAttachment","validateTestGroupComplete","inputValue","post","then","response","inactiveTestArray","indexOf","completeSpecification","catch","error","message","retireSpec","approvalRoleActionDetail","retireSpecId","specificationReport","sprimarykeyname","ncontrolcode","nregtypecode","nregsubtypecode","nreportmodulecode","nreporttypecode","CONTROLBASED","nreportdecisiontypecode","certificatetypecode","selectedComponent","testGroupTest","TestGroupTest","approveSpecification","needEsign","onComboChange","schecklistversionname","validateEsign","sreason","nreasoncode","spredefinedreason","password","group","field","showTest","fixefScrollHeight","outerHeight","initialVerticalWidth","testView","paneHeight","componentBreadcrumbs","breadCrumbData","createRef","specSubField","VALUE","COLOUR","myRef","parentHeight","height","clientHeight","console","log","TestGroupSpecification","OpenNodes","FocusKey","searchedData","TestGroupTestParameter","AgaramTree","testGroupTestData","getComponent","addSpecParam","editSpecParam","specDeleteParam","addSpecId","has","get","addTreeId","editTreeId","deleteTreeId","editSpecId","deleteSpecId","addComponentId","deleteComponentId","addTestId","deleteTestId","editTestId","viewFileId","deleteTree","getTest","filterParam","filterParamRulesEngine","specMandatoryFields","compMandatoryFields","editTestMandatoryFields","addTestMandatoryFields","mandatory","splitNode","treeNodeNames","nodeItem","TreeTemplateManipulation","treeItem","scomponentname","specDesign","display","marginTop","float","marginRight","showSpecAndTestInfo1","ApprovalRoleActionDetail","testDesign","position","right","top","showSpecAndTestInfo","setting","needConditionalIcon","conditionalIconFunction","paramDesign","isrulesenginerequired","openChildModal","parameterData","selectedsubcodedresult","selectsubcodedelete","testGroupCheckList","openTemplateModal","materialType","materialCategoryList","materialList","masterdata","approveVersion","mainDesign","showModalBg","sampleType","treeVersionTemplate","productCategory","projectType","needActionStrip","e","spec","nmaterialtypecode","IQCSTANDARDMATERIALTYPE","showAlertForPredefined","additionalInfoView","onlyAlertMsgAvailable","showMultiSelectCombo","testgrouptestpredefsubresultOptions","findMandatoryFields","treeMandatoryFields","timeZoneList","selectedsubcoderesult","linkMaster","editFiles","slabelname","ruleflowobject","ProductCategoryList","databaseTableList","tableColumnList","TestGroupSpecificationList","ComponentList","foreignTableList","foreignTableColumnList","foreignTableCount","switchRecord","gridColumnList","queryType","SelectedProductCategory","siteList","resultTypeList","propertyPopupWidth","sectionDataState","testcomments","reportcomments","CommentType","CommentSubType","predefcomments","testGroupTestParameterRulesEngine","PredefinedValues","mandyFields","LINK","finalMandyFields","updateSpiltterLayout","labelColor","labelBGColor","borderColor","groupListJoins","children","parent","grandparent","groupobject","rulesList","rule","notarray","parentjoins","srulename","fieldArray","ntestgrouprulesenginecode","current","disableSplit","setTimeout","previousProps","previousState","isStateChanged","sampleTypeMap","ProductCategory","productCatMap","Product","productMap","ProjectTypeList","projectTypeMap","ProjectMasterList","projectMasterMap","TreeVersionTemplate","templateMap","nformCode","generateBreadCrumData","masterStatus","errorCode","mapStateToProps"],"mappings":"umCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAgC,OAAhC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,YAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,MAAzB,CAAiCC,GAAjC,KAA4C,iBAA5C,CACA,MAAOC,CAAAA,gBAAP,KAA6B,yBAA7B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,WAAT,CAAsBC,MAAtB,CAA8BC,MAA9B,KAA4C,mCAA5C,CACA,MAAO,6CAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,OAASC,KAAT,CAAgBC,UAAhB,KAAkC,qCAAlC,CACA;AACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gDAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,gBAApB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,OACIC,WADJ,CACiBC,UADjB,CAC6BC,eAD7B,CAC8CC,UAD9C,CAC0DC,QAD1D,CACoEC,mBADpE,CACyFC,kBADzF,CAEIC,uBAFJ,CAE6BC,WAF7B,CAE0CC,gBAF1C,CAE4DC,gBAF5D,CAE8EC,YAF9E,CAE4FC,kBAF5F,CAGIC,gBAHJ,CAGsBC,iBAHtB,CAGyCC,qBAHzC,CAGgEC,sBAHhE,CAGwFC,WAHxF,CAIIC,YAJJ,CAIkBC,uBAJlB,CAI2CC,uBAJ3C,CAIoEC,oBAJpE,CAI0FC,gBAJ1F,CAKIC,cALJ,CAKoBC,sBALpB,CAK4CC,4BAL5C,CAK0EC,qBAL1E,CAKiGC,mBALjG,CAKsHC,mBALtH,CAK2IC,sBAL3I,CAMIC,oCANJ,CAM0CC,gCAN1C,CAM4EC,oBAN5E,CAMkGC,0BANlG,CAM8HC,sBAN9H,CAMsJC,0BANtJ,CAOIC,2BAPJ,CAOiCC,+BAPjC,CAOiEC,sBAPjE,CAOyFC,uBAPzF,CAOiHC,uBAPjH,CAOyIC,kBAPzI,CAO4JC,kBAP5J,CAO+KC,4BAP/K,KAQO,eARP,CASA,OAASC,mBAAT,CAA8BC,eAA9B,CAA+CC,WAA/C,CAA4DC,wBAA5D,CAAsFC,4BAAtF,CAAoHC,aAApH,CAAmIC,oBAAnI,CAAyJC,SAAzJ,CAAoKC,QAApK,CAA8KC,mBAA9K,KAAyM,+BAAzM,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,yBAAP,KAAsC,6BAAtC,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,iBAAT,CAA4BC,UAA5B,CAAwCC,cAAxC,CAAwDC,QAAxD,CAAkEC,gBAAlE,CACG;AACA;AACCC,aAHJ,CAGkBC,UAHlB,CAG6BC,YAH7B,CAG4CC,KAH5C,KAGwD,8BAHxD,CAIA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wBAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,oDAAtB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,wCAAjC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,4CAArC,CACA,MAAOC,CAAAA,YAAP,KAAyB,0DAAzB,CACA;AACA,MAAOC,CAAAA,SAAP,KAAsB,kDAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,0DAA3B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uCAAhC,CAEA,OACIC,cADJ,CACoBC,aADpB,CACmCC,eADnC,CACoDC,uBADpD,CAC6EC,mBAD7E,CAEIC,iBAFJ,CAEuBC,kBAFvB,KAGO,mBAHP,CAKA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,YAAT,CAAuBC,SAAvB,KAAwC,6BAAxC,CACA,MAAO,2CAAP,CACA,OAASC,WAAT,KAA4B,sCAA5B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,6BAAP,KAA0C,gDAA1C,CACA;AACA,MAAOC,CAAAA,mBAAP,KAAgC,qDAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,gBAAT,CAA2BC,YAA3B,KAA+C,8CAA/C,CACA,MAAOC,CAAAA,6BAAP,KAA0C,sDAA1C,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,C,GAGMC,CAAAA,S,sGAEF,mBAAYC,MAAZ,CAAmB,qDACf,uBAAMA,MAAN,EADe,MAkDnBC,UAlDmB,CAkDN,UAAM,CAEf,GAAMC,CAAAA,UAAU,CAAG,MAAKF,KAAL,CAAWG,KAAX,CAAiBD,UAAjB,EAA+B,MAAKE,KAAL,CAAWF,UAA7D,CACA,GAAIA,UAAU,CAACG,eAAX,GAA+BC,SAAnC,CAA8C,CAC1C/H,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,IAAIR,UAAU,CAACS,eAAX,GAA+B,EAAnC,CAAuC,CACxC,GAAIT,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACwD,eAA3D,CAA4E,CACxEvI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,iCAAN,CAA9B,CAAX,EACH,CAFD,IAEO,IAAIR,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACyD,kBAA3D,CAA+E,CAClFxI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oCAAN,CAA9B,CAAX,EACH,CAFM,IAEA,IAAIR,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAAC0D,gBAA3D,CAA6E,CAChFzI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,kCAAN,CAA9B,CAAX,EACH,CAFM,IAEA,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CACJ,CAVI,IAWA,IAAIR,UAAU,CAACe,YAAX,GAA4B,EAA5B,EAAmCf,UAAU,CAACS,eAAX,CAA2BC,IAA3B,CAAgCM,kBAAhC,GAAuD/D,iBAAiB,CAACgE,EAAhH,CAAqH,CACtH,GAAIjB,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACwD,eAAvD,EAA0EZ,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCQ,0BAAhC,GAA+DjE,iBAAiB,CAACgE,EAA/J,CAAoK,CAChK5I,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CAFD,IAEO,IAAIR,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACyD,kBAA3D,CAA+E,CAClFxI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4BAAN,CAA9B,CAAX,EACH,CAFM,IAEA,IAAIR,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAAC0D,gBAA3D,CAA6E,CAChFzI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CAFM,IAEA,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CACJ,CAVI,IAUE,IAAIR,UAAU,CAACmB,oBAAX,GAAoC,EAAxC,CAA4C,CAC/C9I,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qCAAN,CAA9B,CAAX,EACH,CAFM,IAGF,CACD,GAAMY,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEPpB,eAAe,CAAEH,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgC,iBAAhC,CAFV,CAGPD,eAAe,CAAET,UAAU,CAACS,eAAX,CAA2BC,IAA3B,CAAgC,iBAAhC,CAHV,CAIV;AACGK,YAAY,CAAEf,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCQ,0BAAhC,EAA8DjE,iBAAiB,CAACuE,GAAhF,CAAsF,CAAC,CAAvF,CACdxB,UAAU,CAACS,eAAX,CAA2BC,IAA3B,CAAgCM,kBAAhC,GAAuD/D,iBAAiB,CAACuE,GAAzE,CAA+E,CAAC,CAAhF,CAAoFxB,UAAU,CAACe,YAAX,CAA0Bf,UAAU,CAACe,YAAX,CAAwBU,KAAlD,CAA0D,CAAC,CANxI,CAOPN,oBAAoB,CAAEnB,UAAU,CAACmB,oBAAX,CAAgCT,IAAhC,CAAqC,sBAArC,CAPf,CAQPgB,kBAAkB,CAAE1B,UAAU,CAAC0B,kBAAX,GAAkCtB,SAAlC,CAA8CJ,UAAU,CAAC0B,kBAAX,CAA8BhB,IAA9B,CAAmC,oBAAnC,CAA9C,CAAuG,CAAC,CARrH,CASPV,UAAU,CAAVA,UAAW;AATJ,CADI,CAYf2B,gBAAgB,CAAE,MAAKzB,KAAL,CAAWyB,gBAZd,CAAnB,CAeA,MAAK7B,KAAL,CAAWpG,eAAX,CAA2B0H,UAA3B,CAAuC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAxD,CAAoE,MAAKC,SAAzE,EACH,CACJ,CAlGkB,OA2kCnBC,aA3kCmB,CA2kCH,SAACC,GAAD,CAAS,CACrB,MAAKC,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAKnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAK0B,YAAL,CAAkBH,GAAlB,CAAN,EAFJ,EAGH,CA/kCkB,OAilCnBI,gBAjlCmB,CAilCA,SAACC,KAAD,CAAW,CAC1B,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAEF,KAAK,CAACG,IADN,CAEVC,QAAQ,CAAEJ,KAAK,CAACK,IAFN,CAAd,EAIH,CAtlCkB,OA+mCnBC,YA/mCmB,CA+mCJ,SAAC5C,KAAD,CAAW,CACtB,GAAM6C,CAAAA,SAAS,CAAG,CACdC,SAAS,CAAE,MADG,CAEdC,SAAS,CAAE,mBAFG,CAGdC,QAAQ,CAAE,WAHI,CAIdzB,SAAS,CAAE,CACP0B,kBAAkB,CAAEjD,KAAK,CAACkD,YAAN,CAAqBlD,KAAK,CAACkD,YAAN,CAAmBD,kBAAxC,CAA6D,CAD1E,CAEPzB,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAFpB,CAGP0B,sBAAsB,CAAE,MAAKnD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAH7C,CAIPC,kBAAkB,CAAErD,KAAK,CAACkD,YAAN,CAAqBlD,KAAK,CAACkD,YAAN,CAAmBG,kBAAxC,CAA6D,CAJ1E,CAJG,CAAlB,CAWA,MAAKrD,KAAL,CAAW/E,cAAX,CAA0B4H,SAA1B,EACH,CA5nCkB,OA8nCnBS,YA9nCmB,CA8nCJ,SAACC,MAAD,CAAY,CACvB,GAAIA,MAAM,CAACN,kBAAP,CAA4B,CAA5B,EAAiCM,MAAM,CAACC,SAAP,GAAqBrG,iBAAiB,CAACsG,EAA5E,CAAgF,CAC5E,MAAO,KAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CACJ,CApoCkB,OAsoCnBC,YAtoCmB,CAsoCJ,SAACH,MAAD,CAAY,CACvB,GAAIA,MAAM,CAACN,kBAAP,CAA4B,CAA5B,EAAiCM,MAAM,CAACC,SAAP,GAAqBrG,iBAAiB,CAACsG,EAA5E,CAAgF,CAC5E,MAAO,KAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CACJ,CA5oCkB,OAypCnBE,cAzpCmB,CAypCF,UAAM,CACnB,GAAMC,CAAAA,cAAc,CAAG,MAAKxD,KAAL,CAAWwD,cAAlC,CACA,GAAIA,cAAc,CAACvD,eAAf,GAAmCC,SAAvC,CAAkD,CAC9C/H,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4BAAN,CAA9B,CAAX,EACH,CAFD,IAEO,IAAIkD,cAAc,CAACjD,eAAf,GAAmC,EAAvC,CAA2C,CAC9C,GAAIiD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAACwD,eAA/D,CAAgF,CAC5EvI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,iCAAN,CAA9B,CAAX,EACH,CAFD,IAEO,IAAIkD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAACyD,kBAA/D,CAAmF,CACtFxI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oCAAN,CAA9B,CAAX,EACH,CAFM,IAEA,IAAIkD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAAC0D,gBAA/D,CAAiF,CACpFzI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,kCAAN,CAA9B,CAAX,EACH,CAFM,IAEA,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CACJ,CACD;AAXO,IAYF,IAAKkD,cAAc,CAACjD,eAAf,CAA+BC,IAA/B,CAAoCM,kBAApC,GAA2D/D,iBAAiB,CAACgE,EAA7E,EAAmFyC,cAAc,CAAC3C,YAAf,GAAgC,EAAnH,EACV2C,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCQ,0BAApC,GAAmEjE,iBAAiB,CAACgE,EAD5E,EAEJyC,cAAc,CAACjD,eAAf,CAA+BC,IAA/B,CAAoCM,kBAApC,GAA2D/D,iBAAiB,CAACgE,EAA7E,EAAmFyC,cAAc,CAAC3C,YAAf,GAAgCX,SAAnH,EACGsD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCQ,0BAApC,GAAmEjE,iBAAiB,CAACgE,EAHxF,CAG8F,CAE3F,GAAIyC,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAACwD,eAA3D,EAA8E8C,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCQ,0BAApC,GAAmEjE,iBAAiB,CAACgE,EAAvK,CAA4K,CAC5K5I,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CAFG,IAEG,IAAIkD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAACyD,kBAA/D,CAAmF,CACtFxI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4BAAN,CAA9B,CAAX,EACH,CAFM,IAEA,IAAIkD,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCC,SAApC,GAAkDvD,QAAQ,CAAC0D,gBAA/D,CAAiF,CACpFzI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CAFM,IAEA,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CACJ,CACD;AAfK,IAgBA,IAAIkD,cAAc,CAACvC,oBAAf,GAAwC,EAA5C,CAAgD,CACjD9I,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,qCAAN,CAA9B,CAAX,EACH,CAFI,IAEE,CACH,GAAMY,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEPpB,eAAe,CAAEuD,cAAc,CAACvD,eAAf,CAA+BsB,KAFzC,CAGPhB,eAAe,CAAEiD,cAAc,CAACjD,eAAf,CAA+BgB,KAHzC,CAIPV,YAAY,CAAE2C,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCQ,0BAApC,GAAmEjE,iBAAiB,CAACuE,GAArF,CAA2F,CAAC,CAA5F,CAEdkC,cAAc,CAACjD,eAAf,CAA+BC,IAA/B,CAAoCM,kBAApC,GAA2D/D,iBAAiB,CAACuE,GAA7E,CAAmF,CAAC,CAApF,CAAwFkC,cAAc,CAAC3C,YAAf,CAA8B2C,cAAc,CAAC3C,YAAf,CAA4BU,KAA1D,CAAkE,CAAC,CANpJ,CAOPN,oBAAoB,CAAEuC,cAAc,CAACvC,oBAAf,CAAoCM,KAPnD,CAQPC,kBAAkB,CAAEgC,cAAc,CAACvD,eAAf,CAA+BsB,KAA/B,GAAyClE,UAAU,CAACoG,iBAApD,CAAyED,cAAc,CAACvD,eAAf,CAA+BO,IAA/B,CAAoCkD,oBAApC,GAA4D3G,iBAAiB,CAACuE,GAA9E,CAAoFkC,cAAc,CAAChC,kBAAf,CAAkCD,KAAtH,CAA6H,CAAC,CAAvM,CAA2M,CAAC,CARzN,CASPzB,UAAU,kBAAO0D,cAAP,CATH,CADI,CAYf/B,gBAAgB,CAAE,MAAKzB,KAAL,CAAWyB,gBAZd,CAAnB,CAcA,MAAK7B,KAAL,CAAWpG,eAAX,CAA2B0H,UAA3B,CAAuC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAxD,CAAoE,MAAKC,SAAzE,EACH,CACJ,CA5sCkB,OA8sCnBgC,WA9sCmB,CA8sCL,SAACzB,KAAD,CAAW,CACrB,GAAMhB,CAAAA,UAAU,CAAG,CACfyB,SAAS,CAAE,wBADI,CAEfiB,UAAU,CAAE,mBAFG,CAGflB,SAAS,CAAE,KAHI,CAIfmB,OAAO,CAAE,0BAJM,CAKfzC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QALZ,CAMfyC,cAAc,CAAE5B,KAAK,CAAC1B,IANP,CAOfuD,SAAS,CAAE7B,KAAK,CAAC8B,GAPF,CAQfC,QAAQ,CAAE/B,KAAK,CAAC8B,GARD,CASfE,UAAU,CAAEhC,KAAK,CAACgC,UATH,CAUfzC,gBAAgB,CAAE,MAAKzB,KAAL,CAAWyB,gBAVd,CAAnB,CAYA,MAAK7B,KAAL,CAAW5F,gBAAX,CAA4BkH,UAA5B,CAAwC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAzD,CAAqE,MAAKC,SAA1E,EACH,CA5tCkB,OA8tCnBwC,SA9tCmB,CA8tCP,UAAM,CACd,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,GAAJ,EAAf,CACAD,MAAM,CAACE,GAAP,CAAW,UAAX,cACI,oBAAC,iBAAD,EACI,UAAU,CAAE,MAAKtE,KAAL,CAAWuE,UAD3B,CAEI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBAFtC,CAGI,QAAQ,CAAE,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAH/B,CAII,UAAU,CAAE,MAAKzB,KAAL,CAAWG,KAAX,CAAiBmB,UAJjC,CAKI,YAAY,CAAE,MAAKc,YALvB,CAMI,iBAAiB,CAAE,MAAKpC,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B5D,iBAA5B,EAAiD,EANxE,CAOI,qBAAqB,CAAE,MAAK8B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAPvD,CAQI,WAAW,CAAE,MAAKyB,OARtB,CASI,YAAY,CAAE,MAAK7E,KAAL,CAAWpF,YAT7B,CAUI,UAAU,CAAE,MAAKwF,KAAL,CAAWF,UAV3B,CAWI,YAAY,CAAE,MAAK0C,YAXvB,CAYI,aAAa,CAAE,MAAKkC,aAZxB,CAaI,UAAU,CAAC,UAbf,CAcI,cAAc,CAAE,MAAK9E,KAAL,CAAW/E,cAd/B,CAeI,QAAQ,CAAE,MAAK+E,KAAL,CAAWG,KAAX,CAAiB4E,QAf/B,CAgBI,UAAU,CAAE,MAAK/E,KAAL,CAAWG,KAAX,CAAiB2B,UAhBjC,EADJ,EAmBA0C,MAAM,CAACE,GAAP,CAAW,0BAAX,cACI,oBAAC,oBAAD,EACI,IAAI,CAAE,MAAK1E,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkD,6BADtC,CAEI,UAAU,CAAE3L,OAAO,CAAC,MAAK2G,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkD,6BAA5B,EAA6D,EAA9D,CAAkE,MAAK5E,KAAL,CAAWyB,gBAA7E,CAFvB,CAGI,SAAS,CAAE,MAAKzB,KAAL,CAAWyB,gBAH1B,CAII,eAAe,CAAE,MAAKoD,sBAEtB;AACA;AAPJ,CAQI,UAAU,CAAE,MAAK7E,KAAL,CAAWuE,UAR3B,CASI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBATtC,CAUI,QAAQ,CAAE,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAV/B,CAWI,UAAU,CAAE,MAAKzB,KAAL,CAAWG,KAAX,CAAiBmB,UAXjC,CAYI,UAAU,CAAC,0BAZf,EADJ,EAeA,MAAOkD,CAAAA,MAAP,CACH,CAnwCkB,OAqwCnBS,sBArwCmB,CAqwCM,SAAC3C,KAAD,CAAW,CAChC,MAAKC,QAAL,CAAc,CACV2C,UAAU,CAAE7L,OAAO,CAAC,MAAK2G,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkD,6BAA5B,EAA6D,EAA9D,CAAkE1C,KAAK,CAAC6C,SAAxE,CADT,CAEVtD,gBAAgB,CAAES,KAAK,CAAC6C,SAFd,CAAd,EAIH,CA1wCkB,OA2wCnBC,mBA3wCmB,CA2wCG,SAAC9C,KAAD,CAAW,CAC7B,MAAKC,QAAL,CAAc,CACV2C,UAAU,CAAE7L,OAAO,CAAC,MAAK2G,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuD,yBAA5B,EAAyD,EAA1D,CAA8D/C,KAAK,CAAC6C,SAApE,CADT,CAEVG,qBAAqB,CAAEhD,KAAK,CAAC6C,SAFnB,CAAd,EAIH,CAhxCkB,OAixCnBN,OAjxCmB,CAixCT,SAACpD,QAAD,CAAWqB,SAAX,CAAsByC,YAAtB,CAAoCvB,UAApC,CAAgDwB,SAAhD,CAA2DC,KAA3D,CAAqE,CAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAM3D,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAM4D,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8B9D,UAAU,CAAC+D,YAAX,CAAwB,sBAAxB,CAAlC,EAD4B,CAAjC,CAGA,GAAMC,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAMyC,CAAAA,sBAAsB,CAAG,MAAKnD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAA3D,CACA,GAAID,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAAC+I,KAA7D,EACG/C,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAACgJ,UADpE,CACgF,CAC5E,MAAKnG,KAAL,CAAWrF,WAAX,CAAuB8G,QAAvB,CAAiCqB,SAAjC,CAA4CyC,YAA5C,CAA0DvB,UAA1D,CAAsEwB,SAAtE,EACH,CAHD,IAGO,CACHjN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CA3yCkB,OA6yCnB0F,WA7yCmB,CA6yCL,SAACC,QAAD,CAAc,CACxB,GAAMrC,CAAAA,UAAU,CAAGqC,QAAQ,CAACrC,UAA5B,CACA,GAAMsC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAExC,UAAU,CAAVA,UAAF,CAFS,CAAnB,CAIA,MAAKhE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CApzCkB,OAszCnBG,iBAtzCmB,CAszCC,SAACnE,KAAD,CAAW,CAC3B,GAAIR,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAlC,CACAA,UAAU,CAAC,mBAAD,CAAV,CAAkCQ,KAAK,CAACoE,uBAAN,CAA8B,CAA9B,CAAlC,CACA,GAAMpF,CAAAA,UAAU,CAAG,CACfoF,uBAAuB,CAAEpE,KAAK,CAACoE,uBAAN,CAA8B,CAA9B,CADV,CAEfjF,QAAQ,CAAE,MAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAFZ,CAAnB,CAIA,MAAKzB,KAAL,CAAW7E,4BAAX,CAAwCmG,UAAxC,CAAoDQ,UAApD,CAAgE,MAAKC,SAArE,EACH,CA9zCkB,OAg0CnB4E,UAh0CmB,CAg0CN,SAACC,WAAD,CAAiB,CAC1B,GAAM9E,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAM4D,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8B9D,UAAU,CAAC+D,YAAX,CAAwB,sBAAxB,CAAlC,EAD4B,CAAjC,CAGA,GAAMC,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAMyC,CAAAA,sBAAsB,CAAGrB,UAAU,CAACsB,qBAA1C,CACA,GAAID,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAAC+I,KAA7D,EACG/C,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAACgJ,UADpE,CACgF,CAC5E,GAAMU,CAAAA,aAAa,CAAGD,WAAW,CAAC5G,KAAZ,CAAkB6G,aAAxC,CACA,GAAMvF,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPsF,aAAa,CAAbA,aADO,CAEPrF,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAFpB,CAGP0B,sBAAsB,CAAtBA,sBAHO,CAIP9B,oBAAoB,CAAEuF,WAAW,CAAC1G,UAAZ,CAAuBmB,oBAAvB,CAA4CM,KAJ3D,CADI,CAOfqB,QAAQ,CAAE,WAPK,CAQfF,SAAS,CAAE,QARI,CASfC,SAAS,CAAE,MATI,CAUfiB,UAAU,CAAE,UAVG,CAWf8C,SAAS,CAAE,CACPC,aAAa,CAAE,eADR,CACyBC,cAAc,CAAE,cADzC,CACyDC,eAAe,CAAE,oBAD1E,CAEPC,eAAe,CAAEL,aAAa,CAACxD,kBAFxB,CAGP8D,QAAQ,CAAE,4BAHH,CAGiCC,gBAAgB,CAAE,CAAE5F,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAA7B,CAHnD,CAIPK,UAAU,CAAVA,UAJO,CAIKjD,eAAe,CAAfA,eAJL,CAIsBwI,YAAY,CAAE,CAAC,wBAAD,CAA2B,uBAA3B,CACvC,YADuC,CACzB,qBADyB,CACF,iBADE,CACiB,cADjB,CACiC,SADjC,CAEvC,YAFuC,CAEzB,WAFyB,CAEZ,cAFY,CAEI,UAFJ,CAEgB,WAFhB,CAE6B,mBAF7B,CAEkD,yBAFlD,CAE4E;AANhH,CAXI,CAAnB,CAqBA,GAAIxK,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E+F,WAAW,CAACrB,YAA1F,CAAb,CAAsH,CAClH,GAAMe,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,UAAd,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAE,UAF3B,CAEuClB,SAAS,CAAE,QAFlD,CAE4DoB,cAAc,CAAE,EAF5E,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkCQ,UAAlC,CAA8C,WAA9C,CAA2D,EAA3D,EACH,CACJ,CApCD,IAoCO,CACHvJ,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CAn3CkB,OAq3CnB+G,UAr3CmB,CAq3CN,UAAM,CACf,GAAIH,CAAAA,SAAS,CAAG,MAAKtH,KAAL,CAAWG,KAAX,CAAiBmH,SAAjC,CACA,GAAIE,CAAAA,SAAS,CAAG,MAAKxH,KAAL,CAAWG,KAAX,CAAiBqH,SAAjC,CACA,GAAItD,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAtC,CACA,GAAIoD,SAAJ,CAAe,CACX,GAAI,MAAKtH,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,EAA2C,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,SAA1E,EACG,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,SADlC,EAC+C,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,UADlF,CAC8F,CAC1FwE,SAAS,CAAG,KAAZ,CACAE,SAAS,CAAG,KAAZ,CACAtD,cAAc,CAAG,EAAjB,CACH,CALD,IAKO,CACHoD,SAAS,CAAG,KAAZ,CACApD,cAAc,CAAC,OAAD,CAAd,CAA0B,CAA1B,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,aAAD,CAAd,CAAgC,EAAhC,CAEH,CACJ,CAdD,IAcO,CACHsD,SAAS,CAAG,KAAZ,CACAtD,cAAc,CAAG,EAAjB,CACH,CACD,GAAMoC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAEgB,SAAS,CAATA,SAAF,CAAaF,SAAS,CAATA,SAAb,CAAwBpD,cAAc,CAAdA,cAAxB,CAFS,CAAnB,CAIA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAh5CkB,OAk5CnBoB,eAl5CmB,CAk5CD,SAACpF,KAAD,CAAQqF,MAAR,CAAgBC,QAAhB,CAA6B,CAC3C,GAAM1D,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAApD,CACA,OAAQyD,MAAR,EACI,IAAK,EAAL,CACI,GAAIrF,KAAK,CAACuF,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC5D,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgCJ,QAAQ,CAAC,CAAD,CAAxC,CAA8CA,QAAQ,CAAC,CAAD,CAA1F,CACH,CAFD,IAEO,IAAItF,KAAK,CAACuF,MAAN,CAAaC,IAAb,GAAsB,OAA1B,CAAmC,CACtC5D,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCH,QAApC,CACA;AACH,CAHM,IAGA,CACH1D,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAalG,KAAjD,CACH,CACD,MAAKY,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACA,MAEJ,IAAK,EAAL,CACIA,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAalG,KAAjD,CAEA,GAAMsG,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAYP,QAAZ,EAAsB,CAAtB,CAAjB,CACA,GAAMjG,CAAAA,KAAK,CAAGuG,MAAM,CAACE,MAAP,CAAcR,QAAd,EAAwB,CAAxB,CAAd,CACA,GAAMS,CAAAA,QAAQ,CAAG,CACbhH,oBAAoB,CAAEM,KAAK,CAACN,oBADf,CAEbiH,aAAa,CAAE3G,KAAK,CAAC4G,QAAN,CAAiB,CAFnB,CAGbC,iBAAiB,CAAElG,KAAK,CAACuF,MAAN,CAAalG,KAHnB,CAIb8G,uBAAuB,CAAE9G,KAAK,CAAC8G,uBAJlB,CAKb5H,SAAS,CAAE,EALE,CAMb6H,UAAU,CAAE,EANC,CAObC,cAAc,CAAEhH,KAAK,CAAC+G,UAAN,GAAqB,IAArB,CAA4B/G,KAAK,CAAC+G,UAAlC,CAA+C,CAAC,CAPnD,CAQbE,yBAAyB,CAAEjH,KAAK,CAACiH,yBARpB,CASbC,UAAU,CAAElH,KAAK,CAACiH,yBAAN,CAAkC,CAAlC,CAAsC,IAAtC,CAA6C,KAT5C,CAUbE,YAAY,CAAEnH,KAAK,CAACmH,YAVP,CAAjB,CAYA,GAAIC,CAAAA,wBAAwB,CAAG7E,cAAc,CAAC6E,wBAAf,EAA2C,EAA1E,CACAA,wBAAwB,CAACd,QAAD,CAAxB,CAAqCI,QAArC,CACAnE,cAAc,CAAC,0BAAD,CAAd,CAA6C6E,wBAA7C,CACA,MAAKxG,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACA,MAEJ,QACI,MArCR,CAuCH,CA37CkB,OA67CnB8E,oBA77CmB,CA67CI,SAAC1G,KAAD,CAAW,CAC9B,GAAM4B,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAApD,CACA,GAAI5B,KAAK,CAACuF,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC5D,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgC7K,iBAAiB,CAACuE,GAAlD,CAAwDvE,iBAAiB,CAACgE,EAA9G,CACH,CAFD,IAEO,CACH+C,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAalG,KAAjD,CACH,CACD,MAAKY,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAr8CkB,OAgnDnB+E,sBAhnDmB,CAgnDM,SAAC5C,QAAD,CAAc,CACnC,GAAIvE,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjE,CACAA,UAAU,CAAC,eAAD,CAAV,CAA8BuE,QAAQ,CAAC6C,aAAvC,CACA,GAAM5C,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAE1E,UAAU,CAAVA,UAAF,CAFS,CAAnB,CAIA,MAAK9B,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAxnDkB,OAynDnB6C,oBAznDmB,CAynDI,UAAM,CACzB,GAAIrH,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAIsH,CAAAA,UAAU,CAAG,MAAKpJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,EAAmD,MAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,CAApE,CACA,GAAM7E,CAAAA,MAAM,CAAG,GAAIC,CAAAA,GAAJ,EAAf,CACA,CACID,MAAM,CAACE,GAAP,CAAW,UAAX,cACI,oBAAC,QAAD,EACI,GAAG,CAAC,gBADR,CAEI,eAAe,CAAC,yBAFpB,CAGI,WAAW,CAAC,UAHhB,CAII,kBAAkB,CAAE,MAAK4E,kBAJ7B,CAKI,UAAU,CAAE,MAAKtJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,EACR,MAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBADpB,EAC2ChQ,OAAO,CACtDyD,QAAQ,CAAC,MAAKkD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,mBAA9D,CAAD,CAAqF,YAArF,CAAmG,uBAAnG,CAAR,EACG,EAFmD,CAGtD,MAAKjJ,KAAL,CAAWmJ,qBAAX,CACM,MAAKnJ,KAAL,CAAWmJ,qBADjB,CACyC,CAAE9G,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAJa,CANlE,CAWI,SAAS,CAAE,MAAKvC,KAAL,CAAWmJ,qBAAX,CACL,MAAKnJ,KAAL,CAAWmJ,qBADN,CAC8B,CAAE9G,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAZ7C,CAaI,eAAe,CAAE,MAAK6G,8BAb1B,CAeI,mBAAmB,CAAE,CACjB,CAAE,UAAW,cAAb,CAA6B,YAAa,cAA1C,CAA0D,QAAS,OAAnE,CADiB,CAfzB,CAkBI,UAAU,CAAE,MAAKpJ,KAAL,CAAWuE,UAlB3B,CAmBI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBAnBtC,CAoBI,QAAQ,CAAE,IApBd,CAqBI,UAAU,CAAE,YArBhB,CAsBI,gBAAgB,CAAE,KAtBtB,CAuBI,UAAU,CAAE,CAvBhB,CAwBI,WAAW,CAAE,CAAE9B,SAAS,CAAE,QAAb,CAxBjB,CAyBI,QAAQ,CAAE,IAzBd,CA0BI,iBAAiB,CAAE,uBA1BvB,CA2BI,eAAe,CAAE,CACb,CAAE,UAAW,YAAb,CAA2B,YAAa,aAAxC,CAAuD,QAAS,OAAhE,CADa,CAEb,CAAE,UAAW,cAAb,CAA6B,YAAa,eAA1C,CAA2D,QAAS,OAApE,CAFa,CA3BrB,CAgCI,SAAS,CAAE,MAAK1C,KAAL,CAAWqJ,YAhC1B,CAiCI,aAAa,CAAE,UAjCnB,CAkCI,UAAU,CAAI,OAlClB,CAmCI,gBAAgB,CAAE,IAnCtB,CAoCI,WAAW,CAAE,CAAC,CACVC,KAAK,CAAE,MAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CADG,CAEViJ,WAAW,CAAE,OAFH,CAGVC,MAAM,CAAE,KAHE,CAIVC,UAAU,CAAE,MAJF,CAKVC,OAAO,CAAE,MAAKC,aALJ,CAAD,CApCjB,EADJ,EA+CAvF,MAAM,CAACE,GAAP,CAAW,cAAX,cACA,oBAAC,QAAD,EACI,GAAG,CAAC,gBADR,CAEI,eAAe,CAAC,yBAFpB,CAGI,kBAAkB,CAAE,MAAK4E,kBAH7B,CAII,UAAU,CAAE,MAAKtJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,EAAmDhQ,OAAO,CAClEyD,QAAQ,CAAC,MAAKkD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,sBAA9D,CAAD,CAAwF,YAAxF,CAAsG,OAAtG,CAAR,EACG,EAF+D,CAGlE,MAAKjJ,KAAL,CAAW+E,SAAX,CACM,MAAK/E,KAAL,CAAW+E,SADjB,CAC6B,CAAE1C,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAJqC,CAJ1E,CASI,SAAS,CAAE,MAAKvC,KAAL,CAAW+E,SAAX,CACL,MAAK/E,KAAL,CAAW+E,SADN,CACkB,CAAE1C,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAVjC,CAWI,eAAe,CAAE,MAAKqH,eAX1B,CAYI,UAAU,CAAE,MAAK5J,KAAL,CAAWuE,UAZ3B,CAaI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBAbtC,CAcI,QAAQ,CAAE,IAdd,CAeI,UAAU,CAAE,YAfhB,CAgBI,gBAAgB,CAAE,KAhBtB,CAiBI,UAAU,CAAE,CAjBhB,CAkBI,WAAW,CAAE,CAAE9B,SAAS,CAAE,QAAb,CAlBjB,CAmBI,iBAAiB,CAAE,uBAnBvB,CAoBI,mBAAmB,CAAE,CACjB,CAAE,UAAW,iBAAb,CAAgC,YAAa,cAA7C,CAA6D,QAAS,OAAtE,CADiB,CAEjB,CAAE,UAAW,aAAb,CAA4B,YAAa,iBAAzC,CAA4D,QAAS,OAArE,CAFiB,CAGjB,CAAE,UAAW,oBAAb,CAAmC,YAAa,iBAAhD,CAAmE,QAAS,OAA5E,CAHiB,CAIjB,CAAE,UAAW,iBAAb,CAAgC,YAAa,cAA7C,CAA6D,QAAS,OAAtE,CAJiB,CAKjB,CAAE,UAAW,cAAb,CAA6B,YAAa,cAA1C,CAA0D,QAAS,OAAnE,CALiB,CApBzB,CA2BI,SAAS,CAAE,MAAK1C,KAAL,CAAW6J,aAAX,EAA4B,MAAK7J,KAAL,CAAW6J,aA3BtD,CA4BI,aAAa,CAAE,cA5BnB,CA6BI,UAAU,CAAI,OA7BlB,EADA,EAkCJzF,MAAM,CAACE,GAAP,CAAW,YAAX,cACA,oBAAC,QAAD,EACI,GAAG,CAAC,gBADR,CAEI,eAAe,CAAC,yBAFpB,CAGI,UAAU,CAAE,MAAK1E,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,EAAmDhQ,OAAO,CAClEyD,QAAQ,CAAC,MAAKkD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,oBAA9D,CAAD,CAAsF,YAAtF,CAAoG,uBAApG,CAAR,EACG,EAF+D,CAGlE,MAAKjJ,KAAL,CAAW8J,kBAAX,CACM,MAAK9J,KAAL,CAAW8J,kBADjB,CACsC,CAAEzH,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAJ4B,CAH1E,CAQI,SAAS,CAAE,MAAKvC,KAAL,CAAW8J,kBAAX,CACL,MAAK9J,KAAL,CAAW8J,kBADN,CAC2B,CAAEzH,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAT1C,CAUI,eAAe,CAAE,MAAKwH,wBAV1B,CAWI,UAAU,CAAE,MAAK/J,KAAL,CAAWuE,UAX3B,CAYI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBAZtC,CAaI,QAAQ,CAAE,IAbd,CAcI,UAAU,CAAE,YAdhB,CAeI,gBAAgB,CAAE,KAftB,CAgBI,UAAU,CAAE,CAhBhB,CAiBI,WAAW,CAAE,CAAE9B,SAAS,CAAE,QAAb,CAjBjB,CAkBI,mBAAmB,CAAE,CACjB,CAAE,UAAW,cAAb,CAA6B,YAAa,cAA1C,CAA0D,QAAS,OAAnE,CADiB,CAEjB,CAAE,UAAW,iBAAb,CAAgC,YAAa,gBAA7C,CAA+D,QAAS,OAAxE,CAFiB,CAlBzB,CAuBI,aAAa,CAAE,cAvBnB,CAwBI,UAAU,CAAI,OAxBlB,EADA,EA6BJ0B,MAAM,CAACE,GAAP,CAAW,mBAAX,cACA,oBAAC,QAAD,EACI,GAAG,CAAC,gBADR,CAEI,eAAe,CAAC,yBAFpB,CAGI,UAAU,CAAE,MAAK1E,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,EAAmDhQ,OAAO,CAClEyD,QAAQ,CAAC,MAAKkD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,qBAA9D,CAAD,CAAuF,YAAvF,CAAqG,uBAArG,CAAR,EACG,EAF+D,CAGlE,MAAKjJ,KAAL,CAAWgK,wBAAX,CACM,MAAKhK,KAAL,CAAWgK,wBADjB,CAC4C,CAAE3H,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAJsB,CAH1E,CAQI,SAAS,CAAE,MAAKvC,KAAL,CAAWgK,wBAAX,CACL,MAAKhK,KAAL,CAAWgK,wBADN,CACiC,CAAE3H,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAThD,CAUI,eAAe,CAAE,MAAKyH,wBAV1B,CAWI,UAAU,CAAE,MAAKhK,KAAL,CAAWuE,UAX3B,CAYI,qBAAqB,CAAE,MAAKvE,KAAL,CAAWwE,qBAZtC,CAaI,QAAQ,CAAE,IAbd,CAcI,UAAU,CAAE,YAdhB,CAeI,gBAAgB,CAAE,KAftB,CAgBI,UAAU,CAAE,CAhBhB,CAiBI,WAAW,CAAE,CAAE9B,SAAS,CAAE,QAAb,CAjBjB,CAkBI,mBAAmB,CAAE,CACjB,CAAE,UAAW,cAAb,CAA6B,YAAa,cAA1C,CAA0D,QAAS,OAAnE,CADiB,CAEjB,CAAE,UAAW,gBAAb,CAA+B,YAAa,mBAA5C,CAAiE,QAAS,OAA1E,CAFiB,CAGjB,CAAE,UAAW,gBAAb,CAA+B,YAAa,YAA5C,CAA0D,QAAS,OAAnE,CAHiB,CAIjB,CAAE,UAAW,aAAb,CAA4B,YAAa,gBAAzC,CAA2D,QAAS,OAApE,CAJiB,CAlBzB,CAwBI,aAAa,CAAE,cAxBnB,CAyBI,UAAU,CAAI,OAzBlB,EADA,EA8BK,CACD,MAAO0B,CAAAA,MAAP,CACH,CA5wDkB,OA6wDnBwF,eA7wDmB,CA6wDD,SAAC1H,KAAD,CAAQ+H,2BAAR,CAAwC,CACtD,GAAIC,CAAAA,eAAe,CAAG,MAAKlK,KAAL,CAAWkK,eAAX,EAA8B,EAApD,CACA,GAAID,2BAAJ,CAAiC,CAC7BC,eAAe,gCACRA,eADQ,wBAEVD,2BAFU,CAEoB/H,KAAK,CAAC6C,SAF1B,EAAf,CAIA,MAAK5C,QAAL,CAAc,CACV+H,eAAe,CAAfA,eADU,CAAd,EAGH,CARD,IASK,CACD,MAAK/H,QAAL,CAAc,CACV4C,SAAS,CAAE7C,KAAK,CAAC6C,SADP,CAAd,EAGH,CAEJ,CA9xDkB,OA+xDnBoF,yBA/xDmB,CA+xDS,SAACjI,KAAD,CAAW,CACnC,MAAKC,QAAL,CAAc,CACV;AACAiI,mBAAmB,CAAElI,KAAK,CAAC6C,SAFjB,CAAd,EAIH,CApyDkB,OAqyDnBsF,0BAryDmB,CAqyDU,SAACnI,KAAD,CAAW,CACpC,MAAKC,QAAL,CAAc,CACV;AACAmI,oBAAoB,CAAEpI,KAAK,CAAC6C,SAFlB,CAAd,EAIH,CA1yDkB,OA2yDnBqE,8BA3yDmB,CA2yDc,SAAClH,KAAD,CAAW,CACxC,MAAKC,QAAL,CAAc,CACV;AACAgH,qBAAqB,CAAEjH,KAAK,CAAC6C,SAFnB,CAAd,EAIH,CAhzDkB,OAizDnBwF,4BAjzDmB,CAizDY,SAACrI,KAAD,CAAW,CACtC,MAAKC,QAAL,CAAc,CACVoI,4BAA4B,CAAErI,KAAK,CAAC6C,SAD1B,CAAd,EAGH,CArzDkB,OAszDnBgF,wBAtzDmB,CAszDQ,SAAC7H,KAAD,CAAW,CAClC,MAAKC,QAAL,CAAc,CACV;AACA2H,kBAAkB,CAAE5H,KAAK,CAAC6C,SAFhB,CAAd,EAIH,CA3zDkB,OA4zDnBiF,wBA5zDmB,CA4zDQ,SAAC9H,KAAD,CAAW,CAClC,MAAKC,QAAL,CAAc,CACV;AACA6H,wBAAwB,CAAE9H,KAAK,CAAC6C,SAFtB,CAAd,EAIH,CAj0DkB,OAk0DnByF,mBAl0DmB,CAk0DG,SAACtI,KAAD,CAAW,CAC7B,MAAKC,QAAL,CAAc,CACVsI,cAAc,CAAExR,OAAO,CAAC,MAAK2G,KAAL,CAAWG,KAAX,CAAiB2K,aAAlB,CAAiCxI,KAAK,CAACyI,aAAvC,CADb,CAEVA,aAAa,CAAEzI,KAAK,CAACyI,aAFX,CAAd,EAIH,CAv0DkB,OAw0DnBC,iBAx0DmB,CAw0DC,SAACC,QAAD,CAAc,CAC9B,GAAG,MAAKjL,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,GAA4C,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,EAA2CoJ,MAA3C,CAAkD,CAAjG,CAAmG,CACnG,MAAKhJ,cAAL,CAAoBC,OAApB,CAA4B,eAA5B,CAA6C,MAAKnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAA7C,CAAkG,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAlG,CACI,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADJ,CACqD,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADrD,CAEI,iBAAM,OAAKyK,iBAAL,CAAuB,MAAKnL,KAAL,CAAWG,KAAX,CAAiB2B,UAAxC,CAAoDmJ,QAApD,CAA8D,WAA9D,CAAN,EAFJ,EAGC,CAJD,IAKI,CACA1S,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,wBAAN,CAA9B,CAAX,EACH,CACJ,CAj1DkB,OA85DnB0K,cA95DmB,CA85DF,UAAM,CACnB,GAAIC,CAAAA,cAAc,CAAG,MAAKrL,KAAL,CAAWG,KAAX,CAAiBkL,cAAtC,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKtL,KAAL,CAAWG,KAAX,CAAiBmL,mBAA3C,CACA,GAAIpH,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,EAAxD,CACAA,cAAc,CAAC,WAAD,CAAd,CAA8B,EAA9B,CACA,GAAIA,cAAc,CAAC,sBAAD,CAAlB,CAA2C,CACvCA,cAAc,CAAC,sBAAD,CAAd,CAAuC,EAAvC,CACH,CACDmH,cAAc,CAAG,KAAjB,CACAC,mBAAmB,CAAG,KAAtB,CACA,GAAMhF,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAE6E,cAAc,CAAdA,cAAF,CAAkBnH,cAAc,CAAdA,cAAlB,CAAiCoH,mBAAmB,CAAnBA,mBAAjC,CAFS,CAAnB,CAIA,MAAKtL,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA76DkB,OA+6DnBiF,sBA/6DmB,CA+6DK,UAAI,CACxB,GAAMrH,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAApD,CACA,GAAIsH,CAAAA,sBAAsB,CAAC,MAAKpL,KAAL,CAAWoL,sBAAX,EAAmC,CAA9D,CACA,GAAIC,CAAAA,+BAA+B,CAAC,MAAKrL,KAAL,CAAWqL,+BAAX,EAA4C,CAAhF,CACA,GAAIC,CAAAA,IAAI,CAAC,MAAKtL,KAAL,CAAW8D,cAAX,CAA0ByH,oBAA1B,CAA+CC,IAA/C,CAAoD,SAAAhG,CAAC,QAAEA,CAAAA,CAAC,CAAC,6BAAD,CAAD,GAAmC4F,sBAArC,EAArD,CAAT,CACA,GAAGE,IAAH,CAAQ,CACN,MAAKtL,KAAL,CAAW8D,cAAX,CAA0ByH,oBAA1B,CAA+CE,GAA/C,CAAmD,SAAAC,SAAS,CACxD,CACI,GAAGA,SAAS,CAAC,6BAAD,CAAT,GAA2CN,sBAA9C,CAAqE,CACjEM,SAAS,CAAC,sBAAD,CAAT,CAAkC,CAACC,2BAA2B,CAAE7H,cAAc,CAAC,6BAAD,CAA5C,CAAlC,CACA,GAAGA,cAAc,CAAC,6BAAD,CAAjB,CAAiD,CAC7C,GAAG,MAAOA,CAAAA,cAAc,CAAC,6BAAD,CAArB,GAAuD,QAA1D,CAAmE,CAC/D4H,SAAS,CAAC,gBAAD,CAAT,CAA4B5H,cAAc,CAAC,6BAAD,CAA1C,CACH,CAFD,IAEK,CACD4H,SAAS,CAAC,gBAAD,CAAT,CAA4B,EAA5B,CACAA,SAAS,CAAC,gBAAD,CAAT,CAA4B5H,cAAc,CAAC,6BAAD,CAAd,CAA8C2H,GAA9C,CAAkD,SAAAjG,CAAC,QAAEA,CAAAA,CAAC,CAACoG,KAAF,CAAQ,GAAV,EAAnD,EAAkEC,IAAlE,CAAuE,IAAvE,CAA5B,CACEH,SAAS,CAAC,gBAAD,CAAT,CAA4BA,SAAS,CAAC,gBAAD,CAAT,CAA4BI,SAA5B,CAAsC,CAAtC,CACzBJ,SAAS,CAAC,gBAAD,CAAT,CAA4BZ,MAA5B,CAAmC,CADV,CAA5B,CAEL,CACJ,CATD,IASM,CACFY,SAAS,CAAC,gBAAD,CAAT,CAA4B,EAA5B,CACAA,SAAS,CAAC,sBAAD,CAAT,EAAqC,MAAOA,CAAAA,SAAS,CAAC,sBAAD,CAArD,CACH,CACDA,SAAS,CAAC,0BAAD,CAAT,CAAsCL,+BAAtC,CACH,CACJ,CAnBL,EAqBD,CACD,GAAMnF,CAAAA,UAAU,CAAG,CACjBC,QAAQ,CAAErJ,cADO,CAEjBsJ,IAAI,CAAE,CAAEtC,cAAc,CAAEA,cAAlB,CAAiCiI,aAAa,CAAC,KAA/C,CAFW,CAAnB,CAIF,MAAKnM,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACC,CAh9DgB,OAm9DnB8F,yBAn9DmB,CAm9DS,UAAM,CAC9B,GAAID,CAAAA,aAAa,CAAG,MAAKnM,KAAL,CAAWG,KAAX,CAAiBgM,aAArC,CACA,GAAKjI,CAAAA,cAAc,CAAC,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAArC,CACA,GAAIpC,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjE,CACA;AACA;AACA;AACEoC,cAAc,CAAC,6BAAD,CAAd,EAAgD,MAAOA,CAAAA,cAAc,CAAC,6BAAD,CAArE,CACFiI,aAAa,CAAG,KAAhB,CACA,GAAM7F,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAE2F,aAAa,CAAbA,aAAF,CAAmBrK,UAAU,CAAVA,UAAnB,CAA8BoC,cAAc,CAAdA,cAA9B,CAFS,CAAnB,CAIA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAj+DkB,OAk+DnB+F,gBAl+DmB,CAk+DA,SAACnI,cAAD,CAAoB,CACnC,GAAIoI,CAAAA,SAAS,CAAGpI,cAAc,CAAC,WAAD,CAA9B,CACA,GAAIqI,CAAAA,MAAM,CAAG,IAAb,CAFmC,2BAI/B,GAAIC,CAAAA,KAAK,CAAGF,SAAS,CAACG,CAAD,CAArB,CACA,IAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,KAAK,CAACtB,MAA1B,CAAkCwB,CAAC,EAAnC,CAAuC,CACnC,GAAI1M,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIwM,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,GAA+BF,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,EAA4B/K,KAA5B,GAAsC,CAAzE,CAA4E,CACxE3B,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,qBAAhD,CAAR,CACH,CAFD,IAGK,IAAIwM,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,GAA+BF,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,EAA4B/K,KAA5B,GAAsC,CAAzE,CAA4E,CAC7E,GAAG6K,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,GAAyBF,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,EAAsB,MAAtB,EAA8B,oBAA9B,IAAwDlP,aAAa,CAACmP,UAAlG,CACA,CACI3M,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,0BAAhD,CAAR,CAEH,CAJD,IAKK,IAAGwM,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,GAAyBF,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,EAAsB,MAAtB,EAA8B,oBAA9B,IAAwDlP,aAAa,CAACoP,SAAlG,CACL,CACI5M,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,wBAAhD,CAAR,CAEH,CAJI,IAKA,IAAIwM,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,GAAyBF,KAAK,CAACE,CAAD,CAAL,CAAS,WAAT,EAAsB,MAAtB,EAA8B,oBAA9B,IAAwDlP,aAAa,CAACqP,OAAnG,CACL,CACI7M,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,2BAAhD,CAAR,CAEH,CAJI,IAML,CACI,GAAIwM,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,GAA+BF,KAAK,CAACE,CAAD,CAAL,CAAS,iBAAT,EAA4B/K,KAA5B,GAAsC,CAAzE,CAA4E,CACxE3B,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,qBAAhD,CAAR,CACH,CAFD,IAGK,CACDA,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,YAAhD,CAAR,CACH,CACJ,CACJ,CAzBI,IA0BA,CACDA,KAAK,CAAG,CAAC,WAAD,CAAc,aAAd,CAA6B,iBAA7B,CAAgD,YAAhD,CAAR,CACH,CACDuM,MAAM,CAAGvM,KAAK,CAAC8M,KAAN,CAAY,SAAAC,IAAI,QAAIP,CAAAA,KAAK,CAACE,CAAD,CAAL,CAASM,cAAT,CAAwBD,IAAxB,CAAJ,EAAhB,CAAT,CACA,GAAIR,MAAM,GAAK,KAAf,CAAsB,CAClB,MACH,CACJ,CACD,GAAIA,MAAM,GAAK,KAAf,CAAsB,CAClB,cACH,CA9C8B,EAGnC,IAAK,GAAIE,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,SAAS,CAACpB,MAA9B,CAAsCuB,CAAC,EAAvC,CAA2C,IAE9BC,CAAAA,CAF8B,oCA0CnC,MAEP,CACD,MAAOH,CAAAA,MAAP,CACH,CAnhEkB,OAohEnBU,IAphEmB,CAohEZ,UAAM,CACT,GAAI1L,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAI2L,CAAAA,UAAU,CAAG,MAAKlN,KAAL,CAAWG,KAAX,CAAiB+M,UAAjB,EAA+B,EAAhD,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKnN,KAAL,CAAWG,KAAX,CAAiBgN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKpN,KAAL,CAAWG,KAAX,CAAiBiN,mBAAjB,EAAwC,EAAlE,CACA,GAAIC,CAAAA,0BAA0B,CAAE,MAAKrN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuL,0BAA5B,EAAwD,EAAxF,CAEA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKvN,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKxN,KAAL,CAAWG,KAAX,CAAiBqN,mBAAjB,EAAwC,EAAlE,CAEA,GAAIC,CAAAA,eAAe,CAAG,MAAKzN,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,EAAoC,EAA1D,CACA,GAAIC,CAAAA,gBAAgB,CAAG,MAAK1N,KAAL,CAAWG,KAAX,CAAiBuN,gBAAjB,EAAqC,EAA5D,CACA,GAAIC,CAAAA,oBAAoB,CAAC,EAAzB,CACA,GAAIC,CAAAA,wBAAwB,CAAC,EAA7B,CAEA,GAAQ1J,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAIsI,CAAAA,KAAK,CAAG,EAAZ,CACA;AACI,GAAGc,iBAAiB,CAACpC,MAAlB,CAA2B,CAA3B,EAA8BqC,iBAAiB,CAACrC,MAAlB,CAA2B,CAAzD,EAA4DuC,eAAe,CAACvC,MAAhB,CAAyB,CAArF,EAAwFwC,gBAAgB,CAACxC,MAAjB,CAA0B,CAArH,CAAuH,CAC3H,GAAIhH,cAAc,CAAC,WAAD,CAAd,CAA4BgH,MAA5B,CAAqC,CAAzC,CAA4C,CACxC,GAAI,MAAKmB,gBAAL,CAAsBnI,cAAtB,CAAJ,CAA2C,CACvC,GAAIA,cAAc,CAAC,WAAD,CAAd,EAA+BA,cAAc,CAAC,WAAD,CAAd,GAAgC,EAA/D,EAAqE,MAAKlE,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,QAAjG,EACG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,qBAD/B,EACwD,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,uBADpF,EAEG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,aAF/B,EAEgD,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,aAF5E,EAGG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,kBAHnC,CAIE,CAEE,GAAI3J,cAAc,CAAC,WAAD,CAAlB,CAAiC,CAC7B,GAAI4J,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACAD,SAAS,CAAG5J,cAAc,CAAC,WAAD,CAA1B,CAEA6J,WAAW,CAAC,WAAD,CAAX,CAA2BD,SAA3B,CACAC,WAAW,CAAC,cAAD,CAAX,CAA8B,MAAK/N,KAAL,CAAWG,KAAX,CAAiB6N,YAA/C,CACAD,WAAW,CAAC,mBAAD,CAAX,CAAmC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,EAAsC,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAA1F,CACAS,WAAW,CAAC,mBAAD,CAAX,CAAmC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,EAAsC,MAAKvN,KAAL,CAAWG,KAAX,CAAiBoN,iBAA1F,CACAQ,WAAW,CAAC,iBAAD,CAAX,CAAiC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,EAAoC,MAAKzN,KAAL,CAAWG,KAAX,CAAiBsN,eAAtF,CACAM,WAAW,CAAC,kBAAD,CAAX,CAAkC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBuN,gBAAjB,EAAqC,MAAK1N,KAAL,CAAWG,KAAX,CAAiBuN,gBAAxF,CAEAK,WAAW,CAAC,qBAAD,CAAX,CAAqC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBqN,mBAAjB,EAAwC,MAAKxN,KAAL,CAAWG,KAAX,CAAiBqN,mBAA9F,CACAO,WAAW,CAAC,YAAD,CAAX,CAA4B,MAAK/N,KAAL,CAAWG,KAAX,CAAiB+M,UAAjB,EAA+B,MAAKlN,KAAL,CAAWG,KAAX,CAAiB+M,UAA5E,CACAa,WAAW,CAAC,mBAAD,CAAX,CAAmC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBgN,iBAAjB,EAAsC,MAAKnN,KAAL,CAAWG,KAAX,CAAiBgN,iBAA1F,CACAY,WAAW,CAAC,qBAAD,CAAX,CAAqC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBiN,mBAAjB,EAAwC,MAAKpN,KAAL,CAAWG,KAAX,CAAiBiN,mBAA9F,CACAW,WAAW,CAAC,qBAAD,CAAX,CAAqC,MAAK/N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmM,mBAA5B,EAAmD,MAAKjO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmM,mBAApH,CACAF,WAAW,CAAC,sBAAD,CAAX,CAAsC,MAAK/N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoM,oBAA5B,EAAoD,MAAKlO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoM,oBAAtH,CACAH,WAAW,CAAC,wBAAD,CAAX,CAAwC,MAAK/N,KAAL,CAAWG,KAAX,CAAiBgO,sBAAjB,EAA2C,MAAKnO,KAAL,CAAWG,KAAX,CAAiBgO,sBAApG,CACAJ,WAAW,CAAC,oBAAD,CAAX,CAAqC,MAAK/N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,oBAA5B,GAAoD,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,oBAA5B,CAAzF,CACAiM,WAAW,CAAC,qBAAD,CAAX,CAAsC,MAAK/N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,qBAA5B,GAAqD,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,qBAA5B,CAA3F,CACAiM,WAAW,CAAC,4BAAD,CAAX,CAA0CV,0BAA1C,CACA;AACAU,WAAW,CAAC,oBAAD,CAAX,CAAoC,MAAK/N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBAA7E,CACA;AACA;AACA0K,WAAW,CAAC,gBAAD,CAAX,CAAgC7J,cAAc,CAAC,gBAAD,CAAd,CAAiCA,cAAc,CAAC,gBAAD,CAA/C,CAAkE,EAAlG,CAEA,GAAImK,CAAAA,gBAAgB,CAAG,EAAvB,CACA,GAAIC,CAAAA,sBAAsB,CAAG,EAA7B,CACA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CAEAT,SAAS,CAACjC,GAAV,CAAc,SAAC2C,IAAD,QACdA,CAAAA,IAAI,CAAC3C,GAAL,CAAS,SAAAjG,CAAC,CAAE,CACR+H,oBAAoB,CAACc,IAArB,CAA0B7I,CAAC,CAAC8I,SAAF,CAAY9N,IAAZ,CAAiByC,kBAA3C,EACAuK,wBAAwB,CAACa,IAAzB,CAA8B7I,CAAC,CAAC8I,SAAF,CAAY9N,IAA1C,EACH,CAHD,CADc,EAAd,EAMAmN,WAAW,CAAC,0BAAD,CAAX,CAA0CH,wBAA1C,CACAG,WAAW,CAAC,sBAAD,CAAX,CAAsCJ,oBAAtC,CACAG,SAAS,CAACjC,GAAV,CAAc,SAAC2C,IAAD,CAAU,CACpB,GAAIA,IAAI,CAACxB,cAAL,CAAoB,WAApB,GAAoCwB,IAAI,CAAC,WAAD,CAAJ,GAAsB,IAA9D,CAAoE,CAChE,GAAIA,IAAI,CAACxB,cAAL,CAAoB,YAApB,GAAqCwB,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClED,eAAe,CAAC,sBAAD,CAAf,CAA0CC,IAA1C,CACH,CAFD,IAGK,CACDD,eAAe,CAAC,WAAD,CAAf,CAA+BC,IAA/B,CACH,CACD;AACAH,gBAAgB,CAACI,IAAjB,CAAsBF,eAAtB,EACAA,eAAe,CAAG,EAAlB,CACH,CACD,GAAIC,IAAI,CAACxB,cAAL,CAAoB,YAApB,GAAqCwB,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClE,GAAIA,IAAI,CAACxB,cAAL,CAAoB,YAApB,GAAqCwB,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClED,eAAe,CAAC,uBAAD,CAAf,CAA2CC,IAA3C,CACH,CAFD,IAGK,CACDD,eAAe,CAAC,YAAD,CAAf,CAAgCC,IAAhC,CACH,CACD;AACAH,gBAAgB,CAACI,IAAjB,CAAsBF,eAAtB,EACAA,eAAe,CAAG,EAAlB,CACH,CACJ,CAvBD,EAwBAD,sBAAsB,CAAGR,SAAS,CAACd,cAAV,CAAyB,WAAzB,GAAyCc,SAAS,CAAC,WAAD,CAAT,GAA2B,IAApE,CACrB,CACI,YAAaO,gBADjB,CADqB,CAGjB,CACA,aAAcA,gBADd,CAHR,CAMD;AACC;AACA;AACA9M,SAAS,CAAC,oBAAD,CAAT,CAAkC,MAAKvB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBAA3E,CACA;AACA;AACA9B,SAAS,CAAC,WAAD,CAAT,CAAyB2C,cAAc,CAAC,WAAD,CAAvC,CACH;AACG3C,SAAS,CAAC,aAAD,CAAT,CAA2BoN,IAAI,CAACC,SAAL,CAAeb,WAAf,CAA3B,CACAxM,SAAS,CAAC,UAAD,CAAT,CAAwBoN,IAAI,CAACC,SAAL,CAAeP,gBAAf,CAAxB,CACA9M,SAAS,CAAC,UAAD,CAAT,CAAwB,MAAKvB,KAAL,CAAWG,KAAX,CAAiBsB,QAAzC,CACA,GAAI,MAAKzB,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAAnC,CAA6C,CACzCvB,SAAS,CAAC,2BAAD,CAAT,CAAyC,MAAKvB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,2BAAhD,CAAzC,CACH,CACD,GAAM/H,CAAAA,UAAU,CAAG,CACf0B,QAAQ,CAAE,sBADK,CAEfD,SAAS,CAAE,sBAFI,CAGf8L,WAAW,CAAE,MAAK7O,KAAL,CAAWG,KAAX,CAAiBmB,UAAjB,CAA4BuN,WAH1B,CAIftN,SAAS,CAAEA,SAJI,CAKfuB,SAAS,CAAE,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,CAA0C,QAA1C,CAAqD,QALjD,CAAnB,CAOA,MAAK9C,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAnD,CAA+D,iBAA/D,EACH,CA5FD,IA6FK,CACDvJ,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAAX,EACH,CAEJ,CAvGD,IAwGK,CACDwD,cAAc,CAAC,WAAD,CAAd,CAA8BA,cAAc,CAAC,eAAD,CAAd,EAAmC,EAAjE,CACF;AACE,GAAMoC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAE6E,cAAc,CAAE,IAAlB,CAAwBnH,cAAc,CAAdA,cAAxB,CAAwC2J,MAAM,CAAE,mBAAhD,CAAqEkB,kBAAkB,CAAE,IAAzF,CAFS,CAAnB,CAIA,MAAK/O,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACA;AAEH,CACJ,CApHD,IAoHO,CACH/N,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,2BAAN,CAA9B,CAAX,EACH,CACJ,CAxHD,IAyHK,CACDnI,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAX,EACH,CACJ,CA7HO,IA8HJ,CACAnI,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CACA,CAxqEkB,OAyqEnBsO,eAzqEmB,CAyqED,SAACC,SAAD,CAAYC,KAAZ,CAAsB,CACpC,GAAQhL,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACAA,cAAc,CAAC,aAAD,CAAd,CAAgC,EAAhC,CACAA,cAAc,CAAC,aAAD,CAAd,CAA8BgL,KAA9B,EAAuC,EAAvC,CACAhL,cAAc,CAAC,aAAD,CAAd,CAA8BgL,KAA9B,EAAuCD,SAAvC,CACA,GAAI/K,cAAc,CAAC,aAAD,CAAd,CAA8BgL,KAA9B,CAAJ,CAA0C,CACtC,MAAK3M,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CAAd,EAGH,CACJ,CAnrEkB,OAorEnBiL,YAprEmB,CAorEJ,SAAC3I,IAAD,CAAU,CACrB,GAAItC,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,GAAIoI,CAAAA,SAAS,CAAGpI,cAAc,CAAC,WAAD,CAA9B,CACA,GAAIkL,CAAAA,cAAc,CAAG,MAAKpP,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,EAAmC,CAAxD,CACA,GAAIA,cAAc,GAAK,CAAvB,CAA0B,CACtB,GAAIC,CAAAA,OAAO,CAAG/C,SAAS,CAACQ,KAAV,CAAgB,SAAAlH,CAAC,QAAIA,CAAAA,CAAC,CAACkH,KAAF,CAAQ,SAAAwC,CAAC,QAAIA,CAAAA,CAAC,CAAC,WAAD,CAAD,CAAe,MAAf,EAAuBjM,kBAAvB,GAA8CmD,IAAI,CAAC,MAAD,CAAJ,CAAanD,kBAA/D,EAAT,CAAJ,EAAjB,CAAd,CAEA,GAAIgM,OAAJ,CAAa,CACT,MAAO7I,CAAAA,IAAP,CACH,CACJ,CAND,IAOK,CACD,GAAI6I,CAAAA,QAAO,CAAG/C,SAAS,CAACV,IAAV,CAAe,SAAAhG,CAAC,QAAIA,CAAAA,CAAC,CAACgG,IAAF,CAAO,SAAA0D,CAAC,QAAIA,CAAAA,CAAC,CAAC,WAAD,CAAD,CAAe,MAAf,EAAuBjM,kBAAvB,GAA8CmD,IAAI,CAAC,MAAD,CAAJ,CAAanD,kBAA/D,EAAR,CAAJ,EAAhB,CAAd,CAEA,GAAIgM,QAAJ,CAAa,CACT,MAAO7I,CAAAA,IAAP,CACH,CACJ,CACJ,CAtsEkB,OAusEnB+I,kBAvsEmB,CAusEE,SAAC/I,IAAD,CAAU,CAC3B,GAAI4I,CAAAA,cAAc,CAAG,MAAKpP,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,EAAmC,CAAxD,CACA,GAAIA,cAAc,GAAK,CAAvB,CAA0B,CACtB,GAAI,MAAKpP,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBAAzC,GAAgEmD,IAAI,CAAC,MAAD,CAAJ,CAAanD,kBAAjF,CAAqG,CACjG,MAAOmD,CAAAA,IAAP,CACH,CACJ,CAJD,IAKK,CACD,GAAI,MAAKxG,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBAAzC,GAAgEmD,IAAI,CAAC,MAAD,CAAJ,CAAanD,kBAAjF,CAAqG,CACjG,MAAOmD,CAAAA,IAAP,CACH,CACJ,CACJ,CAntEkB,OAotEnBgJ,2BAptEmB,CAotEW,SAAChJ,IAAD,CAAU,CACpC,GAAI8G,CAAAA,iBAAiB,CAAC,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAAvC,CACA,GAAI+B,CAAAA,OAAO,CAAG/B,iBAAiB,CAACR,KAAlB,CAAwB,SAAAlH,CAAC,QAAIA,CAAAA,CAAC,CAAC,oBAAD,CAAD,GAA2BY,IAAI,CAAC,MAAD,CAAJ,CAAanD,kBAA5C,EAAzB,CAAd,CACI,GAAIgM,OAAJ,CAAa,CACT,MAAO7I,CAAAA,IAAP,CACH,CACR,CA1tEkB,OA6tEnBiJ,OA7tEmB,CA6tET,SAACC,OAAD,CAAa,CACnB,GAAIrE,CAAAA,cAAc,CAAG,MAAKrL,KAAL,CAAWG,KAAX,CAAiBkL,cAAtC,CACA,GAAIwC,CAAAA,MAAM,CAAG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAA9B,CACA,GAAI3J,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,EAAxD,CAEA,GAAIyL,CAAAA,WAAW,CAAG,MAAK3P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6N,WAA5B,EAA2C,EAA7D,CACA,GAAIC,CAAAA,qBAAqB,CAAG,MAAK5P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B8N,qBAA5B,EAAqD,EAAjF,CACA,GAAIC,CAAAA,qBAAqB,CAAG,MAAK7P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+N,qBAA5B,EAAqD,EAAjF,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAK9P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BgO,mBAA5B,EAAmD,EAA7E,CACA,GAAIC,CAAAA,oBAAoB,CAAG,MAAK/P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BiO,oBAA5B,EAAoD,EAA/E,CAEA,GAAIL,OAAO,EAAI,UAAf,CAA2B,CACvBE,qBAAqB,CAAGA,qBAAqB,CAACI,MAAtB,CAA6B,MAAKT,kBAAlC,CAAxB,CACAK,qBAAqB,CAAGA,qBAAqB,CAACI,MAAtB,CAA6B,MAAKb,YAAlC,CAAxB,CACAjL,cAAc,CAAC,sBAAD,CAAd,EAAyC,MAAOA,CAAAA,cAAc,CAAC,sBAAD,CAA9D,CACH,CAJD,IAKK,IAAIwL,OAAO,EAAI,cAAf,CAA+B,CAChC,GAAIO,CAAAA,qBAAqB,CAAG,EAA5B,CACAA,qBAAqB,CAAGJ,qBAAqB,CAACG,MAAtB,CAA6B,MAAKT,kBAAlC,CAAxB,CACAM,qBAAqB,CAAGA,qBAAqB,CAACG,MAAtB,CAA6B,MAAKb,YAAlC,CAAxB,CACA,GAAIe,CAAAA,gBAAgB,CAAGD,qBAAqB,CAACrE,IAAtB,CAA2B,SAAAhG,CAAC,QAAIiK,CAAAA,qBAAqB,CAACjE,IAAtB,CAA2B,SAAA0D,CAAC,QAAIA,CAAAA,CAAC,CAAC,MAAD,CAAD,CAAUjM,kBAAV,GAAiCuC,CAAC,CAAC,MAAD,CAAD,CAAUvC,kBAA/C,EAA5B,CAAJ,EAA5B,CAAvB,CACA,GAAI6M,gBAAJ,CAAsB,CAClBL,qBAAqB,CAAGA,qBAAxB,CACH,CAFD,IAEO,CACHA,qBAAqB,8BAAOA,qBAAP,qBAAiCI,qBAAjC,EAArB,CACH,CACJ,CAVI,IAWA,IAAIP,OAAO,EAAI,YAAf,CAA6B,CAC9B,GAAIO,CAAAA,sBAAqB,CAAG,EAA5B,CACAA,sBAAqB,CAAGH,mBAAmB,CAACE,MAApB,CAA2B,MAAKT,kBAAhC,CAAxB,CACAO,mBAAmB,CAAGA,mBAAmB,CAACE,MAApB,CAA2B,MAAKb,YAAhC,CAAtB,CACA,GAAIe,CAAAA,iBAAgB,CAAGD,sBAAqB,CAACrE,IAAtB,CAA2B,SAAAhG,CAAC,QAAIkK,CAAAA,mBAAmB,CAAClE,IAApB,CAAyB,SAAA0D,CAAC,QAAIA,CAAAA,CAAC,CAAC,MAAD,CAAD,CAAUjM,kBAAV,GAAiCuC,CAAC,CAAC,MAAD,CAAD,CAAUvC,kBAA/C,EAA1B,CAAJ,EAA5B,CAAvB,CACA,GAAI6M,iBAAJ,CAAsB,CAClBJ,mBAAmB,CAAGA,mBAAtB,CACH,CAFD,IAEO,CACHA,mBAAmB,8BAAOA,mBAAP,qBAA+BG,sBAA/B,EAAnB,CACH,CACJ,CAVI,IAWA,IAAIP,OAAO,EAAI,mBAAf,CAAoC,CACrC,GAAIO,CAAAA,uBAAqB,CAAG,EAA5B,CACAA,uBAAqB,CAAGF,oBAAoB,CAACC,MAArB,CAA4B,MAAKT,kBAAjC,CAAxB,CACAQ,oBAAoB,CAAGA,oBAAoB,CAACC,MAArB,CAA4B,MAAKb,YAAjC,CAAvB,CACA,GAAIe,CAAAA,kBAAgB,CAAGD,uBAAqB,CAACrE,IAAtB,CAA2B,SAAAhG,CAAC,QAAImK,CAAAA,oBAAoB,CAACnE,IAArB,CAA0B,SAAA0D,CAAC,QAAIA,CAAAA,CAAC,CAAC,MAAD,CAAD,CAAUjM,kBAAV,GAAiCuC,CAAC,CAAC,MAAD,CAAD,CAAUvC,kBAA/C,EAA3B,CAAJ,EAA5B,CAAvB,CACA,GAAI6M,kBAAJ,CAAsB,CAClBH,oBAAoB,CAAGA,oBAAvB,CACH,CAFD,IAEO,CACHA,oBAAoB,8BAAOA,oBAAP,qBAAgCE,uBAAhC,EAApB,CACH,CACJ,CAVI,IAWA,CAEJ,CACD/L,cAAc,CAAC,oBAAD,CAAd,EAAuC,MAAOA,CAAAA,cAAc,CAAC,oBAAD,CAA5D,CACAA,cAAc,CAAC,yBAAD,CAAd,EAA2C,MAAOA,CAAAA,cAAc,CAAC,yBAAD,CAAhE,CACAA,cAAc,CAAC,qBAAD,CAAd,EAAuC,MAAOA,CAAAA,cAAc,CAAC,qBAAD,CAA5D,CACAA,cAAc,CAAC,kBAAD,CAAd,EAAoC,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAAzD,CACAA,cAAc,CAAC,kBAAD,CAAd,EAAoC,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAAzD,CACAA,cAAc,CAAC,eAAD,CAAd,EAAiC,MAAOA,CAAAA,cAAc,CAAC,eAAD,CAAtD,CACAA,cAAc,CAAC,cAAD,CAAd,EAAgC,MAAOA,CAAAA,cAAc,CAAC,cAAD,CAArD,CACAA,cAAc,CAAC,6BAAD,CAAd,EAA+C,MAAOA,CAAAA,cAAc,CAAC,6BAAD,CAApE,CACAA,cAAc,CAAC,gBAAD,CAAd,EAAkC,MAAOA,CAAAA,cAAc,CAAC,gBAAD,CAAvD,CACAA,cAAc,CAAC,YAAD,CAAd,EAA8B,MAAOA,CAAAA,cAAc,CAAC,YAAD,CAAnD,CACAA,cAAc,CAAC,eAAD,CAAd,EAAiC,MAAOA,CAAAA,cAAc,CAAC,eAAD,CAAtD,CACAA,cAAc,CAAC,aAAD,CAAd,EAA+B,MAAOA,CAAAA,cAAc,CAAC,aAAD,CAApD,CACAA,cAAc,CAAC,gBAAD,CAAd,EAAkC,MAAOA,CAAAA,cAAc,CAAC,gBAAD,CAAvD,CAEA,GAAI,MAAKlE,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,CAA8B9C,MAA9B,CAAuC,CAA3C,CAA8C,CAC1C2C,MAAM,CAAG,aAAT,CACAxC,cAAc,CAAG,IAAjB,CACA,GAAM/E,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF6E,cAAc,CAAdA,cADE,CAEFC,mBAAmB,CAAE,KAFnB,CAGFuC,MAAM,CAANA,MAHE,CAIF3J,cAAc,CAAdA,cAJE,CAKF6K,kBAAkB,CAAE,KALlB,CAMFa,qBAAqB,CAArBA,qBANE,CAOFC,qBAAqB,CAArBA,qBAPE,CAQFC,mBAAmB,CAAnBA,mBARE,CASFC,oBAAoB,CAApBA,oBATE,CAFS,CAAnB,CAcA,MAAK/P,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAlBD,IAkBO,CACH/N,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAEJ,CArzEkB,OAszEnByP,YAtzEmB,CAszEJ,SAAClB,SAAD,CAAYmB,SAAZ,CAAuBC,UAAvB,CAAmCnB,KAAnC,CAA6C,CACxD,GAAI7B,CAAAA,0BAA0B,CAAE,MAAKrN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuL,0BAA5B,EAAwD,EAAxF,CACA,GAAQnJ,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,MAAKoM,iBAAL,CAAuBpM,cAAvB,CAAuCgL,KAAvC,EACA,GAAGhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,GACClM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA0DzO,KAA1D,GAAkEsN,SAAS,CAACtN,KADhF,CAEA,CACIuC,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,qBAA/C,GAAwE,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,qBAA/C,CAA/E,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,YAA/C,GAA8D,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,YAA/C,CAArE,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,0BAA/C,GAA4E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,0BAA/C,CAAnF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,wBAA/C,GAA0E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,wBAA/C,CAAjF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,2BAA/C,GAA6E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,2BAA/C,CAApF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,aAA/C,GAA+D,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,aAA/C,CAAtE,CACH,CACDhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA4DnB,SAA5D,CACA/K,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA0D,0BAA1D,EAAwF,MAAKpQ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBAAjI,CACAa,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA0D,kBAA1D,EAAgF,MAAKpQ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyCM,SAAzH,CACA,GAAGxK,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,iBAA/C,CAAH,CACA,CACI,GAAGhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,iBAA/C,EAAkEvN,KAAlE,GAA4E,CAA/E,CACA,CACI,GAAI4O,CAAAA,kBAAkB,CAACrM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA0D,MAA1D,EAAkE,oBAAlE,CAAvB,CACC,GAAGG,kBAAkB,GAAG/S,aAAa,CAACmP,UAAtC,CACD,CACI,MAAK3M,KAAL,CAAW9D,uBAAX,CAAmCgI,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,CAAnC,CAAkFmB,UAAlF,CAA6FnB,KAA7F,CAAmG7B,0BAAnG,CAA8HnJ,cAA9H,CAA8I,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAA/J,CAA2K,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAA5L,EACH,CAHA,IAIG,CACA,GAAIyC,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,CAAJ,CAA+D,CAC3D,MAAK7N,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CAEVmM,UAAU,CAAVA,UAFU,CAGVnB,KAAK,CAALA,KAHU,CAAd,EAKH,CACJ,CACJ,CAhBD,IAgBW,CACP,GAAIhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,CAAJ,CAA+D,CAC3D,MAAK7N,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CAEVmM,UAAU,CAAVA,UAFU,CAGVnB,KAAK,CAALA,KAHU,CAAd,EAKH,CACJ,CACJ,CA3BD,IA4BI,CACA,GAAIhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,CAAJ,CAA+D,CAC3D,MAAK7N,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CAEVmM,UAAU,CAAVA,UAFU,CAGVnB,KAAK,CAALA,KAHU,CAAd,EAKH,CACJ,CACJ,CA52EkB,OA62EnBsB,iBA72EmB,CA62EC,SAAClO,KAAD,CAAQ8N,SAAR,CAAmBC,UAAnB,CAA+BnB,KAA/B,CAAyC,CACzD,GAAQhL,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA4D9N,KAAK,CAACuF,MAAN,CAAalG,KAAzE,CACAuC,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,QAA/C,EAA2D5M,KAAK,CAACuF,MAAN,CAAalG,KAAxE,CACA,MAAKY,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAl3EkB,OAm3EnBuM,0BAn3EmB,CAm3EU,SAACnO,KAAD,CAAQ8N,SAAR,CAAmBC,UAAnB,CAA+BnB,KAA/B,CAAyC,CAClE,GAAQhL,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAGmM,UAAU,GAAG/P,SAAb,EAAwB4O,KAAK,GAAG5O,SAAnC,CACA,CACI4D,cAAc,CAACkM,SAAD,CAAd,CAA6B9N,KAA7B,CACA,MAAKC,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAJD,IAMA,CACI,GAAG5B,KAAK,GAAG,CAAX,CAAa,CACT4B,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA6D9N,KAA7D,CACA4B,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,QAA/C,EAA2D5M,KAA3D,CACA,MAAKC,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CACJ,CACJ,CAl4EkB,OAm4EnBwM,kBAn4EmB,CAm4EE,SAACzB,SAAD,CAAYmB,SAAZ,CAAuBC,UAAvB,CAAmCnB,KAAnC,CAA6C,CAC9D,GAAQhL,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAImJ,CAAAA,0BAA0B,CAAE,MAAKrN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuL,0BAA5B,EAAwD,EAAxF,CACA,GAAIsD,CAAAA,mBAAmB,CAAG,EAA1B,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAI,MAAKxQ,KAAL,CAAWwQ,aAAX,EAA4B,MAAKxQ,KAAL,CAAWwQ,aAAX,CAAyB1F,MAAzB,CAAkC,CAAlE,CAAqE,CACjE0F,aAAa,CAAG,MAAKxQ,KAAL,CAAWwQ,aAA3B,CACH,CAFD,IAGK,CACDA,aAAa,CAACP,UAAD,CAAb,CAA4B,EAA5B,CACAO,aAAa,CAACP,UAAD,CAAb,CAA0BnB,KAA1B,EAAmC,EAAnC,CACH,CACD,GAAI,MAAK9O,KAAL,CAAWuQ,mBAAX,EAAkC,MAAKvQ,KAAL,CAAWuQ,mBAAX,CAA+BzF,MAA/B,CAAwC,CAA9E,CAAiF,CAC7EyF,mBAAmB,CAAG,MAAKvQ,KAAL,CAAWuQ,mBAAjC,CACH,CAFD,IAGK,CACDA,mBAAmB,CAACN,UAAD,CAAnB,CAAkC,EAAlC,CACAM,mBAAmB,CAACN,UAAD,CAAnB,CAAgCnB,KAAhC,EAAyC,EAAzC,CACH,CACD,GAAIkB,SAAS,GAAK,qBAAd,EAAuCA,SAAS,GAAK,YAArD,EACJA,SAAS,GAAK,0BADV,EACwCA,SAAS,GAAK,wBADtD,EACkFA,SAAS,GAAK,2BADpG,CACiI,CAC7H,GAAGlM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,GACHlM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA0DzO,KAA1D,GAAkEsN,SAAS,CAACtN,KAD5E,CAEJ,CACIuC,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,qBAA/C,GAAwE,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,qBAA/C,CAA/E,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,YAA/C,GAA8D,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,YAA/C,CAArE,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,0BAA/C,GAA4E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,0BAA/C,CAAnF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,wBAA/C,GAA0E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,wBAA/C,CAAjF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,2BAA/C,GAA6E,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,2BAA/C,CAApF,CACAhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,aAA/C,GAA+D,MAAOhL,CAAAA,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,aAA/C,CAAtE,CACH,CACDhL,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA4DnB,SAA5D,CACI,GAAI0B,mBAAmB,CAACN,UAAD,CAAnB,GAAoC/P,SAAxC,CAAmD,CAC/CqQ,mBAAmB,CAACN,UAAD,CAAnB,CAAkC,EAAlC,CACAM,mBAAmB,CAACN,UAAD,CAAnB,CAAgCnB,KAAhC,EAAyC,EAAzC,CACH,CACDyB,mBAAmB,CAACN,UAAD,CAAnB,CAAgCnB,KAAhC,EAAyCD,SAAS,CAACtN,KAAnD,CACA,GAAIiP,aAAa,CAACP,UAAD,CAAb,GAA8B/P,SAAlC,CAA6C,CACzCsQ,aAAa,CAACP,UAAD,CAAb,CAA4B,EAA5B,CACAO,aAAa,CAACP,UAAD,CAAb,CAA0BnB,KAA1B,EAAmC,EAAnC,CACH,CACD,GAAIyB,mBAAmB,CAACN,UAAD,CAAnB,CAAgCnB,KAAhC,IAA2C,CAA/C,CAAkD,CAC9C0B,aAAa,CAACP,UAAD,CAAb,CAA0BnB,KAA1B,EAAmC,MAAKlP,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+O,kBAA/D,CACH,CAFD,IAGK,IAAIF,mBAAmB,CAACN,UAAD,CAAnB,CAAgCnB,KAAhC,IAA2C,CAA/C,CAAkD,CACnD,GAAIqB,CAAAA,kBAAkB,CAACrM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,WAA/C,EAA4D,MAA5D,EAAoE,oBAApE,CAAvB,CACC,GAAGqB,kBAAkB,GAAG/S,aAAa,CAACmP,UAAtC,CACD,CACI,MAAK3M,KAAL,CAAW9D,uBAAX,CAAmCgI,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,CAAnC,CAAkFmB,UAAlF,CAA6FnB,KAA7F,CAAmG7B,0BAAnG,CAA8HnJ,cAA9H,CAA8I,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAA/J,CAA2K,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAA5L,EACH,CAHA,IAKD,CACImP,aAAa,CAACP,UAAD,CAAb,CAA0BnB,KAA1B,EAAmC,MAAKlP,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BgP,SAA/D,CACH,CACJ,CAVI,IAWA,CACDF,aAAa,CAACP,UAAD,CAAb,CAA0BnB,KAA1B,EAAmC,MAAKlP,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BgP,SAA/D,CACH,CACD,MAAKvO,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAkByM,mBAAmB,CAAnBA,mBAAlB,CAAuCC,aAAa,CAAbA,aAAvC,CAAd,EACH,CAxCD,IAyCK,CACD1M,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA4DnB,SAA5D,CACA/K,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+C,QAA/C,EAA2DD,SAAS,CAACjD,KAArE,CACA,MAAKzJ,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CACJ,CAp8EkB,OAq8EnB6M,OAr8EmB,CAq8ET,SAACjJ,IAAD,CAAOuI,UAAP,CAAsB,CAC5B,GAAQnM,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAI8M,CAAAA,oBAAoB,CAAG,MAAKhR,KAAL,CAAWG,KAAX,CAAiB6Q,oBAAjB,EAAyC,EAApE,CACA,GAAMhD,CAAAA,YAAY,CAAG,MAAKhO,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,EAAiC,EAAtD,CACA,GAAMiD,CAAAA,WAAW,CAAGjD,YAAY,CAACqC,UAAD,CAAhC,CACArC,YAAY,CAACqC,UAAD,CAAZ,CAA2BY,WAAW,CAAG,CAAzC,CACA/M,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCY,WAAxC,EAAuD,EAAvD,CACAD,oBAAoB,CAAG,MAAKhR,KAAL,CAAWG,KAAX,CAAiB+Q,cAAjB,EAAmC,MAAKlR,KAAL,CAAWG,KAAX,CAAiBgR,gBAA3E,CAA4F,CAC5F,GAAM7K,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFwH,YAAY,CAAZA,YADE,CAEFgD,oBAAoB,CAApBA,oBAFE,CAGF5B,cAAc,CAAC,CAHb,CAFS,CAAnB,CAQA,MAAKpP,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAt9EkB,OAu9EnB8K,cAv9EmB,CAu9EF,SAACC,CAAD,CAAO,CACpB,MAAK9O,QAAL,CAAc,CACV+O,0BAA0B,CAAED,CADlB,CAAd,EAGH,CA39EkB,OA69EnBE,WA79EmB,CA69EL,UAAM,CAChB,GAAIlG,CAAAA,cAAc,CAAG,MAAKrL,KAAL,CAAWG,KAAX,CAAiBkL,cAAtC,CACA,GAAIwC,CAAAA,MAAM,CAAG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAA9B,CACA,GAAI2D,CAAAA,4BAA4B,CAAG,MAAKxR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0P,4BAA5B,EAA4D,EAA/F,CACA,GAAIC,CAAAA,aAAa,CAAG,MAAKzR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+N,qBAA5B,EAAqD,EAAzE,CACA,GAAI3L,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,EAAxD,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuC,EAAvC,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuCuN,aAAa,CAACzB,MAAd,CAAqB,SAAApK,CAAC,CAAI,CAAE,MAAOA,CAAAA,CAAC,CAACjE,KAAF,GAAY6P,4BAA4B,CAACnO,kBAAhD,CAAoE,CAAhG,EAAkG,CAAlG,CAAvC,CAEA,MAAOa,CAAAA,cAAc,CAAC,yBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,qBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,cAAD,CAArB,CAGA,GAAI,MAAKlE,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,CAA8B9C,MAA9B,CAAuC,CAA3C,CAA8C,CAC1C,GAAI,MAAKlL,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvCvB,MAAM,CAAG,qBAAT,CACH,CAFD,IAGK,CACDA,MAAM,CAAG,uBAAT,CACH,CACDxC,cAAc,CAAG,IAAjB,CACA,GAAM/E,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF6E,cAAc,CAAdA,cADE,CAEFwC,MAAM,CAANA,MAFE,CAGF3J,cAAc,CAAdA,cAHE,CAIF6K,kBAAkB,CAAE,KAJlB,CAFS,CAAnB,CASA,MAAK/O,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAlBD,IAkBO,CACH/N,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAEJ,CAngFkB,OAogFnBgR,YApgFmB,CAogFJ,UAAM,CACjB,GAAIrG,CAAAA,cAAc,CAAG,MAAKrL,KAAL,CAAWG,KAAX,CAAiBkL,cAAtC,CAEA,GAAImG,CAAAA,4BAA4B,CAAG,MAAKxR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0P,4BAA5B,EAA4D,EAA/F,CACA,GAAIC,CAAAA,aAAa,CAAG,MAAKzR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B8N,qBAA5B,EAAqD,EAAzE,CACA,GAAI1L,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,EAAxD,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuC,EAAvC,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuCuN,aAAa,CAACzB,MAAd,CAAqB,SAAApK,CAAC,CAAI,CAAE,MAAOA,CAAAA,CAAC,CAACjE,KAAF,GAAY6P,4BAA4B,CAACnO,kBAAhD,CAAoE,CAAhG,EAAkG,CAAlG,CAAvC,CACAa,cAAc,CAAC,eAAD,CAAd,EAAiC,MAAOA,CAAAA,cAAc,CAAC,eAAD,CAAtD,CACAA,cAAc,CAAC,aAAD,CAAd,EAA+B,MAAOA,CAAAA,cAAc,CAAC,aAAD,CAApD,CAEAmH,cAAc,CAAG,IAAjB,CACA,GAAIwC,CAAAA,MAAM,CAAG,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAA9B,CACAA,MAAM,CAAG,aAAT,CACA,GAAMvH,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFtC,cAAc,CAAdA,cADE,CAEFmH,cAAc,CAAdA,cAFE,CAGFwC,MAAM,CAANA,MAHE,CAIFkB,kBAAkB,CAAE,KAJlB,CAFS,CAAnB,CASA,MAAK/O,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA5hFkB,OA8hFnBqL,YA9hFmB,CA8hFJ,SAACC,gBAAD,CAAmB1C,KAAnB,CAA0B2C,SAA1B,CAAwC,CACnD,GAAID,gBAAgB,CAAC1G,MAAjB,CAA0B,CAA1B,EAA+B0G,gBAAgB,CAAC1C,KAAD,CAAhB,GAA4B5O,SAA3D,EAAwEsR,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAxB,GAAoC,IAAhH,CAAsH,CAClH,GAAI5N,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,GAAI6N,CAAAA,mBAAmB,CAAG,MAAK3R,KAAL,CAAW8D,cAAX,CAA0B6N,mBAA1B,EAAiD,EAA3E,CACA,GAAIF,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACqP,OAAnD,CAA4D,CACxDkF,mBAAmB,CAAC7C,KAAD,CAAnB,CAA6B,CACzB8C,UAAU,CAAEJ,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAxB,GAAoC,EAApC,CACRlS,YAAY,CAACiS,SAAD,CAAYlS,gBAAgB,CAACsS,UAAU,CAACL,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAzB,CAAX,CAA8CI,QAAQ,CAACL,SAAS,CAACM,eAAX,CAAtD,CAA5B,CADJ,CACsH,CAAC,CAF1G,CAA7B,CAIH,CACD,GAAIN,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACmP,UAAnD,CAA+D,CAC3D,GAAIiF,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAxB,GAAoC,IAAxC,CAA8C,CAC1CC,mBAAmB,CAAC7C,KAAD,CAAnB,CAA6B,CAAE8C,UAAU,CAAEJ,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB8C,UAAtC,CAA7B,CACH,CAFD,IAGK,CACDD,mBAAmB,CAAC7C,KAAD,CAAnB,CAA6B,CAAE8C,UAAU,CAAE,CAAd,CAA7B,CACH,CACJ,CACD,GAAIH,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACoP,SAAnD,CAA8D,CAC1D,GAAIgF,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAxB,GAAoC,IAApC,EAA4CF,gBAAgB,CAAC1C,KAAD,CAAhB,CAAwB4C,OAAxB,CAAgCM,IAAhC,KAA2C,EAA3F,CAA+F,CAC3FL,mBAAmB,CAAC7C,KAAD,CAAnB,CAA6B,CAAE8C,UAAU,CAAE,CAAd,CAA7B,CACH,CAFD,IAGK,CACDD,mBAAmB,CAAC7C,KAAD,CAAnB,CAA6B,CAAE8C,UAAU,CAAE,CAAC,CAAf,CAA7B,CACH,CACJ,CACD9N,cAAc,CAAC6N,mBAAf,CAAqCA,mBAArC,CAEA,MAAKxP,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CAAd,EAGH,CACJ,CA9jFkB,OA+jFnBmO,qBA/jFmB,CA+jFK,SAAC/P,KAAD,CAAW,CAC/B,GAAIA,KAAK,CAACuF,MAAN,CAAaE,IAAb,EAAqB,UAAzB,CAAqC,CACjC,MAAKxF,QAAL,CAAc,CACV+P,mBAAmB,CAAE,CAAC,MAAKlS,KAAL,CAAWkS,mBADvB,CAAd,EAGH,CAJD,IAKK,CACD,MAAK/P,QAAL,CAAc,CACVgQ,eAAe,CAAE,CAAC,MAAKnS,KAAL,CAAWmS,eADnB,CAAd,EAGH,CACJ,CA1kFkB,OA2kFnBC,YA3kFmB,CA2kFL,UAAM,CAChB,GAAInH,CAAAA,cAAc,CAAG,MAAKrL,KAAL,CAAWG,KAAX,CAAiBkL,cAAtC,CACA,GAAIoH,CAAAA,aAAa,CAAC,MAAKzS,KAAL,CAAWG,KAAX,CAAiBsS,aAAjB,GAAiCnS,SAAjC,EAA4C,MAAKN,KAAL,CAAWG,KAAX,CAAiBsS,aAAjB,GAAiC,IAA7E,CAAkF,IAAlF,CAAuF,KAAzG,CACA,GAAIjB,CAAAA,4BAA4B,CAAG,MAAKxR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0P,4BAA5B,EAA4D,EAA/F,CACA,GAAIC,CAAAA,aAAa,CAAG,MAAKzR,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B8N,qBAA5B,EAAqD,EAAzE,CACA,GAAI1L,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,EAAxD,CACAA,cAAc,CAAC,6BAAD,CAAd,EAAgD,MAAOA,CAAAA,cAAc,CAAC,6BAAD,CAArE,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuC,EAAvC,CACAA,cAAc,CAAC,oBAAD,CAAd,CAAuCuN,aAAa,CAACzB,MAAd,CAAqB,SAAApK,CAAC,CACzD,CAAE,MAAOA,CAAAA,CAAC,CAACjE,KAAF,GAAY6P,4BAA4B,CAACnO,kBAAhD,CAAoE,CADnC,EACqC,CADrC,CAAvC,CAEAa,cAAc,CAAC,2BAAD,CAAd,CAA4C,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,2BAAhD,EAC5C,MAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,2BAAhD,CAD4C,CACiC,CAD7E,CAEAnF,cAAc,CAAC,sBAAD,CAAd,EAAyC,MAAOA,CAAAA,cAAc,CAAC,sBAAD,CAA9D,CACJ;AACQ,MAAKlE,KAAL,CAAW/D,uBAAX,CAAmCiI,cAAnC,CAAmD,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAApE,CAAgF,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAAjG,CACI,MAAKrB,KAAL,CAAWgP,cADf,CAC8B,kBAD9B,EAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CApoFkB,OAqoFnBsD,mBAroFmB,CAqoFG,SAACC,eAAD,CAAqB,CACvC,GAAI7Q,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACAA,UAAU,CAAC,eAAD,CAAV,CAA4B+J,GAA5B,CAAgC,SAAA+G,IAAI,CAAE,CAClC,GAAGA,IAAI,CAAC,sBAAD,CAAP,CAAgC,CAC5B,GAAIC,CAAAA,UAAU,CAACD,IAAI,CAAC,sBAAD,CAAnB,CACA,GAAIE,CAAAA,cAAc,oBAAKF,IAAI,CAAC,sBAAD,CAAT,CAAlB,CACAE,cAAc,CAACjH,GAAf,CAAmB,SAACkH,KAAD,CAAO7D,KAAP,CAAe,CAC9B,GAAG6D,KAAK,CAAC,6BAAD,CAAL,GAAuCJ,eAAe,CAAC,6BAAD,CAAzD,CAAyF,CACrF;AACA,GAAIK,CAAAA,WAAW,CAACH,UAAU,CAAClN,SAAX,CAAqB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAAC,6BAAD,CAAD,GAAmCmN,KAAK,CAAC,6BAAD,CAA1C,EAAtB,CAAhB,CAEAF,UAAU,CAACI,MAAX,CAAkBD,WAAlB,CAA8B,CAA9B,EACAlW,QAAQ,CAAC8V,IAAI,CAAC,sBAAD,CAAL,CAA8B,WAA9B,CAA0C,MAA1C,CAAR,CAA0D/G,GAA1D,CAA8D,SAACkH,KAAD,CAAO7D,KAAP,CAAe,CACzE6D,KAAK,CAAC,MAAD,CAAL,CAAc7D,KAAK,CAAC,CAApB,CACH,CAFD,EAGH,CACJ,CAVD,EAYH,CACJ,CAjBD,EAmBA,MAAK3M,QAAL,CAAc,CAACT,UAAU,CAAVA,UAAD,CAAd,EACH,CA3pFkB,OA4pFnBoR,cA5pFmB,CA4pFF,UAAM,CACnB,GAAIC,CAAAA,aAAa,CAAG,MAAKnT,KAAL,CAAWG,KAAX,CAAiBgT,aAAjB,EAAkC,EAAtD,CACA,GAAIjP,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,GAAIpC,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAIwL,CAAAA,iBAAiB,CAAG,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKvN,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,EAAsC,EAA9D,CACA,GAAIE,CAAAA,eAAe,CAAG,MAAKzN,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,EAAoC,EAA1D,CACA,GAAIC,CAAAA,gBAAgB,CAAG,MAAK1N,KAAL,CAAWG,KAAX,CAAiBuN,gBAAjB,EAAqC,EAA5D,CAGA,GAAIF,CAAAA,mBAAmB,CAAG,MAAKxN,KAAL,CAAWG,KAAX,CAAiBqN,mBAAjB,EAAwC,EAAlE,CAEA,GAAIN,CAAAA,UAAU,CAAG,MAAKlN,KAAL,CAAWG,KAAX,CAAiB+M,UAAjB,EAA+B,EAAhD,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKnN,KAAL,CAAWG,KAAX,CAAiBgN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKpN,KAAL,CAAWG,KAAX,CAAiBiN,mBAAjB,EAAwC,EAAlE,CAGA,GAAIgG,CAAAA,qBAAqB,CAAG,EAA5B,CACA,GAAIC,CAAAA,qBAAqB,CAAG,EAA5B,CACA,GAAIC,CAAAA,uBAAuB,CAAG,EAA9B,CACA,GAAIC,CAAAA,oBAAoB,CAAG,EAA3B,CAEA,GAAIrF,CAAAA,oBAAoB,CAAG,MAAKlO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoM,oBAA5B,EAAoD,EAA/E,CAGA,GAAIC,CAAAA,sBAAsB,CAAG,MAAKnO,KAAL,CAAWG,KAAX,CAAiBgO,sBAAjB,EAA2C,EAAxE,CACA,GAAIF,CAAAA,mBAAmB,CAAG,MAAKjO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmM,mBAA5B,EAAmD,EAA7E,CAEA,GAAIuF,CAAAA,uBAAuB,CAAG,MAAKxT,KAAL,CAAWG,KAAX,CAAiBqT,uBAAjB,EAA4C,EAA1E,CACA,GAAIC,CAAAA,uBAAuB,CAAG,MAAKzT,KAAL,CAAWG,KAAX,CAAiBsT,uBAAjB,EAA4C,EAA1E,CACA,GAAIC,CAAAA,yBAAyB,CAAG,MAAK1T,KAAL,CAAWG,KAAX,CAAiBuT,yBAAjB,EAA8C,EAA9E,CAGA,GAAIC,CAAAA,8BAA8B,CAAG,MAAK3T,KAAL,CAAWG,KAAX,CAAiBwT,8BAAjB,EAAmD,EAAxF,CACA,GAAIC,CAAAA,8BAA8B,CAAG,MAAK5T,KAAL,CAAWG,KAAX,CAAiByT,8BAAjB,EAAmD,EAAxF,CACA,GAAIC,CAAAA,gCAAgC,CAAG,MAAK7T,KAAL,CAAWG,KAAX,CAAiB0T,gCAAjB,EAAqD,EAA5F,CAEA,GAAIvN,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAI,MAAKtG,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,aAAhC,CAA+C,CAC3C,GAAIiG,CAAAA,qBAAqB,CAAG,CAA5B,CACA,GAAIC,CAAAA,qBAAqB,CAAG,CAA5B,CACA,GAAIC,CAAAA,qBAAqB,CAAG,CAA5B,CACA,GAAIC,CAAAA,qBAAqB,CAAG,CAA5B,CACA,GAAI,MAAKjU,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvC,GAAI8E,CAAAA,WAAW,CAAG,EAAlB,CACAA,WAAW,CAAG5G,iBAAiB,CAAC0C,MAAlB,CAAyB,SAAApK,CAAC,QAAIA,CAAAA,CAAC,CAACvC,kBAAF,GACxCa,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,oBAA1C,CADoC,EAA1B,CAAd,CAEA,GAAIsT,WAAW,CAAChJ,MAAZ,GAAuB,CAA3B,CAA8B,CAC1BpJ,UAAU,CAAC,eAAD,CAAV,CAA8B,EAA9B,CACAgS,qBAAqB,CAAGxG,iBAAiB,CAACpC,MAAlB,CAAyB,CAAzB,CAA2BiJ,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQ7G,iBAAiB,CAACzB,GAAlB,CAAsB,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACkO,qBAAN,EAAvB,CAAR,EAA/B,CAA8F,CAAtH,CACAA,qBAAqB,GACrB5P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,uBAA1C,EAAqEkT,qBAArE,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAI5P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,gBAA1C,CAAJ,CAAgE,CAC5DsD,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,gBAA1C,EAA4D,CAA5D,CACH,CACDsD,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,sBAA1C,GACA,MAAOsD,CAAAA,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,sBAA1C,CADP,CAEA0M,iBAAiB,CAACmB,IAAlB,CAAuBvK,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAA5D,EACAkB,UAAU,CAAC,eAAD,CAAV,CAA8BhF,QAAQ,CAACwQ,iBAAD,CAAoB,YAApB,CAAkC,uBAAlC,CAAtC,CACAxL,UAAU,CAAC,8BAAD,CAAV,CAA6CoC,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAAlF,CACA,MAAOsD,CAAAA,cAAc,CAAC,oBAAD,CAArB,CAEH,CA7CD,IA8CK,CACD,MAAO3L,CAAAA,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAAX,CAAP,CACH,CAEJ,CACD,GAAI,MAAKV,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvC,GAAI8E,CAAAA,YAAW,CAAG,EAAlB,CACAA,YAAW,CAAG3G,iBAAiB,CAACyC,MAAlB,CAAyB,SAAApK,CAAC,QAAIA,CAAAA,CAAC,CAACvC,kBAAF,GACxCa,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,oBAA1C,CADoC,EAA1B,CAAd,CAEA,GAAIsT,YAAW,CAAChJ,MAAZ,GAAuB,CAA3B,CAA8B,CAC1BpJ,UAAU,CAAC,uBAAD,CAAV,CAAsC,EAAtC,CACAiS,qBAAqB,CAAGxG,iBAAiB,CAACrC,MAAlB,CAAyB,CAAzB,CAA2BiJ,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQ5G,iBAAiB,CAAC1B,GAAlB,CAAsB,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACmO,qBAAN,EAAvB,CAAR,EAA/B,CAA8F,CAAtH,CACAA,qBAAqB,GACrB7P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,uBAA1C,EAAqEmT,qBAArE,CACA7P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,cAA1C,EAA4DsD,cAAc,CAAC,cAAD,CAAd,CAAiCA,cAAc,CAAC,cAAD,CAA/C,CAAkE,GAA9H,CACAqJ,iBAAiB,CAACkB,IAAlB,CAAuBvK,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAA5D,EACAkB,UAAU,CAAC,uBAAD,CAAV,CAAsChF,QAAQ,CAACyQ,iBAAD,CAAoB,YAApB,CAAkC,uBAAlC,CAA9C,CACAzL,UAAU,CAAC,8BAAD,CAAV,CAA6CoC,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAAlF,CACA;AACH,CAVD,IAWK,CACD,MAAOrI,CAAAA,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAAX,CAAP,CACH,CACJ,CACD,GAAI,MAAKV,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvC,GAAI8E,CAAAA,aAAW,CAAG,EAAlB,CACAA,aAAW,CAAGzG,eAAe,CAACuC,MAAhB,CAAuB,SAAApK,CAAC,QAAIA,CAAAA,CAAC,CAACvC,kBAAF,GACtCa,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,oBAA1C,CADkC,EAAxB,CAAd,CAEA,GAAIsT,aAAW,CAAChJ,MAAZ,GAAuB,CAA3B,CAA8B,CAC1BpJ,UAAU,CAAC,YAAD,CAAV,CAA2B,EAA3B,CACAkS,qBAAqB,CAAGvG,eAAe,CAACvC,MAAhB,CAAuB,CAAvB,CAA0BiJ,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQ1G,eAAe,CAAC5B,GAAhB,CAAoB,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACoO,qBAAN,EAArB,CAAR,EAA9B,CAA2F,CAAnH,CACAA,qBAAqB,GACrB9P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,uBAA1C,EAAqEoT,qBAArE,CACA9P,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAArC,CAA0C,gBAA1C,EAA8DsD,cAAc,CAAC,gBAAD,CAAd,CAAiCA,cAAc,CAAC,gBAAD,CAA/C,CAAkE,CAAhI,CACAuJ,eAAe,CAACgB,IAAhB,CAAqBvK,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAA1D,EACAkB,UAAU,CAAC,oBAAD,CAAV,CAAmChF,QAAQ,CAAC2Q,eAAD,CAAkB,YAAlB,CAAgC,uBAAhC,CAA3C,CACA3L,UAAU,CAAC,YAAD,CAAV,CAA2BhF,QAAQ,CAAC2Q,eAAD,CAAkB,YAAlB,CAAgC,uBAAhC,CAAnC,CACA3L,UAAU,CAAC,8BAAD,CAAV,CAA6CoC,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAAlF,CACA,MAAOsD,CAAAA,cAAc,CAAC,oBAAD,CAArB,CACH,CAXD,IAYK,CACD,MAAO3L,CAAAA,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAAX,CAAP,CACH,CACJ,CACD,GAAI,MAAKV,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvC,GAAI8E,CAAAA,aAAW,CAAG,EAAlB,CACA;AACA;AACIA,aAAW,CAACxG,gBAAgB,CAAC9B,IAAjB,CAAsB,SAAAhG,CAAC,QAAE1B,CAAAA,cAAc,CAAC,oBAAD,CAAd,CAAqCvC,KAArC,GAA6CiE,CAAC,CAACvC,kBAA/C,EAAmEa,cAAc,CAAC,6BAAD,CAAd,CAA8CvC,KAA9C,GAAsDiE,CAAC,CAACyE,2BAA7H,EAAvB,CAAZ,CAEJ,GAAI,CAAC6J,aAAL,CAAkB,CACdpS,UAAU,CAAC,kBAAD,CAAV,CAAiC,EAAjC,CACAmS,qBAAqB,CAAGvG,gBAAgB,CAACxC,MAAjB,CAAwB,CAAxB,CAA2BiJ,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQzG,gBAAgB,CAAC7B,GAAjB,CAAqB,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACqO,qBAAN,EAAtB,CAAR,EAA/B,CAA6F,CAArH,CACAA,qBAAqB,GACrB;AACA;AACA;AACA;AACA;AACA,GAAII,CAAAA,MAAM,gCAAKnQ,cAAc,CAAC,oBAAD,CAAd,CAAqCtD,IAA1C,MACV,oBAAoBsD,cAAc,CAAC,6BAAD,CAAd,EAAiDA,cAAc,CAAC,6BAAD,CAAd,CAA8C8H,KADzG,CAEV,aAAa9H,cAAc,CAAC,YAAD,CAAd,EAAgCA,cAAc,CAAC,YAAD,CAAd,CAA6BvC,KAFhE,CAGV,aAAcuC,cAAc,CAAC,YAAD,CAAd,EAAgCA,cAAc,CAAC,YAAD,CAAd,CAA6B8H,KAHjE,CAIV,8BAA8B9H,cAAc,CAAC,6BAAD,CAAd,EAAiDA,cAAc,CAAC,6BAAD,CAAd,CAA8CvC,KAJnH,CAKV,iBAAiBuC,cAAc,CAAC,gBAAD,CAAd,EAAoCA,cAAc,CAAC,gBAAD,CALzD,CAMd,wBAAwB+P,qBANV,EAAV,CAOD;AACCvG,gBAAgB,CAACe,IAAjB,CAAsB4F,MAAtB,EACAvS,UAAU,CAAC,qBAAD,CAAV,CAAoChF,QAAQ,CAAC4Q,gBAAD,CAAmB,YAAnB,CAAiC,uBAAjC,CAA5C,CACA5L,UAAU,CAAC,kBAAD,CAAV,CAAiChF,QAAQ,CAAC4Q,gBAAD,CAAmB,YAAnB,CAAiC,uBAAjC,CAAzC,CACA;AACA,MAAOxJ,CAAAA,cAAc,CAAC,oBAAD,CAArB,CACH,CAtBD,IAuBK,CACD,MAAO3L,CAAAA,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAAX,CAAP,CACH,CACJ,CACD4F,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF6E,cAAc,CAAE,KADd,CAGFvJ,UAAU,CAAVA,UAHE,CAIFwL,iBAAiB,CAAjBA,iBAJE,CAKFC,iBAAiB,CAAjBA,iBALE,CAMFC,mBAAmB,CAAnBA,mBANE,CAOFsG,qBAAqB,CAArBA,qBAPE,CAQFC,qBAAqB,CAArBA,qBARE,CASFC,qBAAqB,CAArBA,qBATE,CAUFR,uBAAuB,CAAvBA,uBAVE,CAWFG,8BAA8B,CAA9BA,8BAXE,CAYFzP,cAAc,CAAdA,cAZE,CAaFuJ,eAAe,CAAfA,eAbE,CAcFC,gBAAgB,CAAhBA,gBAdE,CAFG,CAAb,CAmBH,CACD,GAAG,MAAK1N,KAAL,CAAWG,KAAX,CAAiB0N,MAAjB,GAA4B,kBAA/B,CAAkD,CAC9C,GAAIyG,CAAAA,0BAA0B,CAACxS,UAAU,CAAC0P,4BAAX,CAAwCnO,kBAAvE,CACA,GAAImO,CAAAA,4BAA4B,CAAC1P,UAAU,CAAC0P,4BAAX,CAAwC7F,oBAAzE,CACAzH,cAAc,CAAC,sBAAD,CAAd,CAAuCA,cAAc,CAAC,sBAAD,CAAd,CAAuC8L,MAAvC,CAA8C,SAAA+C,KAAK,QAAEA,CAAAA,KAAK,CAAC,SAAD,CAAL,EAAkBA,KAAK,CAAC,SAAD,CAAL,GAAmB,EAAvC,EAAnD,CAAvC,CACF,GAAIwB,CAAAA,IAAI,CAAC/C,4BAA4B,GAAGlR,SAA/B,EAA2CkR,4BAA4B,EAAEA,4BAA4B,CAACtG,MAA7B,GAAsC,CAA/G,CAAkH,CAAlH,CAAoHsG,4BAA4B,CAACtG,MAA7B,CAAoC,CAAjK,CACEhH,cAAc,CAAC,sBAAD,CAAd,CACc2H,GADd,CACkB,SAAC2I,UAAD,CAAgB,CAClB,GAAIA,UAAU,CAACjE,kBAAX,GAAgC,CAApC,CAAuC,CACnCiE,UAAU,CAAC,YAAD,CAAV,CAA2BA,UAAU,CAAC1C,OAAX,GAAuB,EAAvB,CAC3BlS,YAAY,CAAC4U,UAAD,CAAaA,UAAU,CAAC,SAAD,CAAvB,CADe,CACuB,CAAC,CADnD,CAIAA,UAAU,CAAC,SAAD,CAAV,CAAwBA,UAAU,CAAC1C,OAAnC,CACA0C,UAAU,CAAC,QAAD,CAAV,CAAuBA,UAAU,CAAC1C,OAAX,GAAuB,EAAvB,CACfnS,gBAAgB,CAACsS,UAAU,CAACuC,UAAU,CAAC1C,OAAZ,CAAX,CAAiCI,QAAQ,CAACsC,UAAU,CAACrC,eAAZ,CAAzC,CADD,CAC0E,EADjG,CAEAqC,UAAU,CAAC,YAAD,CAAV,CAA2BA,UAAU,CAAC1C,OAAX,GAAuB,EAAvB,CACnBlS,YAAY,CAAC4U,UAAD,CAAaA,UAAU,CAAC,QAAD,CAAvB,CADO,CAC8B,CAAC,CAD1D,CAGF,CAXF,IAYK,IAAIA,UAAU,CAACjE,kBAAX,GAAgC,CAApC,CACJ,CACGiE,UAAU,CAAC,YAAD,CAAV,CAA2BA,UAAU,CAACxC,UAAtC,CACAwC,UAAU,CAAC,eAAD,CAAV,CAA8BA,UAAU,CAACC,aAAX,EAA0BD,UAAU,CAACC,aAAnE,CACAD,UAAU,CAAC,gBAAD,CAAV,CAA+BA,UAAU,CAAC,gBAAD,CAAzC,CACAA,UAAU,CAAC,sBAAD,CAAV,CAAqCA,UAAU,CAAC,sBAAD,CAAV,GAAqClU,SAArC,CAA+C,EAA/C,CACrCkU,UAAU,CAAC,sBAAD,CADV,CAEAA,UAAU,CAAC,0BAAD,CAAV,CAAuCA,UAAU,CAAC,0BAAD,CAAjD,CACAA,UAAU,CAAC,gBAAD,CAAV,CAA6BA,UAAU,CAAC,gBAAD,CAAvC,CACAA,UAAU,CAAC,uBAAD,CAAV,CAAoCA,UAAU,CAAC,uBAAD,CAA9C,CACAA,UAAU,CAAC,QAAD,CAAV,CAAqBA,UAAU,CAAC,QAAD,CAA/B,CAEF,CAZG,IAaC,IAAIA,UAAU,CAACjE,kBAAX,GAAgC,CAApC,CACL,CACGiE,UAAU,CAAC,SAAD,CAAV,CAAwBA,UAAU,CAAC1C,OAAnC,CACA0C,UAAU,CAAC,QAAD,CAAV,CAAuBA,UAAU,CAAC1C,OAAlC,CACA0C,UAAU,CAAC,YAAD,CAAV,CAA2BA,UAAU,CAAC1C,OAAX,EAAoB0C,UAAU,CAAC1C,OAAX,CAAmBM,IAAnB,KAA8B,EAAlD,CAAuD,CAAC,CAAxD,CAA4DzU,KAAK,CAAC+W,GAA7F,CAEF,CANI,IAOA,IAAIF,UAAU,CAACjE,kBAAX,GAAgC,CAApC,CACL,CACGiE,UAAU,CAAC,YAAD,CAAV,CAA2BA,UAAU,CAAC1C,OAAX,EAAoB0C,UAAU,CAAC1C,OAAX,CAAmBM,IAAnB,KAA8B,EAAlD,CAAuD,CAAC,CAAxD,CAA4DzU,KAAK,CAAC+W,GAA7F,CACF,CACDF,UAAU,CAAC,YAAD,CAAV,CAAyB,MAAKxU,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6S,WAA5B,CAAwCH,UAAU,CAAC,YAAD,CAAlD,EAAkE,CAAlE,EAAqE,YAArE,CAAzB,CACDA,UAAU,CAAC,MAAD,CAAV,CAAmBD,IAAnB,CACHA,IAAI,GACJ,CAzCb,EA0CYzS,UAAU,CAAC,eAAD,CAAV,CAA4B+J,GAA5B,CAAgC,SAACkH,KAAD,CAAW,CACnC,GAAIA,KAAK,CAAC,oBAAD,CAAL,GAA+BuB,0BAAnC,CAA+D,CAC3D,GAAGvB,KAAK,CAAC,sBAAD,CAAR,CAAiC,CAC7BA,KAAK,CAAC,sBAAD,CAAL,CAA+BA,KAAK,CAAC,sBAAD,CAAL,CAA8B6B,MAA9B,CAAqC9X,QAAQ,CAACoH,cAAc,CAAC,sBAAD,CAAf,CAAwC,YAAxC,CAAqD,MAArD,CAA7C,CAA/B,CAEH,CAHD,IAGK,CACD6O,KAAK,CAAC,sBAAD,CAAL,CAA+BjW,QAAQ,CAACoH,cAAc,CAAC,sBAAD,CAAf,CAAwC,YAAxC,CAAqD,MAArD,CAAvC,CAEH,CACJ,CACJ,CAVL,EAWIoJ,iBAAiB,CAACxL,UAAU,CAAC,eAAD,CAA5B,CACAwE,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF6E,cAAc,CAAE,KADd,CAEFvJ,UAAU,CAAVA,UAFE,CAGFwL,iBAAiB,CAAjBA,iBAHE,CAIFhC,mBAAmB,CAAC,KAJlB,CAKFmH,aAAa,CAAC,KALZ,CAFG,CAAb,CAUnB,CACD,GAAIvO,cAAc,CAAC,yBAAD,CAAd,EAA6CA,cAAc,CAAC,kBAAD,CAA/D,CACE,CACEpC,UAAU,CAAC,cAAD,CAAV,CAA6B,EAA7B,CACA,GAAI+S,CAAAA,0BAA0B,CAAG,CAAjC,CACA,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CAEA,GAAIT,CAAAA,OAAM,CAAG,CACTU,mBAAmB,CAAE7Q,cAAc,CAAC,qBAAD,CAD1B,CAET8Q,eAAe,CAAE9Q,cAAc,CAAC,qBAAD,CAAd,CAAsC,OAAtC,CAFR,CAGT+Q,YAAY,CAAE/Q,cAAc,CAAC,oBAAD,CAAd,CAAqC,OAArC,CAHL,CAITgR,gBAAgB,CAAEhR,cAAc,CAAC,kBAAD,CAAd,CAAmC,OAAnC,CAJT,CAKTiR,YAAY,CAAEjR,cAAc,CAAC,kBAAD,CAAd,CAAmC,OAAnC,CALL,CAMTkR,uBAAuB,CAAElR,cAAc,CAAC,yBAAD,CAAd,CAA4CA,cAAc,CAAC,yBAAD,CAA1D,CAAwF,CAAC,CANzG,CAOT;AACA;AACAmR,eAAe,CAACnR,cAAc,CAAC,yBAAD,CAAd,CAA2CA,cAAc,CAAC,yBAAD,CAAd,CAA0C8H,KAArF,CAChB9H,cAAc,CAAC,kBAAD,CAAd,CAAqCA,cAAc,CAAC,kBAAD,CAAnD,CAA0E,GAVjE,CAWToR,SAAS,CAAEpR,cAAc,CAAC,cAAD,CAAd,CAAiCA,cAAc,CAAC,cAAD,CAA/C,CAAkE,GAXpE,CAYTqR,YAAY,CAAErR,cAAc,CAAC,cAAD,CAAd,CAAiCA,cAAc,CAAC,cAAD,CAA/C,CAAkE,GAZvE,CAaPsR,qBAAqB,CAAE1T,UAAU,CAAC0P,4BAAX,CAAwCgE,qBAbxD,CAcTnS,kBAAkB,CAAEvB,UAAU,CAAC0P,4BAAX,CAAwCnO,kBAdnD,CAeT0Q,qBAAqB,CAACjS,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAfrD,CAAb,CAiBAe,KAAK,CAAE5G,oBAAoB,CAAChD,MAArB,CAA4B,CAA5B,CAA+BiJ,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQjG,oBAAoB,CAACrC,GAArB,CAAyB,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACkP,KAAN,EAA1B,CAAR,EAAnC,CAAmF,CAA1F,CACAA,KAAK,GACL,GAAI3H,iBAAiB,CAACH,cAAlB,CAAiClL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzE,CAAJ,CAAqG,CACjGc,0BAA0B,CAAGV,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQhH,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAAjB,CAAiFlI,GAAjF,CAAqF,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACiP,0BAAN,EAAtF,CAAR,EAAjC,CACAA,0BAA0B,GAC1BR,OAAM,gCAAQA,OAAR,MAAgBQ,0BAA0B,CAAEA,0BAA5C,CAAuEC,KAAK,CAACA,KAA7E,EAAN,CACAzB,qBAAqB,CAAGlG,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAAzC,CACAV,qBAAqB,CAAC5E,IAAtB,CAA2B4F,OAA3B,EACAnG,oBAAoB,CAACO,IAArB,CAA0B4F,OAA1B,EACA,GAAIoB,CAAAA,kBAAkB,CAAClI,iBAAiB,CAAC5H,SAAlB,CAA4B,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACmO,qBAAF,GAA0BjS,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAApE,EAA7B,CAAvB,CACAxG,iBAAiB,CAACkI,kBAAD,CAAjB,CAAsC,eAAtC,EAAuD,EAAvD,CACAlI,iBAAiB,CAACkI,kBAAD,CAAjB,CAAsC,eAAtC,EAAuD3Y,QAAQ,CAACuW,qBAAD,CAAwB,WAAxB,CAAqC,4BAArC,CAA/D,CACAlG,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAAjB,CAAmFjX,QAAQ,CAACuW,qBAAD,CAAwB,YAAxB,CAAsC,4BAAtC,CAA3F,CACA,MAAOnP,CAAAA,cAAc,CAAC,yBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,qBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACH,CAfD,IAgBK,CACD2Q,0BAA0B,GAC1BR,OAAM,gCAAQA,OAAR,MAAgBQ,0BAA0B,CAAEA,0BAA5C,CAAuEC,KAAK,CAACA,KAA7E,EAAN,CACAzB,qBAAqB,CAAC5E,IAAtB,CAA2B4F,OAA3B,EACAnG,oBAAoB,CAACO,IAArB,CAA0B4F,OAA1B,EACA,GAAIoB,CAAAA,mBAAkB,CAAClI,iBAAiB,CAAC5H,SAAlB,CAA4B,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACmO,qBAAF,GAA0BjS,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAApE,EAA7B,CAAvB,CACAxG,iBAAiB,CAACkI,mBAAD,CAAjB,CAAsC,eAAtC,EAAuD,EAAvD,CACAlI,iBAAiB,CAACkI,mBAAD,CAAjB,CAAsC,eAAtC,EAAuD3Y,QAAQ,CAACuW,qBAAD,CAAwB,WAAxB,CAAqC,4BAArC,CAA/D,CACAlG,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAAjB,CAAmFjX,QAAQ,CAACuW,qBAAD,CAAwB,YAAxB,CAAsC,4BAAtC,CAA3F,CACA,MAAOnP,CAAAA,cAAc,CAAC,yBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,qBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,kBAAD,CAArB,CACH,CACDpC,UAAU,CAAC,cAAD,CAAV,CAA6BqL,iBAA7B,CACArL,UAAU,CAAC,sBAAD,CAAV,CAAqCoM,oBAArC,CACA5H,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF6E,cAAc,CAAE,KADd,CAEFvJ,UAAU,CAAVA,UAFE,CAGFqL,iBAAiB,CAAjBA,iBAHE,CAIF0H,0BAA0B,CAA1BA,0BAJE,CAKF3Q,cAAc,CAAdA,cALE,CAFG,CAAb,CAUH,CACD,GAAIA,cAAc,CAAC,eAAD,CAAd,EAAmCA,cAAc,CAAC,aAAD,CAArD,CAAsE,CAElE,GAAGA,cAAc,CAAC,eAAD,CAAd,CAAgCvC,KAAhC,GAAwCuC,cAAc,CAAC,aAAD,CAAd,CAA8BvC,KAAzE,CAA+E,CAE/E,GAAI+T,CAAAA,aAAa,CAAG,CAApB,CACA,GAAIxI,UAAU,CAACF,cAAX,CAA0BlL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAlE,CAAJ,CAA8F,CAC1F,GAAI6B,CAAAA,cAAc,CAACzI,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAV,CAA0ElI,IAA1E,CAA+E,SAAAhG,CAAC,QAAE1B,CAAAA,cAAc,CAAC,eAAD,CAAd,CAAgCvC,KAAhC,GAAwCiE,CAAC,CAACgQ,aAA1C,EAAyD1R,cAAc,CAAC,aAAD,CAAd,CAA8BvC,KAA9B,GAAsCiE,CAAC,CAACiQ,WAAnG,EAAhF,CAAnB,CACA,GAAG,CAACF,cAAJ,CAAmB,CACf7T,UAAU,CAAC,UAAD,CAAV,CAAyB,EAAzB,CACJ4T,aAAa,CAAGvB,IAAI,CAACC,GAAL,OAAAD,IAAI,oBAAQjH,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAV,CAA0EjI,GAA1E,CAA8E,SAAAjG,CAAC,QAAIA,CAAAA,CAAC,CAACkQ,WAAN,EAA/E,CAAR,EAApB,CACAJ,aAAa,GACb,GAAIrB,CAAAA,QAAM,CAAG,CACTyB,WAAW,CAAEJ,aADJ,CACmBK,aAAa,CAAE7R,cAAc,CAAC,eAAD,CAAd,CAAgC8H,KADlE,CACyEgK,WAAW,CAAE9R,cAAc,CAAC,aAAD,CAAd,CAA8B8H,KADpH,CAET4J,aAAa,CAAE1R,cAAc,CAAC,eAAD,CAAd,CAAgCvC,KAFtC,CAE6CkU,WAAW,CAAE3R,cAAc,CAAC,aAAD,CAAd,CAA8BvC,KAFxF,CAGP6T,qBAAqB,CAAE1T,UAAU,CAAC0P,4BAAX,CAAwCgE,qBAHxD,CAG+E1B,qBAAqB,CAAEhS,UAAU,CAAC0P,4BAAX,CAAwCnO,kBAH9I,CAAb,CAKAkQ,oBAAoB,CAAGrG,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAjC,CACAP,oBAAoB,CAAC9E,IAArB,CAA0B4F,QAA1B,EACApG,mBAAmB,CAACQ,IAApB,CAAyB4F,QAAzB,EACAnH,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAV,CAA4EhX,QAAQ,CAACyW,oBAAD,CAAuB,YAAvB,CAAqC,aAArC,CAApF,CACA,MAAOrP,CAAAA,cAAc,CAAC,oBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,eAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,aAAD,CAArB,CACH,CAhBG,IAkBJ,CACI,MAAO3L,CAAAA,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,CAAP,CACH,CAEA,CAxBD,IAyBK,CACDoB,UAAU,CAAC,UAAD,CAAV,CAAyB,EAAzB,CACA4T,aAAa,GACb,GAAIrB,CAAAA,QAAM,CAAG,CACTyB,WAAW,CAAEJ,aADJ,CACmBK,aAAa,CAAE7R,cAAc,CAAC,eAAD,CAAd,CAAgC8H,KADlE,CACyEgK,WAAW,CAAE9R,cAAc,CAAC,aAAD,CAAd,CAA8B8H,KADpH,CAET4J,aAAa,CAAE1R,cAAc,CAAC,eAAD,CAAd,CAAgCvC,KAFtC,CAE6CkU,WAAW,CAAE3R,cAAc,CAAC,aAAD,CAAd,CAA8BvC,KAFxF,CAGP6T,qBAAqB,CAAE1T,UAAU,CAAC0P,4BAAX,CAAwCgE,qBAHxD,CAG+E1B,qBAAqB,CAAEhS,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAH9I,CAAb,CAKAP,oBAAoB,CAAC9E,IAArB,CAA0B4F,QAA1B,EACApG,mBAAmB,CAACQ,IAApB,CAAyB4F,QAAzB,EACAnH,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAV,CAA4EhX,QAAQ,CAACyW,oBAAD,CAAuB,YAAvB,CAAqC,aAArC,CAApF,CACA,MAAOrP,CAAAA,cAAc,CAAC,oBAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,eAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,aAAD,CAArB,CACH,CACDpC,UAAU,CAAC,UAAD,CAAV,CAAyBoL,UAAzB,CACApL,UAAU,CAAC,qBAAD,CAAV,CAAoCmM,mBAApC,CACA3H,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF6E,cAAc,CAAE,KADd,CAEFvJ,UAAU,CAAVA,UAFE,CAGFoL,UAAU,CAAVA,UAHE,CAIFwI,aAAa,CAAbA,aAJE,CAFG,CAAb,CAUH,CAvDG,IAyDJ,CACGnd,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACF,CAEA,CACD,GAAIwH,MAAM,CAACC,IAAP,CAAY7B,UAAZ,EAAwB4E,MAAxB,CAAiC,CAArC,CAAwC,CACpC,MAAKlL,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CACJ,CAviGkB,OAwiGnB2P,cAxiGmB,CAwiGF,SAACC,UAAD,CAAarI,MAAb,CAAqBsI,GAArB,CAA6B,CAC1C,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIlH,CAAAA,KAAK,CAAG,CAAZ,CAEA,GAAIjB,CAAAA,mBAAmB,CAAG,MAAKjO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmM,mBAAtD,CACA,GAAIC,CAAAA,oBAAoB,CAAG,MAAKlO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoM,oBAAvD,CACA,GAAIC,CAAAA,sBAAsB,CAAG,MAAKnO,KAAL,CAAWG,KAAX,CAAiBgO,sBAA9C,CAGA,GAAIjB,CAAAA,UAAU,CAAG,MAAKlN,KAAL,CAAWG,KAAX,CAAiB+M,UAAjB,EAA+B,EAAhD,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKnN,KAAL,CAAWG,KAAX,CAAiBgN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKpN,KAAL,CAAWG,KAAX,CAAiBiN,mBAAjB,EAAwC,EAAlE,CACA,GAAItL,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CAIA,GAAI,MAAK9B,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvCgH,SAAS,CAAGlJ,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAtB,CACAsC,SAAS,CAACnD,MAAV,CAAiBkD,GAAG,CAAC,WAAD,CAApB,CAAmC,CAAnC,EACAlI,mBAAmB,CAACgF,MAApB,CAA2BkD,GAAG,CAAC,WAAD,CAA9B,CAA6C,CAA7C,EACAjJ,UAAU,CAACpL,UAAU,CAAC0P,4BAAX,CAAwCsC,qBAAzC,CAAV,CAA4EsC,SAA5E,CAEH,CACD,GAAI,MAAKpW,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvCgH,SAAS,CAAGjJ,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAA7B,CACA7E,KAAK,CAAGkH,SAAS,CAACzQ,SAAV,CAAoB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACiP,0BAAF,GAAiCsB,GAAG,CAAC,UAAD,CAAH,CAAgBtB,0BAArD,EAArB,CAAR,CACA;AACAuB,SAAS,CAACnD,MAAV,CAAiB/D,KAAjB,CAAwB,CAAxB,EACAA,KAAK,CAAGhB,oBAAoB,CAACvI,SAArB,CAA+B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACkP,KAAF,GAAYqB,GAAG,CAAC,UAAD,CAAH,CAAgBrB,KAAhC,EAAhC,CAAR,CACA;AACA5G,oBAAoB,CAAC+E,MAArB,CAA4B/D,KAA5B,CAAmC,CAAnC,EACA/B,iBAAiB,CAACrL,UAAU,CAAC0P,4BAAX,CAAwCuC,qBAAzC,CAAjB,CAAmFqC,SAAnF,CACH,CACD,GAAI,MAAKpW,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvCgH,SAAS,CAAGtU,UAAU,CAACuU,UAAvB,CACAD,SAAS,CAACnD,MAAV,CAAiBkD,GAAG,CAAC,WAAD,CAApB,CAAmC,CAAnC,EACAhI,sBAAsB,CAAC8E,MAAvB,CAA8BkD,GAAG,CAAC,WAAD,CAAjC,CAAgD,CAAhD,EACA/I,mBAAmB,CAACtL,UAAU,CAAC0P,4BAAX,CAAwCnO,kBAAzC,CAAnB,CAAkF+S,SAAlF,CACH,CACD,GAAI9P,CAAAA,UAAU,CAAG,EAAjB,CACAA,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF0G,UAAU,CAAVA,UADE,CAEFC,iBAAiB,CAAjBA,iBAFE,CAGFC,mBAAmB,CAAnBA,mBAHE,CAIFa,mBAAmB,CAAnBA,mBAJE,CAKFE,sBAAsB,CAAtBA,sBALE,CAMFD,oBAAoB,CAApBA,oBANE,CAFG,CAAb,CAWA,MAAKlO,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA5lGkB,OA6lGnBgQ,eA7lGmB,CA6lGD,SAACJ,UAAD,CAAarI,MAAb,CAAqBsI,GAArB,CAA6B,CAE3C,GAAI7I,CAAAA,iBAAiB,CAAG,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKvN,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,EAAsC,EAA9D,CACA,GAAIE,CAAAA,eAAe,CAAG,MAAKzN,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,EAAoC,EAA1D,CACA,GAAIC,CAAAA,gBAAgB,CAAG,MAAK1N,KAAL,CAAWG,KAAX,CAAiBuN,gBAAjB,EAAqC,EAA5D,CACA,GAAIF,CAAAA,mBAAmB,CAAG,MAAKxN,KAAL,CAAWG,KAAX,CAAiBqN,mBAAjB,EAAwC,EAAlE,CACA,GAAIS,CAAAA,mBAAmB,CAAG,MAAKjO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmM,mBAAtD,CACA,GAAIC,CAAAA,oBAAoB,CAAG,MAAKlO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoM,oBAAvD,CACA,GAAIqI,CAAAA,kBAAkB,CAAG,MAAKvW,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4ByU,kBAArD,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKxW,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0U,mBAAtD,CAEA,GAAItJ,CAAAA,UAAU,CAAG,MAAKlN,KAAL,CAAWG,KAAX,CAAiB+M,UAAjB,EAA+B,EAAhD,CACA,GAAIC,CAAAA,iBAAiB,CAAG,MAAKnN,KAAL,CAAWG,KAAX,CAAiBgN,iBAAjB,EAAsC,EAA9D,CACA,GAAIC,CAAAA,mBAAmB,CAAG,MAAKpN,KAAL,CAAWG,KAAX,CAAiBiN,mBAAjB,EAAwC,EAAlE,CAGA,GAAIoG,CAAAA,uBAAuB,CAAG,MAAKxT,KAAL,CAAWG,KAAX,CAAiBqT,uBAAjB,EAA4C,EAA1E,CACA,GAAIC,CAAAA,uBAAuB,CAAG,MAAKzT,KAAL,CAAWG,KAAX,CAAiBsT,uBAAjB,EAA4C,EAA1E,CACA,GAAIC,CAAAA,yBAAyB,CAAG,MAAK1T,KAAL,CAAWG,KAAX,CAAiBuT,yBAAjB,EAA8C,EAA9E,CACA,GAAI1C,CAAAA,oBAAoB,CAAG,MAAKhR,KAAL,CAAWG,KAAX,CAAiB6Q,oBAAjB,EAAyC,EAApE,CAGA,GAAI2C,CAAAA,8BAA8B,CAAG,MAAK3T,KAAL,CAAWG,KAAX,CAAiBwT,8BAAjB,EAAmD,EAAxF,CACA,GAAIC,CAAAA,8BAA8B,CAAG,MAAK5T,KAAL,CAAWG,KAAX,CAAiByT,8BAAjB,EAAmD,EAAxF,CACA,GAAIC,CAAAA,gCAAgC,CAAG,MAAK7T,KAAL,CAAWG,KAAX,CAAiB0T,gCAAjB,EAAqD,EAA5F,CAEA,GAAI/R,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAIoN,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAI,MAAKlP,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACxC;AACCF,KAAK,CAAG,MAAKlP,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,CAAmC3H,SAAnC,CAA6C,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACkO,qBAAF,GAA4BoC,UAAU,CAACO,aAAX,CAAyB3C,qBAAzD,EAA9C,CAAR,CACAxG,iBAAiB,CAAC2F,MAAlB,CAAyB/D,KAAzB,CAAgC,CAAhC,EACA;AACA;AAEAjB,mBAAmB,CAACA,mBAAmB,CAAC+B,MAApB,CAA2B,SAAU/N,GAAV,CAAgB,CAC3D,MAAOA,CAAAA,GAAG,CAAC6R,qBAAJ,GAA8BoC,UAAU,CAACO,aAAX,CAAyB3C,qBAA9D,CACH,CAFmB,CAApB,CAGA,MAAO5G,CAAAA,UAAU,CAACgJ,UAAU,CAACO,aAAX,CAAyB3C,qBAA1B,CAAjB,CACH,CACD,GAAI,MAAK9T,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACvCF,KAAK,CAAG,MAAKlP,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,CAAmC5H,SAAnC,CAA6C,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACmO,qBAAF,GAA4BmC,UAAU,CAACQ,qBAAX,CAAiC3C,qBAAjE,EAA9C,CAAR,CACAxG,iBAAiB,CAAC0F,MAAlB,CAAyB/D,KAAzB,CAAgC,CAAhC,EACA;AACA;AACAhB,oBAAoB,CAACA,oBAAoB,CAAC8B,MAArB,CAA4B,SAAU/N,GAAV,CAAgB,CAC7D,MAAOA,CAAAA,GAAG,CAAC8R,qBAAJ,GAA8BmC,UAAU,CAACQ,qBAAX,CAAiC3C,qBAAtE,CACH,CAFoB,CAArB,CAGA,MAAO5G,CAAAA,iBAAiB,CAAC+I,UAAU,CAACQ,qBAAX,CAAiC3C,qBAAlC,CAAxB,CACH,CACD,GAAI,MAAK/T,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CACzC;AACEF,KAAK,CAACiH,GAAG,CAAC,WAAD,CAAT,CACA1I,eAAe,CAACwF,MAAhB,CAAuB/D,KAAvB,CAA8B,CAA9B,EACAqH,kBAAkB,CAACtD,MAAnB,CAA0B/D,KAA1B,CAAiC,CAAjC,EACH,CACD,GAAI,MAAKlP,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoC,CAAxC,CAA2C,CAC3C;AACIF,KAAK,CAACiH,GAAG,CAAC,WAAD,CAAT,CACAzI,gBAAgB,CAACuF,MAAjB,CAAwB/D,KAAxB,CAA+B,CAA/B,EACAsH,mBAAmB,CAACvD,MAApB,CAA2B/D,KAA3B,CAAkC,CAAlC,EACH,CACD,GAAI5I,CAAAA,UAAU,CAAG,EAAjB,CACAA,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACF8G,iBAAiB,CAAjBA,iBADE,CAEFJ,UAAU,CAAVA,UAFE,CAGFC,iBAAiB,CAAjBA,iBAHE,CAIFI,iBAAiB,CAAjBA,iBAJE,CAKFC,mBAAmB,CAAnBA,mBALE,CAMFJ,mBAAmB,CAAnBA,mBANE,CAOFtL,UAAU,gCAAKA,UAAL,MAAmBoM,oBAAoB,CAApBA,oBAAnB,CAAwCD,mBAAmB,CAAnBA,mBAAxC,CACNsI,kBAAkB,CAAlBA,kBADM,CAENC,mBAAmB,CAAnBA,mBAFM,EAPR,CAUF/I,eAAe,CAAfA,eAVE,CAWFC,gBAAgB,CAAhBA,gBAXE,CAFG,CAAb,CAiBA,MAAK1N,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA/qGkB,OAgrGnBqQ,kBAhrGmB,CAgrGE,SAAC1H,SAAD,CAAYmB,SAAZ,CAA0B,CAC3C,GAAIlM,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,GAAI0S,CAAAA,sBAAsB,CAAG,MAAKxW,KAAL,CAAWwW,sBAAX,EAAqC,EAAlE,CACA,GAAI/I,CAAAA,MAAM,CAAC,MAAK7N,KAAL,CAAWG,KAAX,CAAiB0N,MAA5B,CACA,GAAIuC,SAAS,GAAK,qBAAlB,CAAyC,CACrC,GAAInB,SAAS,CAACtN,KAAV,GAAoB,CAAxB,CAA2B,CACvBiV,sBAAsB,CAAG,IAAzB,CACA,MAAO1S,CAAAA,cAAc,CAAC,yBAAD,CAArB,CACH,CAHD,IAIK,CACD0S,sBAAsB,CAAG,KAAzB,CACA,MAAO1S,CAAAA,cAAc,CAAC,kBAAD,CAArB,CAEH,CACJ,CAVD,IAWK,IAAIkM,SAAS,GAAK,iBAAlB,CAAqC,CACtClM,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAKjP,KAAL,CAAW6W,oCAAX,CAAgD3S,cAAhD,CAAgE,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjF,CAAiG,IAAjG,CAAuG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAAxH,CAAoI,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAArJ,EACH,CAHI,IAIA,IAAI2O,SAAS,GAAK,oBAAd,EAAuC,MAAKhQ,KAAL,CAAWgP,cAAX,GAA8B,CAAC;AAA1E,CACG,CAEJ,GAAIlL,cAAc,CAAC,6BAAD,CAAlB,CAAmD,CAC/C,GAAIA,cAAc,CAACkM,SAAD,CAAd,CAA0BzO,KAA1B,GAAoCsN,SAAS,CAACtN,KAAlD,CAAyD,CACrD,MAAOuC,CAAAA,cAAc,CAAC,6BAAD,CAArB,CACH,CACJ,CACDA,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA/K,cAAc,CAAC,2BAAD,CAAd,CAA4C,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,2BAAhD,EAChD,MAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,2BAAhD,CADgD,CAC6B,CADzE,CAEA,MAAKrJ,KAAL,CAAWhE,sBAAX,CAAkCkI,cAAlC,CAAkD,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAAnE,CAA+E,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAAhG,CACK,MAAKrB,KAAL,CAAWgP,cADhB,CAC+BvB,MAD/B,EAGH,CACD;AAfK,IAgBA,IAAIuC,SAAS,GAAK,6BAAd,EAAgD,MAAKhQ,KAAL,CAAWgP,cAAX,GAA8B,CAAlF,CAAuF,CACxF,GAAI9I,CAAAA,UAAU,CAAG,EAAjB,CACAA,UAAU,CAAG,CACTC,QAAQ,CAAErJ,cADD,CAETsJ,IAAI,CAAE,CACFxC,UAAU,CAAC,0BADT,CAEFwD,SAAS,CAAC,IAFR,CAFG,CAAb,CAOA,MAAKxH,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EAEH,CAXI,IAYA,IAAI8J,SAAS,GAAK,mBAAlB,CAAuC,CACxClM,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAKjP,KAAL,CAAW8W,gCAAX,CAA4C5S,cAA5C,CAA4D,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAA7E,CAA6F,IAA7F,CAAmG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB2B,UAApH,CAAgI,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsB,QAAjJ,EACH,CACD,GAAI2O,SAAS,GAAK,yBAAlB,CAA6C,CACzClM,cAAc,CAAC,cAAD,CAAd,CAAiC+K,SAAS,CAACrO,IAAV,CAAe2U,YAAhD,CACH,CACDrR,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAkB0S,sBAAsB,CAAtBA,sBAAlB,CAAd,EACH,CAxuGkB,OA0uGrBG,mBA1uGqB,CA0uGC,SAACzU,KAAD,CAAQ4M,KAAR,CAAe2C,SAAf,CAA4B,CAC5C,GAAI3N,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,GAAIyH,CAAAA,oBAAoB,CAAG,MAAKvL,KAAL,CAAW8D,cAAX,CAA0ByH,oBAA1B,CAAiD,MAAKvL,KAAL,CAAW8D,cAAX,CAA0ByH,oBAA3E,CAAkG,EAA7H,CACA,GAAImG,CAAAA,OAAO,CAAG,EAAd,CACA,GAAIkF,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,qBAAqB,CAAG,EAA5B,CACA,GAAIxC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIyC,CAAAA,cAAc,CAAG,EAArB,CACA,GAAIC,CAAAA,UAAU,CAAC,EAAf,CACA,GAAIxV,CAAAA,KAAK,CAAG,CAAC,CAAb,CACA,GAAIyV,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,iBAAJ,CACA,GAAI7L,CAAAA,sBAAsB,CAAG,CAA7B,CACA,GAAIC,CAAAA,+BAA+B,CAAG,CAAtC,CACA,GAAIlK,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIsQ,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACqP,OAAnD,CAA4D,CACxD,GAAI,kBAAkB+F,IAAlB,CAAuBtQ,KAAK,CAACuF,MAAN,CAAalG,KAApC,GAA8CW,KAAK,CAACuF,MAAN,CAAalG,KAAb,GAAuB,EAAzE,CAA6E,CACzEmQ,OAAO,CAAGxP,KAAK,CAACuF,MAAN,CAAalG,KAAvB,CACA0V,iBAAiB,CAAG,CAApB,CACH,CAHD,IAGO,CACHvF,OAAO,CAAGnG,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,SAA5B,IAA2C,IAA3C,CAAkD,EAAlD,CAAuDvD,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,SAA5B,CAAjE,CACAmI,iBAAiB,CAAG1L,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,mBAA5B,CAApB,CACH,CACJ,CACD,GAAI2C,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACmP,UAAnD,CAA+D,CAC3DnB,sBAAsB,CAAGlJ,KAAK,CAAC1B,IAAN,CAAWyJ,2BAApC,CACAoB,+BAA+B,CAAGnJ,KAAK,CAAC1B,IAAN,CAAW0W,wBAA7C,CACA,GAAIhV,KAAK,EAAI,IAAb,CAAmB,CACfwP,OAAO,CAAGxP,KAAK,CAAC1B,IAAN,CAAWyU,eAArB,CACA4B,qBAAqB,CAAG3U,KAAK,CAAC1B,IAAN,CAAWqW,qBAAnC,CACAD,MAAM,CAAG1U,KAAK,CAAC1B,IAAN,CAAW2W,kBAApB,CACA5V,KAAK,CAAGW,KAAK,CAAC1B,IAAN,CAAWoR,UAAnB,CACAyC,aAAa,CAAGnS,KAAK,CAAC1B,IAAN,CAAW6T,aAAX,CAA2BnS,KAAK,CAAC1B,IAAN,CAAW6T,aAAtC,CAAsD,EAAtE,CACAyC,cAAc,CAAG5U,KAAK,CAAC1B,IAAN,CAAW4W,mBAAX,CAAiClV,KAAK,CAAC1B,IAAN,CAAW4W,mBAA5C,CAAkE,EAAnF,CACAH,iBAAiB,CAAG,CAApB,CAEH,CATD,IAUK,CACDvF,OAAO,CAAG,EAAV,CACAkF,MAAM,CAAG,EAAT,CACAC,qBAAqB,CAAG,EAAxB,CACAtV,KAAK,CAAG,CAAC,CAAT,CACA0V,iBAAiB,CAAG,CAApB,CACH,CACD9V,SAAS,CAAG,CACR,2BAA4Be,KAAK,CAAC1B,IAAN,CAAW0W,wBAD/B,CAER,gBAAiB7C,aAFT,CAGR,wBAAyBnS,KAAK,CAAC1B,IAAN,CAAW6W,qBAH5B,CAIR,sBAAuBnV,KAAK,CAAC1B,IAAN,CAAW8W,mBAJ1B,CAAZ,CAMA,GAAIpV,KAAK,CAAC1B,IAAN,CAAW6W,qBAAX,GAAqCta,iBAAiB,CAACgE,EAAvD,EACAmB,KAAK,CAAC1B,IAAN,CAAW8W,mBAAX,GAAmCva,iBAAiB,CAACgE,EADzD,CAC6D,CACzD,GAAIwK,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,gBAA5B,CAAJ,CAAmD,CAC/CvD,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,gBAA5B,EAAgD,EAAhD,CACH,CACD,GAAIvD,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,sBAA5B,CAAJ,CAAyD,CACrDvD,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,sBAA5B,EAAsD,EAAtD,CACH,CACJ,CACJ,CACD,GAAI2C,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACoP,SAAnD,CAA8D,CAC1DkF,OAAO,CAAGxP,KAAK,CAACuF,MAAN,CAAalG,KAAvB,CACA,GAAIW,KAAK,CAACuF,MAAN,CAAalG,KAAb,CAAmByQ,IAAnB,KAA8B,EAAlC,CAAqC,CACjCiF,iBAAiB,CAAG,CAAC,CAArB,CACH,CAFD,IAGI,CACAA,iBAAiB,CAAG,CAApB,CACH,CACJ,CACD,GAAIxF,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACma,UAAnD,CAA+D,CAC3D7F,OAAO,CAAGxP,KAAK,CAAC,CAAD,CAAL,CAASyF,IAAnB,CACAqP,YAAY,CAAG9U,KAAf,CACA+U,iBAAiB,CAAG,CAApB,CACH,CACD1L,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,SAA5B,EAAyC4C,OAAzC,CACAnG,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,QAA5B,EAAwC8H,MAAxC,CACArL,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,uBAA5B,EAAuD+H,qBAAvD,CACAtL,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,gBAA5B,EAAgDgI,cAAhD,CACAvL,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,eAA5B,EAA+CuF,aAA/C,CACA9I,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,cAA5B,EAA8CkI,YAA9C,CACAzL,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,UAA5B,EAA0C,IAA1C,CACAvD,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,YAA5B,EAA4CvN,KAA5C,CACAgK,oBAAoB,CAACuD,KAAD,CAApB,CAA4B,mBAA5B,EAAmDmI,iBAAnD,CAEAnT,cAAc,CAACyH,oBAAf,CAAsCA,oBAAtC,CACA,GAAIkG,SAAS,CAACtB,kBAAV,GAAiC/S,aAAa,CAACmP,UAAnD,CAA+D,CAC3D,MAAK3M,KAAL,CAAW3D,4BAAX,CAAwCkF,SAAxC,CAAmD2C,cAAnD,CAAmEsH,sBAAnE,CAA2F,MAAKxL,KAAL,CAAWG,KAAX,CAAiB2B,UAA5G,EACH,CACD,MAAKS,QAAL,CAAc,CACV2B,cAAc,CAAEA,cADN,CAEVsH,sBAAsB,CAAtBA,sBAFU,CAGVC,+BAA+B,CAA/BA,+BAHU,CAAd,EAMH,CAx0GkB,OA40GnBmM,iBA50GmB,CA40GC,SAACtW,UAAD,CAAgB,CAChC,GAAIQ,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAM2U,CAAAA,aAAa,CAAG,MAAKrW,KAAL,CAAWgP,cAAX,GAA8B,CAA9B,CAAkC9N,UAAU,CAACmV,aAA7C,CAA6D,MAAKrW,KAAL,CAAWgP,cAAX,GAA8B,CAA9B,CAC/E9N,UAAU,CAACoV,qBADoE,CAC5CpV,UAAU,CAACuW,2BADlD,CAEA/V,UAAU,CAAC,8BAAD,CAAV,CAA6C,EAA7C,CACAA,UAAU,CAAC,8BAAD,CAAV,CAA6C2U,aAA7C,CACA,GAAMnQ,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF1E,UAAU,CAAVA,UADE,CAFS,CAAnB,CAMA,MAAK9B,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAz1GkB,OA01GnByD,aA11GmB,CA01GL,SAACgJ,KAAD,CAAS,CACnB,GAAIjR,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACAA,UAAU,CAAC,sBAAD,CAAV,CAAmCiR,KAAK,CAAC,sBAAD,CAAxC,CACA,GAAMzM,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF2F,aAAa,CAAC,IADZ,CAEFrK,UAAU,CAAVA,UAFE,CAGFgW,iBAAiB,CAAC,IAHhB,CAFS,CAAnB,CAQA,MAAK9X,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAt2GkB,OAu2GnBgD,kBAv2GmB,CAu2GE,UAAM,CACvB,GAAIyO,CAAAA,aAAa,CAAI,GAAItT,CAAAA,GAAJ,EAArB,CACA,GAAIwF,CAAAA,aAAa,CAAK,GAAIxF,CAAAA,GAAJ,EAAtB,CACA,GAAIuT,CAAAA,aAAa,CAAI,GAAIvT,CAAAA,GAAJ,EAArB,CACA,GAAIgF,CAAAA,YAAY,CAAI,GAAIhF,CAAAA,GAAJ,EAApB,CACA,GAAI,MAAKzE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,UAAlD,CAA8D,CAC1D,GAAI+O,CAAAA,MAAM,CAAG,MAAKjY,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,UAA9C,CACThB,MAAM,CAACC,IAAP,CAAY,MAAKnI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,YAA9D,CAAZ,CADS,CAET,MAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,cAA9C,CACIhB,MAAM,CAACC,IAAP,CAAY,MAAKnI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,mBAA9D,CAAZ,CADJ,CAEInB,MAAM,CAACC,IAAP,CAAY,MAAKnI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,qBAA9D,CAAZ,CAJR,CAKA4O,MAAM,CAACpM,GAAP,CAAW,SAAAzH,GAAG,CAAI,CACdqF,YAAY,CAAC/E,GAAb,CAAiBwN,QAAQ,CAAC9N,GAAD,CAAzB,CACI8D,MAAM,CAACE,MAAP,CAAc,MAAKpI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,UAA9C,CACV,MAAKlJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,YAA9D,EAA4EjF,GAA5E,CADU,CAEV,MAAKpE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,cAA9C,CACI,MAAKlJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,mBAA9D,EAAmFjF,GAAnF,CADJ,CAEI,MAAKpE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,qBAA9D,EAAqFjF,GAArF,CAJR,CADJ,EAMH,CAPD,EAQA,MAAK7B,QAAL,CAAc,CAAEkH,YAAY,CAAZA,YAAF,CAAd,EACH,CACD,GAAI,MAAKzJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,cAAlD,CAAkE,CAC9D,GAAI+O,CAAAA,OAAM,CAAG/P,MAAM,CAACC,IAAP,CAAY,MAAKnI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,mBAA9D,CAAZ,CAAb,CACA4O,OAAM,CAACpM,GAAP,CAAW,SAAAzH,GAAG,CAAI,CACd6F,aAAa,CAACvF,GAAd,CAAkBwN,QAAQ,CAAC9N,GAAD,CAA1B,CACI8D,MAAM,CAACE,MAAP,CACI,MAAKpI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,mBAA9D,EAAmFjF,GAAnF,CADJ,CADJ,EAGH,CAJD,EAKA,MAAK7B,QAAL,CAAc,CAAE0H,aAAa,CAAbA,aAAF,CAAd,EACH,CACD,GAAI,MAAKjK,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BoH,aAA5B,GAA8C,oBAAlD,CAAwE,CACpE,GAAI+O,CAAAA,QAAM,CACN/P,MAAM,CAACC,IAAP,CAAY,MAAKnI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,qBAA9D,CAAZ,CADJ,CAEA4O,QAAM,CAACpM,GAAP,CAAW,SAAAzH,GAAG,CAAI,CACd4T,aAAa,CAACtT,GAAd,CAAkBwN,QAAQ,CAAC9N,GAAD,CAA1B,CACI8D,MAAM,CAACE,MAAP,CACI,MAAKpI,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,qBAA9D,EAAqFjF,GAArF,CADJ,CADJ,EAGH,CAJD,EAKA,MAAK7B,QAAL,CAAc,CAAEyV,aAAa,CAAbA,aAAF,CAAd,EACH,CACJ,CA/4GkB,OAg5GnBE,WAh5GmB,CAg5GL,SAAClY,KAAD,CAAW,CACrB,GAAG,MAAKA,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,GAA4C,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,EAA2CoJ,MAA3C,CAAkD,CAAjG,CAAmG,CAC/F,GAAKpJ,CAAAA,UAAU,CAAE,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAlC,CACAA,UAAU,CAAC,qBAAD,CAAV,CAAkC9B,KAAK,CAAC,qBAAD,CAAL,CAA6B,CAA7B,CAAlC,CACA,GAAG8B,UAAU,CAAC,qBAAD,CAAV,CAAkC,YAAlC,GAAiDA,UAAU,CAAC,qBAAD,CAAV,CAAkC,YAAlC,EAAgD,mBAAhD,CAApD,CACA,CACKA,UAAU,CAAC,qBAAD,CAAV,CAAkC,YAAlC,EAAgD,mBAAhD,EAAqEqW,OAArE,CAA6E,SAAA9D,MAAM,CAAI,CACpFA,MAAM,CAAC,UAAD,CAAN,EAAoB,MAAOA,CAAAA,MAAM,CAAC,UAAD,CAAjC,CACD,CAFF,EAGJ,CACDvS,UAAU,CAAC,eAAD,CAAV,CAA4B,UAA5B,CACJ,GAAMwE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFxC,UAAU,CAAE,iBADV,CAEFlB,SAAS,CAAE,UAFT,CAGF0E,SAAS,CAAE,IAHT,CAIF1F,UAAU,CAAVA,UAJE,CAFS,CAAnB,CASA,MAAK9B,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CApBG,IAqBA,CACA/N,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,6BAAN,CAA9B,CAAX,EACH,CACA,CAz6GkB,OA06GnB0X,YA16GmB,CA06GJ,SAACpY,KAAD,CAAW,CACtB,GAAG,MAAKA,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,GAA4C,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,aAA5B,EAA2CoJ,MAA3C,CAAkD,CAAjG,CAAmG,CAChG,GAAKpJ,CAAAA,UAAU,CAAE,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAlC,CACHA,UAAU,CAAC,qBAAD,CAAV,CAAkC9B,KAAK,CAAC,qBAAD,CAAL,CAA6B,CAA7B,CAAlC,CACA,GAAMsG,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFxC,UAAU,CAAE,cADV,CAEFlB,SAAS,CAAE,UAFT,CAGF0E,SAAS,CAAE,IAHT,CAIF1F,UAAU,CAAVA,UAJE,CAFS,CAAnB,CASA,MAAK9B,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAbG,IAcA,CACA/N,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,0BAAN,CAA9B,CAAX,EACH,CACA,CA57GkB,OA67GnB2X,0BA77GmB,CA67GU,SAAC/V,KAAD,CAAW,CACpC,MAAKC,QAAL,CAAc,CACV+V,eAAe,CAAEhW,KAAK,CAACG,IADb,CAEV8V,eAAe,CAAEjW,KAAK,CAACK,IAFb,CAAd,EAIH,CAl8GkB,OAm8GnB6V,QAn8GmB,CAm8GR,UAAM,CAEb,GAAQtU,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAI8M,CAAAA,oBAAoB,CAAG,MAAKhR,KAAL,CAAWG,KAAX,CAAiB6Q,oBAAjB,EAAyC,EAApE,CACA,GAAMhD,CAAAA,YAAY,CAAG,MAAKhO,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,EAAiC,EAAtD,CACA,GAAMiD,CAAAA,WAAW,CAAGjD,YAAY,CAAC9C,MAAjC,CACA8C,YAAY,CAACiD,WAAD,CAAZ,CAA4B,CAA5B,CAEAD,oBAAoB,CAAG,MAAKhR,KAAL,CAAWG,KAAX,CAAiBgR,gBAAxC,CACA,GAAIF,WAAW,GAAK,CAApB,CAAuB,CACnB/M,cAAc,CAAC,WAAD,CAAd,CAA8B,EAA9B,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,MAAKlE,KAAL,CAAWG,KAAX,CAAiBsY,YAAnD,CACH,CACD,GAAIvU,cAAc,CAAC,gBAAD,CAAd,GAAqC5D,SAAzC,CAAoD,CAChD4D,cAAc,CAAC,gBAAD,CAAd,CAAmC,EAAnC,CACH,CACD,GAAIA,cAAc,CAAC,gBAAD,CAAd,CAAiC+M,WAAW,CAAG,CAA/C,IAAsD3Q,SAA1D,CAAqE,CACjE4D,cAAc,CAAC,gBAAD,CAAd,CAAiC+M,WAAW,CAAG,CAA/C,EAAoD,EAApD,CACH,CACD/M,cAAc,CAAC,gBAAD,CAAd,CAAiC+M,WAAW,CAAG,CAA/C,EAAkD,YAAlD,EAAkE,IAAlE,CAEA/M,cAAc,CAAC,WAAD,CAAd,CAA4B+M,WAA5B,EAA2C,EAA3C,CACA/M,cAAc,CAAC,WAAD,CAAd,CAA4B+M,WAA5B,EAAyC,YAAzC,EAAyD,IAAzD,CACA/M,cAAc,CAAC,WAAD,CAAd,CAA4B+M,WAA5B,EAAyC,CAAzC,EAA8C,EAA9C,CAEA,GAAM3K,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFwH,YAAY,CAAZA,YADE,CAEFgD,oBAAoB,CAApBA,oBAFE,CAGF9M,cAAc,CAAdA,cAHE,CAIFkL,cAAc,CAAC,CAJb,CAFS,CAAnB,CASA,MAAKpP,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAt+GkB,OAu+GnBzK,0BAv+GmB,CAu+GU,UAAM,CAC/B;AACA;AACA;AACA,GAAIqI,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,MAAKlE,KAAL,CAAWnE,0BAAX,CAAsC,MAAKmE,KAAL,CAAWG,KAAX,CAAiBsB,QAAvD,CAAiE,KAAjE,CAAwE,CACpEiX,WAAW,CAAE,EADuD,CACnD1K,YAAY,CAAE,EADqC,CAEpE2K,gBAAgB,CAAE,EAFkD,CAE9CC,cAAc,CAAE,EAF8B,CAAxE,CAGG,MAAK5Y,KAAL,CAAWG,KAAX,CAAiB2B,UAHpB,EAIA;AACA;AAEA;AAGH,CAt/GkB,OAu/GnB+W,gBAv/GmB,CAu/GA,UAAM,CACrB,GAAI/W,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACAA,UAAU,CAAC,eAAD,CAAV,CAA8B,EAA9B,CACAA,UAAU,CAAC,uBAAD,CAAV,CAAsC,EAAtC,CACAA,UAAU,CAAC,6BAAD,CAAV,CAA4C,EAA5C,CACAA,UAAU,CAAC,cAAD,CAAV,CAA6B,EAA7B,CACAA,UAAU,CAAC,gBAAD,CAAV,CAA+B,EAA/B,CACAA,UAAU,CAAC,UAAD,CAAV,CAAyB,EAAzB,CACA,GAAMwE,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,MAAKxG,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,CAA0C,CAC5CsM,cAAc,CAAE,CAD4B,CAE5C0J,eAAe,CAAE,KAF2B,CAEpB5U,cAAc,CAAE,EAFI,CAEAwU,WAAW,CAAE,EAFb,CAEiBK,KAAK,CAAE,CAFxB,CAG5CjX,UAAU,CAAVA,UAH4C,CAGhCwL,iBAAiB,CAAE,EAHa,CAGTE,mBAAmB,CAAE,EAHZ,CAI5CD,iBAAiB,CAAE,EAJyB,CAIrBL,UAAU,CAAE,EAJS,CAILC,iBAAiB,CAAE,EAJd,CAIkBC,mBAAmB,CAAE,EAJvC,CAK5C0G,qBAAqB,CAAE,CALqB,CAM5CC,qBAAqB,CAAE,CANqB,CAO5CC,qBAAqB,CAAE,CAPqB,CAQ5C/F,mBAAmB,CAAE,EARuB,CAS5CC,oBAAoB,CAAE,EATsB,CAU5CC,sBAAsB,CAAE,EAVoB,CAA1C,CAWF,CACAiB,cAAc,CAAE,CADhB,CAEA0J,eAAe,CAAE,KAFjB,CAEwB5U,cAAc,CAAE,EAFxC,CAE4CwU,WAAW,CAAE,EAFzD,CAE6DK,KAAK,CAAE,CAFpE,CAGAjX,UAAU,CAAVA,UAHA,CAIA;AACA;AACAgS,qBAAqB,CAAE,CANvB,CAOAC,qBAAqB,CAAE,CAPvB,CAQAC,qBAAqB,CAAE,CACvB;AACA;AACA;AACA;AAZA,CAbW,CAAnB,CA4BA,MAAKhU,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA5hHkB,OA6hHnB0S,kBA7hHmB,CA6hHE,SAAC9J,KAAD,CAAQ5M,KAAR,CAAe2W,MAAf,CAA0B,CAE3C,GAAIvY,CAAAA,EAAE,CAAG,KAAT,CACA,GAAI0O,CAAAA,cAAJ,CACA,GAAI8J,CAAAA,WAAJ,CACA,GAAIpX,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAIqX,CAAAA,aAAa,CAAG,MAAKnZ,KAAL,CAAWG,KAAX,CAAiBgZ,aAAjB,EAAkC,EAAtD,CACA,GAAQjV,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAIA,cAAc,CAAC,WAAD,CAAd,CAA4BgH,MAA5B,CAAqC,CAAzC,CAA4C,CACxC,GAAI,MAAKmB,gBAAL,CAAsBnI,cAAtB,CAAJ,CAA2C,CACvC,GAAIkV,MAAM,CAACC,UAAP,CAAoB,GAApB,EAA2B/W,KAA3B,EAAoC,MAAKlC,KAAL,CAAWmS,eAA/C,EAAkE,CAACjQ,KAAvE,CAA8E,CAC1E8M,cAAc,CAAG,MAAKhP,KAAL,CAAWgP,cAAX,GAA8BF,KAA9B,CAAsCA,KAAtC,CAA8CxO,EAAE,CAAGwO,KAAH,CAAW,KAA5E,CACH,CACD,GAAIkK,MAAM,CAACC,UAAP,CAAoB,GAApB,EAA2B/W,KAA3B,EAAoC,MAAKlC,KAAL,CAAWmS,eAA/C,EAAkE,CAACjQ,KAAvE,CAA8E,CAC1E,GAAI4M,KAAK,GAAK,CAAd,CAAiB,CACbiK,aAAa,CAAG,UAAhB,CACArX,UAAU,CAAC,8BAAD,CAAV,CAA6C,MAAK9B,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,EAAsC,MAAKtN,KAAL,CAAWG,KAAX,CAAiBmN,iBAAjB,CAAmC,CAAnC,CAAnF,CACH,CACD,GAAI4B,KAAK,GAAK,CAAd,CAAiB,CACbiK,aAAa,CAAG,cAAhB,CACArX,UAAU,CAAC,8BAAD,CAAV,CAA6C,MAAK9B,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,EAAsC,MAAKvN,KAAL,CAAWG,KAAX,CAAiBoN,iBAAjB,CAAmC,CAAnC,CAAnF,CACH,CACD,GAAI2B,KAAK,GAAK,CAAd,CAAiB,CACbiK,aAAa,CAAG,YAAhB,CACArX,UAAU,CAAC,8BAAD,CAAV,CAA6C,MAAK9B,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,EAAoC,MAAKzN,KAAL,CAAWG,KAAX,CAAiBsN,eAAjB,CAAiC,CAAjC,CAAjF,CACH,CACD,GAAIyB,KAAK,GAAK,CAAd,CAAiB,CACbiK,aAAa,CAAG,mBAAhB,CACArX,UAAU,CAAC,8BAAD,CAAV,CAA6C,MAAK9B,KAAL,CAAWG,KAAX,CAAiBmZ,gBAAjB,EAAqC,MAAKtZ,KAAL,CAAWG,KAAX,CAAiBmZ,gBAAjB,CAAkC,CAAlC,CAAlF,CACH,CACD,GAAMhT,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF4I,cAAc,CAAEF,KAAK,GAAK,CAAV,CAAc,CAAd,CAAkB,MAAK9O,KAAL,CAAWgP,cAAX,GAA8BF,KAA9B,CAAsCA,KAAtC,CAA8CxO,EAAE,CAAGwO,KAAH,CAAW,KAD3F,CAEFgK,WAAW,CAAExY,EAFX,CAGFyY,aAAa,CAAbA,aAHE,CAIFrX,UAAU,CAAVA,UAJE,CAFS,CAAnB,CASA,MAAK9B,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CACJ,CAhCD,IAgCO,CACH/N,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,6BAAN,CAA9B,CAAX,EACH,CACJ,CApCD,IAqCK,CACDnI,KAAK,CAACuW,IAAN,CAAW,MAAK9O,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mCAAN,CAA9B,CAAX,EACH,CACJ,CA7kHkB,OAglHnB6Y,UAhlHmB,CAglHN,SAAClJ,UAAD,CAAanB,KAAb,CAAuB,CAChC,GAAIlB,CAAAA,YAAY,CAAG,MAAKhO,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,EAAiC,EAApD,CACA,GAAM9J,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA8J,YAAY,CAACqC,UAAD,CAAZ,CAA2BrC,YAAY,CAACqC,UAAD,CAAZ,CAA2B,CAAtD,CAEA,GAAIrC,YAAY,CAACqC,UAAD,CAAZ,GAA6B,CAAjC,CAAoC,CAChCrC,YAAY,CAACiF,MAAb,CAAoB5C,UAApB,CAAgC,CAAhC,EACAnM,cAAc,CAAC,WAAD,CAAd,CAA4B+O,MAA5B,CAAmC5C,UAAnC,CAA+C,CAA/C,EACA,GAAInM,cAAc,CAAC,gBAAD,CAAlB,CAAsC,CAClCA,cAAc,CAAC,gBAAD,CAAd,CAAiC+O,MAAjC,CAAwC5C,UAAU,CAAG,CAArD,CAAwD,CAAxD,EACH,CACJ,CAND,IAMO,CACHnM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwC4C,MAAxC,CAA+C/D,KAA/C,CAAsD,CAAtD,EACH,CACD,GAAM5I,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAEwH,YAAY,CAAZA,YAAF,CAAgB9J,cAAc,CAAdA,cAAhB,CACFkL,cAAc,CAAC,CADb,CAFS,CAAnB,CAKA,MAAKpP,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CApmHkB,OAqmHnBkT,aArmHmB,CAqmHH,SAACtK,KAAD,CAAW,CACvB,GAAIuK,CAAAA,cAAc,CAAG,MAAKzZ,KAAL,CAAWG,KAAX,CAAiBsZ,cAAtC,CACAA,cAAc,CAACxG,MAAf,CAAsB/D,KAAtB,CAA6B,CAA7B,EACA,GAAM5I,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAEiT,cAAc,CAAdA,cAAF,CAFS,CAAnB,CAIA,MAAKzZ,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA7mHkB,OAwnHnBoT,SAxnHmB,CAwnHP,UAAM,CACd,GAAMC,CAAAA,SAAS,CAAG,MAAKvZ,KAAL,CAAW8D,cAAX,CAA0ByV,SAA1B,EAAuC,EAAzD,CACA,GAAMrT,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CAAEkS,WAAW,CAAE,EAAf,CAAmBxU,cAAc,CAAE,CAAEyV,SAAS,CAATA,SAAF,CAAnC,CAAkDC,QAAQ,CAAE,KAA5D,CAFS,CAAnB,CAIA,MAAK5Z,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CA/nHkB,OAioHnBuT,SAjoHmB,CAioHP,UAAM,CACd,GAAI/X,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,EAAhD,CACA,GAAIoC,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACApC,UAAU,CAAC,eAAD,CAAV,CAA8B,EAA9B,CACAA,UAAU,CAAC,uBAAD,CAAV,CAAsC,EAAtC,CACAA,UAAU,CAAC,6BAAD,CAAV,CAA4C,EAA5C,CACAA,UAAU,CAAC,cAAD,CAAV,CAA6B,EAA7B,CACAA,UAAU,CAAC,gBAAD,CAAV,CAA+B,EAA/B,CACAA,UAAU,CAAC,YAAD,CAAV,CAA2B,EAA3B,CACAA,UAAU,CAAC,kBAAD,CAAV,CAAiC,EAAjC,CACAA,UAAU,CAAC,UAAD,CAAV,CAAyB,EAAzB,CACA,GAAIoC,cAAc,CAAC,WAAD,CAAlB,CAAiC,CAC7BA,cAAc,CAAC,WAAD,CAAd,CAA8B,EAA9B,CAEH,CACD,GAAIA,cAAc,CAAC,gBAAD,CAAlB,CAAsC,CAClCA,cAAc,CAAC,gBAAD,CAAd,CAAmC,EAAnC,CAEH,CACD,GAAMoC,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFkS,WAAW,CAAE,EADX,CACe1K,YAAY,CAAE,EAD7B,CACiClM,UAAU,CAAVA,UADjC,CAEF6W,gBAAgB,CAAE,EAFhB,CAEoBC,cAAc,CAAE,EAFpC,CAEwCtL,iBAAiB,CAAE,EAF3D,CAE+DE,mBAAmB,CAAE,EAFpF,CAGFD,iBAAiB,CAAE,EAHjB,CAGqBL,UAAU,CAAE,EAHjC,CAGqCC,iBAAiB,CAAE,EAHxD,CAG4DC,mBAAmB,CAAE,EAHjF,CAGqFlJ,cAAc,CAAdA,cAHrF,CAGqGuJ,eAAe,CAAE,EAHtH,CAIFC,gBAAgB,CAAE,EAJhB,CAKF0B,cAAc,CAAC,CALb,CAFS,CAAnB,CAUA,MAAKpP,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EAEH,CAhqHkB,OAkqHnBwT,cAlqHmB,CAkqHF,SAAC7K,SAAD,CAAYmB,SAAZ,CAAuBC,UAAvB,CAAmCnB,KAAnC,CAA6C,CAC1D,GAAQhL,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAM6V,CAAAA,iBAAiB,CAAG7V,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,GAA6D,EAAvF,CACAlM,cAAc,CAAC,WAAD,CAAd,CAA4BmM,UAA5B,EAAwCnB,KAAxC,EAA+CkB,SAA/C,EAA4DnB,SAA5D,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAkBmM,UAAU,CAAVA,UAAlB,CAA8BnB,KAAK,CAALA,KAA9B,CAAd,EACH,CAvqHkB,OAyqHnB8K,aAzqHmB,CAyqHH,SAAC1X,KAAD,CAAQwF,IAAR,CAAcuI,UAAd,CAA0BnB,KAA1B,CAAoC,CAChD,GAAMhL,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAApD,CACA,GAAIiP,CAAAA,aAAa,CAAG,MAAK/S,KAAL,CAAW+S,aAAX,EAA4B,EAAhD,CACA,GAAI7Q,KAAK,CAACuF,MAAN,CAAaC,IAAb,GAAsB,UAA1B,CAAsC,CAClC,GAAIxF,KAAK,CAACuF,MAAN,CAAaE,IAAb,GAAsB,eAAtB,EAAyCzF,KAAK,CAACuF,MAAN,CAAaG,OAAb,GAAyB,IAAtE,CAA4E,CACxEmL,aAAa,CAAG,IAAhB,CACH,CAFD,IAGK,CACDA,aAAa,CAAG,KAAhB,CACA,MAAOjP,CAAAA,cAAc,CAAC,eAAD,CAArB,CACA,MAAOA,CAAAA,cAAc,CAAC,aAAD,CAArB,CACH,CACDA,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAaG,OAAb,GAAyB,IAAzB,CAAgC,CAAhC,CAAoC,CAAxE,CACH,CAVD,IAWK,CACD9D,cAAc,CAAC5B,KAAK,CAACuF,MAAN,CAAaE,IAAd,CAAd,CAAoCzF,KAAK,CAACuF,MAAN,CAAalG,KAAjD,CACH,CACD,MAAKY,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAkBiP,aAAa,CAAbA,aAAlB,CAAd,EACH,CA3rHkB,OA+rHnBnC,oBA/rHmB,CA+rHI,SAACiJ,IAAD,CAAU,CAC7B,GAAI7K,CAAAA,cAAc,CAAG,MAAKpP,KAAL,CAAWG,KAAX,CAAiBiP,cAAtC,CAEA,GAAIA,cAAc,GAAK,CAAvB,CAA0B,CACtB,GAAIlL,CAAAA,cAAc,CAAG,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,EAAmC,MAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAzE,CACA,GAAIgW,CAAAA,WAAW,CAAG9K,cAAc,GAAK,CAAnB,CAAuB,MAAKpP,KAAL,CAAWG,KAAX,CAAiBmN,iBAAxC,CAA4D8B,cAAc,GAAK,CAAnB,CAAuB,MAAKpP,KAAL,CAAWG,KAAX,CAAiBoN,iBAAxC,CACxE6B,cAAc,GAAK,CAAnB,CAAuB,MAAKpP,KAAL,CAAWG,KAAX,CAAiBsN,eAAxC,CAA0D2B,cAAc,GAAK,CAAnB,CAAuB,MAAKpP,KAAL,CAAWG,KAAX,CAAiBuN,gBAAxC,CAA2D,EAD3H,CAEA,GAAIwM,WAAW,GAAK5Z,SAAhB,EAA6B4Z,WAAjC,CACID,IAAI,CAAGA,IAAI,CAACjK,MAAL,CAAY,kBAAGrO,CAAAA,KAAH,MAAGA,KAAH,OAAe,CAACuY,WAAW,CAACtO,IAAZ,CAAiB,SAAAhG,CAAC,QAAIA,CAAAA,CAAC,CAACvC,kBAAF,EAAwB1B,KAA5B,EAAlB,CAAhB,EAAZ,CAAP,CACP,CACD,MAAOsY,CAAAA,IAAP,CACH,CA1sHkB,OA2sHnBE,gBA3sHmB,CA2sHA,SAAC/J,SAAD,CAAYlB,KAAZ,CAAmBkL,OAAnB,CAA+B,CAC9C,GAAMlW,CAAAA,cAAN,CAAyB,MAAK9D,KAA9B,CAAM8D,cAAN,CACAA,cAAc,CAAC,gBAAD,CAAd,CAAmCA,cAAc,CAAC,gBAAD,CAAd,EAAoC,EAAvE,CACA,GAAIgL,KAAK,GAAK5O,SAAV,EAAuB8Z,OAAO,GAAK,KAAvC,CAA8C,CAC1C,GAAIhK,SAAS,eAAb,CAAgC,CAC5BlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,EAAgDlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,IAAkD,IAAlD,CAAyD,IAAzD,CAAgE,IAAhH,CACAlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,eAAkD,KAAlD,CACH,CAHD,IAGO,IAAIkB,SAAS,cAAb,CAA+B,CAClClM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,EAAgDlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,IAAkD,IAAlD,CAAyD,IAAzD,CAAgE,IAAhH,CACAlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,gBAAmD,KAAnD,CACH,CAHM,IAGA,IAAIkB,SAAS,eAAb,CAAgC,CACnClM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,EAAgDlM,cAAc,CAAC,WAAD,CAAd,CAA4BgL,KAA5B,EAAmCkB,SAAnC,IAAkD,IAAlD,CAAyD,KAAzD,CAAiE,IAAjH,CACH,CAFM,IAGF,CAEJ,CACD,MAAK7N,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAdD,IAeK,CACD,GAAIkM,SAAS,eAAb,CAAgC,CAC5B,GAAIlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,IAA4C5O,SAAhD,CAA2D,CACvD4D,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAA0C,EAA1C,CACH,CACDhL,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,EAAqDlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,IAAuD,IAAvD,CAA8D,IAA9D,CAAqE,IAA1H,CACAlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,eAAuD,KAAvD,CACH,CACD,GAAIkB,SAAS,cAAb,CAA+B,CAC3B,GAAIlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,IAA4C5O,SAAhD,CAA2D,CACvD4D,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAA0C,EAA1C,CACH,CACDhL,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,EAAqDlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,IAAuD,IAAvD,CAA8D,IAA9D,CAAqE,IAA1H,CACAlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,gBAAwD,KAAxD,CACH,CACD,GAAIkB,SAAS,eAAb,CAAgC,CAC5B,GAAIlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,IAA4C5O,SAAhD,CAA2D,CACvD4D,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAA0C,EAA1C,CACH,CACDhL,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,EAAqDlM,cAAc,CAAC,gBAAD,CAAd,CAAiCgL,KAAjC,EAAwCkB,SAAxC,IAAuD,IAAvD,CAA8D,KAA9D,CAAsE,IAA3H,CACH,CACD,MAAK7N,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAEJ,CArvHkB,OAyvHnBmW,uBAzvHmB,CAyvHO,SAAC3Z,EAAD,CAAQ,CAE9B,GAAM4F,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACF4I,cAAc,CAAE9O,SADd,CAEF6Y,aAAa,CAAE7Y,SAFb,CAGF4Y,WAAW,CAAExY,EAHX,CAFS,CAAnB,CAQA,MAAKV,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CApwHkB,OAqwHnBgU,mBArwHmB,CAqwHG,SAACrL,SAAD,CAAYmB,SAAZ,CAAuBzI,MAAvB,CAAkC,CACpD,GAAI/D,CAAAA,cAAc,CAAG,MAAKxD,KAAL,CAAWwD,cAAX,EAA6B,EAAlD,CACA,GAAItC,CAAAA,UAAU,CAAG,EAAjB,CACA,OAAQqG,MAAR,EACI,IAAK,EAAL,CACI/D,cAAc,CAACwM,SAAD,CAAd,CAA4BnB,SAA5B,CACA3N,UAAU,CAAG,CACTC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEP8Y,UAAU,CAAEtL,SAAS,CAACrO,IAFf,CAGPgD,cAAc,CAAdA,cAHO,CADF,CAMTb,SAAS,CAAE,qBANF,CAAb,CAQA,MAAK/C,KAAL,CAAWhG,kBAAX,CAA8BsH,UAA9B,CAA0C,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAA3D,EACA,MAEJ,IAAK,EAAL,CACI8B,cAAc,CAACwM,SAAD,CAAd,CAA4BnB,SAA5B,CACA3N,UAAU,CAAG,CACTC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEP8Y,UAAU,CAAE3W,cAAc,CAACvD,eAAf,CAA+BO,IAFpC,CAGP4Z,eAAe,CAAEvL,SAAS,CAACrO,IAHpB,CAIPgD,cAAc,CAAdA,cAJO,CADF,CAOTb,SAAS,CAAE,aAPF,CAAb,CASA,MAAK/C,KAAL,CAAWhG,kBAAX,CAA8BsH,UAA9B,CAA0C,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAA3D,EACA,MAEJ,IAAK,EAAL,CACI8B,cAAc,CAACwM,SAAD,CAAd,CAA4BnB,SAA5B,CACA3N,UAAU,CAAG,CACTC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEP8Y,UAAU,CAAE3W,cAAc,CAACvD,eAAf,CAA+BO,IAFpC,CAGP4Z,eAAe,CAAE5W,cAAc,CAACjD,eAAf,CAA+BC,IAHzC,CAIP6Z,OAAO,CAAExL,SAAS,CAACrO,IAJZ,CAKP8Z,OAAO,CAACzL,SAAS,CAACrO,IALX,CAMPgD,cAAc,CAAdA,cANO,CADF,CASTb,SAAS,CAAE,yBATF,CAAb,CAWA,MAAK/C,KAAL,CAAWhG,kBAAX,CAA8BsH,UAA9B,CAA0C,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAA3D,EACA,MAEJ,IAAK,EAAL,CACI8B,cAAc,CAACwM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAEqB,cAAc,CAAdA,cAAF,CAAd,EACA,MAEJ,IAAK,EAAL,CACI,GAAMM,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACAA,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,GAAM0L,CAAAA,uBAAuB,CAAG,MAAK3a,KAAL,CAAWG,KAAX,CAAiBya,kBAAjB,CAAoCD,uBAApC,EAA+D,EAA/F,CACA,GAAIE,CAAAA,uBAAuB,CAAG,EAA9B,CACA,GAAI,MAAK7a,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,IAAiC,MAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,MAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,MAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAAlE,CAAJ,CAA4L,CACxLF,uBAAuB,CAAG3W,cAAc,CAAC,gBAAD,CAAd,CAAmCA,cAAc,CAAC,gBAAD,CAAd,CAAiCtD,IAApE,CAA2E+Z,uBAAuB,CAAC,CAAD,CAAvB,CAA2B/Z,IAAhI,CACH,CAFD,IAEO,CACHia,uBAAuB,CAAG,MAAK7a,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkZ,iBAAtD,CACH,CACD1Z,UAAU,CAAG,CACTE,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADlB,CAETwZ,YAAY,CAAEhM,SAAS,CAACrO,IAFf,CAGT8F,uBAAuB,CAAEmU,uBAHhB,CAITK,iBAAiB,CAAE,MAAKlb,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAA5B,CAAkD,mBAAlD,CAJV,CAKTc,cAAc,CAAdA,cALS,CAAb,CAOA,MAAKlE,KAAL,CAAW1F,kBAAX,CAA8BgH,UAA9B,CAA0C,MAAKtB,KAAL,CAAWG,KAAX,CAAiBya,kBAA3D,EACA,MACJ,IAAK,EAAL,CACIhX,cAAc,CAACwM,SAAD,CAAd,CAA4BnB,SAA5B,CACA3N,UAAU,CAAG,CACTC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEP0Z,gBAAgB,CAACvX,cAAc,CAACuX,gBAAf,CAAgCxZ,KAF1C,CAGPyZ,WAAW,CAACxX,cAAc,CAACuX,gBAAf,CAAgCva,IAHrC,CAIR;AACA;AACCgD,cAAc,CAAdA,cANO,CADF,CASTZ,QAAQ,CAAC,gBATA,CAUTD,SAAS,CAAE,kCAVF,CAAb,CAYA,MAAK/C,KAAL,CAAWhG,kBAAX,CAA8BsH,UAA9B,CAA0C,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAA3D,EACA,MAEJ,QACI,MAtFR,CAwFH,CAh2HkB,OAk2HnBuZ,gBAl2HmB,CAk2HA,SAACC,QAAD,CAAWC,SAAX,CAAyB,CACxC,GAAQrX,CAAAA,cAAR,CAA2B,MAAK9D,KAAhC,CAAQ8D,cAAR,CACA,GAAIqX,SAAS,GAAK,IAAlB,CAAwB,CACpBA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACH,CACDtX,cAAc,CAACoX,QAAD,CAAd,CAA2BC,SAA3B,CACA,MAAKhZ,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAz2HkB,OA22HnBuX,oBA32HmB,CA22HI,SAAC9Z,KAAD,CAAQoG,IAAR,CAAiB,CACpC,GAAM7D,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAApD,CACAA,cAAc,CAAC6D,IAAD,CAAd,CAAuBpG,KAAvB,CACA,MAAKY,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CA/2HkB,OAi3HnBwX,WAj3HmB,CAi3HL,SAACC,QAAD,CAAWC,OAAX,CAAuB,CACjC,GAAIta,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAI,MAAKtB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhC,EACG,MAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cADvC,CACuD,CACnD1C,UAAU,CAAG,MAAKua,UAAL,CAAgBF,QAAhB,CAA0BC,OAA1B,CAAb,CACH,CAHD,IAGO,IAAI,MAAK5b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,mBAApC,CAAyD,CAC5D1C,UAAU,CAAG,MAAKwa,mBAAL,CAAyBH,QAAzB,CAAmCC,OAAnC,CAAb,CACH,CAFM,IAEA,IAAI,MAAK5b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAA+B,MAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,MAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAAnC,CAAwJ,CAC3JzZ,UAAU,CAAG,MAAKya,eAAL,CAAqBJ,QAArB,CAA+BC,OAA/B,CAAb,CACH,CAFM,IAEA,IAAI,MAAK5b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,uBAApC,CAA6D,CAChE1C,UAAU,CAAG,MAAK0a,uBAAL,CAA6BL,QAA7B,CAAuCC,OAAvC,CAAb,CACH,CAFM,IAEA,IAAI,MAAK5b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,UAAhC,EACJ,MAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,uBADhC,CACyD,CAC5D1C,UAAU,CAAG,MAAK2a,UAAL,CAAgBN,QAAhB,CAA0BC,OAA1B,CAAb,CACH,CAHM,IAGA,IAAI,MAAK5b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAApC,CAAoD,CACvD1C,UAAU,CAAG,MAAK4a,cAAL,CAAoBP,QAApB,CAA8BC,OAA9B,CAAb,CACH,CACD,GAAI/e,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E,MAAKb,KAAL,CAAWG,KAAX,CAAiBoF,YAA/F,CAAb,CAA2H,CACvH,GAAMe,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeE,SAAS,CAAE,IAD1B,CACgC1E,SAAS,CAAE,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAD5D,CAEFyE,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAE,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA3C,CAFV,CAGF6Z,QAAQ,CAARA,QAHE,CAFS,CAAnB,CAQA,MAAK3b,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CAVD,IAUO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAnD,CAA+D,WAA/D,CAA4E,EAA5E,EACH,CACJ,CA/4HkB,OAi5HnBma,UAj5HmB,CAi5HN,SAACN,QAAD,CAAWC,OAAX,CAAuB,CAChC,GAAM9Y,CAAAA,SAAS,CAAG,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAnC,CACA,GAAMhB,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAMoC,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA,GAAI3C,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAG,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAAlC,CACA,GAAIqF,CAAAA,SAAS,CAAGxG,SAAhB,CACA,GAAIwC,SAAS,GAAK,QAAlB,CAA4B,CACxB,GAAMqZ,CAAAA,SAAS,CAAGjY,cAAc,CAACkY,SAAf,CAAyBvQ,GAAzB,CAA6B,SAAA+G,IAAI,CAAI,CAAE,MAAOA,CAAAA,IAAI,CAAChS,IAAZ,CAAkB,CAAzD,CAAlB,CACAW,SAAS,CAAG,CACR4B,sBAAsB,CAAErB,UAAU,CAACsB,qBAD3B,CAERsD,uBAAuB,CAAE,CAAC5E,UAAU,CAACkZ,iBAAZ,CAFjB,CAGRnU,aAAa,CAAEsV,SAHP,CAGkB3a,QAAQ,CAARA,QAHlB,CAAZ,CAKH,CAPD,IAOO,CACHsF,SAAS,CAAG,CACRC,aAAa,CAAE,eADP,CACwBC,cAAc,CAAE,cADxC,CACwDC,eAAe,CAAE,oBADzE,CAERC,eAAe,CAAEpF,UAAU,CAACsM,YAAX,CAA0BtM,UAAU,CAACsM,YAAX,CAAwB/K,kBAAlD,CAAuE,CAFhF,CAGR8D,QAAQ,CAAE,4BAHF,CAGgCC,gBAAgB,CAAE,CAAE5F,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAA7B,CAHlD,CAIRK,UAAU,CAAE,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAJrB,CAIiCjD,eAAe,CAAfA,eAJjC,CAIkDwd,UAAU,CAAE,CAAC,sBAAD,CAAyB,+BAAzB,CAClE,kCADkE,CAC9B,4BAD8B,CACA,wBADA,CAJ9D,CAKyFC,cAAc,CAAE,IALzG,CAAZ,CAOA,GAAIC,CAAAA,iBAAiB,CAAG,IAAxB,CACA,GAAIC,CAAAA,aAAa,CAAGtY,cAAc,CAACuY,aAAnC,CACA,GAAID,aAAJ,CAAmB,CACfA,aAAa,CAAGA,aAAa,CAAC5b,IAA9B,CACA2b,iBAAiB,CAAG,CAChB/Y,SAAS,CAAEgZ,aAAa,CAAChZ,SADT,CAEhBkZ,mBAAmB,CAAEF,aAAa,CAACE,mBAFnB,CAGhBnH,YAAY,CAAEiH,aAAa,CAACjH,YAHZ,CAIhBoH,eAAe,CAAEH,aAAa,CAACG,eAJf,CAKhBC,YAAY,CAAEJ,aAAa,CAACI,YALZ,CAMhBC,SAAS,CAAEL,aAAa,CAACK,SANT,CAOhB5Z,kBAAkB,CAAEiB,cAAc,CAACjB,kBAPnB,CAQhBI,kBAAkB,CAAEa,cAAc,CAACb,kBARnB,CAShByZ,SAAS,CAAEN,aAAa,CAACM,SATT,CAUhBC,OAAO,CAAE5f,iBAAiB,CAAC6f,MAVX,CAApB,CAYH,CACDzb,SAAS,CAAG,CACR4B,sBAAsB,CAAErB,UAAU,CAACsB,qBAD3B,CAERyD,aAAa,CAAE,CACXxD,kBAAkB,CAAEa,cAAc,CAACb,kBADxB,CAEX4Z,YAAY,CAAE/Y,cAAc,CAAC+Y,YAAf,CAA4Btb,KAF/B,CAGX;AACAub,WAAW,CAAEhZ,cAAc,CAACgZ,WAAf,CAA6BhZ,cAAc,CAACgZ,WAAf,CAA2Bvb,KAAxD,CAAgExE,iBAAiB,CAACsG,EAJpF,CAKX0Z,kBAAkB,CAAEjZ,cAAc,CAACiZ,kBAAf,CAAoCjZ,cAAc,CAACiZ,kBAAf,CAAkCxb,KAAtE,CAA8ExE,iBAAiB,CAACsG,EALzG,CAMX2Z,kBAAkB,CAAElZ,cAAc,CAACkZ,kBAAf,CAAoClZ,cAAc,CAACkZ,kBAAf,CAAkCzb,KAAtE,CAA8ExE,iBAAiB,CAACsG,EANzG,CAOXwR,YAAY,CAAE/Q,cAAc,CAAC+Q,YAPlB,CAQXoI,KAAK,CAAEnZ,cAAc,CAACmZ,KARX,CASXC,OAAO,CAAEpZ,cAAc,CAACoZ,OATb,CAUXC,mBAAmB,CAAErZ,cAAc,CAACqZ,mBAVzB,CAWXC,cAAc,CAAEtZ,cAAc,CAACsZ,cAXpB,CAFP,CAgBRjB,iBAAiB,CAAjBA,iBAhBQ,CAgBW/a,QAAQ,CAARA,QAhBX,CAAZ,CAkBH,CACD,GAAMF,CAAAA,UAAU,CAAG,CACfC,SAAS,CAATA,SADe,CAEfyB,QAAQ,CAAE,WAFK,CAGfF,SAAS,CAAEA,SAHI,CAIfC,SAAS,CAAE,MAJI,CAKf4Y,QAAQ,CAARA,QALe,CAKLC,OAAO,CAAPA,OALK,CAKI7Z,SAAS,CAAE,MAAKA,SALpB,CAMf+E,SAAS,CAATA,SANe,CAAnB,CAQA,MAAOxF,CAAAA,UAAP,CACH,CAp9HkB,OAs9HnBua,UAt9HmB,CAs9HN,SAACF,QAAD,CAAWC,OAAX,CAAuB,CAChC,GAAM9Y,CAAAA,SAAS,CAAG,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAnC,CACA,GAAMoB,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA,GAAI3C,CAAAA,SAAS,CAAG,CACZC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADf,CAAhB,CAGA,GAAIqB,SAAS,GAAK,QAAlB,CAA4B,CACxB,GAAM+C,CAAAA,YAAY,CAAG,MAAK7F,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAAjD,CACAtE,SAAS,CAAC,0BAAD,CAAT,CAAwC,CACpCqH,yBAAyB,CAAE1E,cAAc,CAAC0E,yBADN,CAEpCJ,iBAAiB,CAAEtE,cAAc,CAACsE,iBAFE,CAGpCnI,eAAe,CAAEwF,YAAY,CAACxF,eAHM,CAIpCgB,oBAAoB,CAAEwE,YAAY,CAACxE,oBAJC,CAKpCV,eAAe,CAAEkF,YAAY,CAAClF,eALM,CAMpCM,YAAY,CAAE4E,YAAY,CAAC5E,YANS,CAOpCW,kBAAkB,CAAEiE,YAAY,CAACjE,kBAPG,CAAxC,CASAL,SAAS,CAAC,cAAD,CAAT,CAA4B,MAAKvB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B2b,SAAxD,CACH,CAZD,IAYO,CACH,GAAMC,CAAAA,sBAAsB,CAAG,MAAK1d,KAAL,CAAWG,KAAX,CAAiBud,sBAAhD,CACA,GAAMxd,CAAAA,UAAU,CAAG,MAAKE,KAAL,CAAWF,UAA9B,CACA,GAAMgE,CAAAA,eAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA,GAAI6E,CAAAA,wBAAwB,CAAG,EAA/B,CACA,GAAI4U,CAAAA,SAAS,CAAGjhB,4BAA4B,CAACghB,sBAAD,CAAyBxZ,eAAc,CAAC6E,wBAAxC,CAAkE,yBAAlE,CAA5C,CAEA4U,SAAS,CAAC9R,GAAV,CAAc,SAAAjL,IAAI,CAAI,CAClB,GAAMyH,CAAAA,QAAQ,CAAG,CACbhH,oBAAoB,CAAET,IAAI,CAACS,oBADd,CAEbiH,aAAa,CAAE1H,IAAI,CAAC2H,QAAL,CAAgB,CAFlB,CAGbC,iBAAiB,CAAE5H,IAAI,CAAC4H,iBAHX,CAIbC,uBAAuB,CAAE7H,IAAI,CAAC6H,uBAJjB,CAKb5H,SAAS,CAAE,EALE,CAMb6H,UAAU,CAAE,EANC,CAObC,cAAc,CAAE/H,IAAI,CAAC8H,UAPR,CAQbE,yBAAyB,CAAEhI,IAAI,CAACgI,yBARnB,CASbC,UAAU,CAAEjI,IAAI,CAACgI,yBAAL,CAAiC,CAAjC,CAAqC,IAArC,CAA4C,KAT3C,CAUbE,YAAY,CAAElI,IAAI,CAACkI,YAVN,CAAjB,CAYA,MAAOC,CAAAA,wBAAwB,CAAC0F,IAAzB,CAA8BpG,QAA9B,CAAP,CACH,CAdD,EAiBAnE,eAAc,CAAC6E,wBAAf,CAAwC8C,GAAxC,CAA4C,SAAAjL,IAAI,CAAI,CAChD,GAAMgd,CAAAA,iBAAiB,CAAGF,sBAAsB,CAAC1N,MAAvB,CAA8B,SAAA6N,IAAI,QAAIA,CAAAA,IAAI,CAACpV,uBAAL,GAAiC7H,IAAI,CAAC6H,uBAA1C,EAAlC,CAA1B,CACA,GAAImV,iBAAiB,CAAC1S,MAAlB,CAA2B,CAA/B,CAAkC,CAC9BtK,IAAI,CAAC,2BAAD,CAAJ,CAAoCgd,iBAAiB,CAAC,2BAAD,CAArD,CACH,CAFD,IAEO,CACHhd,IAAI,CAAC,2BAAD,CAAJ,CAAoC,CAApC,CACH,CACD,MAAOmI,CAAAA,wBAAwB,CAAC0F,IAAzB,CAA8B7N,IAA9B,CAAP,CACH,CARD,EAUAW,SAAS,CAAC,0BAAD,CAAT,CAAwCwH,wBAAxC,CACAxH,SAAS,CAAC,YAAD,CAAT,CAA0BrB,UAAU,CAACG,eAAX,CAA2BO,IAArD,CACAW,SAAS,CAAC,eAAD,CAAT,CAA6BrB,UAAU,CAACS,eAAX,CAA2BgB,KAAxD,CACAJ,SAAS,CAAC,cAAD,CAAT,CAA4BrB,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCQ,0BAAhC,GAA+DjE,iBAAiB,CAACuE,GAAjF,CAAuF,CAAC,CAAxF,CAA4FxB,UAAU,CAACS,eAAX,CAA2BC,IAA3B,CAAgCM,kBAAhC,EAAsD/D,iBAAiB,CAACuE,GAAxE,CAA8E,CAAC,CAA/E,CACpHxB,UAAU,CAACe,YAAX,CAAwBU,KAAxB,CAAgCzB,UAAU,CAACe,YAAX,CAAwBU,KAAxD,CAAgE,CAAC,CADrE,CAEAJ,SAAS,CAAC,sBAAD,CAAT,CAAoCrB,UAAU,CAACmB,oBAAX,CAAgCM,KAApE,CACF;AACEJ,SAAS,CAAC,oBAAD,CAAT,CAAkCrB,UAAU,CAAC0B,kBAAX,CAAgC1B,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCkD,oBAAhC,GAAyD3G,iBAAiB,CAACuE,GAA3E,CAAiFxB,UAAU,CAAC0B,kBAAX,CAA8BD,KAA/G,CAAsH,CAAC,CAAvJ,CAAyJ,CAAC,CAA5L,CACH,CACD,GAAML,CAAAA,UAAU,CAAG,CACfC,SAAS,CAATA,SADe,CAEfyB,QAAQ,CAAE,WAFK,CAGfF,SAAS,CAAEA,SAHI,CAIfC,SAAS,CAAE,MAJI,CAKf4Y,QAAQ,CAARA,QALe,CAKLC,OAAO,CAAPA,OALK,CAAnB,CAOA,MAAOta,CAAAA,UAAP,CACH,CA3hIkB,OA6hInBwa,mBA7hImB,CA6hIG,SAACH,QAAD,CAAWC,OAAX,CAAuB,CACzC,GAAM9Y,CAAAA,SAAS,CAAG,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAnC,CACA,GAAMoB,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CAEA,GAAI4Z,CAAAA,aAAa,CAAG,CAChBC,uBAAuB,CAAE,CAAC,CADV,CAEhBC,QAAQ,CAAE,EAFM,CAGhB/X,eAAe,CAAE9I,iBAAiB,CAAC+I,KAHnB,CAIhB6W,OAAO,CAAE5f,iBAAiB,CAAC6f,MAJX,CAKhBjX,kBAAkB,CAAE7B,cAAc,CAAC,oBAAD,CALlB,CAMhB+Z,kBAAkB,CAAE/Z,cAAc,CAAC,oBAAD,CANlB,CAOhB;AACD;AACCtC,kBAAkB,CAAE,MAAKxB,KAAL,CAAWF,UAAX,CAAsB0B,kBAAtB,CAA2C,MAAKxB,KAAL,CAAWF,UAAX,CAAsBG,eAAtB,CAAsCO,IAAtC,CAA2CkD,oBAA3C,GAAoE3G,iBAAiB,CAACuE,GAAtF,CAA4F,MAAKtB,KAAL,CAAWF,UAAX,CAAsB0B,kBAAtB,CAAyCD,KAArI,CAA4I,CAAC,CAAxL,CAA4L,CAAC,CATjM,CAUhBuc,SAAS,CAAEha,cAAc,CAAC,WAAD,CAVT,CAWhBia,WAAW,CAAEja,cAAc,CAAC,aAAD,CAXX,CAYhBgX,iBAAiB,CAAEhX,cAAc,CAAC,mBAAD,CAAd,CAAsCA,cAAc,CAAC,mBAAD,CAApD,CAA4E,CAZ/E,CAahBka,aAAa,CAAEla,cAAc,CAAC,eAAD,CAAd,CAAgCvC,KAb/B,CAchB0c,aAAa,CAAEna,cAAc,CAAC,eAAD,CAAd,CAAgC8H,KAd/B,CAApB,CAiBA,GAAMmS,CAAAA,WAAW,CAAGL,aAAa,CAAC,aAAD,CAAjC,CACA;AACAA,aAAa,CAAC,aAAD,CAAb,CAA+BvhB,eAAe,CAAC4hB,WAAD,CAAc,KAAd,CAA9C,CAEA,GAAIrb,SAAS,GAAK,QAAlB,CAA4B,CACxBgb,aAAa,CAAC,2BAAD,CAAb,CAA6C,MAAK9d,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,CAAyC+C,yBAAtF,CACH,CACD,GAAIvH,CAAAA,oBAAoB,CAAG,MAAKjB,KAAL,CAAWF,UAAX,CAAsBmB,oBAAtB,CAA2CM,KAAtE,CAEA,GAAMJ,CAAAA,SAAS,CAAG,CACdC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADb,CAEd0B,sBAAsB,CAAE2a,aAFV,CAGd/U,wBAAwB,CAAE,MAAK/I,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAHxC,CAIdyY,qBAAqB,CAAE,MAAKte,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAJrC,CAKd/B,oBAAoB,CAAEA,oBALR,CAAlB,CAQA,GAAMC,CAAAA,UAAU,CAAG,CACfC,SAAS,CAATA,SADe,CAEfyB,QAAQ,CAAE,WAFK,CAGfF,SAAS,CAAEA,SAHI,CAIfC,SAAS,CAAE,eAJI,CAKf4Y,QAAQ,CAARA,QALe,CAKLC,OAAO,CAAPA,OALK,CAAnB,CAOA,MAAOta,CAAAA,UAAP,CACH,CA3kIkB,OA6kInBya,eA7kImB,CA6kID,SAACJ,QAAD,CAAWC,OAAX,CAAuB,CACrC,GAAM9Z,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAMoC,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA,GAAMiY,CAAAA,SAAS,CAAGjY,cAAc,CAACkY,SAAf,CAAyBvQ,GAAzB,CAA6B,SAAA+G,IAAI,CAAI,CAAE,MAAOA,CAAAA,IAAI,CAAChS,IAAZ,CAAkB,CAAzD,CAAlB,CACA,GAAMW,CAAAA,SAAS,CAAG,CACd4B,sBAAsB,CAAErB,UAAU,CAACsB,qBADrB,CAEdsD,uBAAuB,CAAE,CAACxC,cAAc,CAACqa,cAAf,CAA8B3d,IAA/B,CAFX,CAGdiG,aAAa,CAAEsV,SAHD,CAId3a,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAJb,CAKd+c,YAAY,CAAC,MAAKxe,KAAL,CAAWG,KAAX,CAAiB2a,YALhB,CAAlB,CAOA,GAAMxZ,CAAAA,UAAU,CAAG,CACfC,SAAS,CAATA,SADe,CAEfyB,QAAQ,CAAE,WAFK,CAGfF,SAAS,CAAE,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAHb,CAIfC,SAAS,CAAE,WAJI,CAKf4Y,QAAQ,CAARA,QALe,CAKLC,OAAO,CAAPA,OALK,CAAnB,CAOA,MAAOta,CAAAA,UAAP,CACH,CAhmIkB,OAkmInB4a,cAlmImB,CAkmIF,SAACP,QAAD,CAAWC,OAAX,CAAuB,CACpC,GAAM1X,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAlC,CACA,GAAMua,CAAAA,aAAa,CAAGva,cAAc,CAAC4Y,SAArC,CACA,GAAMJ,CAAAA,mBAAmB,CAAGxY,cAAc,CAACwY,mBAA3C,CACA,GAAIgC,CAAAA,YAAY,CAAGvhB,iBAAiB,CAACgE,EAArC,CACA,GAAIwd,CAAAA,aAAa,CAAG,EAApB,CACA,GAAMC,CAAAA,qBAAqB,CAAG,MAAK5e,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAA1D,CACA,GAAIyb,CAAAA,QAAQ,CAAG,CACX3D,iBAAiB,CAAE0D,qBAAqB,CAAC1D,iBAD9B,CAEX4D,aAAa,CAAE5a,cAAc,CAAC4a,aAAf,CAA+B5a,cAAc,CAAC4a,aAA9C,CAA8D,CAFlE,CAGX/B,OAAO,CAAE5f,iBAAiB,CAAC6f,MAHhB,CAIXN,mBAAmB,CAAnBA,mBAJW,CAAf,CAMA,GAAMqC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACA,GAAItC,mBAAmB,GAAKrf,cAAc,CAAC4hB,GAA3C,CAAgD,CAC5C,GAAIR,aAAa,EAAIS,KAAK,CAACC,OAAN,CAAcV,aAAd,CAAjB,EAAiDA,aAAa,CAACvT,MAAd,CAAuB,CAA5E,CAA+E,CAC3EuT,aAAa,CAACtG,OAAd,CAAsB,SAACiH,IAAD,CAAOlQ,KAAP,CAAiB,CACnC,GAAMmQ,CAAAA,QAAQ,CAAGnX,MAAM,CAACoX,MAAP,CAAc,EAAd,CAAkBT,QAAlB,CAAjB,CACA,GAAMU,CAAAA,gBAAgB,CAAGH,IAAI,CAACrX,IAAL,CAAUyX,KAAV,CAAgB,GAAhB,CAAzB,CACA,GAAMC,CAAAA,aAAa,CAAGL,IAAI,CAACrX,IAAL,CAAUyX,KAAV,CAAgB,GAAhB,EAAqBD,gBAAgB,CAACrU,MAAjB,CAA0B,CAA/C,CAAtB,CACA,GAAMwU,CAAAA,cAAc,CAAGhD,mBAAmB,GAAKrf,cAAc,CAAC4hB,GAAvC,CAA6CziB,WAAW,GAAK,GAAhB,CAAsBijB,aAAnE,CAAmF,EAA1G,CACAJ,QAAQ,CAAC,WAAD,CAAR,CAAuBtiB,mBAAmB,CAACqiB,IAAI,CAACrX,IAAN,CAAW,KAAX,CAA1C,CACAsX,QAAQ,CAAC,cAAD,CAAR,CAA0BtiB,mBAAmB,CAAEmH,cAAc,CAACqR,YAAf,CAA8BrR,cAAc,CAACqR,YAAf,CAA4BnD,IAA5B,EAA9B,CAAmE,EAArE,CAAwE,KAAxE,CAA7C,CACAiN,QAAQ,CAAC,WAAD,CAAR,CAAwBliB,iBAAiB,CAACsG,EAA1C,CACA4b,QAAQ,CAAC,iBAAD,CAAR,CAA8BK,cAA9B,CACAL,QAAQ,CAAC,WAAD,CAAR,CAAwBD,IAAI,CAACO,IAA7B,CACAZ,QAAQ,CAACa,MAAT,CAAgB,eAAiB1Q,KAAjC,CAAwCkQ,IAAxC,EACAL,QAAQ,CAACa,MAAT,CAAgB,iBAAmB1Q,KAAnC,CAA0CwQ,cAA1C,EACAf,aAAa,CAAClQ,IAAd,CAAmB4Q,QAAnB,EACH,CAbD,EAcAN,QAAQ,CAACa,MAAT,CAAgB,WAAhB,CAA6BnB,aAAa,CAACvT,MAA3C,EACAwT,YAAY,CAAGvhB,iBAAiB,CAACuE,GAAjC,CACH,CAjBD,IAiBO,CACHmd,QAAQ,CAAC,WAAD,CAAR,CAAuB9hB,mBAAmB,CAACmH,cAAc,CAAC4Y,SAAhB,CAA0B,KAA1B,CAA1C,CACA+B,QAAQ,CAAC,cAAD,CAAR,CAA0B9hB,mBAAmB,CAACmH,cAAc,CAACqR,YAAf,CAA8BrR,cAAc,CAACqR,YAAf,CAA4BnD,IAA5B,EAA9B,CAAmE,EAApE,CAAuE,KAAvE,CAA7C,CACAyM,QAAQ,CAAC,WAAD,CAAR,CAAwB1hB,iBAAiB,CAACsG,EAA1C,CACAob,QAAQ,CAAC,iBAAD,CAAR,CAA8B3a,cAAc,CAACyY,eAA7C,CACAkC,QAAQ,CAAC,WAAD,CAAR,CAAwB3a,cAAc,CAAC2Y,SAAvC,CACA8B,aAAa,CAAClQ,IAAd,CAAmBoQ,QAAnB,EACH,CACJ,CA1BD,IA0BO,CACHA,QAAQ,CAAC,WAAD,CAAR,CAAuB9hB,mBAAmB,CAAEmH,cAAc,CAAC2b,aAAf,CAA6BzN,IAA7B,EAAF,CAAsC,KAAtC,CAA1C,CACAyM,QAAQ,CAAC,cAAD,CAAR,CAA0B9hB,mBAAmB,CAAEmH,cAAc,CAAC4b,gBAAf,CAAkC5b,cAAc,CAAC4b,gBAAf,CAAgC1N,IAAhC,EAAlC,CAA2E,EAA7E,CAAgF,KAAhF,CAA7C,CACAyM,QAAQ,CAAC,WAAD,CAAR,CAAwB3a,cAAc,CAACV,SAAf,CAAyB7B,KAAzB,CAAiCuC,cAAc,CAACV,SAAf,CAAyB7B,KAA1D,CAAkE,CAAC,CAA3F,CACAkd,QAAQ,CAAC,iBAAD,CAAR,CAA8B,EAA9B,CACAA,QAAQ,CAAC,WAAD,CAAR,CAAwB,CAAxB,CACAF,aAAa,CAAClQ,IAAd,CAAmBoQ,QAAnB,EACH,CACDE,QAAQ,CAACa,MAAT,CAAgB,cAAhB,CAAgClB,YAAhC,EACAK,QAAQ,CAACa,MAAT,CAAgB,wBAAhB,CAA0CjR,IAAI,CAACC,SAAL,CAAegQ,qBAAf,CAA1C,EACAG,QAAQ,CAACa,MAAT,CAAgB,mBAAhB,CAAqCjR,IAAI,CAACC,SAAL,CAAe+P,aAAf,CAArC,EACA,GAAMrd,CAAAA,UAAU,CAAG,CAChB;AACCC,SAAS,CAAE,CACP,0CACO,MAAKvB,KAAL,CAAWG,KAAX,CAAiBsB,QADxB,MAEIse,SAAS,CAAEhjB,mBAAmB,CAAC,MAAKiD,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0Bse,SAA3B,CAFlC,CAGIC,WAAW,CAAEjjB,mBAAmB,CAAC,MAAKiD,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0Bue,WAA3B,CAHpC,CAII;AACAC,aAAa,CAAEljB,mBAAmB,CAAC,MAAKiD,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0Bwe,aAA3B,CALtC,EADO,CAFI,CAWflB,QAAQ,CAAEA,QAXK,CAYfmB,YAAY,CAAE,IAZC,CAafpd,SAAS,CAAE,MAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAbb,CAcfE,QAAQ,CAAE,WAdK,CAef2Y,QAAQ,CAARA,QAfe,CAeLC,OAAO,CAAPA,OAfK,CAeI7Y,SAAS,CAAE,mBAff,CAAnB,CAiBA,MAAOzB,CAAAA,UAAP,CACH,CAvqIkB,OAyqInB6e,gBAzqImB,CAyqIA,SAACvZ,WAAD,CAAiB,CAChC,GAAM1C,CAAAA,cAAc,CAAG0C,WAAW,CAAC1C,cAAnC,CAEA,GAAMpC,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAMT,CAAAA,oBAAoB,CAAGS,UAAU,CAAC,0BAAD,CAAV,CAAuC,CAAvC,EAA0CT,oBAAvE,CACA,GAAMqE,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8BvE,oBAAlC,EAD4B,CAAjC,CAGA,GAAMyE,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAIwD,cAAc,CAAC+B,eAAf,GAAmC9I,iBAAiB,CAAC+I,KAArD,EACGhC,cAAc,CAAC+B,eAAf,GAAmC9I,iBAAiB,CAACgJ,UAD5D,CACwE,CACpE,MAAK/D,YAAL,CAAkBwE,WAAlB,EACH,CAHD,IAGO,CACHrO,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CA7rIkB,OA+rInB0B,YA/rImB,CA+rIJ,SAACwE,WAAD,CAAiB,CAC5B,GAAI,MAAK5G,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,GAA6CvF,SAA7C,EAA0D,MAAKN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,GAA6C,IAA3G,CAAiH,CAC7G,GAAM/D,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAM4D,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8B9D,UAAU,CAAC+D,YAAX,CAAwB,sBAAxB,CAAlC,EAD4B,CAAjC,CAGA,GAAMC,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAI,MAAKV,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAAhC,CAA8C,gBAC1C,GAAM9C,CAAAA,SAAS,CAAG6D,WAAW,CAAC7D,SAA9B,CACA,GAAIoC,CAAAA,SAAS,CAAG,MAAK/E,KAAL,CAAWggB,kBAA3B,CACA,GAAMpc,CAAAA,UAAU,CAAG4C,WAAW,CAAC5C,UAA/B,CACA,GAAM1C,CAAAA,UAAU,CAAG,CACfC,SAAS,2CACJqF,WAAW,CAAC3C,OADR,CACkB2C,WAAW,CAAC1C,cAD9B,wCAEK,MAAKlE,KAAL,CAAWG,KAAX,CAAiBsB,QAFtB,4CAGS,MAAKzB,KAAL,CAAWG,KAAX,CAAiB2a,YAH1B,sDAImB,MAAK9a,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAJ/C,wDAKqB,MAAKpD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YALjD,oDAMiBe,WAAW,CAAC1G,UAAZ,CAAuBmB,oBAAvB,CAA4CM,KAN7D,aADM,CASfqB,QAAQ,CAAE,WATK,CAUfF,SAAS,CAAE8D,WAAW,CAAC9D,SAVR,CAWfC,SAAS,CAAEA,SAXI,CAYfiB,UAAU,CAAVA,UAZe,CAYHmB,SAAS,CAATA,SAZG,CAAnB,CAcA,GAAMrD,CAAAA,WAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA;AACA,GAAIjF,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E+F,WAAW,CAACrB,YAA1F,CAAb,CAAsH,CAClH,GAAMe,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,WAAd,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAEA,UAF3B,CAEuClB,SAAS,CAAE8D,WAAW,CAAC9D,SAF9D,CAEyEoB,cAAc,CAAE,EAFzF,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAnD,CAA+D,WAA/D,CAA4E,EAA5E,EACH,CACJ,CAhCD,IAgCO,CACHvJ,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CA9CD,IA8CO,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAX,EACH,CACJ,CAjvIkB,OAmvInB2f,oBAnvImB,CAmvII,SAACzZ,WAAD,CAAiB,CACpC;AACA,GAAM9E,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAM4D,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8B9D,UAAU,CAAC+D,YAAX,CAAwB,sBAAxB,CAAlC,EAD4B,CAAjC,CAGA,GAAMC,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAMyC,CAAAA,sBAAsB,CAAG,MAAKnD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAA3D,CACA,GAAID,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAAC+I,KAA7D,EACG/C,sBAAsB,CAAC8C,eAAvB,GAA2C9I,iBAAiB,CAACgJ,UADpE,CACgF,CAC5E,GAAM7E,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPmF,uBAAuB,CAAEE,WAAW,CAAC5G,KAAZ,CAAkB0G,uBADpC,CAEPlF,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAFpB,CAGP+c,YAAY,CAAC,MAAKxe,KAAL,CAAWG,KAAX,CAAiB2a,YAHvB,CAIP3X,sBAAsB,CAAtBA,sBAJO,CAKP4F,wBAAwB,CAAE,MAAK/I,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAL/C,CADI,CAQf7C,QAAQ,CAAE,WARK,CASfF,SAAS,CAAE,QATI,CAUfC,SAAS,CAAE,oBAVI,CAWfiB,UAAU,CAAC,MAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,MAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,MAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAX7B,CAAnB,CAaA,GAAMjZ,CAAAA,YAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAIjF,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E+F,WAAW,CAACrB,YAA1F,CAAb,CAAsH,CAClH,GAAMe,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,YAAd,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAC,MAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,MAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,MAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAF3D,CAEiLjY,SAAS,CAAE,QAF5L,CAEsMoB,cAAc,CAAE,EAFtN,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAnD,CAA+D,WAA/D,CAA4E,EAA5E,EACH,CACJ,CA5BD,IA4BO,CACHvJ,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CA/xIkB,OAiyInB4f,cAjyImB,CAiyIF,SAACC,aAAD,CAAgBnQ,SAAhB,CAA2BoQ,OAA3B,CAAuC,CACpD,GAAItc,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACAA,cAAc,CAACkM,SAAD,CAAd,CAA4BxT,oBAAoB,CAACsH,cAAc,CAACkM,SAAD,CAAf,CAA4BmQ,aAA5B,CAA2CC,OAA3C,CAAhD,CACA,MAAKje,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAkBuc,UAAU,CAAE,KAA9B,CAAd,EACH,CAryIkB,OAuyInBC,gBAvyImB,CAuyIA,SAACpe,KAAD,CAAQ8c,IAAR,CAAchP,SAAd,CAA4B,CAC3C,GAAIlM,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACAA,cAAc,CAACkM,SAAD,CAAd,CAA4B3T,wBAAwB,CAACyH,cAAc,CAACkM,SAAD,CAAf,CAA4BgP,IAA5B,CAApD,CAEA,MAAK7c,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CACMuc,UAAU,CAAE,QAAS;AAD3B,CAAd,EAGH,CA9yIkB,OAgzInBE,yBAhzImB,CAgzIS,SAAC7d,SAAD,CAAY8d,UAAZ,CAAwBrb,YAAxB,CAAyC,CACjE,GAAI,MAAKvF,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,GAA6CvF,SAA7C,EAA0D,MAAKN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,GAA6C,IAA3G,CAAiH,CAC7G,GAAM/D,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAM4D,CAAAA,wBAAwB,CAAG5D,UAAU,CAAC,qBAAD,CAAV,CAAkC6D,SAAlC,CAC7B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAAC,sBAAD,CAAD,GAA8B9D,UAAU,CAAC+D,YAAX,CAAwB,sBAAxB,CAAlC,EAD4B,CAAjC,CAGA,GAAMC,CAAAA,qBAAqB,CAAGhE,UAAU,CAAC,qBAAD,CAAV,CAAkC4D,wBAAlC,EAA4DK,kBAA1F,CACA,GAAID,qBAAqB,GAAK3I,iBAAiB,CAAC6I,OAAhD,CAAyD,CACrDzN,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CAFD,IAGK,CACD,GAAIkgB,UAAU,CAACzd,sBAAf,CAAuC,CACnC,GAAIyd,UAAU,CAACzd,sBAAX,CAAkC8C,eAAlC,GAAsD9I,iBAAiB,CAAC+I,KAAxE,EACG0a,UAAU,CAACzd,sBAAX,CAAkC8C,eAAlC,GAAsD9I,iBAAiB,CAACgJ,UAD/E,CAC2F,CACvF,MAAO7N,CAAAA,KAAK,CAACuoB,IAAN,CAAW,qCAAX,CAAkD,CACrD3F,iBAAiB,CAAE0F,UAAU,CAACzd,sBAAX,CAAkC+X,iBADA,CAErD,WAAY,MAAKlb,KAAL,CAAWG,KAAX,CAAiBsB,QAFwB,CAAlD,EAIFqf,IAJE,CAIG,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACva,IAAT,EAAiBua,QAAQ,CAACva,IAAT,CAAc0E,MAAd,CAAuB,CAA5C,CAA+C,CAC3C,GAAM8V,CAAAA,iBAAiB,CAAG,EAA1B,CACAD,QAAQ,CAACva,IAAT,CAAcqF,GAAd,CAAkB,SAAAjL,IAAI,QAAIogB,CAAAA,iBAAiB,CAACC,OAAlB,CAA0BrgB,IAAI,CAAC8N,SAA/B,IAA8C,CAAC,CAA/C,CAAmDsS,iBAAiB,CAACvS,IAAlB,CAAuB7N,IAAI,CAAC8N,SAA5B,CAAnD,CAA4F,EAAhG,EAAtB,EACA,GAAMlI,CAAAA,IAAI,CAAG,KAAOwa,iBAAP,CAA2B,IAA3B,CAAkC,MAAKhhB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,6BAAN,CAA9B,CAA/C,CACA,MAAKwB,cAAL,CAAoBC,OAApB,CAA4B,MAAKnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,kBAAN,CAA9B,CAA5B,CACI,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,kBAAN,CAA9B,CADJ,CAEI8F,IAFJ,CAGI,MAAKxG,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAHJ,CAII,MAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAJJ,CAKI,iBAAM,OAAKwgB,qBAAL,CAA2Bpe,SAA3B,CAAsC8d,UAAtC,CAAkDrb,YAAlD,CAAN,EALJ,CAMI,KANJ,CAOIjF,SAPJ,EAQH,CAZD,IAaK,CACD,MAAK4gB,qBAAL,CAA2Bpe,SAA3B,CAAsC8d,UAAtC,CAAkDrb,YAAlD,EACH,CAEJ,CAtBE,EAuBF4b,KAvBE,CAuBI,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,CAACL,QAAN,CAAe9H,MAAf,GAA0B,GAA9B,CAAmC,CAC/B1gB,KAAK,CAAC6oB,KAAN,CAAY,MAAKphB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE0gB,KAAK,CAACC,OAAZ,CAA9B,CAAZ,EACH,CAFD,IAGK,CACD9oB,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE0gB,KAAK,CAACL,QAAZ,CAA9B,CAAX,EACH,CACJ,CA9BE,CAAP,CA+BH,CAjCD,IAkCK,CACDxoB,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CAtCD,IAuCK,CACDnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CACJ,CACJ,CArDD,IAsDK,CACDnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CACJ,CA12IkB,OA42InB4gB,UA52ImB,CA42IN,SAACxe,SAAD,CAAY8b,qBAAZ,CAAmC2C,wBAAnC,CAA6DC,YAA7D,CAA8E,CACvF,GAAI5C,qBAAqB,CAACzb,sBAAtB,CAA6C8C,eAA7C,GAAiE9I,iBAAiB,CAAC6I,OAAvF,CAAgG,CAC5F,GAAIub,wBAAwB,CAACrW,MAAzB,CAAkC,CAAlC,EAAuCqW,wBAAwB,CAAC,CAAD,CAAxB,CAA4BhZ,QAA5B,GAAyCpL,iBAAiB,CAAC6f,MAAtG,CAA8G,CAC1G,GAAI4B,qBAAqB,CAACzb,sBAAtB,CAA6C,iBAA7C,IAAoEoe,wBAAwB,CAAC,CAAD,CAAxB,CAA4Bxb,kBAApG,CAAwH,CACpH,GAAMzE,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP2Z,iBAAiB,CAAE0D,qBAAqB,CAACzb,sBADlC,CAEP4F,wBAAwB,CAAE6V,qBAAqB,CAAC7V,wBAFzC,CAGPwY,wBAAwB,CAAEA,wBAAwB,CAAC,CAAD,CAH3C,CAIP/f,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAJpB,CAKPqB,SAAS,CAAEA,SALJ,CADI,CAQfE,QAAQ,CAAE,WARK,CASfF,SAAS,CAAEA,SATI,CAUfC,SAAS,CAAE,MAVI,CAWfiB,UAAU,CAAE,eAXG,CAAnB,CAeA,GAAIlC,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAlC,CACA,GAAIjF,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E2gB,YAA9E,CAAb,CAA0G,CACtG,GAAMlb,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,UAAd,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAE,eAF3B,CAE4ClB,SAAS,CAAEA,SAFvD,CAEkEoB,cAAc,CAAE,EAFlF,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAW1E,mBAAX,CAA+BgG,UAAU,CAACC,SAA1C,CAAqDO,UAArD,EACH,CACJ,CA7BD,IA6BO,CACHvJ,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,+BAAN,CAA9B,CAAX,EACH,CACJ,CAjCD,IAiCO,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAX,EACH,CACJ,CArCD,IAqCO,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,oBAAN,CAA9B,CAAX,EACH,CAEJ,CAt5IkB,OAw5InB+gB,mBAx5ImB,CAw5IG,SAAC3e,SAAD,CAAYyC,YAAZ,CAA6B,CAC/C,GAAI,MAAKvF,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkZ,iBAA5B,EAAiD,MAAKhb,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAAjF,CAA+F,CAC3F,GAAM9M,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPmgB,eAAe,CAAE,mBADV,CAEPlgB,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAFpB,CAGPkgB,YAAY,CAAEpc,YAHP,CAIPqc,YAAY,CAAEzkB,iBAAiB,CAACsG,EAJzB,CAKPoe,eAAe,CAAE1kB,iBAAiB,CAACsG,EAL5B,CAMPqe,iBAAiB,CAAE3kB,iBAAiB,CAACsG,EAN9B,CAOPse,eAAe,CAAE3kB,UAAU,CAAC4kB,YAPrB,CAQPC,uBAAuB,CAAE9kB,iBAAiB,CAACsG,EARpC,CASPye,mBAAmB,CAAE/kB,iBAAiB,CAACsG,EAThC,CAUPwZ,YAAY,CAAE9f,iBAAiB,CAACsG,EAVzB,CAWPX,SAAS,CAAEA,SAXJ,CAYPoY,iBAAiB,CAAE,MAAKlb,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,uBAA5B,EAAqD,mBAArD,CAZZ,CAaPqgB,iBAAiB,CAAE,MAAKniB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,mBAA5B,CAbZ,CAcPoB,YAAY,CAAE,MAAKlD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,cAA5B,CAdP,CAeP5B,UAAU,CAAE,MAAKE,KAAL,CAAWF,UAfhB,CADI,CAAnB,CAoBA,MAAKF,KAAL,CAAW3E,mBAAX,CAA+BiG,UAAU,CAAC,WAAD,CAAzC,EACH,CAtBD,IAsBO,CACH/I,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4CAAN,CAA9B,CAAX,EACH,CACJ,CAl7IkB,OAo7InBwgB,qBAp7ImB,CAo7IK,SAACpe,SAAD,CAAY8d,UAAZ,CAAwBrb,YAAxB,CAAyC,CAC7D,GAAIqb,UAAU,CAACzd,sBAAf,CAAuC,CACnC,GAAIyd,UAAU,CAACzd,sBAAX,CAAkC8C,eAAlC,GAAsD9I,iBAAiB,CAAC+I,KAAxE,EACG0a,UAAU,CAACzd,sBAAX,CAAkC8C,eAAlC,GAAsD9I,iBAAiB,CAACgJ,UAD/E,CAC2F,CAEvF,GAAM7E,CAAAA,UAAU,CAAG,CACfC,SAAS,gBACLC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADtB,CAELJ,oBAAoB,CAAE,MAAKjB,KAAL,CAAWF,UAAX,CAAsBmB,oBAAtB,CAA2CM,KAF5D,CAGLygB,aAAa,CAAE,MAAKpiB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BugB,aAHtC,EAIFzB,UAJE,CADM,CAOf5d,QAAQ,CAAE,WAPK,CAQfF,SAAS,CAAEA,SARI,CASfC,SAAS,CAAE,eATI,CAUfiB,UAAU,CAAE,mBAVG,CAAnB,CAYA,GAAInH,SAAS,CAAC,MAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,MAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E0E,YAA9E,CAAb,CAA0G,CACtG,GAAMe,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAE,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA3C,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAE,mBAF3B,CAEgDlB,SAAS,CAAEA,SAF3D,CAEsEoB,cAAc,CAAE,EAFtF,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkC,MAAKtB,KAAL,CAAWG,KAAX,CAAiB2B,UAAnD,CAA+D,WAA/D,CAA4E,EAA5E,EACH,CACJ,CA3BD,IA2BO,CACHvJ,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,8CAAN,CAA9B,CAAX,EACH,CACJ,CA/BD,IA+BO,CACHnI,KAAK,CAACgI,IAAN,CAAW,MAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CACJ,CAv9IkB,OAy9InB4hB,oBAz9ImB,CAy9II,SAACrJ,MAAD,CAASsJ,SAAT,CAAuB,CAC1C,GAAMzgB,CAAAA,UAAU,CAAG,MAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAApC,CACA,GAAMR,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACPC,QAAQ,CAAE,MAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QADpB,CAEPsH,wBAAwB,CAAEjH,UAAU,CAAC+D,YAF9B,CAGPxE,oBAAoB,CAAE,MAAKjB,KAAL,CAAWF,UAAX,CAAsBmB,oBAAtB,CAA2CM,KAH1D,CAIPwB,sBAAsB,gCACfrB,UAAU,CAACsB,qBADI,MAElB6C,eAAe,CAAEgT,MAFC,EAJf,CADI,CAUfjW,QAAQ,CAAE,WAVK,CAWfF,SAAS,CAAE,SAXI,CAYfC,SAAS,CAAE,eAZI,CAafiB,UAAU,CAAE,mBAbG,CAAnB,CAeA,GAAIue,SAAS,GAAKplB,iBAAiB,CAACuE,GAApC,CAAyC,CACrC,GAAM4E,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,UAAd,CAD3B,CAEF0F,SAAS,CAAE,IAFT,CAEexD,UAAU,CAAE,mBAF3B,CAEgDlB,SAAS,CAAE,SAF3D,CAEsEoB,cAAc,CAAE,EAFtF,CAFS,CAAnB,CAOA,MAAKlE,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IASO,CACH,MAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkCQ,UAAlC,CAA8C,WAA9C,CAA2D,EAA3D,EACH,CACJ,CAt/IkB,OAw/InB0gB,aAx/ImB,CAw/IH,SAACvT,SAAD,CAAYmB,SAAZ,CAAuBzI,MAAvB,CAA+BC,QAA/B,CAA4C,CACxD,GAAI1D,CAAAA,cAAc,CAAG,MAAK9D,KAAL,CAAW8D,cAAX,EAA6B,EAAlD,CACA,OAAQyD,MAAR,EACI,IAAK,EAAL,CACI,GAAIyI,SAAS,GAAK,WAAlB,CAA+B,CAC3BlM,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CAHD,IAGO,CACHA,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACH,CACD,MAEJ,IAAK,EAAL,CACIA,cAAc,CAAC,mBAAD,CAAd,CAAsC+K,SAAS,CAACtN,KAAhD,CACAuC,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACA,MAEJ,IAAK,EAAL,CACIA,cAAc,CAAC,uBAAD,CAAd,CAA0C+K,SAAS,CAACrO,IAAV,CAAe6hB,qBAAzD,CACAve,cAAc,CAACkM,SAAD,CAAd,CAA4BnB,SAA5B,CACA,MAAK1M,QAAL,CAAc,CAAE2B,cAAc,CAAdA,cAAF,CAAd,EACA,MAEJ,QACI,MAxBR,CA0BH,CAphJkB,OAshJnBwe,aAthJmB,CAshJH,UAAM,CAClB,GAAMphB,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CACP,0CACO,MAAKvB,KAAL,CAAWG,KAAX,CAAiBsB,QADxB,MAEIkhB,OAAO,CAAE,MAAKviB,KAAL,CAAW8D,cAAX,CAA0B,eAA1B,CAFb,CAGI0e,WAAW,CAAE,MAAKxiB,KAAL,CAAW8D,cAAX,CAA0B,aAA1B,GAA4C,MAAK9D,KAAL,CAAW8D,cAAX,CAA0B,aAA1B,EAAyCvC,KAHtG,CAIIkhB,iBAAiB,CAAE,MAAKziB,KAAL,CAAW8D,cAAX,CAA0B,aAA1B,GAA4C,MAAK9D,KAAL,CAAW8D,cAAX,CAA0B,aAA1B,EAAyC8H,KAJ5G,EADO,CAQP8W,QAAQ,CAAE,MAAK1iB,KAAL,CAAW8D,cAAX,CAA0B,eAA1B,CARH,CADI,CAWfqD,UAAU,CAAE,MAAKvH,KAAL,CAAWG,KAAX,CAAiBoH,UAXd,CAAnB,CAaA,MAAKvH,KAAL,CAAW/F,uBAAX,CAAmCqH,UAAnC,CAA+C,WAA/C,EACH,CAriJkB,CAEf,GAAM8e,CAAAA,kBAAkB,CAAG,CAAE3d,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAA3B,CACA,GAAMd,CAAAA,gBAAgB,CAAG,CAAEY,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,MAAK3C,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4BmN,QAAQ,CAAC,MAAKlS,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAAD,CAApC,CAAsE,CAAvF,CAAzB,CACA,GAAMO,CAAAA,qBAAqB,CAAG,CAAE7C,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,MAAK3C,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4BmN,QAAQ,CAAC,MAAKlS,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAAD,CAApC,CAAsE,CAAvF,CAA0Fge,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,aAAT,CAAD,CAAjG,CAA9B,CAEA,MAAK5iB,KAAL,CAAa,CACT8D,cAAc,CAAE,EADP,CAEThE,UAAU,CAAE,EAFH,CAGTkhB,KAAK,CAAE,EAHE,CAITxc,qBAAqB,CAAE,EAJd,CAKTD,UAAU,CAAE,GAAIF,CAAAA,GAAJ,EALH,CAMT2b,kBAAkB,CAAlBA,kBANS,CAOTve,gBAAgB,CAAhBA,gBAPS,CAQTyD,qBAAqB,CAArBA,qBARS,CAST1B,cAAc,CAAE,EATP,CAUTqf,QAAQ,CAAE,IAVD,CAWTzgB,QAAQ,CAAE,CAXD,CAYTE,QAAQ,CAAE,MAAK1C,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4B,MAAK/E,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAA5B,CAA4D,CAZ7D,CAaTuT,eAAe,CAAE,CAbR,CAcTC,eAAe,CAAE,MAAKvY,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4B,MAAK/E,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAA5B,CAA4D,CAdpE,CAeTme,iBAAiB,CAAE9J,MAAM,CAAC+J,WAAP,CAAqB,GAf/B,CAgBTC,oBAAoB,CAAE,MAhBb,CAiBTC,QAAQ,CAAE,IAjBD,CAkBT;AACAC,UAAU,CAAE,oBAnBH,CAAb,CAqBA,MAAKC,oBAAL,CAA4B,EAA5B,CACA,MAAKC,cAAL,CAAsB,EAAtB,CACA,MAAKzhB,SAAL,CAAiB7J,KAAK,CAACurB,SAAN,EAAjB,CACA,MAAKC,YAAL,CAAoB,oBAAInmB,gBAAgB,CAAComB,KAArB,CAA6B,qBAA7B,kCACjBpmB,gBAAgB,CAAComB,KADA,CACQ,iBADR,wBAC4BpmB,gBAAgB,CAACqmB,MAD7C,CACsD,IADtD,SAApB,CAEA,MAAKC,KAAL,CAAa3rB,KAAK,CAACurB,SAAN,EAAb,CAhCe,aAkClB,C,uDAkED,4BAAoB,CAChB,GAAI,KAAKK,YAAT,CAAuB,CACnB,GAAMC,CAAAA,MAAM,CAAG,KAAKD,YAAL,CAAkBE,YAAjC,CACA,KAAKzhB,QAAL,CAAc,CACVuhB,YAAY,CAAEC,MAAM,CAAG,EADb,CAAd,EAGH,CACJ,C,sBAED,iBAAS,iBACLE,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAA+B,KAAKlkB,KAAL,CAAWG,KAAX,CAAiB6D,UAAhD,EACA,0BAE+B,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2B,UAFhD,CAAQqiB,sBAAR,uBAAQA,sBAAR,CAAgC/gB,qBAAhC,uBAAgCA,qBAAhC,CAAuDgL,YAAvD,uBAAuDA,YAAvD,CAAqEgW,SAArE,uBAAqEA,SAArE,CAAgFve,YAAhF,uBAAgFA,YAAhF,CAA8Fwe,QAA9F,uBAA8FA,QAA9F,CACI5G,SADJ,uBACIA,SADJ,CACezC,iBADf,uBACeA,iBADf,CACkCqH,aADlC,uBACkCA,aADlC,CACiD1H,uBADjD,uBACiDA,uBADjD,CAC0E2J,YAD1E,uBAC0EA,YAD1E,CAEIC,sBAFJ,uBAEIA,sBAFJ,CAGA;AACA;AACA;AACA;AACA,GAAI,KAAKvkB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+B,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UAA3D,EAAyE,KAAKxkB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UAA5B,CAAuCtZ,MAAvC,CAAgD,CAA7H,CAAgI,CAC/H,KAAKlL,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UAA5B,CAAuC,CAAvC,EAA0C,OAA1C,EAAqD,KAAKxkB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UAA5B,CAAuC,CAAvC,EAA0C,OAA1C,IAAuD,MAAvD,CACrD,KAAKxkB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADqD,CACD,KAAKV,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UAA5B,CAAuC,CAAvC,EAA0C,OAA1C,CADpD,CAEA,CAED,GAAMC,CAAAA,iBAAiB,CAAGH,YAAY,EAAIjC,aAAhB,EAAiC,EAA3D,CAEA,GAAIkC,sBAAJ,CAA4B,CACxBznB,QAAQ,CAACynB,sBAAD,CAAyB,WAAzB,CAAsC,SAAtC,CAAR,CACH,CAED,GAAIE,iBAAJ,CAAuB,CACnB3nB,QAAQ,CAAC2nB,iBAAD,CAAoB,YAApB,CAAkC,SAAlC,CAAR,CACH,CAED,GAAMC,CAAAA,YAAY,CAAG,CACjB1gB,UAAU,CAAC,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAD3B,CACgJjY,SAAS,CAAE,KAD3J,CACkKxB,UAAU,CAAE,KAAKtB,KAAL,CAAWG,KAAX,CAAiBmB,UAD/L,CAEjBG,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAFV,CAEoBsB,SAAS,CAAE,oBAF/B,CAEqDkB,OAAO,CAAE,wBAF9D,CAArB,CAIA,GAAM0gB,CAAAA,YAAY,CAAG,CAAExhB,sBAAsB,CAAEC,qBAA1B,CAAiDc,cAAc,CAAE,KAAK9D,KAAL,CAAWF,UAA5E,CAAwFuB,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAnH,CAA6HoE,YAAY,CAAZA,YAA7H,CAArB,CACA,GAAM+e,CAAAA,aAAa,CAAG,CAAE1gB,cAAc,CAAE,KAAK9D,KAAL,CAAWF,UAA7B,CAAyCsB,QAAQ,CAAE,KAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAApE,CAA8EoE,YAAY,CAAZA,YAA9E,CAAtB,CACA,GAAMgf,CAAAA,eAAe,CAAG,CAAE/hB,SAAS,CAAE,QAAb,CAAuBC,SAAS,CAAE,eAAlC,CAAmDiB,UAAU,CAAE,mBAA/D,CAAoFC,OAAO,CAAE,wBAA7F,CAAuH/D,UAAU,CAAE,KAAKE,KAAL,CAAWF,UAA9I,CAAxB,CACA,GAAM4kB,CAAAA,SAAS,CAAG,KAAK1kB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,kBAA1B,GAAiD,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,kBAA1B,EAA8CrD,YAAjH,CACA,GAAMsD,CAAAA,SAAS,CAAG,KAAK7kB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,SAA1B,GAAwC,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,SAA1B,EAAqCrD,YAA/F,CACA,GAAMuD,CAAAA,UAAU,CAAG,KAAK9kB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,UAA1B,GAAyC,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,UAA1B,EAAsCrD,YAAlG,CACA,GAAMwD,CAAAA,YAAY,CAAG,KAAK/kB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,YAA1B,GAA2C,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,YAA1B,EAAwCrD,YAAxG,CACA,GAAMyD,CAAAA,UAAU,CAAG,KAAKhlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,mBAA1B,GAAkD,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,mBAA1B,EAA+CrD,YAApH,CACA,GAAM0D,CAAAA,YAAY,CAAG,KAAKjlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,qBAA1B,GAAoD,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,qBAA1B,EAAiDrD,YAA1H,CACA,GAAM2D,CAAAA,cAAc,CAAG,KAAKllB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,cAA1B,GAA6C,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,cAA1B,EAA0CrD,YAA9G,CACA,GAAM4D,CAAAA,iBAAiB,CAAG,KAAKnlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,iBAA1B,GAAgD,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,iBAA1B,EAA6CrD,YAAvH,CACA,GAAM6D,CAAAA,SAAS,CAAG,KAAKplB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,SAA1B,GAAwC,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,SAA1B,EAAqCrD,YAA/F,CACA,GAAM8D,CAAAA,YAAY,CAAG,KAAKrlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,YAA1B,GAA2C,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,YAA1B,EAAwCrD,YAAxG,CACA,GAAM+D,CAAAA,UAAU,CAAG,KAAKtlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,UAA1B,GAAyC,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,UAA1B,EAAsCrD,YAAlG,CACA,GAAMgE,CAAAA,UAAU,CAAG,KAAKvlB,KAAL,CAAWuE,UAAX,CAAsBogB,GAAtB,CAA0B,cAA1B,GAA6C,KAAK3kB,KAAL,CAAWuE,UAAX,CAAsBqgB,GAAtB,CAA0B,cAA1B,EAA0CrD,YAA1G,CACA,GAAMzf,CAAAA,cAAc,CAAG,GAAIzD,CAAAA,cAAJ,EAAvB,CAEA,GAAMmnB,CAAAA,UAAU,CAAG,CACf7iB,SAAS,CAAE,MADI,CACID,SAAS,CAAE,QADf,CACyBxB,UAAU,CAAE,KAAKtB,KAAL,CAAWG,KAAX,CAAiBmB,UADtD,CAEfG,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAFZ,CAEsBuC,UAAU,CAAE,UAFlC,CAE8CuB,YAAY,CAAE4f,YAF5D,CAE0EjlB,UAAU,CAAE,KAAKE,KAAL,CAAWF,UAFjG,CAAnB,CAKA,GAAM2lB,CAAAA,OAAO,CAAG,CACZ7hB,UAAU,CAAE,UADA,CACYlB,SAAS,CAAE,KADvB,CAC8BhB,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAD3D,CAEZL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAFf,CAEyBsB,SAAS,CAAE,eAFpC,CAEqDkB,OAAO,CAAE,oBAF9D,CAAhB,CAIA,GAAM6hB,CAAAA,WAAW,CAAG,CAChBtjB,QAAQ,CAAE,CADM,CACHE,QAAQ,CAAE,KAAK1C,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4B,KAAK/E,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAA5B,CAA4D,CADnE,CAEhBgC,aAAa,CAAE,eAFC,CAEgBC,cAAc,CAAE,cAFhC,CAEgDC,eAAe,CAAE,oBAFjE,CAGhBE,QAAQ,CAAE,4BAHM,CAGwBC,gBAAgB,CAAE,CAAE5F,QAAQ,CAAE,KAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAA7B,CAH1C,CAGmFK,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAHhH,CAIhBjD,eAAe,CAAfA,eAJgB,CAICwd,UAAU,CAAE,CAAC,sBAAD,CAAyB,+BAAzB,CACzB,kCADyB,CACW,4BADX,CACyC,wBADzC,CAJb,CAKiFC,cAAc,CAAE,IALjG,CAApB,CAOA,GAAMyJ,CAAAA,sBAAsB,CAAG,CAC3BzN,eAAe,CAAE,CADU,CACPC,eAAe,CAAE,KAAKvY,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA4B,KAAK/E,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,CAA5B,CAA4D,CADtE,CAE3BgC,aAAa,CAAE,aAFY,CAEGC,cAAc,CAAE,qBAFnB,CAE0CC,eAAe,CAAE,2BAF3D,CAG3BE,QAAQ,CAAE,sDAHiB,CAGuCC,gBAAgB,CAAE,CAAE5F,QAAQ,CAAE,KAAKxB,KAAL,CAAWG,KAAX,CAAiBsB,QAA7B,CAC/E4B,kBAAkB,CAAC,KAAKrD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,EAA0C,KAAKpO,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBADvB,CAHzD,CAIsGvB,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAJnI,CAK3B,kBAAkB,CAAC,WAAD,CAAa,qBAAb,CALS,CAM5Bua,UAAU,CAAE,EANgB,CAMXC,cAAc,CAAE,IANL,CAA/B,CAQA,GAAM0J,CAAAA,mBAAmB,CAAG,EAA5B,CACA,GAAMC,CAAAA,mBAAmB,CAAG,EAA5B,CACA,GAAMC,CAAAA,uBAAuB,CAAG,EAAhC,CACA,GAAMC,CAAAA,sBAAsB,CAAG,EAA/B,CACArnB,uBAAuB,CAACqZ,OAAxB,CAAgC,SAAAvX,IAAI,QAAIA,CAAAA,IAAI,CAACwlB,SAAL,GAAmB,IAAnB,CACpCJ,mBAAmB,CAACvX,IAApB,CAAyB7N,IAAzB,CADoC,CACH,EADD,EAApC,EAIA7B,mBAAmB,CAACoZ,OAApB,CAA4B,SAAAvX,IAAI,QAAIA,CAAAA,IAAI,CAACwlB,SAAL,GAAmB,IAAnB,CAChCH,mBAAmB,CAACxX,IAApB,CAAyB7N,IAAzB,CADgC,CACC,EADL,EAAhC,EAGA3B,kBAAkB,CAACkZ,OAAnB,CAA2B,SAAAvX,IAAI,QAAIA,CAAAA,IAAI,CAACwlB,SAAL,GAAmB,IAAnB,CAC/BF,uBAAuB,CAACzX,IAAxB,CAA6B7N,IAA7B,CAD+B,CACM,EADV,EAA/B,EAGA5B,iBAAiB,CAACmZ,OAAlB,CAA0B,SAAAvX,IAAI,QAAIA,CAAAA,IAAI,CAACwlB,SAAL,GAAmB,IAAnB,CAC9BD,sBAAsB,CAAC1X,IAAvB,CAA4B7N,IAA5B,CAD8B,CACM,EADV,EAA9B,EAIA,GAAI,KAAKZ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,EAA+BoG,MAAM,CAACE,MAAP,CAAc,KAAKpI,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,EAA2CoJ,MAA3C,CAAoD,CAAvF,CAA0F,CACtF,GAAIrF,YAAY,EAAIA,YAAY,CAAC2C,iBAAjC,CAAoD,CAChD,GAAM6d,CAAAA,SAAS,CAAG,KAAKrmB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B2b,SAA5B,CAAsC+B,KAAtC,CAA4C,GAA5C,CAAlB,CACA,GAAI8G,CAAAA,aAAa,CAAG,EAApB,CACAD,SAAS,CAAClO,OAAV,CAAkB,SAAAoO,QAAQ,CAAI,CAC1B,MAAI,CAACvmB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0kB,wBAA5B,CAAqDrO,OAArD,CAA6D,SAAAsO,QAAQ,CAAI,CACrE,GAAIA,QAAQ,CAAC7d,yBAAT,GAAuCsJ,QAAQ,CAACqU,QAAD,CAAnD,CACID,aAAa,CAAC7X,IAAd,CAAmBgY,QAAQ,CAACje,iBAA5B,EACP,CAHD,EAIH,CALD,EAMA,KAAK+a,oBAAL,CAA4B+C,aAA5B,CACA,GAAIljB,qBAAqB,EAAIA,qBAAqB,GAAK,IAAnD,EAA2DA,qBAAqB,CAAC8a,SAArF,CAAgG,CAC5F,KAAKqF,oBAAL,CAA0B9U,IAA1B,CAA+BrL,qBAAqB,CAAC8a,SAArD,EACA,GAAIlD,iBAAiB,EAAIA,iBAAiB,GAAK,IAA3C,EAAmDA,iBAAiB,CAACuD,cAAlB,GAAqC,CAAC,CAA7F,CAAgG,CAC5F;AACA,KAAKgF,oBAAL,CAA0B9U,IAA1B,CAA+BuM,iBAAiB,CAAC0L,cAAjD,EACH,CAHD,IAGO,CACH;AACH,CACJ,CARD,IAQO,CACH;AACH,CACJ,CArBD,IAqBO,CACH,KAAKnD,oBAAL,CAA4B,EAA5B,CACA;AACH,CACJ,CAED,KAAKrhB,cAAL,CAAsB,GAAIzD,CAAAA,cAAJ,EAAtB,CAIA;AACA,GAAMkoB,CAAAA,UAAU,cACZ,wCACK,KAAKpD,oBAAL,EAA6B,KAAKA,oBAAL,CAA0BrY,MAA1B,CAAmC,CAAhE,eACG,2BAAK,SAAS,CAAC,uBAAf,eACI,8BACK,KAAKqY,oBAAL,CAA0B1X,GAA1B,CAA8B,SAACjL,IAAD,CAAU,CACrC,mBAAO,8BAAKA,IAAL,CAAP,CACH,CAFA,CADL,CADJ,CAFR,cAWI,oBAAC,YAAD,EAAc,MAAM,CAAE,KAAKR,KAAL,CAAW6iB,QAAjC,CAA2C,SAAS,CAAC,MAArD,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,IAAD,mBACI,oBAAC,IAAD,CAAM,MAAN,mBACI,4BAAM,KAAK,CAAE,CAAE2D,OAAO,CAAE,cAAX,CAA2BC,SAAS,CAAE,IAAtC,CAAb,eACI,8BAAK,KAAK7mB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAAL,CADJ,CADJ,cASI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,KAAK,CAAE,CAAEomB,KAAK,CAAE,OAAT,CAAkBC,WAAW,CAAE,MAA/B,CAA3C,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,oBAAL,EAAN,EADb,eAEI,oBAAC,eAAD,EAAiB,IAAI,CAAE7tB,KAAvB,EAFJ,CAEqD,IAFrD,CAGK,KAAK6G,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAHL,CATJ,CADJ,cAgBI,oBAAC,IAAD,CAAM,IAAN,mBACI,oBAAC,iBAAD,EACI,YAAY,CAAE,KAAKV,KAAL,CAAWG,KAAX,CAAiB2a,YADnC,CAEI,UAAU,CAAE,KAAK1a,KAAL,CAAWuE,UAF3B,CAGI,qBAAqB,CAAE,KAAKvE,KAAL,CAAWwE,qBAHtC,CAII,qBAAqB,CAAE,KAAK5E,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsB,qBAJvD,CAKI,QAAQ,CAAE,KAAKpD,KAAL,CAAWG,KAAX,CAAiBsB,QAL/B,CAMI,YAAY,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAN9C,CAOI,cAAc,CAAE,KAAKzF,KAAL,CAAWF,UAP/B,CAQI,wBAAwB,CAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BmlB,wBAR1D,CASI,UAAU,CAAC,uBATf,CAUI,YAAY,CAAE,KAAK7kB,YAVvB,CAWI,gBAAgB,CAAE,KAAKpC,KAAL,CAAW7F,gBAXjC,CAYI,UAAU,CAAE,KAAKiG,KAAL,CAAWF,UACvB;AAbJ,CAcI,qBAAqB,CAAE,KAAKygB,yBAdhC,CAeI,oBAAoB,CAAE,KAAK2B,oBAf/B,CAgBI,mBAAmB,CAAE,KAAKb,mBAhB9B,CAiBI,UAAU,CAAE,KAAKH,UAjBrB,CAkBI,UAAU,CAAE,KAAKthB,KAAL,CAAWG,KAAX,CAAiB2B,UAlBjC,EADJ,CAhBJ,CADJ,CADJ,cA4CQ,4CACI,oBAAC,SAAD,EAAW,SAAS,CAAE,KAAKyC,SAAL,EAAtB,CAAwC,WAAW,CAAE,KAAK6B,WAA1D,EADJ,CA5CR,CAXJ,CADJ,CA+DA,GAAM8gB,CAAAA,UAAU,cAAG,oBAAC,IAAD,mBACf,oBAAC,IAAD,CAAM,MAAN,EAAa,SAAS,CAAC,WAAvB,eACI,0BAAI,SAAS,CAAC,iBAAd,CAAgC,WAAW,KAAKlnB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAA3C,EAAgG,KAAKV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAAhG,CADJ,cAEI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,KAAK,CAAE,CAAEymB,QAAQ,CAAE,UAAZ,CAAwBC,KAAK,CAAE,KAA/B,CAAsCC,GAAG,CAAE,KAA3C,CAA3C,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,mBAAL,EAAN,EADb,eAEI,oBAAC,eAAD,EAAiB,IAAI,CAAEnuB,KAAvB,EAFJ,CAEqD,IAFrD,CAGK,KAAK6G,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,cAAN,CAA9B,CAHL,CAFJ,CADe,cASf,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAE,KAAKN,KAAL,CAAWijB,QAAX,CAAsB,KAAtB,CAA8B,UAApD,eACI,oBAAC,6BAAD,EACI,QAAQ,CAAE,GADd,CAEI,oBAAoB,CAAE,KAAKG,cAAL,CAAsB,KAAKA,cAAL,CAAoBtY,MAApB,CAA6B,CAA7B,CAAiC,IAAjC,CAAwC,KAA9D,CAAsE,KAC5F;AAHJ,CAII,UAAU,CAAEoZ,YAAY,EAAIjC,aAAhB,EAAiC,EAC7C;AALJ,CAMI,cAAc,CAAE,IANpB,CAOI,cAAc,CAAEjU,YAAY,GAAK9N,SAAjB,CAA6B,CAAC8N,YAAD,CAA7B,CAA8C9N,SAPlE,CAQI,eAAe,CAAC,oBARpB,CASI,eAAe,CAAE,KAAKN,KAAL,CAAWjG,mBAThC,CAUI,UAAU,CAAE8rB,OAVhB,CAWI,eAAe,CAAE,EAXrB,CAYI,SAAS,CAAC,WAZd,CAaI,gBAAgB,CAAC,cAbrB,CAcI,UAAU,CAAC,eAdf,CAeI,QAAQ,CAAC,UAfb,CAgBI,cAAc,CAAE,IAhBpB,CAiBI,eAAe,CAAC,qBAjBpB,CAkBI,WAAW,CAAC,oBAlBhB,CAmBI,SAAS,CAAEjnB,aAnBf,CAoBI,SAAS,CAAED,cApBf,CAqBI,cAAc,CAAE,KArBpB,CAsBI,UAAU,CAAE,KAtBhB,CAuBI,gBAAgB,CAAE,KAAKqB,KAAL,CAAW5E,qBAvBjC,CAwBI,cAAc,CAAC,cAxBnB,CAyBI,SAAS,CAAE,KAAK2G,SAzBpB,CA0BI,UAAU,CAAE,KA1BhB,CA2BI,WAAW,CAAE+jB,WA3BjB,CA4BI,gBAAgB,CAAE,KAAKzjB,gBA5B3B,CA6BI,IAAI,CAAE,KAAKjC,KAAL,CAAWoC,QA7BrB,CA8BI,IAAI,CAAE,KAAKpC,KAAL,CAAWsC,QA9BrB,CA+BI,QAAQ,CAAE,KAAK1C,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,EAA6B,KAAK/E,KAAL,CAAWG,KAAX,CAAiB4E,QAAjB,CAA0B,EAA1B,EAA8Bya,KAA9B,CAAoC,GAApC,EAAyC3T,GAAzC,CAA6C,SAAA0b,OAAO,QAAIrV,CAAAA,QAAQ,CAACqV,OAAD,CAAZ,EAApD,CA/B3C,CAgCI,WAAW,CACP,CACI,CACI7d,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,oBAFjB,CAGIE,UAAU,CAAE,cAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyC0E,UAAzC,IAAyD,CAAC,CAJtE,CAKIpkB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAW,CAAA,MAAI,CAAC4C,YAAL,CAAkB5C,KAAlB,CAAX,EANb,CAOIwnB,mBAAmB,CAAE,IAPzB,CAQIC,uBAAuB,CAAE,KAAKnkB,YARlC,CADJ,CAWI,CACIoG,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,mBAFjB,CAGIE,UAAU,CAAE,cAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyC0E,UAAzC,IAAyD,CAAC,CAJtE,CAKIpkB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAW,CAAA,MAAI,CAAC4C,YAAL,CAAkB5C,KAAlB,CAAX,EANb,CAOIwnB,mBAAmB,CAAE,IAPzB,CAQIC,uBAAuB,CAAE,KAAK/jB,YARlC,CAXJ,CAqBI,CACIgG,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,aAFjB,CAGIE,UAAU,CAAE,wBAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCyE,UAAzC,IAAyD,CAAC,CAJtE,CAKInkB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAW,CAAA,MAAI,CAACA,KAAL,CAAWxF,iBAAX,CAA6B,QAA7B,CAAuCwF,KAAK,CAACoO,YAAN,CAAmB,CAAnB,CAAvC,CAA8D,MAAI,CAACpO,KAAL,CAAWG,KAAX,CAAiBsB,QAA/E,CAAyFikB,UAAzF,CAAqGtiB,qBAArG,CAA4H,MAAI,CAAChD,KAAL,CAAWF,UAAvI,CAAmJF,KAAK,CAAC8B,UAAzJ,CAAX,EANb,CArBJ,CA6BI,CACI4H,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,YAFjB,CAGIE,UAAU,CAAE,eAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCwE,YAAzC,IAA2D,CAAC,CAJxE,CAKIlkB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAWkC,CAAAA,cAAc,CAACC,OAAf,CAChB,eADgB,CAEhB,MAAI,CAACnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFgB,CAGhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAHgB,CAIhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAJgB,CAKhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CALgB,CAMhB,iBAAM,CAAA,MAAI,CAACiG,UAAL,CAAgB,CAAE3G,KAAK,CAALA,KAAF,CAASuF,YAAY,CAAEkgB,YAAvB,CAAqCvlB,UAAU,CAAE,MAAI,CAACE,KAAL,CAAWF,UAA5D,CAAhB,CAAN,EANgB,CAAX,EANb,CA7BJ,CAjCR,CA+EI,aAAa,cACT,qDAEI,oBAAC,MAAD,EAAQ,SAAS,CAAC,4CAAlB,CAA+D,IAAI,CAAC,QAApE,CACI,MAAM,CAAE,KAAKE,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCuE,SAAzC,IAAwD,CAAC,CADrE,CAEI,WAAU,KAAKxlB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CACV;AAHJ,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,KAAL,CAAWzF,gBAAX,CAA4BygB,iBAA5B,CAA+C,MAAI,CAAChb,KAAL,CAAWG,KAAX,CAAiBsB,QAAhE,CAA0E+jB,SAA1E,CAAqFpiB,qBAArF,CAA4G,MAAI,CAAChD,KAAL,CAAWF,UAAvH,CAAmI,MAAI,CAACF,KAAL,CAAWG,KAAX,CAAiB2B,UAApJ,CAAN,EAJb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAE9I,MAAvB,CAA+B,KAAK,CAAE,KAAKgH,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAtC,EALJ,CAFJ,CAhFR,EADJ,CATe,CAAnB,CAyGA,GAAMgnB,CAAAA,WAAW,cACb,qDACI,oBAAC,YAAD,EAAc,MAAM,CAAE,CAAC,KAAKtnB,KAAL,CAAW6iB,QAAlC,CAA4C,SAAS,CAAC,eAAtD,eACI,oBAAC,IAAD,mBASI,oBAAC,gBAAD,EACI,UAAU,CAAE,KAAK7iB,KAAL,CAAWkjB,UAD3B,CAEI,QAAQ,CAAE,KAAKljB,KAAL,CAAWijB,QAFzB,CAGI,qBAAqB,CAAE,KAAKrjB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6lB,qBAA5B,EACnB,KAAK3nB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6lB,qBAA5B,GAAoDxqB,iBAAiB,CAACuE,GADnD,CACuD,IADvD,CAC4D,KAJvF,CAKI,UAAU,CAAE,KAAK1B,KAAL,CAAWG,KAAX,CAAiB2B,UALjC,CAMI,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiBmB,UANjC,CAOI,QAAQ,CAAE,KAAKtB,KAAL,CAAWG,KAAX,CAAiBsB,QAP/B,CAQI,qBAAqB,CAAE,KAAKrB,KAAL,CAAWwE,qBARtC,CASI,WAAW,CAAE,KAAK5E,KAAL,CAAWG,KAAX,CAAiByE,qBATlC,CAUI,UAAU,CAAE,KAAK5E,KAAL,CAAWG,KAAX,CAAiB6D,UAVjC,CAWI,cAAc,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiBynB,cAXrC,CAYI,SAAS,CAAE,KAAK5nB,KAAL,CAAWG,KAAX,CAAiB2C,SAZhC,CAaI,SAAS,CAAE,KAAK9C,KAAL,CAAWG,KAAX,CAAiBmH,SAbhC,CAcI,kBAAkB,CAAE,KAAKtH,KAAL,CAAWG,KAAX,CAAiBya,kBAdzC,CAeI,aAAa,CAAE,KAAK5a,KAAL,CAAWG,KAAX,CAAiB0nB,aAfpC,CAgBI,cAAc,CAAE,KAAKznB,KAAL,CAAW8D,cAhB/B,CAiBI,sBAAsB,CAAE,KAAK9D,KAAL,CAAW0nB,sBAAX,EAAqC,EAjBjE,CAkBI,mBAAmB,CAAE,KAAK1nB,KAAL,CAAW2nB,mBAlBpC,CAmBI,UAAU,CAAE,KAAK/nB,KAAL,CAAWG,KAAX,CAAiBoH,UAnBjC,CAoBI,YAAY,CAAE,KAAKvH,KAAL,CAAWG,KAAX,CAAiBoF,YApBnC,CAqBI,UAAU,CAAE,KAAKnF,KAAL,CAAWuE,UArB3B,CAsBI,kBAAkB,CAAE,KAAK3E,KAAL,CAAWG,KAAX,CAAiB6nB,kBAtBzC,CAuBI,iBAAiB,CAAE,KAAKhoB,KAAL,CAAWG,KAAX,CAAiB8nB,iBAvBxC,CAwBI,iBAAiB,CAAE,KAAKjoB,KAAL,CAAWxF,iBAxBlC,CAyBI,WAAW,CAAE,KAAKwF,KAAL,CAAW9F,WAzB5B,CA0BI,UAAU,CAAE,KAAK8F,KAAL,CAAWrG,UA1B3B,CA2BI,qBAAqB,CAAE,KAAKqG,KAAL,CAAWvF,qBA3BtC,CA4BI,sBAAsB,CAAE,KAAKuF,KAAL,CAAWtF,sBA5BvC,CA6BI,UAAU,CAAE,KAAK0F,KAAL,CAAWF,UA7B3B,CA8BI,uBAAuB,CAAE,KAAKF,KAAL,CAAWlF,uBA9BxC,CA+BI,kBAAkB,CAAE,KAAKkF,KAAL,CAAW7D,kBA/BnC,CAgCI,sBAAsB,CAAE,KAAK6D,KAAL,CAAWpE,sBAhCvC,CAiCI,uBAAuB,CAAE,KAAKoE,KAAL,CAAW/F,uBAjCxC,CAkCI,gBAAgB,CAAE,KAAK+F,KAAL,CAAWhF,gBAlCjC,CAmCI,sBAAsB,CAAE,KAAKgF,KAAL,CAAW9E,sBAnCvC,CAoCI,sBAAsB,CAAE,KAAK8E,KAAL,CAAWzE,sBApCvC,CAqCI,YAAY,CAAE,KAAKyE,KAAL,CAAWG,KAAX,CAAiB+nB,YArCnC,CAsCI,oCAAoC,CAAE,KAAKloB,KAAL,CAAWxE,oCAtCrD,CAuCI,oBAAoB,CAAE,KAAKwE,KAAL,CAAWG,KAAX,CAAiBgoB,oBAvC3C,CAwCI,YAAY,CAAE,KAAKnoB,KAAL,CAAWG,KAAX,CAAiBioB,YAxCnC,CAyCI,gCAAgC,CAAE,KAAKpoB,KAAL,CAAWvE,gCAzCjD,CA0CI,oBAAoB,CAAE,KAAKuE,KAAL,CAAWtE,oBA1CrC,CA2CI,0BAA0B,CAAE,KAAKsE,KAAL,CAAWrE,0BA3C3C,CA4CI,SAAS,CAAE,KAAKyE,KAAL,CAAWkF,qBA5C1B,CA6CI,eAAe,CAAE,KAAKF,mBA7C1B,CA8CI,0BAA0B,CAAE,KAAKvJ,0BA9CrC,CA+CI,QAAQ,CAAE,KAAKmE,KAAL,CAAWG,KAAX,CAAiB4E,QA/C/B,CAgDI,IAAI,CAAE,KAAK3E,KAAL,CAAWoC,QAhDrB,CAiDI,IAAI,CAAE,KAAKpC,KAAL,CAAWsC,QAjDrB,CAkDI,2BAA2B,CAAE,KAAK1C,KAAL,CAAWlE,2BAlD5C,CAmDI,+BAA+B,CAAE,KAAKkE,KAAL,CAAWjE,+BAnDhD,CAoDI,iBAAiB,CAAE,KAAKiP,iBApD5B,CAqDI,cAAc,CAAE,wBAACqd,UAAD,CAAa5iB,KAAb,QAAuB,CAAA,MAAI,CAAC6iB,cAAL,CAAoBD,UAApB,CAAgC5iB,KAAhC,CAAvB,EArDpB,CAsDI,YAAY,CAAE,sBAACzF,KAAD,QAAS,CAAA,MAAI,CAACoY,YAAL,CAAkBpY,KAAlB,CAAT,EAtDlB,CAuDI,0BAA0B,CAAE,oCAACsC,KAAD,QAAW,CAAA,MAAI,CAAC+V,0BAAL,CAAgC/V,KAAhC,CAAX,EAvDhC,CAwDI,eAAe,CAAE,KAAKlC,KAAL,CAAWkY,eAxDhC,CAyDI,eAAe,CAAE,KAAKlY,KAAL,CAAWmY,eAzDhC,CA0DI,WAAW,CAAG,qBAACvY,KAAD,QAAS,CAAA,MAAI,CAACkY,WAAL,CAAiBlY,KAAjB,CAAT,EA1DlB,CA2DI,sBAAsB,CAAG+lB,sBA3D7B,CA4DI,qBAAqB,CAAE,KAAK/lB,KAAL,CAAW5E,qBA5DtC,CA6DI,kBAAkB,CAAE,4BAAC4E,KAAD,QAAS,CAAA,MAAI,CAACA,KAAL,CAAW5D,kBAAX,CAA8B4D,KAA9B,CAAoC,MAAI,CAACA,KAAL,CAAWG,KAAX,CAAiB2B,UAArD,CAAgE,MAAI,CAAC9B,KAAL,CAAWG,KAAX,CAAiBsB,QAAjF,CAAT,EA7DxB,EATJ,CADJ,CADJ,CADJ,CAiFA,GAAM8mB,CAAAA,UAAU,cACZ,oBAAC,cAAD,EACI,eAAe,CAAE,KAAKnoB,KAAL,CAAWijB,QAAX,CAAsB,gBAAtB,CAAyC,2BAD9D,CAEI,QAAQ,CAAE,KAAKjjB,KAAL,CAAWijB,QAAX,CAAsB,KAAtB,CAA8B,IAF5C,CAGI,WAAW,CAAC,MAHhB,CAII,YAAY,CAAE,CAJlB,CAKI,UAAU,CAAE,IACZ;AANJ,CAOI,oBAAoB,CAAE,EAP1B,CAQI,cAAc,CAAE,EARpB,CASI,gBAAgB,CAAE,EATtB,EAWK6D,UAXL,CAWiBQ,WAXjB,CADJ,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,mBACI,qDAGI,oBAAC,WAAD,EAAa,SAAS,CAAC,iDAAvB,EACK,KAAKlE,cAAL,EAAuB,KAAKA,cAAL,CAAoBtY,MAApB,CAA6B,CAApD,eACG,oBAAC,mBAAD,EACI,cAAc,CAAE,KAAKsY,cADzB,EAFR,cAKI,oBAAC,GAAD,EAAK,SAAS,KAAd,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,uCAAvB,CAA+D,GAAG,CAAE,aAACM,YAAD,CAAkB,CAAE,MAAI,CAACA,YAAL,CAAoBA,YAApB,CAAkC,CAA1H,eACI,oBAAC,cAAD,EACI,WAAW,CAAC,MADhB,CAEI,YAAY,CAAE,CAFlB,CAGI,UAAU,CAAE,IAHhB,CAII,oBAAoB,CAAE,EAC1B;AALA,eAOI,2BAAK,SAAS,WAAK,KAAK1jB,KAAL,CAAWooB,WAAX,CAAyB,iCAAzB,CAA6D,mBAAlE,CAAd,eACI,2BAAK,SAAS,CAAC,aAAf,eACI,oBAAC,SAAD,EAAW,SAAS,CAAC,wCAArB,eACI,8BAAK,KAAKxoB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,iBAAN,CAA9B,CAAL,CADJ,cAEI,2BAAK,SAAS,CAAC,0BAAf,eACI,oBAAC,SAAD,EACI,eAAe,CAAE,CAAC,CACd,gCACI,oBAAC,YAAD,EACI,YAAY,CAAE,KAAKV,KAAL,CAAWG,KAAX,CAAiB2a,YADnC,CAEI,QAAQ,CAAE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAF/B,CAGI,UAAU,CAAE,KAAKrB,KAAL,CAAWqoB,UAH3B,CAII,mBAAmB,CAAE,KAAKroB,KAAL,CAAWsoB,mBAJpC,CAKI,eAAe,CAAE,KAAKtoB,KAAL,CAAWuoB,eALhC,CAMI,OAAO,CAAE,KAAKvoB,KAAL,CAAWqa,OANxB,CAOI,WAAW,CAAE,KAAKra,KAAL,CAAWwoB,WAP5B,CAQI,OAAO,CAAE,KAAKxoB,KAAL,CAAWsa,OARxB,CASI,mBAAmB,CAAE,KAAKJ,mBAT9B,CAUI,cAAc,CAAE,KAAKla,KAAL,CAAWwD,cAV/B,EAFU,CAedilB,eAAe,CAAE,KAfH,CAAD,CADrB,CAkBI,cAAc,CAAE,KAAKllB,cAlBzB,CAmBI,WAAW,CAAE,qBAACmlB,CAAD,QAAO,CAAA,MAAI,CAACvmB,QAAL,CAAc,CAAEimB,WAAW,CAAEM,CAAf,CAAd,CAAP,EAnBjB,EADJ,cAuBI,oBAAC,WAAD,EAAa,SAAS,CAAC,qDAAvB,eAEI,oBAAC,MAAD,EAAQ,SAAS,CAAC,iDAAlB,CAAoE,IAAI,CAAC,QAAzE,CACI,MAAM,CAAE,KAAK1oB,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCgE,SAAzC,IAAwD,CAAC,CADrE,CAEI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACjlB,KAAL,CAAWnG,UAAX,CAAsB,MAAI,CAACuG,KAAL,CAAWF,UAAjC,CAA6C,MAAI,CAACF,KAAL,CAAWG,KAAX,CAAiBsB,QAA9D,CAAwE,MAAI,CAACzB,KAAL,CAAWG,KAAX,CAAiB2B,UAAzF,CAAqGmjB,SAArG,CAAN,EAFb,CAGI,WAAU,KAAKjlB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CACd;AAJA,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE1H,MAAvB,EANJ,CAFJ,cAWI,oBAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,sCAApB,CAA2D,IAAI,CAAC,cAAhE,CACI,MAAM,CAAE,KAAKoH,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCiE,UAAzC,IAAyD,CAAC,CADtE,CAEI,WAAU,KAAKllB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CACV;AAHJ,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,KAAL,CAAWlG,QAAX,CAAoB,QAApB,CAA8B+L,YAA9B,CAA4C,MAAI,CAAC7F,KAAL,CAAWG,KAAX,CAAiBsB,QAA7D,CAAuEyjB,UAAvE,CAAmF,MAAI,CAAC9kB,KAAL,CAAWF,UAA9F,CACX,MAAI,CAACF,KAAL,CAAWG,KAAX,CAAiB2B,UADN,CAAN,EAJb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE/I,WAAvB,EANJ,CAXJ,cAmBI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,YAAf,CACI,MAAM,CAAE,KAAKqH,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCkE,YAAzC,IAA2D,CAAC,CADxE,CAEI,WAAU,KAAKnlB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CACV;AAHJ,CAII,SAAS,CAAC,8BAJd,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACsB,aAAL,kBAAwB4jB,UAAxB,EAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAExsB,UAAvB,EANJ,CAnBJ,cAqCI,oBAAC,MAAD,EAAQ,SAAS,CAAC,kCAAlB,CAAqD,OAAO,CAAC,MAA7D,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC6G,UAAL,EAAN,EACT;AAFJ,CAGI,WAAU,KAAKD,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,aAAN,CAA9B,CAHd,eAII,oBAAC,eAAD,EAAiB,IAAI,CAAEzH,MAAvB,CAA+B,KAAK,CAAE,CAAE,QAAS,eAAX,CAAtC,EAJJ,CArCJ,CAvBJ,CAFJ,CADJ,CADJ,cA4EI,2BAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAAE,SAAU,KAAKmH,KAAL,CAAW0jB,YAAvB,CAAhD,eACI,oBAAC,gBAAD,mBACI,oBAAC,YAAD,EACI,IAAI,CAAE,KAAK9jB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0iB,UADtC,CAEI,SAAS,CAAE,KAFf,CAGI,eAAe,CAAE,KAAKzgB,WAH1B,CAII,gBAAgB,CAAEqgB,SAJtB,CAKI,QAAQ,CAAEC,QAAQ,EAAI,EAL1B,CAMI,SAAS,CAAE5G,SAAS,EAAI,EAN5B,EADJ,cASI,oBAAC,oBAAD,EACI,aAAa,CAAE,IADnB,CAEI,SAAS,CAAE,KAAKzd,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,mBAAN,CAA9B,CAFf,CAGI,YAAY,CAAC,iCAHjB,CAII,UAAU,CAAEyjB,sBAAsB,EAAI,EAJ1C,CAKI,cAAc,CAAE,CAAC/gB,qBAAD,CALpB,CAMI,eAAe,CAAE,KANrB,CAOI,eAAe,CAAC,mBAPpB,CAQI,eAAe,CAAE,yBAAC2lB,IAAD,QAAU,CAAA,MAAI,CAAC/oB,KAAL,CAAWjF,oBAAX,gCAAqC2pB,YAArC,MAAmDxgB,cAAc,CAAE6kB,IAAnE,CAAyElnB,gBAAgB,CAAE,MAAI,CAACzB,KAAL,CAAWyB,gBAAtG,GAA0H,MAAI,CAAC7B,KAAL,CAAWG,KAAX,CAAiB2B,UAA3I,CAAuJ,MAAI,CAACC,SAA5J,CAAV,EARrB,CASI,SAAS,CAAC,WATd,CAUI,gBAAgB,CAAC,wBAVrB,CAWI,UAAU,CAAC,wBAXf,CAYI,QAAQ,CAAC,mBAZb,CAaI,cAAc,CAAE,KAAK4B,cAbzB,CAcI,SAAS,CAAE,KAAK+f,YAdpB,CAeI,WAAW,CACP,CACI,CACIha,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,aAFjB,CAGIE,UAAU,CAAE,wBAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCmE,UAAzC,IAAyD,CAAC,CAJtE,CAKI7jB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAW,CAAA,MAAI,CAACA,KAAL,CAAW7F,gBAAX,CAA4B,QAA5B,gCAA2CyqB,aAA3C,EAA6D5kB,KAA7D,EAAsEolB,UAAtE,CAAX,EANb,CADJ,CASI,CACI1b,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADX,CAEIiJ,WAAW,CAAE,YAFjB,CAGIE,UAAU,CAAE,wBAHhB,CAIID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCoE,YAAzC,IAA2D,CAAC,CAJxE,CAKI9jB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CALf,CAMIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAWkC,CAAAA,cAAc,CAACC,OAAf,CAChB,eADgB,CAEhB,MAAI,CAACnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFgB,CAGhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAHgB,CAIhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAJgB,CAKhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CALgB,CAMhB,iBAAM,CAAA,MAAI,CAACyf,gBAAL,8BAAwBngB,KAAK,CAALA,KAAxB,EAAkC6kB,eAAlC,MAAmD3gB,cAAc,CAAEd,qBAAnE,CAA0FmC,YAAY,CAAE8f,YAAxG,GAAN,EANgB,CAAX,EANb,CATJ,CAhBR,CA0CI,UAAU,CAAE,KA1ChB,CA2CI,aAAa,cACT,qDAEI,oBAAC,MAAD,EAAQ,SAAS,CAAC,4CAAlB,CAA+D,IAAI,CAAC,QAApE,CACI,MAAM,CAAE,KAAKjlB,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyC6D,SAAzC,IAAwD,CAAC,CADrE,CAEI,WAAU,KAAK9kB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CACV;AAHJ,CAII,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,KAAL,CAAW7F,gBAAX,CAA4B,QAA5B,kBAA2CwqB,YAA3C,EAA2DG,SAA3D,CAAsE,MAAI,CAAC9kB,KAAL,CAAWG,KAAX,CAAiB2B,UAAvF,CAAN,EAJb,eAKI,oBAAC,eAAD,EAAiB,IAAI,CAAE9I,MACvB;AADA,EALJ,CAFJ,CA5CR,CAyDI,UAAU,CAAE,KAzDhB,CA0DI,UAAU,CAAE,IA1DhB,EATJ,CAsEE,KAAKgH,KAAL,CAAWG,KAAX,CAAiBD,UAAjB,EAA+B,KAAKF,KAAL,CAAWG,KAAX,CAAiBD,UAAjB,CAA4BS,eAA5B,CAA4CC,IAA5C,CAAiDooB,iBAAjD,EAAsEtrB,YAAY,CAACurB,uBAAlH,CAA4I,EAA5I,CACE;AACA7lB,qBAAqB,EAAIA,qBAAqB,CAAC6a,kBAAtB,GAA6C9gB,iBAAiB,CAACuE,GAAxF,eAEI,oBAAC,oBAAD,EACI,aAAa,CAAE,IADnB,CAEI,SAAS,CAAE,KAAK1B,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAFhD,CAGI,YAAY,CAAC,iCAHjB,CAII,UAAU,CAAEJ,uBAAuB,EAAI,EAJ3C,CAKI,cAAc,CAAE,CAACK,iBAAD,CALpB,CAMI,eAAe,CAAE,KANrB,CAOI,eAAe,CAAC,qBAPpB,CAQI,eAAe,CAAE,yBAAC1Y,KAAD,QAAW,CAAA,MAAI,CAACmE,iBAAL,CAAuBnE,KAAvB,CAAX,EARrB,CASI,SAAS,CAAC,gBATd,CAUI,gBAAgB,CAAC,yBAVrB,CAWI,UAAU,CAAC,yBAXf,CAYI,QAAQ,CAAE,KAAKtC,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAZ/C,CAaI,WAAW,CACP,CACI,CACIrR,KAAK,CAAE,KAAK1J,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CADX,CAEI;AACAiJ,WAAW,CAAE,YAHjB,CAIIE,UAAU,CAAE,yBAJhB,CAKID,MAAM,CAAE,KAAKxJ,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCsE,iBAAzC,IAAgE,CAAC,CAL7E,CAMIhkB,SAAS,CAAE,CAAEO,UAAU,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiB2B,UAA/B,CAA2CL,QAAQ,CAAE,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAtE,CANf,CAOIqI,OAAO,CAAE,iBAAC9J,KAAD,QAAWkC,CAAAA,cAAc,CAACC,OAAf,CAChB,eADgB,CAEhB,MAAI,CAACnC,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CAFgB,CAGhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,uBAAN,CAA9B,CAHgB,CAIhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAJgB,CAKhB,MAAI,CAACV,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,YAAN,CAA9B,CALgB,CAMhB,iBAAM,CAAA,MAAI,CAAC2f,oBAAL,CAA0B,CAAErgB,KAAK,CAALA,KAAF,CAASuF,YAAY,CAAEggB,iBAAvB,CAA1B,CAAN,EANgB,CAAX,EAPb,CADJ,CAdR,CAiCI,aAAa,cACT,qDAEI,oBAAC,MAAD,EAAQ,SAAS,CAAC,4CAAlB,CAA+D,IAAI,CAAC,QAApE,CACI,MAAM,CAAE,KAAKnlB,KAAL,CAAWwE,qBAAX,CAAiCqc,OAAjC,CAAyCqE,cAAzC,IAA6D,CAAC,CAD1E,CAEI,WAAU,KAAKtlB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CACV;AACA;AAJJ,CAKI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACV,KAAL,CAAW3F,YAAX,CAAwB+I,qBAAxB,CAA+C,MAAI,CAACpD,KAAL,CAAWG,KAAX,CAAiBsB,QAAhE,CAA0E6jB,cAA1E,CAA0F,MAAI,CAACtlB,KAAL,CAAWG,KAAX,CAAiB2B,UAA3G,CAAsH,MAAI,CAAC9B,KAAL,CAAWG,KAAX,CAAiB2a,YAAvI,CAAN,EALb,eAMI,oBAAC,eAAD,EAAiB,IAAI,CAAE9hB,MACvB;AADA,EANJ,CAFJ,CAlCR,CAiDI,UAAU,CAAE,IAjDhB,EAmDA;AA7HR,CADJ,CA5EJ,CAPJ,cAsNI,wCACK,KAAKoH,KAAL,CAAWijB,QAAX,cACG,wCACKsD,UADL,CAEK,KAAKvmB,KAAL,CAAW6iB,QAAX,cACG,+BACKsF,UADL,CADH,CAIK,EANV,CADH,cAUG,oBAAC,gBAAD,MACK5B,UADL,CAEK,KAAKvmB,KAAL,CAAW6iB,QAAX,cACG,+BACKsF,UADL,CADH,CAIK,EANV,CAXR,CAtNJ,CADJ,CADJ,CALJ,CAHJ,cA8PI,oBAAC,SAAD,EACI,SAAS,CAAE,KAAKvoB,KAAL,CAAWG,KAAX,CAAiBgM,aADhC,CAGI,UAAU,CAAI,KAAKnM,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,CAAqC,mBAArC,CACV,KAAK9X,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,EACA,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBgpB,kBADjB,CACoC,KAAKnpB,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,4BAAN,CAA9B,CADpC,CAEF,EANN,CAOI,UAAU,CAAE,KAAK0L,yBAPrB,CAQI,WAAW,CAAG,KAAKb,sBARvB,CASI,YAAY,CAAE,KAAKvL,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,CAAmC,KAAnC,CAAyC,KAAK9X,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,EAAyC,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBgpB,kBAA1D,CAA6E,IAA7E,CAAkF,KAT7I,CAUI,UAAU,CAAE,KAAKnpB,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,CAAmC,KAAnC,CAAyC,KAAK9X,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,EAAyC,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBgpB,kBAA1D,CAA6E,IAA7E,CAAkF,KAV3I,CAWI,QAAQ,CAAE,KAAKnpB,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,CAAmC,IAAnC,CACN,KAAK9X,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,EAAyC,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBgpB,kBAA1D,CAA6E,EAA7E,CAAgF,IAZxF,CAaI,cAAc,CAAE,KAAK/oB,KAAL,CAAW8D,cAAX,EAA6B,EAbjD,CAcI,IAAI,CAAG,KAAKlE,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,CAAmC,IAAnC,CACH,KAAK9X,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,EAAyC,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBgpB,kBAA1D,CAA6E,EAA7E,CAAgF,IAfxF,CAgBI,YAAY,CAAE,KAAKnpB,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,CAAwC,IAAxC,CAA6C,KAhB/D,CAiBI,SAAS,CACC,KAAKlpB,KAAL,CAAWG,KAAX,CAAiB2X,iBAAjB,cACC,oBAAC,QAAD,EACQ,GAAG,CAAC,gBADZ,CAEQ,eAAe,CAAC,6BAFxB,CAGQ,UAAU,CAAE,KAAK9X,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6J,oBAA5B,EAAoDtS,OAAO,CAC/DyD,QAAQ,CAAC,KAAKkD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6J,oBAA7B,CACP,YADO,CACO,6BADP,CAAR,EAEG,EAH4D,CAI/D,KAAKvL,KAAL,CAAWuK,4BAAX,CACM,KAAKvK,KAAL,CAAWuK,4BADjB,CACgD,CAAElI,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CALe,CAH/E,CASQ,SAAS,CAAE,KAAKvC,KAAL,CAAWuK,4BAAX,CACL,KAAKvK,KAAL,CAAWuK,4BADN,CACqC,CAAElI,IAAI,CAAE,CAAR,CAAWE,IAAI,CAAE,EAAjB,CAVxD,CAWQ,eAAe,CAAE,KAAKgI,4BAX9B,CAYQ,mBAAmB,CAAE,CACjB,CAAE,UAAW,mBAAb,CAAkC,YAAa,mBAA/C,CAAoE,QAAS,OAA7E,CADiB,CAEhB,CAAE,UAAW,YAAb,CAA2B,YAAa,QAAxC,CAAkD,QAAS,OAA3D,CACD;AAHiB,CAZ7B,CAiBQ,UAAU,CAAE,KAAKvK,KAAL,CAAWuE,UAjB/B,CAkBQ,qBAAqB,CAAE,KAAKvE,KAAL,CAAWwE,qBAlB1C,CAmBQ,QAAQ,CAAE,IAnBlB,CAoBQ,UAAU,CAAE,YApBpB,CAqBQ,gBAAgB,CAAE,IArB1B,CAsBQ,UAAU,CAAE,CAtBpB,CAuBQ,aAAa,CAAE,UAvBvB,CAwBQ,UAAU,CAAI,OAxBtB,EADD,CA4BN,KAAK5E,KAAL,CAAWG,KAAX,CAAiBgpB,kBAAjB,CACA,KAAK/oB,KAAL,CAAW8D,cAAX,CAA0B,sBAA1B,CADA,CAEC,KAAKlE,KAAL,CAAWG,KAAX,CAAiB+oB,sBAAjB,cACF,oBAAC,6BAAD,EACA,qBAAqB,CAAE,KAAKlpB,KAAL,CAAWG,KAAX,CAAiBipB,qBADxC,CAEA,aAAa,CAAE,KAAKppB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B,eAA5B,CAFf,CAGA,oBAAoB,CAAE,KAAK9B,KAAL,CAAWG,KAAX,CAAiBkpB,oBAHvC,CAIA,mCAAmC,CAAE,KAAKrpB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BwnB,mCAA5B,EAAiE,EAJtG,CAKA,cAAc,CAAE,KAAKlpB,KAAL,CAAW8D,cAAX,EAA6B,EAL7C,CAMA,aAAa,CAAI,KAAK8V,aANtB,CAOA,aAAa,CAAE,KAAKwI,aAPpB,EADE,CASG,EAzDZ,EA9PJ,CA6TQ,KAAKxiB,KAAL,CAAWG,KAAX,CAAiBqH,SAAjB,EAA8B,KAAKxH,KAAL,CAAWG,KAAX,CAAiB6D,UAA/C,eACA,oBAAC,aAAD,EACI,IAAI,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiBqH,SAD3B,CAEI,UAAU,CAAE,KAAKC,UAFrB,CAGI,SAAS,CAAE,KAAKzH,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,CAAkD,YAAlD,CAAiE,EAHhF,CAII,SAAS,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,EAAgD,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhF,CAAoG,EAApG,CAAyG,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2C,SAJzI,CAKI,UAAU,CAAE,KAAK9C,KAAL,CAAWG,KAAX,CAAiBmB,UALjC,CAMI,UAAU,CAAG,KAAKtB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,EAAgD,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhF,CAAmG,KAAKhE,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAACC,EAAE,CAAE,KAAKV,KAAL,CAAWG,KAAX,CAAiB6D,UAAtB,CAA9B,EAC/G,KAD+G,CACzG,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC6G,YADnC,CACgD,KAAKjV,KAAL,CAAWG,KAAX,CAAiB6D,UAPlF,CAQI,KAAK,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiBmH,SAR5B,CASI,aAAa,CAAE,KAAKob,aATxB,CAUI,WAAW,CAAE,KAAKhH,WAVtB,CAWI,QAAQ,CAAE,KAAK1b,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,EAAgD,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhF,EAAoG,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,mBAApI,CAA2J,IAA3J,CAAkK,KAXhL,CAYI,IAAI,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,EAAiD,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAjF,CAAsG,IAAtG,CAA6G,IAZvH,CAaI,cAAc,CAAE,KAAK5D,KAAL,CAAW8D,cAAX,EAA6B,EAbjD,CAcI,eAAe,CACX,KAAKlE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,CAAiD,KAAKulB,mBAAL,CAAyB,KAAKvpB,KAAL,CAAWG,KAAX,CAAiB6D,UAA1C,CAAsD,KAAK5D,KAAL,CAAW8D,cAAjE,CAAjD,CACM,KAAKlE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,mBAAhC,CAAsDgiB,mBAAtD,CACI,KAAKhmB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAA+B,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAA/B,CAAqJkL,mBAArJ,CACI,KAAKjmB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,uBAAhC,CAA0DkiB,uBAA1D,CACI,KAAKlmB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,UAAhC,CAA6CmiB,sBAA7C,CACI,KAAKnmB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhC,EAAqD,KAAKhE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAArF,CACI,KAAKhE,KAAL,CAAWG,KAAX,CAAiBqpB,mBADrB,CAC2C,EArBzE,CAsBI,YAAY,CAAE,KAAKxpB,KAAL,CAAWG,KAAX,CAAiBmH,SAAjB,cACV,oBAAC,KAAD,EACI,SAAS,CAAE,KAAKtH,KAAL,CAAWG,KAAX,CAAiB2C,SADhC,CAEI,eAAe,CAAE,KAAKkG,oBAF1B,CAGI,UAAU,CAAE,KAAKhJ,KAAL,CAAWG,KAAX,CAAiBmB,UAHjC,CAII,cAAc,CAAE,KAAKlB,KAAL,CAAW8D,cAAX,EAA6B,EAJjD,EADU,CAOV,KAAKlE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,mBAAhC,cACI,oBAAC,yBAAD,EACG,YAAY,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YADlC,CAEK,QAAQ,CAAE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAFhC,CAGI,cAAc,CAAE,KAAKrB,KAAL,CAAW8D,cAAX,EAA6B,EAHjD,CAII,YAAY,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiBspB,YAJnC,CAKI,eAAe,CAAE,KAAK/hB,eAL1B,CAMI,gBAAgB,CAAE,KAAK2T,gBAN3B,CAOI,aAAa,CAAE,KAAKmH,aAPxB,CAQI,UAAU,CAAE,KAAKxiB,KAAL,CAAWG,KAAX,CAAiB6D,UARjC,CASI,SAAS,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2C,SAThC,CAUI,eAAe,CAAE,KAAK9C,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+D,YAA5B,CAAyCxF,eAV9D,CAWI,QAAQ,CAAE,KAAKL,KAAL,CAAWG,KAAX,CAAiB4E,QAX/B,CAYI,cAAc,CAAI,KAAK3E,KAAL,CAAWwD,cAZjC,CAaI,UAAU,CAAG,KAAK5D,KAAL,CAAWG,KAAX,CAAiBD,UAblC,EADJ,CAgBI,KAAKF,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAA+B,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,WAA9B,EAA2C,UAA3C,EAAuD,cAAvD,EAAuE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAjG,CAA/B,cACI,oBAAC,gBAAD,EACK,YAAY,CAAE,KAAK/a,KAAL,CAAWG,KAAX,CAAiB2a,YADpC,CAEI,QAAQ,CAAE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAF/B,CAGI,cAAc,CAAE,KAAKrB,KAAL,CAAW8D,cAAX,EAA6B,EAHjD,CAII,kBAAkB,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiBya,kBAJzC,CAKI,UAAU,CAAE,KAAK5a,KAAL,CAAWG,KAAX,CAAiB6D,UALjC,CAMI,aAAa,CAAE,KAAKwe,aANxB,CAOI,mBAAmB,CAAE,KAAKlI,mBAP9B,EADJ,CAYI,KAAKta,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,mBAAhC,cACA,oBAAC,kBAAD,EACI,cAAc,CAAE,KAAK5D,KAAL,CAAWspB,qBAAX,EAAoC,EADxD,CAEI,qBAAqB,CAAE,KAAK1pB,KAAL,CAAWG,KAAX,CAAiBupB,qBAAjB,EAAwC,EAFnE,CAGI,UAAU,CAAE,KAAK1pB,KAAL,CAAWG,KAAX,CAAiB6D,UAHjC,CAII,aAAa,CAAE,KAAKwe,aAJxB,CAKI,mBAAmB,CAAE,KAAKlI,mBAL9B,EADA,CASA,KAAKta,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhC,cACI,oBAAC,cAAD,EACI,cAAc,CAAE,KAAK5D,KAAL,CAAW8D,cAAX,EAA6B,EADjD,CAEI,eAAe,CAAE,KAAKwD,eAF1B,CAGI,sBAAsB,CAAE,KAAK1H,KAAL,CAAWG,KAAX,CAAiBud,sBAH7C,EADJ,CAMI,KAAK1d,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,cACI,oBAAC,OAAD,EACI,cAAc,CAAE,KAAK5D,KAAL,CAAW8D,cAAX,EAA6B,EADjD,CAEI,eAAe,CAAE,KAAKwD,eAF1B,CAGI,UAAU,CAAE,KAAKtH,KAAL,CAAWqgB,UAH3B,CAII,MAAM,CAAE,KAAKH,cAJjB,CAKI,gBAAgB,CAAE,KAAKI,gBAL3B,CAMI,UAAU,CAAE,KAAK1gB,KAAL,CAAWG,KAAX,CAAiBwpB,UANjC,CAOI,SAAS,CAAE,KAAK3pB,KAAL,CAAWG,KAAX,CAAiBypB,SAPhC,CAQI,OAAO,CAAE,EARb,CASI,QAAQ,CAAE,KAAK5pB,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,CAA0C,CAA1C,CAA8C,CAT5D,CAUI,QAAQ,CAAE,KAAK9C,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,CAA0C,KAA1C,CAAkD,IAVhE,CAWI,KAAK,CAAE,KAAK9C,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,cAAN,CAA9B,CAXX,CAYI,iBAAiB,CAAE,IAZvB,CAaI,IAAI,CAAC,cAbT,EADJ,CAgBI,KAAKV,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,cACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,SAAD,EACI,IAAI,CAAE,mBADV,CAEI,KAAK,CAAE,KAAK5D,KAAL,CAAW8D,cAAX,CAA0B2lB,UAFrC,CAGI,IAAI,CAAC,MAHT,CAII,QAAQ,CAAE,kBAACvnB,KAAD,QAAW,CAAA,MAAI,CAACoF,eAAL,CAAqBpF,KAArB,CAA4B,CAA5B,CAAX,EAJd,CAKI,WAAW,CAAE,KAAKlC,KAAL,CAAW8D,cAAX,CAA0B2lB,UAL3C,CAMI,KAAK,CAAE,KAAKzpB,KAAL,CAAW8D,cAAX,CAA4B,KAAK9D,KAAL,CAAW8D,cAAX,CAA0B,mBAA1B,CAA5B,CAA6E,EANxF,CAOI,WAAW,CAAC,GAPhB,CAQI,QAAQ,CAAE,IARd,CASI,SAAS,CAAE,GATf,EADJ,CADJ,CADJ,CAgBI,KAAKlE,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,UAAhC,cACI,oBAAC,gBAAD,EACA,YAAY,CAAE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2a,YAD/B,CAEA,QAAQ,CAAE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAF3B,CAGI,cAAc,CAAE,KAAKrB,KAAL,CAAW8D,cAAX,EAA6B,EAHjD,CAII,kBAAkB,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiBya,kBAJzC,CAKI,UAAU,CAAE,KAAK5a,KAAL,CAAWG,KAAX,CAAiB6D,UALjC,CAMI,aAAa,CAAE,KAAKwe,aANxB,CAOI,mBAAmB,CAAE,KAAKlI,mBAP9B,EADJ,CASS,KAAKta,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,uBAAhC,cACD,oBAAC,iBAAD,EACI,cAAc,CAAE,KAAK5D,KAAL,CAAW8D,cAAX,EAA6B,EADjD,CAEI,kBAAkB,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiBya,kBAFzC,CAGI,aAAa,CAAE,KAAK4H,aAHxB,CAII,eAAe,CAAE,KAAK9a,eAJ1B,CAKI,oBAAoB,CAAE,KAAK+T,oBAL/B,EADC,CAOI,KAAKzb,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,cAAhC,cACD,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,OAAD,EACI,IAAI,CAAE,KAAK8lB,cAAL,EADV,CAEI,UAAU,CAAE,IAFhB,CAGI,WAAW,CAAE,IAHjB,CAII,SAAS,CAAE,IAJf,CAKI,cAAc,CAAE,UALpB,EADJ,CADJ,CADC,CAaE,KAAK9pB,KAAL,CAAWG,KAAX,CAAiB6D,UAAjB,GAAgC,iBAAhC,cACH,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACK,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,eACL,oBAAC,SAAD,EAAW,SAAS,CAAE,KAAKF,oBAAL,EAAtB,CAAmD,WAAW,CAAE,KAAKF,sBAArE,EAFA,CADJ,CADG,CAOF,EA5IzC,EA9TR,CA+cQ,KAAKjJ,KAAL,CAAWG,KAAX,CAAiB2Y,eAAjB,eACA,oBAAC,mBAAD,EACI,IAAI,CAAE,KAAK9Y,KAAL,CAAWG,KAAX,CAAiB2Y,eAD3B,CAEI,UAAU,CAAE,KAAKD,gBAFrB,CAGI,UAAU,CAAE,KAAK7Y,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAC,KAAKV,KAAL,CAAWG,KAAX,CAAiB6D,UAAtB,CAA9B,EAAiE,KAAjE,CAAuE,KAAKhE,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC6G,YAHhI,CAII,eAAe,CAAE,KAAKhI,IAJ1B,CAKI,YAAY,CACR,CAAC,KAAKjN,KAAL,CAAWG,KAAX,CAAiB2C,SAAjB,GAA+B,QAA/B,CAA0C,KAAK1C,KAAL,CAAW8D,cAAX,CAA0B,WAA1B,CAA1C,CAAmF,IAApF,gBACA,oBAAC,gBAAD,EACI,mBAAmB,CAAE,KAAK9D,KAAL,CAAW2pB,mBAAX,EAAkC,EAD3D,CAEI,cAAc,CAAE,KAAK3pB,KAAL,CAAW8D,cAAX,EAA6B,EAFjD,CAGI,iBAAiB,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiB6pB,iBAHxC,CAII,eAAe,CAAE,KAAK5pB,KAAL,CAAW6pB,eAJhC,CAKI,oBAAoB,CAAE,KAAK7pB,KAAL,CAAW8pB,0BAAX,EAAyC,EALnE,CAMI,gBAAgB,CAAE,KAAK9pB,KAAL,CAAW+pB,aAAX,EAA4B,EANlD,CAOI,gBAAgB,CAAE,KAAK/pB,KAAL,CAAWgqB,gBAAX,EAA+B,EAPrD,CAQI,sBAAsB,CAAE,KAAKpqB,KAAL,CAAWG,KAAX,CAAiBkqB,sBAAjB,EAA2C,EARvE,CASI,KAAK,CAAE,KAAKjqB,KAAL,CAAW2Y,KATtB,CAUI,iBAAiB,CAAE,KAAK3Y,KAAL,CAAWkqB,iBAVlC,CAWI,QAAQ,CAAE,KAAKlqB,KAAL,CAAWwZ,QAXzB,CAYI,QAAQ,CAAE,KAAK5Z,KAAL,CAAWG,KAAX,CAAiBsB,QAZ/B,CAaI,aAAa,CAAE,KAAKuY,aAbxB,CAcI,UAAU,CAAE,KAAKT,UAdrB,CAeI,SAAS,CAAE,KAAKG,SAfpB,CAgBI,SAAS,CAAE,KAAKG,SAhBpB,CAiBI,cAAc,CAAE,KAAKC,cAjBzB,CAkBI,YAAY,CAAE,KAAK3J,YAlBvB,CAmBI,OAAO,CAAE,KAAKY,OAnBlB,CAoBI,OAAO,CAAE,KAAKtB,OApBlB,CAqBI,gBAAgB,CAAE,KAAK0K,gBArB3B,CAsBI,kBAAkB,CAAE,KAAKzJ,kBAtB7B,CAuBI,gBAAgB,CAAE,KAAK1Q,KAAL,CAAWG,KAAX,CAAiBgR,gBAvBvC,CAwBI,WAAW,CAAE,KAAKnR,KAAL,CAAWG,KAAX,CAAiBuY,WAAjB,EAAgC,EAxBjD,CAyBI,WAAW,CAAE,KAAK1Y,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6N,WAA5B,EAAyC,KAAK3P,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6N,WAA5B,CAAwCK,MAAxC,CAA+C,KAAKR,2BAApD,CAzB1D,CA0BI,UAAU,CAAE,KAAKxP,KAAL,CAAWG,KAAX,CAAiBkoB,UA1BjC,CA2BI,YAAY,CAAE,KAAKjoB,KAAL,CAAWmqB,YA3B7B,CA4BI,IAAI,CAAE,KAAKnqB,KAAL,CAAWoG,IA5BrB,CA6BI,UAAU,CAAE,KAAKpG,KAAL,CAAW8E,UAAX,EAAyB,EA7BzC,CA8BI,SAAS,CAAE,KAAK9E,KAAL,CAAW+E,SA9B1B,CA+BI,eAAe,CAAE,KAAK6E,eA/B1B,CAgCI,qBAAqB,CAAE,KAAK5J,KAAL,CAAWwE,qBAhCtC,CAiCI,cAAc,CAAE,KAAK5E,KAAL,CAAWG,KAAX,CAAiBqqB,cAAjB,EAAmC,EAjCvD,CAkCI,SAAS,CAAE,KAAKpqB,KAAL,CAAWqqB,SAlC1B,CAmCI,gBAAgB,CAAE,KAAKzqB,KAAL,CAAWG,KAAX,CAAiBwY,gBAAjB,EAAqC,EAnC3D,CAoCI,cAAc,CAAE,KAAK3Y,KAAL,CAAWG,KAAX,CAAiByY,cAAjB,EAAmC,EApCvD,CAqCI,QAAQ,CAAE,KAAKJ,QArCnB,CAsCI,YAAY,CAAE,KAAKxY,KAAL,CAAWG,KAAX,CAAiB6N,YAAjB,EAAiC,EAtCnD,CAuCI,mBAAmB,CAAE,KAAKsM,mBAvC9B,CAwCI,YAAY,CAAE,KAAKta,KAAL,CAAWG,KAAX,CAAiBsY,YAAjB,EAAiC,EAxCnD,CAyCI,uBAAuB,CAAE,KAAKzY,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B4oB,uBAzCzD,CA0CI,kBAAkB,CAAE,KAAK1qB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+O,kBA1CpD,CA2CI,SAAS,CAAE,KAAK7Q,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BgP,SA3C3C,CA4CI,0BAA0B,CAAE,KAAK9Q,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuL,0BA5C5D,CA6CI,QAAQ,CAAE,KAAKrN,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6oB,QA7C1C,CA8CI,cAAc,CAAE,KAAK3qB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B8oB,cA9ChD,CA+CI,mBAAmB,CAAE,KAAKxqB,KAAL,CAAWuQ,mBA/CpC,CAgDI,aAAa,CAAE,KAAKvQ,KAAL,CAAWwQ,aAAX,EAA4B,KAAK5Q,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B+O,kBAhD3E,CAiDI,kBAAkB,CAAE,KAAKmI,kBAjD7B,CAkDI,0BAA0B,CAAE,KAAK5Y,KAAL,CAAWkR,0BAlD3C,CAmDI,cAAc,CAAE,KAAKtR,KAAL,CAAWG,KAAX,CAAiBiP,cAnDrC,CAoDI,mBAAmB,CAAE,KAAKhP,KAAL,CAAWkS,mBApDpC,CAqDI,kBAAkB,CAAE,KAAKlS,KAAL,CAAWyqB,kBArDnC,CAsDI,UAAU,CAAE,KAAKzqB,KAAL,CAAWuE,UAtD3B,CAuDI,gBAAgB,CAAE,KAAKvE,KAAL,CAAW0qB,gBAvDjC,CAwDI,UAAU,CAAE,KAAK9qB,KAAL,CAAWG,KAAX,CAAiB2B,UAxDjC,CAyDI,IAAI,CAAE,KAAK9B,KAAL,CAAWQ,IAzDrB,CA0DI,cAAc,CAAE,KAAKR,KAAL,CAAWG,KAAX,CAAiBsZ,cAAjB,EAAmC,KAAKzZ,KAAL,CAAWG,KAAX,CAAiBsZ,cAApD,EAAsE,EA1D1F,CA2DI,aAAa,CAAE,KAAKD,aA3DxB,CA4DI,kBAAkB,CAAE,KAAK7C,kBA5D7B,CA6DI,cAAc,CAAE,KAAK3W,KAAL,CAAWG,KAAX,CAAiBkL,cA7DrC,CA8DI,cAAc,CAAE,KAAKD,cA9DzB,CA+DI,cAAc,CAAE,KAAK8H,cA/DzB,CAgEI,iBAAiB,CAAE,KAAK0E,iBAhE5B,CAiEI,YAAY,CAAE,KAAKlG,YAjEvB,CAkEI,MAAM,CAAE,KAAK1R,KAAL,CAAWG,KAAX,CAAiB0N,MAlE7B,CAmEI,cAAc,CAAE,KAAKoI,cAnEzB,CAoEI,eAAe,CAAE,KAAKK,eApE1B,CAqEI,aAAa,CAAE,KAAKtW,KAAL,CAAWG,KAAX,CAAiBgZ,aArEpC,CAsEI,YAAY,CAAE,KAAKnZ,KAAL,CAAWG,KAAX,CAAiB4qB,YAtEnC,CAuEI,cAAc,CAAE,KAAK/qB,KAAL,CAAWG,KAAX,CAAiB6qB,cAvErC,CAwEI,WAAW,CAAE,KAAKzZ,WAxEtB,CAyEI,WAAW,CAAE,KAAKvR,KAAL,CAAWG,KAAX,CAAiB8qB,WAzElC,CA0EI,cAAc,CAAE,KAAKjrB,KAAL,CAAWG,KAAX,CAAiB+qB,cA1ErC,CA2EI,sBAAsB,CAAE,KAAK9qB,KAAL,CAAWwW,sBA3EvC,CA4EI,cAAc,CAAE,KAAK5W,KAAL,CAAWG,KAAX,CAAiBgrB,cA5ErC,CA6EI,aAAa,CAAE,KAAK/qB,KAAL,CAAW8D,cAAX,CAA0B,eAA1B,GAA8C,KAAK9D,KAAL,CAAW8D,cAAX,CAA0B,eAA1B,IAA+C,CAA7F,CAAiG,IAAjG,CAAwG,KA7E3H,CA8EI,kBAAkB,CAAE,KAAKlE,KAAL,CAAWG,KAAX,CAAiB4O,kBA9EzC,CA+EI,IAAI,CAAE,KAAK9B,IA/Ef,CAgFI,eAAe,CAAE,KAAK7M,KAAL,CAAWkK,eAhFhC,CAiFI,cAAc,CAAE,KAAK8G,cAjFzB,CAkFI,qBAAqB,CAAE,KAAKpR,KAAL,CAAWG,KAAX,CAAiByP,qBAAjB,EAA0C,KAAKoB,oBAAL,CAA0B,KAAKhR,KAAL,CAAWG,KAAX,CAAiByP,qBAA3C,CAlFrE,CAmFI,qBAAqB,CAAE,KAAK5P,KAAL,CAAWG,KAAX,CAAiB0P,qBAAjB,EAA0C,KAAKmB,oBAAL,CAA0B,KAAKhR,KAAL,CAAWG,KAAX,CAAiB0P,qBAA3C,CAnFrE,CAoFI,mBAAmB,CAAE,KAAK7P,KAAL,CAAWG,KAAX,CAAiB2P,mBAAjB,EAAwC,KAAKkB,oBAAL,CAA0B,KAAKhR,KAAL,CAAWG,KAAX,CAAiB2P,mBAA3C,CApFjE,CAqFI,oBAAoB,CAAE,KAAK9P,KAAL,CAAWG,KAAX,CAAiB4P,oBAAjB,EAAwC,KAAK/P,KAAL,CAAWG,KAAX,CAAiB4P,oBArFnF,CAsFI,yBAAyB,CAAE,KAAKxF,yBAtFpC,CAuFI,0BAA0B,CAAE,KAAKE,0BAvFrC,CAwFI,oBAAoB,CAAE,KAAKrK,KAAL,CAAWsK,oBAxFrC,CAyFI,mBAAmB,CAAE,KAAKtK,KAAL,CAAWoK,mBAzFpC,CA0FI,iCAAiC,CAAE,KAAKxK,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BspB,iCAA5B,EAA+D,EA1FtG,CA2FI,oBAAoB,CAAE,KAAKprB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6J,oBAA5B,EAAkD,EA3F5E,CA4FI,iBAAiB,CAAE,KAAK6E,iBA5F5B,CA6FI,0BAA0B,CAAE,KAAKC,0BA7FrC,CA8FI,mBAAmB,CAAE,KAAKsG,mBA9F9B,CA+FI,gBAAgB,CAAE,KAAK/W,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BupB,gBAA5B,EAA8C,EA/FpE,CAgGI,YAAY,CAAE,KAAK1Z,YAhGvB,CAiGI,mBAAmB,CAAE,KAAKe,mBAjG9B,CAkGI,WAAW,CAAE,KAAK1S,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B6S,WAA5B,EAA2C,EAlG5D,CAmGI,mBAAmB,CAAE,KAAK3U,KAAL,CAAWG,KAAX,CAAiBmL,mBAAjB,EAAsC,KAnG/D,CAoGI,YAAY,CAAE,KAAKkH,YApGvB,CAqGI,qBAAqB,CAAE,KAAKH,qBArGhC,EAPR,EAhdR,CADJ,CAokBH,C,mCAeD,6BAAoBrO,UAApB,CAAgCE,cAAhC,CAAgD,CAC5C,GAAIonB,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAItnB,UAAU,GAAK,cAAnB,CAAmC,CAC/B,GAAIE,cAAc,EAAIA,cAAc,CAACwY,mBAAf,GAAuCrf,cAAc,CAACkuB,IAA5E,CAAkF,CAC9ED,WAAW,CAAG,CACV,CAAE,UAAW,cAAb,CAA6B,YAAa,eAA1C,CAA2D,YAAa,IAAxE,CAA8E,iBAAkB,YAAhG,CAA8G,cAAe,MAA7H,CADU,CAEV,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,YAAa,IAApE,CAA0E,iBAAkB,YAA5F,CAA0G,cAAe,WAAzH,CAFU,CAAd,CAIH,CALD,IAKO,CACH;AACAA,WAAW,CAAG,CACV,CAAE,UAAW,UAAb,CAAyB,YAAa,WAAtC,CAAmD,YAAa,IAAhE,CAAsE,iBAAkB,YAAxF,CAAsG,cAAe,MAArH,CADU,CAAd,CAGA;AACH,CACJ,CAbD,IAaO,CACH,MAAO,EAAP,CACH,CACD,GAAIE,CAAAA,gBAAgB,CAAG,EAAvB,CACAF,WAAW,CAACnT,OAAZ,CAAoB,SAAAvX,IAAI,QAAIA,CAAAA,IAAI,CAACwlB,SAAL,GAAmB,IAAnB,EAA2BoF,gBAAgB,CAAC/c,IAAjB,CAAsB7N,IAAtB,CAA/B,EAAxB,EACA,MAAO4qB,CAAAA,gBAAP,CACH,C,mCAiCD,8BAAsB,CAClB,KAAKjpB,QAAL,CAAc,CAAE0gB,QAAQ,CAAE,CAAC,KAAK7iB,KAAL,CAAW6iB,QAAxB,CAAkCI,QAAQ,CAAE,KAA5C,CAAd,EACA,KAAKoI,oBAAL,GAEH,C,oCACD,+BAAuB,CACnB,KAAKlpB,QAAL,CAAc,CAAE0gB,QAAQ,CAAE,CAAC,KAAK7iB,KAAL,CAAW6iB,QAAxB,CAAkCI,QAAQ,CAAE,IAA5C,CAAd,EACA;AAEH,C,8BA+SD;AACA,yBAAiB,iBACb,GAAIhP,CAAAA,MAAM,CAAG,EAAb,CACA,GAAMqX,CAAAA,UAAU,CAAG,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CAAkC,SAAlC,CAAnB,CACA,GAAMC,CAAAA,YAAY,CAAG,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CAAkC,SAAlC,CAArB,CACA,GAAMC,CAAAA,WAAW,CAAG,CAAC,QAAD,CAAW,SAAX,CAAsB,SAAtB,CAAiC,SAAjC,CAApB,CACA,GAAI9d,CAAAA,SAAS,CAAG,KAAK9N,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,UAAhD,CAAhB,CACA,GAAIwiB,CAAAA,cAAc,CAAG,KAAK7rB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,GACjB,KAAKrJ,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgD,YAAhD,EAA8D,gBAA9D,CADJ,CAEA,GAAIyiB,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACAle,SAAS,CAACjC,GAAV,CAAc,SAACogB,WAAD,CAAc/c,KAAd,CAAwB,CAClC,GAAI+c,WAAW,CAACjf,cAAZ,CAA2B,WAA3B,CAAJ,CAA6C,CACzC8e,QAAQ,CAAG,EAAX,CACA,GAAII,CAAAA,SAAS,CAAGD,WAAW,CAAC,WAAD,CAA3B,CACAC,SAAS,CAACrgB,GAAV,CAAc,SAACsgB,IAAD,CAAOjd,KAAP,CAAiB,CAC3B4c,QAAQ,CAACrd,IAAT,CACI,CACI/N,EAAE,CAAEwO,KADR,CACelD,KAAK,cAAE,wCAAImgB,IAAI,CAAC,WAAD,CAAJ,CAAkBngB,KAAnB,CACnB,MADmB,CAEhBmgB,IAAI,CAAC,iBAAD,CAAJ,CAAwBngB,KAFR,CAEiB,MAFjB,CAGhBmgB,IAAI,CAAC,aAAD,CAAJ,CAAoBngB,KAHJ,CAGa,MAHb,EAGwBmgB,IAAI,CAAC,qBAAD,CAAJ,EAA8BA,IAAI,CAAC,qBAAD,CAAJ,CAA4BngB,KAA1D,EACzCmgB,IAAI,CAAC,YAAD,CAAJ,EAAoBA,IAAI,CAAC,YAAD,CAAJ,CAAmBngB,KADE,EACOmgB,IAAI,CAAC,2BAAD,CAAJ,EAAmCA,IAAI,CAAC,2BAAD,CAD9C,EAEzCA,IAAI,CAAC,wBAAD,CAAJ,EAAgCA,IAAI,CAAC,wBAAD,CAFK,EAEwBA,IAAI,CAAC,0BAAD,CAAJ,EAAkCA,IAAI,CAAC,0BAAD,CAAJ,CAAiCngB,KALnH,CAAH,CADtB,CADJ,EAYH,CAbD,EAcA,GAAG8B,SAAS,CAAC5C,MAAV,GAAmB,CAAnB,CAAqBghB,SAAS,CAAChhB,MAAV,CAAiB,CAAtC,CAAwC,IAA3C,CAAgD,CAC/C6gB,MAAM,CAACtd,IAAP,CAAY,CAAE/N,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAAnC,CAApB,CAA+GorB,QAAQ,CAAEA,QAAzH,CAAZ,EACA,CACJ,CACD,GAAIG,WAAW,CAACjf,cAAZ,CAA2B,YAA3B,CAAJ,CAA8C,CAC1C8e,QAAQ,CAAG,EAAX,CACA,GAAII,CAAAA,UAAS,CAAGD,WAAW,CAAC,YAAD,CAA3B,CACAC,UAAS,CAACrgB,GAAV,CAAc,SAACsgB,IAAD,CAAOjd,KAAP,CAAiB,CAC3B4c,QAAQ,CAACrd,IAAT,CACI,CACI/N,EAAE,CAAEwO,KADR,CACelD,KAAK,cAAE,wCAEbmgB,IAAI,CAAC,WAAD,CAAJ,CAAkBngB,KAAnB,CACE,MADF,CAECmgB,IAAI,CAAC,iBAAD,CAAJ,CAAwBngB,KAFzB,CAEkC,MAFlC,CAGCmgB,IAAI,CAAC,aAAD,CAAJ,CAAoBngB,KAHrB,CAG8B,MAH9B,EAG0CmgB,IAAI,CAAC,qBAAD,CAAJ,EAA8BA,IAAI,CAAC,qBAAD,CAAJ,CAA4BngB,KAA1D,EAC1CmgB,IAAI,CAAC,YAAD,CAAJ,EAAoBA,IAAI,CAAC,YAAD,CAAJ,CAAmBngB,KADG,EACMmgB,IAAI,CAAC,2BAAD,CAAJ,EAAmCA,IAAI,CAAC,2BAAD,CAD7C,EAE1CA,IAAI,CAAC,wBAAD,CAAJ,EAAgCA,IAAI,CAAC,wBAAD,CAFM,EAEuBA,IAAI,CAAC,0BAAD,CAAJ,EAAkCA,IAAI,CAAC,0BAAD,CAAJ,CAAiCngB,KALpI,CAFc,CADtB,CADJ,EAeH,CAhBD,EAiBA,GAAG8B,SAAS,CAAC5C,MAAV,GAAmB,CAAnB,CAAqBghB,UAAS,CAAChhB,MAAV,CAAiB,CAAtC,CAAwC,IAA3C,CAAgD,CAChD6gB,MAAM,CAACtd,IAAP,CAAY,CAAE/N,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAnC,CAApB,CAAgHorB,QAAQ,CAAEA,QAA1H,CAAZ,EACC,CACJ,CACD,GAAIG,WAAW,CAACjf,cAAZ,CAA2B,uBAA3B,CAAJ,CAAyD,CACrD8e,QAAQ,CAAG,EAAX,CACA,GAAII,CAAAA,WAAS,CAAGD,WAAW,CAAC,uBAAD,CAA3B,CACAC,WAAS,CAACrgB,GAAV,CAAc,SAACsgB,IAAD,CAAOjd,KAAP,CAAiB,CAC3B4c,QAAQ,CAACrd,IAAT,CACI,CACI/N,EAAE,CAAEwO,KADR,CACelD,KAAK,cAAE,wCAAImgB,IAAI,CAAC,WAAD,CAAJ,CAAkBngB,KAAnB,CACnB,MADmB,CAEhBmgB,IAAI,CAAC,iBAAD,CAAJ,CAAwBngB,KAFR,CAEiB,MAFjB,CAGhBmgB,IAAI,CAAC,aAAD,CAAJ,CAAoBngB,KAHJ,CAGa,MAHb,EAGyBmgB,IAAI,CAAC,qBAAD,CAAJ,EAA8BA,IAAI,CAAC,qBAAD,CAAJ,CAA4BngB,KAA1D,EAC1CmgB,IAAI,CAAC,YAAD,CAAJ,EAAoBA,IAAI,CAAC,YAAD,CAAJ,CAAmBngB,KADG,EACMmgB,IAAI,CAAC,2BAAD,CAAJ,EAAmCA,IAAI,CAAC,2BAAD,CAD7C,EAE1CA,IAAI,CAAC,wBAAD,CAAJ,EAAgCA,IAAI,CAAC,wBAAD,CAFM,EAEuBA,IAAI,CAAC,0BAAD,CAAJ,EAAkCA,IAAI,CAAC,0BAAD,CAAJ,CAAiCngB,KALnH,CAAH,CADtB,CADJ,EAYH,CAbD,EAcA,GAAIogB,CAAAA,QAAQ,CAAG,CAAC,CAAE1rB,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAnC,CAApB,CAAgHorB,QAAQ,CAAEA,QAA1H,CAAD,CAAf,CACA,GAAGhe,SAAS,CAAC5C,MAAV,GAAmB,CAAnB,CAAqBghB,WAAS,CAAChhB,MAAV,CAAiB,CAAtC,CAAwC,IAA3C,CAAgD,CAChD6gB,MAAM,CAACtd,IAAP,CAAY,CAAE/N,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAnC,CAApB,CAAgHorB,QAAQ,CAAEM,QAA1H,CAAZ,EACC,CACJ,CACD,GAAIH,WAAW,CAACjf,cAAZ,CAA2B,sBAA3B,CAAJ,CAAwD,CACpD8e,QAAQ,CAAG,EAAX,CACA,GAAII,CAAAA,WAAS,CAAGD,WAAW,CAAC,sBAAD,CAA3B,CACAC,WAAS,CAACrgB,GAAV,CAAc,SAACsgB,IAAD,CAAOjd,KAAP,CAAiB,CAC3B4c,QAAQ,CAACrd,IAAT,CACI,CACI/N,EAAE,CAAEwO,KADR,CACelD,KAAK,cAAE,wCAAImgB,IAAI,CAAC,WAAD,CAAJ,CAAkBngB,KAAnB,CACnB,MADmB,CAEhBmgB,IAAI,CAAC,iBAAD,CAAJ,CAAwBngB,KAFR,CAEiB,MAFjB,CAGhBmgB,IAAI,CAAC,aAAD,CAAJ,CAAoBngB,KAHJ,CAGa,MAHb,EAGyBmgB,IAAI,CAAC,qBAAD,CAAJ,EAA8BA,IAAI,CAAC,qBAAD,CAAJ,CAA4BngB,KAA1D,EAC1CmgB,IAAI,CAAC,YAAD,CAAJ,EAAoBA,IAAI,CAAC,YAAD,CAAJ,CAAmBngB,KADG,EACMmgB,IAAI,CAAC,2BAAD,CAAJ,EAAmCA,IAAI,CAAC,2BAAD,CAD7C,EAE1CA,IAAI,CAAC,wBAAD,CAAJ,EAAgCA,IAAI,CAAC,wBAAD,CAFM,EAEuBA,IAAI,CAAC,0BAAD,CAAJ,EAAkCA,IAAI,CAAC,0BAAD,CAAJ,CAAiCngB,KALnH,CAAH,CADtB,CADJ,EAYH,CAbD,EAcA,GAAIogB,CAAAA,SAAQ,CAAG,CAAC,CAAE1rB,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAAnC,CAApB,CAA+GorB,QAAQ,CAAEA,QAAzH,CAAD,CAAf,CACA,GAAGhe,SAAS,CAAC5C,MAAV,GAAmB,CAAnB,CAAqBghB,WAAS,CAAChhB,MAAV,CAAiB,CAAtC,CAAwC,IAA3C,CAAgD,CAChD6gB,MAAM,CAACtd,IAAP,CAAY,CAAE/N,EAAE,CAAEwO,KAAN,CAAalD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAnC,CAApB,CAAgHorB,QAAQ,CAAEM,SAA1H,CAAZ,EACC,CACJ,CACJ,CA1FD,EA4FA,GAAIP,cAAc,GAAKvrB,SAAvB,CAAkC,CAC9BurB,cAAc,CAAChgB,GAAf,CAAmB,SAACI,IAAD,CAAOiD,KAAP,CAAiB,CAChC,GAAImd,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIpgB,IAAI,CAACe,cAAL,CAAoB,WAApB,GAAoCf,IAAI,CAAC,WAAD,CAAJ,GAAsB,IAA9D,CAAoE,CAChE,GAAImgB,CAAAA,QAAQ,CAAG,EAAf,CACAC,WAAW,CAAC5d,IAAZ,CAAiBsd,MAAM,CAAC7c,KAAD,CAAvB,EACAmd,WAAW,CAAC5d,IAAZ,CAAiBsd,MAAM,CAAC7c,KAAK,CAAG,CAAT,CAAvB,EACA,GAAIjD,IAAI,CAACe,cAAL,CAAoB,YAApB,GAAqCf,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClEmgB,QAAQ,CAAG,CAAC,CACR1rB,EAAE,CAAEwO,KADI,CACGlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EACb,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADa,KAC0C;AAFpD,CAGNorB,QAAQ,CAAEO,WAHJ,CAAD,CAAX,CAKAL,WAAW,CAACvd,IAAZ,CAAiB,CACb/N,EAAE,CAAEwO,KADS,CACFlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EACb,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CADa,KAC2C;AAFhD,CAGXorB,QAAQ,CAAEM,QAHC,CAAjB,EAKH,CAXD,IAYK,CACDJ,WAAW,CAACvd,IAAZ,CAAiB,CACb/N,EAAE,CAAEwO,KADS,CACFlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EACb,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CADa,KAC0C;AAF/C,CAGXorB,QAAQ,CAAEO,WAHC,CAAjB,EAKH,CACJ,CACD,GAAIpgB,IAAI,CAACe,cAAL,CAAoB,YAApB,GAAqCf,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClE,GAAImgB,CAAAA,UAAQ,CAAG,EAAf,CACAC,WAAW,CAAC5d,IAAZ,CAAiBsd,MAAM,CAAC7c,KAAD,CAAvB,EACAmd,WAAW,CAAC5d,IAAZ,CAAiBsd,MAAM,CAAC7c,KAAK,CAAG,CAAT,CAAvB,EACA,GAAIjD,IAAI,CAACe,cAAL,CAAoB,YAApB,GAAqCf,IAAI,CAAC,YAAD,CAAJ,GAAuB,IAAhE,CAAsE,CAClEmgB,UAAQ,CAAG,CAAC,CACR1rB,EAAE,CAAEwO,KADI,CACGlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EACb,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CADa,KAC2C;AAFrD,CAGNorB,QAAQ,CAAEO,WAHJ,CAAD,CAAX,CAKAL,WAAW,CAACvd,IAAZ,CAAiB,CACb/N,EAAE,CAAEwO,KADS,CACFlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EACb,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CADa,KAC2C;AAFhD,CAGXorB,QAAQ,CAAEM,UAHC,CAAjB,EAKH,CAXD,IAYK,CACDJ,WAAW,CAACvd,IAAZ,CAAiB,CACb/N,EAAE,CAAEwO,KADS,CACFlD,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,MAAI,CAAChM,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,SAAN,CAA9B,CAAnC,CAA0F;AAD/F,CAEXorB,QAAQ,CAAEO,WAFC,CAAjB,EAIH,CACJ,CACJ,CAjDD,EAkDH,CAEDhY,MAAM,CAAG2X,WAAW,CAAC9gB,MAAZ,CAAqB,CAArB,CACL,CACIxK,EAAE,CAAE,CADR,CAEIsL,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,KAAKhM,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgDijB,SAAnF,KAFX,CAGIR,QAAQ,CAAEE,WAHd,CADK,CAMH,CACEtrB,EAAE,CAAE,CADN,CAEEsL,KAAK,cAAE,2BAAK,SAAS,CAAC,iBAAf,EAAmC,KAAKhM,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgDijB,SAAnF,KAFT,CAGER,QAAQ,CAAEC,MAAM,CAAC7gB,MAAP,GAAgB,CAAhB,CAAkB6gB,MAAlB,CAAyBD,QAHrC,CANN,CAWA,MAAOzX,CAAAA,MAAP,CACH,C,iCAmOD,2BAAkBvS,UAAlB,CAA8B6f,YAAY;AAA1C,CACE,CAEE,GAAM4K,CAAAA,UAAU,CAAG,EAAnB,CACA,GAAMjrB,CAAAA,UAAU,CAAG,CACfyB,SAAS,CAAE,sBADI,CAEfC,QAAQ,CAAE,sBAFK,CAGfzB,SAAS,CAAE,CACP,qBAAsB,KAAKvB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBADxD,CAEP,4BAA6B,KAAKrD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgDmjB,yBAFtE,CAGP,WAAY,KAAKxsB,KAAL,CAAWG,KAAX,CAAiBsB,QAHtB,CAHI,CAQfqB,SAAS,CAAE,QARI,CAQM;AACrB+L,WAAW,CAAE,aATE,CAAnB,CAWA,GAAIhS,SAAS,CAAC,KAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,KAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E8gB,YAA9E,CAAb,CAA0G,CACtG,GAAMrb,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,UAAd,CAD3B,CACsD;AACxDgB,SAAS,CAAE,QAFT,CAEmBkB,UAAU,CAAE,iBAF/B,CAEkDtD,EAAE,CAAE,aAFtD,CAFS,CAAnB,CAOA,KAAKV,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IAUK,CACD,KAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkCQ,UAAlC,CAA8CxB,SAA9C,EAEH,CAEJ,C,8BAGD,wBAAewB,UAAf,CAA2B2D,KAA3B,CAAkCkc,YAAY;AAA9C,CACE,CACE,GAAI7f,UAAU,CAAC,aAAD,CAAV,EAA2BA,UAAU,CAAC,aAAD,CAAV,CAA0BoJ,MAA1B,CAAmC,CAAlE,CAAqE,CACjE,GAAMqhB,CAAAA,UAAU,CAAG,EAAnB,CACA,GAAMjrB,CAAAA,UAAU,CAAG,CACfyB,SAAS,CAAE,sBADI,CAEfC,QAAQ,CAAE,sBAFK,CAGfzB,SAAS,CAAE,CACP,qBAAsB,KAAKvB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsM,YAA5B,CAAyC/K,kBADxD,CAEP,4BAA6B,KAAKrD,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BuH,mBAA5B,CAAgDmjB,yBAFtE,CAGP,WAAY,KAAKxsB,KAAL,CAAWG,KAAX,CAAiBsB,QAHtB,CAGgCgE,KAAK,CAAEA,KAHvC,CAHI,CAQf3C,SAAS,CAAE,SARI,CAQO;AACtB+L,WAAW,CAAE,aATE,CAAnB,CAWA,GAAIhS,SAAS,CAAC,KAAKmD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC,KAAK5E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAAnE,CAA8E8gB,YAA9E,CAAb,CAA0G,CACtG,GAAMrb,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAErJ,cADK,CAEfsJ,IAAI,CAAE,CACFc,SAAS,CAAE,IADT,CACeC,UAAU,CAAE,CAAEjG,UAAU,CAAVA,UAAF,CAAcQ,UAAU,CAAVA,UAAd,CAD3B,CACsD;AACxDgB,SAAS,CAAE,QAFT,CAEmBkB,UAAU,CAAE,iBAF/B,CAEkDtD,EAAE,CAAE,aAFtD,CAFS,CAAnB,CAOA,KAAKV,KAAL,CAAW9F,WAAX,CAAuBoM,UAAvB,EACH,CATD,IAUK,CACD,KAAKtG,KAAL,CAAWrG,UAAX,CAAsB2H,UAAtB,CAAkCQ,UAAlC,CAA8CxB,SAA9C,EAEH,CACJ,CA3BD,IA4BK,CACD,GAAGmF,KAAK,EAAE,CAAV,CACA,CACIlN,KAAK,CAACgI,IAAN,CAAW,KAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,yBAAN,CAA9B,CAAX,EACH,CAHD,IAKA,CACInI,KAAK,CAACgI,IAAN,CAAW,KAAKP,KAAL,CAAWQ,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,wBAAN,CAA9B,CAAX,EACH,CACJ,CACJ,C,iCAmtDD,2BAAkBwD,cAAlB,CAAkCgL,KAAlC,CAAyC,CACrChL,cAAc,CAAC,cAAgBgL,KAAjB,CAAd,EAAyC,MAAOhL,CAAAA,cAAc,CAAC,cAAgBgL,KAAjB,CAA9D,CACAhL,cAAc,CAAC,eAAiBgL,KAAlB,CAAd,EAA0C,MAAOhL,CAAAA,cAAc,CAAC,eAAiBgL,KAAlB,CAA/D,CACAhL,cAAc,CAAC,iBAAmBgL,KAApB,CAAd,EAA4C,MAAOhL,CAAAA,cAAc,CAAC,iBAAmBgL,KAApB,CAAjE,CACAhL,cAAc,CAAC,cAAgBgL,KAAjB,CAAd,EAAyC,MAAOhL,CAAAA,cAAc,CAAC,cAAgBgL,KAAjB,CAA9D,CACAhL,cAAc,CAAC,oBAAsBgL,KAAvB,CAAd,EAA+C,MAAOhL,CAAAA,cAAc,CAAC,oBAAsBgL,KAAvB,CAApE,CACAhL,cAAc,CAAC,aAAegL,KAAhB,CAAd,EAAwC,MAAOhL,CAAAA,cAAc,CAAC,aAAegL,KAAhB,CAA7D,CACAhL,cAAc,CAAC,gBAAkBgL,KAAnB,CAAd,EAA2C,MAAOhL,CAAAA,cAAc,CAAC,gBAAkBgL,KAAnB,CAAhE,CACH,C,qCAi7BD,+BAAsBhP,UAAtB,CAAkC,CAC9B,GAAIA,UAAU,EAAIgI,MAAM,CAACE,MAAP,CAAclI,UAAd,EAA0BgL,MAA1B,CAAmC,CAAjD,EAAsDhL,UAAU,CAACG,eAAjE,EAAoFH,UAAU,CAACG,eAAX,CAA2BO,IAAnH,CAAyH,CACrH;AACA;AACA;AACA,GAAIV,UAAU,CAACG,eAAX,EAA8BH,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCQ,0BAAhC,EAA8DjE,iBAAiB,CAACuE,GAA9G,CAAoH,IAApH,CAA2HxB,UAAU,CAACS,eAAX,EACxHT,UAAU,CAACS,eAAX,CAA2BC,IAA3B,CAAgCM,kBAAhC,GAAuD/D,iBAAiB,CAACuE,GAD+C,CACzC,IADyC,CACpC,KAD3F,CAEI,CACA,KAAK8hB,cAAL,CAAsB,CAClB,CACI,QAAS,gBADb,CAEI,QAAStjB,UAAU,CAACG,eAAX,CAA6BH,UAAU,CAACG,eAAX,CAA2B2L,KAAxD,CAAgE,EAF7E,CADkB,CAKlB,CACI,QAAS9L,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACwD,eAAvD,CAAwE,KAAKd,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,iBAA9B,EAAiD,UAAjD,EAA6D,cAA7D,EAA6E,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAvG,CAAzG,CACL7a,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACyD,kBAAvD,CAA4E,wBAA5E,CACIb,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAAC0D,gBAAvD,CAA0E,sBAA1E,CAAmG,EAH/G,CAII,QAASd,UAAU,CAACS,eAAX,CAA6BT,UAAU,CAACS,eAAX,CAA2BqL,KAAxD,CAAgE,EAJ7E,CALkB,CAWlB,CACI,QAAS,yBADb,CAEI,QAAS9L,UAAU,CAACmB,oBAAX,CAAkCnB,UAAU,CAACmB,oBAAX,CAAgC2K,KAAlE,CAA0E,EAFvF,CAXkB,CAAtB,CAgBA,GAAI9L,UAAU,CAACG,eAAX,CAA2BsB,KAA3B,GAAqClE,UAAU,CAACoG,iBAApD,CACA,CACC,GAAK3D,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCkD,oBAAhC,GAAyD3G,iBAAiB,CAACuE,GAAhF,CAAqF,CAClF,KAAK8hB,cAAL,CAAoB/U,IAApB,CAA2B,CACvB,QAAS,iBADc,CAEvB,QAASvO,UAAU,CAACib,gBAAX,CAA8Bjb,UAAU,CAACib,gBAAX,CAA4BnP,KAA1D,CAAkE,EAFpD,CAA3B,CAIA,CACI,QAAS,aADb,CAEI,QAAS9L,UAAU,CAAC0B,kBAAX,CAAgC1B,UAAU,CAAC0B,kBAAX,CAA8BoK,KAA9D,CAAsE,EAFnF,CAJA,EAQH,CACA,CACJ,CAhCD,IAgCO,CACH,KAAKwX,cAAL,CAAsB,CAClB,CACI,QAAS,gBADb,CAEI,QAAStjB,UAAU,CAACG,eAAX,CAA6BH,UAAU,CAACG,eAAX,CAA2B2L,KAAxD,CAAgE,EAF7E,CADkB,CAKlB,CACI,QAAS9L,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACwD,eAAvD,CAAwE,KAAKd,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,iBAA9B,EAAiD,UAAjD,EAA6D,cAA7D,EAA6E,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAAvG,CAAzG,CACL7a,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACyD,kBAAvD,CAA4E,wBAA5E,CACIb,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAAC0D,gBAAvD,CAA0E,sBAA1E,CAAmG,EAH/G,CAII,QAASd,UAAU,CAACS,eAAX,CAA6BT,UAAU,CAACS,eAAX,CAA2BqL,KAAxD,CAAgE,EAJ7E,CALkB,CAYlB,CACI,QAAS9L,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACwD,eAAvD,CAAyE,KAAKd,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,EAAiC,KAAK9a,KAAL,CAAWG,KAAX,CAAiB2a,YAAjB,CAA8B,SAA9B,EAAyC,UAAzC,EAAqD,cAArD,EAAqE,KAAK9a,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BsZ,iBAA/F,CAA1G,CACL7a,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAACyD,kBAAvD,CAA4E,gBAA5E,CACIb,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCC,SAAhC,GAA8CvD,QAAQ,CAAC0D,gBAAvD,CAA0E,cAA1E,CAA2F,EAHvG,CAII,QAASd,UAAU,CAACe,YAAX,CAA0Bf,UAAU,CAACe,YAAX,CAAwB+K,KAAlD,CAA0D,EAJvE,CAZkB,CAkBlB,CACI,QAAS,yBADb,CAEI,QAAS9L,UAAU,CAACmB,oBAAX,CAAkCnB,UAAU,CAACmB,oBAAX,CAAgC2K,KAAlE,CAA0E,EAFvF,CAlBkB,CAAtB,CAuBA,GAAI9L,UAAU,CAACG,eAAX,CAA2BsB,KAA3B,GAAqClE,UAAU,CAACoG,iBAApD,CACA,CACI,GAAK3D,UAAU,CAACG,eAAX,CAA2BO,IAA3B,CAAgCkD,oBAAhC,GAAyD3G,iBAAiB,CAACuE,GAAhF,CAAqF,CACrF,KAAK8hB,cAAL,CAAoB/U,IAApB,CAA2B,CACvB,QAAS,iBADc,CAEvB,QAASvO,UAAU,CAACib,gBAAX,CAA8Bjb,UAAU,CAACib,gBAAX,CAA4BnP,KAA1D,CAAkE,EAFpD,CAA3B,CAIA,CACI,QAAS,aADb,CAEI,QAAS9L,UAAU,CAAC0B,kBAAX,CAAgC1B,UAAU,CAAC0B,kBAAX,CAA8BoK,KAA9D,CAAsE,EAFnF,CAJA,EAQH,CACA,CACJ,CAEJ,CA3ED,IA2EK,CACD,KAAKwX,cAAL,CAAsB,CAClB,CACI,QAAS,gBADb,CAEI,QAAQtjB,UAAU,EAAIA,UAAU,CAACG,eAAzB,CAA2CH,UAAU,CAACG,eAAX,CAA2B2L,KAAtE,CAA8E,EAF1F,CADkB,CAAtB,CAMH,CACJ,C,oCAED,+BAAuB,iBACnB,GAAI,KAAK6X,KAAL,EAAc,KAAKA,KAAL,CAAW4I,OAAzB,EAAoC,KAAK5I,KAAL,CAAW4I,OAAX,CAAmBzI,YAAnB,CAAkC,EAAlC,GAAyC,KAAK5jB,KAAL,CAAW8iB,iBAA5F,CAA+G,CAE3G,KAAK3gB,QAAL,CAAc,CACV2gB,iBAAiB,CAAE,KAAKW,KAAL,CAAW4I,OAAX,CAAmBzI,YAAnB,CAAkC,EAD3C,CAEV0I,YAAY,CAAE,IAFJ,CAAd,EAIA;AACAC,UAAU,CAAC,UAAM,CACb,MAAI,CAACpqB,QAAL,CAAc,CACVmqB,YAAY,CAAE,KADJ,CAAd,EAGH,CAJS,CAAV,CAKH,CAEJ,C,kCACD,4BAAmBE,aAAnB,CAAkCC,aAAlC,CAAiD,CAC7C,GAAI3oB,CAAAA,cAAc,CAAG,KAAK9D,KAAL,CAAW8D,cAAhC,CACA,GAAI4jB,CAAAA,sBAAsB,CAAG,KAAK1nB,KAAL,CAAW0nB,sBAAxC,CACA,GAAIC,CAAAA,mBAAmB,CAAG,KAAK3nB,KAAL,CAAW2nB,mBAArC,CACA,GAAI7nB,CAAAA,UAAU,CAAG,KAAKE,KAAL,CAAWF,UAAX,EAAyB,EAA1C,CACA,GAAI4sB,CAAAA,cAAc,CAAG,KAArB,CACA,GAAI1d,CAAAA,cAAc,CAAG,KAAKpP,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,EAAmC,CAAxD,CACA,GAAI8J,CAAAA,WAAW,CAAG,KAAKlZ,KAAL,CAAWG,KAAX,CAAiB+Y,WAAjB,EAAgC,KAAlD,CAEA,KAAKuS,oBAAL,GACA,GAAI7nB,CAAAA,cAAc,CAAG,KAAKxD,KAAL,CAAWwD,cAAX,EAA6B,EAAlD,CACA,GAAI,KAAK5D,KAAL,CAAWG,KAAX,CAAiB+D,cAAjB,GAAoC0oB,aAAa,CAACzsB,KAAd,CAAoB+D,cAA5D,CAA4E,CACxEA,cAAc,CAAG,KAAKlE,KAAL,CAAWG,KAAX,CAAiB+D,cAAlC,CACA4oB,cAAc,CAAG,IAAjB,CACH,CACD,GAAI,KAAK9sB,KAAL,CAAWG,KAAX,CAAiB2nB,sBAAjB,GAA4C8E,aAAa,CAACzsB,KAAd,CAAoB2nB,sBAApE,CAA4F,CACzFA,sBAAsB,CAAG,KAAK9nB,KAAL,CAAWG,KAAX,CAAiB2nB,sBAA1C,CACC;AACAgF,cAAc,CAAG,IAAjB,CACH,CACD,GAAI,KAAK9sB,KAAL,CAAWG,KAAX,CAAiB4nB,mBAAjB,GAAyC6E,aAAa,CAACzsB,KAAd,CAAoB4nB,mBAAjE,CAAsF,CAClFA,mBAAmB,CAAG,KAAK/nB,KAAL,CAAWG,KAAX,CAAiB4nB,mBAAvC,CACC;AACA+E,cAAc,CAAG,IAAjB,CACH,CACF,GAAI,KAAK9sB,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoCwd,aAAa,CAACzsB,KAAd,CAAoBiP,cAAxD,EAA0E,KAAKpP,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,GAAgC8qB,aAAa,CAACzsB,KAAd,CAAoB2B,UAAlI,CAA8I,CAC1I,GAAI,KAAK9B,KAAL,CAAWG,KAAX,CAAiBiP,cAAjB,GAAoCwd,aAAa,CAACzsB,KAAd,CAAoBiP,cAA5D,CAA4E,CACxEA,cAAc,CAAG,KAAKpP,KAAL,CAAWG,KAAX,CAAiBiP,cAAlC,CACA8J,WAAW,CAAG,KAAKlZ,KAAL,CAAWG,KAAX,CAAiB+Y,WAA/B,CACA4T,cAAc,CAAG,IAAjB,CACA;AACA;AACA;AACA;AACH,CACJ,CACD,GAAI,KAAK9sB,KAAL,CAAWG,KAAX,CAAiByD,cAAjB,GAAoCgpB,aAAa,CAACzsB,KAAd,CAAoByD,cAA5D,CAA4E,CACxEA,cAAc,CAAG,KAAK5D,KAAL,CAAWG,KAAX,CAAiByD,cAAjB,EAAmC,EAApD,CACAkpB,cAAc,CAAG,IAAjB,CACH,CACD,GAAIrE,CAAAA,UAAU,CAAG,KAAKroB,KAAL,CAAWqoB,UAAX,EAAyB,EAA1C,CACA,GAAI,KAAKzoB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BrE,UAA5B,GAA2CmvB,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+BrE,UAA9E,CAA0F,CACtF,GAAMsvB,CAAAA,aAAa,CAAGzwB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BrE,UAA5B,EAA0C,EAA3C,CAA+C,iBAA/C,CAAkE,iBAAlE,CAAqF,SAArF,CAAgG,WAAhG,CAA6G,KAA7G,CAAzC,CACAgrB,UAAU,CAAGsE,aAAa,CAAC/H,GAAd,CAAkB,YAAlB,CAAb,CACAphB,cAAc,CAAC,iBAAD,CAAd,CAAoC6kB,UAAU,CAACvd,MAAX,CAAoBud,UAAU,CAAC,CAAD,CAA9B,CAAoC,EAAxE,CACAqE,cAAc,CAAG,IAAjB,CACH,CACD,GAAInE,CAAAA,eAAe,CAAG,KAAKvoB,KAAL,CAAWuoB,eAAX,EAA8B,EAApD,CACA,GAAI,KAAK3oB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkrB,eAA5B,GAAgDJ,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+BkrB,eAAnF,CAAoG,CAChG,GAAMC,CAAAA,aAAa,CAAG3wB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BkrB,eAA5B,EAA+C,EAAhD,CAAoD,iBAApD,CAAuE,iBAAvE,CAA0F,iBAA1F,CAA6G,WAA7G,CAA0H,KAA1H,CAAzC,CACArE,eAAe,CAAGsE,aAAa,CAACjI,GAAd,CAAkB,YAAlB,CAAlB,CACAphB,cAAc,CAAC,iBAAD,CAAd,CAAoC+kB,eAAe,CAACzd,MAAhB,CAAyB,CAAzB,CAA6Byd,eAAe,CAAC,CAAD,CAA5C,CAAkD,EAAtF,CACAmE,cAAc,CAAG,IAAjB,CACH,CACD,GAAIrS,CAAAA,OAAO,CAAG,KAAKra,KAAL,CAAWqa,OAAX,EAAsB,EAApC,CACA,GAAI,KAAKza,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BorB,OAA5B,GAAwCN,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+BorB,OAA3E,CAAoF,CAChF,GAAMC,CAAAA,UAAU,CAAG7wB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BorB,OAA5B,EAAuC,EAAxC,CAA4C,cAA5C,CAA4D,cAA5D,CAA4E,cAA5E,CAA4F,WAA5F,CAAyG,KAAzG,CAAtC,CACAzS,OAAO,CAAG0S,UAAU,CAACnI,GAAX,CAAe,YAAf,CAAV,CACAphB,cAAc,CAAC,cAAD,CAAd,CAAiC6W,OAAO,CAACvP,MAAR,CAAiB,CAAjB,CAAqBuP,OAAO,CAAC,CAAD,CAA5B,CAAkCna,SAAnE,CACAwsB,cAAc,CAAG,IAAjB,CACH,CACD,GAAIlE,CAAAA,WAAW,CAAG,KAAKxoB,KAAL,CAAWwoB,WAAX,EAA0B,EAA5C,CACA,GAAI,KAAK5oB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsrB,eAA5B,GAAgDR,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+BsrB,eAAnF,CAAoG,CAChG,GAAMC,CAAAA,cAAc,CAAG/wB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BsrB,eAA5B,EAA+C,EAAhD,CAAoD,kBAApD,CAC9B,kBAD8B,CACV,kBADU,CACU,WADV,CACuB,KADvB,CAA1C,CAEAxE,WAAW,CAAGyE,cAAc,CAACrI,GAAf,CAAmB,YAAnB,CAAd,CACAphB,cAAc,CAAC,kBAAD,CAAd,CAAqCglB,WAAW,CAAC1d,MAAZ,CAAqB,CAArB,CAAyB0d,WAAW,CAAC,CAAD,CAApC,CAA0CtoB,SAA/E,CACAwsB,cAAc,CAAG,IAAjB,CACH,CACD,GAAIpS,CAAAA,OAAO,CAAG,KAAKta,KAAL,CAAWsa,OAAX,EAAsB,EAApC,CACA,GAAI,KAAK1a,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BwrB,iBAA5B,GAAkDV,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+BwrB,iBAArF,CAAwG,CACpG,GAAMC,CAAAA,gBAAgB,CAAGjxB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4BwrB,iBAA5B,EAAiD,EAAlD,CAAsD,oBAAtD,CAChC,cADgC,CAChB,oBADgB,CACM,WADN,CACmB,KADnB,CAA5C,CAEA5S,OAAO,CAAG6S,gBAAgB,CAACvI,GAAjB,CAAqB,YAArB,CAAV,CACAphB,cAAc,CAAC,oBAAD,CAAd,CAAuC8W,OAAO,CAACxP,MAAR,CAAiB,CAAjB,CAAqBwP,OAAO,CAAC,CAAD,CAA5B,CAAkCpa,SAAzE,CACAwsB,cAAc,CAAG,IAAjB,CACH,CACD,GAAIpE,CAAAA,mBAAmB,CAAG,KAAKtoB,KAAL,CAAWsoB,mBAAX,EAAkC,EAA5D,CACA,GAAI,KAAK1oB,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0rB,mBAA5B,GAAoDZ,aAAa,CAACzsB,KAAd,CAAoB2B,UAApB,CAA+B0rB,mBAAvF,CAA4G,CACxG,GAAMC,CAAAA,WAAW,CAAGnxB,mBAAmB,CAAC,KAAK0D,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,CAA4B0rB,mBAA5B,EAAmD,EAApD,CAAwD,sBAAxD,CAAgF,qBAAhF,CAAuG,sBAAvG,CAA+H,WAA/H,CAA4I,KAA5I,CAAvC,CACA9E,mBAAmB,CAAG+E,WAAW,CAACzI,GAAZ,CAAgB,YAAhB,CAAtB,CACAphB,cAAc,CAAC,sBAAD,CAAd,CAAyC8kB,mBAAmB,CAACxd,MAApB,CAA6B,CAA7B,CAAiCwd,mBAAmB,CAACA,mBAAmB,CAACxd,MAApB,CAA6B,CAA9B,CAApD,CAAuF,EAAhI,CACA4hB,cAAc,CAAG,IAAjB,CACH,CAED;AACA;AACA;AAEA;AACA;AACA;AAEA,GAAIloB,CAAAA,qBAAqB,CAAG,KAAKxE,KAAL,CAAWwE,qBAAX,EAAoC,EAAhE,CACA,GAAID,CAAAA,UAAU,CAAG,KAAKvE,KAAL,CAAWuE,UAAX,EAAyB,EAA1C,CACA,GAAI,KAAK3E,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,EAA6B,KAAKzB,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAA1B,GAAwC+rB,aAAa,CAACzsB,KAAd,CAAoBsB,QAApB,CAA6BZ,SAAtG,CAAiH,CAC7G,GAAM6sB,CAAAA,SAAS,CAAG,KAAK1tB,KAAL,CAAWG,KAAX,CAAiBsB,QAAjB,CAA0BZ,SAA5C,CACA,GAAI,KAAKb,KAAL,CAAWG,KAAX,CAAiByE,qBAArB,CAA4C,CACxC,KAAK5E,KAAL,CAAWG,KAAX,CAAiByE,qBAAjB,CAAuC8oB,SAAvC,GAAqDxlB,MAAM,CAACE,MAAP,CAAc,KAAKpI,KAAL,CAAWG,KAAX,CAAiByE,qBAAjB,CAAuC8oB,SAAvC,CAAd,EAAiE7hB,GAAjE,CAAqE,SAAAjL,IAAI,QAC1HgE,CAAAA,qBAAqB,CAAC6J,IAAtB,CAA2B7N,IAAI,CAAC+gB,YAAhC,CAD0H,EAAzE,CAArD,CAEH,CACDhd,UAAU,CAAGhI,aAAa,CAAC,KAAKqD,KAAL,CAAWG,KAAX,CAAiByE,qBAAlB,CAAyC8oB,SAAzC,CAA1B,CACAxtB,UAAU,kBAAQ0D,cAAR,CAAV,CACA,KAAK+pB,qBAAL,CAA2BztB,UAA3B,EACH,CAED,GAAI,KAAKF,KAAL,CAAWG,KAAX,CAAiBD,UAAjB,GAAgC0sB,aAAa,CAACzsB,KAAd,CAAoBD,UAAxD,CAAoE,CAChEA,UAAU,kBAAQ,KAAKF,KAAL,CAAWG,KAAX,CAAiBD,UAAzB,CAAV,CACA,KAAKytB,qBAAL,CAA2BztB,UAA3B,EACA4sB,cAAc,CAAG,IAAjB,CACH,CAJD,IAKI,CACC,KAAKa,qBAAL,CAA2BztB,UAA3B,EACJ,CACD;AACA;AACA;AACA;AAEA,GAAI2B,CAAAA,gBAAgB,CAAG,KAAKzB,KAAL,CAAWyB,gBAAlC,CACA,GAAI,KAAK7B,KAAL,CAAWG,KAAX,CAAiB0B,gBAAjB,EAAqC,KAAK7B,KAAL,CAAWG,KAAX,CAAiB0B,gBAAjB,GAAsC+qB,aAAa,CAACzsB,KAAd,CAAoB0B,gBAAnG,CAAqH,CACjHA,gBAAgB,CAAG,KAAK7B,KAAL,CAAWG,KAAX,CAAiB0B,gBAApC,CACAirB,cAAc,CAAG,IAAjB,CACH,CAED,gBAA6B,KAAK1sB,KAAlC,CAAMoC,QAAN,aAAMA,QAAN,CAAgBE,QAAhB,aAAgBA,QAAhB,CACA,GAAI,KAAK1C,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,GAAgC8qB,aAAa,CAACzsB,KAAd,CAAoB2B,UAAxD,CAAoE,CAChEU,QAAQ,CAAG,KAAKxC,KAAL,CAAWG,KAAX,CAAiBqC,QAAjB,GAA8BlC,SAA9B,CAA0CkC,QAA1C,CAAqD,KAAKxC,KAAL,CAAWG,KAAX,CAAiBqC,QAAjF,CACAE,QAAQ,CAAGA,QAAQ,CAAGA,QAAH,CAAc,KAAK1C,KAAL,CAAWG,KAAX,CAAiBuC,QAAlD,CACAoqB,cAAc,CAAG,IAAjB,CACH,CACD,iBAA2C,KAAK1sB,KAAhD,CAAMkY,eAAN,cAAMA,eAAN,CAAuBC,eAAvB,cAAuBA,eAAvB,CACA,GAAI,KAAKvY,KAAL,CAAWG,KAAX,CAAiB2B,UAAjB,GAAgC8qB,aAAa,CAACzsB,KAAd,CAAoB2B,UAAxD,CAAoE,CAChEwW,eAAe,CAAG,KAAKtY,KAAL,CAAWG,KAAX,CAAiBmY,eAAjB,GAAqChY,SAArC,CAAiDgY,eAAjD,CAAmE,KAAKtY,KAAL,CAAWG,KAAX,CAAiBmY,eAAtG,CACAC,eAAe,CAAGA,eAAe,CAAGA,eAAH,CAAqB,KAAKvY,KAAL,CAAWG,KAAX,CAAiBoY,eAAvE,CACAuU,cAAc,CAAG,IAAjB,CACH,CACD,GAAIA,cAAJ,CAAoB,CAChB,KAAKvqB,QAAL,CAAc,CACV2B,cAAc,CAAdA,cADU,CACMN,cAAc,CAAdA,cADN,CACsB1D,UAAU,CAAVA,UADtB,CACkC0E,qBAAqB,CAArBA,qBADlC,CACyDD,UAAU,CAAVA,UADzD,CAEV8jB,UAAU,CAAVA,UAFU,CAEEE,eAAe,CAAfA,eAFF,CAEmBlO,OAAO,CAAPA,OAFnB,CAE4BiO,mBAAmB,CAAnBA,mBAF5B,CAEiD7mB,gBAAgB,CAAhBA,gBAFjD,CAGVW,QAAQ,CAARA,QAHU,CAGAE,QAAQ,CAARA,QAHA,CAGUkmB,WAAW,CAAXA,WAHV,CAGuBlO,OAAO,CAAPA,OAHvB,CAG+BtL,cAAc,CAAdA,cAH/B,CAG+C8J,WAAW,CAAXA,WAH/C,CAG4DZ,eAAe,CAAfA,eAH5D,CAG6EC,eAAe,CAAfA,eAH7E,CAG6FuP,sBAAsB,CAAtBA,sBAH7F,CAGoHC,mBAAmB,CAAnBA,mBAHpH,CAAd,EAKH,CACJ,C,0CAzvJD,kCAAgC/nB,KAAhC,CAAuCI,KAAvC,CAA8C,CAC1C,GAAIJ,KAAK,CAACG,KAAN,CAAYytB,YAAZ,GAA6B,EAAjC,CAAqC,CACjC,GAAI5tB,KAAK,CAACG,KAAN,CAAY0tB,SAAZ,GAA0B,GAA1B,EAAiC7tB,KAAK,CAACG,KAAN,CAAY0tB,SAAZ,GAA0B,GAA/D,CAAoE,CAChEt1B,KAAK,CAACgI,IAAN,CAAWP,KAAK,CAACG,KAAN,CAAYytB,YAAvB,EACA5tB,KAAK,CAACG,KAAN,CAAYytB,YAAZ,CAA2B,EAA3B,CACH,CACJ,CACD,GAAI5tB,KAAK,CAACG,KAAN,CAAYihB,KAAZ,GAAsBhhB,KAAK,CAACghB,KAAhC,CAAuC,CACnC7oB,KAAK,CAAC6oB,KAAN,CAAYphB,KAAK,CAACG,KAAN,CAAYihB,KAAxB,EACAphB,KAAK,CAACG,KAAN,CAAYihB,KAAZ,CAAoB,EAApB,CACH,CACD,MAAO,KAAP,CACH,C,uBAlDmBjpB,S,EAmyJxB,GAAM21B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC1tB,KAAD,CAAW,CAC/B,MAAO,CACHD,KAAK,CAAEC,KAAK,CAACD,KADV,CAAP,CAGH,CAJD,CAMA,cAAe/H,CAAAA,OAAO,CAAC01B,eAAD,CAAkB,CACpCp0B,WAAW,CAAXA,WADoC,CACvBC,UAAU,CAAVA,UADuB,CACXC,eAAe,CAAfA,eADW,CACMC,UAAU,CAAVA,UADN,CACkBC,QAAQ,CAARA,QADlB,CAC4BE,kBAAkB,CAAlBA,kBAD5B,CAEpCD,mBAAmB,CAAnBA,mBAFoC,CAEfE,uBAAuB,CAAvBA,uBAFe,CAEUC,WAAW,CAAXA,WAFV,CAEuBC,gBAAgB,CAAhBA,gBAFvB,CAEyCC,gBAAgB,CAAhBA,gBAFzC,CAE2DC,YAAY,CAAZA,YAF3D,CAGpCC,kBAAkB,CAAlBA,kBAHoC,CAGhBC,gBAAgB,CAAhBA,gBAHgB,CAGEC,iBAAiB,CAAjBA,iBAHF,CAGqBC,qBAAqB,CAArBA,qBAHrB,CAG4CC,sBAAsB,CAAtBA,sBAH5C,CAIpCC,WAAW,CAAXA,WAJoC,CAIvBC,YAAY,CAAZA,YAJuB,CAITC,uBAAuB,CAAvBA,uBAJS,CAIgBC,uBAAuB,CAAvBA,uBAJhB,CAIyCC,oBAAoB,CAApBA,oBAJzC,CAI+DC,gBAAgB,CAAhBA,gBAJ/D,CAKpCC,cAAc,CAAdA,cALoC,CAKpBC,sBAAsB,CAAtBA,sBALoB,CAKIC,4BAA4B,CAA5BA,4BALJ,CAKkCC,qBAAqB,CAArBA,qBALlC,CAKyDC,mBAAmB,CAAnBA,mBALzD,CAK8EC,mBAAmB,CAAnBA,mBAL9E,CAKmGC,sBAAsB,CAAtBA,sBALnG,CAK2HO,2BAA2B,CAA3BA,2BAL3H,CAMpCN,oCAAoC,CAApCA,oCANoC,CAMEC,gCAAgC,CAAhCA,gCANF,CAMoCC,oBAAoB,CAApBA,oBANpC,CAM0DC,0BAA0B,CAA1BA,0BAN1D,CAMsFC,sBAAsB,CAAtBA,sBANtF,CAM8GC,0BAA0B,CAA1BA,0BAN9G,CAOpCE,+BAA+B,CAA/BA,+BAPoC,CAOJC,sBAAsB,CAAtBA,sBAPI,CAOoBC,uBAAuB,CAAvBA,uBAPpB,CAO4CC,uBAAuB,CAAvBA,uBAP5C,CAOoEC,kBAAkB,CAAlBA,kBAPpE,CAOuFC,kBAAkB,CAAlBA,kBAPvF,CAO0GC,4BAA4B,CAA5BA,4BAP1G,CAAlB,CAAP,CAQZhE,UAAU,CAAC0H,SAAD,CARE,CAAf","sourcesContent":["import React, { Component} from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport { Row, Col, Card, Button, Nav } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { faEye, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport OrgTree from 'react-org-tree';\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, getTestGroupDetails, sampleTypeOnChange,\r\n    validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent, changeTestCategory,\r\n    addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter, addTestFile,\r\n    editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial,\r\n    getMaterialCategoryBasedMaterialType, getMaterialBasedMaterialCategory, getTestGroupMaterial, getDataForEditTestMaterial, addTestGroupNumericTab, getTestGroupRulesEngineAdd,\r\n    getEditTestGroupRulesEngine, getSelectedTestGroupRulesEngine,getParameterforEnforce, getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder,getPredefinedDataRulesEngine\r\n} from '../../actions'\r\nimport { constructOptionList, formatInputDate, create_UUID, deleteAttachmentDropZone, filterRecordBasedOnTwoArrays, getControlMap, onDropAttachFileList, showEsign, sortData, Lims_JSON_stringify } from '../../components/CommonScript';\r\nimport TestGroupTestTab from './TestGroupTestTab';\r\nimport AddTestGroupSpecification from './AddTestGroupSpecification';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, REPORTTYPE, attachmentType, formCode, designProperties, \r\n   // parameterType,SampleType, grade } from '../../components/Enumeration';\r\n   // parameterType,SampleType } from '../../components/Enumeration';\r\n    parameterType,SampleType,MaterialType , grade} from '../../components/Enumeration';\r\nimport AddTestGroupTest from './AddTestGroupTest';\r\nimport AddProfileTree from './AddProfileTree';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddFile from '../testmanagement/AddFile';\r\nimport AdvFilter from '../../components/AdvFilter';\r\nimport SpecificationHistory from './SpecificationHistory';\r\nimport TestGroupSpecFile from './TestGroupSpecFile';\r\nimport SpecificationInfo from './SpecificationInfo';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport TransationListMaster from '../../components/TransactionListMaster';\r\nimport TransationListMasterView from '../../components/TransactionListMasterView';\r\nimport FormTreeMenu from '../../components/form-tree-menu/form-tree-menu.component';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\n\r\nimport {\r\n    testMoreFields, testSubFields, searchFieldList, specificationColumnList, componentColumnList,\r\n    addTestColumnList, editTestColumnList \r\n} from './TestGroupFields';\r\n\r\nimport EditTestGroupTest from './EditTestGroupTest';\r\nimport { ContentPanel, SearchAdd } from '../../components/App.styles';\r\nimport '../../pages/registration/registration.css';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport PortalModalSlideout from '../../components/portal-modal/portal-modal-slideout';\r\nimport AddTestGroupRule from './AddTestGroupRule';\r\nimport ViewSubCodedResult from './ViewSubCodedResult';\r\nimport { numberConversion, numericGrade } from '../ResultEntryBySample/ResultEntryValidation';\r\nimport ResultEntryPredefinedComments from '../ResultEntryBySample/ResultEntryPredefinedComments';\r\nimport ModalShow from '../../components/ModalShow';\r\n\r\n\r\nclass TestGroup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const componentDataState = { skip: 0, take: 10 };\r\n        const historyDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const clinicalspecDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5, group: [{ field: 'sgendername' }] };\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            filterData: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            componentDataState,\r\n            historyDataState,\r\n            clinicalspecDataState,\r\n            tempFilterData: {},\r\n            showTest: true,\r\n            testskip: 0,\r\n            testtake: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            skipRulesEngine: 0,\r\n            takeRulesEngine: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            fixefScrollHeight: window.outerHeight - 400,\r\n            initialVerticalWidth: \"20vh\",\r\n            testView: true,\r\n            //paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\r\n            paneHeight: 'calc(100vh -183px)'\r\n        }\r\n        this.componentBreadcrumbs = [];\r\n        this.breadCrumbData = [];\r\n        this.searchRef = React.createRef();\r\n        this.specSubField = [{ [designProperties.VALUE]: \"stransdisplaystatus\" },\r\n        { [designProperties.VALUE]: \"sapprovalstatus\", [designProperties.COLOUR]: true }];\r\n        this.myRef = React.createRef();\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    reloadData = () => {\r\n\r\n        const filterData = this.props.Login.filterData || this.state.filterData;\r\n        if (filterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        }\r\n        else if (filterData.nproductcatcode === \"\") {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        else if (filterData.nproductcode === \"\" && (filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO)) {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY && filterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO ) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        } else if (filterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        }\r\n        else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: filterData.nsampletypecode.item[\"nsampletypecode\"],\r\n                    nproductcatcode: filterData.nproductcatcode.item[\"nproductcatcode\"],\r\n                 //   nproductcode: filterData.nproductcode.item[\"nproductcode\"],\r\n                    nproductcode: filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.YES ? -1 :\r\n                    filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? -1 : filterData.nproductcode ? filterData.nproductcode.value : -1,\r\n                    ntreeversiontempcode: filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],\r\n                    nprojectmastercode: filterData.nprojectmastercode !== undefined ? filterData.nprojectmastercode.item[\"nprojectmastercode\"]:-1,\r\n                    filterData,//: { ...this.props.Login.filterData }\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(\"Screen Name need\",this.props.Login.screenName);\r\n        const { TestGroupSpecification, SelectedSpecification, SelectedTest, OpenNodes, selectedNode, FocusKey,\r\n            ActiveKey, SelectedComponent, TestGroupTest, TestGroupSpecSampleType, searchedData,\r\n            TestGroupTestParameter } = this.props.Login.masterData;\r\n        // const deleteTree = {\r\n        //     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n        //     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\r\n        // };\r\n        if (this.props.Login.masterData && this.props.Login.masterData.AgaramTree && this.props.Login.masterData.AgaramTree.length > 0) {\r\n         this.props.Login.masterData.AgaramTree[0][\"label\"] = this.props.Login.masterData.AgaramTree[0][\"label\"] === 'root' ? \r\n         this.props.intl.formatMessage({ id: \"IDS_ROOT\" }) : this.props.Login.masterData.AgaramTree[0][\"label\"];\r\n        }\r\n\r\n        const testGroupTestData = searchedData || TestGroupTest || []\r\n\r\n        if (TestGroupTestParameter) {\r\n            sortData(TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        }\r\n\r\n        if (testGroupTestData) {\r\n            sortData(testGroupTestData, \"descending\", \"nsorter\");\r\n        }\r\n\r\n        const getComponent = {\r\n            screenName:this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode], operation: \"get\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupComponent\", keyName: \"testgroupspecification\"\r\n        };\r\n        const addSpecParam = { testgroupspecification: SelectedSpecification, selectedRecord: this.state.filterData, userInfo: this.props.Login.userInfo, selectedNode };\r\n        const editSpecParam = { selectedRecord: this.state.filterData, userinfo: this.props.Login.userInfo, selectedNode };\r\n        const specDeleteParam = { operation: \"delete\", methodUrl: \"Specification\", screenName: \"IDS_SPECIFICATION\", keyName: \"testgroupspecification\", filterData: this.state.filterData };\r\n        const addSpecId = this.state.controlMap.has(\"AddSpecification\") && this.state.controlMap.get(\"AddSpecification\").ncontrolcode;\r\n        const addTreeId = this.state.controlMap.has(\"AddTree\") && this.state.controlMap.get(\"AddTree\").ncontrolcode;\r\n        const editTreeId = this.state.controlMap.has(\"EditTree\") && this.state.controlMap.get(\"EditTree\").ncontrolcode;\r\n        const deleteTreeId = this.state.controlMap.has(\"DeleteTree\") && this.state.controlMap.get(\"DeleteTree\").ncontrolcode;\r\n        const editSpecId = this.state.controlMap.has(\"EditSpecification\") && this.state.controlMap.get(\"EditSpecification\").ncontrolcode;\r\n        const deleteSpecId = this.state.controlMap.has(\"DeleteSpecification\") && this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;\r\n        const addComponentId = this.state.controlMap.has(\"AddComponent\") && this.state.controlMap.get(\"AddComponent\").ncontrolcode;\r\n        const deleteComponentId = this.state.controlMap.has(\"DeleteComponent\") && this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;\r\n        const addTestId = this.state.controlMap.has(\"AddTest\") && this.state.controlMap.get(\"AddTest\").ncontrolcode;\r\n        const deleteTestId = this.state.controlMap.has(\"DeleteTest\") && this.state.controlMap.get(\"DeleteTest\").ncontrolcode;\r\n        const editTestId = this.state.controlMap.has(\"EditTest\") && this.state.controlMap.get(\"EditTest\").ncontrolcode;\r\n        const viewFileId = this.state.controlMap.has(\"ViewTestFile\") && this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;\r\n        const confirmMessage = new ConfirmMessage();\r\n\r\n        const deleteTree = {\r\n            methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\", ncontrolCode: deleteTreeId, filterData: this.state.filterData\r\n        };\r\n\r\n        const getTest = {\r\n            screenName: \"IDS_TEST\", operation: \"get\", masterData: this.props.Login.masterData,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupTest\", keyName: \"ntestgrouptestcode\"\r\n        };\r\n        const filterParam = {\r\n            testskip: 0, testtake: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n            fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n        };\r\n        const filterParamRulesEngine = {\r\n            skipRulesEngine: 0, takeRulesEngine: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            inputListName: \"RulesEngine\", selectedObject: \"SelectedRulesEngine\", primaryKeyField: \"ntestgrouprulesenginecode\",\r\n            fetchUrl: \"testgrouprulesengine/getSelectedTestGroupRulesEngine\", fecthInputObject: { userinfo: this.props.Login.userInfo\r\n                ,ntestgrouptestcode:this.props.Login.masterData.SelectedTest&&this.props.Login.masterData.SelectedTest.ntestgrouptestcode }, masterData: this.props.Login.masterData,\r\n            'searchFieldList':[\"srulename\",\"stransdisplaystatus\" \r\n        ], changeList: [],  isSingleSelect: true\r\n        };\r\n        const specMandatoryFields = [];\r\n        const compMandatoryFields = [];\r\n        const editTestMandatoryFields = [];\r\n        const addTestMandatoryFields = [];\r\n        specificationColumnList.forEach(item => item.mandatory === true ?\r\n            specMandatoryFields.push(item) : \"\"\r\n        );\r\n        \r\n        componentColumnList.forEach(item => item.mandatory === true ?\r\n            compMandatoryFields.push(item) : \"\"\r\n        );\r\n        editTestColumnList.forEach(item => item.mandatory === true ?\r\n            editTestMandatoryFields.push(item) : \"\"\r\n        );\r\n        addTestColumnList.forEach(item => item.mandatory === true ?\r\n            addTestMandatoryFields.push(item) : \"\"\r\n        );\r\n\r\n        if (this.props.Login.masterData && Object.values(this.props.Login.masterData).length > 0) {\r\n            if (selectedNode && selectedNode.sleveldescription) {\r\n                const splitNode = this.props.Login.masterData.ActiveKey.split('/');\r\n                let treeNodeNames = [];\r\n                splitNode.forEach(nodeItem => {\r\n                    this.props.Login.masterData.TreeTemplateManipulation.forEach(treeItem => {\r\n                        if (treeItem.ntemplatemanipulationcode === parseInt(nodeItem))\r\n                            treeNodeNames.push(treeItem.sleveldescription);\r\n                    })\r\n                })\r\n                this.componentBreadcrumbs = treeNodeNames;\r\n                if (SelectedSpecification && SelectedSpecification !== null && SelectedSpecification.sspecname) {\r\n                    this.componentBreadcrumbs.push(SelectedSpecification.sspecname);\r\n                    if (SelectedComponent && SelectedComponent !== null && SelectedComponent.ncomponentcode !== -1) {\r\n                        // this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\r\n                        this.componentBreadcrumbs.push(SelectedComponent.scomponentname);\r\n                    } else {\r\n                        // delete this.componentBreadcrumbs[2];\r\n                    }\r\n                } else {\r\n                    // delete this.componentBreadcrumbs[1];\r\n                }\r\n            } else {\r\n                this.componentBreadcrumbs = [];\r\n                // delete this.componentBreadcrumbs[0];\r\n            }\r\n        }\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n\r\n\r\n        //New Design\r\n        const specDesign =\r\n            <>\r\n                {this.componentBreadcrumbs && this.componentBreadcrumbs.length > 0 &&\r\n                    <div className=\"component_breadcrumbs\">\r\n                        <ul>\r\n                            {this.componentBreadcrumbs.map((item) => {\r\n                                return <li>{item}</li>\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                <ContentPanel hidden={this.state.showTest} className='mr-2'>\r\n                    <div className='card_group'>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                    <h4>{this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONINFO\" })}</h4>\r\n                                </span>\r\n                                {/* <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button> */}\r\n                                <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo1()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <SpecificationInfo\r\n                                    genericLabel={this.props.Login.genericLabel}                             \r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    selectedNode={this.props.Login.masterData.selectedNode}\r\n                                    selectedRecord={this.state.filterData}\r\n                                    approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                                    screenName=\"IDS_SPECIFICATIONINFO\"\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    addSpecification={this.props.addSpecification}\r\n                                    filterData={this.state.filterData}\r\n                                    //completeSpecification={this.completeSpecification}\r\n                                    completeSpecification={this.validateTestGroupComplete}\r\n                                    approveSpecification={this.approveSpecification}\r\n                                    specificationReport={this.specificationReport}\r\n                                    retireSpec={this.retireSpec}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n\r\n                        <div>\r\n                            <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </div>\r\n                </ContentPanel>\r\n            </>\r\n\r\n\r\n        const testDesign = <Card>\r\n            <Card.Header className='sm-header'>\r\n                <h4 className='spec-info-title' data-tip={ this.props.intl.formatMessage({ id: \"IDS_TEST\" }) }>{this.props.intl.formatMessage({ id: \"IDS_TEST\" })}</h4>\r\n                <button className=\"btn btn-primary\" style={{ position: \"absolute\", right: \"7px\", top: \"7px\" }}\r\n                    onClick={() => this.showSpecAndTestInfo()}>\r\n                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                    {this.props.intl.formatMessage({ id: \"IDS_SPECINFO\" })}\r\n                </button>\r\n            </Card.Header>\r\n            <Card.Body className={this.state.testView ? 'p-0' : 'no-pad-t'}>\r\n                <TransactionListMasterJsonView\r\n                    cardHead={167}\r\n                    componentBreadcrumbs={this.breadCrumbData ? this.breadCrumbData.length > 0 ? true : false : false}\r\n                    // notSearchable={false}\r\n                    masterList={searchedData || TestGroupTest || []}\r\n                    //selectedMaster={[SelectedTest]}\r\n                    clickIconGroup={true}\r\n                    selectedMaster={SelectedTest !== undefined ? [SelectedTest] : undefined}\r\n                    primaryKeyField=\"ntestgrouptestcode\"\r\n                    getMasterDetail={this.props.getTestGroupDetails}\r\n                    inputParam={getTest}\r\n                    additionalParam={[]}\r\n                    mainField=\"stestname\"\r\n                    selectedListName=\"SelectedTest\"\r\n                    objectName=\"testgrouptest\"\r\n                    listName=\"IDS_TEST\"\r\n                    showStatusLink={true}\r\n                    statusFieldName=\"stransdisplaystatus\"\r\n                    statusField=\"ntransactionstatus\"\r\n                    subFields={testSubFields}\r\n                    moreField={testMoreFields}\r\n                    needValidation={false}\r\n                    needFilter={false}\r\n                    filterColumnData={this.props.filterTransactionList}\r\n                    searchListName=\"searchedData\"\r\n                    searchRef={this.searchRef}\r\n                    hidePaging={false}\r\n                    filterParam={filterParam}\r\n                    handlePageChange={this.handlePageChange}\r\n                    skip={this.state.testskip}\r\n                    take={this.state.testtake}\r\n                    pageSize={this.props.Login.settings && this.props.Login.settings[13].split(\",\").map(setting => parseInt(setting))}\r\n                    actionIcons={\r\n                        [\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faCloudDownloadAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.fileViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faExternalLinkAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.linkViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                controlname: \"faPencilAlt\",\r\n                                objectName: \"testgroupspecification\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(editTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.props.editTestGroupTest(\"update\", props.SelectedTest[0], this.props.Login.userInfo, editTestId, SelectedSpecification, this.state.filterData, props.masterData)\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                controlname: \"faTrashAlt\",\r\n                                objectName: \"testgrouptest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(deleteTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => confirmMessage.confirm(\r\n                                    \"deleteMessage\",\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                    () => this.deleteTest({ props, ncontrolCode: deleteTestId, filterData: this.state.filterData })\r\n                                )\r\n                            }\r\n                        ]\r\n                    }\r\n                    commonActions={\r\n                        <>\r\n\r\n                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(addTestId) === -1}\r\n                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                // data-for=\"tooltip-list-wrap\"\r\n                                onClick={() => this.props.addTestGroupTest(SelectedComponent, this.props.Login.userInfo, addTestId, SelectedSpecification, this.state.filterData, this.props.Login.masterData)}>\r\n                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                            </Button>\r\n                        </>\r\n                    }\r\n                />\r\n            </Card.Body>\r\n        </Card>\r\n\r\n        const paramDesign =\r\n            <>\r\n                <ContentPanel hidden={!this.state.showTest} className=\"grouped-param\">\r\n                    <Card>\r\n                        {/* <Card.Header className='sm-header'>\r\n                            <span style={{ display: \"inline-block\" }} >\r\n                                <h4>{this.props.intl.formatMessage({ id: \"IDS_ADDPARAMETER\" })}</h4>\r\n                            </span>\r\n                        </Card.Header> */}\r\n                        {/* {TestGroupTestParameter && TestGroupTestParameter.length > 0 && */}\r\n                        {/* <PerfectScrollbar> */}\r\n                       \r\n                        <TestGroupTestTab\r\n                            paneHeight={this.state.paneHeight}\r\n                            testView={this.state.testView}\r\n                            isrulesenginerequired={this.props.Login.masterData.isrulesenginerequired&&\r\n                                this.props.Login.masterData.isrulesenginerequired===transactionStatus.YES?true:false}\r\n                            masterData={this.props.Login.masterData}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            userInfo={this.props.Login.userInfo}\r\n                            userRoleControlRights={this.state.userRoleControlRights}\r\n                            esignRights={this.props.Login.userRoleControlRights}\r\n                            screenName={this.props.Login.screenName}\r\n                            openChildModal={this.props.Login.openChildModal}\r\n                            operation={this.props.Login.operation}\r\n                            loadEsign={this.props.Login.loadEsign}\r\n                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                            parameterData={this.props.Login.parameterData}  \r\n                            selectedRecord={this.state.selectedRecord}\r\n                            selectedsubcodedresult={this.state.selectedsubcodedresult || []}\r\n                            selectsubcodedelete={this.state.selectsubcodedelete}\r\n                            screenData={this.props.Login.screenData}\r\n                            ncontrolCode={this.props.Login.ncontrolCode}\r\n                            controlMap={this.state.controlMap}\r\n                            testGroupCheckList={this.props.Login.testGroupCheckList}\r\n                            openTemplateModal={this.props.Login.openTemplateModal}\r\n                            editTestGroupTest={this.props.editTestGroupTest}\r\n                            updateStore={this.props.updateStore}\r\n                            crudMaster={this.props.crudMaster}\r\n                            getTestGroupParameter={this.props.getTestGroupParameter}\r\n                            editTestGroupParameter={this.props.editTestGroupParameter}\r\n                            filterData={this.state.filterData}\r\n                            addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                            subCodedResultView={this.props.subCodedResultView}\r\n                            addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                            validateEsignCredential={this.props.validateEsignCredential}\r\n                            filterColumnData={this.props.filterColumnData}\r\n                            viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                            getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                            materialType={this.props.Login.materialType}\r\n                            getMaterialCategoryBasedMaterialType={this.props.getMaterialCategoryBasedMaterialType}\r\n                            materialCategoryList={this.props.Login.materialCategoryList}\r\n                            materialList={this.props.Login.materialList}\r\n                            getMaterialBasedMaterialCategory={this.props.getMaterialBasedMaterialCategory}\r\n                            getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                            getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                            dataState={this.state.clinicalspecDataState}\r\n                            dataStateChange={this.specDataStateChange}\r\n                            getTestGroupRulesEngineAdd={this.getTestGroupRulesEngineAdd}\r\n                            settings={this.props.Login.settings}\r\n                            skip={this.state.testskip}\r\n                            take={this.state.testtake}\r\n                            getEditTestGroupRulesEngine={this.props.getEditTestGroupRulesEngine}\r\n                            getSelectedTestGroupRulesEngine={this.props.getSelectedTestGroupRulesEngine}\r\n                            ConfirmDeleteRule={this.ConfirmDeleteRule}\r\n                            approveVersion={(masterdata, nflag) => this.approveVersion(masterdata, nflag)}\r\n                            openflowview={(props)=>this.openflowview(props)}\r\n                            handlePageChangeRuleEngine={(event) => this.handlePageChangeRuleEngine(event)}\r\n                            skipRulesEngine={this.state.skipRulesEngine}\r\n                            takeRulesEngine={this.state.takeRulesEngine}\r\n                            viewOutcome={ (props)=>this.viewOutcome(props)}\r\n                            filterParamRulesEngine={ filterParamRulesEngine}\r\n                            filterTransactionList={this.props.filterTransactionList} \r\n                            saveExecutionOrder={(props)=>this.props.saveExecutionOrder(props,this.props.Login.masterData,this.props.Login.userInfo)}  \r\n                        />\r\n                        {/* </PerfectScrollbar>\r\n                     } */}\r\n                    </Card>\r\n                </ContentPanel>\r\n            </>\r\n\r\n        const mainDesign =\r\n            <SplitterLayout\r\n                customClassName={this.state.testView ? \"detailed-inner\" : \"detailed-inner no-height \"}\r\n                vertical={this.state.testView ? false : true}\r\n                borderColor=\"#999\"\r\n                primaryIndex={1}\r\n                percentage={true}\r\n                //secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\r\n                secondaryInitialSize={37}\r\n                primaryMinSize={30}\r\n                secondaryMinSize={37}\r\n            >\r\n                {testDesign}{paramDesign}\r\n            </SplitterLayout >\r\n\r\n\r\n        // const testDesign = this.state.testView ?\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner\"\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}>\r\n        //         {tempDesign}{paramDesign}\r\n        //     </SplitterLayout>\r\n        //     :\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner no-height\"\r\n        //         vertical\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}\r\n        //         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\r\n        //         secondaryInitialSize={this.state.fixefScrollHeight}\r\n        //     >\r\n        //         <ContentPanel>\r\n        //             {tempDesign}\r\n        //         </ContentPanel>\r\n\r\n        //         {paramDesign}\r\n        //     </SplitterLayout>\r\n\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip-list-wrap\" /> */}\r\n                {/* screen-height-window active_seperator */}\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {this.breadCrumbData && this.breadCrumbData.length > 0 &&\r\n                        <BreadcrumbComponent\r\n                            breadCrumbItem={this.breadCrumbData}\r\n                        />}\r\n                    <Row noGutters>\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <SplitterLayout\r\n                                borderColor=\"#999\"\r\n                                primaryIndex={1}\r\n                                percentage={true}\r\n                                secondaryInitialSize={30}\r\n                            //customClassName=\"fixed_list_height\"\r\n                            >\r\n                                <div className={`${this.state.showModalBg ? 'show_modal_bg fixed_list_height' : 'fixed_list_height'}`}>\r\n                                    <div className=\"sticky_head\">\r\n                                        <SearchAdd className=\"border fixed_ico_list title_grp_custom\">\r\n                                            <h4>{this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" })}</h4>\r\n                                            <div className=\"icon_group_right_aligned\">\r\n                                                <AdvFilter\r\n                                                    filterComponent={[{\r\n                                                        \"IDS_SAMPLEFILTER\":\r\n                                                            <SampleFilter\r\n                                                                genericLabel={this.props.Login.genericLabel}\r\n                                                                userInfo={this.props.Login.userInfo} \r\n                                                                sampleType={this.state.sampleType}\r\n                                                                treeVersionTemplate={this.state.treeVersionTemplate}\r\n                                                                productCategory={this.state.productCategory}\r\n                                                                product={this.state.product}\r\n                                                                projectType={this.state.projectType}\r\n                                                                project={this.state.project}\r\n                                                                onFilterComboChange={this.onFilterComboChange}\r\n                                                                tempFilterData={this.state.tempFilterData}\r\n                                                            >\r\n                                                            </SampleFilter>,\r\n                                                        needActionStrip: false\r\n                                                    }]}\r\n                                                    onFilterSubmit={this.onFilterSumbit}\r\n                                                    showModalBg={(e) => this.setState({ showModalBg: e })}\r\n                                                />\r\n\r\n                                                <ProductList className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <Button className=\"btn btn-icon-rounded btn-circle solid-blue mr-1\" role=\"button\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(addTreeId) === -1}\r\n                                                        onClick={() => this.props.createTree(this.state.filterData, this.props.Login.userInfo, this.props.Login.masterData, addTreeId)}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                    //  data-for=\"tooltip-list-wrap\"\r\n                                                    >\r\n                                                        <FontAwesomeIcon icon={faPlus} />\r\n                                                    </Button>\r\n\r\n                                                    <Nav.Link className=\"btn btn-circle outline-grey mr0 mr-1\" name=\"edittestname\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                        //  data-for=\"tooltip-list-wrap\"\r\n                                                        onClick={() => this.props.editTree(\"update\", selectedNode, this.props.Login.userInfo, editTreeId, this.state.filterData,\r\n                                                            this.props.Login.masterData)}>\r\n                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                    </Nav.Link>\r\n                                                    <Nav.Link name=\"deleteLink\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                        // data-for=\"tooltip-list-wrap\"\r\n                                                        className=\"btn btn-circle outline-grey \"\r\n                                                        onClick={() => this.ConfirmDelete({ ...deleteTree })}>\r\n                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                        {/* <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            icon={faTrashAlt}\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                            handleClickDelete={() => this.deleteRecord({ ...deleteTree })}\r\n                                                        /> */}\r\n                                                    </Nav.Link>\r\n                                                    <Button className=\"btn btn-circle outline-grey ml-1\" variant=\"link\"\r\n                                                        onClick={() => this.reloadData()}\r\n                                                        // data-for=\"tooltip-list-wrap\"\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                        <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                                    </Button>\r\n                                                    {/* </Tooltip> */}\r\n                                                </ProductList>\r\n\r\n                                            </div>\r\n                                        </SearchAdd>\r\n                                    </div>\r\n                                    <div className=\"sticky_head_scroll_body\" style={{ \"height\": this.state.parentHeight }}>\r\n                                        <PerfectScrollbar>\r\n                                            <FormTreeMenu\r\n                                                data={this.props.Login.masterData.AgaramTree}\r\n                                                hasSearch={false}\r\n                                                handleTreeClick={this.onTreeClick}\r\n                                                initialOpenNodes={OpenNodes}\r\n                                                focusKey={FocusKey || \"\"}\r\n                                                activeKey={ActiveKey || \"\"}\r\n                                            />\r\n                                            <TransationListMaster\r\n                                                notSearchable={true}\r\n                                                titleHead={this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" })}\r\n                                                titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                masterList={TestGroupSpecification || []}\r\n                                                selectedMaster={[SelectedSpecification]}\r\n                                                needMultiSelect={false}\r\n                                                primaryKeyField=\"nallottedspeccode\"\r\n                                                getMasterDetail={(spec) => this.props.getComponentBySpecId({ ...getComponent, selectedRecord: spec, historyDataState: this.state.historyDataState }, this.props.Login.masterData, this.searchRef)}\r\n                                                mainField=\"sspecname\"\r\n                                                selectedListName=\"testgroupspecification\"\r\n                                                objectName=\"testgroupspecification\"\r\n                                                listName=\"IDS_SPECIFICATION\"\r\n                                                onFilterSumbit={this.onFilterSumbit}\r\n                                                subFields={this.specSubField}\r\n                                                actionIcons={\r\n                                                    [\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                            controlname: \"faPencilAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(editSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => this.props.addSpecification(\"update\", { ...editSpecParam, ...props }, editSpecId)\r\n                                                        },\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                            controlname: \"faTrashAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(deleteSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => confirmMessage.confirm(\r\n                                                                \"deleteMessage\",\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                () => this.deleteSpecRecord({ props, ...specDeleteParam, selectedRecord: SelectedSpecification, ncontrolCode: deleteSpecId })\r\n                                                            )\r\n                                                        }\r\n                                                    ]\r\n                                                }\r\n                                                needFilter={false}\r\n                                                commonActions={\r\n                                                    <>\r\n                                                        {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(addSpecId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            //  data-for=\"tooltip-list-wrap\"\r\n                                                            onClick={() => this.props.addSpecification(\"create\", { ...addSpecParam }, addSpecId, this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faPlus}\r\n                                                            // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            />\r\n                                                        </Button>\r\n                                                    </>\r\n                                                }\r\n                                                hideSearch={false}\r\n                                                hidePaging={true}\r\n                                            />\r\n\r\n                                        { this.props.Login.filterData && this.props.Login.filterData.nproductcatcode.item.nmaterialtypecode == MaterialType.IQCSTANDARDMATERIALTYPE ? \"\" :\r\n                                            //{\r\n                                            SelectedSpecification && SelectedSpecification.ncomponentrequired === transactionStatus.YES &&\r\n                                              \r\n                                                <TransationListMaster\r\n                                                    notSearchable={true}\r\n                                                    titleHead={this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]}\r\n                                                    titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                    masterList={TestGroupSpecSampleType || []}\r\n                                                    selectedMaster={[SelectedComponent]}\r\n                                                    needMultiSelect={false}\r\n                                                    primaryKeyField=\"nspecsampletypecode\"\r\n                                                    getMasterDetail={(event) => this.componentRowClick(event)}\r\n                                                    mainField=\"scomponentname\"\r\n                                                    selectedListName=\"testgroupspecsampletype\"\r\n                                                    objectName=\"testgroupspecsampletype\"\r\n                                                    listName={this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] }\r\n                                                    actionIcons={\r\n                                                        [\r\n                                                            {\r\n                                                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                // data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                controlname: \"faTrashAlt\",\r\n                                                                objectName: \"testgroupspecsampletype\",\r\n                                                                hidden: this.state.userRoleControlRights.indexOf(deleteComponentId) === -1,\r\n                                                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                onClick: (props) => confirmMessage.confirm(\r\n                                                                    \"deleteMessage\",\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                    () => this.deleteMultipleRecord({ props, ncontrolCode: deleteComponentId })\r\n                                                                )\r\n                                                            }\r\n                                                        ]\r\n                                                    }\r\n                                                    commonActions={\r\n                                                        <>\r\n                                                            {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(addComponentId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                //  data-for=\"tooltip-list-wrap\"\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                onClick={() => this.props.addComponent(SelectedSpecification, this.props.Login.userInfo, addComponentId, this.props.Login.masterData,this.props.Login.genericLabel)}>\r\n                                                                <FontAwesomeIcon icon={faPlus}\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \r\n                                                                />\r\n                                                            </Button>\r\n\r\n                                                        </>\r\n                                                    }\r\n                                                    hidePaging={true}\r\n                                                />\r\n                                                //}\r\n                                            }\r\n                                        </PerfectScrollbar>\r\n                                    </div>\r\n                                </div>\r\n                                <>\r\n                                    {this.state.testView ?\r\n                                        <>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </>\r\n                                        :\r\n                                        <PerfectScrollbar>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </PerfectScrollbar>\r\n                                    }\r\n\r\n\r\n                                </>\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n\r\n\r\n\r\n                <ModalShow\r\n                    modalShow={this.props.Login.showAlertGrid \r\n                    }\r\n                    modalTitle={  this.props.Login.showParameterGrid ? \"IDS_VIEWPARAMETER\":\r\n                        this.props.Login.showAlertForPredefined||\r\n                        this.props.Login.additionalInfoView?this.props.intl.formatMessage({ id: \"IDS_ADDITIONALINFOREQURIED\" }) \r\n                     :''}  \r\n                    closeModal={this.closeModalShowPredefAlert}\r\n                    onSaveClick ={this.onModalSavePredefAlert}\r\n                    removeCancel={this.props.Login.showParameterGrid?false:this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?true:false}\r\n                    needSubmit={this.props.Login.showParameterGrid?false:this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?true:false}\r\n                    needSave={this.props.Login.showParameterGrid?true:\r\n                        this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?\"\":true}\r\n                    selectedRecord={this.state.selectedRecord || {}}  \r\n                    size={ this.props.Login.showParameterGrid?\"lg\":\r\n                        this.props.Login.showAlertForPredefined||this.props.Login.additionalInfoView?\"\":'lg'}\r\n                    showAlertMsg={this.props.Login.showAlertForPredefined?true:false}\r\n                    modalBody={ \r\n                              this.props.Login.showParameterGrid?\r\n                               <DataGrid\r\n                                       key=\"testsectionkey\"\r\n                                       primaryKeyField=\"ntestgrouptestparametercode\" \r\n                                       dataResult={this.props.Login.masterData.ParameterRulesEngine && process(\r\n                                               sortData(this.props.Login.masterData.ParameterRulesEngine,\r\n                                                \"descending\", \"ntestgrouptestparametercode\")\r\n                                               || [],\r\n                                               this.state.dataStateChangeViewParameter\r\n                                                   ? this.state.dataStateChangeViewParameter : { skip: 0, take: 10 })} \r\n                                       dataState={this.state.dataStateChangeViewParameter\r\n                                           ? this.state.dataStateChangeViewParameter : { skip: 0, take: 10 }} \r\n                                       dataStateChange={this.dataStateChangeViewParameter} \r\n                                       extractedColumnList={[\r\n                                           { \"idsName\": \"IDS_PARAMETERNAME\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\" } ,\r\n                                            { \"idsName\": \"IDS_RESULT\", \"dataField\": \"sfinal\", \"width\": \"200px\" } ,\r\n                                           // { \"idsName\": \"IDS_RESULTFLAG\", \"dataField\": \"sgradename\", \"width\": \"200px\" } \r\n                                       ]}\r\n                                       controlMap={this.state.controlMap}\r\n                                       userRoleControlRights={this.state.userRoleControlRights}\r\n                                       pageable={true} \r\n                                       scrollable={'scrollable'}\r\n                                       hideColumnFilter={true}\r\n                                       selectedId={0}  \r\n                                       activeTabName={\"IDS_Test\"}\r\n                                       gridHeight = {'400px'}\r\n                                   >\r\n                                   </DataGrid>  :\r\n                        this.props.Login.additionalInfoView?\r\n                        this.state.selectedRecord['additionalResultData'] :\r\n                         this.props.Login.showAlertForPredefined? \r\n                       <ResultEntryPredefinedComments \r\n                       onlyAlertMsgAvailable={this.props.Login.onlyAlertMsgAvailable}\r\n                       salertmessage={this.props.Login.masterData['salertmessage']}\r\n                       showMultiSelectCombo={this.props.Login.showMultiSelectCombo}\r\n                       testgrouptestpredefsubresultOptions={this.props.Login.masterData.testgrouptestpredefsubresultOptions||[]}\r\n                       selectedRecord={this.state.selectedRecord || {}} \r\n                       onInputChange = {this.onInputChange}\r\n                       onComboChange={this.onComboChange} \r\n                       />  :''\r\n                    }\r\n                />\r\n\r\n\r\n                {\r\n                    this.props.Login.openModal && this.props.Login.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        className={this.props.Login.screenName === \"IDS_VIEWRULE\"  ? \"wide-popup\" : \"\"}\r\n                        operation={this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ? \"\" : this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={ this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ?this.props.intl.formatMessage({id: this.props.Login.screenName})\r\n                        +\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym:this.props.Login.screenName}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        hideSave={this.props.Login.screenName === \"IDS_VIEWRULE\"||this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ||this.props.Login.screenName === \"IDS_SUBCODERESULT\"  ? true : false}\r\n                        size={this.props.Login.screenName === \"IDS_VIEWRULE\" ||this.props.Login.screenName === \"IDS_VIEWOUTCOME\"  ? 'xl' : \"lg\"}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={\r\n                            this.props.Login.screenName === \"IDS_SPECFILE\" ? this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord)\r\n                                : this.props.Login.screenName === \"IDS_SPECIFICATION\" ? specMandatoryFields\r\n                                    : this.props.Login.screenName ===this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] ? compMandatoryFields\r\n                                        : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ? editTestMandatoryFields\r\n                                            : this.props.Login.screenName === \"IDS_TEST\" ? addTestMandatoryFields\r\n                                                : this.props.Login.screenName === \"IDS_PROFILETREE\" || this.props.Login.screenName === \"IDS_EDITTREE\"\r\n                                                    ? this.props.Login.treeMandatoryFields : []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.Login.screenName === \"IDS_SPECIFICATION\" ?\r\n                                <AddTestGroupSpecification\r\n                                   genericLabel={this.props.Login.genericLabel}\r\n                                     userInfo={this.props.Login.userInfo}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    screenName={this.props.Login.screenName}\r\n                                    operation={this.props.Login.operation}\r\n                                    nsampletypecode={this.props.Login.masterData.selectedNode.nsampletypecode}\r\n                                    settings={this.props.Login.settings}\r\n                                    tempFilterData = {this.state.tempFilterData}\r\n                                    filterData ={this.props.Login.filterData}\r\n                                /> :\r\n                                this.props.Login.screenName ===this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] ?\r\n                                    <AddTestGroupTest\r\n                                         genericLabel={this.props.Login.genericLabel}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n\r\n\r\n                                    this.props.Login.screenName === \"IDS_SUBCODERESULT\" ?\r\n                                    <ViewSubCodedResult\r\n                                        selectedRecord={this.state.selectedsubcoderesult || {}}\r\n                                        selectedsubcoderesult={this.props.Login.selectedsubcoderesult||[]}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n\r\n                                    this.props.Login.screenName === \"IDS_PROFILETREE\" ?\r\n                                        <AddProfileTree\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            treetempTranstestGroup={this.props.Login.TreetempTranstestGroup}\r\n                                        /> :\r\n                                        this.props.Login.screenName === \"IDS_SPECFILE\" ?\r\n                                            <AddFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                actionType={this.state.actionType}\r\n                                                onDrop={this.onDropSpecFile}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                linkMaster={this.props.Login.linkMaster}\r\n                                                editFiles={this.props.Login.editFiles}\r\n                                                maxSize={20}\r\n                                                maxFiles={this.props.Login.operation === \"update\" ? 1 : 1}\r\n                                                multiple={this.props.Login.operation === \"update\" ? false : true}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SPECFILE\" })}\r\n                                                hideDefaultToggle={true}\r\n                                                name=\"specfilename\"\r\n                                            /> :\r\n                                            this.props.Login.screenName === \"IDS_EDITTREE\" ?\r\n                                                <Row>\r\n                                                    <Col md={12}>\r\n                                                        <FormInput\r\n                                                            name={\"sleveldescription\"}\r\n                                                            label={this.state.selectedRecord.slabelname}\r\n                                                            type=\"text\"\r\n                                                            onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                            placeholder={this.state.selectedRecord.slabelname}\r\n                                                            value={this.state.selectedRecord ? this.state.selectedRecord[\"sleveldescription\"] : \"\"}\r\n                                                            isMandatory=\"*\"\r\n                                                            required={true}\r\n                                                            maxLength={100}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Row> :\r\n                                                this.props.Login.screenName === \"IDS_TEST\" ?\r\n                                                    <AddTestGroupTest\r\n                                                    genericLabel={this.props.Login.genericLabel}\r\n                                                    userInfo={this.props.Login.userInfo}\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                        screenName={this.props.Login.screenName}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onFilterComboChange={this.onFilterComboChange}\r\n                                                    /> : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ?\r\n                                                        <EditTestGroupTest\r\n                                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                            onComboChange={this.onComboChange}\r\n                                                            onInputOnChange={this.onInputOnChange}\r\n                                                            onNumericInputChange={this.onNumericInputChange}\r\n                                                        /> : this.props.Login.screenName === \"IDS_VIEWRULE\" ?\r\n                                                            <Row>\r\n                                                                <Col md={12}>\r\n                                                                    <OrgTree\r\n                                                                        data={this.ruleflowobject()}\r\n                                                                        horizontal={true}\r\n                                                                        collapsable={true}\r\n                                                                        expandAll={true}\r\n                                                                        labelClassName={\"ruletree\"}\r\n                                                                    /> \r\n                                                                </Col>\r\n                                                            </Row>\r\n                                                               \r\n                                                            :  this.props.Login.screenName === \"IDS_VIEWOUTCOME\" ?\r\n                                                            <Row>\r\n                                                                <Col md={12}> \r\n                                                                    {this.props.Login.masterData.SelectedRulesEngine &&\r\n                                                                <CustomTab tabDetail={this.tabDetailRulesEngine()} onTabChange={this.onTabChangeRulesEngine} /> }\r\n                                                                </Col>\r\n                                                            </Row> \r\n                                                            :\"\"\r\n                        }\r\n                    />\r\n                }\r\n                {\r\n                    this.props.Login.openPortalModal &&\r\n                    <PortalModalSlideout\r\n                        show={this.props.Login.openPortalModal}\r\n                        closeModal={this.closePortalModal}\r\n                        screenName={this.props.intl.formatMessage({ id:this.props.Login.screenName})+\" - \"+this.props.Login.masterData.SelectedTest.stestsynonym}\r\n                        handleSaveClick={this.save}\r\n                        addComponent={\r\n                            (this.props.Login.operation === 'update' ? this.state.selectedRecord['groupList'] : true) &&\r\n                            <AddTestGroupRule\r\n                                productCategoryList={this.state.ProductCategoryList || []}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                databaseTableList={this.props.Login.databaseTableList}\r\n                                tableColumnList={this.state.tableColumnList}\r\n                                specificationOptions={this.state.TestGroupSpecificationList || []}\r\n                                componentOptions={this.state.ComponentList || []}\r\n                                foreignTableList={this.state.foreignTableList || []}\r\n                                foreignTableColumnList={this.props.Login.foreignTableColumnList || []}\r\n                                count={this.state.count}\r\n                                foreignTableCount={this.state.foreignTableCount}\r\n                                sqlQuery={this.state.sqlQuery}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                onInputChange={this.onInputChange}\r\n                                deleteRule={this.deleteRule}\r\n                                clearRule={this.clearRule}\r\n                                resetRule={this.resetRule}\r\n                                onSymbolChange={this.onSymbolChange}\r\n                                onRuleChange={this.onRuleChange}\r\n                                addRule={this.addRule}\r\n                                addTest={this.addTest}\r\n                                onConditionClick={this.onConditionClick}\r\n                                onMasterDataChange={this.onMasterDataChange}\r\n                                databaseviewList={this.props.Login.databaseviewList}\r\n                                addRuleList={this.props.Login.addRuleList || []}\r\n                                rulesOption={this.props.Login.masterData.rulesOption&&this.props.Login.masterData.rulesOption.filter(this.outComeTestsRemoveFromRules)}\r\n                                masterdata={this.props.Login.masterdata}\r\n                                switchRecord={this.state.switchRecord}\r\n                                data={this.state.data}\r\n                                dataResult={this.state.dataResult || []}\r\n                                dataState={this.state.dataState}\r\n                                dataStateChange={this.dataStateChange}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                gridColumnList={this.props.Login.gridColumnList || []}\r\n                                queryType={this.state.queryType}\r\n                                addAggregateList={this.props.Login.addAggregateList || []}\r\n                                addOrderbyList={this.props.Login.addOrderbyList || []}\r\n                                addGroup={this.addGroup}\r\n                                addGroupList={this.props.Login.addGroupList || []}\r\n                                onFilterComboChange={this.onFilterComboChange}\r\n                                selectFields={this.props.Login.selectFields || []}\r\n                                SelectedProductCategory={this.props.Login.masterData.SelectedProductCategory}\r\n                                DiagnosticCaseList={this.props.Login.masterData.DiagnosticCaseList}\r\n                                GradeList={this.props.Login.masterData.GradeList}\r\n                                PredefinedParameterOptions={this.props.Login.masterData.PredefinedParameterOptions} \r\n                                siteList={this.props.Login.masterData.siteList}\r\n                                resultTypeList={this.props.Login.masterData.resultTypeList}\r\n                                isResultorOrderType={this.state.isResultorOrderType}\r\n                                optionsByRule={this.state.optionsByRule || this.props.Login.masterData.DiagnosticCaseList}\r\n                                changePropertyView={this.changePropertyView}\r\n                                splitChangeWidthPercentage={this.state.splitChangeWidthPercentage}\r\n                                activeTabIndex={this.props.Login.activeTabIndex}\r\n                                enablePropertyPopup={this.state.enablePropertyPopup}\r\n                                propertyPopupWidth={this.state.propertyPopupWidth}\r\n                                controlMap={this.state.controlMap}\r\n                                sectionDataState={this.state.sectionDataState}\r\n                                masterData={this.props.Login.masterData}\r\n                                intl={this.props.intl}\r\n                                addOutcomeList={this.props.Login.addOutcomeList && this.props.Login.addOutcomeList || []}\r\n                                deleteOutcome={this.deleteOutcome}\r\n                                onmodalComboChange={this.onmodalComboChange}\r\n                                openModalPopup={this.props.Login.openModalPopup}\r\n                                closeModalShow={this.closeModalShow}\r\n                                modalsaveClick={this.modalsaveClick}\r\n                                getOutcomeDetails={this.getOutcomeDetails}\r\n                                addModalSite={this.addModalSite}\r\n                                action={this.props.Login.action}\r\n                                deletModalSite={this.deletModalSite}\r\n                                deleteModalTest={this.deleteModalTest}\r\n                                activeTestTab={this.props.Login.activeTestTab}\r\n                                testcomments={this.props.Login.testcomments}\r\n                                reportcomments={this.props.Login.reportcomments}\r\n                                addComments={this.addComments}\r\n                                CommentType={this.props.Login.CommentType}\r\n                                CommentSubType={this.props.Login.CommentSubType}\r\n                                isneedsgeneralcomments={this.state.isneedsgeneralcomments}\r\n                                predefcomments={this.props.Login.predefcomments}\r\n                                needoutsource={this.state.selectedRecord['needoutsource'] && this.state.selectedRecord['needoutsource'] === 3 ? true : false}\r\n                                openmodalsavePopup={this.props.Login.openmodalsavePopup}\r\n                                save={this.save}\r\n                                dataStateObject={this.state.dataStateObject}\r\n                                paneSizeChange={this.paneSizeChange}\r\n                                testInitiateTestCombo={this.props.Login.testInitiateTestCombo && this.viewColumnListByRule(this.props.Login.testInitiateTestCombo)}\r\n                                testCommentsTestCombo={this.props.Login.testCommentsTestCombo && this.viewColumnListByRule(this.props.Login.testCommentsTestCombo)}\r\n                                testRepeatTestCombo={this.props.Login.testRepeatTestCombo && this.viewColumnListByRule(this.props.Login.testRepeatTestCombo)}\r\n                                testenforceTestCombo={this.props.Login.testenforceTestCombo &&this.props.Login.testenforceTestCombo}\r\n                                dataStateChangetestRepeat={this.dataStateChangetestRepeat}\r\n                                dataStateChangetestEnforce={this.dataStateChangetestEnforce}\r\n                                dataStatetestEnforce={this.state.dataStatetestEnforce}\r\n                                dataStatetestRepeat={this.state.dataStatetestRepeat}\r\n                                testGroupTestParameterRulesEngine={this.props.Login.masterData.testGroupTestParameterRulesEngine||[]}\r\n                                ParameterRulesEngine={this.props.Login.masterData.ParameterRulesEngine||[]}\r\n                                onRuleInputChange={this.onRuleInputChange}\r\n                                onRuleNumericInputOnChange={this.onRuleNumericInputOnChange} \r\n                                onResultInputChange={this.onResultInputChange}\r\n                                PredefinedValues={this.props.Login.masterData.PredefinedValues||{}}\r\n                                onGradeEvent={this.onGradeEvent}\r\n                                deletetestparameter={this.deletetestparameter}\r\n                                gradeValues={this.props.Login.masterData.GradeValues || []}\r\n                                modalParameterPopup={this.props.Login.modalParameterPopup||false}\r\n                                addParameter={this.addParameter} \r\n                                onInputSwitchOnChange={this.onInputSwitchOnChange}\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(obj));\r\n    }\r\n\r\n    handlePageChange = (event) => {\r\n        this.setState({\r\n            testskip: event.skip,\r\n            testtake: event.take\r\n        });\r\n    }\r\n\r\n    findMandatoryFields(screenName, selectedRecord) {\r\n        let mandyFields = [];\r\n        if (screenName === \"IDS_SPECFILE\") {\r\n            if (selectedRecord && selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                //if (this.props.Login.operation === 'update') {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                ];\r\n                // }\r\n            }\r\n        } else {\r\n            return [];\r\n        }\r\n        let finalMandyFields = [];\r\n        mandyFields.forEach(item => item.mandatory === true && finalMandyFields.push(item));\r\n        return finalMandyFields;\r\n    }\r\n\r\n    viewTestFile = (props) => {\r\n        const viewParam = {\r\n            operation: \"view\",\r\n            methodUrl: \"TestGroupTestFile\",\r\n            classUrl: \"testgroup\",\r\n            inputData: {\r\n                ntestgroupfilecode: props.selectedTest ? props.selectedTest.ntestgroupfilecode : 0,\r\n                userinfo: this.props.Login.userInfo,\r\n                testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                ntestgrouptestcode: props.selectedTest ? props.selectedTest.ntestgrouptestcode : 0\r\n            }\r\n        }\r\n        this.props.viewAttachment(viewParam)\r\n    }\r\n\r\n    fileViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode === transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    linkViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode !== transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showSpecAndTestInfo() {\r\n        this.setState({ showTest: !this.state.showTest, testView: false })\r\n        this.updateSpiltterLayout()\r\n\r\n    }\r\n    showSpecAndTestInfo1() {\r\n        this.setState({ showTest: !this.state.showTest, testView: true })\r\n        //this.updateSpiltterLayout()\r\n\r\n    }\r\n\r\n    onFilterSumbit = () => {\r\n        const tempFilterData = this.state.tempFilterData;\r\n        if (tempFilterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        } else if (tempFilterData.nproductcatcode === \"\") {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\r\n        else if ((tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === \"\" && \r\n        tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO) ||\r\n            (tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === undefined  && \r\n                tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO) ) {\r\n            \r\n                if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY && tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.NO ) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // }\r\n        else if (tempFilterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        } else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: tempFilterData.nsampletypecode.value,\r\n                    nproductcatcode: tempFilterData.nproductcatcode.value,\r\n                    nproductcode: tempFilterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.YES ? -1 : \r\n                    \r\n                    tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? -1 : tempFilterData.nproductcode ? tempFilterData.nproductcode.value : -1,\r\n                    ntreeversiontempcode: tempFilterData.ntreeversiontempcode.value,\r\n                    nprojectmastercode: tempFilterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE ?  tempFilterData.nsampletypecode.item.nprojectspecrequired=== transactionStatus.YES ? tempFilterData.nprojectmastercode.value :-1 : -1,\r\n                    filterData: { ...tempFilterData },\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    onTreeClick = (event) => {\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupSpecification\",\r\n            screenName: \"IDS_SPECIFICATION\",\r\n            operation: \"get\",\r\n            keyName: \"treetemplatemanipulation\",\r\n            userinfo: this.props.Login.userInfo,\r\n            selectedRecord: event.item,\r\n            activeKey: event.key,\r\n            focusKey: event.key,\r\n            primaryKey: event.primaryKey,\r\n            historyDataState: this.state.historyDataState\r\n        };\r\n        this.props.getSpecification(inputParam, this.props.Login.masterData, this.searchRef);\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILE\",\r\n            <TestGroupSpecFile\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                testGroupSpecFile={this.props.Login.masterData.TestGroupSpecFile || []}\r\n                selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                addTestFile={this.addFile}\r\n                editSpecFile={this.props.editSpecFile}\r\n                filterData={this.state.filterData}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"IDS_FILE\"\r\n                viewAttachment={this.props.viewAttachment}\r\n                settings={this.props.Login.settings}\r\n                masterData={this.props.Login.masterData}\r\n            />);\r\n        tabMap.set(\"IDS_SPECIFICATIONHISTORY\",\r\n            <SpecificationHistory\r\n                data={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                dataResult={process(this.props.Login.masterData.TestGroupSpecificationHistory || [], this.state.historyDataState)}\r\n                dataState={this.state.historyDataState}\r\n                dataStateChange={this.historyDataStateChange}\r\n\r\n                // testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                // dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                screenName=\"IDS_SPECIFICATIONHISTORY\"\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n    historyDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupSpecificationHistory || [], event.dataState),\r\n            historyDataState: event.dataState\r\n        });\r\n    }\r\n    specDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupTestClinicalSpec || [], event.dataState),\r\n            clinicalspecDataState: event.dataState\r\n        });\r\n    }\r\n    addFile = (userInfo, operation, ncontrolCode, screenName, modalName, nflag) => {\r\n        // const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n        // if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n        //     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n        //     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\r\n        // } else {\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        // }\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    componentRowClick = (event) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[\"SelectedComponent\"] = event.testgroupspecsampletype[0];\r\n        const inputParam = {\r\n            testgroupspecsampletype: event.testgroupspecsampletype[0],\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.getTestGroupComponentDetails(inputParam, masterData, this.searchRef);\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const testgrouptest = deleteParam.props.testgrouptest;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgrouptest,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        testgroupspecification,\r\n                        ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"Test\",\r\n                    screenName: \"IDS_TEST\",\r\n                    postParam: {\r\n                        inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                        primaryKeyValue: testgrouptest.ntestgrouptestcode,\r\n                        fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                        masterData, searchFieldList, unchangeList: [\"TestGroupSpecification\", \"SelectedSpecification\",\r\n                            \"SampleType\", \"TreeVersionTemplate\", \"ProductCategory\", \"SelectedTest\", \"Product\",\r\n                            \"AgaramTree\", \"OpenNodes\", \"selectedNode\", \"FocusKey\", \"ActiveKey\", \"SelectedComponent\", \"TestGroupSpecSampleType\"]//, isSingleSelect: true\r\n                    }\r\n                }\r\n\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: \"IDS_TEST\", operation: \"delete\", selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Default\"\r\n                || this.props.Login.operation === 'approve' || this.props.Login.operation === 'complete') {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                    // selectedRecord[\"sfilename\"] = \"\";\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: value.schildnode !== null ? value.schildnode : -1,\r\n                    ntemplatemanipulationcode: value.ntemplatemanipulationcode,\r\n                    isreadonly: value.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: value.slevelformat\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    //Rules Engine Functions Start\r\n    ruleflowobject() {\r\n        let object = {}\r\n        const labelColor = ['#e63109', '#2fb47d', '#eaa203', '#6554c0'];\r\n        const labelBGColor = ['#fcd7cd', '#e5f8f1', '#fcf3dd', '#e7e6f5'];\r\n        const borderColor = ['#e6310', '#c6f6e4', '#fde2a4', '#cbc5f7'];\r\n        let groupList = this.props.Login.masterData.SelectedRulesEngine['jsondata']\r\n        let groupListJoins = this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] &&\r\n            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['groupListJoins']\r\n        let children = []\r\n        let parent = []\r\n        let grandparent = []\r\n        groupList.map((groupobject, index) => {\r\n            if (groupobject.hasOwnProperty('button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" + ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                 parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children }) \r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{\r\n\r\n                                (rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                                + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children })\r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_and')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_and']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label) //+ \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>, children: children }]\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n                }\r\n            }\r\n            if (groupobject.hasOwnProperty('button_not_button_or')) {\r\n                children = []\r\n                let rulesList = groupobject['button_not_button_or']\r\n                rulesList.map((rule, index) => {\r\n                    children.push(\r\n                        {\r\n                            id: index, label: <>{(rule['stestname'].label)// + \" -> \" + (this.props.intl.formatMessage({ id: \"IDS_WITH\" })) \r\n                            + \" -> \" +\r\n                                (rule['orderresulttype'].label) + \" -> \" +\r\n                                (rule['ssymbolname'].label) + \" -> \" +  ( rule['ndiagnosticcasecode']&& rule['ndiagnosticcasecode'].label ||\r\n                                rule['ngradecode']&&rule['ngradecode'].label||  rule['ntestgrouptestnumericcode']&&rule['ntestgrouptestnumericcode']||\r\n                                rule['ntestgrouptestcharcode']&&rule['ntestgrouptestcharcode']|| rule['ntestgrouptestpredefcode']&&rule['ntestgrouptestpredefcode'].label)\r\n\r\n                            }</>\r\n                        }\r\n                    )\r\n                })\r\n                let notarray = [{ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_OR\" })}</div>, children: children }]\r\n                if(groupList.length===1?rulesList.length>1:true){\r\n                parent.push({ id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_NOT\" })}</div>, children: notarray })\r\n                }\r\n            }\r\n        })\r\n\r\n        if (groupListJoins !== undefined) {\r\n            groupListJoins.map((join, index) => {\r\n                let parentjoins = []\r\n                if (join.hasOwnProperty('button_or') && join['button_or'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_OR\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n                if (join.hasOwnProperty('button_and') && join['button_and'] === true) {\r\n                    let notarray = []\r\n                    parentjoins.push(parent[index])\r\n                    parentjoins.push(parent[index + 1])\r\n                    if (join.hasOwnProperty('button_not') && join['button_not'] === true) {\r\n                        notarray = [{\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_AND\" })} </div>// 'button_or'\r\n                            , children: parentjoins\r\n                        }]\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >\r\n                                {this.props.intl.formatMessage({ id: \"IDS_NOT\" })} </div>// 'button_or'\r\n                            , children: notarray\r\n                        })\r\n                    }\r\n                    else {\r\n                        grandparent.push({\r\n                            id: index, label: <div className=\"btn btn-primary\" >{this.props.intl.formatMessage({ id: \"IDS_AND\" })}</div>// 'button_and'\r\n                            , children: parentjoins\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        object = grandparent.length > 0 ?\r\n            {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: grandparent\r\n            }\r\n            : {\r\n                id: 0,\r\n                label: <div className=\"btn btn-primary\" >{this.props.Login.masterData.SelectedRulesEngine.srulename} </div>,\r\n                children: parent.length!==0?parent:children\r\n            }\r\n        return object\r\n    }\r\n    onTabChangeRulesEngine = (tabProps) => {\r\n        let masterData = this.props.Login.masterData && this.props.Login.masterData\r\n        masterData['activeTabName'] = tabProps.activeTabName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { masterData }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    tabDetailRulesEngine = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let jsonuidata = this.props.Login.masterData.SelectedRulesEngine && this.props.Login.masterData.SelectedRulesEngine['jsonuidata'] \r\n        const tabMap = new Map();\r\n        {\r\n            tabMap.set(\"IDS_Test\",\r\n                <DataGrid\r\n                    key=\"testsectionkey\"\r\n                    primaryKeyField=\"nresultusedmaterialcode\"\r\n                    expandField=\"expanded\"\r\n                    handleExpandChange={this.handleExpandChange} \r\n                    dataResult={this.props.Login.masterData.SelectedRulesEngine &&\r\n                        this.props.Login.masterData.SelectedRulesEngine && process(\r\n                            sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testInitiateTests'], \"descending\", \"npkAtestparametercode\")\r\n                            || [],\r\n                            this.state.dataStatetestinitiate\r\n                                ? this.state.dataStatetestinitiate : { skip: 0, take: 10 })} \r\n                    dataState={this.state.dataStatetestinitiate\r\n                        ? this.state.dataStatetestinitiate : { skip: 0, take: 10 }} \r\n                    dataStateChange={this.dataStateChangetestinitiateTab}\r\n\r\n                    extractedColumnList={[\r\n                        { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" } \r\n                    ]}\r\n                    controlMap={this.state.controlMap}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    pageable={true} \r\n                    scrollable={'scrollable'}\r\n                    hideColumnFilter={false}\r\n                    selectedId={0} \r\n                    deleteParam={{ operation: \"delete\" }} \r\n                    hasChild={true}\r\n                    childMappingField={'npkAtestparametercode'}\r\n                    childColumnList={[\r\n                        { \"idsName\": \"IDS_TOSITE\", \"dataField\": \"stositename\", \"width\": \"200px\" },\r\n                        { \"idsName\": \"IDS_FROMSITE\", \"dataField\": \"sfromsitename\", \"width\": \"200px\" }\r\n                        \r\n                    ]}\r\n                    childList={this.state.childListMap}\r\n                    activeTabName={\"IDS_Test\"}\r\n                    gridHeight = {'400px'}\r\n                    isActionRequired={true}\r\n                    actionIcons={[{\r\n                        title: this.props.intl.formatMessage({ id: \"IDS_VIEWPARAMETER\" }),\r\n                        controlname: \"faEye\",\r\n                        hidden: false,\r\n                        objectName: \"view\",\r\n                        onClick: this.viewParameter\r\n\r\n                    }]}\r\n                >\r\n                </DataGrid>); \r\n            tabMap.set(\"IDS_COMMENTS\",\r\n            <DataGrid\r\n                key=\"testsectionkey\"\r\n                primaryKeyField=\"nresultusedmaterialcode\" \r\n                handleExpandChange={this.handleExpandChange} \r\n                dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n                    sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentsTestsTab'], \"descending\", \"nslno\")\r\n                    || [],\r\n                    this.state.dataState\r\n                        ? this.state.dataState : { skip: 0, take: 10 })} \r\n                dataState={this.state.dataState\r\n                    ? this.state.dataState : { skip: 0, take: 10 }} \r\n                dataStateChange={this.dataStateChange} \r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                pageable={true} \r\n                scrollable={'scrollable'}\r\n                hideColumnFilter={false}\r\n                selectedId={0} \r\n                deleteParam={{ operation: \"delete\" }} \r\n                childMappingField={'npkBtestparametercode'} \r\n                extractedColumnList={[\r\n                    { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"200px\" },\r\n                    { \"idsName\": \"IDS_RESULTS\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" },\r\n                    { \"idsName\": \"IDS_COMMENTSUBTYPE\", \"dataField\": \"scommentsubtype\", \"width\": \"200px\" }, \r\n                    { \"idsName\": \"IDS_COMMENTTYPE\", \"dataField\": \"scommenttype\", \"width\": \"200px\" } ,\r\n                    { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" }   \r\n                ]}\r\n                childList={this.state.childListMap2 && this.state.childListMap2}\r\n                activeTabName={\"IDS_COMMENTS\"}\r\n                gridHeight = {'400px'}\r\n                >\r\n            </DataGrid>\r\n        ); \r\n        tabMap.set(\"IDS_REPEAT\",\r\n        <DataGrid\r\n            key=\"testsectionkey\"\r\n            primaryKeyField=\"nresultusedmaterialcode\"  \r\n            dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n                sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testRepeatTestsTab'], \"descending\", \"npkCtestparametercode\")\r\n                || [],\r\n                this.state.dataStaterepeatTab\r\n                    ? this.state.dataStaterepeatTab : { skip: 0, take: 10 })} \r\n            dataState={this.state.dataStaterepeatTab\r\n                ? this.state.dataStaterepeatTab : { skip: 0, take: 10 }} \r\n            dataStateChange={this.dataStateChangeRepeatTab} \r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n            pageable={true} \r\n            scrollable={'scrollable'}\r\n            hideColumnFilter={false}\r\n            selectedId={0} \r\n            deleteParam={{ operation: \"delete\" }}  \r\n            extractedColumnList={[ \r\n                { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_REPEATCOUNT\", \"dataField\": \"nrepeatcountno\", \"width\": \"200px\" }  \r\n\r\n            ]} \r\n            activeTabName={\"IDS_COMMENTS\"}\r\n            gridHeight = {'400px'}\r\n            >\r\n        </DataGrid>\r\n    ); \r\n    tabMap.set(\"IDS_ENFORCERESULT\",\r\n    <DataGrid\r\n        key=\"testsectionkey\"\r\n        primaryKeyField=\"nresultusedmaterialcode\"  \r\n        dataResult={this.props.Login.masterData.SelectedRulesEngine && process(\r\n            sortData(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testenforceTestsTab'], \"descending\", \"npkDtestparametercode\")\r\n            || [],\r\n            this.state.dataStateChangenforceTab\r\n                ? this.state.dataStateChangenforceTab : { skip: 0, take: 10 })} \r\n        dataState={this.state.dataStateChangenforceTab\r\n            ? this.state.dataStateChangenforceTab : { skip: 0, take: 10 }} \r\n        dataStateChange={this.dataStateChangenforceTab} \r\n        controlMap={this.state.controlMap}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        pageable={true} \r\n        scrollable={'scrollable'}\r\n        hideColumnFilter={false}\r\n        selectedId={0} \r\n        deleteParam={{ operation: \"delete\" }}  \r\n        extractedColumnList={[ \r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" }, \r\n            { \"idsName\": \"IDS_PARAMETERS\", \"dataField\": \"sparametersynonym\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_RESULTFLAG\", \"dataField\": \"sgradename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_RESULTS\", \"dataField\": \"senforceresult\", \"width\": \"200px\" }\r\n        ]} \r\n        activeTabName={\"IDS_COMMENTS\"}\r\n        gridHeight = {'400px'}\r\n        >\r\n    </DataGrid>\r\n); \r\n        }\r\n        return tabMap;\r\n    }\r\n    dataStateChange = (event, ntestgrouptestparametercode) => {\r\n        let dataStateObject = this.state.dataStateObject || {}\r\n        if (ntestgrouptestparametercode) {\r\n            dataStateObject = {\r\n                ...dataStateObject,\r\n                [ntestgrouptestparametercode]: event.dataState\r\n            }\r\n            this.setState({\r\n                dataStateObject\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                dataState: event.dataState\r\n            });\r\n        }\r\n\r\n    }\r\n    dataStateChangetestRepeat = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestRepeat: event.dataState\r\n        });\r\n    }\r\n    dataStateChangetestEnforce = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestEnforce: event.dataState\r\n        });\r\n    }\r\n    dataStateChangetestinitiateTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStatetestinitiate: event.dataState\r\n        });\r\n    }\r\n    dataStateChangeViewParameter = (event) => {\r\n        this.setState({ \r\n            dataStateChangeViewParameter: event.dataState\r\n        });\r\n    }\r\n    dataStateChangeRepeatTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStaterepeatTab: event.dataState\r\n        });\r\n    } \r\n    dataStateChangenforceTab = (event) => {\r\n        this.setState({\r\n            //  dataResult: process(this.props.Login.queryData, event.dataState),\r\n            dataStateChangenforceTab: event.dataState\r\n        });\r\n    } \r\n    dataStateChangeMain = (event) => {\r\n        this.setState({\r\n            dataResultMain: process(this.props.Login.queryDataMain, event.dataStateMain),\r\n            dataStateMain: event.dataStateMain\r\n        });\r\n    }\r\n    ConfirmDeleteRule = (deleteId) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){ \r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.handleClickDelete(this.props.Login.masterData, deleteId, \"openModal\"));\r\n        }\r\n        else{\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETODELETE\" })); \r\n        }\r\n    }\r\n    handleClickDelete(masterData, ncontrolcode//, modalName\r\n    ) {\r\n      \r\n        const fieldArray = [];\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupRulesEngine\",\r\n            classUrl: \"testgrouprulesengine\",\r\n            inputData: {\r\n                \"ntestgrouptestcode\": this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\r\n                \"ntestgrouprulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\r\n                \"userinfo\": this.props.Login.userInfo,\r\n            },\r\n            operation: \"delete\", //postParam,\r\n            displayName: \"RulesEngine\",\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                    operation: 'delete', screenName: \"IDS_RULESENGINE\", id: \"RulesEngine\"\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, undefined\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n\r\n    approveVersion(masterData, nflag, ncontrolcode//, modalName\r\n    ) {\r\n        if (masterData['RulesEngine']&&masterData['RulesEngine'].length > 0) {\r\n            const fieldArray = [];\r\n            const inputParam = {\r\n                methodUrl: \"TestGroupRulesEngine\",\r\n                classUrl: \"testgrouprulesengine\",\r\n                inputData: {\r\n                    \"ntestgrouptestcode\": this.props.Login.masterData.SelectedTest.ntestgrouptestcode,\r\n                    \"ntestgrouprulesenginecode\": this.props.Login.masterData.SelectedRulesEngine.ntestgrouprulesenginecode,\r\n                    \"userinfo\": this.props.Login.userInfo, nflag: nflag\r\n                },\r\n                operation: \"approve\", //postParam,\r\n                displayName: \"RulesEngine\",\r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },// [modalName]: true,\r\n                        operation: 'delete', screenName: \"IDS_RULESENGINE\", id: \"RulesEngine\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, undefined\r\n                );\r\n            }\r\n        }\r\n        else {\r\n            if(nflag==1)\r\n            { \r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOAPPROVE\" }));  \r\n            }\r\n            else\r\n            { \r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETORETIRE\" }));  \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    closeModalShow = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let modalParameterPopup = this.props.Login.modalParameterPopup\r\n        let selectedRecord = this.props.Login.selectedRecord || {};\r\n        selectedRecord['srulename'] = \"\"\r\n        if( selectedRecord['ParameterRulesEngine']){\r\n            selectedRecord['ParameterRulesEngine']=[]\r\n        }\r\n        openModalPopup = false;\r\n        modalParameterPopup = false;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModalPopup, selectedRecord,modalParameterPopup }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onModalSavePredefAlert =()=>{\r\n        const selectedRecord = this.state.selectedRecord || [];\r\n        let currentAlertResultCode=this.state.currentAlertResultCode||0; \r\n        let currentntestgrouptestpredefcode=this.state.currentntestgrouptestpredefcode||0; \r\n        let bool=this.state.selectedRecord.ParameterRulesEngine.some(x=>x['ntestgrouptestparametercode']===currentAlertResultCode) \r\n        if(bool){\r\n          this.state.selectedRecord.ParameterRulesEngine.map(Parameter=>\r\n              {\r\n                  if(Parameter['ntestgrouptestparametercode']===currentAlertResultCode){ \r\n                      Parameter['additionalInfoUidata']={ntestgrouptestpredefsubcode: selectedRecord['ntestgrouptestpredefsubcode']}\r\n                      if(selectedRecord['ntestgrouptestpredefsubcode']){\r\n                          if(typeof selectedRecord['ntestgrouptestpredefsubcode']==='string'){\r\n                              Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode']\r\n                          }else{\r\n                              Parameter['additionalInfo']=\"\" \r\n                              Parameter['additionalInfo']=selectedRecord['ntestgrouptestpredefsubcode'].map(x=>x.label+\",\").join('\\n')\r\n                                Parameter['additionalInfo']=Parameter['additionalInfo'].substring(0,\r\n                                   Parameter['additionalInfo'].length-1) \r\n                          } \r\n                      } else{\r\n                          Parameter['additionalInfo']=\"\"\r\n                          Parameter['additionalInfoUidata'] && delete Parameter['additionalInfoUidata']\r\n                      }\r\n                      Parameter['ntestgrouptestpredefcode']=currentntestgrouptestpredefcode\r\n                  }\r\n              }\r\n              );  \r\n        } \r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { selectedRecord: selectedRecord,showAlertGrid:false}\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n      }\r\n  \r\n\r\n    closeModalShowPredefAlert = () => {\r\n        let showAlertGrid = this.props.Login.showAlertGrid;\r\n        let  selectedRecord=this.props.Login.selectedRecord; \r\n        let masterData = this.props.Login.masterData && this.props.Login.masterData\r\n        // masterData['RESelectedTest'].forEach(object => {\r\n        //     object['expanded']&&delete object['expanded'];\r\n        //   });\r\n          selectedRecord['ntestgrouptestpredefsubcode'] &&delete selectedRecord['ntestgrouptestpredefsubcode'] \r\n        showAlertGrid = false; \r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showAlertGrid   ,masterData,selectedRecord}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onsavevalidation = (selectedRecord) => {\r\n        let grouplist = selectedRecord[\"groupList\"]\r\n        let hasAll = true;\r\n        for (var i = 0; i < grouplist.length; i++) {\r\n            let rules = grouplist[i]\r\n            for (var j = 0; j < rules.length; j++) {\r\n                let props = []\r\n                if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 1) {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ndiagnosticcasecode\"];\r\n                }\r\n                else if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 3) {\r\n                    if(rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.PREDEFINED)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestpredefcode\"]; \r\n\r\n                    }\r\n                    else if(rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.CHARACTER)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestcharcode\"]; \r\n\r\n                    }\r\n                    else if (rules[j][\"stestname\"] && rules[j][\"stestname\"]['item']['nparametertypecode'] === parameterType.NUMERIC)\r\n                    {\r\n                        props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ntestgrouptestnumericcode\"]; \r\n\r\n                    } \r\n                    else\r\n                    {\r\n                        if (rules[j][\"orderresulttype\"] && rules[j][\"orderresulttype\"].value === 1) {\r\n                            props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ndiagnosticcasecode\"];\r\n                        }\r\n                        else {\r\n                            props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ngradecode\"];\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    props = [\"stestname\", \"ssymbolname\", \"orderresulttype\", \"ngradecode\"];\r\n                }\r\n                hasAll = props.every(prop => rules[j].hasOwnProperty(prop));\r\n                if (hasAll === false) {\r\n                    break;\r\n                }\r\n            }\r\n            if (hasAll === false) {\r\n                break;\r\n            }\r\n        }\r\n        return hasAll\r\n    }\r\n    save = () => {\r\n        let inputData = [];\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[]  \r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n \r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n        let testsInvolvedInRules=[]\r\n        let testsNameInvolvedInRules=[]\r\n\r\n        const { selectedRecord } = this.state;\r\n        let rules = []\r\n        //  if (selectedRecord[\"nproductcatcode\"]) {\r\n            if(testInitiateTests.length > 0||testCommentsTests.length > 0||testRepeatTests.length > 0||testenforceTests.length > 0){\r\n        if (selectedRecord[\"groupList\"].length > 0) {\r\n            if (this.onsavevalidation(selectedRecord)) {\r\n                if (selectedRecord[\"srulename\"] && selectedRecord[\"srulename\"] !== \"\" && this.props.Login.action !== 'update'\r\n                    && this.props.Login.action !== 'IDS_ADDTESTCOMMENTS' && this.props.Login.action !== 'IDS_ADDREPORTCOMMENTS'\r\n                    && this.props.Login.action !== 'IDS_ADDTEST' && this.props.Login.action !== 'IDS_ADDSITE'\r\n                    && this.props.Login.action !== 'IDS_ADDPARAMETER'\r\n                ) {\r\n\r\n                    if (selectedRecord[\"groupList\"]) {\r\n                        let groupList = [];\r\n                        let outcomeList = {};\r\n                        groupList = selectedRecord[\"groupList\"];\r\n\r\n                        outcomeList['groupList'] = groupList\r\n                        outcomeList['addGroupList'] = this.props.Login.addGroupList\r\n                        outcomeList['testInitiateTests'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests\r\n                        outcomeList['testCommentsTests'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests\r\n                        outcomeList['testRepeatTests'] = this.props.Login.testRepeatTests && this.props.Login.testRepeatTests\r\n                        outcomeList['testenforceTests'] = this.props.Login.testenforceTests && this.props.Login.testenforceTests\r\n\r\n                        outcomeList['reportCommentsTests'] = this.props.Login.reportCommentsTests && this.props.Login.reportCommentsTests\r\n                        outcomeList['siteObject'] = this.props.Login.siteObject && this.props.Login.siteObject\r\n                        outcomeList['testCommentObject'] = this.props.Login.testCommentObject && this.props.Login.testCommentObject\r\n                        outcomeList['reportCommentObject'] = this.props.Login.reportCommentObject && this.props.Login.reportCommentObject\r\n                        outcomeList['testInitiateSiteTab'] = this.props.Login.masterData.testInitiateSiteTab && this.props.Login.masterData.testInitiateSiteTab\r\n                        outcomeList['testCommentsTestsTab'] = this.props.Login.masterData.testCommentsTestsTab && this.props.Login.masterData.testCommentsTestsTab\r\n                        outcomeList['reportCommentsTestsTab'] = this.props.Login.reportCommentsTestsTab && this.props.Login.reportCommentsTestsTab\r\n                        outcomeList['testRepeatTestsTab'] =  this.props.Login.masterData['testRepeatTestsTab']&& this.props.Login.masterData['testRepeatTestsTab']\r\n                        outcomeList['testenforceTestsTab'] =  this.props.Login.masterData['testenforceTestsTab']&& this.props.Login.masterData['testenforceTestsTab']\r\n                        outcomeList['PredefinedParameterOptions']=PredefinedParameterOptions\r\n                        // outcomeList['nproductcatcode'] = selectedRecord['nproductcatcode']\r\n                        outcomeList['ntestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode\r\n                        // outcomeList['nallottedspeccode'] = selectedRecord['nallottedspeccode']\r\n                        // outcomeList['ncomponentcode'] = selectedRecord['ncomponentcode'] \r\n                        outcomeList['groupListJoins'] = selectedRecord['groupListJoins']?selectedRecord['groupListJoins']:[]\r\n\r\n                        let ruleEngineLayout = []\r\n                        let ruleEngineLayoutObject = []\r\n                        let groupRuleObject = {}\r\n\r\n                        groupList.map((List) => \r\n                        List.map(x=>{\r\n                            testsInvolvedInRules.push(x.stestname.item.ntestgrouptestcode);\r\n                            testsNameInvolvedInRules.push(x.stestname.item);\r\n                        }) \r\n                        )\r\n                        outcomeList['testsNameInvolvedInRules'] = testsNameInvolvedInRules\r\n                        outcomeList['testsInvolvedInRules'] = testsInvolvedInRules\r\n                        groupList.map((List) => {\r\n                            if (List.hasOwnProperty('button_or') && List['button_or'] === true) {\r\n                                if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                    groupRuleObject['button_not_button_or'] = List\r\n                                }\r\n                                else {\r\n                                    groupRuleObject['button_or'] = List\r\n                                }\r\n                                // groupRuleObject['button_or'] = List\r\n                                ruleEngineLayout.push(groupRuleObject)\r\n                                groupRuleObject = {}\r\n                            }\r\n                            if (List.hasOwnProperty('button_and') && List['button_and'] === true) {\r\n                                if (List.hasOwnProperty('button_not') && List['button_not'] === true) {\r\n                                    groupRuleObject['button_not_button_and'] = List\r\n                                }\r\n                                else {\r\n                                    groupRuleObject['button_and'] = List\r\n                                }\r\n                                //  groupRuleObject['button_and'] = List\r\n                                ruleEngineLayout.push(groupRuleObject)\r\n                                groupRuleObject = {}\r\n                            }\r\n                        })\r\n                        ruleEngineLayoutObject = groupList.hasOwnProperty('button_or') && groupList['button_or'] === true ?\r\n                            {\r\n                                'button_or': ruleEngineLayout\r\n                            } : {\r\n                                'button_and': ruleEngineLayout\r\n                            }\r\n                       // console.log('savelist--->', JSON.stringify(ruleEngineLayoutObject))\r\n                        //  inputData['nproductcatcode'] = this.props.Login.masterData.SelectedProductCategory.nproductcatcode\r\n                        //  inputData['nproductcatcode'] = selectedRecord['nproductcatcode'].value\r\n                        inputData['ntestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode\r\n                        // inputData['nallottedspeccode'] = selectedRecord['nallottedspeccode'].value\r\n                        // inputData['ncomponentcode'] = selectedRecord['ncomponentcode'].value\r\n                        inputData['srulename'] = selectedRecord['srulename']\r\n                     //   inputData['nruleexecorder'] = parseInt(selectedRecord['nruleexecorder'])\r\n                        inputData['outcomeList'] = JSON.stringify(outcomeList)\r\n                        inputData['jsondata'] = JSON.stringify(ruleEngineLayout)\r\n                        inputData['userinfo'] = this.props.Login.userInfo\r\n                        if (this.props.Login.operation === 'update') {\r\n                            inputData['ntestgrouprulesenginecode'] = this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']\r\n                        }\r\n                        const inputParam = {\r\n                            classUrl: \"testgrouprulesengine\",\r\n                            methodUrl: \"TestGroupRulesEngine\",\r\n                            displayName: this.props.Login.inputParam.displayName,\r\n                            inputData: inputData,\r\n                            operation: this.props.Login.operation === 'create' ? 'create' : 'update'\r\n                        }\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openPortalModal\");\r\n                    }\r\n                    else {\r\n                        toast.info(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULE\" }));\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    selectedRecord['srulename'] = selectedRecord['srulenamecopy'] || \"\"\r\n                  //  selectedRecord['nruleexecorder'] = selectedRecord['nruleexecordercopy'] || \"\"\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: { openModalPopup: true, selectedRecord, action: \"IDS_SAVERULEMODAL\", openmodalsavePopup: true }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                    //   toast.info(this.props.intl.formatMessage({ id: \"IDS_ENTERRULESENGINENAME\" }));\r\n\r\n                }\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_COMPLETETHERULETOSAVE\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONERULE\" }));\r\n        } \r\n    }\r\n    else{\r\n        toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONEOUTCOME\" })); \r\n    }\r\n    } \r\n    onOutcomeChange = (comboData, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"outComeList\"] = []\r\n        selectedRecord[\"outComeList\"][index] = []\r\n        selectedRecord[\"outComeList\"][index] = comboData;\r\n        if (selectedRecord[\"outComeList\"][index]) {\r\n            this.setState({\r\n                selectedRecord\r\n            });\r\n        }\r\n    }\r\n    writtenRules = (data) => {\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        let grouplist = selectedRecord[\"groupList\"]\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        if (activeTabIndex === 1) {\r\n            let boolean = grouplist.every(x => x.every(y => y['stestname']['item'].ntestgrouptestcode !== data['item'].ntestgrouptestcode)\r\n            )\r\n            if (boolean) {\r\n                return data;\r\n            }\r\n        }\r\n        else {\r\n            let boolean = grouplist.some(x => x.some(y => y['stestname']['item'].ntestgrouptestcode === data['item'].ntestgrouptestcode)\r\n            )\r\n            if (boolean) {\r\n                return data;\r\n            }\r\n        } \r\n    } \r\n    selectedTestRemove = (data) => {\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        if (activeTabIndex === 1) {\r\n            if (this.props.Login.masterData.SelectedTest.ntestgrouptestcode !== data['item'].ntestgrouptestcode) {\r\n                return data;\r\n            }\r\n        }\r\n        else {\r\n            if (this.props.Login.masterData.SelectedTest.ntestgrouptestcode === data['item'].ntestgrouptestcode) {\r\n                return data;\r\n            }\r\n        } \r\n    }\r\n    outComeTestsRemoveFromRules = (data) => { \r\n        let testInitiateTests=this.props.Login.testInitiateTests;\r\n        let boolean = testInitiateTests.every(x => x['ntestgrouptestcode']!== data['item'].ntestgrouptestcode)\r\n            if (boolean) {\r\n                return data;\r\n            } \r\n    }\r\n  \r\n\r\n    addTest = (tabName) => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n\r\n        let rulesOption = this.props.Login.masterData.rulesOption || [];\r\n        let testInitiateTestCombo = this.props.Login.masterData.testInitiateTestCombo || [];\r\n        let testCommentsTestCombo = this.props.Login.masterData.testCommentsTestCombo || [];\r\n        let testRepeatTestCombo = this.props.Login.masterData.testRepeatTestCombo || [];\r\n        let testenforceTestCombo = this.props.Login.masterData.testenforceTestCombo || [];\r\n\r\n        if (tabName == 'IDS_Test') {\r\n            testInitiateTestCombo = testInitiateTestCombo.filter(this.selectedTestRemove);\r\n            testInitiateTestCombo = testInitiateTestCombo.filter(this.writtenRules);\r\n            selectedRecord['ParameterRulesEngine']&& delete selectedRecord['ParameterRulesEngine'] \r\n        }\r\n        else if (tabName == 'IDS_COMMENTS') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testCommentsTestCombo.filter(this.selectedTestRemove);\r\n            testCommentsTestCombo = testCommentsTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testCommentsTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testCommentsTestCombo = testCommentsTestCombo\r\n            } else {\r\n                testCommentsTestCombo = [...testCommentsTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else if (tabName == 'IDS_REPEAT') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testRepeatTestCombo.filter(this.selectedTestRemove);\r\n            testRepeatTestCombo = testRepeatTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testRepeatTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testRepeatTestCombo = testRepeatTestCombo\r\n            } else {\r\n                testRepeatTestCombo = [...testRepeatTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else if (tabName == 'IDS_ENFORCERESULT') {\r\n            let selectedTestTempArray = []\r\n            selectedTestTempArray = testenforceTestCombo.filter(this.selectedTestRemove);\r\n            testenforceTestCombo = testenforceTestCombo.filter(this.writtenRules);\r\n            let duplicatePresent = selectedTestTempArray.some(x => testenforceTestCombo.some(y => y['item'].ntestgrouptestcode === x['item'].ntestgrouptestcode))\r\n            if (duplicatePresent) {\r\n                testenforceTestCombo = testenforceTestCombo\r\n            } else {\r\n                testenforceTestCombo = [...testenforceTestCombo, ...selectedTestTempArray];\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n        selectedRecord['ntestgrouptestcode']&& delete selectedRecord['ntestgrouptestcode']\r\n        selectedRecord['nsampletestcommentscode']&&delete selectedRecord['nsampletestcommentscode']\r\n        selectedRecord['ncommentsubtypecode']&&delete selectedRecord['ncommentsubtypecode']\r\n        selectedRecord['ncommenttypecode']&&delete selectedRecord['ncommenttypecode']\r\n        selectedRecord['sgeneralcomments']&&delete selectedRecord['sgeneralcomments']\r\n        selectedRecord['needoutsource']&&delete selectedRecord['needoutsource']\r\n        selectedRecord['sdescription']&&delete selectedRecord['sdescription']\r\n        selectedRecord['ntestgrouptestparametercode']&&delete selectedRecord['ntestgrouptestparametercode']\r\n        selectedRecord['senforceresult']&&delete selectedRecord['senforceresult']\r\n        selectedRecord['ngradecode']&&delete selectedRecord['ngradecode']\r\n        selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode']\r\n        selectedRecord['ntositecode']&&delete selectedRecord['ntositecode']\r\n        selectedRecord['nrepeatcountno']&&delete selectedRecord['nrepeatcountno']\r\n\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            action = \"IDS_ADDTEST\"\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    modalParameterPopup: false,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false,\r\n                    testInitiateTestCombo,\r\n                    testCommentsTestCombo,\r\n                    testRepeatTestCombo,\r\n                    testenforceTestCombo\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    onRuleChange = (comboData, fieldName, groupIndex, index) => {\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[] \r\n        const { selectedRecord } = this.state;\r\n        this.clearSelectedRule(selectedRecord, index); \r\n        if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value)\r\n        {\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&& delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']  \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']   \r\n        } \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;  \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparenttestgrouptestcode'] = this.props.Login.masterData.SelectedTest.ntestgrouptestcode;  \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName]['nparentstestname'] = this.props.Login.masterData.SelectedTest.stestname;  \r\n        if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'])\r\n        {\r\n            if(selectedRecord[\"groupList\"][groupIndex][index]['orderresulttype'].value === 3)\r\n            {\r\n                let nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index][fieldName]['item']['nparametertypecode'] \r\n                 if(nparametertypecode===parameterType.PREDEFINED)\r\n                {\r\n                    this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord, this.props.Login.masterData, this.props.Login.userInfo) \r\n                }\r\n                else{\r\n                    if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                        this.setState({\r\n                            selectedRecord,\r\n                            groupIndex,\r\n                            index\r\n                        });\r\n                    }\r\n                }    \r\n            }      else{\r\n                if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                    this.setState({\r\n                        selectedRecord,\r\n                        groupIndex,\r\n                        index\r\n                    });\r\n                }\r\n            }  \r\n        }\r\n        else{\r\n            if (selectedRecord[\"groupList\"][groupIndex][index][fieldName]) {\r\n                this.setState({\r\n                    selectedRecord,\r\n                    groupIndex,\r\n                    index\r\n                });\r\n            }\r\n        }  \r\n    }\r\n    onRuleInputChange = (event, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = event.target.value;\r\n        selectedRecord[\"groupList\"][groupIndex][index]['sfinal'] = event.target.value; \r\n        this.setState({ selectedRecord });\r\n    }\r\n    onRuleNumericInputOnChange = (event, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        if(groupIndex===undefined&&index===undefined)\r\n        {\r\n            selectedRecord[fieldName] =  event;\r\n            this.setState({ selectedRecord }); \r\n        } \r\n        else\r\n        {\r\n            if(event!==0){ \r\n                selectedRecord[\"groupList\"][groupIndex][index][fieldName] =  event;\r\n                selectedRecord[\"groupList\"][groupIndex][index]['sfinal']=  event;\r\n                this.setState({ selectedRecord });\r\n            } \r\n        } \r\n    }\r\n    onMasterDataChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        let PredefinedParameterOptions= this.props.Login.masterData.PredefinedParameterOptions||[]  \r\n        let isResultorOrderType = [];\r\n        let optionsByRule = [];\r\n        if (this.state.optionsByRule && this.state.optionsByRule.length > 0) {\r\n            optionsByRule = this.state.optionsByRule\r\n        }\r\n        else {\r\n            optionsByRule[groupIndex] = [];\r\n            optionsByRule[groupIndex][index] = [];\r\n        }\r\n        if (this.state.isResultorOrderType && this.state.isResultorOrderType.length > 0) {\r\n            isResultorOrderType = this.state.isResultorOrderType\r\n        }\r\n        else {\r\n            isResultorOrderType[groupIndex] = [];\r\n            isResultorOrderType[groupIndex][index] = [];\r\n        }\r\n        if (fieldName !== 'ndiagnosticcasecode' && fieldName !== 'ngradecode'&&\r\n        fieldName !== 'ntestgrouptestpredefcode' && fieldName !== 'ntestgrouptestcharcode' && fieldName !== 'ntestgrouptestnumericcode') {\r\n            if(selectedRecord[\"groupList\"][groupIndex][index][fieldName]&&\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName].value!==comboData.value)\r\n        {\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']&& delete selectedRecord[\"groupList\"][groupIndex][index]['ndiagnosticcasecode']\r\n            selectedRecord[\"groupList\"][groupIndex][index]['ngradecode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ngradecode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestpredefcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestcharcode'] \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ntestgrouptestnumericcode']  \r\n            selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']&&delete selectedRecord[\"groupList\"][groupIndex][index]['ssymbolname']   \r\n        } \r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData; \r\n            if (isResultorOrderType[groupIndex] === undefined) {\r\n                isResultorOrderType[groupIndex] = [];\r\n                isResultorOrderType[groupIndex][index] = [];\r\n            }\r\n            isResultorOrderType[groupIndex][index] = comboData.value\r\n            if (optionsByRule[groupIndex] === undefined) {\r\n                optionsByRule[groupIndex] = [];\r\n                optionsByRule[groupIndex][index] = [];\r\n            }\r\n            if (isResultorOrderType[groupIndex][index] === 1) { \r\n                optionsByRule[groupIndex][index] = this.props.Login.masterData.DiagnosticCaseList\r\n            }\r\n            else if (isResultorOrderType[groupIndex][index] === 3) { \r\n                let nparametertypecode=selectedRecord[\"groupList\"][groupIndex][index]['stestname']['item']['nparametertypecode'] \r\n                 if(nparametertypecode===parameterType.PREDEFINED)\r\n                {\r\n                    this.props.getParameterResultValue(selectedRecord[\"groupList\"][groupIndex][index],groupIndex,index,PredefinedParameterOptions,selectedRecord, this.props.Login.masterData, this.props.Login.userInfo) \r\n                } \r\n                else\r\n                {\r\n                    optionsByRule[groupIndex][index] = this.props.Login.masterData.GradeList \r\n                }\r\n            }\r\n            else { \r\n                optionsByRule[groupIndex][index] = this.props.Login.masterData.GradeList\r\n            }\r\n            this.setState({ selectedRecord, isResultorOrderType, optionsByRule });\r\n        } \r\n        else {\r\n            selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData; \r\n            selectedRecord[\"groupList\"][groupIndex][index]['sfinal'] = comboData.label; \r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    addRule = (type, groupIndex) => {\r\n        const { selectedRecord } = this.state;\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList[groupIndex];\r\n        addGroupList[groupIndex] = arrayLength + 1;\r\n        selectedRecord[\"groupList\"][groupIndex][arrayLength] = {};\r\n        viewColumnListByRule = this.props.Login.viewColumnList || this.props.Login.databaseviewList;;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule,\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n\r\n    addComments = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n        let action = this.props.Login.action;\r\n        let selectedParameterRulesEngine = this.props.Login.masterData.selectedParameterRulesEngine || [];\r\n        let testparameter = this.props.Login.masterData.testCommentsTestCombo || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestgrouptestcode'] = {}\r\n        selectedRecord['ntestgrouptestcode'] = testparameter.filter(x => { return x.value === selectedParameterRulesEngine.ntestgrouptestcode })[0]\r\n\r\n        delete selectedRecord['nsampletestcommentscode']\r\n        delete selectedRecord['ncommentsubtypecode']\r\n        delete selectedRecord['ncommenttypecode']\r\n        delete selectedRecord['sgeneralcomments']\r\n        delete selectedRecord['sdescription']\r\n\r\n\r\n        if (this.props.Login.addGroupList.length > 0) {\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                action = \"IDS_ADDTESTCOMMENTS\"\r\n            }\r\n            else {\r\n                action = \"IDS_ADDREPORTCOMMENTS\"\r\n            }\r\n            openModalPopup = true;\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup,\r\n                    action,\r\n                    selectedRecord,\r\n                    openmodalsavePopup: false\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLEASEADDRULETOADDOUTCOME\" }));\r\n        }\r\n\r\n    }\r\n    addModalSite = () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;\r\n\r\n        let selectedParameterRulesEngine = this.props.Login.masterData.selectedParameterRulesEngine || [];\r\n        let testparameter = this.props.Login.masterData.testInitiateTestCombo || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestgrouptestcode'] = {}\r\n        selectedRecord['ntestgrouptestcode'] = testparameter.filter(x => { return x.value === selectedParameterRulesEngine.ntestgrouptestcode })[0]\r\n        selectedRecord['nfromsitecode']&&delete selectedRecord['nfromsitecode']\r\n        selectedRecord['ntositecode']&&delete selectedRecord['ntositecode']\r\n\r\n        openModalPopup = true;\r\n        let action = this.props.Login.action;\r\n        action = \"IDS_ADDSITE\"\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord,\r\n                openModalPopup,\r\n                action,\r\n                openmodalsavePopup: false\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onGradeEvent = (parameterResults, index, parameter) => {\r\n        if (parameterResults.length > 0 && parameterResults[index] !== undefined && parameterResults[index].sresult !== null) {\r\n            let selectedRecord = this.state.selectedRecord || [];\r\n            let selectedResultGrade = this.state.selectedRecord.selectedResultGrade || [];\r\n            if (parameter.nparametertypecode === parameterType.NUMERIC) {\r\n                selectedResultGrade[index] = {\r\n                    ngradecode: parameterResults[index].sresult !== \"\" ?\r\n                        numericGrade(parameter, numberConversion(parseFloat(parameterResults[index].sresult), parseInt(parameter.nroundingdigits))) : -1\r\n                };\r\n            }\r\n            if (parameter.nparametertypecode === parameterType.PREDEFINED) {\r\n                if (parameterResults[index].sresult !== null) {\r\n                    selectedResultGrade[index] = { ngradecode: parameterResults[index].ngradecode };\r\n                }\r\n                else {\r\n                    selectedResultGrade[index] = { ngradecode: 0 };\r\n                }\r\n            }\r\n            if (parameter.nparametertypecode === parameterType.CHARACTER) {\r\n                if (parameterResults[index].sresult !== null && parameterResults[index].sresult.trim() !== \"\") { \r\n                    selectedResultGrade[index] = { ngradecode: 4 };\r\n                }\r\n                else {\r\n                    selectedResultGrade[index] = { ngradecode: -1 };\r\n                }\r\n            } \r\n            selectedRecord.selectedResultGrade = selectedResultGrade;\r\n\r\n            this.setState({\r\n                selectedRecord\r\n            }); \r\n        }\r\n    }\r\n    onInputSwitchOnChange = (event) => {\r\n        if (event.target.name == \"PopupNav\") {\r\n            this.setState({\r\n                enablePropertyPopup: !this.state.enablePropertyPopup\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                enableAutoClick: !this.state.enableAutoClick\r\n            })\r\n        }\r\n    }\r\n    addParameter= () => {\r\n        let openModalPopup = this.props.Login.openModalPopup;  \r\n        let isServiceNeed=this.props.Login.isServiceNeed===undefined||this.props.Login.isServiceNeed===true?true:false ;\r\n        let selectedParameterRulesEngine = this.props.Login.masterData.selectedParameterRulesEngine || [];\r\n        let testparameter = this.props.Login.masterData.testInitiateTestCombo || [];\r\n        let selectedRecord = this.props.Login.selectedRecord || {}\r\n        selectedRecord['ntestgrouptestpredefsubcode'] &&delete selectedRecord['ntestgrouptestpredefsubcode'] \r\n        selectedRecord['ntestgrouptestcode'] = {}\r\n        selectedRecord['ntestgrouptestcode'] = testparameter.filter(x => \r\n            { return x.value === selectedParameterRulesEngine.ntestgrouptestcode })[0]\r\n        selectedRecord['ntestgrouprulesenginecode']=this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']?\r\n        this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']:0;\r\n        selectedRecord['ParameterRulesEngine']&& delete selectedRecord['ParameterRulesEngine'] \r\n    //    if(isServiceNeed){\r\n            this.props.getParameterRulesEngine(selectedRecord, this.props.Login.masterData, this.props.Login.userInfo,\r\n                this.state.activeTabIndex,\"IDS_ADDPARAMETER\")\r\n        // }else{\r\n        //     const updateInfo = {\r\n        //         typeName: DEFAULT_RETURN,\r\n        //         data: {\r\n        //             openModalPopup: true,\r\n        //                 modalParameterPopup:true,\r\n        //                 // masterData: {\r\n        //                 //     ...masterData,\r\n        //                 //     ...response.data,\r\n        //                 //     paremterResultcode\r\n\r\n        //                 // },\r\n        //                 // selectedRecord: {\r\n        //                 //     ...selectedRecord,\r\n        //                 //     additionalInfo: additionalInfo.length > 0 ? additionalInfo : [],\r\n        //                 //     selectedResultGrade: selectedResultGrade,\r\n        //                 //     ParameterRulesEngine: response.data.TestGroupTestParameterRulesEngine\r\n        //                 // },\r\n        //               ///  loading: false,\r\n        //                 action:\"IDS_ADDPARAMETER\",\r\n        //                 openmodalsavePopup:false\r\n        //         }\r\n        //     }\r\n        //     this.props.updateStore(updateInfo);\r\n        // }\r\n        \r\n     \r\n        // openModalPopup = true;\r\n        // let action = this.props.Login.action;\r\n        // action = \"IDS_ADDPARAMETER\"\r\n        // const updateInfo = {\r\n        //     typeName: DEFAULT_RETURN,\r\n        //     data: {\r\n        //         selectedRecord,\r\n        //         openModalPopup,\r\n        //         action,\r\n        //         modalParameterPopup :true,\r\n        //         openmodalsavePopup: false\r\n        //     }\r\n        // }\r\n        // this.props.updateStore(updateInfo);\r\n    }\r\n    deletetestparameter = (deleteparameter) => { \r\n        let masterData = this.props.Login.masterData || {};  \r\n        masterData['testParameter'].map(test=>{\r\n            if(test['ParameterRulesEngine']){\r\n                let parameters=test['ParameterRulesEngine'];\r\n                let tempparameters=[...test['ParameterRulesEngine']]\r\n                tempparameters.map((param,index)=>{\r\n                    if(param['ntestgrouptestparametercode']===deleteparameter['ntestgrouptestparametercode']){\r\n                        //delete parameters[index];\r\n                        let removeIndex=parameters.findIndex(x=>x['ntestgrouptestparametercode']===param['ntestgrouptestparametercode'])\r\n    \r\n                        parameters.splice(removeIndex,1);\r\n                        sortData(test['ParameterRulesEngine'],'ascending','slNo').map((param,index)=>{\r\n                            param['slNo']=index+1;\r\n                        })\r\n                    }\r\n                })\r\n            \r\n            } \r\n        }); \r\n        \r\n        this.setState({masterData});\r\n    }\r\n    modalsaveClick = () => {\r\n        let needoutsource = this.props.Login.needoutsource || {};\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n\r\n\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestsTemp = [];\r\n        let testCommentsTestsTemp = [];\r\n        let reportCommentsTestsTemp = [];\r\n        let testInitiateSiteTemp = [];\r\n\r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab || []; \r\n\r\n\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab || [];\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab || [];\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let updateInfo = {}\r\n        if (this.props.Login.action === 'IDS_ADDTEST') {\r\n            let npkAtestparametercode = 0;\r\n            let npkBtestparametercode = 0;\r\n            let npkCtestparametercode = 0;\r\n            let npkDtestparametercode = 0;\r\n            if (this.props.Login.activeTabIndex === 1) {\r\n                let isduplicate = {}\r\n                isduplicate = testInitiateTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameter'] = {}\r\n                    npkAtestparametercode = testInitiateTests.length>0?Math.max(...testInitiateTests.map(x => x.npkAtestparametercode)) : 0;\r\n                    npkAtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkAtestparametercode'] = npkAtestparametercode \r\n                    // selectedRecord['ParameterRulesEngine']=selectedRecord['ParameterRulesEngine'].filter(param=>param['sresult']&&param['sresult']!==\"\");\r\n                    //  let slNo=1;\r\n                    // selectedRecord['ParameterRulesEngine']\r\n                    //      .map((resultData) => {\r\n                    //         if (resultData.nparametertypecode===1) { \r\n                    //             resultData[\"ngradecode\"] = resultData.sresult !== \"\" ?\r\n                    //             numericGrade(resultData, resultData[\"sfinal\"]) : -1;\r\n                    //          }\r\n                    //         else if (resultData.nparametertypecode===2)\r\n                    //          {\r\n                    //             resultData[\"ngradecode\"] = resultData.ngradecode; \r\n                    //             resultData[\"salertmessage\"] = resultData.salertmessage&&resultData.salertmessage;\r\n                    //             resultData[\"additionalInfo\"] = resultData['additionalInfo'];\r\n                    //             resultData[\"additionalInfoUidata\"] = resultData['additionalInfoUidata']===undefined?\"\":\r\n                    //             resultData['additionalInfoUidata']; \r\n                    //             resultData[\"ntestgrouptestpredefcode\"]=resultData['ntestgrouptestpredefcode']\r\n                    //             resultData[\"sresultcomment\"]=resultData['sresultcomment']  \r\n                    //          } \r\n                    //          else if (resultData.nparametertypecode===3)\r\n                    //          {\r\n                    //             resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \r\n                    //          }\r\n                    //          else if (resultData.nparametertypecode===4)\r\n                    //          {\r\n                    //             resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \r\n                    //          }   \r\n                    //          resultData[\"slNo\"]=slNo;\r\n                    //          slNo++;\r\n                    //     });\r\n                    // selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine']=sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo')\r\n                    if( selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']){\r\n                        selectedRecord['ntestgrouptestcode'].item['nrepeatcountno']=0;\r\n                    } \r\n                    selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine']&&\r\n                    delete selectedRecord['ntestgrouptestcode'].item['ParameterRulesEngine']\r\n                    testInitiateTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testParameter'] = sortData(testInitiateTests, 'descending', 'npkAtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n\r\n            }\r\n            if (this.props.Login.activeTabIndex === 2) {\r\n                let isduplicate = {}\r\n                isduplicate = testCommentsTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testParameterComments'] = {}\r\n                    npkBtestparametercode = testCommentsTests.length>0?Math.max(...testCommentsTests.map(x => x.npkBtestparametercode)) : 0;\r\n                    npkBtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkBtestparametercode'] = npkBtestparametercode\r\n                    selectedRecord['ntestgrouptestcode'].item['sdescription'] = selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-'\r\n                    testCommentsTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testParameterComments'] = sortData(testCommentsTests, 'descending', 'npkBtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    //delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            if (this.props.Login.activeTabIndex === 3) {\r\n                let isduplicate = {}\r\n                isduplicate = testRepeatTests.filter(x => x.ntestgrouptestcode ===\r\n                    selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                if (isduplicate.length === 0) {\r\n                    masterData['testRepeat'] = {}\r\n                    npkCtestparametercode = testRepeatTests.length>0? Math.max(...testRepeatTests.map(x => x.npkCtestparametercode)) : 0;\r\n                    npkCtestparametercode++;\r\n                    selectedRecord['ntestgrouptestcode'].item['npkCtestparametercode'] = npkCtestparametercode\r\n                    selectedRecord['ntestgrouptestcode'].item['nrepeatcountno'] = selectedRecord['nrepeatcountno']?selectedRecord['nrepeatcountno']:1\r\n                    testRepeatTests.push(selectedRecord['ntestgrouptestcode'].item);\r\n                    masterData['testRepeatTestsTab'] = sortData(testRepeatTests, 'descending', 'npkCtestparametercode')\r\n                    masterData['testRepeat'] = sortData(testRepeatTests, 'descending', 'npkCtestparametercode')\r\n                    masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            if (this.props.Login.activeTabIndex === 4) {\r\n                let isduplicate = {}\r\n                // isduplicate = testenforceTests.filter(x => x.ntestgrouptestcode ===\r\n                //     selectedRecord['ntestgrouptestcode'].item['ntestgrouptestcode'])\r\n                    isduplicate=testenforceTests.some(x=>selectedRecord['ntestgrouptestcode'].value===x.ntestgrouptestcode&&selectedRecord['ntestgrouptestparametercode'].value===x.ntestgrouptestparametercode)\r\n\r\n                if (!isduplicate) { \r\n                    masterData['testenforceTests'] = {}\r\n                    npkDtestparametercode = testenforceTests.length>0? Math.max(...testenforceTests.map(x => x.npkDtestparametercode)) : 0;\r\n                    npkDtestparametercode++;\r\n                    // selectedRecord['ntestgrouptestcode'].item['sparametersynonym'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label\r\n                    // selectedRecord['ntestgrouptestcode'].item['ngradecode'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value\r\n                    // selectedRecord['ntestgrouptestcode'].item['sgradename'] = selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label\r\n                    // selectedRecord['ntestgrouptestcode'].item['ntestgrouptestparametercode'] = selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value\r\n                    // selectedRecord['ntestgrouptestcode'].item['senforceresult'] = selectedRecord['senforceresult'] && selectedRecord['senforceresult']\r\n                    let object={...selectedRecord['ntestgrouptestcode'].item,\r\n                    'sparametersynonym':selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].label,\r\n                    'ngradecode':selectedRecord['ngradecode'] && selectedRecord['ngradecode'].value,\r\n                    'sgradename': selectedRecord['ngradecode'] && selectedRecord['ngradecode'].label,\r\n                    'ntestgrouptestparametercode':selectedRecord['ntestgrouptestparametercode'] && selectedRecord['ntestgrouptestparametercode'].value,\r\n                    'senforceresult':selectedRecord['senforceresult'] && selectedRecord['senforceresult'],\r\n                'npkDtestparametercode':npkDtestparametercode}\r\n                   // selectedRecord['ntestgrouptestcode'].item['npkDtestparametercode'] = npkDtestparametercode\r\n                    testenforceTests.push(object);\r\n                    masterData['testenforceTestsTab'] = sortData(testenforceTests, 'descending', 'npkDtestparametercode') \r\n                    masterData['testenforceTests'] = sortData(testenforceTests, 'descending', 'npkDtestparametercode')\r\n                    //  masterData['selectedParameterRulesEngine'] = selectedRecord['ntestgrouptestcode'].item\r\n                    delete selectedRecord['ntestgrouptestcode']\r\n                }\r\n                else {\r\n                    return toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYEXISTS\" }));\r\n                }\r\n            }\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                   \r\n                    masterData,\r\n                    testInitiateTests,\r\n                    testCommentsTests,\r\n                    reportCommentsTests,\r\n                    npkAtestparametercode,\r\n                    npkBtestparametercode,\r\n                    npkCtestparametercode,\r\n                    testInitiateTestOptions,\r\n                    testInitiateTestdeletedOptions,\r\n                    selectedRecord,\r\n                    testRepeatTests,\r\n                    testenforceTests\r\n                }\r\n            }\r\n        }\r\n        if(this.props.Login.action === 'IDS_ADDPARAMETER'){\r\n            let selectedntestgrouptestcode=masterData.selectedParameterRulesEngine.ntestgrouptestcode;\r\n            let selectedParameterRulesEngine=masterData.selectedParameterRulesEngine.ParameterRulesEngine; \r\n            selectedRecord['ParameterRulesEngine']=selectedRecord['ParameterRulesEngine'].filter(param=>param['sresult']&&param['sresult']!==\"\");\r\n          let slNo=selectedParameterRulesEngine===undefined||(selectedParameterRulesEngine&&selectedParameterRulesEngine.length===0)?1:selectedParameterRulesEngine.length+1;\r\n            selectedRecord['ParameterRulesEngine']\r\n                         .map((resultData) => {\r\n                            if (resultData.nparametertypecode===1) { \r\n                                resultData[\"ngradecode\"] = resultData.sresult !== \"\" ?\r\n                                numericGrade(resultData, resultData[\"sresult\"]) : -1;\r\n\r\n\r\n                                resultData[\"sresult\"] = resultData.sresult;\r\n                                resultData[\"sfinal\"] = resultData.sresult !== \"\" ?\r\n                                        numberConversion(parseFloat(resultData.sresult), parseInt(resultData.nroundingdigits)) : \"\";\r\n                                resultData[\"ngradecode\"] = resultData.sresult !== \"\" ?\r\n                                        numericGrade(resultData, resultData[\"sfinal\"]) : -1;\r\n\r\n                             }\r\n                            else if (resultData.nparametertypecode===2)\r\n                             {\r\n                                resultData[\"ngradecode\"] = resultData.ngradecode; \r\n                                resultData[\"salertmessage\"] = resultData.salertmessage&&resultData.salertmessage;\r\n                                resultData[\"additionalInfo\"] = resultData['additionalInfo'];\r\n                                resultData[\"additionalInfoUidata\"] = resultData['additionalInfoUidata']===undefined?\"\":\r\n                                resultData['additionalInfoUidata']; \r\n                                resultData[\"ntestgrouptestpredefcode\"]=resultData['ntestgrouptestpredefcode']\r\n                                resultData[\"sresultcomment\"]=resultData['sresultcomment']  \r\n                                resultData[\"sresultpredefinedname\"]=resultData['sresultpredefinedname']  \r\n                                resultData[\"sfinal\"]=resultData['sfinal']   \r\n\r\n                             } \r\n                             else if (resultData.nparametertypecode===3)\r\n                             {\r\n                                resultData[\"sresult\"] = resultData.sresult;\r\n                                resultData[\"sfinal\"] = resultData.sresult; \r\n                                resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \r\n\r\n                             }\r\n                             else if (resultData.nparametertypecode===4)\r\n                             {\r\n                                resultData[\"ngradecode\"] = resultData.sresult&&resultData.sresult.trim() === \"\" ? -1 : grade.FIO; \r\n                             }   \r\n                             resultData['sgradename']=this.props.Login.masterData.GradeValues[resultData[\"ngradecode\"]][0]['sgradename'] \r\n                            resultData[\"slNo\"]=slNo;\r\n                         slNo++;\r\n                        });   \r\n                        masterData['testParameter'].map((param) => { \r\n                                if (param['ntestgrouptestcode'] ===selectedntestgrouptestcode) {\r\n                                    if(param['ParameterRulesEngine']){ \r\n                                        param['ParameterRulesEngine']= param['ParameterRulesEngine'].concat(sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo'));\r\n\r\n                                    }else{\r\n                                        param['ParameterRulesEngine']= sortData(selectedRecord['ParameterRulesEngine'],'descending','slNo');\r\n\r\n                                    }\r\n                                }\r\n                            }); \r\n                            testInitiateTests=masterData['testParameter']\r\n                            updateInfo = {\r\n                                typeName: DEFAULT_RETURN,\r\n                                data: {\r\n                                    openModalPopup: false,\r\n                                    masterData,\r\n                                    testInitiateTests,\r\n                                    modalParameterPopup:false ,\r\n                                    isServiceNeed:false\r\n                                }\r\n                            }\r\n        }\r\n        if (selectedRecord['nsampletestcommentscode'] || selectedRecord['sgeneralcomments']\r\n        ) {\r\n            masterData['testComments'] = {}\r\n            let npKAsampletestcommentscode = 0;\r\n            let nslno = 0;\r\n\r\n            let object = {\r\n                ncommentsubtypecode: selectedRecord['ncommentsubtypecode'],\r\n                scommentsubtype: selectedRecord['ncommentsubtypecode']['label'],\r\n                stestsynonym: selectedRecord['ntestgrouptestcode']['label'], \r\n                ncommenttypecode: selectedRecord['ncommenttypecode']['value'],\r\n                scommenttype: selectedRecord['ncommenttypecode']['label'],\r\n                nsampletestcommentscode: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'] : -1,\r\n                // spredefinedname: selectedRecord['nsampletestcommentscode'] ? selectedRecord['nsampletestcommentscode'].label : \"-\",\r\n                // sgeneralcomments: selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\r\n                spredefinedname:selectedRecord['nsampletestcommentscode']? selectedRecord['nsampletestcommentscode'].label:\r\n                selectedRecord['sgeneralcomments'] ? selectedRecord['sgeneralcomments'] : \"-\",\r\n                scomments: selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-',\r\n                sdescription: selectedRecord['sdescription'] ? selectedRecord['sdescription'] : '-'  \r\n                , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym,\r\n                ntestgrouptestcode: masterData.selectedParameterRulesEngine.ntestgrouptestcode,\r\n                npkBtestparametercode:masterData.selectedParameterRulesEngine.npkBtestparametercode\r\n            }\r\n            nslno= testCommentsTestsTab.length>0? Math.max(...testCommentsTestsTab.map(x => x.nslno)):0; \r\n            nslno++;\r\n            if (testCommentObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkBtestparametercode)) {\r\n                npKAsampletestcommentscode = Math.max(...testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode].map(x => x.npKAsampletestcommentscode));\r\n                npKAsampletestcommentscode++;\r\n                object = { ...object, npKAsampletestcommentscode: npKAsampletestcommentscode,nslno:nslno }\r\n                testCommentsTestsTemp = testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                let commentsArrayIndex=testCommentsTests.findIndex(x=>x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode)\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=[];\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp, 'ascending', 'npKAsampletestcommentscode')\r\n                testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            else {\r\n                npKAsampletestcommentscode++;\r\n                object = { ...object, npKAsampletestcommentscode: npKAsampletestcommentscode,nslno:nslno }\r\n                testCommentsTestsTemp.push(object);\r\n                testCommentsTestsTab.push(object);\r\n                let commentsArrayIndex=testCommentsTests.findIndex(x=>x.npkBtestparametercode===masterData.selectedParameterRulesEngine.npkBtestparametercode)\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=[];\r\n                testCommentsTests[commentsArrayIndex]['commentsArray']=sortData(testCommentsTestsTemp, 'ascending', 'npKAsampletestcommentscode')\r\n                testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = sortData(testCommentsTestsTemp, 'descending', 'npKAsampletestcommentscode')\r\n                delete selectedRecord['nsampletestcommentscode']\r\n                delete selectedRecord['ncommentsubtypecode']\r\n                delete selectedRecord['ncommenttypecode']\r\n                delete selectedRecord['sgeneralcomments']\r\n            }\r\n            masterData['testComments'] = testCommentObject\r\n            masterData['testCommentsTestsTab'] = testCommentsTestsTab \r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    testCommentObject, \r\n                    npKAsampletestcommentscode,\r\n                    selectedRecord\r\n                }\r\n            }\r\n        }\r\n        if (selectedRecord['nfromsitecode'] && selectedRecord['ntositecode']) {\r\n          \r\n            if(selectedRecord['nfromsitecode'].value!==selectedRecord['ntositecode'].value){\r\n           \r\n            let siteseqnumber = 0;\r\n            if (siteObject.hasOwnProperty(masterData.selectedParameterRulesEngine.npkAtestparametercode)) {\r\n                let isalreadyExist=siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].some(x=>selectedRecord['nfromsitecode'].value===x.nfromsitecode&&selectedRecord['ntositecode'].value===x.ntositecode)\r\n                if(!isalreadyExist){\r\n                    masterData['testSite'] = {}\r\n                siteseqnumber = Math.max(...siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode].map(x => x.npksitecode));\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label,\r\n                    nfromsitecode: selectedRecord['nfromsitecode'].value, ntositecode: selectedRecord['ntositecode'].value\r\n                    , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym, npkAtestparametercode: masterData.selectedParameterRulesEngine.ntestgrouptestcode\r\n                }\r\n                testInitiateSiteTemp = siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestgrouptestcode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            else\r\n            {\r\n                return toast.warn(this.props.intl.formatMessage({ id: \"IDS_FROMANDTOSITEALREADYEXIST\" }));  \r\n            }\r\n\r\n            }\r\n            else {\r\n                masterData['testSite'] = {}\r\n                siteseqnumber++;\r\n                let object = {\r\n                    npksitecode: siteseqnumber, sfromsitename: selectedRecord['nfromsitecode'].label, stositename: selectedRecord['ntositecode'].label,\r\n                    nfromsitecode: selectedRecord['nfromsitecode'].value, ntositecode: selectedRecord['ntositecode'].value\r\n                    , stestparametersynonym: masterData.selectedParameterRulesEngine.stestparametersynonym, npkAtestparametercode: masterData.selectedParameterRulesEngine.npkAtestparametercode\r\n                }\r\n                testInitiateSiteTemp.push(object);\r\n                testInitiateSiteTab.push(object);\r\n                siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = sortData(testInitiateSiteTemp, 'descending', 'npksitecode')\r\n                delete selectedRecord['ntestgrouptestcode']\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            masterData['testSite'] = siteObject\r\n            masterData['testInitiateSiteTab'] = testInitiateSiteTab \r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    openModalPopup: false,\r\n                    masterData,\r\n                    siteObject,\r\n                    siteseqnumber,\r\n                    \r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n           toast.warn(this.props.intl.formatMessage({ id: \"IDS_FROMANDTOSITECANNOTBESAME\" })); \r\n        }\r\n   \r\n        }\r\n        if (Object.keys(updateInfo).length > 0) {\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n    }\r\n    deletModalSite = (inputparam, action, row) => {\r\n        let temparray = [];\r\n        let index = 0;\r\n\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab\r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab\r\n        let reportCommentsTestsTab = this.props.Login.reportCommentsTestsTab\r\n\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n        let masterData = this.props.Login.masterData || {};\r\n\r\n\r\n\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n            temparray = siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode]\r\n            temparray.splice(row['dataIndex'], 1);\r\n            testInitiateSiteTab.splice(row['dataIndex'], 1);\r\n            siteObject[masterData.selectedParameterRulesEngine.npkAtestparametercode] = temparray\r\n\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            temparray = testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode]\r\n            index = temparray.findIndex(x => x.npKAsampletestcommentscode === row['dataItem'].npKAsampletestcommentscode)\r\n            // temparray.splice(row['dataIndex'], 1);\r\n            temparray.splice(index, 1);\r\n            index = testCommentsTestsTab.findIndex(x => x.nslno === row['dataItem'].nslno)\r\n            //   testCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            testCommentsTestsTab.splice(index, 1);\r\n            testCommentObject[masterData.selectedParameterRulesEngine.npkBtestparametercode] = temparray\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n            temparray = masterData.testRepeat\r\n            temparray.splice(row['dataIndex'], 1);\r\n            reportCommentsTestsTab.splice(row['dataIndex'], 1);\r\n            reportCommentObject[masterData.selectedParameterRulesEngine.ntestgrouptestcode] = temparray\r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                siteObject,\r\n                testCommentObject,\r\n                reportCommentObject,\r\n                testInitiateSiteTab,\r\n                reportCommentsTestsTab,\r\n                testCommentsTestsTab\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteModalTest = (inputparam, action, row) => {\r\n\r\n        let testInitiateTests = this.props.Login.testInitiateTests || [];\r\n        let testCommentsTests = this.props.Login.testCommentsTests || [];\r\n        let testRepeatTests = this.props.Login.testRepeatTests || [];\r\n        let testenforceTests = this.props.Login.testenforceTests || [];\r\n        let reportCommentsTests = this.props.Login.reportCommentsTests || [];\r\n        let testInitiateSiteTab = this.props.Login.masterData.testInitiateSiteTab \r\n        let testCommentsTestsTab = this.props.Login.masterData.testCommentsTestsTab\r\n        let testRepeatTestsTab = this.props.Login.masterData.testRepeatTestsTab\r\n        let testenforceTestsTab = this.props.Login.masterData.testenforceTestsTab\r\n\r\n        let siteObject = this.props.Login.siteObject || {};\r\n        let testCommentObject = this.props.Login.testCommentObject || {};\r\n        let reportCommentObject = this.props.Login.reportCommentObject || {};\r\n\r\n\r\n        let testInitiateTestOptions = this.props.Login.testInitiateTestOptions || [];\r\n        let testCommentsTestOptions = this.props.Login.testCommentsTestOptions || [];\r\n        let reportCommentsTestOptions = this.props.Login.reportCommentsTestOptions || [];\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n\r\n\r\n        let testInitiateTestdeletedOptions = this.props.Login.testInitiateTestdeletedOptions || [];\r\n        let testCommentsTestdeletedOptions = this.props.Login.testCommentsTestdeletedOptions || [];\r\n        let reportCommentsTestdeletedOptions = this.props.Login.reportCommentsTestdeletedOptions || [];\r\n\r\n        let masterData = this.props.Login.masterData || {};\r\n        let index = 0;\r\n        if (this.props.Login.activeTabIndex === 1) {\r\n           // index = this.props.Login.testInitiateTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)\r\n            index = this.props.Login.testInitiateTests.findIndex(x => x.npkAtestparametercode === inputparam.testParameter.npkAtestparametercode)\r\n            testInitiateTests.splice(index, 1);\r\n            //   index =  masterData['testParameter'].findIndex(x => x.ntestgrouptestcode === inputparam.testParameter.ntestgrouptestcode)\r\n            //   masterData['testParameter'].splice(index, 1); \r\n           \r\n            testInitiateSiteTab=testInitiateSiteTab.filter(function( obj ) {\r\n                return obj.npkAtestparametercode !== inputparam.testParameter.npkAtestparametercode;\r\n            }) \r\n            delete siteObject[inputparam.testParameter.npkAtestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 2) {\r\n            index = this.props.Login.testCommentsTests.findIndex(x => x.npkBtestparametercode === inputparam.testParameterComments.npkBtestparametercode)\r\n            testCommentsTests.splice(index, 1); \r\n            // index =  testCommentsTestsTab.findIndex(x => x.ntestgrouptestcode === inputparam.testParameterComments.ntestgrouptestcode) \r\n            // testCommentsTestsTab.splice(index, 1);\r\n            testCommentsTestsTab=testCommentsTestsTab.filter(function( obj ) {\r\n                return obj.npkBtestparametercode !== inputparam.testParameterComments.npkBtestparametercode;\r\n            }) \r\n            delete testCommentObject[inputparam.testParameterComments.npkBtestparametercode]\r\n        }\r\n        if (this.props.Login.activeTabIndex === 3) {\r\n          //  index = this.props.Login.testRepeatTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode) \r\n            index=row['dataIndex'] \r\n            testRepeatTests.splice(index, 1);\r\n            testRepeatTestsTab.splice(index, 1); \r\n        }\r\n        if (this.props.Login.activeTabIndex === 4) {\r\n        //    index = this.props.Login.testenforceTests.findIndex(x => x.ntestgrouptestcode === masterData.selectedParameterRulesEngine.ntestgrouptestcode)  \r\n            index=row['dataIndex']\r\n            testenforceTests.splice(index, 1);\r\n            testenforceTestsTab.splice(index, 1); \r\n        }\r\n        let updateInfo = {}\r\n        updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                testInitiateTests,\r\n                siteObject,\r\n                testCommentObject,\r\n                testCommentsTests,\r\n                reportCommentsTests,\r\n                reportCommentObject,\r\n                masterData:{...masterData,   testCommentsTestsTab,testInitiateSiteTab,\r\n                    testRepeatTestsTab,\r\n                    testenforceTestsTab},\r\n                testRepeatTests,\r\n                testenforceTests,\r\n             \r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onmodalComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let isneedsgeneralcomments = this.state.isneedsgeneralcomments || {} \r\n        let action=this.props.Login.action;\r\n        if (fieldName === 'ncommentsubtypecode') {\r\n            if (comboData.value === 6) {\r\n                isneedsgeneralcomments = true\r\n                delete selectedRecord['nsampletestcommentscode']\r\n            }\r\n            else {\r\n                isneedsgeneralcomments = false\r\n                delete selectedRecord['sgeneralcomments']\r\n\r\n            }\r\n        }\r\n        else if (fieldName === 'nproductcatcode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getSpecificationTestGroupRulesEngine(selectedRecord, this.props.Login.selectedRecord, true, this.props.Login.masterData, this.props.Login.userInfo)\r\n        }\r\n        else if (fieldName === 'ntestgrouptestcode' && (this.state.activeTabIndex === 4//||this.state.activeTabIndex === 1\r\n            ) ) {\r\n\r\n            if (selectedRecord['ntestgrouptestparametercode']) {\r\n                if (selectedRecord[fieldName].value !== comboData.value) {\r\n                    delete selectedRecord['ntestgrouptestparametercode']\r\n                }\r\n            }\r\n            selectedRecord[fieldName] = comboData;\r\n            selectedRecord['ntestgrouprulesenginecode']=this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']?\r\n        this.props.Login.masterData.SelectedRulesEngine['ntestgrouprulesenginecode']:0;\r\n            this.props.getParameterforEnforce(selectedRecord, this.props.Login.masterData, this.props.Login.userInfo\r\n                ,this.state.activeTabIndex,action)\r\n\r\n        }\r\n        //This is to Get Parameter Results from the User\r\n        else if (fieldName === 'ntestgrouptestparametercode' && (this.state.activeTabIndex === 1) ) { \r\n            let updateInfo = {}\r\n            updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    screenName:'IDS_TESTGROUPRESULTENTRY', \r\n                    openModal:true\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n\r\n        }\r\n        else if (fieldName === 'nallottedspeccode') {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.props.getComponentTestGroupRulesEngine(selectedRecord, this.props.Login.selectedRecord, true, this.props.Login.masterData, this.props.Login.userInfo)\r\n        }\r\n        if (fieldName === 'nsampletestcommentscode') {\r\n            selectedRecord['sdescription'] = comboData.item.sdescription;\r\n        }\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord, isneedsgeneralcomments });\r\n    }\r\n\r\n  onResultInputChange = (event, index, parameter)=> {\r\n        let selectedRecord = this.state.selectedRecord || [];\r\n        let ParameterRulesEngine = this.state.selectedRecord.ParameterRulesEngine ? this.state.selectedRecord.ParameterRulesEngine : [];\r\n        let sresult = \"\";\r\n        let sfinal = \"\";\r\n        let sresultpredefinedname = \"\";\r\n        let salertmessage = \"\";\r\n        let sresultcomment = \"\";\r\n        let sgradename=\"\";\r\n        let value = -1;\r\n        let acceptedFile = [];\r\n        let ncalculatedresult;\r\n        let currentAlertResultCode = 0;\r\n        let currentntestgrouptestpredefcode = 0;\r\n        let inputData = {} \r\n        if (parameter.nparametertypecode === parameterType.NUMERIC) {\r\n            if (/^-?\\d*?\\.?\\d*?$/.test(event.target.value) || event.target.value === \"\") {\r\n                sresult = event.target.value;\r\n                ncalculatedresult = 4\r\n            } else {\r\n                sresult = ParameterRulesEngine[index]['sresult'] === null ? \"\" : ParameterRulesEngine[index]['sresult'];\r\n                ncalculatedresult = ParameterRulesEngine[index]['ncalculatedresult'];\r\n            } \r\n        }\r\n        if (parameter.nparametertypecode === parameterType.PREDEFINED) {\r\n            currentAlertResultCode = event.item.ntestgrouptestparametercode;\r\n            currentntestgrouptestpredefcode = event.item.ntestgrouptestpredefcode;\r\n            if (event != null) {\r\n                sresult = event.item.spredefinedname;\r\n                sresultpredefinedname = event.item.sresultpredefinedname;\r\n                sfinal = event.item.spredefinedsynonym\r\n                value = event.item.ngradecode;\r\n                salertmessage = event.item.salertmessage ? event.item.salertmessage : \"\";\r\n                sresultcomment = event.item.spredefinedcomments ? event.item.spredefinedcomments : \"\";\r\n                ncalculatedresult = 4;\r\n            \r\n            }\r\n            else {\r\n                sresult = \"\";\r\n                sfinal = \"\";\r\n                sresultpredefinedname = \"\";\r\n                value = -1;\r\n                ncalculatedresult = 4\r\n            }\r\n            inputData = {\r\n                'ntestgrouptestpredefcode': event.item.ntestgrouptestpredefcode,\r\n                'salertmessage': salertmessage,\r\n                'nneedresultentryalert': event.item.nneedresultentryalert,\r\n                'nneedsubcodedresult': event.item.nneedsubcodedresult\r\n            }\r\n            if (event.item.nneedresultentryalert === transactionStatus.NO &&\r\n                event.item.nneedsubcodedresult === transactionStatus.NO) {\r\n                if (ParameterRulesEngine[index]['additionalInfo']) {\r\n                    ParameterRulesEngine[index]['additionalInfo'] = \"\"\r\n                }\r\n                if (ParameterRulesEngine[index]['additionalInfoUidata']) {\r\n                    ParameterRulesEngine[index]['additionalInfoUidata'] = \"\"\r\n                }\r\n            } \r\n        }\r\n        if (parameter.nparametertypecode === parameterType.CHARACTER) {\r\n            sresult = event.target.value;\r\n            if (event.target.value.trim() === \"\"){\r\n                ncalculatedresult = -1;\r\n            }\r\n            else{\r\n                ncalculatedresult = 4;\r\n            }  \r\n        }\r\n        if (parameter.nparametertypecode === parameterType.ATTACHMENT) {\r\n            sresult = event[0].name;\r\n            acceptedFile = event;\r\n            ncalculatedresult = 4 \r\n        }\r\n        ParameterRulesEngine[index]['sresult'] = sresult\r\n        ParameterRulesEngine[index]['sfinal'] = sfinal\r\n        ParameterRulesEngine[index]['sresultpredefinedname'] = sresultpredefinedname\r\n        ParameterRulesEngine[index]['sresultcomment'] = sresultcomment\r\n        ParameterRulesEngine[index]['salertmessage'] = salertmessage\r\n        ParameterRulesEngine[index]['acceptedFile'] = acceptedFile\r\n        ParameterRulesEngine[index]['editable'] = true\r\n        ParameterRulesEngine[index]['ngradecode'] = value\r\n        ParameterRulesEngine[index]['ncalculatedresult'] = ncalculatedresult\r\n\r\n        selectedRecord.ParameterRulesEngine = ParameterRulesEngine\r\n        if (parameter.nparametertypecode === parameterType.PREDEFINED) {\r\n            this.props.getPredefinedDataRulesEngine(inputData, selectedRecord, currentAlertResultCode, this.props.Login.masterData)\r\n        }\r\n        this.setState({\r\n            selectedRecord: selectedRecord,\r\n            currentAlertResultCode,\r\n            currentntestgrouptestpredefcode \r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    getOutcomeDetails = (inputParam) => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        const testParameter = this.state.activeTabIndex === 1 ? inputParam.testParameter : this.state.activeTabIndex === 2 ?\r\n            inputParam.testParameterComments : inputParam.testParameterreportComments;\r\n        masterData['selectedParameterRulesEngine'] = {}\r\n        masterData['selectedParameterRulesEngine'] = testParameter;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    viewParameter=(param)=>{\r\n        let masterData = this.props.Login.masterData || {};\r\n        masterData['ParameterRulesEngine']=param['ParameterRulesEngine']\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                showAlertGrid:true,\r\n                masterData,\r\n                showParameterGrid:true\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo); \r\n    }\r\n    handleExpandChange = () => {\r\n        let childListMap1 =  new Map();\r\n        let childListMap2 =   new Map();\r\n        let childListMap3 =  new Map();\r\n        let childListMap =  new Map(); \r\n        if (this.props.Login.masterData.activeTabName === 'IDS_Test') { \r\n            let keylst = this.props.Login.masterData.activeTabName === 'IDS_Test' ?\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject']) :\r\n                this.props.Login.masterData.activeTabName === 'IDS_COMMENTS' ?\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject']) :\r\n                    Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap.set(parseInt(key),\r\n                    Object.values(this.props.Login.masterData.activeTabName === 'IDS_Test' ?\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['siteObject'][key] :\r\n                        this.props.Login.masterData.activeTabName === 'IDS_COMMENTS' ?\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key] :\r\n                            this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_COMMENTS') {\r\n            let keylst = Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'])\r\n            keylst.map(key => {\r\n                childListMap2.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['testCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap2 })\r\n        }\r\n        if (this.props.Login.masterData.activeTabName === 'IDS_REPORTCOMMENTS') {\r\n            let keylst =\r\n                Object.keys(this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject']);\r\n            keylst.map(key => {\r\n                childListMap3.set(parseInt(key),\r\n                    Object.values(\r\n                        this.props.Login.masterData.SelectedRulesEngine['jsonuidata']['reportCommentObject'][key]));\r\n            })\r\n            this.setState({ childListMap3 })\r\n        }\r\n    }\r\n    viewOutcome = (props) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){ \r\n            let  masterData= this.props.Login.masterData\r\n            masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0]\r\n            if(masterData['SelectedRulesEngine']['jsonuidata']&&masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'])\r\n            {\r\n                 masterData['SelectedRulesEngine']['jsonuidata']['testInitiateTests'].forEach(object => {\r\n                    object['expanded']&&delete object['expanded'];\r\n                  });\r\n            } \r\n            masterData['activeTabName']='IDS_Test'\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: \"IDS_VIEWOUTCOME\",\r\n                operation: \"IDS_VIEW\",\r\n                openModal: true,\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    else{\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOVIEWOUTCOME\" })); \r\n    }\r\n    }\r\n    openflowview = (props) => {\r\n        if(this.props.Login.masterData['RulesEngine']&&this.props.Login.masterData['RulesEngine'].length>0){\r\n           let  masterData= this.props.Login.masterData \r\n        masterData['SelectedRulesEngine']=props['SelectedRulesEngine'][0]\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                screenName: \"IDS_VIEWRULE\",\r\n                operation: \"IDS_VIEW\",\r\n                openModal: true,\r\n                masterData\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    else{\r\n        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTRULETOVIEWRULE\" })); \r\n    }\r\n    } \r\n    handlePageChangeRuleEngine = (event) => {\r\n        this.setState({\r\n            skipRulesEngine: event.skip,\r\n            takeRulesEngine: event.take\r\n        });\r\n    }\r\n    addGroup = () => {\r\n\r\n        const { selectedRecord } = this.state;\r\n        let viewColumnListByRule = this.props.Login.viewColumnListByRule || [];\r\n        const addGroupList = this.props.Login.addGroupList || [];\r\n        const arrayLength = addGroupList.length;\r\n        addGroupList[arrayLength] = 1;\r\n\r\n        viewColumnListByRule = this.props.Login.databaseviewList;\r\n        if (arrayLength === 0) {\r\n            selectedRecord[\"groupList\"] = [];\r\n            selectedRecord[\"filtercolumns\"] = this.props.Login.selectFields;\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"] === undefined) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"][arrayLength - 1] === undefined) {\r\n            selectedRecord[\"groupListJoins\"][arrayLength - 1] = {}\r\n        }\r\n        selectedRecord[\"groupListJoins\"][arrayLength - 1][\"button_and\"] = true;\r\n\r\n        selectedRecord[\"groupList\"][arrayLength] = [];\r\n        selectedRecord[\"groupList\"][arrayLength][\"button_and\"] = true;\r\n        selectedRecord[\"groupList\"][arrayLength][0] = {};\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addGroupList,\r\n                viewColumnListByRule,\r\n                selectedRecord,\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    getTestGroupRulesEngineAdd = () => {\r\n        //   if (this.state.selectedcombo['nproductcatcode']) {\r\n        //    const sqlQuery = false;\r\n        //this.setState({ selectedRecord: {} });\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        this.props.getTestGroupRulesEngineAdd(this.props.Login.userInfo, false, {\r\n            addRuleList: [], addGroupList: [],\r\n            addAggregateList: [], addOrderbyList: []\r\n        }, this.props.Login.masterData);\r\n        //  } else {\r\n        //       toast.info(this.props.intl.formatMessage({ id: \"IDS_SELECTPRODUCTCATEGORY\" }));\r\n\r\n        //   }\r\n\r\n\r\n    }\r\n    closePortalModal = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testSite'] = {}\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: this.props.Login.operation !== 'update' ? {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData, testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0,\r\n                testInitiateSiteTab: [],\r\n                testCommentsTestsTab: [],\r\n                reportCommentsTestsTab: []\r\n            } : {\r\n                activeTabIndex: 0,\r\n                openPortalModal: false, selectedRecord: {}, addRuleList: [], count: 0,\r\n                masterData,\r\n                //  testInitiateTests: [], reportCommentsTests: [],\r\n                // testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {},\r\n                npkAtestparametercode: 0,\r\n                npkBtestparametercode: 0,\r\n                npkCtestparametercode: 0\r\n                // ,\r\n                // testInitiateSiteTab: [],\r\n                // testCommentsTestsTab: [],\r\n                // reportCommentsTestsTab: []\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    changePropertyView = (index, event, status) => {\r\n\r\n        let id = false;\r\n        let activeTabIndex\r\n        let activeTabId\r\n        let masterData = this.props.Login.masterData || {};\r\n        let activeTestTab = this.props.Login.activeTestTab || \"\"\r\n        const { selectedRecord } = this.state;\r\n        if (selectedRecord[\"groupList\"].length > 0) {\r\n            if (this.onsavevalidation(selectedRecord)) {\r\n                if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n                    activeTabIndex = this.state.activeTabIndex !== index ? index : id ? index : false;\r\n                }\r\n                if (window.innerWidth > 992 && event && this.state.enableAutoClick || !event) {\r\n                    if (index === 1) {\r\n                        activeTestTab = 'IDS_Test'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testInitiateTests && this.props.Login.testInitiateTests[0]\r\n                    }\r\n                    if (index === 2) {\r\n                        activeTestTab = 'IDS_COMMENTS'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testCommentsTests && this.props.Login.testCommentsTests[0]\r\n                    }\r\n                    if (index === 3) {\r\n                        activeTestTab = 'IDS_REPEAT'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testRepeatTests && this.props.Login.testRepeatTests[0]\r\n                    }\r\n                    if (index === 4) {\r\n                        activeTestTab = 'IDS_ENFORCERESULT'\r\n                        masterData['selectedParameterRulesEngine'] = this.props.Login.testEnforceTests && this.props.Login.testEnforceTests[0]\r\n                    }\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            activeTabIndex: index === 0 ? 0 : this.state.activeTabIndex !== index ? index : id ? index : false,\r\n                            activeTabId: id,\r\n                            activeTestTab,\r\n                            masterData\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n            } else {\r\n                toast.info(this.props.intl.formatMessage({ id: \"IDS_FILLTHERULETOADDOUTCOME\" }));\r\n            }\r\n        }\r\n        else {\r\n            toast.info(this.props.intl.formatMessage({ id: \"IDS_ATLEASTADDONERULETOADDOUTCOME\" }));\r\n        }\r\n    }\r\n\r\n\r\n    deleteRule = (groupIndex, index) => {\r\n        let addGroupList = this.props.Login.addGroupList || [];\r\n        const selectedRecord = this.state.selectedRecord;\r\n        addGroupList[groupIndex] = addGroupList[groupIndex] - 1;\r\n\r\n        if (addGroupList[groupIndex] === 0) {\r\n            addGroupList.splice(groupIndex, 1);\r\n            selectedRecord[\"groupList\"].splice(groupIndex, 1);\r\n            if (selectedRecord[\"groupListJoins\"]) {\r\n                selectedRecord[\"groupListJoins\"].splice(groupIndex - 1, 1);\r\n            }\r\n        } else {\r\n            selectedRecord[\"groupList\"][groupIndex].splice(index, 1);\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addGroupList, selectedRecord,\r\n                activeTabIndex:0 }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    deleteOutcome = (index) => {\r\n        let addOutcomeList = this.props.Login.addOutcomeList;\r\n        addOutcomeList.splice(index, 1);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addOutcomeList }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    clearSelectedRule(selectedRecord, index) {\r\n        selectedRecord[\"sinputname_\" + index] && delete selectedRecord[\"sinputname_\" + index];\r\n        selectedRecord[\"ssymbolname_\" + index] && delete selectedRecord[\"ssymbolname_\" + index];\r\n        selectedRecord[\"snumericinput_\" + index] && delete selectedRecord[\"snumericinput_\" + index];\r\n        selectedRecord[\"columnname_\" + index] && delete selectedRecord[\"columnname_\" + index];\r\n        selectedRecord[\"snumericinputtwo_\" + index] && delete selectedRecord[\"snumericinputtwo_\" + index];\r\n        selectedRecord[\"dateinput_\" + index] && delete selectedRecord[\"dateinput_\" + index];\r\n        selectedRecord[\"dateinputtwo_\" + index] && delete selectedRecord[\"dateinputtwo_\" + index];\r\n    }\r\n\r\n    clearRule = () => {\r\n        const sviewname = this.state.selectedRecord.sviewname || \"\";\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { addRuleList: [], selectedRecord: { sviewname }, sqlQuery: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    resetRule = () => {\r\n        let masterData = this.props.Login.masterData || {};\r\n        let selectedRecord = this.state.selectedRecord || {}\r\n        masterData['testParameter'] = {}\r\n        masterData['testParameterComments'] = {}\r\n        masterData['testParameterreportComments'] = {}\r\n        masterData['testComments'] = {}\r\n        masterData['reportComments'] = {}\r\n        masterData['testRepeat'] = []\r\n        masterData['testenforceTests'] = []\r\n        masterData['testSite'] = {}\r\n        if (selectedRecord[\"groupList\"]) {\r\n            selectedRecord[\"groupList\"] = []\r\n\r\n        }\r\n        if (selectedRecord[\"groupListJoins\"]) {\r\n            selectedRecord[\"groupListJoins\"] = []\r\n\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                addRuleList: [], addGroupList: [], masterData,\r\n                addAggregateList: [], addOrderbyList: [], testInitiateTests: [], reportCommentsTests: [],\r\n                testCommentsTests: [], siteObject: {}, testCommentObject: {}, reportCommentObject: {}, selectedRecord, testRepeatTests: [],\r\n                testenforceTests: [],\r\n                activeTabIndex:0\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onSymbolChange = (comboData, fieldName, groupIndex, index) => {\r\n        const { selectedRecord } = this.state;\r\n        const oldSelectedRecord = selectedRecord[\"groupList\"][groupIndex][index][fieldName] || {};\r\n        selectedRecord[\"groupList\"][groupIndex][index][fieldName] = comboData;\r\n        this.setState({ selectedRecord, groupIndex, index });\r\n    }\r\n\r\n    onInputChange = (event, type, groupIndex, index) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let needoutsource = this.state.needoutsource || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === 'needoutsource' && event.target.checked === true) {\r\n                needoutsource = true\r\n            }\r\n            else {\r\n                needoutsource = false\r\n                delete selectedRecord['nfromsitecode'];\r\n                delete selectedRecord['ntositecode'];\r\n            }\r\n            selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord, needoutsource });\r\n    }\r\n\r\n\r\n\r\n    viewColumnListByRule = (list) => {\r\n        let activeTabIndex = this.props.Login.activeTabIndex\r\n\r\n        if (activeTabIndex !== 0) {\r\n            let selectedRecord = this.props.Login.selectedRecord && this.props.Login.selectedRecord\r\n            let dynamicList = activeTabIndex === 1 ? this.props.Login.testInitiateTests : activeTabIndex === 2 ? this.props.Login.testCommentsTests\r\n                : activeTabIndex === 3 ? this.props.Login.testRepeatTests : activeTabIndex === 4 ? this.props.Login.testenforceTests : \"\"\r\n            if (dynamicList !== undefined && dynamicList)\r\n                list = list.filter(({ value }) => !dynamicList.some(x => x.ntestgrouptestcode == value))\r\n        }\r\n        return list\r\n    }\r\n    onConditionClick = (fieldName, index, isgroup) => {\r\n        let { selectedRecord } = this.state;\r\n        selectedRecord[\"groupListJoins\"] = selectedRecord[\"groupListJoins\"] || []\r\n        if (index !== undefined && isgroup === false) {\r\n            if (fieldName === `button_and`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_or`] = false;\r\n            } else if (fieldName === `button_or`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupList\"][index][`button_and`] = false;\r\n            } else if (fieldName === `button_not`) {\r\n                selectedRecord[\"groupList\"][index][fieldName] = selectedRecord[\"groupList\"][index][fieldName] === true ? false : true;\r\n            }\r\n            else {\r\n\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n        else {\r\n            if (fieldName === `button_and`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_or`] = false;\r\n            }\r\n            if (fieldName === `button_or`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? true : true;\r\n                selectedRecord[\"groupListJoins\"][index][`button_and`] = false;\r\n            }\r\n            if (fieldName === `button_not`) {\r\n                if (selectedRecord[\"groupListJoins\"][index] === undefined) {\r\n                    selectedRecord[\"groupListJoins\"][index] = {}\r\n                }\r\n                selectedRecord[\"groupListJoins\"][index][fieldName] = selectedRecord[\"groupListJoins\"][index][fieldName] === true ? false : true;\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //Rules Engine Functions End\r\n    changePropertyViewClose = (id) => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                activeTabIndex: undefined,\r\n                activeTestTab: undefined,\r\n                activeTabId: id\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    onFilterComboChange = (comboData, fieldName, caseNo) => {\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        let inputParam = {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProductCategory\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 2:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProduct\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 3:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: tempFilterData.nproductcatcode.item,\r\n                        product: comboData.item,\r\n                        project:comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getTreeVersionTemplate\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 4:\r\n                tempFilterData[fieldName] = comboData;\r\n                this.setState({ tempFilterData });\r\n                break;\r\n\r\n            case 5:\r\n                const selectedRecord = this.state.selectedRecord;\r\n                selectedRecord[fieldName] = comboData;\r\n                const TestGroupSpecSampleType = this.props.Login.testGroupInputData.TestGroupSpecSampleType || {};\r\n                let testGroupSpecSampleType = {};\r\n                if (this.props.Login.screenName === (this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode])) {\r\n                    testGroupSpecSampleType = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].item : TestGroupSpecSampleType[0].item;\r\n                } else {\r\n                    testGroupSpecSampleType = this.props.Login.masterData.SelectedComponent;\r\n                }\r\n                inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testcategory: comboData.item,\r\n                    testgroupspecsampletype: testGroupSpecSampleType,\r\n                    nallottedspeccode: this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],\r\n                    selectedRecord\r\n                }\r\n                this.props.changeTestCategory(inputParam, this.props.Login.testGroupInputData);\r\n                break;\r\n            case 6:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nprojecttypecode:tempFilterData.nprojecttypecode.value,\r\n                        projecttype:tempFilterData.nprojecttypecode.item,\r\n                       // sampletype: tempFilterData.nsampletypecode.item,\r\n                       // productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    classUrl:\"/projectmaster\",\r\n                    methodUrl: \"/getApprovedProjectByProjectType\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n           \r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.props.Login.screenName === \"IDS_PROFILETREE\"\r\n            || this.props.Login.screenName === \"IDS_EDITTREE\") {\r\n            inputParam = this.onSaveTree(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECIFICATION\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName ===this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]) {\r\n            inputParam = this.onSaveComponent(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COPYSPECIFICATION\") {\r\n            inputParam = this.onSaveCopySpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_TEST\"\r\n            || this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n            inputParam = this.onSaveTest(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECFILE\") {\r\n            inputParam = this.onSaveSpecFile(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, openModal: true, operation: this.props.Login.operation,\r\n                    screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveTest = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {};\r\n        const userinfo = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n        if (operation === \"create\") {\r\n            const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgroupspecsampletype: [masterData.SelectedComponent],\r\n                testgrouptest: testArray, userinfo\r\n            }\r\n        } else {\r\n            postParam = {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: masterData.SelectedTest ? masterData.SelectedTest.ntestgrouptestcode : 0,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                masterData: this.props.Login.masterData, searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                    \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n            }\r\n            let testgrouptestfile = null;\r\n            let testGroupFile = selectedRecord.ntestfilecode;\r\n            if (testGroupFile) {\r\n                testGroupFile = testGroupFile.item;\r\n                testgrouptestfile = {\r\n                    nlinkcode: testGroupFile.nlinkcode,\r\n                    nattachmenttypecode: testGroupFile.nattachmenttypecode,\r\n                    sdescription: testGroupFile.sdescription,\r\n                    ssystemfilename: testGroupFile.ssystemfilename,\r\n                    dcreateddate: testGroupFile.dcreateddate,\r\n                    nfilesize: testGroupFile.nfilesize,\r\n                    ntestgroupfilecode: selectedRecord.ntestgroupfilecode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    sfilename: testGroupFile.sfilename,\r\n                    nstatus: transactionStatus.ACTIVE\r\n                };\r\n            }\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgrouptest: {\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    nsectioncode: selectedRecord.nsectioncode.value,\r\n                    //nsourcecode: selectedRecord.nsourcecode.value,\r\n                    nmethodcode: selectedRecord.nmethodcode ? selectedRecord.nmethodcode.value : transactionStatus.NA,\r\n                    ninstrumentcatcode: selectedRecord.ninstrumentcatcode ? selectedRecord.ninstrumentcatcode.value : transactionStatus.NA,\r\n                    ncontainertypecode: selectedRecord.ncontainertypecode ? selectedRecord.ncontainertypecode.value : transactionStatus.NA,\r\n                    stestsynonym: selectedRecord.stestsynonym,\r\n                    ncost: selectedRecord.ncost,\r\n                    nsorter: selectedRecord.nsorter,\r\n                    nspecsampletypecode: selectedRecord.nspecsampletypecode,\r\n                    nrepeatcountno: selectedRecord.nrepeatcountno\r\n\r\n                },\r\n                testgrouptestfile, userinfo\r\n            }\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Test\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveTree = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        if (operation === \"update\") {\r\n            const selectedNode = this.props.Login.masterData.selectedNode;\r\n            inputData[\"treetemplatemanipulation\"] = {\r\n                ntemplatemanipulationcode: selectedRecord.ntemplatemanipulationcode,\r\n                sleveldescription: selectedRecord.sleveldescription,\r\n                nsampletypecode: selectedNode.nsampletypecode,\r\n                ntreeversiontempcode: selectedNode.ntreeversiontempcode,\r\n                nproductcatcode: selectedNode.nproductcatcode,\r\n                nproductcode: selectedNode.nproductcode,\r\n                nprojectmastercode: selectedNode.nprojectmastercode,\r\n            }\r\n            inputData[\"selectednode\"] = this.props.Login.masterData.ActiveKey;\r\n        } else {\r\n            const TreetempTranstestGroup = this.props.Login.TreetempTranstestGroup;\r\n            const filterData = this.state.filterData;\r\n            const selectedRecord = this.state.selectedRecord;\r\n            let treetemplatemanipulation = [];\r\n            let tempArray = filterRecordBasedOnTwoArrays(TreetempTranstestGroup, selectedRecord.treetemplatemanipulation, \"ntemptranstestgroupcode\");\r\n\r\n            tempArray.map(item => {\r\n                const treeData = {\r\n                    ntreeversiontempcode: item.ntreeversiontempcode,\r\n                    npositioncode: item.nlevelno - 1,\r\n                    sleveldescription: item.sleveldescription,\r\n                    ntemptranstestgroupcode: item.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: item.schildnode,\r\n                    ntemplatemanipulationcode: item.ntemplatemanipulationcode,\r\n                    isreadonly: item.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: item.slevelformat\r\n                }\r\n                return treetemplatemanipulation.push(treeData);\r\n            });\r\n\r\n\r\n            selectedRecord.treetemplatemanipulation.map(item => {\r\n                const treeTemplateManip = TreetempTranstestGroup.filter(temp => temp.ntemptranstestgroupcode === item.ntemptranstestgroupcode);\r\n                if (treeTemplateManip.length > 0) {\r\n                    item[\"ntemplatemanipulationcode\"] = treeTemplateManip[\"ntemplatemanipulationcode\"];\r\n                } else {\r\n                    item[\"ntemplatemanipulationcode\"] = 0;\r\n                }\r\n                return treetemplatemanipulation.push(item);\r\n            });\r\n\r\n            inputData[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n            inputData[\"sampletype\"] = filterData.nsampletypecode.item;\r\n            inputData[\"ncategorycode\"] = filterData.nproductcatcode.value;\r\n            inputData[\"nproductcode\"] = filterData.nsampletypecode.item.ncategorybasedflowrequired === transactionStatus.YES ? -1 : filterData.nproductcatcode.item.ncategorybasedflow == transactionStatus.YES ? -1 :\r\n                filterData.nproductcode.value ? filterData.nproductcode.value : -1;\r\n            inputData[\"ntreeversiontempcode\"] = filterData.ntreeversiontempcode.value;\r\n          //  inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nprojectmastercode.value:-1;\r\n            inputData[\"nprojectmastercode\"] = filterData.nprojectmastercode ? filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES ? filterData.nprojectmastercode.value :-1:-1;\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Tree\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n\r\n        let testGroupSpec = {\r\n            napproveconfversioncode: -1,\r\n            sversion: '',\r\n            napprovalstatus: transactionStatus.DRAFT,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntransactionstatus: selectedRecord[\"ntransactionstatus\"],\r\n            ncomponentrequired: selectedRecord[\"ncomponentrequired\"],\r\n            //   nclinicalspec: selectedRecord[\"nclinicalspec\"],\r\n           // nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\r\n            nprojectmastercode: this.state.filterData.nprojectmastercode ? this.state.filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES ? this.state.filterData.nprojectmastercode.value :-1 : -1,\r\n            sspecname: selectedRecord[\"sspecname\"],\r\n            dexpirydate: selectedRecord[\"dexpirydate\"],\r\n            nallottedspeccode: selectedRecord[\"nallottedspeccode\"] ? selectedRecord[\"nallottedspeccode\"] : 0,\r\n            ntzexpirydate: selectedRecord[\"ntzexpirydate\"].value,\r\n            stzexpirydate: selectedRecord[\"ntzexpirydate\"].label\r\n        };\r\n\r\n        const dexpirydate = testGroupSpec[\"dexpirydate\"];\r\n        //need this conversion when the datatype of the field is 'Instant'\r\n        testGroupSpec[\"dexpirydate\"] = formatInputDate(dexpirydate, false);\r\n\r\n        if (operation === \"create\") {\r\n            testGroupSpec[\"ntemplatemanipulationcode\"] = this.props.Login.masterData.selectedNode.ntemplatemanipulationcode\r\n        }\r\n        let ntreeversiontempcode = this.state.filterData.ntreeversiontempcode.value;\r\n\r\n        const inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            testgroupspecification: testGroupSpec,\r\n            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n            selectedspecification: this.props.Login.masterData.SelectedSpecification,\r\n            ntreeversiontempcode: ntreeversiontempcode\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Specification\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveComponent = (saveType, formRef) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgroupspecsampletype: [selectedRecord.ncomponentcode.item],\r\n            testgrouptest: testArray,\r\n            userinfo: this.props.Login.userInfo,\r\n            genericlabel:this.props.Login.genericLabel\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.Login.operation,\r\n            methodUrl: \"Component\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let specFileArray = [];\r\n        const selectedSpecification = this.props.Login.masterData.SelectedSpecification;\r\n        let specFile = {\r\n            nallottedspeccode: selectedSpecification.nallottedspeccode,\r\n            nspecfilecode: selectedRecord.nspecfilecode ? selectedRecord.nspecfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, specFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] =Lims_JSON_stringify(file.name,false)  ;\r\n                    tempData[\"sdescription\"] =Lims_JSON_stringify( selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\",false);\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    specFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                specFile[\"sfilename\"] =Lims_JSON_stringify(selectedRecord.sfilename,false)  ;\r\n                specFile[\"sdescription\"] =Lims_JSON_stringify(selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\",false) ;\r\n                specFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                specFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                specFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                specFileArray.push(specFile);\r\n            }\r\n        } else {\r\n            specFile[\"sfilename\"] =Lims_JSON_stringify( selectedRecord.slinkfilename.trim(),false) ;\r\n            specFile[\"sdescription\"] =Lims_JSON_stringify( selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\",false);\r\n            specFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            specFile[\"ssystemfilename\"] = \"\";\r\n            specFile[\"nfilesize\"] = 0;\r\n            specFileArray.push(specFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"testgroupspecification\", JSON.stringify(selectedSpecification));\r\n        formData.append(\"testgroupspecfile\", JSON.stringify(specFileArray));\r\n        const inputParam = {\r\n           // inputData: { userinfo: this.props.Login.userInfo },\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sformname: Lims_JSON_stringify(this.props.Login.userInfo.sformname),\r\n                    smodulename: Lims_JSON_stringify(this.props.Login.userInfo.smodulename),\r\n                    //ALPD-1628(while saving the file and link,audit trail is not captured the respective language)\r\n                    slanguagename: Lims_JSON_stringify(this.props.Login.userInfo.slanguagename)\r\n                }\r\n            },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.Login.operation,\r\n            classUrl: \"testgroup\",\r\n            saveType, formRef, methodUrl: \"SpecificationFile\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteSpecRecord = (deleteParam) => {\r\n        const selectedRecord = deleteParam.selectedRecord;\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const ntreeversiontempcode = masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === ntreeversiontempcode);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            if (selectedRecord.napprovalstatus === transactionStatus.DRAFT\r\n                || selectedRecord.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.deleteRecord(deleteParam);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if (this.props.Login.masterData.selectedNode !== undefined && this.props.Login.masterData.selectedNode !== null) {\r\n            const masterData = this.props.Login.masterData;\r\n            const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n            const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n            if (templateVersionStatus === transactionStatus.RETIRED) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n            }\r\n            else {\r\n                if (this.props.Login.masterData.selectedNode) {\r\n                    const methodUrl = deleteParam.methodUrl;\r\n                    let dataState = this.state.componentDataState;\r\n                    const screenName = deleteParam.screenName;\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            [deleteParam.keyName]: deleteParam.selectedRecord,\r\n                            userinfo: this.props.Login.userInfo,\r\n                            genericlabel: this.props.Login.genericLabel,\r\n                            testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n                            ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: deleteParam.operation,\r\n                        methodUrl: methodUrl,\r\n                        screenName, dataState\r\n                    }\r\n                    const masterData = this.props.Login.masterData;\r\n                    //if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n                }\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n        }\r\n    }\r\n\r\n    deleteMultipleRecord = (deleteParam) => {\r\n        //console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n        }\r\n        else {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgroupspecsampletype: deleteParam.props.testgroupspecsampletype,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        genericlabel:this.props.Login.genericLabel,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.Login.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"TestGroupComponent\",\r\n                    screenName:this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] \r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName:this.props.Login.genericLabel && this.props.Login.genericLabel[\"Component\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] , operation: \"delete\", selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onDropSpecFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n    validateTestGroupComplete = (operation, inputValue, ncontrolCode) => {\r\n        if (this.props.Login.masterData.selectedNode !== undefined && this.props.Login.masterData.selectedNode !== null) {\r\n            const masterData = this.props.Login.masterData;\r\n            const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n\r\n            const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n            if (templateVersionStatus === transactionStatus.RETIRED) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTEDTEMPLATEISRETIRED\" }));\r\n            }\r\n            else {\r\n                if (inputValue.testgroupspecification) {\r\n                    if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                        || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                        return rsapi.post(\"testgroup/validateTestGroupComplete\", {\r\n                            nallottedspeccode: inputValue.testgroupspecification.nallottedspeccode,\r\n                            \"userinfo\": this.props.Login.userInfo\r\n                        })\r\n                            .then(response => {\r\n                                if (response.data && response.data.length > 0) {\r\n                                    const inactiveTestArray = [];\r\n                                    response.data.map(item => inactiveTestArray.indexOf(item.stestname) === -1 ? inactiveTestArray.push(item.stestname) : \"\");\r\n                                    const data = \" [\" + inactiveTestArray + \"] \" + this.props.intl.formatMessage({ id: \"IDS_INACTIVETESTSATCOMPLETE\" })\r\n                                    this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                        this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                        data,\r\n                                        this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                        this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                        () => this.completeSpecification(operation, inputValue, ncontrolCode),\r\n                                        false,\r\n                                        undefined);\r\n                                }\r\n                                else {\r\n                                    this.completeSpecification(operation, inputValue, ncontrolCode);\r\n                                }\r\n\r\n                            })\r\n                            .catch(error => {\r\n                                if (error.response.status === 500) {\r\n                                    toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                                }\r\n                                else {\r\n                                    toast.warn(this.props.intl.formatMessage({ id: error.response }));\r\n                                }\r\n                            })\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                    }\r\n                }\r\n                else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    retireSpec = (operation, selectedSpecification, approvalRoleActionDetail, retireSpecId) => {\r\n        if (selectedSpecification.testgroupspecification.napprovalstatus !== transactionStatus.RETIRED) {\r\n            if (approvalRoleActionDetail.length > 0 && approvalRoleActionDetail[0].nlevelno === transactionStatus.ACTIVE) {\r\n                if (selectedSpecification.testgroupspecification[\"napprovalstatus\"] === approvalRoleActionDetail[0].ntransactionstatus) {\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            nallottedspeccode: selectedSpecification.testgroupspecification,\r\n                            treetemplatemanipulation: selectedSpecification.treetemplatemanipulation,\r\n                            approvalRoleActionDetail: approvalRoleActionDetail[0],\r\n                            userinfo: this.props.Login.userInfo,\r\n                            operation: operation\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: operation,\r\n                        methodUrl: \"Spec\",\r\n                        screenName: \"IDS_STUDYPLAN\"\r\n                    }\r\n\r\n\r\n                    let masterData = this.props.Login.masterData\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, retireSpecId)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: \"IDS_STUDYPLAN\", operation: operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.retireSpecification(inputParam.inputData, masterData);\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_RETIRECANBECONEAFTERFINAL\" }));\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FINALLEVELAPPROVE\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYRETIRED\" }));\r\n        }\r\n\r\n    }\r\n\r\n    specificationReport = (operation, ncontrolCode) => {\r\n        if (this.props.Login.masterData.SelectedComponent && this.props.Login.masterData.SelectedTest) {\r\n            const inputParam = {\r\n                inputData: {\r\n                    sprimarykeyname: 'nallottedspeccode',\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ncontrolcode: ncontrolCode,\r\n                    nregtypecode: transactionStatus.NA,\r\n                    nregsubtypecode: transactionStatus.NA,\r\n                    nreportmodulecode: transactionStatus.NA,\r\n                    nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n                    nreportdecisiontypecode: transactionStatus.NA,\r\n                    certificatetypecode: transactionStatus.NA,\r\n                    nsectioncode: transactionStatus.NA,\r\n                    operation: operation,\r\n                    nallottedspeccode: this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],\r\n                    selectedComponent: this.props.Login.masterData[\"SelectedComponent\"],\r\n                    selectedTest: this.props.Login.masterData[\"SelectedTest\"],\r\n                    filterData: this.state.filterData\r\n\r\n                },\r\n            }\r\n            this.props.reportSpecification(inputParam['inputData']);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n        }\r\n    }\r\n\r\n    completeSpecification = (operation, inputValue, ncontrolCode) => {\r\n        if (inputValue.testgroupspecification) {\r\n            if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n\r\n                const inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                        testGroupTest: this.props.Login.masterData.TestGroupTest,\r\n                        ...inputValue\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: operation,\r\n                    methodUrl: \"Specification\",\r\n                    screenName: \"IDS_SPECIFICATION\"\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: \"IDS_SPECIFICATION\", operation: operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    approveSpecification = (status, needEsign) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const inputParam = {\r\n            inputData: {\r\n                userinfo: this.props.Login.userInfo,\r\n                treetemplatemanipulation: masterData.selectedNode,\r\n                ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                testgroupspecification: {\r\n                    ...masterData.SelectedSpecification,\r\n                    napprovalstatus: status\r\n                }\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: \"approve\",\r\n            methodUrl: \"Specification\",\r\n            screenName: \"IDS_SPECIFICATION\"\r\n        }\r\n        if (needEsign === transactionStatus.YES) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_SPECIFICATION\", operation: \"approve\", selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo, optional) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (fieldName === \"ntestcode\") {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                } else {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                }\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    generateBreadCrumData(filterData) {\r\n        if (filterData && Object.values(filterData).length > 0 && filterData.nsampletypecode && filterData.nsampletypecode.item) {\r\n            // if (filterData.nsampletypecode && filterData.nproductcatcode \r\n            //     && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES \r\n            //     && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.NO) \r\n            if (filterData.nsampletypecode && filterData.nsampletypecode.item.ncategorybasedflowrequired == transactionStatus.YES ? true : filterData.nproductcatcode \r\n                && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? true:false) \r\n                {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ?this.props.Login.genericLabel && this.props.Login.genericLabel[\"ProductCategory\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]  :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ]\r\n                if (filterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE)\r\n                {\r\n                 if ( filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES) {\r\n                    this.breadCrumbData.push(  {\r\n                        \"label\": \"IDS_PROJECTTYPE\",\r\n                        \"value\": filterData.nprojecttypecode ? filterData.nprojecttypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_PROJECT\",\r\n                        \"value\": filterData.nprojectmastercode ? filterData.nprojectmastercode.label : \"\"\r\n                    })\r\n                }\r\n                }\r\n            } else {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ?this.props.Login.genericLabel && this.props.Login.genericLabel[\"ProductCategory\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode] :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? this.props.Login.genericLabel && this.props.Login.genericLabel[\"Product\"][\"jsondata\"][\"sdisplayname\"][this.props.Login.userInfo.slanguagetypecode]  :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENT\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIAL\" : \"\",\r\n                        \"value\": filterData.nproductcode ? filterData.nproductcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ];\r\n                if (filterData.nsampletypecode.value === SampleType.PROJECTSAMPLETYPE)\r\n                {\r\n                    if ( filterData.nsampletypecode.item.nprojectspecrequired === transactionStatus.YES) {\r\n                    this.breadCrumbData.push(  {\r\n                        \"label\": \"IDS_PROJECTTYPE\",\r\n                        \"value\": filterData.nprojecttypecode ? filterData.nprojecttypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_PROJECT\",\r\n                        \"value\": filterData.nprojectmastercode ? filterData.nprojectmastercode.label : \"\"\r\n                    })\r\n                }\r\n                }\r\n            }\r\n\r\n        }else{\r\n            this.breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_SAMPLETYPE\",\r\n                    \"value\":filterData && filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                },\r\n            ]\r\n        }\r\n    }\r\n\r\n    updateSpiltterLayout() {\r\n        if (this.myRef && this.myRef.current && this.myRef.current.clientHeight + 20 !== this.state.fixefScrollHeight) {\r\n\r\n            this.setState({\r\n                fixefScrollHeight: this.myRef.current.clientHeight + 20,\r\n                disableSplit: true\r\n            })\r\n            //console.log(this.myRef.current.clientHeight)\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    disableSplit: false\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n        let selectsubcodedelete = this.state.selectsubcodedelete;\r\n        let filterData = this.state.filterData || {};\r\n        let isStateChanged = false;\r\n        let activeTabIndex = this.props.Login.activeTabIndex || 0;\r\n        let activeTabId = this.props.Login.activeTabId || false;\r\n\r\n        this.updateSpiltterLayout()\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            isStateChanged = true;\r\n        }\r\n        if (this.props.Login.selectedsubcodedresult !== previousProps.Login.selectedsubcodedresult) {\r\n           selectedsubcodedresult = this.props.Login.selectedsubcodedresult;\r\n            //selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n            isStateChanged = true;\r\n        }\r\n        if (this.props.Login.selectsubcodedelete !== previousProps.Login.selectsubcodedelete) {\r\n            selectsubcodedelete = this.props.Login.selectsubcodedelete;\r\n             //selectedsubcodedresult = this.state.selectedsubcodedresult;\r\n             isStateChanged = true;\r\n         }\r\n        if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex || this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.activeTabIndex !== previousProps.Login.activeTabIndex) {\r\n                activeTabIndex = this.props.Login.activeTabIndex;\r\n                activeTabId = this.props.Login.activeTabId;\r\n                isStateChanged = true;\r\n                // this.setState({\r\n                //     activeTabIndex,\r\n                //     activeTabId\r\n                // });\r\n            }\r\n        }\r\n        if (this.props.Login.tempFilterData !== previousProps.Login.tempFilterData) {\r\n            tempFilterData = this.props.Login.tempFilterData || {};\r\n            isStateChanged = true;\r\n        }\r\n        let sampleType = this.state.sampleType || [];\r\n        if (this.props.Login.masterData.SampleType !== previousProps.Login.masterData.SampleType) {\r\n            const sampleTypeMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"ascending\", false);\r\n            sampleType = sampleTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nsampletypecode\"] = sampleType.length ? sampleType[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let productCategory = this.state.productCategory || [];\r\n        if (this.props.Login.masterData.ProductCategory !== previousProps.Login.masterData.ProductCategory) {\r\n            const productCatMap = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\", \"sproductcatname\", \"nproductcatcode\", \"ascending\", false);\r\n            productCategory = productCatMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcatcode\"] = productCategory.length > 0 ? productCategory[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let product = this.state.product || [];\r\n        if (this.props.Login.masterData.Product !== previousProps.Login.masterData.Product) {\r\n            const productMap = constructOptionList(this.props.Login.masterData.Product || [], \"nproductcode\", \"sproductname\", \"nproductcode\", \"ascending\", false);\r\n            product = productMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcode\"] = product.length > 0 ? product[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let projectType = this.state.projectType || [];\r\n        if (this.props.Login.masterData.ProjectTypeList !== previousProps.Login.masterData.ProjectTypeList) {\r\n            const projectTypeMap = constructOptionList(this.props.Login.masterData.ProjectTypeList || [], \"nprojecttypecode\", \r\n                        \"sprojecttypename\", \"nprojecttypecode\", \"ascending\", false);\r\n            projectType = projectTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nprojecttypecode\"] = projectType.length > 0 ? projectType[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let project = this.state.project || [];\r\n        if (this.props.Login.masterData.ProjectMasterList !== previousProps.Login.masterData.ProjectMasterList) {\r\n            const projectMasterMap = constructOptionList(this.props.Login.masterData.ProjectMasterList || [], \"nprojectmastercode\", \r\n                        \"sprojectcode\", \"nprojectmastercode\", \"ascending\", false);\r\n            project = projectMasterMap.get(\"OptionList\");\r\n            tempFilterData[\"nprojectmastercode\"] = project.length > 0 ? project[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let treeVersionTemplate = this.state.treeVersionTemplate || [];\r\n        if (this.props.Login.masterData.TreeVersionTemplate !== previousProps.Login.masterData.TreeVersionTemplate) {\r\n            const templateMap = constructOptionList(this.props.Login.masterData.TreeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", \"ntreeversiontempcode\", \"ascending\", false);\r\n            treeVersionTemplate = templateMap.get(\"OptionList\");\r\n            tempFilterData[\"ntreeversiontempcode\"] = treeVersionTemplate.length > 0 ? treeVersionTemplate[treeVersionTemplate.length - 1] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        let userRoleControlRights = this.state.userRoleControlRights || [];\r\n        let controlMap = this.state.controlMap || [];\r\n        if (this.props.Login.userInfo && this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const nformCode = this.props.Login.userInfo.nformcode;\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[nformCode] && Object.values(this.props.Login.userRoleControlRights[nformCode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode));\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, nformCode);\r\n            filterData = { ...tempFilterData };\r\n            this.generateBreadCrumData(filterData);\r\n        }\r\n\r\n        if (this.props.Login.filterData !== previousProps.Login.filterData) {\r\n            filterData = { ...this.props.Login.filterData };\r\n            this.generateBreadCrumData(filterData);\r\n            isStateChanged = true;\r\n        }\r\n        else{\r\n             this.generateBreadCrumData(filterData);\r\n        }\r\n        // else if (filterData !== previousState.filterData) {\r\n        //     filterData = { ...tempFilterData };\r\n        //     this.generateBreadCrumData(filterData);\r\n        // }\r\n\r\n        let historyDataState = this.state.historyDataState;\r\n        if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n            historyDataState = this.props.Login.historyDataState;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        let { testskip, testtake } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip\r\n            testtake = testtake ? testtake : this.props.Login.testtake\r\n            isStateChanged = true;\r\n        } \r\n        let { skipRulesEngine, takeRulesEngine } = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            skipRulesEngine = this.props.Login.skipRulesEngine === undefined ? skipRulesEngine : this.props.Login.skipRulesEngine\r\n            takeRulesEngine = takeRulesEngine ? takeRulesEngine : this.props.Login.takeRulesEngine\r\n            isStateChanged = true;\r\n        }\r\n        if (isStateChanged) {\r\n            this.setState({\r\n                selectedRecord, tempFilterData, filterData, userRoleControlRights, controlMap,\r\n                sampleType, productCategory, product, treeVersionTemplate, historyDataState,\r\n                testskip, testtake, projectType, project,activeTabIndex, activeTabId, skipRulesEngine, takeRulesEngine,selectedsubcodedresult,selectsubcodedelete\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, sampleTypeOnChange,\r\n    getTestGroupDetails, validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent,\r\n    changeTestCategory, addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter,\r\n    addTestFile, editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial, getEditTestGroupRulesEngine,\r\n    getMaterialCategoryBasedMaterialType, getMaterialBasedMaterialCategory, getTestGroupMaterial, getDataForEditTestMaterial, addTestGroupNumericTab, getTestGroupRulesEngineAdd,\r\n    getSelectedTestGroupRulesEngine,getParameterforEnforce, getParameterRulesEngine,getParameterResultValue,subCodedResultView,saveExecutionOrder,getPredefinedDataRulesEngine\r\n})(injectIntl(TestGroup));"]},"metadata":{},"sourceType":"module"}