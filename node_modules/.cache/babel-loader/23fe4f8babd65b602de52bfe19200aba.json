{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{toast}from'react-toastify';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faTrashAlt,faPlus}from'@fortawesome/free-solid-svg-icons';import DataGrid from'../../../components/data-grid/data-grid.component';import{callService,crudMaster,validateEsignCredential,updateStore,filterColumnData,getTechniqueDetail,getEditTechniqueService,getAddTestService}from'../../../actions';import{DEFAULT_RETURN}from'../../../actions/LoginTypes';import{showEsign,getControlMap}from'../../../components/CommonScript';import{process}from'@progress/kendo-data-query';import{transactionStatus}from'../../../components/Enumeration';import ListMaster from'../../../components/list-master/list-master.component';import SlideOutModal from'../../../components/slide-out-modal/SlideOutModal';import{ReadOnlyText,ContentPanel}from'../../../components/App.styles';import AddType1Component from'../../../components/type1component/AddType1Component';import Esign from'../../audittrail/Esign';import ConfirmMessage from'../../../components/confirm-alert/confirm-message.component';import AddTechniqueTest from'./AddTechniqueTest';import rsapi from'../../../rsapi';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var Technique=/*#__PURE__*/function(_React$Component){_inherits(Technique,_React$Component);var _super=_createSuper(Technique);function Technique(props){var _this;_classCallCheck(this,Technique);_this=_super.call(this,props);_this.sidebarExpandCollapse=function(){_this.setState({sidebarview:true});};_this.confirmDelete=function(deleteId){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteTechnique(\"Technique\",_this.props.Login.masterData.SelectedTechnique,\"delete\",deleteId);});};_this.deleteTechnique=function(methodUrl,SelectedTechnique,operation,ncontrolCode){var postParam={inputListName:\"Technique\",selectedObject:\"SelectedTechnique\",primaryKeyField:\"ntechniquecode\",primaryKeyValue:SelectedTechnique.ntechniquecode,fetchUrl:\"technique/getTechnique\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"technique\":SelectedTechnique},operation:operation,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TECHNIQUE\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.deleteTechniqueTest=function(deleteParam){var postParam={inputListName:\"techniquetest\",selectedObject:\"TechniqueTest\",primaryKeyField:\"ntestcode\",primaryKeyValue:deleteParam.selectedRecord.ntestcode,fetchUrl:\"technique/getTechniqueTest\",fecthInputObject:{ntechniquecode:_this.props.Login.masterData.SelectedTechnique.ntechniquecode,userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData};var inputParam={classUrl:\"technique\",methodUrl:\"TechniqueTest\",inputData:{\"techniquetest\":deleteParam.selectedRecord,//.dataItem,\n\"ntechniquecode\":_this.props.Login.masterData.SelectedTechnique.ntechniquecode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\",postParam:postParam,testDataState:_this.state.testDataState};rsapi.post(\"technique/getTechniqueConducted\",{\"ntechniquecode\":_this.props.Login.masterData.SelectedTechnique.ntechniquecode,userinfo:_this.props.Login.userInfo}).then(function(response){if(response.data!==null&&response.data.length>0){toast.warn(_this.props.intl.formatMessage({id:\"IDS_TESTTRAININGALREADYCONDUCTED\"}));// dispatch({type: DEFAULT_RETURN, payload:{//pricingTestList:testList, \n//     openChildModal:false,\n//     operation, screenName, ncontrolCode,\n//     loading:false}});\n}else{rsapi.post(\"technique/getTechniqueScheduled\",{\"ntechniquecode\":_this.props.Login.masterData.SelectedTechnique.ntechniquecode,userinfo:_this.props.Login.userInfo}).then(function(response){if(response.data!==null&&response.data.length>0){//this.confirmMessage = new ConfirmMessage();\n_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_TESTTRAININGSCHEDULED\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_TEST\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}});}else{if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_TEST\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}}});}});};_this.onSaveTechniqueTest=function(saveType,formRef){var techniqueTestData={\"userinfo\":_this.props.Login.userInfo,\"technique\":_this.props.Login.masterData.SelectedTechnique,\"ntechniquecode\":_this.props.Login.masterData.SelectedTechnique.ntechniquecode};var postParam=undefined;var techniquetestDataState=undefined;var selectedId=null;if(_this.props.Login.operation===\"update\"){}else{//add                                                 \nvar techniquetestList=[];_this.state.selectedRecord[\"ntestcode\"]&&_this.state.selectedRecord[\"ntestcode\"].map(function(item){return techniquetestList.push({ntestcode:item.value});});techniqueTestData[\"techniquetestlist\"]=techniquetestList;}if(techniqueTestData[\"technique\"].hasOwnProperty('esignpassword')){if(techniqueTestData[\"technique\"]['esignpassword']===''){delete techniqueTestData[\"technique\"]['esigncomments'];delete techniqueTestData[\"technique\"]['esignpassword'];delete techniqueTestData[\"technique\"]['esignreason'];delete techniqueTestData[\"technique\"][\"agree\"];}}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"TechniqueTest\",inputData:techniqueTestData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch,selectedId:selectedId,techniquetestDataState:techniquetestDataState,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openChildModal\");}};_this.onSaveClick=function(saveType,formRef){var techniqueData=[];techniqueData[\"userinfo\"]=_this.props.Login.userInfo;var postParam=undefined;if(_this.props.Login.operation===\"update\"){// edit\n//postParam = { inputListName: \"Technique\", selectedObject: \"SelectedTechnique\", primaryKeyField: \"ntechniquecode\" };\npostParam={inputListName:\"Technique\",selectedObject:\"SelectedTechnique\",primaryKeyField:\"ntechniquecode\",primaryKeyValue:_this.props.Login.selectedRecord.ntechniquecode,fetchUrl:\"technique/getActiveTechniqueById\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData};techniqueData[\"technique\"]=JSON.parse(JSON.stringify(_this.props.Login.selectedRecord));techniqueData[\"stechniquename\"]=_this.state.selectedRecord[\"stechniquename\"]||\"\";techniqueData[\"sdescription\"]=_this.state.selectedRecord[\"sdescription\"]||\"\";}else{//add               \ntechniqueData[\"technique\"]={\"nsitecode\":_this.props.Login.userInfo.nmastersitecode,\"stechniquename\":_this.state.selectedRecord[\"stechniquename\"]||\"\",\"sdescription\":_this.state.selectedRecord[\"sdescription\"]||\"\"};}if(techniqueData[\"technique\"].hasOwnProperty('esignpassword')){if(techniqueData[\"technique\"]['esignpassword']===''){delete techniqueData[\"technique\"]['esigncomments'];delete techniqueData[\"technique\"]['esignpassword'];delete techniqueData[\"technique\"]['esignreason'];}}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:\"Technique\",inputData:techniqueData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch,selectedRecord:_objectSpread({},_this.state.selectedRecord)};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.openModal=function(inputParam){var updateInfo={typeName:DEFAULT_RETURN,data:{selectedRecord:{},operation:inputParam.operation,ncontrolCode:inputParam.ncontrolcode,selectedId:null,openModal:true,screenName:_this.props.intl.formatMessage({id:'IDS_TECHNIQUE'})}};_this.props.updateStore(updateInfo);};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),testDataState:event.dataState});};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var openChildModal=_this.props.Login.openChildModal;var selectedRecord=_this.props.Login.selectedRecord;var selectedId=_this.state.selectedId;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";if(_this.props.Login.screenName===\"IDS_TEST\"){openChildModal=false;}}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};selectedId=null;openChildModal=false;}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,openChildModal:openChildModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:selectedId}};_this.props.updateStore(updateInfo);};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onInputOnChange=function(event,primaryFieldKey){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;else selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.reloadData=function(){_this.searchRef.current.value=\"\";var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"technique\",methodUrl:\"Technique\",displayName:\"IDS_TECHNIQUE\",userInfo:_this.props.Login.userInfo,isClearSearch:_this.props.Login.isClearSearch};_this.props.callService(inputParam);};var testDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={masterStatus:\"\",error:\"\",selectedRecord:{},operation:\"\",SelectedTechnique:undefined,screenName:undefined,userRoleControlRights:[],controlMap:new Map(),isClearSearch:false,data:[],dataResult:[],testDataState:testDataState,sidebarview:false};_this.searchRef=React.createRef();_this.confirmMessage=new ConfirmMessage();_this.techniqueFieldList=[{\"idsName\":\"IDS_TECHNIQUE\",\"dataField\":\"stechniquename\",\"width\":\"200px\",\"fieldLength\":\"100\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DESCRIPTION\",\"dataField\":\"sdescription\",\"width\":\"200px\",\"fieldLength\":\"255\",\"mandatory\":false,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textarea\"}];_this.extractedColumnList=[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestname\",\"width\":\"200px\"}];_this.mandatoryFields=[{\"idsName\":\"IDS_TECHNIQUE\",\"dataField\":\"stechniquename\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];_this.mandatoryTestFields=[{\"idsName\":\"IDS_TEST\",\"dataField\":\"ntestcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.searchFieldList=[\"stechniquename\",\"sdescription\"];return _this;}_createClass(Technique,[{key:\"render\",value:function render(){var _this2=this;// let versionStatusCSS = \"outline-secondary\";\n// let activeIconCSS = \"fa fa-check\"\n// if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.APPROVED) {\n//     versionStatusCSS = \"outline-success\";\n// }\n// else if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.RETIRED) {\n//     versionStatusCSS = \"outline-danger\";\n//     activeIconCSS = \"\";\n// }\n// else if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.DRAFT) {\n//     activeIconCSS = \"\";\n// }\nvar addId=this.state.controlMap.has(\"AddTechnique\")&&this.state.controlMap.get(\"AddTechnique\").ncontrolcode;var editId=this.state.controlMap.has(\"EditTechnique\")&&this.state.controlMap.get(\"EditTechnique\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteTechnique\")&&this.state.controlMap.get(\"DeleteTechnique\").ncontrolcode;var addTechniqueTestId=this.state.controlMap.has(\"AddTechniqueTest\")&&this.state.controlMap.get(\"AddTechniqueTest\").ncontrolcode;var filterParam={inputListName:\"Technique\",selectedObject:\"SelectedTechnique\",primaryKeyField:\"ntechniquecode\",fetchUrl:\"technique/getTechnique\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var addParam={screenName:\"IDS_TECHNIQUE\",operation:\"create\",primaryKeyName:\"ntechniquecode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:addId};var editParam={screenName:\"IDS_TECHNIQUE\",operation:\"update\",primaryKeyName:\"ntechniquecode\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,ncontrolcode:editId,inputListName:\"Technique\",selectedObject:\"SelectedTechnique\"};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-4 mtop-fixed-breadcrumb\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'4':\"2\")},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return _this2.setState({sidebarview:!_this2.state.sidebarview});},className:\"sidebar-view-btn\"},!this.state.sidebarview?/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-less-than\"}):/*#__PURE__*/React.createElement(\"i\",{class:\"fa fa-greater-than\"})),/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_TECHNIQUE\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.Technique,getMasterDetail:function getMasterDetail(technique){return _this2.props.getTechniqueDetail(technique,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:this.props.Login.masterData.SelectedTechnique,primaryKeyField:\"ntechniquecode\",mainField:\"stechniquename\",firstField:\"\",secondField:\"\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData,openModal:function openModal(){return _this2.openModal(addParam);},isMultiSelecct:false,hidePaging:false,isClearSearch:this.props.Login.isClearSearch})),/*#__PURE__*/React.createElement(Col,{md:\"\".concat(!this.state.sidebarview?'8':\"10\")},/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},this.props.Login.masterData.Technique&&this.props.Login.masterData.Technique.length>0&&this.props.Login.masterData.SelectedTechnique?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},this.props.Login.masterData.SelectedTechnique.stechniquename),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"editTechnique\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,className:\"btn btn-circle outline-grey mr-2\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"}),onClick:function onClick(){return _this2.props.getEditTechniqueService(editParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteTechnique\",className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"}),hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.confirmDelete(deleteId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_DESCRIPTION\",message:\"Description\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,this.props.Login.masterData.SelectedTechnique.sdescription&&this.props.Login.masterData.SelectedTechnique.sdescription!==null?this.props.Login.masterData.SelectedTechnique.sdescription:\"-\")))),/*#__PURE__*/React.createElement(Card,{className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addTechniqueTest\",className:\"add-txt-btn\",hidden:this.state.userRoleControlRights.indexOf(addTechniqueTestId)===-1,onClick:function onClick(){return _this2.props.getAddTestService(\"IDS_TEST\",\"create\",_this2.props.Login.masterData,_this2.props.Login.userInfo,addTechniqueTestId,_this2.confirmMessage);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_TEST\",defaultMessage:\"Test\"}))))),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ntechniquetestcode\",data:this.state.data,dataResult:this.state.dataResult,dataState:this.state.testDataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,deleteRecord:this.deleteTechniqueTest,deleteParam:{operation:\"delete\"},methodUrl:\"TechniqueTest\",addRecord:function addRecord(){return _this2.openModal(addId);},pageable:true,scrollable:'scrollable',isActionRequired:true,isToolBarRequired:false,selectedId:this.props.Login.selectedId})))))):\"\"))))),this.props.Login.openModal||this.props.Login.openChildModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.screenName===\"IDS_TEST\"?this.props.Login.openChildModal:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.props.Login.screenName===\"IDS_TEST\"?this.onSaveTechniqueTest:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.screenName===\"IDS_TEST\"?this.props.Login.operation===\"update\"?[]:this.mandatoryTestFields:this.mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.openChildModal&&this.props.Login.screenName===\"IDS_TEST\"?/*#__PURE__*/React.createElement(AddTechniqueTest,{selectedRecord:this.state.selectedRecord||{},onComboChange:this.onComboChange,techniqueTestList:this.props.Login.techniqueTestList||[]}):/*#__PURE__*/React.createElement(AddType1Component,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,extractedColumnList:this.techniqueFieldList})}):\"\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData.Test,dataResult:process(this.props.Login.masterData.TechniqueTest||[],this.state.testDataState)});}else{var testDataState=this.state.testDataState;if(this.props.Login.testDataState===undefined){testDataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}this.setState({data:this.props.Login.masterData.TechniqueTest,selectedRecord:this.props.Login.selectedRecord,dataResult:process(this.props.Login.masterData.TechniqueTest||[],testDataState),testDataState:testDataState});}}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],inputParam:undefined,operation:null,modalName:undefined}};this.props.updateStore(updateInfo);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return Technique;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,validateEsignCredential:validateEsignCredential,getTechniqueDetail:getTechniqueDetail,getEditTechniqueService:getEditTechniqueService,getAddTestService:getAddTestService,updateStore:updateStore,filterColumnData:filterColumnData})(injectIntl(Technique));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/competencemanagement/Technique/Technique.jsx"],"names":["React","connect","toast","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faTrashAlt","faPlus","DataGrid","callService","crudMaster","validateEsignCredential","updateStore","filterColumnData","getTechniqueDetail","getEditTechniqueService","getAddTestService","DEFAULT_RETURN","showEsign","getControlMap","process","transactionStatus","ListMaster","SlideOutModal","ReadOnlyText","ContentPanel","AddType1Component","Esign","ConfirmMessage","AddTechniqueTest","rsapi","mapStateToProps","state","Login","Technique","props","sidebarExpandCollapse","setState","sidebarview","confirmDelete","deleteId","confirmMessage","confirm","intl","formatMessage","id","deleteTechnique","masterData","SelectedTechnique","methodUrl","operation","ncontrolCode","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","ntechniquecode","fetchUrl","fecthInputObject","userinfo","userInfo","inputParam","classUrl","inputData","isClearSearch","selectedRecord","userRoleControlRights","nformcode","updateInfo","typeName","data","loadEsign","screenData","openModal","screenName","deleteTechniqueTest","deleteParam","ntestcode","testDataState","post","then","response","length","warn","onSaveTechniqueTest","saveType","formRef","techniqueTestData","undefined","techniquetestDataState","selectedId","techniquetestList","map","item","push","value","hasOwnProperty","searchRef","onSaveClick","techniqueData","JSON","parse","stringify","nmastersitecode","ncontrolcode","dataStateChange","event","dataResult","dataState","closeModal","openChildModal","onComboChange","comboData","fieldName","onNumericInputOnChange","name","onInputOnChange","primaryFieldKey","target","type","checked","ACTIVE","DEACTIVE","YES","NO","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","reloadData","current","displayName","skip","take","settings","parseInt","masterStatus","error","controlMap","Map","createRef","techniqueFieldList","extractedColumnList","mandatoryFields","mandatoryTestFields","searchFieldList","addId","has","get","editId","addTechniqueTestId","filterParam","addParam","primaryKeyName","editParam","searchedData","technique","stechniquename","indexOf","sdescription","techniqueTestList","previousProps","Object","values","Test","TechniqueTest","modalName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt, faPlus} from '@fortawesome/free-solid-svg-icons';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, filterColumnData,getTechniqueDetail,getEditTechniqueService,getAddTestService\r\n   } from '../../../actions';\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { showEsign, getControlMap } from '../../../components/CommonScript';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\n\r\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\r\nimport AddType1Component from '../../../components/type1component/AddType1Component';\r\nimport Esign from '../../audittrail/Esign';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport AddTechniqueTest from './AddTechniqueTest';\r\nimport rsapi from '../../../rsapi';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass Technique extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const testDataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            selectedRecord: {},\r\n            operation: \"\",\r\n            SelectedTechnique: undefined,\r\n            screenName: undefined,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            isClearSearch: false,\r\n            data: [], \r\n            dataResult: [],\r\n            testDataState: testDataState,\r\n            sidebarview: false\r\n        };\r\n        this.searchRef = React.createRef();       \r\n        this.confirmMessage = new ConfirmMessage();\r\n       \r\n        this.techniqueFieldList = [\r\n            { \"idsName\": \"IDS_TECHNIQUE\", \"dataField\": \"stechniquename\", \"width\": \"200px\",\"fieldLength\":\"100\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_DESCRIPTION\", \"dataField\": \"sdescription\", \"width\": \"200px\" , \"fieldLength\":\"255\",\"mandatory\": false , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textarea\"},\r\n            ]\r\n        this.extractedColumnList = [\r\n                { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"200px\"},                \r\n               ]\r\n        this.mandatoryFields = [ { \"idsName\": \"IDS_TECHNIQUE\", \"dataField\": \"stechniquename\", \"width\": \"200px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n                                    ];\r\n        this.mandatoryTestFields = [ { \"idsName\": \"IDS_TEST\", \"dataField\": \"ntestcode\", \"width\": \"200px\",\"mandatory\": true , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n                                ];\r\n        this.searchFieldList = [\"stechniquename\", \"sdescription\"];\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n\r\n        // let versionStatusCSS = \"outline-secondary\";\r\n        // let activeIconCSS = \"fa fa-check\"\r\n        // if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.APPROVED) {\r\n        //     versionStatusCSS = \"outline-success\";\r\n        // }\r\n        // else if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n        //     versionStatusCSS = \"outline-danger\";\r\n        //     activeIconCSS = \"\";\r\n        // }\r\n        // else if (this.props.Login.masterData.SelectedTestPriceVersion && this.props.Login.masterData.SelectedTestPriceVersion.ntransactionstatus === transactionStatus.DRAFT) {\r\n        //     activeIconCSS = \"\";\r\n        // }\r\n\r\n        const addId = this.state.controlMap.has(\"AddTechnique\") && this.state.controlMap.get(\"AddTechnique\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditTechnique\") && this.state.controlMap.get(\"EditTechnique\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteTechnique\") && this.state.controlMap.get(\"DeleteTechnique\").ncontrolcode\r\n        \r\n        const addTechniqueTestId = this.state.controlMap.has(\"AddTechniqueTest\") && this.state.controlMap.get(\"AddTechniqueTest\").ncontrolcode;\r\n        \r\n             \r\n\r\n        const filterParam = {\r\n            inputListName: \"Technique\", selectedObject: \"SelectedTechnique\", primaryKeyField: \"ntechniquecode\",\r\n            fetchUrl: \"technique/getTechnique\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData, searchFieldList: this.searchFieldList\r\n        };\r\n\r\n        const addParam = {\r\n            screenName: \"IDS_TECHNIQUE\", operation: \"create\", primaryKeyName: \"ntechniquecode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: addId\r\n        }\r\n\r\n        const editParam = {\r\n            screenName: \"IDS_TECHNIQUE\", operation: \"update\", primaryKeyName: \"ntechniquecode\",\r\n            masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo,\r\n            ncontrolcode: editId, inputListName: \"Technique\", selectedObject: \"SelectedTechnique\"\r\n        };\r\n\r\n        \r\n        return (<>\r\n            {/* Start of get display*/}\r\n            <div className=\"client-listing-wrap mtop-4 mtop-fixed-breadcrumb\">\r\n                <Row noGutters>\r\n                    <Col md={`${!this.state.sidebarview ? '4' : \"2\"}`}>\r\n                        <span onClick= {()=>this.setState({sidebarview:!this.state.sidebarview})} className='sidebar-view-btn'>\r\n                            {!this.state.sidebarview ?\r\n                                <i class=\"fa fa-less-than\"></i> :\r\n                                <i class=\"fa fa-greater-than\"></i> \r\n                            }\r\n                        </span>\r\n                        {/* <Row noGutters>\r\n                            <Col md={12}> */}\r\n                            {/* <div className=\"list-fixed-wrap\"> */}\r\n                                <ListMaster\r\n                                    screenName={this.props.intl.formatMessage({ id: \"IDS_TECHNIQUE\" })}\r\n                                    masterData={this.props.Login.masterData}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Technique}\r\n                                    getMasterDetail={(technique) => this.props.getTechniqueDetail(technique, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                    selectedMaster={this.props.Login.masterData.SelectedTechnique}\r\n                                    primaryKeyField=\"ntechniquecode\"\r\n                                    mainField=\"stechniquename\"\r\n                                    firstField=\"\"\r\n                                    secondField=\"\"\r\n                                    filterColumnData={this.props.filterColumnData}\r\n                                    filterParam={filterParam}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    addId={addId}\r\n                                    searchRef={this.searchRef}\r\n                                    reloadData={this.reloadData}\r\n                                    openModal={() => this.openModal(addParam)}\r\n                                    isMultiSelecct={false}\r\n                                    hidePaging={false}\r\n                                    isClearSearch={this.props.Login.isClearSearch}\r\n                                />\r\n                            {/* </div>\r\n                        </Col></Row> */}\r\n                    </Col>\r\n                    <Col md={`${!this.state.sidebarview ? '8' : \"10\"}`}>\r\n                        {/* <Row>\r\n                            <Col md={12}> */}\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.Technique && this.props.Login.masterData.Technique.length > 0 && this.props.Login.masterData.SelectedTechnique ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                \r\n                                                <Card.Title className=\"product-title-main\">\r\n                                                    {this.props.Login.masterData.SelectedTechnique.stechniquename}\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle>\r\n                                                    <div className=\"d-flex product-category\">\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                                                            \r\n                                                        </h2>\r\n                                                        \r\n                                                        <div className=\"d-inline\">\r\n                                                            <Nav.Link name=\"editTechnique\" hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                \r\n                                                                onClick={() => this.props.getEditTechniqueService(editParam)}\r\n                                                            >\r\n                                                                <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                            </Nav.Link>\r\n\r\n                                                            <Nav.Link name=\"deleteTechnique\" className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                              \r\n                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                onClick={() => this.confirmDelete(deleteId)}>\r\n                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                               \r\n                                                            </Nav.Link>\r\n                                                            \r\n                                                            \r\n                                                        </div>\r\n                                                        \r\n                                                    </div>\r\n\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body className=\"form-static-wrap\">\r\n                                                \r\n\r\n                                                <Row>\r\n                                                    {/* ALPD-873 */}\r\n                                                    <Col md={12}>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id=\"IDS_DESCRIPTION\" message=\"Description\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.SelectedTechnique.sdescription && this.props.Login.masterData.SelectedTechnique.sdescription !== null ?\r\n                                                             this.props.Login.masterData.SelectedTechnique.sdescription : \"-\"}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                  \r\n                                                </Row>\r\n                                                \r\n                                                  <Card className=\"at-tabs border-0\">\r\n                                                        <Row noGutters>\r\n                                                            <Col md={12}>\r\n                                                                <div className=\"d-flex justify-content-end\">\r\n                                                                <Nav.Link name=\"addTechniqueTest\" className=\"add-txt-btn\" \r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(addTechniqueTestId) === -1}\r\n                                                                        onClick={()=>this.props.getAddTestService(\"IDS_TEST\", \"create\", this.props.Login.masterData, this.props.Login.userInfo, addTechniqueTestId,this.confirmMessage)}\r\n                                                                        >\r\n                                                                    <FontAwesomeIcon icon={faPlus} /> { }\r\n                                                                    <FormattedMessage id='IDS_TEST' defaultMessage='Test' />\r\n                                                                </Nav.Link>\r\n                                                                \r\n                                                                </div>\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                        <Row noGutters>\r\n                                                            <Col md={12}>\r\n                                                                <DataGrid\r\n                                                                    primaryKeyField={\"ntechniquetestcode\"}\r\n                                                                    data={this.state.data}\r\n                                                                    dataResult={this.state.dataResult}\r\n                                                                    dataState={this.state.testDataState}\r\n                                                                    dataStateChange={this.dataStateChange}\r\n                                                                    extractedColumnList={this.extractedColumnList}\r\n                                                                    controlMap={this.state.controlMap}\r\n                                                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                                                    inputParam={this.props.Login.inputParam}\r\n                                                                    userInfo={this.props.Login.userInfo}\r\n                                                                    \r\n                                                                    deleteRecord={this.deleteTechniqueTest}\r\n                                                                    deleteParam={{operation:\"delete\"}}\r\n                                                                    methodUrl={\"TechniqueTest\"}\r\n                                                                \r\n                                                                    addRecord = {() => this.openModal(addId)}\r\n                                                                    pageable={true}\r\n                                                                    scrollable={'scrollable'}\r\n                                                                \r\n                                                                    isActionRequired={true}\r\n                                                                    isToolBarRequired={false}\r\n                                                                    selectedId={this.props.Login.selectedId}\r\n                                                                />\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                </Card>\r\n                                                \r\n                                            \r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\"\r\n                                    }\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col></Row>\r\n                    {/* </Col>\r\n                </Row> */}\r\n            </div>\r\n\r\n            {/* End of get display*/}\r\n\r\n            {/* Start of Modal Sideout for  Creation */}\r\n            {/* Below Condition Added to avoid unwanted rendering of SlideOut */}\r\n            {this.props.Login.openModal || this.props.Login.openChildModal ?\r\n                <SlideOutModal show={this.props.Login.screenName === \"IDS_TEST\"?\r\n                this.props.Login.openChildModal:\r\n                this.props.Login.openModal}\r\n                    closeModal={this.closeModal}\r\n                    operation={this.props.Login.operation}\r\n                    inputParam={this.props.Login.inputParam}\r\n                    screenName={this.props.Login.screenName}\r\n                    onSaveClick={this.props.Login.screenName === \"IDS_TEST\"  ? this.onSaveTechniqueTest: this.onSaveClick}\r\n                    esign={this.props.Login.loadEsign}\r\n                    validateEsign={this.validateEsign}\r\n                    masterStatus={this.props.Login.masterStatus}\r\n                    updateStore={this.props.updateStore}\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    mandatoryFields={this.props.Login.screenName === \"IDS_TEST\" ? \r\n                            this.props.Login.operation === \"update\" ? [] : this.mandatoryTestFields:\r\n                            this.mandatoryFields}\r\n                    addComponent={this.props.Login.loadEsign ?\r\n                        <Esign operation={this.props.Login.operation}\r\n                            onInputOnChange={this.onInputOnChange}\r\n                            inputParam={this.props.Login.inputParam}\r\n                            selectedRecord={this.state.selectedRecord || {}}\r\n                        />\r\n                        : this.props.Login.openChildModal&&\r\n                        this.props.Login.screenName === \"IDS_TEST\"  ? \r\n                            \r\n                                <AddTechniqueTest\r\n                                     selectedRecord={this.state.selectedRecord || {}}\r\n                                     onComboChange={this.onComboChange}\r\n                                     techniqueTestList={this.props.Login.techniqueTestList || []}/>\r\n                                \r\n\r\n                            : <AddType1Component\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                extractedColumnList={this.techniqueFieldList}\r\n                            />\r\n                      \r\n                    }\r\n                /> : \"\"}\r\n            {/* End of Modal Sideout for User Creation */}\r\n        </>\r\n        );\r\n    }\r\n\r\n    confirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteTechnique(\"Technique\", this.props.Login.masterData.SelectedTechnique, \"delete\", deleteId));\r\n    }\r\n\r\n    deleteTechnique = (methodUrl, SelectedTechnique, operation, ncontrolCode) => {\r\n        \r\n\r\n            const postParam = {\r\n                inputListName: \"Technique\", selectedObject: \"SelectedTechnique\",\r\n                primaryKeyField: \"ntechniquecode\",\r\n                primaryKeyValue: SelectedTechnique.ntechniquecode,\r\n                fetchUrl: \"technique/getTechnique\",\r\n                fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            }\r\n\r\n            const inputParam = {\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                methodUrl, postParam,\r\n                inputData: {\r\n                    \"userinfo\": this.props.Login.userInfo,\r\n                    \"technique\": SelectedTechnique\r\n                },\r\n                operation,\r\n                isClearSearch: this.props.Login.isClearSearch,\r\n                selectedRecord: {...this.state.selectedRecord}\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: \"IDS_TECHNIQUE\", operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n            \r\n    }\r\n\r\n    deleteTechniqueTest = (deleteParam) =>{\r\n       let postParam = { inputListName: \"techniquetest\", selectedObject: \"TechniqueTest\", primaryKeyField: \"ntestcode\",\r\n        primaryKeyValue: deleteParam.selectedRecord.ntestcode,\r\n         fetchUrl: \"technique/getTechniqueTest\", fecthInputObject: {ntechniquecode:this.props.Login.masterData.SelectedTechnique.ntechniquecode, userinfo: this.props.Login.userInfo },\r\n         masterData: this.props.Login.masterData \r\n      }\r\n        const inputParam = {\r\n            classUrl: \"technique\",\r\n            methodUrl: \"TechniqueTest\",\r\n            \r\n            inputData: {\r\n                \"techniquetest\": deleteParam.selectedRecord,//.dataItem,\r\n                \"ntechniquecode\":this.props.Login.masterData.SelectedTechnique.ntechniquecode,\r\n                \"userinfo\": this.props.Login.userInfo\r\n            },\r\n            operation:\"delete\",postParam,\r\n            testDataState:this.state.testDataState\r\n        }\r\n\r\n        rsapi.post(\"technique/getTechniqueConducted\",{\"ntechniquecode\":this.props.Login.masterData.SelectedTechnique.ntechniquecode, \r\n        userinfo:this.props.Login.userInfo})\r\n        .then(response=>{\r\n          if(response.data!==null && response.data.length >0)\r\n          {\r\n                \r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_TESTTRAININGALREADYCONDUCTED\" }) );\r\n            // dispatch({type: DEFAULT_RETURN, payload:{//pricingTestList:testList, \r\n            //     openChildModal:false,\r\n            //     operation, screenName, ncontrolCode,\r\n            //     loading:false}});\r\n          }\r\n          else\r\n          {\r\n            rsapi.post(\"technique/getTechniqueScheduled\",{\"ntechniquecode\":this.props.Login.masterData.SelectedTechnique.ntechniquecode, \r\n            userinfo:this.props.Login.userInfo})\r\n            .then(response=>{\r\n              if(response.data!==null && response.data.length >0)\r\n              {\r\n                //this.confirmMessage = new ConfirmMessage();\r\n                this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_TESTTRAININGSCHEDULED\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                () => { if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_TEST\" }),\r\n                            operation:deleteParam.operation\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }}\r\n                );\r\n              }\r\n              else\r\n              {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_TEST\" }),\r\n                            operation:deleteParam.operation\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n              }\r\n    \r\n           })      \r\n          }\r\n\r\n       })\r\n\r\n        \r\n    }\r\n\r\n    onSaveTechniqueTest = (saveType, formRef) => {\r\n\r\n        const techniqueTestData = {\"userinfo\": this.props.Login.userInfo,\r\n                                 \"technique\":this.props.Login.masterData.SelectedTechnique,\r\n                                 \"ntechniquecode\":this.props.Login.masterData.SelectedTechnique.ntechniquecode};\r\n \r\n         let postParam = undefined;\r\n         let techniquetestDataState = undefined;\r\n         let selectedId = null;\r\n         \r\n         if (this.props.Login.operation === \"update\") {\r\n            \r\n         }\r\n         else {\r\n             //add                                                 \r\n             let techniquetestList = [];\r\n             this.state.selectedRecord[\"ntestcode\"] &&\r\n                 this.state.selectedRecord[\"ntestcode\"].map(item => {\r\n                     return techniquetestList.push({\r\n                        ntestcode: item.value                      \r\n                     })\r\n                 })\r\n            \r\n             techniqueTestData[\"techniquetestlist\"] = techniquetestList;                             \r\n \r\n         }\r\n         if (techniqueTestData[\"technique\"].hasOwnProperty('esignpassword')) {\r\n             if (techniqueTestData[\"technique\"]['esignpassword'] === '') {\r\n                 delete techniqueTestData[\"technique\"]['esigncomments']\r\n                 delete techniqueTestData[\"technique\"]['esignpassword']\r\n                 delete techniqueTestData[\"technique\"]['esignreason']\r\n                 delete techniqueTestData[\"technique\"][\"agree\"]\r\n             }\r\n         }\r\n        \r\n         const inputParam = {\r\n             classUrl: this.props.Login.inputParam.classUrl,\r\n             methodUrl: \"TechniqueTest\",\r\n             inputData: techniqueTestData,\r\n             operation: this.props.Login.operation,\r\n             saveType, formRef, postParam, searchRef: this.searchRef,\r\n             isClearSearch: this.props.Login.isClearSearch,\r\n             selectedId, techniquetestDataState,\r\n             selectedRecord: {...this.state.selectedRecord}\r\n         }\r\n         const masterData = this.props.Login.masterData;\r\n \r\n         if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n \r\n             const updateInfo = {\r\n                 typeName: DEFAULT_RETURN,\r\n                 data: {\r\n                     loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                 }\r\n             }\r\n             this.props.updateStore(updateInfo);\r\n         }\r\n         else {            \r\n             this.props.crudMaster(inputParam, masterData, \"openChildModal\");\r\n         }\r\n \r\n     }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        let techniqueData = [];\r\n        techniqueData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        let postParam = undefined;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n            // edit\r\n            //postParam = { inputListName: \"Technique\", selectedObject: \"SelectedTechnique\", primaryKeyField: \"ntechniquecode\" };\r\n            postParam = { inputListName: \"Technique\", selectedObject: \"SelectedTechnique\", primaryKeyField: \"ntechniquecode\",\r\n        primaryKeyValue: this.props.Login.selectedRecord.ntechniquecode,\r\n         fetchUrl: \"technique/getActiveTechniqueById\", fecthInputObject: {userinfo: this.props.Login.userInfo },\r\n         masterData: this.props.Login.masterData \r\n      }\r\n            techniqueData[\"technique\"] = JSON.parse(JSON.stringify(this.props.Login.selectedRecord));\r\n            techniqueData[\"stechniquename\"]=this.state.selectedRecord[\"stechniquename\"] || \"\";\r\n            techniqueData[\"sdescription\"]=this.state.selectedRecord[\"sdescription\"] || \"\";\r\n\r\n        }\r\n        else {\r\n            //add               \r\n            techniqueData[\"technique\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode,\r\n                                                \"stechniquename\":this.state.selectedRecord[\"stechniquename\"] || \"\",\r\n                                                \"sdescription\":this.state.selectedRecord[\"sdescription\"] || \"\",\r\n                                            };\r\n\r\n            \r\n\r\n        }\r\n        if (techniqueData[\"technique\"].hasOwnProperty('esignpassword')) {\r\n            if (techniqueData[\"technique\"]['esignpassword'] === '') {\r\n                delete techniqueData[\"technique\"]['esigncomments']\r\n                delete techniqueData[\"technique\"]['esignpassword']\r\n                delete techniqueData[\"technique\"]['esignreason']\r\n            }\r\n        }\r\n      \r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"Technique\",\r\n            inputData: techniqueData,\r\n            operation: this.props.Login.operation,\r\n            saveType, formRef, postParam, searchRef: this.searchRef,\r\n            isClearSearch: this.props.Login.isClearSearch,\r\n            selectedRecord: {...this.state.selectedRecord}\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({ userRoleControlRights, controlMap,\r\n                    data: this.props.Login.masterData.Test,\r\n                    dataResult: process(this.props.Login.masterData.TechniqueTest || [], this.state.testDataState), });\r\n            }\r\n            else {        \r\n                let {testDataState} = this.state;\r\n                if(this.props.Login.testDataState === undefined){\r\n                    testDataState={skip:0,take:this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5}\r\n                }         \r\n                this.setState({\r\n                    data: this.props.Login.masterData.TechniqueTest, selectedRecord: this.props.Login.selectedRecord,\r\n                    dataResult: process(this.props.Login.masterData.TechniqueTest ||[],testDataState),\r\n                    testDataState\r\n                });\r\n            }  \r\n        }\r\n    }\r\n    openModal = (inputParam) => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                selectedRecord: {}, operation: inputParam.operation, ncontrolCode:inputParam.ncontrolcode, selectedId:null,\r\n                openModal: true, screenName: this.props.intl.formatMessage({id:'IDS_TECHNIQUE'})\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data, event.dataState),\r\n            testDataState: event.dataState\r\n        });\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        let selectedId = this.state.selectedId;\r\n\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n\r\n                if( this.props.Login.screenName === \"IDS_TEST\"){\r\n                    openChildModal=false\r\n                }\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n                \r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n            selectedId = null;\r\n            openChildModal=false;\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal,openChildModal, loadEsign, selectedRecord, selectedId }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputOnChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onInputOnChange = (event, primaryFieldKey) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"ntransactionstatus\")\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            else\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n\r\n        }\r\n        else {   \r\n                  \r\n                selectedRecord[event.target.name] = event.target.value;\r\n                   \r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"technique\",\r\n            methodUrl: \"Technique\",\r\n            displayName: \"IDS_TECHNIQUE\",\r\n            userInfo: this.props.Login.userInfo,\r\n            isClearSearch: this.props.Login.isClearSearch\r\n\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, validateEsignCredential,getTechniqueDetail,getEditTechniqueService,getAddTestService,\r\n    updateStore,filterColumnData\r\n})(injectIntl(Technique));\r\n\r\n"]},"metadata":{},"sourceType":"module"}