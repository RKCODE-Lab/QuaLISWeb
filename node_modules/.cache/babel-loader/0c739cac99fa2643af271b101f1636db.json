{"ast":null,"code":"import _slicedToArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState,useCallback,useRef}from\"react\";import PerfectScrollbar from\"react-perfect-scrollbar\";import DropArea from\"./DropArea.jsx\";import{intl}from\"../App\";import TrashDropZone from\"./TrashDropZone\";import SideBarItem from\"./SideBarItem\";import DynamicRow from\"./Row\";import{handleMoveWithinParent,handleMoveToDifferentParent,handleMoveSidebarComponentIntoParent,handleRemoveItemFromLayout}from\"./helpers\";import{AtAccordion}from\"../custom-accordion/custom-accordion.styles\";import{SIDEBAR_ITEM,COMPONENT,COLUMN,COMPONENTROW,ROW}from\"./constants\";import\"./styles.css\";import{Col,Row,Accordion,Card,useAccordionToggle,AccordionToggle,AccordionCollapse,Badge,Button}from\"react-bootstrap\";import AccordionContext from\"react-bootstrap/AccordionContext\";import DynamicFieldProperties from\"./DynamicFieldProperties.jsx\";import{injectIntl}from\"react-intl\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faLink,faChevronRight,faComments,faPaperclip,faChevronDown,faChevronUp,faCross,faFilter,faWindowClose,faKeyboard,faBuilding,faInfoCircle,faAngleDoubleDown,faAngleDoubleUp}from\"@fortawesome/free-solid-svg-icons\";import shortid from\"shortid\";import{Image}from\"react-bootstrap\";import toggleExpand from\"../../assets/image/expand-icon-blue.svg\";import toggleCollapse from\"../../assets/image/collapse-icon-blue.svg\";import{MediaHeader}from\"../App.styles.jsx\";import ComboFilterProperties from\"./ComboFilterProperties.jsx\";import{ReactComponents}from\"../Enumeration.js\";import DateFilterProperties from\"./DateFilterProperties.jsx\";import AddSynonym from\"./AddSynonym.jsx\";import SplitterLayout from\"react-splitter-layout\";import Column from\"./Column.jsx\";import{Field}from\"@progress/kendo-react-form\";import Componentrow from\"./Componentrow.jsx\";// import Component from \"./Component.jsx\";\nvar Dynamicinput=function Dynamicinput(props){var handleDropToTrashBin=useCallback(function(dropZone,item,mandatoryComponents){var ACCEPTS=[ROW,COLUMN,COMPONENT,COMPONENTROW];var layout=props.layout;var itemPath=item.path;var splitItemPath=itemPath.split(\"-\");var itemPathRowIndex=splitItemPath[0];var itemRowChildrenLength=layout[itemPathRowIndex]&&layout[itemPathRowIndex].children.length;var mandatoryComponent=mandatoryComponents||[];// prevent removing a col when row has only one col\nif(item.type===COLUMN&&itemRowChildrenLength&&itemRowChildrenLength<2){return false;}if(item.type===COLUMN){var statusflag=false;item.data.children.map(function(item1){if(item1.templatemandatory){statusflag=true;return false;};if(item1.type===COMPONENTROW){item1.children&&item1.children.map(function(item2){if(item2.templatemandatory){statusflag=true;return false;}});}else{if(item1.templatemandatory){//   mandatoryComponent.push(1);\nstatusflag=true;return false;}}});if(statusflag!=true){props.validateDelete(handleRemoveItemFromLayout(props.layout,splitItemPath),item.path,true);changeActiveTabIndex(false);return true;}else{alert('This column has a mandatory Field. So you can not delete it!');}return validateDrop(item.data,props.layout,splitItemPath);}else if(item.type===COMPONENTROW){var _statusflag=false;item.data.children.map(function(item1){if(item1.templatemandatory){mandatoryComponent.push(1);alert('This column has a mandatory Field. So you can not delete it!');_statusflag=true;return false;}});if(_statusflag!=true){props.validateDelete(handleRemoveItemFromLayout(props.layout,splitItemPath),item.path,true);changeActiveTabIndex(false);return true;}return validateDrop(item.data,props.layout,splitItemPath);}else{props.validateDelete(handleRemoveItemFromLayout(props.layout,splitItemPath),item.path,true);changeActiveTabIndex(false);}},[props.layout]);var _scrollBarRef=useRef();var _scrollBarChildRef=useRef();var height=_scrollBarChildRef&&_scrollBarChildRef.current&&_scrollBarChildRef.current.clientHeight;var validateDrop=function validateDrop(data,item1,splitItemPath,mandatoryComponents){var mandatoryComponent=mandatoryComponents||[];var statusflag=false;// const data = props.layout;\nif(data.children){data.children.length>0&&data.children.map(function(item){if(item.templatemandatory){mandatoryComponent.push(1);statusflag=true;return false;}});if(statusflag!=true){props.validateDelete(handleRemoveItemFromLayout(props.layout,splitItemPath),item1.path,true);changeActiveTabIndex(false);return true;}}else{if(data.templatemandatory){mandatoryComponent.push(1);return false;}}if(mandatoryComponent.length>0){return false;}else{props.validateDelete(handleRemoveItemFromLayout(props.layout,splitItemPath),item1.path,true);changeActiveTabIndex(false);return true;}};// let _scrollBarRef;\nvar handleDrop=useCallback(function(dropZone,item){var splitDropZonePath=dropZone.path.split(\"-\");var pathToDropZone=splitDropZonePath.slice(0,-1).join(\"-\");var newItem={id:item.id,type:item.type};if(item.type===COLUMN){newItem.children=item.children;}if(item.type===COMPONENTROW){newItem=_objectSpread(_objectSpread({},item.data),newItem);}if(item.type===COMPONENT){newItem=_objectSpread(_objectSpread({},item.data),{},{type:item.type});}// sidebar into\nif(item.type===SIDEBAR_ITEM){// 1. Move sidebar item into page\nvar newComponent=_objectSpread({id:shortid.generate()},item.component);var _newItem=_objectSpread(_objectSpread({id:newComponent.id},item),{},{type:COMPONENT});props.setLayout(handleMoveSidebarComponentIntoParent(props.layout,splitDropZonePath,_newItem),dropZone.path);return;}// move down here since sidebar items dont have path\nvar splitItemPath=item.path.split(\"-\");var pathToItem=splitItemPath.slice(0,-1).join(\"-\");// 2. Pure move (no create)\nif(splitItemPath.length===splitDropZonePath.length){// 2.a. move within parent\nif(pathToItem===pathToDropZone){props.setLayout(handleMoveWithinParent(props.layout,splitDropZonePath,splitItemPath),dropZone.path);return;}// 2.b. OR move different parent\n// TODO FIX columns. item includes children\nprops.setLayout(handleMoveToDifferentParent(props.layout,splitDropZonePath,splitItemPath,newItem),dropZone.path);return;}// 3. Move + Create\nprops.setLayout(handleMoveToDifferentParent(props.layout,splitDropZonePath,splitItemPath,newItem),dropZone.path);},[props.layout// components\n]);var renderRow=function renderRow(row,currentPath,index){return/*#__PURE__*/React.createElement(DynamicRow,{key:row.id,data:row,handleDrop:handleDrop,deleteInput:handleDropToTrashBin,validateDropInput:validateDrop// components={components}\n,baselength:row.children&&row.children.length?row.children.length:1,path:currentPath,index:index,onclickcomponent:function onclickcomponent(event,data,path){props.onclickcomponent(event,data,path);changeActiveTabIndex(3);},selectedFieldRecord:props.selectedFieldRecord});};var CustomToggle=function CustomToggle(_ref){var children=_ref.children,eventKey=_ref.eventKey;var currentEventKey=React.useContext(AccordionContext);var isCurrentEventKey=currentEventKey===eventKey;var decoratedOnClick=useAccordionToggle(eventKey,\"\");return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between accordion-button\",onClick:decoratedOnClick},children,isCurrentEventKey?/*#__PURE__*/React.createElement(\"span\",{className:\"pr-2\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronUp})):/*#__PURE__*/React.createElement(\"span\",{className:\"pr-2\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronDown//onClick={children.props.onExpandCall}\n})));};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),enablePin=_useState2[0],setEnablePin=_useState2[1];//const [splitChangeWidthPercentage, setpaneSizeChange] = useState(87);\nvar changePin=function changePin(){setEnablePin(!enablePin);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),activeTabIndex=_useState4[0],setactiveTabIndex=_useState4[1];var changeActiveTabIndex=function changeActiveTabIndex(val){if(val!=3){props.hidePropFilter();setactiveTabIndex(val);}else if(props.selectedFieldRecord&&Object.keys(props.selectedFieldRecord).length!==0){props.hidePropFilter();setactiveTabIndex(val);}};var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),activeScrollTop=_useState6[0],setactiveScrollTop=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),activeScrollview=_useState8[0],setactiveScrollview=_useState8[1];var activeScroll=function activeScroll(container){if(container){console.log(\"container.scrollTop\",container.scrollTop);setactiveScrollTop(container.scrollTop);setactiveScrollview(container.scrollHeight-container.scrollTop-container.clientHeight);}};//   const paneSizeChange = (d) => {\n//     setpaneSizeChange(d)\n// }\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"vertical-tab-top popup\"},/*#__PURE__*/React.createElement(\"div\",{className:\"full-width center-area-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"center-area full-width\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"popup-fixed-center-headed-full-width\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},props.layout.map(function(row,index){var currentPath=\"\".concat(index);return/*#__PURE__*/React.createElement(React.Fragment,{key:row.id},/*#__PURE__*/React.createElement(DropArea,{data:{path:currentPath,childrenCount:props.layout.length},onDrop:handleDrop,path:currentPath}),renderRow(row,currentPath,index));}),/*#__PURE__*/React.createElement(DropArea,{data:{path:\"\".concat(props.layout.length),childrenCount:props.layout.length},onDrop:handleDrop,isLast:true,isEmpty:props.layout.length?false:true})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"vertical-tab \".concat(activeTabIndex?\"active\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"vertical-tab-content pager_wrap wrap-class \".concat(activeTabIndex?\"active\":\"\")},/*#__PURE__*/React.createElement(\"span\",{className:\" vertical-tab-close \".concat(activeTabIndex?\"active\":\"\"),onClick:function onClick(){return changeActiveTabIndex(false);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronRight}),\" \"),_scrollBarRef&&_scrollBarRef.current&&_scrollBarChildRef&&_scrollBarChildRef.current&&_scrollBarChildRef.current.clientHeight>_scrollBarRef.current.clientHeight&&activeScrollTop?/*#__PURE__*/React.createElement(\"span\",{className:\"scroll-up-arrow\",onClick:function onClick(){debugger;_scrollBarRef.current.scrollTop=0;}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faAngleDoubleUp})):\"\",activeTabIndex&&activeTabIndex==1?/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-Inputs sm-view-v-t  \".concat(activeTabIndex&&activeTabIndex==1?\"active\":\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4\"},\"Input Fields\"),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"xs-view-v-t\",onScrollY:function onScrollY(container){return activeScroll(container);},containerRef:function containerRef(ref){_scrollBarRef.current=ref;}},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-wrap\",ref:_scrollBarChildRef},Object.values(props.reactComponents).map(function(sideBarItem,index){return/*#__PURE__*/React.createElement(SideBarItem,{key:sideBarItem.id,data:sideBarItem,displayField:\"componentname\"});})))):\"\",activeTabIndex&&activeTabIndex==2?/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-components sm-view-v-t   \".concat(activeTabIndex&&activeTabIndex==2?\"active\":\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4\"},\"Components\"),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"xs-view-v-t\",onScrollY:function onScrollY(container){return activeScroll(container);},containerRef:function containerRef(ref){_scrollBarRef.current=ref;}},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-wrap\",ref:_scrollBarChildRef},Object.values(props.reactInputFields).map(function(sideBarItem,index){return/*#__PURE__*/React.createElement(SideBarItem,{key:sideBarItem.id,data:sideBarItem,displayField:\"label\"});})))):\"\",activeTabIndex&&activeTabIndex==3?/*#__PURE__*/React.createElement(\"div\",{className:\" vertical-tab-content-properties sm-view-v-t  \".concat(activeTabIndex&&activeTabIndex==3?\"active\":\"\")},/*#__PURE__*/React.createElement(\"h4\",{className:\"inner_h4\"},\"Properties\"),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"xs-view-v-t\",onScrollY:function onScrollY(container){activeScroll(container);},containerRef:function containerRef(ref){_scrollBarRef.current=ref;}},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-wrap\",ref:_scrollBarChildRef},/*#__PURE__*/React.createElement(\"h5\",{className:\"d-flex text-icon-align\"},/*#__PURE__*/React.createElement(Badge,{bg:\"secondary\"},props.selectedFieldRecord.label?props.selectedFieldRecord.label:props.selectedFieldRecord.componentname?props.selectedFieldRecord.componentname:\"\"),props.showsynonym?/*#__PURE__*/React.createElement(Button,{className:\"btn-light nobg\",onClick:function onClick(e){return props.addSynonym();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faWindowClose})):(props.selectedFieldRecord.label||props.selectedFieldRecord.componentname)&&(props.selectedFieldRecord.componentcode===ReactComponents.COMBO||props.selectedFieldRecord.componentcode===ReactComponents.DATE)?/*#__PURE__*/React.createElement(Button,{className:\"btn-light nobg\",onClick:function onClick(){return props.showPropFilter();}},props.showFilter?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faWindowClose})// style={{ fontSize: \"13px\" }} />\n:/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFilter,style:{fontSize:\"13px\",color:\"\".concat(props.selectedFieldRecord.conditionArrayUI&&props.selectedFieldRecord.conditionArrayUI.length>0||props.selectedFieldRecord.dateConstraintArraySQL&&props.selectedFieldRecord.dateConstraintArraySQL.length>0?\"#0470fbb6\":\"#212529\")}})):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"secondary-warp\"},props.showsynonym?/*#__PURE__*/React.createElement(AddSynonym,{selectedFieldRecord:props.selectedFieldRecord,onInputOnChange:props.onInputOnChange,languages:props.languages,addSynonym:props.addSynonym,language:props.language}):props.showFilter?props.selectedFieldRecord.componentcode===ReactComponents.COMBO?/*#__PURE__*/React.createElement(ComboFilterProperties,{onInputOnChange:props.onInputOnChange,onNumericInputChange:props.onNumericInputChange,selectedFieldRecord:props.selectedFieldRecord,tables:props.ReactTables,numericConditions:props.numericConditions,stringConditions:props.stringConditions,onComboChange:props.onComboChange,tableColumn:props.filterColumns,filterData:props.filterData||[],inputFields:props.inputFields,addChildMapping:props.addChildMapping,valueMembers:props.valueMembers,addTag:props.addTag,addCondition:props.addCondition,deleteCondition:props.deleteCondition,staticfiltertables:props.staticfiltertables,staticfiltercolumn:props.staticfiltercolumn}):/*#__PURE__*/React.createElement(DateFilterProperties,{onInputOnChange:props.onInputOnChange,onNumericInputChange:props.onNumericInputChange,selectedFieldRecord:props.selectedFieldRecord,tables:props.ReactTables,dateConditions:props.dateConditions,onComboChange:props.onComboChange,dateComponents:props.dateComponents,filterData:props.filterData||[],inputFields:props.inputFields,addChildMapping:props.addChildMapping,valueMembers:props.valueMembers,addTag:props.addTag,addDateConstraints:props.addDateConstraints,deleteCondition:props.deleteDateCondition,userinfo:props.userinfo,CurrentTime:new Date(),handleDateChange:props.handleDateChange,period:props.period}):/*#__PURE__*/React.createElement(DynamicFieldProperties,{onInputOnChange:props.onInputOnChange,onNumericInputChange:props.onNumericInputChange,selectedFieldRecord:props.selectedFieldRecord,tables:props.ReactTables,onComboChange:props.onComboChange,tableColumn:props.tableColumn,inputFields:props.inputFields,addChildMapping:props.addChildMapping,valueMembers:props.valueMembers,addTag:props.addTag,addSynonym:props.addSynonym,parentRadioValue:props.parentRadioValue}))))):\"\",_scrollBarRef&&_scrollBarRef.current&&_scrollBarChildRef&&_scrollBarChildRef.current&&_scrollBarChildRef.current.clientHeight>_scrollBarRef.current.clientHeight&&activeScrollview>0?/*#__PURE__*/React.createElement(\"span\",{className:\"scroll-down-arrow  \".concat(height>=_scrollBarRef.current.scrollHeight?\"\":\"cursor-notallowed\"),onClick:function onClick(){_scrollBarRef.current.scrollTop=400;}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faAngleDoubleDown})):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-head\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(activeTabIndex&&activeTabIndex==1?\"active\":\"\"),onClick:function onClick(){return changeActiveTabIndex(1);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faKeyboard}),/*#__PURE__*/React.createElement(\"span\",null,\"Input Fields\")),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(activeTabIndex&&activeTabIndex==2?\"active\":\"\"),onClick:function onClick(){return changeActiveTabIndex(2);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBuilding}),/*#__PURE__*/React.createElement(\"span\",null,\"Components\")),/*#__PURE__*/React.createElement(\"li\",{className:\"\".concat(props.selectedFieldRecord&&Object.keys(props.selectedFieldRecord).length===0?\"disabled\":activeTabIndex&&activeTabIndex==3?\"active\":\"\"),onClick:function onClick(){return changeActiveTabIndex(3);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faInfoCircle}),/*#__PURE__*/React.createElement(\"span\",null,\" Properties \"))))));};export default injectIntl(Dynamicinput);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/droparea/Dynamicinputs.jsx"],"names":["React","useState","useCallback","useRef","PerfectScrollbar","DropArea","intl","TrashDropZone","SideBarItem","DynamicRow","handleMoveWithinParent","handleMoveToDifferentParent","handleMoveSidebarComponentIntoParent","handleRemoveItemFromLayout","AtAccordion","SIDEBAR_ITEM","COMPONENT","COLUMN","COMPONENTROW","ROW","Col","Row","Accordion","Card","useAccordionToggle","AccordionToggle","AccordionCollapse","Badge","Button","AccordionContext","DynamicFieldProperties","injectIntl","FontAwesomeIcon","faLink","faChevronRight","faComments","faPaperclip","faChevronDown","faChevronUp","faCross","faFilter","faWindowClose","faKeyboard","faBuilding","faInfoCircle","faAngleDoubleDown","faAngleDoubleUp","shortid","Image","MediaHeader","ComboFilterProperties","ReactComponents","DateFilterProperties","AddSynonym","SplitterLayout","Column","Field","Componentrow","Dynamicinput","props","handleDropToTrashBin","dropZone","item","mandatoryComponents","ACCEPTS","layout","itemPath","path","splitItemPath","split","itemPathRowIndex","itemRowChildrenLength","children","length","mandatoryComponent","type","statusflag","data","map","item1","templatemandatory","item2","validateDelete","changeActiveTabIndex","alert","validateDrop","push","_scrollBarRef","_scrollBarChildRef","height","current","clientHeight","handleDrop","splitDropZonePath","pathToDropZone","slice","join","newItem","id","newComponent","generate","component","setLayout","pathToItem","renderRow","row","currentPath","index","event","onclickcomponent","selectedFieldRecord","CustomToggle","eventKey","currentEventKey","useContext","isCurrentEventKey","decoratedOnClick","enablePin","setEnablePin","changePin","activeTabIndex","setactiveTabIndex","val","hidePropFilter","Object","keys","activeScrollTop","setactiveScrollTop","activeScrollview","setactiveScrollview","activeScroll","container","console","log","scrollTop","scrollHeight","childrenCount","ref","values","reactComponents","sideBarItem","reactInputFields","label","componentname","showsynonym","e","addSynonym","componentcode","COMBO","DATE","showPropFilter","showFilter","fontSize","color","conditionArrayUI","dateConstraintArraySQL","onInputOnChange","languages","language","onNumericInputChange","ReactTables","numericConditions","stringConditions","onComboChange","filterColumns","filterData","inputFields","addChildMapping","valueMembers","addTag","addCondition","deleteCondition","staticfiltertables","staticfiltercolumn","dateConditions","dateComponents","addDateConstraints","deleteDateCondition","userinfo","Date","handleDateChange","period","tableColumn","parentRadioValue"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useRef } from \"react\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport DropArea from \"./DropArea.jsx\";\r\nimport { intl } from \"../App\";\r\nimport TrashDropZone from \"./TrashDropZone\";\r\nimport SideBarItem from \"./SideBarItem\";\r\nimport DynamicRow from \"./Row\";\r\nimport {\r\n  handleMoveWithinParent,\r\n  handleMoveToDifferentParent,\r\n  handleMoveSidebarComponentIntoParent,\r\n  handleRemoveItemFromLayout,\r\n} from \"./helpers\";\r\nimport { AtAccordion } from \"../custom-accordion/custom-accordion.styles\";\r\nimport {\r\n  SIDEBAR_ITEM,\r\n  COMPONENT,\r\n  COLUMN,\r\n  COMPONENTROW,\r\n  ROW,\r\n} from \"./constants\";\r\nimport \"./styles.css\";\r\nimport {\r\n  Col,\r\n  Row,\r\n  Accordion,\r\n  Card,\r\n  useAccordionToggle,\r\n  AccordionToggle,\r\n  AccordionCollapse,\r\n  Badge,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport AccordionContext from \"react-bootstrap/AccordionContext\";\r\n\r\nimport DynamicFieldProperties from \"./DynamicFieldProperties.jsx\";\r\nimport { injectIntl } from \"react-intl\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faLink,\r\n  faChevronRight,\r\n  faComments,\r\n  faPaperclip,\r\n  faChevronDown,\r\n  faChevronUp,\r\n  faCross,\r\n  faFilter,\r\n  faWindowClose,\r\n  faKeyboard,\r\n  faBuilding,\r\n  faInfoCircle,\r\n  faAngleDoubleDown,\r\n  faAngleDoubleUp,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport shortid from \"shortid\";\r\nimport { Image } from \"react-bootstrap\";\r\n\r\nimport toggleExpand from \"../../assets/image/expand-icon-blue.svg\";\r\nimport toggleCollapse from \"../../assets/image/collapse-icon-blue.svg\";\r\nimport { MediaHeader } from \"../App.styles.jsx\";\r\nimport ComboFilterProperties from \"./ComboFilterProperties.jsx\";\r\nimport { ReactComponents } from \"../Enumeration.js\";\r\nimport DateFilterProperties from \"./DateFilterProperties.jsx\";\r\nimport AddSynonym from \"./AddSynonym.jsx\";\r\nimport SplitterLayout from \"react-splitter-layout\";\r\nimport Column from \"./Column.jsx\";\r\nimport { Field } from \"@progress/kendo-react-form\";\r\nimport Componentrow from \"./Componentrow.jsx\";\r\n// import Component from \"./Component.jsx\";\r\n\r\nconst Dynamicinput = (props) => {\r\n  const handleDropToTrashBin = useCallback(\r\n    (dropZone, item, mandatoryComponents) => {\r\n      const ACCEPTS = [ROW, COLUMN, COMPONENT, COMPONENTROW];\r\n      const layout = props.layout;\r\n      const itemPath = item.path;\r\n      const splitItemPath = itemPath.split(\"-\");\r\n      const itemPathRowIndex = splitItemPath[0];\r\n      const itemRowChildrenLength =\r\n        layout[itemPathRowIndex] && layout[itemPathRowIndex].children.length;\r\n\r\n        let mandatoryComponent = mandatoryComponents || [];\r\n\r\n      // prevent removing a col when row has only one col\r\n      if (\r\n        item.type === COLUMN &&\r\n        itemRowChildrenLength &&\r\n        itemRowChildrenLength < 2\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n\r\n        if (item.type === COLUMN ) {\r\n          let statusflag = false;\r\n         \r\n          item.data.children.map((item1) => {\r\n            if(item1.templatemandatory){\r\n              statusflag = true;\r\n              return false;\r\n            };\r\n            if(item1.type === COMPONENTROW){\r\n              item1.children && item1.children.map((item2) =>{\r\n                  if(item2.templatemandatory){\r\n                      statusflag = true;\r\n                      return false;\r\n                  }\r\n              })\r\n            }else{\r\n            if (item1.templatemandatory) {\r\n              //   mandatoryComponent.push(1);\r\n              statusflag = true;\r\n              return false;\r\n            }\r\n          }\r\n          });\r\n          \r\n          if (statusflag != true) {\r\n            props.validateDelete(\r\n              handleRemoveItemFromLayout(props.layout, splitItemPath),\r\n              item.path,\r\n              true\r\n            );\r\n            changeActiveTabIndex(false);\r\n            return true;\r\n          }else{              \r\n            alert('This column has a mandatory Field. So you can not delete it!');\r\n          }\r\n\r\n          return validateDrop(item.data, props.layout, splitItemPath);\r\n        } else if(item.type === COMPONENTROW){\r\n          \r\n          let statusflag = false;\r\n          item.data.children.map((item1) => {\r\n        \r\n            if (item1.templatemandatory) {\r\n              mandatoryComponent.push(1);\r\n              alert('This column has a mandatory Field. So you can not delete it!');\r\n              statusflag = true;\r\n              return false;\r\n            }\r\n          \r\n          });\r\n          \r\n          if (statusflag != true) {\r\n            props.validateDelete(\r\n              handleRemoveItemFromLayout(props.layout, splitItemPath),\r\n              item.path,\r\n              true\r\n            );\r\n            changeActiveTabIndex(false);\r\n            return true;\r\n          }\r\n\r\n          return validateDrop(item.data, props.layout, splitItemPath);\r\n\r\n        }else{\r\n          props.validateDelete(\r\n            handleRemoveItemFromLayout(props.layout, splitItemPath),\r\n            item.path,\r\n            true\r\n          );\r\n          changeActiveTabIndex(false);\r\n        }\r\n    },\r\n    [props.layout]\r\n  );\r\n\r\n  const _scrollBarRef = useRef();\r\n  const _scrollBarChildRef = useRef();\r\n\r\n  const height =\r\n    _scrollBarChildRef &&\r\n    _scrollBarChildRef.current &&\r\n    _scrollBarChildRef.current.clientHeight;\r\n\r\n  const validateDrop = (data, item1, splitItemPath, mandatoryComponents) => {\r\n    let mandatoryComponent = mandatoryComponents || [];\r\n    let statusflag = false;\r\n    // const data = props.layout;\r\n    if (data.children) {\r\n      data.children.length > 0 &&\r\n        data.children.map((item) => {\r\n          if (item.templatemandatory) {\r\n            mandatoryComponent.push(1);\r\n            statusflag = true;\r\n            return false;\r\n          }\r\n        });\r\n      if (statusflag != true) {\r\n        props.validateDelete(\r\n          handleRemoveItemFromLayout(props.layout, splitItemPath),\r\n          item1.path,\r\n          true\r\n        );\r\n        changeActiveTabIndex(false);\r\n        return true;\r\n      }\r\n    } else {\r\n      if (data.templatemandatory) {\r\n        mandatoryComponent.push(1);\r\n        return false;\r\n      }\r\n    }\r\n    if (mandatoryComponent.length > 0) {\r\n      return false;\r\n    } else {\r\n      props.validateDelete(\r\n        handleRemoveItemFromLayout(props.layout, splitItemPath),\r\n        item1.path,\r\n        true\r\n      );\r\n      changeActiveTabIndex(false);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  // let _scrollBarRef;\r\n  const handleDrop = useCallback(\r\n    (dropZone, item) => {\r\n      const splitDropZonePath = dropZone.path.split(\"-\");\r\n      const pathToDropZone = splitDropZonePath.slice(0, -1).join(\"-\");\r\n\r\n      let newItem = { id: item.id, type: item.type };\r\n      if (item.type === COLUMN) {\r\n        newItem.children = item.children;\r\n      }\r\n      if (item.type === COMPONENTROW) {\r\n        newItem = { ...item.data, ...newItem };\r\n      }\r\n      if (item.type === COMPONENT) {\r\n        newItem = { ...item.data, type: item.type };\r\n      }\r\n      // sidebar into\r\n      if (item.type === SIDEBAR_ITEM) {\r\n        // 1. Move sidebar item into page\r\n        const newComponent = {\r\n          id: shortid.generate(),\r\n          ...item.component,\r\n        };\r\n        const newItem = {\r\n          id: newComponent.id,\r\n          ...item,\r\n          type: COMPONENT,\r\n        };\r\n        props.setLayout(\r\n          handleMoveSidebarComponentIntoParent(\r\n            props.layout,\r\n            splitDropZonePath,\r\n            newItem\r\n          ),\r\n          dropZone.path\r\n        );\r\n        return;\r\n      }\r\n\r\n      // move down here since sidebar items dont have path\r\n      const splitItemPath = item.path.split(\"-\");\r\n      const pathToItem = splitItemPath.slice(0, -1).join(\"-\");\r\n\r\n      // 2. Pure move (no create)\r\n      if (splitItemPath.length === splitDropZonePath.length) {\r\n        // 2.a. move within parent\r\n        if (pathToItem === pathToDropZone) {\r\n          props.setLayout(\r\n            handleMoveWithinParent(\r\n              props.layout,\r\n              splitDropZonePath,\r\n              splitItemPath\r\n            ),\r\n            dropZone.path\r\n          );\r\n          return;\r\n        }\r\n\r\n        // 2.b. OR move different parent\r\n        // TODO FIX columns. item includes children\r\n        props.setLayout(\r\n          handleMoveToDifferentParent(\r\n            props.layout,\r\n            splitDropZonePath,\r\n            splitItemPath,\r\n            newItem\r\n          ),\r\n          dropZone.path\r\n        );\r\n        return;\r\n      }\r\n\r\n      // 3. Move + Create\r\n      props.setLayout(\r\n        handleMoveToDifferentParent(\r\n          props.layout,\r\n          splitDropZonePath,\r\n          splitItemPath,\r\n          newItem\r\n        ),\r\n        dropZone.path\r\n      );\r\n    },\r\n    [\r\n      props.layout, // components\r\n    ]\r\n  );\r\n  const renderRow = (row, currentPath, index) => {\r\n    return (\r\n      <DynamicRow\r\n        key={row.id}\r\n        data={row}\r\n        handleDrop={handleDrop}\r\n        deleteInput={handleDropToTrashBin}\r\n        validateDropInput={validateDrop}\r\n        // components={components}\r\n        baselength={\r\n          row.children && row.children.length ? row.children.length : 1\r\n        }\r\n        path={currentPath}\r\n        index={index}\r\n        onclickcomponent={(event, data, path) => {\r\n          props.onclickcomponent(event, data, path);\r\n          changeActiveTabIndex(3);\r\n        }}\r\n        selectedFieldRecord={props.selectedFieldRecord}\r\n      />\r\n    );\r\n  };\r\n  const CustomToggle = ({ children, eventKey }) => {\r\n    const currentEventKey = React.useContext(AccordionContext);\r\n    const isCurrentEventKey = currentEventKey === eventKey;\r\n    const decoratedOnClick = useAccordionToggle(eventKey, \"\");\r\n\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-between accordion-button\"\r\n        onClick={decoratedOnClick}\r\n      >\r\n        {children}\r\n        {isCurrentEventKey ? (\r\n          <span className=\"pr-2\">\r\n            <FontAwesomeIcon icon={faChevronUp} />\r\n          </span>\r\n        ) : (\r\n          <span className=\"pr-2\">\r\n            <FontAwesomeIcon\r\n              icon={faChevronDown} //onClick={children.props.onExpandCall}\r\n            />\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const [enablePin, setEnablePin] = useState(false);\r\n\r\n  //const [splitChangeWidthPercentage, setpaneSizeChange] = useState(87);\r\n  const changePin = () => {\r\n    setEnablePin(!enablePin);\r\n  };\r\n  const [activeTabIndex, setactiveTabIndex] = useState(false);\r\n  const changeActiveTabIndex = (val) => {\r\n    if (val != 3) {\r\n      props.hidePropFilter();\r\n      setactiveTabIndex(val);\r\n    } else if (\r\n      props.selectedFieldRecord &&\r\n      Object.keys(props.selectedFieldRecord).length !== 0\r\n    ) {\r\n      props.hidePropFilter();\r\n      setactiveTabIndex(val);\r\n    }\r\n  };\r\n  const [activeScrollTop, setactiveScrollTop] = useState(0);\r\n  const [activeScrollview, setactiveScrollview] = useState(1);\r\n\r\n  const activeScroll = (container) => {\r\n    if (container) {\r\n      console.log(\"container.scrollTop\", container.scrollTop);\r\n      setactiveScrollTop(container.scrollTop);\r\n      setactiveScrollview(\r\n        container.scrollHeight - container.scrollTop - container.clientHeight\r\n      );\r\n    }\r\n  };\r\n\r\n  //   const paneSizeChange = (d) => {\r\n  //     setpaneSizeChange(d)\r\n  // }\r\n  return (\r\n    <div className=\"vertical-tab-top popup\">\r\n      <div className=\"full-width center-area-wrap\">\r\n        {/* <div className=\"sideBar height-auto\">\r\n          <PerfectScrollbar>\r\n            <div className=\"popup-fixed-full-width\">\r\n              <AtAccordion>\r\n                <Accordion defaultActiveKey=\"InputFields\">\r\n                  <CustomToggle eventKey={\"InputFields\"}>\r\n                    <MediaHeader className=\"pl-2\">{props.intl.formatMessage({ id: \"IDS_INPUTFIELDS\" })}</MediaHeader>\r\n                  </CustomToggle>\r\n                  <AccordionCollapse eventKey={\"InputFields\"}>\r\n                    <>\r\n                      {\r\n                        Object.values(props.reactComponents).map((sideBarItem, index) => (\r\n                          <SideBarItem key={sideBarItem.id} data={sideBarItem} displayField={\"componentname\"} />\r\n                        ))\r\n                      }\r\n                    </>\r\n                  </AccordionCollapse>\r\n                  <CustomToggle eventKey={\"PredefinedComponents\"}>\r\n                    <MediaHeader className=\"pl-2\">{props.intl.formatMessage({ id: \"IDS_COMPONENTS\" })}</MediaHeader>\r\n                  </CustomToggle>\r\n                  <AccordionCollapse eventKey={\"PredefinedComponents\"}>\r\n                    <>\r\n                      {\r\n                        Object.values(props.reactInputFields).map((sideBarItem, index) => (\r\n                          <SideBarItem key={sideBarItem.id} data={sideBarItem} displayField={\"label\"} />\r\n                        ))\r\n                      }\r\n                    </>\r\n                  </AccordionCollapse>\r\n                </Accordion>\r\n              </AtAccordion>\r\n            </div>\r\n          </PerfectScrollbar>\r\n        </div> */}\r\n        {/* <div> */}\r\n        {/* <SplitterLayout borderColor=\"#999\"\r\n          primaryIndex={1} percentage={true}\r\n          secondaryInitialSize={splitChangeWidthPercentage}\r\n          onSecondaryPaneSizeChange={paneSizeChange}\r\n        // primaryMinSize={40}\r\n        // secondaryMinSize={20}\r\n        > */}\r\n        <div className=\"center-area full-width\">\r\n          {/* <div className=\"trash\">\r\n            <TrashDropZone data={props.layout} onDrop={handleDropToTrashBin} />\r\n          </div> */}\r\n          <div className=\"\">\r\n            {/* <PerfectScrollbar> */}\r\n            <div className=\"popup-fixed-center-headed-full-width\">\r\n              <div className=\"page\">\r\n                {props.layout.map((row, index) => {\r\n                  const currentPath = `${index}`;\r\n\r\n                  return (\r\n                    <React.Fragment key={row.id}>\r\n                      <DropArea\r\n                        data={{\r\n                          path: currentPath,\r\n                          childrenCount: props.layout.length,\r\n                        }}\r\n                        onDrop={handleDrop}\r\n                        path={currentPath}\r\n                      />\r\n                      {renderRow(row, currentPath, index)}\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n                <DropArea\r\n                  data={{\r\n                    path: `${props.layout.length}`,\r\n                    childrenCount: props.layout.length,\r\n                  }}\r\n                  onDrop={handleDrop}\r\n                  isLast\r\n                  isEmpty={props.layout.length ? false : true}\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* </PerfectScrollbar> */}\r\n          </div>\r\n        </div>\r\n        {/* <div> */}\r\n        {/* <div className=\"rightBar height-auto\"> */}\r\n        {/* <span className=\"pinned-image\" onClick={changePin}> */}\r\n        {/* <Image src={!enablePin ? toggleExpand : toggleCollapse} alt=\"sidebar\" width=\"24\" height=\"24\" /> */}\r\n        {/* {intl.formatMessage({ id: \"IDS_PROPERTIES\" })} */}\r\n        {/* </span> */}\r\n\r\n        {/* </div> */}\r\n        {/* </div> */}\r\n        {/* </SplitterLayout> */}\r\n        {/* </div> */}\r\n      </div>\r\n      <div className={`vertical-tab ${activeTabIndex ? \"active\" : \"\"}`}>\r\n        <div\r\n          className={`vertical-tab-content pager_wrap wrap-class ${\r\n            activeTabIndex ? \"active\" : \"\"\r\n          }`}\r\n        >\r\n          {/* <PerfectScrollbar containerRef = {(ref) => { _scrollBarRef.current = ref; }}> */}\r\n          {/* <div className=\"sm-view-v-t \"> */}\r\n          <span\r\n            className={` vertical-tab-close ${activeTabIndex ? \"active\" : \"\"}`}\r\n            onClick={() => changeActiveTabIndex(false)}\r\n          >\r\n            <FontAwesomeIcon icon={faChevronRight} />{\" \"}\r\n          </span>\r\n          {_scrollBarRef &&\r\n          _scrollBarRef.current &&\r\n          _scrollBarChildRef &&\r\n          _scrollBarChildRef.current &&\r\n          _scrollBarChildRef.current.clientHeight >\r\n            _scrollBarRef.current.clientHeight &&\r\n          activeScrollTop ? (\r\n            <span\r\n              className=\"scroll-up-arrow\"\r\n              onClick={() => {\r\n                debugger;\r\n                _scrollBarRef.current.scrollTop = 0;\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faAngleDoubleUp} />\r\n            </span>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {activeTabIndex && activeTabIndex == 1 ? (\r\n            <div\r\n              className={` vertical-tab-content-Inputs sm-view-v-t  ${\r\n                activeTabIndex && activeTabIndex == 1 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <h4 className=\"inner_h4\">Input Fields</h4>\r\n              <PerfectScrollbar\r\n                className=\"xs-view-v-t\"\r\n                onScrollY={(container) => activeScroll(container)}\r\n                containerRef={(ref) => {\r\n                  _scrollBarRef.current = ref;\r\n                }}\r\n              >\r\n                <div className=\"flex-wrap\" ref={_scrollBarChildRef}>\r\n                  {Object.values(props.reactComponents).map(\r\n                    (sideBarItem, index) => (\r\n                      <SideBarItem\r\n                        key={sideBarItem.id}\r\n                        data={sideBarItem}\r\n                        displayField={\"componentname\"}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              </PerfectScrollbar>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {activeTabIndex && activeTabIndex == 2 ? (\r\n            <div\r\n              className={` vertical-tab-content-components sm-view-v-t   ${\r\n                activeTabIndex && activeTabIndex == 2 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <h4 className=\"inner_h4\">Components</h4>\r\n              <PerfectScrollbar\r\n                className=\"xs-view-v-t\"\r\n                onScrollY={(container) => activeScroll(container)}\r\n                containerRef={(ref) => {\r\n                  _scrollBarRef.current = ref;\r\n                }}\r\n              >\r\n                <div className=\"flex-wrap\" ref={_scrollBarChildRef}>\r\n                  {Object.values(props.reactInputFields).map(\r\n                    (sideBarItem, index) => (\r\n                      <SideBarItem\r\n                        key={sideBarItem.id}\r\n                        data={sideBarItem}\r\n                        displayField={\"label\"}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              </PerfectScrollbar>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {activeTabIndex && activeTabIndex == 3 ? (\r\n            <div\r\n              className={` vertical-tab-content-properties sm-view-v-t  ${\r\n                activeTabIndex && activeTabIndex == 3 ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <h4 className=\"inner_h4\">Properties</h4>\r\n              <PerfectScrollbar\r\n                className=\"xs-view-v-t\"\r\n                onScrollY={(container) => {\r\n                  activeScroll(container);\r\n                }}\r\n                containerRef={(ref) => {\r\n                  _scrollBarRef.current = ref;\r\n                }}\r\n              >\r\n                <div className=\"flex-wrap\" ref={_scrollBarChildRef}>\r\n                  <h5 className=\"d-flex text-icon-align\">\r\n                    <Badge bg=\"secondary\">\r\n                      {props.selectedFieldRecord.label\r\n                        ? props.selectedFieldRecord.label\r\n                        : props.selectedFieldRecord.componentname\r\n                        ? props.selectedFieldRecord.componentname\r\n                        : \"\"}\r\n                    </Badge>\r\n                    {props.showsynonym ? (\r\n                      <Button\r\n                        className=\"btn-light nobg\"\r\n                        onClick={(e) => props.addSynonym()}\r\n                      >\r\n                        <FontAwesomeIcon icon={faWindowClose} />\r\n                      </Button>\r\n                    ) : (props.selectedFieldRecord.label ||\r\n                        props.selectedFieldRecord.componentname) &&\r\n                      (props.selectedFieldRecord.componentcode ===\r\n                        ReactComponents.COMBO ||\r\n                        props.selectedFieldRecord.componentcode ===\r\n                          ReactComponents.DATE) ? (\r\n                      <Button\r\n                        className=\"btn-light nobg\"\r\n                        onClick={() => props.showPropFilter()}\r\n                      >\r\n                        {props.showFilter ? (\r\n                          <FontAwesomeIcon icon={faWindowClose} /> // style={{ fontSize: \"13px\" }} />\r\n                        ) : (\r\n                          <FontAwesomeIcon\r\n                            icon={faFilter}\r\n                            style={{\r\n                              fontSize: \"13px\",\r\n                              color: `${\r\n                                (props.selectedFieldRecord.conditionArrayUI &&\r\n                                  props.selectedFieldRecord.conditionArrayUI\r\n                                    .length > 0) ||\r\n                                (props.selectedFieldRecord\r\n                                  .dateConstraintArraySQL &&\r\n                                  props.selectedFieldRecord\r\n                                    .dateConstraintArraySQL.length > 0)\r\n                                  ? \"#0470fbb6\"\r\n                                  : \"#212529\"\r\n                              }`,\r\n                            }}\r\n                          />\r\n                        )}\r\n                      </Button>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </h5>\r\n                  <div className=\"secondary-warp\">\r\n                    {props.showsynonym ? (\r\n                      <AddSynonym\r\n                        selectedFieldRecord={props.selectedFieldRecord}\r\n                        onInputOnChange={props.onInputOnChange}\r\n                        languages={props.languages}\r\n                        addSynonym={props.addSynonym}\r\n                        language={props.language}\r\n                      />\r\n                    ) : props.showFilter ? (\r\n                      props.selectedFieldRecord.componentcode ===\r\n                      ReactComponents.COMBO ? (\r\n                        <ComboFilterProperties\r\n                          onInputOnChange={props.onInputOnChange}\r\n                          onNumericInputChange={props.onNumericInputChange}\r\n                          selectedFieldRecord={props.selectedFieldRecord}\r\n                          tables={props.ReactTables}\r\n                          numericConditions={props.numericConditions}\r\n                          stringConditions={props.stringConditions}\r\n                          onComboChange={props.onComboChange}\r\n                          tableColumn={props.filterColumns}\r\n                          filterData={props.filterData || []}\r\n                          inputFields={props.inputFields}\r\n                          addChildMapping={props.addChildMapping}\r\n                          valueMembers={props.valueMembers}\r\n                          addTag={props.addTag}\r\n                          addCondition={props.addCondition}\r\n                          deleteCondition={props.deleteCondition}\r\n                          staticfiltertables={props.staticfiltertables}\r\n                          staticfiltercolumn={props.staticfiltercolumn}\r\n                        />\r\n                      ) : (\r\n                        <DateFilterProperties\r\n                          onInputOnChange={props.onInputOnChange}\r\n                          onNumericInputChange={props.onNumericInputChange}\r\n                          selectedFieldRecord={props.selectedFieldRecord}\r\n                          tables={props.ReactTables}\r\n                          dateConditions={props.dateConditions}\r\n                          onComboChange={props.onComboChange}\r\n                          dateComponents={props.dateComponents}\r\n                          filterData={props.filterData || []}\r\n                          inputFields={props.inputFields}\r\n                          addChildMapping={props.addChildMapping}\r\n                          valueMembers={props.valueMembers}\r\n                          addTag={props.addTag}\r\n                          addDateConstraints={props.addDateConstraints}\r\n                          deleteCondition={props.deleteDateCondition}\r\n                          userinfo={props.userinfo}\r\n                          CurrentTime={new Date()}\r\n                          handleDateChange={props.handleDateChange}\r\n                          period={props.period}\r\n                        />\r\n                      )\r\n                    ) : (\r\n                      <DynamicFieldProperties\r\n                        onInputOnChange={props.onInputOnChange}\r\n                        onNumericInputChange={props.onNumericInputChange}\r\n                        selectedFieldRecord={props.selectedFieldRecord}\r\n                        tables={props.ReactTables}\r\n                        onComboChange={props.onComboChange}\r\n                        tableColumn={props.tableColumn}\r\n                        inputFields={props.inputFields}\r\n                        addChildMapping={props.addChildMapping}\r\n                        valueMembers={props.valueMembers}\r\n                        addTag={props.addTag}\r\n                        addSynonym={props.addSynonym}\r\n                        parentRadioValue={props.parentRadioValue}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </PerfectScrollbar>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          {/* </div> */}\r\n          {/* </PerfectScrollbar> */}\r\n\r\n          {_scrollBarRef &&\r\n          _scrollBarRef.current &&\r\n          _scrollBarChildRef &&\r\n          _scrollBarChildRef.current &&\r\n          _scrollBarChildRef.current.clientHeight >\r\n            _scrollBarRef.current.clientHeight &&\r\n          activeScrollview > 0 ? (\r\n            <span\r\n              className={`scroll-down-arrow  ${\r\n                height >= _scrollBarRef.current.scrollHeight\r\n                  ? \"\"\r\n                  : \"cursor-notallowed\"\r\n              }`}\r\n              onClick={() => {\r\n                _scrollBarRef.current.scrollTop = 400;\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faAngleDoubleDown} />\r\n            </span>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"tab-head\">\r\n          <ul>\r\n            <li\r\n              className={`${\r\n                activeTabIndex && activeTabIndex == 1 ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => changeActiveTabIndex(1)}\r\n            >\r\n              <FontAwesomeIcon icon={faKeyboard} />\r\n              <span>Input Fields</span>\r\n            </li>\r\n            <li\r\n              className={`${\r\n                activeTabIndex && activeTabIndex == 2 ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => changeActiveTabIndex(2)}\r\n            >\r\n              <FontAwesomeIcon icon={faBuilding} />\r\n              <span>Components</span>\r\n            </li>\r\n            <li\r\n              className={`${\r\n                props.selectedFieldRecord &&\r\n                Object.keys(props.selectedFieldRecord).length === 0\r\n                  ? \"disabled\"\r\n                  : activeTabIndex && activeTabIndex == 3\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }`}\r\n              onClick={() => changeActiveTabIndex(3)}\r\n            >\r\n              <FontAwesomeIcon icon={faInfoCircle} />\r\n              <span> Properties </span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default injectIntl(Dynamicinput);\r\n"]},"metadata":{},"sourceType":"module"}