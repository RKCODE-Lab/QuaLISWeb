{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{injectIntl,FormattedMessage}from'react-intl';import{Nav,Row,Col}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import DataGrid from'../../../components/data-grid/data-grid.component';import{faPlus}from'@fortawesome/free-solid-svg-icons';import{process}from'@progress/kendo-data-query';var InstitiutionSiteTab=/*#__PURE__*/function(_React$Component){_inherits(InstitiutionSiteTab,_React$Component);var _super=_createSuper(InstitiutionSiteTab);function InstitiutionSiteTab(props){var _this;_classCallCheck(this,InstitiutionSiteTab);_this=_super.call(this,props);_this.state={siteDataState:{skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5}};return _this;}_createClass(InstitiutionSiteTab,[{key:\"render\",value:function render(){var _this2=this;var addSiteId=this.props.controlMap.has(\"AddInstitutionSite\")&&this.props.controlMap.get(\"AddInstitutionSite\").ncontrolcode;var InstitutionSiteColumnList=[{\"idsName\":\"IDS_INSTITUTIONSITE\",\"dataField\":\"sinstitutionsitename\",\"width\":\"150px\"},{\"idsName\":\"IDS_CITY\",\"dataField\":\"scityname\",\"width\":\"150px\"},{\"idsName\":\"IDS_COUNTRY\",\"dataField\":\"scountryname\",\"width\":\"150px\"},{\"idsName\":\"IDS_LIMSSITE\",\"dataField\":\"ssitename\",\"width\":\"150px\"}];var detailedFieldList=[{\"idsName\":\"IDS_INSTITUTIONSITEADDRESS\",\"dataField\":\"sinstitutionsiteaddress\",\"width\":\"300px\"},{\"idsName\":\"IDS_CITYCODE\",\"dataField\":\"scitycode\",\"width\":\"250px\"},{\"idsName\":\"IDS_ZIPCODE\",\"dataField\":\"szipcode\",\"width\":\"250px\"},{\"idsName\":\"IDS_STATE\",\"dataField\":\"sstate\",\"width\":\"250px\"},{\"idsName\":\"IDS_LIMSSITECODE\",\"dataField\":\"ssitecode\",\"width\":\"250px\"},{\"idsName\":\"IDS_TELEPHONE\",\"dataField\":\"stelephone\",\"width\":\"250px\"},{\"idsName\":\"IDS_FAX\",\"dataField\":\"sfaxno\",\"width\":\"250px\"},{\"idsName\":\"IDS_EMAIL\",\"dataField\":\"semail\",\"width\":\"250px\"},{\"idsName\":\"IDS_WEBSITE\",\"dataField\":\"swebsite\",\"width\":\"250px\"}];var methodUrl=\"InstitutionSite\";var methodParam={screenName:\"IDS_INSTITUTIONSITE\",instItem:this.props.selectedInstitution,operation:\"create\",userInfo:this.props.userInfo,ncontrolCode:addSiteId,selectedRecord:this.props.selectedRecord};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"actions-stripe\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"addsite\",className:\"add-txt-btn\",hidden:this.props.userRoleControlRights.indexOf(addSiteId)===-1,onClick:function onClick(){return _this2.props.getInstitutionSiteData(methodParam);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus}),\" \",/*#__PURE__*/React.createElement(FormattedMessage,{id:\"IDS_ADDSITE\",defaultMessage:\"Add Site\"})))),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(DataGrid,{key:\"institutitonsitekey\",primaryKeyField:\"ninstitutionsitecode\",data:this.props.InstitutionSiteData,dataResult:process(this.props.InstitutionSiteData||[],this.state.siteDataState),dataState:this.state.siteDataState,dataStateChange:function dataStateChange(event){return _this2.setState({siteDataState:event.dataState});},extractedColumnList:InstitutionSiteColumnList,detailedFieldList:detailedFieldList,expandField:\"expanded\",controlMap:this.props.controlMap,userRoleControlRights:this.props.userRoleControlRights,inputParam:this.props.inputParam,userInfo:this.props.userInfo,deleteRecord:this.props.deleteRecord,fetchRecord:this.props.fetchRecord,editParam:this.props.editParam,onSwitchChange:this.props.defaultRecord,pageable:true,scrollable:'scrollable',isActionRequired:true,deleteParam:{operation:\"delete\",methodUrl:methodUrl,screenName:this.props.screenName},methodUrl:methodUrl}))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.InstitutionSiteData!==previousProps.InstitutionSiteData){var siteDataState=this.state.siteDataState;if(this.props.dataState===undefined){siteDataState={skip:0,take:this.props.settings?parseInt(this.props.settings[14]):5};}this.setState({siteDataState:siteDataState});}}}]);return InstitiutionSiteTab;}(React.Component);;export default injectIntl(InstitiutionSiteTab);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/submitter/institution/InstitutionSiteTab.jsx"],"names":["React","injectIntl","FormattedMessage","Nav","Row","Col","FontAwesomeIcon","DataGrid","faPlus","process","InstitiutionSiteTab","props","state","siteDataState","skip","take","settings","parseInt","addSiteId","controlMap","has","get","ncontrolcode","InstitutionSiteColumnList","detailedFieldList","methodUrl","methodParam","screenName","instItem","selectedInstitution","operation","userInfo","ncontrolCode","selectedRecord","userRoleControlRights","indexOf","getInstitutionSiteData","InstitutionSiteData","event","setState","dataState","inputParam","deleteRecord","fetchRecord","editParam","defaultRecord","previousProps","undefined","Component"],"mappings":"wnBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,gBAArB,KAA6C,YAA7C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,GAAnB,KAA8B,iBAA9B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,mDAArB,CACA,OAASC,MAAT,KAAuB,mCAAvB,CACA,OAASC,OAAT,KAAwB,4BAAxB,C,GACOC,CAAAA,mB,sIACH,6BAAYC,KAAZ,CAAmB,qDACnB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAc,CACVC,aAAa,CAAE,CAAEC,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,MAAKJ,KAAL,CAAWK,QAAX,CAAsBC,QAAQ,CAAC,MAAKN,KAAL,CAAWK,QAAX,CAAoB,EAApB,CAAD,CAA9B,CAA0D,CAA3E,CADL,CAAd,CAFmB,aAKtB,C,sDAGM,iBAAQ,iBACP,GAAME,CAAAA,SAAS,CAAG,KAAKP,KAAL,CAAWQ,UAAX,CAAsBC,GAAtB,CAA0B,oBAA1B,GAAmD,KAAKT,KAAL,CAAWQ,UAAX,CAAsBE,GAAtB,CAA0B,oBAA1B,EAAgDC,YAArH,CACA,GAAMC,CAAAA,yBAAyB,CAAG,CAC9B,CAAC,UAAU,qBAAX,CAAiC,YAAY,sBAA7C,CAAoE,QAAQ,OAA5E,CAD8B,CAE9B,CAAC,UAAU,UAAX,CAAsB,YAAY,WAAlC,CAA8C,QAAQ,OAAtD,CAF8B,CAG9B,CAAC,UAAU,aAAX,CAAyB,YAAY,cAArC,CAAoD,QAAQ,OAA5D,CAH8B,CAI9B,CAAC,UAAU,cAAX,CAA0B,YAAY,WAAtC,CAAkD,QAAQ,OAA1D,CAJ8B,CAAlC,CAOA,GAAMC,CAAAA,iBAAiB,CAAG,CACtB,CAAE,UAAW,4BAAb,CAA2C,YAAa,yBAAxD,CAAmF,QAAS,OAA5F,CADsB,CAEtB,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,QAAS,OAAhE,CAFsB,CAGtB,CAAE,UAAW,aAAb,CAA4B,YAAa,UAAzC,CAAqD,QAAS,OAA9D,CAHsB,CAItB,CAAE,UAAW,WAAb,CAA0B,YAAa,QAAvC,CAAiD,QAAS,OAA1D,CAJsB,CAKtB,CAAE,UAAW,kBAAb,CAAiC,YAAa,WAA9C,CAA2D,QAAS,OAApE,CALsB,CAMtB,CAAE,UAAW,eAAb,CAA8B,YAAa,YAA3C,CAAyD,QAAS,OAAlE,CANsB,CAOtB,CAAE,UAAW,SAAb,CAAwB,YAAa,QAArC,CAA+C,QAAS,OAAxD,CAPsB,CAQtB,CAAE,UAAW,WAAb,CAA0B,YAAa,QAAvC,CAAiD,QAAS,OAA1D,CARsB,CAStB,CAAE,UAAW,aAAb,CAA4B,YAAa,UAAzC,CAAqD,QAAS,OAA9D,CATsB,CAA1B,CAYA,GAAMC,CAAAA,SAAS,CAAG,iBAAlB,CACA,GAAMC,CAAAA,WAAW,CAAG,CAACC,UAAU,CAAC,qBAAZ,CAChBC,QAAQ,CAAC,KAAKjB,KAAL,CAAWkB,mBADJ,CACwBC,SAAS,CAAC,QADlC,CAC2CC,QAAQ,CAAC,KAAKpB,KAAL,CAAWoB,QAD/D,CAECC,YAAY,CAAEd,SAFf,CAEyBe,cAAc,CAAC,KAAKtB,KAAL,CAAWsB,cAFnD,CAApB,CAGJ,mBACI,qDACI,2BAAK,SAAS,CAAC,gBAAf,eACI,2BAAK,SAAS,CAAC,4BAAf,eACI,oBAAC,GAAD,CAAK,IAAL,EAAU,IAAI,CAAC,SAAf,CAAyB,SAAS,CAAC,aAAnC,CAAiD,MAAM,CAAE,KAAKtB,KAAL,CAAWuB,qBAAX,CAAiCC,OAAjC,CAAyCjB,SAAzC,IAAwD,CAAC,CAAlH,CACQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACP,KAAL,CAAWyB,sBAAX,CAAkCV,WAAlC,CAAJ,EADjB,eAGQ,oBAAC,eAAD,EAAiB,IAAI,CAAKlB,MAA1B,EAHR,kBAIQ,oBAAC,gBAAD,EAAkB,EAAE,CAAC,aAArB,CAAmC,cAAc,CAAC,UAAlD,EAJR,CADJ,CADJ,CADJ,cAWI,oBAAC,GAAD,EAAK,SAAS,CAAE,IAAhB,eACI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,eACI,oBAAC,QAAD,EACG,GAAG,CAAC,qBADP,CAEG,eAAe,CAAG,sBAFrB,CAGG,IAAI,CAAI,KAAKG,KAAL,CAAW0B,mBAHtB,CAIG,UAAU,CAAI5B,OAAO,CAAC,KAAKE,KAAL,CAAW0B,mBAAX,EAAgC,EAAjC,CAAoC,KAAKzB,KAAL,CAAWC,aAA/C,CAJxB,CAKG,SAAS,CAAI,KAAKD,KAAL,CAAWC,aAL3B,CAMG,eAAe,CAAI,yBAACyB,KAAD,QAAW,CAAA,MAAI,CAACC,QAAL,CAAc,CAAE1B,aAAa,CAAEyB,KAAK,CAACE,SAAvB,CAAd,CAAX,EANtB,CAOG,mBAAmB,CAAIjB,yBAP1B,CAQG,iBAAiB,CAAEC,iBARtB,CASG,WAAW,CAAC,UATf,CAUG,UAAU,CAAI,KAAKb,KAAL,CAAWQ,UAV5B,CAWG,qBAAqB,CAAE,KAAKR,KAAL,CAAWuB,qBAXrC,CAYG,UAAU,CAAI,KAAKvB,KAAL,CAAW8B,UAZ5B,CAaG,QAAQ,CAAI,KAAK9B,KAAL,CAAWoB,QAb1B,CAcG,YAAY,CAAI,KAAKpB,KAAL,CAAW+B,YAd9B,CAeG,WAAW,CAAG,KAAK/B,KAAL,CAAWgC,WAf5B,CAgBG,SAAS,CAAG,KAAKhC,KAAL,CAAWiC,SAhB1B,CAiBG,cAAc,CAAI,KAAKjC,KAAL,CAAWkC,aAjBhC,CAkBG,QAAQ,CAAE,IAlBb,CAmBG,UAAU,CAAE,YAnBf,CAoBG,gBAAgB,CAAE,IApBrB,CAqBG,WAAW,CAAE,CAACf,SAAS,CAAC,QAAX,CAAqBL,SAAS,CAATA,SAArB,CAA+BE,UAAU,CAAC,KAAKhB,KAAL,CAAWgB,UAArD,CArBhB,CAsBG,SAAS,CAAEF,SAtBd,EADJ,CADJ,CAXJ,CADJ,CA4CH,C,kCACD,4BAAmBqB,aAAnB,CAAkC,CAC9B,GAAI,KAAKnC,KAAL,CAAW0B,mBAAX,GAAmCS,aAAa,CAACT,mBAArD,CAA0E,CACtE,GAAMxB,CAAAA,aAAN,CAAuB,KAAKD,KAA5B,CAAMC,aAAN,CACA,GAAI,KAAKF,KAAL,CAAW6B,SAAX,GAAwBO,SAA5B,CAAuC,CACnClC,aAAa,CAAG,CAAEC,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,KAAKJ,KAAL,CAAWK,QAAX,CAAsBC,QAAQ,CAAC,KAAKN,KAAL,CAAWK,QAAX,CAAoB,EAApB,CAAD,CAA9B,CAA0D,CAA3E,CAAhB,CACH,CACD,KAAKuB,QAAL,CAAc,CAAE1B,aAAa,CAAbA,aAAF,CAAd,EACH,CAEJ,C,iCAxFkCb,KAAK,CAACgD,S,EAyFxC,CAED,cAAe/C,CAAAA,UAAU,CAACS,mBAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Nav, Row, Col } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport DataGrid from '../../../components/data-grid/data-grid.component';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { process } from '@progress/kendo-data-query';\r\nclass  InstitiutionSiteTab extends React.Component{\r\n    constructor(props) {\r\n    super(props);\r\n    this.state = ({\r\n        siteDataState: { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 },\r\n    });\r\n}\r\n\r\n\r\n       render(){\r\n        const addSiteId = this.props.controlMap.has(\"AddInstitutionSite\") && this.props.controlMap.get(\"AddInstitutionSite\").ncontrolcode;\r\n        const InstitutionSiteColumnList = [\r\n            {\"idsName\":\"IDS_INSTITUTIONSITE\",\"dataField\":\"sinstitutionsitename\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_CITY\",\"dataField\":\"scityname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_COUNTRY\",\"dataField\":\"scountryname\",\"width\":\"150px\"},\r\n            {\"idsName\":\"IDS_LIMSSITE\",\"dataField\":\"ssitename\",\"width\":\"150px\"}\r\n        ];\r\n\r\n        const detailedFieldList = [\r\n            { \"idsName\": \"IDS_INSTITUTIONSITEADDRESS\", \"dataField\": \"sinstitutionsiteaddress\", \"width\": \"300px\" },\r\n            { \"idsName\": \"IDS_CITYCODE\", \"dataField\": \"scitycode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_ZIPCODE\", \"dataField\": \"szipcode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_STATE\", \"dataField\": \"sstate\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_LIMSSITECODE\", \"dataField\": \"ssitecode\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_TELEPHONE\", \"dataField\": \"stelephone\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_FAX\", \"dataField\": \"sfaxno\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_EMAIL\", \"dataField\": \"semail\", \"width\": \"250px\" },\r\n            { \"idsName\": \"IDS_WEBSITE\", \"dataField\": \"swebsite\", \"width\": \"250px\" },\r\n        ];\r\n\r\n        const methodUrl = \"InstitutionSite\";\r\n        const methodParam = {screenName:\"IDS_INSTITUTIONSITE\",\r\n            instItem:this.props.selectedInstitution,operation:\"create\",userInfo:this.props.userInfo,\r\n                             ncontrolCode: addSiteId,selectedRecord:this.props.selectedRecord,};\r\n    return (\r\n        <>\r\n            <div className=\"actions-stripe\">\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Nav.Link name=\"addsite\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addSiteId) === -1}\r\n                            onClick={()=>this.props.getInstitutionSiteData(methodParam)}\r\n                            >\r\n                            <FontAwesomeIcon icon = { faPlus } /> { }\r\n                            <FormattedMessage id=\"IDS_ADDSITE\" defaultMessage=\"Add Site\"></FormattedMessage>\r\n                        </Nav.Link>\r\n                </div>\r\n            </div>\r\n            <Row noGutters={true}>\r\n                <Col md=\"12\">\r\n                    <DataGrid\r\n                       key=\"institutitonsitekey\"\r\n                       primaryKeyField = \"ninstitutionsitecode\"\r\n                       data = {this.props.InstitutionSiteData}\r\n                       dataResult = {process(this.props.InstitutionSiteData||[],this.state.siteDataState)}\r\n                       dataState = {this.state.siteDataState}\r\n                       dataStateChange = {(event) => this.setState({ siteDataState: event.dataState })}\r\n                       extractedColumnList = {InstitutionSiteColumnList}\r\n                       detailedFieldList={detailedFieldList}\r\n                       expandField=\"expanded\" \r\n                       controlMap = {this.props.controlMap}\r\n                       userRoleControlRights={this.props.userRoleControlRights}\r\n                       inputParam = {this.props.inputParam}\r\n                       userInfo = {this.props.userInfo}\r\n                       deleteRecord = {this.props.deleteRecord}\r\n                       fetchRecord ={this.props.fetchRecord}\r\n                       editParam ={this.props.editParam}\r\n                       onSwitchChange = {this.props.defaultRecord}\r\n                       pageable={true}\r\n                       scrollable={'scrollable'}\r\n                       isActionRequired={true}\r\n                       deleteParam={{operation:\"delete\", methodUrl,screenName:this.props.screenName}}\r\n                       methodUrl={methodUrl}\r\n                       \r\n                    >\r\n                    </DataGrid>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n}\r\ncomponentDidUpdate(previousProps) {\r\n    if (this.props.InstitutionSiteData !== previousProps.InstitutionSiteData) {\r\n        let { siteDataState} = this.state;\r\n        if (this.props.dataState=== undefined) {\r\n            siteDataState = { skip: 0, take: this.props.settings ? parseInt(this.props.settings[14]) : 5 };\r\n        }\r\n        this.setState({ siteDataState });\r\n    }\r\n\r\n}\r\n};\r\n\r\nexport default injectIntl(InstitiutionSiteTab);"]},"metadata":{},"sourceType":"module"}