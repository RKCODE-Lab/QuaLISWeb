{"ast":null,"code":"import _slicedToArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{faSearch}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import React,{useState,useRef,useEffect}from'react';import{Form,InputGroup,ListGroup,Media}from'react-bootstrap';import'./SearchBar.css';//import { ClientList, SearchAdd, MediaHeader, MediaSubHeader, MediaLabel, SearchIcon } from '../App.styles';\nimport{SearchIcon,MediaHeader,MediaSubHeader}from'../App.styles';import PerfectScrollbar from'react-perfect-scrollbar';import{ListMasterWrapper}from'../list-master/list-master.styles';import FormIconForDropDown from'../../pages/home/FormIconForDropDown';var SearchBar=function SearchBar(props){var options=props.options,onInputChange=props.onInputChange,optionDisplayMember=props.optionDisplayMember,onClickButton=props.onClickButton;var ulRef=useRef();var inputRef=props.inputRef;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),focus=_useState2[0],setFocus=_useState2[1];useEffect(function(){inputRef.current.focus();inputRef.current.addEventListener('keypress',function(event){event.stopPropagation();if(event.key!==''&&ulRef.current){ulRef.current.style.display='flex';}onInputChange(event);});inputRef.current.addEventListener('click',function(event){event.stopPropagation();if(event.target.value!==''&&ulRef.current){ulRef.current.style.display='flex';onInputChange(event,inputRef);}});document.addEventListener('click',function(event){if(ulRef!==undefined&&ulRef.current){ulRef.current.style.display='none';}});},[]);var _onClick=function onClick(inputRef,option){inputRef.current.value=\"\";onClickButton(option);};var onFocusInput=function onFocusInput(){setFocus(true);};return/*#__PURE__*/React.createElement(\"div\",{className:\"search-bar-dropdown\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"list-group-search \".concat(focus?'searchMinFocus':'searchMin')},/*#__PURE__*/React.createElement(Form.Control,{id:\"search-bar\",type:\"text\",className:\"form-control\",placeholder:props.intl.formatMessage({id:\"IDS_SEARCHFROMS\"})//\"Search Forms\"\n,ref:inputRef,onChange:onInputChange// onFocus={(e)=>{onFocusInput(e)}}\n// onBlur={(e)=>{setFocus(false)}}\n,autoComplete:\"off\",required:false})),props.pathname&&props.pathname!=='/home'&&/*#__PURE__*/React.createElement(\"ul\",{id:\"results\",className:\"list-group \".concat(options.length>0?'border-bottom':\"border-bottom-0\"),ref:ulRef},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(ListMasterWrapper,null,/*#__PURE__*/React.createElement(ListGroup,{as:\"ul\"},options&&options.map(function(option,index){return/*#__PURE__*/React.createElement(ListGroup.Item,{className:\"list-bgcolor\",onClick:function onClick(e){_onClick(inputRef,option);}},/*#__PURE__*/React.createElement(Media,null,/*#__PURE__*/React.createElement(FormIconForDropDown,{nformcode:option['nformcode'],index:index,option:option}),/*#__PURE__*/React.createElement(Media.Body,null,/*#__PURE__*/React.createElement(MediaHeader,{\"data-tip\":option[optionDisplayMember]},option[optionDisplayMember]))))// <button\n//   type=\"button\"\n//   key={index}\n//   onClick={(e) => {\n//     onClick(inputRef, option);\n//   }}\n//   className=\"list-group-item list-group-item-action\"\n// >\n//   {option[optionDisplayMember]}\n// </button>\n;}))))));};export default SearchBar;","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/components/searchbarcomponent/SearchBar.jsx"],"names":["faSearch","FontAwesomeIcon","React","useState","useRef","useEffect","Form","InputGroup","ListGroup","Media","SearchIcon","MediaHeader","MediaSubHeader","PerfectScrollbar","ListMasterWrapper","FormIconForDropDown","SearchBar","props","options","onInputChange","optionDisplayMember","onClickButton","ulRef","inputRef","focus","setFocus","current","addEventListener","event","stopPropagation","key","style","display","target","value","document","undefined","onClick","option","onFocusInput","intl","formatMessage","id","pathname","length","map","index","e"],"mappings":"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","sourcesContent":["import { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Form, InputGroup, ListGroup, Media } from 'react-bootstrap';\r\nimport './SearchBar.css'\r\n//import { ClientList, SearchAdd, MediaHeader, MediaSubHeader, MediaLabel, SearchIcon } from '../App.styles';\r\n\r\nimport { SearchIcon, MediaHeader, MediaSubHeader } from '../App.styles';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { ListMasterWrapper } from '../list-master/list-master.styles';\r\nimport FormIconForDropDown from '../../pages/home/FormIconForDropDown';\r\n\r\n\r\nconst SearchBar = (props) => {\r\n  const { options, onInputChange, optionDisplayMember, onClickButton } = props;\r\n  const ulRef = useRef();\r\n  const inputRef = props.inputRef\r\n  const [focus, setFocus] = useState(false)\r\n  useEffect(() => {    \r\n    inputRef.current.focus();\r\n    inputRef.current.addEventListener('keypress', (event) => {\r\n      event.stopPropagation();\r\n      if (event.key !== '' && ulRef.current) {\r\n        ulRef.current.style.display = 'flex';\r\n      }\r\n      onInputChange(event);\r\n    });\r\n    inputRef.current.addEventListener('click', (event) => {\r\n      event.stopPropagation();\r\n      if (event.target.value !== '' && ulRef.current) {\r\n        ulRef.current.style.display = 'flex';\r\n        onInputChange(event, inputRef);\r\n      }\r\n    });\r\n    document.addEventListener('click', (event) => {\r\n      if (ulRef !== undefined && ulRef.current) {\r\n        ulRef.current.style.display = 'none';\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const onClick = (inputRef, option) => {\r\n    inputRef.current.value = \"\";\r\n    onClickButton(option)\r\n  }\r\n\r\n\r\n  const onFocusInput = () => {\r\n    setFocus(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-bar-dropdown\">\r\n      <InputGroup className={`list-group-search ${focus ? 'searchMinFocus' : 'searchMin'}`}>\r\n\r\n\r\n        <Form.Control\r\n          id=\"search-bar\"\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder={props.intl.formatMessage({ id: \"IDS_SEARCHFROMS\" })}\r\n          //\"Search Forms\"\r\n          ref={inputRef}\r\n          onChange={onInputChange}\r\n          // onFocus={(e)=>{onFocusInput(e)}}\r\n          // onBlur={(e)=>{setFocus(false)}}\r\n          autoComplete=\"off\"\r\n          required={false}\r\n        />\r\n      </InputGroup>\r\n      {props.pathname && props.pathname !== '/home' &&\r\n        <ul id=\"results\" className= {`list-group ${options.length > 0 ? 'border-bottom' : \"border-bottom-0\"}`} ref={ulRef}>\r\n        <PerfectScrollbar>\r\n          <ListMasterWrapper >\r\n            <ListGroup as=\"ul\"  >\r\n              {options && options.map((option, index) => {\r\n                return (\r\n                  <ListGroup.Item className={`list-bgcolor`} onClick={(e) => {\r\n                    onClick(inputRef, option);\r\n                  }}>\r\n                    <Media>\r\n                      <FormIconForDropDown nformcode={option['nformcode']} index={index} option={option} />\r\n\r\n                      <Media.Body>\r\n                        <MediaHeader data-tip={option[optionDisplayMember]}\r\n                        >{option[optionDisplayMember]}</MediaHeader>\r\n                      </Media.Body>\r\n                    </Media>\r\n                  </ListGroup.Item>\r\n                  // <button\r\n                  //   type=\"button\"\r\n                  //   key={index}\r\n                  //   onClick={(e) => {\r\n                  //     onClick(inputRef, option);\r\n                  //   }}\r\n                  //   className=\"list-group-item list-group-item-action\"\r\n                  // >\r\n                  //   {option[optionDisplayMember]}\r\n                  // </button>\r\n                );\r\n              })}\r\n              {/* </ul> */}\r\n            </ListGroup>\r\n          </ListMasterWrapper>\r\n          \r\n          </PerfectScrollbar>\r\n        </ul>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}