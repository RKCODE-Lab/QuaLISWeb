{"ast":null,"code":"import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Row,Col,Card}from'react-bootstrap';import{process}from'@progress/kendo-data-query';import{toast}from'react-toastify';import DataGrid from'../../components/data-grid/data-grid.component';import{ListWrapper,PrimaryHeader}from'../../components/client-group.styles';import{callService,updateStore,crudMaster,ViewJsonExceptionLogs}from'../../actions';import{getControlMap}from'../../components/CommonScript';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import DateTimePicker from'../../../src/components/date-time-picker/date-time-picker.component';import{getStartOfDay,getEndOfDay,convertDateValuetoString,rearrangeDateFormat}from'../../../src/components/CommonScript';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var JsonExceptionLogs=/*#__PURE__*/function(_React$Component){_inherits(JsonExceptionLogs,_React$Component);var _super=_createSuper(JsonExceptionLogs);function JsonExceptionLogs(props){var _this;_classCallCheck(this,JsonExceptionLogs);_this=_super.call(this,props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data.JsonExceptionLogs,event.dataState),dataState:event.dataState});};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.reloadData=function(){var fromDate=_this.props.Login.masterData.FromDate;var toDate=_this.props.Login.masterData.ToDate;var obj=convertDateValuetoString(fromDate,toDate,_this.props.Login.userInfo,true);var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:obj.fromDate,toDate:obj.toDate},classUrl:\"jsonexceptionlogs\",methodUrl:\"JsonExceptionLogs\",displayName:_this.props.Login.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;// this.setState({ selectedRecord });\n// this.reloadData(selectedRecord, true);\nvar dateObj={};if(dateName===\"fromdate\"){dateObj=convertDateValuetoString(dateValue,_this.props.Login.masterData.toDate,_this.props.Login.userInfo,true);}else{dateObj=convertDateValuetoString(_this.props.Login.masterData.toDate,dateValue,_this.props.Login.userInfo,true);}var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo,fromDate:dateObj.fromDate,toDate:dateObj.toDate},classUrl:'jsonexceptionlogs',methodUrl:\"JsonExceptionLogs\",userInfo:_this.props.Login.userInfo,displayName:\"IDS_JSONEXCEPTIONLOGS\"};_this.props.callService(inputParam);};_this.viewJsonExceptionLogs=function(viewJsonExceptionLogs){console.log('ewe',viewJsonExceptionLogs);var openModal=_this.props.Login.openModal;openModal=true;var screenName='IDS_VIEWSTACKTRACE';var updateInfo={typeName:DEFAULT_RETURN,data:{dataState:_this.state.dataState}};_this.props.updateStore(updateInfo);_this.props.ViewJsonExceptionLogs(_this.props.Login.masterData,_this.props.Login.userInfo,viewJsonExceptionLogs,screenName);};_this.formRef=React.createRef();_this.extractedColumnList=[];var dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],dataState:dataState,isOpen:false,userRoleControlRights:[],controlMap:new Map()};return _this;}_createClass(JsonExceptionLogs,[{key:\"render\",value:function render(){var _this2=this;var viewJsonExceptionLogs=this.state.controlMap.has(\"ViewJsonExceptionLogs\")&&this.state.controlMap.get(\"ViewJsonExceptionLogs\").ncontrolcode;var primaryKeyField=\"\";var fromDate=\"\";var toDate=\"\";if(this.props.Login.masterData&&this.props.Login.masterData.FromDate){fromDate=this.state.selectedRecord[\"fromdate\"]&&getStartOfDay(this.state.selectedRecord[\"fromdate\"])||rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.FromDate);toDate=this.state.selectedRecord[\"todate\"]&&getEndOfDay(this.state.selectedRecord[\"todate\"])||rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);}this.fieldsForGrid=[{\"idsName\":\"IDS_STACKTRACE\",\"dataField\":\"sstacktrace\",\"width\":\"200px\"}];if(this.props.Login.inputParam!==undefined){this.extractedColumnList=[{\"idsName\":\"IDS_MODULENAME\",\"dataField\":\"smodulename\",\"width\":\"200px\"},{\"idsName\":\"IDS_FORMNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_MESSAGE\",\"dataField\":\"smessage\",\"width\":\"200px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"200px\"},{\"idsName\":\"IDS_EXCEPTIONDATE\",\"dataField\":\"sexceptiondate\",\"width\":\"200px\",\"componentName\":\"date\"},{\"idsName\":\"IDS_SITENAME\",\"dataField\":\"ssitename\",\"width\":\"200px\"}// { \"idsName\": \"IDS_STACKTRACE\", \"dataField\": \"sstacktrace\", \"width\": \"200px\" },\n];primaryKeyField=\"njsonexceptioncode\";}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},/*#__PURE__*/React.createElement(PrimaryHeader,{className:\"d-flex justify-content-between mb-3\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(DateTimePicker,{name:\"fromdate\",label:this.props.intl.formatMessage({id:\"IDS_FROM\"}),className:\"form-control\",placeholderText:\"Select date..\",selected:this.state.selectedRecord[\"fromdate\"]||fromDate,dateFormat:this.props.Login.userInfo.ssitedate,isClearable:false,onChange:function onChange(date){return _this2.handleDateChange(\"fromdate\",date);},value:this.state.selectedRecord[\"fromdate\"]||fromDate})),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(DateTimePicker,{name:\"todate\",label:this.props.intl.formatMessage({id:\"IDS_TO\"}),className:\"form-control\",placeholderText:\"Select date..\",selected:this.state.selectedRecord[\"todate\"]||toDate,dateFormat:this.props.Login.userInfo.ssitedate,isClearable:false,onChange:function onChange(date){return _this2.handleDateChange(\"todate\",date);},value:this.state.selectedRecord[\"todate\"]||toDate}))),this.state.data?/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"njsonexceptioncode\",selectedId:this.props.Login.selectedId,data:this.state.data.JsonExceptionLogs,dataResult:this.state.dataResult,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,reloadData:this.reloadData,scrollable:\"scrollable\",gridHeight:\"600px\",isActionRequired:true,isToolBarRequired:true,pageable:true,isAddRequired:false,isDownloadPDFRequired:false,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faEye\",objectName:\"ExceptionLogs\",hidden:this.state.userRoleControlRights.indexOf(viewJsonExceptionLogs)===-1,onClick:function onClick(viewJsonExceptionLogs){return _this2.viewJsonExceptionLogs(viewJsonExceptionLogs);}}]}):\"\",this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,inputParam:this.props.Login.inputParam,screenName:'IDS_VIEWSTACKTRACE',hideSave:true,addComponent:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"one\"},/*#__PURE__*/React.createElement(Card.Body,null,this.props.Login.masterData[\"JsonExceptionLogsDetails\"][0].sstacktrace)))})))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData,dataResult:process(this.props.Login.masterData.JsonExceptionLogs,this.state.dataState)});}else{var dataState=this.state.dataState;if(this.props.Login.dataState===undefined){dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}this.setState({data:this.props.Login.masterData,isOpen:false,selectedRecord:this.props.Login.selectedRecord,dataResult:process(this.props.Login.masterData.JsonExceptionLogs?this.props.Login.masterData.JsonExceptionLogs:[],dataState),//dataResult: process(this.props.Login.masterData, dataState),\ndataState:dataState});}}else if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return JsonExceptionLogs;}(React.Component);export default connect(mapStateToProps,{callService:callService,updateStore:updateStore,crudMaster:crudMaster,ViewJsonExceptionLogs:ViewJsonExceptionLogs})(injectIntl(JsonExceptionLogs));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/credentialmanagement/JsonExceptionLogs.jsx"],"names":["React","connect","injectIntl","Row","Col","Card","process","toast","DataGrid","ListWrapper","PrimaryHeader","callService","updateStore","crudMaster","ViewJsonExceptionLogs","getControlMap","DEFAULT_RETURN","DateTimePicker","getStartOfDay","getEndOfDay","convertDateValuetoString","rearrangeDateFormat","SlideOutModal","mapStateToProps","state","Login","JsonExceptionLogs","props","dataStateChange","event","setState","dataResult","data","dataState","closeModal","loadEsign","openModal","selectedRecord","operation","updateInfo","typeName","reloadData","fromDate","masterData","FromDate","toDate","ToDate","obj","userInfo","inputParam","inputData","classUrl","methodUrl","displayName","handleDateChange","dateName","dateValue","Date","dateObj","viewJsonExceptionLogs","console","log","screenName","formRef","createRef","extractedColumnList","skip","take","settings","parseInt","masterStatus","error","isOpen","userRoleControlRights","controlMap","Map","has","get","ncontrolcode","primaryKeyField","fieldsForGrid","undefined","intl","formatMessage","id","ssitedate","date","selectedId","title","controlname","objectName","hidden","indexOf","onClick","sstacktrace","previousProps","nformcode","Object","values","map","item","push","warn","Component"],"mappings":"wnBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,YAA3B,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,KAA+B,iBAA/B,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gDAArB,CACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,sCAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,CAAmCC,UAAnC,CAA+CC,qBAA/C,KAA4E,eAA5E,CACA,OAASC,aAAT,KAA8B,+BAA9B,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,qEAA3B,CACA,OAASC,aAAT,CAAwBC,WAAxB,CAAqCC,wBAArC,CAA+DC,mBAA/D,KAA0F,sCAA1F,CACA,MAAOC,CAAAA,aAAP,KAA0B,gDAA1B,CAKA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAQ,CAAEC,KAAK,CAAED,KAAK,CAACC,KAAf,CAAR,CACH,CAFD,C,GAIMC,CAAAA,iB,kIAEF,2BAAYC,KAAZ,CAAmB,mDACf,uBAAMA,KAAN,EADe,MAmCnBC,eAnCmB,CAmCD,SAACC,KAAD,CAAW,CACzB,MAAKC,QAAL,CAAc,CACVC,UAAU,CAAEzB,OAAO,CAAC,MAAKkB,KAAL,CAAWQ,IAAX,CAAgBN,iBAAjB,CAAoCG,KAAK,CAACI,SAA1C,CADT,CAEVA,SAAS,CAAEJ,KAAK,CAACI,SAFP,CAAd,EAIH,CAxCkB,OA0CnBC,UA1CmB,CA0CN,UAAM,CACf,GAAIC,CAAAA,SAAS,CAAG,MAAKR,KAAL,CAAWF,KAAX,CAAiBU,SAAjC,CACA,GAAIC,CAAAA,SAAS,CAAG,MAAKT,KAAL,CAAWF,KAAX,CAAiBW,SAAjC,CACA,GAAIC,CAAAA,cAAc,CAAG,MAAKV,KAAL,CAAWF,KAAX,CAAiBY,cAAtC,CACA,GAAI,MAAKV,KAAL,CAAWF,KAAX,CAAiBU,SAArB,CAAgC,CAC5B,GAAI,MAAKR,KAAL,CAAWF,KAAX,CAAiBa,SAAjB,GAA+B,QAAnC,CAA6C,CACzCH,SAAS,CAAG,KAAZ,CACAC,SAAS,CAAG,KAAZ,CACAC,cAAc,CAAG,EAAjB,CACH,CAJD,IAIO,CACHF,SAAS,CAAG,KAAZ,CACAE,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACAA,cAAc,CAAC,eAAD,CAAd,CAAkC,EAAlC,CACH,CACJ,CAVD,IAUO,CACHD,SAAS,CAAG,KAAZ,CACAC,cAAc,CAAG,EAAjB,CACH,CACD,GAAME,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfgB,IAAI,CAAE,CAAEI,SAAS,CAATA,SAAF,CAAaD,SAAS,CAATA,SAAb,CAAwBE,cAAc,CAAdA,cAAxB,CAFS,CAAnB,CAIA,MAAKV,KAAL,CAAWf,WAAX,CAAuB2B,UAAvB,EACH,CAjEkB,OAmEnBE,UAnEmB,CAmEN,UAAM,CACf,GAAIC,CAAAA,QAAQ,CAAG,MAAKf,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BC,QAA3C,CACA,GAAIC,CAAAA,MAAM,CAAG,MAAKlB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BG,MAAzC,CACA,GAAIC,CAAAA,GAAG,CAAG3B,wBAAwB,CAACsB,QAAD,CAAUG,MAAV,CAAkB,MAAKlB,KAAL,CAAWF,KAAX,CAAiBuB,QAAnC,CAA6C,IAA7C,CAAlC,CACA,GAAMC,CAAAA,UAAU,CAAG,CACfC,SAAS,CAAE,CAAE,WAAY,MAAKvB,KAAL,CAAWF,KAAX,CAAiBuB,QAA/B,CACXN,QAAQ,CAACK,GAAG,CAACL,QADF,CAEXG,MAAM,CAACE,GAAG,CAACF,MAFA,CADI,CAKfM,QAAQ,CAAE,mBALK,CAMfC,SAAS,CAAE,mBANI,CAOfC,WAAW,CAAE,MAAK1B,KAAL,CAAWF,KAAX,CAAiB4B,WAPf,CAQfL,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBuB,QARZ,CAAnB,CAWA,MAAKrB,KAAL,CAAWhB,WAAX,CAAuBsC,UAAvB,EACH,CAnFkB,OAqFnBK,gBArFmB,CAqFA,SAACC,QAAD,CAAWC,SAAX,CAAyB,CACxC,GAAQnB,CAAAA,cAAR,CAA2B,MAAKb,KAAhC,CAAQa,cAAR,CACA,GAAImB,SAAS,GAAK,IAAlB,CAAwB,CACpBA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACH,CACDpB,cAAc,CAACkB,QAAD,CAAd,CAA2BC,SAA3B,CACD;AACA;AAEA,GAAIE,CAAAA,OAAO,CAAG,EAAd,CACA,GAAIH,QAAQ,GAAK,UAAjB,CAA6B,CACxBG,OAAO,CAAGtC,wBAAwB,CAACoC,SAAD,CAAY,MAAK7B,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BE,MAAxC,CAAgD,MAAKlB,KAAL,CAAWF,KAAX,CAAiBuB,QAAjE,CAA2E,IAA3E,CAAlC,CACJ,CAFD,IAGI,CACCU,OAAO,CAAGtC,wBAAwB,CAAC,MAAKO,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BE,MAA7B,CAAqCW,SAArC,CAAgD,MAAK7B,KAAL,CAAWF,KAAX,CAAiBuB,QAAjE,CAA2E,IAA3E,CAAlC,CACJ,CAED,GAAMC,CAAAA,UAAU,CAAG,CACMC,SAAS,CAAE,CACP,WAAY,MAAKvB,KAAL,CAAWF,KAAX,CAAiBuB,QADtB,CAEPN,QAAQ,CAACgB,OAAO,CAAChB,QAFV,CAGPG,MAAM,CAACa,OAAO,CAACb,MAHR,CADjB,CAMMM,QAAQ,CAAE,mBANhB,CAOMC,SAAS,CAAE,mBAPjB,CAQMJ,QAAQ,CAAE,MAAKrB,KAAL,CAAWF,KAAX,CAAiBuB,QARjC,CASMK,WAAW,CAAE,uBATnB,CAAnB,CAWC,MAAK1B,KAAL,CAAWhB,WAAX,CAAuBsC,UAAvB,EACH,CAlHkB,OA+PnBU,qBA/PmB,CA+PK,SAACA,qBAAD,CAA2B,CAC/CC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,qBAAnB,EACA,GAAIvB,CAAAA,SAAS,CAAG,MAAKT,KAAL,CAAWF,KAAX,CAAiBW,SAAjC,CACAA,SAAS,CAAG,IAAZ,CACA,GAAI0B,CAAAA,UAAU,CAAG,oBAAjB,CACA,GAAMvB,CAAAA,UAAU,CAAG,CACfC,QAAQ,CAAExB,cADK,CAEfgB,IAAI,CAAE,CACFC,SAAS,CAAE,MAAKT,KAAL,CAAWS,SADpB,CAFS,CAAnB,CAMA,MAAKN,KAAL,CAAWf,WAAX,CAAuB2B,UAAvB,EACA,MAAKZ,KAAL,CAAWb,qBAAX,CAAiC,MAAKa,KAAL,CAAWF,KAAX,CAAiBkB,UAAlD,CAA8D,MAAKhB,KAAL,CAAWF,KAAX,CAAiBuB,QAA/E,CAAyFW,qBAAzF,CAAgHG,UAAhH,EACH,CA5QkB,CAEf,MAAKC,OAAL,CAAe/D,KAAK,CAACgE,SAAN,EAAf,CACA,MAAKC,mBAAL,CAA2B,EAA3B,CAGA,GAAMhC,CAAAA,SAAS,CAAG,CACdiC,IAAI,CAAE,CADQ,CAEdC,IAAI,CAAE,MAAKxC,KAAL,CAAWF,KAAX,CAAiB2C,QAAjB,CAA4BC,QAAQ,CAAC,MAAK1C,KAAL,CAAWF,KAAX,CAAiB2C,QAAjB,CAA0B,EAA1B,CAAD,CAApC,CAAsE,CAF9D,CAAlB,CAKA,MAAK5C,KAAL,CAAa,CACTQ,IAAI,CAAE,EADG,CACCsC,YAAY,CAAE,EADf,CACmBC,KAAK,CAAE,EAD1B,CAC8BlC,cAAc,CAAE,EAD9C,CAETN,UAAU,CAAE,EAFH,CAGTE,SAAS,CAAEA,SAHF,CAITuC,MAAM,CAAE,KAJC,CAKTC,qBAAqB,CAAE,EALd,CAMTC,UAAU,CAAE,GAAIC,CAAAA,GAAJ,EANH,CAAb,CAXe,aAmBlB,C,oDAiGD,iBAAS,iBAEL,GAAMhB,CAAAA,qBAAqB,CAAG,KAAKnC,KAAL,CAAWkD,UAAX,CAAsBE,GAAtB,CAA0B,uBAA1B,GAAsD,KAAKpD,KAAL,CAAWkD,UAAX,CAAsBG,GAAtB,CAA0B,uBAA1B,EAAmDC,YAAvI,CAEA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CAEA,GAAIrC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIG,CAAAA,MAAM,CAAG,EAAb,CAEA,GAAI,KAAKlB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,EAA+B,KAAKhB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BC,QAA/D,CAAyE,CACrEF,QAAQ,CAAI,KAAKlB,KAAL,CAAWa,cAAX,CAA0B,UAA1B,GAAyCnB,aAAa,CAAC,KAAKM,KAAL,CAAWa,cAAX,CAA0B,UAA1B,CAAD,CAAvD,EAAmGhB,mBAAmB,CAAC,KAAKM,KAAL,CAAWF,KAAX,CAAiBuB,QAAlB,CAA4B,KAAKrB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BC,QAAxD,CAAjI,CACAC,MAAM,CAAI,KAAKrB,KAAL,CAAWa,cAAX,CAA0B,QAA1B,GAAuClB,WAAW,CAAC,KAAKK,KAAL,CAAWa,cAAX,CAA0B,QAA1B,CAAD,CAAnD,EAA6FhB,mBAAmB,CAAC,KAAKM,KAAL,CAAWF,KAAX,CAAiBuB,QAAlB,CAA2B,KAAKrB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BG,MAAvD,CAAzH,CACH,CAED,KAAKkC,aAAL,CACQ,CACI,CAAE,UAAW,gBAAb,CAA+B,YAAa,aAA5C,CAA2D,QAAS,OAApE,CADJ,CADR,CAKA,GAAI,KAAKrD,KAAL,CAAWF,KAAX,CAAiBwB,UAAjB,GAAgCgC,SAApC,CAA+C,CAE3C,KAAKhB,mBAAL,CAA2B,CACvB,CAAE,UAAW,gBAAb,CAA+B,YAAa,aAA5C,CAA2D,QAAS,OAApE,CADuB,CAEvB,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,QAAS,OAAhE,CAFuB,CAGvB,CAAE,UAAW,aAAb,CAA4B,YAAa,UAAzC,CAAqD,QAAS,OAA9D,CAHuB,CAIvB,CAAE,UAAW,UAAb,CAAyB,YAAa,WAAtC,CAAmD,QAAS,OAA5D,CAJuB,CAKvB,CAAE,UAAW,cAAb,CAA6B,YAAa,eAA1C,CAA2D,QAAS,OAApE,CALuB,CAMvB,CAAE,UAAW,mBAAb,CAAkC,YAAa,gBAA/C,CAAiE,QAAS,OAA1E,CAAmF,gBAAiB,MAApG,CANuB,CAOvB,CAAE,UAAW,cAAb,CAA6B,YAAa,WAA1C,CAAuD,QAAS,OAAhE,CACA;AARuB,CAA3B,CAUAc,eAAe,CAAG,oBAAlB,CACH,CACD,mBACI,qDACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,mBACI,oBAAC,WAAD,EAAa,SAAS,CAAC,qBAAvB,eACI,oBAAC,aAAD,EAAe,SAAS,CAAC,qCAAzB,EADJ,cAcI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,cAAD,EACI,IAAI,CAAE,UADV,CAEI,KAAK,CAAE,KAAKpD,KAAL,CAAWuD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CAFX,CAGI,SAAS,CAAC,cAHd,CAII,eAAe,CAAC,eAJpB,CAKI,QAAQ,CAAE,KAAK5D,KAAL,CAAWa,cAAX,CAA0B,UAA1B,GAAyCK,QALvD,CAMI,UAAU,CAAE,KAAKf,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BqC,SAN1C,CAOI,WAAW,CAAE,KAPjB,CAQI,QAAQ,CAAE,kBAAAC,IAAI,QAAI,CAAA,MAAI,CAAChC,gBAAL,CAAsB,UAAtB,CAAkCgC,IAAlC,CAAJ,EARlB,CASI,KAAK,CAAE,KAAK9D,KAAL,CAAWa,cAAX,CAA0B,UAA1B,GAAyCK,QATpD,EADJ,CADJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,cAAD,EACI,IAAI,CAAE,QADV,CAEI,KAAK,CAAE,KAAKf,KAAL,CAAWuD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,QAAN,CAA9B,CAFX,CAGI,SAAS,CAAC,cAHd,CAII,eAAe,CAAC,eAJpB,CAKI,QAAQ,CAAE,KAAK5D,KAAL,CAAWa,cAAX,CAA0B,QAA1B,GAAuCQ,MALrD,CAMI,UAAU,CAAE,KAAKlB,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BqC,SAN1C,CAOI,WAAW,CAAE,KAPjB,CAQI,QAAQ,CAAE,kBAAAC,IAAI,QAAI,CAAA,MAAI,CAAChC,gBAAL,CAAsB,QAAtB,CAAgCgC,IAAhC,CAAJ,EARlB,CASI,KAAK,CAAE,KAAK9D,KAAL,CAAWa,cAAX,CAA0B,QAA1B,GAAuCQ,MATlD,EADJ,CAfJ,CAdJ,CA8CK,KAAKrB,KAAL,CAAWQ,IAAX,cACG,oBAAC,QAAD,EACI,eAAe,CAAE,oBADrB,CAEI,UAAU,CAAE,KAAKL,KAAL,CAAWF,KAAX,CAAiB8D,UAFjC,CAGI,IAAI,CAAE,KAAK/D,KAAL,CAAWQ,IAAX,CAAgBN,iBAH1B,CAII,UAAU,CAAE,KAAKF,KAAL,CAAWO,UAJ3B,CAKI,SAAS,CAAE,KAAKP,KAAL,CAAWS,SAL1B,CAMI,eAAe,CAAE,KAAKL,eAN1B,CAOI,mBAAmB,CAAE,KAAKqC,mBAP9B,CAQI,UAAU,CAAE,KAAKzC,KAAL,CAAWkD,UAR3B,CASI,qBAAqB,CAAE,KAAKlD,KAAL,CAAWiD,qBATtC,CAUI,UAAU,CAAE,KAAK9C,KAAL,CAAWF,KAAX,CAAiBwB,UAVjC,CAWI,QAAQ,CAAE,KAAKtB,KAAL,CAAWF,KAAX,CAAiBuB,QAX/B,CAYI,UAAU,CAAE,KAAKP,UAZrB,CAaI,UAAU,CAAE,YAbhB,CAcI,UAAU,CAAE,OAdhB,CAeI,gBAAgB,CAAE,IAftB,CAgBI,iBAAiB,CAAE,IAhBvB,CAiBI,QAAQ,CAAE,IAjBd,CAkBI,aAAa,CAAE,KAlBnB,CAmBI,qBAAqB,CAAE,KAnB3B,CAoBI,WAAW,CAAE,CAAC,CACV+C,KAAK,CAAE,KAAK7D,KAAL,CAAWuD,IAAX,CAAgBC,aAAhB,CAA8B,CAAEC,EAAE,CAAE,UAAN,CAA9B,CADG,CAEVK,WAAW,CAAE,OAFH,CAGVC,UAAU,CAAE,eAHF,CAIVC,MAAM,CAAE,KAAKnE,KAAL,CAAWiD,qBAAX,CAAiCmB,OAAjC,CAAyCjC,qBAAzC,IAAoE,CAAC,CAJnE,CAKVkC,OAAO,CAAE,iBAAClC,qBAAD,QAA2B,CAAA,MAAI,CAACA,qBAAL,CAA2BA,qBAA3B,CAA3B,EALC,CAAD,CApBjB,EADH,CA6BK,EA3EV,CA6EJ,KAAKhC,KAAL,CAAWF,KAAX,CAAiBW,SAAjB,eACA,oBAAC,aAAD,EAAe,IAAI,CAAE,KAAKT,KAAL,CAAWF,KAAX,CAAiBW,SAAtC,CACI,UAAU,CAAE,KAAKF,UADrB,CAEI,UAAU,CAAE,KAAKP,KAAL,CAAWF,KAAX,CAAiBwB,UAFjC,CAGI,UAAU,CAAE,oBAHhB,CAII,QAAQ,CAAE,IAJd,CAKI,YAAY,cACR,qDACI,oBAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,eACI,oBAAC,IAAD,CAAM,IAAN,MACC,KAAKtB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4B,0BAA5B,EAAwD,CAAxD,EAA2DmD,WAD5D,CADJ,CADJ,CANR,EA9EI,CADJ,CADJ,CADJ,CADJ,CAwGH,C,kCAiBD,4BAAmBC,aAAnB,CAAkC,CAC9B,GAAI,KAAKpE,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,GAAgCoD,aAAa,CAACtE,KAAd,CAAoBkB,UAAxD,CAAoE,CAChE,GAAI,KAAKhB,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BgD,SAA1B,GAAwCD,aAAa,CAACtE,KAAd,CAAoBuB,QAApB,CAA6BgD,SAAzE,CAAoF,CAChF,GAAMvB,CAAAA,qBAAqB,CAAG,EAA9B,CACA,GAAI,KAAK9C,KAAL,CAAWF,KAAX,CAAiBgD,qBAArB,CAA4C,CACxC,KAAK9C,KAAL,CAAWF,KAAX,CAAiBgD,qBAAjB,CAAuC,KAAK9C,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BgD,SAAjE,GAA+EC,MAAM,CAACC,MAAP,CAAc,KAAKvE,KAAL,CAAWF,KAAX,CAAiBgD,qBAAjB,CAAuC,KAAK9C,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BgD,SAAjE,CAAd,EAA2FG,GAA3F,CAA+F,SAAAC,IAAI,QAC9K3B,CAAAA,qBAAqB,CAAC4B,IAAtB,CAA2BD,IAAI,CAACtB,YAAhC,CAD8K,EAAnG,CAA/E,CAEH,CACD,GAAMJ,CAAAA,UAAU,CAAG3D,aAAa,CAAC,KAAKY,KAAL,CAAWF,KAAX,CAAiBgD,qBAAlB,CAAyC,KAAK9C,KAAL,CAAWF,KAAX,CAAiBuB,QAAjB,CAA0BgD,SAAnE,CAAhC,CACA,KAAKlE,QAAL,CAAc,CACV2C,qBAAqB,CAArBA,qBADU,CACaC,UAAU,CAAVA,UADb,CACyB1C,IAAI,CAAE,KAAKL,KAAL,CAAWF,KAAX,CAAiBkB,UADhD,CAEVZ,UAAU,CAAEzB,OAAO,CAAC,KAAKqB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BjB,iBAA7B,CAAgD,KAAKF,KAAL,CAAWS,SAA3D,CAFT,CAAd,EAIH,CAXD,IAYK,CACD,GAAMA,CAAAA,SAAN,CAAoB,KAAKT,KAAzB,CAAMS,SAAN,CACA,GAAI,KAAKN,KAAL,CAAWF,KAAX,CAAiBQ,SAAjB,GAA+BgD,SAAnC,CAA8C,CAC1ChD,SAAS,CAAG,CAAEiC,IAAI,CAAE,CAAR,CAAWC,IAAI,CAAE,KAAKxC,KAAL,CAAWF,KAAX,CAAiB2C,QAAjB,CAA4BC,QAAQ,CAAC,KAAK1C,KAAL,CAAWF,KAAX,CAAiB2C,QAAjB,CAA0B,EAA1B,CAAD,CAApC,CAAsE,CAAvF,CAAZ,CACH,CAED,KAAKtC,QAAL,CAAc,CACVE,IAAI,CAAE,KAAKL,KAAL,CAAWF,KAAX,CAAiBkB,UADb,CAEV6B,MAAM,CAAE,KAFE,CAGVnC,cAAc,CAAE,KAAKV,KAAL,CAAWF,KAAX,CAAiBY,cAHvB,CAIVN,UAAU,CAAEzB,OAAO,CAAC,KAAKqB,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BjB,iBAA5B,CAAgD,KAAKC,KAAL,CAAWF,KAAX,CAAiBkB,UAAjB,CAA4BjB,iBAA5E,CAAgG,EAAjG,CAAqGO,SAArG,CAJT,CAKV;AACAA,SAAS,CAATA,SANU,CAAd,EAQH,CACJ,CA5BD,IA4BO,IAAI,KAAKN,KAAL,CAAWF,KAAX,CAAiBY,cAAjB,GAAoC0D,aAAa,CAACtE,KAAd,CAAoBY,cAA5D,CAA4E,CAC/E,KAAKP,QAAL,CAAc,CAAEO,cAAc,CAAE,KAAKV,KAAL,CAAWF,KAAX,CAAiBY,cAAnC,CAAd,EACH,CACJ,C,0CAzRD,kCAAgCV,KAAhC,CAAuCH,KAAvC,CAA8C,CAE1C,GAAIG,KAAK,CAACF,KAAN,CAAY6C,YAAZ,GAA6B,EAA7B,EAAmC3C,KAAK,CAACF,KAAN,CAAY6C,YAAZ,GAA6B9C,KAAK,CAAC8C,YAA1E,CAAwF,CACpF/D,KAAK,CAAC+F,IAAN,CAAW3E,KAAK,CAACF,KAAN,CAAY6C,YAAvB,EACA3C,KAAK,CAACF,KAAN,CAAY6C,YAAZ,CAA2B,EAA3B,CACH,CAED,GAAI3C,KAAK,CAACF,KAAN,CAAY8C,KAAZ,GAAsB/C,KAAK,CAAC+C,KAAhC,CAAuC,CACnChE,KAAK,CAACgE,KAAN,CAAY5C,KAAK,CAACF,KAAN,CAAY8C,KAAxB,EACA5C,KAAK,CAACF,KAAN,CAAY8C,KAAZ,CAAoB,EAApB,CACH,CACD,MAAO,KAAP,CACH,C,+BAnC2BvE,KAAK,CAACuG,S,EAmTtC,cAAetG,CAAAA,OAAO,CAACsB,eAAD,CAAkB,CAAEZ,WAAW,CAAXA,WAAF,CAAeC,WAAW,CAAXA,WAAf,CAA4BC,UAAU,CAAVA,UAA5B,CAAwCC,qBAAqB,CAArBA,qBAAxC,CAAlB,CAAP,CAA0FZ,UAAU,CAACwB,iBAAD,CAApG,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col, Card } from 'react-bootstrap';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { toast } from 'react-toastify';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { ListWrapper, PrimaryHeader } from '../../components/client-group.styles';\r\nimport { callService, updateStore, crudMaster, ViewJsonExceptionLogs } from '../../actions';\r\nimport { getControlMap } from '../../components/CommonScript';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport DateTimePicker from '../../../src/components/date-time-picker/date-time-picker.component';\r\nimport { getStartOfDay, getEndOfDay, convertDateValuetoString, rearrangeDateFormat } from '../../../src/components/CommonScript';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass JsonExceptionLogs extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.formRef = React.createRef();\r\n        this.extractedColumnList = [];\r\n\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            isOpen: false,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map()\r\n        };\r\n    };\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data.JsonExceptionLogs, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    reloadData = () => {\r\n        let fromDate = this.props.Login.masterData.FromDate;\r\n        let toDate = this.props.Login.masterData.ToDate;\r\n        let obj = convertDateValuetoString(fromDate,toDate, this.props.Login.userInfo, true);\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo,\r\n            fromDate:obj.fromDate, \r\n            toDate:obj.toDate, },\r\n\r\n            classUrl: \"jsonexceptionlogs\",\r\n            methodUrl: \"JsonExceptionLogs\",\r\n            displayName: this.props.Login.displayName,\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n       // this.setState({ selectedRecord });\r\n       // this.reloadData(selectedRecord, true);\r\n\r\n       let dateObj = {};\r\n       if (dateName === \"fromdate\") {\r\n            dateObj = convertDateValuetoString(dateValue, this.props.Login.masterData.toDate, this.props.Login.userInfo, true);\r\n       }\r\n       else{\r\n            dateObj = convertDateValuetoString(this.props.Login.masterData.toDate, dateValue, this.props.Login.userInfo, true);\r\n       }\r\n\r\n       const inputParam = {\r\n                                inputData: {\r\n                                    \"userinfo\": this.props.Login.userInfo,\r\n                                    fromDate:dateObj.fromDate, \r\n                                    toDate:dateObj.toDate,\r\n                                },\r\n                                classUrl: 'jsonexceptionlogs',\r\n                                methodUrl: \"JsonExceptionLogs\",\r\n                                userInfo: this.props.Login.userInfo,\r\n                                displayName: \"IDS_JSONEXCEPTIONLOGS\"\r\n                            };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    render() {\r\n\r\n        const viewJsonExceptionLogs = this.state.controlMap.has(\"ViewJsonExceptionLogs\") && this.state.controlMap.get(\"ViewJsonExceptionLogs\").ncontrolcode;\r\n\r\n        let primaryKeyField = \"\";\r\n\r\n        let fromDate = \"\";\r\n        let toDate = \"\";\r\n\r\n        if (this.props.Login.masterData && this.props.Login.masterData.FromDate) {\r\n            fromDate = (this.state.selectedRecord[\"fromdate\"] && getStartOfDay(this.state.selectedRecord[\"fromdate\"])) || rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.FromDate);\r\n            toDate = (this.state.selectedRecord[\"todate\"] && getEndOfDay(this.state.selectedRecord[\"todate\"])) || rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.ToDate);\r\n        }\r\n\r\n        this.fieldsForGrid =\r\n                [\r\n                    { \"idsName\": \"IDS_STACKTRACE\", \"dataField\": \"sstacktrace\", \"width\": \"200px\" },\r\n                ];\r\n\r\n        if (this.props.Login.inputParam !== undefined) {\r\n\r\n            this.extractedColumnList = [\r\n                { \"idsName\": \"IDS_MODULENAME\", \"dataField\": \"smodulename\", \"width\": \"200px\"},\r\n                { \"idsName\": \"IDS_FORMNAME\", \"dataField\": \"sformname\", \"width\": \"200px\"},\r\n                { \"idsName\": \"IDS_MESSAGE\", \"dataField\": \"smessage\", \"width\": \"200px\"},\r\n                { \"idsName\": \"IDS_USER\", \"dataField\": \"susername\", \"width\": \"200px\"},\r\n                { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"200px\"},\r\n                { \"idsName\": \"IDS_EXCEPTIONDATE\", \"dataField\": \"sexceptiondate\", \"width\": \"200px\", \"componentName\": \"date\"},\r\n                { \"idsName\": \"IDS_SITENAME\", \"dataField\": \"ssitename\", \"width\": \"200px\"},\r\n                // { \"idsName\": \"IDS_STACKTRACE\", \"dataField\": \"sstacktrace\", \"width\": \"200px\" },\r\n            ]\r\n            primaryKeyField = \"njsonexceptioncode\";\r\n        }\r\n        return (\r\n            <>\r\n                <Row>\r\n                    <Col>\r\n                        <ListWrapper className=\"client-list-content\">\r\n                            <PrimaryHeader className=\"d-flex justify-content-between mb-3\">\r\n                                {/* <HeaderName className=\"header-primary-md\">\r\n                                {this.props.Login.inputParam && this.props.Login.inputParam.displayName ?\r\n                                    <FormattedMessage id={this.props.Login.inputParam.displayName} /> : \"\"}\r\n                            </HeaderName> */}\r\n                                {/* <Button className=\"btn btn-user btn-primary-blue\"\r\n                                 hidden={this.props.Login.inputParam && this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                onClick={() => this.props.getMaterialTypeComboService(addParam)}>\r\n                                <FontAwesomeIcon icon={faPlus} /> {}\r\n                                <FormattedMessage id=\"IDS_ADD\" defaultMessage='Add' />\r\n                            </Button> */}\r\n                            </PrimaryHeader>\r\n\r\n                            <Row>\r\n                                <Col md={3}>\r\n                                    <DateTimePicker\r\n                                        name={\"fromdate\"}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_FROM\" })}\r\n                                        className='form-control'\r\n                                        placeholderText=\"Select date..\"\r\n                                        selected={this.state.selectedRecord[\"fromdate\"] || fromDate}\r\n                                        dateFormat={this.props.Login.userInfo.ssitedate}\r\n                                        isClearable={false}\r\n                                        onChange={date => this.handleDateChange(\"fromdate\", date)}\r\n                                        value={this.state.selectedRecord[\"fromdate\"] || fromDate}\r\n\r\n                                    />\r\n                                </Col>\r\n                                <Col md={3}>\r\n                                    <DateTimePicker\r\n                                        name={\"todate\"}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_TO\" })}\r\n                                        className='form-control'\r\n                                        placeholderText=\"Select date..\"\r\n                                        selected={this.state.selectedRecord[\"todate\"] || toDate}\r\n                                        dateFormat={this.props.Login.userInfo.ssitedate}\r\n                                        isClearable={false}\r\n                                        onChange={date => this.handleDateChange(\"todate\", date)}\r\n                                        value={this.state.selectedRecord[\"todate\"] || toDate}\r\n\r\n                                    />\r\n                                </Col>\r\n                                {/* <Col></Col> */}\r\n                            </Row>\r\n\r\n                            {this.state.data ?\r\n                                <DataGrid\r\n                                    primaryKeyField={\"njsonexceptioncode\"}\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    data={this.state.data.JsonExceptionLogs}\r\n                                    dataResult={this.state.dataResult}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    extractedColumnList={this.extractedColumnList}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    reloadData={this.reloadData}\r\n                                    scrollable={\"scrollable\"}\r\n                                    gridHeight={\"600px\"}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    pageable={true}\r\n                                    isAddRequired={false}\r\n                                    isDownloadPDFRequired={false}\r\n                                    actionIcons={[{\r\n                                        title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                        controlname: \"faEye\",\r\n                                        objectName: \"ExceptionLogs\",\r\n                                        hidden: this.state.userRoleControlRights.indexOf(viewJsonExceptionLogs) === -1,\r\n                                        onClick: (viewJsonExceptionLogs) => this.viewJsonExceptionLogs(viewJsonExceptionLogs)\r\n                                    }]}\r\n                                />\r\n                                : \"\"}\r\n                                {\r\n                    this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={'IDS_VIEWSTACKTRACE'}\r\n                        hideSave={true}\r\n                        addComponent={\r\n                            <>\r\n                                <Card className='one' >\r\n                                    <Card.Body>\r\n                                    {this.props.Login.masterData[\"JsonExceptionLogsDetails\"][0].sstacktrace}\r\n                                </Card.Body>\r\n                                </Card>\r\n                            </>\r\n                        }\r\n                    />\r\n                }\r\n\r\n                        </ListWrapper>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        );\r\n    }\r\n\r\n    viewJsonExceptionLogs = (viewJsonExceptionLogs) => {\r\n        console.log('ewe', viewJsonExceptionLogs)\r\n        let openModal = this.props.Login.openModal;\r\n        openModal = true;\r\n        let screenName = 'IDS_VIEWSTACKTRACE'\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                dataState: this.state.dataState\r\n                }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.props.ViewJsonExceptionLogs(this.props.Login.masterData, this.props.Login.userInfo, viewJsonExceptionLogs, screenName);\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                    dataResult: process(this.props.Login.masterData.JsonExceptionLogs, this.state.dataState),\r\n                });\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.props.Login.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n                this.setState({\r\n                    data: this.props.Login.masterData,\r\n                    isOpen: false,\r\n                    selectedRecord: this.props.Login.selectedRecord,\r\n                    dataResult: process(this.props.Login.masterData.JsonExceptionLogs ? this.props.Login.masterData.JsonExceptionLogs : [], dataState),\r\n                    //dataResult: process(this.props.Login.masterData, dataState),\r\n                    dataState\r\n                });\r\n            }\r\n        } else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { callService, updateStore, crudMaster, ViewJsonExceptionLogs })(injectIntl(JsonExceptionLogs));"]},"metadata":{},"sourceType":"module"}