{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\configurationmaster\\\\approvalconfig\\\\ApprovalConfig.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { toast } from 'react-toastify';\nimport { callService, crudMaster } from '../../../actions';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faCopy, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../../components/CommonScript';\nimport { process } from '@progress/kendo-data-query';\nimport ListMaster from '../../../components/list-master/list-master.component';\nimport Esign from '../../audittrail/Esign';\nimport SampleFilter from './SampleFilter';\nimport AddApprovalConfig from './AddApprovalConfig';\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\nimport { openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, setDefault, validateEsignCredential, getFilterChange, getRoleDetails, getCopySubType, filterColumnData, getApprovalConfigurationVersion, approveVersion } from '../../../actions';\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\nimport { ApprovalSubType, designProperties, transactionStatus } from '../../../components/Enumeration';\nimport FilterStatusTab from './FilterStatusTab';\nimport ValidationStatusTab from './ValidationStatusTab';\nimport UserRoleAccordion from './UserRoleAccordion';\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\nimport DecisionStatusTab from './DecisionStatusTab';\nimport ActionStatusTab from './ActionStatusTab'; // import { Tooltip } from '@progress/kendo-react-tooltip';\n\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\nimport { Affix } from 'rsuite';\nimport FormInput from '../../../components/form-input/form-input.component';\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component'; // import ReactTooltip from 'react-tooltip';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass ApprovalConfig extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.handleClose = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.deleteApprovalConfigVersion = deleteId => {\n      if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED || this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTVERSION\"\n        }));\n      } else {\n        const postParam = {\n          inputListName: \"versionData\",\n          selectedObject: \"selectedVersion\",\n          primaryKeyField: \"napproveconfversioncode\",\n          primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n          fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\n          fecthInputObject: {\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            userinfo: this.props.Login.userInfo\n          } // unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\n          //  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\n          //     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\n\n        };\n        const inputData = {\n          'approvalconfigversion': {\n            napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n            napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\n            userinfo: this.props.Login.userInfo\n          }\n        };\n        inputData['userinfo'] = this.props.Login.userInfo;\n        const inputParam = {\n          methodUrl: 'ApprovalConfigVersion',\n          classUrl: this.props.Login.inputParam.classUrl,\n          displayName: \"IDS_APPROVALCONFIG\",\n          inputData: inputData,\n          postParam,\n          operation: \"delete\"\n        };\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              operation: \"delete\",\n              openModal: true,\n              screenName: this.props.intl.formatMessage({\n                id: \"IDS_APPROVALCONFIG\"\n              })\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.approveVersion = approveId => {\n      if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED || this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTVERSION\"\n        }));\n      } else {\n        if (this.approvalSubTypeValue.value === 2) {\n          const inputData = {\n            // 'approvalconfigversion': {\n            napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n            napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\n            userinfo: this.props.Login.userInfo,\n            nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\n            sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\n            nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1 // nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\n            // }\n\n          };\n          inputData['userinfo'] = this.props.Login.userInfo; //  inputData['userinfo'] = this.props.Login.userInfo\n\n          const inputParam = {\n            methodUrl: 'ApprovalConfigVersion',\n            classUrl: this.props.Login.inputParam.classUrl,\n            displayName: \"IDS_APPROVALCONFIG\",\n            inputData: inputData,\n            operation: \"approve\",\n            ncontrolcode: approveId\n          }; //const masterData = this.props.Login.masterData;\n\n          this.props.approveVersion(inputParam); // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\n          //     const updateInfo = {\n          //         typeName: DEFAULT_RETURN,\n          //         data: {\n          //             loadEsign: true, screenData: { inputParam, masterData },\n          //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\n          //         }\n          //     }\n          //     this.props.updateStore(updateInfo);\n          // }\n          // else {\n          //     this.props.crudMaster(inputParam, masterData, \"openModal\");\n          // }\n        } else {\n          const inputData = {\n            'approvalconfigversion': {\n              napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n              napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n              napprovalsubtypecode: this.approvalSubTypeValue.value,\n              ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\n              userinfo: this.props.Login.userInfo,\n              nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\n              sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\n              nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1\n            }\n          };\n          inputData['userinfo'] = this.props.Login.userInfo;\n          const inputParam = {\n            methodUrl: 'ApprovalConfigVersion',\n            classUrl: this.props.Login.inputParam.classUrl,\n            displayName: \"IDS_APPROVALCONFIG\",\n            inputData: inputData,\n            operation: \"updateapprove\",\n            ncontrolcode: approveId\n          };\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData: this.props.Login.masterData\n                },\n                openModal: true,\n                screenName: this.props.intl.formatMessage({\n                  id: \"IDS_APPROVALCONFIG\"\n                }),\n                operation: \"approve\"\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\n          }\n        }\n      }\n    };\n\n    this.getGridJsondata = (templatedata, subSampleCheck, subSampleTemplate) => {\n      let gridItem = [];\n      let gridMoreItem = [];\n      let masterdatefields = [];\n      let masterdateconstraints = [];\n      let masteruniquevalidation = [];\n      let mastercombinationunique = [];\n      let editable = [];\n      let jdynamiccolumns = [];\n      let jnumericcolumns = [];\n      let templatePrimaryKey = \"\";\n      let mastertemplatefields = [];\n      let sampleAuditFields = [];\n      let sampleAuditEditable = [];\n      let sampleAuditMultilingualFields = [];\n      let sampleQuerybuilderViewCondition = [];\n      let sampleQuerybuilderViewSelect = [];\n      templatedata && templatedata.map(row => row.children && row.children.map(column => {\n        column.children && column.children.map((component, index) => {\n          //console.log(\"component2:\", component);\n          if (component.hasOwnProperty('children')) {\n            component.children.map(componentRow => {\n              // console.log(\"component row2:\", componentRow);\n              componentRow.unique && masteruniquevalidation.push({\n                [designProperties.LABEL]: componentRow.label\n              });\n              componentRow.unique && mastercombinationunique.push({\n                [componentRow.label]: {\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                }\n              });\n              templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\n              let filterinputtype = \"text\";\n              let comboDataInputObject = {};\n\n              if (componentRow.inputtype === 'combo') {\n                comboDataInputObject = {\n                  \"predefinedtablename\": componentRow.source,\n                  \"predefinedvaluemember\": componentRow.valuemember,\n                  \"predefineddisplaymember\": componentRow.displaymember,\n                  \"predefinedismultilingual\": false,\n                  \"predefinedconditionalString\": \"\\\"\" + componentRow.valuemember + \"\\\"\" + \" > '0' \"\n                };\n                jnumericcolumns.push({\n                  \"columnname\": componentRow.displaymember,\n                  \"displayname\": componentRow.displayname,\n                  \"foriegntablePK\": componentRow.label,\n                  // \"ismultilingual\": true,\n                  // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\n                  \"tablecolumnname\": componentRow.valuemember,\n                  \"foriegntablename\": componentRow.source,\n                  ...comboDataInputObject\n                });\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"columntype\": 1,\n                  \"viewvaluemember\": componentRow.label,\n                  \"valuemember\": componentRow.valuemember,\n                  \"displaymember\": componentRow.displaymember,\n                  \"mastertablename\": componentRow.source,\n                  \"needmasterdata\": true,\n                  \"columntypedesc\": \"textinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"languagecode\": false\n                });\n                filterinputtype = \"predefinednumeric\";\n              } // samplesearchfields.push(componentRow.label)\n\n\n              if (componentRow.inputtype === 'date') {\n                filterinputtype = \"date\";\n                masterdatefields.push({\n                  [designProperties.VALUE]: componentRow.label,\n                  dateonly: componentRow.dateonly || false\n                });\n                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"columntype\": 2,\n                  \"columntypedesc\": \"datetime\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\n                filterinputtype = \"numeric\";\n\n                if (componentRow.inputtype === 'Numeric') {\n                  sampleQuerybuilderViewCondition.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"columntype\": 5,\n                    \"columntypedesc\": \"numericinput\"\n                  });\n                  sampleQuerybuilderViewSelect.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"languagecode\": false\n                  });\n                }\n              }\n\n              if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email' || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"columntype\": 1,\n                  \"columntypedesc\": \"textinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": componentRow.label,\n                  \"displayname\": componentRow.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              jdynamiccolumns.push({\n                default: componentRow.unique ? true : false,\n                filterinputtype,\n                columnname: componentRow.label,\n                displayname: componentRow.displayname,\n                ...comboDataInputObject\n              }); // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\n              // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\n\n              if (componentRow.mandatory || componentRow.templatemandatory) {\n                gridItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n                sampleAuditEditable.push(componentRow.label);\n              } else {\n                gridMoreItem.push({\n                  [designProperties.LABEL]: componentRow.displayname,\n                  [designProperties.VALUE]: componentRow.label\n                });\n              }\n\n              mastertemplatefields.push({\n                [designProperties.LABEL]: componentRow.displayname,\n                [designProperties.VALUE]: componentRow.label\n              });\n              sampleAuditFields.push(componentRow.label);\n              sampleAuditMultilingualFields.push({\n                [componentRow.label]: componentRow.displayname\n              });\n\n              if (componentRow.templatemandatory) {\n                editable.push({\n                  label: componentRow.label,\n                  editableuntill: []\n                });\n              } else {\n                editable.push({\n                  label: componentRow.label,\n                  editableuntill: [transactionStatus.DRAFT]\n                });\n              }\n\n              return null;\n            });\n          } else {\n            //console.log(\"component2:\", component);\n            component.unique && masteruniquevalidation.push({\n              [designProperties.LABEL]: component.label\n            });\n            component.unique && mastercombinationunique.push({\n              [component.label]: {\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              }\n            });\n            templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\n            let filterinputtype = \"text\";\n            let comboDataInputObject = {};\n            mastertemplatefields.push({\n              [designProperties.LABEL]: component.displayname,\n              [designProperties.VALUE]: component.label\n            });\n            sampleAuditFields.push(component.label);\n            sampleAuditMultilingualFields.push({\n              [component.label]: component.displayname\n            });\n\n            if (component.inputtype === 'combo') {\n              filterinputtype = \"predefinednumeric\";\n              comboDataInputObject = {\n                \"predefinedtablename\": component.source,\n                \"predefinedvaluemember\": component.valuemember,\n                \"predefineddisplaymember\": component.displaymember,\n                \"predefinedismultilingual\": false,\n                \"predefinedconditionalString\": \"\\\"\" + component.valuemember + \"\\\"\" + \" > '0'\"\n              };\n              jnumericcolumns.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"foriegntablePK\": component.label,\n                // \"ismultilingual\": true,\n                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\n                \"tablecolumnname\": component.column.value,\n                \"foriegntablename\": component.source,\n                ...comboDataInputObject\n              });\n              sampleQuerybuilderViewCondition.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"columntype\": 1,\n                \"viewvaluemember\": component.label,\n                \"valuemember\": component.valuemember,\n                \"displaymember\": component.displaymember,\n                \"mastertablename\": component.source,\n                \"needmasterdata\": true,\n                \"columntypedesc\": \"textinput\"\n              });\n              sampleQuerybuilderViewSelect.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"languagecode\": false\n              });\n            } // samplesearchfields.push(component.label)\n\n\n            if (component.inputtype === 'date') {\n              filterinputtype = \"date\";\n              masterdatefields.push({\n                [designProperties.VALUE]: component.label,\n                dateonly: component.dateonly || false\n              });\n              masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\n              sampleQuerybuilderViewCondition.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"columntype\": 2,\n                \"columntypedesc\": \"datetime\"\n              });\n              sampleQuerybuilderViewSelect.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"languagecode\": false\n              });\n            }\n\n            if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\n              filterinputtype = \"numeric\";\n\n              if (component.inputtype === 'Numeric') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"columntype\": 5,\n                  \"columntypedesc\": \"numericinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"languagecode\": false\n                });\n              }\n            }\n\n            if (component.inputtype === 'textinput' || component.inputtype === 'email' || component.inputtype === 'textarea' || component.inputtype === 'radio') {\n              sampleQuerybuilderViewCondition.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"columntype\": 1,\n                \"columntypedesc\": \"textinput\"\n              });\n              sampleQuerybuilderViewSelect.push({\n                \"columnname\": component.label,\n                \"displayname\": component.displayname,\n                \"languagecode\": false\n              });\n            }\n\n            jdynamiccolumns.push({\n              default: component.unique ? true : false,\n              columnname: component.label,\n              displayname: component.displayname,\n              filterinputtype,\n              ...comboDataInputObject\n            });\n\n            if (component.mandatory || component.templatemandatory) {\n              gridItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n              sampleAuditEditable.push(component.label);\n            } else {\n              gridMoreItem.push({\n                [designProperties.LABEL]: component.displayname,\n                [designProperties.VALUE]: component.label\n              });\n            }\n\n            if (component.templatemandatory) {\n              editable.push({\n                label: component.label,\n                editableuntill: []\n              });\n            } else {\n              editable.push({\n                label: component.label,\n                editableuntill: [transactionStatus.DRAFT]\n              });\n            }\n\n            return null;\n          }\n        });\n      }));\n\n      if (subSampleCheck) {\n        subSampleTemplate && subSampleTemplate.jsondata.map(row => row.children && row.children.map(column => {\n          column.children && column.children.map((component, index) => {\n            //console.log(\"component2:\", component);\n            if (component.hasOwnProperty('children')) {\n              component.children.map(componentRow => {\n                if (componentRow.inputtype === 'combo') {\n                  sampleQuerybuilderViewCondition.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"columntype\": 1,\n                    \"viewvaluemember\": componentRow.label,\n                    \"valuemember\": componentRow.valuemember,\n                    \"displaymember\": componentRow.displaymember,\n                    \"mastertablename\": componentRow.source,\n                    \"needmasterdata\": true,\n                    \"columntypedesc\": \"textinput\"\n                  });\n                  sampleQuerybuilderViewSelect.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"languagecode\": false\n                  });\n                }\n\n                if (componentRow.inputtype === 'date') {\n                  sampleQuerybuilderViewCondition.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"columntype\": 2,\n                    \"columntypedesc\": \"datetime\"\n                  });\n                  sampleQuerybuilderViewSelect.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"languagecode\": false\n                  });\n                }\n\n                if (componentRow.inputtype === 'Numeric') {\n                  sampleQuerybuilderViewCondition.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"columntype\": 5,\n                    \"columntypedesc\": \"numericinput\"\n                  });\n                  sampleQuerybuilderViewSelect.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"languagecode\": false\n                  });\n                }\n\n                if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email' || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\n                  sampleQuerybuilderViewCondition.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"columntype\": 1,\n                    \"columntypedesc\": \"textinput\"\n                  });\n                  sampleQuerybuilderViewSelect.push({\n                    \"columnname\": componentRow.label,\n                    \"displayname\": componentRow.displayname,\n                    \"languagecode\": false\n                  });\n                }\n\n                return null;\n              });\n            } else {\n              if (component.inputtype === 'combo') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"columntype\": 1,\n                  \"viewvaluemember\": component.label,\n                  \"valuemember\": component.valuemember,\n                  \"displaymember\": component.displaymember,\n                  \"mastertablename\": component.source,\n                  \"needmasterdata\": true,\n                  \"columntypedesc\": \"textinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              if (component.inputtype === 'date') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"columntype\": 2,\n                  \"columntypedesc\": \"datetime\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              if (component.inputtype === 'Numeric') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"columntype\": 5,\n                  \"columntypedesc\": \"numericinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              if (component.inputtype === 'textinput' || component.inputtype === 'email' || component.inputtype === 'textarea' || component.inputtype === 'radio') {\n                sampleQuerybuilderViewCondition.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"columntype\": 1,\n                  \"columntypedesc\": \"textinput\"\n                });\n                sampleQuerybuilderViewSelect.push({\n                  \"columnname\": component.label,\n                  \"displayname\": component.displayname,\n                  \"languagecode\": false\n                });\n              }\n\n              return null;\n            }\n          });\n        }));\n      }\n\n      let jsondata = {\n        griditem: gridItem,\n        gridmoreitem: gridMoreItem,\n        masterdatefields,\n        masterdateconstraints,\n        masteruniquevalidation,\n        editable,\n        mastertemplatefields,\n        mastercombinationunique,\n        sampleAuditFields,\n        sampleAuditEditable,\n        sampleAuditMultilingualFields\n      }; //console.log(\"dynamiccolumns:\", jdynamiccolumns);\n\n      return {\n        jsondata,\n        jdynamiccolumns,\n        jnumericcolumns,\n        templatePrimaryKey,\n        sampleQuerybuilderViewCondition,\n        sampleQuerybuilderViewSelect\n      };\n    };\n\n    this.approveVersion1 = approveId => {\n      if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED || this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTDRAFTVERSION\"\n        }));\n      } else {\n        const postParam = {\n          inputListName: \"versionData\",\n          selectedObject: \"selectedVersion\",\n          primaryKeyField: \"napproveconfversioncode\",\n          primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n          fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\n          fecthInputObject: {\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            userinfo: this.props.Login.userInfo\n          },\n          unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\n        };\n        let {\n          jdynamiccolumns,\n          jnumericcolumns,\n          templatePrimaryKey,\n          sampleQuerybuilderViewCondition,\n          sampleQuerybuilderViewSelect\n        } = this.getGridJsondata(this.props.Login.selectedTemplate && this.props.Login.selectedTemplate, this.props.Login.subSampleCheck, this.props.Login.subSampleTemplate);\n        const inputData = {\n          'approvalconfigversion': {\n            napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n            napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\n            userinfo: this.props.Login.userInfo,\n            nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\n            sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\n            sviewname: this.state.selectedRecord.sviewname,\n            ndesigntemplatemappingcode: this.state.selectedRecord.ndesigntemplatemappingcode.value,\n            sregtemplatename: this.state.selectedRecord.ndesigntemplatemappingcode.label\n          },\n          jdynamiccolumns,\n          jnumericcolumns,\n          sprimarykey: templatePrimaryKey,\n          sampleQuerybuilderViewCondition,\n          sampleQuerybuilderViewSelect\n        };\n        inputData['userinfo'] = this.props.Login.userInfo; // inputData['jsondata'] = this.props.Login.userInfo\n\n        const inputParam = {\n          methodUrl: 'ApprovalConfigVersion',\n          classUrl: this.props.Login.inputParam.classUrl,\n          displayName: \"IDS_APPROVALCONFIG\",\n          inputData: inputData,\n          postParam,\n          operation: \"updateapprove\"\n        };\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              openModal: true,\n              screenName: this.props.intl.formatMessage({\n                id: \"IDS_APPROVALCONFIG\"\n              }),\n              operation: \"approve\"\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let postParam = undefined;\n\n      if (this.props.Login.operation === \"copy\") {\n        const subTypeCode = this.approvalSubTypeValue.value;\n        const inputData = {\n          approvalconfigversion: {\n            napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n            napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n            napprovalsubtypecode: subTypeCode,\n            sversionname: this.state.selectedRecord.sversionname,\n            nregtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regtype'] ? this.state.selectedRecord['regtype'].value : this.state.registrationTypeValue[0].value : -1,\n            nregsubtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regsubtype'] ? this.state.selectedRecord['regsubtype'].value : this.state.registrationSubTypeValue[0].value : -1,\n            userinfo: this.props.Login.userInfo,\n            ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1\n          }\n        };\n        inputData['userinfo'] = this.props.Login.userInfo;\n        const inputParam = {\n          methodUrl: 'ApprovalConfigVersion',\n          classUrl: this.props.Login.inputParam.classUrl,\n          displayName: \"IDS_APPROVALCONFIG\",\n          inputData: inputData,\n          postParam,\n          searchRef: this.searchRef,\n          operation: \"copy\"\n        };\n        const masterData = this.props.Login.masterData;\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              openModal: true,\n              screenName: this.props.intl.formatMessage({\n                id: \"IDS_APPROVALCONFIG\"\n              }),\n              operation: \"copy\"\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openModal\");\n        }\n      } else if (this.props.Login.operation === 'approve') {\n        this.approveVersion1(this.props.Login.ncontrolcode);\n      } else {\n        let bool = true;\n        let errormessage = [];\n        let inputData = {};\n        let approvalconfigrole = [];\n        let filterDetailCount = 0;\n        let validationDetailCount = 0;\n        let decisionDetailCount = 0;\n        let actionDetailCount = 0;\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\n        inputData['napprovalconfigcode'] = this.props.Login.masterData.realApprovalConfigCode;\n        inputData['ntreeversiontempcode'] = this.props.Login.userRoleTree[0].ntreeversiontempcode;\n        inputData['napprovalsubtypecode'] = this.approvalSubTypeValue.value;\n        let isAutoApprovalVersion = this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? true : false;\n        const userRoleTree = this.props.Login.userRoleTree; //.reverse();\n\n        userRoleTree.map(role => {\n          let approvalconfigrolefilterdetail = [];\n          let approvalconfigrolevalidationdetail = [];\n          let approvalconfigroledecisiondetail = [];\n          let approvalconfigroleactiondetail = []; //to fill role details\n\n          if (this.state.selectedRecord[role.nuserrolecode]) {\n            approvalconfigrole.push({\n              napprovalconfigrolecode: this.props.Login.operation === 'create' ? 0 : role.napprovalconfigrolecode,\n              napprovalconfigcode: role.napprovalconfigcode,\n              ntreeversiontempcode: role.ntreeversiontempcode,\n              nuserrolecode: role.nuserrolecode,\n              nchecklistversioncode: this.state.selectedRecord[role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode].checklist ? this.state.selectedRecord[role.nuserrolecode].checklist : transactionStatus.NA : transactionStatus.NA,\n              npartialapprovalneed: this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] : transactionStatus.YES,\n              nsectionwiseapprovalneed: this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] === transactionStatus.NO ? this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] : transactionStatus.NO : transactionStatus.NO,\n              // nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\n              //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\n              // nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\n              //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\n              // nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\n              //     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\n              // nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\n              //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\n              // nlevelno: role.nlevelno,\n              nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] : transactionStatus.NO,\n              nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] : transactionStatus.NO,\n              nretestneed: this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] : transactionStatus.NO,\n              nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] : transactionStatus.NO,\n              nlevelno: role.nlevelno,\n              napprovalstatuscode: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\n              nautoapproval: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? transactionStatus.YES : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] : transactionStatus.NO,\n              nautoapprovalstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\n              nautodescisionstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] : transactionStatus.PASS : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].decisionstatus && this.state.selectedRecord[role.nuserrolecode].decisionstatus.length > 0 ? this.state.selectedRecord[role.nuserrolecode].decisionstatus[0] : transactionStatus.DRAFT // :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\n              // :transactionStatus.NA\n              ,\n              ncorrectionneed: this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] : transactionStatus.NO,\n              nesignneed: this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] : transactionStatus.NO,\n              ntransactionstatus: transactionStatus.DRAFT,\n              nsitecode: this.props.Login.userInfo.nmastersitecode,\n              nstatus: transactionStatus.ACTIVE\n            });\n\n            if (this.state.selectedRecord[role.nuserrolecode].filterstatus) {\n              this.state.selectedRecord[role.nuserrolecode].filterstatus.map(filterValue => {\n                filterDetailCount++;\n                approvalconfigrolefilterdetail.push({\n                  napprovalconfigcode: role.napprovalconfigcode,\n                  nuserrolecode: role.nuserrolecode,\n                  nlevelno: role.nlevelno,\n                  ntransactionstatus: filterValue,\n                  nstatus: transactionStatus.ACTIVE\n                });\n                return null;\n              });\n            }\n\n            if (this.state.selectedRecord[role.nuserrolecode].validationstatus) {\n              this.state.selectedRecord[role.nuserrolecode].validationstatus.map(validationValue => {\n                validationDetailCount++;\n                approvalconfigrolevalidationdetail.push({\n                  napprovalconfigcode: role.napprovalconfigcode,\n                  nuserrolecode: role.nuserrolecode,\n                  nlevelno: role.nlevelno,\n                  ntransactionstatus: validationValue,\n                  nstatus: transactionStatus.ACTIVE\n                });\n                return null;\n              });\n            }\n\n            if (this.state.selectedRecord[role.nuserrolecode].decisionstatus) {\n              this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(decisionValue => {\n                decisionDetailCount++;\n                approvalconfigroledecisiondetail.push({\n                  napprovalconfigcode: role.napprovalconfigcode,\n                  nuserrolecode: role.nuserrolecode,\n                  nlevelno: role.nlevelno,\n                  ntransactionstatus: decisionValue,\n                  nstatus: transactionStatus.ACTIVE\n                });\n                return null;\n              });\n            }\n\n            this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`] ? this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`].map(actionValue => {\n              actionDetailCount++;\n              approvalconfigroleactiondetail.push({\n                napprovalconfigcode: role.napprovalconfigcode,\n                nuserrolecode: role.nuserrolecode,\n                nlevelno: role.nlevelno,\n                ntransactionstatus: actionValue,\n                nstatus: transactionStatus.ACTIVE\n              });\n              return null;\n            }) : approvalconfigroleactiondetail.push();\n            actionDetailCount++;\n            approvalconfigroleactiondetail.push({\n              napprovalconfigcode: role.napprovalconfigcode,\n              nuserrolecode: role.nuserrolecode,\n              nlevelno: role.nlevelno,\n              ntransactionstatus: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : -1,\n              nstatus: transactionStatus.ACTIVE\n            });\n            inputData[`approvalconfigrolefilterdetail_${[role.nuserrolecode]}`] = approvalconfigrolefilterdetail;\n            inputData[`approvalconfigrolevalidationdetail_${[role.nuserrolecode]}`] = approvalconfigrolevalidationdetail;\n            inputData[`approvalconfigroledecisiondetail_${[role.nuserrolecode]}`] = approvalconfigroledecisiondetail;\n            inputData[`approvalconfigroleactiondetail_${[role.nuserrolecode]}`] = approvalconfigroleactiondetail;\n            bool = bool ? true : false;\n            return null;\n          } else {\n            bool = false;\n            errormessage.push(role.suserrolename);\n            return false;\n          }\n        }); //role map\n\n        inputData['approvalconfigrole'] = approvalconfigrole;\n        inputData['rolecount'] = this.props.Login.userRoleTree.length;\n        inputData['filterdetailcount'] = filterDetailCount;\n        inputData['validationdetailcount'] = validationDetailCount;\n        inputData['decisiondetailcount'] = decisionDetailCount;\n        inputData['actioncount'] = actionDetailCount;\n        inputData['ntreeversiontempcode'] = this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1;\n        let finalInputData = {};\n        let inputParam = {};\n\n        if (bool) {\n          if (this.props.Login.operation === \"update\") {\n            // edit\n            postParam = {\n              inputListName: \"versionData\",\n              selectedObject: \"selectedVersion\",\n              primaryKeyField: \"napproveconfversioncode\"\n            };\n            const temp1 = {};\n            this.props.Login.versionConfig.map(temp => {\n              if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\n                temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO;\n              } else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\n                temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO;\n              }\n            });\n            inputData['approvalconfigautoapproval'] = {\n              napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\n              napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n              sversionname: this.state.selectedRecord.sversionname,\n              //  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n              //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\n              nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\n              nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT : transactionStatus.DRAFT,\n              nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\n              nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\n              nstatus: transactionStatus.ACTIVE,\n              ...temp1\n            };\n          } else {\n            inputData['approveconfigversion'] = {\n              napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n              napproveconfversionno: -1,\n              ntransactionstatus: transactionStatus.DRAFT,\n              ntreeversiontempcode: this.props.Login.userRoleTree[0].ntreeversiontempcode,\n              sapproveconfversiondesc: '-',\n              nsitecode: this.props.Login.userInfo.nmastersitecode,\n              nstatus: transactionStatus.ACTIVE\n            };\n            const temp1 = {};\n            this.props.Login.versionConfig.map(temp => {\n              if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\n                temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO;\n              } else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\n                temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO;\n              }\n            });\n            inputData['approvalconfigautoapproval'] = {\n              napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\n              sversionname: this.state.selectedRecord.sversionname,\n              // nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\n              //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\n              nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\n              nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT : transactionStatus.DRAFT,\n              nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\n              nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\n              nstatus: transactionStatus.ACTIVE,\n              ...temp1\n            };\n          }\n\n          finalInputData['approvalconfigversion'] = inputData;\n          finalInputData['userinfo'] = this.props.Login.userInfo;\n          inputParam = {\n            methodUrl: 'ApprovalConfigVersion',\n            classUrl: this.props.Login.inputParam.classUrl,\n            displayName: \"IDS_APPROVALCONFIG\",\n            inputData: finalInputData,\n            saveType,\n            formRef,\n            operation: this.props.Login.operation,\n            postParam,\n            searchRef: this.searchRef\n          };\n          const masterData = this.props.Login.masterData;\n\n          if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n            const updateInfo = {\n              typeName: DEFAULT_RETURN,\n              data: {\n                loadEsign: true,\n                screenData: {\n                  inputParam,\n                  masterData\n                },\n                saveType,\n                openModal: true,\n                operation: this.props.Login.operation,\n                screenName: this.props.intl.formatMessage({\n                  id: \"IDS_APPROVALCONFIG\"\n                })\n              }\n            };\n            this.props.updateStore(updateInfo);\n          } else {\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\n          }\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_FILLDETAILSFOR\"\n          }) + \" \" + errormessage.join(\",\"));\n        }\n      }\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.deleteApprovalConfigVersion(deleteId));\n    };\n\n    this.onInputOnChange = (event, role, action) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (role) {\n        let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {};\n        const fieldName = event.target.name.split('_')[0] + '_' + event.target.name.split('_')[1];\n        let actionArray = selectedRecord[`actionStatus_${role.nuserrolecode}`] || [];\n\n        if (event.target.type === 'checkbox') {\n          if (action) {\n            if (event.target.checked) {\n              actionArray.push(action.ntranscode);\n            } else {\n              actionArray.splice(actionArray.indexOf(action.ntranscode), 1);\n            }\n\n            selectedRecord[`actionStatus_${role.nuserrolecode}`] = actionArray;\n          }\n\n          roleDetails[fieldName] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n\n          if (fieldName === 'IDS_PARTIALAPPROVAL' && roleDetails[\"IDS_PARTIALAPPROVAL\"] && roleDetails[\"IDS_PARTIALAPPROVAL\"] === transactionStatus.YES) {\n            roleDetails['IDS_SECTIONWISEAPPROVE'] = transactionStatus.NO;\n          }\n\n          selectedRecord[role.nuserrolecode] = roleDetails;\n        } else {\n          roleDetails[fieldName] = event.target.value;\n          selectedRecord[role.nuserrolecode] = roleDetails;\n        }\n      } else {\n        if (event.target.type === 'checkbox') {\n          selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n        } else {\n          if (event.target.name === 'sviewname') {\n            selectedRecord[event.target.name] = event.target.value.replace(/[^\\w\\s]/gi, \"\");\n          } else {\n            selectedRecord[event.target.name] = event.target.value;\n          }\n        }\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, role, comboName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (role) {\n        let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {};\n        const fieldName = comboName.split('_')[0];\n        let filterArray = [];\n        roleDetails[fieldName] = [];\n\n        if (comboData) {\n          selectedRecord[comboName] = comboData;\n\n          if (fieldName === 'checklist') {\n            selectedRecord[`checklistVersion_${role.nuserrolecode}`] = {\n              label: comboData.item.schecklistversionname,\n              value: comboData.item.nchecklistversioncode\n            };\n            filterArray = comboData.item.nchecklistversioncode;\n          } else {\n            if (Array.isArray(comboData)) {\n              comboData.map(item => {\n                return filterArray.push(item.value);\n              });\n            } else {\n              filterArray = comboData.value;\n            }\n          }\n\n          roleDetails[fieldName] = filterArray;\n          selectedRecord[role.nuserrolecode] = roleDetails;\n        } else {\n          selectedRecord[comboName] = [];\n          filterArray = [];\n          roleDetails[fieldName] = filterArray;\n          selectedRecord[role.nuserrolecode] = roleDetails;\n        }\n\n        this.setState({\n          selectedRecord\n        });\n      } else {\n        selectedRecord[comboName] = comboData;\n\n        if (comboName === 'regtype') {\n          this.props.getCopySubType(comboData, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType);\n        } else {\n          this.setState({\n            selectedRecord\n          });\n        }\n      }\n    };\n\n    this.onFilterComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue;\n      let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\n      let registrationSubTypeValue;\n\n      if (comboData) {\n        selectedRecord[fieldName] = comboData.value;\n        let inputData = {};\n\n        if (fieldName === 'napprovalsubtypecode') {\n          approvalSubTypeValue = comboData;\n          inputData = {\n            nFlag: 2,\n            napprovalsubtypecode: comboData.value,\n            userinfo: this.props.Login.userInfo\n          };\n        } else if (fieldName === 'nregtypecode') {\n          registrationTypeValue = comboData;\n          inputData = {\n            nFlag: 3,\n            napprovalsubtypecode: approvalSubTypeValue.value,\n            nregtypecode: comboData.value,\n            userinfo: this.props.Login.userInfo\n          };\n        } else if (fieldName === 'nregsubtypecode') {\n          registrationSubTypeValue = comboData;\n          inputData = {\n            nFlag: 4,\n            napprovalsubtypecode: approvalSubTypeValue.value,\n            nregtypecode: registrationTypeValue.value,\n            nregsubtypecode: comboData.value,\n            userinfo: this.props.Login.userInfo\n          };\n        }\n\n        if (fieldName === 'ntreeversiontempcode') {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              masterData: { ...this.props.Login.masterData,\n                userroleTemplateValue: comboData\n              }\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          const oldState = {\n            approvalsubtype: this.props.Login.masterData.approvalsubtype,\n            registrationtype: this.props.Login.masterData.registrationType,\n            registrationsubtype: this.props.Login.masterData.registrationSubType,\n            approvalSubTypeValue,\n            registrationTypeValue,\n            registrationSubTypeValue,\n            RegistrationTypeList: this.state.RegistrationTypeList,\n            RegistrationSubTypeList: this.state.RegistrationSubTypeList\n          };\n          let inputParamData = {\n            inputData,\n            masterData: this.props.Login.masterData\n          };\n          this.props.getFilterChange(inputParamData, oldState);\n        }\n      } else {\n        selectedRecord[fieldName] = \"\";\n\n        if (fieldName === 'napprovalsubtypecode') {\n          this.approvalSubTypeValue = [];\n          registrationTypeValue = [];\n          registrationSubTypeValue = [];\n        } else if (fieldName === 'nregtypecode') {\n          registrationTypeValue = [];\n          registrationSubTypeValue = [];\n        } else {\n          registrationSubTypeValue = [];\n        }\n\n        this.setState({\n          selectedRecord\n        });\n      } // this.searchRef.current.value = \"\"\n\n    };\n\n    this.getApprovalConfigurationVersion = () => {\n      if (this.props.Login.masterData.approvalSubTypeValue) {\n        //this.searchRef.current.value = \"\"\n        let masterData = { ...this.props.Login.masterData,\n          realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\n          realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\n          realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\n          realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\n          realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1\n        };\n        const inputData = {\n          napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue.value : -1,\n          napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\n          ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\n          userinfo: this.props.Login.userInfo\n        };\n        let inputParamData = {\n          inputData,\n          masterData,\n          searchRef: this.searchRef\n        };\n        this.props.getApprovalConfigurationVersion(inputParamData);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.reloadData = () => {\n      // this.searchRef.current.value = \"\";\n      // const inputParam = {\n      //     inputData: { \"userinfo\": this.props.Login.userInfo },\n      //     classUrl: \"approvalconfig\",\n      //     methodUrl: \"ApprovalConfigFilter\",\n      //     userInfo: this.props.Login.userInfo,\n      //     displayName: \"IDS_APPROVALCONFIG\"\n      // };\n      // this.props.callService(inputParam);\n      this.getApprovalConfigurationVersion();\n    };\n\n    this.userRoleAccordion = userRoleList => {\n      const accordionMap = new Map();\n      userRoleList = sortData(userRoleList, 'ascending', 'nlevelno');\n      userRoleList.map(role => accordionMap.set(role.napprovalconfigrolecode, /*#__PURE__*/React.createElement(UserRoleAccordion, {\n        role: role,\n        roleConfig: this.props.Login.masterData.roleConfig,\n        userRoleControlRights: this.state.userRoleControlRights,\n        controlMap: this.state.controlMap,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        deleteRecord: this.deleteRecord,\n        tabDetail: this.tabDetail(role),\n        onTabOnChange: this.onTabOnChange,\n        approvalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1776,\n          columnNumber: 17\n        }\n      })));\n      return accordionMap;\n    };\n\n    this.tabDetail = () => {\n      const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0];\n      const tabMap = new Map();\n      tabMap.set(\"IDS_FILTERSTATUS\", /*#__PURE__*/React.createElement(FilterStatusTab, {\n        filterData: process(this.props.Login.masterData.roleFilters ? // sortData(this.props.Login.masterData.roleFilters) : [],\n        // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n        sortData(this.props.Login.masterData.roleFilters) : [], this.state.filterStatusState),\n        setDefault: this.props.setDefault,\n        selectedRole: selectedRole,\n        napprovalsubtypecode: this.approvalSubTypeValue.value,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        dataState: this.state.filterStatusState,\n        dataStateChange: event => this.setState({\n          filterStatusState: event.dataState\n        }),\n        screenName: \"IDS_FILTERSTATUS\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1795,\n          columnNumber: 13\n        }\n      }));\n      tabMap.set(\"IDS_VALIDATIONSTATUS\", /*#__PURE__*/React.createElement(ValidationStatusTab, {\n        validationStatus: process(this.props.Login.masterData.roleValidations ? sortData(this.props.Login.masterData.roleValidations) : [], this.state.validationStatusState) // sortData(this.props.Login.masterData.roleValidations) : [],\n        // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n        ,\n        selectedRole: selectedRole,\n        napprovalsubtypecode: this.approvalSubTypeValue.value,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        dataState: this.state.validationStatusState,\n        dataStateChange: event => this.setState({\n          validationStatusState: event.dataState\n        }),\n        screenName: \"IDS_VALIDATIONSTATUS\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1812,\n          columnNumber: 13\n        }\n      })); // if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\n      //     tabMap.set(\"IDS_DECISIONSTATUS\",\n      //         <DecisionStatusTab\n      //             decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\n      //                 { skip: this.state.dataState.skip, take: this.state.dataState.take })}\n      //             setDefault={this.props.setDefault}\n      //             selectedRole={selectedRole}\n      //             napprovalsubtypecode={this.approvalSubTypeValue.value}\n      //             userInfo={this.props.Login.userInfo}\n      //             masterData={this.props.Login.masterData}\n      //             screenName=\"IDS_DECISIONSTATUS\"\n      //         />)\n      // }\n\n      tabMap.set(\"IDS_ACTIONSTATUS\", /*#__PURE__*/React.createElement(ActionStatusTab, {\n        actionData: process(this.props.Login.masterData.roleActions ? sortData(this.props.Login.masterData.roleActions) : [], {\n          skip: this.state.dataState.skip,\n          take: this.state.dataState.take\n        }),\n        setDefault: this.props.setDefault,\n        selectedRole: selectedRole,\n        napprovalsubtypecode: this.approvalSubTypeValue.value,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        screenName: \"IDS_ACTIONSTATUS\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1839,\n          columnNumber: 13\n        }\n      }));\n      return tabMap;\n    };\n\n    this.onTabOnChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    const dataState = {\n      skip: 0,\n      take: 10\n    };\n    const filterStatusState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    const validationStatusState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      openModal: false,\n      masterStatus: \"\",\n      error: \"\",\n      approvalConfigCode: -1,\n      dataResult: [],\n      dataState: dataState,\n      selectedRecord: {},\n      ApprovalsubtypeList: [],\n      RegistrationTypeList: [],\n      RegistrationSubTypeList: [],\n      UserRoleTemplateList: [],\n      filterStatusState,\n      validationStatusState\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\") {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (props.Login.selectedRecord === undefined) {\n      return {\n        selectedRecord: {}\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    let versionStatusCSS = \"outline-secondary\";\n\n    if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED) {\n      versionStatusCSS = \"outline-success\";\n    } else if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\n      versionStatusCSS = \"outline-danger\";\n    }\n\n    const editId = this.state.controlMap.has(\"EditApprovalConfig\") && this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteApprovalConfig\") && this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode;\n    const approveId = this.state.controlMap.has(\"ApproveApprovalConfig\") && this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode;\n    const copyId = this.state.controlMap.has(\"CopyApprovalConfig\") && this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode;\n    const addId = this.state.controlMap.has(\"AddApprovalConfig\") && this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode;\n    this.approvalSubTypeValue = this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue : this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : this.props.Login.masterData.approvalsubtype ? this.props.Login.masterData.approvalsubtype.length > 0 ? {\n      value: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].napprovalsubtypecode,\n      label: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].ssubtypename\n    } : {} : {};\n    const filterParam = {\n      inputListName: \"versionData\",\n      selectedObject: \"selectedVersion\",\n      primaryKeyField: \"napproveconfversioncode\",\n      searchFieldList: [\"sversionname\", \"sversionstatus\", \"sapproveconfversiondesc\"],\n      fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\n      fecthInputObject: {\n        napprovalsubtypecode: this.approvalSubTypeValue.value,\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      sortField: \"napproveconfversioncode\",\n      sortOrder: \"descending\",\n      //NIBSCRT-2294\n      unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\", \"treeVersionTemplate\", \"userroleTemplateValue\", \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\", \"realTreeVersionTemplateValue\", \"approvalConfigCode\", \"realApprovalConfigCode\"]\n    };\n    const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0];\n    const mandatoryFields = [{\n      \"idsName\": \"IDS_VERSIONNAME\",\n      \"dataField\": \"sversionname\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n    this.props.Login.operation !== 'copy' && this.props.Login.userRoleTree && this.props.Login.userRoleTree.map(role => {\n      mandatoryFields.push({\n        \"idsName\": \"IDS_APPROVALSTATUS\",\n        \"alertSuffix\": ` - ${role.suserrolename}`,\n        \"dataField\": `approvalstatus_${role.nuserrolecode}`,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n      mandatoryFields.push({\n        \"idsName\": \"IDS_FILTERSTATUS\",\n        \"alertSuffix\": ` - ${role.suserrolename}`,\n        \"dataField\": `filterstatus_${role.nuserrolecode}`,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n      mandatoryFields.push({\n        \"idsName\": \"IDS_VALIDATIONSTATUS\",\n        \"alertSuffix\": ` - ${role.suserrolename}`,\n        \"dataField\": `validationstatus_${role.nuserrolecode}`,\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      });\n\n      if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\n        mandatoryFields.push({\n          \"idsName\": \"IDS_DECISIONSTATUS\",\n          \"alertSuffix\": ` - ${role.suserrolename}`,\n          \"dataField\": `decisionstatus_${role.nuserrolecode}`\n        });\n      }\n\n      return null;\n    });\n    let breadCrumbData = [];\n\n    if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_REGISTRATIONTYPE\",\n        \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_REGISTRATIONSUBTYPE\",\n        \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_USERROLETEMPLATE\",\n        \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\n      }];\n    } else {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_USERROLETEMPLATE\",\n        \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\n      }];\n    } // console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\n    // console.log(\"this.props.Login.masterData.:\", this.props.Login.masterData);\n\n\n    const masterList = sortData(this.props.Login.masterData.searchedData || this.props.Login.masterData.versionData, \"descending\", \"napproveconfversioncode\"); //console.log(\"masterList:\", masterList);\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster, {\n      filterColumnData: this.props.filterColumnData,\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_APPROVALCONFIG\"\n      }),\n      masterList: masterList,\n      getMasterDetail: version => this.props.getApprovalConfigVersion(version, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedVersion,\n      primaryKeyField: \"napproveconfversioncode\",\n      mainField: \"sversionname\",\n      firstField: \"sapproveconfversiondesc\",\n      secondField: \"sversionstatus\",\n      isIDSField: \"Yes\",\n      searchRef: this.searchRef,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      openModal: () => this.props.openModal(\"create\", this.props.Login.masterData.realApprovalConfigCode, this.approvalSubTypeValue.value, this.props.Login.userInfo, addId, this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -10),\n      needAccordianFilter: false,\n      reloadData: this.reloadData,\n      hidePaging: true,\n      showFilterIcon: true,\n      onFilterSubmit: this.getApprovalConfigurationVersion,\n      filterComponent: [{\n        \"IDS_SAMPLEFILTER\": /*#__PURE__*/React.createElement(SampleFilter, {\n          selectedRecord: this.state.selectedRecord || {},\n          filterComboChange: this.onFilterComboChange,\n          approvalSubTypeOptions: this.state.ApprovalsubtypeList,\n          approvalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue,\n          registrationTypeOptions: this.state.RegistrationTypeList,\n          registrationTypeValue: this.props.Login.masterData.registrationTypeValue,\n          registrationSubTypeOptions: this.state.RegistrationSubTypeList,\n          registrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue,\n          userroleTemplateOptions: this.state.UserRoleTemplateList,\n          userroleTemplateValue: this.props.Login.masterData.userroleTemplateValue,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1225,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1268,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1269,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1270,\n        columnNumber: 33\n      }\n    }, this.props.Login.masterData.selectedVersion ? Object.entries(this.props.Login.masterData.selectedVersion).length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.selectedVersion.sversionname)), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      className: \"readonly-text font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1278,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1279,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1280,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1281,\n        columnNumber: 61\n      }\n    }, `${this.props.intl.formatMessage({\n      id: \"IDS_VERSIONNO\"\n    })}:${this.props.Login.masterData.selectedVersion.sapproveconfversiondesc}`, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${versionStatusCSS} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1283,\n        columnNumber: 65\n      }\n    }, this.props.Login.masterData.selectedVersion.sversionstatus))), /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1289,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      style: {\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1291,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }) //  data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.props.getApprovalConfigEditData(this.props.Login.masterData.selectedVersion.napproveconfversioncode, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, editId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1294,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }) //  data-for=\"tooltip_list_wrap\"\n      ,\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1307,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      hidden: this.state.userRoleControlRights.indexOf(approveId) === -1,\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_APPROVE\"\n      }) // data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.approveVersion(approveId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faThumbsUp,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      hidden: this.state.userRoleControlRights.indexOf(copyId) === -1,\n      className: \"btn btn-circle outline-grey mr-2\",\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_COPY\"\n      }) //  data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.props.copyVersion(this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, copyId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1327,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faCopy,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_COPY\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 77\n      }\n    }))))))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1344,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.versionConfig ? this.props.Login.masterData.versionConfig.map(item => /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1347,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1349,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: item.stransdisplaystatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1349,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1350,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.selectedVersion[`${item.ntranscode}`])))) : \"\"), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1355,\n        columnNumber: 53\n      }\n    }, this.props.Login.masterData.approvalSubTypeValue && this.props.Login.masterData.approvalSubTypeValue !== undefined && this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1359,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1360,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_VIEWNAME\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1362,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.selectedVersion.sviewname === \"\" ? '-' : this.props.Login.masterData.selectedVersion.sviewname))), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1368,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1369,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_TEMPLATEMAPPINGVERSION\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1369,\n        columnNumber: 80\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1370,\n        columnNumber: 69\n      }\n    }, this.props.Login.masterData.selectedVersion.stemplatemappingversion)))) : \"\")), /*#__PURE__*/React.createElement(Row, {\n      oGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1377,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1378,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"at-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1379,\n        columnNumber: 57\n      }\n    }, this.props.Login.masterData ? this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 ? /*#__PURE__*/React.createElement(CustomAccordion, {\n      key: \"UserRoles\",\n      accordionTitle: \"suserrolename\",\n      accordionComponent: this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames),\n      inputParam: {\n        masterData: this.props.Login.masterData,\n        userinfo: this.props.Login.userInfo,\n        napprovalsubtypecode: this.approvalSubTypeValue.value\n      },\n      accordionClick: this.props.getRoleDetails,\n      accordionPrimaryKey: \"napprovalconfigrolecode\",\n      accordionObjectName: \"role\",\n      selectedKey: selectedRole.napprovalconfigrolecode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1381,\n        columnNumber: 65\n      }\n    }) : \"\" : \"\"))))) : \"\" : \"\"))))), this.props.Login.openModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      onSaveClick: this.onSaveClick,\n      operation: this.props.Login.operation,\n      screenName: \"IDS_APPROVALCONFIG\",\n      closeModal: this.handleClose,\n      show: this.props.Login.openModal,\n      inputParam: this.props.Login.inputParam,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: this.props.Login.operation === 'approve' ? [{\n        \"idsName\": \"IDS_VIEWNAME\",\n        \"dataField\": \"sviewname\",\n        \"mandatoryLabel\": \"IDS_ENTER\",\n        \"controlType\": \"textbox\"\n      }, {\n        \"idsName\": \"IDS_TEMPLATEMAPPING\",\n        \"dataField\": \"ndesigntemplatemappingcode\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"combo\"\n      }] : mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1420,\n          columnNumber: 29\n        }\n      }) : this.props.Login.operation === 'approve' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1427,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1428,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(FormSelectSearch, {\n        name: \"ndesigntemplatemappingcode\",\n        formLabel: this.props.intl.formatMessage({\n          id: \"IDS_TEMPLATEMAPPING\"\n        }),\n        placeholder: \"Please Select...\",\n        options: this.props.Login.designTemplateMapping // optionId=\"ntimezonecode\"\n        // optionValue=\"stimezoneid\"\n        ,\n        value: this.state.selectedRecord[\"ndesigntemplatemappingcode\"] //defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\n        ,\n        isMandatory: true,\n        isMulti: false,\n        isSearchable: false,\n        isClearable: false,\n        isDisabled: true,\n        closeMenuOnSelect: true,\n        onChange: event => this.onComboChange(event, 'ndesigntemplatemappingcode'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1429,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(FormInput, {\n        label: this.props.intl.formatMessage({\n          id: \"IDS_VIEWNAME\"\n        }),\n        name: \"sviewname\",\n        type: \"text\",\n        onChange: event => this.onInputOnChange(event),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_VIEWNAME\"\n        }),\n        value: this.state.selectedRecord[\"sviewname\"],\n        isMandatory: true //required={true}\n        ,\n        maxLength: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 45\n        }\n      })))) : /*#__PURE__*/React.createElement(AddApprovalConfig, {\n        selectedRecord: this.state.selectedRecord ? this.state.selectedRecord : {},\n        userRoleTree: this.props.Login.userRoleTree,\n        approvalSubTypeValue: this.approvalSubTypeValue,\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange,\n        approvalStatusOptions: this.props.Login.approvalStatusOptions,\n        approvalStatusValue: this.props.Login.approvalStatusValue,\n        filterStatusOptions: this.props.Login.filterStatusOptions,\n        filterStatusValues: this.props.Login.filterStatusValues,\n        topLevelValidStatusOptions: this.props.Login.topLevelValidStatusOptions,\n        validationStatusOptions: this.props.Login.validationStatusOptions,\n        validationStatusValues: this.props.Login.validationStatusValues,\n        decisionStatusOptions: this.props.Login.decisionStatusOptions,\n        decisionStatusValues: this.props.Login.decisionStatusValues,\n        actionStatus: this.props.Login.actionStatus,\n        checklistOptions: this.props.Login.checklistOptions,\n        checklistValues: this.props.Login.checklistValues,\n        roleConfig: this.props.Login.roleConfig,\n        versionConfig: this.props.Login.versionConfig,\n        operation: this.props.Login.operation,\n        nsubType: this.approvalSubTypeValue.value,\n        registrationTypeOptions: this.props.Login.optCopyRegType,\n        registrationTypeValue: this.state.registrationTypeValue,\n        registrationSubTypeOptions: this.props.Login.optCopyRegSubType,\n        registrationSubTypeValue: this.state.registrationSubTypeValue,\n        selectedVersion: this.props.Login.masterData.selectedVersion,\n        masterData: this.props.Login.masterData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1462,\n          columnNumber: 33\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1405,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  componentDidUpdate(previousProps) {\n    let {\n      selectedRecord,\n      userRoleControlRights,\n      controlMap,\n      ApprovalsubtypeList,\n      RegistrationTypeList,\n      RegistrationSubTypeList,\n      UserRoleTemplateList,\n      filterStatusState,\n      validationStatusState\n    } = this.state;\n    let updateState = false;\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      selectedRecord = this.props.Login.selectedRecord;\n      updateState = true;\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode); // const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\n      // const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\n      // const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\n\n      const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\n      const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\n      ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\n      UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\n      updateState = true;\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      //this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \n      // RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\n      // RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\n      const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\n      UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\n      updateState = true; // if (this.props.dataState === undefined) {\n      //     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n      //     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\n      // }\n    }\n\n    if (updateState) {\n      this.setState({\n        selectedRecord,\n        userRoleControlRights,\n        controlMap,\n        ApprovalsubtypeList,\n        RegistrationTypeList,\n        RegistrationSubTypeList,\n        UserRoleTemplateList,\n        filterStatusState,\n        validationStatusState\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  openModal,\n  updateStore,\n  getApprovalConfigVersion,\n  getApprovalConfigEditData,\n  copyVersion,\n  getFilterChange,\n  validateEsignCredential,\n  getCopySubType,\n  getRoleDetails,\n  setDefault,\n  filterColumnData,\n  getApprovalConfigurationVersion,\n  approveVersion\n})(injectIntl(ApprovalConfig));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/configurationmaster/approvalconfig/ApprovalConfig.jsx"],"names":["React","connect","injectIntl","FormattedMessage","toast","callService","crudMaster","Row","Col","Card","Nav","FormGroup","FormLabel","FontAwesomeIcon","faPencilAlt","faCopy","faThumbsUp","faTrashAlt","sortData","getControlMap","showEsign","constructOptionList","process","ListMaster","Esign","SampleFilter","AddApprovalConfig","SlideOutModal","ReadOnlyText","ContentPanel","openModal","updateStore","getApprovalConfigVersion","getApprovalConfigEditData","copyVersion","setDefault","validateEsignCredential","getFilterChange","getRoleDetails","getCopySubType","filterColumnData","getApprovalConfigurationVersion","approveVersion","DEFAULT_RETURN","ApprovalSubType","designProperties","transactionStatus","FilterStatusTab","ValidationStatusTab","UserRoleAccordion","CustomAccordion","DecisionStatusTab","ActionStatusTab","BreadcrumbComponent","ConfirmMessage","Affix","FormInput","FormSelectSearch","mapStateToProps","state","Login","ApprovalConfig","Component","constructor","props","validateEsign","inputParam","inputData","userInfo","sreason","selectedRecord","nreasoncode","value","spredefinedreason","label","password","screenData","handleClose","loadEsign","operation","updateInfo","typeName","data","selectedId","deleteApprovalConfigVersion","deleteId","masterData","selectedVersion","ntransactionstatus","APPROVED","RETIRED","warn","intl","formatMessage","id","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","napproveconfversioncode","fetchUrl","fecthInputObject","napprovalsubtypecode","approvalSubTypeValue","userinfo","napprovalconfigversioncode","napprovalconfigcode","realApprovalConfigCode","ntreeversiontempcode","realTreeVersionTemplateValue","methodUrl","classUrl","displayName","userRoleControlRights","nformcode","screenName","approveId","nregsubtypecode","registrationSubTypeValue","sregsubtypename","nregtypecode","registrationTypeValue","ncontrolcode","getGridJsondata","templatedata","subSampleCheck","subSampleTemplate","gridItem","gridMoreItem","masterdatefields","masterdateconstraints","masteruniquevalidation","mastercombinationunique","editable","jdynamiccolumns","jnumericcolumns","templatePrimaryKey","mastertemplatefields","sampleAuditFields","sampleAuditEditable","sampleAuditMultilingualFields","sampleQuerybuilderViewCondition","sampleQuerybuilderViewSelect","map","row","children","column","component","index","hasOwnProperty","componentRow","unique","push","LABEL","displayname","VALUE","filterinputtype","comboDataInputObject","inputtype","source","valuemember","displaymember","dateonly","dateConstraintArraySQL","default","columnname","mandatory","templatemandatory","editableuntill","DRAFT","jsondata","griditem","gridmoreitem","approveVersion1","unchangeList","selectedTemplate","sviewname","ndesigntemplatemappingcode","sregtemplatename","sprimarykey","onSaveClick","saveType","formRef","undefined","subTypeCode","approvalconfigversion","sversionname","TESTRESULTAPPROVAL","searchRef","bool","errormessage","approvalconfigrole","filterDetailCount","validationDetailCount","decisionDetailCount","actionDetailCount","userRoleTree","isAutoApprovalVersion","YES","role","approvalconfigrolefilterdetail","approvalconfigrolevalidationdetail","approvalconfigroledecisiondetail","approvalconfigroleactiondetail","nuserrolecode","napprovalconfigrolecode","nchecklistversioncode","checklist","NA","npartialapprovalneed","nsectionwiseapprovalneed","NO","nrecomretestneed","nrecomrecalcneed","nretestneed","nrecalcneed","nlevelno","napprovalstatuscode","approvalstatus","nautoapproval","nautoapprovalstatuscode","nautodescisionstatuscode","decisionstatus","PASS","length","ncorrectionneed","nesignneed","nsitecode","nmastersitecode","nstatus","ACTIVE","filterstatus","filterValue","validationstatus","validationValue","decisionValue","actionValue","suserrolename","finalInputData","temp1","versionConfig","temp","ntranscode","AUTOAPPROVAL","stransdisplaystatus","AUTOCOMPLETE","nautoapprovalstatus","nautodescisionstatus","nautoallot","nneedjoballocation","napproveconfversionno","sapproveconfversiondesc","join","ConfirmDelete","confirmMessage","confirm","onInputOnChange","event","action","roleDetails","fieldName","target","name","split","actionArray","type","checked","splice","indexOf","replace","setState","onComboChange","comboData","comboName","filterArray","item","schecklistversionname","Array","isArray","optCopyRegType","onFilterComboChange","nFlag","userroleTemplateValue","oldState","approvalsubtype","registrationtype","registrationType","registrationsubtype","registrationSubType","RegistrationTypeList","RegistrationSubTypeList","inputParamData","realApprovalSubTypeValue","realRegistrationTypeValue","realRegistrationSubTypeValue","approvalConfigCode","reloadData","userRoleAccordion","userRoleList","accordionMap","Map","set","roleConfig","controlMap","deleteRecord","tabDetail","onTabOnChange","selectedRole","approvalconfigRoleNames","tabMap","roleFilters","filterStatusState","dataState","roleValidations","validationStatusState","roleActions","skip","take","tabProps","settings","parseInt","masterStatus","error","dataResult","ApprovalsubtypeList","UserRoleTemplateList","createRef","getDerivedStateFromProps","render","versionStatusCSS","editId","has","get","copyId","addId","ssubtypename","filterParam","searchFieldList","sortField","sortOrder","mandatoryFields","decisionStatusOptions","breadCrumbData","masterList","searchedData","versionData","version","Object","entries","sversionstatus","float","stemplatemappingversion","designTemplateMapping","approvalStatusOptions","approvalStatusValue","filterStatusOptions","filterStatusValues","topLevelValidStatusOptions","validationStatusOptions","validationStatusValues","decisionStatusValues","actionStatus","checklistOptions","checklistValues","optCopyRegSubType","componentDidUpdate","previousProps","updateState","values","ApprovalsubtypeListMap","RegistrationTypeListMap","RegistrationSubTypeListMap","UserRoleTemplateListMap","treeVersionTemplate","componentWillUnmount","modalName"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { toast } from 'react-toastify';\r\nimport { callService, crudMaster } from '../../../actions';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faCopy, faThumbsUp, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { sortData, getControlMap, showEsign, constructOptionList } from '../../../components/CommonScript'\r\nimport { process } from '@progress/kendo-data-query';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport Esign from '../../audittrail/Esign';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddApprovalConfig from './AddApprovalConfig';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport { ReadOnlyText, ContentPanel } from '../../../components/App.styles';\r\nimport {\r\n    openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, setDefault, validateEsignCredential,\r\n    getFilterChange, getRoleDetails, getCopySubType, filterColumnData, getApprovalConfigurationVersion, approveVersion\r\n} from '../../../actions'\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\r\nimport { ApprovalSubType, designProperties, transactionStatus } from '../../../components/Enumeration';\r\nimport FilterStatusTab from './FilterStatusTab';\r\nimport ValidationStatusTab from './ValidationStatusTab';\r\nimport UserRoleAccordion from './UserRoleAccordion';\r\nimport CustomAccordion from '../../../components/custom-accordion/custom-accordion.component';\r\nimport DecisionStatusTab from './DecisionStatusTab';\r\nimport ActionStatusTab from './ActionStatusTab';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport { Affix } from 'rsuite';\r\nimport FormInput from '../../../components/form-input/form-input.component';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\n// import ReactTooltip from 'react-tooltip';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass ApprovalConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const dataState = {\r\n            skip: 0,\r\n            take: 10,\r\n        };\r\n        const filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n\r\n        this.state = {\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            openModal: false, masterStatus: \"\", error: \"\",\r\n            approvalConfigCode: -1,\r\n            dataResult: [], dataState: dataState, selectedRecord: {},\r\n            ApprovalsubtypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            UserRoleTemplateList: [],\r\n            filterStatusState,\r\n            validationStatusState\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\") {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\":\r\n                {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    handleClose = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason'] = \"\"\r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {}\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    deleteApprovalConfigVersion = (deleteId) => {\r\n\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        }\r\n        else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                // unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\",\r\n                //  \"registrationTypeValue\", \"registrationSubType\", \"registrationSubTypeValue\",\r\n                //     \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"delete\"\r\n\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\",\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    approveVersion = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n\r\n            if (this.approvalSubTypeValue.value === 2) {\r\n                const inputData = {\r\n                    // 'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                    sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                    nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    // nregtypecode:this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    // }\r\n\r\n                }\r\n                inputData['userinfo'] = this.props.Login.userInfo\r\n                //  inputData['userinfo'] = this.props.Login.userInfo\r\n                const inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: inputData,\r\n                    operation: \"approve\", ncontrolcode: approveId\r\n                }\r\n                //const masterData = this.props.Login.masterData;\r\n                this.props.approveVersion(inputParam);\r\n\r\n                // if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                //     const updateInfo = {\r\n                //         typeName: DEFAULT_RETURN,\r\n                //         data: {\r\n                //             loadEsign: true, screenData: { inputParam, masterData },\r\n                //             openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                //         }\r\n                //     }\r\n                //     this.props.updateStore(updateInfo);\r\n                // }\r\n                // else {\r\n                //     this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                // }\r\n            } else {\r\n                const inputData = {\r\n                    'approvalconfigversion': {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                        ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                        sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                        nregtypecode: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    }\r\n\r\n                }\r\n                inputData['userinfo'] = this.props.Login.userInfo\r\n                const inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: inputData,\r\n                    operation: \"updateapprove\", ncontrolcode: approveId\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    getGridJsondata = (templatedata, subSampleCheck, subSampleTemplate) => {\r\n        let gridItem = [];\r\n        let gridMoreItem = [];\r\n        let masterdatefields = [];\r\n        let masterdateconstraints = [];\r\n        let masteruniquevalidation = [];\r\n        let mastercombinationunique = [];\r\n        let editable = [];\r\n        let jdynamiccolumns = [];\r\n        let jnumericcolumns = [];\r\n        let templatePrimaryKey = \"\";\r\n        let mastertemplatefields = [];\r\n        let sampleAuditFields = [];\r\n        let sampleAuditEditable = [];\r\n        let sampleAuditMultilingualFields = [];\r\n        let sampleQuerybuilderViewCondition = [];\r\n        let sampleQuerybuilderViewSelect = [];\r\n\r\n        templatedata && templatedata.map(row =>\r\n            row.children && row.children.map(column => {\r\n                column.children && column.children.map((component, index) => {\r\n                    //console.log(\"component2:\", component);\r\n                    if (component.hasOwnProperty('children')) {\r\n                        component.children.map(componentRow => {\r\n                            // console.log(\"component row2:\", componentRow);\r\n                            componentRow.unique && masteruniquevalidation.push({ [designProperties.LABEL]: componentRow.label });\r\n                            componentRow.unique && mastercombinationunique.push({ [componentRow.label]: { [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label } })\r\n\r\n\r\n                            templatePrimaryKey = templatePrimaryKey === \"\" && componentRow.unique ? componentRow.label : templatePrimaryKey;\r\n\r\n                            let filterinputtype = \"text\";\r\n                            let comboDataInputObject = {};\r\n\r\n                            if (componentRow.inputtype === 'combo') {\r\n\r\n                                comboDataInputObject = {\r\n                                    \"predefinedtablename\": componentRow.source,\r\n                                    \"predefinedvaluemember\": componentRow.valuemember,\r\n                                    \"predefineddisplaymember\": componentRow.displaymember,\r\n                                    \"predefinedismultilingual\": false,\r\n                                    \"predefinedconditionalString\": \"\\\"\" + componentRow.valuemember + \"\\\"\" + \" > '0' \"\r\n                                };\r\n                                jnumericcolumns.push({\r\n                                    \"columnname\": componentRow.displaymember,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"foriegntablePK\": componentRow.label,\r\n                                    // \"ismultilingual\": true,\r\n                                    // \"conditionstring\": \" and nformcode in (\"+componentRow.table.item.nformcode+\") \",\r\n                                    \"tablecolumnname\": componentRow.valuemember,\r\n                                    \"foriegntablename\": componentRow.source,\r\n                                    ...comboDataInputObject\r\n                                })\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"viewvaluemember\": componentRow.label,\r\n                                    \"valuemember\": componentRow.valuemember,\r\n                                    \"displaymember\": componentRow.displaymember,\r\n                                    \"mastertablename\": componentRow.source,\r\n                                    \"needmasterdata\": true,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                                filterinputtype = \"predefinednumeric\";\r\n                            }\r\n                            // samplesearchfields.push(componentRow.label)\r\n                            if (componentRow.inputtype === 'date') {\r\n                                filterinputtype = \"date\";\r\n                                masterdatefields.push({ [designProperties.VALUE]: componentRow.label, dateonly: componentRow.dateonly || false });\r\n                                masterdateconstraints = componentRow.dateConstraintArraySQL ? [...componentRow.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"columntype\": 2,\r\n                                    \"columntypedesc\": \"datetime\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n\r\n                            }\r\n                            if (componentRow.inputtype === 'Numeric' || componentRow.inputtype === 'radio') {\r\n                                filterinputtype = \"numeric\";\r\n\r\n                                if (componentRow.inputtype === 'Numeric') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 5,\r\n                                        \"columntypedesc\": \"numericinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n\r\n\r\n                            }\r\n\r\n                            if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email'\r\n                                || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": componentRow.label,\r\n                                    \"displayname\": componentRow.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                            }\r\n\r\n                            jdynamiccolumns.push({\r\n                                default: componentRow.unique ? true : false,\r\n                                filterinputtype,\r\n                                columnname: componentRow.label,\r\n                                displayname: componentRow.displayname,\r\n                                ...comboDataInputObject\r\n                            })\r\n                            // displayFields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            // componentRow.templatemandatory && listItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            if (componentRow.mandatory || componentRow.templatemandatory) {\r\n                                gridItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                                sampleAuditEditable.push(componentRow.label);\r\n                            }\r\n                            else {\r\n                                gridMoreItem.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label });\r\n                            }\r\n                            mastertemplatefields.push({ [designProperties.LABEL]: componentRow.displayname, [designProperties.VALUE]: componentRow.label })\r\n                            sampleAuditFields.push(componentRow.label);\r\n                            sampleAuditMultilingualFields.push({ [componentRow.label]: componentRow.displayname });\r\n\r\n\r\n                            if (componentRow.templatemandatory) {\r\n                                editable.push({ label: componentRow.label, editableuntill: [] })\r\n                            }\r\n                            else {\r\n                                editable.push({ label: componentRow.label, editableuntill: [transactionStatus.DRAFT] })\r\n                            }\r\n\r\n                            return null;\r\n                        })\r\n                    } else {\r\n                        //console.log(\"component2:\", component);\r\n                        component.unique && masteruniquevalidation.push({ [designProperties.LABEL]: component.label });\r\n                        component.unique && mastercombinationunique.push({ [component.label]: { [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label } })\r\n                        templatePrimaryKey = templatePrimaryKey === \"\" && component.unique ? component.label : templatePrimaryKey;\r\n\r\n\r\n                        let filterinputtype = \"text\";\r\n                        let comboDataInputObject = {};\r\n\r\n                        mastertemplatefields.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                        sampleAuditFields.push(component.label);\r\n                        sampleAuditMultilingualFields.push({ [component.label]: component.displayname });\r\n\r\n                        if (component.inputtype === 'combo') {\r\n                            filterinputtype = \"predefinednumeric\";\r\n                            comboDataInputObject = {\r\n                                \"predefinedtablename\": component.source,\r\n                                \"predefinedvaluemember\": component.valuemember,\r\n                                \"predefineddisplaymember\": component.displaymember,\r\n                                \"predefinedismultilingual\": false,\r\n                                \"predefinedconditionalString\": \"\\\"\" + component.valuemember + \"\\\"\" + \" > '0'\"\r\n                            };\r\n                            jnumericcolumns.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"foriegntablePK\": component.label,\r\n                                // \"ismultilingual\": true,\r\n                                //\"conditionstring\": \" and nformcode in (\" + component.table.item.nformcode + \") \",\r\n                                \"tablecolumnname\": component.column.value,\r\n                                \"foriegntablename\": component.source,\r\n                                ...comboDataInputObject\r\n                            })\r\n\r\n                            sampleQuerybuilderViewCondition.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"columntype\": 1,\r\n                                \"viewvaluemember\": component.label,\r\n                                \"valuemember\": component.valuemember,\r\n                                \"displaymember\": component.displaymember,\r\n                                \"mastertablename\": component.source,\r\n                                \"needmasterdata\": true,\r\n                                \"columntypedesc\": \"textinput\",\r\n                            })\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n                        }\r\n                        // samplesearchfields.push(component.label)\r\n                        if (component.inputtype === 'date') {\r\n                            filterinputtype = \"date\";\r\n                            masterdatefields.push({ [designProperties.VALUE]: component.label, dateonly: component.dateonly || false });\r\n                            masterdateconstraints = component.dateConstraintArraySQL ? [...component.dateConstraintArraySQL, ...masterdateconstraints] : masterdateconstraints;\r\n\r\n                            sampleQuerybuilderViewCondition.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"columntype\": 2,\r\n                                \"columntypedesc\": \"datetime\",\r\n                            })\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n                        }\r\n                        if (component.inputtype === 'numeric' || component.inputtype === 'radio') {\r\n                            filterinputtype = \"numeric\";\r\n                            if (component.inputtype === 'Numeric') {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 5,\r\n                                    \"columntypedesc\": \"numericinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n                        }\r\n\r\n                        if (component.inputtype === 'textinput' || component.inputtype === 'email'\r\n                            || component.inputtype === 'textarea' || component.inputtype === 'radio') {\r\n\r\n                            sampleQuerybuilderViewCondition.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"columntype\": 1,\r\n                                \"columntypedesc\": \"textinput\",\r\n                            })\r\n\r\n                            sampleQuerybuilderViewSelect.push({\r\n                                \"columnname\": component.label,\r\n                                \"displayname\": component.displayname,\r\n                                \"languagecode\": false\r\n                            })\r\n\r\n                        }\r\n\r\n                        jdynamiccolumns.push({\r\n                            default: component.unique ? true : false,\r\n                            columnname: component.label,\r\n                            displayname: component.displayname,\r\n                            filterinputtype,\r\n                            ...comboDataInputObject\r\n                        });\r\n\r\n                        if (component.mandatory || component.templatemandatory) {\r\n                            gridItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label })\r\n                            sampleAuditEditable.push(component.label);\r\n                        } else {\r\n                            gridMoreItem.push({ [designProperties.LABEL]: component.displayname, [designProperties.VALUE]: component.label });\r\n                        }\r\n                        if (component.templatemandatory) {\r\n                            editable.push({ label: component.label, editableuntill: [] });\r\n\r\n                        }\r\n                        else {\r\n                            editable.push({ label: component.label, editableuntill: [transactionStatus.DRAFT] })\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                })\r\n            })\r\n        );\r\n\r\n\r\n        if (subSampleCheck) {\r\n            subSampleTemplate && subSampleTemplate.jsondata.map(row =>\r\n                row.children && row.children.map(column => {\r\n                    column.children && column.children.map((component, index) => {\r\n                        //console.log(\"component2:\", component);\r\n                        if (component.hasOwnProperty('children')) {\r\n                            component.children.map(componentRow => {\r\n\r\n                                if (componentRow.inputtype === 'combo') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 1,\r\n                                        \"viewvaluemember\": componentRow.label,\r\n                                        \"valuemember\": componentRow.valuemember,\r\n                                        \"displaymember\": componentRow.displaymember,\r\n                                        \"mastertablename\": componentRow.source,\r\n                                        \"needmasterdata\": true,\r\n                                        \"columntypedesc\": \"textinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n                                if (componentRow.inputtype === 'date') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 2,\r\n                                        \"columntypedesc\": \"datetime\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n\r\n\r\n                                }\r\n\r\n                                if (componentRow.inputtype === 'Numeric') {\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 5,\r\n                                        \"columntypedesc\": \"numericinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n                                }\r\n\r\n\r\n\r\n                                if (componentRow.inputtype === 'textinput' || componentRow.inputtype === 'email'\r\n                                    || componentRow.inputtype === 'textarea' || componentRow.inputtype === 'radio') {\r\n\r\n                                    sampleQuerybuilderViewCondition.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"columntype\": 1,\r\n                                        \"columntypedesc\": \"textinput\",\r\n                                    })\r\n\r\n                                    sampleQuerybuilderViewSelect.push({\r\n                                        \"columnname\": componentRow.label,\r\n                                        \"displayname\": componentRow.displayname,\r\n                                        \"languagecode\": false\r\n                                    })\r\n\r\n                                }\r\n                                return null;\r\n                            })\r\n                        } else {\r\n                            if (component.inputtype === 'combo') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"viewvaluemember\": component.label,\r\n                                    \"valuemember\": component.valuemember,\r\n                                    \"displaymember\": component.displaymember,\r\n                                    \"mastertablename\": component.source,\r\n                                    \"needmasterdata\": true,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n                            if (component.inputtype === 'date') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 2,\r\n                                    \"columntypedesc\": \"datetime\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n\r\n                            if (component.inputtype === 'Numeric') {\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 5,\r\n                                    \"columntypedesc\": \"numericinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n                            }\r\n\r\n\r\n                            if (component.inputtype === 'textinput' || component.inputtype === 'email'\r\n                                || component.inputtype === 'textarea' || component.inputtype === 'radio') {\r\n\r\n                                sampleQuerybuilderViewCondition.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"columntype\": 1,\r\n                                    \"columntypedesc\": \"textinput\",\r\n                                })\r\n\r\n                                sampleQuerybuilderViewSelect.push({\r\n                                    \"columnname\": component.label,\r\n                                    \"displayname\": component.displayname,\r\n                                    \"languagecode\": false\r\n                                })\r\n\r\n                            }\r\n                            return null;\r\n                        }\r\n\r\n                    })\r\n                })\r\n            );\r\n\r\n\r\n        }\r\n        let jsondata = {\r\n            griditem: gridItem,\r\n            gridmoreitem: gridMoreItem,\r\n            masterdatefields,\r\n            masterdateconstraints,\r\n            masteruniquevalidation,\r\n            editable,\r\n            mastertemplatefields,\r\n            mastercombinationunique,\r\n            sampleAuditFields,\r\n            sampleAuditEditable,\r\n            sampleAuditMultilingualFields\r\n        }\r\n\r\n        //console.log(\"dynamiccolumns:\", jdynamiccolumns);\r\n        return { jsondata, jdynamiccolumns, jnumericcolumns, templatePrimaryKey, sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect };\r\n    }\r\n\r\n\r\n    approveVersion1 = (approveId) => {\r\n        if (this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED ||\r\n            this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }))\r\n        } else {\r\n            const postParam = {\r\n                inputListName: \"versionData\", selectedObject: \"selectedVersion\",\r\n                primaryKeyField: \"napproveconfversioncode\",\r\n                primaryKeyValue: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n                fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\", \"registrationSubType\",\r\n                    \"registrationSubTypeValue\", \"ApprovalsubtypeList\", \"RegistrationTypeList\", \"RegistrationSubTypeList\"]\r\n            }\r\n\r\n            let { jdynamiccolumns, jnumericcolumns, templatePrimaryKey, sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect } = this.getGridJsondata(this.props.Login.selectedTemplate &&\r\n                this.props.Login.selectedTemplate, this.props.Login.subSampleCheck, this.props.Login.subSampleTemplate);\r\n            const inputData = {\r\n                'approvalconfigversion': {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                    sregsubtypename: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.label : \"\",\r\n                    sviewname: this.state.selectedRecord.sviewname,\r\n                    ndesigntemplatemappingcode: this.state.selectedRecord.ndesigntemplatemappingcode.value,\r\n                    sregtemplatename: this.state.selectedRecord.ndesigntemplatemappingcode.label,\r\n                }, jdynamiccolumns, jnumericcolumns, sprimarykey: templatePrimaryKey,\r\n                sampleQuerybuilderViewCondition, sampleQuerybuilderViewSelect\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n\r\n\r\n            // inputData['jsondata'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam,\r\n                operation: \"updateapprove\"\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, approveId)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"approve\"\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let postParam = undefined;\r\n        if (this.props.Login.operation === \"copy\") {\r\n\r\n            const subTypeCode = this.approvalSubTypeValue.value;\r\n\r\n            const inputData = {\r\n                approvalconfigversion: {\r\n                    napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                    napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                    napprovalsubtypecode: subTypeCode,\r\n                    sversionname: this.state.selectedRecord.sversionname,\r\n                    nregtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regtype'] ? this.state.selectedRecord['regtype'].value : this.state.registrationTypeValue[0].value : -1,\r\n                    nregsubtypecode: subTypeCode === ApprovalSubType.TESTRESULTAPPROVAL ? this.state.selectedRecord['regsubtype'] ? this.state.selectedRecord['regsubtype'].value : this.state.registrationSubTypeValue[0].value : -1,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ntreeversiontempcode: this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1\r\n                }\r\n\r\n            }\r\n            inputData['userinfo'] = this.props.Login.userInfo\r\n            const inputParam = {\r\n                methodUrl: 'ApprovalConfigVersion',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: \"IDS_APPROVALCONFIG\",\r\n                inputData: inputData, postParam, searchRef: this.searchRef,\r\n                operation: \"copy\"\r\n            }\r\n\r\n            const masterData = this.props.Login.masterData;\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData },\r\n                        openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" }), operation: \"copy\"\r\n                    }\r\n                }\r\n\r\n                this.props.updateStore(updateInfo);\r\n\r\n            } else {\r\n\r\n                this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n\r\n            }\r\n\r\n        } else if (this.props.Login.operation === 'approve') {\r\n            this.approveVersion1(this.props.Login.ncontrolcode);\r\n        }\r\n        else {\r\n\r\n            let bool = true;\r\n            let errormessage = [];\r\n            let inputData = {};\r\n            let approvalconfigrole = [];\r\n            let filterDetailCount = 0;\r\n            let validationDetailCount = 0;\r\n            let decisionDetailCount = 0;\r\n            let actionDetailCount = 0;\r\n            inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n            inputData['napprovalconfigcode'] = this.props.Login.masterData.realApprovalConfigCode\r\n            inputData['ntreeversiontempcode'] = this.props.Login.userRoleTree[0].ntreeversiontempcode\r\n            inputData['napprovalsubtypecode'] = this.approvalSubTypeValue.value\r\n            let isAutoApprovalVersion = this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? true : false;\r\n\r\n            const userRoleTree = this.props.Login.userRoleTree;//.reverse();\r\n            userRoleTree.map(role => {\r\n                let approvalconfigrolefilterdetail = [];\r\n                let approvalconfigrolevalidationdetail = [];\r\n                let approvalconfigroledecisiondetail = [];\r\n                let approvalconfigroleactiondetail = [];\r\n                //to fill role details\r\n                if (this.state.selectedRecord[role.nuserrolecode]) {\r\n                    approvalconfigrole.push({\r\n                        napprovalconfigrolecode: this.props.Login.operation === 'create' ? 0 : role.napprovalconfigrolecode,\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        ntreeversiontempcode: role.ntreeversiontempcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nchecklistversioncode: this.state.selectedRecord[role.nuserrolecode] ? this.state.selectedRecord[role.nuserrolecode].checklist ?\r\n                            this.state.selectedRecord[role.nuserrolecode].checklist : transactionStatus.NA : transactionStatus.NA,\r\n                        npartialapprovalneed: this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Partial Approval_' + role.nuserrolecode] : transactionStatus.YES,\r\n                        nsectionwiseapprovalneed: this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode]['IDS_PARTIALAPPROVAL'] === transactionStatus.NO ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] ?\r\n                                this.state.selectedRecord[role.nuserrolecode]['IDS_SECTIONWISEAPPROVE'] : transactionStatus.NO\r\n                            : transactionStatus.NO,\r\n                        // nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRETEST'] : transactionStatus.NO,\r\n                        // nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECOMMENDRECALC'] : transactionStatus.NO,\r\n                        // nretestneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RETEST'] : transactionStatus.NO,\r\n                        // nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] ?\r\n                        //     this.state.selectedRecord[role.nuserrolecode]['IDS_RECALC'] : transactionStatus.NO,\r\n                        // nlevelno: role.nlevelno,\r\n                        nrecomretestneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Retest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecomrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recommend Recalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nretestneed: this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Retest_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nrecalcneed: this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Recalc_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nlevelno: role.nlevelno,\r\n                        napprovalstatuscode: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : transactionStatus.NA,\r\n\r\n                        nautoapproval: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ? transactionStatus.YES :\r\n                            this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] ? this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] : transactionStatus.NO,\r\n\r\n                        nautoapprovalstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].approvalstatus ?\r\n                                this.state.selectedRecord[role.nuserrolecode].approvalstatus\r\n                                : transactionStatus.NA\r\n                        ,\r\n                        nautodescisionstatuscode: this.state.selectedRecord['IDS_AUTOAPPROVAL'] && this.state.selectedRecord['IDS_AUTOAPPROVAL'] === transactionStatus.YES ?\r\n                            this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] : transactionStatus.PASS\r\n                            : this.state.selectedRecord[role.nuserrolecode]['IDS_AUTOAPPROVAL'] && this.state.selectedRecord[role.nuserrolecode].decisionstatus && this.state.selectedRecord[role.nuserrolecode].decisionstatus.length > 0 ?\r\n                                this.state.selectedRecord[role.nuserrolecode].decisionstatus[0] : transactionStatus.DRAFT\r\n                        // :this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus&&this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus.length>0 ?\r\n                        // :transactionStatus.NA\r\n                        ,\r\n                        ncorrectionneed: this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['Correction_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        nesignneed: this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] ?\r\n                            this.state.selectedRecord[role.nuserrolecode]['e-Sign_' + role.nuserrolecode] : transactionStatus.NO,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n\r\n                    })\r\n\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].filterstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].filterstatus.map(filterValue => {\r\n                            filterDetailCount++;\r\n                            approvalconfigrolefilterdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: filterValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].validationstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].validationstatus.map(validationValue => {\r\n                            validationDetailCount++;\r\n                            approvalconfigrolevalidationdetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: validationValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            })\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    if (this.state.selectedRecord[role.nuserrolecode].decisionstatus) {\r\n                        this.state.selectedRecord[role.nuserrolecode].decisionstatus.map(decisionValue => {\r\n                            decisionDetailCount++;\r\n                            approvalconfigroledecisiondetail.push({\r\n                                napprovalconfigcode: role.napprovalconfigcode,\r\n                                nuserrolecode: role.nuserrolecode,\r\n                                nlevelno: role.nlevelno,\r\n                                ntransactionstatus: decisionValue,\r\n                                nstatus: transactionStatus.ACTIVE\r\n                            });\r\n                            return null;\r\n                        })\r\n                    }\r\n\r\n                    this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`] ? this.state.selectedRecord[`actionStatus_${role.nuserrolecode}`].map(actionValue => {\r\n                        actionDetailCount++;\r\n                        approvalconfigroleactiondetail.push({\r\n                            napprovalconfigcode: role.napprovalconfigcode,\r\n                            nuserrolecode: role.nuserrolecode,\r\n                            nlevelno: role.nlevelno,\r\n                            ntransactionstatus: actionValue,\r\n                            nstatus: transactionStatus.ACTIVE\r\n                        });\r\n                        return null;\r\n                    }) : approvalconfigroleactiondetail.push();\r\n                    actionDetailCount++;\r\n                    approvalconfigroleactiondetail.push({\r\n                        napprovalconfigcode: role.napprovalconfigcode,\r\n                        nuserrolecode: role.nuserrolecode,\r\n                        nlevelno: role.nlevelno,\r\n                        ntransactionstatus: this.state.selectedRecord[role.nuserrolecode].approvalstatus ? this.state.selectedRecord[role.nuserrolecode].approvalstatus : -1,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    });\r\n\r\n                    inputData[`approvalconfigrolefilterdetail_${[role.nuserrolecode]}`] = approvalconfigrolefilterdetail\r\n                    inputData[`approvalconfigrolevalidationdetail_${[role.nuserrolecode]}`] = approvalconfigrolevalidationdetail\r\n                    inputData[`approvalconfigroledecisiondetail_${[role.nuserrolecode]}`] = approvalconfigroledecisiondetail\r\n                    inputData[`approvalconfigroleactiondetail_${[role.nuserrolecode]}`] = approvalconfigroleactiondetail\r\n                    bool = bool ? true : false\r\n                    return null;\r\n                } else {\r\n                    bool = false\r\n                    errormessage.push(role.suserrolename)\r\n                    return false;\r\n                }\r\n            })//role map\r\n\r\n            inputData['approvalconfigrole'] = approvalconfigrole\r\n            inputData['rolecount'] = this.props.Login.userRoleTree.length\r\n            inputData['filterdetailcount'] = filterDetailCount\r\n            inputData['validationdetailcount'] = validationDetailCount\r\n            inputData['decisiondetailcount'] = decisionDetailCount\r\n            inputData['actioncount'] = actionDetailCount\r\n            inputData['ntreeversiontempcode'] = this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -1;\r\n            let finalInputData = {}\r\n            let inputParam = {}\r\n            if (bool) {\r\n                if (this.props.Login.operation === \"update\") {\r\n                    // edit\r\n                    postParam = { inputListName: \"versionData\", selectedObject: \"selectedVersion\", primaryKeyField: \"napproveconfversioncode\" };\r\n\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n\r\n\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigversioncode: this.props.Login.masterData.selectedVersion.napproveconfversioncode,\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        //  nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                else {\r\n\r\n\r\n                    inputData['approveconfigversion'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        napproveconfversionno: -1,\r\n                        ntransactionstatus: transactionStatus.DRAFT,\r\n                        ntreeversiontempcode: this.props.Login.userRoleTree[0].ntreeversiontempcode,\r\n                        sapproveconfversiondesc: '-',\r\n                        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n                        nstatus: transactionStatus.ACTIVE\r\n                    }\r\n                    const temp1 = {};\r\n                    this.props.Login.versionConfig.map(temp => {\r\n                        if (temp.ntranscode === transactionStatus.AUTOAPPROVAL) {\r\n                            temp1['nneedautoapproval'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n                        else if (temp.ntranscode === transactionStatus.AUTOCOMPLETE) {\r\n                            temp1['nneedautocomplete'] = this.state.selectedRecord[temp.stransdisplaystatus] ? this.state.selectedRecord[temp.stransdisplaystatus] : transactionStatus.NO\r\n                        }\r\n\r\n\r\n\r\n                    })\r\n                    inputData['approvalconfigautoapproval'] = {\r\n                        napprovalconfigcode: this.props.Login.masterData.realApprovalConfigCode,\r\n                        sversionname: this.state.selectedRecord.sversionname,\r\n                        // nneedautocomplete: this.state.selectedRecord['Auto Complete'] ? this.state.selectedRecord['Auto Complete'] : transactionStatus.NO,\r\n                        //  nneedautoapproval: this.state.selectedRecord['Auto Approval'] ? this.state.selectedRecord['Auto Approval'] : transactionStatus.NO,\r\n                        nautoapprovalstatus: this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus ? this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].approvalstatus : transactionStatus.NA,\r\n                        nautodescisionstatus: isAutoApprovalVersion ? transactionStatus.PASS : this.props.Login.userRoleTree && this.props.Login.userRoleTree.length > 0 && this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus ? (this.state.selectedRecord[this.props.Login.userRoleTree[0].nuserrolecode].decisionstatus[0] || transactionStatus.DRAFT) : transactionStatus.DRAFT,\r\n                        nautoallot: this.state.selectedRecord['IDS_AUTOALLOT'] ? this.state.selectedRecord['IDS_AUTOALLOT'] : transactionStatus.NO,\r\n                        nneedjoballocation: this.state.selectedRecord['IDS_JOBALLOCATION'] ? this.state.selectedRecord['IDS_JOBALLOCATION'] : transactionStatus.NO,\r\n                        nstatus: transactionStatus.ACTIVE,\r\n                        ...temp1\r\n                    }\r\n                }\r\n                finalInputData['approvalconfigversion'] = inputData\r\n                finalInputData['userinfo'] = this.props.Login.userInfo\r\n                inputParam = {\r\n                    methodUrl: 'ApprovalConfigVersion',\r\n                    classUrl: this.props.Login.inputParam.classUrl,\r\n                    displayName: \"IDS_APPROVALCONFIG\",\r\n                    inputData: finalInputData, saveType, formRef,\r\n                    operation: this.props.Login.operation,\r\n                    postParam, searchRef: this.searchRef\r\n\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                            openModal: true, operation: this.props.Login.operation, screenName: this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                }\r\n                else {\r\n                    this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FILLDETAILSFOR\" }) + \" \" + errormessage.join(\",\"))\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let versionStatusCSS = \"outline-secondary\";\r\n        if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.APPROVED) {\r\n            versionStatusCSS = \"outline-success\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedVersion && this.props.Login.masterData.selectedVersion.ntransactionstatus === transactionStatus.RETIRED) {\r\n            versionStatusCSS = \"outline-danger\";\r\n        }\r\n        const editId = this.state.controlMap.has(\"EditApprovalConfig\") && this.state.controlMap.get(\"EditApprovalConfig\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteApprovalConfig\") && this.state.controlMap.get(\"DeleteApprovalConfig\").ncontrolcode\r\n        const approveId = this.state.controlMap.has(\"ApproveApprovalConfig\") && this.state.controlMap.get(\"ApproveApprovalConfig\").ncontrolcode\r\n        const copyId = this.state.controlMap.has(\"CopyApprovalConfig\") && this.state.controlMap.get(\"CopyApprovalConfig\").ncontrolcode\r\n        const addId = this.state.controlMap.has(\"AddApprovalConfig\") && this.state.controlMap.get(\"AddApprovalConfig\").ncontrolcode\r\n\r\n        this.approvalSubTypeValue = this.props.Login.masterData.realApprovalSubTypeValue ?\r\n            this.props.Login.masterData.realApprovalSubTypeValue\r\n            : this.props.Login.masterData.approvalSubTypeValue ?\r\n                this.props.Login.masterData.approvalSubTypeValue\r\n                : this.props.Login.masterData.approvalsubtype ? this.props.Login.masterData.approvalsubtype.length > 0 ?\r\n                    {\r\n                        value: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].napprovalsubtypecode,\r\n                        label: sortData(this.props.Login.masterData.approvalsubtype, 'ascending', 'napprovalsubtypecode')[0].ssubtypename\r\n                    } : {} : {};\r\n\r\n        const filterParam = {\r\n            inputListName: \"versionData\",\r\n            selectedObject: \"selectedVersion\",\r\n            primaryKeyField: \"napproveconfversioncode\",\r\n            searchFieldList: [\"sversionname\", \"sversionstatus\", \"sapproveconfversiondesc\"],\r\n            fetchUrl: \"approvalconfig/getApprovalConfigVersion\",\r\n            fecthInputObject: { napprovalsubtypecode: this.approvalSubTypeValue.value, userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            sortField: \"napproveconfversioncode\", sortOrder: \"descending\",\r\n\r\n            //NIBSCRT-2294\r\n            unchangeList: [\"approvalsubtype\", \"approvalSubTypeValue\", \"registrationType\", \"registrationTypeValue\",\r\n                \"registrationSubType\", \"registrationSubTypeValue\", \"ApprovalsubtypeList\",\r\n                \"RegistrationTypeList\", \"RegistrationSubTypeList\", \"treeVersionTemplate\", \"userroleTemplateValue\",\r\n                \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\",\r\n                \"realTreeVersionTemplateValue\", \"approvalConfigCode\", \"realApprovalConfigCode\"]\r\n        };\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n\r\n        const mandatoryFields = [{ \"idsName\": \"IDS_VERSIONNAME\", \"dataField\": \"sversionname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" }]\r\n        this.props.Login.operation !== 'copy' && this.props.Login.userRoleTree && this.props.Login.userRoleTree.map(role => {\r\n            mandatoryFields.push({ \"idsName\": \"IDS_APPROVALSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `approvalstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_FILTERSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `filterstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            mandatoryFields.push({ \"idsName\": \"IDS_VALIDATIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `validationstatus_${role.nuserrolecode}`, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" });\r\n            if (this.props.Login.decisionStatusOptions && this.props.Login.decisionStatusOptions.length > 0) {\r\n                mandatoryFields.push({ \"idsName\": \"IDS_DECISIONSTATUS\", \"alertSuffix\": ` - ${role.suserrolename}`, \"dataField\": `decisionstatus_${role.nuserrolecode}` });\r\n            }\r\n            return null;\r\n        });\r\n        let breadCrumbData = []\r\n        if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ];\r\n        } else {\r\n            breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                }, {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.label : \"NA\"\r\n                }\r\n            ]\r\n        }\r\n        // console.log(\"this.approvalSubTypeValue:\", Object.keys(this.approvalSubTypeValue).length);\r\n       // console.log(\"this.props.Login.masterData.:\", this.props.Login.masterData);\r\n        const masterList = sortData((this.props.Login.masterData.searchedData || this.props.Login.masterData.versionData), \"descending\", \"napproveconfversioncode\");\r\n        //console.log(\"masterList:\", masterList);\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                    <Affix top={53}>\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                    </Affix>\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_APPROVALCONFIG\" })}\r\n                                masterList={masterList}\r\n                                getMasterDetail={(version) => this.props.getApprovalConfigVersion(version, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedVersion}\r\n                                primaryKeyField=\"napproveconfversioncode\"\r\n                                mainField=\"sversionname\"\r\n                                firstField=\"sapproveconfversiondesc\"\r\n                                secondField=\"sversionstatus\"\r\n                                isIDSField=\"Yes\"\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                openModal={() => this.props.openModal(\"create\", this.props.Login.masterData.realApprovalConfigCode, this.approvalSubTypeValue.value,\r\n                                    this.props.Login.userInfo, addId, this.props.Login.masterData.realTreeVersionTemplateValue ? this.props.Login.masterData.realTreeVersionTemplateValue.value : -10)}\r\n                                needAccordianFilter={false}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={true}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.getApprovalConfigurationVersion}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_SAMPLEFILTER\":\r\n                                            <SampleFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                filterComboChange={this.onFilterComboChange}\r\n                                                approvalSubTypeOptions={this.state.ApprovalsubtypeList}\r\n                                                approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                                                registrationTypeOptions={this.state.RegistrationTypeList}\r\n                                                registrationTypeValue={this.props.Login.masterData.registrationTypeValue}\r\n                                                registrationSubTypeOptions={this.state.RegistrationSubTypeList}\r\n                                                registrationSubTypeValue={this.props.Login.masterData.registrationSubTypeValue}\r\n                                                userroleTemplateOptions={this.state.UserRoleTemplateList}\r\n                                                userroleTemplateValue={this.props.Login.masterData.userroleTemplateValue}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={8}>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Card className=\"border-0\">\r\n                                    {this.props.Login.masterData.selectedVersion ? Object.entries(this.props.Login.masterData.selectedVersion).length > 0 ?\r\n                                        <>\r\n                                            <Card.Header>\r\n                                                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" /> */}\r\n                                                <Card.Title>\r\n                                                    <h1 className=\"product-title-main\">{this.props.Login.masterData.selectedVersion.sversionname}</h1>\r\n                                                </Card.Title>\r\n                                                <Card.Subtitle className=\"readonly-text font-weight-normal\">\r\n                                                    <Row>\r\n                                                        <Col md={8} >\r\n                                                            <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                                {`${this.props.intl.formatMessage({ id: \"IDS_VERSIONNO\" })}:${this.props.Login.masterData.selectedVersion.sapproveconfversiondesc}`}\r\n                                                                <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                                                                    {/* <i class=\"fas fa-check \"></i>  */}\r\n                                                                    {this.props.Login.masterData.selectedVersion.sversionstatus}\r\n                                                                </span>\r\n                                                            </h2>\r\n                                                        </Col>\r\n                                                        <Col md={4}>\r\n                                                            <>\r\n                                                                <div className=\"d-flex product-category\" style={{ float: \"right\" }}>\r\n                                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                                    <div className=\"d-inline \">\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.getApprovalConfigEditData(this.props.Login.masterData.selectedVersion.napproveconfversioncode, this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, editId)}>\r\n                                                                            <FontAwesomeIcon icon={faPencilAlt} title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                            onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                            <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                            {/* <ConfirmDialog\r\n                                                                        name=\"deleteMessage\"\r\n                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                        icon={faTrashAlt}\r\n                                                                        //title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        handleClickDelete={() => this.deleteApprovalConfigVersion(deleteId)}\r\n                                                                    /> */}\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                                                                            // data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.approveVersion(approveId)}>\r\n                                                                            <FontAwesomeIcon icon={faThumbsUp} />\r\n                                                                        </Nav.Link>\r\n                                                                        <Nav.Link\r\n                                                                            hidden={this.state.userRoleControlRights.indexOf(copyId) === -1}\r\n                                                                            className=\"btn btn-circle outline-grey mr-2\"\r\n                                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_COPY\" })}\r\n                                                                            //  data-for=\"tooltip_list_wrap\"\r\n                                                                            onClick={() => this.props.copyVersion(this.approvalSubTypeValue.value, this.props.Login.userInfo, this.props.Login.masterData, copyId)}>\r\n                                                                            <FontAwesomeIcon icon={faCopy} title={this.props.intl.formatMessage({ id: \"IDS_COPY\" })} />\r\n                                                                        </Nav.Link>\r\n                                                                    </div>\r\n                                                                    {/* </Tooltip> */}\r\n                                                                </div>\r\n                                                            </>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Card.Text>\r\n                                                    <Row>\r\n                                                        {this.props.Login.masterData.versionConfig ? this.props.Login.masterData.versionConfig.map(item =>\r\n                                                            <Col md=\"6\">\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id={item.stransdisplaystatus} /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedVersion[`${item.ntranscode}`]}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                        ) : \"\"}\r\n                                                    </Row>\r\n                                                    <Row>\r\n                                                        {this.props.Login.masterData.approvalSubTypeValue && this.props.Login.masterData.approvalSubTypeValue !== undefined \r\n                                                                    && this.props.Login.masterData.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ?\r\n                                                            <>\r\n                                                            <Col md=\"6\">\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id={\"IDS_VIEWNAME\"} /></FormLabel>\r\n                                                                    <ReadOnlyText>{\r\n                                                                            this.props.Login.masterData.selectedVersion.sviewname === \"\" ? '-' \r\n                                                                            : this.props.Login.masterData.selectedVersion.sviewname}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            <Col md=\"6\">\r\n                                                                <FormGroup>\r\n                                                                    <FormLabel><FormattedMessage id={\"IDS_TEMPLATEMAPPINGVERSION\"} /></FormLabel>\r\n                                                                    <ReadOnlyText>{this.props.Login.masterData.selectedVersion.stemplatemappingversion}</ReadOnlyText>\r\n                                                                </FormGroup>\r\n                                                            </Col>\r\n                                                            </>\r\n                                                            : \"\"}\r\n                                                    </Row>\r\n                                                </Card.Text>\r\n                                                <Row oGutters={true}>\r\n                                                    <Col md={12}>\r\n                                                        <Card className=\"at-tabs\">\r\n                                                            {this.props.Login.masterData ? this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 ?\r\n                                                                <CustomAccordion\r\n                                                                    key=\"UserRoles\"\r\n                                                                    accordionTitle=\"suserrolename\"\r\n                                                                    accordionComponent={this.userRoleAccordion(this.props.Login.masterData.approvalconfigRoleNames)}\r\n                                                                    inputParam={{ masterData: this.props.Login.masterData, userinfo: this.props.Login.userInfo, napprovalsubtypecode: this.approvalSubTypeValue.value }}\r\n                                                                    accordionClick={this.props.getRoleDetails}\r\n                                                                    accordionPrimaryKey={\"napprovalconfigrolecode\"}\r\n                                                                    accordionObjectName={\"role\"}\r\n                                                                    selectedKey={selectedRole.napprovalconfigrolecode}\r\n\r\n                                                                />\r\n                                                                : \"\" : \"\"}\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card.Body>\r\n                                        </>\r\n                                        : \"\" : \"\"}\r\n                                </Card>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openModal ?\r\n                    <SlideOutModal\r\n                        onSaveClick={this.onSaveClick}\r\n                        operation={this.props.Login.operation}\r\n                        screenName={\"IDS_APPROVALCONFIG\"}\r\n                        closeModal={this.handleClose}\r\n                        show={this.props.Login.openModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={this.props.Login.operation === 'approve' ? [{ \"idsName\": \"IDS_VIEWNAME\", \"dataField\": \"sviewname\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                        { \"idsName\": \"IDS_TEMPLATEMAPPING\", \"dataField\": \"ndesigntemplatemappingcode\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"combo\" }] : mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            : this.props.Login.operation === 'approve' ?\r\n                                <>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <FormSelectSearch\r\n                                                name={\"ndesigntemplatemappingcode\"}\r\n                                                formLabel={this.props.intl.formatMessage({ id: \"IDS_TEMPLATEMAPPING\" })}\r\n                                                placeholder=\"Please Select...\"\r\n                                                options={this.props.Login.designTemplateMapping}\r\n                                                // optionId=\"ntimezonecode\"\r\n                                                // optionValue=\"stimezoneid\"\r\n                                                value={this.state.selectedRecord[\"ndesigntemplatemappingcode\"]}\r\n                                                //defaultValue={props.selectedRecord[\"ndesigntemplatemapping\"]}\r\n                                                isMandatory={true}\r\n                                                isMulti={false}\r\n                                                isSearchable={false}\r\n                                                isClearable={false}\r\n                                                isDisabled={true}\r\n                                                closeMenuOnSelect={true}\r\n                                                onChange={(event) => this.onComboChange(event, 'ndesigntemplatemappingcode')}\r\n                                            />\r\n                                            <FormInput\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                name={\"sviewname\"}\r\n                                                type=\"text\"\r\n                                                onChange={(event) => this.onInputOnChange(event)}\r\n                                                placeholder={this.props.intl.formatMessage({ id: \"IDS_VIEWNAME\" })}\r\n                                                value={this.state.selectedRecord[\"sviewname\"]}\r\n                                                isMandatory={true}\r\n                                                //required={true}\r\n                                                maxLength={100}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                    </Row>\r\n                                </>\r\n                                :\r\n                                <AddApprovalConfig\r\n                                    selectedRecord={this.state.selectedRecord ? this.state.selectedRecord : {}}\r\n                                    userRoleTree={this.props.Login.userRoleTree}\r\n                                    approvalSubTypeValue={this.approvalSubTypeValue}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    approvalStatusOptions={this.props.Login.approvalStatusOptions}\r\n                                    approvalStatusValue={this.props.Login.approvalStatusValue}\r\n                                    filterStatusOptions={this.props.Login.filterStatusOptions}\r\n                                    filterStatusValues={this.props.Login.filterStatusValues}\r\n                                    topLevelValidStatusOptions={this.props.Login.topLevelValidStatusOptions}\r\n                                    validationStatusOptions={this.props.Login.validationStatusOptions}\r\n                                    validationStatusValues={this.props.Login.validationStatusValues}\r\n                                    decisionStatusOptions={this.props.Login.decisionStatusOptions}\r\n                                    decisionStatusValues={this.props.Login.decisionStatusValues}\r\n                                    actionStatus={this.props.Login.actionStatus}\r\n                                    checklistOptions={this.props.Login.checklistOptions}\r\n                                    checklistValues={this.props.Login.checklistValues}\r\n                                    roleConfig={this.props.Login.roleConfig}\r\n                                    versionConfig={this.props.Login.versionConfig}\r\n                                    operation={this.props.Login.operation}\r\n                                    nsubType={this.approvalSubTypeValue.value}\r\n                                    registrationTypeOptions={this.props.Login.optCopyRegType}\r\n                                    registrationTypeValue={this.state.registrationTypeValue}\r\n                                    registrationSubTypeOptions={this.props.Login.optCopyRegSubType}\r\n                                    registrationSubTypeValue={this.state.registrationSubTypeValue}\r\n                                    selectedVersion={this.props.Login.masterData.selectedVersion}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />}\r\n                    />\r\n                    : \"\"}\r\n            </>\r\n        );\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteApprovalConfigVersion(deleteId));\r\n    }\r\n    componentDidUpdate(previousProps) {\r\n        let { selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n            RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState } = this.state;\r\n        let updateState = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            // const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode','ascending', false);\r\n            // const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'ascending', 'nregtypecode', false);\r\n            // const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'ascending', 'nregsubtypecode', false);\r\n            const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            //this.setState({  RegistrationTypeList,RegistrationSubTypeList,templateVersionOptionList});  \r\n            // RegistrationTypeList=this.props.Login.masterData.RegistrationTypeList\r\n            // RegistrationSubTypeList=this.props.Login.masterData.RegistrationSubTypeList\r\n\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.registrationType || [], \"nregtypecode\", \"sregtypename\", 'nsorter', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.registrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nsorter', 'ascending', false);\r\n            const UserRoleTemplateListMap = constructOptionList(this.props.Login.masterData.treeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntransactionstatus', 'descending', false);\r\n\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            UserRoleTemplateList = UserRoleTemplateListMap.get(\"OptionList\");\r\n            updateState = true;\r\n\r\n            // if (this.props.dataState === undefined) {\r\n            //     filterStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            //     validationStatusState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n            // }\r\n        }\r\n        if (updateState) {\r\n            this.setState({\r\n                selectedRecord, userRoleControlRights, controlMap, ApprovalsubtypeList,\r\n                RegistrationTypeList, RegistrationSubTypeList, UserRoleTemplateList, filterStatusState, validationStatusState\r\n            })\r\n        }\r\n    }\r\n    onInputOnChange = (event, role, action) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = event.target.name.split('_')[0] + '_' + event.target.name.split('_')[1]\r\n            let actionArray = selectedRecord[`actionStatus_${role.nuserrolecode}`] || [];\r\n            if (event.target.type === 'checkbox') {\r\n                if (action) {\r\n                    if (event.target.checked) {\r\n                        actionArray.push(action.ntranscode);\r\n                    } else {\r\n                        actionArray.splice(actionArray.indexOf(action.ntranscode), 1)\r\n                    }\r\n                    selectedRecord[`actionStatus_${role.nuserrolecode}`] = actionArray\r\n                }\r\n                roleDetails[fieldName] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO\r\n                if (fieldName === 'IDS_PARTIALAPPROVAL' && roleDetails[\"IDS_PARTIALAPPROVAL\"] && roleDetails[\"IDS_PARTIALAPPROVAL\"] === transactionStatus.YES) {\r\n                    roleDetails['IDS_SECTIONWISEAPPROVE'] = transactionStatus.NO\r\n                }\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            else {\r\n                roleDetails[fieldName] = event.target.value\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n        }\r\n        else {\r\n            if (event.target.type === 'checkbox') {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                if (event.target.name === 'sviewname') {\r\n                    selectedRecord[event.target.name] = event.target.value.replace(/[^\\w\\s]/gi, \"\")\r\n\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n\r\n            }\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, role, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (role) {\r\n            let roleDetails = this.state.selectedRecord[role.nuserrolecode] || {}\r\n            const fieldName = comboName.split('_')[0]\r\n            let filterArray = [];\r\n            roleDetails[fieldName] = [];\r\n            if (comboData) {\r\n                selectedRecord[comboName] = comboData\r\n                if (fieldName === 'checklist') {\r\n                    selectedRecord[`checklistVersion_${role.nuserrolecode}`] = { label: comboData.item.schecklistversionname, value: comboData.item.nchecklistversioncode }\r\n                    filterArray = comboData.item.nchecklistversioncode;\r\n\r\n                } else {\r\n                    if (Array.isArray(comboData)) {\r\n                        comboData.map(item => {\r\n                            return (filterArray.push(item.value))\r\n                        })\r\n                    } else {\r\n                        filterArray = comboData.value;\r\n                    }\r\n                }\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            } else {\r\n                selectedRecord[comboName] = []\r\n                filterArray = []\r\n                roleDetails[fieldName] = filterArray\r\n                selectedRecord[role.nuserrolecode] = roleDetails\r\n            }\r\n            this.setState({ selectedRecord });\r\n        } else {\r\n            selectedRecord[comboName] = comboData\r\n\r\n            if (comboName === 'regtype') {\r\n                this.props.getCopySubType(comboData, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType)\r\n            } else {\r\n                this.setState({ selectedRecord });\r\n            }\r\n\r\n        }\r\n    }\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n        let approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue;\r\n        let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\r\n        let registrationSubTypeValue;\r\n\r\n        if (comboData) {\r\n\r\n            selectedRecord[fieldName] = comboData.value;\r\n            let inputData = {};\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                approvalSubTypeValue = comboData\r\n                inputData = { nFlag: 2, napprovalsubtypecode: comboData.value, userinfo: this.props.Login.userInfo };\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = comboData\r\n                inputData = { nFlag: 3, napprovalsubtypecode: approvalSubTypeValue.value, nregtypecode: comboData.value, userinfo: this.props.Login.userInfo }\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = comboData\r\n                inputData = {\r\n                    nFlag: 4, napprovalsubtypecode: approvalSubTypeValue.value,\r\n                    nregtypecode: registrationTypeValue.value,\r\n                    nregsubtypecode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n            if (fieldName === 'ntreeversiontempcode') {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        masterData: {\r\n                            ...this.props.Login.masterData,\r\n                            userroleTemplateValue: comboData\r\n                        }\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            } else {\r\n                const oldState = {\r\n                    approvalsubtype: this.props.Login.masterData.approvalsubtype,\r\n                    registrationtype: this.props.Login.masterData.registrationType,\r\n                    registrationsubtype: this.props.Login.masterData.registrationSubType,\r\n                    approvalSubTypeValue,\r\n                    registrationTypeValue,\r\n                    registrationSubTypeValue,\r\n                    RegistrationTypeList: this.state.RegistrationTypeList,\r\n                    RegistrationSubTypeList: this.state.RegistrationSubTypeList,\r\n                }\r\n                let inputParamData = { inputData, masterData: this.props.Login.masterData }\r\n                this.props.getFilterChange(inputParamData, oldState)\r\n            }\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = \"\";\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = []\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n\r\n            } else {\r\n\r\n                registrationSubTypeValue = []\r\n\r\n            }\r\n\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n        // this.searchRef.current.value = \"\"\r\n\r\n    }\r\n    getApprovalConfigurationVersion = () => {\r\n        if (this.props.Login.masterData.approvalSubTypeValue) {\r\n            //this.searchRef.current.value = \"\"\r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n\r\n            }\r\n            const inputData = {\r\n                napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                    this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\r\n                ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            let inputParamData = { inputData, masterData, searchRef: this.searchRef }\r\n            this.props.getApprovalConfigurationVersion(inputParamData);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        // this.searchRef.current.value = \"\";\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"approvalconfig\",\r\n        //     methodUrl: \"ApprovalConfigFilter\",\r\n        //     userInfo: this.props.Login.userInfo,\r\n        //     displayName: \"IDS_APPROVALCONFIG\"\r\n        // };\r\n        // this.props.callService(inputParam);\r\n        this.getApprovalConfigurationVersion()\r\n    }\r\n    userRoleAccordion = (userRoleList) => {\r\n        const accordionMap = new Map();\r\n        userRoleList = sortData(userRoleList, 'ascending', 'nlevelno')\r\n        userRoleList.map((role) =>\r\n            accordionMap.set(role.napprovalconfigrolecode,\r\n                <UserRoleAccordion\r\n                    role={role}\r\n                    roleConfig={this.props.Login.masterData.roleConfig}\r\n                    userRoleControlRights={this.state.userRoleControlRights}\r\n                    controlMap={this.state.controlMap}\r\n                    userInfo={this.props.Login.userInfo}\r\n                    masterData={this.props.Login.masterData}\r\n                    deleteRecord={this.deleteRecord}\r\n                    tabDetail={this.tabDetail(role)}\r\n                    onTabOnChange={this.onTabOnChange}\r\n                    approvalSubTypeValue={this.props.Login.masterData.approvalSubTypeValue}\r\n                />)\r\n        )\r\n        return accordionMap;\r\n    }\r\n    tabDetail = () => {\r\n        const selectedRole = this.props.Login.masterData.selectedRole ? this.props.Login.masterData.selectedRole : this.props.Login.masterData.approvalconfigRoleNames && this.props.Login.masterData.approvalconfigRoleNames.length > 0 && sortData(this.props.Login.masterData.approvalconfigRoleNames, 'ascending', 'nlevelno')[0]\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILTERSTATUS\",\r\n            <FilterStatusTab\r\n                filterData={process(this.props.Login.masterData.roleFilters ?\r\n                    // sortData(this.props.Login.masterData.roleFilters) : [],\r\n                    // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                    sortData(this.props.Login.masterData.roleFilters) : [], this.state.filterStatusState)}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.filterStatusState}\r\n                dataStateChange={(event) => this.setState({ filterStatusState: event.dataState })}\r\n                screenName=\"IDS_FILTERSTATUS\"\r\n            />\r\n        )\r\n\r\n        tabMap.set(\"IDS_VALIDATIONSTATUS\",\r\n            <ValidationStatusTab\r\n                validationStatus={process(this.props.Login.masterData.roleValidations ?\r\n                    sortData(this.props.Login.masterData.roleValidations) : [], this.state.validationStatusState)}\r\n                // sortData(this.props.Login.masterData.roleValidations) : [],\r\n                // { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                dataState={this.state.validationStatusState}\r\n                dataStateChange={(event) => this.setState({ validationStatusState: event.dataState })}\r\n                screenName=\"IDS_VALIDATIONSTATUS\"\r\n            />)\r\n        // if (this.props.Login.masterData.roleDecisions && this.props.Login.masterData.roleDecisions.length > 0) {\r\n        //     tabMap.set(\"IDS_DECISIONSTATUS\",\r\n        //         <DecisionStatusTab\r\n        //             decisionData={process(this.props.Login.masterData.roleDecisions ? sortData(this.props.Login.masterData.roleDecisions) : [],\r\n        //                 { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n        //             setDefault={this.props.setDefault}\r\n        //             selectedRole={selectedRole}\r\n        //             napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n        //             userInfo={this.props.Login.userInfo}\r\n        //             masterData={this.props.Login.masterData}\r\n        //             screenName=\"IDS_DECISIONSTATUS\"\r\n        //         />)\r\n        // }\r\n        tabMap.set(\"IDS_ACTIONSTATUS\",\r\n            <ActionStatusTab\r\n                actionData={process(this.props.Login.masterData.roleActions ? sortData(this.props.Login.masterData.roleActions) : [],\r\n                    { skip: this.state.dataState.skip, take: this.state.dataState.take })}\r\n                setDefault={this.props.setDefault}\r\n                selectedRole={selectedRole}\r\n                napprovalsubtypecode={this.approvalSubTypeValue.value}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterData={this.props.Login.masterData}\r\n                screenName=\"IDS_ACTIONSTATUS\"\r\n            />)\r\n        return tabMap;\r\n    }\r\n    onTabOnChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n}\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, openModal, updateStore, getApprovalConfigVersion, getApprovalConfigEditData, copyVersion, getFilterChange\r\n        , validateEsignCredential, getCopySubType, getRoleDetails, setDefault, filterColumnData,\r\n        getApprovalConfigurationVersion, approveVersion\r\n    })\r\n    (injectIntl(ApprovalConfig));"]},"metadata":{},"sourceType":"module"}