{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{toast}from'react-toastify';import rsapi from'../rsapi';import{initRequest,updateStore}from'./LoginAction';import{DEFAULT_RETURN,REQUEST_FAILURE}from'./LoginTypes';import{sortData,searchData,searchJsonData,replaceUpdatedObject}from'../components/CommonScript';import{intl}from'../components/App';import{selectedDashBoardView}from'./DashBoardTypeAction';export var callService=function callService(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(inputParam.classUrl+\"/get\"+inputParam.methodUrl,inputParam.inputData).then(function(response){console.log(\"res:\",response);var data=response.data;sortData(data);var updateInfo={typeName:DEFAULT_RETURN,data:{masterData:[],organisation:undefined}};dispatch(updateStore(updateInfo));dispatch({type:DEFAULT_RETURN,payload:{masterData:data,activeTestTab:data.activeTestTab,activeTestKey:data.activeTestKey,activeBCTab:data.activeBCTab,inputParam:inputParam,masterStatus:\"\",userInfo:inputParam.inputData.userinfo,loading:false,selectedId:null,selectedRecord:{},dataState:undefined,organisation:{selectedNode:data.SelectedNode,selectedNodeName:data.SelectedNodeName,primaryKeyValue:data.AddedChildPrimaryKey},displayName:inputParam.displayName,reportFilePath:undefined}});// }\n}).catch(function(error){if(error.response===undefined&&error===\"Network Error\"){dispatch({type:REQUEST_FAILURE,payload:{error:\"Network Error\",loading:false}});}else if(error.response.status===417){toast.warning(error.response.data);dispatch({type:DEFAULT_RETURN,payload:{loading:false,displayName:inputParam.displayName,userInfo:inputParam.inputData.userinfo}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false,displayName:inputParam.displayName,userInfo:inputParam.inputData.userinfo}});}});};};//Start- Add /Edit/Delete Master Data\nexport function crudMaster(inputParam,masterData,modalName,defaultInput){return function(dispatch){dispatch(initRequest(true));var requestUrl='';if(inputParam.isFileupload){var formData=inputParam.formData;formData.append(\"userinfo\",JSON.stringify(inputParam.inputData.userinfo));requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,formData);}else{requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,_objectSpread({},inputParam.inputData));}return requestUrl.then(function(response){if(response.status===202){var _payload;//HttpStatus:Accepted\n//Use this block when u need to display any success message\ndispatch({type:DEFAULT_RETURN,payload:(_payload={loadEsign:false},_defineProperty(_payload,modalName,false),_defineProperty(_payload,\"loading\",false),_payload)});toast.success(response.data);}else if(response.status===208){var _payload2;//HttpStatus:Accepted\n//208-Already Reported\ndispatch({type:DEFAULT_RETURN,payload:(_payload2={loadEsign:false},_defineProperty(_payload2,modalName,false),_defineProperty(_payload2,\"loading\",false),_payload2)});toast.warn(response.data);}else{var _objectSpread2;var retrievedData=sortData(response.data);if(masterData===undefined||Array.isArray(retrievedData)){masterData=retrievedData;}else{masterData=_objectSpread(_objectSpread({},masterData),retrievedData);if(modalName===\"openModal\"&&inputParam.operation!==\"delete\"&&inputParam.operation!==\"create\"&&inputParam.operation!==\"copy\"){if(inputParam.postParam){if(masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]){var foundIndex=masterData[inputParam.postParam.inputListName].findIndex(function(x){return x[inputParam.postParam.primaryKeyField]===masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField];});masterData[inputParam.postParam.inputListName][foundIndex]=masterData[inputParam.postParam.selectedObject];}else{var _foundIndex=masterData[inputParam.postParam.inputListName].findIndex(function(x){return x[inputParam.postParam.primaryKeyField]===masterData[inputParam.postParam.selectedObject][0][inputParam.postParam.primaryKeyField];});masterData[inputParam.postParam.inputListName][_foundIndex]=masterData[inputParam.postParam.selectedObject][0];}}}else if(modalName===\"openModal\"&&inputParam.operation===\"create\"){if(inputParam.postParam&&inputParam.postParam.isSingleGet){masterData[inputParam.postParam.inputListName].push(response.data[inputParam.postParam.selectedObject]);//masterData[inputParam.postParam.selectedObject] = response.data;\nsortData(masterData);}}else if(modalName===\"openChildModal\"&&inputParam.operation===\"create\"){//searchedData\nif(inputParam.postParam&&inputParam.postParam.isSingleGet){var _foundIndex2=masterData[inputParam.postParam.inputListName].findIndex(function(x){return x[inputParam.postParam.primaryKeyField]===masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField];});masterData[inputParam.postParam.inputListName][_foundIndex2]=masterData[inputParam.postParam.selectedObject];if(masterData[\"searchedData\"]!==undefined){var _foundIndex3=masterData[\"searchedData\"].findIndex(function(x){return x[inputParam.postParam.primaryKeyField]===masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField];});masterData[\"searchedData\"][_foundIndex3]=masterData[inputParam.postParam.selectedObject];}sortData(masterData);}}else if(modalName===\"openModal\"&&inputParam.operation===\"copy\"){if(inputParam.postParam&&inputParam.postParam.isSingleGet){masterData[inputParam.postParam.inputListName].push(response.data[inputParam.postParam.selectedObject]);masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);}}else if(modalName===\"openModal\"&&inputParam.operation===\"delete\"){if(inputParam.postParam&&inputParam.postParam.isSingleGet){if(inputParam.postParam.task===\"cancel\"){var _foundIndex4=masterData[inputParam.postParam.inputListName].findIndex(function(x){return x[inputParam.postParam.primaryKeyField]===masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField];});masterData[inputParam.postParam.inputListName][_foundIndex4]=masterData[inputParam.postParam.selectedObject];}else{var list=masterData[inputParam.postParam.inputListName].filter(function(item){return item[inputParam.postParam.primaryKeyField]!==inputParam.postParam.primaryKeyValue;});masterData[inputParam.postParam.inputListName]=list;// const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\n//   x => x[inputParam.postParam.primaryKeyField] === inputParam.postParam.primaryKeyField\n// );\n// masterData[inputParam.postParam.inputListName].splice(foundIndex, 1)         \n}masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);}}}// (masterData);\nvar openModal=false;var selectedRecord={};var activeSampleTab=inputParam.activeSampleTab?{activeSampleTab:inputParam.activeSampleTab}:'';var activeTestKey=inputParam.activeTestKey?{activeTestKey:inputParam.activeTestKey}:'';var showSample=inputParam.showSample?inputParam.showSample:'';var respObject=_objectSpread(_objectSpread(_objectSpread((_objectSpread2={masterData:masterData,inputParam:inputParam,modalName:modalName},_defineProperty(_objectSpread2,modalName,openModal),_defineProperty(_objectSpread2,\"operation\",inputParam.operation),_defineProperty(_objectSpread2,\"masterStatus\",\"\"),_defineProperty(_objectSpread2,\"errorCode\",undefined),_defineProperty(_objectSpread2,\"loadEsign\",false),_defineProperty(_objectSpread2,\"showEsign\",false),_defineProperty(_objectSpread2,\"selectedRecord\",selectedRecord),_defineProperty(_objectSpread2,\"loading\",false),_defineProperty(_objectSpread2,\"dataState\",inputParam.dataState),_defineProperty(_objectSpread2,\"selectedId\",inputParam.selectedId),_objectSpread2),activeSampleTab),activeTestKey),{},{showSample:showSample,design:[],//organisation: undefined\norganisation:inputParam.nextNode?{selectedNode:inputParam.nextNode,selectedNodeName:masterData.SelectedNodeName,primaryKeyValue:masterData.AddedChildPrimaryKey}:undefined,showConfirmAlert:inputParam.showConfirmAlert,loadPoolSource:inputParam.loadPoolSource,skip:inputParam.skip||undefined,take:inputParam.take||undefined});if(inputParam.operation===\"create\"||inputParam.operation===\"copy\"){var _objectSpread3;if(inputParam.saveType===2){openModal=true;selectedRecord=defaultInput;}respObject=_objectSpread(_objectSpread({},respObject),{},(_objectSpread3={},_defineProperty(_objectSpread3,modalName,openModal),_defineProperty(_objectSpread3,\"selectedRecord\",selectedRecord),_objectSpread3));}if((modalName===\"openModal\"||modalName===\"openChildModal\")&&Object.keys(masterData).indexOf(\"searchedData\")!==-1&&masterData[\"searchedData\"]!==undefined){dispatch(postCRUDOrganiseSearch(inputParam.postParam,respObject));}else{dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{modalName:undefined})});}}}).catch(function(response){if(response.response.status===500){dispatch({type:REQUEST_FAILURE,payload:{error:response.message,loading:false}});}else{if(inputParam.operation===\"delete\"||inputParam.operation===\"receive\"||inputParam.operation==='approve'||inputParam.operation===\"correction\"||inputParam.operation===\"complete\"||inputParam.operation===\"dynamic\"||inputParam.operation===\"setDefault\"||inputParam.operation===\"reset\"||inputParam.operation===\"xml\"||inputParam.operation==='blackList'||inputParam.operation==='attendance'||inputParam.operation==='certified'||inputParam.operation==='competent'||inputParam.operation===\"invite\"||inputParam.operation===\"cancel\"||inputParam.operation===\"cancel\"||inputParam.operation===\"conduct\"||inputParam.operation===\"attend\"||inputParam.operation===\"certify\"||inputParam.operation===\"Competent\"){var _payload3;dispatch({type:DEFAULT_RETURN,payload:(_payload3={masterStatus:response.response.data,errorCode:response.response.status,loadEsign:false},_defineProperty(_payload3,modalName,false),_defineProperty(_payload3,\"loading\",false),_payload3)});}else{dispatch({type:DEFAULT_RETURN,payload:{masterStatus:response.response.data,errorCode:response.response.status,loadEsign:false,loading:false}});}}});};}export var validateEsignCredential=function validateEsignCredential(inputParam,modalName){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]&&inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}dispatch(crudMaster(inputParam[\"screenData\"][\"inputParam\"],inputParam[\"screenData\"][\"masterData\"],modalName));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};};export var fetchRecord=function fetchRecord(fetchRecordParam){return function(dispatch){var _rsapi$post;dispatch(initRequest(true));var url=fetchRecordParam.inputParam.classUrl+\"/getActive\"+fetchRecordParam.inputParam.methodUrl+\"ById\";rsapi.post(url,(_rsapi$post={},_defineProperty(_rsapi$post,fetchRecordParam.primaryKeyField,fetchRecordParam.primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",fetchRecordParam.userInfo),_rsapi$post)).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{selectedRecord:response.data,screenName:fetchRecordParam.screenName,operation:fetchRecordParam.operation,openModal:true,ncontrolCode:fetchRecordParam.ncontrolCode,loading:false,selectedId:fetchRecordParam.primaryKeyValue}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};};export function filterColumnData(filterValue,filterParam){return function(dispatch){var masterData=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){// if(filterParam.isjsondata)\n// {\n//    primaryKeyValue = masterData[filterParam.inputListName][0][\"jsondata\"][filterParam.primaryKeyField]\n//  }\n//else\n// {\nprimaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];// }\n}}else{if(filterParam.isjsondata){searchedData=searchJsonData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=searchData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}if(searchedData.length>0){//  if(filterParam.isjsondata)\n// {\n//  primaryKeyValue = searchedData[0][\"jsondata\"][filterParam.primaryKeyField];\n//  }\n// else{\nprimaryKeyValue=searchedData[0][filterParam.primaryKeyField];//  }\n}}if(primaryKeyValue!==0){dispatch(initRequest(true));return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData[\"searchedData\"]=searchedData;masterData=_objectSpread(_objectSpread({},masterData),response.data);if(filterParam.inputListName===\"DashBoardView\"){dispatch(selectedDashBoardView(response,masterData));}else{sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];Object.keys(masterData).forEach(function(item){if(item!==filterParam.inputListName&&item!==filterParam.selectedObject&&filterParam.unchangeList&&filterParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}};}export function postCRUDOrganiseSearch(postParam,respObject){return function(dispatch){var masterData=respObject.masterData;if(respObject.inputParam.operation===\"create\"||respObject.inputParam.operation===\"copy\"){if(respObject.modalName===\"openModal\"){if(respObject.inputParam.isChild===undefined){respObject.inputParam.searchRef.current.value=\"\";masterData[\"searchedData\"]=undefined;}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData,modalName:undefined})});}else if(respObject.inputParam.operation===\"delete\"){if(masterData[\"searchedData\"]!==undefined&&respObject.modalName===\"openModal\"){var temp=masterData[\"searchedData\"];var primaryKeyValue=respObject.masterData[\"searchedData\"][0][postParam.primaryKeyField];if(respObject.inputParam.isChild===undefined){temp=masterData[\"searchedData\"].filter(function(item){return Array.isArray(postParam.primaryKeyValue)?!postParam.primaryKeyValue.includes(item[postParam.primaryKeyField]):item[postParam.primaryKeyField]!==postParam.primaryKeyValue;});primaryKeyValue=temp.length>0?temp[0][postParam.primaryKeyField]:0;}else{primaryKeyValue=masterData[postParam.selectedObject][postParam.primaryKeyField];}masterData[\"searchedData\"]=temp;respObject=_objectSpread(_objectSpread({},respObject),{},{modalName:undefined});if(masterData[\"searchedData\"].length>0){primaryKeyValue=masterData[\"searchedData\"][0][postParam.primaryKeyField];return rsapi.post(postParam.fetchUrl,_objectSpread(_objectSpread({},postParam.fecthInputObject),{},_defineProperty({},postParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:_objectSpread({},respObject)});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{masterData[postParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];Object.keys(masterData).forEach(function(item){if(item!==postParam.inputListName&&item!==postParam.selectedObject&&postParam.unchangeList&&postParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData})});}}else{dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData,modalName:undefined})});}}else{respObject=_objectSpread(_objectSpread({},respObject),{},{modalName:undefined});if(masterData[\"searchedData\"]!==undefined){if(masterData[postParam.selectedObject][postParam.primaryKeyField]){var foundIndex=masterData[\"searchedData\"].findIndex(function(x){return x[postParam.primaryKeyField]===masterData[postParam.selectedObject][postParam.primaryKeyField];});masterData[\"searchedData\"][foundIndex]=masterData[postParam.selectedObject];}else{var _foundIndex5=masterData[\"searchedData\"].findIndex(function(x){return x[postParam.primaryKeyField]===masterData[postParam.selectedObject][0][postParam.primaryKeyField];});masterData[\"searchedData\"][_foundIndex5]=masterData[postParam.selectedObject][0];}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData})});}};}export var viewAttachment=function viewAttachment(inputParam){return function(dispatch){var inputData=_objectSpread({},inputParam.inputData);if(inputData['selectedRecord']){delete inputData['selectedRecord']['expanded'];}dispatch(initRequest(true));rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,inputData).then(function(response){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});var value=\"\";if(response.data[\"AttachFile\"]){document.getElementById(\"download_data\").setAttribute(\"href\",response.data.FilePath);document.getElementById(\"download_data\").click();}else{value=response.data[\"AttachLink\"];var win=window.open(value,'_blank');if(win){win.focus();}else{intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');}}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};};export function filterTransactionList(filterValue,filterParam,filteredListName){return function(dispatch){var masterData=filterParam.masterData;filteredListName=filteredListName||\"searchedData\";var primaryKeyValue=0;var searchedData=undefined;var selectedData=[];filterParam.childRefs&&filterParam.childRefs.map(function(childref){if(childref.ref!==undefined&&childref.ref.current!==null){childref.ref.current.value=\"\";masterData[childref.childFilteredListName]=undefined;}return null;});if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){primaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];selectedData.push(masterData[filterParam.inputListName][0]);}}else{if(masterData[filterParam.inputListName]){searchedData=searchData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=[];}if(searchedData.length>0){primaryKeyValue=searchedData[0][filterParam.primaryKeyField];selectedData.push(searchedData[0]);}}if(primaryKeyValue!==0){primaryKeyValue=filterParam.isSingleSelect?primaryKeyValue:String(primaryKeyValue);dispatch(initRequest(true));return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){var dataState={skip:0,take:10};masterData[filteredListName]=searchedData;masterData[filterParam.selectedObject]=selectedData;masterData=_objectSpread(_objectSpread({},masterData),response.data);if(filterParam.isSortable){sortData(masterData[filterParam.sortList],'descending',filterParam.sortValue);}dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,skip:0,take:10,testskip:0,testtake:10,dataState:dataState}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[filteredListName]=[];filterParam.changeList.map(function(name){return masterData[name]=[];});// Object.keys(masterData).forEach(item=> {\n//   if (item !== filterParam.inputListName && item !== filterParam.selectedObject \n//     && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) ===-1)\n//       masterData[item] = [];\n//   })   \ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}};}export function postCRUDOrganiseTransSearch(postParamList,respObject){return function(dispatch){var masterData=respObject.masterData;postParamList&&Array.isArray(postParamList)&&postParamList.map(function(postParam,index){if(postParam.clearFilter==='yes'){postParam.searchRef.current.value=\"\";masterData[postParam.filteredListName]=undefined;postParam.childRefs&&postParam.childRefs.map(function(childref){if(childref.ref!==undefined&&childref.ref.current!==null){childref.ref.current.value=\"\";masterData[childref.childFilteredListName]=undefined;}return null;});}if(Object.keys(masterData).indexOf(postParam.filteredListName)!==-1&&masterData[postParam.filteredListName]!==undefined){if(postParam.clearFilter==='check'){if(masterData[postParam.filteredListName]!==undefined){var temp=masterData[postParam.filteredListName].filter(function(item){return!Array.isArray(postParam.primaryKeyValue)?postParam.primaryKeyValue:postParam.primaryKeyValue.includes(item[postParam.primaryKeyField]);});masterData[postParam.filteredListName]=temp;if(masterData[postParam.filteredListName].length>0){return rsapi.post(postParam.fetchUrl,_objectSpread(_objectSpread({},postParam.fecthInputObject.fecthInputObject),{},_defineProperty({},postParam.primaryKeyField,String(respObject.masterData[postParam.filteredListName][0][postParam.primaryKeyField])))).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);});}}}else{if(masterData[postParam.filteredListName]!==undefined){masterData[postParam.filteredListName]=replaceUpdatedObject(masterData[postParam.updatedListname],masterData[postParam.filteredListName],postParam.primaryKeyField);}}}return null;});//sortData(masterData);\ndispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{masterData:masterData})});};}export function showUnderDevelopment(){return function(dispatch){toast.info(intl.formatMessage({id:\"IDS_UNDERDEVELOPMENT\"}));};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/ServiceAction.js"],"names":["toast","rsapi","initRequest","updateStore","DEFAULT_RETURN","REQUEST_FAILURE","sortData","searchData","searchJsonData","replaceUpdatedObject","intl","selectedDashBoardView","callService","inputParam","dispatch","post","classUrl","methodUrl","inputData","then","response","console","log","data","updateInfo","typeName","masterData","organisation","undefined","type","payload","activeTestTab","activeTestKey","activeBCTab","masterStatus","userInfo","userinfo","loading","selectedId","selectedRecord","dataState","selectedNode","SelectedNode","selectedNodeName","SelectedNodeName","primaryKeyValue","AddedChildPrimaryKey","displayName","reportFilePath","catch","error","status","warning","crudMaster","modalName","defaultInput","requestUrl","isFileupload","formData","append","JSON","stringify","operation","loadEsign","success","warn","retrievedData","Array","isArray","postParam","selectedObject","primaryKeyField","foundIndex","inputListName","findIndex","x","isSingleGet","push","task","list","filter","item","openModal","activeSampleTab","showSample","respObject","design","nextNode","showConfirmAlert","loadPoolSource","skip","take","saveType","Object","keys","indexOf","postCRUDOrganiseSearch","message","errorCode","validateEsignCredential","toLowerCase","formatMessage","id","fetchRecord","fetchRecordParam","url","screenName","ncontrolCode","filterColumnData","filterValue","filterParam","searchedData","length","isjsondata","searchFieldList","fetchUrl","fecthInputObject","forEach","unchangeList","isChild","searchRef","current","value","temp","includes","viewAttachment","document","getElementById","setAttribute","FilePath","click","win","window","open","focus","filterTransactionList","filteredListName","selectedData","childRefs","map","childref","ref","childFilteredListName","isSingleSelect","String","isSortable","sortList","sortValue","testskip","testtake","changeList","name","postCRUDOrganiseTransSearch","postParamList","index","clearFilter","updatedListname","showUnderDevelopment","info"],"mappings":"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","sourcesContent":["import { toast } from 'react-toastify';\r\nimport rsapi from '../rsapi';\r\nimport { initRequest, updateStore } from './LoginAction';\r\nimport { DEFAULT_RETURN, REQUEST_FAILURE } from './LoginTypes';\r\nimport { sortData, searchData,searchJsonData, replaceUpdatedObject } from '../components/CommonScript';\r\nimport { intl } from '../components/App';\r\nimport {selectedDashBoardView} from './DashBoardTypeAction';\r\n\r\n\r\nexport const callService = (inputParam) => {\r\n  return (dispatch) => {\r\n    dispatch(initRequest(true));\r\n    return rsapi.post(inputParam.classUrl + \"/get\" + inputParam.methodUrl, inputParam.inputData)\r\n      .then(response => {\r\n        \r\n        console.log(\"res:\", response);\r\n        let data = response.data;\r\n        sortData(data);\r\n    \r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: { masterData: [], organisation: undefined, }\r\n        }\r\n        dispatch(updateStore(updateInfo))\r\n\r\n        dispatch({\r\n          type: DEFAULT_RETURN,\r\n          payload: {\r\n            masterData: data,\r\n            activeTestTab: data.activeTestTab,\r\n            activeTestKey: data.activeTestKey,\r\n            activeBCTab: data.activeBCTab,\r\n            inputParam: inputParam,\r\n            masterStatus: \"\",\r\n            userInfo: inputParam.inputData.userinfo,\r\n            loading: false, selectedId: null, selectedRecord: {},\r\n            dataState: undefined,\r\n            organisation: {\r\n              selectedNode: data.SelectedNode, selectedNodeName: data.SelectedNodeName,\r\n              primaryKeyValue: data.AddedChildPrimaryKey\r\n            },\r\n            displayName: inputParam.displayName,\r\n            reportFilePath: undefined\r\n          }\r\n        })\r\n        // }\r\n\r\n      })\r\n      .catch(error => {\r\n        if (error.response === undefined && error === \"Network Error\") {\r\n          dispatch({\r\n            type: REQUEST_FAILURE,\r\n            payload: {\r\n              error: \"Network Error\",\r\n              loading: false,\r\n            }\r\n          });\r\n        } else if (error.response.status === 417) {\r\n          toast.warning(error.response.data);\r\n          dispatch({ type: DEFAULT_RETURN, payload: { loading: false, displayName: inputParam.displayName, userInfo: inputParam.inputData.userinfo } });\r\n        } else {\r\n          dispatch({ type: DEFAULT_RETURN, payload: { loading: false, displayName: inputParam.displayName, userInfo: inputParam.inputData.userinfo } })\r\n        }\r\n      })\r\n  };\r\n};\r\n\r\n//Start- Add /Edit/Delete Master Data\r\nexport function crudMaster(inputParam, masterData, modalName, defaultInput) {\r\n  return function (dispatch) {\r\n    dispatch(initRequest(true));\r\n    let requestUrl = '';\r\n    if (inputParam.isFileupload) {\r\n      const formData = inputParam.formData;\r\n      formData.append(\"userinfo\", JSON.stringify(inputParam.inputData.userinfo));\r\n      requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, formData);\r\n    } else {\r\n      requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData });\r\n    }\r\n    return requestUrl\r\n      .then(response => {\r\n        if (response.status === 202) {\r\n          //HttpStatus:Accepted\r\n          //Use this block when u need to display any success message\r\n    \r\n          dispatch({\r\n            type: DEFAULT_RETURN, payload: {\r\n              loadEsign: false,\r\n              [modalName]: false,\r\n              loading: false\r\n            }\r\n          })\r\n          toast.success(response.data);\r\n        }\r\n        else if (response.status === 208) {\r\n          //HttpStatus:Accepted\r\n          //208-Already Reported\r\n          dispatch({\r\n            type: DEFAULT_RETURN, payload: {\r\n              loadEsign: false,\r\n              [modalName]: false,\r\n              loading: false\r\n            }\r\n          })\r\n          toast.warn(response.data);\r\n        }\r\n        else {\r\n          const retrievedData = sortData(response.data);\r\n          if (masterData === undefined || Array.isArray(retrievedData)) {\r\n            masterData = retrievedData;\r\n          }\r\n          else {\r\n            masterData = {\r\n              ...masterData,\r\n              ...retrievedData\r\n            };\r\n            if (modalName === \"openModal\" && inputParam.operation !== \"delete\"\r\n              && inputParam.operation !== \"create\" && inputParam.operation !== \"copy\") {\r\n\r\n              if (inputParam.postParam) {\r\n                if (masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]) {\r\n                  const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\r\n                    x => x[inputParam.postParam.primaryKeyField] === masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]\r\n                  );\r\n                  masterData[inputParam.postParam.inputListName][foundIndex] = masterData[inputParam.postParam.selectedObject];\r\n                } else {\r\n                  const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\r\n                    x => x[inputParam.postParam.primaryKeyField] === masterData[inputParam.postParam.selectedObject][0][inputParam.postParam.primaryKeyField]\r\n                  );\r\n                  masterData[inputParam.postParam.inputListName][foundIndex] = masterData[inputParam.postParam.selectedObject][0];\r\n                }\r\n              }\r\n            }\r\n            else if (modalName === \"openModal\" && inputParam.operation === \"create\") {\r\n              if (inputParam.postParam && inputParam.postParam.isSingleGet) {\r\n                masterData[inputParam.postParam.inputListName].push(response.data[inputParam.postParam.selectedObject]);\r\n                //masterData[inputParam.postParam.selectedObject] = response.data;\r\n                sortData(masterData);\r\n              }\r\n            }\r\n            else if (modalName === \"openChildModal\" && inputParam.operation === \"create\") {//searchedData\r\n              if (inputParam.postParam && inputParam.postParam.isSingleGet) {\r\n                const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\r\n                  x => x[inputParam.postParam.primaryKeyField] === masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]\r\n                );\r\n                masterData[inputParam.postParam.inputListName][foundIndex] = masterData[inputParam.postParam.selectedObject];\r\n              \r\n                if (masterData[\"searchedData\"] !== undefined)\r\n                {\r\n                  const foundIndex = masterData[\"searchedData\"].findIndex(\r\n                    x => x[inputParam.postParam.primaryKeyField] === masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]\r\n                  );\r\n                  masterData[\"searchedData\"][foundIndex] = masterData[inputParam.postParam.selectedObject];\r\n                \r\n                }\r\n                sortData(masterData);\r\n              }\r\n            }\r\n            else if (modalName === \"openModal\" && inputParam.operation === \"copy\") {\r\n              if (inputParam.postParam && inputParam.postParam.isSingleGet) {\r\n                masterData[inputParam.postParam.inputListName].push(response.data[inputParam.postParam.selectedObject]);\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n              }\r\n            }\r\n            else if (modalName === \"openModal\" && inputParam.operation === \"delete\") {\r\n              if (inputParam.postParam && inputParam.postParam.isSingleGet) \r\n              {\r\n                if (inputParam.postParam.task === \"cancel\"){\r\n                  const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\r\n                    x => x[inputParam.postParam.primaryKeyField] === masterData[inputParam.postParam.selectedObject][inputParam.postParam.primaryKeyField]\r\n                  );\r\n                  masterData[inputParam.postParam.inputListName][foundIndex] = masterData[inputParam.postParam.selectedObject];\r\n                }\r\n                else{\r\n                    const list = masterData[inputParam.postParam.inputListName]\r\n                      .filter(item => item[inputParam.postParam.primaryKeyField] !== inputParam.postParam.primaryKeyValue)\r\n                    masterData[inputParam.postParam.inputListName] = list;\r\n\r\n                    // const foundIndex = masterData[inputParam.postParam.inputListName].findIndex(\r\n                    //   x => x[inputParam.postParam.primaryKeyField] === inputParam.postParam.primaryKeyField\r\n                    // );\r\n                    // masterData[inputParam.postParam.inputListName].splice(foundIndex, 1)         \r\n                  \r\n                }\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n              }\r\n            }\r\n          }\r\n          // (masterData);\r\n\r\n          let openModal = false;\r\n          let selectedRecord = {};\r\n          let activeSampleTab = inputParam.activeSampleTab ? { activeSampleTab: inputParam.activeSampleTab } : ''\r\n          let activeTestKey = inputParam.activeTestKey ? { activeTestKey: inputParam.activeTestKey } : ''\r\n          let showSample = inputParam.showSample ? inputParam.showSample : ''\r\n          let respObject = {\r\n            masterData,\r\n            inputParam,\r\n            modalName,\r\n            //modalName:undefined,\r\n            [modalName]: openModal,\r\n            operation: inputParam.operation,\r\n            masterStatus: \"\",\r\n            errorCode: undefined,\r\n            loadEsign: false,\r\n            showEsign: false,\r\n            selectedRecord,\r\n            loading: false,\r\n            dataState: inputParam.dataState,\r\n            selectedId: inputParam.selectedId,\r\n            ...activeSampleTab,\r\n            ...activeTestKey,\r\n            showSample,\r\n            design : [],\r\n            //organisation: undefined\r\n            organisation: inputParam.nextNode ? {\r\n              selectedNode: inputParam.nextNode,\r\n              selectedNodeName: masterData.SelectedNodeName,\r\n              primaryKeyValue: masterData.AddedChildPrimaryKey,\r\n\r\n            } : undefined,\r\n            showConfirmAlert: inputParam.showConfirmAlert,\r\n            loadPoolSource: inputParam.loadPoolSource,\r\n            skip:inputParam.skip||undefined,\r\n            take:inputParam.take||undefined\r\n          }\r\n\r\n          if (inputParam.operation === \"create\" || inputParam.operation === \"copy\") {\r\n            if (inputParam.saveType === 2) {\r\n              openModal = true;\r\n              selectedRecord = defaultInput;\r\n\r\n            }\r\n            respObject = { ...respObject, [modalName]: openModal, selectedRecord };\r\n          }\r\n          if ((modalName === \"openModal\" || modalName === \"openChildModal\") && Object.keys(masterData).indexOf(\"searchedData\") !== -1\r\n            && masterData[\"searchedData\"] !== undefined) {\r\n            dispatch(postCRUDOrganiseSearch(inputParam.postParam, respObject))\r\n          }\r\n          else {\r\n            dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, modalName: undefined } })\r\n          }\r\n        }\r\n      })\r\n      .catch(response => {\r\n        if (response.response.status === 500) {\r\n          dispatch({\r\n            type: REQUEST_FAILURE,\r\n            payload: {\r\n              error: response.message,\r\n              loading: false\r\n            }\r\n          });\r\n        } else {\r\n          if (inputParam.operation === \"delete\" || inputParam.operation === \"receive\" ||\r\n            inputParam.operation === 'approve' || inputParam.operation === \"correction\"\r\n            || inputParam.operation === \"complete\" || inputParam.operation === \"dynamic\"\r\n            || inputParam.operation === \"setDefault\" || inputParam.operation === \"reset\"\r\n            || inputParam.operation === \"xml\"||inputParam.operation === 'blackList'||inputParam.operation === 'attendance'\r\n            || inputParam.operation === 'certified' || inputParam.operation === 'competent' || inputParam.operation === \"invite\"\r\n            || inputParam.operation === \"cancel\"|| inputParam.operation === \"cancel\" || inputParam.operation === \"conduct\"\r\n            ||inputParam.operation === \"attend\"||inputParam.operation === \"certify\"||inputParam.operation === \"Competent\" ) {\r\n            dispatch({\r\n              type: DEFAULT_RETURN,\r\n              payload: {\r\n                masterStatus: response.response.data,\r\n                errorCode: response.response.status,\r\n                loadEsign: false,\r\n                [modalName]: false,\r\n                loading: false\r\n              }\r\n            });\r\n          } else {\r\n            dispatch({\r\n              type: DEFAULT_RETURN,\r\n              payload: {\r\n                masterStatus: response.response.data,\r\n                errorCode: response.response.status,\r\n                loadEsign: false, loading: false\r\n              }\r\n            });\r\n          }\r\n\r\n        }\r\n      });\r\n  }\r\n}\r\n\r\nexport const validateEsignCredential = (inputParam, modalName) => {\r\n  return (dispatch) => {\r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n      .then(response => {\r\n        if (response.data === \"Success\") {\r\n\r\n          const methodUrl = inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];\r\n          inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n\r\n          if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()] &&\r\n            inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]) {\r\n            delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"]\r\n            delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"]\r\n            delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"]\r\n          }\r\n          dispatch(crudMaster(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"], modalName))\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n        if (error.response.status === 500) {\r\n          toast.error(intl.formatMessage({ id: error.message }));\r\n        } else {\r\n          toast.warn(intl.formatMessage({ id: error.response.data }));\r\n        }\r\n      })\r\n  };\r\n};\r\n\r\nexport const fetchRecord = (fetchRecordParam) => {\r\n  return (dispatch) => {\r\n\r\n    dispatch(initRequest(true));\r\n    const url = fetchRecordParam.inputParam.classUrl + \"/getActive\" + fetchRecordParam.inputParam.methodUrl + \"ById\";\r\n    rsapi.post(url, {\r\n      [fetchRecordParam.primaryKeyField]: fetchRecordParam.primaryKeyValue, \"userinfo\": fetchRecordParam.userInfo\r\n    })\r\n      .then(response => {\r\n        dispatch({\r\n          type: DEFAULT_RETURN,\r\n          payload: {\r\n            selectedRecord: response.data,\r\n            screenName: fetchRecordParam.screenName,\r\n            operation: fetchRecordParam.operation,\r\n            openModal: true,\r\n            ncontrolCode: fetchRecordParam.ncontrolCode,\r\n            loading: false,\r\n            selectedId: fetchRecordParam.primaryKeyValue\r\n          }\r\n        });\r\n      })\r\n      .catch(error => {\r\n        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n        if (error.response.status === 500) {\r\n          toast.error(intl.formatMessage({ id: error.message }));\r\n        } else {\r\n          toast.warn(intl.formatMessage({ id: error.response.data }));\r\n        }\r\n      })\r\n  }\r\n}\r\n\r\nexport function filterColumnData(filterValue, filterParam) {\r\n  return function (dispatch) {\r\n\r\n    let masterData = filterParam.masterData;\r\n\r\n    let primaryKeyValue = 0;\r\n    let searchedData = undefined;\r\n    if (filterValue === \"\") {\r\n      if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n       // if(filterParam.isjsondata)\r\n       // {\r\n      //    primaryKeyValue = masterData[filterParam.inputListName][0][\"jsondata\"][filterParam.primaryKeyField]\r\n      \r\n      //  }\r\n        //else\r\n       // {\r\n          primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n       // }\r\n      }\r\n    }\r\n    else {\r\n      if(filterParam.isjsondata)\r\n      {\r\n        searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n      }\r\n      else\r\n      {\r\n        searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n      }\r\n      if (searchedData.length > 0) {\r\n      //  if(filterParam.isjsondata)\r\n       // {\r\n      //  primaryKeyValue = searchedData[0][\"jsondata\"][filterParam.primaryKeyField];\r\n      //  }\r\n       // else{\r\n          primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n      //  }\r\n      }\r\n    }\r\n\r\n    if (primaryKeyValue !== 0) {\r\n      dispatch(initRequest(true));\r\n      return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n        .then(response => {\r\n              masterData[\"searchedData\"] = searchedData;\r\n              masterData = { ...masterData, ...response.data };\r\n             \r\n              if (filterParam.inputListName === \"DashBoardView\"){\r\n                  dispatch(selectedDashBoardView(response, masterData));\r\n              }\r\n              else{\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n              }\r\n        })\r\n        .catch(error => {\r\n          dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n          if (error.response.status === 500) {\r\n            toast.error(intl.formatMessage({ id: error.message }));\r\n          }\r\n          else {\r\n            toast.warn(intl.formatMessage({ id: error.response.data }));\r\n          }\r\n        })\r\n    }\r\n    else {\r\n      masterData[filterParam.selectedObject] = undefined;\r\n      masterData[\"searchedData\"] = [];\r\n      Object.keys(masterData).forEach(item => {\r\n        if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n          && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n          masterData[item] = [];\r\n      })\r\n      dispatch({\r\n        type: DEFAULT_RETURN, payload: {\r\n          masterData, operation: null, modalName: undefined,\r\n          loading: false\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function postCRUDOrganiseSearch(postParam, respObject) {\r\n  return function (dispatch) {\r\n\r\n    let masterData = respObject.masterData;\r\n\r\n    if (respObject.inputParam.operation === \"create\" || respObject.inputParam.operation === \"copy\") {\r\n      if (respObject.modalName === \"openModal\") {\r\n        if (respObject.inputParam.isChild === undefined) {\r\n          respObject.inputParam.searchRef.current.value = \"\";\r\n          masterData[\"searchedData\"] = undefined;\r\n        }\r\n      }\r\n      dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData, modalName: undefined } })\r\n    }\r\n    else if (respObject.inputParam.operation === \"delete\") {\r\n\r\n      if (masterData[\"searchedData\"] !== undefined && respObject.modalName === \"openModal\") {\r\n        let temp = masterData[\"searchedData\"];\r\n        let primaryKeyValue = respObject.masterData[\"searchedData\"][0][postParam.primaryKeyField];\r\n        if (respObject.inputParam.isChild === undefined) {          \r\n\r\n          temp = masterData[\"searchedData\"].filter(item => Array.isArray(postParam.primaryKeyValue) ?\r\n            !postParam.primaryKeyValue.includes(item[postParam.primaryKeyField])\r\n            : item[postParam.primaryKeyField] !== postParam.primaryKeyValue);\r\n          primaryKeyValue = temp.length > 0 ? temp[0][postParam.primaryKeyField] : 0;\r\n        }\r\n        else {\r\n          primaryKeyValue = masterData[postParam.selectedObject][postParam.primaryKeyField];\r\n        }\r\n        masterData[\"searchedData\"] = temp;\r\n        respObject = { ...respObject, modalName: undefined };\r\n        if (masterData[\"searchedData\"].length > 0) {\r\n          primaryKeyValue = masterData[\"searchedData\"][0][postParam.primaryKeyField];\r\n\r\n          return rsapi.post(postParam.fetchUrl, {\r\n            ...postParam.fecthInputObject, [postParam.primaryKeyField]: primaryKeyValue\r\n          })\r\n            .then(response => {\r\n              masterData = { ...masterData, ...response.data };\r\n              sortData(masterData);\r\n              dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData } });\r\n            })\r\n            .catch(error => {\r\n              dispatch({ type: DEFAULT_RETURN, payload: { ...respObject } })\r\n              if (error.response.status === 500) {\r\n                toast.error(intl.formatMessage({ id: error.message }));\r\n              }\r\n              else {\r\n                toast.warn(intl.formatMessage({ id: error.response.data }));\r\n              }\r\n            })\r\n        }\r\n        else {\r\n          masterData[postParam.selectedObject] = undefined;\r\n          masterData[\"searchedData\"] = [];\r\n          Object.keys(masterData).forEach(item => {\r\n            if (item !== postParam.inputListName && item !== postParam.selectedObject\r\n              && postParam.unchangeList && postParam.unchangeList.indexOf(item) === -1)\r\n              masterData[item] = [];\r\n          })\r\n\r\n          dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData } });\r\n        }\r\n      }\r\n      else {\r\n        dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData, modalName: undefined } });\r\n      }\r\n    }\r\n    else {\r\n      respObject = { ...respObject, modalName: undefined };\r\n      if (masterData[\"searchedData\"] !== undefined) {\r\n        if (masterData[postParam.selectedObject][postParam.primaryKeyField]) {\r\n\r\n          const foundIndex = masterData[\"searchedData\"].findIndex(\r\n            x => x[postParam.primaryKeyField] === masterData[postParam.selectedObject][postParam.primaryKeyField]\r\n          );\r\n          masterData[\"searchedData\"][foundIndex] = masterData[postParam.selectedObject];\r\n        } else {\r\n          const foundIndex = masterData[\"searchedData\"].findIndex(\r\n            x => x[postParam.primaryKeyField] === masterData[postParam.selectedObject][0][postParam.primaryKeyField]\r\n          );\r\n          masterData[\"searchedData\"][foundIndex] = masterData[postParam.selectedObject][0];\r\n        }\r\n      }\r\n      dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData } });\r\n    }\r\n\r\n  }\r\n}\r\nexport const viewAttachment = (inputParam) => {\r\n  return (dispatch) => {\r\n    let inputData = { ...inputParam.inputData }\r\n    if (inputData['selectedRecord']) {\r\n      delete inputData['selectedRecord']['expanded'];\r\n    }\r\n    dispatch(initRequest(true));\r\n    rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, inputData)\r\n      .then(response => {\r\n        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n        let value=\"\";\r\n        if (response.data[\"AttachFile\"]) {\r\n          document.getElementById(\"download_data\").setAttribute(\"href\", response.data.FilePath);\r\n          document.getElementById(\"download_data\").click();\r\n        } else {\r\n          value = response.data[\"AttachLink\"];\r\n          var win = window.open(value, '_blank');\r\n          if (win) {\r\n            win.focus();\r\n          } else {\r\n            intl.warn('IDS_PLEASEALLOWPOPUPSFORTHISWEBSITE');\r\n          }\r\n        }\r\n        \r\n        \r\n        \r\n      \r\n        \r\n      })\r\n      .catch(error => {\r\n        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n        if (error.response.status === 500) {\r\n          toast.error(error.message);\r\n        } else {\r\n          toast.warn(error.response.data);\r\n        }\r\n      });\r\n  }\r\n}\r\nexport function filterTransactionList(filterValue, filterParam, filteredListName) {\r\n  return function (dispatch) {\r\n    let masterData = filterParam.masterData;\r\n    filteredListName = filteredListName || \"searchedData\"\r\n    let primaryKeyValue = 0;\r\n    let searchedData = undefined;\r\n    let selectedData = []\r\n    filterParam.childRefs && filterParam.childRefs.map(childref => {\r\n      if (childref.ref !== undefined && childref.ref.current !== null) {\r\n        childref.ref.current.value = \"\";\r\n        masterData[childref.childFilteredListName] = undefined\r\n      }\r\n      return null;\r\n    })\r\n    if (filterValue === \"\") {\r\n      if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n        primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n        selectedData.push(masterData[filterParam.inputListName][0])\r\n      }\r\n    }\r\n    else {\r\n      if (masterData[filterParam.inputListName]) {\r\n        searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n      } else {\r\n        searchedData = []\r\n      }\r\n\r\n      if (searchedData.length > 0) {\r\n        primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n        selectedData.push(searchedData[0])\r\n      }\r\n    }\r\n\r\n    if (primaryKeyValue !== 0) {\r\n      primaryKeyValue = filterParam.isSingleSelect ? primaryKeyValue : String(primaryKeyValue)\r\n      dispatch(initRequest(true));\r\n      return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n        .then(response => {\r\n          const dataState={\r\n            skip:0,\r\n            take:10\r\n          }\r\n          masterData[filteredListName] = searchedData;\r\n          masterData[filterParam.selectedObject] = selectedData\r\n          masterData = { ...masterData, ...response.data };\r\n          if(filterParam.isSortable)\r\n          {\r\n            sortData(masterData[filterParam.sortList],'descending',filterParam.sortValue);\r\n          }\r\n          dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false, skip: 0, take: 10, testskip: 0, testtake: 10,dataState } });\r\n        })\r\n        .catch(error => {\r\n          dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n          if (error.response.status === 500) {\r\n            toast.error(intl.formatMessage({ id: error.message }));\r\n          }\r\n          else {\r\n            toast.warn(intl.formatMessage({ id: error.response.data }));\r\n          }\r\n        })\r\n    }\r\n    else {\r\n      masterData[filterParam.selectedObject] = undefined;\r\n      masterData[filteredListName] = [];\r\n      filterParam.changeList.map(name => masterData[name] = [])\r\n      // Object.keys(masterData).forEach(item=> {\r\n      //   if (item !== filterParam.inputListName && item !== filterParam.selectedObject \r\n      //     && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) ===-1)\r\n      //       masterData[item] = [];\r\n      //   })   \r\n      dispatch({\r\n        type: DEFAULT_RETURN, payload: {\r\n          masterData, operation: null, modalName: undefined,\r\n          loading: false\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\nexport function postCRUDOrganiseTransSearch(postParamList, respObject) {\r\n  return function (dispatch) {\r\n    let masterData = respObject.masterData;\r\n    postParamList && Array.isArray(postParamList) && postParamList.map((postParam, index) => {\r\n      if (postParam.clearFilter === 'yes') {\r\n\r\n        postParam.searchRef.current.value = \"\";\r\n        masterData[postParam.filteredListName] = undefined;\r\n        postParam.childRefs && postParam.childRefs.map(childref => {\r\n          if (childref.ref !== undefined && childref.ref.current !== null) {\r\n            childref.ref.current.value = \"\";\r\n            masterData[childref.childFilteredListName] = undefined\r\n          }\r\n          return null;\r\n        })\r\n\r\n      }\r\n      if (Object.keys(masterData).indexOf(postParam.filteredListName) !== -1 && masterData[postParam.filteredListName] !== undefined) {\r\n\r\n        if (postParam.clearFilter === 'check') {\r\n          if (masterData[postParam.filteredListName] !== undefined) {\r\n            const temp = masterData[postParam.filteredListName].filter(item => !Array.isArray(postParam.primaryKeyValue) ? postParam.primaryKeyValue : postParam.primaryKeyValue.includes(item[postParam.primaryKeyField]));\r\n            masterData[postParam.filteredListName] = temp;\r\n\r\n            if (masterData[postParam.filteredListName].length > 0) {\r\n              return rsapi.post(postParam.fetchUrl, { ...postParam.fecthInputObject.fecthInputObject, [postParam.primaryKeyField]: String(respObject.masterData[postParam.filteredListName][0][postParam.primaryKeyField]) })\r\n                .then(response => {\r\n                  masterData = { ...masterData, ...response.data };\r\n                })\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          if (masterData[postParam.filteredListName] !== undefined) {\r\n            masterData[postParam.filteredListName] = replaceUpdatedObject(masterData[postParam.updatedListname], masterData[postParam.filteredListName], postParam.primaryKeyField)\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    })\r\n    //sortData(masterData);\r\n    dispatch({ type: DEFAULT_RETURN, payload: { ...respObject, masterData } })\r\n  }\r\n}\r\nexport function showUnderDevelopment() {\r\n  return function (dispatch) {\r\n    toast.info(intl.formatMessage({ id: \"IDS_UNDERDEVELOPMENT\"}));\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}