{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{ListWrapper}from'../components/client-group.styles';import{Row,Col}from'react-bootstrap';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{callService,crudMaster,updateStore,validateEsignCredential,getSubSampleBySample,getReleaseSelectedSamples,getReleaseSelectedSampleSubSampleTest,getReleaseSelectedSubSamples,getTestBySample,getReleaseSelectedTest,xmlExportAction}from'../actions';import Esign from'../pages/audittrail/Esign';import{DEFAULT_RETURN}from'../actions/LoginTypes';import{showEsign,getControlMap,convertDateValuetoString,rearrangeDateFormat}from'../components/CommonScript';import{transactionStatus}from'../components/Enumeration';import DataGridWithMultipleGrid from'../components/data-grid/DataGridWithMultipleGrid';import BreadcrumbComponentToolbar from'../components/ToolbarBreadcrumb.Component';import{getSelectedState}from\"@progress/kendo-react-grid\";import COAReleaseFilter from'./coarelease/COAReleaseFilter';import TrainingUpdateChildTab from'./competencemanagement/trainingupdate/TrainingUpdateChildTab';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var COARelease=/*#__PURE__*/function(_React$Component){_inherits(COARelease,_React$Component);var _super=_createSuper(COARelease);function COARelease(props){var _this;_classCallCheck(this,COARelease);_this=_super.call(this,props);_this.headerSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;// let dataResult = this.state.dataResult.data && this.state.dataResult.data || this.state.dataResult || [];\nvar dataResult=_this.props.Login.masterData.ReleaseSample||[];var data=dataResult.map(function(item){item.selected=checked;return item;});_this.childHeaderSelectionChange(event);var updateInfo={typeName:DEFAULT_RETURN,data:{data:undefined,dataState:undefined,//   selectedSubSampleData: selectedSubSampleData,\n//  ntransactiontestcode: ntransactiontestcode,\n//  ntransactionsamplecode: ntransactionsamplecode,\n//    npreregno:npreregno,\nselectAll:checked,childSelectAll:checked,nFlag:\"2\"}};_this.props.updateStore(updateInfo);_this.setState({dataResult:data,selectAll:checked,childSelectAll:checked});//}\n};_this.childHeaderSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;var x;var releaseSubSample=_this.props.Login.masterData.releaseSubSample||new Map();var selectedTestData=_this.props.Login.selectedTestData||[];var selectedSubSampleData=_this.props.Login.selectedSubSampleData||[];var npreregno=_this.props.Login.npreregno||[];var ntransactionsamplecode=_this.props.Login.ntransactionsamplecode||[];var ntransactiontestcode=_this.props.Login.ntransactiontestcode||[];var selectedSampleData=_this.props.Login.selectedSampleData||[];if(event.dataItem!=undefined){//Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\n_this.props.Login.masterData.ReleaseSample.map(function(item){if(item.npreregno===event.dataItem.npreregno){if(_this.props.Login.masterData.ReleaseSubSample[item.npreregno]){x=_this.props.Login.masterData.ReleaseSubSample[item.npreregno];}}});//   })\nvar y=x.filter(function(t){return t.selected===true;});console.log('testtttt--->',y);if(x.length===y.length){_this.props.Login.masterData.ReleaseSample.map(function(t,i){if(t.npreregno===y[i].npreregno){_this.props.Login.masterData.ReleaseSample[i].selected=checked;}});}}else{Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){event.dataItems.map(function(y){if(item.npreregno===y.npreregno){item.selected=checked;}});return item;});});Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){event.dataItems.map(function(y){if(item.npreregno===y.npreregno){item.selected=checked;}});_this.props.Login.masterData.ReleaseSample.map(function(item4){event.dataItems.map(function(y){if(item4.npreregno===y.npreregno){item4.selected=checked;}});});return item;});});}Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item2){if(item2.selected===true){var a=selectedTestData.every(function(item3){return item3.ntransactiontestcode!==item2.ntransactiontestcode;});if(a===true){selectedTestData.push({\"npreregno\":item2.npreregno,\"ntransactionsamplecode\":item2.ntransactionsamplecode,\"ntransactiontestcode\":item2.ntransactiontestcode});npreregno.push(item2.npreregno);ntransactionsamplecode.push(item2.ntransactionsamplecode);ntransactiontestcode.push(item2.ntransactiontestcode);}}if(item2.selected===false){var selectedTestData1=selectedTestData.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});selectedTestData=selectedTestData1;var npreregno1=npreregno.filter(function(item){return item.npreregno===item2.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(item){return item.ntransactionsamplecode===item2.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}});});var updateInfo={typeName:DEFAULT_RETURN,data:{data:undefined,dataState:undefined,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),releaseSubSample),selectedSubSampleData:selectedSubSampleData,selectedSampleData:selectedSampleData,ntransactiontestcode:ntransactiontestcode,ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,selectedTestData:selectedTestData,nFlag:\"2\"}};_this.props.updateStore(updateInfo);};_this.subChildHeaderSelectionChange=function(event){var x;var checked=event.syntheticEvent.target.checked;var releaseTest=_this.props.Login.masterData.releaseTest||new Map();var subChildSelectAll=_this.props.Login.subChildSelectAll||false;var selectedsubcild=\"\";var selectedTestData=_this.props.Login.selectedTestData||[];var npreregno=_this.props.Login.npreregno||[];var ntransactionsamplecode=_this.props.Login.ntransactionsamplecode||[];var ntransactiontestcode=_this.props.Login.ntransactiontestcode||[];if(event.dataItem!=undefined){Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){//  event.dataItems.map(y => {\nif(item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){//  item.selected = checked\nif(_this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]){x=_this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode];}}});});var y=x.filter(function(t){return t.selected===true;});console.log('testtttt--->',y);if(x.length===y.length){_this.props.Login.masterData.ReleaseSubSample[y[0].npreregno].map(function(t,i){if(t.ntransactionsamplecode===y[0].ntransactionsamplecode){_this.props.Login.masterData.ReleaseSubSample[y[0].npreregno][i].selected=checked;}});}}else{Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){event.dataItems.map(function(y){if(item.ntransactiontestcode===y.ntransactiontestcode){item.selected=checked;}});return item;});});Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){event.dataItems.map(function(y){if(item.ntransactionsamplecode===y.ntransactionsamplecode){item.selected=checked;}});_this.props.Login.masterData.ReleaseSample.map(function(item4){event.dataItems.map(function(y){if(item4.npreregno===y.npreregno){item4.selected=checked;}});});return item;});});}Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item2){if(item2.selected===true){var a=selectedTestData.every(function(item3){return item3.ntransactiontestcode!==item2.ntransactiontestcode;});if(a===true){selectedTestData.push({\"npreregno\":item2.npreregno,\"ntransactionsamplecode\":item2.ntransactionsamplecode,\"ntransactiontestcode\":item2.ntransactiontestcode});npreregno.push(item2.npreregno);ntransactionsamplecode.push(item2.ntransactionsamplecode);ntransactiontestcode.push(item2.ntransactiontestcode);}}if(item2.selected===false){var selectedTestData1=selectedTestData.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});selectedTestData=selectedTestData1;var npreregno1=npreregno.filter(function(item){return item.npreregno===item2.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(item){return item.ntransactionsamplecode===item2.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}});});var updateInfo={typeName:DEFAULT_RETURN,data:{data:undefined,dataState:undefined,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),releaseTest),selectedTestData:selectedTestData,ntransactiontestcode:ntransactiontestcode,ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,subChildSelectAll:subChildSelectAll,selectedsubcild:selectedsubcild,nFlag:\"2\"}};_this.props.updateStore(updateInfo);//   this.childHeaderSelectionChange(event);\n_this.setState({//selectAll: checked,\nsubChildSelectAll:subChildSelectAll});return subChildSelectAll;};_this.handleExpandChange=function(row,dataState){var viewParam={nsitecode:-1,userInfo:_this.props.Login.userInfo,primaryKeyField:\"npreregno\",masterData:_this.props.Login.masterData};_this.props.getSubSampleBySample(_objectSpread(_objectSpread({},viewParam),{},{dataState:dataState,primaryKeyValue:row[\"dataItem\"][viewParam.primaryKeyField],viewRow:row[\"dataItem\"]}));};_this.childHandleExpandChange=function(row,dataState){var viewParam={nsitecode:-1,userInfo:_this.props.Login.userInfo,primaryKeyField:\"npreregno\",masterData:_this.props.Login.masterData};_this.props.getTestBySample(_objectSpread(_objectSpread({},viewParam),{},{dataState:dataState,primaryKeyValue:row[\"dataItem\"][viewParam.primaryKeyField],viewRow:row[\"dataItem\"]}));};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data.ReleaseSample,event.dataState),dataState:event.dataState});};_this.selectionChange=function(event){var checked=event.syntheticEvent.target.checked;var npreregno=_this.props.Login.npreregno||[];var ntransactionsamplecode=_this.props.Login.ntransactionsamplecode||[];var ntransactiontestcode=_this.props.Login.ntransactiontestcode||[];var selectedTestData=_this.props.Login.selectedTestData||[];var selectedSubSampleData=_this.props.Login.selectedSubSampleData||[];var subChildSelectAll=_this.props.Login.subChildSelectAll||false;var dataResult=_this.state.dataResult.data&&_this.state.dataResult.data||_this.state.dataResult||[];var selectedSampleData=_this.props.Login.selectedSampleData||[];var releaseSubSample=new Map();var hasChild=true;var hasSubChild=true;dataResult.map(function(item,i){if(item.npreregno===event.dataItem.npreregno){item.selected=!event.dataItem.selected;if(item.selected===true){selectedSampleData.push({\"nregtypecode\":item.nregtypecode,\"nregsubtypecode\":item.nregsubtypecode,\"npreregno\":item.npreregno,\"ntranscode\":item.ntranscode,bFlag:\"1\"});subChildSelectAll=item.selected===true?_this.childHeaderSelectionChange(event):false;if(hasChild===true){Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){if(item.npreregno===event.dataItem.npreregno){item.selected=true;}if(ntransactionsamplecode.length===0){ntransactionsamplecode.push(item.ntransactionsamplecode);}if(!ntransactionsamplecode.includes(item.ntransactionsamplecode)){ntransactionsamplecode.push(item.ntransactionsamplecode);}selectedSubSampleData.push({//         \"nregtypecode\": item.nregtypecode, \"nregsubtypecode\": item.nregsubtypecode,\n\"npreregno\":item.npreregno,\"ntranscode\":item.ntranscode,//\"ntransactionsamplecode\": item.ntransactionsamplecode,\nbFlag:\"2\"});});});}Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){if(item.npreregno===event.dataItem.npreregno){item.selected=true;}if(ntransactiontestcode.length===0){ntransactiontestcode.push(item.ntransactiontestcode);}if(!ntransactiontestcode.includes(item.ntransactiontestcode)){ntransactiontestcode.push(item.ntransactiontestcode);}});});if(npreregno.length===0){npreregno.push(item.npreregno);}if(!npreregno.includes(item.npreregno)){npreregno.push(item.npreregno);}// if (ntransactionsamplecode.length===0) {\n//     ntransactionsamplecode.push(item.ntransactionsamplecode); \n// }\n// if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\n//     ntransactionsamplecode.push(item.ntransactionsamplecode); \n// }\n// if (ntransactiontestcode.length===0) {\n//     ntransactiontestcode.push(item.ntransactiontestcode); \n// }\n// if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\n//     ntransactiontestcode.push(item.ntransactiontestcode); \n// }\n}else{// const selectedSampleData1 = selectedSampleData.filter(item => item.npreregno !== event.dataItem.npreregno)\n// selectedSampleData = selectedSampleData1\nvar ntransactiontestcode1=[];// ntransactiontestcode = ntransactiontestcode1\nObject.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){if(item.npreregno===event.dataItem.npreregno){item.selected=false;// const selectedSubSampleData1 = selectedSubSampleData.filter(item => item.ntransactionsamplecode !== event.dataItem.ntransactionsamplecode)\n// selectedSubSampleData=selectedSubSampleData1\n}});});Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){if(item.npreregno===event.dataItem.npreregno){item.selected=false;// const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode !== event.dataItem.ntransactiontestcode)\n// selectedTestData=selectedTestData1\n}});});}}return item;});Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item2){if(item2.selected===true){var a=selectedTestData.every(function(item3){return item3.ntransactiontestcode!==item2.ntransactiontestcode;});if(a===true){selectedTestData.push({\"npreregno\":item2.npreregno,\"ntransactionsamplecode\":item2.ntransactionsamplecode,\"ntransactiontestcode\":item2.ntransactiontestcode});npreregno.push(item2.npreregno);ntransactionsamplecode.push(item2.ntransactionsamplecode);ntransactiontestcode.push(item2.ntransactiontestcode);}}if(item2.selected===false){var selectedTestData1=selectedTestData.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});selectedTestData=selectedTestData1;var npreregno1=npreregno.filter(function(item){return item.npreregno===item2.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(item){return item.ntransactionsamplecode===item2.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}});});var updateInfo={typeName:DEFAULT_RETURN,data:{nFlag:\"1\",ntransactiontestcode:ntransactiontestcode,ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,selectedSampleData:selectedSampleData,selectedTestData:selectedTestData,selectedSubSampleData:selectedSubSampleData}};_this.props.updateStore(updateInfo);_this.setState({dataResult:dataResult,selectedSampleData:selectedSampleData,nFlag:\"1\"});};_this.childSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;var selectedTestData=_this.props.Login.selectedTestData||[];var releaseSubSample=new Map();var selectedSubSampleData=_this.props.Login.selectedSubSampleData||[];var npreregno=_this.props.Login.npreregno||[];var ntransactionsamplecode=_this.props.Login.ntransactionsamplecode||[];var ntransactiontestcode=_this.props.Login.ntransactiontestcode||[];var hasSubChild=true;var subChildSelectAll=_this.props.Login.subChildSelectAll||false;Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item1){item1.map(function(item){if(item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){item.selected=!event.dataItem.selected;if(item.selected===true){selectedSubSampleData.push({\"npreregno\":item.npreregno,\"ntranscode\":item.ntranscode,\"ntransactionsamplecode\":item.ntransactionsamplecode,bFlag:\"2\"});subChildSelectAll=item.selected===true?_this.childHeaderSelectionChange(event):false;if(hasSubChild===true){Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item8){item8.map(function(item9){if(item9.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){item9.selected=true;}if(item9.selected===true){if(ntransactiontestcode.length===0){ntransactiontestcode.push(item9.ntransactiontestcode);}if(!ntransactiontestcode.includes(item9.ntransactiontestcode)){ntransactiontestcode.push(item9.ntransactiontestcode);}}});});}if(npreregno.length===0){npreregno.push(item.npreregno);}if(!npreregno.includes(item.npreregno)){npreregno.push(item.npreregno);}if(ntransactionsamplecode.length===0){ntransactionsamplecode.push(item.ntransactionsamplecode);}if(!ntransactionsamplecode.includes(item.ntransactionsamplecode)){ntransactionsamplecode.push(item.ntransactionsamplecode);}// if (item.selected === true){\n//     if (ntransactiontestcode.length === 0) {\n//         ntransactiontestcode.push(item.ntransactiontestcode);\n//     }\n// if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\n//     ntransactiontestcode.push(item.ntransactiontestcode);\n// }\n// }\n//    this.subChildSelectionChange(event);        \n}else{subChildSelectAll=false;Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){if(item.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){item.selected=checked;}});});_this.props.Login.masterData.ReleaseSample.map(function(item4){if(item4.npreregno===event.dataItem.npreregno){item4.selected=checked;}});}}return item;});});Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item2){if(item2.selected===true){var a=selectedTestData.every(function(item3){return item3.ntransactiontestcode!==item2.ntransactiontestcode;});if(a===true){selectedTestData.push({\"npreregno\":item2.npreregno,\"ntransactionsamplecode\":item2.ntransactionsamplecode,\"ntransactiontestcode\":item2.ntransactiontestcode});npreregno.push(item2.npreregno);ntransactionsamplecode.push(item2.ntransactionsamplecode);ntransactiontestcode.push(item2.ntransactiontestcode);}}if(item2.selected===false){var selectedTestData1=selectedTestData.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});selectedTestData=selectedTestData1;var npreregno1=npreregno.filter(function(item){return item.npreregno===item2.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(item){return item.ntransactionsamplecode===item2.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}});});var updateInfo={typeName:DEFAULT_RETURN,data:{data:undefined,dataState:undefined,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),releaseSubSample),selectedSubSampleData:selectedSubSampleData,ntransactiontestcode:ntransactiontestcode,ntransactionsamplecode:ntransactionsamplecode,selectedTestData:selectedTestData,subChildSelectAll:subChildSelectAll,npreregno:npreregno,nFlag:\"2\"}};_this.props.updateStore(updateInfo);};_this.subChildSelectionChange=function(event){var checked=event.syntheticEvent.target.checked;var releaseTest=new Map();var selectedTestData=_this.props.Login.selectedTestData||[];var ntransactionsamplecode=_this.props.Login.ntransactionsamplecode||[];var ntransactiontestcode=_this.props.Login.ntransactiontestcode||[];var npreregno=_this.props.Login.npreregno||[];var dataResult=_this.state.dataResult.data&&_this.state.dataResult.data||_this.state.dataResult||[];var subChildSelectAll=false;Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item){if(item.ntransactiontestcode===event.dataItem.ntransactiontestcode){item.selected=!event.dataItem.selected;if(item.selected===true){subChildSelectAll=item.selected===true?_this.subChildHeaderSelectionChange(event):false;// this.childSelectionChange(event) erSelectionChange(event) : false;\n// this.childSelectionChange(event) \nif(npreregno.length===0){npreregno.push(item.npreregno);}if(!npreregno.includes(item.npreregno)){npreregno.push(item.npreregno);}if(ntransactionsamplecode.length===0){ntransactionsamplecode.push(item.ntransactionsamplecode);}if(!ntransactionsamplecode.includes(item.ntransactionsamplecode)){ntransactionsamplecode.push(item.ntransactionsamplecode);}if(ntransactiontestcode.length===0){ntransactiontestcode.push(item.ntransactiontestcode);}if(!ntransactiontestcode.includes(item.ntransactiontestcode)){ntransactiontestcode.push(item.ntransactiontestcode);}}else{Object.values(_this.props.Login.masterData.ReleaseSubSample).forEach(function(item2){item2.map(function(item3){if(item3.ntransactionsamplecode===event.dataItem.ntransactionsamplecode){item3.selected=checked;}});});_this.props.Login.masterData.ReleaseSample.map(function(item4){if(item4.npreregno===event.dataItem.npreregno){item4.selected=checked;}});// const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode !== event.dataItem.ntransactiontestcode)\n// selectedTestData = selectedTestData1\n}}return item;});});Object.values(_this.props.Login.masterData.ReleaseTest).forEach(function(item1){item1.map(function(item2){if(item2.selected===true){var a=selectedTestData.every(function(item3){return item3.ntransactiontestcode!==item2.ntransactiontestcode;});if(a===true){selectedTestData.push({\"npreregno\":item2.npreregno,\"ntransactionsamplecode\":item2.ntransactionsamplecode,\"ntransactiontestcode\":item2.ntransactiontestcode});npreregno.push(item2.npreregno);ntransactionsamplecode.push(item2.ntransactionsamplecode);ntransactiontestcode.push(item2.ntransactiontestcode);}}if(item2.selected===false){var selectedTestData1=selectedTestData.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});selectedTestData=selectedTestData1;var npreregno1=npreregno.filter(function(item){return item.npreregno===item2.npreregno;});npreregno=npreregno1;var ntransactionsamplecode1=ntransactionsamplecode.filter(function(item){return item.ntransactionsamplecode===item2.ntransactionsamplecode;});ntransactionsamplecode=ntransactionsamplecode1;var ntransactiontestcode1=ntransactiontestcode.filter(function(item){return item.ntransactiontestcode===item2.ntransactiontestcode;});ntransactiontestcode=ntransactiontestcode1;}});});var updateInfo={typeName:DEFAULT_RETURN,data:{data:undefined,dataState:undefined,masterData:_objectSpread(_objectSpread({},_this.props.Login.masterData),releaseTest),selectedTestData:selectedTestData,nFlag:\"3\",ntransactiontestcode:ntransactiontestcode,ntransactionsamplecode:ntransactionsamplecode,npreregno:npreregno,subChildSelectAll:subChildSelectAll}};_this.props.updateStore(updateInfo);_this.setState({dataResult:dataResult,nFlag:\"1\"});};_this.reloadData=function(){var inputParam={inputData:{\"userinfo\":_this.props.Login.userInfo},classUrl:\"coarelease\",methodUrl:\"COARelease\",displayName:_this.props.Login.inputParam.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"]}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.formRef=React.createRef();var _dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],childDataResult:[],dataState:_dataState,userRoleControlRights:[],controlMap:new Map()};_this.extractedColumnList=[{\"idsName\":\"IDS_ARNO\",\"dataField\":\"sarno\",\"width\":\"200px\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"Specimen Type\",\"width\":\"200px\"},{\"idsName\":\"IDS_PRODUCTCATEGORY\",\"dataField\":\"Specimen Category\",\"width\":\"200px\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"200px\"}];_this.sampleColumnList=[{\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"width\":\"150px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLENAME\",\"dataField\":\"Sample Name\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];_this.testColumnList=[{\"idsName\":\"IDS_TESTNAME\",\"dataField\":\"stestname\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STATUS\",\"dataField\":\"stransdisplaystatus\",\"width\":\"100px\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];return _this;}_createClass(COARelease,[{key:\"render\",value:function render(){var _this2=this;var obj=convertDateValuetoString(this.props.Login.masterData.realFromDate,this.props.Login.masterData.realToDate,this.props.Login.userInfo);var breadCrumbData=[{\"label\":\"IDS_FROM\",\"value\":obj.breadCrumbFrom},{\"label\":\"IDS_TO\",\"value\":obj.breadCrumbto},{\"label\":\"IDS_SAMPLETYPE\",\"value\":this.props.Login.masterData.realSampleTypeValue&&this.props.Login.masterData.realSampleTypeValue.ssampletypename?this.props.Login.masterData.realSampleTypeValue.ssampletypename:\"Product\"},{\"label\":\"IDS_REGISTRATIONTYPE\",\"value\":this.props.Login.masterData.realRegTypeValue&&this.props.Login.masterData.realRegTypeValue.sregtypename?this.props.Login.masterData.realRegTypeValue.sregtypename:\"Batch\"},{\"label\":\"IDS_REGISTRATIONSUBTYPE\",\"value\":this.props.Login.masterData.realRegSubTypeValue&&this.props.Login.masterData.realRegSubTypeValue.sregsubtypename?this.props.Login.masterData.realRegSubTypeValue.sregsubtypename:\"EU\"}// {\n//     \"label\": \"IDS_CONFIGVERSION\",\n//     \"value\": \"xyz\"\n// },\n// {\n//     \"label\": \"IDS_SECTION\",\n//     \"value\": \"Culture\"\n// },\n// {\n//     \"label\": \"IDS_Test\",\n//     \"value\": \"Culture Liquid\"\n// },\n// {\n//     \"label\": \"IDS_FILTERSTATUS\",\n//     \"value\": \"All\"\n// }\n];var releaseId=this.props.Login.inputParam&&this.state.controlMap.has(\"COARelease\")&&this.state.controlMap.get('COARelease').ncontrolcode;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},/*#__PURE__*/React.createElement(BreadcrumbComponentToolbar//   showFilter={true}\n,{showSearch:true,breadCrumbItem:breadCrumbData,filterComponent:[{\"Sample Filter\":/*#__PURE__*/React.createElement(COAReleaseFilter,{SampleType:this.state.SampletypeList||[],SampleTypeValue:this.props.Login.masterData.SampleTypeValue||[],RegType:this.state.RegistrationTypeList||[],RegTypeValue:this.props.Login.masterData.RegTypeValue||[],RegSubType:this.state.RegistrationSubTypeList||[],RegSubTypeValue:this.props.Login.masterData.RegSubTypeValue||[],ApprovalVersion:this.state.ConfigVersionList||[],ApprovalVersionValue:this.props.Login.masterData.ApprovalVersionValue||[],UserSection:this.state.UserSectionList||[],UserSectionValue:this.props.Login.masterData.UserSectionValue||[]// JobStatus={this.props.Login.masterData.JobStatus || []}\n// Test={this.state.TestList || []}\n// TestValue={this.props.Login.masterData.TestValue || []}\n// FilterStatus={this.state.FilterStatusList || []}\n// FilterStatusValue={this.props.Login.masterData.FilterStatusValue || []}\n,fromDate:this.props.Login.masterData.fromDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.fromDate):new Date(),toDate:this.props.Login.masterData.toDate?rearrangeDateFormat(this.props.Login.userInfo,this.props.Login.masterData.toDate):new Date()// onFilterComboChange={this.onFilterComboChange}\n// handleDateChange={this.handleDateChange}\n// onDesignTemplateChange={this.onDesignTemplateChange}\n// DynamicDesignMapping={this.state.stateDynamicDesign || []}\n// DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\n// DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\n,userInfo:this.props.Login.userInfo})}]}),this.state.data?/*#__PURE__*/React.createElement(DataGridWithMultipleGrid,{data:this.state.data,dataResult:this.props.Login.masterData.ReleaseSample,childDataResult:this.state.childDataResult,subChildDataResult:this.state.subChildDataResult,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList//   expandField=\"expanded\"\n//  handleExpandChange={this.handleExpandChange}\n//  childHandleExpandChange={this.childHandleExpandChange}\n,reloadData:this.reloadData,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,pageable:true,scrollable:'scrollable',gridHeight:'600px',isActionRequired:true,isToolBarRequired:true,selectedId:this.props.Login.selectedId,hasChild:true,hasSubChild:true,childList:this.props.Login.masterData.ReleaseSubSample||new Map(),childColumnList:this.sampleColumnList,subChildColumnList:this.testColumnList,childMappingField:\"npreregno\",subChildMappingField:\"ntransactionsamplecode\",subChildList:this.props.Login.masterData.ReleaseTest||new Map()///childList={this.props.Login.masterData.releaseSubSample || []}\n,selectedsubcild:this.props.Login.selectedsubcild,methodUrl:\"Release\",headerSelectionChange:this.headerSelectionChange,childHeaderSelectionChange:this.childHeaderSelectionChange,childSelectAll:this.props.Login.childSelectAll,childSelectionChange:this.childSelectionChange,subChildSelectionChange:this.subChildSelectionChange,subChildHeaderSelectionChange:this.subChildHeaderSelectionChange,subChildSelectAll:this.props.Login.subChildSelectAll,selectionChange:this.selectionChange,selectAll:this.props.Login.selectAll// testMean={this.state.testMean}\n//     releaseRecord={this.props.Login.nFlag === \"1\" ? () => this.props.getReleaseSelectedSamples(this.props.Login.userInfo, releaseId, this.state.selectedSampleData, this.props.Login.masterData, this.state.nFlag)\n//         : this.props.Login.nFlag===\"2\"?() => this.props.getReleaseSelectedSubSamples(this.props.Login.userInfo, releaseId, this.props.Login.selectedSubSampleData, this.props.Login.masterData, this.state.nFlag)\n//    :() => this.props.getReleaseSelectedTest(this.props.Login.userInfo, releaseId, this.props.Login.selectedTestData, this.props.Login.masterData, this.state.nFlag) }\n,releaseRecord:function releaseRecord(){return _this2.props.getReleaseSelectedSampleSubSampleTest(_this2.props.Login.userInfo,releaseId,_this2.props.Login.npreregno,_this2.props.Login.ntransactionsamplecode,_this2.props.Login.ntransactiontestcode,_this2.props.Login.selectedSampleData,_this2.props.Login.selectedSubSampleData,_this2.props.Login.selectedTestData,_this2.props.Login.masterData,_this2.state.nFlag);}}):\"\"))));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.masterData!==previousProps.Login.masterData){if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap,data:this.props.Login.masterData,dataResult:process(this.props.Login.data||this.props.Login.masterData.ReleaseSample||[],this.state.dataState),childDataResult:this.props.Login.data||this.props.Login.masterData.ReleaseSubSample||[],subChildDataResult:this.props.Login.data||this.props.Login.masterData.ReleaseTest||[]});}else{var dataState=this.state.dataState;if(this.props.Login.dataState===undefined){dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}this.setState({data:this.props.Login.masterData.ReleaseSample,selectedRecord:this.props.Login.selectedRecord,dataResult:process(this.props.Login.masterData.ReleaseSample||[],this.state.dataState),childDataResult:process(this.props.Login.masterData.RS_SubSample||[],this.state.dataState),subChildDataResult:process(this.props.Login.masterData.RS_Test||[],this.state.dataState),dataState:dataState});}}else if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return COARelease;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,updateStore:updateStore,validateEsignCredential:validateEsignCredential,getSubSampleBySample:getSubSampleBySample,getReleaseSelectedSamples:getReleaseSelectedSamples,getReleaseSelectedSubSamples:getReleaseSelectedSubSamples,getTestBySample:getTestBySample,getReleaseSelectedTest:getReleaseSelectedTest,getReleaseSelectedSampleSubSampleTest:getReleaseSelectedSampleSubSampleTest})(injectIntl(COARelease));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/COARelease.jsx"],"names":["React","ListWrapper","Row","Col","toast","process","connect","injectIntl","callService","crudMaster","updateStore","validateEsignCredential","getSubSampleBySample","getReleaseSelectedSamples","getReleaseSelectedSampleSubSampleTest","getReleaseSelectedSubSamples","getTestBySample","getReleaseSelectedTest","xmlExportAction","Esign","DEFAULT_RETURN","showEsign","getControlMap","convertDateValuetoString","rearrangeDateFormat","transactionStatus","DataGridWithMultipleGrid","BreadcrumbComponentToolbar","getSelectedState","COAReleaseFilter","TrainingUpdateChildTab","mapStateToProps","state","Login","COARelease","props","headerSelectionChange","event","checked","syntheticEvent","target","dataResult","masterData","ReleaseSample","data","map","item","selected","childHeaderSelectionChange","updateInfo","typeName","undefined","dataState","selectAll","childSelectAll","nFlag","setState","x","releaseSubSample","Map","selectedTestData","selectedSubSampleData","npreregno","ntransactionsamplecode","ntransactiontestcode","selectedSampleData","dataItem","ReleaseSubSample","y","filter","t","console","log","length","i","Object","values","forEach","item1","dataItems","ReleaseTest","item4","item2","a","every","item3","push","selectedTestData1","npreregno1","ntransactionsamplecode1","ntransactiontestcode1","subChildHeaderSelectionChange","releaseTest","subChildSelectAll","selectedsubcild","handleExpandChange","row","viewParam","nsitecode","userInfo","primaryKeyField","primaryKeyValue","viewRow","childHandleExpandChange","dataStateChange","selectionChange","hasChild","hasSubChild","nregtypecode","nregsubtypecode","ntranscode","bFlag","includes","childSelectionChange","item8","item9","subChildSelectionChange","reloadData","inputParam","inputData","classUrl","methodUrl","displayName","validateEsign","sreason","selectedRecord","password","screenData","formRef","createRef","skip","take","settings","parseInt","masterStatus","error","childDataResult","userRoleControlRights","controlMap","extractedColumnList","sampleColumnList","testColumnList","obj","realFromDate","realToDate","breadCrumbData","breadCrumbFrom","breadCrumbto","realSampleTypeValue","ssampletypename","realRegTypeValue","sregtypename","realRegSubTypeValue","sregsubtypename","releaseId","has","get","ncontrolcode","SampletypeList","SampleTypeValue","RegistrationTypeList","RegTypeValue","RegistrationSubTypeList","RegSubTypeValue","ConfigVersionList","ApprovalVersionValue","UserSectionList","UserSectionValue","fromDate","Date","toDate","subChildDataResult","selectedId","previousProps","nformcode","RS_SubSample","RS_Test","warn","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { ListWrapper } from '../components/client-group.styles';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport {\r\n    callService, crudMaster, updateStore, validateEsignCredential, getSubSampleBySample, getReleaseSelectedSamples,\r\n    getReleaseSelectedSampleSubSampleTest, getReleaseSelectedSubSamples, getTestBySample, getReleaseSelectedTest, xmlExportAction\r\n} from '../actions';\r\n\r\n\r\nimport Esign from '../pages/audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../actions/LoginTypes';\r\n\r\nimport { showEsign, getControlMap, convertDateValuetoString, rearrangeDateFormat } from '../components/CommonScript';\r\nimport { transactionStatus } from '../components/Enumeration';\r\nimport DataGridWithMultipleGrid from '../components/data-grid/DataGridWithMultipleGrid';\r\nimport BreadcrumbComponentToolbar from '../components/ToolbarBreadcrumb.Component';\r\n\r\nimport {\r\n\r\n    getSelectedState\r\n} from \"@progress/kendo-react-grid\";\r\nimport COAReleaseFilter from './coarelease/COAReleaseFilter';\r\nimport TrainingUpdateChildTab from './competencemanagement/trainingupdate/TrainingUpdateChildTab';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass COARelease extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.formRef = React.createRef();\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            childDataResult: [],\r\n            dataState: dataState,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n\r\n        };\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_ARNO\", \"dataField\": \"sarno\", \"width\": \"200px\" },\r\n            {\r\n                \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"Specimen Type\", \"width\": \"200px\"\r\n            },\r\n            { \"idsName\": \"IDS_PRODUCTCATEGORY\", \"dataField\": \"Specimen Category\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" }\r\n        ];\r\n\r\n        this.sampleColumnList = [{ \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"width\": \"150px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_SAMPLENAME\", \"dataField\": \"Sample Name\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n\r\n        this.testColumnList = [\r\n            { \"idsName\": \"IDS_TESTNAME\", \"dataField\": \"stestname\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            { \"idsName\": \"IDS_STATUS\", \"dataField\": \"stransdisplaystatus\", \"width\": \"100px\", \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n    }\r\n\r\n    headerSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        // let dataResult = this.state.dataResult.data && this.state.dataResult.data || this.state.dataResult || [];\r\n        let dataResult = this.props.Login.masterData.ReleaseSample || []\r\n        const data = dataResult.map(item => {\r\n            item.selected = checked;\r\n            return item;\r\n        });\r\n\r\n\r\n        this.childHeaderSelectionChange(event);\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                data: undefined, dataState: undefined,\r\n                //   selectedSubSampleData: selectedSubSampleData,\r\n                //  ntransactiontestcode: ntransactiontestcode,\r\n                //  ntransactionsamplecode: ntransactionsamplecode,\r\n                //    npreregno:npreregno,\r\n                selectAll: checked,\r\n                childSelectAll: checked,\r\n\r\n                nFlag: \"2\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({\r\n            dataResult: data,\r\n            selectAll: checked,\r\n            childSelectAll: checked\r\n\r\n        });\r\n        //}\r\n\r\n    }\r\n    childHeaderSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let x;\r\n        let releaseSubSample = this.props.Login.masterData.releaseSubSample || new Map()\r\n        let selectedTestData = this.props.Login.selectedTestData || [];\r\n        let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n        let npreregno = this.props.Login.npreregno || [];\r\n        let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n        let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n        let selectedSampleData = this.props.Login.selectedSampleData || [];\r\n        if (event.dataItem != undefined) {\r\n\r\n            //Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n                this.props.Login.masterData.ReleaseSample.map(item => {\r\n                     \r\n\r\n                if (item.npreregno === event.dataItem.npreregno) {\r\n                    if (this.props.Login.masterData.ReleaseSubSample[item.npreregno]) {\r\n                        x = this.props.Login.masterData.ReleaseSubSample[item.npreregno]\r\n                    }\r\n                }\r\n                    \r\n            })\r\n            //   })\r\n            let y = x.filter(t => t.selected === true);\r\n            console.log('testtttt--->', y)\r\n            if (x.length === y.length) {\r\n                this.props.Login.masterData.ReleaseSample.map((t, i) => {\r\n                    if (t.npreregno === y[i].npreregno) {\r\n                        this.props.Login.masterData.ReleaseSample[i].selected = checked\r\n                    }\r\n                })\r\n                \r\n            }\r\n        }\r\n        else{\r\n        Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n            item1.map(item => {\r\n                event.dataItems.map(y => {\r\n\r\n                    if (item.npreregno === y.npreregno) {\r\n                        item.selected = checked\r\n                    }\r\n                })\r\n\r\n\r\n                return item;\r\n            });\r\n        });\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item => {\r\n                event.dataItems.map(y => {\r\n\r\n                    if (item.npreregno === y.npreregno) {\r\n                        item.selected = checked\r\n\r\n                    }\r\n                })\r\n\r\n                this.props.Login.masterData.ReleaseSample.map(item4 => {\r\n                    event.dataItems.map(y => {\r\n                        if (item4.npreregno === y.npreregno) {\r\n\r\n                            item4.selected = checked\r\n\r\n                        }\r\n                    })\r\n                })\r\n\r\n\r\n\r\n\r\n                return item;\r\n            });\r\n        });\r\n    }\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item2 => {\r\n                if (item2.selected === true) {\r\n                    let a = selectedTestData.every(item3 => {\r\n                        return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n                    })\r\n                    if (a === true) {\r\n                        selectedTestData.push({\r\n                            \"npreregno\": item2.npreregno,\r\n                            \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n                            \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n                        })\r\n                        npreregno.push(item2.npreregno,\r\n\r\n                        )\r\n                        ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n                        )\r\n                        ntransactiontestcode.push(\r\n                            item2.ntransactiontestcode,\r\n\r\n                        )\r\n                    }\r\n                }\r\n                if (item2.selected === false) {\r\n                    const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    selectedTestData = selectedTestData1\r\n                    const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n                    npreregno = npreregno1\r\n\r\n                    const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n                    ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n                    const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    ntransactiontestcode = ntransactiontestcode1\r\n\r\n                }\r\n            })\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                data: undefined, dataState: undefined,\r\n                masterData: { ...this.props.Login.masterData, ...releaseSubSample },\r\n                selectedSubSampleData: selectedSubSampleData,\r\n                selectedSampleData: selectedSampleData,\r\n\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                npreregno: npreregno,\r\n                selectedTestData: selectedTestData,\r\n\r\n\r\n                nFlag: \"2\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    subChildHeaderSelectionChange = (event) => {\r\n        let x;\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let releaseTest = this.props.Login.masterData.releaseTest || new Map()\r\n        let subChildSelectAll = this.props.Login.subChildSelectAll || false\r\n        let selectedsubcild = \"\"\r\n        let selectedTestData = this.props.Login.selectedTestData || [];\r\n        let npreregno = this.props.Login.npreregno || [];\r\n        let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n        let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n        if (event.dataItem != undefined) {\r\n\r\n            Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n                item1.map(item => {\r\n                    //  event.dataItems.map(y => {\r\n                     \r\n\r\n                     if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                    //  item.selected = checked\r\n                    if (this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]) {\r\n                        x = this.props.Login.masterData.ReleaseTest[item.ntransactionsamplecode]\r\n                    }\r\n                }\r\n                    \r\n                })\r\n            })\r\n            let  y = x.filter(t =>  t.selected === true );\r\n            console.log('testtttt--->',y )\r\n            if (x.length ===y.length)\r\n            {\r\n                this.props.Login.masterData.ReleaseSubSample[y[0].npreregno].map((t,i) => {\r\n                    if (t.ntransactionsamplecode === y[0].ntransactionsamplecode)\r\n                    {\r\n                        this.props.Login.masterData.ReleaseSubSample[y[0].npreregno][i].selected =checked \r\n                        }\r\n                })\r\n                \r\n           }\r\n        }\r\n        else {\r\n            Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n                item1.map(item => {\r\n                    event.dataItems.map(y => {\r\n\r\n                        if (item.ntransactiontestcode === y.ntransactiontestcode) {\r\n                            item.selected = checked\r\n                        }\r\n                    })\r\n\r\n\r\n                    return item;\r\n                });\r\n            });\r\n            Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n                item1.map(item => {\r\n                    event.dataItems.map(y => {\r\n\r\n                        if (item.ntransactionsamplecode === y.ntransactionsamplecode) {\r\n                            item.selected = checked\r\n\r\n                        }\r\n                    })\r\n\r\n                    this.props.Login.masterData.ReleaseSample.map(item4 => {\r\n                        event.dataItems.map(y => {\r\n                            if (item4.npreregno === y.npreregno) {\r\n\r\n                                item4.selected = checked\r\n\r\n                            }\r\n                        })\r\n                    })\r\n\r\n\r\n\r\n\r\n                    return item;\r\n                });\r\n            });\r\n        }\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item2 => {\r\n                if (item2.selected === true) {\r\n                    let a = selectedTestData.every(item3 => {\r\n                        return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n                    })\r\n                    if (a === true) {\r\n                        selectedTestData.push({\r\n                            \"npreregno\": item2.npreregno,\r\n                            \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n                            \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n                        })\r\n                        npreregno.push(item2.npreregno,\r\n\r\n                        )\r\n                        ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n                        )\r\n                        ntransactiontestcode.push(\r\n                            item2.ntransactiontestcode,\r\n\r\n                        )\r\n                    }\r\n                }\r\n                if (item2.selected === false) {\r\n                    const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    selectedTestData = selectedTestData1\r\n                    const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n                    npreregno = npreregno1\r\n\r\n                    const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n                    ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n                    const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    ntransactiontestcode = ntransactiontestcode1\r\n                }\r\n            })\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                data: undefined, dataState: undefined,\r\n                masterData: { ...this.props.Login.masterData, ...releaseTest },\r\n                selectedTestData: selectedTestData,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                npreregno: npreregno,\r\n                subChildSelectAll: subChildSelectAll,\r\n                selectedsubcild: selectedsubcild,\r\n\r\n                nFlag: \"2\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        //   this.childHeaderSelectionChange(event);\r\n        this.setState({\r\n            //selectAll: checked,\r\n            subChildSelectAll: subChildSelectAll\r\n\r\n        });\r\n        return subChildSelectAll;\r\n\r\n    }\r\n\r\n    handleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getSubSampleBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    childHandleExpandChange = (row, dataState) => {\r\n        const viewParam = {\r\n            nsitecode: -1,\r\n            userInfo: this.props.Login.userInfo, primaryKeyField: \"npreregno\",\r\n            masterData: this.props.Login.masterData\r\n        };\r\n\r\n        this.props.getTestBySample({\r\n            ...viewParam, dataState,\r\n            primaryKeyValue: row[\"dataItem\"][viewParam.primaryKeyField], viewRow: row[\"dataItem\"]\r\n        });\r\n\r\n    }\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data.ReleaseSample, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    render() {\r\n        let obj = convertDateValuetoString(this.props.Login.masterData.realFromDate, this.props.Login.masterData.realToDate, this.props.Login.userInfo)\r\n\r\n        let breadCrumbData = [\r\n            {\r\n                \"label\": \"IDS_FROM\",\r\n                \"value\": obj.breadCrumbFrom\r\n            }, {\r\n                \"label\": \"IDS_TO\",\r\n                \"value\": obj.breadCrumbto\r\n            },\r\n            {\r\n                \"label\": \"IDS_SAMPLETYPE\",\r\n                \"value\": this.props.Login.masterData.realSampleTypeValue && this.props.Login.masterData.realSampleTypeValue.ssampletypename ? this.props.Login.masterData.realSampleTypeValue.ssampletypename : \"Product\"\r\n            }, {\r\n                \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegTypeValue && this.props.Login.masterData.realRegTypeValue.sregtypename ? this.props.Login.masterData.realRegTypeValue.sregtypename : \"Batch\"\r\n            }, {\r\n                \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                \"value\": this.props.Login.masterData.realRegSubTypeValue && this.props.Login.masterData.realRegSubTypeValue.sregsubtypename ? this.props.Login.masterData.realRegSubTypeValue.sregsubtypename : \"EU\"\r\n            },\r\n\r\n            // {\r\n            //     \"label\": \"IDS_CONFIGVERSION\",\r\n            //     \"value\": \"xyz\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_SECTION\",\r\n            //     \"value\": \"Culture\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_Test\",\r\n            //     \"value\": \"Culture Liquid\"\r\n            // },\r\n            // {\r\n            //     \"label\": \"IDS_FILTERSTATUS\",\r\n            //     \"value\": \"All\"\r\n            // }\r\n        ];\r\n        const releaseId = this.props.Login.inputParam && this.state.controlMap.has(\"COARelease\")\r\n            && this.state.controlMap.get('COARelease').ncontrolcode;\r\n        return (\r\n            <>\r\n                <Row>\r\n                    <Col>\r\n                        <ListWrapper className=\"client-list-content\">\r\n                            <BreadcrumbComponentToolbar\r\n                                //   showFilter={true}\r\n                                showSearch={true}\r\n                                breadCrumbItem={breadCrumbData}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"Sample Filter\": <COAReleaseFilter\r\n                                             SampleType={this.state.SampletypeList || []}\r\n                                             SampleTypeValue={this.props.Login.masterData.SampleTypeValue || []}\r\n                                             RegType={this.state.RegistrationTypeList || []}\r\n                                             RegTypeValue={this.props.Login.masterData.RegTypeValue || []}\r\n                                             RegSubType={this.state.RegistrationSubTypeList || []}\r\n                                             RegSubTypeValue={this.props.Login.masterData.RegSubTypeValue || []}\r\n                                             ApprovalVersion={this.state.ConfigVersionList || []}\r\n                                             ApprovalVersionValue={this.props.Login.masterData.ApprovalVersionValue || []}\r\n                                             UserSection={this.state.UserSectionList || []}\r\n                                             UserSectionValue={this.props.Login.masterData.UserSectionValue || []}\r\n                                            // JobStatus={this.props.Login.masterData.JobStatus || []}\r\n                                            // Test={this.state.TestList || []}\r\n                                            // TestValue={this.props.Login.masterData.TestValue || []}\r\n                                            // FilterStatus={this.state.FilterStatusList || []}\r\n                                            // FilterStatusValue={this.props.Login.masterData.FilterStatusValue || []}\r\n                                            fromDate={this.props.Login.masterData.fromDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.fromDate) : new Date()}\r\n                                            toDate={this.props.Login.masterData.toDate ? rearrangeDateFormat(this.props.Login.userInfo, this.props.Login.masterData.toDate) : new Date()}\r\n                                            // onFilterComboChange={this.onFilterComboChange}\r\n                                            // handleDateChange={this.handleDateChange}\r\n                                            // onDesignTemplateChange={this.onDesignTemplateChange}\r\n                                            // DynamicDesignMapping={this.state.stateDynamicDesign || []}\r\n                                            // DesignTemplateMapping={this.props.Login.masterData.DesignTemplateMapping}\r\n                                            // DesignTemplateMappingValue={this.props.Login.masterData.DesignTemplateMappingValue || {}}\r\n                                            userInfo={this.props.Login.userInfo}\r\n\r\n                                        />\r\n                                    }\r\n                                ]}\r\n                            />\r\n\r\n                            {this.state.data ?\r\n                                <DataGridWithMultipleGrid\r\n                                    data={this.state.data}\r\n                                    dataResult={this.props.Login.masterData.ReleaseSample}\r\n                                    childDataResult={this.state.childDataResult}\r\n                                    subChildDataResult={this.state.subChildDataResult}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    extractedColumnList={this.extractedColumnList}\r\n                                    //   expandField=\"expanded\"\r\n                                    //  handleExpandChange={this.handleExpandChange}\r\n                                    //  childHandleExpandChange={this.childHandleExpandChange}\r\n\r\n                                    reloadData={this.reloadData}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    pageable={true}\r\n                                    scrollable={'scrollable'}\r\n                                    gridHeight={'600px'}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    hasChild={true}\r\n                                    hasSubChild={true}\r\n                                    childList={this.props.Login.masterData.ReleaseSubSample || new Map()}\r\n                                    childColumnList={this.sampleColumnList}\r\n                                    subChildColumnList={this.testColumnList}\r\n                                    childMappingField={\"npreregno\"}\r\n                                    subChildMappingField={\"ntransactionsamplecode\"}\r\n                                    subChildList={this.props.Login.masterData.ReleaseTest || new Map()}\r\n                                    ///childList={this.props.Login.masterData.releaseSubSample || []}\r\n                                    selectedsubcild={this.props.Login.selectedsubcild}\r\n                                    methodUrl={\"Release\"}\r\n                                    headerSelectionChange={this.headerSelectionChange}\r\n                                    childHeaderSelectionChange={this.childHeaderSelectionChange}\r\n                                    childSelectAll={this.props.Login.childSelectAll}\r\n                                    childSelectionChange={this.childSelectionChange}\r\n                                    subChildSelectionChange={this.subChildSelectionChange}\r\n                                    subChildHeaderSelectionChange={this.subChildHeaderSelectionChange}\r\n                                    subChildSelectAll={this.props.Login.subChildSelectAll}\r\n                                    selectionChange={this.selectionChange}\r\n                                    selectAll={this.props.Login.selectAll}\r\n                                    // testMean={this.state.testMean}\r\n                                    //     releaseRecord={this.props.Login.nFlag === \"1\" ? () => this.props.getReleaseSelectedSamples(this.props.Login.userInfo, releaseId, this.state.selectedSampleData, this.props.Login.masterData, this.state.nFlag)\r\n                                    //         : this.props.Login.nFlag===\"2\"?() => this.props.getReleaseSelectedSubSamples(this.props.Login.userInfo, releaseId, this.props.Login.selectedSubSampleData, this.props.Login.masterData, this.state.nFlag)\r\n                                    //    :() => this.props.getReleaseSelectedTest(this.props.Login.userInfo, releaseId, this.props.Login.selectedTestData, this.props.Login.masterData, this.state.nFlag) }\r\n                                    releaseRecord={() => this.props.getReleaseSelectedSampleSubSampleTest(this.props.Login.userInfo, releaseId, this.props.Login.npreregno, this.props.Login.ntransactionsamplecode, this.props.Login.ntransactiontestcode, this.props.Login.selectedSampleData, this.props.Login.selectedSubSampleData, this.props.Login.selectedTestData, this.props.Login.masterData, this.state.nFlag)}\r\n                                />\r\n                                : \"\"}\r\n                        </ListWrapper>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n                this.setState({\r\n                    userRoleControlRights, controlMap, data: this.props.Login.masterData,\r\n                    dataResult: process(this.props.Login.data || this.props.Login.masterData.ReleaseSample || [], this.state.dataState),\r\n                    childDataResult: this.props.Login.data || this.props.Login.masterData.ReleaseSubSample || [],\r\n                    subChildDataResult: this.props.Login.data || this.props.Login.masterData.ReleaseTest || []\r\n\r\n\r\n                });\r\n            }\r\n            else {\r\n                let { dataState } = this.state;\r\n                if (this.props.Login.dataState === undefined) {\r\n                    dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n                }\r\n\r\n\r\n                this.setState({\r\n                    data: this.props.Login.masterData.ReleaseSample, selectedRecord: this.props.Login.selectedRecord,\r\n                    dataResult: process(this.props.Login.masterData.ReleaseSample || [], this.state.dataState),\r\n                    childDataResult: process(this.props.Login.masterData.RS_SubSample || [], this.state.dataState),\r\n                    subChildDataResult: process(this.props.Login.masterData.RS_Test || [], this.state.dataState),\r\n\r\n                    dataState\r\n                });\r\n            }\r\n        }\r\n        else if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n    }\r\n    selectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let npreregno = this.props.Login.npreregno || [];\r\n        let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n        let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n        let selectedTestData = this.props.Login.selectedTestData || [];\r\n        let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n        let subChildSelectAll = this.props.Login.subChildSelectAll || false;\r\n\r\n        let dataResult = this.state.dataResult.data && this.state.dataResult.data || this.state.dataResult || [];\r\n        let selectedSampleData = this.props.Login.selectedSampleData || [];\r\n        let releaseSubSample = new Map();\r\n        let hasChild = true\r\n        let hasSubChild = true\r\n\r\n        dataResult.map((item, i) => {\r\n            if (item.npreregno === event.dataItem.npreregno) {\r\n                item.selected = !event.dataItem.selected;\r\n                if (item.selected === true) {\r\n                    selectedSampleData.push({\r\n                        \"nregtypecode\": item.nregtypecode, \"nregsubtypecode\": item.nregsubtypecode,\r\n                        \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode, bFlag: \"1\"\r\n                    })\r\n                    subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\r\n\r\n                    if (hasChild === true) {\r\n\r\n                        Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n                            item1.map(item => {\r\n                                if (item.npreregno === event.dataItem.npreregno) {\r\n                                    item.selected = true;\r\n                                }\r\n                                if (ntransactionsamplecode.length === 0) {\r\n                                    ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n                                }\r\n                                if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                                    ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n                                }\r\n                                selectedSubSampleData.push({\r\n                                    //         \"nregtypecode\": item.nregtypecode, \"nregsubtypecode\": item.nregsubtypecode,\r\n                                    \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\r\n                                    //\"ntransactionsamplecode\": item.ntransactionsamplecode,\r\n                                    bFlag: \"2\"\r\n                                })\r\n\r\n                            })\r\n                        })\r\n                    }\r\n\r\n                    Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n                        item1.map(item => {\r\n                            if (item.npreregno === event.dataItem.npreregno) {\r\n                                item.selected = true;\r\n                            }\r\n                            if (ntransactiontestcode.length === 0) {\r\n                                ntransactiontestcode.push(item.ntransactiontestcode);\r\n                            }\r\n                            if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                                ntransactiontestcode.push(item.ntransactiontestcode);\r\n\r\n                            }\r\n\r\n                        })\r\n                    })\r\n\r\n                    if (npreregno.length === 0) {\r\n                        npreregno.push(item.npreregno);\r\n                    }\r\n                    if (!npreregno.includes(item.npreregno)) {\r\n                        npreregno.push(item.npreregno);\r\n\r\n                    }\r\n                    // if (ntransactionsamplecode.length===0) {\r\n                    //     ntransactionsamplecode.push(item.ntransactionsamplecode); \r\n                    // }\r\n                    // if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                    //     ntransactionsamplecode.push(item.ntransactionsamplecode); \r\n\r\n                    // }\r\n                    // if (ntransactiontestcode.length===0) {\r\n                    //     ntransactiontestcode.push(item.ntransactiontestcode); \r\n                    // }\r\n                    // if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                    //     ntransactiontestcode.push(item.ntransactiontestcode); \r\n\r\n                    // }\r\n                }\r\n                else {\r\n\r\n                    // const selectedSampleData1 = selectedSampleData.filter(item => item.npreregno !== event.dataItem.npreregno)\r\n                    // selectedSampleData = selectedSampleData1\r\n                    const ntransactiontestcode1 = []\r\n                    // ntransactiontestcode = ntransactiontestcode1\r\n                    Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n                        item1.map(item => {\r\n                            if (item.npreregno === event.dataItem.npreregno) {\r\n                                item.selected = false;\r\n                                // const selectedSubSampleData1 = selectedSubSampleData.filter(item => item.ntransactionsamplecode !== event.dataItem.ntransactionsamplecode)\r\n                                // selectedSubSampleData=selectedSubSampleData1\r\n                            }\r\n                        });\r\n                    })\r\n                    Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n                        item1.map(item => {\r\n                            if (item.npreregno === event.dataItem.npreregno) {\r\n                                item.selected = false;\r\n                                // const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode !== event.dataItem.ntransactiontestcode)\r\n                                // selectedTestData=selectedTestData1\r\n\r\n                            }\r\n                        })\r\n\r\n                    })\r\n                }\r\n\r\n\r\n            }\r\n            return item;\r\n        });\r\n\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item2 => {\r\n                if (item2.selected === true) {\r\n                    let a = selectedTestData.every(item3 => {\r\n                        return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n                    })\r\n                    if (a === true) {\r\n                        selectedTestData.push({\r\n                            \"npreregno\": item2.npreregno,\r\n                            \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n                            \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n                        })\r\n                        npreregno.push(item2.npreregno,\r\n\r\n                        )\r\n                        ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n                        )\r\n                        ntransactiontestcode.push(\r\n                            item2.ntransactiontestcode,\r\n\r\n                        )\r\n                    }\r\n                }\r\n                if (item2.selected === false) {\r\n                    const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    selectedTestData = selectedTestData1\r\n                    const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n                    npreregno = npreregno1\r\n\r\n                    const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n                    ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n                    const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    ntransactiontestcode = ntransactiontestcode1\r\n                }\r\n            })\r\n        })\r\n\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n\r\n                nFlag: \"1\",\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                npreregno: npreregno,\r\n                selectedSampleData: selectedSampleData,\r\n                selectedTestData: selectedTestData,\r\n                selectedSubSampleData: selectedSubSampleData,\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n        this.setState({\r\n            dataResult, selectedSampleData,\r\n            nFlag: \"1\"\r\n        });\r\n    }\r\n    childSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let selectedTestData = this.props.Login.selectedTestData || [];\r\n\r\n        let releaseSubSample = new Map();\r\n        let selectedSubSampleData = this.props.Login.selectedSubSampleData || [];\r\n        let npreregno = this.props.Login.npreregno || [];\r\n        let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n        let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n        let hasSubChild = true\r\n        let subChildSelectAll = this.props.Login.subChildSelectAll || false;\r\n\r\n        Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item1 => {\r\n            item1.map(item => {\r\n                if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                    item.selected = !event.dataItem.selected;\r\n                    if (item.selected === true) {\r\n                        selectedSubSampleData.push({\r\n                            \"npreregno\": item.npreregno, \"ntranscode\": item.ntranscode,\r\n                            \"ntransactionsamplecode\": item.ntransactionsamplecode, bFlag: \"2\"\r\n                        })\r\n                        subChildSelectAll = item.selected === true ? this.childHeaderSelectionChange(event) : false;\r\n\r\n                        if (hasSubChild === true) {\r\n\r\n                            Object.values(this.props.Login.masterData.ReleaseTest).forEach(item8 => {\r\n                                item8.map(item9 => {\r\n\r\n                                    if (item9.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                                        item9.selected = true;\r\n                                    }\r\n                                    if (item9.selected === true) {\r\n                                        if (ntransactiontestcode.length === 0) {\r\n                                            ntransactiontestcode.push(item9.ntransactiontestcode);\r\n                                        }\r\n                                        if (!ntransactiontestcode.includes(item9.ntransactiontestcode)) {\r\n                                            ntransactiontestcode.push(item9.ntransactiontestcode);\r\n\r\n                                        }\r\n\r\n                                    }\r\n\r\n                                })\r\n                            })\r\n                        }\r\n                        if (npreregno.length === 0) {\r\n                            npreregno.push(item.npreregno);\r\n                        }\r\n                        if (!npreregno.includes(item.npreregno)) {\r\n                            npreregno.push(item.npreregno);\r\n\r\n                        }\r\n                        if (ntransactionsamplecode.length === 0) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n                        }\r\n                        if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n                        }\r\n                        // if (item.selected === true){\r\n                        //     if (ntransactiontestcode.length === 0) {\r\n                        //         ntransactiontestcode.push(item.ntransactiontestcode);\r\n                        //     }\r\n                        // if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                        //     ntransactiontestcode.push(item.ntransactiontestcode);\r\n\r\n                        // }\r\n                        // }\r\n                        //    this.subChildSelectionChange(event);        \r\n                    }\r\n                    else {\r\n\r\n                       \r\n                        subChildSelectAll = false\r\n                        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n                            item1.map(item => {\r\n                                if (item.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n                                    item.selected = checked;\r\n                                }\r\n                            })\r\n\r\n\r\n                        })\r\n                        this.props.Login.masterData.ReleaseSample.map(item4 => {\r\n                            if (item4.npreregno === event.dataItem.npreregno) {\r\n\r\n                                item4.selected = checked\r\n                            }\r\n                        })\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                return item;\r\n            });\r\n        });\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item2 => {\r\n                if (item2.selected === true) {\r\n                    let a = selectedTestData.every(item3 => {\r\n                        return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n                    })\r\n                    if (a === true) {\r\n                        selectedTestData.push({\r\n                            \"npreregno\": item2.npreregno,\r\n                            \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n                            \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n                        })\r\n                        npreregno.push(item2.npreregno,\r\n\r\n                        )\r\n                        ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n                        )\r\n                        ntransactiontestcode.push(\r\n                            item2.ntransactiontestcode,\r\n\r\n                        )\r\n                    }\r\n                }\r\n                if (item2.selected === false) {\r\n                    const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    selectedTestData = selectedTestData1\r\n                    const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n                    npreregno = npreregno1\r\n\r\n                    const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n                    ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n                    const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    ntransactiontestcode = ntransactiontestcode1\r\n                }\r\n            })\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                data: undefined, dataState: undefined,\r\n                masterData: { ...this.props.Login.masterData, ...releaseSubSample },\r\n                selectedSubSampleData: selectedSubSampleData,\r\n                ntransactiontestcode: ntransactiontestcode,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                selectedTestData: selectedTestData,\r\n                subChildSelectAll: subChildSelectAll,\r\n                npreregno: npreregno,\r\n                nFlag: \"2\",\r\n\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    subChildSelectionChange = (event) => {\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let releaseTest = new Map();\r\n        let selectedTestData = this.props.Login.selectedTestData || [];\r\n        let ntransactionsamplecode = this.props.Login.ntransactionsamplecode || [];\r\n        let ntransactiontestcode = this.props.Login.ntransactiontestcode || [];\r\n        let npreregno = this.props.Login.npreregno || [];\r\n        let dataResult = this.state.dataResult.data && this.state.dataResult.data || this.state.dataResult || [];\r\n\r\n        let subChildSelectAll = false\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item => {\r\n                if (item.ntransactiontestcode === event.dataItem.ntransactiontestcode) {\r\n                    item.selected = !event.dataItem.selected;\r\n                    if (item.selected === true) {\r\n\r\n                        subChildSelectAll = item.selected === true ? this.subChildHeaderSelectionChange(event) : false;\r\n                    // this.childSelectionChange(event) erSelectionChange(event) : false;\r\n                    // this.childSelectionChange(event) \r\n\r\n\r\n                        if (npreregno.length === 0) {\r\n                            npreregno.push(item.npreregno);\r\n                        }\r\n                        if (!npreregno.includes(item.npreregno)) {\r\n                            npreregno.push(item.npreregno);\r\n\r\n                        }\r\n                        if (ntransactionsamplecode.length === 0) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n                        }\r\n                        if (!ntransactionsamplecode.includes(item.ntransactionsamplecode)) {\r\n                            ntransactionsamplecode.push(item.ntransactionsamplecode);\r\n\r\n                        }\r\n                        if (ntransactiontestcode.length === 0) {\r\n                            ntransactiontestcode.push(item.ntransactiontestcode);\r\n                        }\r\n                        if (!ntransactiontestcode.includes(item.ntransactiontestcode)) {\r\n                            ntransactiontestcode.push(item.ntransactiontestcode);\r\n\r\n                        }\r\n                    }\r\n                    else {\r\n                        Object.values(this.props.Login.masterData.ReleaseSubSample).forEach(item2 => {\r\n                            item2.map(item3 => {\r\n                                if (item3.ntransactionsamplecode === event.dataItem.ntransactionsamplecode) {\r\n\r\n                                    item3.selected = checked\r\n                                }\r\n                            })\r\n                        })\r\n                        this.props.Login.masterData.ReleaseSample.map(item4 => {\r\n                            if (item4.npreregno === event.dataItem.npreregno) {\r\n\r\n                                item4.selected = checked\r\n                            }\r\n                        })\r\n\r\n\r\n                        // const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode !== event.dataItem.ntransactiontestcode)\r\n                        // selectedTestData = selectedTestData1\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                return item;\r\n            });\r\n        });\r\n        Object.values(this.props.Login.masterData.ReleaseTest).forEach(item1 => {\r\n            item1.map(item2 => {\r\n                if (item2.selected === true) {\r\n                    let a = selectedTestData.every(item3 => {\r\n                        return item3.ntransactiontestcode !== item2.ntransactiontestcode\r\n                    })\r\n                    if (a === true) {\r\n                        selectedTestData.push({\r\n                            \"npreregno\": item2.npreregno,\r\n                            \"ntransactionsamplecode\": item2.ntransactionsamplecode,\r\n                            \"ntransactiontestcode\": item2.ntransactiontestcode,\r\n\r\n                        })\r\n                        npreregno.push(item2.npreregno,\r\n\r\n                        )\r\n                        ntransactionsamplecode.push(item2.ntransactionsamplecode,\r\n\r\n                        )\r\n                        ntransactiontestcode.push(\r\n                            item2.ntransactiontestcode,\r\n\r\n                        )\r\n                    }\r\n\r\n\r\n                }\r\n                if (item2.selected === false) {\r\n                    const selectedTestData1 = selectedTestData.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    selectedTestData = selectedTestData1\r\n                    const npreregno1 = npreregno.filter(item => item.npreregno === item2.npreregno)\r\n                    npreregno = npreregno1\r\n\r\n                    const ntransactionsamplecode1 = ntransactionsamplecode.filter(item => item.ntransactionsamplecode === item2.ntransactionsamplecode)\r\n                    ntransactionsamplecode = ntransactionsamplecode1\r\n\r\n                    const ntransactiontestcode1 = ntransactiontestcode.filter(item => item.ntransactiontestcode === item2.ntransactiontestcode)\r\n                    ntransactiontestcode = ntransactiontestcode1\r\n                }\r\n            })\r\n        })\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                data: undefined, dataState: undefined,\r\n                masterData: { ...this.props.Login.masterData, ...releaseTest },\r\n                selectedTestData: selectedTestData,\r\n                nFlag: \"3\", ntransactiontestcode: ntransactiontestcode,\r\n                ntransactionsamplecode: ntransactionsamplecode,\r\n                npreregno: npreregno,\r\n                subChildSelectAll: subChildSelectAll\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n        this.setState({\r\n            dataResult,\r\n            nFlag: \"1\"\r\n        });\r\n    }\r\n    reloadData = () => {\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"coarelease\",\r\n            methodUrl: \"COARelease\",\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"]\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, { callService, crudMaster, updateStore, validateEsignCredential, getSubSampleBySample, getReleaseSelectedSamples, getReleaseSelectedSubSamples, getTestBySample, getReleaseSelectedTest, getReleaseSelectedSampleSubSampleTest })(injectIntl(COARelease));"]},"metadata":{},"sourceType":"module"}