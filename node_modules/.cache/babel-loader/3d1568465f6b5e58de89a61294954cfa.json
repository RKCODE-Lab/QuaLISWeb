{"ast":null,"code":"import _slicedToArray from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{SchedulerItem,useSchedulerEditItemFormItemContext,useSchedulerEditItemRemoveItemContext,useSchedulerEditItemShowOccurrenceDialogContext,useSchedulerEditItemShowRemoveDialogContext}from\"@progress/kendo-react-scheduler\";import React from\"react\";import{Popup}from\"@progress/kendo-react-popup\";import{connect}from'react-redux';import{getInstrumentForSchedule}from'../../actions';import{FormWithCustomEditor}from'./custom-form';import{toast}from\"react-toastify\";import{useInternationalization}from\"@progress/kendo-react-intl\";import{Card,CardBody,CardHeader,CardTitle}from\"@progress/kendo-react-layout\";import{Button}from\"@progress/kendo-react-buttons\";import{useAsyncFocusBlur}from\"@progress/kendo-react-common\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var CustomItem=function CustomItem(props){var intl=useInternationalization();var item=React.useRef(null);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var resourceWithColor=props.group.resources.find(function(resource){return resource.colorField&&resource[resource.colorField]!==undefined;});var color=resourceWithColor&&resourceWithColor.colorField&&resourceWithColor[resourceWithColor.colorField];var _useSchedulerEditItem=useSchedulerEditItemFormItemContext(),_useSchedulerEditItem2=_slicedToArray(_useSchedulerEditItem,2),formItem=_useSchedulerEditItem2[0],setFormItem=_useSchedulerEditItem2[1];var _useSchedulerEditItem3=useSchedulerEditItemRemoveItemContext(),_useSchedulerEditItem4=_slicedToArray(_useSchedulerEditItem3,2),setRemoveItem=_useSchedulerEditItem4[1];var _useSchedulerEditItem5=useSchedulerEditItemShowOccurrenceDialogContext(),_useSchedulerEditItem6=_slicedToArray(_useSchedulerEditItem5,2),setShowOccurrenceDialog=_useSchedulerEditItem6[1];var _useSchedulerEditItem7=useSchedulerEditItemShowRemoveDialogContext(),_useSchedulerEditItem8=_slicedToArray(_useSchedulerEditItem7,2),setShowRemoveDialog=_useSchedulerEditItem8[1];var handleClick=React.useCallback(function(event){setShow(true);if(props.onClick){props.onClick(event);}},[props]);var handleBlur=React.useCallback(function(event){setShow(false);if(props.onBlur){props.onBlur(event);}},[props]);var handleCloseClick=React.useCallback(function(){setShow(false);},[setShow]);var handleEditClick=React.useCallback(function(){if(props.dataItem&&props.dataItem.InstrumentCategory){if(props.dataItem.ntransactionstatus){if(props.dataItem.ntransactionstatus!==20){props.getInstrumentForSchedule(props.dataItem.InstrumentCategory,props.Login.userInfo);setFormItem(props.dataItem);setShow(false);setFormItem(props.dataItem);}else{toast.info(\"Already allocted\");}}else{props.getInstrumentForSchedule(props.dataItem.InstrumentCategory,props.Login.userInfo);setFormItem(props.dataItem);setShow(false);setFormItem(props.dataItem);}}//setShow(false);\n//   if (props.isRecurring) {\n//     setShowOccurrenceDialog(true);\n//   }\n},[setFormItem,props.dataItem,props.isRecurring,setShowOccurrenceDialog]);var handleDeleteClick=React.useCallback(function(){setShow(false);setRemoveItem(props.dataItem);if(props.isRecurring){setShowOccurrenceDialog(true);}else{setShowRemoveDialog(true);}},[setRemoveItem,props.dataItem,props.isRecurring,setShowOccurrenceDialog,setShowRemoveDialog]);var handleFormItemChange=React.useCallback(function(event){console.log(\"hello\");console.log(\"handleFormItemChange\",event.value);console.log(\"handleFormItemChange1\",formItem);if(event.value){if(event.value.ntransactionstatus){if(event.value.ntransactionstatus!==20){setFormItem(event.value);}else{toast.info(\"Already Allocted\");}}else{setFormItem(event.value);}}else{setFormItem(event.value);}},[]);var _useAsyncFocusBlur=useAsyncFocusBlur({onFocus:props.onFocus,onBlur:handleBlur}),onFocus=_useAsyncFocusBlur.onFocus,onBlur=_useAsyncFocusBlur.onBlur;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SchedulerItem,Object.assign({ref:item},props,{onClick:handleClick,onFocus:onFocus,onBlur:onBlur,formItem:formItem,onFormItemChange:handleFormItemChange,form:FormWithCustomEditor})),/*#__PURE__*/React.createElement(Popup,{anchor:item.current&&item.current.element,show:show,style:{width:300},anchorAlign:{horizontal:\"right\",vertical:\"center\"},popupAlign:{horizontal:\"left\",vertical:\"center\"}},/*#__PURE__*/React.createElement(\"div\",{tabIndex:-1,onFocus:onFocus,onBlur:onBlur},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{className:\"ml-auto pb-0\"},/*#__PURE__*/React.createElement(Button,{iconClass:\"k-icon k-i-edit\",fillMode:\"flat\",onClick:handleEditClick}),/*#__PURE__*/React.createElement(Button,{iconClass:\"k-icon k-i-delete\",fillMode:\"flat\",onClick:handleDeleteClick}),/*#__PURE__*/React.createElement(Button,{iconClass:\"k-icon k-i-close\",fillMode:\"flat\",onClick:handleCloseClick})),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:color,width:16,height:16,position:\"relative\",top:\"50%\",borderRadius:4,transform:\"translateY(-50%)\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",null,props.title))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"small\",null,intl.formatDate(props.zonedStart,\"EEEE, d MMMM\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"k-icon k-i-clock\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",null,\"From: \",intl.formatDate(props.zonedStart,\"t\")),/*#__PURE__*/React.createElement(\"div\",null,\"To: \",intl.formatDate(props.zonedEnd,\"t\"))))))))));};export default connect(mapStateToProps,{getInstrumentForSchedule:getInstrumentForSchedule})(CustomItem);","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/joballocation/NewCustomItem.jsx"],"names":["SchedulerItem","useSchedulerEditItemFormItemContext","useSchedulerEditItemRemoveItemContext","useSchedulerEditItemShowOccurrenceDialogContext","useSchedulerEditItemShowRemoveDialogContext","React","Popup","connect","getInstrumentForSchedule","FormWithCustomEditor","toast","useInternationalization","Card","CardBody","CardHeader","CardTitle","Button","useAsyncFocusBlur","mapStateToProps","state","Login","CustomItem","props","intl","item","useRef","useState","show","setShow","resourceWithColor","group","resources","find","resource","colorField","undefined","color","formItem","setFormItem","setRemoveItem","setShowOccurrenceDialog","setShowRemoveDialog","handleClick","useCallback","event","onClick","handleBlur","onBlur","handleCloseClick","handleEditClick","dataItem","InstrumentCategory","ntransactionstatus","userInfo","info","isRecurring","handleDeleteClick","handleFormItemChange","console","log","value","onFocus","current","element","width","horizontal","vertical","backgroundColor","height","position","top","borderRadius","transform","title","formatDate","zonedStart","zonedEnd"],"mappings":"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","sourcesContent":["import { SchedulerItem, useSchedulerEditItemFormItemContext, useSchedulerEditItemRemoveItemContext, useSchedulerEditItemShowOccurrenceDialogContext, useSchedulerEditItemShowRemoveDialogContext } from \"@progress/kendo-react-scheduler\";\r\nimport React from \"react\";\r\nimport { Popup } from \"@progress/kendo-react-popup\";\r\nimport { connect } from 'react-redux';\r\nimport { getInstrumentForSchedule } from '../../actions'\r\nimport { FormWithCustomEditor } from './custom-form';\r\nimport { toast } from \"react-toastify\";\r\nimport { useInternationalization } from \"@progress/kendo-react-intl\";\r\nimport { Card,CardBody, CardHeader,CardTitle } from \"@progress/kendo-react-layout\";\r\nimport { Button } from \"@progress/kendo-react-buttons\";\r\nimport { useAsyncFocusBlur } from \"@progress/kendo-react-common\"; \r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n const CustomItem = (props) => {\r\n    const intl = useInternationalization();\r\n    const item = React.useRef(null);\r\n    const [show, setShow] = React.useState(false);\r\n    const resourceWithColor = props.group.resources.find(\r\n      (resource) =>\r\n        resource.colorField && resource[resource.colorField] !== undefined\r\n    );\r\n    const color =\r\n      resourceWithColor &&\r\n      resourceWithColor.colorField &&\r\n      resourceWithColor[resourceWithColor.colorField];\r\n    const [formItem, setFormItem] = useSchedulerEditItemFormItemContext();\r\n    const [, setRemoveItem] = useSchedulerEditItemRemoveItemContext();\r\n    const [, setShowOccurrenceDialog] =\r\n      useSchedulerEditItemShowOccurrenceDialogContext();\r\n    const [, setShowRemoveDialog] = useSchedulerEditItemShowRemoveDialogContext();\r\n    const handleClick = React.useCallback(\r\n      (event) => {\r\n        setShow(true);\r\n        if (props.onClick) {\r\n          props.onClick(event);\r\n        }\r\n      },\r\n      [props]\r\n    );\r\n    const handleBlur = React.useCallback(\r\n      (event) => {\r\n        setShow(false);\r\n        if (props.onBlur) {\r\n          props.onBlur(event);\r\n        }\r\n      },\r\n      [props]\r\n    );\r\n    const handleCloseClick = React.useCallback(() => {\r\n      setShow(false);\r\n    }, [setShow]);\r\n\r\n\r\n    const handleEditClick = React.useCallback(() => {\r\n\r\n\r\n        if (props.dataItem &&\r\n            props.dataItem.InstrumentCategory) {\r\n            if (props.dataItem.ntransactionstatus) {\r\n                if (props.dataItem.ntransactionstatus !== 20) {\r\n                    props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                    setFormItem(props.dataItem);\r\n                    setShow(false);\r\n                    setFormItem(props.dataItem);\r\n                } else {\r\n                    toast.info(\"Already allocted\")\r\n                }\r\n\r\n            } else {\r\n                props.getInstrumentForSchedule(props.dataItem.InstrumentCategory, props.Login.userInfo);\r\n                setFormItem(props.dataItem);\r\n                setShow(false);\r\n                setFormItem(props.dataItem);\r\n            }\r\n\r\n        }\r\n\r\n      //setShow(false);\r\n      \r\n    //   if (props.isRecurring) {\r\n    //     setShowOccurrenceDialog(true);\r\n    //   }\r\n    }, [setFormItem, props.dataItem, props.isRecurring, setShowOccurrenceDialog]);\r\n    const handleDeleteClick = React.useCallback(() => {\r\n      setShow(false);\r\n      setRemoveItem(props.dataItem);\r\n      if (props.isRecurring) {\r\n        setShowOccurrenceDialog(true);\r\n      } else {\r\n        setShowRemoveDialog(true);\r\n      }\r\n    }, [\r\n      setRemoveItem,\r\n      props.dataItem,\r\n      props.isRecurring,\r\n      setShowOccurrenceDialog,\r\n      setShowRemoveDialog,\r\n    ]);\r\n    const handleFormItemChange = React.useCallback((event) => {\r\n        console.log(\"hello\")\r\n        console.log(\"handleFormItemChange\", event.value)\r\n        console.log(\"handleFormItemChange1\", formItem)\r\n\r\n        if(event.value){\r\n            if(event.value.ntransactionstatus){\r\n                if(event.value.ntransactionstatus!==20){\r\n                    setFormItem(event.value);\r\n                }else{\r\n                    toast.info(\"Already Allocted\")\r\n                }\r\n\r\n            }else{\r\n                setFormItem(event.value);\r\n            }\r\n\r\n        }else{\r\n            setFormItem(event.value);\r\n        }\r\n\r\n    }, []);\r\n    const { onFocus, onBlur } = useAsyncFocusBlur({\r\n      onFocus: props.onFocus,\r\n      onBlur: handleBlur,\r\n    });\r\n    return (\r\n      <React.Fragment>\r\n        <SchedulerItem\r\n          ref={item}\r\n          {...props}\r\n          onClick={handleClick}\r\n          onFocus={onFocus}\r\n          onBlur={onBlur}\r\n          formItem={formItem}\r\n          onFormItemChange={handleFormItemChange}\r\n          form={FormWithCustomEditor}\r\n        >\r\n        </SchedulerItem>\r\n        <Popup\r\n          anchor={item.current && item.current.element}\r\n          show={show}\r\n          style={{\r\n            width: 300,\r\n          }}\r\n          anchorAlign={{\r\n            horizontal: \"right\",\r\n            vertical: \"center\",\r\n          }}\r\n          popupAlign={{\r\n            horizontal: \"left\",\r\n            vertical: \"center\",\r\n          }}\r\n        >\r\n          <div tabIndex={-1} onFocus={onFocus} onBlur={onBlur}>\r\n            <Card>\r\n              <CardHeader className=\"ml-auto pb-0\">\r\n                <Button\r\n                  iconClass=\"k-icon k-i-edit\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleEditClick}\r\n                />\r\n                <Button\r\n                  iconClass=\"k-icon k-i-delete\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleDeleteClick}\r\n                />\r\n                <Button\r\n                  iconClass=\"k-icon k-i-close\"\r\n                  fillMode=\"flat\"\r\n                  onClick={handleCloseClick}\r\n                />\r\n              </CardHeader>\r\n              <CardBody>\r\n                <CardTitle>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\">\r\n                      <div\r\n                        style={{\r\n                          backgroundColor: color,\r\n                          width: 16,\r\n                          height: 16,\r\n                          position: \"relative\",\r\n                          top: \"50%\",\r\n                          borderRadius: 4,\r\n                          transform: \"translateY(-50%)\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div>{props.title}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\" />\r\n                    <div className=\"col\">\r\n                      <small>\r\n                        {intl.formatDate(props.zonedStart, \"EEEE, d MMMM\")}\r\n                      </small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-1\">\r\n                      <span className=\"k-icon k-i-clock\" />\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div>From: {intl.formatDate(props.zonedStart, \"t\")}</div>\r\n                      <div>To: {intl.formatDate(props.zonedEnd, \"t\")}</div>\r\n                    </div>\r\n                  </div>\r\n                </CardTitle>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n        </Popup>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  export default connect(mapStateToProps, { getInstrumentForSchedule })(CustomItem);"]},"metadata":{},"sourceType":"module"}