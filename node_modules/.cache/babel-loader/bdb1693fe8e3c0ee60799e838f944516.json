{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5294\\\\QuaLISWeb\\\\src\\\\pages\\\\organisation\\\\usermapping\\\\UserMapping.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { Row, Col, Nav, Button, Image, Media } from 'react-bootstrap';\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes';\nimport { injectIntl } from 'react-intl';\nimport { callService, crudMaster, getUserMappingFilterChange, getUserMappingBySite, getUserMappingGraphView, getChildUsers, openUserMappingModal, updateStore, validateEsignCredential, filterColumnData, getCopyUserMapping, getCopyUserMappingSubType, getUserMapping } from '../../../actions';\nimport { getControlMap, sortData, showEsign, constructOptionList } from '../../../components/CommonScript';\nimport UserMappingFilter from './UserMappingFilter';\nimport { MediaHeader, ContentPanel } from '../../../components/App.styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faSitemap, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport ListMaster from '../../../components/list-master/list-master.component';\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\nimport Esign from '../../audittrail/Esign';\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\nimport { SearchAdd } from '../../product/product.styled';\nimport ConfirmDialog from '../../../components/confirm-alert/confirm-alert.component';\nimport { Grid, GridColumn, GridColumnMenuFilter } from '@progress/kendo-react-grid';\nimport { process } from '@progress/kendo-data-query';\nimport { ApprovalSubType, transactionStatus } from '../../../components/Enumeration';\nimport ColumnMenu from '../../../components/data-grid/ColumnMenu';\nimport UserTree from './UserTree';\nimport { AtTableWrap, FontIconWrap } from '../../../components/data-grid/data-grid.styles';\nimport ReactTooltip from 'react-tooltip';\nimport './UserMapping.css';\nimport { AtHeader } from '../../../components/header/header.styles';\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\nimport { fileViewUrl } from '../../../rsapi';\nimport { loadMessages, LocalizationProvider } from '@progress/kendo-react-intl'; // import messages_en from '../../../assets/translations/en.json';\n// import messages_de from '../../../assets/translations/de.json';\n\nimport { Affix } from 'rsuite';\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n}; // const messages = {\n//     'en-US': messages_en,\n//     'ko-KR': messages_de\n// }\n\n\nclass UserMapping extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sidebarExpandCollapse = () => {\n      this.setState({\n        sidebarview: true\n      });\n    };\n\n    this.handlePanAndZoom = (a, b, scale) => {\n      scale = scale > 1 ? 1 : scale;\n      this.setState({\n        a,\n        b,\n        scale\n      });\n    };\n\n    this.handlePanMove = (a, b) => {\n      this.setState({\n        a,\n        b\n      });\n    };\n\n    this.dataStateChange = (event, nuserrolecode) => {\n      let dataState = { ...this.state.dataState,\n        [nuserrolecode]: event.dataState\n      };\n      let dataResult = this.state.dataResult;\n      dataResult[nuserrolecode] = process(this.props.Login.masterData[nuserrolecode], event.dataState);\n      this.props.Login.dataState = dataState;\n      this.setState({\n        dataState,\n        dataResult\n      });\n    };\n\n    this.acceptCopy = (saveType, inputParam, masterData) => {\n      const copyId = this.state.controlMap.has(\"CopyUserMapping\") && this.state.controlMap.get(\"CopyUserMapping\").ncontrolcode;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, copyId)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType,\n            operation: this.props.Login.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openChildModal\");\n      }\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let addedUsers = [];\n      let inputData = {};\n\n      if (this.props.Login.operation === 'copy') {\n        inputData = {\n          usermapping: {\n            ntreeversiontempcode: this.templateVersionValue.value,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            nregtypecode: this.state.selectedRecord[\"regtype\"].value,\n            nregsubtypecode: this.state.selectedRecord[\"regsubtype\"].value,\n            userinfo: this.props.Login.userInfo,\n            nsitecode: this.props.Login.masterData.selectedSite.nsitecode\n          },\n          userinfo: this.props.Login.userInfo\n        };\n        const masterData = this.props.Login.masterData;\n        const inputParam = {\n          methodUrl: 'UserMapping',\n          classUrl: this.props.Login.inputParam.classUrl,\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: inputData,\n          saveType,\n          formRef,\n          operation: 'copy',\n          searchRef: this.searchRef,\n          dataState: { ...this.state.dataState,\n            [this.props.Login.childRole]: {\n              skip: 0,\n              take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n            }\n          }\n        };\n        this.confirmMessage.confirm(this.props.intl.formatMessage({\n          id: \"IDS_CONFIRMATION\"\n        }), this.props.intl.formatMessage({\n          id: \"IDS_CONFIRMATION\"\n        }) + \"!\", this.props.intl.formatMessage({\n          id: \"IDS_COPYUSERMAPPINGALERT\"\n        }) + \" ?\", this.props.intl.formatMessage({\n          id: \"IDS_OK\"\n        }), this.props.intl.formatMessage({\n          id: \"IDS_CANCEL\"\n        }), () => this.acceptCopy(saveType, inputParam, masterData));\n      }\n\n      if (this.state.selectedRecord.nusercode && this.state.selectedRecord.nusercode.length > 0) {\n        this.state.selectedRecord.nusercode.map(user => {\n          addedUsers.push({\n            nversioncode: this.templateVersionValue.value,\n            napprovalconfigcode: this.props.Login.masterData.approvalConfigCode || this.templateVersionValue.item.napprovalconfigcode || -1,\n            nparentrolecode: this.props.Login.parentRole,\n            nparentusercode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].UserCode,\n            nparentusersitecode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].usersitecode,\n            nchildrolecode: user.item.nuserrolecode,\n            nchildusercode: user.item.UserCode,\n            nchildusersitecode: user.item.nusersitecode,\n            nparusermappingcode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].nusermappingcode,\n            nlevel: user.item.nlevelno,\n            nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\n            nstatus: 1\n          });\n          return null;\n        });\n        const masterData = this.props.Login.masterData;\n        inputData = {\n          users: {\n            userinfo: this.props.Login.userInfo,\n            usermapping: addedUsers,\n            nparusermappingcode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].nusermappingcode,\n            nuserrolecode: this.props.Login.parentRole,\n            nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\n            nversioncode: this.templateVersionValue.value,\n            levelno: this.props.Login.nlevelno,\n            nregtypecode: this.props.Login.masterData.registrationTypeValue.value ? this.props.Login.masterData.registrationTypeValue.value : -1,\n            nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1\n          },\n          userinfo: this.props.Login.userInfo\n        };\n        const inputParam = {\n          methodUrl: 'Users',\n          classUrl: this.props.Login.inputParam.classUrl,\n          displayName: this.props.Login.inputParam.displayName,\n          inputData: inputData,\n          saveType,\n          formRef,\n          operation: 'create',\n          searchRef: this.searchRef,\n          dataState: { ...this.state.dataState,\n            [this.props.Login.childRole]: {\n              skip: 0,\n              take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n            }\n          }\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData\n              },\n              saveType,\n              operation: this.props.Login.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, masterData, \"openChildModal\");\n        }\n      }\n    };\n\n    this.deleteUsers = (deleteId, nusermappingcode, nparusermappingcode, role) => {\n      const inputData = {\n        'users': {\n          nusermappingcode: nusermappingcode,\n          nparusermappingcode: nparusermappingcode,\n          nuserrolecode: role.nparentrolecode,\n          nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\n          nversioncode: this.templateVersionValue.value,\n          levelno: role.nlevelno,\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      inputData['userinfo'] = this.props.Login.userInfo;\n      const inputParam = {\n        methodUrl: 'Users',\n        classUrl: this.props.Login.inputParam.classUrl,\n        displayName: this.props.Login.inputParam.displayName,\n        inputData: inputData,\n        operation: \"delete\",\n        dataState: this.state.dataState,\n        postParam: {\n          inputListName: \"Site\",\n          selectedObject: \"selectedSite\",\n          primaryKeyField: \"nsitecode\",\n          searchFieldList: [\"ssitename\"],\n          fetchUrl: \"usermapping/getUserMappingBySite\",\n          fecthInputObject: {\n            nversioncode: this.templateVersionValue ? this.templateVersionValue.value : -1,\n            userinfo: this.props.Login.userInfo\n          },\n          unchangeList: [\"TreeVersion\", \"templateVersionValue\", \"Approvalsubtype\", \"approvalSubTypeValue\", \"RegistrationType\", \"registrationTypeValue\", \"RegistrationSubType\", \"registrationSubTypeValue\", \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\", \"realTemplateVersionValue\"],\n          masterData: this.props.Login.masterData\n        }\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            operation: \"delete\",\n            openChildModal: true,\n            screenName: this.props.intl.formatMessage({\n              id: this.props.Login.inputParam.displayName\n            })\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openChildModal\");\n      }\n    };\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openChildModal = this.props.Login.openChildModal;\n      let graphView = this.props.Login.graphView;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openChildModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = undefined;\n          selectedRecord['esigncomments'] = undefined;\n          selectedRecord['esignreason'] = undefined;\n        }\n      } else {\n        openChildModal = false;\n        graphView = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openChildModal,\n          loadEsign,\n          selectedRecord,\n          graphView\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openChildModal\");\n    };\n\n    this.getUserMapping = () => {\n      if (this.state.ApprovalsubtypeList.length > 0) {\n        // this.searchRef.current.value = \"\"\n        // let approvalSubTypeValue = this.approvalSubTypeValue ? this.approvalSubTypeValue : this.state.ApprovalsubtypeList.length > 0 ? \n        //                             this.state.ApprovalsubtypeList[0] : -1;\n        let masterData = { ...this.props.Login.masterData,\n          realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue : -1,\n          //realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue?this.props.Login.masterData.approvalSubTypeValue.value === 1 ? this.props.Login.masterData.approvalSubTypeValue :this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue:-1:this.props.Login.masterData.realApprovalSubTypeValue,\n          realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\n          realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\n          //realTemplateVersionValue: this.props.Login.masterData.templateVersionValue ? this.props.Login.masterData.templateVersionValue : -1,\n          realTemplateVersionValue: this.props.Login.masterData.templateVersionValue ? this.props.Login.masterData.templateVersionValue : this.props.Login.masterData.realTemplateVersionValue ? this.props.Login.masterData.realTemplateVersionValue : -1\n        };\n        let inputParamData = {\n          nFlag: 6,\n          // napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue.value,\n          napprovalsubtypecode: this.approvalSubTypeValue.value ? this.approvalSubTypeValue.value : -1,\n          nregtypecode: this.props.Login.masterData.registrationTypeValue.value ? this.props.Login.masterData.registrationTypeValue.value : -1,\n          nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\n          //ntemplatecode: this.props.Login.masterData.approvalSubTypeValue.item.ntemplatecode,\n          ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\n          // nversioncode:  this.props.Login.masterData.templateVersionValue ?  this.props.Login.masterData.templateVersionValue.value : -1,\n          nversioncode: this.templateVersionValue.value ? this.templateVersionValue.value : -1,\n          userinfo: this.props.Login.userInfo,\n          masterData,\n          searchRef: this.searchRef\n        };\n\n        if (inputParamData.napprovalsubtypecode > 0 && inputParamData.nregtypecode > 0 && inputParamData.nregsubtypecode > 0 && inputParamData.nversioncode > 0) {\n          this.props.getUserMapping(inputParamData);\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_PLSSELECTALLVALUESINFILTER\"\n          }));\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.reloadData = () => {\n      // const inputParam = {\n      //     inputData: { \"userinfo\": this.props.Login.userInfo },\n      //     classUrl: \"usermapping\",\n      //     methodUrl: \"UserMapping\",\n      //     displayName: \"IDS_USERMAPPING\",\n      //     userInfo: this.props.Login.userInfo\n      // };\n      // this.props.callService(inputParam);\n      if (this.props.Login.masterData.approvalSubTypeValue) {\n        //ALPD-4803 done by Dhanushya RI,To check searchref key is present or not\n        if (this.searchRef && this.searchRef.current) {\n          this.searchRef.current.value = \"\";\n        }\n\n        let masterData = { ...this.props.Login.masterData,\n          realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\n          realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\n          realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\n          realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\n          realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1\n        };\n        const inputData = {\n          napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue.value : -1,\n          napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\n          ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\n          userinfo: this.props.Login.userInfo\n        };\n        let inputParamData = {\n          inputData,\n          masterData\n        };\n        this.props.getApprovalConfigurationVersion(inputParamData);\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\"\n        }));\n      }\n    };\n\n    this.onComboChange = (comboData, comboName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (comboData && comboName === \"regtype\") {\n        selectedRecord[comboName] = comboData;\n        let nregsubtypecode = this.props.Login.masterData.registrationSubTypeValue.value;\n        this.props.getCopyUserMappingSubType(comboData, nregsubtypecode, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType);\n      } else {\n        if (comboData) {\n          selectedRecord[comboName] = comboData;\n          this.setState({\n            selectedRecord\n          });\n        } else {\n          selectedRecord[comboName] = [];\n          this.setState({\n            selectedRecord,\n            availableQB: []\n          });\n        }\n      }\n    };\n\n    this.onFilterComboChange = (comboData, fieldName) => {\n      const selectedRecord = this.state.selectedRecord || {};\n      let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\n      let registrationSubTypeValue = this.props.Login.masterData.registrationSubTypeValue;\n      let templateVersionValue = this.props.Login.masterData.templateVersionValue;\n\n      if (comboData) {\n        selectedRecord[fieldName] = comboData.value;\n        let inputParamData = {};\n\n        if (fieldName === 'napprovalsubtypecode') {\n          this.approvalSubTypeValue = comboData;\n          inputParamData = {\n            nFlag: 2,\n            napprovalsubtypecode: comboData.value,\n            ntemplatecode: comboData.item.ntemplatecode,\n            userinfo: this.props.Login.userInfo\n          };\n        } else if (fieldName === 'nregtypecode') {\n          registrationTypeValue = comboData;\n          inputParamData = {\n            nFlag: 3,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\n            nregtypecode: comboData.value,\n            userinfo: this.props.Login.userInfo\n          };\n        } else if (fieldName === 'nregsubtypecode') {\n          registrationSubTypeValue = comboData;\n          inputParamData = {\n            nFlag: 4,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            nregtypecode: registrationTypeValue.value,\n            nregsubtypecode: comboData.value,\n            ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\n            userinfo: this.props.Login.userInfo\n          };\n        } else {\n          this.templateVersionValue = comboData;\n          templateVersionValue = comboData;\n          inputParamData = {\n            nFlag: 5,\n            napprovalsubtypecode: this.approvalSubTypeValue.value,\n            nregtypecode: this.approvalSubTypeValue.value === 2 ? registrationTypeValue.value : -1,\n            nregsubtypecode: this.approvalSubTypeValue.value === 2 ? registrationSubTypeValue.value : -1,\n            ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\n            nversioncode: comboData.value,\n            userinfo: this.props.Login.userInfo\n          };\n        }\n\n        const oldState = {\n          Approvalsubtype: this.props.Login.masterData.Approvalsubtype,\n          RegistrationType: this.props.Login.masterData.RegistrationType,\n          RegistrationSubType: this.props.Login.masterData.RegistrationSubType,\n          TreeVersion: this.props.Login.masterData.TreeVersion,\n          approvalSubTypeValue: this.approvalSubTypeValue,\n          registrationTypeValue,\n          registrationSubTypeValue,\n          templateVersionValue,\n          RegistrationTypeList: this.state.RegistrationTypeList,\n          RegistrationSubTypeList: this.state.RegistrationSubTypeList,\n          templateVersionOptionList: this.state.templateVersionOptionList\n        };\n        this.props.getUserMappingFilterChange(inputParamData, oldState, this.props.Login.masterData);\n      } else {\n        selectedRecord[fieldName] = \"\";\n\n        if (fieldName === 'napprovalsubtypecode') {\n          this.approvalSubTypeValue = [];\n          registrationTypeValue = [];\n          registrationSubTypeValue = [];\n          templateVersionValue = [];\n        } else if (fieldName === 'nregtypecode') {\n          registrationTypeValue = [];\n          registrationSubTypeValue = [];\n          templateVersionValue = [];\n        } else if (fieldName === 'nregsubtypecode') {\n          registrationSubTypeValue = [];\n          templateVersionValue = [];\n        } else {\n          templateVersionValue = [];\n          this.templateVersionValue = [];\n        }\n\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.changeViewMode = event => {\n      event.target.checked === true ? this.setState({\n        viewMode: \"Grid\"\n      }) : this.setState({\n        viewMode: \"List\"\n      });\n    };\n\n    this.copyData = () => {\n      let napprovalsubtypecode = this.approvalSubTypeValue.value;\n      let nregsubtypecode = this.props.Login.masterData.registrationSubTypeValue.value;\n      this.props.getCopyUserMapping(napprovalsubtypecode, nregsubtypecode, this.props.Login.userInfo, this.props.Login.masterData);\n    };\n\n    this.userSearchFilterChange = (comboData, comboName) => {\n      let {\n        selectedRecord,\n        userList\n      } = this.state || [];\n\n      if (comboData) {\n        if (comboName === 'nuserrolecode') {\n          let roleUsers = [];\n          this.props.Login.userTree.map(x => {\n            if (x.nchildrolecode === comboData.value && !roleUsers.find(y => y.nchildusercode === x.nchildusercode)) {\n              roleUsers.push(x);\n            }\n\n            return null;\n          });\n          const userMap = constructOptionList(roleUsers, \"nusermappingcode\", \"username\", undefined, undefined, true);\n          userList = userMap.get(\"OptionList\");\n          selectedRecord[\"filteredRole\"] = comboData;\n          selectedRecord[\"filteredUser\"] = null;\n        } else {\n          selectedRecord[\"filteredUser\"] = comboData;\n        }\n      } else {\n        if (comboName === 'nuserrolecode') {\n          selectedRecord[\"filteredRole\"] = comboData;\n          selectedRecord[\"filteredUser\"] = null;\n          userList = [];\n        } else {\n          selectedRecord[\"filteredUser\"] = comboData;\n        }\n      }\n\n      this.setState({\n        selectedRecord,\n        userList\n      });\n    };\n\n    this.filterTree = () => {\n      if (this.state.selectedRecord.filteredRole) {\n        if (this.state.selectedRecord.filteredUser) {\n          let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\";\n          let data = {\n            id: 0,\n            label: /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1336,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(AtHeader, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1337,\n                columnNumber: 29\n              }\n            }, /*#__PURE__*/React.createElement(Media, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1338,\n                columnNumber: 33\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: \"img-profile rounded-circle mr-2\",\n              style: {\n                background: \"#e7e6f5\",\n                borderRadius: \"50%\",\n                border: \"1px solid #cbc5f7\",\n                color: \"#6554c0\",\n                padding: \"3px\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1339,\n                columnNumber: 37\n              }\n            }, siteName.split(\" \").length > 1 ? siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + siteName.split(\" \")[1].substring(0, 1).toUpperCase() : siteName.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1355,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: \"role\",\n              style: {\n                paddingTop: \"6px\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1357,\n                columnNumber: 41\n              }\n            }, siteName))))),\n            children: this.getRoottree(this.props.Login.userTree || [], -2, true)\n          };\n          this.setState({\n            data\n          });\n        } else {\n          toast.warn(this.props.intl.formatMessage({\n            id: \"IDS_SELECTAUSERTOSEARCH\"\n          }));\n        }\n      } else {\n        toast.warn(this.props.intl.formatMessage({\n          id: \"IDS_SELECTAUSERROLETOSEARCH\"\n        }));\n      }\n    };\n\n    this.clearFilter = () => {\n      let {\n        selectedRecord,\n        userList\n      } = this.state;\n      selectedRecord[\"filteredUser\"] = null;\n      selectedRecord[\"filteredRole\"] = null;\n      userList = [];\n      let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\";\n      let data = {\n        id: 0,\n        label: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1384,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(AtHeader, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1385,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Media, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1386,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"img-profile rounded-circle mr-2\",\n          style: {\n            background: \"#e7e6f5\",\n            borderRadius: \"50%\",\n            border: \"1px solid #cbc5f7\",\n            color: \"#6554c0\",\n            padding: \"3px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 29\n          }\n        }, siteName.split(\" \").length > 1 ? siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + siteName.split(\" \")[1].substring(0, 1).toUpperCase() : siteName.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1403,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"role\",\n          style: {\n            paddingTop: \"6px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 33\n          }\n        }, siteName))))),\n        children: this.getRoottree(this.props.Login.userTree || [], -2, false)\n      };\n      this.setState({\n        data,\n        selectedRecord,\n        userList\n      });\n    };\n\n    this.collapseAll = () => {\n      this.setState({\n        expanded: !this.state.expanded\n      });\n    };\n\n    this.formRef = React.createRef();\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n    const _dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      masterStatus: \"\",\n      error: \"\",\n      selectedRecord: {},\n      dataResult: [],\n      dataState: {\n        0: _dataState\n      },\n      userRoleControlRights: [],\n      controlMap: new Map(),\n      ApprovalsubtypeList: [],\n      RegistrationTypeList: [],\n      RegistrationSubTypeList: [],\n      templateVersionOptionList: [],\n      userRoleList: [],\n      userList: [],\n      data: [],\n      a: 0.5,\n      b: 0.5,\n      scale: 1,\n      expanded: false,\n      //dataResult:{}\n      sidebarview: false\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (props.Login.multilingualError && props.Login.multilingualError !== \"\") {\n      toast.warn(props.intl.formatMessage({\n        id: props.Login.multilingualError\n      }));\n      props.Login.multilingualError = \"\";\n    }\n\n    if (props.Login.dataState === undefined) {\n      props.Login.dataState = undefined;\n    }\n\n    if (props.Login.selectedRecord === undefined) {\n      return {\n        selectedRecord: {}\n      };\n    }\n\n    return null;\n  }\n\n  columnProps(field, nuserrolecode) {\n    return {\n      field: field,\n      columnMenu: ColumnMenu,\n      headerClassName: this.isColumnActive(field, this.state.dataState, nuserrolecode) ? 'active' : ''\n    };\n  }\n\n  isColumnActive(field, dataState, nuserrolecode) {\n    return GridColumnMenuFilter.active(field, dataState[nuserrolecode] ? dataState[nuserrolecode].filter : dataState['0'].filter);\n  }\n\n  render() {\n    // loadMessages(messages[this.props.Login.userInfo.slanguagetypecode], \"lang\");\n    const extractedColumnList = [{\n      \"idsName\": \"IDS_USERNAME\",\n      \"dataField\": \"Name\",\n      \"width\": \"35%\"\n    }, {\n      \"idsName\": \"IDS_LOGINID\",\n      \"dataField\": \"LoginId\",\n      \"width\": \"35%\"\n    }, {\n      \"idsName\": \"IDS_DEPARTMENT\",\n      \"dataField\": \"sdeptname\",\n      \"width\": \"10%\"\n    }];\n    const addId = this.state.controlMap.has(\"AddUserMapping\") && this.state.controlMap.get(\"AddUserMapping\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteUserMapping\") && this.state.controlMap.get(\"DeleteUserMapping\").ncontrolcode;\n    const copyId = this.state.controlMap.has(\"CopyUserMapping\") && this.state.controlMap.get(\"CopyUserMapping\").ncontrolcode; //  let approvalSubTypes = this.props.Login.masterData.Approvalsubtype ? sortData(this.props.Login.masterData.Approvalsubtype, 'ascending', 'ntemplatecode') : [];\n\n    let approvalSubTypes = this.state.ApprovalsubtypeList ? this.state.ApprovalsubtypeList : [];\n    this.approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : approvalSubTypes.length > 0 ? approvalSubTypes[0] : {};\n    this.templateVersionValue = this.props.Login.masterData.templateVersionValue ? this.props.Login.masterData.templateVersionValue : this.props.Login.masterData.TreeVersion ? this.props.Login.masterData.TreeVersion.length > 0 ? {\n      value: this.props.Login.masterData.TreeVersion[0].ntreeversiontempcode,\n      label: this.props.Login.masterData.TreeVersion[0].sversiondescription,\n      item: this.props.Login.masterData.TreeVersion[0]\n    } : {} : {};\n    const userRole = this.props.Login.masterData.UserRole ? sortData(this.props.Login.masterData.UserRole, 'ascending', 'nlevelno') : [];\n    const filterParam = {\n      inputListName: \"Site\",\n      selectedObject: \"selectedSite\",\n      primaryKeyField: \"nsitecode\",\n      searchFieldList: [\"ssitename\"],\n      fetchUrl: \"usermapping/getUserMappingBySite\",\n      fecthInputObject: {\n        nversioncode: this.templateVersionValue ? this.templateVersionValue.value : -1,\n        userinfo: this.props.Login.userInfo\n      },\n      unchangeList: [\"TreeVersion\", \"templateVersionValue\", \"Approvalsubtype\", \"approvalSubTypeValue\", \"RegistrationType\", \"registrationTypeValue\", \"RegistrationSubType\", \"registrationSubTypeValue\", \"realApprovalSubTypeValue\", \"realRegistrationTypeValue\", \"realRegistrationSubTypeValue\", \"realTemplateVersionValue\"],\n      masterData: this.props.Login.masterData\n    };\n    let mandatoryFields = [{\n      \"idsName\": \"IDS_USERS\",\n      \"dataField\": \"nusercode\",\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    }];\n\n    if (this.props.Login.operation === 'copy') {\n      mandatoryFields = [{\n        \"idsName\": \"IDS_REGISTRATIONTYPE\",\n        \"dataField\": \"regtype\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }, {\n        \"idsName\": \"IDS_REGISTRATIONSUBTYPE\",\n        \"dataField\": \"regsubtype\",\n        \"mandatoryLabel\": \"IDS_SELECT\",\n        \"controlType\": \"selectbox\"\n      }];\n    }\n\n    let breadCrumbData = [];\n\n    if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_REGISTRATIONTYPE\",\n        \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_REGISTRATIONSUBTYPE\",\n        \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_USERROLETEMPLATE\",\n        \"value\": this.props.Login.masterData.realTemplateVersionValue ? this.props.Login.masterData.realTemplateVersionValue.label : \"NA\"\n      }];\n    } else {\n      breadCrumbData = [{\n        \"label\": \"IDS_APPROVALSUBTYPE\",\n        \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\n      }, {\n        \"label\": \"IDS_USERROLETEMPLATE\",\n        \"value\": this.props.Login.masterData.realTemplateVersionValue ? this.props.Login.masterData.realTemplateVersionValue.label : \"NA\"\n      }];\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Affix, {\n      top: 53,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(BreadcrumbComponent, {\n      breadCrumbItem: breadCrumbData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '4' : \"2\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster //filterColumnData ={(filterValue)=>this.props.filterApprovalConfigColumnData(filterValue,this.props.Login.masterData,this.props.Login.userInfo,this.approvalSubTypeValue.value)}\n    , {\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      screenName: this.props.intl.formatMessage({\n        id: \"IDS_USERMAPPING\"\n      }),\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Site,\n      getMasterDetail: site => this.props.getUserMappingBySite(site, this.templateVersionValue.value, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedSite,\n      primaryKeyField: \"nsitecode\",\n      mainField: \"ssitename\" //firstField=\"ssiteaddress\"\n      ,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: -1,\n      hidePaging: true,\n      reloadData: this.getUserMapping,\n      searchRef: this.searchRef,\n      filterParam: filterParam,\n      filterColumnData: this.props.filterColumnData,\n      copyId: copyId,\n      showCopy: this.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL,\n      copyData: this.copyData,\n      showGraphView: true,\n      hideSearch: false,\n      getGraphView: () => this.props.getUserMappingGraphView(this.props.Login.masterData.selectedSite, this.templateVersionValue.value, this.props.Login.userInfo),\n      needAccordianFilter: false,\n      showFilterIcon: true,\n      onFilterSubmit: this.getUserMapping,\n      filterComponent: [{\n        \"IDS_FILTER\": /*#__PURE__*/React.createElement(UserMappingFilter, {\n          selectedRecord: this.state.selectedRecord || {},\n          filterComboChange: this.onFilterComboChange,\n          templateVersionOptions: this.state.templateVersionOptionList,\n          templateVersionValue: this.templateVersionValue,\n          Approvalsubtype: this.state.ApprovalsubtypeList,\n          approvalSubTypeValue: this.approvalSubTypeValue,\n          RegistrationType: this.state.RegistrationTypeList,\n          registrationTypeValue: this.props.Login.masterData.registrationTypeValue,\n          RegistrationSubType: this.state.RegistrationSubTypeList,\n          registrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 45\n          }\n        })\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: `${!this.props.sidebarview ? '8' : \"10\"}`,\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-view-btn \",\n      onClick: this.props.parentFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 33\n      }\n    }, !this.props.sidebarview ? /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-less-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-greater-than\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 33\n      }\n    }, userRole.map((role, index) => /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(SearchAdd, {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(MediaHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 53\n      }\n    }, role.suserrolename)), /*#__PURE__*/React.createElement(Button, {\n      id: `adduser_${role.nuserrolecode}`,\n      className: \"btn btn-circle solid-blue\",\n      role: \"button\",\n      hidden: this.state.userRoleControlRights.indexOf(addId) === -1,\n      onClick: () => this.props.openUserMappingModal(role, this.props.Login.masterData.selectedSite.nsitecode, this.props.Login.masterData[`selectedUser_${role.nlevelno === 1 ? role.nuserrolecode : role.nparentrolecode}`], this.templateVersionValue.value, this.props.Login.userInfo, this.props.Login.masterData, userRole.filter(x => x.nuserrolecode === role.nparentrolecode).length > 0 ? userRole.filter(x => x.nuserrolecode === role.nparentrolecode)[0].suserrolename : \"\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_ADD\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(AtTableWrap, {\n      className: \"at-list-table\",\n      actionColWidth: this.props.actionColWidth ? this.props.actionColWidth : \"150px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(LocalizationProvider, {\n      language: this.props.Login.userInfo.slanguagetypecode,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Grid, Object.assign({\n      key: role.nuserrolecode,\n      data: this.state.dataResult[`${role.nuserrolecode}`],\n      onRowClick: user => this.props.getChildUsers(user.dataItem, role, this.props.Login.masterData.selectedSite.nsitecode, this.templateVersionValue.value, this.props.Login.userInfo, this.props.Login.masterData, this.state.dataState, userRole),\n      selectedField: \"selected\",\n      style: {\n        minHeight: '20em'\n      },\n      onDataStateChange: event => this.dataStateChange(event, role.nuserrolecode),\n      resizable: true,\n      reorderable: true,\n      scrollable: true,\n      sortable: true,\n      pageable: {\n        buttonCount: 2,\n        pageSizes: this.props.Login.settings && this.props.Login.settings[15].split(\",\").map(setting => parseInt(setting)),\n        previousNext: false\n      }\n    }, this.state.dataState[role.nuserrolecode] ? this.state.dataState[role.nuserrolecode] : this.state.dataState['0'], {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 61\n      }\n    }), extractedColumnList.map((item, key) => /*#__PURE__*/React.createElement(GridColumn, Object.assign({\n      key: key,\n      title: this.props.intl.formatMessage({\n        id: item.idsName\n      }),\n      field: item.dataField\n    }, this.columnProps(item.dataField, role.nuserrolecode), {\n      cell: row => /*#__PURE__*/React.createElement(\"td\", {\n        \"data-tip\": row[\"dataItem\"][item.dataField] //  data-for=\"tooltip-grid-wrap\" \n        ,\n        className: this.props.Login.masterData[`selectedUser_${role.nuserrolecode}`].nusermappingcode === row[\"dataItem\"]['nusermappingcode'] ? 'active' : '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 77\n        }\n      }, row[\"dataItem\"][item.dataField]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 69\n      }\n    }))), /*#__PURE__*/React.createElement(GridColumn, {\n      locked: true,\n      headerClassName: \"text-center\",\n      sort: false,\n      title: this.props.intl.formatMessage({\n        id: 'IDS_ACTION'\n      }),\n      cell: row => /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        className: \"action-icons-wrap text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 77\n        }\n      }, /*#__PURE__*/React.createElement(FontIconWrap, {\n        className: \"d-font-icon\",\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_DELETE\"\n        }),\n        \"data-place\": \"left\",\n        title: this.props.intl.formatMessage({\n          id: \"IDS_DELETE\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 81\n        }\n      }, /*#__PURE__*/React.createElement(ConfirmDialog, {\n        name: \"deleteMessage\",\n        message: this.props.intl.formatMessage({\n          id: \"IDS_DEFAULTCONFIRMMSG\"\n        }),\n        doLabel: this.props.intl.formatMessage({\n          id: \"IDS_OK\"\n        }),\n        doNotLabel: this.props.intl.formatMessage({\n          id: \"IDS_CANCEL\"\n        }),\n        icon: faTrashAlt // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\n        ,\n        hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n        handleClickDelete: () => this.deleteUsers(deleteId, row['dataItem'].nusermappingcode, row['dataItem'].nparusermappingcode, role),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 85\n        }\n      })), userRole.length - 1 === index ? \"\" : /*#__PURE__*/React.createElement(FontIconWrap, {\n        className: \"d-font-icon\",\n        onClick: () => this.props.getUserMappingGraphView(this.props.Login.masterData.selectedSite, this.templateVersionValue.value, this.props.Login.userInfo, row['dataItem'], role),\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_GRAPH\"\n        }),\n        \"data-place\": \"left\",\n        title: this.props.intl.formatMessage({\n          id: \"IDS_GRAPH\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 85\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faSitemap,\n        className: \"fa-rotate-270\" // onClick={() => this.props.getUserMappingGraphView(\n        //     this.props.Login.masterData.selectedSite, this.templateVersionValue.value,\n        //     this.props.Login.userInfo, row['dataItem'], role)}\n        // title={this.props.intl.formatMessage({ id: \"IDS_GRAPH\" })}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 89\n        }\n      })))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 65\n      }\n    }))))))))))))), this.props.Login.openChildModal ? /*#__PURE__*/React.createElement(SlideOutModal, {\n      onSaveClick: this.onSaveClick,\n      operation: this.props.Login.operation,\n      screenName: this.props.Login.graphView ? \"IDS_USERMAPPING\" : this.props.Login.childRoleName || \"IDS_USERMAPPING\",\n      closeModal: this.closeModal,\n      show: this.props.Login.openChildModal,\n      inputParam: this.props.Login.inputParam,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: mandatoryFields,\n      graphView: this.props.Login.graphView,\n      size: this.props.Login.graphView ? 'xl' : 'lg',\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 33\n        }\n      }) : this.props.Login.operation === 'copy' ? /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 41\n        }\n      }, this.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ? /*#__PURE__*/React.createElement(React.Fragment, null, this.props.Login.optCopyRegType ? /*#__PURE__*/React.createElement(FormSelectSearch, {\n        formLabel: this.props.intl.formatMessage({\n          id: \"IDS_REGISTRATIONTYPE\"\n        }),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_SELECTRECORD\"\n        }),\n        name: \"regtype\",\n        optionId: \"nregtypecode\",\n        optionValue: \"sregtypename\",\n        options: this.props.Login.optCopyRegType,\n        value: this.state.selectedRecord ? this.state.selectedRecord[\"regtype\"] : this.registrationTypeValue,\n        onChange: event => this.onComboChange(event, 'regtype'),\n        isMandatory: false,\n        isMulti: false,\n        isSearchable: true,\n        isDisabled: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 57\n        }\n      }) : \"\", this.props.Login.optCopyRegSubType ? /*#__PURE__*/React.createElement(FormSelectSearch, {\n        formLabel: this.props.intl.formatMessage({\n          id: \"IDS_REGISTRATIONSUBTYPE\"\n        }),\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_SELECTRECORD\"\n        }),\n        name: \"regsubtype\",\n        optionId: \"nregsubtypecode\",\n        optionValue: \"sregsubtypename\",\n        options: this.props.Login.optCopyRegSubType,\n        value: this.state.selectedRecord && this.state.selectedRecord[\"regsubtype\"],\n        isMandatory: false,\n        isMulti: false,\n        isSearchable: true,\n        isDisabled: false,\n        onChange: event => this.onComboChange(event, 'regsubtype'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 57\n        }\n      }) : \"\") : \"\")) : this.props.Login.graphView ? /*#__PURE__*/React.createElement(UserTree, {\n        userRoleList: this.state.userRoleList,\n        userList: this.state.userList,\n        data: this.state.data,\n        expanded: this.state.expanded,\n        collapseAll: this.collapseAll,\n        selectedRecord: this.state.selectedRecord,\n        clearFilter: this.clearFilter,\n        filterTree: this.filterTree,\n        userSearchFilterChange: this.userSearchFilterChange,\n        a: this.state.a,\n        b: this.state.b,\n        scale: this.state.scale,\n        handlePanAndZoom: this.handlePanAndZoom,\n        handlePanMove: this.handlePanMove,\n        hideFilters: this.props.Login.hideFilters,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 41\n        }\n      }) : /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(FormSelectSearch, {\n        name: 'users',\n        formLabel: this.props.Login.childRoleName //{this.props.intl.formatMessage({ id: \"IDS_USERS\" })}\n        // placeholder={this.props.Login.childRoleName}//{this.props.intl.formatMessage({ id: \"IDS_USERS\" })}\n        ,\n        placeholder: this.props.intl.formatMessage({\n          id: \"IDS_SELECTRECORD\"\n        }),\n        value: this.state.selectedRecord ? this.state.selectedRecord.nusercode ? this.state.selectedRecord.nusercode : [] : [],\n        options: this.props.Login.AvailableUsers ? this.props.Login.AvailableUsers : [],\n        optionId: \"id\",\n        optionValue: \"Name\",\n        isMandatory: true,\n        isMulti: true,\n        isDisabled: false,\n        isSearchable: true,\n        closeMenuOnSelect: false,\n        isClearable: true,\n        as: \"select\",\n        onChange: event => this.onComboChange(event, 'nusercode'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 49\n        }\n      }))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691,\n        columnNumber: 21\n      }\n    }) : \"\");\n  }\n\n  componentDidUpdate(previousProps) {\n    ReactTooltip.rebuild();\n    let {\n      selectedRecord,\n      dataState,\n      userRoleControlRights,\n      controlMap,\n      ApprovalsubtypeList,\n      data,\n      dataResult,\n      RegistrationTypeList,\n      RegistrationSubTypeList,\n      templateVersionOptionList,\n      userRoleList\n    } = this.state;\n    let updateState = false;\n\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      //this.setState({ selectedRecord: this.props.Login.selectedRecord });\n      selectedRecord = this.props.Login.selectedRecord;\n      updateState = true;\n    }\n\n    if (this.props.Login.userTree !== previousProps.Login.userTree) {\n      let filter = selectedRecord.filteredUser ? true : false;\n\n      if (this.props.Login.selectedTreeParent !== undefined) {\n        let status = true;\n        this.props.Login.selectedTreeParent.suserimgftp !== null && this.props.Login.files && this.props.Login.files.includes(this.props.Login.selectedTreeParent.suserimgftp) ? status = true : status = false;\n        let element = this.props.Login.selectedTreeParent;\n        data = {\n          id: this.props.Login.selectedTreeParent.nusermappingcode,\n          label: /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              userSelect: 'none'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(AtHeader, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(Media, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 33\n            }\n          }, status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ? /*#__PURE__*/React.createElement(Image, {\n            src: this.props.Login.settings[5] + element.suserimgftp,\n            alt: \"avatar\",\n            className: \"img-profile rounded-circle mr-2\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 41\n            }\n          }) : /*#__PURE__*/React.createElement(\"span\", {\n            className: \"img-profile rounded-circle mr-2\",\n            style: {\n              background: \"#e7e6f5\",\n              borderRadius: \"50%\",\n              border: \"1px solid #cbc5f7\",\n              color: \"#6554c0\",\n              padding: \"3px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 43\n            }\n          }, element.username && element.username.split(\" \").length > 1 ? element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + element.username.split(\" \")[1].substring(0, 1).toUpperCase() : element.username.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"user-name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 41\n            }\n          }, element.username), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"role\",\n            style: {\n              paddingTop: \"3px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 41\n            }\n          }, element.suserrolename))))),\n          children: this.getRoottree(this.props.Login.userTree || [], this.props.Login.selectedTreeParent.nusermappingcode, false)\n        };\n      } else {\n        let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\";\n        data = {\n          id: 0,\n          label: /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(AtHeader, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(Media, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"img-profile rounded-circle mr-2\",\n            style: {\n              background: \"#e7e6f5\",\n              borderRadius: \"50%\",\n              border: \"1px solid #cbc5f7\",\n              color: \"#6554c0\",\n              padding: \"3px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 37\n            }\n          }, siteName.split(\" \").length > 1 ? siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + siteName.split(\" \")[1].substring(0, 1).toUpperCase() : siteName.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"role\",\n            style: {\n              paddingTop: \"6px\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 41\n            }\n          }, siteName))))),\n          children: this.getRoottree(this.props.Login.userTree || [], -2, filter, selectedRecord.filteredUser, selectedRecord.filteredRole)\n        };\n      }\n\n      updateState = true;\n    }\n\n    if (this.props.Login.dataState !== previousProps.Login.dataState) {\n      if (this.props.Login.dataState === undefined) {\n        // this.setState({ dataState: { '0': this.state.dataState['0'] } })\n        dataState = {\n          '0': this.state.dataState['0']\n        };\n        updateState = true;\n      } else {\n        // this.setState({ dataState: this.props.Login.dataState ? this.props.Login.dataState : this.state.dataState['0'] });\n        dataState = this.props.Login.dataState ? { ...this.props.Login.dataState\n        } : {\n          '0': this.state.dataState['0']\n        };\n        updateState = true;\n      }\n    }\n\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\n      updateState = true;\n      const userMap = constructOptionList(this.props.Login.masterData.UserRole || [], \"nuserrolecode\", \"suserrolename\", undefined, undefined, true);\n      userRoleList = userMap.get(\"OptionList\");\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", 'nregtypecode', 'ascending', false);\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nregsubtypecode', 'ascending', false);\n      const templateVersionOptionListMap = constructOptionList(this.props.Login.masterData.TreeVersion || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntreeversiontempcode', 'decending', false);\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\n      templateVersionOptionList = templateVersionOptionListMap.get(\"OptionList\");\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.Approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\n      const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", 'nregtypecode', 'ascending', false);\n      const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nregsubtypecode', 'ascending', false);\n      const templateVersionOptionListMap = constructOptionList(this.props.Login.masterData.TreeVersion || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntreeversiontempcode', 'decending', false);\n      ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\n      RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\n      RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\n      templateVersionOptionList = templateVersionOptionListMap.get(\"OptionList\"); //this.setState({userRoleControlRights, controlMap, ApprovalsubtypeList, RegistrationTypeList, RegistrationSubTypeList, templateVersionOptionList});\n\n      updateState = true;\n    }\n\n    if (updateState) {\n      const userRole = this.props.Login.masterData.UserRole ? sortData(this.props.Login.masterData.UserRole, 'ascending', 'nlevelno') : [];\n      userRole.map(role => {\n        let roleUsers = this.props.Login.masterData[`${role.nuserrolecode}`] ? sortData(this.props.Login.masterData[`${role.nuserrolecode}`], 'descending', 'nusermappingcode') : [];\n        dataResult[`${role.nuserrolecode}`] = process(roleUsers.map(item => ({ ...item,\n          selected: item.nusermappingcode === this.props.Login.masterData[`selectedUser_${role.nuserrolecode}`].nusermappingcode\n        })), dataState[role.nuserrolecode] ? dataState[role.nuserrolecode] : dataState['0']);\n        return null;\n      });\n      this.setState({\n        selectedRecord,\n        dataState,\n        userRoleControlRights,\n        controlMap,\n        ApprovalsubtypeList,\n        data,\n        RegistrationTypeList,\n        RegistrationSubTypeList,\n        templateVersionOptionList,\n        userRoleList\n      });\n    }\n  }\n\n  getRoottree(master, parent, filter, user, role) {\n    let child = [];\n    this.child = [];\n    let userTree = this.props.Login.userTree ? this.props.Login.userTree : [];\n    let fiteredUserParentRole = [];\n    let fiteredUserParentUser = [];\n    let filteredUser = this.state.selectedRecord.filteredUser || user;\n    let filteredRole = this.state.selectedRecord.filteredRole || role;\n\n    if (filter) {\n      this.props.Login.userTree.map(y => {\n        if (filteredRole && y.nchildrolecode === filteredRole.value && y.nchildusercode === filteredUser.item.nchildusercode) {\n          fiteredUserParentRole.push(y.nparentrolecode);\n        }\n\n        if (y.nchildusercode === filteredUser.item.nchildusercode) {\n          fiteredUserParentUser.push(y.nparentusercode);\n        }\n\n        return null;\n      });\n    }\n\n    userTree.forEach((element, index) => {\n      const labelColor = ['#e63109', '#2fb47d', '#eaa203', '#6554c0'];\n      const labelBGColor = ['#fcd7cd', '#e5f8f1', '#fcf3dd', '#e7e6f5'];\n      const borderColor = ['#e6310', '#c6f6e4', '#fde2a4', '#cbc5f7'];\n\n      if (element.nparusermappingcode === parent) {\n        let status = true;\n        element.suserimgftp !== null && this.props.Login.files && this.props.Login.files.includes(element.suserimgftp) ? status = true : status = false;\n\n        if (filteredRole && element.nchildrolecode === filteredRole.value) {\n          if (filteredUser && element.nchildusercode === filteredUser.item.nchildusercode) {\n            child.push({\n              id: element.nusermappingcode,\n              label: /*#__PURE__*/React.createElement(\"div\", {\n                style: {\n                  userSelect: 'none'\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 37\n                }\n              }, /*#__PURE__*/React.createElement(AtHeader, {\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 41\n                }\n              }, /*#__PURE__*/React.createElement(Media, {\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1172,\n                  columnNumber: 45\n                }\n              }, status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ? /*#__PURE__*/React.createElement(Image, {\n                src: this.props.Login.settings[5] + element.suserimgftp,\n                alt: \"avatar\",\n                className: \"img-profile rounded-circle mr-2\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1174,\n                  columnNumber: 53\n                }\n              }) : /*#__PURE__*/React.createElement(\"span\", {\n                className: \"img-profile rounded-circle mr-2\",\n                style: {\n                  background: labelBGColor[index % 4],\n                  borderRadius: \"50%\",\n                  border: `1px solid ${borderColor[index % 4]}`,\n                  color: labelColor[index % 4],\n                  padding: \"3px\"\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1175,\n                  columnNumber: 55\n                }\n              }, element.username && // element.username.split(\" \")[0].substring(0, 1).toUpperCase()\n              element.username.split(\" \").length > 1 ? element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + element.username.split(\" \")[1].substring(0, 1).toUpperCase() : element.username.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 49\n                }\n              }, /*#__PURE__*/React.createElement(\"span\", {\n                className: \"user-name\",\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1194,\n                  columnNumber: 53\n                }\n              }, element.username), /*#__PURE__*/React.createElement(\"span\", {\n                className: \"role\",\n                style: {\n                  paddingTop: \"3px\"\n                },\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 1195,\n                  columnNumber: 53\n                }\n              }, element.suserrolename))))),\n              children: this.getRoottree(this.props.Login.userTree, element.nusermappingcode, filter, user, role)\n            });\n          }\n        } else {\n          child.push({\n            id: element.nusermappingcode,\n            label: /*#__PURE__*/React.createElement(\"div\", {\n              style: {\n                userSelect: 'none'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 33\n              }\n            }, /*#__PURE__*/React.createElement(AtHeader, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(Media, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 41\n              }\n            }, status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ? /*#__PURE__*/React.createElement(Image, {\n              src: this.props.Login.settings[5] + element.suserimgftp,\n              alt: \"avatar\",\n              className: \"img-profile rounded-circle mr-2\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 49\n              }\n            }) : /*#__PURE__*/React.createElement(\"span\", {\n              className: \"img-profile rounded-circle mr-2\",\n              style: {\n                background: labelBGColor[index % 4],\n                borderRadius: \"50%\",\n                border: `1px solid ${borderColor[index % 4]}`,\n                color: labelColor[index % 4],\n                padding: \"3px\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 51\n              }\n            }, element.username && // element.username.split(\" \")[0].substring(0, 1).toUpperCase()\n            element.username.split(\" \").length > 1 ? element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" + element.username.split(\" \")[1].substring(0, 1).toUpperCase() : element.username.split(\" \")[0].substring(0, 1).toUpperCase()), /*#__PURE__*/React.createElement(Media.Body, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 45\n              }\n            }, /*#__PURE__*/React.createElement(\"span\", {\n              className: \"user-name\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 49\n              }\n            }, element.username), /*#__PURE__*/React.createElement(\"span\", {\n              className: \"role\",\n              style: {\n                paddingTop: \"3px\"\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 1277,\n                columnNumber: 49\n              }\n            }, element.suserrolename))))),\n            children: this.getRoottree(this.props.Login.userTree, element.nusermappingcode, filter, user, role)\n          });\n        }\n      }\n    });\n    return child;\n  }\n\n  addDefaultSrc(ev) {\n    ev.target.src = fileViewUrl() + \"/SharedFolder/Default-User-Image.png\";\n  } // getchildtree(master, parent, child) {\n  //     this.props.Login.userTree && this.props.Login.userTree.forEach(element => {\n  //         if (element.nparusermappingcode === parent) {\n  //             this.child.push(\n  //                 {\n  //                     id: element.nusermappingcode,\n  //                     label:\n  //                         <div className=\"d-flex justify-content-between\" style={{ userSelect: 'none' }}>\n  //                             <Row>\n  //                                 <Col md={12}>\n  //                                     {element.suserimgftp === null ?\n  //                                         <FontAwesomeIcon icon={faUserAlt}></FontAwesomeIcon> :\n  //                                         <img\n  //                                             src={fileViewUrl + \"/SharedFolder////\" + element.suserimgftp}\n  //                                             alt={\"userimg\"}\n  //                                             // onClick={() => window.open(signImgPath, '_blank')}\n  //                                             title={element.suserimgname}\n  //                                             style={{ borderRadius: \"50%\", width: \"30px\" }}\n  //                                         />\n  //                                     }\n  //                                 </Col>\n  //                                 <Col md={11}>\n  //                                     {element.username} <br /> {element.suserrolename}\n  //                                 </Col>\n  //                             </Row>\n  //                         </div>,\n  //                     children: this.getchildtree(this.props.Login.userTree, element.nusermappingcode)\n  //                 }\n  //             )\n  //         }\n  //     })\n  //     return child;\n  // }\n\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  openUserMappingModal,\n  updateStore,\n  getUserMappingGraphView,\n  getCopyUserMapping,\n  getUserMappingFilterChange,\n  getUserMappingBySite,\n  getChildUsers,\n  validateEsignCredential,\n  filterColumnData,\n  getCopyUserMappingSubType,\n  getUserMapping\n})(injectIntl(UserMapping));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5294/QuaLISWeb/src/pages/organisation/usermapping/UserMapping.jsx"],"names":["React","connect","toast","Row","Col","Nav","Button","Image","Media","DEFAULT_RETURN","injectIntl","callService","crudMaster","getUserMappingFilterChange","getUserMappingBySite","getUserMappingGraphView","getChildUsers","openUserMappingModal","updateStore","validateEsignCredential","filterColumnData","getCopyUserMapping","getCopyUserMappingSubType","getUserMapping","getControlMap","sortData","showEsign","constructOptionList","UserMappingFilter","MediaHeader","ContentPanel","FontAwesomeIcon","faPlus","faSitemap","faTrashAlt","ListMaster","SlideOutModal","Esign","FormSelectSearch","SearchAdd","ConfirmDialog","Grid","GridColumn","GridColumnMenuFilter","process","ApprovalSubType","transactionStatus","ColumnMenu","UserTree","AtTableWrap","FontIconWrap","ReactTooltip","AtHeader","ConfirmMessage","fileViewUrl","loadMessages","LocalizationProvider","Affix","BreadcrumbComponent","mapStateToProps","state","Login","UserMapping","Component","constructor","props","sidebarExpandCollapse","setState","sidebarview","handlePanAndZoom","a","b","scale","handlePanMove","dataStateChange","event","nuserrolecode","dataState","dataResult","masterData","acceptCopy","saveType","inputParam","copyId","controlMap","has","get","ncontrolcode","userRoleControlRights","userInfo","nformcode","updateInfo","typeName","data","loadEsign","screenData","operation","onSaveClick","formRef","addedUsers","inputData","usermapping","ntreeversiontempcode","templateVersionValue","value","napprovalsubtypecode","approvalSubTypeValue","nregtypecode","selectedRecord","nregsubtypecode","userinfo","nsitecode","selectedSite","methodUrl","classUrl","displayName","searchRef","childRole","skip","take","settings","parseInt","confirmMessage","confirm","intl","formatMessage","id","nusercode","length","map","user","push","nversioncode","napprovalconfigcode","approvalConfigCode","item","nparentrolecode","parentRole","nparentusercode","UserCode","nparentusersitecode","usersitecode","nchildrolecode","nchildusercode","nchildusersitecode","nusersitecode","nparusermappingcode","nusermappingcode","nlevel","nlevelno","nstatus","users","levelno","registrationTypeValue","registrationSubTypeValue","deleteUsers","deleteId","role","postParam","inputListName","selectedObject","primaryKeyField","searchFieldList","fetchUrl","fecthInputObject","unchangeList","openChildModal","screenName","closeModal","graphView","undefined","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","ApprovalsubtypeList","realApprovalSubTypeValue","realRegistrationTypeValue","realRegistrationSubTypeValue","realTemplateVersionValue","inputParamData","nFlag","ntemplatecode","warn","reloadData","current","realApprovalConfigCode","realTreeVersionTemplateValue","userroleTemplateValue","getApprovalConfigurationVersion","onComboChange","comboData","comboName","optCopyRegType","availableQB","onFilterComboChange","fieldName","oldState","Approvalsubtype","RegistrationType","RegistrationSubType","TreeVersion","RegistrationTypeList","RegistrationSubTypeList","templateVersionOptionList","onInputOnChange","target","type","name","checked","YES","NO","changeViewMode","viewMode","copyData","userSearchFilterChange","userList","roleUsers","userTree","x","find","y","userMap","filterTree","filteredRole","filteredUser","siteName","ssitename","background","borderRadius","border","color","padding","split","substring","toUpperCase","paddingTop","children","getRoottree","clearFilter","collapseAll","expanded","createRef","masterStatus","error","Map","userRoleList","getDerivedStateFromProps","multilingualError","columnProps","field","columnMenu","headerClassName","isColumnActive","active","filter","render","extractedColumnList","addId","approvalSubTypes","sversiondescription","userRole","UserRole","filterParam","mandatoryFields","breadCrumbData","TESTRESULTAPPROVAL","searchedData","Site","site","parentFunction","index","fontWeight","suserrolename","indexOf","actionColWidth","slanguagetypecode","dataItem","minHeight","buttonCount","pageSizes","setting","previousNext","key","idsName","dataField","row","childRoleName","optCopyRegSubType","hideFilters","AvailableUsers","componentDidUpdate","previousProps","rebuild","updateState","selectedTreeParent","status","suserimgftp","files","includes","element","userSelect","username","RegistrationTypeListMap","RegistrationSubTypeListMap","templateVersionOptionListMap","Object","values","ApprovalsubtypeListMap","selected","master","parent","child","fiteredUserParentRole","fiteredUserParentUser","forEach","labelColor","labelBGColor","borderColor","addDefaultSrc","ev","src"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { toast } from 'react-toastify'\r\nimport { Row, Col, Nav, Button, Image, Media } from 'react-bootstrap'\r\nimport { DEFAULT_RETURN } from '../../../actions/LoginTypes'\r\nimport { injectIntl } from 'react-intl';\r\nimport {\r\n    callService, crudMaster, getUserMappingFilterChange, getUserMappingBySite, getUserMappingGraphView,\r\n    getChildUsers, openUserMappingModal, updateStore, validateEsignCredential, filterColumnData,\r\n    getCopyUserMapping, getCopyUserMappingSubType,getUserMapping\r\n} from '../../../actions';\r\nimport { getControlMap, sortData, showEsign, constructOptionList } from '../../../components/CommonScript'\r\nimport UserMappingFilter from './UserMappingFilter';\r\nimport { MediaHeader, ContentPanel } from '../../../components/App.styles';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus, faSitemap, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport ListMaster from '../../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../../audittrail/Esign';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\nimport { SearchAdd } from '../../product/product.styled';\r\nimport ConfirmDialog from '../../../components/confirm-alert/confirm-alert.component';\r\nimport { Grid, GridColumn, GridColumnMenuFilter } from '@progress/kendo-react-grid';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport { ApprovalSubType, transactionStatus } from '../../../components/Enumeration';\r\nimport ColumnMenu from '../../../components/data-grid/ColumnMenu';\r\nimport UserTree from './UserTree'\r\nimport { AtTableWrap, FontIconWrap } from '../../../components/data-grid/data-grid.styles';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport './UserMapping.css'\r\nimport { AtHeader } from '../../../components/header/header.styles';\r\nimport ConfirmMessage from '../../../components/confirm-alert/confirm-message.component';\r\nimport { fileViewUrl } from '../../../rsapi';\r\nimport { loadMessages, LocalizationProvider } from '@progress/kendo-react-intl';\r\n// import messages_en from '../../../assets/translations/en.json';\r\n// import messages_de from '../../../assets/translations/de.json';\r\nimport { Affix } from 'rsuite';\r\nimport BreadcrumbComponent from '../../../components/Breadcrumb.Component';\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n// const messages = {\r\n//     'en-US': messages_en,\r\n//     'ko-KR': messages_de\r\n// }\r\nclass UserMapping extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.formRef = React.createRef();\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n\r\n        this.state = {\r\n            masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [], dataState: { 0: dataState },\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            ApprovalsubtypeList: [],\r\n            RegistrationTypeList: [],\r\n            RegistrationSubTypeList: [],\r\n            templateVersionOptionList: [],\r\n            userRoleList: [],\r\n            userList: [],\r\n            data: [],\r\n            a: 0.5,\r\n            b: 0.5,\r\n            scale: 1,\r\n            expanded: false,\r\n            //dataResult:{}\r\n            sidebarview: false\r\n        }\r\n    }\r\n    sidebarExpandCollapse = () => {\r\n        this.setState({\r\n            sidebarview: true\r\n        })          \r\n    }\r\n\r\n    handlePanAndZoom = (a, b, scale) => {\r\n        scale = scale > 1 ? 1 : scale\r\n        this.setState({ a, b, scale });\r\n    }\r\n\r\n    handlePanMove = (a, b) => {\r\n        this.setState({ a, b });\r\n    }\r\n\r\n    dataStateChange = (event, nuserrolecode) => {\r\n        let dataState = { ...this.state.dataState, [nuserrolecode]: event.dataState };\r\n        let dataResult = this.state.dataResult;\r\n        dataResult[nuserrolecode]=process(this.props.Login.masterData[nuserrolecode],event.dataState)\r\n        this.props.Login.dataState = dataState;\r\n        this.setState({ dataState,dataResult });\r\n    }\r\n\r\n    acceptCopy = (saveType, inputParam, masterData) => {\r\n        const copyId = this.state.controlMap.has(\"CopyUserMapping\") && this.state.controlMap.get(\"CopyUserMapping\").ncontrolcode;\r\n\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, copyId)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openChildModal\");\r\n        }\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let addedUsers = [];\r\n        let inputData = {};\r\n        if (this.props.Login.operation === 'copy') {\r\n            inputData = {\r\n                usermapping: {\r\n                    ntreeversiontempcode: this.templateVersionValue.value,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    nregtypecode: this.state.selectedRecord[\"regtype\"].value,\r\n                    nregsubtypecode: this.state.selectedRecord[\"regsubtype\"].value,\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\r\n                },\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n            const masterData = this.props.Login.masterData;\r\n            const inputParam = {\r\n                methodUrl: 'UserMapping',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData, saveType, formRef,\r\n                operation: 'copy',\r\n                searchRef: this.searchRef,\r\n                dataState: { ...this.state.dataState, [this.props.Login.childRole]: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 } }\r\n\r\n            }\r\n            this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }) + \"!\",\r\n                this.props.intl.formatMessage({ id: \"IDS_COPYUSERMAPPINGALERT\" }) + \" ?\",\r\n                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                () => this.acceptCopy(saveType, inputParam, masterData));\r\n        }\r\n        if (this.state.selectedRecord.nusercode && this.state.selectedRecord.nusercode.length > 0) {\r\n            this.state.selectedRecord.nusercode.map(user => {\r\n                addedUsers.push({\r\n                    nversioncode: this.templateVersionValue.value,\r\n                    napprovalconfigcode: this.props.Login.masterData.approvalConfigCode || this.templateVersionValue.item.napprovalconfigcode || -1,\r\n                    nparentrolecode: this.props.Login.parentRole,\r\n                    nparentusercode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].UserCode,\r\n                    nparentusersitecode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].usersitecode,\r\n                    nchildrolecode: user.item.nuserrolecode,\r\n                    nchildusercode: user.item.UserCode,\r\n                    nchildusersitecode: user.item.nusersitecode,\r\n                    nparusermappingcode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].nusermappingcode,\r\n                    nlevel: user.item.nlevelno,\r\n                    nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\r\n                    nstatus: 1,\r\n                    })\r\n                return null;\r\n            })\r\n            const masterData = this.props.Login.masterData;\r\n            inputData = {\r\n                users: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    usermapping: addedUsers,\r\n                    nparusermappingcode: this.props.Login.parentRole === -2 ? -2 : this.props.Login.masterData[`selectedUser_${this.props.Login.parentRole}`].nusermappingcode,\r\n                    nuserrolecode: this.props.Login.parentRole,\r\n                    nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\r\n                    nversioncode: this.templateVersionValue.value,\r\n                    levelno: this.props.Login.nlevelno,\r\n                    nregtypecode:  this.props.Login.masterData.registrationTypeValue.value ?  this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                    nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                },\r\n                userinfo: this.props.Login.userInfo,\r\n\r\n            }\r\n            const inputParam = {\r\n                methodUrl: 'Users',\r\n                classUrl: this.props.Login.inputParam.classUrl,\r\n                displayName: this.props.Login.inputParam.displayName,\r\n                inputData: inputData, saveType, formRef,\r\n                operation: 'create',\r\n                searchRef: this.searchRef,\r\n                dataState: { ...this.state.dataState, [this.props.Login.childRole]: { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 } }\r\n\r\n            }\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData }, saveType,\r\n                        operation: this.props.Login.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteUsers = (deleteId, nusermappingcode, nparusermappingcode, role) => {\r\n\r\n        const inputData = {\r\n            'users': {\r\n                nusermappingcode: nusermappingcode,\r\n                nparusermappingcode: nparusermappingcode,\r\n                nuserrolecode: role.nparentrolecode,\r\n                nsitecode: this.props.Login.masterData.selectedSite.nsitecode,\r\n                nversioncode: this.templateVersionValue.value,\r\n                levelno: role.nlevelno,\r\n                userinfo: this.props.Login.userInfo\r\n            }\r\n        }\r\n        inputData['userinfo'] = this.props.Login.userInfo\r\n        const inputParam = {\r\n            methodUrl: 'Users',\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: \"delete\",\r\n            dataState: this.state.dataState,\r\n            postParam : {\r\n                inputListName: \"Site\",\r\n                selectedObject: \"selectedSite\",\r\n                primaryKeyField: \"nsitecode\",\r\n                searchFieldList: [\"ssitename\"],\r\n                fetchUrl: \"usermapping/getUserMappingBySite\",\r\n                fecthInputObject: { nversioncode: this.templateVersionValue ? this.templateVersionValue.value : -1, userinfo: this.props.Login.userInfo },\r\n                unchangeList: [\"TreeVersion\", \"templateVersionValue\",\r\n                 \"Approvalsubtype\", \"approvalSubTypeValue\", \"RegistrationType\", \"registrationTypeValue\", \r\n                 \"RegistrationSubType\", \"registrationSubTypeValue\",\r\n                 \"realApprovalSubTypeValue\",\"realRegistrationTypeValue\",\"realRegistrationSubTypeValue\",\"realTemplateVersionValue\"],\r\n                masterData: this.props.Login.masterData\r\n            }\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteId)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, operation: \"delete\",\r\n                    openChildModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName })\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openChildModal\");\r\n        }\r\n\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openChildModal = this.props.Login.openChildModal;\r\n        let graphView = this.props.Login.graphView;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openChildModal = false;\r\n                selectedRecord = {};\r\n               \r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = undefined;\r\n                selectedRecord['esigncomments'] = undefined;\r\n                selectedRecord['esignreason']=undefined;\r\n            }\r\n        }\r\n        else {\r\n            openChildModal = false;\r\n            graphView = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openChildModal, loadEsign, selectedRecord, graphView }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    };\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.multilingualError && props.Login.multilingualError !== \"\") {\r\n            toast.warn(props.intl.formatMessage({ id: props.Login.multilingualError }))\r\n            props.Login.multilingualError = \"\";\r\n        }\r\n        if (props.Login.dataState === undefined) {\r\n            props.Login.dataState = undefined;\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openChildModal\");\r\n    }\r\n\r\n    columnProps(field, nuserrolecode) {\r\n        return {\r\n            field: field,\r\n            columnMenu: ColumnMenu,\r\n            headerClassName: this.isColumnActive(field, this.state.dataState, nuserrolecode) ? 'active' : ''\r\n        };\r\n    }\r\n\r\n    isColumnActive(field, dataState, nuserrolecode) {\r\n        return GridColumnMenuFilter.active(field, dataState[nuserrolecode] ? dataState[nuserrolecode].filter : dataState['0'].filter)\r\n    }\r\n\r\n    getUserMapping = () => {\r\n        if (this.state.ApprovalsubtypeList.length>0) {\r\n           // this.searchRef.current.value = \"\"\r\n\r\n            // let approvalSubTypeValue = this.approvalSubTypeValue ? this.approvalSubTypeValue : this.state.ApprovalsubtypeList.length > 0 ? \r\n            //                             this.state.ApprovalsubtypeList[0] : -1;\r\n         \r\n            let masterData = {\r\n                ...this.props.Login.masterData,\r\n                realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue  ? this.props.Login.masterData.approvalSubTypeValue : this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue: -1,\r\n                //realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue?this.props.Login.masterData.approvalSubTypeValue.value === 1 ? this.props.Login.masterData.approvalSubTypeValue :this.props.Login.masterData.realApprovalSubTypeValue?this.props.Login.masterData.realApprovalSubTypeValue:-1:this.props.Login.masterData.realApprovalSubTypeValue,\r\n                realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                //realTemplateVersionValue: this.props.Login.masterData.templateVersionValue ? this.props.Login.masterData.templateVersionValue : -1,\r\n                realTemplateVersionValue: this.props.Login.masterData.templateVersionValue ? this.props.Login.masterData.templateVersionValue : this.props.Login.masterData.realTemplateVersionValue?this.props.Login.masterData.realTemplateVersionValue: -1,\r\n\r\n            }\r\n       \r\n            let inputParamData = { \r\n                nFlag:6,\r\n                // napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue.value,\r\n                napprovalsubtypecode:this.approvalSubTypeValue.value?this.approvalSubTypeValue.value:-1,\r\n                nregtypecode:  this.props.Login.masterData.registrationTypeValue.value ?  this.props.Login.masterData.registrationTypeValue.value : -1,\r\n                nregsubtypecode: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue.value : -1,\r\n                //ntemplatecode: this.props.Login.masterData.approvalSubTypeValue.item.ntemplatecode,\r\n                ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\r\n               // nversioncode:  this.props.Login.masterData.templateVersionValue ?  this.props.Login.masterData.templateVersionValue.value : -1,\r\n                nversioncode: this.templateVersionValue.value?this.templateVersionValue.value:-1,\r\n                userinfo: this.props.Login.userInfo, \r\n                masterData ,\r\n                searchRef: this.searchRef\r\n            }\r\n            \r\n            if(inputParamData.napprovalsubtypecode > 0 &&  inputParamData.nregtypecode > 0 && inputParamData.nregsubtypecode > 0 && inputParamData.nversioncode > 0)\r\n            {\r\n                this.props.getUserMapping(inputParamData);\r\n            }\r\n            else\r\n            {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PLSSELECTALLVALUESINFILTER\" }))\r\n            }\r\n           \r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n        }\r\n    }\r\n\r\n\r\n    reloadData = () => {\r\n        // const inputParam = {\r\n        //     inputData: { \"userinfo\": this.props.Login.userInfo },\r\n        //     classUrl: \"usermapping\",\r\n        //     methodUrl: \"UserMapping\",\r\n        //     displayName: \"IDS_USERMAPPING\",\r\n        //     userInfo: this.props.Login.userInfo\r\n        // };\r\n\r\n        // this.props.callService(inputParam);\r\n        \r\n            if (this.props.Login.masterData.approvalSubTypeValue) {\r\n                //ALPD-4803 done by Dhanushya RI,To check searchref key is present or not\r\n                if (this.searchRef && this.searchRef.current) {\r\n                    this.searchRef.current.value = \"\";\r\n                  }                \r\n                let masterData = {\r\n                    ...this.props.Login.masterData,\r\n                    realApprovalSubTypeValue: this.props.Login.masterData.approvalSubTypeValue ? this.props.Login.masterData.approvalSubTypeValue : -1,\r\n                    realRegistrationTypeValue: this.props.Login.masterData.registrationTypeValue ? this.props.Login.masterData.registrationTypeValue : -1,\r\n                    realRegistrationSubTypeValue: this.props.Login.masterData.registrationSubTypeValue ? this.props.Login.masterData.registrationSubTypeValue : -1,\r\n                    realApprovalConfigCode: this.props.Login.masterData.approvalConfigCode || -1,\r\n                    realTreeVersionTemplateValue: this.props.Login.masterData.userroleTemplateValue || -1,\r\n    \r\n                }\r\n                const inputData = {\r\n                    napprovalsubtypecode: this.props.Login.masterData.approvalSubTypeValue ?\r\n                        this.props.Login.masterData.approvalSubTypeValue.value : -1,\r\n                    napprovalconfigcode: this.props.Login.masterData.approvalConfigCode,\r\n                    ntreeversiontempcode: this.props.Login.masterData.userroleTemplateValue.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n                let inputParamData = { inputData, masterData }\r\n                this.props.getApprovalConfigurationVersion(inputParamData);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_APPROVALSUBTYPENOTAVAILABLE\" }))\r\n            }\r\n    }\r\n\r\n    render() {\r\n       // loadMessages(messages[this.props.Login.userInfo.slanguagetypecode], \"lang\");\r\n        const extractedColumnList = [\r\n            { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"Name\", \"width\": \"35%\" },\r\n            { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"LoginId\", \"width\": \"35%\" },\r\n            { \"idsName\": \"IDS_DEPARTMENT\", \"dataField\": \"sdeptname\", \"width\": \"10%\" },\r\n        ]\r\n\r\n\r\n        const addId = this.state.controlMap.has(\"AddUserMapping\") && this.state.controlMap.get(\"AddUserMapping\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteUserMapping\") && this.state.controlMap.get(\"DeleteUserMapping\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"CopyUserMapping\") && this.state.controlMap.get(\"CopyUserMapping\").ncontrolcode;\r\n\r\n        //  let approvalSubTypes = this.props.Login.masterData.Approvalsubtype ? sortData(this.props.Login.masterData.Approvalsubtype, 'ascending', 'ntemplatecode') : [];\r\n        let approvalSubTypes = this.state.ApprovalsubtypeList ? this.state.ApprovalsubtypeList : [];\r\n        this.approvalSubTypeValue = this.props.Login.masterData.approvalSubTypeValue ?\r\n            this.props.Login.masterData.approvalSubTypeValue :\r\n            approvalSubTypes.length > 0 ? approvalSubTypes[0]: {};\r\n\r\n        this.templateVersionValue = this.props.Login.masterData.templateVersionValue ?\r\n            this.props.Login.masterData.templateVersionValue : this.props.Login.masterData.TreeVersion ? this.props.Login.masterData.TreeVersion.length > 0 ?\r\n                {\r\n                    value: this.props.Login.masterData.TreeVersion[0].ntreeversiontempcode,\r\n                    label: this.props.Login.masterData.TreeVersion[0].sversiondescription,\r\n                    item: this.props.Login.masterData.TreeVersion[0]\r\n                } : {} : {};\r\n        const userRole = this.props.Login.masterData.UserRole ? sortData(this.props.Login.masterData.UserRole, 'ascending', 'nlevelno') : []\r\n        const filterParam = {\r\n            inputListName: \"Site\",\r\n            selectedObject: \"selectedSite\",\r\n            primaryKeyField: \"nsitecode\",\r\n            searchFieldList: [\"ssitename\"],\r\n            fetchUrl: \"usermapping/getUserMappingBySite\",\r\n            fecthInputObject: { nversioncode: this.templateVersionValue ? this.templateVersionValue.value : -1, userinfo: this.props.Login.userInfo },\r\n            unchangeList: [\"TreeVersion\", \"templateVersionValue\",\r\n             \"Approvalsubtype\", \"approvalSubTypeValue\", \"RegistrationType\", \"registrationTypeValue\", \r\n             \"RegistrationSubType\", \"registrationSubTypeValue\",\r\n             \"realApprovalSubTypeValue\",\"realRegistrationTypeValue\",\"realRegistrationSubTypeValue\",\"realTemplateVersionValue\"],\r\n            masterData: this.props.Login.masterData\r\n        };\r\n        let mandatoryFields = [\r\n            { \"idsName\": \"IDS_USERS\", \"dataField\": \"nusercode\", \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n        ];\r\n        if (this.props.Login.operation === 'copy') {\r\n            mandatoryFields = [\r\n                { \"idsName\": \"IDS_REGISTRATIONTYPE\", \"dataField\": \"regtype\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n                { \"idsName\": \"IDS_REGISTRATIONSUBTYPE\", \"dataField\": \"regsubtype\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n            ]\r\n        }\r\n\r\n         let breadCrumbData = []\r\n         if (this.props.Login.masterData.realApprovalSubTypeValue && this.props.Login.masterData.realApprovalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL) {\r\n         breadCrumbData = [\r\n                {\r\n                    \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n                },\r\n                {\r\n                    \"label\": \"IDS_REGISTRATIONTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationTypeValue ? this.props.Login.masterData.realRegistrationTypeValue.label : \"NA\"\r\n                }, \r\n                {\r\n                    \"label\": \"IDS_REGISTRATIONSUBTYPE\",\r\n                    \"value\": this.props.Login.masterData.realRegistrationSubTypeValue ? this.props.Login.masterData.realRegistrationSubTypeValue.label : \"NA\"\r\n                }, \r\n                {\r\n                    \"label\": \"IDS_USERROLETEMPLATE\",\r\n                    \"value\": this.props.Login.masterData.realTemplateVersionValue ? this.props.Login.masterData.realTemplateVersionValue.label : \"NA\"\r\n                }\r\n             ];\r\n        } \r\n        else\r\n        {\r\n            breadCrumbData = [  {\r\n                \"label\": \"IDS_APPROVALSUBTYPE\",\r\n                \"value\": this.props.Login.masterData.realApprovalSubTypeValue ? this.props.Login.masterData.realApprovalSubTypeValue.label : \"NA\"\r\n            },\r\n            \r\n            {\r\n                \"label\": \"IDS_USERROLETEMPLATE\",\r\n                \"value\": this.props.Login.masterData.realTemplateVersionValue ? this.props.Login.masterData.realTemplateVersionValue.label : \"NA\"\r\n            }\r\n            ]\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n                <Affix top={53}>\r\n                        <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n                </Affix>\r\n                    <Row noGutters={true}>\r\n                        <Col md={`${!this.props.sidebarview ? '4' : \"2\"}`}> \r\n                            <ListMaster\r\n                                //filterColumnData ={(filterValue)=>this.props.filterApprovalConfigColumnData(filterValue,this.props.Login.masterData,this.props.Login.userInfo,this.approvalSubTypeValue.value)}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                screenName={this.props.intl.formatMessage({ id: \"IDS_USERMAPPING\" })}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Site}\r\n                                getMasterDetail={(site) => this.props.getUserMappingBySite(site, this.templateVersionValue.value, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedSite}\r\n                                primaryKeyField=\"nsitecode\"\r\n                                mainField=\"ssitename\"\r\n                                //firstField=\"ssiteaddress\"\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={-1}\r\n                                hidePaging={true}\r\n                                reloadData={this.getUserMapping}\r\n                                searchRef={this.searchRef}\r\n                                filterParam={filterParam}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                copyId={copyId}\r\n                                showCopy={this.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL}\r\n                                copyData={this.copyData}\r\n                                showGraphView={true}\r\n                                hideSearch={false}\r\n                                getGraphView={() => this.props.getUserMappingGraphView(this.props.Login.masterData.selectedSite, this.templateVersionValue.value, this.props.Login.userInfo)}\r\n                                needAccordianFilter={false}\r\n                                showFilterIcon={true}\r\n                                onFilterSubmit={this.getUserMapping}\r\n                                filterComponent={[\r\n                                    {\r\n                                        \"IDS_FILTER\":\r\n                                            <UserMappingFilter\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                filterComboChange={this.onFilterComboChange}\r\n                                                templateVersionOptions={this.state.templateVersionOptionList}\r\n                                                templateVersionValue={this.templateVersionValue}\r\n                                                Approvalsubtype={this.state.ApprovalsubtypeList}\r\n                                                approvalSubTypeValue={this.approvalSubTypeValue}\r\n                                                RegistrationType={this.state.RegistrationTypeList}\r\n                                                registrationTypeValue={this.props.Login.masterData.registrationTypeValue}\r\n                                                RegistrationSubType={this.state.RegistrationSubTypeList}\r\n                                                registrationSubTypeValue={this.props.Login.masterData.registrationSubTypeValue}\r\n                                            />\r\n                                    }\r\n                                ]}\r\n                            />\r\n                        </Col>\r\n                        <Col md={`${!this.props.sidebarview ? '8' : \"10\"}`} className=\"position-relative\">\r\n                            <div className=\"sidebar-view-btn-block\">\r\n                                <div className=\"sidebar-view-btn \" onClick={this.props.parentFunction}>\r\n                                    {!this.props.sidebarview ?                    \r\n                                        <i class=\"fa fa-less-than\"></i> :\r\n                                        <i class=\"fa fa-greater-than\"></i> \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <ContentPanel className=\"panel-main-content\">\r\n                                <Row>\r\n                                    {userRole.map((role, index) =>\r\n                                        <Col md={12}>\r\n                                            <SearchAdd className=\"d-flex justify-content-between\">\r\n                                                <MediaHeader>\r\n                                                    <h4 style={{ fontWeight: \"bold\" }}>{role.suserrolename}</h4>\r\n                                                </MediaHeader>\r\n                                                <Button id={`adduser_${role.nuserrolecode}`} className=\"btn btn-circle solid-blue\" role=\"button\"\r\n                                                    hidden={this.state.userRoleControlRights.indexOf(addId) === -1}\r\n                                                    onClick={() => this.props.openUserMappingModal(role, this.props.Login.masterData.selectedSite.nsitecode,\r\n                                                        this.props.Login.masterData[`selectedUser_${role.nlevelno === 1 ? role.nuserrolecode : role.nparentrolecode}`],\r\n                                                        this.templateVersionValue.value, this.props.Login.userInfo,\r\n                                                        this.props.Login.masterData,\r\n                                                        userRole.filter(x => x.nuserrolecode === role.nparentrolecode).length > 0 ?\r\n                                                            userRole.filter(x => x.nuserrolecode === role.nparentrolecode)[0].suserrolename : \"\"\r\n                                                    )}>\r\n                                                    <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                                                </Button>\r\n                                            </SearchAdd>\r\n                                            <Row>\r\n                                                <Col md={12}>\r\n                                                    {/* <ReactTooltip place=\"bottom\" id=\"tooltip-grid-wrap\" globalEventOff='click' /> */}\r\n                                                    <AtTableWrap className=\"at-list-table\" actionColWidth={this.props.actionColWidth ? this.props.actionColWidth : \"150px\"} >\r\n                                                        {/* <Tooltip openDelay={100} position=\"bottom\" tooltipClassName=\"ad-tooltip\" anchorElement=\"element\" parentTitle={true}> */}\r\n                                                        <LocalizationProvider language={this.props.Login.userInfo.slanguagetypecode}>\r\n                                                            <Grid\r\n                                                                key={role.nuserrolecode}\r\n                                                                data={this.state.dataResult[`${role.nuserrolecode}`]}\r\n\r\n                                                                onRowClick={(user) => this.props.getChildUsers(user.dataItem, role, this.props.Login.masterData.selectedSite.nsitecode, this.templateVersionValue.value,\r\n                                                                    this.props.Login.userInfo, this.props.Login.masterData, this.state.dataState, userRole)}\r\n                                                                selectedField=\"selected\"\r\n                                                                style={{ minHeight: '20em' }}\r\n                                                                onDataStateChange={(event) => this.dataStateChange(event, role.nuserrolecode)}\r\n                                                                resizable={true}\r\n                                                                reorderable\r\n                                                                scrollable\r\n                                                                sortable\r\n                                                                pageable={{ buttonCount: 2, pageSizes: this.props.Login.settings && this.props.Login.settings[15].split(\",\").map(setting => parseInt(setting)), previousNext: false }}\r\n                                                                {...this.state.dataState[role.nuserrolecode] ? this.state.dataState[role.nuserrolecode] : this.state.dataState['0']}\r\n\r\n                                                            >\r\n\r\n                                                                {extractedColumnList.map((item, key) =>\r\n                                                                    <GridColumn key={key} title={this.props.intl.formatMessage({ id: item.idsName })}\r\n                                                                        field={item.dataField}\r\n                                                                        {...this.columnProps(item.dataField, role.nuserrolecode)}\r\n                                                                        cell={(row) => (\r\n                                                                            <td data-tip={row[\"dataItem\"][item.dataField]}\r\n                                                                           //  data-for=\"tooltip-grid-wrap\" \r\n                                                                             className={this.props.Login.masterData[`selectedUser_${role.nuserrolecode}`].nusermappingcode === row[\"dataItem\"]['nusermappingcode'] ? 'active' : ''}>\r\n                                                                                {row[\"dataItem\"][item.dataField]}\r\n                                                                            </td>)}\r\n                                                                    />\r\n                                                                )}\r\n                                                                <GridColumn locked headerClassName=\"text-center\" sort={false} title={this.props.intl.formatMessage({ id: 'IDS_ACTION' })}\r\n                                                                    cell={(row) => (\r\n                                                                        <td>\r\n                                                                            <Nav.Link className=\"action-icons-wrap text-center\">\r\n                                                                                <FontIconWrap className=\"d-font-icon\"\r\n                                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })} data-place=\"left\"\r\n                                                                                title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}>\r\n                                                                                    <ConfirmDialog\r\n                                                                                        name=\"deleteMessage\"\r\n                                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                                        icon={faTrashAlt}\r\n                                                                                        // title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                                        handleClickDelete={() => this.deleteUsers(deleteId, row['dataItem'].nusermappingcode, row['dataItem'].nparusermappingcode, role)}\r\n                                                                                    />\r\n                                                                                </FontIconWrap>\r\n                                                                                {userRole.length - 1 === index ? \"\" :\r\n                                                                                    <FontIconWrap className=\"d-font-icon\" \r\n                                                                                    onClick={() => this.props.getUserMappingGraphView(\r\n                                                                                        this.props.Login.masterData.selectedSite, this.templateVersionValue.value,\r\n                                                                                        this.props.Login.userInfo, row['dataItem'], role)}\r\n                                                                                    data-tip={this.props.intl.formatMessage({ id: \"IDS_GRAPH\" })} data-place=\"left\"\r\n                                                                                    title={this.props.intl.formatMessage({ id: \"IDS_GRAPH\" })}>\r\n                                                                                        <FontAwesomeIcon icon={faSitemap} className=\"fa-rotate-270\"\r\n                                                                                            // onClick={() => this.props.getUserMappingGraphView(\r\n                                                                                            //     this.props.Login.masterData.selectedSite, this.templateVersionValue.value,\r\n                                                                                            //     this.props.Login.userInfo, row['dataItem'], role)}\r\n                                                                                        // title={this.props.intl.formatMessage({ id: \"IDS_GRAPH\" })}\r\n                                                                                        />\r\n                                                                                    </FontIconWrap>\r\n                                                                                }\r\n                                                                            </Nav.Link>\r\n                                                                        </td>\r\n                                                                    )}\r\n                                                                />\r\n                                                            </Grid>\r\n                                                        </LocalizationProvider>\r\n                                                        {/* </Tooltip> */}\r\n                                                    </AtTableWrap>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    )\r\n                                    }\r\n                                </Row>\r\n                            </ContentPanel>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openChildModal ?\r\n                    <SlideOutModal\r\n                        onSaveClick={this.onSaveClick}\r\n                        operation={this.props.Login.operation}\r\n                        screenName={this.props.Login.graphView ? \"IDS_USERMAPPING\" : this.props.Login.childRoleName || \"IDS_USERMAPPING\"}\r\n                        closeModal={this.closeModal}\r\n                        show={this.props.Login.openChildModal}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        graphView={this.props.Login.graphView}\r\n                        size={this.props.Login.graphView ? 'xl' : 'lg'}\r\n                        addComponent={\r\n                            this.props.Login.loadEsign ?\r\n                                <Esign\r\n                                    operation={this.props.Login.operation}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                />\r\n                                : this.props.Login.operation === 'copy' ?\r\n\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            {this.approvalSubTypeValue.value === ApprovalSubType.TESTRESULTAPPROVAL ?\r\n                                                <>\r\n                                                    {this.props.Login.optCopyRegType ?\r\n                                                        <FormSelectSearch\r\n                                                            formLabel={this.props.intl.formatMessage({ id: \"IDS_REGISTRATIONTYPE\" })}\r\n                                                            placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                                            name=\"regtype\"\r\n                                                            optionId=\"nregtypecode\"\r\n                                                            optionValue=\"sregtypename\"\r\n                                                            options={this.props.Login.optCopyRegType}\r\n                                                            value={this.state.selectedRecord ? this.state.selectedRecord[\"regtype\"] : this.registrationTypeValue}\r\n                                                            onChange={(event) => this.onComboChange(event, 'regtype')}\r\n                                                            isMandatory={false}\r\n                                                            isMulti={false}\r\n                                                            isSearchable={true}\r\n                                                            isDisabled={false}\r\n                                                        />\r\n                                                        : \"\"}\r\n                                                    {this.props.Login.optCopyRegSubType ?\r\n                                                        <FormSelectSearch\r\n                                                            formLabel={this.props.intl.formatMessage({ id: \"IDS_REGISTRATIONSUBTYPE\" })}\r\n                                                            placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                                            name=\"regsubtype\"\r\n                                                            optionId=\"nregsubtypecode\"\r\n                                                            optionValue=\"sregsubtypename\"\r\n                                                            options={this.props.Login.optCopyRegSubType}\r\n                                                            value={this.state.selectedRecord && this.state.selectedRecord[\"regsubtype\"]}\r\n                                                            isMandatory={false}\r\n                                                            isMulti={false}\r\n                                                            isSearchable={true}\r\n                                                            isDisabled={false}\r\n                                                            onChange={(event) => this.onComboChange(event, 'regsubtype')}\r\n\r\n                                                        />\r\n                                                        : \"\"}\r\n                                                </>\r\n                                                : \"\"}\r\n                                        </Col>\r\n                                    </Row>\r\n                                    : this.props.Login.graphView ?\r\n                                        <UserTree\r\n                                            userRoleList={this.state.userRoleList}\r\n                                            userList={this.state.userList}\r\n                                            data={this.state.data}\r\n                                            expanded={this.state.expanded}\r\n                                            collapseAll={this.collapseAll}\r\n                                            selectedRecord={this.state.selectedRecord}\r\n                                            clearFilter={this.clearFilter}\r\n                                            filterTree={this.filterTree}\r\n                                            userSearchFilterChange={this.userSearchFilterChange}\r\n                                            a={this.state.a}\r\n                                            b={this.state.b}\r\n                                            scale={this.state.scale}\r\n                                            handlePanAndZoom={this.handlePanAndZoom}\r\n                                            handlePanMove={this.handlePanMove}\r\n                                            hideFilters={this.props.Login.hideFilters}\r\n                                        />\r\n                                        :\r\n                                        <Row>\r\n                                            <Col md={12}>\r\n                                                <FormSelectSearch\r\n                                                    name={'users'}\r\n                                                    formLabel={this.props.Login.childRoleName}//{this.props.intl.formatMessage({ id: \"IDS_USERS\" })}\r\n                                                    // placeholder={this.props.Login.childRoleName}//{this.props.intl.formatMessage({ id: \"IDS_USERS\" })}\r\n                                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                                    value={this.state.selectedRecord ? this.state.selectedRecord.nusercode ? this.state.selectedRecord.nusercode : [] : []}\r\n                                                    options={this.props.Login.AvailableUsers ? this.props.Login.AvailableUsers : []}\r\n                                                    optionId=\"id\"\r\n                                                    optionValue=\"Name\"\r\n                                                    isMandatory={true}\r\n                                                    isMulti={true}\r\n                                                    isDisabled={false}\r\n                                                    isSearchable={true}\r\n                                                    closeMenuOnSelect={false}\r\n                                                    isClearable={true}\r\n                                                    as={\"select\"}\r\n                                                    onChange={(event) => this.onComboChange(event, 'nusercode')}\r\n                                                />\r\n                                            </Col>\r\n                                        </Row>\r\n                        }\r\n                    /> : \"\"}\r\n            </>\r\n        )\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        ReactTooltip.rebuild();\r\n        let { selectedRecord, dataState, userRoleControlRights, controlMap, ApprovalsubtypeList, data, dataResult,\r\n            RegistrationTypeList, RegistrationSubTypeList, templateVersionOptionList, userRoleList } = this.state;\r\n        let updateState = false;\r\n\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            //this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.userTree !== previousProps.Login.userTree) {\r\n            let filter = selectedRecord.filteredUser ? true : false\r\n            if (this.props.Login.selectedTreeParent !== undefined) {\r\n                let status = true;\r\n                this.props.Login.selectedTreeParent.suserimgftp !== null && this.props.Login.files && this.props.Login.files.includes(this.props.Login.selectedTreeParent.suserimgftp)\r\n                    ? status = true : status = false\r\n                let element = this.props.Login.selectedTreeParent\r\n                data = {\r\n                    id: this.props.Login.selectedTreeParent.nusermappingcode,\r\n                    label:\r\n                        <div style={{ userSelect: 'none' }}>\r\n                            <AtHeader>\r\n                                <Media>\r\n                                    {status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ?\r\n                                        <Image src={this.props.Login.settings[5] + element.suserimgftp} alt=\"avatar\" className=\"img-profile rounded-circle mr-2\" />\r\n                                        : <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                            {\r\n                                                background: \"#e7e6f5\",\r\n                                                borderRadius: \"50%\",\r\n                                                border: \"1px solid #cbc5f7\",\r\n                                                color: \"#6554c0\",\r\n                                                padding: \"3px\"\r\n                                            }} >\r\n                                            {element.username && element.username.split(\" \").length > 1 ?\r\n                                                element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                element.username.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                            :\r\n                                                element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                            }\r\n                                        </span>\r\n                                    }\r\n                                    <Media.Body>\r\n                                        <span className=\"user-name\">{element.username}</span>\r\n                                        <span className=\"role\" style={{ paddingTop: \"3px\" }}>{element.suserrolename}</span>\r\n                                    </Media.Body>\r\n                                </Media>\r\n                            </AtHeader>\r\n                        </div>,\r\n                    children: this.getRoottree(this.props.Login.userTree || [], this.props.Login.selectedTreeParent.nusermappingcode, false)\r\n                }\r\n\r\n            } else {\r\n                let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\"\r\n                data = {\r\n                    id: 0,\r\n                    label:\r\n                        <div>\r\n                            <AtHeader>\r\n                                <Media>\r\n                                    <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                        {\r\n                                            background: \"#e7e6f5\",\r\n                                            borderRadius: \"50%\",\r\n                                            border: \"1px solid #cbc5f7\",\r\n                                            color: \"#6554c0\",\r\n                                            padding: \"3px\"\r\n                                        }} >\r\n                                        {\r\n                                            siteName.split(\" \").length > 1 ?\r\n                                                siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                siteName.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                                :\r\n                                                siteName.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                        }\r\n                                    </span>\r\n                                    <Media.Body>\r\n\r\n                                        <span className=\"role\" style={{ paddingTop: \"6px\" }}>{siteName}</span>\r\n                                    </Media.Body>\r\n                                </Media>\r\n                            </AtHeader>\r\n                        </div>,\r\n                    children: this.getRoottree(this.props.Login.userTree || [], -2, filter, selectedRecord.filteredUser, selectedRecord.filteredRole)\r\n                }\r\n            }\r\n            updateState = true;\r\n        }\r\n        if (this.props.Login.dataState !== previousProps.Login.dataState) {\r\n            if (this.props.Login.dataState === undefined) {\r\n                // this.setState({ dataState: { '0': this.state.dataState['0'] } })\r\n                dataState = { '0': this.state.dataState['0'] }\r\n                updateState = true;\r\n            } else {\r\n                // this.setState({ dataState: this.props.Login.dataState ? this.props.Login.dataState : this.state.dataState['0'] });\r\n                dataState =  this.props.Login.dataState ? {...this.props.Login.dataState} : {'0':this.state.dataState['0'] }\r\n                updateState = true;\r\n            }\r\n        }\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            updateState = true;\r\n            const userMap = constructOptionList(this.props.Login.masterData.UserRole || [], \"nuserrolecode\", \"suserrolename\", undefined, undefined, true);\r\n            userRoleList = userMap.get(\"OptionList\");\r\n\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", 'nregtypecode', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nregsubtypecode', 'ascending', false);\r\n            const templateVersionOptionListMap = constructOptionList(this.props.Login.masterData.TreeVersion || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntreeversiontempcode', 'decending', false);\r\n\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            templateVersionOptionList = templateVersionOptionListMap.get(\"OptionList\");\r\n\r\n\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            const ApprovalsubtypeListMap = constructOptionList(this.props.Login.masterData.Approvalsubtype || [], \"napprovalsubtypecode\", \"ssubtypename\", 'ntemplatecode', 'ascending', false);\r\n            const RegistrationTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationType || [], \"nregtypecode\", \"sregtypename\", 'nregtypecode', 'ascending', false);\r\n            const RegistrationSubTypeListMap = constructOptionList(this.props.Login.masterData.RegistrationSubType || [], \"nregsubtypecode\", \"sregsubtypename\", 'nregsubtypecode', 'ascending', false);\r\n            const templateVersionOptionListMap = constructOptionList(this.props.Login.masterData.TreeVersion || [], \"ntreeversiontempcode\", \"sversiondescription\", 'ntreeversiontempcode', 'decending', false);\r\n            ApprovalsubtypeList = ApprovalsubtypeListMap.get(\"OptionList\");\r\n            RegistrationTypeList = RegistrationTypeListMap.get(\"OptionList\");\r\n            RegistrationSubTypeList = RegistrationSubTypeListMap.get(\"OptionList\");\r\n            templateVersionOptionList = templateVersionOptionListMap.get(\"OptionList\");\r\n            //this.setState({userRoleControlRights, controlMap, ApprovalsubtypeList, RegistrationTypeList, RegistrationSubTypeList, templateVersionOptionList});\r\n            updateState = true;\r\n        }\r\n\r\n        if (updateState) {\r\n            const userRole = this.props.Login.masterData.UserRole ? sortData(this.props.Login.masterData.UserRole, 'ascending', 'nlevelno') : []\r\n            userRole.map(role =>\r\n                {\r\n                    let roleUsers = this.props.Login.masterData[`${role.nuserrolecode}`] ? sortData(this.props.Login.masterData[`${role.nuserrolecode}`],'descending','nusermappingcode'): []\r\n                    dataResult[`${role.nuserrolecode}`]=process(roleUsers.map(item => \r\n                            (\r\n                                { \r\n                                    ...item, \r\n                                    selected: item.nusermappingcode === this.props.Login.masterData[`selectedUser_${role.nuserrolecode}`].nusermappingcode \r\n                                }\r\n                            )\r\n                        )\r\n                    , dataState[role.nuserrolecode] ? dataState[role.nuserrolecode] : dataState['0'])\r\n                    return null;\r\n                })\r\n            this.setState({\r\n                selectedRecord, dataState, userRoleControlRights, controlMap, ApprovalsubtypeList, data,\r\n                RegistrationTypeList, RegistrationSubTypeList, templateVersionOptionList, userRoleList\r\n            });\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, comboName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (comboData && comboName === \"regtype\") {\r\n            selectedRecord[comboName] = comboData;\r\n            let nregsubtypecode = this.props.Login.masterData.registrationSubTypeValue.value\r\n            this.props.getCopyUserMappingSubType(comboData, nregsubtypecode, selectedRecord, this.props.Login.userInfo, this.props.Login.masterData, this.props.Login.optCopyRegType)\r\n        } else {\r\n            if (comboData) {\r\n                selectedRecord[comboName] = comboData;\r\n                this.setState({ selectedRecord });\r\n            } else {\r\n                selectedRecord[comboName] = []\r\n                this.setState({ selectedRecord, availableQB: [] });\r\n            }\r\n        }\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n\r\n\r\n        let registrationTypeValue = this.props.Login.masterData.registrationTypeValue;\r\n        let registrationSubTypeValue = this.props.Login.masterData.registrationSubTypeValue;\r\n        let templateVersionValue = this.props.Login.masterData.templateVersionValue;\r\n\r\n        if (comboData) {\r\n\r\n            selectedRecord[fieldName] = comboData.value;\r\n            let inputParamData = {};\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = comboData\r\n                inputParamData = {\r\n                    nFlag: 2,\r\n                    napprovalsubtypecode: comboData.value,\r\n                    ntemplatecode: comboData.item.ntemplatecode,\r\n                    userinfo: this.props.Login.userInfo\r\n                };\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = comboData\r\n                inputParamData = {\r\n                    nFlag: 3,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\r\n                    nregtypecode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = comboData\r\n                inputParamData = {\r\n                    nFlag: 4,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    nregtypecode: registrationTypeValue.value,\r\n                    nregsubtypecode: comboData.value,\r\n                    ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            } else {\r\n\r\n                this.templateVersionValue = comboData\r\n                templateVersionValue = comboData\r\n                inputParamData = {\r\n                    nFlag: 5,\r\n                    napprovalsubtypecode: this.approvalSubTypeValue.value,\r\n                    nregtypecode: this.approvalSubTypeValue.value === 2 ? registrationTypeValue.value : -1,\r\n                    nregsubtypecode: this.approvalSubTypeValue.value === 2 ? registrationSubTypeValue.value : -1,\r\n                    ntemplatecode: this.approvalSubTypeValue.item.ntemplatecode,\r\n                    nversioncode: comboData.value,\r\n                    userinfo: this.props.Login.userInfo\r\n                }\r\n            }\r\n\r\n            const oldState = {\r\n                Approvalsubtype: this.props.Login.masterData.Approvalsubtype,\r\n                RegistrationType: this.props.Login.masterData.RegistrationType,\r\n                RegistrationSubType: this.props.Login.masterData.RegistrationSubType,\r\n                TreeVersion: this.props.Login.masterData.TreeVersion,\r\n                approvalSubTypeValue: this.approvalSubTypeValue,\r\n                registrationTypeValue,\r\n                registrationSubTypeValue,\r\n                templateVersionValue,\r\n                RegistrationTypeList: this.state.RegistrationTypeList,\r\n                RegistrationSubTypeList: this.state.RegistrationSubTypeList,\r\n                templateVersionOptionList: this.state.templateVersionOptionList\r\n            }\r\n            this.props.getUserMappingFilterChange(inputParamData, oldState, this.props.Login.masterData)\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = \"\";\r\n            if (fieldName === 'napprovalsubtypecode') {\r\n\r\n                this.approvalSubTypeValue = []\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n                templateVersionValue = []\r\n\r\n            } else if (fieldName === 'nregtypecode') {\r\n\r\n                registrationTypeValue = []\r\n                registrationSubTypeValue = []\r\n                templateVersionValue = []\r\n\r\n            } else if (fieldName === 'nregsubtypecode') {\r\n\r\n                registrationSubTypeValue = []\r\n                templateVersionValue = []\r\n\r\n            } else {\r\n                templateVersionValue = []\r\n                this.templateVersionValue = []\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    changeViewMode = (event) => {\r\n        event.target.checked === true ? this.setState({ viewMode: \"Grid\" }) : this.setState({ viewMode: \"List\" })\r\n    }\r\n\r\n    copyData = () => {\r\n        let napprovalsubtypecode = this.approvalSubTypeValue.value\r\n        let nregsubtypecode = this.props.Login.masterData.registrationSubTypeValue.value;\r\n\r\n        this.props.getCopyUserMapping(napprovalsubtypecode, nregsubtypecode, this.props.Login.userInfo, this.props.Login.masterData)\r\n    }\r\n\r\n   \r\n\r\n    userSearchFilterChange = (comboData, comboName) => {\r\n        let { selectedRecord, userList } = this.state || [];\r\n        if (comboData) {\r\n            if (comboName === 'nuserrolecode') {\r\n                let roleUsers = []\r\n                this.props.Login.userTree.map(x => {\r\n                    if (x.nchildrolecode === comboData.value && !roleUsers.find(y => y.nchildusercode === x.nchildusercode)) {\r\n                        roleUsers.push(x)\r\n                    }\r\n                    return null\r\n                }\r\n                )\r\n                const userMap = constructOptionList(roleUsers, \"nusermappingcode\", \"username\", undefined, undefined, true);\r\n                userList = userMap.get(\"OptionList\");\r\n                selectedRecord[\"filteredRole\"] = comboData;\r\n                selectedRecord[\"filteredUser\"] = null\r\n            } else {\r\n                selectedRecord[\"filteredUser\"] = comboData\r\n            }\r\n        } else {\r\n            if (comboName === 'nuserrolecode') {\r\n                selectedRecord[\"filteredRole\"] = comboData;\r\n                selectedRecord[\"filteredUser\"] = null\r\n                userList = []\r\n            } else {\r\n                selectedRecord[\"filteredUser\"] = comboData\r\n            }\r\n        }\r\n        this.setState({ selectedRecord, userList })\r\n    }\r\n\r\n    getRoottree(master, parent, filter, user, role) {\r\n        let child = []\r\n        this.child = []\r\n        let userTree = this.props.Login.userTree ? this.props.Login.userTree : []\r\n        let fiteredUserParentRole = []\r\n        let fiteredUserParentUser = []\r\n        let filteredUser = this.state.selectedRecord.filteredUser || user\r\n        let filteredRole = this.state.selectedRecord.filteredRole || role\r\n        if (filter) {\r\n            this.props.Login.userTree.map(y => {\r\n                if (filteredRole && y.nchildrolecode === filteredRole.value &&\r\n                    y.nchildusercode === filteredUser.item.nchildusercode) {\r\n                    fiteredUserParentRole.push(y.nparentrolecode)\r\n                }\r\n                if (y.nchildusercode === filteredUser.item.nchildusercode) {\r\n                    fiteredUserParentUser.push(y.nparentusercode)\r\n                }\r\n                return null;\r\n            })\r\n        }\r\n        userTree.forEach((element, index) => {\r\n            const labelColor = ['#e63109', '#2fb47d', '#eaa203', '#6554c0'];\r\n            const labelBGColor = ['#fcd7cd', '#e5f8f1', '#fcf3dd', '#e7e6f5'];\r\n            const borderColor = ['#e6310', '#c6f6e4', '#fde2a4', '#cbc5f7'];\r\n\r\n            if (element.nparusermappingcode === parent) {\r\n                let status = true;\r\n                element.suserimgftp !== null && this.props.Login.files && this.props.Login.files.includes(element.suserimgftp) ? status = true : status = false\r\n                if (filteredRole && element.nchildrolecode === filteredRole.value) {\r\n                    if (filteredUser && element.nchildusercode === filteredUser.item.nchildusercode) {\r\n                        child.push(\r\n                            {\r\n                                id: element.nusermappingcode,\r\n                                label:\r\n                                    <div style={{ userSelect: 'none' }}>\r\n                                        <AtHeader>\r\n                                            <Media>\r\n                                                {status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ?\r\n                                                    <Image src={this.props.Login.settings[5] + element.suserimgftp} alt=\"avatar\" className=\"img-profile rounded-circle mr-2\" />\r\n                                                    : <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                                        {\r\n                                                            background: labelBGColor[index % 4],\r\n                                                            borderRadius: \"50%\",\r\n                                                            border: `1px solid ${borderColor[index % 4]}`,\r\n                                                            color: labelColor[index % 4],\r\n                                                            padding: \"3px\"\r\n                                                        }} >\r\n                                                        {element.username &&\r\n                                                            // element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                            element.username.split(\" \").length > 1 ?\r\n                                                            element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                            element.username.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                                            :\r\n                                                            element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                        }\r\n                                                    </span>\r\n                                                }\r\n                                                <Media.Body>\r\n                                                    <span className=\"user-name\">{element.username}</span>\r\n                                                    <span className=\"role\" style={{ paddingTop: \"3px\" }}>{element.suserrolename}</span>\r\n                                                </Media.Body>\r\n                                            </Media>\r\n                                        </AtHeader>\r\n                                    </div>,\r\n                                children: this.getRoottree(this.props.Login.userTree, element.nusermappingcode, filter, user, role)\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    child.push(\r\n                        {\r\n                            id: element.nusermappingcode,\r\n                            label:\r\n                                <div style={{ userSelect: 'none' }}>\r\n                                    {/* <Row>\r\n                                        <Col className=\"p-1 pl-2\" md={3}>\r\n                                            {status ?\r\n                                                < Image\r\n                                                    src={fileViewUrl + \"/SharedFolder/\" + element.suserimgftp}\r\n                                                    alt={\"userimg\"}\r\n                                                    title={element.suserimgname}\r\n                                                    // onError={this.addDefaultSrc}\r\n                                                    style={{ maxWidth: \"50px\", maxHeight: \"50px\" }}\r\n                                                />\r\n                                                :\r\n                                                <span className={`mr-3 label-circle ${labelColor[index % 4]}`} style={\r\n                                                    {\r\n                                                        background: labelBGColor[index % 4],\r\n                                                        borderRadius: \"50%\",\r\n                                                        border: `1px solid ${borderColor[index % 4]}`,\r\n                                                        color: labelColor[index % 4],\r\n                                                        fontSize: \"23px\",\r\n                                                        fontWeight: \"300\",\r\n                                                        padding: \"3px\"\r\n                                                    }} >\r\n                                                    {element.username &&\r\n                                                        // element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                        element.username.split(\" \").length > 1 ?\r\n                                                        element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                        element.username.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                                        :\r\n                                                        element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                    }\r\n                                                </span>\r\n\r\n                                            }\r\n                                        </Col>\r\n                                        <Col md={9}>\r\n                                            <span className=\"d-flex ml-3\">\r\n                                                {element.username}\r\n                                                <br />\r\n                                                {element.suserrolename}\r\n                                            </span>\r\n                                        </Col>\r\n                                    </Row> */}\r\n                                    <AtHeader>\r\n                                        <Media>\r\n                                            {status && this.props.Login.settings && this.props.Login.settings[5] && element.suserimgftp && element.suserimgftp !== \"\" ?\r\n                                                <Image src={this.props.Login.settings[5] + element.suserimgftp} alt=\"avatar\" className=\"img-profile rounded-circle mr-2\" />\r\n                                                : <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                                    {\r\n                                                        background: labelBGColor[index % 4],\r\n                                                        borderRadius: \"50%\",\r\n                                                        border: `1px solid ${borderColor[index % 4]}`,\r\n                                                        color: labelColor[index % 4],\r\n                                                        padding: \"3px\"\r\n                                                    }} >\r\n                                                    {element.username &&\r\n                                                        // element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                        element.username.split(\" \").length > 1 ?\r\n                                                        element.username.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                        element.username.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                                        :\r\n                                                        element.username.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                                    }\r\n                                                </span>\r\n                                            }\r\n                                            <Media.Body>\r\n                                                <span className=\"user-name\">{element.username}</span>\r\n                                                <span className=\"role\" style={{ paddingTop: \"3px\" }}>{element.suserrolename}</span>\r\n                                            </Media.Body>\r\n                                        </Media>\r\n                                    </AtHeader>\r\n                                </div>,\r\n                            children: this.getRoottree(this.props.Login.userTree, element.nusermappingcode, filter, user, role)\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n        })\r\n        return child\r\n    }\r\n\r\n    addDefaultSrc(ev) {\r\n        ev.target.src = fileViewUrl() + \"/SharedFolder/Default-User-Image.png\"\r\n    }\r\n\r\n    // getchildtree(master, parent, child) {\r\n    //     this.props.Login.userTree && this.props.Login.userTree.forEach(element => {\r\n    //         if (element.nparusermappingcode === parent) {\r\n    //             this.child.push(\r\n    //                 {\r\n    //                     id: element.nusermappingcode,\r\n    //                     label:\r\n    //                         <div className=\"d-flex justify-content-between\" style={{ userSelect: 'none' }}>\r\n    //                             <Row>\r\n    //                                 <Col md={12}>\r\n    //                                     {element.suserimgftp === null ?\r\n    //                                         <FontAwesomeIcon icon={faUserAlt}></FontAwesomeIcon> :\r\n    //                                         <img\r\n    //                                             src={fileViewUrl + \"/SharedFolder////\" + element.suserimgftp}\r\n    //                                             alt={\"userimg\"}\r\n    //                                             // onClick={() => window.open(signImgPath, '_blank')}\r\n    //                                             title={element.suserimgname}\r\n    //                                             style={{ borderRadius: \"50%\", width: \"30px\" }}\r\n    //                                         />\r\n    //                                     }\r\n    //                                 </Col>\r\n    //                                 <Col md={11}>\r\n    //                                     {element.username} <br /> {element.suserrolename}\r\n    //                                 </Col>\r\n    //                             </Row>\r\n    //                         </div>,\r\n    //                     children: this.getchildtree(this.props.Login.userTree, element.nusermappingcode)\r\n    //                 }\r\n    //             )\r\n    //         }\r\n    //     })\r\n    //     return child;\r\n    // }\r\n\r\n    filterTree = () => {\r\n        if (this.state.selectedRecord.filteredRole) {\r\n            if (this.state.selectedRecord.filteredUser) {\r\n                let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\"\r\n                let data = {\r\n                    id: 0,\r\n                    label:\r\n                        <div>\r\n                            <AtHeader>\r\n                                <Media>\r\n                                    <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                        {\r\n                                            background: \"#e7e6f5\",\r\n                                            borderRadius: \"50%\",\r\n                                            border: \"1px solid #cbc5f7\",\r\n                                            color: \"#6554c0\",\r\n                                            padding: \"3px\"\r\n                                        }} >\r\n                                        {\r\n                                            siteName.split(\" \").length > 1 ?\r\n                                                siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                                siteName.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                                :\r\n                                                siteName.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                        }\r\n                                    </span>\r\n                                    <Media.Body>\r\n\r\n                                        <span className=\"role\" style={{ paddingTop: \"6px\" }}>{siteName}</span>\r\n                                    </Media.Body>\r\n                                </Media>\r\n                            </AtHeader>\r\n                        </div>,\r\n                    children: this.getRoottree(this.props.Login.userTree || [], -2, true)\r\n                }\r\n\r\n                this.setState({ data })\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTAUSERTOSEARCH\" }))\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTAUSERROLETOSEARCH\" }))\r\n        }\r\n    }\r\n\r\n    clearFilter = () => {\r\n\r\n        let { selectedRecord, userList } = this.state\r\n        selectedRecord[\"filteredUser\"] = null\r\n        selectedRecord[\"filteredRole\"] = null\r\n        userList = []\r\n        let siteName = this.props.Login.masterData.selectedSite ? this.props.Login.masterData.selectedSite.ssitename : \"\"\r\n        let data = {\r\n            id: 0,\r\n            label:\r\n                <div>\r\n                    <AtHeader>\r\n                        <Media>\r\n                            <span className=\"img-profile rounded-circle mr-2\" style={\r\n                                {\r\n                                    background: \"#e7e6f5\",\r\n                                    borderRadius: \"50%\",\r\n                                    border: \"1px solid #cbc5f7\",\r\n                                    color: \"#6554c0\",\r\n                                    padding: \"3px\"\r\n                                }} >\r\n                                {\r\n                                    siteName.split(\" \").length > 1 ?\r\n                                        siteName.split(\" \")[0].substring(0, 1).toUpperCase() + \"\" +\r\n                                        siteName.split(\" \")[1].substring(0, 1).toUpperCase()\r\n                                        :\r\n                                        siteName.split(\" \")[0].substring(0, 1).toUpperCase()\r\n                                }\r\n                            </span>\r\n                            <Media.Body>\r\n                                <span className=\"role\" style={{ paddingTop: \"6px\" }}>{siteName}</span>\r\n                            </Media.Body>\r\n                        </Media>\r\n                    </AtHeader>\r\n                </div>,\r\n            children: this.getRoottree(this.props.Login.userTree || [], -2, false)\r\n        }\r\n        this.setState({ data, selectedRecord, userList })\r\n    }\r\n\r\n    collapseAll = () => {\r\n        this.setState({ expanded: !this.state.expanded })\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, openUserMappingModal, updateStore, getUserMappingGraphView, getCopyUserMapping,\r\n    getUserMappingFilterChange, getUserMappingBySite, getChildUsers, validateEsignCredential,\r\n    filterColumnData, getCopyUserMappingSubType,getUserMapping\r\n})(injectIntl(UserMapping));"]},"metadata":{},"sourceType":"module"}