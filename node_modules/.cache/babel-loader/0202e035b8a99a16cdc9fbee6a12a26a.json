{"ast":null,"code":"var _jsxFileName = \"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\branches\\\\SOURCE-513-PROD\\\\SOURCE-513-ALPD-5304\\\\QuaLISWeb\\\\src\\\\pages\\\\contactmaster\\\\ClientFileTabs.js\";\nimport React, { Component } from 'react';\nimport { Nav } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport ListAttachment from '../../components/ListAttachment';\nimport { designProperties } from '../../components/Enumeration';\nimport { showEsign } from '../../components/CommonScript';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { intl } from '../../components/App';\n\nclass ClientFileTab extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.DeleteContact = deleteParam => {\n      deleteParam = {\n        classUrl: \"client\",\n        methodUrl: deleteParam.methodUrl,\n        inputData: {\n          [deleteParam.methodUrl]: deleteParam.selectedRecord,\n          \"userinfo\": this.props.userInfo\n        },\n        operation: deleteParam.operation // dataState: this.state.dataState\n\n      };\n\n      if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              deleteParam,\n              masterData: this.props.masterData\n            },\n            openModal: true,\n            screenName: deleteParam.screenName,\n            operation: deleteParam.operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(deleteParam, this.props.masterData, \"openModal\");\n      }\n    };\n  }\n\n  render() {\n    const addFileId = this.props.controlMap.has(\"AddClientFile\") && this.props.controlMap.get(\"AddClientFile\").ncontrolcode;\n    const editFileId = this.props.controlMap.has(\"EditClientFile\") && this.props.controlMap.get(\"EditClientFile\").ncontrolcode;\n    const deleteFileId = this.props.controlMap.has(\"DeleteClientFile\") && this.props.controlMap.get(\"DeleteClientFile\").ncontrolcode; // const defaultFileId = this.props.controlMap.has(\"DefaultSupplierFile\") && this.props.controlMap.get(\"DefaultSupplierFile\").ncontrolcode;\n\n    const viewFileId = this.props.controlMap.has(\"ViewClientFile\") && this.props.controlMap.get(\"ViewClientFile\").ncontrolcode;\n    const editParam = {\n      screenName: \"IDS_CLIENTFILE\",\n      operation: \"update\",\n      inputParam: this.props.inputParam,\n      userInfo: this.props.userInfo,\n      ncontrolCode: editFileId,\n      modalName: \"openChildModal\"\n    }; //  const defaultParam = {operation:\"Default\", methodUrl: \"TestFile\", userInfo: this.props.userInfo, ncontrolCode:defaultFileId};\n\n    const subFields = [// {[designProperties.VALUE]:\"stransdisplaystatus\"}, \n      // { [designProperties.LABEL]: \"IDS_DEFAULTSTATUS\", [designProperties.VALUE]: \"stransdisplaystatus\" }\n      //{[designProperties.VALUE]:\"screateddate\"}, \n      //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\n    ];\n    const moreField = [{\n      [designProperties.LABEL]: \"IDS_LINK\",\n      [designProperties.VALUE]: \"slinkname\"\n    }, {\n      [designProperties.LABEL]: \"IDS_CREATEDDATE\",\n      [designProperties.VALUE]: \"screateddate\"\n    }, {\n      [designProperties.LABEL]: \"IDS_DESCRIPTION\",\n      [designProperties.VALUE]: \"sdescription\"\n    } //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\n    ];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actions-stripe border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      name: \"addclientfile\",\n      className: \"add-txt-btn\",\n      hidden: this.props.userRoleControlRights.indexOf(addFileId) === -1,\n      onClick: () => this.props.addClientFile({\n        userInfo: this.props.userInfo,\n        operation: \"create\",\n        ncontrolCode: addFileId,\n        screenName: \"IDS_CLIENTFILE\",\n        modalName: \"openChildModal\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 29\n      }\n    }), \" \", \" \", /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"IDS_ADDFILE\",\n      defaultMessage: \"File\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(ListAttachment, {\n      attachmentList: this.props.clientFile,\n      fileName: \"sfilename\" // filesize=\"nfilesize\"\n      // linkname=\"slinkname\"\n      // defaultStatusName=\"stransdisplaystatus\"\n      ,\n      deleteRecord: this.props.deleteRecord,\n      deleteParam: {\n        operation: \"delete\",\n        methodUrl: \"ClientFile\"\n      },\n      editParam: editParam // defaultParam={defaultParam}\n      ,\n      fetchRecord: this.props.addClientFile //defaultRecord={this.props.defaultRecord}\n      ,\n      deleteId: deleteFileId,\n      editId: editFileId //defaultId={defaultFileId}\n      ,\n      viewId: viewFileId,\n      userRoleControlRights: this.props.userRoleControlRights,\n      viewFile: this.props.viewClientFile,\n      subFields: subFields,\n      moreField: moreField,\n      settings: this.props.settings,\n      userInfo: this.props.userInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default injectIntl(ClientFileTab);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5304/QuaLISWeb/src/pages/contactmaster/ClientFileTabs.js"],"names":["React","Component","Nav","FontAwesomeIcon","FormattedMessage","injectIntl","faPlus","ListAttachment","designProperties","showEsign","DEFAULT_RETURN","intl","ClientFileTab","DeleteContact","deleteParam","classUrl","methodUrl","inputData","selectedRecord","props","userInfo","operation","userRoleControlRights","nformcode","ncontrolCode","updateInfo","typeName","data","loadEsign","screenData","masterData","openModal","screenName","updateStore","crudMaster","render","addFileId","controlMap","has","get","ncontrolcode","editFileId","deleteFileId","viewFileId","editParam","inputParam","modalName","subFields","moreField","LABEL","VALUE","indexOf","addClientFile","clientFile","deleteRecord","viewClientFile","settings"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { FormattedMessage, injectIntl } from 'react-intl';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport ListAttachment from '../../components/ListAttachment';\r\nimport { designProperties } from '../../components/Enumeration';\r\nimport {  showEsign ,} from '../../components/CommonScript';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { intl } from '../../components/App';\r\n\r\n\r\nclass ClientFileTab extends Component {\r\n    render() {\r\n        const addFileId = this.props.controlMap.has(\"AddClientFile\") && this.props.controlMap.get(\"AddClientFile\").ncontrolcode;\r\n        const editFileId = this.props.controlMap.has(\"EditClientFile\") && this.props.controlMap.get(\"EditClientFile\").ncontrolcode;\r\n        const deleteFileId = this.props.controlMap.has(\"DeleteClientFile\") && this.props.controlMap.get(\"DeleteClientFile\").ncontrolcode;\r\n        // const defaultFileId = this.props.controlMap.has(\"DefaultSupplierFile\") && this.props.controlMap.get(\"DefaultSupplierFile\").ncontrolcode;\r\n        const viewFileId = this.props.controlMap.has(\"ViewClientFile\") && this.props.controlMap.get(\"ViewClientFile\").ncontrolcode;\r\n        const editParam = {\r\n            screenName: \"IDS_CLIENTFILE\", operation: \"update\", inputParam: this.props.inputParam,\r\n            userInfo: this.props.userInfo, ncontrolCode: editFileId, modalName: \"openChildModal\"\r\n        };\r\n        //  const defaultParam = {operation:\"Default\", methodUrl: \"TestFile\", userInfo: this.props.userInfo, ncontrolCode:defaultFileId};\r\n        const subFields = [\r\n            // {[designProperties.VALUE]:\"stransdisplaystatus\"}, \r\n           // { [designProperties.LABEL]: \"IDS_DEFAULTSTATUS\", [designProperties.VALUE]: \"stransdisplaystatus\" }\r\n            //{[designProperties.VALUE]:\"screateddate\"}, \r\n            //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n        const moreField = [\r\n            { [designProperties.LABEL]: \"IDS_LINK\", [designProperties.VALUE]: \"slinkname\" },\r\n            { [designProperties.LABEL]: \"IDS_CREATEDDATE\", [designProperties.VALUE]: \"screateddate\" },\r\n            { [designProperties.LABEL]: \"IDS_DESCRIPTION\", [designProperties.VALUE]: \"sdescription\" },\r\n            //{[designProperties.VALUE]:\"sfilesize\",\"fieldType\":\"size\"}\r\n        ];\r\n        return (\r\n            <>\r\n                <div className=\"actions-stripe border-bottom\">\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Nav.Link name=\"addclientfile\" className=\"add-txt-btn\" hidden={this.props.userRoleControlRights.indexOf(addFileId) === -1}\r\n                            onClick={() => this.props.addClientFile({ userInfo: this.props.userInfo, operation: \"create\", ncontrolCode: addFileId, screenName: \"IDS_CLIENTFILE\", modalName: \"openChildModal\" })}>\r\n                            <FontAwesomeIcon icon={faPlus} /> {\" \"}\r\n                            <FormattedMessage id=\"IDS_ADDFILE\" defaultMessage=\"File\" />\r\n                        </Nav.Link>\r\n                    </div>\r\n                </div>\r\n                <ListAttachment\r\n                    attachmentList={this.props.clientFile}\r\n                    fileName=\"sfilename\"\r\n                    // filesize=\"nfilesize\"\r\n                    // linkname=\"slinkname\"\r\n                    // defaultStatusName=\"stransdisplaystatus\"\r\n                    deleteRecord={this.props.deleteRecord}\r\n                    deleteParam={{ operation: \"delete\", methodUrl: \"ClientFile\"}}\r\n                    editParam={editParam}\r\n                    // defaultParam={defaultParam}\r\n                    fetchRecord={this.props.addClientFile}\r\n                    //defaultRecord={this.props.defaultRecord}\r\n                    deleteId={deleteFileId}\r\n                    editId={editFileId}\r\n                    //defaultId={defaultFileId}\r\n                    viewId={viewFileId}\r\n                    userRoleControlRights={this.props.userRoleControlRights}\r\n                    viewFile={this.props.viewClientFile}\r\n                    subFields={subFields}\r\n                    moreField={moreField}\r\n                    settings={this.props.settings}\r\n                    userInfo={this.props.userInfo}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n    DeleteContact = (deleteParam) => {\r\n       \r\n        deleteParam = {\r\n            classUrl: \"client\",\r\n            methodUrl: deleteParam.methodUrl,\r\n            inputData: {\r\n                [deleteParam.methodUrl]: deleteParam.selectedRecord,\r\n                \"userinfo\": this.props.userInfo,\r\n\r\n            },\r\n            operation: deleteParam.operation,\r\n           // dataState: this.state.dataState\r\n    }\r\n\r\n        if (showEsign(this.props.userRoleControlRights, this.props.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { deleteParam, masterData: this.props.masterData },\r\n                    openModal: true,\r\n                    screenName: deleteParam.screenName, operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(deleteParam, this.props.masterData, \"openModal\");\r\n        }\r\n    }\r\n}\r\n\r\nexport default injectIntl(ClientFileTab);"]},"metadata":{},"sourceType":"module"}