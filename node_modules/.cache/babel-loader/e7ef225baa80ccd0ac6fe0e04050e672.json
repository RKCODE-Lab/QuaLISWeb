{"ast":null,"code":"var _jsxFileName = \"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\src\\\\components\\\\ListAttachment.jsx\";\nimport React, { Component } from 'react';\nimport { ListGroup, Media, Image } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudDownloadAlt, faTrashAlt, faPencilAlt, faExternalLinkAlt, faThumbtack } from '@fortawesome/free-solid-svg-icons';\nimport { injectIntl } from 'react-intl';\nimport { attachmentType, designProperties } from './Enumeration';\nimport ConfirmDialog from './confirm-alert/confirm-alert.component';\nimport { Attachments } from './dropzone/dropzone.styles';\nimport { getAttachedFileIcon } from './FileIcon';\nimport { MediaLabel, MediaSubHeader } from './App.styles';\nimport { Nav } from 'react-bootstrap';\nimport { Form } from 'react-bootstrap';\nimport '../pages/registration/registration.css';\nimport { bytesToSize } from './CommonScript';\nimport ReactTooltip from 'react-tooltip';\nimport CustomPager from './CustomPager';\n\nclass ListAttachment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showHideDetails = (event, index) => {\n      event.stopPropagation();\n      let showMore = { ...this.state.showMore,\n        [index]: !this.state.showMore[index]\n      };\n      this.setState({\n        showMore\n      });\n    };\n\n    this.handlePageChange = e => {\n      this.setState({\n        skip: e.skip,\n        take: e.take\n      });\n    };\n\n    this.state = {\n      showMore: {},\n      buttonCount: 2,\n      info: true,\n      skip: 0,\n      take: this.props.settings ? parseInt(this.props.settings[14]) : 5\n    };\n  }\n\n  render() {\n    const {\n      fileName,\n      deleteId,\n      editId,\n      defaultId,\n      viewId,\n      isjsonfield,\n      jsonfield\n    } = this.props;\n    let data = this.props.hidePaging ? this.props.attachmentList : this.props.attachmentList.slice(this.state.skip, this.state.skip + this.state.take);\n    return /*#__PURE__*/React.createElement(ListGroup, {\n      variant: \"flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }, data.length > 0 ? data.map((file, index) => {\n      let fileExtension = \"\";\n      let attachmentTypeCode = file[this.props.jsonfield].nattachmenttypecode || file.nattachmenttypecode;\n\n      if (this.props.isjsonfield) {\n        if (attachmentTypeCode === attachmentType.FTP) {\n          const splittedFileName = file[this.props.jsonfield][fileName].split('.');\n          fileExtension = file[this.props.jsonfield][fileName].split('.')[splittedFileName.length - 1];\n        }\n      } else {\n        if (attachmentTypeCode === attachmentType.FTP) {\n          const splittedFileName = file[fileName].split('.');\n          fileExtension = file[fileName].split('.')[splittedFileName.length - 1];\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactTooltip, {\n        place: \"bottom\",\n        globalEventOff: \"true\",\n        id: \"tooltip_attachment_wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        key: `file_${index}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Attachments, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Media, {\n        className: \"block-view\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Media.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left-icon-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mt-0 attatchment-title\",\n        \"data-for\": \"tooltip_attachment_wrap\",\n        \"data-tip-disable\": this.props.isjsonfield ? file[this.props.jsonfield][fileName].length < 50 : file[fileName].length < 50,\n        \"data-tip\": this.props.isjsonfield ? file[this.props.jsonfield][fileName] : file[fileName],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        width: 25,\n        height: 25,\n        className: \"mr-2\",\n        src: getAttachedFileIcon(fileExtension),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 57\n        }\n      }), this.props.isjsonfield ? file[this.props.jsonfield][fileName] : file[fileName]), /*#__PURE__*/React.createElement(Nav.Link, {\n        className: \"action-icons-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 53\n        }\n      }, attachmentTypeCode === attachmentType.FTP ? /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faCloudDownloadAlt,\n        className: \"mr-3\",\n        size: \"lg\",\n        hidden: this.props.userRoleControlRights.indexOf(viewId) === -1,\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_DOWNLOAD\"\n        }),\n        \"data-for\": \"tooltip_attachment_wrap\",\n        onClick: () => this.props.viewFile(file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 61\n        }\n      }) : /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faExternalLinkAlt,\n        className: \"mr-3\",\n        size: \"lg\",\n        hidden: this.props.userRoleControlRights.indexOf(viewId) === -1,\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_LINK\"\n        }),\n        \"data-for\": \"tooltip_attachment_wrap\",\n        onClick: () => this.props.viewFile(file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 63\n        }\n      }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faThumbtack,\n        className: \"mr-3\",\n        size: \"lg\",\n        hidden: this.props.userRoleControlRights.indexOf(defaultId) === -1,\n        onClick: () => this.props.defaultRecord({ ...this.props.defaultParam,\n          selectedRecord: file\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 57\n        }\n      }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faPencilAlt,\n        className: \"mr-3 d-font-icon\",\n        size: \"lg\",\n        hidden: this.props.userRoleControlRights.indexOf(editId) === -1,\n        \"data-tip\": this.props.intl.formatMessage({\n          id: \"IDS_EDIT\"\n        }),\n        \"data-for\": \"tooltip_attachment_wrap\",\n        onClick: () => this.props.fetchRecord({ ...this.props.editParam,\n          selectedRecord: file,\n          operation: \"update\"\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 57\n        }\n      }), /*#__PURE__*/React.createElement(ConfirmDialog, {\n        name: \"deleteMessage\",\n        message: this.props.intl.formatMessage({\n          id: \"IDS_DELETECONFIRMMSG\"\n        }),\n        cardTitle: this.props.intl.formatMessage({\n          id: \"IDS_CONFIRMATION\"\n        }),\n        doLabel: this.props.intl.formatMessage({\n          id: \"IDS_OK\"\n        }),\n        doNotLabel: this.props.intl.formatMessage({\n          id: \"IDS_CANCEL\"\n        }),\n        dataforprops: \"tooltip_attachment_wrap\",\n        icon: faTrashAlt,\n        size: \"lg\",\n        title: this.props.intl.formatMessage({\n          id: \"IDS_DELETE\"\n        }),\n        hidden: this.props.userRoleControlRights.indexOf(deleteId) === -1,\n        handleClickDelete: () => this.props.deleteRecord({ ...this.props.deleteParam,\n          selectedRecord: file,\n          ncontrolCode: deleteId,\n          data,\n          skip: this.props.skip ? this.props.skip : this.state.skip,\n          take: this.props.take ? this.props.take : this.state.take\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 57\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"attatchment-details pad-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 49\n        }\n      }, this.props.subFields && this.props.subFields.map((field, i) => /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isjsonfield ? field['fieldType'] === 'size' ? /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 77\n        }\n      }, bytesToSize(file[this.props.jsonfield][field[designProperties.VALUE]])) : /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 79\n        }\n      }, file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]]) : field['fieldType'] === 'size' ? /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 77\n        }\n      }, bytesToSize(file[field[designProperties.VALUE]])) : /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 79\n        }\n      }, file[field[designProperties.VALUE]]), i !== this.props.subFields.length - 1 ? /*#__PURE__*/React.createElement(MediaLabel, {\n        className: \"seperator\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 106\n        }\n      }, \"|\") : \"\")), this.props.moreField && this.props.moreField.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MediaLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        name: `show-wrap_${index}`,\n        className: `show-more-action showmore`,\n        onClick: event => this.showHideDetails(event, index),\n        style: {\n          display: \"inline\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        className: `show-more-link showmore`,\n        for: `show-wrap_${index}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 73\n        }\n      }, ` ...${this.props.intl.formatMessage({\n        id: this.state.showMore[index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\"\n      })}`))), /*#__PURE__*/React.createElement(Media.Body, {\n        className: `show-more-wrap ${this.state.showMore[index] ? \"showmore\" : \"\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(MediaSubHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 69\n        }\n      }, this.props.moreField.map((field, i) => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-label-split blocked-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 77\n        }\n      }, /*#__PURE__*/React.createElement(MediaLabel, {\n        style: {\n          fontWeight: \"bold\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 81\n        }\n      }, field[1] ? this.props.intl.formatMessage({\n        id: field[designProperties.LABEL]\n      }) + \": \" : \"\"), /*#__PURE__*/React.createElement(MediaLabel, {\n        \"data-tip-disable\": false,\n        \"data-for\": \"tooltip_attachment_wrap\",\n        \"data-tip\": this.props.isjsonfield ? file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]] : file[field[designProperties.VALUE]],\n        className: \"media-value\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 81\n        }\n      }, this.props.isjsonfield ? file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]] : file[field[designProperties.VALUE]]), field['fieldType'] === 'size' ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", \" bytes\") : \"\"))))) : \"\"))))));\n    }) : /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(Attachments, {\n      className: \"norecordtxt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 25\n      }\n    }, this.props.intl.formatMessage({\n      id: \"IDS_NORECORDSAVAILABLE\"\n    }))), this.props.hidePaging ? \"\" : /*#__PURE__*/React.createElement(CustomPager, {\n      skip: this.state.skip,\n      take: this.state.take // width={20}\n      ,\n      pagershowwidth: 33,\n      handlePageChange: this.handlePageChange,\n      total: this.props.attachmentList ? this.props.attachmentList.length : 0,\n      buttonCount: this.state.buttonCount,\n      info: this.state.info,\n      pageSize: this.props.settings ? this.props.settings[15].split(\",\").map(setting => parseInt(setting)) : [5, 10, 15],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.attachmentList !== previousProps.attachmentList) {\n      if (this.props.skip === undefined && this.props.attachmentList && this.props.attachmentList.length <= this.state.skip) {\n        this.setState({\n          skip: 0\n        });\n      }\n    }\n\n    if (this.props.skip !== undefined && this.props.skip !== previousProps.skip) {\n      this.setState({\n        skip: this.props.skip,\n        take: this.props.take\n      });\n    }\n  }\n\n}\n\nexport default injectIntl(ListAttachment);","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/components/ListAttachment.jsx"],"names":["React","Component","ListGroup","Media","Image","FontAwesomeIcon","faCloudDownloadAlt","faTrashAlt","faPencilAlt","faExternalLinkAlt","faThumbtack","injectIntl","attachmentType","designProperties","ConfirmDialog","Attachments","getAttachedFileIcon","MediaLabel","MediaSubHeader","Nav","Form","bytesToSize","ReactTooltip","CustomPager","ListAttachment","constructor","props","showHideDetails","event","index","stopPropagation","showMore","state","setState","handlePageChange","e","skip","take","buttonCount","info","settings","parseInt","render","fileName","deleteId","editId","defaultId","viewId","isjsonfield","jsonfield","data","hidePaging","attachmentList","slice","length","map","file","fileExtension","attachmentTypeCode","nattachmenttypecode","FTP","splittedFileName","split","userRoleControlRights","indexOf","intl","formatMessage","id","viewFile","defaultRecord","defaultParam","selectedRecord","fetchRecord","editParam","operation","deleteRecord","deleteParam","ncontrolCode","subFields","field","i","VALUE","moreField","display","fontWeight","LABEL","setting","componentDidUpdate","previousProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ListGroup, Media, Image } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCloudDownloadAlt, faTrashAlt, faPencilAlt, faExternalLinkAlt, faThumbtack } from '@fortawesome/free-solid-svg-icons';\r\nimport { injectIntl } from 'react-intl';\r\nimport { attachmentType, designProperties } from './Enumeration';\r\nimport ConfirmDialog from './confirm-alert/confirm-alert.component';\r\nimport { Attachments } from './dropzone/dropzone.styles';\r\nimport { getAttachedFileIcon } from './FileIcon';\r\nimport { MediaLabel, MediaSubHeader } from './App.styles';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { Form } from 'react-bootstrap';\r\nimport '../pages/registration/registration.css'\r\nimport { bytesToSize } from './CommonScript';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport CustomPager from './CustomPager';\r\nclass ListAttachment extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            showMore: {},\r\n            buttonCount: 2,\r\n            info: true,\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        }\r\n    }\r\n    render() {\r\n\r\n        const { fileName, deleteId, editId, defaultId, viewId, isjsonfield, jsonfield } = this.props;\r\n        let data = this.props.hidePaging ? this.props.attachmentList : this.props.attachmentList.slice(this.state.skip, ((this.state.skip) + (this.state.take)))\r\n\r\n        return (\r\n            <ListGroup variant=\"flush\">\r\n                {data.length > 0 ?\r\n                    data.map((file, index) => {\r\n                        let fileExtension = \"\";\r\n                        let attachmentTypeCode = file[this.props.jsonfield].nattachmenttypecode || file.nattachmenttypecode\r\n\r\n                        if (this.props.isjsonfield) {\r\n                            if (attachmentTypeCode === attachmentType.FTP) {\r\n                                const splittedFileName = file[this.props.jsonfield][fileName].split('.');\r\n                                fileExtension = file[this.props.jsonfield][fileName].split('.')[splittedFileName.length - 1];\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (attachmentTypeCode === attachmentType.FTP) {\r\n                                const splittedFileName = file[fileName].split('.');\r\n                                fileExtension = file[fileName].split('.')[splittedFileName.length - 1];\r\n                            }\r\n                        }\r\n                        return (\r\n                            <>\r\n                                <ReactTooltip place=\"bottom\" globalEventOff=\"true\" id=\"tooltip_attachment_wrap\" />\r\n                                <ListGroup.Item key={`file_${index}`}>\r\n                                    <Attachments>\r\n                                        <Media className='block-view'>\r\n                                            <Media.Body>\r\n                                                <div className=\"left-icon-header\">\r\n                                                    <h5 className=\"mt-0 attatchment-title\"\r\n                                                        data-for=\"tooltip_attachment_wrap\"\r\n                                                        data-tip-disable={this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName].length < 50\r\n                                                            : file[fileName].length < 50}\r\n                                                        data-tip={this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName]\r\n                                                            : file[fileName]}>\r\n                                                        <Image\r\n                                                            width={25}\r\n                                                            height={25}\r\n                                                            className=\"mr-2\"\r\n                                                            src={getAttachedFileIcon(fileExtension)}\r\n                                                        />\r\n                                                        {this.props.isjsonfield\r\n                                                            ? file[this.props.jsonfield][fileName]\r\n                                                            : file[fileName]}</h5>\r\n                                                    <Nav.Link className=\"action-icons-wrap\">\r\n\r\n                                                        {attachmentTypeCode === attachmentType.FTP ?\r\n                                                            <FontAwesomeIcon icon={faCloudDownloadAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOAD\" })}\r\n                                                                data-for=\"tooltip_attachment_wrap\"\r\n                                                                onClick={() => this.props.viewFile(file)} />\r\n                                                            : <FontAwesomeIcon icon={faExternalLinkAlt} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(viewId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_LINK\" })}\r\n                                                                data-for=\"tooltip_attachment_wrap\"\r\n                                                                onClick={() => this.props.viewFile(file)} />\r\n                                                        }\r\n                                                        <FontAwesomeIcon icon={faThumbtack} className=\"mr-3\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(defaultId) === -1}\r\n                                                            onClick={() => this.props.defaultRecord({ ...this.props.defaultParam, selectedRecord: file })} />\r\n                                                        <FontAwesomeIcon icon={faPencilAlt} className=\"mr-3 d-font-icon\" size=\"lg\" hidden={this.props.userRoleControlRights.indexOf(editId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                            data-for=\"tooltip_attachment_wrap\"\r\n                                                            onClick={() => this.props.fetchRecord({ ...this.props.editParam, selectedRecord: file, operation: \"update\" })} />\r\n\r\n                                                        <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DELETECONFIRMMSG\" })}\r\n                                                            cardTitle={this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            dataforprops=\"tooltip_attachment_wrap\"\r\n                                                            icon={faTrashAlt}\r\n                                                            size=\"lg\"\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.props.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                            handleClickDelete={() => this.props.deleteRecord({ ...this.props.deleteParam, selectedRecord: file, ncontrolCode: deleteId, data, skip: this.props.skip ? this.props.skip : this.state.skip, take: this.props.take ? this.props.take : this.state.take })}\r\n                                                        />\r\n                                                    </Nav.Link>\r\n                                                </div>\r\n                                                <div className=\"attatchment-details pad-5\">\r\n                                                    {/* {file[this.props.mainField]?<>{file[this.props.mainField]}<span className=\"seperator\">|</span></>:\"\"}{file.screateddate} \r\n                                        {\r\n                                            file.nattachmenttypecode === attachmentType.FTP?\r\n                                                <>\r\n                                                    {file[filesize]?<><span className=\"seperator\">|</span>{file[filesize]} bytes</>:\"\"}\r\n                                                    {file[defaultStatusName]?<><span className=\"seperator\">|</span>{file[defaultStatusName]} </>:\"\"}\r\n                                                </>\r\n                                            :\r\n                                                <>\r\n                                                    {file[linkname]?<><span className=\"seperator\">|</span>{file[linkname]}</>:\"\"}\r\n                                                    {file[defaultStatusName]?<><span className=\"seperator\">|</span>{file[defaultStatusName]}</>:\"\"}\r\n                                                </>\r\n                                        } */}\r\n                                                    {\r\n                                                        this.props.subFields && this.props.subFields.map((field, i) =>\r\n                                                            <>\r\n                                                                {\r\n                                                                    this.props.isjsonfield ?\r\n                                                                        field['fieldType'] === 'size' ?\r\n                                                                            <MediaLabel>{bytesToSize(file[this.props.jsonfield][field[designProperties.VALUE]])}</MediaLabel>\r\n                                                                            : <MediaLabel>{file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]]}</MediaLabel>\r\n                                                                        :\r\n                                                                        field['fieldType'] === 'size' ?\r\n                                                                            <MediaLabel>{bytesToSize(file[field[designProperties.VALUE]])}</MediaLabel>\r\n                                                                            : <MediaLabel>{file[field[designProperties.VALUE]]}</MediaLabel>}\r\n                                                                {/* {this.props.subFields.length > 1 && i % 2 === 0 ?<MediaLabel className=\"seperator\">|</MediaLabel>: \"\"} */}\r\n                                                                {i !== this.props.subFields.length - 1 ? <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                                            </>\r\n                                                        )\r\n                                                    }\r\n                                                    {\r\n                                                        this.props.moreField && this.props.moreField.length > 0 ?\r\n                                                            <>\r\n                                                                <MediaLabel>\r\n                                                                    <Nav.Link name={`show-wrap_${index}`} className={`show-more-action showmore`} onClick={(event) => this.showHideDetails(event, index)} style={{ display: \"inline\" }}>\r\n                                                                        <Form.Label className={`show-more-link showmore`} for={`show-wrap_${index}`}>{` ...${this.props.intl.formatMessage({ id: this.state.showMore[index] ? \"IDS_SHOWLESS\" : \"IDS_SHOWMORE\" })}`}</Form.Label>\r\n                                                                    </Nav.Link>\r\n                                                                </MediaLabel>\r\n                                                                <Media.Body className={`show-more-wrap ${this.state.showMore[index] ? \"showmore\" : \"\"}`}>\r\n                                                                    <MediaSubHeader>\r\n\r\n\r\n                                                                        {this.props.moreField.map((field, i) =>\r\n                                                                            <div className=\"media-label-split blocked-flex\">\r\n                                                                                <MediaLabel style={{ fontWeight: \"bold\" }}>{field[1] ?\r\n                                                                                    this.props.intl.formatMessage({ id: field[designProperties.LABEL] })\r\n                                                                                    + \": \" : \"\"}\r\n                                                                                </MediaLabel>\r\n                                                                                <MediaLabel\r\n                                                                                    data-tip-disable={false}\r\n                                                                                    data-for=\"tooltip_attachment_wrap\"\r\n                                                                                    data-tip={this.props.isjsonfield ? file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]] : file[field[designProperties.VALUE]]} className='media-value' >\r\n                                                                                    {this.props.isjsonfield ?\r\n                                                                                        file[this.props.jsonfield][field[designProperties.VALUE]] || file[field[designProperties.VALUE]]\r\n                                                                                        : file[field[designProperties.VALUE]]}</MediaLabel>\r\n                                                                                {field['fieldType'] === 'size' ? <>{\" \"} bytes</> : \"\"}\r\n                                                                                {/* {i % 2 === 0 && i !== this.props.moreField.length - 1 ?\r\n                                                                                        <MediaLabel className=\"seperator\">|</MediaLabel> : \"\"}\r\n                                                                                    {(i + 1) % 2 === 0 ? <br></br> : \"\"} */}\r\n\r\n                                                                            </div>\r\n                                                                        )}\r\n                                                                    </MediaSubHeader>\r\n                                                                </Media.Body>\r\n                                                            </>\r\n                                                            : \"\"\r\n                                                    }\r\n                                                </div>\r\n                                            </Media.Body>\r\n                                        </Media>\r\n                                    </Attachments>\r\n                                </ListGroup.Item>\r\n                            </>\r\n                        );\r\n                    }) : <ListGroup.Item>\r\n                        <Attachments className=\"norecordtxt\">\r\n                            {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                        </Attachments>\r\n                    </ListGroup.Item>\r\n                }\r\n                {this.props.hidePaging ? \"\" :\r\n                    <CustomPager\r\n                        skip={this.state.skip}\r\n                        take={this.state.take}\r\n                        // width={20}\r\n                        pagershowwidth={33}\r\n                        handlePageChange={this.handlePageChange}\r\n                        total={this.props.attachmentList ? this.props.attachmentList.length : 0}\r\n                        buttonCount={this.state.buttonCount}\r\n                        info={this.state.info}\r\n                        pageSize={this.props.settings ? this.props.settings[15].split(\",\").map(setting => parseInt(setting)) : [5, 10, 15]}\r\n\r\n                    >\r\n                    </CustomPager>\r\n                }\r\n            </ListGroup>\r\n        );\r\n    }\r\n    showHideDetails = (event, index) => {\r\n\r\n        event.stopPropagation();\r\n        let showMore = { ...this.state.showMore, [index]: !this.state.showMore[index] }\r\n        this.setState({ showMore })\r\n\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.attachmentList !== previousProps.attachmentList) {\r\n            if (this.props.skip === undefined && this.props.attachmentList && this.props.attachmentList.length <= this.state.skip) {\r\n                this.setState({ skip: 0 });\r\n            }\r\n        }\r\n        if (this.props.skip !== undefined && this.props.skip !== previousProps.skip) {\r\n            this.setState({ skip: this.props.skip, take: this.props.take });\r\n        }\r\n    }\r\n}\r\nexport default injectIntl(ListAttachment);"]},"metadata":{},"sourceType":"module"}