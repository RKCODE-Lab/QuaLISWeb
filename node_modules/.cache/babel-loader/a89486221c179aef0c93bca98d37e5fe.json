{"ast":null,"code":"var _jsxFileName = \"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\src\\\\pages\\\\contactmaster\\\\Manufacturer.jsx\";\nimport React, { Component } from 'react';\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport { FormattedMessage } from 'react-intl';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { ReadOnlyText } from '../../components/App.styles';\nimport { ContentPanel } from '../../pages/product/product.styled';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport ListMaster from '../../components/list-master/list-master.component';\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\nimport { showEsign, getControlMap } from '../../components/CommonScript';\nimport Esign from '../audittrail/Esign';\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\nimport { transactionStatus } from '../../components/Enumeration'; // import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\n\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\nimport { callService, crudMaster, validateEsignCredential, updateStore, getManfacturerCombo, selectCheckBoxManufacturer, getContactInfo, getSiteManufacturerLoadEdit, getContactManufacturerLoadEdit, filterColumnData, addManufacturerFile, viewAttachment } from '../../actions';\nimport ManufacturerSiteTab from '../../pages/contactmaster/ManufacturerSiteTab'; // import { Tooltip } from '@progress/kendo-react-tooltip';\n\nimport AddManufacturer from '../../pages/contactmaster/AddManufacturer'; // import ReactTooltip from 'react-tooltip';\n\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\nimport ManufacturerFileTab from './ManufacturerFileTab';\n\nconst mapStateToProps = state => {\n  return {\n    Login: state.Login\n  };\n};\n\nclass Manufacturer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.closeModal = () => {\n      let loadEsign = this.props.Login.loadEsign;\n      let openModal = this.props.Login.openModal;\n      let selectedRecord = this.props.Login.selectedRecord;\n\n      if (this.props.Login.loadEsign) {\n        if (this.props.Login.operation === \"delete\") {\n          loadEsign = false;\n          openModal = false;\n          selectedRecord = {};\n        } else {\n          loadEsign = false;\n          selectedRecord['esignpassword'] = \"\";\n          selectedRecord['esigncomments'] = \"\";\n          selectedRecord['esignreason'] = \"\";\n        }\n      } else {\n        openModal = false;\n        selectedRecord = {};\n      }\n\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          openModal,\n          loadEsign,\n          selectedRecord,\n          selectedId: null\n        } // data: {openModal, loadEsign, selectedRecord}\n\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.ConfirmDelete = deleteId => {\n      this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_DEFAULTCONFIRMMSG\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_OK\"\n      }), this.props.intl.formatMessage({\n        id: \"IDS_CANCEL\"\n      }), () => this.DeleteManufacturer(\"delete\", deleteId));\n    };\n\n    this.onSaveClick = (saveType, formRef) => {\n      let inputData = [];\n      inputData[\"manufacturersiteaddress\"] = {};\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      let postParam = undefined;\n      let fieldList = [\"nmanufcode\", \"smanufname\", \"sdescription\", \"nmanufsitecode\", \"smanufsitename\", \"nmanufcontactcode\", \"scontactname\", \"ntransactionstatus\"];\n      let fieldUpdateList = [\"nmanufcode\", \"smanufname\", \"sdescription\", \"ntransactionstatus\"];\n\n      if (this.props.Login.operation === \"update\") {\n        postParam = {\n          inputListName: \"Manufacturer\",\n          selectedObject: \"selectedManufacturer\",\n          primaryKeyField: \"nmanufcode\"\n        }; // inputData[\"manufacturer\"] = JSON.parse(JSON.stringify(this.state.selectedRecord));\n\n        inputData[\"manufacturer\"] = {};\n        fieldUpdateList.map(item => {\n          if (item === \"nofficialmanufcode\") {\n            return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item].value : \"\";\n          } else {\n            return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\n          }\n        });\n\n        if (inputData[\"manufacturer\"].hasOwnProperty('nofficialmanufcode')) {\n          delete inputData[\"manufacturer\"]['nofficialmanufcode'];\n        }\n      } else {\n        inputData[\"manufacturer\"] = {\n          \"nsitecode\": this.props.Login.userInfo.nmastersitecode\n        };\n        fieldList.map(item => {\n          if (item === \"nofficialmanufcode\") {\n            return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item].value;\n          } else {\n            return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item];\n          }\n        });\n        inputData[\"manufacturer\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1;\n        inputData[\"manufacturersiteaddress\"][\"smanufsitename\"] = this.state.selectedRecord[\"smanufsitename\"] ? this.state.selectedRecord[\"smanufsitename\"] : \"\";\n        inputData[\"manufacturersiteaddress\"][\"scontactname\"] = this.state.selectedRecord[\"scontactname\"] ? this.state.selectedRecord[\"scontactname\"] : \"\";\n        inputData[\"manufacturersiteaddress\"][\"ncountrycode\"] = this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value : -1;\n        inputData[\"manufacturersiteaddress\"][\"saddress1\"] = this.state.selectedRecord[\"saddress1\"] ? this.state.selectedRecord[\"saddress1\"] : \"\";\n        inputData[\"manufacturersiteaddress\"][\"saddress2\"] = this.state.selectedRecord[\"saddress2\"] ? this.state.selectedRecord[\"saddress2\"] : \"\";\n        inputData[\"manufacturersiteaddress\"][\"saddress3\"] = this.state.selectedRecord[\"saddress3\"] ? this.state.selectedRecord[\"saddress3\"] : \"\";\n        inputData[\"manufacturersiteaddress\"][\"ndefaultstatus\"] = transactionStatus.YES;\n      }\n\n      const inputParam = {\n        classUrl: this.props.Login.inputParam.classUrl,\n        methodUrl: \"Manufacturer\",\n        inputData: inputData,\n        operation: this.props.Login.operation,\n        saveType,\n        formRef,\n        postParam,\n        searchRef: this.searchRef\n      };\n      const masterData = this.props.Login.masterData;\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            saveType\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      } // this.props.crudMaster(inputParam);\n\n    };\n\n    this.DeleteManufacturer = (operation, ncontrolCode) => {\n      let inputData = [];\n      inputData[\"manufacturer\"] = this.props.Login.masterData.selectedManufacturer;\n      inputData[\"userinfo\"] = this.props.Login.userInfo;\n      const postParam = {\n        inputListName: \"Manufacturer\",\n        selectedObject: \"selectedManufacturer\",\n        primaryKeyField: \"nmanufcode\",\n        primaryKeyValue: this.props.Login.masterData.selectedManufacturer.nmanufcode,\n        fetchUrl: \"manufacturer/getManufacturerWithSiteAndContactDetails\",\n        fecthInputObject: {\n          userinfo: this.props.Login.userInfo\n        }\n      };\n      const inputParam = {\n        methodUrl: \"Manufacturer\",\n        postParam,\n        classUrl: this.props.Login.inputParam.classUrl,\n        inputData: inputData,\n        operation: \"delete\"\n      };\n      const masterData = this.props.Login.masterData; // this.props.crudMaster(inputParam, this.props.Login.masterData);\n\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\n        const updateInfo = {\n          typeName: DEFAULT_RETURN,\n          data: {\n            loadEsign: true,\n            screenData: {\n              inputParam,\n              masterData\n            },\n            openModal: true,\n            screenName: \"Manufacturer\",\n            operation\n          }\n        };\n        this.props.updateStore(updateInfo);\n      } else {\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\n      }\n    };\n\n    this.onInputOnChange = event => {\n      const selectedRecord = this.state.selectedRecord || {};\n\n      if (event.target.type === 'checkbox') {\n        if (event.target.name === \"agree\") {\n          selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\n        } else {\n          selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\n        }\n      } else {\n        selectedRecord[event.target.name] = event.target.value;\n      }\n\n      this.setState({\n        selectedRecord\n      });\n    };\n\n    this.onComboChange = (comboData, fieldName) => {\n      if (comboData !== null) {\n        const selectedRecord = this.state.selectedRecord || {};\n        selectedRecord[fieldName] = comboData; //comboData.value;\n\n        this.setState({\n          selectedRecord\n        });\n      }\n    };\n\n    this.validateEsign = () => {\n      const inputParam = {\n        inputData: {\n          \"userinfo\": { ...this.props.Login.userInfo,\n            sreason: this.state.selectedRecord[\"esigncomments\"],\n            nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\n            spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label\n          },\n          password: this.state.selectedRecord[\"esignpassword\"]\n        },\n        screenData: this.props.Login.screenData\n      };\n      this.props.validateEsignCredential(inputParam, \"openModal\");\n    };\n\n    this.reloadData = () => {\n      this.searchRef.current.value = \"\";\n      const inputParam = {\n        inputData: {\n          \"userinfo\": this.props.Login.userInfo\n        },\n        classUrl: \"manufacturer\",\n        methodUrl: \"Manufacturer\",\n        userInfo: this.props.Login.userInfo,\n        displayName: \"Manufacturer\"\n      };\n      this.props.callService(inputParam);\n    };\n\n    this.onTabChange = tabProps => {\n      const screenName = tabProps.screenName;\n      const updateInfo = {\n        typeName: DEFAULT_RETURN,\n        data: {\n          screenName\n        }\n      };\n      this.props.updateStore(updateInfo);\n    };\n\n    this.tabDetail = () => {\n      const tabMap = new Map();\n      tabMap.set(\"IDS_SITECONTACT\", /*#__PURE__*/React.createElement(ManufacturerSiteTab, {\n        operation: this.props.Login.operation,\n        inputParam: this.props.Login.inputParam,\n        screenName: this.props.Login.screenName,\n        userInfo: this.props.Login.userInfo,\n        masterData: this.props.Login.masterData,\n        crudMaster: this.props.crudMaster,\n        errorCode: this.props.Login.errorCode,\n        masterStatus: this.props.Login.masterStatus,\n        openChildModal: this.props.Login.openChildModal,\n        updateStore: this.props.updateStore,\n        selectedRecord: this.props.Login.selectedRecord,\n        getContactInfo: this.props.getContactInfo,\n        getSiteManufacturerLoadEdit: this.props.getSiteManufacturerLoadEdit,\n        getContactManufacturerLoadEdit: this.props.getContactManufacturerLoadEdit,\n        ncontrolCode: this.props.Login.ncontrolCode,\n        userRoleControlRights: this.state.userRoleControlRights,\n        esignRights: this.props.Login.userRoleControlRights,\n        screenData: this.props.Login.screenData,\n        validateEsignCredential: this.props.validateEsignCredential,\n        loadEsign: this.props.Login.loadEsign,\n        controlMap: this.state.controlMap,\n        Country: this.props.Login.Country,\n        countryCode: this.props.Login.countryCode,\n        SiteCode: this.props.Login.SiteCode,\n        selectedId: this.props.Login.selectedId,\n        dataState: this.props.Login.dataState,\n        settings: this.props.Login.settings,\n        linkMaster: this.props.Login.linkMaster,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 40\n        }\n      }));\n      tabMap.set(\"IDS_FILE\", /*#__PURE__*/React.createElement(ManufacturerFileTab, {\n        controlMap: this.state.controlMap,\n        userRoleControlRights: this.state.userRoleControlRights,\n        userInfo: this.props.Login.userInfo,\n        inputParam: this.props.Login.inputParam,\n        deleteRecord: this.deleteRecord,\n        manufacturerFile: this.props.Login.masterData.manufacturerFile || [],\n        getAvailableData: this.props.getAvailableData,\n        addManufacturerFile: this.props.addManufacturerFile,\n        viewManufacturerFile: this.viewManufacturerFile,\n        defaultRecord: this.defaultRecord,\n        screenName: \"Manufacturer File\",\n        settings: this.props.Login.settings,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 9\n        }\n      }));\n      return tabMap;\n    };\n\n    this.viewManufacturerFile = filedata => {\n      const inputParam = {\n        inputData: {\n          manufacturerfile: filedata,\n          userinfo: this.props.Login.userInfo\n        },\n        classUrl: \"manufacturer\",\n        operation: \"view\",\n        methodUrl: \"AttachedManufacturerFile\",\n        screenName: \"Manufacturer File\"\n      };\n      this.props.viewAttachment(inputParam);\n    };\n\n    this.deleteRecord = manufacturerparam => {\n      let inputParam = {};\n\n      if (this.props.Login.screenName === 'Manufacturer File') {\n        inputParam = {\n          classUrl: \"manufacturer\",\n          methodUrl: manufacturerparam.methodUrl,\n          inputData: {\n            [manufacturerparam.methodUrl.toLowerCase()]: manufacturerparam.selectedRecord,\n            \"userinfo\": this.props.Login.userInfo\n          },\n          operation: manufacturerparam.operation,\n          //dataState: this.state.dataState,\n          //dataStateMaterial: this.state.dataStateMaterial\n          dataState: this.state.dataState\n        };\n\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, manufacturerparam.ncontrolCode)) {\n          const updateInfo = {\n            typeName: DEFAULT_RETURN,\n            data: {\n              loadEsign: true,\n              screenData: {\n                inputParam,\n                masterData: this.props.Login.masterData\n              },\n              openChildModal: true,\n              screenName: manufacturerparam.screenName,\n              operation: manufacturerparam.operation\n            }\n          };\n          this.props.updateStore(updateInfo);\n        } else {\n          this.props.crudMaster(inputParam, this.props.Login.masterData, \"openChildModal\");\n        }\n      }\n    };\n\n    const dataState = {\n      skip: 0,\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5\n    };\n    this.state = {\n      selectedRecord: {},\n      dataResult: [],\n      dataState: dataState,\n      masterStatus: \"\",\n      error: \"\",\n      Manufacturer: [],\n      operation: \"\",\n      selectedManufacturer: undefined,\n      screenName: \"Manufacturer\",\n      EDQMManufacturer: [],\n      SiteCode: 0,\n      userRoleControlRights: [],\n      controlMap: new Map()\n    };\n    this.searchRef = React.createRef();\n    this.confirmMessage = new ConfirmMessage();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\n      toast.warn(props.Login.masterStatus);\n      props.Login.masterStatus = \"\";\n    }\n\n    if (props.Login.error !== state.error) {\n      toast.error(props.Login.error);\n      props.Login.error = \"\";\n    }\n\n    if (props.Login.selectedRecord === undefined) {\n      return {\n        selectedRecord: {}\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    let userStatusCSS = \"\";\n    let activeIconCSS = \"fa fa-check\";\n    this.extractedColumnList = [{\n      \"idsName\": \"IDS_MANUFACTURERNAME\",\n      \"mandatory\": true,\n      \"dataField\": \"smanufname\",\n      \"width\": \"200px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_MANUFSITENAME\",\n      \"mandatory\": true,\n      \"dataField\": \"smanufsitename\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_MANUFCONTACTNAME\",\n      \"mandatory\": true,\n      \"dataField\": \"scontactname\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_ADDRESS1\",\n      \"mandatory\": true,\n      \"dataField\": \"saddress1\",\n      \"width\": \"150px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }, {\n      \"idsName\": \"IDS_COUNTRY\",\n      \"dataField\": \"ncountrycode\",\n      \"mandatory\": true,\n      \"mandatoryLabel\": \"IDS_SELECT\",\n      \"controlType\": \"selectbox\"\n    } // { \"idsName\": \"IDS_EDQMOFFICIALNAME\", \"mandatory\": true, \"dataField\": \"nofficialmanufcode\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\n    ];\n    this.extractedUpdateColumnList = [{\n      \"idsName\": \"IDS_MANUFACTURERNAME\",\n      \"mandatory\": true,\n      \"dataField\": \"smanufname\",\n      \"width\": \"200px\",\n      \"mandatoryLabel\": \"IDS_ENTER\",\n      \"controlType\": \"textbox\"\n    }];\n\n    if (this.props.Login.masterData.selectedManufacturer && this.props.Login.masterData.selectedManufacturer.ntransactionstatus === transactionStatus.DEACTIVE) {\n      userStatusCSS = \"outline-secondary\";\n      activeIconCSS = \"\";\n    } else if (this.props.Login.masterData.selectedManufacturer && this.props.Login.masterData.selectedManufacturer.ntransactionstatus === transactionStatus.ACTIVE) {\n      userStatusCSS = \"outline-success\";\n    } else {\n      userStatusCSS = \"outline-Final\";\n    }\n\n    const addId = this.state.controlMap.has(\"AddManufacturer\") && this.state.controlMap.get(\"AddManufacturer\").ncontrolcode;\n    const editId = this.state.controlMap.has(\"EditManufacturer\") && this.state.controlMap.get(\"EditManufacturer\").ncontrolcode;\n    const deleteId = this.state.controlMap.has(\"DeleteManufacturer\") && this.state.controlMap.get(\"DeleteManufacturer\").ncontrolcode;\n    const filterParam = {\n      inputListName: \"Manufacturer\",\n      selectedObject: \"selectedManufacturer\",\n      primaryKeyField: \"nmanufcode\",\n      fetchUrl: \"manufacturer/getManufacturerWithSiteAndContactDetails\",\n      fecthInputObject: {\n        userinfo: this.props.Login.userInfo\n      },\n      masterData: this.props.Login.masterData,\n      searchFieldList: [\"smanufname\", \"sdescription\", \"stransdisplaystatus\"]\n    };\n    const mandatoryFields = [];\n    this.props.Login.operation == \"create\" ? this.extractedColumnList.forEach(item => item.mandatory === true ? mandatoryFields.push(item) : \"\") : this.extractedUpdateColumnList.forEach(item => item.mandatory === true ? mandatoryFields.push(item) : \"\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"client-listing-wrap mtop-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      noGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListMaster //filterColumnData ={(e)=>this.filterColumnData(e)}\n    , {\n      formatMessage: this.props.intl.formatMessage,\n      screenName: \"Manufacturer\",\n      masterData: this.props.Login.masterData,\n      userInfo: this.props.Login.userInfo,\n      masterList: this.props.Login.masterData.searchedData || this.props.Login.masterData.Manufacturer,\n      getMasterDetail: Manufacturer => this.props.selectCheckBoxManufacturer(Manufacturer, this.props.Login.userInfo, this.props.Login.masterData),\n      selectedMaster: this.props.Login.masterData.selectedManufacturer,\n      primaryKeyField: \"nmanufcode\",\n      mainField: \"smanufname\",\n      firstField: \"stransdisplaystatus\" //secondField=\"stransdisplaystatus\"\n      ,\n      isIDSField: \"Yes\",\n      filterColumnData: this.props.filterColumnData,\n      filterParam: filterParam,\n      userRoleControlRights: this.state.userRoleControlRights,\n      addId: addId,\n      searchRef: this.searchRef,\n      reloadData: this.reloadData,\n      hidePaging: false,\n      openModal: () => this.props.getManfacturerCombo(\"IDS_MANUFACTURER\", \"create\", \"nmanufcode\", this.props.Login.masterData, this.props.Login.userInfo, 75),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(ContentPanel, {\n      className: \"panel-main-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    }, this.props.Login.masterData.Manufacturer && this.props.Login.masterData.Manufacturer.length > 0 && this.props.Login.masterData.selectedManufacturer ? /*#__PURE__*/React.createElement(Card, {\n      className: \"border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"product-title-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 49\n      }\n    }, this.props.Login.masterData.selectedManufacturer.smanufname), /*#__PURE__*/React.createElement(Card.Subtitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex product-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"product-title-sub flex-grow-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: `btn btn-outlined ${userStatusCSS} btn-sm ml-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: activeIconCSS,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 65\n      }\n    }), this.props.Login.masterData.selectedManufacturer.stransdisplaystatus)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-inline \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2\",\n      href: \"#\",\n      hidden: this.state.userRoleControlRights.indexOf(editId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }) //   data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: e => this.props.getManfacturerCombo(\"Manufacturer\", \"update\", \"nmanufcode\", this.props.Login.masterData, this.props.Login.userInfo, editId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      title: this.props.intl.formatMessage({\n        id: \"IDS_EDIT\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 65\n      }\n    })), /*#__PURE__*/React.createElement(Nav.Link, {\n      className: \"btn btn-circle outline-grey mr-2 action-icons-wrap\",\n      href: \"\",\n      hidden: this.state.userRoleControlRights.indexOf(deleteId) === -1,\n      \"data-tip\": this.props.intl.formatMessage({\n        id: \"IDS_DELETE\"\n      }) //   data-for=\"tooltip_list_wrap\"\n      ,\n      onClick: () => this.ConfirmDelete(deleteId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrashAlt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 65\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: 'IDS_DESCRIPTION',\n      message: \"Description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(ReadOnlyText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 61\n      }\n    }, \" \", this.props.Login.masterData.selectedManufacturer.sdescription === null || this.props.Login.masterData.selectedManufacturer.sdescription.length === 0 ? '-' : this.props.Login.masterData.selectedManufacturer.sdescription)))), /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"at-tabs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(CustomTabs, {\n      tabDetail: this.tabDetail(),\n      onTabChange: this.onTabChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 57\n      }\n    })))))) : \"\")))))), this.props.Login.openModal && /*#__PURE__*/React.createElement(SlideOutModal, {\n      show: this.props.Login.openModal,\n      closeModal: this.closeModal,\n      operation: this.props.Login.operation,\n      inputParam: this.props.Login.inputParam,\n      screenName: this.props.Login.screenName,\n      onSaveClick: this.onSaveClick,\n      esign: this.props.Login.loadEsign,\n      validateEsign: this.validateEsign,\n      masterStatus: this.props.Login.masterStatus,\n      updateStore: this.props.updateStore,\n      selectedRecord: this.state.selectedRecord || {},\n      mandatoryFields: mandatoryFields,\n      addComponent: this.props.Login.loadEsign ? /*#__PURE__*/React.createElement(Esign, {\n        operation: this.props.Login.operation // formatMessage={this.props.intl.formatMessage}\n        ,\n        onInputOnChange: this.onInputOnChange,\n        inputParam: this.props.Login.inputParam,\n        selectedRecord: this.state.selectedRecord || {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 29\n        }\n      }) : /*#__PURE__*/React.createElement(AddManufacturer, {\n        selectedRecord: this.state.selectedRecord || {},\n        onInputOnChange: this.onInputOnChange,\n        onComboChange: this.onComboChange // formatMessage={this.props.intl.formatMessage}\n        ,\n        edqmManufacturerList: this.props.Login.edqmManufacturerList || [],\n        operation: this.props.Login.operation,\n        inputParam: this.props.inputParam,\n        Country: this.props.Login.Country // defaultValue={this.props.Login.edqmManufacturer}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 29\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  componentDidUpdate(previousProps) {\n    // if (this.props.Login.masterData !== previousProps.Login.masterData) {\n    //     this.setState(\n    //         {\n    //             Manufacturer: this.props.Login.masterData.Manufacturer ?\n    //                 this.props.Login.masterData.Manufacturer : this.state.Manufacturer,\n    //             selectedManufacturer: this.props.Login.masterData.selectedManufacturer ?\n    //                 this.props.Login.masterData.selectedManufacturer : this.state.selectedManufacturer,\n    //             ManufacturerSiteAddress: this.props.Login.masterData.ManufacturerSiteAddress ?\n    //                 this.props.Login.masterData.ManufacturerSiteAddress : {},\n    //             ManufacturerContactInfo: this.props.Login.masterData.ManufacturerContactInfo ?\n    //                 this.props.Login.masterData.ManufacturerContactInfo : {},\n    //             SiteCode: this.props.Login.masterData.SiteCode ? this.props.Login.masterData.SiteCode : 0,\n    //             isOpen: false\n    //         });\n    // }\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\n      this.setState({\n        selectedRecord: this.props.Login.selectedRecord\n      });\n    }\n\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\n      const userRoleControlRights = [];\n\n      if (this.props.Login.userRoleControlRights) {\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item => userRoleControlRights.push(item.ncontrolcode));\n      }\n\n      const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode);\n      this.setState({\n        userRoleControlRights,\n        controlMap\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const updateInfo = {\n      typeName: DEFAULT_RETURN,\n      data: {\n        masterData: [],\n        inputParam: undefined,\n        operation: null,\n        modalName: undefined\n      }\n    };\n    this.props.updateStore(updateInfo);\n  }\n\n}\n\nexport default connect(mapStateToProps, {\n  callService,\n  crudMaster,\n  validateEsignCredential,\n  updateStore,\n  getManfacturerCombo,\n  selectCheckBoxManufacturer,\n  getContactInfo,\n  getSiteManufacturerLoadEdit,\n  getContactManufacturerLoadEdit,\n  filterColumnData,\n  addManufacturerFile,\n  viewAttachment\n})(injectIntl(Manufacturer));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/contactmaster/Manufacturer.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","toast","FormattedMessage","FontAwesomeIcon","faPencilAlt","faTrashAlt","ReadOnlyText","ContentPanel","connect","injectIntl","ListMaster","SlideOutModal","showEsign","getControlMap","Esign","DEFAULT_RETURN","transactionStatus","ConfirmMessage","callService","crudMaster","validateEsignCredential","updateStore","getManfacturerCombo","selectCheckBoxManufacturer","getContactInfo","getSiteManufacturerLoadEdit","getContactManufacturerLoadEdit","filterColumnData","addManufacturerFile","viewAttachment","ManufacturerSiteTab","AddManufacturer","CustomTabs","ManufacturerFileTab","mapStateToProps","state","Login","Manufacturer","constructor","props","closeModal","loadEsign","openModal","selectedRecord","operation","updateInfo","typeName","data","selectedId","ConfirmDelete","deleteId","confirmMessage","confirm","intl","formatMessage","id","DeleteManufacturer","onSaveClick","saveType","formRef","inputData","userInfo","postParam","undefined","fieldList","fieldUpdateList","inputListName","selectedObject","primaryKeyField","map","item","value","hasOwnProperty","nmastersitecode","YES","inputParam","classUrl","methodUrl","searchRef","masterData","userRoleControlRights","nformcode","ncontrolCode","screenData","selectedManufacturer","primaryKeyValue","nmanufcode","fetchUrl","fecthInputObject","userinfo","screenName","onInputOnChange","event","target","type","name","checked","NO","ACTIVE","DEACTIVE","setState","onComboChange","comboData","fieldName","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","reloadData","current","displayName","onTabChange","tabProps","tabDetail","tabMap","Map","set","errorCode","masterStatus","openChildModal","controlMap","Country","countryCode","SiteCode","dataState","settings","linkMaster","deleteRecord","manufacturerFile","getAvailableData","viewManufacturerFile","defaultRecord","filedata","manufacturerfile","manufacturerparam","toLowerCase","skip","take","parseInt","dataResult","error","EDQMManufacturer","createRef","getDerivedStateFromProps","warn","render","userStatusCSS","activeIconCSS","extractedColumnList","extractedUpdateColumnList","ntransactionstatus","addId","has","get","ncontrolcode","editId","filterParam","searchFieldList","mandatoryFields","forEach","mandatory","push","searchedData","length","smanufname","stransdisplaystatus","indexOf","e","sdescription","edqmManufacturerList","componentDidUpdate","previousProps","Object","values","componentWillUnmount","modalName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { ReadOnlyText } from '../../components/App.styles';\r\nimport { ContentPanel } from '../../pages/product/product.styled';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { showEsign, getControlMap } from '../../components/CommonScript';\r\nimport Esign from '../audittrail/Esign';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getManfacturerCombo, selectCheckBoxManufacturer,\r\n    getContactInfo,\r\n    getSiteManufacturerLoadEdit, getContactManufacturerLoadEdit, filterColumnData, addManufacturerFile, viewAttachment\r\n} from '../../actions';\r\nimport ManufacturerSiteTab from '../../pages/contactmaster/ManufacturerSiteTab';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport AddManufacturer from '../../pages/contactmaster/AddManufacturer';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport CustomTabs from '../../components/custom-tabs/custom-tabs.component';\r\nimport ManufacturerFileTab from './ManufacturerFileTab';\r\n\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\n\r\nclass Manufacturer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            selectedRecord: {}, dataResult: [],\r\n            dataState: dataState,\r\n            masterStatus: \"\",\r\n            error: \"\",\r\n            Manufacturer: [],\r\n            operation: \"\",\r\n            selectedManufacturer: undefined,\r\n            screenName: \"Manufacturer\",\r\n            EDQMManufacturer: [],\r\n            SiteCode: 0,\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n\r\n        };\r\n        this.searchRef = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        if (props.Login.selectedRecord === undefined) {\r\n            return { selectedRecord: {} }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    render() {\r\n        let userStatusCSS = \"\";\r\n        let activeIconCSS = \"fa fa-check\";\r\n\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_MANUFACTURERNAME\", \"mandatory\": true, \"dataField\": \"smanufname\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n            { \"idsName\": \"IDS_MANUFSITENAME\", \"mandatory\": true, \"dataField\": \"smanufsitename\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_MANUFCONTACTNAME\", \"mandatory\": true, \"dataField\": \"scontactname\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_ADDRESS1\", \"mandatory\": true, \"dataField\": \"saddress1\", \"width\": \"150px\" , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            { \"idsName\": \"IDS_COUNTRY\", \"dataField\": \"ncountrycode\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n            // { \"idsName\": \"IDS_EDQMOFFICIALNAME\", \"mandatory\": true, \"dataField\": \"nofficialmanufcode\", \"width\": \"200px\" , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"}\r\n        ];\r\n\r\n        this.extractedUpdateColumnList = [\r\n            { \"idsName\": \"IDS_MANUFACTURERNAME\", \"mandatory\": true, \"dataField\": \"smanufname\", \"width\": \"200px\", \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        ];\r\n\r\n        if (this.props.Login.masterData.selectedManufacturer && this.props.Login.masterData.selectedManufacturer.ntransactionstatus === transactionStatus.DEACTIVE) {\r\n            userStatusCSS = \"outline-secondary\";\r\n            activeIconCSS = \"\";\r\n        }\r\n        else if (this.props.Login.masterData.selectedManufacturer && this.props.Login.masterData.selectedManufacturer.ntransactionstatus === transactionStatus.ACTIVE) {\r\n            userStatusCSS = \"outline-success\";\r\n        }\r\n        else {\r\n            userStatusCSS = \"outline-Final\";\r\n        }\r\n        const addId = this.state.controlMap.has(\"AddManufacturer\") && this.state.controlMap.get(\"AddManufacturer\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"EditManufacturer\") && this.state.controlMap.get(\"EditManufacturer\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"DeleteManufacturer\") && this.state.controlMap.get(\"DeleteManufacturer\").ncontrolcode\r\n\r\n        const filterParam = {\r\n            inputListName: \"Manufacturer\", selectedObject: \"selectedManufacturer\", primaryKeyField: \"nmanufcode\",\r\n            fetchUrl: \"manufacturer/getManufacturerWithSiteAndContactDetails\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"smanufname\", \"sdescription\", \"stransdisplaystatus\"]\r\n        };\r\n        const mandatoryFields = [];\r\n        this.props.Login.operation == \"create\" ?\r\n        this.extractedColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        ):\r\n        this.extractedUpdateColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        )\r\n        ;\r\n        return (\r\n            <>\r\n                <div className=\"client-listing-wrap mtop-4\">\r\n                    <Row noGutters={true}>\r\n                        <Col md={4}>\r\n                            <ListMaster //filterColumnData ={(e)=>this.filterColumnData(e)}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                screenName={\"Manufacturer\"}\r\n                                masterData={this.props.Login.masterData}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.Manufacturer}\r\n                                getMasterDetail={(Manufacturer) => this.props.selectCheckBoxManufacturer(Manufacturer, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                                selectedMaster={this.props.Login.masterData.selectedManufacturer}\r\n                                primaryKeyField=\"nmanufcode\"\r\n                                mainField=\"smanufname\"\r\n                                firstField=\"stransdisplaystatus\"\r\n                                //secondField=\"stransdisplaystatus\"\r\n                                isIDSField=\"Yes\"\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                filterParam={filterParam}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                addId={addId}\r\n                                searchRef={this.searchRef}\r\n                                reloadData={this.reloadData}\r\n                                hidePaging={false}\r\n                                openModal={() => this.props.getManfacturerCombo(\"IDS_MANUFACTURER\", \"create\", \"nmanufcode\", this.props.Login.masterData, this.props.Login.userInfo, 75)}\r\n                            />\r\n                        </Col>\r\n                        <Col md='8'>\r\n                            <Row><Col md={12}>\r\n                                <ContentPanel className=\"panel-main-content\">\r\n                                    {this.props.Login.masterData.Manufacturer && this.props.Login.masterData.Manufacturer.length > 0 && this.props.Login.masterData.selectedManufacturer ?\r\n                                        <Card className=\"border-0\">\r\n                                            <Card.Header>\r\n                                                <Card.Title className=\"product-title-main\">{this.props.Login.masterData.selectedManufacturer.smanufname}</Card.Title>\r\n                                                <Card.Subtitle>\r\n                                                    <div className=\"d-flex product-category\">\r\n                                                        <h2 className=\"product-title-sub flex-grow-1\">\r\n                                                            <span className={`btn btn-outlined ${userStatusCSS} btn-sm ml-3`}>\r\n                                                                <i className={activeIconCSS}></i>\r\n                                                                {this.props.Login.masterData.selectedManufacturer.stransdisplaystatus}\r\n                                                            </span>\r\n                                                        </h2>\r\n                                                        <div className=\"d-inline \">\r\n                                                            {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n\r\n                                                            {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip_list_wrap\" />  <ProductList className=\"d-inline dropdown badget_menu\"> */}\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" href=\"#\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                             //   data-for=\"tooltip_list_wrap\"\r\n                                                                onClick={(e) => this.props.getManfacturerCombo(\"Manufacturer\", \"update\", \"nmanufcode\", this.props.Login.masterData, this.props.Login.userInfo, editId)} >\r\n                                                                <FontAwesomeIcon icon={faPencilAlt}\r\n                                                                    title={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })} />\r\n                                                            </Nav.Link>\r\n                                                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                             //   data-for=\"tooltip_list_wrap\"\r\n                                                                onClick={() => this.ConfirmDelete(deleteId)}>\r\n                                                                <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                                {/* <FontAwesomeIcon icon={faTrashAlt} className=\"ActionIconColor\" onClick={(e) => this.DeleteManufacturer(\"delete\", deleteId)} /> */}\r\n                                                                {/* <ConfirmDialog\r\n                                                                        name=\"deleteMessage\"\r\n                                                                        message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                                        doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                                        doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                                        icon={faTrashAlt}\r\n                                                                        title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                                        hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                                                                        handleClickDelete={() => this.DeleteManufacturer(\"delete\", deleteId)}\r\n                                                                    /> */}\r\n                                                            </Nav.Link>\r\n                                                            {/* </Tooltip> */}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Card.Subtitle>\r\n                                            </Card.Header>\r\n                                            <Card.Body>\r\n                                                <Row>\r\n                                                    {/* <Col md='4'>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id={'IDS_EDQMOFFICIALNAME'} message=\"EDQM Official Name\" /></FormLabel>\r\n                                                            <ReadOnlyText>{this.props.Login.masterData.selectedManufacturer.sofficialmanufname}</ReadOnlyText>\r\n                                                        </FormGroup>\r\n                                                    </Col> */}\r\n                                                    <Col md='4'>\r\n                                                        <FormGroup>\r\n                                                            <FormLabel><FormattedMessage id={'IDS_DESCRIPTION'} message=\"Description\" /></FormLabel>\r\n                                                            <ReadOnlyText> {this.props.Login.masterData.selectedManufacturer.sdescription === null || this.props.Login.masterData.selectedManufacturer.sdescription.length === 0 ? '-' :\r\n                                                               this.props.Login.masterData.selectedManufacturer.sdescription}</ReadOnlyText>\r\n                                                           \r\n                                                        </FormGroup>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                                {/* </Card.Body>\r\n                                            <Card.Body> */}\r\n\r\n                                            <Row className=\"no-gutters\">\r\n                                                <Col md={12}>\r\n                                                    <Card className=\"at-tabs\">\r\n                                                        <CustomTabs tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                                                    </Card>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            </Card.Body>\r\n                                        </Card> : \"\"}\r\n                                </ContentPanel>\r\n                            </Col></Row>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                // formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <AddManufacturer\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                onComboChange={this.onComboChange}\r\n                                // formatMessage={this.props.intl.formatMessage}\r\n                                edqmManufacturerList={this.props.Login.edqmManufacturerList || []}\r\n                                operation={this.props.Login.operation}\r\n                                inputParam={this.props.inputParam}\r\n                                Country = {this.props.Login.Country}\r\n                            // defaultValue={this.props.Login.edqmManufacturer}\r\n                            /> \r\n                            \r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n            // data: {openModal, loadEsign, selectedRecord}\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n    ConfirmDelete = (deleteId) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.DeleteManufacturer(\"delete\", deleteId));\r\n    }\r\n    onSaveClick = (saveType, formRef) => {\r\n\r\n        let inputData = [];\r\n        inputData[\"manufacturersiteaddress\"] = {};\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        let postParam = undefined;\r\n\r\n        let fieldList = [\"nmanufcode\", \"smanufname\", \"sdescription\",\"nmanufsitecode\",\"smanufsitename\",\"nmanufcontactcode\",\"scontactname\",\"ntransactionstatus\"];\r\n            \r\n        let fieldUpdateList = [\"nmanufcode\", \"smanufname\", \"sdescription\",\"ntransactionstatus\"];\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n\r\n            postParam = { inputListName: \"Manufacturer\", selectedObject: \"selectedManufacturer\", primaryKeyField: \"nmanufcode\" };\r\n           \r\n           // inputData[\"manufacturer\"] = JSON.parse(JSON.stringify(this.state.selectedRecord));\r\n            inputData[\"manufacturer\"] = {};\r\n            fieldUpdateList.map(item => {\r\n                if (item === \"nofficialmanufcode\") {\r\n                    return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item].value : \"\";\r\n                }\r\n                else {\r\n                    return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item] ? this.state.selectedRecord[item] : \"\";\r\n                }\r\n\r\n            })\r\n            if (inputData[\"manufacturer\"].hasOwnProperty('nofficialmanufcode')) {\r\n                    delete inputData[\"manufacturer\"]['nofficialmanufcode']\r\n            }\r\n        }\r\n        else {\r\n            inputData[\"manufacturer\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n\r\n            fieldList.map(item => {\r\n                if (item === \"nofficialmanufcode\") {\r\n                    return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item].value\r\n                }\r\n                else {\r\n                    return inputData[\"manufacturer\"][item] = this.state.selectedRecord[item]\r\n                }\r\n            })\r\n            inputData[\"manufacturer\"][\"ncountrycode\"]=this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value:-1;\r\n            inputData[\"manufacturersiteaddress\"][\"smanufsitename\"]=this.state.selectedRecord[\"smanufsitename\"] ? this.state.selectedRecord[\"smanufsitename\"]:\"\";\r\n            inputData[\"manufacturersiteaddress\"][\"scontactname\"]=this.state.selectedRecord[\"scontactname\"] ? this.state.selectedRecord[\"scontactname\"]:\"\";\r\n            inputData[\"manufacturersiteaddress\"][\"ncountrycode\"]=this.state.selectedRecord[\"ncountrycode\"] ? this.state.selectedRecord[\"ncountrycode\"].value:-1;\r\n            inputData[\"manufacturersiteaddress\"][\"saddress1\"]=this.state.selectedRecord[\"saddress1\"] ? this.state.selectedRecord[\"saddress1\"]:\"\";\r\n            inputData[\"manufacturersiteaddress\"][\"saddress2\"]=this.state.selectedRecord[\"saddress2\"] ? this.state.selectedRecord[\"saddress2\"]:\"\";\r\n            inputData[\"manufacturersiteaddress\"][\"saddress3\"]=this.state.selectedRecord[\"saddress3\"] ? this.state.selectedRecord[\"saddress3\"]:\"\";\r\n            inputData[\"manufacturersiteaddress\"][\"ndefaultstatus\"]=transactionStatus.YES;\r\n\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: \"Manufacturer\",\r\n            inputData: inputData,\r\n            operation: this.props.Login.operation, saveType, formRef, postParam, searchRef: this.searchRef\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n\r\n        // this.props.crudMaster(inputParam);\r\n    }\r\n    DeleteManufacturer = (operation, ncontrolCode) => {\r\n        let inputData = [];\r\n\r\n        inputData[\"manufacturer\"] = this.props.Login.masterData.selectedManufacturer;\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        const postParam = {\r\n            inputListName: \"Manufacturer\", selectedObject: \"selectedManufacturer\",\r\n            primaryKeyField: \"nmanufcode\",\r\n            primaryKeyValue: this.props.Login.masterData.selectedManufacturer.nmanufcode,\r\n            fetchUrl: \"manufacturer/getManufacturerWithSiteAndContactDetails\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n        }\r\n\r\n        const inputParam = {\r\n            methodUrl: \"Manufacturer\", postParam,\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            inputData: inputData,\r\n            operation: \"delete\"\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        // this.props.crudMaster(inputParam, this.props.Login.masterData);\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"Manufacturer\", operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n        }\r\n    }\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        if (comboData !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[fieldName] = comboData;//comboData.value;\r\n\r\n            this.setState({ selectedRecord });\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        // if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n        //     this.setState(\r\n        //         {\r\n        //             Manufacturer: this.props.Login.masterData.Manufacturer ?\r\n        //                 this.props.Login.masterData.Manufacturer : this.state.Manufacturer,\r\n        //             selectedManufacturer: this.props.Login.masterData.selectedManufacturer ?\r\n        //                 this.props.Login.masterData.selectedManufacturer : this.state.selectedManufacturer,\r\n        //             ManufacturerSiteAddress: this.props.Login.masterData.ManufacturerSiteAddress ?\r\n        //                 this.props.Login.masterData.ManufacturerSiteAddress : {},\r\n        //             ManufacturerContactInfo: this.props.Login.masterData.ManufacturerContactInfo ?\r\n        //                 this.props.Login.masterData.ManufacturerContactInfo : {},\r\n        //             SiteCode: this.props.Login.masterData.SiteCode ? this.props.Login.masterData.SiteCode : 0,\r\n        //             isOpen: false\r\n        //         });\r\n\r\n\r\n        // }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n            this.setState({ userRoleControlRights, controlMap });\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                masterData: [], inputParam: undefined, operation: null, modalName: undefined\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    reloadData = () => {\r\n        this.searchRef.current.value = \"\";\r\n        const inputParam = {\r\n            inputData: { \"userinfo\": this.props.Login.userInfo },\r\n            classUrl: \"manufacturer\",\r\n            methodUrl: \"Manufacturer\",\r\n            userInfo: this.props.Login.userInfo,\r\n            displayName: \"Manufacturer\"\r\n        };\r\n\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    tabDetail = () => {\r\n      \r\n        const tabMap = new Map();\r\n\r\n        tabMap.set(\"IDS_SITECONTACT\",  <ManufacturerSiteTab\r\n        operation={this.props.Login.operation}\r\n        inputParam={this.props.Login.inputParam}\r\n        screenName={this.props.Login.screenName}\r\n        userInfo={this.props.Login.userInfo}\r\n        masterData={this.props.Login.masterData}\r\n        crudMaster={this.props.crudMaster}\r\n        errorCode={this.props.Login.errorCode}\r\n        masterStatus={this.props.Login.masterStatus}\r\n        openChildModal={this.props.Login.openChildModal}\r\n        updateStore={this.props.updateStore}\r\n        selectedRecord={this.props.Login.selectedRecord}\r\n        getContactInfo={this.props.getContactInfo}\r\n        getSiteManufacturerLoadEdit={this.props.getSiteManufacturerLoadEdit}\r\n        getContactManufacturerLoadEdit={this.props.getContactManufacturerLoadEdit}\r\n        ncontrolCode={this.props.Login.ncontrolCode}\r\n        userRoleControlRights={this.state.userRoleControlRights}\r\n        esignRights={this.props.Login.userRoleControlRights}\r\n        screenData={this.props.Login.screenData}\r\n        validateEsignCredential={this.props.validateEsignCredential}\r\n        loadEsign={this.props.Login.loadEsign}\r\n        controlMap={this.state.controlMap}\r\n        Country={this.props.Login.Country}\r\n        countryCode={this.props.Login.countryCode}\r\n        SiteCode={this.props.Login.SiteCode}\r\n        selectedId={this.props.Login.selectedId}\r\n        dataState={this.props.Login.dataState}\r\n        settings = {this.props.Login.settings}\r\n        linkMaster = {this.props.Login.linkMaster}\r\n\r\n    />)\r\n\r\n        tabMap.set(\"IDS_FILE\",\r\n        <ManufacturerFileTab\r\n            controlMap={this.state.controlMap}\r\n            userRoleControlRights={this.state.userRoleControlRights}\r\n            userInfo={this.props.Login.userInfo}\r\n            inputParam={this.props.Login.inputParam}\r\n            deleteRecord={this.deleteRecord}\r\n            manufacturerFile={this.props.Login.masterData.manufacturerFile || []}\r\n            getAvailableData={this.props.getAvailableData}\r\n            addManufacturerFile={this.props.addManufacturerFile}\r\n            viewManufacturerFile={this.viewManufacturerFile}\r\n            defaultRecord={this.defaultRecord}\r\n            screenName=\"Manufacturer File\"\r\n            settings={this.props.Login.settings}\r\n        />);\r\n        return tabMap;\r\n    }\r\n\r\n    viewManufacturerFile = (filedata) => {\r\n        const inputParam = {\r\n            inputData: {\r\n                manufacturerfile: filedata,\r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: \"manufacturer\",\r\n            operation: \"view\",\r\n            methodUrl: \"AttachedManufacturerFile\",\r\n            screenName: \"Manufacturer File\"\r\n        }\r\n        this.props.viewAttachment(inputParam);\r\n    }\r\n\r\n    deleteRecord = (manufacturerparam) => {\r\n       \r\n            let inputParam = {};\r\n            if (this.props.Login.screenName === 'Manufacturer File') {\r\n                inputParam = {\r\n                    classUrl: \"manufacturer\",\r\n                    methodUrl: manufacturerparam.methodUrl,\r\n                    inputData: {\r\n                        [manufacturerparam.methodUrl.toLowerCase()]: manufacturerparam.selectedRecord,\r\n                        \"userinfo\": this.props.Login.userInfo,\r\n\r\n                    },\r\n                    operation: manufacturerparam.operation,\r\n                    //dataState: this.state.dataState,\r\n                    //dataStateMaterial: this.state.dataStateMaterial\r\n                    dataState: this.state.dataState\r\n                }\r\n\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, manufacturerparam.ncontrolCode)) {\r\n                const updateInfo = {\r\n                    typeName: DEFAULT_RETURN,\r\n                    data: {\r\n                        loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                        openChildModal: true, screenName: manufacturerparam.screenName, operation: manufacturerparam.operation\r\n                    }\r\n                }\r\n                this.props.updateStore(updateInfo);\r\n            }\r\n            else {\r\n                this.props.crudMaster(inputParam, this.props.Login.masterData, \"openChildModal\");\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        callService, crudMaster, validateEsignCredential, updateStore,\r\n        getManfacturerCombo, selectCheckBoxManufacturer, getContactInfo,\r\n        getSiteManufacturerLoadEdit, getContactManufacturerLoadEdit, filterColumnData, addManufacturerFile, viewAttachment\r\n    })(injectIntl(Manufacturer));"]},"metadata":{},"sourceType":"module"}