{"ast":null,"code":"import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import{Row,Col}from'react-bootstrap';import{toast}from'react-toastify';import{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../../pages/audittrail/Esign';import AddDashBoardHomeConfig from'../dashboardtypes/AddDashBoardHomeConfig';import DataGrid from'../../components/data-grid/data-grid.component';import{ListWrapper}from'../../components/client-group.styles';import{callService,crudMaster,getDashBoardHomePagesandTemplates,updateStore,validateEsignCredential}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{showEsign,getControlMap}from'../../components/CommonScript';import{transactionStatus}from'../../components/Enumeration';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var DashBoardHomeConfig=/*#__PURE__*/function(_React$Component){_inherits(DashBoardHomeConfig,_React$Component);var _super=_createSuper(DashBoardHomeConfig);function DashBoardHomeConfig(props){var _this;_classCallCheck(this,DashBoardHomeConfig);_this=_super.call(this,props);_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),dataState:event.dataState});};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"){loadEsign=false;openModal=false;}else{loadEsign=false;}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null}};_this.props.updateStore(updateInfo);};_this.handleChange=function(value,valueParam){if(value!==null){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[valueParam]=value;_this.setState({selectedRecord:selectedRecord});}};_this.onDrop=function(value,index){if(value!==null){var data=JSON.parse(value[\"dashboardtype\"]);var selectedRecord=_this.state.selectedRecord||{};selectedRecord[\"dashboardtype\"+index]={sdashboardtypename:data.sdashboardtypename,ndashboardtypecode:data.ndashboardtypecode};_this.setState({selectedRecord:selectedRecord});}};_this.templateClick=function(value){if(value!==undefined){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[\"ndashboardhometemplatecode\"]=value;for(var i=1;i<=4;i++){if(selectedRecord[\"dashboardtype\"+i]&&selectedRecord[\"dashboardtype\"+i]!==undefined){selectedRecord[\"dashboardtype\"+i]=undefined;}}_this.setState({selectedRecord:selectedRecord});}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteRecord=function(deleteParam){if(deleteParam.selectedRecord.expanded!==undefined){delete deleteParam.selectedRecord.expanded;}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,inputData:{\"dashboardhomepriority\":deleteParam.selectedRecord,\"userinfo\":_this.props.Login.userInfo},operation:deleteParam.operation,dataState:_this.state.dataState};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}//this.props.crudMaster(inputParam);\n};_this.reloadData=function(){var inputParam={inputData:{//\"nsitecode\": this.props.Login.userInfo.nmastersitecode \nuserinfo:_this.props.Login.userInfo},classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,userInfo:_this.props.Login.userInfo};_this.props.callService(inputParam);};_this.onSaveClick=function(saveType,formRef){//add / edit  \nvar dataState=undefined;var operation=\"\";var inputData=[];var selectedId=null;inputData[\"userinfo\"]=_this.props.Login.userInfo;var data=[];// inputData[\"dashboardtype\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\ninputData[\"dashboardhomepriority\"]={\"ndashboardhometemplatecode\":_this.state.selectedRecord[\"ndashboardhometemplatecode\"]?_this.state.selectedRecord[\"ndashboardhometemplatecode\"]:-1};inputData[\"dashboardhomepriority\"][\"ndashboardhomepagecode\"]=_this.state.selectedRecord[\"ndashboardhomepagecode\"]?_this.state.selectedRecord[\"ndashboardhomepagecode\"].value:-1;inputData[\"dashboardhomepriority\"][\"nuserrolecode\"]=_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:-1;if(_this.props.Login.operation!==\"create\"){inputData[\"dashboardhomepriority\"][\"ndashboardhomeprioritycode\"]=_this.state.selectedRecord[\"ndashboardhomeprioritycode\"]?_this.state.selectedRecord[\"ndashboardhomeprioritycode\"]:-1;}for(var i=1;i<=4;i++){if(_this.state.selectedRecord[\"dashboardtype\"+i]&&_this.state.selectedRecord[\"dashboardtype\"+i]!==undefined){data.push({\"ndashboardtypecode\":_this.state.selectedRecord[\"dashboardtype\"+i]?_this.state.selectedRecord[\"dashboardtype\"+i].ndashboardtypecode:-1,\"nsorter\":i});}}inputData[\"dashboardhometypes\"]=data;if(_this.props.Login.operation===\"update\"){operation=\"update\";dataState=_this.state.dataState;selectedId=_this.props.Login.selectedId;}else{operation=\"create\";}var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:_this.props.Login.inputParam.methodUrl,displayName:_this.props.Login.inputParam.displayName,inputData:inputData,operation:operation,saveType:saveType,formRef:formRef,dataState:dataState,selectedId:selectedId};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:_this.props.Login.inputParam.displayName}),operation:_this.props.Login.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.formRef=React.createRef();_this.extractedColumnList=[];var _dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={// addScreen: false, \ndata:[],masterStatus:\"\",error:\"\",selectedRecord:{},dataResult:[],dataState:_dataState,testCategory:[],testMaster:[],ntestcode:[],isOpen:false,controlMap:new Map(),userRoleControlRights:[],childTemplate:[]};return _this;}_createClass(DashBoardHomeConfig,[{key:\"render\",value:function render(){var _this2=this;//console.log(\"this.props.Login.masterData.DashBoardHomeConfig:\", this.props.Login.masterData.DashBoardHomeConfig);\nvar addId=this.props.Login.inputParam&&this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))&&this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;var editId=this.props.Login.inputParam&&this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))&&this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;var primaryKeyField=\"ndashboardhomeprioritycode\";//\"ndashboardhomepagecode\";\nvar addParam={screenName:this.props.Login.screenName,primaryKeyField:primaryKeyField,undefined:undefined,operation:\"create\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,addId:addId,data:this.state.data};this.mandatoryColumnList=[{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"nuserrolecode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PAGES\",\"dataField\":\"ndashboardhomepagecode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TEMPLATENAME\",\"dataField\":\"ndashboardhometemplatecode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];this.extractedColumnList=[{\"idsName\":\"IDS_PAGES\",\"dataField\":\"sdashboardhomepagename\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLE\",\"dataField\":\"suserrolename\",\"width\":\"300px\"}];var editParam={screenName:this.props.Login.screenName,primaryKeyField:\"ndashboardhomeprioritycode\",operation:\"update\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,ncontrolCode:editId};var deleteParam={operation:\"delete\"};var mandatoryFields=[];this.mandatoryColumnList.forEach(function(item){return item.mandatory===true?mandatoryFields.push(item):\"\";});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},this.state.data?/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"ndashboardhomeprioritycode\",data:this.props.Login.masterData.DashBoardHomeConfig,dataResult:process(this.props.Login.masterData.DashBoardHomeConfig||[],this.state.dataState),dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:this.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam// detailedFieldList={this.detailedFieldList}\n// expandField=\"expanded\"\n,userInfo:this.props.Login.userInfo,fetchRecord:this.props.getDashBoardHomePagesandTemplates,editParam:editParam,deleteParam:deleteParam,deleteRecord:this.deleteRecord,reloadData:this.reloadData,addRecord:function addRecord(){return _this2.props.getDashBoardHomePagesandTemplates(addParam);},gridHeight:\"600px\",scrollable:\"scrollable\",isActionRequired:true,isToolBarRequired:true,selectedId:this.props.Login.selectedId,pageable:true}):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation//formatMessage={this.props.intl.formatMessage}\n,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(AddDashBoardHomeConfig,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,handleChange:this.handleChange,onDrop:this.onDrop,dashBoardHomePages:this.props.Login.dashBoardHomePages||[],dashBoardHomeTemplate:this.props.Login.dashBoardHomeTemplate||[],dashBoardType:this.props.Login.dashBoardType||[],userRoleList:this.props.Login.userRoleList||[],templateClick:this.templateClick})}));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.masterData!==previousProps.Login.masterData){var dataState=this.state.dataState;if(this.props.Login.dataState===undefined){dataState={skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5};}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}var controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({userRoleControlRights:userRoleControlRights,controlMap:controlMap});}else{// let { dataState } = this.state;\n// if (this.props.Login.dataState === undefined) {\n//     dataState = { skip: 0, take: 10 }\n// }\nthis.setState({isOpen:false,dataState:dataState});}}if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){this.setState({selectedRecord:this.props.Login.selectedRecord});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;//{ addScreen: props.Login.showScreen }\n}}]);return DashBoardHomeConfig;}(React.Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,getDashBoardHomePagesandTemplates:getDashBoardHomePagesandTemplates,updateStore:updateStore,validateEsignCredential:validateEsignCredential})(injectIntl(DashBoardHomeConfig));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/dashboardtypes/DashBoardHomeConfig.jsx"],"names":["React","connect","injectIntl","Row","Col","toast","process","SlideOutModal","Esign","AddDashBoardHomeConfig","DataGrid","ListWrapper","callService","crudMaster","getDashBoardHomePagesandTemplates","updateStore","validateEsignCredential","DEFAULT_RETURN","showEsign","getControlMap","transactionStatus","mapStateToProps","state","Login","DashBoardHomeConfig","props","dataStateChange","event","setState","dataResult","data","dataState","closeModal","loadEsign","openModal","selectedRecord","operation","updateInfo","typeName","selectedId","handleChange","value","valueParam","onDrop","index","JSON","parse","sdashboardtypename","ndashboardtypecode","templateClick","undefined","i","onInputOnChange","target","type","name","checked","YES","NO","deleteRecord","deleteParam","expanded","inputParam","classUrl","methodUrl","displayName","inputData","userInfo","userRoleControlRights","nformcode","ncontrolCode","screenData","masterData","screenName","intl","formatMessage","id","reloadData","userinfo","onSaveClick","saveType","formRef","push","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","createRef","extractedColumnList","skip","take","settings","parseInt","masterStatus","error","testCategory","testMaster","ntestcode","isOpen","controlMap","Map","childTemplate","addId","has","concat","get","ncontrolcode","editId","primaryKeyField","addParam","mandatoryColumnList","editParam","mandatoryFields","forEach","item","mandatory","dashBoardHomePages","dashBoardHomeTemplate","dashBoardType","userRoleList","previousProps","Object","values","map","warn","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../../pages/audittrail/Esign';\r\nimport AddDashBoardHomeConfig from '../dashboardtypes/AddDashBoardHomeConfig';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport { ListWrapper } from '../../components/client-group.styles'\r\nimport { callService, crudMaster, getDashBoardHomePagesandTemplates, updateStore, validateEsignCredential } from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { showEsign, getControlMap } from '../../components/CommonScript';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\n\r\nconst mapStateToProps = state => {\r\n    return ({ Login: state.Login })\r\n}\r\n\r\nclass DashBoardHomeConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.formRef = React.createRef();\r\n        this.extractedColumnList = [];\r\n\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            // addScreen: false, \r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {},\r\n            dataResult: [],\r\n            dataState: dataState,\r\n            testCategory: [], testMaster: [], ntestcode: [],\r\n            isOpen: false, controlMap: new Map(), userRoleControlRights: [],\r\n            childTemplate: []\r\n        }\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.state.data, event.dataState),\r\n            dataState: event.dataState\r\n        });\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (this.props.Login.loadEsign) {\r\n            if (this.props.Login.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;//{ addScreen: props.Login.showScreen }\r\n    }\r\n\r\n    handleChange = (value, valueParam) => {\r\n\r\n        if (value !== null) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            selectedRecord[valueParam] = value;\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onDrop = (value, index) => {\r\n\r\n        if (value !== null) {\r\n            const data = JSON.parse(value[\"dashboardtype\"]);\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n\r\n            selectedRecord[\"dashboardtype\" + index] = { sdashboardtypename: data.sdashboardtypename, ndashboardtypecode: data.ndashboardtypecode };\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    templateClick = (value) => {\r\n\r\n        if (value !== undefined) {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n\r\n            selectedRecord[\"ndashboardhometemplatecode\"] = value;\r\n\r\n            for (let i = 1; i <= 4; i++) {\r\n                if (selectedRecord[\"dashboardtype\" + i] && selectedRecord[\"dashboardtype\" + i] !== undefined) {\r\n                    selectedRecord[\"dashboardtype\" + i] = undefined;\r\n                }\r\n            }\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n    render() {\r\n\r\n        //console.log(\"this.props.Login.masterData.DashBoardHomeConfig:\", this.props.Login.masterData.DashBoardHomeConfig);\r\n        \r\n        const addId = this.props.Login.inputParam && this.state.controlMap.has(\"Add\".concat(this.props.Login.inputParam.methodUrl))\r\n                        && this.state.controlMap.get(\"Add\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n        const editId = this.props.Login.inputParam && this.state.controlMap.has(\"Edit\".concat(this.props.Login.inputParam.methodUrl))\r\n                        && this.state.controlMap.get(\"Edit\".concat(this.props.Login.inputParam.methodUrl)).ncontrolcode;\r\n        let primaryKeyField = \"ndashboardhomeprioritycode\";//\"ndashboardhomepagecode\";\r\n        \r\n        const addParam = {screenName: this.props.Login.screenName, primaryKeyField, undefined, \r\n                            operation: \"create\", inputParam: this.props.Login.inputParam, \r\n                            userInfo: this.props.Login.userInfo, addId, data: this.state.data\r\n                        }\r\n\r\n        this.mandatoryColumnList = [\r\n            { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"nuserrolecode\", \"mandatory\": true  , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_PAGES\", \"dataField\": \"ndashboardhomepagecode\", \"mandatory\": true  , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\"},\r\n            { \"idsName\": \"IDS_TEMPLATENAME\", \"dataField\": \"ndashboardhometemplatecode\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n           \r\n        ];\r\n        this.extractedColumnList = [\r\n            { \"idsName\": \"IDS_PAGES\", \"dataField\": \"sdashboardhomepagename\", \"width\": \"200px\" },\r\n            { \"idsName\": \"IDS_USERROLE\", \"dataField\": \"suserrolename\", \"width\": \"300px\" }\r\n        ];       \r\n        const editParam = {\r\n            screenName: this.props.Login.screenName, primaryKeyField: \"ndashboardhomeprioritycode\", operation: \"update\",\r\n            inputParam: this.props.Login.inputParam, userInfo: this.props.Login.userInfo, ncontrolCode: editId\r\n        };\r\n        const deleteParam = { operation: \"delete\" };\r\n\r\n        const mandatoryFields = [];\r\n        this.mandatoryColumnList.forEach(item => item.mandatory === true ?\r\n            mandatoryFields.push(item) : \"\"\r\n        );\r\n\r\n        return (\r\n            <>\r\n                <Row>\r\n                    <Col>\r\n                        <ListWrapper className=\"client-list-content\">\r\n\r\n                            {this.state.data ?\r\n                                <DataGrid\r\n                                    primaryKeyField={\"ndashboardhomeprioritycode\"}\r\n                                    data={this.props.Login.masterData.DashBoardHomeConfig}\r\n                                    dataResult={process(this.props.Login.masterData.DashBoardHomeConfig || [], this.state.dataState)}\r\n                                    dataState={this.state.dataState}\r\n                                    dataStateChange={this.dataStateChange}\r\n                                    extractedColumnList={this.extractedColumnList}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    inputParam={this.props.Login.inputParam}\r\n                                    // detailedFieldList={this.detailedFieldList}\r\n                                    // expandField=\"expanded\"\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    fetchRecord={this.props.getDashBoardHomePagesandTemplates}\r\n                                    editParam={editParam}\r\n                                    deleteParam={deleteParam}\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    reloadData={this.reloadData}\r\n                                    addRecord={() => this.props.getDashBoardHomePagesandTemplates(addParam)}\r\n\r\n                                    gridHeight={\"600px\"}\r\n                                    scrollable={\"scrollable\"}\r\n                                    isActionRequired={true}\r\n                                    isToolBarRequired={true}\r\n                                    selectedId={this.props.Login.selectedId}\r\n                                    pageable={true}\r\n                                />\r\n                                : \"\"}\r\n\r\n                        </ListWrapper>\r\n                    </Col>\r\n                </Row>\r\n                {this.props.Login.openModal &&\r\n                    <SlideOutModal show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                //formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <AddDashBoardHomeConfig\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                handleChange={this.handleChange}\r\n                                onDrop={this.onDrop}\r\n                                dashBoardHomePages={this.props.Login.dashBoardHomePages || []}\r\n                                dashBoardHomeTemplate={this.props.Login.dashBoardHomeTemplate || []}\r\n                                dashBoardType={this.props.Login.dashBoardType || []}\r\n                                userRoleList={this.props.Login.userRoleList || []}\r\n                                templateClick={this.templateClick}\r\n\r\n                            />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n\r\n            let { dataState } = this.state;\r\n            if (this.props.Login.dataState === undefined) {\r\n                dataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 }\r\n            }\r\n\r\n            if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n                const userRoleControlRights = [];\r\n                if (this.props.Login.userRoleControlRights) {\r\n                    this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                        userRoleControlRights.push(item.ncontrolcode))\r\n                }\r\n                const controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n                this.setState({  userRoleControlRights, controlMap,});\r\n            }\r\n            else {\r\n                // let { dataState } = this.state;\r\n                // if (this.props.Login.dataState === undefined) {\r\n                //     dataState = { skip: 0, take: 10 }\r\n                // }\r\n                this.setState({ isOpen: false,dataState});\r\n            }\r\n        }\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            this.setState({ selectedRecord: this.props.Login.selectedRecord });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n            else {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if (deleteParam.selectedRecord.expanded !== undefined) {\r\n            delete deleteParam.selectedRecord.expanded;\r\n        }\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: {\r\n                \"dashboardhomepriority\": deleteParam.selectedRecord,\r\n                \"userinfo\": this.props.Login.userInfo\r\n            },\r\n            operation: deleteParam.operation,\r\n            dataState: this.state.dataState\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: deleteParam.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n        //this.props.crudMaster(inputParam);\r\n    }\r\n\r\n    reloadData = () => {\r\n        const inputParam = {\r\n            inputData: { //\"nsitecode\": this.props.Login.userInfo.nmastersitecode \r\n                userinfo: this.props.Login.userInfo\r\n            },\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.callService(inputParam);\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        //add / edit  \r\n        let dataState = undefined;\r\n        let operation = \"\";\r\n        let inputData = [];\r\n        let selectedId = null;\r\n\r\n        inputData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n        let data = [];\r\n\r\n        // inputData[\"dashboardtype\"] = { \"nsitecode\": this.props.Login.userInfo.nmastersitecode };\r\n        inputData[\"dashboardhomepriority\"] = {\"ndashboardhometemplatecode\": this.state.selectedRecord[\"ndashboardhometemplatecode\"] ? this.state.selectedRecord[\"ndashboardhometemplatecode\"] : -1};\r\n        inputData[\"dashboardhomepriority\"][\"ndashboardhomepagecode\"] = this.state.selectedRecord[\"ndashboardhomepagecode\"] ? this.state.selectedRecord[\"ndashboardhomepagecode\"].value : -1;\r\n        inputData[\"dashboardhomepriority\"][\"nuserrolecode\"] = this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value : -1;\r\n        if (this.props.Login.operation !== \"create\") {\r\n            inputData[\"dashboardhomepriority\"][\"ndashboardhomeprioritycode\"] = this.state.selectedRecord[\"ndashboardhomeprioritycode\"] ? this.state.selectedRecord[\"ndashboardhomeprioritycode\"] : -1;\r\n        }\r\n        for (let i = 1; i <= 4; i++) {\r\n\r\n            if (this.state.selectedRecord[\"dashboardtype\" + i] && this.state.selectedRecord[\"dashboardtype\" + i] !== undefined) {\r\n\r\n                data.push({\r\n                    \"ndashboardtypecode\": this.state.selectedRecord[\"dashboardtype\" + i] ? this.state.selectedRecord[\"dashboardtype\" + i].ndashboardtypecode : -1,\r\n                    \"nsorter\": i                  \r\n                });\r\n            }\r\n        }\r\n        inputData[\"dashboardhometypes\"] = data;\r\n\r\n        if (this.props.Login.operation === \"update\") {\r\n\r\n            operation = \"update\";\r\n            dataState = this.state.dataState;\r\n            selectedId = this.props.Login.selectedId;\r\n        }\r\n        else {\r\n\r\n            operation = \"create\";\r\n        }\r\n\r\n        const inputParam = {\r\n            classUrl: this.props.Login.inputParam.classUrl,\r\n            methodUrl: this.props.Login.inputParam.methodUrl,\r\n            displayName: this.props.Login.inputParam.displayName,\r\n            inputData: inputData,\r\n            operation: operation, saveType, formRef, dataState, selectedId\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    openModal: true, screenName: this.props.intl.formatMessage({ id: this.props.Login.inputParam.displayName }),\r\n                    operation: this.props.Login.operation\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n        }\r\n\r\n\r\n    }\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, { callService, crudMaster, getDashBoardHomePagesandTemplates, updateStore, validateEsignCredential })(injectIntl(DashBoardHomeConfig));"]},"metadata":{},"sourceType":"module"}