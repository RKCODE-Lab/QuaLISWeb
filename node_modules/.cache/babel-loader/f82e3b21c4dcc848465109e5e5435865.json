{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faPencilAlt,faThumbsUp,faUserTimes}from'@fortawesome/free-solid-svg-icons';import{injectIntl}from\"react-intl\";import{callService,crudMaster,validateEsignCredential,updateStore,changeProjectTypeFilter,filterColumnData,viewAttachment,addProjectMaster,getProjectMaster,getProjectmasterAddMemberService,addProjectMasterFile,getuserComboServices}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{transactionStatus}from\"../../components/Enumeration\";import AddProjectMaster from\"../../pages/project/AddProjectMaster\";import ProjectMasterTab from\"../../pages/project/ProjectMasterTab\";import ProjectMasterClosure from\"../../pages/project/ProjectMasterClosure\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import Esign from\"../audittrail/Esign\";import{showEsign,getControlMap,constructOptionList,formatInputDate,onDropAttachFileList,deleteAttachmentDropZone,create_UUID,rearrangeDateFormatDateOnly}from\"../../components/CommonScript\";import{ReadOnlyText,ContentPanel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import ProjectMasterFilter from'./ProjectMasterFilter';import{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/cancel-close-svgrepo-com.svg\";import{intl}from\"../../components/App\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ProjectMaster=/*#__PURE__*/function(_Component){_inherits(ProjectMaster,_Component);var _super=_createSuper(ProjectMaster);function ProjectMaster(props){var _this;_classCallCheck(this,ProjectMaster);_this=_super.call(this,props);_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.handleProjectMasterClosure=function(selectedProjectMaster){if(selectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_CLOSUREFILE\",openModal:true,operation:\"create\"}};_this.props.updateStore(updateInfo);}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTAPPROVEVERSION\"}));}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var projectMasterData=[];var inputParam={};projectMasterData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};if(_this.props.Login.operation===\"update\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;projectMasterData[\"projectMaster\"]={nprojectmastercode:_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,//     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\nsprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription,// drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\n// dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\n//     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\n//     nteammembercode: this.state.selectedRecord.nteammembercode.value,\n//     nperiodcode: this.state.selectedRecord.nperiodcode.value,\nnprojectduration:_this.state.selectedRecord.nprojectduration,ntransactionstatus:_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus};}else if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"]={nsitecode:_this.props.Login.userInfo.nmastersitecode,sprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription===undefined?\"\":_this.state.selectedRecord.sprojectdescription,nprojectduration:parseInt(_this.state.selectedRecord.nprojectduration),//  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\nntransactionstatus:transactionStatus.DRAFT,sfilename:_this.state.selectedRecord.sfilename===undefined?\"\":_this.state.selectedRecord.sfilename,sclosureremarks:_this.state.selectedRecord.sclosureremarks===undefined?\"\":_this.state.selectedRecord.sclosureremarks};/*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"][\"nprojecttypecode\"]=_this.state.selectedRecord[\"nprojecttypecode\"]?_this.state.selectedRecord[\"nprojecttypecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nuserrolecode\"]=_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:transactionStatus.NA;// projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\n//   : transactionStatus.NA;\nprojectMasterData[\"projectMaster\"][\"nperiodcode\"]=_this.state.selectedRecord[\"nperiodcode\"]?_this.state.selectedRecord[\"nperiodcode\"].value:transactionStatus.NA;// if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\n//   if (this.props.Login.operation === \"create\") {\nprojectMasterData[\"projectMaster\"][\"drfwdate\"]=formatInputDate(_this.state.selectedRecord[\"drfwdate\"],false);projectMasterData[\"projectMaster\"][\"dprojectstartdate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectstartdate\"],false);projectMasterData[\"projectMaster\"][\"ntzrfwdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";//   }\n//   else {\n//     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\n//     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\n//   }\n// }\n}if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_ADDMEMBERS\"){projectMasterData[\"ProjectMember\"]={};projectMasterData[\"ProjectMember\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"][0]?_this.state.selectedRecord[\"nusercode\"][0].value:transactionStatus.NA;projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMaster\",inputData:projectMasterData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch};}else if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMember\",inputData:projectMasterData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch};}if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_CLOSUREFILE\"){inputParam=_this.onSaveProjectMasterClosureFile(saveType,formRef);}var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.onSaveProjectMasterClosureFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var projectmasterclosureFile={};var projectmasterclosureFileArray=[];var formData=new FormData();var tempData=Object.assign({},projectmasterclosureFile);if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=create_UUID()+'.'+fileExtension;tempData[\"sclosureremarks\"]=selectedRecord.sclosureremarks?selectedRecord.sclosureremarks.trim():\"\";tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=file.name;tempData[\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;tempData[\"ntransactionstatus\"]=_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;tempData[\"nprojecttypecode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;tempData[\"sprojecttitle\"]=_this.props.Login.masterData.SelectedProjectMaster.sprojecttitle;tempData[\"sprojectcode\"]=_this.props.Login.masterData.SelectedProjectMaster.sprojectcode;projectmasterclosureFileArray.push(tempData);});}formData.append(\"projectmaster\",JSON.stringify(projectmasterclosureFileArray[0]));var selectedId=null;var postParam=undefined;if(_this.props.Login.operation===\"create\"){// edit\npostParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};selectedId=selectedRecord[\"nprojectmastercode\"];}var inputParam={inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"projectmaster\",saveType:saveType,formRef:formRef,methodUrl:\"ProjectMasterClosureFile\",postParam:postParam,searchRef:_this.searchRef};return inputParam;};_this.DeleteProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){var postParam={inputListName:\"ProjectMasterList\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMasterById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{userinfo:_this.props.Login.userInfo,projectmaster:selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:// const selectedRecord = this.state.selectedRecord || {};\nif(selectedRecord.nuserrolecode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nuserrolecode.value)){// selectedRecord.nusercode={};\ndelete selectedRecord.nusercode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"suserrolename\"]=comboData.item[\"suserrolename\"];_this.props.getuserComboServices({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nuserrolecode.label,primarykey:selectedRecord.nuserrolecode.value}},selectedRecord);// this.setState({ selectedRecord });\nbreak;case 2:// let nfilterProjectType = this.state.nfilterProjectType || {}\n// nfilterProjectType = comboData;\nvar selectedRecordfilter=_this.state.selectedRecordfilter||{};selectedRecordfilter[fieldName]=comboData;_this.setState({selectedRecordfilter:selectedRecordfilter});break;case 3:selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onDropProjectMasterFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteProjectMember=function(deleteParam){var inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMember\",//displayName: ,\ninputData:{\"projectmember\":deleteParam.selectedRecord,//.dataItem,\n\"nprojectmembercode\":deleteParam.selectedRecord.nprojectmembercode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\"// priceDataState:this.state.priceDataState\n};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_MEMBERS\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onDropProjectMasterclosureFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onNumericInputChange=function(value,name){console.log(\"value:\",value,name);var selectedRecord=_this.state.selectedRecord||{};if(name===\"nprojectduration\"){if(/^[0-9]+$/.test(value.target.value)||value.target.value===\"\"){selectedRecord[name]=value.target.value;}else{selectedRecord[name]=\"\";}}else{selectedRecord[name]=value;}_this.setState({selectedRecord:selectedRecord});};_this.approveProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}};_this.RetireProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTCLOSEDVERSION\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropTestFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),priceDataState:event.dataState});};_this.ConfirmDelete=function(selectedProjectMaster,operation,deleteId,screenName){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteProjectMaster(screenName,selectedProjectMaster,operation,deleteId);});};_this.reloadData=function(){_this.searchRef.current.value=\"\";// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.props.Login.masterData.SelectedProjectType!==undefined){if(Object.values(_this.props.Login.masterData.SelectedProjectType).length&&_this.props.Login.masterData.SelectedProjectType!==undefined){var inputParam={inputData:{// nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\nnprojecttypecode:_this.props.Login.masterData.SelectedProjectType.nprojecttypecode,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\nnfilterProjectType:_this.props.Login.masterData.SelectedProjectType},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;//  let selectedRecord = this.props.Login.selectedRecord;\nvar selectedRecord=_this.state.selectedRecord;if(_this.props.Login.loadEsign){loadEsign=false;}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,selectedRecord:selectedRecord,selectedId:null,loadEsign:loadEsign}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";// if (this.state.nfilterProjectType.value) {\n// if (this.state.selectedRecord.nprojecttypecodevalue.value) {\n//if ((this.state.selectedRecord).length>0) {\n// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){if(Object.values(_this.state.selectedRecordfilter.nprojecttypecodevalue).length&&_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){var inputParam={inputData:{nprojecttypecode:_this.state.selectedRecordfilter.nprojecttypecodevalue.value,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.nfilterProjectType,\nnfilterProjectType:_this.state.selectedRecordfilter.nprojecttypecodevalue},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};var sectionDataState={skip:0,take:10};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedProjectMaster:undefined,controlMap:new Map(),Instrument:[],sectionDataState:sectionDataState};_this.searchRef=React.createRef();_this.searchFieldList=[\"sprojectcode\",\"sprojecttitle\",\"suserrolename\",\"susername\",\"srfwdate\",\"sprojectstartdate\",\"sprojectdescription\",\"sversionstatus\",\"sfilename\",\"sclosureremarks\",\"sprojectduration\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ProjectMaster,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";var activeIconCSS=\"fa fa-check\";if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.SelectedProjectMaster&&(this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.RETIRED||this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED)){versionStatusCSS=\"outline-danger\";activeIconCSS=\"\";}else if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){activeIconCSS=\"\";}if(this.props.Login.openModal){this.mandatoryFields=this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord,this.props.Login.operation);}//console.log(\"master main\", this.props.Login.masterData);\n// let mandatoryFields = [];\nvar userInfo=this.props.Login.userInfo;var addId=this.state.controlMap.has(\"AddProjectMaster\")&&this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;var editId=this.state.controlMap.has(\"EditProjectMaster\")&&this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteProjectMaster\")&&this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveProjectMaster\")&&this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;// const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\nvar retireId=this.state.controlMap.has(\"RetireProjectMaster\")&&this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;var closureId=this.state.controlMap.has(\"ClosureProjectMaster\")&&this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;// const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\nvar fieldsForGrid=[{\"idsName\":\"IDS_LOGINID\",\"dataField\":\"sloginid\",\"width\":\"200px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"steammembername\",\"width\":\"200px\"}];var SelectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var filterParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",fetchUrl:\"projectmaster/getProjectMasterById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_PROJECTMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.ProjectMaster,getMasterDetail:function getMasterDetail(ProjectMasterdata){return _this2.props.getProjectMaster(ProjectMasterdata,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:selectedProjectMaster,primaryKeyField:\"nprojectmastercode\",mainField:\"sprojecttitle\",firstField:\"sprojectcode\",secondField:\"sversionstatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData//     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\n,openModal:function openModal(){return _this2.props.addProjectMaster(\"create\",SelectedProjectMaster,userInfo,addId,_this2.state.selectedRecordfilter,_this2.props.Login.masterData.SelectedProjectType);},isMultiSelecct:false,hidePaging:false,isClearSearch:this.props.Login.isClearSearch,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_PROJECTMASTERFILTER\":/*#__PURE__*/React.createElement(ProjectMasterFilter,{filterProjectType:this.state.ProjectMasterList||[],nfilterProjectType:this.props.Login.masterData.SelectedProjectType||{},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecordfilter||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:8},selectedProjectMaster?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},selectedProjectMaster.sprojecttitle),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},/*#__PURE__*/React.createElement(\"i\",{class:activeIconCSS}),selectedProjectMaster.sversionstatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.addProjectMaster(\"update\",selectedProjectMaster,userInfo,editId,_this2.state.selectedRecordfilter,addProjectMaster);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",name:\"deletetestname\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(selectedProjectMaster,\"delete\",deleteId,\"ProjectMaster\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"approveProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"approve\",approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"ClosureProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(closureId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CLOSE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.handleProjectMasterClosure(selectedProjectMaster);}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"retireProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(retireId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.RetireProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"retire\",retireId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserTimes})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTCODE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectcode))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_ROLE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.suserrolename))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_USER\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.susername))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_RFWDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_STARTDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDURATION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectduration))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDESCRIPTION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectdescription)))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"horizontal-line\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_CLOSUREFILENAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sfilename))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_REASONFORCLOSURE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sclosureremarks)))),/*#__PURE__*/React.createElement(Card,{className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ProjectMasterTab,{primaryKeyField:\"nprojectmembercode\",data:this.props.Login.masterData.ProjectMember,dataResult:this.props.Login.masterData.ProjectMember,masterData:this.props.Login.masterData,screenName:this.props.Login.screenName,operation:this.props.Login.operation,openChildModal:this.props.Login.openChildModal,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,showAccordian:this.state.showAccordian,selectedRecord:this.state.selectedRecord||{}// dataState={{skip: 0, take: 10}}\n,dataState:this.props.Login.dataState,dataStateChange:this.dataStateChange,extractedColumnList:fieldsForGrid,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo//    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\n,getProjectmasterAddMemberService:this.props.getProjectmasterAddMemberService// --   fetchRecord={this.props.getPricingEditService}\n//--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\n,deleteRecord:this.deleteProjectMember//  deleteParam={{operation:\"delete\"}}\n,methodUrl:\"Teammembers\"// reloadData={this.reloadData}\n// --      addRecord = {() => this.openModal(addId)}\n,pageable:true,onTabChange:this.onTabChange,updateStore:this.props.updateStore,scrollable:'scrollable'// gridHeight = {'600px'}\n,isActionRequired:true,isToolBarRequired:false,selectedId:this.props.Login.selectedId,viewAttachment:this.props.viewAttachment,MembersList:this.props.Login.MembersList,onComboChange:this.onComboChange// File\n,addProjectMasterFile:this.props.addProjectMasterFile,esignRights:this.props.Login.userRoleControlRights,ntransactionstatus:selectedProjectMaster.ntransactionstatus//  selectedRecord={this.props.Login.selectedRecord}\n,onDropProjectMasterFile:this.onDropProjectMasterFile,onInputOnChange:this.onInputOnChange,screenData:this.props.Login.screenData,deleteAttachment:this.deleteAttachment}))))))):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal//size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\n,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_PROJECTMASTER\"?/*#__PURE__*/React.createElement(AddProjectMaster,{userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},ProjectType:this.props.Login.ProjectType,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange// onNumericInputOnChange={this.onNumericInputOnChange}\n,onNumericInputChange:this.onNumericInputChange,handleDateChange:this.handleDateChange,Userrole:this.props.Login.Userrole,Users:this.props.Login.userList,TeamMembers:this.props.Login.TeamMembers,PeriodByControl:this.props.Login.PeriodByControl}):this.props.Login.screenName===\"IDS_CLOSUREFILE\"?/*#__PURE__*/React.createElement(ProjectMasterClosure,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropProjectMasterclosureFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),name:\"projectmasterclosurefilename\"}):\"\"}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord,operation){var mandatoryFields=[];if(screenName===\"IDS_PROJECTMASTER\"){mandatoryFields=[{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"nprojecttypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTTITLE\",\"dataField\":\"sprojecttitle\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PROJECTCODE\",\"dataField\":\"sprojectcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ROLE\",\"dataField\":\"nuserrolecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"nusercode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_RFWDATE\",\"dataField\":\"drfwdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STARTDATE\",\"dataField\":\"dprojectstartdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTDURATION\",\"dataField\":\"nprojectduration\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DURATIONPERIOD\",\"dataField\":\"nperiodcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else if(screenName===\"IDS_CLOSUREFILE\"){mandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_REASONFORCLOSURE\",\"dataField\":\"sclosureremarks\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textarea\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else{return[];}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,selectedRecordfilter=_this$state.selectedRecordfilter,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterProjectType=_this$state.nfilterProjectType,filterProjectType=_this$state.filterProjectType;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;this.setState({selectedRecord:selectedRecord,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights});//   updateState = true;\n}var nprojecttypecode=this.state.nfilterProjectType||{};if(this.props.Login.masterData!==previousProps.Login.masterData){nfilterProjectType=this.state.nfilterProjectType||{};var _filterProjectType=constructOptionList(this.props.Login.masterData.filterProjectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);var ProjectMasterList=_filterProjectType.get(\"OptionList\");nprojecttypecode=ProjectMasterList[0];selectedRecordfilter={nprojecttypecodevalue:nprojecttypecode};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({ProjectMasterList:ProjectMasterList,selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});if(this.props.Login.masterData.SelectedProjectType&&this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){nfilterProjectType={label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType};}//  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\nfilterData=this.generateBreadCrumData();updateState=true;this.setState({filterData:filterData,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){var nprojecttypecodevalue=this.props.Login.masterData.SelectedProjectType?{label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType}:\"\";//  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\nselectedRecordfilter={nprojecttypecodevalue:nprojecttypecodevalue};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});}// if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\n// }\n}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectType){breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectType?this.props.Login.masterData.SelectedProjectType.sprojecttypename:\"NA\"});}else if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectMaster){/*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectMaster?this.props.Login.masterData.SelectedProjectMaster.sprojecttypename:\"NA\"});}else{/*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.nfilterProjectType?this.props.Login.masterData.nfilterProjectType.label:\"NA\"});}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ProjectMaster;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterColumnData:filterColumnData,updateStore:updateStore,validateEsignCredential:validateEsignCredential,changeProjectTypeFilter:changeProjectTypeFilter,viewAttachment:viewAttachment,addProjectMaster:addProjectMaster,getProjectMaster:getProjectMaster,getProjectmasterAddMemberService:getProjectmasterAddMemberService,addProjectMasterFile:addProjectMasterFile,getuserComboServices:getuserComboServices})(injectIntl(ProjectMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/project/ProjectMaster.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","faThumbsUp","faUserTimes","injectIntl","callService","crudMaster","validateEsignCredential","updateStore","changeProjectTypeFilter","filterColumnData","viewAttachment","addProjectMaster","getProjectMaster","getProjectmasterAddMemberService","addProjectMasterFile","getuserComboServices","ListMaster","transactionStatus","AddProjectMaster","ProjectMasterTab","ProjectMasterClosure","DEFAULT_RETURN","SlideOutModal","Esign","showEsign","getControlMap","constructOptionList","formatInputDate","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormatDateOnly","ReadOnlyText","ContentPanel","process","ConfirmMessage","BreadcrumbComponent","Affix","ProjectMasterFilter","intl","mapStateToProps","state","Login","ProjectMaster","props","handleDateChange","dateName","dateValue","selectedRecord","setState","handleProjectMasterClosure","selectedProjectMaster","ntransactionstatus","APPROVED","updateInfo","typeName","data","screenName","openModal","operation","warn","formatMessage","id","onInputOnChange","event","optional","target","type","name","checked","value","onSaveClick","saveType","formRef","projectMasterData","inputParam","userInfo","postParam","inputListName","selectedObject","primaryKeyField","masterData","SelectedProjectMaster","nprojectmastercode","sprojecttitle","sprojectcode","sprojectdescription","nprojectduration","nsitecode","nmastersitecode","undefined","parseInt","DRAFT","sfilename","sclosureremarks","NA","userinfo","ntimezonecode","classUrl","methodUrl","inputData","searchRef","isClearSearch","onSaveProjectMasterClosureFile","userRoleControlRights","nformcode","ncontrolCode","loadEsign","screenData","onNumericInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","acceptedFiles","projectmasterclosureFile","projectmasterclosureFileArray","formData","FormData","tempData","Object","assign","Array","isArray","length","forEach","file","index","splittedFileName","split","fileExtension","uniquefilename","trim","nprojecttypecode","push","append","JSON","stringify","selectedId","isFileupload","DeleteProjectMaster","primaryKeyValue","fetchUrl","fecthInputObject","projectmaster","deleteAttachment","fieldName","actionType","onComboChange","comboData","caseNo","nuserrolecode","nusercode","item","sdisplayname","primarykey","selectedRecordfilter","onDropProjectMasterFile","attachedFiles","maxSize","ACTIVE","DEACTIVE","YES","NO","deleteProjectMember","deleteParam","nprojectmembercode","onDropProjectMasterclosureFile","onNumericInputChange","console","log","test","approveProjectMaster","RetireProjectMaster","CLOSED","onTabChange","tabProps","onDropTestFile","dataStateChange","dataResult","dataState","priceDataState","ConfirmDelete","deleteId","confirmMessage","confirm","reloadData","current","SelectedProjectType","values","nfilterProjectType","filterProjectType","closeModal","openFilter","showFilter","closeFilter","onFilterSubmit","nprojecttypecodevalue","sectionDataState","skip","take","error","controlMap","Map","Instrument","createRef","searchFieldList","versionStatusCSS","activeIconCSS","RETIRED","mandatoryFields","findMandatoryFields","addId","has","get","ncontrolcode","editId","approveId","retireId","closureId","fieldsForGrid","selectedMaster","filterParam","breadCrumbData","filterData","searchedData","ProjectMasterdata","ProjectMasterList","sversionstatus","indexOf","suserrolename","susername","srfwdate","sprojectstartdate","sprojectduration","ProjectMember","openChildModal","errorCode","showAccordian","MembersList","ProjectType","Userrole","userList","TeamMembers","PeriodByControl","onDropAccepted","linkMaster","editFiles","mandatory","previousProps","updateState","map","sprojecttypename","generateBreadCrumData","masterStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt, faPencilAlt, faThumbsUp, faUserTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { injectIntl } from \"react-intl\";\r\nimport {\r\n  callService, crudMaster, validateEsignCredential, updateStore, changeProjectTypeFilter, filterColumnData,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { transactionStatus } from \"../../components/Enumeration\";\r\nimport AddProjectMaster from \"../../pages/project/AddProjectMaster\";\r\nimport ProjectMasterTab from \"../../pages/project/ProjectMasterTab\";\r\nimport ProjectMasterClosure from \"../../pages/project/ProjectMasterClosure\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport Esign from \"../audittrail/Esign\";\r\nimport { showEsign, getControlMap, constructOptionList, formatInputDate, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormatDateOnly }\r\n  from \"../../components/CommonScript\";\r\nimport { ReadOnlyText, ContentPanel } from \"../../components/App.styles\";\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport ProjectMasterFilter from './ProjectMasterFilter';\r\nimport { ReactComponent as Closure } from '../../assets/image/cancel-close-svgrepo-com.svg';\r\nimport { intl } from \"../../components/App\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass ProjectMaster extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const sectionDataState = { skip: 0, take: 10 };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedProjectMaster: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      sectionDataState,\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sprojectcode\", \"sprojecttitle\",\"suserrolename\", \"susername\", \"srfwdate\", \"sprojectstartdate\", \"sprojectdescription\", \"sversionstatus\", \"sfilename\", \"sclosureremarks\", \"sprojectduration\"]\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n    const { selectedRecord } = this.state;\r\n    selectedRecord[dateName] = dateValue;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  handleProjectMasterClosure = (selectedProjectMaster) => {\r\n\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          screenName: \"IDS_CLOSUREFILE\",\r\n          openModal: true,\r\n          operation: \"create\"\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n\r\n      toast.warn(intl.formatMessage({ id: \"IDS_SELECTAPPROVEVERSION\" }));\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n\r\n    let projectMasterData = [];\r\n    let inputParam = {};\r\n    projectMasterData[\"userinfo\"] = this.props.Login.userInfo;\r\n\r\n    let postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      \r\n    };\r\n\r\n    if ((this.props.Login.operation === \"update\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      postParam[\"primaryKeyValue\"] =\r\n        this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n        nprojectmastercode: this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,\r\n        //     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription,\r\n        // drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\r\n        // dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\r\n        //     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\r\n        //     nteammembercode: this.state.selectedRecord.nteammembercode.value,\r\n        //     nperiodcode: this.state.selectedRecord.nperiodcode.value,\r\n        nprojectduration: this.state.selectedRecord.nprojectduration,\r\n        ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n\r\n      };\r\n\r\n    } else if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n\r\n        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription === undefined ? \"\" : this.state.selectedRecord.sprojectdescription,\r\n        nprojectduration: parseInt(this.state.selectedRecord.nprojectduration),\r\n        //  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n        ntransactionstatus: transactionStatus.DRAFT,\r\n        sfilename: this.state.selectedRecord.sfilename === undefined ? \"\" : this.state.selectedRecord.sfilename,\r\n        sclosureremarks: this.state.selectedRecord.sclosureremarks === undefined ? \"\" : this.state.selectedRecord.sclosureremarks\r\n      };\r\n\r\n      /*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */\r\n    }\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nuserrolecode\"] = this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\r\n      //   : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nperiodcode\"] = this.state.selectedRecord[\"nperiodcode\"] ? this.state.selectedRecord[\"nperiodcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\r\n      //   if (this.props.Login.operation === \"create\") {\r\n\r\n      projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"ntzrfwdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n\r\n      //   }\r\n      //   else {\r\n\r\n      //     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\r\n      //     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\r\n\r\n      //   }\r\n      // }\r\n    }\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_ADDMEMBERS\")) {\r\n      projectMasterData[\"ProjectMember\"] = {};\r\n      projectMasterData[\"ProjectMember\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"][0] ? this.state.selectedRecord[\"nusercode\"][0].value\r\n        : transactionStatus.NA;\r\n      projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    }\r\n\r\n\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMaster\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      };\r\n    } else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    }\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_CLOSUREFILE\")) {\r\n\r\n      inputParam = this.onSaveProjectMasterClosureFile(saveType, formRef);\r\n\r\n    }\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          saveType,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n  onNumericInputOnChange = (value, name) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[name] = value;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n        inputData: {\r\n            \"userinfo\": {\r\n                ...this.props.Login.userInfo,\r\n                sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n            },\r\n            password: this.state.selectedRecord[\"esignpassword\"]\r\n        },\r\n        screenData: this.props.Login.screenData\r\n    }\r\n    this.props.validateEsignCredential(inputParam, \"openModal\");\r\n}\r\n\r\n\r\n  onSaveProjectMasterClosureFile = (saveType, formRef) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n\r\n    let projectmasterclosureFile = {};\r\n    let projectmasterclosureFileArray = [];\r\n    const formData = new FormData();\r\n    const tempData = Object.assign({}, projectmasterclosureFile);\r\n\r\n\r\n    if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n      acceptedFiles.forEach((file, index) => {\r\n\r\n        const splittedFileName = file.name.split('.');\r\n        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n        const uniquefilename = create_UUID() + '.' + fileExtension;\r\n        tempData[\"sclosureremarks\"] = selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\";\r\n        tempData[\"ssystemfilename\"] = uniquefilename;\r\n        tempData[\"sfilename\"] = file.name;\r\n        tempData[\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n        tempData[\"ntransactionstatus\"] = this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;\r\n        tempData[\"nprojecttypecode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;\r\n        tempData[\"sprojecttitle\"] = this.props.Login.masterData.SelectedProjectMaster.sprojecttitle;\r\n        tempData[\"sprojectcode\"] = this.props.Login.masterData.SelectedProjectMaster.sprojectcode;\r\n\r\n        projectmasterclosureFileArray.push(tempData);\r\n\r\n      });\r\n    }\r\n\r\n    formData.append(\"projectmaster\", JSON.stringify(projectmasterclosureFileArray[0]));\r\n\r\n    let selectedId = null;\r\n    let postParam = undefined;\r\n\r\n    if (this.props.Login.operation === \"create\") {\r\n      // edit\r\n      postParam = { inputListName: \"ProjectMaster\", selectedObject: \"SelectedProjectMaster\", primaryKeyField: \"nprojectmastercode\" };\r\n      selectedId = selectedRecord[\"nprojectmastercode\"];\r\n    }\r\n    const inputParam = {\r\n      inputData: { userinfo: this.props.Login.userInfo },\r\n      formData: formData,\r\n      isFileupload: true,\r\n      operation: this.props.Login.operation,\r\n      classUrl: \"projectmaster\",\r\n      saveType, formRef, methodUrl: \"ProjectMasterClosureFile\", postParam,\r\n      searchRef: this.searchRef\r\n    }\r\n\r\n    return inputParam;\r\n  }\r\n\r\n  DeleteProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    const postParam = {\r\n      inputListName: \"ProjectMasterList\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n      fetchUrl: \"projectmaster/getProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl,\r\n      postParam,\r\n      inputData: {\r\n        userinfo: this.props.Login.userInfo,\r\n        projectmaster: selectedProjectMaster,\r\n      },\r\n      operation,\r\n      isClearSearch: this.props.Login.isClearSearch,\r\n    };\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"IDS_PROJECTMASTER\",\r\n          operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n  };\r\n\r\n  deleteAttachment = (event, file, fieldName) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = deleteAttachmentDropZone(\r\n      selectedRecord[fieldName],\r\n      file\r\n    );\r\n\r\n    this.setState({\r\n      selectedRecord,\r\n      actionType: \"delete\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n\r\n\r\n    let versionStatusCSS = \"outline-secondary\";\r\n    let activeIconCSS = \"fa fa-check\"\r\n\r\n\r\n    if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n      versionStatusCSS = \"outline-success\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && ((this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.RETIRED) || (this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED))) {\r\n      versionStatusCSS = \"outline-danger\";\r\n      activeIconCSS = \"\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n      activeIconCSS = \"\";\r\n\r\n    }\r\n\r\n    if (this.props.Login.openModal) {\r\n      this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\r\n    }\r\n\r\n    //console.log(\"master main\", this.props.Login.masterData);\r\n    // let mandatoryFields = [];\r\n    const { userInfo } = this.props.Login;\r\n    const addId = this.state.controlMap.has(\"AddProjectMaster\") && this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n    const deleteId = this.state.controlMap.has(\"DeleteProjectMaster\") && this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;\r\n    const approveId = this.state.controlMap.has(\"ApproveProjectMaster\") && this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;\r\n    // const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\r\n    const retireId = this.state.controlMap.has(\"RetireProjectMaster\") && this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n    // const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\r\n\r\n\r\n\r\n    const fieldsForGrid = [\r\n\r\n      { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USER\", \"dataField\": \"steammembername\", \"width\": \"200px\" }\r\n\r\n    ]\r\n\r\n\r\n    const { SelectedProjectMaster } = this.props.Login.masterData;\r\n    const selectedMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n    const selectedProjectMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n\r\n    const filterParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      fetchUrl: \"projectmaster/getProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={4}>\r\n              <ListMaster\r\n                screenName={this.props.intl.formatMessage({ id: \"IDS_PROJECTMASTER\" })}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.ProjectMaster}\r\n                getMasterDetail={(ProjectMasterdata) => this.props.getProjectMaster(ProjectMasterdata, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                selectedMaster={selectedProjectMaster}\r\n                primaryKeyField=\"nprojectmastercode\"\r\n                mainField=\"sprojecttitle\"\r\n                firstField=\"sprojectcode\"\r\n                secondField=\"sversionstatus\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                addId={addId}\r\n                searchRef={this.searchRef}\r\n                reloadData={this.reloadData}\r\n                //     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\r\n                openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.selectedRecordfilter, this.props.Login.masterData.SelectedProjectType)}\r\n                isMultiSelecct={false}\r\n                hidePaging={false}\r\n                isClearSearch={this.props.Login.isClearSearch}\r\n\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    \"IDS_PROJECTMASTERFILTER\":\r\n                      <ProjectMasterFilter\r\n                        filterProjectType={this.state.ProjectMasterList || []}\r\n                        nfilterProjectType={this.props.Login.masterData.SelectedProjectType || {}}\r\n                        onComboChange={this.onComboChange}\r\n                        selectedRecord={this.state.selectedRecordfilter || {}}\r\n                      />\r\n                  }\r\n                ]}\r\n\r\n              />\r\n            </Col>\r\n            <Col md={8}>\r\n              {selectedProjectMaster ?\r\n                <ContentPanel className=\"panel-main-content\">\r\n                  <Card className=\"border-0\">\r\n                    <Card.Header>\r\n                      {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                      <Card.Title className=\"product-title-main\">\r\n                        {selectedProjectMaster.sprojecttitle}\r\n                      </Card.Title>\r\n                      <Card.Subtitle>\r\n                        <div className=\"d-flex product-category\">\r\n                          <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                            <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                              <i class={activeIconCSS}></i>\r\n                              {selectedProjectMaster.sversionstatus}\r\n\r\n                            </span>\r\n                          </h2>\r\n                          {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                          {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                          <div className=\"d-inline\">\r\n                            {/* Don't delete these commented lines because additional info feature is needed for Agaram LIMS */}\r\n                            {/* Start Here */}\r\n                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\" >  \r\n                                                            <FontAwesomeIcon icon={faEye} className=\"ActionIconColor\" onClick={(e)=>this.viewAdditionalInfo(e)} />\r\n                                                        </Nav.Link> */}\r\n                            {/* End Here */}\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"edittestname\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.addProjectMaster(\"update\", selectedProjectMaster, userInfo, editId, this.state.selectedRecordfilter, addProjectMaster)}>\r\n                              <FontAwesomeIcon icon={faPencilAlt} />\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletetestname\"\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                              //   data-for=\"tooltip_list_wrap\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                              onClick={() => this.ConfirmDelete(selectedProjectMaster, \"delete\", deleteId, \"ProjectMaster\")}\r\n                            >\r\n                              <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"approveProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.approveProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"approve\", approveId)}>\r\n                              <FontAwesomeIcon icon={faThumbsUp} />\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"ClosureProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(closureId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_CLOSE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.handleProjectMasterClosure(selectedProjectMaster)}>\r\n                              {/* <FontAwesomeIcon icon={faWindowClose} /> */}\r\n                              <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"retireProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(retireId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.RetireProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"retire\", retireId)}\r\n                            >\r\n                              <FontAwesomeIcon icon={faUserTimes} />\r\n                            </Nav.Link>\r\n\r\n                          </div>\r\n                          {/* </Tooltip> */}\r\n                        </div>\r\n                        {/* </Col>\r\n                                            </Row> */}\r\n                      </Card.Subtitle>\r\n                    </Card.Header>\r\n                    <Card.Body className=\"form-static-wrap\">\r\n                      <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCODE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectcode}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> */}\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_ROLE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.suserrolename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_USER\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.susername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TEAMMEMBERS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.steammembername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> */}\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_RFWDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_STARTDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDURATION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectduration}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DURATIONPERIOD\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.speriodname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>  */}\r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row>\r\n                      <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col>\r\n\r\n                      <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_CLOSUREFILENAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sfilename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REASONFORCLOSURE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sclosureremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                      </Row>\r\n                      <Card className=\"at-tabs border-0\">\r\n                        <Row noGutters>\r\n                          <Col md={12}>\r\n                            <ProjectMasterTab\r\n                              primaryKeyField={\"nprojectmembercode\"}\r\n                              data={this.props.Login.masterData.ProjectMember}\r\n                              dataResult={this.props.Login.masterData.ProjectMember}\r\n                              masterData={this.props.Login.masterData}\r\n                              screenName={this.props.Login.screenName}\r\n                              operation={this.props.Login.operation}\r\n                              openChildModal={this.props.Login.openChildModal}\r\n                              crudMaster={this.props.crudMaster}\r\n                              errorCode={this.props.Login.errorCode}\r\n                              validateEsignCredential={this.props.validateEsignCredential}\r\n                              loadEsign={this.props.Login.loadEsign}\r\n                              showAccordian={this.state.showAccordian}\r\n                              selectedRecord={this.state.selectedRecord || {}}\r\n                              // dataState={{skip: 0, take: 10}}\r\n                              dataState={this.props.Login.dataState}\r\n                              dataStateChange={this.dataStateChange}\r\n                              extractedColumnList={fieldsForGrid}\r\n                              controlMap={this.state.controlMap}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              inputParam={this.props.Login.inputParam}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              //    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\r\n                              getProjectmasterAddMemberService={this.props.getProjectmasterAddMemberService}\r\n                              // --   fetchRecord={this.props.getPricingEditService}\r\n                              //--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\r\n                              deleteRecord={this.deleteProjectMember}\r\n                              //  deleteParam={{operation:\"delete\"}}\r\n                              methodUrl={\"Teammembers\"}\r\n                              // reloadData={this.reloadData}\r\n                              // --      addRecord = {() => this.openModal(addId)}\r\n                              pageable={true}\r\n                              onTabChange={this.onTabChange}\r\n                              updateStore={this.props.updateStore}\r\n                              scrollable={'scrollable'}\r\n                              // gridHeight = {'600px'}\r\n                              isActionRequired={true}\r\n                              isToolBarRequired={false}\r\n                              selectedId={this.props.Login.selectedId}\r\n                              viewAttachment={this.props.viewAttachment}\r\n                              MembersList={this.props.Login.MembersList}\r\n                              onComboChange={this.onComboChange}\r\n                              // File\r\n                              addProjectMasterFile={this.props.addProjectMasterFile}\r\n                              esignRights={this.props.Login.userRoleControlRights}\r\n                              ntransactionstatus={selectedProjectMaster.ntransactionstatus}\r\n                              //  selectedRecord={this.props.Login.selectedRecord}\r\n                              onDropProjectMasterFile={this.onDropProjectMasterFile}\r\n                              onInputOnChange={this.onInputOnChange}\r\n                              screenData={this.props.Login.screenData}\r\n                              deleteAttachment={this.deleteAttachment}\r\n                            />\r\n                          </Col>\r\n                        </Row>\r\n                      </Card>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </ContentPanel>\r\n                : \"\"\r\n              }\r\n            </Col>\r\n          </Row>\r\n\r\n\r\n        </div>\r\n        {/* End of get display */}\r\n\r\n        {/* Start of Modal Sideout for Test Creation */}\r\n        {this.props.Login.openModal &&\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            //size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            mandatoryFields={this.mandatoryFields || []}\r\n            addComponent={this.props.Login.loadEsign ?\r\n              <Esign\r\n                operation={this.props.Login.operation}\r\n                onInputOnChange={this.onInputOnChange}\r\n                inputParam={this.props.Login.inputParam}\r\n                selectedRecord={this.state.selectedRecord || {}}\r\n              />\r\n              : (this.props.Login.screenName === \"IDS_PROJECTMASTER\") ?\r\n\r\n                <AddProjectMaster\r\n\r\n                  userInfo={this.props.Login.userInfo}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  ProjectType={this.props.Login.ProjectType}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  onComboChange={this.onComboChange}\r\n                  // onNumericInputOnChange={this.onNumericInputOnChange}\r\n                  onNumericInputChange={this.onNumericInputChange}\r\n\r\n                  handleDateChange={this.handleDateChange}\r\n                  Userrole={this.props.Login.Userrole}\r\n                  Users={this.props.Login.userList}\r\n                  TeamMembers={this.props.Login.TeamMembers}\r\n                  PeriodByControl={this.props.Login.PeriodByControl}\r\n                /> :\r\n\r\n                this.props.Login.screenName === \"IDS_CLOSUREFILE\" ?\r\n\r\n                  <ProjectMasterClosure\r\n\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onDrop={this.onDropProjectMasterclosureFile}\r\n                    onDropAccepted={this.onDropAccepted}\r\n                    deleteAttachment={this.deleteAttachment}\r\n                    actionType={this.state.actionType}\r\n                    onComboChange={this.onComboChange}\r\n                    linkMaster={this.props.linkMaster}\r\n                    editFiles={this.props.editFiles}\r\n                    maxSize={20}\r\n                    maxFiles={1}\r\n                    multiple={false}\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                    name=\"projectmasterclosurefilename\"\r\n\r\n                  ></ProjectMasterClosure> : \"\"\r\n\r\n            }\r\n          />\r\n        }\r\n        {/* End of Modal Sideout for Test Creation */}\r\n      </>\r\n    );\r\n  }\r\n\r\n  findMandatoryFields(screenName, selectedRecord, operation) {\r\n    let mandatoryFields = [];\r\n    if (screenName === \"IDS_PROJECTMASTER\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTTITLE\", \"dataField\": \"sprojecttitle\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_PROJECTCODE\", \"dataField\": \"sprojectcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nuserrolecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_USER\", \"dataField\": \"nusercode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_RFWDATE\", \"dataField\": \"drfwdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STARTDATE\", \"dataField\": \"dprojectstartdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTDURATION\", \"dataField\": \"nprojectduration\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DURATIONPERIOD\", \"dataField\": \"nperiodcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n\r\n    } else if (screenName === \"IDS_CLOSUREFILE\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n        { \"idsName\": \"IDS_REASONFORCLOSURE\", \"dataField\": \"sclosureremarks\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\r\n\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    switch (caseNo) {\r\n      case 1:\r\n        // const selectedRecord = this.state.selectedRecord || {};\r\n        if (selectedRecord.nuserrolecode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nuserrolecode.value)) {\r\n            // selectedRecord.nusercode={};\r\n            delete (selectedRecord.nusercode);\r\n          }\r\n        }\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"suserrolename\"] = comboData.item[\"suserrolename\"];\r\n        this.props.getuserComboServices({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nuserrolecode.label,\r\n            primarykey: selectedRecord.nuserrolecode.value,\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n\r\n        // this.setState({ selectedRecord });\r\n\r\n        break;\r\n\r\n      case 2:\r\n        // let nfilterProjectType = this.state.nfilterProjectType || {}\r\n        // nfilterProjectType = comboData;\r\n        const selectedRecordfilter = this.state.selectedRecordfilter || {};\r\n        selectedRecordfilter[fieldName] = comboData;\r\n        this.setState({ selectedRecordfilter });\r\n        break;\r\n\r\n      case 3:\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === 'checkbox') {\r\n      if (event.target.name === \"ntransactionstatus\")\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n      // else if (event.target.name === \"nlockmode\")\r\n      //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n      else\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n    }\r\n    else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    }\r\n    else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  }\r\n\r\n  deleteProjectMember = (deleteParam) => {\r\n    const inputParam = {\r\n      classUrl: \"projectmaster\",\r\n      methodUrl: \"ProjectMember\",\r\n      //displayName: ,\r\n      inputData: {\r\n        \"projectmember\": deleteParam.selectedRecord,//.dataItem,\r\n        \"nprojectmembercode\": deleteParam.selectedRecord.nprojectmembercode,\r\n        \"userinfo\": this.props.Login.userInfo\r\n      },\r\n      operation: \"delete\",\r\n      // priceDataState:this.state.priceDataState\r\n    }\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n          openModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_MEMBERS\" }),\r\n          operation: deleteParam.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterclosureFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  /* onNumericInputChange = (value, name) => {\r\n    console.log(\"value:\", value, name);\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (name === \"nroundingdigits\") {\r\n        \r\n        if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            console.log(\"val:\", value.target.value);\r\n            selectedRecord[name] = value.target.value;\r\n        }\r\n    }\r\n    else {\r\n        selectedRecord[name] = value;\r\n    }\r\n  \r\n    this.setState({ selectedRecord });\r\n  } */\r\n\r\n  onNumericInputChange = (value, name) => {\r\n\r\n    console.log(\"value:\", value, name);\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (name === \"nprojectduration\") {\r\n\r\n      if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n\r\n        selectedRecord[name] = value.target.value;\r\n      } else {\r\n\r\n        selectedRecord[name] = \"\";\r\n      }\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      selectedRecord[name] = value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n\r\n  }\r\n\r\n  approveProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }));\r\n    }\r\n\r\n  }\r\n\r\n  RetireProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTCLOSEDVERSION\" }));\r\n    }\r\n\r\n  }\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { screenName },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onDropTestFile = (attachedFiles, fieldName, maxSize) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(\r\n      selectedRecord[fieldName],\r\n      attachedFiles,\r\n      maxSize\r\n    );\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  };\r\n  /*\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(\r\n        this.props.Login.masterData[\"selectedSection\"],\r\n        event.dataState\r\n      ),\r\n      sectionDataState: event.dataState,\r\n    });\r\n  };\r\n*/\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.dataState),\r\n      priceDataState: event.dataState\r\n    });\r\n  }\r\n\r\n\r\n  /*\r\n    tabDetail = () => {\r\n      const tabMap = new Map();\r\n      const deleteSecId =\r\n        this.state.controlMap.has(\"DeleteSection\") &&\r\n        this.state.controlMap.get(\"DeleteSection\").ncontrolcode;\r\n      const defaultSecId =\r\n        this.state.controlMap.has(\"DefaultSection\") &&\r\n        this.state.controlMap.get(\"DefaultSection\").ncontrolcode;\r\n      tabMap.set(\r\n        \"IDS_SECTION\",\r\n        <InstrumentSectionTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          dataState={this.props.Login.dataState}\r\n          masterData={this.props.Login.masterData[\"selectedSection\"] || []}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          userInfo={this.props.Login.userInfo}\r\n          inputParam={this.props.Login.inputParam}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteSecId={deleteSecId}\r\n          defaultSecId={defaultSecId}\r\n          defaultRecord={this.defaultRecord}\r\n          getAvailableInstData={this.props.getAvailableInstData}\r\n          InstrumentSection={this.props.Login.masterData.selectedSection || []}\r\n          screenName=\"IDS_SECTION\"\r\n          selectedRecord={this.state.selectedRecord}\r\n          settings={this.props.Login.settings}\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTVALIDATION\",\r\n        <InstrumentValidationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.ValidationFileData}\r\n          InstrumentValidation={this.props.Login.masterData.InstrumentValidation}\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditValidation={this.props.getDataForAddEditValidation}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          getDataForEdit={this.props.getDataForEdit}\r\n          addfilecllick={this.addInstrumentFile}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          screenName=\"IDS_INSTRUMENTVALIDATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTCALIBRATION\",\r\n        <InstrumentCalibrationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.CalibrationFileData}\r\n          InstrumentCalibration={\r\n            this.props.Login.masterData.InstrumentCalibration\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditCalibration={this.props.getDataForAddEditCalibration}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentCalibrationFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTCALIBRATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTMAINTENANCE\",\r\n        <InstrumentMaintenanceTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.MaintenanceFileData}\r\n          InstrumentMaintenance={\r\n            this.props.Login.masterData.InstrumentMaintenance\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditMaintenance={this.props.getDataForAddEditMaintenance}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentMaintenanceFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTMAINTENANCE\"\r\n        />\r\n      );\r\n  \r\n      return tabMap;\r\n    }; */\r\n\r\n  ConfirmDelete = (selectedProjectMaster, operation, deleteId, screenName) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteProjectMaster(\r\n          screenName,\r\n          selectedProjectMaster,\r\n          operation,\r\n          deleteId\r\n\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n      if ( this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n    if (Object.values(this.props.Login.masterData.SelectedProjectType).length && this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n      let inputParam = {\r\n        inputData: {\r\n          // nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\r\n          nprojecttypecode: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\r\n          nfilterProjectType: this.props.Login.masterData.SelectedProjectType,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n\r\n      this.props.changeProjectTypeFilter(inputParam, this.props.Login.masterData.filterProjectType);\r\n    }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n\r\n    let openModal = this.props.Login.openModal;\r\n    //  let selectedRecord = this.props.Login.selectedRecord;\r\n    let selectedRecord = this.state.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n      loadEsign = false;\r\n    } else {\r\n      openModal = false;\r\n      selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: {\r\n        openModal, selectedRecord,\r\n        selectedId: null, loadEsign\r\n      },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord,\r\n      selectedRecordfilter,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterProjectType,\r\n      filterProjectType,\r\n\r\n    } = this.state;\r\n\r\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n      this.setState({ selectedRecord, selectedRecordfilter });\r\n    }\r\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      this.setState({ controlMap, userRoleControlRights });\r\n      //   updateState = true;\r\n    }\r\n\r\n    let nprojecttypecode = this.state.nfilterProjectType || {};\r\n\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      nfilterProjectType = this.state.nfilterProjectType || {};\r\n\r\n      const filterProjectType = constructOptionList(this.props.Login.masterData.filterProjectType || [], \"nprojecttypecode\",\r\n        \"sprojecttypename\", undefined, undefined, undefined);\r\n\r\n      let ProjectMasterList = filterProjectType.get(\"OptionList\");\r\n      nprojecttypecode = ProjectMasterList[0];\r\n      selectedRecordfilter = { nprojecttypecodevalue: nprojecttypecode }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        ProjectMasterList,\r\n        selectedRecordfilter, selectedRecord\r\n      });\r\n\r\n      if (this.props.Login.masterData.SelectedProjectType && this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n        nfilterProjectType = {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType,\r\n        };\r\n      }\r\n      //  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n      this.setState({ filterData, selectedRecordfilter });\r\n    }\r\n\r\n    if (this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n\r\n      let nprojecttypecodevalue = this.props.Login.masterData.SelectedProjectType ?\r\n        {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType\r\n        } : \"\"\r\n      //  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\r\n      selectedRecordfilter = { nprojecttypecodevalue }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        selectedRecordfilter, selectedRecord\r\n\r\n      });\r\n\r\n    }\r\n\r\n    // if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\r\n\r\n    // }\r\n\r\n  }\r\n  generateBreadCrumData() {\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectType) {\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectType\r\n          ? this.props.Login.masterData.SelectedProjectType.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectMaster) {\r\n\r\n      /*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectMaster\r\n          ? this.props.Login.masterData.SelectedProjectMaster.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else {\r\n\r\n      /*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.nfilterProjectType\r\n          ? this.props.Login.masterData.nfilterProjectType.label\r\n          : \"NA\",\r\n      });\r\n\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (this.state.nfilterProjectType.value) {\r\n    // if (this.state.selectedRecord.nprojecttypecodevalue.value) {\r\n    //if ((this.state.selectedRecord).length>0) {\r\n\r\n   // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n     \r\n      if ( this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        let inputParam = {\r\n        inputData: {\r\n          nprojecttypecode: this.state.selectedRecordfilter.nprojecttypecodevalue.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.nfilterProjectType,\r\n          nfilterProjectType: this.state.selectedRecordfilter.nprojecttypecodevalue,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n      this.props.changeProjectTypeFilter(\r\n        inputParam,\r\n        this.props.Login.masterData.filterProjectType\r\n      );\r\n     }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  filterColumnData,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  changeProjectTypeFilter,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n})(injectIntl(ProjectMaster));\r\n"]},"metadata":{},"sourceType":"module"}