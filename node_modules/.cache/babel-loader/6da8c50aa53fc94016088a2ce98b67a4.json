{"ast":null,"code":"import{create_UUID}from\"../../../components/CommonScript\";import{attachmentType,transactionStatus}from\"../../../components/Enumeration\";export function onSaveSampleAttachment(saveParam,selectedMaster){var formData=new FormData();var selectedRecord=saveParam.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var fileArray=[];var samindex={index:0};if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];// const uniquefilename = nattachmenttypecode === attachmentType.FTP? selectedRecord.nregattachmentcode && selectedRecord.nregattachmentcode>0 \n//         ? selectedRecord.ssystemfilename: create_UUID()+'.'+fileExtension: \"\";\nselectedMaster.forEach(function(sample,sampleindex){var fileName=selectedRecord.nregattachmentcode&&selectedRecord.nregattachmentcode>0&&selectedRecord.ssystemfilename&&selectedRecord.ssystemfilename!==\"\"?selectedRecord.ssystemfilename.split('.')[0]:create_UUID();var uniquefilename=fileName+'.'+fileExtension;var tempData={};tempData['nregattachmentcode']=selectedRecord.nregattachmentcode?selectedRecord.nregattachmentcode:0;tempData[\"npreregno\"]=sample.npreregno;tempData['nformcode']=saveParam.userInfo.nformcode;tempData['nusercode']=saveParam.userInfo.nusercode;tempData['nuserrolecode']=saveParam.userInfo.nuserrole;tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"nfilesize\"]=file.size;tempData['nattachmenttypecode']=nattachmenttypecode;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=file.name.trim();tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData['nstatus']=transactionStatus.ACTIVE;formData.append(\"uploadedFile\"+samindex[\"index\"],file);formData.append(\"uniquefilename\"+samindex[\"index\"],uniquefilename);fileArray.push(tempData);samindex[\"index\"]=samindex[\"index\"]+1;});});formData.append(\"filecount\",acceptedFiles.length*selectedMaster.length);isFileEdited=transactionStatus.YES;}else{selectedMaster.forEach(function(sample){var sampleFile={};sampleFile['nregattachmentcode']=selectedRecord.nregattachmentcode?selectedRecord.nregattachmentcode:0;sampleFile[\"npreregno\"]=sample.npreregno;sampleFile['nformcode']=saveParam.userInfo.nformcode;sampleFile['nusercode']=saveParam.userInfo.nusercode;sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole;sampleFile[\"nlinkcode\"]=transactionStatus.NA;sampleFile[\"nfilesize\"]=selectedRecord.nfilesize;sampleFile['nattachmenttypecode']=nattachmenttypecode;sampleFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;sampleFile[\"sfilename\"]=selectedRecord.sfilename.trim();sampleFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";sampleFile['nstatus']=transactionStatus.ACTIVE;fileArray.push(sampleFile);});}}else{selectedMaster.forEach(function(sample){var sampleFile={};sampleFile['nregattachmentcode']=selectedRecord.nregattachmentcode?selectedRecord.nregattachmentcode:0;sampleFile[\"npreregno\"]=sample.npreregno;sampleFile['nformcode']=saveParam.userInfo.nformcode;sampleFile['nusercode']=saveParam.userInfo.nusercode;sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole;sampleFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;sampleFile[\"nfilesize\"]=0;sampleFile['nattachmenttypecode']=nattachmenttypecode;sampleFile[\"ssystemfilename\"]=\"\";sampleFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();sampleFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";sampleFile['nstatus']=transactionStatus.ACTIVE;fileArray.push(sampleFile);});}formData.append(\"ncontrolCode\",saveParam.ncontrolCode);formData.append(\"isFileEdited\",isFileEdited);formData.append(\"sampleattachment\",JSON.stringify(fileArray));formData.append(\"nattachmenttypecode\",nattachmenttypecode);formData.append(\"npreregno\",saveParam.npreregno);formData.append(\"userinfo\",JSON.stringify(saveParam.userInfo));var inputParam={inputData:{userinfo:saveParam.userInfo},formData:formData,isFileupload:true,operation:saveParam.operation,classUrl:\"attachment\",saveType:saveParam.saveType,formRef:saveParam.formRef,methodUrl:\"SampleAttachment\"};return inputParam;}export function onSaveTestAttachment(saveParam,selectedMaster){var formData=new FormData();var selectedRecord=saveParam.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var fileArray=[];var testindex1={index:0};if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];selectedMaster.forEach(function(test,testindex){var fileName=selectedRecord.nregattachmentcode&&selectedRecord.nregattachmentcode>0&&selectedRecord.ssystemfilename&&selectedRecord.ssystemfilename!==\"\"?selectedRecord.ssystemfilename.split('.')[0]:create_UUID();var uniquefilename=fileName+'.'+fileExtension;var tempData={};tempData['ntestattachmentcode']=selectedRecord.ntestattachmentcode?selectedRecord.ntestattachmentcode:0;tempData[\"ntransactiontestcode\"]=test.ntransactiontestcode;tempData[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;tempData[\"npreregno\"]=test.npreregno;tempData['nformcode']=saveParam.userInfo.nformcode;tempData['nusercode']=saveParam.userInfo.nusercode;tempData['nuserrolecode']=saveParam.userInfo.nuserrole;tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"nfilesize\"]=file.size;tempData['nattachmenttypecode']=nattachmenttypecode;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=file.name.trim();tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData['nstatus']=transactionStatus.ACTIVE;formData.append(\"uploadedFile\"+testindex1[\"index\"],file);formData.append(\"uniquefilename\"+testindex1[\"index\"],uniquefilename);fileArray.push(tempData);testindex1[\"index\"]=testindex1[\"index\"]+1;});});formData.append(\"filecount\",acceptedFiles.length*selectedMaster.length);isFileEdited=transactionStatus.YES;}else{selectedMaster.forEach(function(test){var sampleFile={};sampleFile['ntestattachmentcode']=selectedRecord.ntestattachmentcode?selectedRecord.ntestattachmentcode:0;sampleFile[\"ntransactiontestcode\"]=test.ntransactiontestcode;sampleFile[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;sampleFile[\"npreregno\"]=test.npreregno;sampleFile['nformcode']=saveParam.userInfo.nformcode;sampleFile['nusercode']=saveParam.userInfo.nusercode;sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole;sampleFile[\"nlinkcode\"]=transactionStatus.NA;sampleFile[\"nfilesize\"]=selectedRecord.nfilesize;sampleFile['nattachmenttypecode']=nattachmenttypecode;sampleFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;sampleFile[\"sfilename\"]=selectedRecord.sfilename.trim();sampleFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";sampleFile['nstatus']=transactionStatus.ACTIVE;fileArray.push(sampleFile);});}}else{selectedMaster.forEach(function(test){var sampleFile={};sampleFile['ntestattachmentcode']=selectedRecord.ntestattachmentcode?selectedRecord.ntestattachmentcode:0;sampleFile[\"ntransactiontestcode\"]=test.ntransactiontestcode;sampleFile[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;sampleFile[\"npreregno\"]=test.npreregno;sampleFile['nformcode']=saveParam.userInfo.nformcode;sampleFile['nusercode']=saveParam.userInfo.nusercode;sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole;sampleFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;sampleFile[\"nfilesize\"]=0;sampleFile['nattachmenttypecode']=nattachmenttypecode;sampleFile[\"ssystemfilename\"]=\"\";sampleFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();sampleFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";sampleFile['nstatus']=transactionStatus.ACTIVE;fileArray.push(sampleFile);});}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"testattachment\",JSON.stringify(fileArray));formData.append(\"nattachmenttypecode\",nattachmenttypecode);formData.append(\"ntransactiontestcode\",saveParam.ntransactiontestcode);formData.append(\"userinfo\",JSON.stringify(saveParam.userInfo));var inputParam={inputData:{userinfo:saveParam.userInfo},formData:formData,isFileupload:true,operation:saveParam.operation,classUrl:\"attachment\",saveType:saveParam.saveType,formRef:saveParam.formRef,methodUrl:\"TestAttachment\"};return inputParam;}export function onSaveBatchAttachment(saveParam,selectedMaster){var formData=new FormData();var selectedRecord=saveParam.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var fileArray=[];var nreleasebatchcode=selectedMaster.nreleasebatchcode;if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var fileName=selectedRecord.nbatchfilecode&&selectedRecord.nbatchfilecode>0&&selectedRecord.ssystemfilename&&selectedRecord.ssystemfilename!==\"\"?selectedRecord.ssystemfilename.split('.')[0]:create_UUID();var uniquefilename=fileName+'.'+fileExtension;//selectedMaster.forEach(sample=>{\nvar tempData={};tempData['nbatchfilecode']=selectedRecord.nbatchfilecode?selectedRecord.nbatchfilecode:0;tempData[\"nreleasebatchcode\"]=selectedMaster.nreleasebatchcode;tempData[\"nlinkcode\"]=transactionStatus.NA;tempData['nattachmenttypecode']=nattachmenttypecode;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=file.name.trim();tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData['nstatus']=transactionStatus.ACTIVE;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);fileArray.push(tempData);//nreleasebatchcode.push(selectedMaster.releasebatchcode)\n//})\n});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{// selectedMaster.forEach(sample=>{\nvar sampleFile={};sampleFile['nbatchfilecode']=selectedRecord.nbatchfilecode?selectedRecord.nbatchfilecode:0;sampleFile[\"nreleasebatchcode\"]=selectedMaster.nreleasebatchcode;sampleFile[\"nlinkcode\"]=transactionStatus.NA;sampleFile['nattachmenttypecode']=nattachmenttypecode;sampleFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;sampleFile[\"sfilename\"]=selectedRecord.sfilename.trim();sampleFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";sampleFile['nstatus']=transactionStatus.ACTIVE;//npreregno.push(sample.npreregno)\nfileArray.push(sampleFile);// })\n}}else{//selectedMaster.forEach(sample=>{\nvar _sampleFile={};_sampleFile['nbatchfilecode']=selectedRecord.nbatchfilecode?selectedRecord.nbatchfilecode:0;_sampleFile[\"nreleasebatchcode\"]=selectedMaster.nreleasebatchcode;_sampleFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;_sampleFile['nattachmenttypecode']=nattachmenttypecode;_sampleFile[\"ssystemfilename\"]=\"\";_sampleFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();_sampleFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";_sampleFile['nstatus']=transactionStatus.ACTIVE;fileArray.push(_sampleFile);//npreregno.push(sample.npreregno)\n//})  \n}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"batchcreationfile\",JSON.stringify(fileArray));formData.append(\"nattachmenttypecode\",nattachmenttypecode);formData.append(\"nreleasebatchcode\",nreleasebatchcode);formData.append(\"userinfo\",JSON.stringify(saveParam.userInfo));var inputParam={inputData:{userinfo:saveParam.userInfo},formData:formData,isFileupload:true,operation:saveParam.operation,classUrl:\"attachment\",saveType:saveParam.saveType,formRef:saveParam.formRef,methodUrl:\"BatchCreationFile\"};return inputParam;}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/pages/attachmentscomments/attachments/AttachmentFunctions.js"],"names":["create_UUID","attachmentType","transactionStatus","onSaveSampleAttachment","saveParam","selectedMaster","formData","FormData","selectedRecord","acceptedFiles","sfilename","nattachmenttypecode","isFileEdited","NO","fileArray","samindex","index","FTP","Array","isArray","length","forEach","file","splittedFileName","name","split","fileExtension","sample","sampleindex","fileName","nregattachmentcode","ssystemfilename","uniquefilename","tempData","npreregno","userInfo","nformcode","nusercode","nuserrole","NA","size","trim","sdescription","ACTIVE","append","push","YES","sampleFile","nfilesize","nlinkcode","value","slinkfilename","slinkdescription","ncontrolCode","JSON","stringify","inputParam","inputData","userinfo","isFileupload","operation","classUrl","saveType","formRef","methodUrl","onSaveTestAttachment","testindex1","test","testindex","ntestattachmentcode","ntransactiontestcode","ntransactionsamplecode","onSaveBatchAttachment","nreleasebatchcode","nbatchfilecode"],"mappings":"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","sourcesContent":["import { create_UUID } from \"../../../components/CommonScript\";\r\nimport { attachmentType, transactionStatus } from \"../../../components/Enumeration\";\r\n\r\nexport function onSaveSampleAttachment (saveParam,selectedMaster){\r\n\r\n    const formData = new FormData();\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n    const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n    let isFileEdited = transactionStatus.NO;\r\n    let fileArray = [];\r\n    let samindex={\r\n       index:0\r\n    };\r\n    if(nattachmenttypecode === attachmentType.FTP) {\r\n        if(acceptedFiles && Array.isArray(acceptedFiles)&& acceptedFiles.length>0) {\r\n            acceptedFiles.forEach((file, index)=> {\r\n                \r\n                const splittedFileName = file.name.split('.');\r\n                const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                // const uniquefilename = nattachmenttypecode === attachmentType.FTP? selectedRecord.nregattachmentcode && selectedRecord.nregattachmentcode>0 \r\n                //         ? selectedRecord.ssystemfilename: create_UUID()+'.'+fileExtension: \"\";\r\n                \r\n            \r\n                selectedMaster.forEach((sample,sampleindex)=>{\r\n                    const fileName=selectedRecord.nregattachmentcode && selectedRecord.nregattachmentcode>0 &&selectedRecord.ssystemfilename &&selectedRecord.ssystemfilename !== \"\"?selectedRecord.ssystemfilename.split('.')[0]:create_UUID()\r\n                    const uniquefilename = fileName+'.'+fileExtension;\r\n                    const tempData ={};\r\n                    tempData['nregattachmentcode']=selectedRecord.nregattachmentcode ?selectedRecord.nregattachmentcode: 0;\r\n                    tempData[\"npreregno\"]=sample.npreregno;\r\n                    tempData['nformcode']=saveParam.userInfo.nformcode\r\n                    tempData['nusercode']=saveParam.userInfo.nusercode\r\n                    tempData['nuserrolecode']=saveParam.userInfo.nuserrole\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    tempData['nattachmenttypecode']=nattachmenttypecode\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"sfilename\"] = file.name.trim();\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription? selectedRecord.sdescription.trim(): \"\";\r\n                    tempData['nstatus']=transactionStatus.ACTIVE;\r\n\r\n\r\n\r\n                    formData.append(\"uploadedFile\"+samindex[\"index\"], file);\r\n                    formData.append(\"uniquefilename\"+samindex[\"index\"], uniquefilename);\r\n                    fileArray.push(tempData);\r\n                    samindex[\"index\"]=samindex[\"index\"]+1;\r\n                })\r\n            });\r\n            formData.append(\"filecount\", (acceptedFiles.length*selectedMaster.length));\r\n           \r\n            isFileEdited = transactionStatus.YES;\r\n        } else {\r\n            selectedMaster.forEach(sample=>{\r\n                let sampleFile = {};\r\n                sampleFile['nregattachmentcode']=selectedRecord.nregattachmentcode ?selectedRecord.nregattachmentcode: 0;\r\n                sampleFile[\"npreregno\"]=sample.npreregno;\r\n                sampleFile['nformcode']=saveParam.userInfo.nformcode\r\n                sampleFile['nusercode']=saveParam.userInfo.nusercode\r\n                sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole\r\n                sampleFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                sampleFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                sampleFile['nattachmenttypecode']=nattachmenttypecode\r\n                sampleFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                sampleFile[\"sfilename\"] = selectedRecord.sfilename.trim();\r\n                sampleFile[\"sdescription\"] = selectedRecord.sdescription? selectedRecord.sdescription.trim(): \"\";\r\n                sampleFile['nstatus']=transactionStatus.ACTIVE;\r\n                fileArray.push(sampleFile);\r\n            })\r\n        }\r\n    } else {\r\n        selectedMaster.forEach(sample=>{\r\n            let sampleFile = {};\r\n            sampleFile['nregattachmentcode']=selectedRecord.nregattachmentcode ?selectedRecord.nregattachmentcode: 0;\r\n            sampleFile[\"npreregno\"]=sample.npreregno;\r\n            sampleFile['nformcode']=saveParam.userInfo.nformcode\r\n            sampleFile['nusercode']=saveParam.userInfo.nusercode\r\n            sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            sampleFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;\r\n            sampleFile[\"nfilesize\"] = 0;\r\n            sampleFile['nattachmenttypecode']=nattachmenttypecode\r\n            sampleFile[\"ssystemfilename\"] = \"\";\r\n            sampleFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            sampleFile[\"sdescription\"] = selectedRecord.slinkdescription? selectedRecord.slinkdescription.trim(): \"\";\r\n            sampleFile['nstatus']=transactionStatus.ACTIVE;\r\n            fileArray.push(sampleFile);\r\n        })  \r\n    }\r\n    formData.append(\"ncontrolCode\",saveParam.ncontrolCode);\r\n    formData.append(\"isFileEdited\", isFileEdited);\r\n    formData.append(\"sampleattachment\", JSON.stringify(fileArray));\r\n    formData.append(\"nattachmenttypecode\",nattachmenttypecode);\r\n    formData.append(\"npreregno\",saveParam.npreregno);\r\n    formData.append(\"userinfo\", JSON.stringify(saveParam.userInfo));\r\n    const inputParam = {\r\n        inputData: {userinfo: saveParam.userInfo},\r\n        formData: formData,\r\n        isFileupload: true,\r\n        operation: saveParam.operation,\r\n        classUrl: \"attachment\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"SampleAttachment\"\r\n    }\r\n    return inputParam;\r\n}\r\nexport function onSaveTestAttachment (saveParam,selectedMaster){\r\n\r\n    const formData = new FormData();\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n    const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n    let isFileEdited = transactionStatus.NO;\r\n    let fileArray = [];\r\n    let testindex1={\r\n        index:0\r\n     };\r\n    \r\n    if(nattachmenttypecode === attachmentType.FTP) {\r\n        if(acceptedFiles && Array.isArray(acceptedFiles)&& acceptedFiles.length>0) {\r\n            acceptedFiles.forEach((file, index)=> {\r\n                \r\n                const splittedFileName = file.name.split('.');\r\n                const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                \r\n\r\n                selectedMaster.forEach((test,testindex)=>{\r\n                    const fileName=selectedRecord.nregattachmentcode && selectedRecord.nregattachmentcode>0 &&selectedRecord.ssystemfilename &&selectedRecord.ssystemfilename !== \"\"?selectedRecord.ssystemfilename.split('.')[0]:create_UUID()\r\n                    const uniquefilename = fileName+'.'+fileExtension;\r\n                    const tempData ={};\r\n                    tempData['ntestattachmentcode']=selectedRecord.ntestattachmentcode ?selectedRecord.ntestattachmentcode: 0;\r\n                    tempData[\"ntransactiontestcode\"]=test.ntransactiontestcode;\r\n                    tempData[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;\r\n                    tempData[\"npreregno\"]=test.npreregno;\r\n                    tempData['nformcode']=saveParam.userInfo.nformcode\r\n                    tempData['nusercode']=saveParam.userInfo.nusercode\r\n                    tempData['nuserrolecode']=saveParam.userInfo.nuserrole\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    tempData['nattachmenttypecode']=nattachmenttypecode\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"sfilename\"] = file.name.trim();\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription? selectedRecord.sdescription.trim(): \"\";\r\n                    tempData['nstatus']=transactionStatus.ACTIVE;\r\n\r\n\r\n                    formData.append(\"uploadedFile\"+testindex1[\"index\"], file);\r\n                    formData.append(\"uniquefilename\"+testindex1[\"index\"], uniquefilename);\r\n                    fileArray.push(tempData);\r\n                    testindex1[\"index\"]=testindex1[\"index\"]+1;\r\n                })\r\n            });\r\n            formData.append(\"filecount\", (acceptedFiles.length*selectedMaster.length));\r\n            isFileEdited = transactionStatus.YES;\r\n        } else {\r\n            selectedMaster.forEach(test=>{\r\n                let sampleFile = {};\r\n                sampleFile['ntestattachmentcode']=selectedRecord.ntestattachmentcode ?selectedRecord.ntestattachmentcode: 0;\r\n                sampleFile[\"ntransactiontestcode\"]=test.ntransactiontestcode;\r\n                sampleFile[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;\r\n                sampleFile[\"npreregno\"]=test.npreregno;\r\n                sampleFile['nformcode']=saveParam.userInfo.nformcode\r\n                sampleFile['nusercode']=saveParam.userInfo.nusercode\r\n                sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole\r\n                sampleFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                sampleFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                sampleFile['nattachmenttypecode']=nattachmenttypecode\r\n                sampleFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                sampleFile[\"sfilename\"] = selectedRecord.sfilename.trim();\r\n                sampleFile[\"sdescription\"] = selectedRecord.sdescription? selectedRecord.sdescription.trim(): \"\";\r\n                sampleFile['nstatus']=transactionStatus.ACTIVE;\r\n                fileArray.push(sampleFile);\r\n            })\r\n        }\r\n    } else {\r\n        selectedMaster.forEach(test=>{\r\n            let sampleFile = {};\r\n            sampleFile['ntestattachmentcode']=selectedRecord.ntestattachmentcode ?selectedRecord.ntestattachmentcode: 0;\r\n            sampleFile[\"ntransactiontestcode\"]=test.ntransactiontestcode;\r\n            sampleFile[\"ntransactionsamplecode\"]=test.ntransactionsamplecode;\r\n            sampleFile[\"npreregno\"]=test.npreregno;\r\n            sampleFile['nformcode']=saveParam.userInfo.nformcode\r\n            sampleFile['nusercode']=saveParam.userInfo.nusercode\r\n            sampleFile['nuserrolecode']=saveParam.userInfo.nuserrole\r\n            sampleFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;\r\n            sampleFile[\"nfilesize\"] = 0;\r\n            sampleFile['nattachmenttypecode']=nattachmenttypecode\r\n            sampleFile[\"ssystemfilename\"] = \"\";\r\n            sampleFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            sampleFile[\"sdescription\"] = selectedRecord.slinkdescription? selectedRecord.slinkdescription.trim(): \"\";\r\n            sampleFile['nstatus']=transactionStatus.ACTIVE;\r\n            fileArray.push(sampleFile);\r\n        })  \r\n    }\r\n    formData.append(\"isFileEdited\", isFileEdited);\r\n    formData.append(\"testattachment\", JSON.stringify(fileArray));\r\n    formData.append(\"nattachmenttypecode\",nattachmenttypecode);\r\n    formData.append(\"ntransactiontestcode\",saveParam.ntransactiontestcode);\r\n    formData.append(\"userinfo\", JSON.stringify(saveParam.userInfo));\r\n    const inputParam = {\r\n        inputData: {userinfo: saveParam.userInfo},\r\n        formData: formData,\r\n        isFileupload: true,\r\n        operation: saveParam.operation,\r\n        classUrl: \"attachment\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n         methodUrl: \"TestAttachment\"\r\n    }\r\n    return inputParam;\r\n}\r\n\r\n\r\nexport function onSaveBatchAttachment (saveParam,selectedMaster){\r\n\r\n    const formData = new FormData();\r\n    const selectedRecord = saveParam.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n    const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n    let isFileEdited = transactionStatus.NO;\r\n    let fileArray = [];\r\n    let nreleasebatchcode = selectedMaster.nreleasebatchcode;\r\n    \r\n    if(nattachmenttypecode === attachmentType.FTP) {\r\n        if(acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length>0) {\r\n            acceptedFiles.forEach((file, index)=> {\r\n                \r\n                const splittedFileName = file.name.split('.');\r\n                const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                const fileName = selectedRecord.nbatchfilecode && selectedRecord.nbatchfilecode>0 &&\r\n                        selectedRecord.ssystemfilename &&   selectedRecord.ssystemfilename !== \"\" ?\r\n                        selectedRecord.ssystemfilename.split('.')[0]:create_UUID()\r\n                const uniquefilename = fileName+'.'+fileExtension;\r\n\r\n                //selectedMaster.forEach(sample=>{\r\n\r\n                    const tempData = {};\r\n                    tempData['nbatchfilecode'] = selectedRecord.nbatchfilecode ? \r\n                                                selectedRecord.nbatchfilecode: 0;\r\n                    tempData[\"nreleasebatchcode\"]= selectedMaster.nreleasebatchcode;\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData['nattachmenttypecode']= nattachmenttypecode ;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"sfilename\"] = file.name.trim();\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim(): \"\";\r\n                    tempData['nstatus'] = transactionStatus.ACTIVE;\r\n\r\n\r\n                    formData.append(\"uploadedFile\"+index, file);\r\n                    formData.append(\"uniquefilename\"+index, uniquefilename);\r\n                    fileArray.push(tempData);\r\n                    //nreleasebatchcode.push(selectedMaster.releasebatchcode)\r\n                //})\r\n            });\r\n            formData.append(\"filecount\", acceptedFiles.length);\r\n            isFileEdited = transactionStatus.YES;\r\n        } \r\n        else {\r\n           // selectedMaster.forEach(sample=>{\r\n                let sampleFile = {};\r\n                sampleFile['nbatchfilecode'] = selectedRecord.nbatchfilecode ?selectedRecord.nbatchfilecode: 0;\r\n                sampleFile[\"nreleasebatchcode\"] = selectedMaster.nreleasebatchcode;\r\n                sampleFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                sampleFile['nattachmenttypecode'] = nattachmenttypecode\r\n                sampleFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                sampleFile[\"sfilename\"] = selectedRecord.sfilename.trim();\r\n                sampleFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim(): \"\";\r\n                sampleFile['nstatus'] = transactionStatus.ACTIVE;\r\n\r\n                //npreregno.push(sample.npreregno)\r\n                fileArray.push(sampleFile);\r\n           // })\r\n        }\r\n    } else {\r\n        //selectedMaster.forEach(sample=>{\r\n            let sampleFile = {};\r\n            sampleFile['nbatchfilecode'] = selectedRecord.nbatchfilecode ?selectedRecord.nbatchfilecode: 0;\r\n            sampleFile[\"nreleasebatchcode\"] = selectedMaster.nreleasebatchcode;           \r\n            sampleFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;\r\n            sampleFile['nattachmenttypecode']=nattachmenttypecode\r\n            sampleFile[\"ssystemfilename\"] = \"\";\r\n            sampleFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            sampleFile[\"sdescription\"] = selectedRecord.slinkdescription? selectedRecord.slinkdescription.trim(): \"\";\r\n            sampleFile['nstatus']=transactionStatus.ACTIVE;\r\n            fileArray.push(sampleFile);\r\n            //npreregno.push(sample.npreregno)\r\n        //})  \r\n    }\r\n    formData.append(\"isFileEdited\", isFileEdited);\r\n    formData.append(\"batchcreationfile\", JSON.stringify(fileArray));\r\n    formData.append(\"nattachmenttypecode\",nattachmenttypecode);\r\n    formData.append(\"nreleasebatchcode\",nreleasebatchcode);\r\n    formData.append(\"userinfo\", JSON.stringify(saveParam.userInfo));\r\n   \r\n    const inputParam = {\r\n        inputData: {userinfo: saveParam.userInfo},\r\n        formData: formData,\r\n        isFileupload: true,\r\n        operation: saveParam.operation,\r\n        classUrl: \"attachment\",\r\n        saveType:saveParam.saveType,\r\n        formRef:saveParam.formRef,\r\n        methodUrl: \"BatchCreationFile\"\r\n    }\r\n    return inputParam;\r\n}"]},"metadata":{},"sourceType":"module"}