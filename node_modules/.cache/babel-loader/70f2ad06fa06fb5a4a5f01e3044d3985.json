{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,Card,Nav,FormGroup,FormLabel}from\"react-bootstrap\";import{connect}from\"react-redux\";import{toast}from\"react-toastify\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrashAlt,faPencilAlt,faThumbsUp,faUserTimes,faCloudDownloadAlt}from'@fortawesome/free-solid-svg-icons';import{injectIntl}from\"react-intl\";import{callService,crudMaster,validateEsignCredential,updateStore,changeProjectTypeFilter,filterColumnData,viewAttachment,addProjectMaster,getProjectMaster,getProjectmasterAddMemberService,addProjectMasterFile,getuserComboServices}from\"../../actions\";import ListMaster from\"../../components/list-master/list-master.component\";import{transactionStatus}from\"../../components/Enumeration\";import AddProjectMaster from\"../../pages/project/AddProjectMaster\";import ProjectMasterTab from\"../../pages/project/ProjectMasterTab\";import ProjectMasterClosure from\"../../pages/project/ProjectMasterClosure\";import{DEFAULT_RETURN}from\"../../actions/LoginTypes\";import SlideOutModal from\"../../components/slide-out-modal/SlideOutModal\";import Esign from\"../audittrail/Esign\";import{showEsign,getControlMap,constructOptionList,formatInputDate,onDropAttachFileList,deleteAttachmentDropZone,create_UUID,rearrangeDateFormatDateOnly,Lims_JSON_stringify}from\"../../components/CommonScript\";import{ReadOnlyText,ContentPanel}from\"../../components/App.styles\";import{process}from\"@progress/kendo-data-query\";import ConfirmMessage from\"../../components/confirm-alert/confirm-message.component\";import BreadcrumbComponent from\"../../components/Breadcrumb.Component\";import{Affix}from\"rsuite\";import ProjectMasterFilter from'./ProjectMasterFilter';import{ReactComponent as Closure}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/image/cancel-close-svgrepo-com.svg\";import{intl}from\"../../components/App\";var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var ProjectMaster=/*#__PURE__*/function(_Component){_inherits(ProjectMaster,_Component);var _super=_createSuper(ProjectMaster);function ProjectMaster(props){var _this;_classCallCheck(this,ProjectMaster);_this=_super.call(this,props);_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.handleProjectMasterClosure=function(selectedProjectMaster){var closureId=_this.state.controlMap.has(\"ClosureProjectMaster\")&&_this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;//  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\nif(selectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:\"IDS_CLOSUREFILE\",openModal:true,operation:\"create\",ncontrolCode:closureId}};_this.props.updateStore(updateInfo);}else{toast.warn(intl.formatMessage({id:\"IDS_SELECTAPPROVEVERSION\"}));}};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var projectMasterData=[];var inputParam={};projectMasterData[\"userinfo\"]=_this.props.Login.userInfo;var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};if(_this.props.Login.operation===\"update\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){postParam[\"primaryKeyValue\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;projectMasterData[\"projectMaster\"]={nprojectmastercode:_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,//     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\nsprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectname:_this.state.selectedRecord.sprojectname,sprojectdescription:_this.state.selectedRecord.sprojectdescription,// drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\n// dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\n//     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\n//     nteammembercode: this.state.selectedRecord.nteammembercode.value,\n//     nperiodcode: this.state.selectedRecord.nperiodcode.value,\nnprojectduration:_this.state.selectedRecord.nprojectduration,ntransactionstatus:_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus};}else if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"]={nsitecode:_this.props.Login.userInfo.nmastersitecode,sprojecttitle:_this.state.selectedRecord.sprojecttitle,sprojectname:_this.state.selectedRecord.sprojectname,sprojectcode:_this.state.selectedRecord.sprojectcode,sprojectdescription:_this.state.selectedRecord.sprojectdescription===undefined?\"\":_this.state.selectedRecord.sprojectdescription,nprojectduration:parseInt(_this.state.selectedRecord.nprojectduration),//  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\nntransactionstatus:transactionStatus.DRAFT,sfilename:_this.state.selectedRecord.sfilename===undefined?\"\":_this.state.selectedRecord.sfilename,sclosureremarks:_this.state.selectedRecord.sclosureremarks===undefined?\"\":_this.state.selectedRecord.sclosureremarks};/*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){projectMasterData[\"projectMaster\"][\"nprojecttypecode\"]=_this.state.selectedRecord[\"nprojecttypecode\"]?_this.state.selectedRecord[\"nprojecttypecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nuserrolecode\"]=_this.state.selectedRecord[\"nuserrolecode\"]?_this.state.selectedRecord[\"nuserrolecode\"].value:transactionStatus.NA;projectMasterData[\"projectMaster\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"]?_this.state.selectedRecord[\"nusercode\"].value:transactionStatus.NA;// projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\n//   : transactionStatus.NA;\nprojectMasterData[\"projectMaster\"][\"nperiodcode\"]=_this.state.selectedRecord[\"nperiodcode\"]?_this.state.selectedRecord[\"nperiodcode\"].value:transactionStatus.NA;// if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\n//   if (this.props.Login.operation === \"create\") {\nprojectMasterData[\"projectMaster\"][\"drfwdate\"]=formatInputDate(_this.state.selectedRecord[\"drfwdate\"],false);projectMasterData[\"projectMaster\"][\"dprojectstartdate\"]=formatInputDate(_this.state.selectedRecord[\"dprojectstartdate\"],false);projectMasterData[\"projectMaster\"][\"ntzrfwdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"]=projectMasterData.userinfo.ntimezonecode?projectMasterData.userinfo.ntimezonecode:\"-1\";//   }\n//   else {\n//     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\n//     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\n//   }\n// }\n}if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_ADDMEMBERS\"){projectMasterData[\"ProjectMember\"]={};projectMasterData[\"ProjectMember\"][\"nusercode\"]=_this.state.selectedRecord[\"nusercode\"][0]?_this.state.selectedRecord[\"nusercode\"][0].value:transactionStatus.NA;projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;}if((_this.props.Login.operation===\"create\"||_this.props.Login.operation===\"update\")&&_this.props.Login.screenName===\"IDS_PROJECTMASTER\"){inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMaster\",inputData:projectMasterData,operation:_this.props.Login.operation,saveType:saveType,formRef:formRef,postParam:postParam,searchRef:_this.searchRef,isClearSearch:_this.props.Login.isClearSearch};}/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */if(_this.props.Login.operation===\"create\"&&_this.props.Login.screenName===\"IDS_CLOSUREFILE\"){inputParam=_this.onSaveProjectMasterClosureFile(saveType,formRef);}var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.onNumericInputOnChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};_this.onSaveProjectMasterClosureFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var projectmasterclosureFile={};var projectmasterclosureFileArray=[];var formData=new FormData();var tempData=Object.assign({},projectmasterclosureFile);if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=create_UUID()+'.'+fileExtension;tempData[\"sclosureremarks\"]=Lims_JSON_stringify(selectedRecord.sclosureremarks?selectedRecord.sclosureremarks.trim():\"\",false);tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"sfilename\"]=Lims_JSON_stringify(file.name,false);tempData[\"nprojectmastercode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;tempData[\"ntransactionstatus\"]=_this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;tempData[\"nprojecttypecode\"]=_this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;tempData[\"sprojecttitle\"]=Lims_JSON_stringify(_this.props.Login.masterData.SelectedProjectMaster.sprojecttitle,false);tempData[\"sprojectcode\"]=Lims_JSON_stringify(_this.props.Login.masterData.SelectedProjectMaster.sprojectcode,false);formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);projectmasterclosureFileArray.push(tempData);});}formData.append(\"projectmaster\",JSON.stringify(projectmasterclosureFileArray[0]));formData.append(\"filecount\",acceptedFiles.length);var selectedId=null;var postParam=undefined;if(_this.props.Login.operation===\"create\"){// edit\npostParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\"};selectedId=selectedRecord[\"nprojectmastercode\"];}var inputParam={inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"projectmaster\",saveType:saveType,formRef:formRef,methodUrl:\"ProjectMasterClosureFile\",postParam:postParam,searchRef:_this.searchRef};return inputParam;};_this.DeleteProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){var postParam={inputListName:\"ProjectMasterList\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getActiveProjectMasterById\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{userinfo:_this.props.Login.userInfo,projectmaster:selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"});};_this.viewProjectMasterClosureFile=function(selectedProjectMaster,userInfo){var inputParam={inputData:{projectmasterclosurefile:selectedProjectMaster,userinfo:userInfo},classUrl:\"projectmaster\",operation:\"view\",methodUrl:\"AttachedProjectMasterClosureFile\",screenName:\"ProjectMaster Closure File\"};_this.props.viewAttachment(inputParam);};_this.onComboChange=function(comboData,fieldName,caseNo){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:// const selectedRecord = this.state.selectedRecord || {};\nif(selectedRecord.nuserrolecode){if(parseInt(comboData.value)!==parseInt(selectedRecord.nuserrolecode.value)){// selectedRecord.nusercode={};\ndelete selectedRecord.nusercode;}}selectedRecord[fieldName]=comboData;selectedRecord[\"suserrolename\"]=comboData.item[\"suserrolename\"];_this.props.getuserComboServices({inputData:{userinfo:_this.props.Login.userInfo,sdisplayname:selectedRecord.nuserrolecode.label,primarykey:selectedRecord.nuserrolecode.value}},selectedRecord);// this.setState({ selectedRecord });\nbreak;case 2:// let nfilterProjectType = this.state.nfilterProjectType || {}\n// nfilterProjectType = comboData;\nvar selectedRecordfilter=_this.state.selectedRecordfilter||{};selectedRecordfilter[fieldName]=comboData;_this.setState({selectedRecordfilter:selectedRecordfilter});break;case 3:selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onDropProjectMasterFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onInputOnChange=function(event,optional){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"ntransactionstatus\")selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.ACTIVE:transactionStatus.DEACTIVE;// else if (event.target.name === \"nlockmode\")\n//     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\nelse selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.deleteProjectMember=function(deleteParam){var inputParam={classUrl:\"projectmaster\",methodUrl:\"ProjectMember\",//displayName: ,\ninputData:{\"projectmember\":deleteParam.selectedRecord,//.dataItem,\n\"nprojectmembercode\":deleteParam.selectedRecord.nprojectmembercode,\"userinfo\":_this.props.Login.userInfo},operation:\"delete\"// priceDataState:this.state.priceDataState\n};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openChildModal:true,screenName:_this.props.intl.formatMessage({id:\"IDS_MEMBERS\"}),operation:deleteParam.operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\");}};_this.onDropProjectMasterclosureFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.onNumericInputChange=function(value,name){console.log(\"value:\",value,name);var selectedRecord=_this.state.selectedRecord||{};if(name===\"nprojectduration\"){if(/^[0-9]+$/.test(value.target.value)||value.target.value===\"\"){selectedRecord[name]=value.target.value;}else{selectedRecord[name]=\"\";}}else{selectedRecord[name]=value;}_this.setState({selectedRecord:selectedRecord});};_this.approveProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTDRAFTVERSION\"}));}};_this.RetireProjectMaster=function(methodUrl,selectedProjectMaster,operation,ncontrolCode){if(selectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED){var postParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",primaryKeyValue:selectedProjectMaster.nprojectmastercode,fetchUrl:\"projectmaster/getProjectMaster\",fecthInputObject:{userinfo:_this.props.Login.userInfo}};var inputParam={classUrl:_this.props.Login.inputParam.classUrl,methodUrl:methodUrl,postParam:postParam,inputData:{\"userinfo\":_this.props.Login.userInfo,\"projectmaster\":selectedProjectMaster},operation:operation,isClearSearch:_this.props.Login.isClearSearch};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_PROJECTMASTER\",operation:operation}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\");}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTCLOSEDVERSION\"}));}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.onDropTestFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.dataStateChange=function(event){_this.setState({dataResult:process(_this.state.data,event.dataState),dataState:event.dataState});};_this.ConfirmDelete=function(selectedProjectMaster,operation,deleteId,screenName){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.DeleteProjectMaster(screenName,selectedProjectMaster,operation,deleteId);});};_this.reloadData=function(){_this.searchRef.current.value=\"\";// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.props.Login.masterData.SelectedProjectType!==undefined){if(Object.values(_this.props.Login.masterData.SelectedProjectType).length&&_this.props.Login.masterData.SelectedProjectType!==undefined){var inputParam={inputData:{// nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\nnprojecttypecode:_this.props.Login.masterData.SelectedProjectType.nprojecttypecode,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\nnfilterProjectType:_this.props.Login.masterData.SelectedProjectType},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.state.selectedRecord;//    let selectedRecord = this.state.selectedRecord;\nif(_this.props.Login.loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"approve\"||_this.props.Login.operation===\"retire\"){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord['esignpassword']='';selectedRecord['esigncomments']='';selectedRecord['esignreason']='';}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.onFilterSubmit=function(){_this.searchRef.current.value=\"\";// if (this.state.nfilterProjectType.value) {\n// if (this.state.selectedRecord.nprojecttypecodevalue.value) {\n//if ((this.state.selectedRecord).length>0) {\n// if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\nif(_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){if(Object.values(_this.state.selectedRecordfilter.nprojecttypecodevalue).length&&_this.state.selectedRecordfilter.nprojecttypecodevalue!==undefined){var inputParam={inputData:{nprojecttypecode:_this.state.selectedRecordfilter.nprojecttypecodevalue.value,userinfo:_this.props.Login.userInfo,// nfilterProjectType: this.state.nfilterProjectType,\nnfilterProjectType:_this.state.selectedRecordfilter.nprojecttypecodevalue},classUrl:\"projectmaster\",methodUrl:\"ProjectMasterByProjectType\"};_this.props.changeProjectTypeFilter(inputParam,_this.props.Login.masterData.filterProjectType);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PROJECTTYPENOTAVAILABLE\"}));}};var dataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};_this.state={selectedRecord:{},error:\"\",userRoleControlRights:[],selectedProjectMaster:undefined,controlMap:new Map(),Instrument:[],dataState:dataState};_this.searchRef=React.createRef();_this.searchFieldList=[\"sprojectcode\",\"sprojectname\",\"sprojecttitle\",\"suserrolename\",\"susername\",\"srfwdate\",\"sprojectstartdate\",\"sprojectdescription\",\"sversionstatus\",\"sfilename\",\"sclosureremarks\",\"sprojectduration\"];_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(ProjectMaster,[{key:\"render\",value:function render(){var _this2=this;var versionStatusCSS=\"outline-secondary\";var activeIconCSS=\"fa fa-check\";if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.APPROVED){versionStatusCSS=\"outline-success\";}else if(this.props.Login.masterData.SelectedProjectMaster&&(this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.RETIRED||this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.CLOSED)){versionStatusCSS=\"outline-danger\";activeIconCSS=\"\";}else if(this.props.Login.masterData.SelectedProjectMaster&&this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus===transactionStatus.DRAFT){activeIconCSS=\"\";}if(this.props.Login.openModal){this.mandatoryFields=this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord,this.props.Login.operation);}//console.log(\"master main\", this.props.Login.masterData);\n// let mandatoryFields = [];\nvar userInfo=this.props.Login.userInfo;var addId=this.state.controlMap.has(\"AddProjectMaster\")&&this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;var editId=this.state.controlMap.has(\"EditProjectMaster\")&&this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;var deleteId=this.state.controlMap.has(\"DeleteProjectMaster\")&&this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;var approveId=this.state.controlMap.has(\"ApproveProjectMaster\")&&this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;// const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\nvar retireId=this.state.controlMap.has(\"RetireProjectMaster\")&&this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;var closureId=this.state.controlMap.has(\"ClosureProjectMaster\")&&this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;// const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\nvar viewClosureFileId=this.state.controlMap.has(\"ViewProjectMasterClosureFile\")&&this.state.controlMap.get(\"ViewProjectMasterClosureFile\").ncontrolcode;var fieldsForGrid=[{\"idsName\":\"IDS_LOGINID\",\"dataField\":\"sloginid\",\"width\":\"200px\"},{\"idsName\":\"IDS_USER\",\"dataField\":\"steammembername\",\"width\":\"200px\"}];var SelectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedMaster=this.props.Login.masterData.SelectedProjectMaster;var selectedProjectMaster=this.props.Login.masterData.SelectedProjectMaster;var filterParam={inputListName:\"ProjectMaster\",selectedObject:\"SelectedProjectMaster\",primaryKeyField:\"nprojectmastercode\",fetchUrl:\"projectmaster/getActiveProjectMasterById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:this.searchFieldList};var breadCrumbData=this.state.filterData||[];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\"},breadCrumbData.length>0?/*#__PURE__*/React.createElement(Affix,{top:53},/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:breadCrumbData})):\"\",/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ListMaster,{screenName:this.props.intl.formatMessage({id:\"IDS_PROJECTMASTER\"}),masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,masterList:this.props.Login.masterData.searchedData||this.props.Login.masterData.ProjectMaster,getMasterDetail:function getMasterDetail(ProjectMasterdata){return _this2.props.getProjectMaster(ProjectMasterdata,_this2.props.Login.userInfo,_this2.props.Login.masterData);},selectedMaster:selectedProjectMaster,primaryKeyField:\"nprojectmastercode\",mainField:\"sprojecttitle\",firstField:\"sprojectcode\",secondField:\"sversionstatus\",filterColumnData:this.props.filterColumnData,filterParam:filterParam,userRoleControlRights:this.state.userRoleControlRights,addId:addId,searchRef:this.searchRef,reloadData:this.reloadData//     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\n,openModal:function openModal(){return _this2.props.addProjectMaster(\"create\",SelectedProjectMaster,userInfo,addId,_this2.state.selectedRecordfilter,_this2.props.Login.masterData.SelectedProjectType);},isMultiSelecct:false,hidePaging:false,isClearSearch:this.props.Login.isClearSearch,openFilter:this.openFilter,closeFilter:this.closeFilter,onFilterSubmit:this.onFilterSubmit,showFilterIcon:true,showFilter:this.props.Login.showFilter,filterComponent:[{\"IDS_PROJECTMASTERFILTER\":/*#__PURE__*/React.createElement(ProjectMasterFilter,{filterProjectType:this.state.ProjectMasterList||[],nfilterProjectType:this.props.Login.masterData.SelectedProjectType||{},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecordfilter||{}})}]})),/*#__PURE__*/React.createElement(Col,{md:8},selectedProjectMaster?/*#__PURE__*/React.createElement(ContentPanel,{className:\"panel-main-content\"},/*#__PURE__*/React.createElement(Card,{className:\"border-0\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(Card.Title,{className:\"product-title-main\"},selectedProjectMaster.sprojecttitle),/*#__PURE__*/React.createElement(Card.Subtitle,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex product-category\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"product-title-sub flex-grow-1\"},/*#__PURE__*/React.createElement(\"span\",{className:\"btn btn-outlined \".concat(versionStatusCSS,\" btn-sm ml-3\")},/*#__PURE__*/React.createElement(\"i\",{class:activeIconCSS}),selectedProjectMaster.sversionstatus)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-inline\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.props.addProjectMaster(\"update\",selectedProjectMaster,userInfo,editId,_this2.state.selectedRecordfilter,addProjectMaster);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",name:\"deletetestname\",\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})//   data-for=\"tooltip_list_wrap\"\n,hidden:this.state.userRoleControlRights.indexOf(deleteId)===-1,onClick:function onClick(){return _this2.ConfirmDelete(selectedProjectMaster,\"delete\",deleteId,\"ProjectMaster\");}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"approveProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(approveId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_APPROVE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.approveProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"approve\",approveId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faThumbsUp})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"ClosureProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(closureId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_CLOSE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.handleProjectMasterClosure(selectedProjectMaster);}},/*#__PURE__*/React.createElement(Closure,{className:\"custom_icons\",width:\"17\",height:\"20\"})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"retireProjectMaster\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(retireId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_RETIRE\"})//data-for=\"tooltip_list_wrap\"\n,onClick:function onClick(){return _this2.RetireProjectMaster(\"ProjectMaster\",selectedProjectMaster,\"retire\",retireId);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faUserTimes})))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"form-static-wrap\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTCODE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectcode))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTNAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectname))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_ROLE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.suserrolename))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_USER\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.susername))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_RFWDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_STARTDATE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate),\" \"))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDURATION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectduration))),/*#__PURE__*/React.createElement(Col,{md:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_PROJECTDESCRIPTION\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sprojectdescription)))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"horizontal-line\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_CLOSUREFILENAME\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sfilename))),/*#__PURE__*/React.createElement(Col,{md:\"1\"},/*#__PURE__*/React.createElement(Nav.Link,{name:\"ClosureProjectMasterFile\",className:\"btn btn-circle outline-grey mr-2\",hidden:this.state.userRoleControlRights.indexOf(viewClosureFileId)===-1?true:selectedProjectMaster.sfilename==='-'?true:false,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DOWNLOAD\"}),onClick:function onClick(){return _this2.viewProjectMasterClosureFile(selectedProjectMaster,userInfo);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faCloudDownloadAlt}))),/*#__PURE__*/React.createElement(Col,{md:\"5\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormLabel,null,this.props.intl.formatMessage({id:\"IDS_REASONFORCLOSURE\"})),/*#__PURE__*/React.createElement(ReadOnlyText,null,selectedProjectMaster.sclosureremarks)))),/*#__PURE__*/React.createElement(Card,{className:\"at-tabs border-0\"},/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(ProjectMasterTab,{primaryKeyField:\"nprojectmembercode\"// data={this.props.Login.masterData.ProjectMember}\n,data:this.state.data// dataResult={this.props.Login.masterData.ProjectMember}\n,dataResult:this.state.dataResult,masterData:this.props.Login.masterData,screenName:this.props.Login.screenName,operation:this.props.Login.operation,openChildModal:this.props.Login.openChildModal,crudMaster:this.props.crudMaster,errorCode:this.props.Login.errorCode,validateEsignCredential:this.props.validateEsignCredential,loadEsign:this.props.Login.loadEsign,showAccordian:this.state.showAccordian,selectedRecord:this.state.selectedRecord||{}// dataState={{skip: 0, take: 10}}\n// dataState={this.props.Login.dataState}\n,dataState:this.state.dataState,dataStateChange:this.dataStateChange,extractedColumnList:fieldsForGrid,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo//    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\n,getProjectmasterAddMemberService:this.props.getProjectmasterAddMemberService// --   fetchRecord={this.props.getPricingEditService}\n//--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\n,deleteRecord:this.deleteProjectMember//  deleteParam={{operation:\"delete\"}}\n,methodUrl:\"Teammembers\"// reloadData={this.reloadData}\n// --      addRecord = {() => this.openModal(addId)}\n,pageable:true,onTabChange:this.onTabChange,updateStore:this.props.updateStore,scrollable:'scrollable'// gridHeight = {'600px'}\n,isActionRequired:true,isToolBarRequired:false,selectedId:this.props.Login.selectedId,viewAttachment:this.props.viewAttachment,MembersList:this.props.Login.MembersList,onComboChange:this.onComboChange// File\n,addProjectMasterFile:this.props.addProjectMasterFile,esignRights:this.props.Login.userRoleControlRights,ntransactionstatus:selectedProjectMaster.ntransactionstatus//  selectedRecord={this.props.Login.selectedRecord}\n,onDropProjectMasterFile:this.onDropProjectMasterFile,onInputOnChange:this.onInputOnChange,screenData:this.props.Login.screenData,deleteAttachment:this.deleteAttachment,ncontrolCode:this.props.Login.ncontrolCode,linkMaster:this.props.Login.linkMaster}))))))):\"\"))),this.props.Login.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal//size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\n,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,onSaveClick:this.onSaveClick,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.mandatoryFields||[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_PROJECTMASTER\"?/*#__PURE__*/React.createElement(AddProjectMaster,{userInfo:this.props.Login.userInfo,selectedRecord:this.state.selectedRecord||{},ProjectType:this.props.Login.ProjectType,onInputOnChange:this.onInputOnChange,onComboChange:this.onComboChange// onNumericInputOnChange={this.onNumericInputOnChange}\n,onNumericInputChange:this.onNumericInputChange,handleDateChange:this.handleDateChange,Userrole:this.props.Login.Userrole,Users:this.props.Login.userList,TeamMembers:this.props.Login.TeamMembers,PeriodByControl:this.props.Login.PeriodByControl}):this.props.Login.screenName===\"IDS_CLOSUREFILE\"?/*#__PURE__*/React.createElement(ProjectMasterClosure,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,onDrop:this.onDropProjectMasterclosureFile,onDropAccepted:this.onDropAccepted,deleteAttachment:this.deleteAttachment,actionType:this.state.actionType,onComboChange:this.onComboChange,linkMaster:this.props.linkMaster,editFiles:this.props.editFiles,maxSize:20,maxFiles:1,multiple:false,label:this.props.intl.formatMessage({id:\"IDS_FILENAME\"}),name:\"projectmasterclosurefilename\"}):\"\"}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord,operation){var mandatoryFields=[];if(screenName===\"IDS_PROJECTMASTER\"){mandatoryFields=[{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"nprojecttypecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTTITLE\",\"dataField\":\"sprojecttitle\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PROJECTCODE\",\"dataField\":\"sprojectcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_PROJECTNAME\",\"dataField\":\"sprojectname\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ROLE\",\"dataField\":\"nuserrolecode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_INCHARGE\",\"dataField\":\"nusercode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_RFWDATE\",\"dataField\":\"drfwdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_STARTDATE\",\"dataField\":\"dprojectstartdate\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_PROJECTDURATION\",\"dataField\":\"nprojectduration\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_DURATIONPERIOD\",\"dataField\":\"nperiodcode\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else if(screenName===\"IDS_CLOSUREFILE\"){mandatoryFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_REASONFORCLOSURE\",\"dataField\":\"sclosureremarks\",\"width\":\"200px\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textarea\"}];mandatoryFields.forEach(function(item){return item.mandatory===true&&mandatoryFields.push(item);});return mandatoryFields;}else{return[];}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){var updateState=false;var _this$state=this.state,selectedRecord=_this$state.selectedRecord,selectedRecordfilter=_this$state.selectedRecordfilter,userRoleControlRights=_this$state.userRoleControlRights,controlMap=_this$state.controlMap,filterData=_this$state.filterData,nfilterProjectType=_this$state.nfilterProjectType,filterProjectType=_this$state.filterProjectType;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;updateState=true;this.setState({selectedRecord:selectedRecord,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);this.setState({controlMap:controlMap,userRoleControlRights:userRoleControlRights,data:this.props.Login.masterData.ProjectMember,dataResult:process(this.props.Login.masterData.ProjectMember||[],this.state.dataState)});//   updateState = true;\n}var nprojecttypecode=this.state.nfilterProjectType||{};if(this.props.Login.masterData!==previousProps.Login.masterData){nfilterProjectType=this.state.nfilterProjectType||{};var _filterProjectType=constructOptionList(this.props.Login.masterData.filterProjectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);var ProjectMasterList=_filterProjectType.get(\"OptionList\");nprojecttypecode=ProjectMasterList[0];selectedRecordfilter={nprojecttypecodevalue:nprojecttypecode};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({ProjectMasterList:ProjectMasterList,selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord,data:this.props.Login.masterData.ProjectMember,dataState:{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5},dataResult:process(this.props.Login.masterData.ProjectMember||[],{skip:0,take:this.props.Login.settings?parseInt(this.props.Login.settings[14]):5})});if(this.props.Login.masterData.SelectedProjectType&&this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){nfilterProjectType={label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType};}//  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\nfilterData=this.generateBreadCrumData();updateState=true;this.setState({filterData:filterData,selectedRecordfilter:selectedRecordfilter});}if(this.props.Login.masterData.SelectedProjectType!==previousProps.Login.masterData.SelectedProjectType){var nprojecttypecodevalue=this.props.Login.masterData.SelectedProjectType?{label:this.props.Login.masterData.SelectedProjectType.sprojecttypename,value:this.props.Login.masterData.SelectedProjectType.nprojecttypecode,item:this.props.Login.masterData.SelectedProjectType}:\"\";//  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\nselectedRecordfilter={nprojecttypecodevalue:nprojecttypecodevalue};selectedRecord={nprojecttypecodevalue:nprojecttypecode};// nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\nthis.setState({selectedRecordfilter:selectedRecordfilter,selectedRecord:selectedRecord});}// if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\n// }\n}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(){var breadCrumbData=[];if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectType){breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectType?this.props.Login.masterData.SelectedProjectType.sprojecttypename:\"NA\"});}else if(this.props.Login.masterData&&this.props.Login.masterData.SelectedProjectMaster){/*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.SelectedProjectMaster?this.props.Login.masterData.SelectedProjectMaster.sprojecttypename:\"NA\"});}else{/*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */breadCrumbData.push({label:\"IDS_PROJECTTYPE\",value:this.props.Login.masterData.nfilterProjectType?this.props.Login.masterData.nfilterProjectType.label:\"NA\"});}return breadCrumbData;}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}if(props.Login.selectedRecord===undefined){return{selectedRecord:{}};}return null;}}]);return ProjectMaster;}(Component);export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterColumnData:filterColumnData,updateStore:updateStore,validateEsignCredential:validateEsignCredential,changeProjectTypeFilter:changeProjectTypeFilter,viewAttachment:viewAttachment,addProjectMaster:addProjectMaster,getProjectMaster:getProjectMaster,getProjectmasterAddMemberService:getProjectmasterAddMemberService,addProjectMasterFile:addProjectMasterFile,getuserComboServices:getuserComboServices})(injectIntl(ProjectMaster));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/project/ProjectMaster.jsx"],"names":["React","Component","Row","Col","Card","Nav","FormGroup","FormLabel","connect","toast","FontAwesomeIcon","faTrashAlt","faPencilAlt","faThumbsUp","faUserTimes","faCloudDownloadAlt","injectIntl","callService","crudMaster","validateEsignCredential","updateStore","changeProjectTypeFilter","filterColumnData","viewAttachment","addProjectMaster","getProjectMaster","getProjectmasterAddMemberService","addProjectMasterFile","getuserComboServices","ListMaster","transactionStatus","AddProjectMaster","ProjectMasterTab","ProjectMasterClosure","DEFAULT_RETURN","SlideOutModal","Esign","showEsign","getControlMap","constructOptionList","formatInputDate","onDropAttachFileList","deleteAttachmentDropZone","create_UUID","rearrangeDateFormatDateOnly","Lims_JSON_stringify","ReadOnlyText","ContentPanel","process","ConfirmMessage","BreadcrumbComponent","Affix","ProjectMasterFilter","intl","mapStateToProps","state","Login","ProjectMaster","props","handleDateChange","dateName","dateValue","selectedRecord","setState","handleProjectMasterClosure","selectedProjectMaster","closureId","controlMap","has","get","ncontrolcode","ntransactionstatus","APPROVED","updateInfo","typeName","data","screenName","openModal","operation","ncontrolCode","warn","formatMessage","id","onInputOnChange","event","optional","target","type","name","checked","value","onSaveClick","saveType","formRef","projectMasterData","inputParam","userInfo","postParam","inputListName","selectedObject","primaryKeyField","masterData","SelectedProjectMaster","nprojectmastercode","sprojecttitle","sprojectcode","sprojectname","sprojectdescription","nprojectduration","nsitecode","nmastersitecode","undefined","parseInt","DRAFT","sfilename","sclosureremarks","NA","userinfo","ntimezonecode","classUrl","methodUrl","inputData","searchRef","isClearSearch","onSaveProjectMasterClosureFile","userRoleControlRights","nformcode","loadEsign","screenData","onNumericInputOnChange","validateEsign","sreason","nreasoncode","spredefinedreason","label","password","acceptedFiles","projectmasterclosureFile","projectmasterclosureFileArray","formData","FormData","tempData","Object","assign","Array","isArray","length","forEach","file","index","splittedFileName","split","fileExtension","uniquefilename","trim","nprojecttypecode","append","push","JSON","stringify","selectedId","isFileupload","DeleteProjectMaster","primaryKeyValue","fetchUrl","fecthInputObject","projectmaster","deleteAttachment","fieldName","actionType","viewProjectMasterClosureFile","projectmasterclosurefile","onComboChange","comboData","caseNo","nuserrolecode","nusercode","item","sdisplayname","primarykey","selectedRecordfilter","onDropProjectMasterFile","attachedFiles","maxSize","ACTIVE","DEACTIVE","YES","NO","deleteProjectMember","deleteParam","nprojectmembercode","openChildModal","onDropProjectMasterclosureFile","onNumericInputChange","console","log","test","approveProjectMaster","RetireProjectMaster","CLOSED","onTabChange","tabProps","onDropTestFile","dataStateChange","dataResult","dataState","ConfirmDelete","deleteId","confirmMessage","confirm","reloadData","current","SelectedProjectType","values","nfilterProjectType","filterProjectType","closeModal","openFilter","showFilter","closeFilter","onFilterSubmit","nprojecttypecodevalue","skip","take","settings","error","Map","Instrument","createRef","searchFieldList","versionStatusCSS","activeIconCSS","RETIRED","mandatoryFields","findMandatoryFields","addId","editId","approveId","retireId","viewClosureFileId","fieldsForGrid","selectedMaster","filterParam","breadCrumbData","filterData","searchedData","ProjectMasterdata","ProjectMasterList","sversionstatus","indexOf","suserrolename","susername","srfwdate","sprojectstartdate","sprojectduration","errorCode","showAccordian","MembersList","linkMaster","ProjectType","Userrole","userList","TeamMembers","PeriodByControl","onDropAccepted","editFiles","mandatory","previousProps","updateState","map","ProjectMember","sprojecttypename","generateBreadCrumData","masterStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt, faPencilAlt, faThumbsUp, faUserTimes,faCloudDownloadAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { injectIntl } from \"react-intl\";\r\nimport {\r\n  callService, crudMaster, validateEsignCredential, updateStore, changeProjectTypeFilter, filterColumnData,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n} from \"../../actions\";\r\n\r\nimport ListMaster from \"../../components/list-master/list-master.component\";\r\nimport { transactionStatus } from \"../../components/Enumeration\";\r\nimport AddProjectMaster from \"../../pages/project/AddProjectMaster\";\r\nimport ProjectMasterTab from \"../../pages/project/ProjectMasterTab\";\r\nimport ProjectMasterClosure from \"../../pages/project/ProjectMasterClosure\";\r\nimport { DEFAULT_RETURN } from \"../../actions/LoginTypes\";\r\nimport SlideOutModal from \"../../components/slide-out-modal/SlideOutModal\";\r\n\r\nimport Esign from \"../audittrail/Esign\";\r\nimport { showEsign, getControlMap, constructOptionList, formatInputDate, onDropAttachFileList, deleteAttachmentDropZone, create_UUID, rearrangeDateFormatDateOnly, Lims_JSON_stringify }\r\n  from \"../../components/CommonScript\";\r\nimport { ReadOnlyText, ContentPanel } from \"../../components/App.styles\";\r\nimport { process } from \"@progress/kendo-data-query\";\r\nimport ConfirmMessage from \"../../components/confirm-alert/confirm-message.component\";\r\nimport BreadcrumbComponent from \"../../components/Breadcrumb.Component\";\r\nimport { Affix } from \"rsuite\";\r\nimport ProjectMasterFilter from './ProjectMasterFilter';\r\nimport { ReactComponent as Closure } from '../../assets/image/cancel-close-svgrepo-com.svg';\r\nimport { intl } from \"../../components/App\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { Login: state.Login };\r\n};\r\n\r\nclass ProjectMaster extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const dataState = {\r\n      skip: 0,\r\n      take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,\r\n  };\r\n    this.state = {\r\n      selectedRecord: {},\r\n      error: \"\",\r\n      userRoleControlRights: [],\r\n      selectedProjectMaster: undefined,\r\n      controlMap: new Map(),\r\n      Instrument: [],\r\n      dataState,\r\n    };\r\n    this.searchRef = React.createRef();\r\n    this.searchFieldList = [\"sprojectcode\",\"sprojectname\", \"sprojecttitle\",\"suserrolename\", \"susername\", \"srfwdate\", \"sprojectstartdate\", \"sprojectdescription\", \"sversionstatus\", \"sfilename\", \"sclosureremarks\", \"sprojectduration\"]\r\n    this.confirmMessage = new ConfirmMessage();\r\n  }\r\n\r\n  handleDateChange = (dateName, dateValue) => {\r\n    const { selectedRecord } = this.state;\r\n    selectedRecord[dateName] = dateValue;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  handleProjectMasterClosure = (selectedProjectMaster) => {\r\n\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n  //  const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          screenName: \"IDS_CLOSUREFILE\",\r\n          openModal: true,\r\n          operation: \"create\",\r\n          ncontrolCode :closureId\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n\r\n      toast.warn(intl.formatMessage({ id: \"IDS_SELECTAPPROVEVERSION\" }));\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === \"checkbox\") {\r\n      selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n    } else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    } else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n\r\n  onSaveClick = (saveType, formRef) => {\r\n\r\n    let projectMasterData = [];\r\n    let inputParam = {};\r\n    projectMasterData[\"userinfo\"] = this.props.Login.userInfo;\r\n    \r\n  \r\n    let postParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      \r\n    };\r\n\r\n    if ((this.props.Login.operation === \"update\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      postParam[\"primaryKeyValue\"] =\r\n        this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n        nprojectmastercode: this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode,\r\n        //     nprojecttypecode:this.state.selectedRecord.nprojecttypecode.value,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectname: this.state.selectedRecord.sprojectname,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription,\r\n        // drfwdate: formatInputDate(this.state.selectedRecord[\"drfwdate\"],false),\r\n        // dprojectstartdate: formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false),\r\n        //     nstudydirectorcode:this.state.selectedRecord.nstudydirectorcode.value,\r\n        //     nteammembercode: this.state.selectedRecord.nteammembercode.value,\r\n        //     nperiodcode: this.state.selectedRecord.nperiodcode.value,\r\n        nprojectduration: this.state.selectedRecord.nprojectduration,\r\n        ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n\r\n      };\r\n\r\n    } else if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"] = {\r\n\r\n        nsitecode: this.props.Login.userInfo.nmastersitecode,\r\n        sprojecttitle: this.state.selectedRecord.sprojecttitle,\r\n        sprojectname: this.state.selectedRecord.sprojectname,\r\n        sprojectcode: this.state.selectedRecord.sprojectcode,\r\n        sprojectdescription: this.state.selectedRecord.sprojectdescription === undefined ? \"\" : this.state.selectedRecord.sprojectdescription,\r\n        nprojectduration: parseInt(this.state.selectedRecord.nprojectduration),\r\n        //  ntransactionstatus: this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus\r\n        ntransactionstatus: transactionStatus.DRAFT,\r\n        sfilename: this.state.selectedRecord.sfilename === undefined ? \"\" : this.state.selectedRecord.sfilename,\r\n        sclosureremarks: this.state.selectedRecord.sclosureremarks === undefined ? \"\" : this.state.selectedRecord.sclosureremarks\r\n      };\r\n\r\n      /*     this.projectMasterFieldList.map((item) => {\r\n             return (projectMasterData[\"projectMaster\"][item] = this.state.selectedRecord[item] == \"\" || this.state.selectedRecord[item] == undefined ?\r\n             undefined :this.state.selectedRecord[item]);\r\n           }); */\r\n    }\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      projectMasterData[\"projectMaster\"][\"nprojecttypecode\"] = this.state.selectedRecord[\"nprojecttypecode\"] ? this.state.selectedRecord[\"nprojecttypecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nuserrolecode\"] = this.state.selectedRecord[\"nuserrolecode\"] ? this.state.selectedRecord[\"nuserrolecode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"] ? this.state.selectedRecord[\"nusercode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // projectMasterData[\"projectMaster\"][\"nteammembercode\"] = this.state.selectedRecord[\"nteammembercode\"] ? this.state.selectedRecord[\"nteammembercode\"].value\r\n      //   : transactionStatus.NA;\r\n\r\n      projectMasterData[\"projectMaster\"][\"nperiodcode\"] = this.state.selectedRecord[\"nperiodcode\"] ? this.state.selectedRecord[\"nperiodcode\"].value\r\n        : transactionStatus.NA;\r\n\r\n      // if (this.state.selectedRecord[\"drfwdate\"] || this.state.selectedRecord[\"dprojectstartdate\"]) {\r\n      //   if (this.props.Login.operation === \"create\") {\r\n\r\n      projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"], false);\r\n      projectMasterData[\"projectMaster\"][\"ntzrfwdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n      projectMasterData[\"projectMaster\"][\"ntzprojectstartdate\"] =  projectMasterData.userinfo.ntimezonecode ? projectMasterData.userinfo.ntimezonecode : \"-1\";\r\n\r\n      //   }\r\n      //   else {\r\n\r\n      //     projectMasterData[\"projectMaster\"][\"drfwdate\"] = formatInputDate(this.state.selectedRecord[\"drfwdate\"],false);\r\n      //     projectMasterData[\"projectMaster\"][\"dprojectstartdate\"] = formatInputDate(this.state.selectedRecord[\"dprojectstartdate\"],false);\r\n\r\n      //   }\r\n      // }\r\n    }\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_ADDMEMBERS\")) {\r\n      projectMasterData[\"ProjectMember\"] = {};\r\n      projectMasterData[\"ProjectMember\"][\"nusercode\"] = this.state.selectedRecord[\"nusercode\"][0] ? this.state.selectedRecord[\"nusercode\"][0].value\r\n        : transactionStatus.NA;\r\n      projectMasterData[\"ProjectMember\"][\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n    }\r\n\r\n\r\n\r\n    if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMaster\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      };\r\n    }/* else if (((this.props.Login.operation === \"create\") || (this.props.Login.operation === \"update\")) && (this.props.Login.screenName === \"IDS_PROJECTMASTER\")) {\r\n\r\n      inputParam = {\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMember\",\r\n        inputData: projectMasterData,\r\n        operation: this.props.Login.operation,\r\n        saveType,\r\n        formRef,\r\n        postParam,\r\n        searchRef: this.searchRef,\r\n        isClearSearch: this.props.Login.isClearSearch,\r\n      }\r\n    } */\r\n\r\n    if ((this.props.Login.operation === \"create\") && (this.props.Login.screenName === \"IDS_CLOSUREFILE\")) {\r\n\r\n      inputParam = this.onSaveProjectMasterClosureFile(saveType, formRef);\r\n\r\n    }\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          saveType,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n\r\n  };\r\n\r\n  onNumericInputOnChange = (value, name) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[name] = value;\r\n    this.setState({ selectedRecord });\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.Login.masterStatus !== \"\") {\r\n      if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n        toast.warn(props.Login.masterStatus);\r\n        props.Login.masterStatus = \"\";\r\n      }\r\n    }\r\n    if (props.Login.error !== state.error) {\r\n      toast.error(props.Login.error);\r\n      props.Login.error = \"\";\r\n    }\r\n    if (props.Login.selectedRecord === undefined) {\r\n      return { selectedRecord: {} };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  validateEsign = () => {\r\n    const inputParam = {\r\n        inputData: {\r\n            \"userinfo\": {\r\n                ...this.props.Login.userInfo,\r\n                sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n            },\r\n            password: this.state.selectedRecord[\"esignpassword\"]\r\n        },\r\n        screenData: this.props.Login.screenData\r\n    }\r\n    this.props.validateEsignCredential(inputParam, \"openModal\");\r\n}\r\n\r\n\r\n  onSaveProjectMasterClosureFile = (saveType, formRef) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord;\r\n    const acceptedFiles = selectedRecord.sfilename;\r\n\r\n    let projectmasterclosureFile = {};\r\n    let projectmasterclosureFileArray = [];\r\n    const formData = new FormData();\r\n    const tempData = Object.assign({}, projectmasterclosureFile);\r\n\r\n\r\n    if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n      acceptedFiles.forEach((file, index) => {\r\n\r\n        const splittedFileName = file.name.split('.');\r\n        const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n        const uniquefilename = create_UUID() + '.' + fileExtension;\r\n        tempData[\"sclosureremarks\"] =Lims_JSON_stringify(selectedRecord.sclosureremarks ? selectedRecord.sclosureremarks.trim() : \"\",false)  ;\r\n        tempData[\"ssystemfilename\"] = uniquefilename;\r\n        \r\n        tempData[\"sfilename\"] =Lims_JSON_stringify(file.name,false) ;\r\n        tempData[\"nprojectmastercode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojectmastercode;\r\n        tempData[\"ntransactionstatus\"] = this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus;\r\n        tempData[\"nprojecttypecode\"] = this.props.Login.masterData.SelectedProjectMaster.nprojecttypecode;\r\n        tempData[\"sprojecttitle\"] =Lims_JSON_stringify(this.props.Login.masterData.SelectedProjectMaster.sprojecttitle,false)  ;\r\n        tempData[\"sprojectcode\"] =Lims_JSON_stringify(this.props.Login.masterData.SelectedProjectMaster.sprojectcode,false)  ;\r\n        formData.append(\"uploadedFile\" + index, file);\r\n        formData.append(\"uniquefilename\" + index, uniquefilename);\r\n        projectmasterclosureFileArray.push(tempData);\r\n\r\n      });\r\n    }\r\n\r\n    formData.append(\"projectmaster\", JSON.stringify(projectmasterclosureFileArray[0]));\r\n    formData.append(\"filecount\", acceptedFiles.length);\r\n    \r\n\r\n    let selectedId = null;\r\n    let postParam = undefined;\r\n\r\n    if (this.props.Login.operation === \"create\") {\r\n      // edit\r\n      postParam = { inputListName: \"ProjectMaster\", selectedObject: \"SelectedProjectMaster\", primaryKeyField: \"nprojectmastercode\" };\r\n      selectedId = selectedRecord[\"nprojectmastercode\"];\r\n    }\r\n    const inputParam = {\r\n      inputData: { userinfo: this.props.Login.userInfo },\r\n      formData: formData,\r\n      isFileupload: true,\r\n      operation: this.props.Login.operation,\r\n      classUrl: \"projectmaster\",\r\n      saveType, formRef, methodUrl: \"ProjectMasterClosureFile\", postParam,\r\n      searchRef: this.searchRef\r\n    }\r\n\r\n    return inputParam;\r\n  }\r\n\r\n  DeleteProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    const postParam = {\r\n      inputListName: \"ProjectMasterList\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n      fetchUrl: \"projectmaster/getActiveProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n    };\r\n\r\n    const inputParam = {\r\n      classUrl: this.props.Login.inputParam.classUrl,\r\n      methodUrl,\r\n      postParam,\r\n      inputData: {\r\n        userinfo: this.props.Login.userInfo,\r\n        projectmaster: selectedProjectMaster,\r\n      },\r\n      operation,\r\n      isClearSearch: this.props.Login.isClearSearch,\r\n    };\r\n\r\n    const masterData = this.props.Login.masterData;\r\n\r\n    if (\r\n      showEsign(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode,\r\n        ncontrolCode\r\n      )\r\n    ) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true,\r\n          screenData: { inputParam, masterData },\r\n          openModal: true,\r\n          screenName: \"IDS_PROJECTMASTER\",\r\n          operation,\r\n        },\r\n      };\r\n      this.props.updateStore(updateInfo);\r\n    } else {\r\n      this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n    }\r\n  };\r\n\r\n  deleteAttachment = (event, file, fieldName) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = deleteAttachmentDropZone(\r\n      selectedRecord[fieldName],\r\n      file\r\n    );\r\n\r\n    this.setState({\r\n      selectedRecord,\r\n      actionType: \"delete\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n\r\n\r\n    let versionStatusCSS = \"outline-secondary\";\r\n    let activeIconCSS = \"fa fa-check\"\r\n\r\n\r\n    if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.APPROVED) {\r\n      versionStatusCSS = \"outline-success\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && ((this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.RETIRED) || (this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED))) {\r\n      versionStatusCSS = \"outline-danger\";\r\n      activeIconCSS = \"\";\r\n    }\r\n    else if (this.props.Login.masterData.SelectedProjectMaster && this.props.Login.masterData.SelectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n      activeIconCSS = \"\";\r\n\r\n    }\r\n\r\n    if (this.props.Login.openModal) {\r\n      this.mandatoryFields = this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord, this.props.Login.operation)\r\n    }\r\n\r\n    //console.log(\"master main\", this.props.Login.masterData);\r\n    // let mandatoryFields = [];\r\n    const { userInfo } = this.props.Login;\r\n    const addId = this.state.controlMap.has(\"AddProjectMaster\") && this.state.controlMap.get(\"AddProjectMaster\").ncontrolcode;\r\n    const editId = this.state.controlMap.has(\"EditProjectMaster\") && this.state.controlMap.get(\"EditProjectMaster\").ncontrolcode;\r\n    const deleteId = this.state.controlMap.has(\"DeleteProjectMaster\") && this.state.controlMap.get(\"DeleteProjectMaster\").ncontrolcode;\r\n    const approveId = this.state.controlMap.has(\"ApproveProjectMaster\") && this.state.controlMap.get(\"ApproveProjectMaster\").ncontrolcode;\r\n    // const addteammembersId = this.state.controlMap.has(\"AddTeamMembers\") && this.state.controlMap.get(\"AddTeamMembers\").ncontrolcode;\r\n    const retireId = this.state.controlMap.has(\"RetireProjectMaster\") && this.state.controlMap.get(\"RetireProjectMaster\").ncontrolcode;\r\n    const closureId = this.state.controlMap.has(\"ClosureProjectMaster\") && this.state.controlMap.get(\"ClosureProjectMaster\").ncontrolcode;\r\n    // const deleteteammembersId = this.state.controlMap.has(\"DeleteTeammembers\") && this.state.controlMap.get(\"DeleteTeammembers\").ncontrolcode;\r\n\r\n    const viewClosureFileId = this.state.controlMap.has(\"ViewProjectMasterClosureFile\") && this.state.controlMap.get(\"ViewProjectMasterClosureFile\").ncontrolcode;\r\n\r\n\r\n    const fieldsForGrid = [\r\n\r\n      { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"width\": \"200px\" },\r\n      { \"idsName\": \"IDS_USER\", \"dataField\": \"steammembername\", \"width\": \"200px\" }\r\n\r\n    ]\r\n\r\n\r\n    const { SelectedProjectMaster } = this.props.Login.masterData;\r\n    const selectedMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n    const selectedProjectMaster = this.props.Login.masterData.SelectedProjectMaster;\r\n\r\n    const filterParam = {\r\n      inputListName: \"ProjectMaster\",\r\n      selectedObject: \"SelectedProjectMaster\",\r\n      primaryKeyField: \"nprojectmastercode\",\r\n      fetchUrl: \"projectmaster/getActiveProjectMasterById\",\r\n      fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      masterData: this.props.Login.masterData,\r\n      searchFieldList: this.searchFieldList,\r\n    };\r\n    const breadCrumbData = this.state.filterData || [];\r\n    return (\r\n      <>\r\n        <div className=\"client-listing-wrap mtop-fixed-breadcrumb fixed_breadcrumd\">\r\n          {breadCrumbData.length > 0 ? (\r\n            <Affix top={53}>\r\n              <BreadcrumbComponent breadCrumbItem={breadCrumbData} />\r\n            </Affix>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Row noGutters={true}>\r\n            <Col md={4}>\r\n              <ListMaster\r\n                screenName={this.props.intl.formatMessage({ id: \"IDS_PROJECTMASTER\" })}\r\n                masterData={this.props.Login.masterData}\r\n                userInfo={this.props.Login.userInfo}\r\n                masterList={this.props.Login.masterData.searchedData || this.props.Login.masterData.ProjectMaster}\r\n                getMasterDetail={(ProjectMasterdata) => this.props.getProjectMaster(ProjectMasterdata, this.props.Login.userInfo, this.props.Login.masterData)}\r\n                selectedMaster={selectedProjectMaster}\r\n                primaryKeyField=\"nprojectmastercode\"\r\n                mainField=\"sprojecttitle\"\r\n                firstField=\"sprojectcode\"\r\n                secondField=\"sversionstatus\"\r\n                filterColumnData={this.props.filterColumnData}\r\n                filterParam={filterParam}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                addId={addId}\r\n                searchRef={this.searchRef}\r\n                reloadData={this.reloadData}\r\n                //     openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.ProjectMasterList)}\r\n                openModal={() => this.props.addProjectMaster(\"create\", SelectedProjectMaster, userInfo, addId, this.state.selectedRecordfilter, this.props.Login.masterData.SelectedProjectType)}\r\n                isMultiSelecct={false}\r\n                hidePaging={false}\r\n                isClearSearch={this.props.Login.isClearSearch}\r\n\r\n                openFilter={this.openFilter}\r\n                closeFilter={this.closeFilter}\r\n                onFilterSubmit={this.onFilterSubmit}\r\n                showFilterIcon={true}\r\n                showFilter={this.props.Login.showFilter}\r\n                filterComponent={[\r\n                  {\r\n                    \"IDS_PROJECTMASTERFILTER\":\r\n                      <ProjectMasterFilter\r\n                        filterProjectType={this.state.ProjectMasterList || []}\r\n                        nfilterProjectType={this.props.Login.masterData.SelectedProjectType || {}}\r\n                        onComboChange={this.onComboChange}\r\n                        selectedRecord={this.state.selectedRecordfilter || {}}\r\n                      />\r\n                  }\r\n                ]}\r\n\r\n              />\r\n            </Col>\r\n            <Col md={8}>\r\n              {selectedProjectMaster ?\r\n                <ContentPanel className=\"panel-main-content\">\r\n                  <Card className=\"border-0\">\r\n                    <Card.Header>\r\n                      {/* <ReactTooltip place=\"bottom\" globalEventOff='click' /> */}\r\n                      <Card.Title className=\"product-title-main\">\r\n                        {selectedProjectMaster.sprojecttitle}\r\n                      </Card.Title>\r\n                      <Card.Subtitle>\r\n                        <div className=\"d-flex product-category\">\r\n                          <h2 className=\"product-title-sub flex-grow-1\">\r\n\r\n                            <span className={`btn btn-outlined ${versionStatusCSS} btn-sm ml-3`}>\r\n                              <i class={activeIconCSS}></i>\r\n                              {selectedProjectMaster.sversionstatus}\r\n\r\n                            </span>\r\n                          </h2>\r\n                          {/* </Col>\r\n                                                <Col md=\"4\"> */}\r\n                          {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                          <div className=\"d-inline\">\r\n                            {/* Don't delete these commented lines because additional info feature is needed for Agaram LIMS */}\r\n                            {/* Start Here */}\r\n                            {/* <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"\" >  \r\n                                                            <FontAwesomeIcon icon={faEye} className=\"ActionIconColor\" onClick={(e)=>this.viewAdditionalInfo(e)} />\r\n                                                        </Nav.Link> */}\r\n                            {/* End Here */}\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2\" name=\"edittestname\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(editId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.props.addProjectMaster(\"update\", selectedProjectMaster, userInfo, editId, this.state.selectedRecordfilter, addProjectMaster)}>\r\n                              <FontAwesomeIcon icon={faPencilAlt} />\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" name=\"deletetestname\"\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                              //   data-for=\"tooltip_list_wrap\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(deleteId) === -1}\r\n                              onClick={() => this.ConfirmDelete(selectedProjectMaster, \"delete\", deleteId, \"ProjectMaster\")}\r\n                            >\r\n                              <FontAwesomeIcon icon={faTrashAlt} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"approveProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(approveId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_APPROVE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.approveProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"approve\", approveId)}>\r\n                              <FontAwesomeIcon icon={faThumbsUp} />\r\n                            </Nav.Link>\r\n                            <Nav.Link name=\"ClosureProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(closureId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_CLOSE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.handleProjectMasterClosure(selectedProjectMaster)}>\r\n                              {/* <FontAwesomeIcon icon={faWindowClose} /> */}\r\n                              <Closure className=\"custom_icons\" width=\"17\" height=\"20\" />\r\n                            </Nav.Link>\r\n\r\n                            <Nav.Link name=\"retireProjectMaster\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={this.state.userRoleControlRights.indexOf(retireId) === -1}\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_RETIRE\" })}\r\n                              //data-for=\"tooltip_list_wrap\"\r\n                              onClick={() => this.RetireProjectMaster(\"ProjectMaster\", selectedProjectMaster, \"retire\", retireId)}\r\n                            >\r\n                              <FontAwesomeIcon icon={faUserTimes} />\r\n                            </Nav.Link>\r\n\r\n                          </div>\r\n                          {/* </Tooltip> */}\r\n                        </div>\r\n                        {/* </Col>\r\n                                            </Row> */}\r\n                      </Card.Subtitle>\r\n                    </Card.Header>\r\n                    <Card.Body className=\"form-static-wrap\">\r\n                      <Row>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTCODE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectcode}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTNAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_ROLE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.suserrolename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_USER\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.susername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_TEAMMEMBERS\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.steammembername}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col> */}\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_RFWDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.srfwdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_STARTDATE\" })}</FormLabel>\r\n                            <ReadOnlyText>{rearrangeDateFormatDateOnly(this.props.Login.userInfo,selectedProjectMaster.sprojectstartdate)} </ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDURATION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectduration}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n                        {/* <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_DURATIONPERIOD\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.speriodname}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>  */}\r\n\r\n                        <Col md=\"4\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_PROJECTDESCRIPTION\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sprojectdescription}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row>\r\n                      <Col md={12}>\r\n                        <div className=\"horizontal-line\"></div>\r\n                      </Col>\r\n\r\n                      <Row>\r\n\r\n                        <Col md=\"6\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_CLOSUREFILENAME\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sfilename}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                        <Col md=\"1\"> \r\n                          <Nav.Link name=\"ClosureProjectMasterFile\" className=\"btn btn-circle outline-grey mr-2\"\r\n                              hidden={(this.state.userRoleControlRights.indexOf(viewClosureFileId) === -1) ? true : selectedProjectMaster.sfilename === '-' ? true : false }\r\n                              data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOAD\" })}\r\n                              onClick={() => this.viewProjectMasterClosureFile(selectedProjectMaster, userInfo)}>\r\n                              <FontAwesomeIcon icon={faCloudDownloadAlt} />\r\n                            </Nav.Link> \r\n                       </Col> \r\n\r\n                        <Col md=\"5\">\r\n                          <FormGroup>\r\n                            <FormLabel>{this.props.intl.formatMessage({ id: \"IDS_REASONFORCLOSURE\" })}</FormLabel>\r\n                            <ReadOnlyText>{selectedProjectMaster.sclosureremarks}</ReadOnlyText>\r\n                          </FormGroup>\r\n                        </Col>\r\n\r\n                      </Row>\r\n                      <Card className=\"at-tabs border-0\">\r\n                        <Row noGutters>\r\n                          <Col md={12}>\r\n                            <ProjectMasterTab\r\n                              primaryKeyField={\"nprojectmembercode\"}\r\n                              // data={this.props.Login.masterData.ProjectMember}\r\n                              data={this.state.data}\r\n                              // dataResult={this.props.Login.masterData.ProjectMember}\r\n                              dataResult={this.state.dataResult}\r\n                              masterData={this.props.Login.masterData}\r\n                              screenName={this.props.Login.screenName}\r\n                              operation={this.props.Login.operation}\r\n                              openChildModal={this.props.Login.openChildModal}\r\n                              crudMaster={this.props.crudMaster}\r\n                              errorCode={this.props.Login.errorCode}\r\n                              validateEsignCredential={this.props.validateEsignCredential}\r\n                              loadEsign={this.props.Login.loadEsign}\r\n                              showAccordian={this.state.showAccordian}\r\n                              selectedRecord={this.state.selectedRecord || {}}\r\n                              // dataState={{skip: 0, take: 10}}\r\n                              // dataState={this.props.Login.dataState}\r\n                              dataState={this.state.dataState}\r\n                              dataStateChange={this.dataStateChange}\r\n                              extractedColumnList={fieldsForGrid}\r\n                              controlMap={this.state.controlMap}\r\n                              userRoleControlRights={this.state.userRoleControlRights}\r\n                              inputParam={this.props.Login.inputParam}\r\n                              userInfo={this.props.Login.userInfo}\r\n                              //    getProjectmasterAddMemberService={(this.props.Login.screenName,this.props.Login.operation,this.props.getProjectmasterAddMemberService,this.props.Login.userInfo,this.props.Login.ncontrolCode)}\r\n                              getProjectmasterAddMemberService={this.props.getProjectmasterAddMemberService}\r\n                              // --   fetchRecord={this.props.getPricingEditService}\r\n                              //--       editParam={{...editTestPriceParam, \"updateType\":\"Single\", priceDataState:this.state.priceDataState}}\r\n                              deleteRecord={this.deleteProjectMember}\r\n                              //  deleteParam={{operation:\"delete\"}}\r\n                              methodUrl={\"Teammembers\"}\r\n                              // reloadData={this.reloadData}\r\n                              // --      addRecord = {() => this.openModal(addId)}\r\n                              pageable={true}\r\n                              onTabChange={this.onTabChange}\r\n                              updateStore={this.props.updateStore}\r\n                              scrollable={'scrollable'}\r\n                              // gridHeight = {'600px'}\r\n                              isActionRequired={true}\r\n                              isToolBarRequired={false}\r\n                              selectedId={this.props.Login.selectedId}\r\n                              viewAttachment={this.props.viewAttachment}\r\n                              MembersList={this.props.Login.MembersList}\r\n                              onComboChange={this.onComboChange}\r\n                              // File\r\n                              addProjectMasterFile={this.props.addProjectMasterFile}\r\n                              esignRights={this.props.Login.userRoleControlRights}\r\n                              ntransactionstatus={selectedProjectMaster.ntransactionstatus}\r\n                              //  selectedRecord={this.props.Login.selectedRecord}\r\n                              onDropProjectMasterFile={this.onDropProjectMasterFile}\r\n                              onInputOnChange={this.onInputOnChange}\r\n                              screenData={this.props.Login.screenData}\r\n                              deleteAttachment={this.deleteAttachment}\r\n                              ncontrolCode={this.props.Login.ncontrolCode}\r\n                              linkMaster= {this.props.Login.linkMaster}\r\n                            />\r\n                          </Col>\r\n                        </Row>\r\n                      </Card>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </ContentPanel>\r\n                : \"\"\r\n              }\r\n            </Col>\r\n          </Row>\r\n\r\n\r\n        </div>\r\n        {/* End of get display */}\r\n\r\n        {/* Start of Modal Sideout for Test Creation */}\r\n        {this.props.Login.openModal &&\r\n          <SlideOutModal\r\n            show={this.props.Login.openModal}\r\n            //size={this.props.Login.operation===\"create\" ? \"xl\" : \"lg\" }\r\n            closeModal={this.closeModal}\r\n            operation={this.props.Login.operation}\r\n            inputParam={this.props.Login.inputParam}\r\n            screenName={this.props.Login.screenName}\r\n            onSaveClick={this.onSaveClick}\r\n            esign={this.props.Login.loadEsign}\r\n            validateEsign={this.validateEsign}\r\n            selectedRecord={this.state.selectedRecord || {}}\r\n            mandatoryFields={this.mandatoryFields || []}\r\n            addComponent={this.props.Login.loadEsign ?\r\n              <Esign\r\n                operation={this.props.Login.operation}\r\n                onInputOnChange={this.onInputOnChange}\r\n                inputParam={this.props.Login.inputParam}\r\n                selectedRecord={this.state.selectedRecord || {}}\r\n              />\r\n              : (this.props.Login.screenName === \"IDS_PROJECTMASTER\") ?\r\n\r\n                <AddProjectMaster\r\n\r\n                  userInfo={this.props.Login.userInfo}\r\n                  selectedRecord={this.state.selectedRecord || {}}\r\n                  ProjectType={this.props.Login.ProjectType}\r\n                  onInputOnChange={this.onInputOnChange}\r\n                  onComboChange={this.onComboChange}\r\n                  // onNumericInputOnChange={this.onNumericInputOnChange}\r\n                  onNumericInputChange={this.onNumericInputChange}\r\n\r\n                  handleDateChange={this.handleDateChange}\r\n                  Userrole={this.props.Login.Userrole}\r\n                  Users={this.props.Login.userList}\r\n                  TeamMembers={this.props.Login.TeamMembers}\r\n                  PeriodByControl={this.props.Login.PeriodByControl}\r\n                /> :\r\n\r\n                this.props.Login.screenName === \"IDS_CLOSUREFILE\" ?\r\n\r\n                  <ProjectMasterClosure\r\n\r\n                    selectedRecord={this.state.selectedRecord || {}}\r\n                    onInputOnChange={this.onInputOnChange}\r\n                    onDrop={this.onDropProjectMasterclosureFile}\r\n                    onDropAccepted={this.onDropAccepted}\r\n                    deleteAttachment={this.deleteAttachment}\r\n                    actionType={this.state.actionType}\r\n                    onComboChange={this.onComboChange}\r\n                    linkMaster={this.props.linkMaster}\r\n                    editFiles={this.props.editFiles}\r\n                    maxSize={20}\r\n                    maxFiles={1}\r\n                    multiple={false}\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_FILENAME\" })}\r\n                    name=\"projectmasterclosurefilename\"\r\n\r\n                  ></ProjectMasterClosure> : \"\"\r\n\r\n            }\r\n          />\r\n        }\r\n        {/* End of Modal Sideout for Test Creation */}\r\n      </>\r\n    );\r\n  }\r\n\r\n  viewProjectMasterClosureFile = (selectedProjectMaster, userInfo) => {\r\n    const inputParam = {\r\n        inputData: {\r\n            projectmasterclosurefile: selectedProjectMaster,\r\n            userinfo: userInfo\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        operation: \"view\",\r\n        methodUrl: \"AttachedProjectMasterClosureFile\",\r\n        screenName: \"ProjectMaster Closure File\"\r\n    }\r\n    this.props.viewAttachment(inputParam);\r\n}\r\n\r\n  findMandatoryFields(screenName, selectedRecord, operation) {\r\n    let mandatoryFields = [];\r\n    if (screenName === \"IDS_PROJECTMASTER\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"nprojecttypecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTTITLE\", \"dataField\": \"sprojecttitle\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_PROJECTCODE\", \"dataField\": \"sprojectcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_PROJECTNAME\", \"dataField\": \"sprojectname\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nuserrolecode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_INCHARGE\", \"dataField\": \"nusercode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_RFWDATE\", \"dataField\": \"drfwdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_STARTDATE\", \"dataField\": \"dprojectstartdate\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n        { \"idsName\": \"IDS_PROJECTDURATION\", \"dataField\": \"nprojectduration\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n        { \"idsName\": \"IDS_DURATIONPERIOD\", \"dataField\": \"nperiodcode\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" },\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n\r\n    } else if (screenName === \"IDS_CLOSUREFILE\") {\r\n\r\n      mandatoryFields = [\r\n        { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n        { \"idsName\": \"IDS_REASONFORCLOSURE\", \"dataField\": \"sclosureremarks\", \"width\": \"200px\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textarea\" },\r\n\r\n      ]\r\n\r\n      mandatoryFields.forEach(item => item.mandatory === true && mandatoryFields.push(item));\r\n      return mandatoryFields;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  onComboChange = (comboData, fieldName, caseNo) => {\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    switch (caseNo) {\r\n      case 1:\r\n        // const selectedRecord = this.state.selectedRecord || {};\r\n        if (selectedRecord.nuserrolecode) {\r\n          if (parseInt(comboData.value) !== parseInt(selectedRecord.nuserrolecode.value)) {\r\n            // selectedRecord.nusercode={};\r\n            delete (selectedRecord.nusercode);\r\n          }\r\n        }\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        selectedRecord[\"suserrolename\"] = comboData.item[\"suserrolename\"];\r\n        this.props.getuserComboServices({\r\n\r\n          inputData: {\r\n            userinfo: this.props.Login.userInfo,\r\n            sdisplayname: selectedRecord.nuserrolecode.label,\r\n            primarykey: selectedRecord.nuserrolecode.value,\r\n          }\r\n\r\n        }, selectedRecord);\r\n\r\n\r\n        // this.setState({ selectedRecord });\r\n\r\n        break;\r\n\r\n      case 2:\r\n        // let nfilterProjectType = this.state.nfilterProjectType || {}\r\n        // nfilterProjectType = comboData;\r\n        const selectedRecordfilter = this.state.selectedRecordfilter || {};\r\n        selectedRecordfilter[fieldName] = comboData;\r\n        this.setState({ selectedRecordfilter });\r\n        break;\r\n\r\n      case 3:\r\n\r\n        selectedRecord[fieldName] = comboData;\r\n        this.setState({ selectedRecord });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  onInputOnChange = (event, optional) => {\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (event.target.type === 'checkbox') {\r\n      if (event.target.name === \"ntransactionstatus\")\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.ACTIVE : transactionStatus.DEACTIVE;\r\n      // else if (event.target.name === \"nlockmode\")\r\n      //     selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.UNLOCK : transactionStatus.LOCK;\r\n      else\r\n        selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n    }\r\n    else if (event.target.type === 'radio') {\r\n      selectedRecord[event.target.name] = optional;\r\n    }\r\n    else {\r\n      selectedRecord[event.target.name] = event.target.value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n  }\r\n\r\n  deleteProjectMember = (deleteParam) => {\r\n    const inputParam = {\r\n      classUrl: \"projectmaster\",\r\n      methodUrl: \"ProjectMember\",\r\n      //displayName: ,\r\n      inputData: {\r\n        \"projectmember\": deleteParam.selectedRecord,//.dataItem,\r\n        \"nprojectmembercode\": deleteParam.selectedRecord.nprojectmembercode,\r\n        \"userinfo\": this.props.Login.userInfo\r\n      },\r\n      operation: \"delete\",\r\n      // priceDataState:this.state.priceDataState\r\n    }\r\n\r\n    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n      const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: {\r\n          loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n          openChildModal: true, screenName: this.props.intl.formatMessage({ id: \"IDS_MEMBERS\" }),\r\n          operation: deleteParam.operation\r\n        }\r\n      }\r\n      this.props.updateStore(updateInfo);\r\n    }\r\n    else {\r\n      this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\");\r\n    }\r\n  }\r\n\r\n  onDropProjectMasterclosureFile = (attachedFiles, fieldName, maxSize) => {\r\n\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  }\r\n\r\n  /* onNumericInputChange = (value, name) => {\r\n    console.log(\"value:\", value, name);\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n    if (name === \"nroundingdigits\") {\r\n        \r\n        if (/^-?\\d*?$/.test(value.target.value) || value.target.value === \"\") {\r\n            console.log(\"val:\", value.target.value);\r\n            selectedRecord[name] = value.target.value;\r\n        }\r\n    }\r\n    else {\r\n        selectedRecord[name] = value;\r\n    }\r\n  \r\n    this.setState({ selectedRecord });\r\n  } */\r\n\r\n  onNumericInputChange = (value, name) => {\r\n\r\n    console.log(\"value:\", value, name);\r\n\r\n    const selectedRecord = this.state.selectedRecord || {};\r\n\r\n    if (name === \"nprojectduration\") {\r\n\r\n      if (/^[0-9]+$/.test(value.target.value) || value.target.value === \"\") {\r\n\r\n        selectedRecord[name] = value.target.value;\r\n      } else {\r\n\r\n        selectedRecord[name] = \"\";\r\n      }\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      selectedRecord[name] = value;\r\n    }\r\n    this.setState({ selectedRecord });\r\n\r\n  }\r\n\r\n  approveProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.DRAFT) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTDRAFTVERSION\" }));\r\n    }\r\n\r\n  }\r\n\r\n  RetireProjectMaster = (methodUrl, selectedProjectMaster, operation, ncontrolCode) => {\r\n    if (selectedProjectMaster.ntransactionstatus === transactionStatus.CLOSED) {\r\n\r\n      const postParam = {\r\n        inputListName: \"ProjectMaster\",\r\n        selectedObject: \"SelectedProjectMaster\",\r\n        primaryKeyField: \"nprojectmastercode\",\r\n        primaryKeyValue: selectedProjectMaster.nprojectmastercode,\r\n        fetchUrl: \"projectmaster/getProjectMaster\",\r\n        fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n      };\r\n\r\n      const inputParam = {\r\n        classUrl: this.props.Login.inputParam.classUrl,\r\n        methodUrl, postParam,\r\n        inputData: {\r\n          \"userinfo\": this.props.Login.userInfo,\r\n          \"projectmaster\": selectedProjectMaster\r\n        },\r\n        operation,\r\n        isClearSearch: this.props.Login.isClearSearch\r\n      }\r\n\r\n      const masterData = this.props.Login.masterData;\r\n\r\n      if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n        const updateInfo = {\r\n          typeName: DEFAULT_RETURN,\r\n          data: {\r\n            loadEsign: true, screenData: { inputParam, masterData },\r\n            openModal: true, screenName: \"IDS_PROJECTMASTER\", operation\r\n          }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n      }\r\n      else {\r\n        this.props.crudMaster(inputParam, masterData, \"openModal\");\r\n      }\r\n    }\r\n    else {\r\n      toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTCLOSEDVERSION\" }));\r\n    }\r\n\r\n  }\r\n  onTabChange = (tabProps) => {\r\n    const screenName = tabProps.screenName;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { screenName },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onDropTestFile = (attachedFiles, fieldName, maxSize) => {\r\n    let selectedRecord = this.state.selectedRecord || {};\r\n    selectedRecord[fieldName] = onDropAttachFileList(\r\n      selectedRecord[fieldName],\r\n      attachedFiles,\r\n      maxSize\r\n    );\r\n    this.setState({ selectedRecord, actionType: \"new\" });\r\n  };\r\n  /*\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(\r\n        this.props.Login.masterData[\"selectedSection\"],\r\n        event.dataState\r\n      ),\r\n      sectionDataState: event.dataState,\r\n    });\r\n  };\r\n*/\r\n  dataStateChange = (event) => {\r\n    this.setState({\r\n      dataResult: process(this.state.data, event.dataState),\r\n      dataState: event.dataState\r\n    });\r\n  }\r\n\r\n\r\n  /*\r\n    tabDetail = () => {\r\n      const tabMap = new Map();\r\n      const deleteSecId =\r\n        this.state.controlMap.has(\"DeleteSection\") &&\r\n        this.state.controlMap.get(\"DeleteSection\").ncontrolcode;\r\n      const defaultSecId =\r\n        this.state.controlMap.has(\"DefaultSection\") &&\r\n        this.state.controlMap.get(\"DefaultSection\").ncontrolcode;\r\n      tabMap.set(\r\n        \"IDS_SECTION\",\r\n        <InstrumentSectionTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          dataState={this.props.Login.dataState}\r\n          masterData={this.props.Login.masterData[\"selectedSection\"] || []}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          userInfo={this.props.Login.userInfo}\r\n          inputParam={this.props.Login.inputParam}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteSecId={deleteSecId}\r\n          defaultSecId={defaultSecId}\r\n          defaultRecord={this.defaultRecord}\r\n          getAvailableInstData={this.props.getAvailableInstData}\r\n          InstrumentSection={this.props.Login.masterData.selectedSection || []}\r\n          screenName=\"IDS_SECTION\"\r\n          selectedRecord={this.state.selectedRecord}\r\n          settings={this.props.Login.settings}\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTVALIDATION\",\r\n        <InstrumentValidationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.ValidationFileData}\r\n          InstrumentValidation={this.props.Login.masterData.InstrumentValidation}\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditValidation={this.props.getDataForAddEditValidation}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          getDataForEdit={this.props.getDataForEdit}\r\n          addfilecllick={this.addInstrumentFile}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          screenName=\"IDS_INSTRUMENTVALIDATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTCALIBRATION\",\r\n        <InstrumentCalibrationTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.CalibrationFileData}\r\n          InstrumentCalibration={\r\n            this.props.Login.masterData.InstrumentCalibration\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditCalibration={this.props.getDataForAddEditCalibration}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentCalibrationFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTCALIBRATION\"\r\n        />\r\n      );\r\n      tabMap.set(\r\n        \"IDS_INSTRUMENTMAINTENANCE\",\r\n        <InstrumentMaintenanceTab\r\n          controlMap={this.state.controlMap}\r\n          userRoleControlRights={this.state.userRoleControlRights}\r\n          selectedProjectMaster={this.props.Login.masterData.selectedProjectMaster}\r\n          FileData={this.props.Login.masterData.MaintenanceFileData}\r\n          InstrumentMaintenance={\r\n            this.props.Login.masterData.InstrumentMaintenance\r\n          }\r\n          masterData={this.props.Login.masterData}\r\n          userInfo={this.props.Login.userInfo}\r\n          getDataForAddEditMaintenance={this.props.getDataForAddEditMaintenance}\r\n          inputParam={this.props.inputParam}\r\n          selectedRecord={this.state.selectedRecord}\r\n          viewInstrumentFile={this.viewInstrumentFile}\r\n          deleteRecord={this.DeleteInstrument}\r\n          deleteTabFileRecord={this.deleteTabFileRecord}\r\n          getTabDetails={this.props.getTabDetails}\r\n          addInstrumentFile={this.props.addInstrumentFile}\r\n          addfilecllick={this.addInstrumentMaintenanceFile}\r\n          deleteAction={this.props.deleteAction}\r\n          ConfirmDelete={this.ConfirmDelete}\r\n          addOpenDate={this.props.addOpenDate}\r\n          OpenDate={this.props.OpenDate}\r\n          CloseDate={this.props.CloseDate}\r\n          screenName=\"IDS_INSTRUMENTMAINTENANCE\"\r\n        />\r\n      );\r\n  \r\n      return tabMap;\r\n    }; */\r\n\r\n  ConfirmDelete = (selectedProjectMaster, operation, deleteId, screenName) => {\r\n    this.confirmMessage.confirm(\r\n      \"deleteMessage\",\r\n      this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n      this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n      () =>\r\n        this.DeleteProjectMaster(\r\n          screenName,\r\n          selectedProjectMaster,\r\n          operation,\r\n          deleteId\r\n\r\n        )\r\n    );\r\n  };\r\n\r\n\r\n\r\n  reloadData = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n      if ( this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n    if (Object.values(this.props.Login.masterData.SelectedProjectType).length && this.props.Login.masterData.SelectedProjectType !== undefined) {\r\n      let inputParam = {\r\n        inputData: {\r\n          // nprojecttypecode: this.state.selectedRecord.nprojecttypecode.value,\r\n          nprojecttypecode: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.selectedRecord.nprojecttypecode,\r\n          nfilterProjectType: this.props.Login.masterData.SelectedProjectType,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n\r\n      this.props.changeProjectTypeFilter(inputParam, this.props.Login.masterData.filterProjectType);\r\n    }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n\r\n\r\n  closeModal = () => {\r\n    let loadEsign = this.props.Login.loadEsign;\r\n    let openModal = this.props.Login.openModal;\r\n    let selectedRecord = this.state.selectedRecord;\r\n//    let selectedRecord = this.state.selectedRecord;\r\n    if (this.props.Login.loadEsign) {\r\n        if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"approve\" || this.props.Login.operation === \"retire\") {\r\n            loadEsign = false;\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        else {\r\n            loadEsign = false;\r\n            selectedRecord['esignpassword'] = '';\r\n            selectedRecord['esigncomments'] = '';\r\n            selectedRecord['esignreason'] = '';\r\n        } \r\n    }\r\n    else {\r\n        openModal = false;\r\n        selectedRecord = {};\r\n    }\r\n\r\n    const updateInfo = {\r\n        typeName: DEFAULT_RETURN,\r\n        data: { openModal, loadEsign, selectedRecord }\r\n    }\r\n    this.props.updateStore(updateInfo);\r\n\r\n}\r\n\r\n  componentDidUpdate(previousProps) {\r\n    let updateState = false;\r\n    let {\r\n      selectedRecord,\r\n      selectedRecordfilter,\r\n      userRoleControlRights,\r\n      controlMap,\r\n      filterData,\r\n      nfilterProjectType,\r\n      filterProjectType,\r\n\r\n    } = this.state;\r\n\r\n    if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n      selectedRecord = this.props.Login.selectedRecord;\r\n      updateState = true;\r\n      this.setState({ selectedRecord, selectedRecordfilter });\r\n    }\r\n    if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n      userRoleControlRights = [];\r\n      if (this.props.Login.userRoleControlRights) {\r\n        this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode\r\n        ] &&\r\n          Object.values(\r\n            this.props.Login.userRoleControlRights[\r\n            this.props.Login.userInfo.nformcode\r\n            ]\r\n          ).map((item) => userRoleControlRights.push(item.ncontrolcode));\r\n      }\r\n      controlMap = getControlMap(\r\n        this.props.Login.userRoleControlRights,\r\n        this.props.Login.userInfo.nformcode\r\n      );\r\n      this.setState({ controlMap, userRoleControlRights, data: this.props.Login.masterData.ProjectMember,\r\n        dataResult: process(this.props.Login.masterData.ProjectMember || [], this.state.dataState) });\r\n      //   updateState = true;\r\n    }\r\n\r\n    let nprojecttypecode = this.state.nfilterProjectType || {};\r\n\r\n    if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n      nfilterProjectType = this.state.nfilterProjectType || {};\r\n\r\n      const filterProjectType = constructOptionList(this.props.Login.masterData.filterProjectType || [], \"nprojecttypecode\",\r\n        \"sprojecttypename\", undefined, undefined, undefined);\r\n\r\n      let ProjectMasterList = filterProjectType.get(\"OptionList\");\r\n      nprojecttypecode = ProjectMasterList[0];\r\n      selectedRecordfilter = { nprojecttypecodevalue: nprojecttypecode }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        ProjectMasterList,\r\n        selectedRecordfilter, selectedRecord , data: this.props.Login.masterData.ProjectMember, dataState :{skip : 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5},\r\n        dataResult: process(this.props.Login.masterData.ProjectMember || [], {skip : 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5})\r\n      });\r\n\r\n      if (this.props.Login.masterData.SelectedProjectType && this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n        nfilterProjectType = {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType,\r\n        };\r\n      }\r\n      //  selectedRecordfilter = {nprojecttypecodevalue:nfilterProjectType}\r\n      filterData = this.generateBreadCrumData();\r\n      updateState = true;\r\n      this.setState({ filterData, selectedRecordfilter });\r\n    }\r\n\r\n    if (this.props.Login.masterData.SelectedProjectType !== previousProps.Login.masterData.SelectedProjectType) {\r\n\r\n      let nprojecttypecodevalue = this.props.Login.masterData.SelectedProjectType ?\r\n        {\r\n          label: this.props.Login.masterData.SelectedProjectType.sprojecttypename,\r\n          value: this.props.Login.masterData.SelectedProjectType.nprojecttypecode,\r\n          item: this.props.Login.masterData.SelectedProjectType\r\n        } : \"\"\r\n      //  nprojecttypecode=ProjectMasterList[ProjectMasterList.length-1];\r\n      selectedRecordfilter = { nprojecttypecodevalue }\r\n      selectedRecord = { nprojecttypecodevalue: nprojecttypecode }\r\n      // nfilterProjectType = this.props.Login.masterData.nfilterProjectType;\r\n      this.setState({\r\n        selectedRecordfilter, selectedRecord\r\n\r\n      });\r\n\r\n    }\r\n\r\n    // if (this.props.Login.masterData.nfilterProjectType !== previousProps.Login.masterData.nfilterProjectType) {\r\n\r\n    // }\r\n\r\n  }\r\n  generateBreadCrumData() {\r\n    const breadCrumbData = [];\r\n    if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectType) {\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectType\r\n          ? this.props.Login.masterData.SelectedProjectType.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else if (this.props.Login.masterData && this.props.Login.masterData.SelectedProjectMaster) {\r\n\r\n      /*    breadCrumbData.push({\r\n            label: \"IDS_PROJECTTYPE\",\r\n            value: this.state.selectedRecord.nprojecttypecode\r\n              ? this.state.selectedRecord.nprojecttypecode.label\r\n              : \"NA\",\r\n          }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.SelectedProjectMaster\r\n          ? this.props.Login.masterData.SelectedProjectMaster.sprojecttypename\r\n          : \"NA\",\r\n      });\r\n\r\n    } else {\r\n\r\n      /*       breadCrumbData.push({\r\n             label: \"IDS_PROJECTTYPE\",\r\n             value:  this.state.selectedRecord.nprojecttypecodevalue\r\n               ? this.state.selectedRecord.nprojecttypecodevalue.label\r\n               : \"NA\",\r\n           }); */\r\n\r\n      breadCrumbData.push({\r\n        label: \"IDS_PROJECTTYPE\",\r\n        value: this.props.Login.masterData.nfilterProjectType\r\n          ? this.props.Login.masterData.nfilterProjectType.label\r\n          : \"NA\",\r\n      });\r\n\r\n    }\r\n    return breadCrumbData;\r\n  }\r\n\r\n  openFilter = () => {\r\n    let showFilter = !this.props.Login.showFilter;\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  closeFilter = () => {\r\n    const updateInfo = {\r\n      typeName: DEFAULT_RETURN,\r\n      data: { showFilter: false },\r\n    };\r\n    this.props.updateStore(updateInfo);\r\n  };\r\n\r\n  onFilterSubmit = () => {\r\n    this.searchRef.current.value = \"\";\r\n\r\n    // if (this.state.nfilterProjectType.value) {\r\n    // if (this.state.selectedRecord.nprojecttypecodevalue.value) {\r\n    //if ((this.state.selectedRecord).length>0) {\r\n\r\n   // if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n     \r\n      if ( this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        if (Object.values(this.state.selectedRecordfilter.nprojecttypecodevalue).length && this.state.selectedRecordfilter.nprojecttypecodevalue !== undefined) {\r\n        let inputParam = {\r\n        inputData: {\r\n          nprojecttypecode: this.state.selectedRecordfilter.nprojecttypecodevalue.value,\r\n          userinfo: this.props.Login.userInfo,\r\n          // nfilterProjectType: this.state.nfilterProjectType,\r\n          nfilterProjectType: this.state.selectedRecordfilter.nprojecttypecodevalue,\r\n        },\r\n        classUrl: \"projectmaster\",\r\n        methodUrl: \"ProjectMasterByProjectType\",\r\n      };\r\n      this.props.changeProjectTypeFilter(\r\n        inputParam,\r\n        this.props.Login.masterData.filterProjectType\r\n      );\r\n     }\r\n    } else {\r\n      toast.warn(\r\n        this.props.intl.formatMessage({\r\n          id: \"IDS_PROJECTTYPENOTAVAILABLE\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  callService,\r\n  crudMaster,\r\n  filterColumnData,\r\n  updateStore,\r\n  validateEsignCredential,\r\n  changeProjectTypeFilter,\r\n  viewAttachment, addProjectMaster, getProjectMaster, getProjectmasterAddMemberService, addProjectMasterFile, getuserComboServices\r\n})(injectIntl(ProjectMaster));\r\n"]},"metadata":{},"sourceType":"module"}