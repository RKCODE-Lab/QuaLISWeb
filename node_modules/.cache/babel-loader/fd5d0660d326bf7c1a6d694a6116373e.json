{"ast":null,"code":"import _toConsumableArray from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl,FormattedMessage}from'react-intl';import{Row,Col,Card,Nav,FormGroup,FormLabel,Form,Button,FormControl}from'react-bootstrap';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import PerfectScrollbar from'react-perfect-scrollbar';import{faTrashAlt,faCopy,faPencilAlt,faSync,faPlus,faThumbsUp,faBoxOpen,faBox,faLocationArrow,faFolderMinus,faFolder,faFolderOpen,faArrowRight,faSearch,faTimes,faArrowDown,faHandPointLeft,faArrowUp,faClone,faPuzzlePiece,faCalculator}from'@fortawesome/free-solid-svg-icons';import{toast}from'react-toastify';import ListMaster from'../../components/list-master/list-master.component';import{Lims_JSON_stringify,constructOptionList,getControlMap,onSaveMandatoryValidation,searchData,searchJsonData,showEsign,sortData,rearrangeDateFormat}from'../../components/CommonScript';import{ReadOnlyText,ContentPanel,SearchIcon}from'../../components/App.styles';//import SortableTree from 'react-sortable-tree'; \nimport DataGrid from'../../components/data-grid/data-grid.component';import{BasicConfig,BasicFuncs,Utils as QbUtils}from\"@react-awesome-query-builder/ui\";import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{callService,crudMaster,validateEsignCredential,updateStore,getSelectedSampleStorageLocation,filterColumnData,changeStorageCategoryFilter,openPropertyModal,editSampleStorageLocation,approveSampleStorageLocation,getSelectedSampleStorageVersion,fetchStorageCategory,copySampleStorageVersion,crudSampleStorageLocation,validateEsignCredentialStorage,crudMasterstorage}from'../../actions';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{ListWrapper}from'../../components/client-group.styles';import{MediaLabel,ProductList}from'../product/product.styled';// import ReactTooltip from 'react-tooltip';\nimport{uuid}from\"uuidv4\";import TreeEditable from\"../../components/form-tree-editable/TreeEditable\";import TreeViewEditable from\"../../components/form-tree-editable/form-tree-editable.component\";import{getItemPath,mapTree,removeItems}from\"@progress/kendo-react-treelist\";import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';// import AddTreeview from './AddTreeview';\n// import AddTreeProperties from './AddTreeProperties';\nimport{Splitter}from'@progress/kendo-react-layout';import TransactionListMaster from'../../components/TransactionListMaster';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import SplitterLayout from'react-splitter-layout';//import StorageCategoryFilter from './StorageCategoryFilter';\nimport{transactionStatus}from'../../components/Enumeration';import Esign from'../audittrail/Esign';import{TreeViewDragAnalyzer,moveTreeViewItem}from'@progress/kendo-react-treeview';import ModalShow from'../../components/ModalShow';import rsapi from'../../rsapi';//import AddSampleStorageMapping from './AddSampleStorageMapping';\nimport Axios from'axios';//import StorageMappingFilter from './StorageMappingFilter';\nimport Preloader from'../../components/preloader/preloader.component';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';import{groupBy,process}from'@progress/kendo-data-query';import MatrixComponent from'../../components/MatrixComponent';import FilterQueryBuilder from'../../components/FilterQueryBuilder';import{Grid,GridColumn}from'@progress/kendo-react-grid';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import MoveSample from'../storagemanagement/MoveSample';import DataGridForStorage from'./DataGridForStorage';import{initRequest}from'../../actions/LoginAction';import{bindActionCreators}from'redux';var SampleStorageMove=/*#__PURE__*/function(_Component){_inherits(SampleStorageMove,_Component);var _super=_createSuper(SampleStorageMove);function SampleStorageMove(props){var _this$state;var _this;_classCallCheck(this,SampleStorageMove);_this=_super.call(this,props);_this.dragOverCnt=0;_this.isDragDrop=false;_this.SEPARATOR='_';_this.uniqueIDArr=[];_this.countforTree=0;_this.pointedItem=undefined;_this.getitemPath={};_this.openModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:true,selectedRecord:{},loadTreeProperties:false,treeData:[{text:\"root\",expanded:true,editable:true,root:true,id:uuid()}],operation:\"create\"}};_this.props.updateStore(updateInfo);};_this.closeModal=function(){var loadEsign=_this.state.loadEsign;var openModal=_this.state.openModal;var selectedRecord=_this.state.selectedRecord;if(loadEsign){//  loadEsign = false;\nopenModal=true;loadEsign=false;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";//ALPD-4738\n//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\n// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: { openModal, loadEsign, selectedRecord, selectedId: null }\n// }\n// this.props.updateStore(updateInfo);\n_this.setState({openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord,selectedId:null});}else{openModal=false;selectedRecord={};}_this.setState({selectedRecord:selectedRecord,// ismoveSample: false,\nopenModal:openModal,isInitialRender:true,isFilterPopup:false,loadEsign:false});};_this.onInputChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type===\"checkbox\"){selectedRecord[event.target.name]=event.target.checked;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){if(_this.props.Login.loadTreeProperties===true){_this.onSaveProperties(saveType,formRef);}else if(_this.state.openSpreadSheet&&!_this.state.ismoveSample){_this.CRUDSampleStorageTransaction(_objectSpread(_objectSpread({},_this.state.editedsheetData),{},{nsamplestoragemappingcode:_this.state.isMultiSampleAdd?Object.keys(_this.state.sheetData).map(function(nsamplestoragemappingcode){return nsamplestoragemappingcode;}).join(\",\"):_this.state.editedsheetData.nsamplestoragemappingcode.toString(),nsamplestoragelocationcode:_this.state.editedsheetData.nsamplestoragelocationcode,sheetData:JSON.stringify(_this.state.sheetData?_this.state.sheetData:{}),sheetUpdate:true,userinfo:_this.props.Login.userInfo,isMultiSampleAdd:_this.state.isMultiSampleAdd}),'create');}else if(_this.state.ismoveSample){var destinationPathlst=[];var dataResult=_this.state.dataResult;dataResult.data.map(function(item){item.items.map(function(item){if(item.hasOwnProperty('selected')&&item.selected){destinationPathlst.push(item);}});});if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.state.ncontrolcode)){var masterData=_this.state.masterData;var inputParam={methodUrl:\"SampleStorageTransaction\",operation:\"update\",classUrl:\"samplestoragemove\",inputData:_this.state.isMultiContainermove?_objectSpread(_objectSpread({selectedContainers:JSON.stringify(destinationPathlst),nsourcemappingcode:JSON.stringify(destinationPathlst.map(function(y){return y.nsamplestoragemappingcode;})),nsourcensamplestoragelocationcode:JSON.stringify(destinationPathlst.map(function(y){return y.nsamplestoragelocationcode;})),nsourcenprojecttypecode:JSON.stringify(destinationPathlst.map(function(y){return y.nprojecttypecode;})),destinationPathCount:destinationPathlst.length,isMultiContainermove:true,nsamplestoragelocationcode:_this.state.selectedRecord.nsamplestoragelocationcode.value},_this.state.masterData),{},{userinfo:_this.props.Login.userInfo}):_objectSpread(_objectSpread({nsourcemappingcode:_this.state.editedsheetData.nsamplestoragemappingcode,nsourceprojecttypecode:_this.state.editedsheetData.nprojecttypecode,nsourcesamplestoragelocationcode:_this.state.editedsheetData.nsamplestoragelocationcode,nsamplestoragelocationcode:_this.state.selectedRecord.nsamplestoragelocationcode.value,nsamplestoragemappingcode:_this.state.selectedRecord.nsamplestoragemappingcode.value,nprojecttypecode:_this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,filterprojecttypecode:_this.state.selectedProjectType.value,ssamplestoragelocationname:_this.state.editedsheetData.ssamplestoragelocationname,ssamplestoragepathname:_this.state.editedsheetData.scontainerpath,stosamplestoragelocationname:_this.state.selectedRecord.nsamplestoragelocationcode.label,stosamplestoragepathname:_this.state.selectedRecord.nsamplestoragemappingcode.label,sboxid:_this.state.editedsheetData.sboxid,stoboxid:_this.state.selectedRecord.nsamplestoragemappingcode.item.sboxid},_this.state.masterData),{},{userinfo:_this.props.Login.userInfo})};//ALPD-4738\n//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\n_this.setState({loading:true});var urlArray=[];var currentTimeUrl=rsapi.post(\"/timezone/getLocalTimeByZone\",{\"userinfo\":_this.props.Login.userInfo});var reasonUrl=rsapi.post(\"/reason/getReason\",{\"userinfo\":_this.props.Login.userInfo});urlArray=[reasonUrl,currentTimeUrl];Axios.all(urlArray).then(function(response){var reasonMap=constructOptionList(response[0].data||[],\"nreasoncode\",\"sreason\",undefined,undefined,false);var reasonList=reasonMap.get(\"OptionList\");_this.setState({esign:reasonList,serverTime:rearrangeDateFormat(_this.props.Login.userInfo,response[1].data),loadEsign:true,openModal:true,screenData:{inputParam:inputParam,masterData:masterData},loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});// const updateInfo = {\n//     typeName: DEFAULT_RETURN,\n//     data: {\n//         loadEsign: true, openModal: true,  screenData: { inputParam, masterData }\n//     }\n// }\n// this.props.updateStore(updateInfo);\n//this.setState({ loadEsign: true, openModal: true,  screenData: { inputParam, masterData }})\n}else{if(_this.state.isMultiContainermove){_this.CRUDSampleStorageTransaction({selectedContainers:JSON.stringify(destinationPathlst),nsourcemappingcode:JSON.stringify(destinationPathlst.map(function(y){return y.nsamplestoragemappingcode;})),//ALPD-4490--Vignesh R(07-08-2024)\nnsourcenprojecttypecode:JSON.stringify(destinationPathlst.map(function(y){return y.nprojecttypecode;})),nsourcensamplestoragelocationcode:JSON.stringify(destinationPathlst.map(function(y){return y.nsamplestoragelocationcode;})),destinationPathCount:destinationPathlst.length,isMultiContainermove:true,nsamplestoragelocationcode:_this.state.selectedRecord.nsamplestoragelocationcode.value,// nsamplestoragemappingcode: this.state.selectedRecord.nsamplestoragemappingcode.value,\n// nprojecttypecode: this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,\nfilterquery:_this.state.submittedselectedRecord.filterquery+\" and nprojecttypecode=\"+_this.state.selectedProjectType.value,userinfo:_this.props.Login.userInfo},'update');}else{_this.CRUDSampleStorageTransaction({nsourcemappingcode:_this.state.editedsheetData.nsamplestoragemappingcode,//ALPD-4490--Vignesh R(07-08-2024)\nnsourcesamplestoragelocationcode:_this.state.editedsheetData.nsamplestoragelocationcode,nsourceprojecttypecode:_this.state.editedsheetData.nprojecttypecode,nsamplestoragelocationcode:_this.state.selectedRecord.nsamplestoragelocationcode.value,nsamplestoragemappingcode:_this.state.selectedRecord.nsamplestoragemappingcode.value,nprojecttypecode:_this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,filterprojecttypecode:_this.state.selectedProjectType.value,ssamplestoragelocationname:_this.state.editedsheetData.ssamplestoragelocationname,ssamplestoragepathname:_this.state.editedsheetData.scontainerpath,stosamplestoragelocationname:_this.state.selectedRecord.nsamplestoragelocationcode.label,stosamplestoragepathname:_this.state.selectedRecord.nsamplestoragemappingcode.label,sboxid:_this.state.editedsheetData.sboxid,stoboxid:_this.state.selectedRecord.nsamplestoragemappingcode.item.sboxid,filterquery:_this.state.submittedselectedRecord.filterquery+\" and nprojecttypecode=\"+_this.state.selectedProjectType.value,userinfo:_this.props.Login.userInfo},'update');}}}else{_this.onSaveSampleStorageTransaction(saveType,formRef);}};_this.paneSizeChange=function(d){_this.setState({splitChangeWidthPercentage:d});};_this.handlePageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.handleDetailPageChange=function(e){_this.setState({skip:e.skip,take:e.take});};_this.openFilter=function(){var showFilter=!_this.props.Login.showFilter;var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:showFilter}};_this.props.updateStore(updateInfo);};_this.closeFilter=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{showFilter:false}};_this.props.updateStore(updateInfo);};_this.reloadData=function(){_this.onFilterSubmit();};_this.onEditSampleStorageLocation=function(selectedSampleStorageVersion,userInfo,editId){_this.handleSearch();_this.setState({searchedTreeData:undefined});if(_this.searchRef.current){_this.searchRef.current.value=\"\";}var isOnlyDraft=false;if(_this.props.Login.masterData.sampleStorageVersion&&_this.props.Login.masterData.sampleStorageVersion.length>1){isOnlyDraft=true;}_this.props.editSampleStorageLocation(selectedSampleStorageVersion,userInfo,isOnlyDraft,editId);};_this.openStorageMapping=function(addId){_this.addSampleStorageMapping({userInfo:_this.props.Login.userInfo,addId:addId});};_this.deletesamplestoragemapping=function(param){_this.CRUDSampleStorageTransaction({'nsamplestoragelocationcode':_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,'nsamplestoragemappingcode':param.nsamplestoragemappingcode,userinfo:_this.props.Login.userInfo},'delete');};_this.addMultipleSample=function(param){_this.setState({//sheetData: JSON.parse(response[0].data.sheetData),\nopenModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false});};_this.opensearch=function(){_this.setState({openModal:true,isFilterPopup:true,openSpreadSheet:false,ismoveSample:false,selectedRecord:_objectSpread({},_this.state.submittedselectedRecord)||_objectSpread({},_this.state.selectedRecord)});};_this.addSample=function(param,nflag){_this.setState({loading:true});var urlArray=[];var groupedArray=_this.processWithGroups(_this.state.masterData.sampleStoragetransaction||[],_this.state.dataStateChange?_this.state.dataStateChange:{take:10,skip:0}).data;var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemappingSheetData\",{isMultiSampleAdd:nflag===2?true:false,nsamplestoragemappingcode:nflag===2?groupedArray.map(function(groupedItem){return groupedItem.items.map(function(item){return item.nsamplestoragemappingcode;});}).join(\",\"):param.nsamplestoragemappingcode.toString()});urlArray=[url1];Axios.all(urlArray).then(function(response){if(nflag===2){_this.setState({sheetData:JSON.parse(response[0].data.sheetData),AdditionalFieldsComponentData:JSON.parse(response[0].data.AdditionalFieldsComponentData),openModal:true,isMultiSampleAdd:true,openSpreadSheet:true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\nloading:false,loadEsign:false,ismoveSample:false});}else{_this.setState({sheetData:JSON.parse(response[0].data.sheetData),AdditionalFieldsComponentData:JSON.parse(response[0].data.AdditionalFieldsComponentData),openModal:true,isMultiSampleAdd:false,openSpreadSheet:true,editedsheetData:param,Rows:param.nrow,columns:param.ncolumn,loading:false,loadEsign:false,ismoveSample:false});}}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var selectedRecordFilter=_this.state.selectedRecordFilter||{};var selectedProjectType=_this.state.selectedProjectType;var masterData=_this.state.masterData;if(fieldName==='nstoragecategorycode'){return _this.getSampleStorageLocation({userinfo:_this.props.Login.userInfo,nstoragecategorycode:comboData.value},fieldName,comboData);}else if(fieldName==='ncontainertypecode'){return _this.getContainerStructure({userinfo:_this.props.Login.userInfo,ncontainertypecode:comboData.value},fieldName,comboData);}else if(fieldName==='nprojecttypecode'){if(selectedProjectType.value!==comboData.value){masterData=_objectSpread(_objectSpread({},masterData),{},{sampleStoragetransaction:[]});}_this.setState({masterData:masterData,selectedProjectType:{label:comboData.label,value:comboData.value}});}else if(fieldName==='ncontainerstructurecode'){selectedRecord['nrow']=comboData.item.nrow?comboData.item.nrow:1;selectedRecord['ncolumn']=comboData.item.ncolumn?comboData.item.ncolumn:1;}else if(fieldName==='nsamplestoragelocationcode'){return _this.getSampleStorageLocation({userinfo:_this.props.Login.userInfo,nstoragecategorycode:_this.state.selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value},fieldName,comboData);}if(fieldName==='nsamplestorageversioncode'){selectedRecordFilter[fieldName]=comboData;_this.setState({selectedRecordFilter:selectedRecordFilter});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord,selectedRecordFilter:selectedRecordFilter});}};_this.onSaveSampleStorageTransaction=function(saveType){var selectedRecord=_this.state.selectedRecord;var containerpathCodeArray=[];if(_this.state.operation==='create'){containerpathCodeArray=selectedRecord['nsamplestoragecontainerpathcode'].map(function(item){return item.value;});}var inputParam={nsamplestoragetransactioncode:selectedRecord['nsamplestoragetransactioncode']?parseInt(selectedRecord['nsamplestoragetransactioncode']):0,nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,nsamplestoragemappingcode:selectedRecord['nsamplestoragemappingcode']?parseInt(selectedRecord['nsamplestoragemappingcode']):0,ncontainertypecode:-1,nproductcode:selectedRecord['nproductcode'].value,ndirectionmastercode:-1,ssamplestoragemappingname:\"-\",nsamplestoragecontainerpathcode:_this.state.operation==='create'?JSON.stringify(containerpathCodeArray):parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),containerpathsize:containerpathCodeArray.length,nneedposition:4,ncontainerstructurecode:-1,nquantity:selectedRecord['nquantity']?parseInt(selectedRecord['nquantity']):1,userinfo:_this.props.Login.userInfo};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolcode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.CRUDSampleStorageTransaction(inputParam,_this.state.operation);}};_this.getsamplestoragetransaction=function(inputParam,userinfo){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragetransaction\",{userinfo:_this.props.Login.userInfo});urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.childDataChange=function(selectedRecord,availableContainersdata){_this.setState({availableContainers:availableContainersdata,selectedRecord:_objectSpread({},selectedRecord),isInitialRender:false});};_this.childSheetDataChange=function(sheetData){_this.setState({// selectedRecord: {\n//     ...this.state.selectedRecord,\n//     sheetData: {\n//         ...this.state.selectedRecord.sheetData,\n//         ...sheetData\n//     }\n// },\nsheetData:_objectSpread({},sheetData),isInitialRender:false});};_this.getActiveSampleStorageMappingById=function(inputParam,userinfo){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getActiveSampleStorageMappingById\",{nsamplestoragelocationcode:inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,userinfo:userinfo});urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data)//,\n// selectedRecord: {\n//     ...this.state.selectedRecord\n//    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\n// }\n,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.filterColumnData=function(filterValue,filterParam){var masterData=filterParam.masterData;var primaryKeyValue=0;var searchedData=undefined;if(filterValue===\"\"){if(masterData[filterParam.inputListName]&&masterData[filterParam.inputListName].length>0){primaryKeyValue=masterData[filterParam.inputListName][0][filterParam.primaryKeyField];}}else{if(filterParam.isjsondata){searchedData=searchJsonData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}else{searchedData=searchData(filterValue,masterData[filterParam.inputListName],filterParam.searchFieldList||[]);}if(searchedData.length>0){primaryKeyValue=searchedData[0][filterParam.primaryKeyField];}}if(primaryKeyValue!==0){_this.setState({loading:true});return rsapi.post(filterParam.fetchUrl,_objectSpread(_objectSpread({},filterParam.fecthInputObject),{},_defineProperty({},filterParam.primaryKeyField,primaryKeyValue))).then(function(response){masterData[\"searchedData\"]=searchedData;masterData=_objectSpread(_objectSpread({},masterData),response.data);if(filterParam.sortField){sortData(masterData,filterParam.sortOrder,filterParam.sortField);}else{sortData(masterData);}_this.setState({masterData:masterData,loading:false,skip:0,take:10,selectedId:null});}).catch(function(error){_this.setState({loading:false});if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response.data}));}});}else{masterData[filterParam.selectedObject]=undefined;masterData[\"searchedData\"]=[];Object.keys(masterData).forEach(function(item){if(item!==filterParam.inputListName&&item!==filterParam.selectedObject&&filterParam.unchangeList&&filterParam.unchangeList.indexOf(item)===-1)masterData[item]=[];});_this.setState({masterData:masterData,operation:null,modalName:undefined,loading:false});}};_this.ConfirmMove=function(){var destinationPathlst=[];var dataResult=_this.state.dataResult;dataResult.data.map(function(item){item.items.map(function(item){if(item.hasOwnProperty('selected')&&item.selected){destinationPathlst.push(item);}});});var inputData={isok:true,filterprojecttypecode:_this.state.selectedProjectType.value,selectedContainers:JSON.stringify(destinationPathlst),nsourcemappingcode:JSON.stringify(destinationPathlst.map(function(y){return y.nsamplestoragemappingcode;})),destinationPathCount:destinationPathlst.length,isMultiContainermove:true,nsamplestoragelocationcode:_this.state.selectedRecord.nsamplestoragelocationcode.value,userinfo:_this.props.Login.userInfo};var inputParam={methodUrl:\"SampleStorageTransaction\",classUrl:'samplestoragemove',inputData:inputData,operation:\"update\",dataState:_this.state.dataStateChange};_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_WARNING\"}),_this.props.intl.formatMessage({id:\"IDS_MISMATCHCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),_this.state.loadEsign?function(){return _this.props.crudMasterstorage(inputParam,_this.state.masterData,\"openModal\");}:function(){return _this.CRUDSampleStorageTransaction(_objectSpread({},inputData),'update');});};_this.CRUDSampleStorageTransaction=function(inputParam,operation){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemove/\"+operation+\"SampleStorageTransaction\",inputParam);urlArray=[url1];Axios.all(urlArray).then(function(response){// if(this.state.isMultiContainermove){\n//     this.ConfirmMove()\n// }else{\n_this.setState({isInitialRender:true,selectedRecord:{},masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),openModal:false,loading:false,ismoveSample:false});//} \n}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){_this.ConfirmMove();}else{toast.warn(error.response.data);}}_this.setState({loading:false});});};_this.onFilterSubmit=function(){_this.setState({loading:true});var inputParamData={nstoragecategorycode:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,// nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\n// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var object={selectedStorageCategoryName:_this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname// ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\n// selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\n};var filterData=_this.generateBreadCrumData(object);_this.setState({filterData:filterData,masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onSampleMappingSaveClick=function(){var mandatoryFields=_this.state.isMultiContainermove?[{\"idsName\":\"IDS_TOSTORAGESTRUCTURENAME\",\"dataField\":\"nsamplestoragelocationcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}]:[{\"idsName\":\"IDS_TOSTORAGESTRUCTURENAME\",\"dataField\":\"nsamplestoragelocationcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TOSAMPLESTORAGEPATH\",\"dataField\":\"nsamplestoragemappingcode\",\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];// :\n// this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined ||\n//     this.state.selectedRecord[\"nneedposition\"] === false ? [\n//     {\n//         \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\n//         \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_PRODUCT\",\n//         \"dataField\": \"nproductcode\", \"mandatoryLabel\":\n//             \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_AVAILABLESPACE\",\n//         \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//             \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//     }\n// ] : [\n//     {\n//         \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\n//         \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_PRODUCT\",\n//         \"dataField\": \"nproductcode\", \"mandatoryLabel\":\n//             \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     }\n//     ,\n//     {\n//         \"idsName\": \"IDS_CONTAINERTYPE\",\n//         \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\n//             \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\n//         \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\n//             \"IDS_SELECT\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_DIRECTION\",\n//         \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\n//             \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//     },\n//     {\n//         \"idsName\": \"IDS_AVAILABLESPACE\",\n//         \"dataField\": \"nquantity\", \"mandatoryLabel\":\n//             \"IDS_ENTER\", \"controlType\": \"selectbox\"\n//     }\n// ]\nonSaveMandatoryValidation(_this.state.selectedRecord,mandatoryFields,_this.onSaveClick);};_this.dataStateChange=function(event){var dataResult=_this.state.dataResult;if(_this.state.masterData.sampleStoragetransaction){dataResult=_this.state.masterData.sampleStoragetransaction?_this.processWithGroups(_this.state.masterData.sampleStoragetransaction||[],event.dataState?event.dataState:{take:10,skip:0}):[];dataResult.data.map(function(x){return x.items.map(function(item){item.selected=false;return item;});});}_this.setState({dataResult:dataResult,dataStateChange:event.dataState});};_this.approveSampleStorageMapping=function(event){var inputParamData={};_this.setState({loading:true});inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/approveSampleStorageMapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){_this.setState({masterData:_objectSpread(_objectSpread({},_this.state.masterData),response[0].data),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.checkFilterIsEmptyQueryBuilder=function(treeData){//this condition is handle for bulk record only \nif(_this.props.Login&&_this.props.Login.settings&&parseInt(_this.props.Login.settings['69'])===transactionStatus.YES){var isFilterEmpty=true;return isFilterEmpty;}else{var ParentItem=_objectSpread({},treeData);var _isFilterEmpty=false;var childArray=ParentItem.children1;if(childArray&&childArray.length>0&&childArray!==undefined){for(var i=0;i<childArray.length;i++){var childData=childArray[i];if(!childData.hasOwnProperty('children1')){if(childData.properties.operator!==\"is_empty\"&&childData.properties.operator!==\"is_not_empty\"&&childData.properties.operator!==\"is_null\"&&childData.properties.operator!==\"is_not_null\"){_isFilterEmpty=true;return _isFilterEmpty;}}else{if(childData){ParentItem=_this.checkFilterIsEmptyQueryBuilder(childData);if(!ParentItem){return ParentItem;}}}}}return _isFilterEmpty;}};_this.movemultipleContainer=function(){var destinationPathlst=[];var dataResult=_this.state.dataResult;dataResult.data.map(function(item){item.items.map(function(item){if(item.hasOwnProperty('selected')&&item.selected){destinationPathlst.push(item);}});});if(destinationPathlst.length>0){var _rsapi$post;_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemove/getsamplemovedata\",(_rsapi$post={isMultiContainermove:true},_defineProperty(_rsapi$post,\"isMultiContainermove\",true),_defineProperty(_rsapi$post,\"userinfo\",_this.props.Login.userInfo),_rsapi$post));urlArray=[url1];Axios.all(urlArray).then(function(response){var storagemoverecords={};var selectedRecord=_this.state.selectedRecord;var samplestoragecontainerpathMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var samplestoragecontainerpathList=samplestoragecontainerpathMap.get(\"OptionList\");var storageStructureMap=constructOptionList(response[0].data['sampleStorageLocation']||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",\"descending\",undefined,true);var storageStructureList=storageStructureMap.get(\"OptionList\");storagemoverecords=_this.state.masterData.sampleStoragetransaction.filter(function(item){return item.hasOwnProperty('selected')&&item.selected;});selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nsamplestoragelocationcode:{label:storageStructureList[0].label,value:storageStructureList[0].value,item:storageStructureList[0]},storageStructureOptions:storageStructureList});_this.state.masterData.sampleStoragetransaction.map(function(item){return selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{mappingcodeOptions:_objectSpread(_objectSpread({},selectedRecord.mappingcodeOptions),{},_defineProperty({},item.nsamplestoragemappingcode,samplestoragecontainerpathList))});});_this.setState({availableContainers:response[0].data['availableContainers'],totalContainers:response[0].data['totalContainers'],selectedRecord:selectedRecord,isMultiContainermove:true,storagemoverecords:storagemoverecords,ismoveSample:true,openModal:true,loadEsign:false,loading:false,ncontrolcode:_this.state.controlMap.has(\"Move Multiple Container\")&&_this.state.controlMap.get(\"Move Multiple Container\").ncontrolcode});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTACONTAINERTOMOVE\"}));}};_this.moveSample=function(param,nflag){_this.setState({loading:true});var urlArray=[];var url1=rsapi.post(\"samplestoragemove/getsamplemovedata\",{nsamplestoragemappingcode:param.nsamplestoragemappingcode,ncontainertypecode:param.ncontainertypecode,ncontainerstructurecode:param.ncontainerstructurecode,userinfo:_this.props.Login.userInfo});var getProjectType=rsapi.post(\"projecttype/getProjectType\",{\"userinfo\":_this.props.Login.userInfo});var getProduct=rsapi.post(\"/samplestoragelocation/getProduct\",{'userinfo':_this.props.Login.userInfo});urlArray=[url1,getProduct,getProjectType];Axios.all(urlArray).then(function(response){var storageStructureMap=constructOptionList(response[0].data['sampleStorageLocation']||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",\"descending\",undefined,true);var storageStructureList=storageStructureMap.get(\"OptionList\");// const samplestoragecontainerpathMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\n//     \"nsamplestoragecontainerpathcode\",\n//     \"scontainerpath\", undefined, undefined, true);\n// const samplestoragecontainerpathList = samplestoragecontainerpathMap.get(\"OptionList\");\n// ALPD-3757\nvar sampleStorageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragemappingcode\",\"scontainerpath\",undefined,undefined,true);var sampleStorageMappingList=sampleStorageMappingMap.get(\"OptionList\");var sampleTypeMap=constructOptionList(response[1].data||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var sampleTypeList=sampleTypeMap.get(\"OptionList\");var ProjectTypelst=constructOptionList(response[2].data||[],\"nprojecttypecode\",\"sprojecttypename\",false,false,true).get(\"OptionList\");_this.setState({sampleTypeList:sampleTypeList,ProjectTypeOptions:ProjectTypelst,sourcencontainertypecode:param.ncontainertypecode,sourcencontainerstructurecode:param.ncontainerstructurecode,isMultiContainermove:false,selectedRecord:{// nprojecttypecode:{\n//     label: this.state.selectedProjectType.label,\n//     value:  this.state.selectedProjectType.value \n// },\nnfromsamplestoragelocationcode:{label:param.ssamplestoragelocationname,value:param.nsamplestoragelocationcode,item:param},nfromsamplestoragemappingcode:{label:param.scontainerpath,value:param.nsamplestoragemappingcode,item:param},nsamplestoragelocationcode:storageStructureList.length>0?{label:storageStructureList[0].label,value:storageStructureList[0].value,item:storageStructureList[0].item}:\"\",nsamplestoragemappingcode:sampleStorageMappingList.length>0?{label:sampleStorageMappingList[0].label,value:sampleStorageMappingList[0].value,item:sampleStorageMappingList[0].item}:\"\",storageStructureOptions:storageStructureList,samplestoragecontainerpathOptions:sampleStorageMappingList},editedsheetData:param,ismoveSample:true,openModal:true,loadEsign:false,loading:false,ncontrolcode:_this.state.controlMap.has(\"Move Container\")&&_this.state.controlMap.get(\"Move Container\").ncontrolcode});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.fetchRecord=function(data){_this.setState({loading:true});var selectedRecord=_this.state.selectedRecord;var inputParamData={nsamplestoragelocationcode:_this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,userinfo:_this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':_this.props.Login.userInfo});var url3=rsapi.post(\"samplestoragetransaction/getEditSampleStorageMapping\",{'nsamplestoragemappingcode':data.nsamplestoragemappingcode,'userinfo':_this.props.Login.userInfo});urlArray=[url1,url2,url3];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");var containerStructure=response[0].data['containerStructure'];var containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[2].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");var editedObject=response[2].data.editsampleStorageMapping;storageMappingMapList.unshift({label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode});selectedRecord={ndirectionmastercode:{label:editedObject.sdirection,value:editedObject.ndirectionmastercode},nsamplestoragecontainerpathcode:{label:editedObject.scontainerpath,value:editedObject.nsamplestoragecontainerpathcode},nproductcode:{label:editedObject.sproductname,value:editedObject.nproductcode},ncontainertypecode:{label:editedObject.scontainertype,value:editedObject.ncontainertypecode},ncontainerstructurecode:{label:editedObject.scontainerstructurename,value:editedObject.ncontainerstructurecode},nneedposition:editedObject.nneedposition===3?true:false,directionmasterOptions:directionmasterList,nquantity:editedObject.nquantity,nrow:editedObject.nrow,ncolumn:editedObject.ncolumn,nsamplestoragemappingcode:editedObject.nsamplestoragemappingcode};_this.setState({openSpreadSheet:false,openModal:true,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{storageMappingMapOptions:storageMappingMapList,productOptions:productList,containerTypeOptions:containerTypeList,containerStructureOptions:containerstructureList,isInitialRender:true}),operation:'update',loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){if(event.target.name===\"agree\"){selectedRecord[event.target.name]=event.target.checked===true?3:4;}}else if(event.target.type==='select-one'){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.handlePageChangeFilter=function(event){_this.setState({kendoSkip:event.skip,kendoTake:event.take});};_this.onChange=function(immutableTree,config){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[\"tree\"]=immutableTree;selectedRecord[\"config\"]=config;selectedRecord[\"filterQueryTreeStr\"]=QbUtils.getTree(immutableTree);var tree=QbUtils.getTree(immutableTree);tree=QbUtils.queryString(immutableTree,config,true);selectedRecord['filterquery']=QbUtils.sqlFormat(immutableTree,config);_this.setState({tree:immutableTree,config:config,selectedRecord:_objectSpread({},selectedRecord)});};_this.headerSelectionChange=function(event){var checkboxElement=event.target;var checked=event.syntheticEvent.target.checked;var dataResult=_this.state.dataResult;dataResult.data.map(function(item){return item.items.map(function(item){if(item.selected===undefined){item.selected=false;}item.selected=checked;return item;});});_this.setState({dataResult:dataResult});};_this.selectionChange=function(event){var dataResult=_this.state.dataResult;dataResult.data.map(function(x){return x.items.map(function(item){if(item['nsamplestoragemappingcode']===event.dataItem['nsamplestoragemappingcode']){item.selected=!event.dataItem.selected;}return item;});});_this.setState({dataResult:dataResult});};_this.processWithGroups=function(data,dataState){var aggregates=[{field:\"navailablespace\",aggregate:\"sum\"}];var groups=dataState.group;if(groups){groups.map(function(group){return group.aggregates=aggregates;});}dataState.group=groups;var newDataState=process(data,dataState);// setGroupIds({\n//     data: newDataState.data,\n//     group: dataState.group,\n// });\nreturn newDataState;};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.state.screenData};//this.props.validateEsignCredential(inputParam, \"openModal\");\n// let destinationPathlst = [];\n// let dataResult = this.state.dataResult;\n// dataResult.data.map(item => {\n//       item.items.map(item => {\n//         if (item.hasOwnProperty('selected') && item.selected) {\n//             destinationPathlst.push(item);\n//         } \n//     });\n// });\n//this.props.validateEsignCredentialStorage(inputParam, \"openModal\",() => this.ConfirmMove())\n_this.validateEsignCredentialStorage(inputParam,\"openModal\",function(){return _this.ConfirmMove();});};_this.validateEsignCredentialStorage=function(inputParam,modalName,action){_this.setState({loading:true});if(inputParam&&inputParam.inputData&&inputParam.inputData.userinfo){inputParam.inputData[\"userinfo\"]=_objectSpread(_objectSpread({},inputParam.inputData.userinfo),{},{sformname:Lims_JSON_stringify(inputParam.inputData.userinfo.sformname),smodulename:Lims_JSON_stringify(inputParam.inputData.userinfo.smodulename)});}return rsapi.post(\"login/validateEsignCredential\",inputParam.inputData).then(function(response){if(response.data===\"Success\"){var methodUrl=inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"]=inputParam.inputData.userinfo;if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];if(inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]){delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];}// ALPD-2437 added for Type3 Component. Use selected record to clear esign values\nif(inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"]){delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignreason\"];delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignpassword\"];delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esigncomments\"];delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"agree\"];}}return _this.crudMasterstorage(inputParam[\"screenData\"][\"inputParam\"],inputParam[\"screenData\"][\"masterData\"],modalName,undefined,action);}}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){action();}else{toast.warn(error.response.data);}}_this.setState({loading:false});});};_this.crudMasterstorage=function(inputParam,masterData,modalName,defaultInput,action){_this.setState({loading:true});var requestUrl='';var urlArray=[];requestUrl=rsapi.post(inputParam.classUrl+\"/\"+inputParam.operation+inputParam.methodUrl,_objectSpread({},inputParam.inputData));urlArray=[requestUrl];Axios.all(urlArray).then(function(response){_this.setState({isInitialRender:true,selectedRecord:{},masterData:_objectSpread(_objectSpread({},masterData),response[0].data),openModal:false,loading:false,ismoveSample:false,loadEsign:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){_this.ConfirmMove();}else{toast.warn(error.response.data);}}_this.setState({loading:false});});};_this.state=(_this$state={extractedColumnList:[{\"idsName\":\"IDS_STORAGESTRUCTURE\",\"dataField\":\"ssamplestoragelocationname\",\"width\":\"200px\"},{\"idsName\":\"IDS_SAMPLESTORAGEPATH\",\"dataField\":\"scontainerpath\",\"width\":\"450px\"},{\"idsName\":\"IDS_AVAILABLESPACE\",\"dataField\":\"navailablespace\",\"width\":\"200px\",\"filterType\":\"numeric\"},{\"idsName\":\"IDS_PRODUCT\",\"dataField\":\"sproductname\",\"width\":\"200px\"},{\"idsName\":\"IDS_PROJECTTYPE\",\"dataField\":\"sprojecttypename\",\"width\":\"200px\"},{\"idsName\":\"IDS_NEEDPREDEFINEDSTRUCURE\",\"dataField\":\"stransdisplaystatus\",\"width\":\"200px\"},{\"idsName\":\"IDS_CONTAINERTYPE\",\"dataField\":\"scontainertype\",\"width\":\"200px\"},{\"idsName\":\"IDS_CONTAINERSTRUCTURENAME\",\"dataField\":\"scontainerstructurename\",\"width\":\"200px\"}],sheetData:{},selectedRecordFilter:{},treeData:[{title:'Chicken',children:[{title:'Egg'}]}],toggleAction:false,treeDataView:undefined,toggleActionView:false},_defineProperty(_this$state,\"treeData\",[{//  text: \"root\",\ntext:_this.props.intl.formatMessage({id:\"IDS_ROOT\"}),expanded:true,editable:true,root:true,id:uuid()}]),_defineProperty(_this$state,\"panes\",[{size:'50%',scrollable:false}]),_defineProperty(_this$state,\"selectedRecord\",{}),_defineProperty(_this$state,\"userRoleControlRights\",[]),_defineProperty(_this$state,\"controlMap\",new Map()),_defineProperty(_this$state,\"skip\",0),_defineProperty(_this$state,\"detailSkip\",0),_defineProperty(_this$state,\"detailTake\",10),_defineProperty(_this$state,\"take\",_this.props.Login.settings?_this.props.Login.settings[3]:25),_defineProperty(_this$state,\"splitChangeWidthPercentage\",22),_defineProperty(_this$state,\"selectedItem\",undefined),_defineProperty(_this$state,\"loading\",false),_defineProperty(_this$state,\"dataStateChange\",{take:10,skip:0,group:[{field:\"ssamplestoragelocationname\"}]}),_this$state);var fields={};if(_this.state.extractedColumnList){_this.state.extractedColumnList.map(function(field){if(field.dataField!=='ssamplestoragelocationname'&&field.dataField!=='sproductname'&&field.dataField!=='sprojecttypename'&&field.dataField!=='scontainertype'&&field.dataField!=='scontainerstructurename'){fields=_objectSpread(_objectSpread({},fields),{},_defineProperty({},field.dataField,{\"label\":_this.props.intl.formatMessage({id:field.idsName}),\"type\":field.dataField==='navailablespace'?\"number\":\"text\",\"valueSources\":[\"value\",\"func\"],\"mainWidgetProps\":{\"valueLabel\":\"Name\",\"valuePlaceholder\":_this.props.intl.formatMessage({id:field.idsName})}}));}});}_this.state=_objectSpread(_objectSpread({},_this.state),{},{'fields':fields});_this.searchRef=React.createRef();_this.dragClue=React.createRef();_this.confirmMessage=new ConfirmMessage();return _this;}_createClass(SampleStorageMove,[{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var _this2=this;var _this$state2=this.state,filterData=_this$state2.filterData,storageCategoryOptions=_this$state2.storageCategoryOptions,selectedRecord=_this$state2.selectedRecord,controlMap=_this$state2.controlMap,userRoleControlRights=_this$state2.userRoleControlRights,storageLocationOptions=_this$state2.storageLocationOptions,sampleStorageVersionOptions=_this$state2.sampleStorageVersionOptions,masterData=_this$state2.masterData,dataResult=_this$state2.dataResult,selectedRecordFilter=_this$state2.selectedRecordFilter,fields=_this$state2.fields,selectedProjectType=_this$state2.selectedProjectType,openModal=_this$state2.openModal,loadEsign=_this$state2.loadEsign;var bool=false;///////////////////////////////\nif(this.props.Login.openModal!==previousProps.Login.openModal){bool=true;openModal=this.props.Login.openModal;}if(this.props.Login.loadEsign!==previousProps.Login.loadEsign){bool=true;loadEsign=this.props.Login.loadEsign;}if(this.props.Login.masterData.sampleStorageLocation!==previousProps.Login.masterData.sampleStorageLocation){var queryBuilderFreezer=[];bool=true;this.props.Login.masterData.sampleStorageLocation&&this.props.Login.masterData.sampleStorageLocation.map(function(item){return queryBuilderFreezer.push({\"value\":item.nsamplestoragelocationcode,\"title\":item.ssamplestoragelocationname});});fields=_objectSpread(_objectSpread({},fields),{},{'nsamplestoragelocationcode':{\"label\":this.props.intl.formatMessage({id:\"IDS_STORAGESTRUCTURENAME\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":queryBuilderFreezer}}});}if(this.props.Login.masterData.sampleType!==previousProps.Login.masterData.sampleType){var _queryBuilderFreezer=[];bool=true;this.props.Login.masterData.sampleType&&this.props.Login.masterData.sampleType.map(function(item){return _queryBuilderFreezer.push({\"value\":item.nproductcode,\"title\":item.sproductname});});fields=_objectSpread(_objectSpread({},fields),{},{'nproductcode':{\"label\":this.props.intl.formatMessage({id:\"IDS_PRODUCT\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer}}});}if(this.props.Login.masterData.projectType!==previousProps.Login.masterData.projectType){var _queryBuilderFreezer2=[];bool=true;masterData=this.props.Login.masterData;this.props.Login.masterData.projectType&&this.props.Login.masterData.projectType.map(function(item){return _queryBuilderFreezer2.push({\"value\":item.nprojecttypecode,\"title\":item.sprojecttypename});});// fields = {\n//     ...fields,\n//     'nprojecttypecode': {\n//         \"label\": this.props.intl.formatMessage({\n//             id: \"IDS_PROJECTTYPE\",\n//         }),\n//         \"type\": \"select\",\n//         \"valueSources\": [\"value\"],\n//         \"fieldSettings\": {\n//             \"listValues\": queryBuilderFreezer\n//         }\n//     }\n// }\nselectedProjectType={label:this.props.Login.masterData.selectedProjectType&&this.props.Login.masterData.selectedProjectType.sprojecttypename,value:this.props.Login.masterData.selectedProjectType&&this.props.Login.masterData.selectedProjectType.nprojecttypecode};var filterStorageCategorylist=constructOptionList(this.props.Login.masterData.projectType||[],\"nprojecttypecode\",\"sprojecttypename\",undefined,undefined,undefined);masterData['projectTypeOptions']=filterStorageCategorylist.get(\"OptionList\");}if(this.props.Login.masterData.containerType!==previousProps.Login.masterData.containerType){var _queryBuilderFreezer3=[];bool=true;this.props.Login.masterData.containerType&&this.props.Login.masterData.containerType.map(function(item){return _queryBuilderFreezer3.push({\"value\":item.ncontainertypecode,\"title\":item.scontainertype});});fields=_objectSpread(_objectSpread({},fields),{},{'ncontainertypecode':{\"label\":this.props.intl.formatMessage({id:\"IDS_CONTAINERTYPE\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer3}}});}if(this.props.Login.masterData.containerStructure!==previousProps.Login.masterData.containerStructure){var _queryBuilderFreezer4=[];bool=true;this.props.Login.masterData.containerStructure&&this.props.Login.masterData.containerStructure.map(function(item){return _queryBuilderFreezer4.push({\"value\":item.ncontainerstructurecode,\"title\":item.scontainerstructurename});});fields=_objectSpread(_objectSpread({},fields),{},{'ncontainerstructurecode':{\"label\":this.props.intl.formatMessage({id:\"IDS_CONTAINERSTRUCTURENAME\"}),\"type\":\"select\",\"valueSources\":[\"value\"],\"fieldSettings\":{\"listValues\":_queryBuilderFreezer4}}});}///////////////////////////////\nif(this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){bool=true;userRoleControlRights=[];if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]&&Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,this.props.Login.userInfo.nformcode);}if(this.props.Login.masterData.filterStorageCategory!==previousProps.Login.masterData.filterStorageCategory){bool=true;var _filterStorageCategorylist=constructOptionList(this.props.Login.masterData.filterStorageCategory||[],\"nstoragecategorycode\",\"sstoragecategoryname\",undefined,undefined,undefined);storageCategoryOptions=_filterStorageCategorylist.get(\"OptionList\");if(this.props.Login.masterData.selectedStorageCategory){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nstoragecategorycode:storageCategoryOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedStorageCategory.nstoragecategorycode;})[0]});}}if(this.props.Login.masterData.sampleStorageLocation!==previousProps.Login.masterData.sampleStorageLocation){bool=true;var sampleStorageLocationList=constructOptionList(this.props.Login.masterData.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageLocation){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode;})[0]});}}if(this.props.Login.masterData.sampleStorageVersion!==previousProps.Login.masterData.sampleStorageVersion){bool=true;var sampleStorageVersionList=constructOptionList(this.props.Login.masterData.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");if(this.props.Login.masterData.selectedSampleStorageVersion){selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestorageversioncode:sampleStorageVersionOptions.filter(function(item){return item.value===_this2.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode;})[0]});}}if(this.props.Login.masterData!==previousProps.Login.masterData){bool=true;masterData=this.props.Login.masterData;filterData=this.generateBreadCrumData(this.props.Login.masterData);}if(this.state.masterData!==previousState.masterData){bool=true;if(this.state.masterData.sampleStoragetransaction){if(this.state.masterData.sampleStoragetransaction!==previousState.masterData.sampleStoragetransaction){masterData=this.state.masterData;console.log('masterData.sampleStoragetransaction',dataResult);//ALPD-4496 janakumar  pagination  work \nif(masterData.sampleStoragetransaction!==undefined&&masterData.sampleStoragetransaction.length>this.state.dataStateChange.skip===false){this.state.dataStateChange.skip=0;this.state.dataStateChange.take=10;}dataResult=masterData.sampleStoragetransaction?this.processWithGroups(masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}):[];console.log('dataResultn',dataResult);}}filterData=this.generateBreadCrumData(this.state.masterData);}if(bool){this.setState({storageCategoryOptions:storageCategoryOptions,filterData:filterData,selectedRecord:selectedRecord,controlMap:controlMap,userRoleControlRights:userRoleControlRights,storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,masterData:masterData,selectedRecordFilter:selectedRecordFilter,fields:fields,selectedProjectType:selectedProjectType,openModal:openModal,loadEsign:loadEsign,dataResult:dataResult});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({firstPane:height-80,parentHeight:height-50});}}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(obj){var breadCrumbData=[];if(this.state.masterData&&this.state.masterData.filterStorageCategory){breadCrumbData.push({\"label\":\"IDS_STORAGECATEGORY\",\"value\":obj.selectedStorageCategoryName&&obj.selectedStorageCategoryName!==null?obj.selectedStorageCategoryName:\"NA\"}// ,\n// {\n//     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\n//     \"value\": obj.selectedSampleStorageLocation &&\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\n//         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\n// },\n// {\n//     \"label\": \"IDS_STORAGECATEGORYVERSION\",\n//     \"value\": obj.selectedSampleStorageVersion &&\n//         obj.selectedSampleStorageVersion.nversionno !== null ?\n//         obj.selectedSampleStorageVersion.nversionno : \"NA\"\n// }\n);}return breadCrumbData;}},{key:\"getSampleStorageLocation\",value:function getSampleStorageLocation(inputData,fieldName,comboData){var _this3=this;var selectedRecordFilter=this.state.selectedRecordFilter||{};var inputParamData={};this.setState({loading:true});if(fieldName==='nsamplestoragelocationcode'){inputParamData={nstoragecategorycode:selectedRecordFilter['nstoragecategorycode'].value,nsamplestoragelocationcode:comboData.value,userinfo:inputData.userinfo};}else{inputParamData={nstoragecategorycode:comboData.value,userinfo:inputData.userinfo};}var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this3$state=_this3.state,storageLocationOptions=_this3$state.storageLocationOptions,sampleStorageVersionOptions=_this3$state.sampleStorageVersionOptions;var sampleStorageLocationList=constructOptionList(response[0].data.sampleStorageLocation||[],\"nsamplestoragelocationcode\",\"ssamplestoragelocationname\",undefined,undefined,undefined);storageLocationOptions=sampleStorageLocationList.get(\"OptionList\");var sampleStorageVersionList=constructOptionList(response[0].data.sampleStorageVersion||[],\"nsamplestorageversioncode\",\"nversionno\",undefined,undefined,undefined);sampleStorageVersionOptions=sampleStorageVersionList.get(\"OptionList\");selectedRecordFilter=_objectSpread(_objectSpread({},selectedRecordFilter),{},{nsamplestoragelocationcode:storageLocationOptions.length>0?storageLocationOptions[0]:[],nsamplestorageversioncode:sampleStorageVersionOptions.length>0?sampleStorageVersionOptions[0]:[]});_this3.setState({storageLocationOptions:storageLocationOptions,sampleStorageVersionOptions:sampleStorageVersionOptions,selectedRecordFilter:_objectSpread(_objectSpread({},selectedRecordFilter),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this3.setState({loading:false});});}},{key:\"addSampleStorageMapping\",value:function addSampleStorageMapping(){var _this4=this;this.setState({loading:true});var selectedRecord=this.state.selectedRecord;var inputParamData={// nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\nnsamplestoragelocationcode:this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,// nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\nuserinfo:this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\",inputParamData);var url2=rsapi.post(\"product/getProduct\",{'userinfo':this.props.Login.userInfo});var url3=rsapi.post(\"containertype/getContainerType\",{'userinfo':this.props.Login.userInfo});urlArray=[url1,url2];Axios.all(urlArray).then(function(response){var storageMappingMap=constructOptionList(response[0].data['samplestoragecontainerpath']||[],\"nsamplestoragecontainerpathcode\",\"scontainerpath\",undefined,undefined,true);var storageMappingMapList=storageMappingMap.get(\"OptionList\");var containerStructure=response[0].data['containerStructure'];var containerTypeMap=constructOptionList(response[0].data['containerType']||[],\"ncontainertypecode\",\"scontainertype\",undefined,undefined,true);var containerTypeList=containerTypeMap.get(\"OptionList\");var directionmasterMap=constructOptionList(response[0].data['directionmaster']||[],\"ndirectionmastercode\",\"sdirection\",undefined,undefined,true);var directionmasterList=directionmasterMap.get(\"OptionList\");var containerstructureMap=constructOptionList(response[0].data['containerStructure']||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,true);var containerstructureList=containerstructureMap.get(\"OptionList\");var productMap=constructOptionList(response[1].data['Product']||[],\"nproductcode\",\"sproductname\",undefined,undefined,true);var productList=productMap.get(\"OptionList\");_this4.setState({openModal:true,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{storageMappingMapOptions:storageMappingMapList,productOptions:productList,containerTypeOptions:containerTypeList,directionmasterOptions:directionmasterList,// ncontainertypecode: containerTypeList[0],\n// containerStructureOptions: containerstructureList,\n// ncontainerstructurecode: containerstructureList[0],\nnrow:containerStructure.length>0?containerStructure[0].nrow:1,ncolumn:containerStructure.length>0?containerStructure[0].ncolumn:1,isInitialRender:true}),openSpreadSheet:false,operation:'create',loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this4.setState({loading:false});});}},{key:\"getContainerStructure\",value:function getContainerStructure(inputData,fieldName,comboData){var _this5=this;var inputParamData={};this.setState({loading:true});inputParamData={ncontainertypecode:comboData.value,userinfo:inputData.userinfo};var urlArray=[];var url1=rsapi.post(\"samplestoragetransaction/getContainerStructure\",inputParamData);urlArray=[url1];Axios.all(urlArray).then(function(response){var _this5$state=_this5.state,containerStructureOptions=_this5$state.containerStructureOptions,selectedRecord=_this5$state.selectedRecord;var containerStructureList=constructOptionList(response[0].data.containerStructure||[],\"ncontainerstructurecode\",\"scontainerstructurename\",undefined,undefined,undefined);containerStructureOptions=containerStructureList.get(\"OptionList\");selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{nrow:containerStructureOptions.length>0?containerStructureOptions[0].item.nrow:1,ncolumn:containerStructureOptions.length>0?containerStructureOptions[0].item.ncolumn:1,ncontainerstructurecode:containerStructureOptions.length>0?containerStructureOptions[0]:[],containerStructureOptions:containerStructureOptions.length>0?_toConsumableArray(containerStructureOptions):[]});_this5.setState({selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},_defineProperty({},fieldName,comboData)),loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this5.setState({loading:false});});}},{key:\"getDynamicFilterExecuteData\",value:function getDynamicFilterExecuteData(nflag){var _this6=this;var selectedRecord=this.state.selectedRecord||{};if(nflag===2?true:selectedRecord.filterquery&&selectedRecord.filterquery!==\"\"){var isFilterEmpty=this.checkFilterIsEmptyQueryBuilder(selectedRecord.filterQueryTreeStr);if(isFilterEmpty){this.setState({loading:true});var obj={// ...inputParam.component, \nlabel:'sampleStoragetransaction',valuemember:'nsamplestoragemappingcode',filterquery:nflag===2?this.state.submittedselectedRecord.filterquery+\" and nprojecttypecode=\"+this.state.selectedProjectType.value:selectedRecord.filterquery+\" and nprojecttypecode=\"+this.state.selectedProjectType.value,source:'view_samplestoragelocation',userinfo:this.props.Login.userInfo};var urlArray=[];var url1=rsapi.post(\"/samplestoragemove/getdynamicfilterexecutedata\",obj);urlArray=[url1];Axios.all(urlArray).then(function(response){var masterData=_this6.state.masterData;masterData=_objectSpread(_objectSpread({},masterData),response[0].data);_this6.setState({masterData:_objectSpread({},masterData),loading:false,openModal:false,isFilterPopup:false,submittedselectedRecord:nflag===2?_objectSpread({},_this6.state.submittedselectedRecord):_objectSpread({},selectedRecord),selectedRecord:{},displayQuery:_this6.state.tree?QbUtils.queryString(_this6.state.tree,_this6.state.config,true):\"\"});}).catch(function(error){_this6.setState({loading:false});if(error.response.status===500){toast.error(error.message);}else{toast.info(error.response.data.rtn);}});}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_PROVIDEONEMOREFILTERDATAWITHNOTNULLOPERATOR\"}));}}else{toast.warn(this.props.intl.formatMessage({id:\"IDS_SELECTAFILTER\"}));}}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.state.openModal&&nextState.isInitialRender===false&&nextState.selectedRecord!==this.state.selectedRecord){return false;}else if(this.state.openModal&&nextState.isInitialRender===false&&nextState.sheetData!==this.state.sheetData){return false;}else{return true;}}},{key:\"render\",value:function render(){var _this7=this;var addId=this.state.controlMap.has(\"Add SampleStorageTransaction\")&&this.state.controlMap.get(\"Add SampleStorageTransaction\").ncontrolcode;var editId=this.state.controlMap.has(\"Edit SampleStorageLocation\")&&this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;var deleteId=this.state.controlMap.has(\"Delete SampleStorageLocation\")&&this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;var copyId=this.state.controlMap.has(\"Copy SampleStorageLocation\")&&this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;var approveId=this.state.controlMap.has(\"Approve SampleStorageLocation\")&&this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;var moveSampleId=this.state.controlMap.has(\"Move Container\")&&this.state.controlMap.get(\"Move Container\").ncontrolcode;var moveMultipleSampleId=this.state.controlMap.has(\"Move Multiple Container\")&&this.state.controlMap.get(\"Move Multiple Container\").ncontrolcode;var addMultipleSampleId=this.state.controlMap.has(\"AddMultipleSample\")&&this.state.controlMap.get(\"AddMultipleSample\").ncontrolcode;var addSampleId=this.state.controlMap.has(\"AddSample\")&&this.state.controlMap.get(\"AddSample\").ncontrolcode;var filterParam={inputListName:\"sampleStorageLocation\",selectedObject:\"selectedSampleStorageLocation\",primaryKeyField:\"nsamplestoragelocationcode\",fetchUrl:\"sampleStoragetransaction/getActiveSampleStorageMappingById\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:[\"ssamplestoragelocationname\"]};var breadCrumbData=this.state.filterData||[];var confirmMessage=new ConfirmMessage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Preloader,{loading:this.state.loading}),/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-list-content\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nprojecttypecode\",as:\"select\",onChange:function onChange(event){return _this7.onComboChange(event,'nprojecttypecode');},formLabel:this.props.intl.formatMessage({id:\"IDS_PROJECTTYPE\"}),isMandatory:false,value:this.state.selectedProjectType?this.state.selectedProjectType||[]:[],options:this.state.masterData&&this.state.masterData.projectTypeOptions||[],optionId:\"value\",optionValue:\"label\",isMulti:false,isDisabled:false,isSearchable:false,isClearable:false}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(DataGridForStorage// isDownloadPDFRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\n//     this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\n//         this.state.dataStateChange ? this.state.dataStateChange : {\n//             take: 10,\n//             skip: 0\n//         }).data.length > 0 ?\n//     true : false}\n//ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\n,{isDownloadPDFRequired:false,isDownloadExcelRequired:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?true:false,isRefreshRequired:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?true:false,reloadData:function reloadData(e){return _this7.getDynamicFilterExecuteData(2);},isCustomButton:true,customButtonlist:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&this.processWithGroups(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{take:10,skip:0}).data.length>0?[{label:'IDS_VIEWMULTIPLEBOX',id:{},hidden:false//this.state.userRoleControlRights.indexOf(addMultipleSampleId) === -1\n,onClick:function onClick(){return _this7.addSample({},2);},controlname:'faBoxes'},{label:'IDS_MOVEMULTIPLECONTAINER',id:{},hidden:this.state.userRoleControlRights.indexOf(moveMultipleSampleId)===-1,onClick:function onClick(){return _this7.movemultipleContainer();},controlname:'faDollyFlatbed'},{label:'IDS_SEARCH',id:{},onClick:function onClick(){return _this7.opensearch();},controlname:'faSearch'}]:[{label:'IDS_SEARCH',id:{},onClick:function onClick(){return _this7.opensearch();},controlname:'faSearch'}],cellRender:this.cellRender,group:this.state.group||[],primaryKeyField:'nsamplestoragemappingcode'// groupable={true}\n// groupfooter={true}\n// aggregateLabel={'IDS_AVAILABLESPACE'}\n// aggregatedColumn={'navailablespace'}\n,selectionChange:this.selectionChange,headerSelectionChange:this.headerSelectionChange,data:this.state.masterData&&this.state.masterData.sampleStoragetransaction,dataResult:// this.state.masterData && this.state.masterData.sampleStoragetransaction ? this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\n//     this.state.dataStateChange ? this.state.dataStateChange : {\n//         take: 10,\n//         skip: 0\n//     }) : []\nthis.state.dataResult?this.state.dataResult:[],dataState:this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10},dataStateChange:this.dataStateChange,extractedColumnList:this.state.extractedColumnList,controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,userInfo:this.props.Login.userInfo,deleteRecord:this.deleteRecord,pageable:true,scrollable:'scrollable',gridHeight:'900px',isActionRequired:true,isToolBarRequired:true,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_MOVECONTAINER\"}),controlname:\"faDolly\",hidden:this.state.userRoleControlRights.indexOf(moveSampleId)===-1,objectName:\"edit\",onClick:this.moveSample},{title:this.props.intl.formatMessage({id:\"IDS_VIEWBOX\"}),controlname:\"faBox\",hidden:false// this.state.userRoleControlRights.indexOf(addSampleId) === -1\n,objectName:\"add\",onClick:function onClick(param){return _this7.addSample(param,1);}}]}))))),this.state.openModal&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.state.openModal,closeModal:this.closeModal,hideSave:this.state.ismoveSample?false:true//needClose={this.state.ismoveSample ? true : this.state.isFilterPopup ? false : true}\n,needClose:this.state.ismoveSample?false:this.state.isFilterPopup?true:false,showSubmit:this.state.ismoveSample?false:this.state.openSpreadSheet?false:true,size:this.state.ismoveSample?\"\":this.state.openSpreadSheet||this.state.isFilterPopup?'xl':\"\",operation:\"\",inputParam:this.props.Login.inputParam,screenName:this.state.ismoveSample?this.props.intl.formatMessage({id:\"IDS_MOVECONTAINER\"}):this.state.isFilterPopup?\"\":this.state.isMultiSampleAdd?this.props.intl.formatMessage({id:\"IDS_SAMPLESTORAGE\"}):this.state.editedsheetData.scontainerpath,onSaveClick:this.state.isFilterPopup?this.getDynamicFilterExecuteData.bind(this):this.onSampleMappingSaveClick,esign:this.state.loadEsign// className={\"wide-popup\"}\n,validateEsign:this.validateEsign,masterStatus:this.props.Login.masterStatus,updateStore:this.props.updateStore,selectedRecord:this.state.selectedRecord||{}// ALPD-5120 : Added by rukshana this.state.serverTime for sample storage move : E-signature's date and time not displayed in popup \n,addComponent:this.state.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,formatMessage:this.props.intl.formatMessage,onInputOnChange:this.onInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{},esignReasonList:this.state.esign||[],serverTime:this.state.serverTime||[]}):this.state.ismoveSample?/*#__PURE__*/React.createElement(MoveSample,{ProjectTypeOptions:this.state.ProjectTypeOptions,sampleTypeList:this.state.sampleTypeList,availableContainers:this.state.availableContainers,totalContainers:this.state.totalContainers,storagemoverecords:this.state.storagemoverecords,isMultiContainermove:this.state.isMultiContainermove,sourcencontainertypecode:this.state.sourcencontainertypecode,sourcencontainerstructurecode:this.state.sourcencontainerstructurecode,operation:this.state.operation,selectedRecordFilter:this.state.selectedRecordFilter,onInputChange:function onInputChange(e){return _this7.onInputChange(e);},onComboChange:this.onComboChange,selectedRecord:this.state.selectedRecord||{},childDataChange:this.childDataChange,userInfo:this.props.Login.userInfo,dataState:this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10},controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights}):this.state.isFilterPopup?/*#__PURE__*/React.createElement(FilterQueryBuilder,{fields:this.state.fields,isSampleStorage:true,queryArray:this.state.queryArray,skip:this.state.kendoSkip,take:this.state.kendoTake,onChange:this.onChange,tree:this.props.Login.tree!==undefined?this.props.Login.tree:this.state.selectedRecord.tree,gridColumns:this.slideList,filterData:this.props.Login.slideResult||[],handlePageChange:this.handlePageChangeFilter,static:true,userInfo:this.props.Login.userInfo,updateStore:this.props.updateStore}):this.state.openSpreadSheet?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(MatrixComponent,{isMoveScreen:true,updateStore:this.props.updateStore,intl:this.props.intl,Rows:this.state.Rows||1,AdditionalFieldsComponentData:this.state.AdditionalFieldsComponentData,userInfo:this.props.Login.userInfo,columns:this.state.columns||1,selectedRecord:this.state.selectedRecord.sheetData||{},sheetData:this.state.sheetData||{},isMultiSampleAdd:this.state.isMultiSampleAdd,childSheetDataChange:this.childSheetDataChange,editedsheetData:this.state.editedsheetData,nbarcodedescription:this.props.Login.settings&&parseInt(this.props.Login.settings[36]),nbarcodeLength:this.props.Login.settings&&parseInt(this.props.Login.settings[37]),sbarcodeboxWidth:this.props.Login.settings&&this.props.Login.settings[38],multipleSheetData:this.state.masterData&&this.state.masterData.sampleStoragetransaction&&process(this.state.masterData.sampleStoragetransaction||[],this.state.dataStateChange?this.state.dataStateChange:{skip:0,take:10}).data}))):/*#__PURE__*/React.createElement(React.Fragment,null)// <AddSampleStorageMapping\n//     operation={this.state.operation}\n//     selectedRecordFilter={this.state.selectedRecordFilter}\n//     onInputChange={(e) => this.onInputChange(e)}\n//     onComboChange={this.onComboChange}\n//     selectedRecord={this.state.selectedRecord || {}}\n//     childDataChange={this.childDataChange}\n//     userInfo={this.props.Login.userInfo}\n// />\n}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"&&props.Login.masterStatus!==state.masterStatus){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}if(props.Login.error!==\"\"&&props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return SampleStorageMove;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,updateStore:updateStore,validateEsignCredential:validateEsignCredential,validateEsignCredentialStorage:validateEsignCredentialStorage,crudMasterstorage:crudMasterstorage})(injectIntl(SampleStorageMove));","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/storagemanagement/SampleStorageMove.jsx"],"names":["React","Component","connect","injectIntl","FormattedMessage","Row","Col","Card","Nav","FormGroup","FormLabel","Form","Button","FormControl","FontAwesomeIcon","PerfectScrollbar","faTrashAlt","faCopy","faPencilAlt","faSync","faPlus","faThumbsUp","faBoxOpen","faBox","faLocationArrow","faFolderMinus","faFolder","faFolderOpen","faArrowRight","faSearch","faTimes","faArrowDown","faHandPointLeft","faArrowUp","faClone","faPuzzlePiece","faCalculator","toast","ListMaster","Lims_JSON_stringify","constructOptionList","getControlMap","onSaveMandatoryValidation","searchData","searchJsonData","showEsign","sortData","rearrangeDateFormat","ReadOnlyText","ContentPanel","SearchIcon","DataGrid","BasicConfig","BasicFuncs","Utils","QbUtils","SlideOutModal","callService","crudMaster","validateEsignCredential","updateStore","getSelectedSampleStorageLocation","filterColumnData","changeStorageCategoryFilter","openPropertyModal","editSampleStorageLocation","approveSampleStorageLocation","getSelectedSampleStorageVersion","fetchStorageCategory","copySampleStorageVersion","crudSampleStorageLocation","validateEsignCredentialStorage","crudMasterstorage","DEFAULT_RETURN","ListWrapper","MediaLabel","ProductList","uuid","TreeEditable","TreeViewEditable","getItemPath","mapTree","removeItems","ConfirmMessage","Splitter","TransactionListMaster","BreadcrumbComponent","SplitterLayout","transactionStatus","Esign","TreeViewDragAnalyzer","moveTreeViewItem","ModalShow","rsapi","Axios","Preloader","TransactionListMasterJsonView","groupBy","process","MatrixComponent","FilterQueryBuilder","Grid","GridColumn","FormSelectSearch","MoveSample","DataGridForStorage","initRequest","bindActionCreators","SampleStorageMove","props","dragOverCnt","isDragDrop","SEPARATOR","uniqueIDArr","countforTree","pointedItem","undefined","getitemPath","openModal","updateInfo","typeName","data","selectedRecord","loadTreeProperties","treeData","text","expanded","editable","root","id","operation","closeModal","loadEsign","state","setState","selectedId","isInitialRender","isFilterPopup","onInputChange","event","target","type","name","checked","value","onSaveClick","saveType","formRef","Login","onSaveProperties","openSpreadSheet","ismoveSample","CRUDSampleStorageTransaction","editedsheetData","nsamplestoragemappingcode","isMultiSampleAdd","Object","keys","sheetData","map","join","toString","nsamplestoragelocationcode","JSON","stringify","sheetUpdate","userinfo","userInfo","destinationPathlst","dataResult","item","items","hasOwnProperty","selected","push","userRoleControlRights","nformcode","ncontrolcode","masterData","inputParam","methodUrl","classUrl","inputData","isMultiContainermove","selectedContainers","nsourcemappingcode","y","nsourcensamplestoragelocationcode","nsourcenprojecttypecode","nprojecttypecode","destinationPathCount","length","nsourceprojecttypecode","nsourcesamplestoragelocationcode","filterprojecttypecode","selectedProjectType","ssamplestoragelocationname","ssamplestoragepathname","scontainerpath","stosamplestoragelocationname","label","stosamplestoragepathname","sboxid","stoboxid","loading","urlArray","currentTimeUrl","post","reasonUrl","all","then","response","reasonMap","reasonList","get","esign","serverTime","screenData","catch","error","status","message","warn","filterquery","submittedselectedRecord","onSaveSampleStorageTransaction","paneSizeChange","d","splitChangeWidthPercentage","handlePageChange","e","skip","take","handleDetailPageChange","openFilter","showFilter","closeFilter","reloadData","onFilterSubmit","onEditSampleStorageLocation","selectedSampleStorageVersion","editId","handleSearch","searchedTreeData","searchRef","current","isOnlyDraft","sampleStorageVersion","openStorageMapping","addId","addSampleStorageMapping","deletesamplestoragemapping","param","selectedSampleStorageLocation","addMultipleSample","opensearch","addSample","nflag","groupedArray","processWithGroups","sampleStoragetransaction","dataStateChange","url1","groupedItem","parse","AdditionalFieldsComponentData","Rows","nrow","columns","ncolumn","onComboChange","comboData","fieldName","selectedRecordFilter","getSampleStorageLocation","nstoragecategorycode","getContainerStructure","ncontainertypecode","containerpathCodeArray","nsamplestoragetransactioncode","parseInt","nproductcode","ndirectionmastercode","ssamplestoragemappingname","nsamplestoragecontainerpathcode","containerpathsize","nneedposition","ncontainerstructurecode","nquantity","getsamplestoragetransaction","childDataChange","availableContainersdata","availableContainers","childSheetDataChange","getActiveSampleStorageMappingById","filterValue","filterParam","primaryKeyValue","searchedData","inputListName","primaryKeyField","isjsondata","searchFieldList","fetchUrl","fecthInputObject","sortField","sortOrder","intl","formatMessage","selectedObject","forEach","unchangeList","indexOf","modalName","ConfirmMove","isok","dataState","confirmMessage","confirm","inputParamData","object","selectedStorageCategoryName","sstoragecategoryname","filterData","generateBreadCrumData","onSampleMappingSaveClick","mandatoryFields","x","approveSampleStorageMapping","checkFilterIsEmptyQueryBuilder","settings","YES","isFilterEmpty","ParentItem","childArray","children1","i","childData","properties","operator","movemultipleContainer","storagemoverecords","samplestoragecontainerpathMap","samplestoragecontainerpathList","storageStructureMap","storageStructureList","filter","storageStructureOptions","mappingcodeOptions","totalContainers","controlMap","has","moveSample","getProjectType","getProduct","sampleStorageMappingMap","sampleStorageMappingList","sampleTypeMap","sampleTypeList","ProjectTypelst","ProjectTypeOptions","sourcencontainertypecode","sourcencontainerstructurecode","nfromsamplestoragelocationcode","nfromsamplestoragemappingcode","samplestoragecontainerpathOptions","fetchRecord","url2","url3","storageMappingMap","storageMappingMapList","containerStructure","containerTypeMap","containerTypeList","directionmasterMap","directionmasterList","containerstructureMap","containerstructureList","productMap","productList","editedObject","editsampleStorageMapping","unshift","sdirection","sproductname","scontainertype","scontainerstructurename","directionmasterOptions","storageMappingMapOptions","productOptions","containerTypeOptions","containerStructureOptions","onInputOnChange","handlePageChangeFilter","kendoSkip","kendoTake","onChange","immutableTree","config","getTree","tree","queryString","sqlFormat","headerSelectionChange","checkboxElement","syntheticEvent","selectionChange","dataItem","aggregates","field","aggregate","groups","group","newDataState","validateEsign","sreason","nreasoncode","spredefinedreason","password","action","sformname","smodulename","toLowerCase","defaultInput","requestUrl","extractedColumnList","title","children","toggleAction","treeDataView","toggleActionView","size","scrollable","Map","fields","dataField","idsName","createRef","dragClue","previousProps","previousState","storageCategoryOptions","storageLocationOptions","sampleStorageVersionOptions","bool","sampleStorageLocation","queryBuilderFreezer","sampleType","projectType","sprojecttypename","filterStorageCategorylist","containerType","values","filterStorageCategory","selectedStorageCategory","sampleStorageLocationList","sampleStorageVersionList","nsamplestorageversioncode","console","log","parentHeight","height","clientHeight","firstPane","obj","breadCrumbData","containerStructureList","filterQueryTreeStr","valuemember","source","displayQuery","info","rtn","nextProps","nextState","deleteId","copyId","approveId","moveSampleId","moveMultipleSampleId","addMultipleSampleId","addSampleId","projectTypeOptions","getDynamicFilterExecuteData","hidden","onClick","controlname","cellRender","deleteRecord","objectName","bind","masterStatus","queryArray","slideList","slideResult","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl, FormattedMessage } from 'react-intl';\r\nimport { Row, Col, Card, Nav, FormGroup, FormLabel, Form, Button, FormControl } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { faTrashAlt, faCopy, faPencilAlt, faSync, faPlus, faThumbsUp, faBoxOpen, faBox, faLocationArrow, faFolderMinus, faFolder, faFolderOpen, faArrowRight, faSearch, faTimes, faArrowDown, faHandPointLeft, faArrowUp, faClone, faPuzzlePiece, faCalculator } from '@fortawesome/free-solid-svg-icons';\r\nimport { toast } from 'react-toastify';\r\nimport ListMaster from '../../components/list-master/list-master.component';\r\nimport { Lims_JSON_stringify, constructOptionList, getControlMap, onSaveMandatoryValidation, searchData, searchJsonData, showEsign, sortData,rearrangeDateFormat} from '../../components/CommonScript';\r\nimport { ReadOnlyText, ContentPanel, SearchIcon } from '../../components/App.styles';\r\n//import SortableTree from 'react-sortable-tree'; \r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport {\r\n    BasicConfig, BasicFuncs,\r\n    Utils as QbUtils,\r\n} from \"@react-awesome-query-builder/ui\";\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport {\r\n    callService, crudMaster, validateEsignCredential, updateStore, getSelectedSampleStorageLocation, filterColumnData, changeStorageCategoryFilter,\r\n    openPropertyModal, editSampleStorageLocation, approveSampleStorageLocation, getSelectedSampleStorageVersion, fetchStorageCategory, copySampleStorageVersion,\r\n    crudSampleStorageLocation,validateEsignCredentialStorage,crudMasterstorage\r\n} from '../../actions';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { MediaLabel, ProductList } from '../product/product.styled';\r\n// import ReactTooltip from 'react-tooltip';\r\nimport { uuid } from \"uuidv4\";\r\nimport TreeEditable from \"../../components/form-tree-editable/TreeEditable\";\r\nimport TreeViewEditable from \"../../components/form-tree-editable/form-tree-editable.component\";\r\nimport { getItemPath, mapTree, removeItems } from \"@progress/kendo-react-treelist\";\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\n// import AddTreeview from './AddTreeview';\r\n// import AddTreeProperties from './AddTreeProperties';\r\nimport { Splitter } from '@progress/kendo-react-layout';\r\nimport TransactionListMaster from '../../components/TransactionListMaster';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\nimport SplitterLayout from 'react-splitter-layout';\r\n//import StorageCategoryFilter from './StorageCategoryFilter';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport Esign from '../audittrail/Esign';\r\nimport { TreeViewDragAnalyzer, moveTreeViewItem } from '@progress/kendo-react-treeview';\r\nimport ModalShow from '../../components/ModalShow';\r\nimport rsapi from '../../rsapi';\r\n//import AddSampleStorageMapping from './AddSampleStorageMapping';\r\nimport Axios from 'axios';\r\n//import StorageMappingFilter from './StorageMappingFilter';\r\nimport Preloader from '../../components/preloader/preloader.component';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n\r\nimport { groupBy, process } from '@progress/kendo-data-query';\r\nimport MatrixComponent from '../../components/MatrixComponent';\r\nimport FilterQueryBuilder from '../../components/FilterQueryBuilder';\r\nimport { Grid, GridColumn } from '@progress/kendo-react-grid';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport MoveSample from '../storagemanagement/MoveSample';\r\nimport DataGridForStorage from './DataGridForStorage';\r\nimport { initRequest } from '../../actions/LoginAction';\r\nimport { bindActionCreators } from 'redux';\r\n\r\n\r\nclass SampleStorageMove extends Component {\r\n    dragOverCnt = 0;\r\n    isDragDrop = false;\r\n    SEPARATOR = '_';\r\n    uniqueIDArr = [];\r\n    countforTree = 0;\r\n    pointedItem = undefined\r\n    getitemPath = {};\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            extractedColumnList: [\r\n                { \"idsName\": \"IDS_STORAGESTRUCTURE\", \"dataField\": \"ssamplestoragelocationname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_SAMPLESTORAGEPATH\", \"dataField\": \"scontainerpath\", \"width\": \"450px\" },\r\n                { \"idsName\": \"IDS_AVAILABLESPACE\", \"dataField\": \"navailablespace\", \"width\": \"200px\", \"filterType\": \"numeric\" },\r\n                { \"idsName\": \"IDS_PRODUCT\", \"dataField\": \"sproductname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_PROJECTTYPE\", \"dataField\": \"sprojecttypename\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_NEEDPREDEFINEDSTRUCURE\", \"dataField\": \"stransdisplaystatus\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_CONTAINERTYPE\", \"dataField\": \"scontainertype\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\", \"dataField\": \"scontainerstructurename\", \"width\": \"200px\" },\r\n\r\n            ],\r\n            sheetData: {},\r\n            selectedRecordFilter: {},\r\n            treeData: [{ title: 'Chicken', children: [{ title: 'Egg' }] }],\r\n            toggleAction: false,\r\n            treeDataView: undefined,\r\n            toggleActionView: false,\r\n            treeData: [\r\n                {\r\n                    //  text: \"root\",\r\n                    text: this.props.intl.formatMessage({ id: \"IDS_ROOT\" }),\r\n                    expanded: true,\r\n                    editable: true,\r\n                    root: true,\r\n                    id: uuid(),\r\n                }],\r\n            panes: [{\r\n                size: '50%',\r\n                scrollable: false\r\n            }],\r\n            selectedRecord: {},\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            skip: 0,\r\n            detailSkip: 0,\r\n            detailTake: 10,\r\n            take: this.props.Login.settings ?\r\n                this.props.Login.settings[3] : 25,\r\n            splitChangeWidthPercentage: 22,\r\n            selectedItem: undefined,\r\n            loading: false,\r\n            dataStateChange: {\r\n                take: 10,\r\n                skip: 0,\r\n                group: [\r\n                    {\r\n                        field: \"ssamplestoragelocationname\",\r\n                    },\r\n                ],\r\n            }\r\n        };\r\n        let fields = {};\r\n        if (this.state.extractedColumnList) {\r\n            this.state.extractedColumnList.map(field => {\r\n                if (field.dataField !== 'ssamplestoragelocationname' && field.dataField !== 'sproductname'\r\n                    && field.dataField !== 'sprojecttypename' && field.dataField !== 'scontainertype'\r\n                    && field.dataField !== 'scontainerstructurename') {\r\n                    fields = {\r\n                        ...fields,\r\n                        [field.dataField]: {\r\n                            \"label\":\r\n                                this.props.intl.formatMessage({\r\n                                    id: field.idsName,\r\n                                })\r\n                            ,\r\n                            \"type\": field.dataField === 'navailablespace' ? \"number\" : \"text\",\r\n                            \"valueSources\": [\"value\", \"func\"],\r\n\r\n                            \"mainWidgetProps\": {\r\n                                \"valueLabel\": \"Name\",\r\n                                \"valuePlaceholder\": this.props.intl.formatMessage({\r\n                                    id: field.idsName\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        this.state = { ... this.state, 'fields': fields }\r\n        this.searchRef = React.createRef();\r\n        this.dragClue = React.createRef();\r\n        this.confirmMessage = new ConfirmMessage();\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        if (props.Login.masterStatus !== \"\" && props.Login.masterStatus !== state.masterStatus) {\r\n            toast.warn(props.Login.masterStatus);\r\n            props.Login.masterStatus = \"\";\r\n        }\r\n\r\n        if (props.Login.error !== \"\" && props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let { filterData, storageCategoryOptions,\r\n            selectedRecord, controlMap,\r\n            userRoleControlRights, storageLocationOptions,\r\n            sampleStorageVersionOptions, masterData, dataResult, selectedRecordFilter, fields, selectedProjectType, openModal, loadEsign } = this.state\r\n        let bool = false;\r\n        ///////////////////////////////\r\n        if (this.props.Login.openModal !== previousProps.Login.openModal) {\r\n            bool = true;\r\n            openModal = this.props.Login.openModal;\r\n        }\r\n        if (this.props.Login.loadEsign !== previousProps.Login.loadEsign) {\r\n            bool = true;\r\n            loadEsign = this.props.Login.loadEsign;\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleStorageLocation && this.props.Login.masterData.sampleStorageLocation.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nsamplestoragelocationcode, \"title\": item.ssamplestoragelocationname })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'nsamplestoragelocationcode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_STORAGESTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleType !== previousProps.Login.masterData.sampleType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.sampleType && this.props.Login.masterData.sampleType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nproductcode, \"title\": item.sproductname })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'nproductcode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_PRODUCT\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.projectType !== previousProps.Login.masterData.projectType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            this.props.Login.masterData.projectType && this.props.Login.masterData.projectType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.nprojecttypecode, \"title\": item.sprojecttypename })\r\n            )\r\n            // fields = {\r\n            //     ...fields,\r\n            //     'nprojecttypecode': {\r\n            //         \"label\": this.props.intl.formatMessage({\r\n            //             id: \"IDS_PROJECTTYPE\",\r\n            //         }),\r\n            //         \"type\": \"select\",\r\n            //         \"valueSources\": [\"value\"],\r\n            //         \"fieldSettings\": {\r\n            //             \"listValues\": queryBuilderFreezer\r\n            //         }\r\n            //     }\r\n            // }\r\n            selectedProjectType = {\r\n                label: this.props.Login.masterData.selectedProjectType &&\r\n                    this.props.Login.masterData.selectedProjectType.sprojecttypename, value:\r\n                    this.props.Login.masterData.selectedProjectType &&\r\n                    this.props.Login.masterData.selectedProjectType.nprojecttypecode\r\n            };\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.projectType || [], \"nprojecttypecode\",\r\n                \"sprojecttypename\", undefined, undefined, undefined);\r\n            masterData['projectTypeOptions'] = filterStorageCategorylist.get(\"OptionList\");\r\n        }\r\n        if (this.props.Login.masterData.containerType !== previousProps.Login.masterData.containerType) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.containerType && this.props.Login.masterData.containerType.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.ncontainertypecode, \"title\": item.scontainertype })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'ncontainertypecode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_CONTAINERTYPE\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        } if (this.props.Login.masterData.containerStructure !== previousProps.Login.masterData.containerStructure) {\r\n            let queryBuilderFreezer = [];\r\n            bool = true;\r\n            this.props.Login.masterData.containerStructure && this.props.Login.masterData.containerStructure.map(\r\n                (item) => queryBuilderFreezer.push({ \"value\": item.ncontainerstructurecode, \"title\": item.scontainerstructurename })\r\n            )\r\n            fields = {\r\n                ...fields,\r\n                'ncontainerstructurecode': {\r\n                    \"label\": this.props.intl.formatMessage({\r\n                        id: \"IDS_CONTAINERSTRUCTURENAME\",\r\n                    }),\r\n                    \"type\": \"select\",\r\n                    \"valueSources\": [\"value\"],\r\n                    \"fieldSettings\": {\r\n                        \"listValues\": queryBuilderFreezer\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        ///////////////////////////////\r\n        if (this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            bool = true;\r\n            userRoleControlRights = [];\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode] && Object.values(this.props.Login.userRoleControlRights[this.props.Login.userInfo.nformcode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode))\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode)\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.filterStorageCategory !== previousProps.Login.masterData.filterStorageCategory) {\r\n            bool = true;\r\n            const filterStorageCategorylist = constructOptionList(this.props.Login.masterData.filterStorageCategory || [], \"nstoragecategorycode\",\r\n                \"sstoragecategoryname\", undefined, undefined, undefined);\r\n            storageCategoryOptions = filterStorageCategorylist.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedStorageCategory) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nstoragecategorycode: storageCategoryOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedStorageCategory.nstoragecategorycode)[0]\r\n                }\r\n            }\r\n\r\n        }\r\n        if (this.props.Login.masterData.sampleStorageLocation !== previousProps.Login.masterData.sampleStorageLocation) {\r\n            bool = true;\r\n            const sampleStorageLocationList = constructOptionList(this.props.Login.masterData.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n            storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageLocation) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode)[0]\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n\r\n        if (this.props.Login.masterData.sampleStorageVersion !== previousProps.Login.masterData.sampleStorageVersion) {\r\n            bool = true;\r\n            const sampleStorageVersionList = constructOptionList(this.props.Login.masterData.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                \"nversionno\", undefined, undefined, undefined);\r\n            sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n            if (this.props.Login.masterData.selectedSampleStorageVersion) {\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.filter(item =>\r\n                        item.value === this.props.Login.masterData.selectedSampleStorageVersion.nsamplestorageversioncode)[0]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {\r\n            bool = true;\r\n            masterData = this.props.Login.masterData;\r\n            filterData = this.generateBreadCrumData(this.props.Login.masterData);\r\n\r\n        }\r\n        if (this.state.masterData !== previousState.masterData) {\r\n            bool = true;\r\n            if (this.state.masterData.sampleStoragetransaction) {\r\n                if (this.state.masterData.sampleStoragetransaction !== previousState.masterData.sampleStoragetransaction) {\r\n                    masterData = this.state.masterData;\r\n                    console.log('masterData.sampleStoragetransaction', dataResult)\r\n                    //ALPD-4496 janakumar  pagination  work \r\n                    if(masterData.sampleStoragetransaction !== undefined && masterData.sampleStoragetransaction.length >this.state.dataStateChange.skip ===false)\r\n                    {\r\n                        this.state.dataStateChange.skip=0;\r\n                        this.state.dataStateChange.take=10;\r\n                    }\r\n                    dataResult = masterData.sampleStoragetransaction ?\r\n                        this.processWithGroups(masterData.sampleStoragetransaction || [],\r\n                            this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                take: 10,\r\n                                skip: 0\r\n                            }) : []\r\n\r\n\r\n                    \r\n\r\n                    console.log('dataResultn', dataResult)\r\n                }\r\n            }\r\n\r\n            filterData = this.generateBreadCrumData(this.state.masterData);\r\n\r\n        }\r\n        if (bool) {\r\n            this.setState({\r\n                storageCategoryOptions, filterData,\r\n                selectedRecord, controlMap,\r\n                userRoleControlRights, storageLocationOptions,\r\n                sampleStorageVersionOptions, masterData, selectedRecordFilter, fields, selectedProjectType, openModal, loadEsign, dataResult\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n    openModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: {\r\n                openModal: true, selectedRecord: {}, loadTreeProperties: false,\r\n                treeData: [\r\n                    {\r\n                        text: \"root\",\r\n                        expanded: true,\r\n                        editable: true,\r\n                        root: true,\r\n                        id: uuid(),\r\n                    },\r\n                ], operation: \"create\"\r\n            }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    closeModal = () => {\r\n        let loadEsign = this.state.loadEsign;\r\n        let openModal = this.state.openModal;\r\n        let selectedRecord = this.state.selectedRecord;\r\n        if (loadEsign) {\r\n          //  loadEsign = false;\r\n            openModal = true;\r\n            loadEsign = false;\r\n            selectedRecord['esignpassword'] = \"\"\r\n            selectedRecord['esigncomments'] = \"\"\r\n            selectedRecord['esignreason'] = \"\"\r\n\t\t\t//ALPD-4738\r\n\t\t\t//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\r\n            // const updateInfo = {\r\n            //     typeName: DEFAULT_RETURN,\r\n            //     data: { openModal, loadEsign, selectedRecord, selectedId: null }\r\n            // }\r\n            // this.props.updateStore(updateInfo);\r\n            this.setState({openModal, loadEsign, selectedRecord, selectedId: null })\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        this.setState({\r\n            selectedRecord,\r\n           // ismoveSample: false,\r\n            openModal, isInitialRender: true\r\n            , isFilterPopup: false,\r\n            loadEsign: false\r\n        })\r\n    }\r\n    onInputChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === \"checkbox\") {\r\n            selectedRecord[event.target.name] = event.target.checked;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n    };\r\n \r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.props.Login.loadTreeProperties === true) {\r\n            this.onSaveProperties(saveType, formRef);\r\n        } else if (this.state.openSpreadSheet && !this.state.ismoveSample) {\r\n            this.CRUDSampleStorageTransaction({\r\n                ...this.state.editedsheetData,\r\n                nsamplestoragemappingcode: this.state.isMultiSampleAdd ?\r\n                    Object.keys(this.state.sheetData).map(nsamplestoragemappingcode => nsamplestoragemappingcode).join(\",\")\r\n                    : this.state.editedsheetData.nsamplestoragemappingcode.toString(),\r\n                nsamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\r\n                sheetData: JSON.stringify(this.state.sheetData ? this.state.sheetData : {}),\r\n                sheetUpdate: true,\r\n                userinfo: this.props.Login.userInfo,\r\n                isMultiSampleAdd: this.state.isMultiSampleAdd\r\n            }, 'create');\r\n        } else if (this.state.ismoveSample) {\r\n            let destinationPathlst = [];\r\n            let dataResult = this.state.dataResult;\r\n            dataResult.data.map(item => {\r\n                  item.items.map(item => {\r\n                    if (item.hasOwnProperty('selected') && item.selected) {\r\n                        destinationPathlst.push(item);\r\n                    } \r\n                });\r\n            });\r\n            if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.state.ncontrolcode)) {\r\n                const masterData = this.state.masterData;\r\n                let inputParam = {\r\n                    methodUrl: \"SampleStorageTransaction\",\r\n                    operation: \"update\",\r\n                    classUrl: \"samplestoragemove\",\r\n\r\n                    inputData: this.state.isMultiContainermove? {\r\n                        selectedContainers: JSON.stringify(destinationPathlst),\r\n                        nsourcemappingcode: JSON.stringify(destinationPathlst.map(y => y.nsamplestoragemappingcode)),\r\n                        nsourcensamplestoragelocationcode: JSON.stringify(destinationPathlst.map(y => y.nsamplestoragelocationcode)),\r\n                        nsourcenprojecttypecode: JSON.stringify(destinationPathlst.map(y => y.nprojecttypecode)),\r\n                        destinationPathCount: destinationPathlst.length,\r\n                        isMultiContainermove: true,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord.nsamplestoragelocationcode.value, \r\n                        ...this.state.masterData,\r\n                        userinfo: this.props.Login.userInfo\r\n                    } : {\r\n                        nsourcemappingcode: this.state.editedsheetData.nsamplestoragemappingcode,\r\n                        nsourceprojecttypecode: this.state.editedsheetData.nprojecttypecode ,\r\n                        nsourcesamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord.nsamplestoragelocationcode.value,\r\n                        nsamplestoragemappingcode: this.state.selectedRecord.nsamplestoragemappingcode.value,\r\n                        nprojecttypecode: this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,\r\n                        filterprojecttypecode:this.state.selectedProjectType.value,\r\n\r\n                        ssamplestoragelocationname:this.state.editedsheetData.ssamplestoragelocationname,\r\n                        ssamplestoragepathname:this.state.editedsheetData.scontainerpath,\r\n                        stosamplestoragelocationname:this.state.selectedRecord.nsamplestoragelocationcode.label,\r\n                        stosamplestoragepathname:this.state.selectedRecord.nsamplestoragemappingcode.label,\r\n                        sboxid:this.state.editedsheetData.sboxid,\r\n                        stoboxid:this.state.selectedRecord.nsamplestoragemappingcode.item.sboxid,\r\n                        ...this.state.masterData,\r\n                        userinfo: this.props.Login.userInfo\r\n                    }\r\n                }\r\n\t\t\t\t//ALPD-4738\r\n\t\t\t\t//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\r\n                this.setState({ loading: true })\r\n                let urlArray = [];\r\n                const currentTimeUrl = rsapi.post(\"/timezone/getLocalTimeByZone\", {\r\n                    \"userinfo\": this.props.Login.userInfo\r\n                });\r\n                const reasonUrl = rsapi.post(\"/reason/getReason\", {\r\n                    \"userinfo\": this.props.Login.userInfo\r\n                });\r\n        \r\n                urlArray = [reasonUrl,currentTimeUrl];\r\n                Axios.all(urlArray)\r\n                    .then(response => {\r\n                        const reasonMap = constructOptionList(response[0].data || [], \"nreasoncode\",\r\n                            \"sreason\", undefined, undefined, false);\r\n                        const reasonList = reasonMap.get(\"OptionList\");\r\n                        this.setState({\r\n                            esign:reasonList,\r\n                            serverTime: rearrangeDateFormat(this.props.Login.userInfo, response[1].data),\r\n                            loadEsign: true, openModal: true,  screenData: { inputParam, masterData },\r\n                            loading: false\r\n                        });\r\n                    }).catch(error => {\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        } else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                        this.setState({\r\n                            loading: false\r\n                        });\r\n                    });\r\n                // const updateInfo = {\r\n                //     typeName: DEFAULT_RETURN,\r\n                //     data: {\r\n                //         loadEsign: true, openModal: true,  screenData: { inputParam, masterData }\r\n                //     }\r\n                // }\r\n                // this.props.updateStore(updateInfo);\r\n                //this.setState({ loadEsign: true, openModal: true,  screenData: { inputParam, masterData }})\r\n            }\r\n            else {\r\n                if (this.state.isMultiContainermove) { \r\n                    this.CRUDSampleStorageTransaction({\r\n                        selectedContainers: JSON.stringify(destinationPathlst),\r\n                        nsourcemappingcode: JSON.stringify(destinationPathlst.map(y => y.nsamplestoragemappingcode)),\r\n                         //ALPD-4490--Vignesh R(07-08-2024)\r\n                        nsourcenprojecttypecode: JSON.stringify(destinationPathlst.map(y => y.nprojecttypecode)),\r\n                        nsourcensamplestoragelocationcode: JSON.stringify(destinationPathlst.map(y => y.nsamplestoragelocationcode)),\r\n                        destinationPathCount: destinationPathlst.length,\r\n                        isMultiContainermove: true,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord.nsamplestoragelocationcode.value,\r\n                        // nsamplestoragemappingcode: this.state.selectedRecord.nsamplestoragemappingcode.value,\r\n                        // nprojecttypecode: this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,\r\n                        filterquery: this.state.submittedselectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value,\r\n                        userinfo: this.props.Login.userInfo\r\n                    }, 'update');\r\n                } else {\r\n                    this.CRUDSampleStorageTransaction({\r\n                        nsourcemappingcode: this.state.editedsheetData.nsamplestoragemappingcode,\r\n                        //ALPD-4490--Vignesh R(07-08-2024)\r\n                        nsourcesamplestoragelocationcode: this.state.editedsheetData.nsamplestoragelocationcode,\r\n                        nsourceprojecttypecode: this.state.editedsheetData.nprojecttypecode ,\r\n                        nsamplestoragelocationcode: this.state.selectedRecord.nsamplestoragelocationcode.value,\r\n                        nsamplestoragemappingcode: this.state.selectedRecord.nsamplestoragemappingcode.value,\r\n                        nprojecttypecode: this.state.selectedRecord.nsamplestoragemappingcode.item.nprojecttypecode,\r\n                        filterprojecttypecode:this.state.selectedProjectType.value,\r\n                        ssamplestoragelocationname:this.state.editedsheetData.ssamplestoragelocationname,\r\n                        ssamplestoragepathname:this.state.editedsheetData.scontainerpath,\r\n                        stosamplestoragelocationname:this.state.selectedRecord.nsamplestoragelocationcode.label,\r\n                        stosamplestoragepathname:this.state.selectedRecord.nsamplestoragemappingcode.label,\r\n                        sboxid:this.state.editedsheetData.sboxid,\r\n                        stoboxid:this.state.selectedRecord.nsamplestoragemappingcode.item.sboxid,\r\n                        filterquery: this.state.submittedselectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value,\r\n                        userinfo: this.props.Login.userInfo\r\n                    }, 'update');\r\n                }\r\n            }\r\n        } else {\r\n            this.onSaveSampleStorageTransaction(saveType, formRef);\r\n        }\r\n    };\r\n\r\n\r\n    paneSizeChange = (d) => {\r\n        this.setState({\r\n            splitChangeWidthPercentage: d\r\n        })\r\n    }\r\n    handlePageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    handleDetailPageChange = e => {\r\n        this.setState({\r\n            skip: e.skip,\r\n            take: e.take\r\n        });\r\n    };\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                firstPane: height - 80,\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n    generateBreadCrumData(obj) {\r\n        const breadCrumbData = [];\r\n        if (this.state.masterData && this.state.masterData.filterStorageCategory) {\r\n\r\n            breadCrumbData.push(\r\n                {\r\n                    \"label\": \"IDS_STORAGECATEGORY\",\r\n                    \"value\": obj.selectedStorageCategoryName &&\r\n                        obj.selectedStorageCategoryName !== null ?\r\n                        obj.selectedStorageCategoryName : \"NA\"\r\n\r\n                }\r\n                // ,\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYLOCATION\",\r\n                //     \"value\": obj.selectedSampleStorageLocation &&\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname !== null ?\r\n                //         obj.selectedSampleStorageLocation.ssamplestoragelocationname : \"NA\"\r\n                // },\r\n                // {\r\n                //     \"label\": \"IDS_STORAGECATEGORYVERSION\",\r\n                //     \"value\": obj.selectedSampleStorageVersion &&\r\n                //         obj.selectedSampleStorageVersion.nversionno !== null ?\r\n                //         obj.selectedSampleStorageVersion.nversionno : \"NA\"\r\n                // }\r\n            );\r\n        }\r\n        return breadCrumbData;\r\n    }\r\n\r\n    openFilter = () => {\r\n        let showFilter = !this.props.Login.showFilter\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    closeFilter = () => {\r\n\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { showFilter: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n    reloadData = () => {\r\n        this.onFilterSubmit();\r\n    }\r\n    onEditSampleStorageLocation = (selectedSampleStorageVersion, userInfo, editId) => {\r\n        this.handleSearch();\r\n        this.setState({ searchedTreeData: undefined })\r\n        if (this.searchRef.current) {\r\n            this.searchRef.current.value = \"\";\r\n        }\r\n\r\n        let isOnlyDraft = false;\r\n        if (this.props.Login.masterData.sampleStorageVersion && this.props.Login.masterData.sampleStorageVersion.length > 1) {\r\n            isOnlyDraft = true;\r\n        }\r\n        this.props.editSampleStorageLocation(selectedSampleStorageVersion, userInfo, isOnlyDraft, editId);\r\n    }\r\n    openStorageMapping = (addId) => {\r\n        this.addSampleStorageMapping({ userInfo: this.props.Login.userInfo, addId });\r\n    }\r\n    deletesamplestoragemapping = (param) => {\r\n        this.CRUDSampleStorageTransaction({\r\n            'nsamplestoragelocationcode': this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            'nsamplestoragemappingcode': param.nsamplestoragemappingcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }, 'delete');\r\n    }\r\n    addMultipleSample = (param) => {\r\n        this.setState({\r\n            //sheetData: JSON.parse(response[0].data.sheetData),\r\n            openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n            loading: false\r\n        })\r\n    }\r\n    // opensearch=()={\r\n\r\n    // }\r\n\r\n    opensearch = () => {\r\n        this.setState({\r\n            openModal: true, isFilterPopup: true, openSpreadSheet: false,ismoveSample:false, selectedRecord: { ...this.state.submittedselectedRecord } ||\r\n                { ...this.state.selectedRecord }\r\n        })\r\n    }\r\n    addSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        let groupedArray = this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n            this.state.dataStateChange ? this.state.dataStateChange : {\r\n                take: 10,\r\n                skip: 0\r\n            }).data;\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemappingSheetData\",\r\n            {\r\n                isMultiSampleAdd: (nflag === 2) ? true : false,\r\n                nsamplestoragemappingcode:\r\n                    (nflag === 2) ? groupedArray.map(groupedItem => groupedItem.items.map(item => item.nsamplestoragemappingcode)).join(\",\")\r\n                        : param.nsamplestoragemappingcode.toString()\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                if (nflag === 2) {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        AdditionalFieldsComponentData: JSON.parse(response[0].data.AdditionalFieldsComponentData),\r\n                        openModal: true, isMultiSampleAdd: true, openSpreadSheet: true,//, editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false,\r\n                        loadEsign: false,ismoveSample:false\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        sheetData: JSON.parse(response[0].data.sheetData),\r\n                        AdditionalFieldsComponentData: JSON.parse(response[0].data.AdditionalFieldsComponentData),\r\n                        openModal: true, isMultiSampleAdd: false, openSpreadSheet: true,\r\n                        editedsheetData: param, Rows: param.nrow, columns: param.ncolumn,\r\n                        loading: false, loadEsign: false,ismoveSample:false\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n\r\n    }\r\n    onComboChange = (comboData, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let selectedProjectType = this.state.selectedProjectType;\r\n        let masterData = this.state.masterData;\r\n        if (fieldName === 'nstoragecategorycode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: comboData.value\r\n            }, fieldName, comboData);\r\n        } else if (fieldName === 'ncontainertypecode') {\r\n            return this.getContainerStructure({\r\n                userinfo: this.props.Login.userInfo,\r\n                ncontainertypecode: comboData.value\r\n            }, fieldName, comboData);\r\n\r\n        } else if (fieldName === 'nprojecttypecode') {\r\n            if (selectedProjectType.value !== comboData.value) {\r\n                masterData = {\r\n                    ...masterData,\r\n                    sampleStoragetransaction: []\r\n                }\r\n            }\r\n            this.setState({ masterData, selectedProjectType: { label: comboData.label, value: comboData.value } })\r\n\r\n        } else if (fieldName === 'ncontainerstructurecode') {\r\n            selectedRecord['nrow'] = comboData.item.nrow ? comboData.item.nrow : 1;\r\n            selectedRecord['ncolumn'] = comboData.item.ncolumn ? comboData.item.ncolumn : 1;\r\n        } else if (fieldName === 'nsamplestoragelocationcode') {\r\n            return this.getSampleStorageLocation({\r\n                userinfo: this.props.Login.userInfo,\r\n                nstoragecategorycode: this.state.selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value\r\n\r\n            }, fieldName, comboData);\r\n        }\r\n        if (fieldName === 'nsamplestorageversioncode') {\r\n            selectedRecordFilter[fieldName] = comboData;\r\n            this.setState({ selectedRecordFilter });\r\n\r\n        } else {\r\n            selectedRecord[fieldName] = comboData;\r\n            this.setState({ selectedRecord, selectedRecordFilter });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onSaveSampleStorageTransaction = (saveType) => {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let containerpathCodeArray = [];\r\n        if (this.state.operation === 'create') {\r\n            containerpathCodeArray = selectedRecord['nsamplestoragecontainerpathcode'].map(item => item.value);\r\n        }\r\n        const inputParam =\r\n        {\r\n            nsamplestoragetransactioncode: selectedRecord['nsamplestoragetransactioncode'] ?\r\n                parseInt(selectedRecord['nsamplestoragetransactioncode']) : 0,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            nsamplestoragemappingcode: selectedRecord['nsamplestoragemappingcode'] ?\r\n                parseInt(selectedRecord['nsamplestoragemappingcode']) : 0,\r\n            ncontainertypecode: -1,\r\n            nproductcode: selectedRecord['nproductcode'].value,\r\n            ndirectionmastercode: -1,\r\n            ssamplestoragemappingname: \"-\",\r\n            nsamplestoragecontainerpathcode: this.state.operation === 'create' ?\r\n                JSON.stringify(containerpathCodeArray) : parseInt(selectedRecord['nsamplestoragecontainerpathcode'].value),\r\n            containerpathsize: containerpathCodeArray.length,\r\n            nneedposition: 4,\r\n            ncontainerstructurecode: -1, nquantity: selectedRecord['nquantity'] ?\r\n                parseInt(selectedRecord['nquantity']) : 1,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const masterData = this.props.Login.masterData;\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolcode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData }, saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        }\r\n        else {\r\n            this.CRUDSampleStorageTransaction(inputParam, this.state.operation);\r\n        }\r\n    }\r\n    getsamplestoragetransaction = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragetransaction\", {\r\n            userinfo: this.props.Login.userInfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    childDataChange = (selectedRecord, availableContainersdata) => {\r\n        this.setState({\r\n            availableContainers: availableContainersdata,\r\n            selectedRecord: {\r\n                ...selectedRecord\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    childSheetDataChange = (sheetData) => {\r\n\r\n        this.setState({\r\n            // selectedRecord: {\r\n            //     ...this.state.selectedRecord,\r\n            //     sheetData: {\r\n            //         ...this.state.selectedRecord.sheetData,\r\n            //         ...sheetData\r\n            //     }\r\n            // },\r\n            sheetData: {\r\n                ...sheetData\r\n            },\r\n            isInitialRender: false\r\n        });\r\n    }\r\n    // Actions start\r\n    getActiveSampleStorageMappingById = (inputParam, userinfo) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getActiveSampleStorageMappingById\", {\r\n            nsamplestoragelocationcode: inputParam['selectedSampleStorageLocation'][0].nsamplestoragelocationcode,\r\n            userinfo: userinfo\r\n        });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData, ...response[0].data\r\n                    }//,\r\n                    // selectedRecord: {\r\n                    //     ...this.state.selectedRecord\r\n                    //    // , sheetData: JSON.parse(response[0].data.selectedSampleStoragemapping.jsondata.value)\r\n                    // }\r\n                    ,\r\n                    loading: false\r\n                });\r\n\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n    filterColumnData = (filterValue, filterParam) => {\r\n        let masterData = filterParam.masterData;\r\n        let primaryKeyValue = 0;\r\n        let searchedData = undefined;\r\n        if (filterValue === \"\") {\r\n            if (masterData[filterParam.inputListName] && masterData[filterParam.inputListName].length > 0) {\r\n                primaryKeyValue = masterData[filterParam.inputListName][0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n        else {\r\n            if (filterParam.isjsondata) {\r\n                searchedData = searchJsonData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n            }\r\n            else {\r\n                searchedData = searchData(filterValue, masterData[filterParam.inputListName], filterParam.searchFieldList || []);\r\n\r\n            }\r\n            if (searchedData.length > 0) {\r\n                primaryKeyValue = searchedData[0][filterParam.primaryKeyField];\r\n            }\r\n        }\r\n\r\n        if (primaryKeyValue !== 0) {\r\n            this.setState({ loading: true });\r\n            return rsapi.post(filterParam.fetchUrl, { ...filterParam.fecthInputObject, [filterParam.primaryKeyField]: primaryKeyValue })\r\n                .then(response => {\r\n                    masterData[\"searchedData\"] = searchedData;\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (filterParam.sortField) {\r\n                        sortData(masterData, filterParam.sortOrder, filterParam.sortField);\r\n                    }\r\n                    else {\r\n                        sortData(masterData);\r\n                    }\r\n                    this.setState({ masterData, loading: false, skip: 0, take: 10, selectedId: null });\r\n                })\r\n                .catch(error => {\r\n                    this.setState({ loading: false });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(this.props.intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            masterData[filterParam.selectedObject] = undefined;\r\n            masterData[\"searchedData\"] = [];\r\n            Object.keys(masterData).forEach(item => {\r\n                if (item !== filterParam.inputListName && item !== filterParam.selectedObject\r\n                    && filterParam.unchangeList && filterParam.unchangeList.indexOf(item) === -1)\r\n                    masterData[item] = [];\r\n            })\r\n            this.setState({\r\n                masterData, operation: null, modalName: undefined,\r\n                loading: false\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    ConfirmMove = () => { \r\n        let destinationPathlst = [];\r\n        let dataResult = this.state.dataResult;\r\n        dataResult.data.map(item => {\r\n              item.items.map(item => {\r\n                if (item.hasOwnProperty('selected') && item.selected) {\r\n                    destinationPathlst.push(item);\r\n                } \r\n            });\r\n        });\r\n        const inputData={\r\n            isok:true,\r\n            filterprojecttypecode:this.state.selectedProjectType.value,\r\n            selectedContainers: JSON.stringify(destinationPathlst),\r\n            nsourcemappingcode: JSON.stringify(destinationPathlst.map(y => y.nsamplestoragemappingcode)),\r\n            destinationPathCount: destinationPathlst.length,\r\n            isMultiContainermove: true,\r\n            nsamplestoragelocationcode: this.state.selectedRecord.nsamplestoragelocationcode.value, \r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const inputParam = {\r\n            methodUrl: \"SampleStorageTransaction\",\r\n            classUrl: 'samplestoragemove',\r\n            inputData: inputData,\r\n            operation: \"update\",\r\n            dataState: this.state.dataStateChange,\r\n          };\r\n\r\n        this.confirmMessage.confirm(\"deleteMessage\", \r\n        this.props.intl.formatMessage({ id: \"IDS_WARNING\" }),\r\n         this.props.intl.formatMessage({ id: \"IDS_MISMATCHCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n             this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n             this.state.loadEsign?\r\n             ()=>this.props.crudMasterstorage(inputParam, this.state.masterData, \"openModal\" )\r\n             :\r\n             ()=>this.CRUDSampleStorageTransaction({...inputData}, 'update'));\r\n    }\r\n    CRUDSampleStorageTransaction = (inputParam, operation) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemove/\" + operation + \"SampleStorageTransaction\", inputParam);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                // if(this.state.isMultiContainermove){\r\n                //     this.ConfirmMove()\r\n                // }else{\r\n                    this.setState({\r\n                        isInitialRender: true,\r\n                        selectedRecord: {},\r\n                        masterData: {\r\n                            ...this.state.masterData, ...response[0].data\r\n                        },\r\n                        openModal: false,\r\n                        loading: false,\r\n                        ismoveSample: false\r\n                    });\r\n                //} \r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else { \r\n                    if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){\r\n                        this.ConfirmMove()\r\n                    }else{\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n    getSampleStorageLocation(inputData, fieldName, comboData) {\r\n        let selectedRecordFilter = this.state.selectedRecordFilter || {};\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        if (fieldName === 'nsamplestoragelocationcode') {\r\n            inputParamData = {\r\n                nstoragecategorycode: selectedRecordFilter['nstoragecategorycode'].value,\r\n                nsamplestoragelocationcode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        } else {\r\n            inputParamData = {\r\n                nstoragecategorycode: comboData.value,\r\n                userinfo: inputData.userinfo\r\n            }\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { storageLocationOptions,\r\n                    sampleStorageVersionOptions } = this.state\r\n\r\n                let sampleStorageLocationList = constructOptionList(response[0].data.sampleStorageLocation || [], \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", undefined, undefined, undefined);\r\n                storageLocationOptions = sampleStorageLocationList.get(\"OptionList\");\r\n                let sampleStorageVersionList = constructOptionList(response[0].data.sampleStorageVersion || [], \"nsamplestorageversioncode\",\r\n                    \"nversionno\", undefined, undefined, undefined);\r\n                sampleStorageVersionOptions = sampleStorageVersionList.get(\"OptionList\");\r\n                selectedRecordFilter = {\r\n                    ...selectedRecordFilter,\r\n                    nsamplestoragelocationcode: storageLocationOptions.length > 0 ?\r\n                        storageLocationOptions[0] : [],\r\n                    nsamplestorageversioncode: sampleStorageVersionOptions.length > 0 ?\r\n                        sampleStorageVersionOptions[0] : [],\r\n\r\n                }\r\n                this.setState({\r\n                    storageLocationOptions, sampleStorageVersionOptions,\r\n                    selectedRecordFilter: {\r\n                        ...selectedRecordFilter,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n    onFilterSubmit = () => {\r\n        this.setState({ loading: true })\r\n        let inputParamData = {\r\n            nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            // nsamplestoragelocationcode: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].value,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getsamplestoragemapping\", inputParamData);\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let object = {\r\n                    selectedStorageCategoryName: this.state.selectedRecordFilter[\"nstoragecategorycode\"].item.sstoragecategoryname,\r\n                    // ssamplestoragelocationname: this.state.selectedRecordFilter[\"nsamplestoragelocationcode\"].item.ssamplestoragelocationname,\r\n                    // selectedSampleStorageVersion: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].item.nversionno,\r\n                }\r\n                let filterData = this.generateBreadCrumData(object);\r\n\r\n                this.setState({\r\n                    filterData,\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data,\r\n                        //   sampleStoragetransaction: response[0].data['sampleStoragetransaction'],\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    addSampleStorageMapping() {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            // nstoragecategorycode: this.state.selectedRecordFilter[\"nstoragecategorycode\"].value,\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            // nsamplestorageversioncode: this.state.selectedRecordFilter[\"nsamplestorageversioncode\"].value,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"containertype/getContainerType\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n                const containerstructureMap = constructOptionList(response[0].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                this.setState({\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        directionmasterOptions: directionmasterList,\r\n                        // ncontainertypecode: containerTypeList[0],\r\n                        // containerStructureOptions: containerstructureList,\r\n                        // ncontainerstructurecode: containerstructureList[0],\r\n                        nrow: containerStructure.length > 0 ? containerStructure[0].nrow : 1,\r\n                        ncolumn: containerStructure.length > 0 ? containerStructure[0].ncolumn : 1,\r\n                        isInitialRender: true\r\n\r\n                    },\r\n                    openSpreadSheet: false,\r\n                    operation: 'create',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    getContainerStructure(inputData, fieldName, comboData) {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            ncontainertypecode: comboData.value,\r\n            userinfo: inputData.userinfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/getContainerStructure\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let { containerStructureOptions, selectedRecord } = this.state\r\n\r\n                let containerStructureList = constructOptionList(response[0].data.containerStructure || [], \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, undefined);\r\n                containerStructureOptions = containerStructureList.get(\"OptionList\");\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nrow: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.nrow : 1,\r\n                    ncolumn: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0].item.ncolumn : 1,\r\n                    ncontainerstructurecode: containerStructureOptions.length > 0 ?\r\n                        containerStructureOptions[0] : [],\r\n                    containerStructureOptions: containerStructureOptions.length > 0 ?\r\n                        [...containerStructureOptions] : [],\r\n                }\r\n\r\n                this.setState({\r\n\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        [fieldName]: comboData\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    onSampleMappingSaveClick = () => {\r\n        const mandatoryFields =\r\n             this.state.isMultiContainermove ? \r\n             [{\r\n                \"idsName\": \"IDS_TOSTORAGESTRUCTURENAME\", \"dataField\": \"nsamplestoragelocationcode\",\r\n                \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n            } ] :\r\n                [{\r\n                    \"idsName\": \"IDS_TOSTORAGESTRUCTURENAME\", \"dataField\": \"nsamplestoragelocationcode\",\r\n                    \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                },\r\n                {\r\n                    \"idsName\": \"IDS_TOSAMPLESTORAGEPATH\",\r\n                    \"dataField\": \"nsamplestoragemappingcode\", \"mandatoryLabel\":\r\n                        \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                }] \r\n                // :\r\n                // this.state.openSpreadSheet ? [] : this.state.selectedRecord[\"nneedposition\"] === undefined ||\r\n                //     this.state.selectedRecord[\"nneedposition\"] === false ? [\r\n                //     {\r\n                //         \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                //         \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_PRODUCT\",\r\n                //         \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                //             \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                //         \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                //             \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                //     }\r\n                // ] : [\r\n                //     {\r\n                //         \"idsName\": \"IDS_SAMPLESTORAGEMAPPING\", \"dataField\": \"nsamplestoragecontainerpathcode\",\r\n                //         \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_PRODUCT\",\r\n                //         \"dataField\": \"nproductcode\", \"mandatoryLabel\":\r\n                //             \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     }\r\n                //     ,\r\n                //     {\r\n                //         \"idsName\": \"IDS_CONTAINERTYPE\",\r\n                //         \"dataField\": \"ncontainertypecode\", \"mandatoryLabel\":\r\n                //             \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_CONTAINERSTRUCTURENAME\",\r\n                //         \"dataField\": \"ncontainerstructurecode\", \"mandatoryLabel\":\r\n                //             \"IDS_SELECT\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_DIRECTION\",\r\n                //         \"dataField\": \"ndirectionmastercode\", \"mandatoryLabel\":\r\n                //             \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                //     },\r\n                //     {\r\n                //         \"idsName\": \"IDS_AVAILABLESPACE\",\r\n                //         \"dataField\": \"nquantity\", \"mandatoryLabel\":\r\n                //             \"IDS_ENTER\", \"controlType\": \"selectbox\"\r\n                //     }\r\n                // ]\r\n        onSaveMandatoryValidation(this.state.selectedRecord, mandatoryFields,\r\n            this.onSaveClick)\r\n    }\r\n    dataStateChange = (event) => {\r\n        let dataResult = this.state.dataResult;\r\n        if (this.state.masterData.sampleStoragetransaction) {\r\n            dataResult = this.state.masterData.sampleStoragetransaction ?\r\n                this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                    event.dataState ? event.dataState : {\r\n                        take: 10,\r\n                        skip: 0\r\n                    }) : []\r\n            dataResult.data.map(x => {\r\n                return x.items.map(item => {\r\n                    item.selected = false;\r\n                    return item;\r\n                });\r\n            });\r\n        }\r\n        this.setState({\r\n            dataResult: dataResult,\r\n            dataStateChange: event.dataState\r\n        });\r\n    }\r\n\r\n    approveSampleStorageMapping = (event) => {\r\n        let inputParamData = {}\r\n        this.setState({ loading: true })\r\n        inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/approveSampleStorageMapping\", inputParamData);\r\n\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                this.setState({\r\n                    masterData: {\r\n                        ...this.state.masterData,\r\n                        ...response[0].data\r\n                    },\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    //ALPD-4635\r\n    checkFilterIsEmptyQueryBuilder=(treeData)=> {\r\n        //this condition is handle for bulk record only \r\n        if(this.props.Login && this.props.Login.settings && parseInt(this.props.Login.settings['69'])===transactionStatus.YES){\r\n            let isFilterEmpty=true;\r\n            return isFilterEmpty;\r\n        }else{\r\n        let ParentItem = { ...treeData };\r\n        let isFilterEmpty=false;\r\n            let childArray = ParentItem.children1;\r\n            if (childArray && childArray.length > 0 && childArray !== undefined) {\r\n                for (var i = 0; i < childArray.length; i++) {\r\n                    let childData = childArray[i]\r\n                    if (!childData.hasOwnProperty('children1')) {\r\n                        if(  childData.properties.operator!==\"is_empty\"\r\n                          && childData.properties.operator!==\"is_not_empty\"\r\n                          && childData.properties.operator!==\"is_null\"\r\n                          && childData.properties.operator!==\"is_not_null\" ){\r\n                            isFilterEmpty=true;\r\n                            return isFilterEmpty;\r\n                    }\r\n                    } else {\r\n                        if (childData) {\r\n                            ParentItem = this.checkFilterIsEmptyQueryBuilder(childData)\r\n                            if(!ParentItem){\r\n                                return ParentItem;\r\n                            }\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n            return isFilterEmpty;\r\n        }\r\n      }\r\n    getDynamicFilterExecuteData(nflag) {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        if (nflag === 2 ? true : (selectedRecord.filterquery && selectedRecord.filterquery !== \"\")) {\r\n            let isFilterEmpty = this.checkFilterIsEmptyQueryBuilder(selectedRecord.filterQueryTreeStr);\r\n            if(isFilterEmpty){\r\n            this.setState({ loading: true })\r\n            let obj = {// ...inputParam.component, \r\n                label: 'sampleStoragetransaction', valuemember: 'nsamplestoragemappingcode',\r\n                filterquery: nflag === 2 ?\r\n                    this.state.submittedselectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value\r\n                    :\r\n                    selectedRecord.filterquery + \" and nprojecttypecode=\" + this.state.selectedProjectType.value\r\n                , source: 'view_samplestoragelocation', userinfo: this.props.Login.userInfo\r\n            }\r\n            let urlArray = [];\r\n            const url1 = rsapi.post(\"/samplestoragemove/getdynamicfilterexecutedata\", obj);\r\n            urlArray = [url1];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let masterData = this.state.masterData\r\n                    masterData = { ...masterData, ...response[0].data }\r\n                    this.setState({\r\n                        masterData: { ...masterData },\r\n                        loading: false,\r\n                        openModal: false,\r\n                        isFilterPopup: false,\r\n                        submittedselectedRecord: nflag === 2 ?\r\n                            { ...this.state.submittedselectedRecord }\r\n                            :\r\n                            { ...selectedRecord }\r\n                        ,\r\n                        selectedRecord: {},\r\n                        displayQuery: this.state.tree ? QbUtils.queryString(this.state.tree, this.state.config, true) : \"\"\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.info(error.response.data.rtn);\r\n                    }\r\n\r\n                })\r\n            }else{\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PROVIDEONEMOREFILTERDATAWITHNOTNULLOPERATOR\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTAFILTER\" }));\r\n\r\n        }\r\n    }\r\n    movemultipleContainer = () => {\r\n        let destinationPathlst = [];\r\n        let dataResult = this.state.dataResult;\r\n        dataResult.data.map(item => {\r\n              item.items.map(item => {\r\n                if (item.hasOwnProperty('selected') && item.selected) {\r\n                    destinationPathlst.push(item);\r\n                } \r\n            });\r\n        }); \r\n        if(destinationPathlst.length>0){\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemove/getsamplemovedata\",\r\n            {\r\n                isMultiContainermove: true,\r\n                // ncontainertypecode: 1,\r\n                // ncontainerstructurecode: 1,\r\n                isMultiContainermove: true,\r\n                userinfo: this.props.Login.userInfo\r\n            });\r\n        urlArray = [url1];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                let storagemoverecords = {};\r\n                let selectedRecord = this.state.selectedRecord;\r\n                const samplestoragecontainerpathMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const samplestoragecontainerpathList = samplestoragecontainerpathMap.get(\"OptionList\");\r\n                const storageStructureMap = constructOptionList(response[0].data['sampleStorageLocation'] || [],\r\n                    \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", \"descending\", undefined, true);\r\n                const storageStructureList = storageStructureMap.get(\"OptionList\");\r\n\r\n                storagemoverecords = this.state.masterData.sampleStoragetransaction.filter(item =>\r\n                    item.hasOwnProperty('selected') && item.selected\r\n                )\r\n                selectedRecord = {\r\n                    ...selectedRecord,\r\n                    nsamplestoragelocationcode: {\r\n                        label: storageStructureList[0].label,\r\n                        value: storageStructureList[0].value,\r\n                        item: storageStructureList[0]\r\n                    },\r\n                    storageStructureOptions: storageStructureList,\r\n                };\r\n                this.state.masterData.sampleStoragetransaction.map(item =>\r\n                    selectedRecord = {\r\n                        ...selectedRecord,\r\n                        mappingcodeOptions: {\r\n                            ...selectedRecord.mappingcodeOptions,\r\n                            [item.nsamplestoragemappingcode]: samplestoragecontainerpathList\r\n                        }\r\n                    }\r\n                )\r\n                this.setState({\r\n                    availableContainers: response[0].data['availableContainers'],\r\n                    totalContainers: response[0].data['totalContainers'],\r\n                    selectedRecord,\r\n                    isMultiContainermove: true,\r\n                    storagemoverecords: storagemoverecords,\r\n                    ismoveSample: true,\r\n                    openModal: true,\r\n                    loadEsign: false,\r\n                    loading: false,\r\n                    ncontrolcode: this.state.controlMap.has(\"Move Multiple Container\") && this.state.controlMap.get(\"Move Multiple Container\").ncontrolcode\r\n                })\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTACONTAINERTOMOVE\" }));\r\n\r\n        }\r\n    }\r\n    moveSample = (param, nflag) => {\r\n        this.setState({ loading: true })\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragemove/getsamplemovedata\",\r\n            {\r\n                nsamplestoragemappingcode: param.nsamplestoragemappingcode,\r\n                ncontainertypecode: param.ncontainertypecode,\r\n                ncontainerstructurecode: param.ncontainerstructurecode,\r\n                userinfo: this.props.Login.userInfo\r\n            });\r\n       const getProjectType = rsapi.post(\"projecttype/getProjectType\", {\r\n        \"userinfo\": this.props.Login.userInfo\r\n       }) ;\r\n        const getProduct = rsapi.post(\"/samplestoragelocation/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n        urlArray = [url1,getProduct,getProjectType];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageStructureMap = constructOptionList(response[0].data['sampleStorageLocation'] || [],\r\n                    \"nsamplestoragelocationcode\",\r\n                    \"ssamplestoragelocationname\", \"descending\", undefined, true);\r\n                const storageStructureList = storageStructureMap.get(\"OptionList\");\r\n\r\n                // const samplestoragecontainerpathMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                //     \"nsamplestoragecontainerpathcode\",\r\n                //     \"scontainerpath\", undefined, undefined, true);\r\n                // const samplestoragecontainerpathList = samplestoragecontainerpathMap.get(\"OptionList\");\r\n               // ALPD-3757\r\n                const sampleStorageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragemappingcode\",\"scontainerpath\",undefined,undefined, true\r\n                    );\r\n                const sampleStorageMappingList = sampleStorageMappingMap.get(\"OptionList\");\r\n\r\n                const sampleTypeMap = constructOptionList(response[1].data  || [], \"nproductcode\",\"sproductname\", undefined, undefined, true);\r\n\r\n                const sampleTypeList = sampleTypeMap.get(\"OptionList\");\r\n                let ProjectTypelst = constructOptionList(response[2].data || [], \"nprojecttypecode\", \"sprojecttypename\", false, false, true).get(\"OptionList\");\r\n\r\n                this.setState({\r\n                    sampleTypeList:sampleTypeList,\r\n                    ProjectTypeOptions:ProjectTypelst,\r\n                    sourcencontainertypecode: param.ncontainertypecode,\r\n                    sourcencontainerstructurecode: param.ncontainerstructurecode,\r\n                    isMultiContainermove: false,\r\n                    selectedRecord: {\r\n                        // nprojecttypecode:{\r\n                        //     label: this.state.selectedProjectType.label,\r\n                        //     value:  this.state.selectedProjectType.value \r\n                        // },\r\n                        nfromsamplestoragelocationcode: {\r\n                            label: param.ssamplestoragelocationname,\r\n                            value: param.nsamplestoragelocationcode,\r\n                            item: param\r\n                        },\r\n                        nfromsamplestoragemappingcode: {\r\n                            label: param.scontainerpath,\r\n                            value: param.nsamplestoragemappingcode,\r\n                            item: param\r\n                        },\r\n                        nsamplestoragelocationcode: storageStructureList.length > 0 ? {\r\n                            label: storageStructureList[0].label,\r\n                            value: storageStructureList[0].value,\r\n                            item: storageStructureList[0].item\r\n                        } : \"\",\r\n                        nsamplestoragemappingcode: sampleStorageMappingList.length > 0 ? {\r\n                            label: sampleStorageMappingList[0].label,\r\n                            value: sampleStorageMappingList[0].value,\r\n                            item: sampleStorageMappingList[0].item\r\n                        }  : \"\"\r\n                        ,\r\n                        storageStructureOptions: storageStructureList,\r\n                        samplestoragecontainerpathOptions: sampleStorageMappingList,\r\n                    },\r\n                    editedsheetData: param,\r\n                    ismoveSample: true,\r\n                    openModal: true,\r\n                    loadEsign: false,\r\n                    loading: false,\r\n                    ncontrolcode: this.state.controlMap.has(\"Move Container\") && this.state.controlMap.get(\"Move Container\").ncontrolcode\r\n                })\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    fetchRecord = (data) => {\r\n        this.setState({ loading: true })\r\n        let selectedRecord = this.state.selectedRecord\r\n        let inputParamData = {\r\n            nsamplestoragelocationcode: this.state.masterData.selectedSampleStorageLocation.nsamplestoragelocationcode,\r\n            userinfo: this.props.Login.userInfo,\r\n        }\r\n        let urlArray = [];\r\n        const url1 = rsapi.post(\"samplestoragetransaction/addSampleStorageMapping\", inputParamData);\r\n\r\n        const url2 = rsapi.post(\"product/getProduct\",\r\n            { 'userinfo': this.props.Login.userInfo });\r\n\r\n        const url3 = rsapi.post(\"samplestoragetransaction/getEditSampleStorageMapping\",\r\n            { 'nsamplestoragemappingcode': data.nsamplestoragemappingcode, 'userinfo': this.props.Login.userInfo });\r\n\r\n        urlArray = [url1, url2, url3];\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const storageMappingMap = constructOptionList(response[0].data['samplestoragecontainerpath'] || [],\r\n                    \"nsamplestoragecontainerpathcode\",\r\n                    \"scontainerpath\", undefined, undefined, true);\r\n                const storageMappingMapList = storageMappingMap.get(\"OptionList\");\r\n                let containerStructure = response[0].data['containerStructure'];\r\n\r\n                const containerTypeMap = constructOptionList(response[0].data['containerType'] || [],\r\n                    \"ncontainertypecode\",\r\n                    \"scontainertype\", undefined, undefined, true);\r\n                const containerTypeList = containerTypeMap.get(\"OptionList\");\r\n\r\n                const directionmasterMap = constructOptionList(response[0].data['directionmaster'] || [],\r\n                    \"ndirectionmastercode\",\r\n                    \"sdirection\", undefined, undefined, true);\r\n                const directionmasterList = directionmasterMap.get(\"OptionList\");\r\n\r\n\r\n                const containerstructureMap = constructOptionList(response[2].data['containerStructure']\r\n                    || [],\r\n                    \"ncontainerstructurecode\",\r\n                    \"scontainerstructurename\", undefined, undefined, true);\r\n                const containerstructureList = containerstructureMap.get(\"OptionList\");\r\n\r\n                const productMap = constructOptionList(response[1].data['Product'] || [],\r\n                    \"nproductcode\",\r\n                    \"sproductname\", undefined, undefined, true);\r\n                const productList = productMap.get(\"OptionList\");\r\n\r\n                const editedObject = response[2].data.editsampleStorageMapping;\r\n\r\n                storageMappingMapList.unshift({ label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode })\r\n                selectedRecord = {\r\n                    ndirectionmastercode: { label: editedObject.sdirection, value: editedObject.ndirectionmastercode },\r\n                    nsamplestoragecontainerpathcode: { label: editedObject.scontainerpath, value: editedObject.nsamplestoragecontainerpathcode },\r\n                    nproductcode: { label: editedObject.sproductname, value: editedObject.nproductcode },\r\n                    ncontainertypecode: { label: editedObject.scontainertype, value: editedObject.ncontainertypecode },\r\n                    ncontainerstructurecode: { label: editedObject.scontainerstructurename, value: editedObject.ncontainerstructurecode },\r\n                    nneedposition: editedObject.nneedposition === 3 ? true : false,\r\n                    directionmasterOptions: directionmasterList,\r\n                    nquantity: editedObject.nquantity,\r\n                    nrow: editedObject.nrow,\r\n                    ncolumn: editedObject.ncolumn,\r\n                    nsamplestoragemappingcode: editedObject.nsamplestoragemappingcode\r\n                }\r\n                this.setState({\r\n                    openSpreadSheet: false,\r\n                    openModal: true,\r\n                    selectedRecord: {\r\n                        ...selectedRecord,\r\n                        storageMappingMapOptions: storageMappingMapList,\r\n                        productOptions: productList,\r\n                        containerTypeOptions: containerTypeList,\r\n                        containerStructureOptions: containerstructureList,\r\n                        isInitialRender: true\r\n                    },\r\n                    operation: 'update',\r\n                    loading: false\r\n                });\r\n            }).catch(error => {\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n                this.setState({\r\n                    loading: false\r\n                });\r\n            });\r\n    }\r\n    // Actions End\r\n\r\n    onInputOnChange = (event) => {\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"agree\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? 3 : 4;\r\n            }\r\n        }\r\n        else if (event.target.type === 'select-one') {\r\n\r\n            selectedRecord[event.target.name] = event.target.value;\r\n\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n\r\n        this.setState({ selectedRecord });\r\n\r\n\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.selectedRecord !== this.state.selectedRecord)) {\r\n            return false;\r\n        } else if (this.state.openModal && nextState.isInitialRender === false &&\r\n            (nextState.sheetData !== this.state.sheetData)) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    handlePageChangeFilter = (event) => {\r\n        this.setState({ kendoSkip: event.skip, kendoTake: event.take });\r\n    };\r\n    onChange = (immutableTree, config) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[\"tree\"] = immutableTree;\r\n        selectedRecord[\"config\"] = config;\r\n        selectedRecord[\"filterQueryTreeStr\"] = QbUtils.getTree(immutableTree);\r\n        let tree = QbUtils.getTree(immutableTree);\r\n        tree = QbUtils.queryString(immutableTree, config, true);\r\n        selectedRecord['filterquery'] = QbUtils.sqlFormat(immutableTree, config);\r\n        this.setState({ tree: immutableTree, config: config, selectedRecord: { ...selectedRecord } });\r\n\r\n    };\r\n    // cellRender(tdElement, cellProps) {\r\n\r\n    //     if (cellProps.rowType === \"groupFooter\") {\r\n    //         console.log('cellProps.field', cellProps)\r\n    //         if (cellProps.dataItem.field === \"ssamplestoragelocationname\") {\r\n    //             console.log('tdElement', tdElement, 'cellProps', cellProps)\r\n    //             return (\r\n    //                 <td aria-colindex={cellProps.columnIndex} role={\"gridcell\"}>\r\n    //                     Sum: {cellProps.dataItem.aggregates.navailablespace.sum}\r\n    //                 </td>\r\n    //             );\r\n    //         }\r\n    //     }\r\n    //     return tdElement;\r\n    // }\r\n    // handleGroupChange = (event) => {\r\n    //     const newDataState = this.processWithGroups(this.state.masterData.sampleStoragetransaction || [], this.state.dataStateChange, event.group);\r\n    //     this.setState({\r\n    //         masterData: { ...this.state.masterData, sampleStoragetransaction: newDataState },\r\n    //         group: event.group,\r\n    //     });\r\n    // };\r\n    // processWithGroups = (data, group) => {\r\n    //     const newDataState = groupBy(data, group);\r\n    //     return newDataState;\r\n    // };\r\n    // headerSelectionChange = (event) => {\r\n    //     const checkboxElement = event.target;\r\n    //     const checked = event.syntheticEvent.target.checked;\r\n    //     let sampleStoragetransaction=this.state.masterData.sampleStoragetransaction;\r\n    //     let masterData=this.state.masterData\r\n    //     sampleStoragetransaction.map(item => { \r\n    //             if (item.selected === undefined) {\r\n    //                 item.selected = false;\r\n    //             }\r\n    //             item.selected = checked;\r\n    //             return item; \r\n    //     });\r\n    //     masterData[sampleStoragetransaction]=sampleStoragetransaction\r\n    //     this.setState({ masterData })\r\n    // }\r\n    headerSelectionChange = (event) => {\r\n        const checkboxElement = event.target;\r\n        const checked = event.syntheticEvent.target.checked;\r\n        let dataResult = this.state.dataResult;\r\n        dataResult.data.map(item => {\r\n            return item.items.map(item => {\r\n                if (item.selected === undefined) {\r\n                    item.selected = false;\r\n                }\r\n                item.selected = checked;\r\n                return item;\r\n            });\r\n        });\r\n        this.setState({ dataResult })\r\n    }\r\n    selectionChange = (event) => {\r\n        let dataResult = this.state.dataResult;\r\n        dataResult.data.map(x => {\r\n            return x.items.map(item => {\r\n                if (item['nsamplestoragemappingcode'] === event.dataItem['nsamplestoragemappingcode']) {\r\n                    item.selected = !event.dataItem.selected;\r\n                }\r\n                return item;\r\n            });\r\n        });\r\n        this.setState({ dataResult })\r\n    }\r\n    // selectionChange = (event) => {\r\n    //     let sampleStoragetransaction=this.state.masterData.sampleStoragetransaction;\r\n    //     let masterData=this.state.masterData\r\n    //     sampleStoragetransaction.map(item => {\r\n    //             if (item['nsamplestoragemappingcode'] === event.dataItem['nsamplestoragemappingcode']) {\r\n    //                 item.selected = !event.dataItem.selected;\r\n    //             }\r\n    //             return item; \r\n    //     });\r\n    //     masterData[sampleStoragetransaction]=sampleStoragetransaction\r\n    //     this.setState({ masterData })\r\n    // }\r\n    processWithGroups = (data, dataState) => {\r\n        const aggregates = [\r\n            {\r\n                field: \"navailablespace\",\r\n                aggregate: \"sum\",\r\n            }\r\n        ];\r\n        const groups = dataState.group;\r\n        if (groups) {\r\n            groups.map((group) => (group.aggregates = aggregates));\r\n        }\r\n        dataState.group = groups;\r\n        const newDataState = process(data, dataState);\r\n        // setGroupIds({\r\n        //     data: newDataState.data,\r\n        //     group: dataState.group,\r\n        // });\r\n        return newDataState;\r\n    };\r\n    render() {\r\n\r\n\r\n        const addId = this.state.controlMap.has(\"Add SampleStorageTransaction\") && this.state.controlMap.get(\"Add SampleStorageTransaction\").ncontrolcode;\r\n        const editId = this.state.controlMap.has(\"Edit SampleStorageLocation\") && this.state.controlMap.get(\"Edit SampleStorageLocation\").ncontrolcode;\r\n        const deleteId = this.state.controlMap.has(\"Delete SampleStorageLocation\") && this.state.controlMap.get(\"Delete SampleStorageLocation\").ncontrolcode;\r\n        const copyId = this.state.controlMap.has(\"Copy SampleStorageLocation\") && this.state.controlMap.get(\"Copy SampleStorageLocation\").ncontrolcode;\r\n        const approveId = this.state.controlMap.has(\"Approve SampleStorageLocation\") && this.state.controlMap.get(\"Approve SampleStorageLocation\").ncontrolcode;\r\n        const moveSampleId = this.state.controlMap.has(\"Move Container\") && this.state.controlMap.get(\"Move Container\").ncontrolcode;\r\n        const moveMultipleSampleId  = this.state.controlMap.has(\"Move Multiple Container\") && this.state.controlMap.get(\"Move Multiple Container\").ncontrolcode;\r\n\r\n        const addMultipleSampleId = this.state.controlMap.has(\"AddMultipleSample\") && this.state.controlMap.get(\"AddMultipleSample\").ncontrolcode;\r\n        const addSampleId = this.state.controlMap.has(\"AddSample\") && this.state.controlMap.get(\"AddSample\").ncontrolcode;\r\n\r\n        const filterParam = {\r\n            inputListName: \"sampleStorageLocation\", selectedObject: \"selectedSampleStorageLocation\", primaryKeyField: \"nsamplestoragelocationcode\",\r\n            fetchUrl: \"sampleStoragetransaction/getActiveSampleStorageMappingById\",\r\n            fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n            masterData: this.props.Login.masterData,\r\n            searchFieldList: [\"ssamplestoragelocationname\"]\r\n        };\r\n\r\n        const breadCrumbData = this.state.filterData || [];\r\n\r\n        const confirmMessage = new ConfirmMessage();\r\n        return (\r\n            <>\r\n                <Preloader loading={this.state.loading} />\r\n                <ListWrapper className=\"client-list-content\">\r\n                    {\r\n\r\n\r\n                        <Col md={12}>\r\n                            <Row>\r\n                                <Col md={3}>\r\n                                    <FormSelectSearch\r\n                                        name={\"nprojecttypecode\"}\r\n                                        as={\"select\"}\r\n                                        onChange={(event) => this.onComboChange(event, 'nprojecttypecode')}\r\n                                        formLabel={this.props.intl.formatMessage({ id: \"IDS_PROJECTTYPE\" })}\r\n                                        isMandatory={false}\r\n                                        value={this.state.selectedProjectType ? this.state.selectedProjectType || [] : []}\r\n                                        options={this.state.masterData && this.state.masterData.projectTypeOptions || []}\r\n                                        optionId={\"value\"}\r\n                                        optionValue={\"label\"}\r\n                                        isMulti={false}\r\n                                        isDisabled={false}\r\n                                        isSearchable={false}\r\n                                        isClearable={false}\r\n                                    />\r\n                                </Col>\r\n                            </Row><Row>\r\n                                <Col md={12}>\r\n                                    <DataGridForStorage\r\n                                        // isDownloadPDFRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                        //     this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                        //         this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                        //             take: 10,\r\n                                        //             skip: 0\r\n                                        //         }).data.length > 0 ?\r\n                                        //     true : false}\r\n                                        //ATE234 Janakumar ALPD-5577 Sample Storage-->while download the pdf, screen getting freezed\r\n                                        isDownloadPDFRequired={false}\r\n                                        isDownloadExcelRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        isRefreshRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        reloadData={(e) => this.getDynamicFilterExecuteData(2)}\r\n                                        isCustomButton={true}\r\n                                        customButtonlist={\r\n                                            this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                                this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                    this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                        take: 10,\r\n                                                        skip: 0\r\n                                                    }).data.length > 0 ?\r\n                                                [{\r\n                                                    label: 'IDS_VIEWMULTIPLEBOX',\r\n                                                    id: {},\r\n                                                    hidden: false//this.state.userRoleControlRights.indexOf(addMultipleSampleId) === -1\r\n                                                    ,\r\n                                                    onClick: () => this.addSample({}, 2),\r\n                                                    controlname: 'faBoxes'\r\n                                                },\r\n                                                {\r\n                                                    label: 'IDS_MOVEMULTIPLECONTAINER',\r\n                                                    id: {},\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(moveMultipleSampleId) === -1,\r\n                                                    onClick: () => this.movemultipleContainer(),\r\n                                                    controlname: 'faDollyFlatbed'\r\n                                                },\r\n                                                {\r\n                                                    label: 'IDS_SEARCH',\r\n                                                    id: {},\r\n                                                    onClick: () => this.opensearch(),\r\n                                                    controlname: 'faSearch'\r\n                                                }] : [{\r\n                                                    label: 'IDS_SEARCH',\r\n                                                    id: {},\r\n                                                    onClick: () => this.opensearch(),\r\n                                                    controlname: 'faSearch'\r\n                                                }]}\r\n                                        cellRender={this.cellRender}\r\n                                        group={this.state.group || []}\r\n                                        primaryKeyField={'nsamplestoragemappingcode'}\r\n                                        // groupable={true}\r\n                                        // groupfooter={true}\r\n                                        // aggregateLabel={'IDS_AVAILABLESPACE'}\r\n                                        // aggregatedColumn={'navailablespace'}\r\n                                        selectionChange={this.selectionChange}\r\n                                        headerSelectionChange={this.headerSelectionChange}\r\n                                        data={this.state.masterData &&\r\n                                            this.state.masterData.sampleStoragetransaction}\r\n                                        dataResult={\r\n                                            // this.state.masterData && this.state.masterData.sampleStoragetransaction ? this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                            //     this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                            //         take: 10,\r\n                                            //         skip: 0\r\n                                            //     }) : []\r\n                                            this.state.dataResult ? this.state.dataResult : []\r\n                                        }\r\n                                        dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                        dataStateChange={this.dataStateChange}\r\n                                        extractedColumnList={this.state.extractedColumnList}\r\n                                        controlMap={this.state.controlMap}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        deleteRecord={this.deleteRecord}\r\n                                        pageable={true}\r\n                                        scrollable={'scrollable'}\r\n                                        gridHeight={'900px'}\r\n                                        isActionRequired={true}\r\n                                        isToolBarRequired={true}\r\n                                        actionIcons={\r\n                                            [\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_MOVECONTAINER\" }),\r\n                                                    controlname: \"faDolly\",\r\n                                                    hidden:  this.state.userRoleControlRights.indexOf(moveSampleId) === -1,\r\n                                                    objectName: \"edit\",\r\n                                                    onClick: this.moveSample\r\n                                                },\r\n                                                {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_VIEWBOX\" }),\r\n                                                    controlname: \"faBox\",\r\n                                                    hidden: false// this.state.userRoleControlRights.indexOf(addSampleId) === -1\r\n                                                    ,\r\n                                                    objectName: \"add\",\r\n                                                    onClick: (param) => this.addSample(param, 1)\r\n                                                }]}\r\n                                    />\r\n                                    {/* <DataGrid\r\n                                        isDownloadPDFRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        isDownloadExcelRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        isRefreshRequired={this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                            this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }).data.length > 0 ?\r\n                                            true : false}\r\n                                        reloadData={(e) => this.getDynamicFilterExecuteData(2)}\r\n                                        isCustomButton={true}\r\n                                        customButtonlist={\r\n                                            this.state.masterData && this.state.masterData.sampleStoragetransaction &&\r\n                                                this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                    this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                        take: 10,\r\n                                                        skip: 0\r\n                                                    }).data.length > 0 ?\r\n                                                [{\r\n                                                    label: 'IDS_ADDSAMPLETOMULTIPLEBOX',\r\n                                                    id: {},\r\n                                                    hidden: this.state.userRoleControlRights.indexOf(addMultipleSampleId) === -1,\r\n                                                    onClick: () => this.addSample({}, 2),\r\n                                                    controlname: 'faBoxes'\r\n                                                },\r\n                                                {\r\n                                                    label: 'IDS_SEARCH',\r\n                                                    id: {},\r\n                                                    onClick: () => this.opensearch(),\r\n                                                    controlname: 'faSearch'\r\n                                                }] : [{\r\n                                                    label: 'IDS_SEARCH',\r\n                                                    id: {},\r\n                                                    onClick: () => this.opensearch(),\r\n                                                    controlname: 'faSearch'\r\n                                                }]}\r\n                                        cellRender={this.cellRender}\r\n                                        group={this.state.group || []} \r\n                                        primaryKeyField={'nsamplestoragemappingcode'}\r\n                                        groupable={true}\r\n                                        groupfooter={true}\r\n                                        aggregateLabel={'IDS_AVAILABLESPACE'}\r\n                                        aggregatedColumn={'navailablespace'}\r\n                                        data={this.state.masterData &&\r\n                                            this.state.masterData.sampleStoragetransaction}\r\n                                        dataResult={ \r\n                                               this.state.masterData && this.state.masterData.sampleStoragetransaction ? this.processWithGroups(this.state.masterData.sampleStoragetransaction || [],\r\n                                                this.state.dataStateChange ? this.state.dataStateChange : {\r\n                                                    take: 10,\r\n                                                    skip: 0\r\n                                                }) : []\r\n                                        }\r\n                                        dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                        dataStateChange={this.dataStateChange}\r\n                                        extractedColumnList={this.state.extractedColumnList}\r\n                                        controlMap={this.state.controlMap}\r\n                                        userRoleControlRights={this.state.userRoleControlRights}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        deleteRecord={this.deleteRecord} \r\n                                        pageable={true}\r\n                                        scrollable={'scrollable'} \r\n                                        gridHeight={'600px'}\r\n                                        isActionRequired={true}\r\n                                        isToolBarRequired={true}\r\n                                        actionIcons={\r\n                                            [\r\n                                                 {\r\n                                                    title: this.props.intl.formatMessage({ id: \"IDS_MOVECONTAINER\" }),\r\n                                                    controlname: \"faPencilAlt\",\r\n                                                    hidden: false, //this.state.userRoleControlRights.indexOf(moveSampleId) === -1,\r\n                                                    objectName: \"edit\",\r\n                                                    onClick: this.moveSample\r\n                                                },\r\n                                                {\r\n                                                title: this.props.intl.formatMessage({ id: \"IDS_ADDSAMPLETOABOX\" }),\r\n                                                controlname: \"faBox\",\r\n                                                hidden: this.state.userRoleControlRights.indexOf(addSampleId) === -1,\r\n                                                objectName: \"add\",\r\n                                                onClick: (param) => this.addSample(param, 1)\r\n                                            }]}\r\n                                    /> */}\r\n                                </Col></Row>\r\n                        </Col>\r\n\r\n                    }\r\n\r\n                </ListWrapper>\r\n\r\n                {\r\n                    this.state.openModal &&\r\n                    <SlideOutModal show={this.state.openModal}\r\n                        closeModal={this.closeModal}\r\n                        hideSave={this.state.ismoveSample ? false : true}\r\n                        //needClose={this.state.ismoveSample ? true : this.state.isFilterPopup ? false : true}\r\n                        needClose={this.state.ismoveSample ? false  : this.state.isFilterPopup ? true  : false }\r\n                        showSubmit={this.state.ismoveSample ? false : this.state.openSpreadSheet ? false : true}\r\n                        size={this.state.ismoveSample ? \"\" : (this.state.openSpreadSheet || this.state.isFilterPopup) ? 'xl' : \"\"}\r\n                        operation={\"\"}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.state.ismoveSample ? this.props.intl.formatMessage({ id: \"IDS_MOVECONTAINER\" }) : this.state.isFilterPopup ? \"\" :\r\n                            this.state.isMultiSampleAdd ? this.props.intl.formatMessage({ id: \"IDS_SAMPLESTORAGE\" })\r\n                                : this.state.editedsheetData.scontainerpath}\r\n                        onSaveClick={this.state.isFilterPopup ? this.getDynamicFilterExecuteData.bind(this) : this.onSampleMappingSaveClick}\r\n                        esign={this.state.loadEsign}\r\n                        // className={\"wide-popup\"}\r\n\r\n                        validateEsign={this.validateEsign}\r\n                        masterStatus={this.props.Login.masterStatus}\r\n                        updateStore={this.props.updateStore}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        // ALPD-5120 : Added by rukshana this.state.serverTime for sample storage move : E-signature's date and time not displayed in popup \r\n                        addComponent={this.state.loadEsign ?\r\n                            <Esign operation={this.props.Login.operation}\r\n                                formatMessage={this.props.intl.formatMessage}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                                esignReasonList={this.state.esign||[]}\r\n                                serverTime={this.state.serverTime || []}\r\n                            />\r\n                            :\r\n                            this.state.ismoveSample ?\r\n                                <MoveSample\r\n                                    ProjectTypeOptions={this.state.ProjectTypeOptions}\r\n                                    sampleTypeList={this.state.sampleTypeList}\r\n                                    availableContainers={this.state.availableContainers}\r\n                                    totalContainers={this.state.totalContainers}\r\n                                    storagemoverecords={this.state.storagemoverecords}\r\n                                    isMultiContainermove={this.state.isMultiContainermove}\r\n                                    sourcencontainertypecode={this.state.sourcencontainertypecode}\r\n                                    sourcencontainerstructurecode={this.state.sourcencontainerstructurecode}\r\n                                    operation={this.state.operation}\r\n                                    selectedRecordFilter={this.state.selectedRecordFilter}\r\n                                    onInputChange={(e) => this.onInputChange(e)}\r\n                                    onComboChange={this.onComboChange}\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    childDataChange={this.childDataChange}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    dataState={this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }}\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                />\r\n                                :\r\n                                this.state.isFilterPopup ?\r\n                                    <FilterQueryBuilder\r\n                                        fields={this.state.fields}\r\n                                        isSampleStorage={true}\r\n                                        queryArray={this.state.queryArray}\r\n                                        skip={this.state.kendoSkip}\r\n                                        take={this.state.kendoTake}\r\n                                        onChange={this.onChange}\r\n                                        tree={this.props.Login.tree !== undefined ? this.props.Login.tree : this.state.selectedRecord.tree}\r\n                                        gridColumns={this.slideList}\r\n                                        filterData={this.props.Login.slideResult || []}\r\n                                        handlePageChange={this.handlePageChangeFilter}\r\n                                        static={true}\r\n                                        userInfo={this.props.Login.userInfo}\r\n                                        updateStore={this.props.updateStore}\r\n                                    />\r\n                                    :\r\n                                    this.state.openSpreadSheet ? <>\r\n                                        <>\r\n                                            <MatrixComponent\r\n                                                isMoveScreen={true}\r\n                                                updateStore={this.props.updateStore}\r\n                                                intl={this.props.intl}\r\n                                                Rows={this.state.Rows || 1}\r\n                                                AdditionalFieldsComponentData={this.state.AdditionalFieldsComponentData}\r\n                                                userInfo={this.props.Login.userInfo}\r\n                                                columns={this.state.columns || 1}\r\n                                                selectedRecord={this.state.selectedRecord.sheetData || {}}\r\n                                                sheetData={this.state.sheetData || {}}\r\n                                                isMultiSampleAdd={this.state.isMultiSampleAdd}\r\n                                                childSheetDataChange={this.childSheetDataChange}\r\n                                                editedsheetData={this.state.editedsheetData}\r\n                                                nbarcodedescription={this.props.Login.settings && parseInt(this.props.Login.settings[36])}\r\n                                                nbarcodeLength={this.props.Login.settings && parseInt(this.props.Login.settings[37])}\r\n                                                sbarcodeboxWidth={this.props.Login.settings && this.props.Login.settings[38]}\r\n                                                multipleSheetData={this.state.masterData &&\r\n                                                    this.state.masterData.sampleStoragetransaction &&\r\n                                                    process(this.state.masterData.sampleStoragetransaction || [],\r\n                                                        this.state.dataStateChange ? this.state.dataStateChange : { skip: 0, take: 10 }).data} /></>\r\n\r\n                                    </>\r\n                                        :\r\n                                        <></>\r\n                            // <AddSampleStorageMapping\r\n                            //     operation={this.state.operation}\r\n                            //     selectedRecordFilter={this.state.selectedRecordFilter}\r\n                            //     onInputChange={(e) => this.onInputChange(e)}\r\n                            //     onComboChange={this.onComboChange}\r\n                            //     selectedRecord={this.state.selectedRecord || {}}\r\n                            //     childDataChange={this.childDataChange}\r\n                            //     userInfo={this.props.Login.userInfo}\r\n                            // />\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    } \r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason: this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n\r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.state.screenData\r\n        }\r\n        //this.props.validateEsignCredential(inputParam, \"openModal\");\r\n        // let destinationPathlst = [];\r\n        // let dataResult = this.state.dataResult;\r\n        // dataResult.data.map(item => {\r\n        //       item.items.map(item => {\r\n        //         if (item.hasOwnProperty('selected') && item.selected) {\r\n        //             destinationPathlst.push(item);\r\n        //         } \r\n        //     });\r\n        // });\r\n \r\n        //this.props.validateEsignCredentialStorage(inputParam, \"openModal\",() => this.ConfirmMove())\r\n        this.validateEsignCredentialStorage(inputParam, \"openModal\",() => this.ConfirmMove())\r\n    }\r\n\r\n\t//ALPD-4738\r\n\t//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\r\n    validateEsignCredentialStorage = (inputParam, modalName,action) => {\r\n         this.setState({ loading: true })\r\n          if (inputParam && inputParam.inputData && inputParam.inputData.userinfo) {\r\n            inputParam.inputData[\"userinfo\"] = {\r\n              ...inputParam.inputData.userinfo,\r\n              sformname: Lims_JSON_stringify(inputParam.inputData.userinfo.sformname),\r\n              smodulename: Lims_JSON_stringify(inputParam.inputData.userinfo.smodulename),\r\n            }\r\n          }\r\n          return rsapi.post(\"login/validateEsignCredential\", inputParam.inputData)\r\n            .then(response => {\r\n              if (response.data === \"Success\") {\r\n      \r\n                const methodUrl = inputParam[\"screenData\"][\"inputParam\"][\"methodUrl\"];\r\n                inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][\"userinfo\"] = inputParam.inputData.userinfo;\r\n      \r\n                if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]) {\r\n      \r\n                  delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignreason\"];\r\n      \r\n                  if (inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()]) {\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esignpassword\"];\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"esigncomments\"];\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"inputData\"][methodUrl.toLowerCase()][\"agree\"];\r\n      \r\n      \r\n                  }\r\n      \r\n                  // ALPD-2437 added for Type3 Component. Use selected record to clear esign values\r\n                  if (inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"]) {\r\n      \r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignreason\"];\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esignpassword\"];\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"esigncomments\"];\r\n                    delete inputParam[\"screenData\"][\"inputParam\"][\"selectedRecord\"][\"agree\"];\r\n                  }\r\n                }\r\n                return(this.crudMasterstorage(inputParam[\"screenData\"][\"inputParam\"], inputParam[\"screenData\"][\"masterData\"], modalName,undefined,action))  \r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response.status === 500) {\r\n                toast.error(error.message);\r\n               } else {\r\n                if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){\r\n                    action()\r\n                }else{\r\n                toast.warn(error.response.data);\r\n                }\r\n            }\r\n            this.setState({\r\n                loading: false\r\n            });\r\n            })\r\n      }\r\n\r\n\t//ALPD-4738\r\n\t//Fixed: Removed the store action in sample retrieval, and the screen is now fully managed through the state.\r\n   crudMasterstorage = (inputParam, masterData, modalName, defaultInput,action)=> {\r\n    this.setState({ loading: true })\r\n          let requestUrl = '';\r\n          let urlArray = [];\r\n          requestUrl = rsapi.post(inputParam.classUrl + \"/\" + inputParam.operation + inputParam.methodUrl, { ...inputParam.inputData });\r\n            urlArray = [requestUrl];\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                        this.setState({\r\n                            isInitialRender: true,\r\n                            selectedRecord: {},\r\n                            masterData: {\r\n                                ...masterData, ...response[0].data\r\n                            },\r\n                            openModal: false,\r\n                            loading: false,\r\n                            ismoveSample: false,\r\n                            loadEsign: false,\r\n                        });\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else { \r\n                        if(error.response.data==='IDS_SOURCEANDDESTINATIONMISMATCH'){\r\n                            this.ConfirmMove()\r\n                        }else{\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n      }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n \r\n \r\nexport default connect(mapStateToProps, {\r\n    callService, updateStore, validateEsignCredential, validateEsignCredentialStorage,crudMasterstorage,\r\n})(injectIntl(SampleStorageMove));"]},"metadata":{},"sourceType":"module"}