{"ast":null,"code":"import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{injectIntl}from'react-intl';import PerfectScrollbar from'react-perfect-scrollbar';import{AtAccordion}from'../../../components/custom-accordion/custom-accordion.styles';import{Accordion,Card,Col,FormGroup,ListGroupItem,Nav,Row,useAccordionToggle}from'react-bootstrap';import AccordionContext from\"react-bootstrap/AccordionContext\";import{Draggable,Droppable}from'react-drag-and-drop';import FormTextarea from'../../../components/form-textarea/form-textarea.component';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBackspace,faChevronDown,faChevronUp,faTimes}from'@fortawesome/free-solid-svg-icons';import FormSelectSearch from'../../../components/form-select-search/form-select-search.component';import FormNumericInput from'../../../components/form-numeric-input/form-numeric-input.component';import FormInput from'../../../components/form-input/form-input.component';import CustomSwitch from'../../../components/custom-switch/custom-switch.component';import{transactionStatus}from'../../../components/Enumeration';//import { transactionStatus } from '../../../components/Enumeration';\nvar AddSeqNoFormatPopup=/*#__PURE__*/function(_React$Component){_inherits(AddSeqNoFormatPopup,_React$Component);var _super=_createSuper(AddSeqNoFormatPopup);function AddSeqNoFormatPopup(props){var _this;_classCallCheck(this,AddSeqNoFormatPopup);_this=_super.call(this,props);_this.months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];_this.date=new Date();_this.year=_this.props.intl.formatMessage({id:\"IDS_YEAR\"});_this.month=_this.props.intl.formatMessage({id:\"IDS_MONTH\"});_this.dates=_this.props.intl.formatMessage({id:\"IDS_DATE\"});_this.character=_this.props.intl.formatMessage({id:\"IDS_LIMSCHARACTER\"});_this.seqNo=_this.props.intl.formatMessage({id:\"IDS_SEQNO\"});_this.site=_this.props.intl.formatMessage({id:\"IDS_SITE\"});return _this;}_createClass(AddSeqNoFormatPopup,[{key:\"render\",value:function render(){var _this2=this;var str='{9999}';str=str.substring(1,str.length-4);str=str.padStart(this.props.selectedRecord&&(this.props.selectedRecord.seqnolength||4),9);var sseqno='{'+str+'}';var formatComponents=[{\"componentname\":\"\".concat(this.year,\" (\").concat(this.date.getFullYear(),\")\"),\"componentvalue\":\"{yyyy}\"},{\"componentname\":\"\".concat(this.year,\" (\").concat(this.date.getFullYear().toString().substring(2,4),\")\"),\"componentvalue\":\"{yy}\"},{\"componentname\":\"\".concat(this.month,\" (\").concat((this.date.getMonth()+1).toString().padStart(2,\"0\"),\")\"),\"componentvalue\":\"{MM}\"},{\"componentname\":\"\".concat(this.month,\" (\").concat(this.months[this.date.getMonth()],\")\"),\"componentvalue\":\"{MMM}\"},{\"componentname\":\"\".concat(this.dates,\" (\").concat(this.date.getDate(),\")\"),\"componentvalue\":\"{DD}\"},{\"componentname\":\"\".concat(this.character,\" (\").concat(this.props.selectedRecord&&(this.props.selectedRecord.splaintext||\"\"),\")\"),\"componentvalue\":this.props.selectedRecord&&this.props.selectedRecord.splaintext||\"\"},{\"componentname\":\"\".concat(this.seqNo,\" (\").concat(sseqno,\")\"),\"componentvalue\":this.props.selectedRecord&&(this.props.selectedRecord.sseqno||\"{9999}\")},// ALPD-4291 - Commented by L.Subashini as the COA Report file name \n// cannot be created using '/' symbol\n// { \"componentname\": \"/\", \"componentvalue\": \"/\" },\n{\"componentname\":\"-\",\"componentvalue\":\"-\"}];if(parseInt(this.props.settings[23])===transactionStatus.YES){formatComponents.push({\"componentname\":\"\".concat(this.site,\" (\").concat(this.props.userInfo.ssitecode,\")\"),\"componentvalue\":\"{XXXXX}\"});}var configFields=[{\"idsName\":\"IDS_NEEDSUBSAMPLE\",\"dataField\":\"nneedsubsample\"},// { \"idsName\": \"IDS_NEEDSAMPLEDBY\", \"dataField\": \"nneedsampledby\" },\n{\"idsName\":\"IDS_NEEDJOBALLOCATION\",\"dataField\":\"nneedjoballocation\"},{\"idsName\":\"IDS_NEEDMYJOB\",\"dataField\":\"nneedmyjob\"},{\"idsName\":\"IDS_NEEDWORKLIST\",\"dataField\":\"nneedworklist\"},{\"idsName\":\"IDS_NEEDBATCH\",\"dataField\":\"nneedbatch\"},{\"idsName\":\"IDS_TESTGROUPSPEC\",\"dataField\":\"ntestgroupspecrequired\"},//ALPD-4973, Vishakh, Added Test group spec toggle button\n/*ALPD-4135-Vignesh R--The system will allow the authorized \r\n             user to enter results for the selected tests without initiate action.*/{\"idsName\":\"IDS_NEEDTESTINITIATE\",\"dataField\":\"nneedtestinitiate\"},//  { \"idsName\": \"IDS_NEEDSCHEDULER\", \"dataField\": \"nneedscheduler\" },\n// { \"idsName\": \"IDS_NEEDTEMPLATEBASEDFLOW\", \"dataField\": \"nneedtemplatebasedflow\" },\n{\"idsName\":\"IDS_USENEWFORMAT\",\"dataField\":\"nisnewformat\"},{\"idsName\":\"IDS_NEEDSITEWISEARNO\",\"dataField\":\"nneedsitewisearno\"}];var CustomToggle=function CustomToggle(_ref){var children=_ref.children,eventKey=_ref.eventKey;var currentEventKey=React.useContext(AccordionContext);var isCurrentEventKey=currentEventKey===eventKey;var decoratedOnClick=useAccordionToggle(eventKey,\"\");return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\",onClick:decoratedOnClick},children,isCurrentEventKey?/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronUp}):/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronDown//onClick={children.props.onExpandCall}\n}));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(FormGroup,null,this.props.intl.formatMessage({id:\"IDS_TRANSACTIONFLOW\"}))),/*#__PURE__*/React.createElement(Row,null,configFields.map(function(field,index){return index<6?field.dataField===\"ntestgroupspecrequired\"?parseInt(_this2.props.settings[71])===transactionStatus.YES?/*#__PURE__*/ //ALPD-4973, Vishakh, Toggle button will be shown based on settings table 71 record\nReact.createElement(Col,{md:2,key:index},/*#__PURE__*/React.createElement(CustomSwitch,{label:_this2.props.intl.formatMessage({id:field.idsName}),type:\"switch\",name:field.dataField,onChange:function onChange(event){return _this2.props.onInputOnChange(event);},isMandatory:false,required:true,disabled:false// ALPD-5336 - Gowtham R - Registration Sub Type: Either Worklist or My job toggle should be enabled.\n//field.dataField==='nneedjoballocation'||\n// field.dataField === 'nneedmyjob' ?\n//     this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\n//         this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false}\n,checked:_this2.props.selectedRecord&&_this2.props.selectedRecord[field.dataField]})):\"\":/*#__PURE__*/React.createElement(Col,{md:2,key:index},/*#__PURE__*/React.createElement(CustomSwitch,{label:_this2.props.intl.formatMessage({id:field.idsName}),type:\"switch\",name:field.dataField,onChange:function onChange(event){return _this2.props.onInputOnChange(event);},isMandatory:false,required:true,disabled:false// ALPD-5336 - Gowtham R - Registration Sub Type: Either Worklist or My job toggle should be enabled.\n//field.dataField==='nneedjoballocation'||\n// field.dataField === 'nneedmyjob' ?\n//     this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\n//         this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false}\n,checked:_this2.props.selectedRecord&&_this2.props.selectedRecord[field.dataField]//checked={this.props.selectedRecord[field.dataField] === transactionStatus.YES?true:false}\n//checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField] ?this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })}\n})):\"\";})),/*#__PURE__*/React.createElement(\"div\",{class:\"dropdown-divider\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(FormGroup,null,this.props.intl.formatMessage({id:\"IDS_SEQUENCEFORMAT\"}))),/*#__PURE__*/React.createElement(Row,null,configFields.map(function(field,index){return index>5?/*#__PURE__*/React.createElement(Col,{md:3,key:index},/*#__PURE__*/React.createElement(CustomSwitch,{label:_this2.props.intl.formatMessage({id:field.idsName}),type:\"switch\",name:field.dataField,onChange:function onChange(event){return _this2.props.onInputOnChange(event);},isMandatory:false,required:true,disabled://field.dataField==='nneedjoballocation'||\nfield.dataField==='nneedmyjob'?_this2.props.selectedRecord&&_this2.props.selectedRecord[\"nneedworklist\"]?_this2.props.selectedRecord[\"nneedworklist\"]===true?true:false:false:false,checked:_this2.props.selectedRecord&&_this2.props.selectedRecord[field.dataField]//checked={this.props.selectedRecord[field.dataField] === transactionStatus.yes?true:false}\n//checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField] ?this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })}\n})):\"\";})),this.props.selectedRecord&&this.props.selectedRecord.nisnewformat?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nperiodcode\",formLabel:this.props.intl.formatMessage({id:\"IDS_RESETSEQEVERY\"}),placeholder:this.props.intl.formatMessage({id:\"IDS_RESETDURATION\"}),options:this.props.periodList||[],value:this.props.selectedRecord&&(this.props.selectedRecord.nperiodcode||''),isMandatory:true,isSearchable:true,isMulti:false,onChange:function onChange(event){return _this2.props.onComboChange(event,'nperiodcode');}})),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormInput,{name:\"splaintext\",label:this.props.intl.formatMessage({id:\"IDS_TEXTVALUE\"}),type:\"text\",value:this.props.selectedRecord&&(this.props.selectedRecord.splaintext||\"\"),required:true,maxLength:10,onChange:function onChange(event){return _this2.props.onInputOnChange(event);}})),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(FormNumericInput,{name:\"seqnolength\",className:\"form-control\",label:this.props.intl.formatMessage({id:\"IDS_SEQUENCENOLENGTH\"})//value={this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4}\n,value:this.props.selectedRecord&&this.props.selectedRecord.seqnolength===\"\"?this.props.selectedRecord.seqnolength:this.props.selectedRecord.seqnolength||4,isMandatory:true,type:\"number\",noStyle:true,required:true,strict:true,maxLength:1,onChange:function onChange(event){return _this2.props.onNumericInputChange(event,'seqnolength');}}))):\"\",/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4,className:\"mt-3\"},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(AtAccordion,null,/*#__PURE__*/React.createElement(Accordion,{activeKey:this.props.selectedRecord&&this.props.selectedRecord.nisnewformat?\"InputFields\":\"ExistingFormats\"},/*#__PURE__*/React.createElement(Card,null,this.props.selectedRecord&&this.props.selectedRecord.nisnewformat?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(CustomToggle,{eventKey:\"InputFields\"},/*#__PURE__*/React.createElement(Card.Title,null,this.props.intl.formatMessage({id:\"IDS_FORMATFIELDS\"})))),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:\"InputFields\"},/*#__PURE__*/React.createElement(React.Fragment,null,formatComponents.map(function(sideBarItem,index){return/*#__PURE__*/React.createElement(Draggable,{type:'formatcomponents',data:sideBarItem.componentvalue},/*#__PURE__*/React.createElement(ListGroupItem,{key:index,className:\"sideBarItem ml-0\",style:{backgroundColor:\"#155592\",justifyContent:\"space-around\"}},sideBarItem.componentname));})))):this.props.selectedRecord&&this.props.selectedRecord.nneedsitewisearno?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(CustomToggle,{eventKey:\"ExistingFormats\"},/*#__PURE__*/React.createElement(Card.Title,null,this.props.intl.formatMessage({id:\"IDS_SITEWISEEXISTINGFORMAT\"})))),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:\"ExistingFormats\"},/*#__PURE__*/React.createElement(React.Fragment,null,this.props.sitewiseexistingFormats&&this.props.sitewiseexistingFormats.map(function(sideBarItem,index){return/*#__PURE__*/React.createElement(Draggable,{type:'formatcomponents',data:sideBarItem.ssampleformat},/*#__PURE__*/React.createElement(ListGroupItem,{key:index,className:\"sideBarItem ml-0\",style:{backgroundColor:\"#155592\",justifyContent:\"space-around\"}},sideBarItem.ssampleformat));})))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(CustomToggle,{eventKey:\"ExistingFormats\"},/*#__PURE__*/React.createElement(Card.Title,null,this.props.intl.formatMessage({id:\"IDS_EXISTINGFORMAT\"})))),/*#__PURE__*/React.createElement(Accordion.Collapse,{eventKey:\"ExistingFormats\"},/*#__PURE__*/React.createElement(React.Fragment,null,this.props.existingFormats&&this.props.existingFormats.map(function(sideBarItem,index){return/*#__PURE__*/React.createElement(Draggable,{type:'formatcomponents',data:sideBarItem.ssampleformat},/*#__PURE__*/React.createElement(ListGroupItem,{key:index,className:\"sideBarItem ml-0\",style:{backgroundColor:\"#155592\",justifyContent:\"space-around\"}},sideBarItem.ssampleformat));}))))))))),/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(Row,null,this.props.selectedRecord&&this.props.selectedRecord.nisnewformat?/*#__PURE__*/React.createElement(Col,{md:6,className:\"d-flex flex-column\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn-user btn-cancel btn p-0\",onClick:this.props.onClickBackspace},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faBackspace,className:\"pr-1\"}),this.props.intl.formatMessage({id:\"IDS_BACKSPACE\"}))):\"\",/*#__PURE__*/React.createElement(Col,{md:6,className:\" d-flex justify-content-start\"},/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn-user btn-cancel btn p-0 mb-3\",onClick:this.props.onClickClear},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes,className:\"pr-1\"}),this.props.intl.formatMessage({id:\"IDS_CLEARALL\"}))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Droppable,{types:['formatcomponents'],onDrop:function onDrop(event){return _this2.props.onDrop(event);},className:\"p-1\"},/*#__PURE__*/React.createElement(FormTextarea,{name:\"ssampleformat\",label:this.props.intl.formatMessage({id:\"IDS_INPUTFORMATWITHINFO\"}),onChange:function onChange(event){return _this2.props.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_INPUTFORMAT\"}),value:this.props.selectedRecord&&this.props.selectedRecord[\"ssampleformat\"],rows:2,isMandatory:true,readOnly:true,required:true,showCharCount:true//ALPD-5254--added by  neeraj\n,maxLength:30,charLength:this.props.selectedRecord&&this.props.selectedRecord[\"ssampleformat\"]?this.props.selectedRecord[\"ssampleformat\"].replaceAll(\"{\",\"\").replaceAll(\"}\",\"\").length:0}))),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormTextarea,{name:\"exampleformat\",label:this.props.intl.formatMessage({id:\"IDS_OUTPUTFORMAT\"}),onChange:function onChange(event){return _this2.props.onInputOnChange(event);},placeholder:this.props.intl.formatMessage({id:\"IDS_OUTPUTFORMAT\"}),value:this.props.selectedRecord&&this.props.selectedRecord[\"exampleformat\"],rows:2,isMandatory:true,readOnly:true,required:true,showCharCount:true//ALPD-5254--added by  neeraj\n,maxLength:30}))))));}}]);return AddSeqNoFormatPopup;}(React.Component);export default injectIntl(AddSeqNoFormatPopup);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-513-PROD/SOURCE-513-ALPD-5500/QuaLISWeb/src/pages/dynamicpreregdesign/registrationsubtype/AddSeqNoFormatPopup.jsx"],"names":["React","injectIntl","PerfectScrollbar","AtAccordion","Accordion","Card","Col","FormGroup","ListGroupItem","Nav","Row","useAccordionToggle","AccordionContext","Draggable","Droppable","FormTextarea","FontAwesomeIcon","faBackspace","faChevronDown","faChevronUp","faTimes","FormSelectSearch","FormNumericInput","FormInput","CustomSwitch","transactionStatus","AddSeqNoFormatPopup","props","months","date","Date","year","intl","formatMessage","id","month","dates","character","seqNo","site","str","substring","length","padStart","selectedRecord","seqnolength","sseqno","formatComponents","getFullYear","toString","getMonth","getDate","splaintext","parseInt","settings","YES","push","userInfo","ssitecode","configFields","CustomToggle","children","eventKey","currentEventKey","useContext","isCurrentEventKey","decoratedOnClick","map","field","index","dataField","idsName","event","onInputOnChange","nisnewformat","periodList","nperiodcode","onComboChange","onNumericInputChange","sideBarItem","componentvalue","backgroundColor","justifyContent","componentname","nneedsitewisearno","sitewiseexistingFormats","ssampleformat","existingFormats","onClickBackspace","onClickClear","onDrop","replaceAll","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { injectIntl } from 'react-intl';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { AtAccordion } from '../../../components/custom-accordion/custom-accordion.styles';\r\nimport { Accordion, Card, Col, FormGroup, ListGroupItem, Nav, Row, useAccordionToggle } from 'react-bootstrap';\r\nimport AccordionContext from \"react-bootstrap/AccordionContext\";\r\nimport { Draggable, Droppable } from 'react-drag-and-drop';\r\nimport FormTextarea from '../../../components/form-textarea/form-textarea.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBackspace, faChevronDown, faChevronUp, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport FormSelectSearch from '../../../components/form-select-search/form-select-search.component';\r\nimport FormNumericInput from '../../../components/form-numeric-input/form-numeric-input.component';\r\nimport FormInput from '../../../components/form-input/form-input.component';\r\nimport CustomSwitch from '../../../components/custom-switch/custom-switch.component';\r\nimport { transactionStatus } from '../../../components/Enumeration';\r\n//import { transactionStatus } from '../../../components/Enumeration';\r\nclass AddSeqNoFormatPopup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        this.date = new Date();\r\n        this.year = this.props.intl.formatMessage({ id: \"IDS_YEAR\" })\r\n        this.month = this.props.intl.formatMessage({ id: \"IDS_MONTH\" })\r\n        this.dates = this.props.intl.formatMessage({ id: \"IDS_DATE\" })\r\n        this.character = this.props.intl.formatMessage({ id: \"IDS_LIMSCHARACTER\" })\r\n        this.seqNo = this.props.intl.formatMessage({ id: \"IDS_SEQNO\" })\r\n        this.site = this.props.intl.formatMessage({ id: \"IDS_SITE\" })\r\n    }\r\n    render() {\r\n        let str = '{9999}'\r\n        str = str.substring(1, str.length - 4)\r\n        str = str.padStart(this.props.selectedRecord && (this.props.selectedRecord.seqnolength || 4), 9)\r\n        let sseqno = '{' + str + '}'\r\n\r\n        const formatComponents = [\r\n            { \"componentname\": `${this.year} (${this.date.getFullYear()})`, \"componentvalue\": \"{yyyy}\" },\r\n            { \"componentname\": `${this.year} (${this.date.getFullYear().toString().substring(2, 4)})`, \"componentvalue\": \"{yy}\" },\r\n            { \"componentname\": `${this.month} (${(this.date.getMonth() + 1).toString().padStart(2, \"0\")})`, \"componentvalue\": \"{MM}\" },\r\n            { \"componentname\": `${this.month} (${this.months[this.date.getMonth()]})`, \"componentvalue\": \"{MMM}\" },\r\n            { \"componentname\": `${this.dates} (${this.date.getDate()})`, \"componentvalue\": \"{DD}\" },\r\n            { \"componentname\": `${this.character} (${this.props.selectedRecord && (this.props.selectedRecord.splaintext || \"\")})`, \"componentvalue\": this.props.selectedRecord && this.props.selectedRecord.splaintext || \"\" },\r\n            { \"componentname\": `${this.seqNo} (${sseqno})`, \"componentvalue\": this.props.selectedRecord && (this.props.selectedRecord.sseqno || \"{9999}\") },\r\n            // ALPD-4291 - Commented by L.Subashini as the COA Report file name \r\n            // cannot be created using '/' symbol\r\n            // { \"componentname\": \"/\", \"componentvalue\": \"/\" },\r\n            { \"componentname\": \"-\", \"componentvalue\": \"-\" }\r\n\r\n\r\n        ];\r\n        if (parseInt(this.props.settings[23]) === transactionStatus.YES) {\r\n            formatComponents.push({ \"componentname\": `${this.site} (${this.props.userInfo.ssitecode})`, \"componentvalue\": \"{XXXXX}\" });\r\n        }\r\n        const configFields = [\r\n            { \"idsName\": \"IDS_NEEDSUBSAMPLE\", \"dataField\": \"nneedsubsample\" },\r\n            // { \"idsName\": \"IDS_NEEDSAMPLEDBY\", \"dataField\": \"nneedsampledby\" },\r\n            { \"idsName\": \"IDS_NEEDJOBALLOCATION\", \"dataField\": \"nneedjoballocation\" },\r\n            { \"idsName\": \"IDS_NEEDMYJOB\", \"dataField\": \"nneedmyjob\" },\r\n            { \"idsName\": \"IDS_NEEDWORKLIST\", \"dataField\": \"nneedworklist\" },\r\n            { \"idsName\": \"IDS_NEEDBATCH\", \"dataField\": \"nneedbatch\" },\r\n            { \"idsName\": \"IDS_TESTGROUPSPEC\", \"dataField\": \"ntestgroupspecrequired\" },  //ALPD-4973, Vishakh, Added Test group spec toggle button\r\n            /*ALPD-4135-Vignesh R--The system will allow the authorized \r\n             user to enter results for the selected tests without initiate action.*/\r\n            { \"idsName\": \"IDS_NEEDTESTINITIATE\", \"dataField\": \"nneedtestinitiate\" },\r\n            //  { \"idsName\": \"IDS_NEEDSCHEDULER\", \"dataField\": \"nneedscheduler\" },\r\n            // { \"idsName\": \"IDS_NEEDTEMPLATEBASEDFLOW\", \"dataField\": \"nneedtemplatebasedflow\" },\r\n            { \"idsName\": \"IDS_USENEWFORMAT\", \"dataField\": \"nisnewformat\" },\r\n            { \"idsName\": \"IDS_NEEDSITEWISEARNO\", \"dataField\": \"nneedsitewisearno\" },\r\n\r\n        ]\r\n        const CustomToggle = ({ children, eventKey }) => {\r\n            const currentEventKey = React.useContext(AccordionContext);\r\n            const isCurrentEventKey = currentEventKey === eventKey;\r\n            const decoratedOnClick = useAccordionToggle(eventKey, \"\");\r\n            return (\r\n                <div\r\n                    className=\"d-flex justify-content-between\"\r\n                    onClick={decoratedOnClick}>\r\n                    {children}\r\n                    {isCurrentEventKey ?\r\n                        <FontAwesomeIcon icon={faChevronUp} />\r\n                        : <FontAwesomeIcon icon={faChevronDown} //onClick={children.props.onExpandCall}\r\n                        />}\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                {/* <Row> */}\r\n                <Row>\r\n                    <FormGroup>\r\n                        {this.props.intl.formatMessage({ id: \"IDS_TRANSACTIONFLOW\" })}\r\n                    </FormGroup>\r\n                </Row>\r\n                <Row>\r\n                    {configFields.map((field, index) =>\r\n\r\n                        index < 6 ?\r\n                            field.dataField === \"ntestgroupspecrequired\" ? parseInt(this.props.settings[71]) === transactionStatus.YES ?    //ALPD-4973, Vishakh, Toggle button will be shown based on settings table 71 record\r\n                                <Col md={2} key={index}>\r\n                                    <CustomSwitch\r\n                                        label={this.props.intl.formatMessage({ id: field.idsName })}\r\n                                        type=\"switch\"\r\n                                        name={field.dataField}\r\n                                        onChange={(event) => this.props.onInputOnChange(event)}\r\n                                        isMandatory={false}\r\n                                        required={true}\r\n                                        disabled={false} // ALPD-5336 - Gowtham R - Registration Sub Type: Either Worklist or My job toggle should be enabled.\r\n                                            //field.dataField==='nneedjoballocation'||\r\n                                            // field.dataField === 'nneedmyjob' ?\r\n                                            //     this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\r\n                                            //         this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false}\r\n                                        checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField]}\r\n                                    />\r\n                                </Col> : \"\" :\r\n                                <Col md={2} key={index}>\r\n                                    <CustomSwitch\r\n                                        label={this.props.intl.formatMessage({ id: field.idsName })}\r\n                                        type=\"switch\"\r\n                                        name={field.dataField}\r\n                                        onChange={(event) => this.props.onInputOnChange(event)}\r\n                                        isMandatory={false}\r\n                                        required={true}\r\n                                        disabled={false} // ALPD-5336 - Gowtham R - Registration Sub Type: Either Worklist or My job toggle should be enabled.\r\n                                            //field.dataField==='nneedjoballocation'||\r\n                                            // field.dataField === 'nneedmyjob' ?\r\n                                            //     this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\r\n                                            //         this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false}\r\n                                        checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField]}\r\n                                        //checked={this.props.selectedRecord[field.dataField] === transactionStatus.YES?true:false}\r\n                                        //checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField] ?this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })}\r\n                                        \r\n                                    />\r\n                                </Col>\r\n                            :\r\n\r\n                            \"\"\r\n\r\n                    )}\r\n                </Row>\r\n                <div class='dropdown-divider' />\r\n                <Row>\r\n\r\n                    <FormGroup>\r\n                        {this.props.intl.formatMessage({ id: \"IDS_SEQUENCEFORMAT\" })}\r\n                    </FormGroup>\r\n\r\n                </Row>\r\n                <Row>\r\n                    {configFields.map((field, index) =>\r\n\r\n                        index > 5 ?\r\n                            <Col md={3} key={index}>\r\n                                <CustomSwitch\r\n                                    label={this.props.intl.formatMessage({ id: field.idsName })}\r\n                                    type=\"switch\"\r\n                                    name={field.dataField}\r\n                                    onChange={(event) => this.props.onInputOnChange(event)}\r\n                                    isMandatory={false}\r\n                                    required={true}\r\n                                    disabled={\r\n                                        //field.dataField==='nneedjoballocation'||\r\n                                        field.dataField === 'nneedmyjob' ?\r\n                                            this.props.selectedRecord && this.props.selectedRecord[\"nneedworklist\"] ?\r\n                                                this.props.selectedRecord[\"nneedworklist\"] === true ? true : false : false : false}\r\n                                    checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField] }\r\n                                    //checked={this.props.selectedRecord[field.dataField] === transactionStatus.yes?true:false}\r\n                                    //checked={this.props.selectedRecord && this.props.selectedRecord[field.dataField] ?this.props.intl.formatMessage({ id: \"IDS_YES\" }) : this.props.intl.formatMessage({ id: \"IDS_NO\" })}\r\n                                    \r\n                                />\r\n                            </Col>\r\n                            :\r\n\r\n                            \"\"\r\n\r\n                    )}\r\n\r\n                </Row>\r\n                {/* </Row> */}\r\n                {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                    <Row>\r\n                        {/* <Col md={6}>\r\n                            <FormNumericInput\r\n                                name={\"nresetduration\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                placeholder={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                value={this.props.selectedRecord.nresetduration || \"\"}\r\n                                className=\"form-control\"\r\n                                noStyle={true}\r\n                                isMandatory={true}\r\n                                required={true}\r\n                                maxLength={100}\r\n                                onChange={(event) => this.props.onNumericInputChange(event, 'nresetduration')}\r\n                            />\r\n                        </Col> */}\r\n                        <Col md={4}>\r\n                            <FormSelectSearch\r\n                                name={\"nperiodcode\"}\r\n                                formLabel={this.props.intl.formatMessage({ id: \"IDS_RESETSEQEVERY\" })}\r\n                                placeholder={this.props.intl.formatMessage({ id: \"IDS_RESETDURATION\" })}\r\n                                options={this.props.periodList || []}\r\n                                value={this.props.selectedRecord && (this.props.selectedRecord.nperiodcode || '')}\r\n                                isMandatory={true}\r\n                                isSearchable={true}\r\n                                isMulti={false}\r\n                                onChange={(event) => this.props.onComboChange(event, 'nperiodcode')}\r\n                            />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <FormInput\r\n                                name={\"splaintext\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_TEXTVALUE\" })}\r\n                                type=\"text\"\r\n                                value={this.props.selectedRecord && (this.props.selectedRecord.splaintext || \"\")}\r\n                                required={true}\r\n                                maxLength={10}\r\n                                onChange={(event) => this.props.onInputOnChange(event)}\r\n                            />\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <FormNumericInput\r\n                                name={\"seqnolength\"}\r\n                                className={\"form-control\"}\r\n                                label={this.props.intl.formatMessage({ id: \"IDS_SEQUENCENOLENGTH\" })}\r\n                                //value={this.props.selectedRecord && this.props.selectedRecord.seqnolength || 4}\r\n                                value={this.props.selectedRecord && this.props.selectedRecord.seqnolength === \"\" ? this.props.selectedRecord.seqnolength : this.props.selectedRecord.seqnolength || 4}\r\n                                isMandatory={true}\r\n                                type=\"number\"\r\n                                noStyle={true}\r\n                                required={true}\r\n                                strict={true}\r\n                                maxLength={1}\r\n                                onChange={(event) => this.props.onNumericInputChange(event, 'seqnolength')}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    : \"\"}\r\n                <Row>\r\n                    <Col md={4} className='mt-3'>\r\n                        <PerfectScrollbar>\r\n                            <AtAccordion>\r\n                                <Accordion activeKey={this.props.selectedRecord && this.props.selectedRecord.nisnewformat ? \"InputFields\" : \"ExistingFormats\"} >\r\n                                    <Card>\r\n                                        {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                                            <>\r\n                                                <Card.Header>\r\n                                                    <CustomToggle eventKey={\"InputFields\"}>\r\n                                                        <Card.Title>\r\n                                                            {this.props.intl.formatMessage({ id: \"IDS_FORMATFIELDS\" })}\r\n                                                        </Card.Title>\r\n                                                    </CustomToggle>\r\n                                                </Card.Header>\r\n                                                <Accordion.Collapse eventKey={\"InputFields\"}>\r\n                                                    <>\r\n                                                        {\r\n                                                            formatComponents.map((sideBarItem, index) => (\r\n                                                                <Draggable type={'formatcomponents'} data={sideBarItem.componentvalue}>\r\n                                                                    <ListGroupItem key={index} className=\"sideBarItem ml-0\" style={{ backgroundColor: \"#155592\", justifyContent: \"space-around\" }}>\r\n                                                                        {sideBarItem.componentname}\r\n                                                                    </ListGroupItem>\r\n                                                                </Draggable>\r\n                                                            ))\r\n                                                        }\r\n                                                    </>\r\n                                                </Accordion.Collapse>\r\n                                            </>\r\n\r\n\r\n                                            :\r\n\r\n                                            this.props.selectedRecord && this.props.selectedRecord.nneedsitewisearno ? <>\r\n                                                <Card.Header>\r\n                                                    <CustomToggle eventKey={\"ExistingFormats\"}>\r\n                                                        <Card.Title>\r\n                                                            {this.props.intl.formatMessage({ id: \"IDS_SITEWISEEXISTINGFORMAT\" })}\r\n                                                        </Card.Title>\r\n                                                    </CustomToggle>\r\n                                                </Card.Header>\r\n                                                <Accordion.Collapse eventKey={\"ExistingFormats\"}>\r\n                                                    <>\r\n                                                        {\r\n                                                            this.props.sitewiseexistingFormats && this.props.sitewiseexistingFormats.map((sideBarItem, index) => (\r\n                                                                <Draggable type={'formatcomponents'} data={sideBarItem.ssampleformat}>\r\n                                                                    <ListGroupItem key={index} className=\"sideBarItem ml-0\" style={{ backgroundColor: \"#155592\", justifyContent: \"space-around\" }}>\r\n                                                                        {sideBarItem.ssampleformat}\r\n                                                                    </ListGroupItem>\r\n                                                                </Draggable>\r\n                                                            ))\r\n                                                        }\r\n                                                    </>\r\n                                                </Accordion.Collapse>\r\n                                            </> :\r\n\r\n\r\n\r\n                                                <>\r\n                                                    <Card.Header>\r\n                                                        <CustomToggle eventKey={\"ExistingFormats\"}>\r\n                                                            <Card.Title>\r\n                                                                {this.props.intl.formatMessage({ id: \"IDS_EXISTINGFORMAT\" })}\r\n                                                            </Card.Title>\r\n                                                        </CustomToggle>\r\n                                                    </Card.Header>\r\n                                                    <Accordion.Collapse eventKey={\"ExistingFormats\"}>\r\n                                                        <>\r\n                                                            {\r\n                                                                this.props.existingFormats && this.props.existingFormats.map((sideBarItem, index) => (\r\n                                                                    <Draggable type={'formatcomponents'} data={sideBarItem.ssampleformat}>\r\n                                                                        <ListGroupItem key={index} className=\"sideBarItem ml-0\" style={{ backgroundColor: \"#155592\", justifyContent: \"space-around\" }}>\r\n                                                                            {sideBarItem.ssampleformat}\r\n                                                                        </ListGroupItem>\r\n                                                                    </Draggable>\r\n                                                                ))\r\n                                                            }\r\n                                                        </>\r\n                                                    </Accordion.Collapse>\r\n                                                </>\r\n                                        }\r\n                                    </Card>\r\n                                </Accordion>\r\n                            </AtAccordion>\r\n                        </PerfectScrollbar>\r\n                    </Col>\r\n                    <Col md={8}>\r\n                        <Row>\r\n                            {this.props.selectedRecord && this.props.selectedRecord.nisnewformat ?\r\n                                <Col md={6} className='d-flex flex-column'>\r\n                                    <Nav.Link className=\"btn-user btn-cancel btn p-0\" onClick={this.props.onClickBackspace}>\r\n                                        <FontAwesomeIcon icon={faBackspace} className='pr-1' />\r\n                                        {this.props.intl.formatMessage({ id: \"IDS_BACKSPACE\" })}\r\n                                    </Nav.Link>\r\n                                </Col>\r\n                                : \"\"\r\n                            }\r\n                            <Col md={6} className=' d-flex justify-content-start'>\r\n                                <Nav.Link className=\"btn-user btn-cancel btn p-0 mb-3\" onClick={this.props.onClickClear}>\r\n                                    <FontAwesomeIcon icon={faTimes} className='pr-1' />\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_CLEARALL\" })}\r\n                                </Nav.Link>\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <Droppable\r\n                                    types={['formatcomponents']}\r\n                                    onDrop={event => this.props.onDrop(event)}\r\n                                    className={\"p-1\"}\r\n                                >\r\n                                    <FormTextarea\r\n                                        name={\"ssampleformat\"}\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_INPUTFORMATWITHINFO\" })}\r\n                                        onChange={(event) => this.props.onInputOnChange(event)}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_INPUTFORMAT\" })}\r\n                                        value={this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"]}\r\n                                        rows={2}\r\n                                        isMandatory={true}\r\n                                        readOnly={true}\r\n                                        required={true}\r\n                                        showCharCount={true}\r\n \t\t\t\t\t\t\t\t\t\t//ALPD-5254--added by  neeraj\r\n                                        maxLength={30}\r\n                                        charLength={this.props.selectedRecord && this.props.selectedRecord[\"ssampleformat\"] ? this.props.selectedRecord[\"ssampleformat\"].replaceAll(\"{\", \"\").replaceAll(\"}\", \"\").length : 0}\r\n                                    />\r\n                                </Droppable>\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <FormTextarea\r\n                                    name={\"exampleformat\"}\r\n                                    label={this.props.intl.formatMessage({ id: \"IDS_OUTPUTFORMAT\" })}\r\n                                    onChange={(event) => this.props.onInputOnChange(event)}\r\n                                    placeholder={this.props.intl.formatMessage({ id: \"IDS_OUTPUTFORMAT\" })}\r\n                                    value={this.props.selectedRecord && this.props.selectedRecord[\"exampleformat\"]}\r\n                                    rows={2}\r\n                                    isMandatory={true}\r\n                                    readOnly={true}\r\n                                    required={true}\r\n                                    showCharCount={true}\r\n                                    //ALPD-5254--added by  neeraj\r\n                                    maxLength={30}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default injectIntl(AddSeqNoFormatPopup)"]},"metadata":{},"sourceType":"module"}