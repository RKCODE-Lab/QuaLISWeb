{"ast":null,"code":"import _objectSpread from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"D:\\\\Postgres_workingFolder\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import Axios from'axios';import{initRequest}from'./LoginAction';import{sortData,constructOptionList,rearrangeDateFormat}from'../components/CommonScript';import{intl}from'../components/App';import{transactionStatus}from'../components/Enumeration';export function getGoodsInComboService(goodsInParam){return function(dispatch){var manufacturerService=rsapi.post(\"manufacturer/getManufacturerListForCombo\",{userinfo:goodsInParam.userInfo});var courierService=rsapi.post(\"courier/getAllActiveCourier\",{userinfo:goodsInParam.userInfo});var recipientService=rsapi.post(\"users/getUserWithDeptForCombo\",{userinfo:goodsInParam.userInfo});var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var UTCtimeZoneService=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:goodsInParam.userInfo});var urlArray=[];var selectedId=null;if(goodsInParam.operation===\"create\"){urlArray=[manufacturerService,courierService,recipientService,timeZoneService,UTCtimeZoneService];}else{var _rsapi$post;var url=goodsInParam.inputParam.classUrl+\"/getActiveGoodsInById\";var goodsInById=rsapi.post(url,(_rsapi$post={},_defineProperty(_rsapi$post,goodsInParam.primaryKeyField,goodsInParam.primaryKeyValue),_defineProperty(_rsapi$post,\"userinfo\",goodsInParam.userInfo),_rsapi$post));urlArray=[manufacturerService,courierService,recipientService,timeZoneService,UTCtimeZoneService,goodsInById];selectedId=goodsInParam.primaryKeyValue;}dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var manufacturerMap=constructOptionList(response[0].data||[],\"nmanufcode\",\"smanufname\",undefined,undefined,true);var courierMap=constructOptionList(response[1].data||[],\"ncouriercode\",\"scouriername\",undefined,undefined,false);var recipientMap=constructOptionList(response[2].data||[],\"nusercode\",\"susername\",undefined,undefined,true);var timeZoneMap=constructOptionList(response[3].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var manufacturerList=manufacturerMap.get(\"OptionList\");var courierList=courierMap.get(\"OptionList\");var recipientList=recipientMap.get(\"OptionList\");var timeZoneList=timeZoneMap.get(\"OptionList\");//const currentTime = new Date(response[4].data);\nvar currentTime=rearrangeDateFormat(goodsInParam.userInfo,response[4].data);var validRecord=true;var selectedRecord={//\"dgoodsindate\": new Date(response[4].data),\n\"ntzgoodsindate\":{\"value\":goodsInParam.userInfo.ntimezonecode,\"label\":goodsInParam.userInfo.stimezoneid},\"stzgoodsindate\":goodsInParam.userInfo.stimezoneid};if(goodsInParam.operation===\"update\"){if(response[5].data[\"ntransactionstatus\"]===transactionStatus.GOODS_RECEIVED){validRecord=false;}else{var manufacturer=[];var courier=[];var user=[];var timeZone=[];selectedRecord=response[5].data;manufacturer.push({\"value\":response[5].data[\"nmanufcode\"],\"label\":response[5].data[\"smanufname\"]});if(response[5].data[\"ncouriercode\"]!==-1){courier.push({\"value\":response[5].data[\"ncouriercode\"],\"label\":response[5].data[\"scouriername\"]});selectedRecord[\"ncouriercode\"]=courier[0];}else{selectedRecord[\"ncouriercode\"]=undefined;}user.push({\"value\":response[5].data[\"nrecipientcode\"],\"label\":response[5].data[\"suserfullname\"]});timeZone.push({\"value\":response[5].data[\"ntzgoodsindate\"],\"label\":response[5].data[\"stzgoodsindate\"]});selectedRecord[\"nmanufcode\"]=manufacturer[0];selectedRecord[\"nrecipientcode\"]=user[0];//selectedRecord[\"ndeptcode\"] = response[5].data[\"ndeptcode\"];\nselectedRecord[\"sdeptname\"]=response[5].data[\"sdeptname\"];selectedRecord[\"ntzgoodsindate\"]=timeZone[0];selectedRecord[\"stzgoodsindate\"]=timeZone[0].label;//selectedRecord[\"dgoodsindate\"] = new Date(response[5].data[\"sgoodsindate\"]);\nselectedRecord[\"dgoodsindate\"]=rearrangeDateFormat(goodsInParam.userInfo,response[5].data[\"sgoodsindate\"]);}}else{//selectedRecord[\"dgoodsindate\"]= new Date(response[4].data);\nselectedRecord[\"dgoodsindate\"]=rearrangeDateFormat(goodsInParam.userInfo,response[4].data);selectedRecord[\"nmanufcode\"]=manufacturerMap.get(\"DefaultValue\");selectedRecord[\"ncouriercode\"]=courierMap.get(\"DefaultValue\");selectedRecord[\"nrecipientcode\"]=recipientMap.get(\"DefaultValue\");// selectedRecord[\"ntzgoodsindate\"] = timeZoneMap.get(\"DefaultValue\");\n//selectedRecord[\"stzgoodsindate\"] = timeZoneMap.get(\"DefaultValue\") ? timeZoneMap.get(\"DefaultValue\").label :\"\";\n}if(validRecord){dispatch({type:DEFAULT_RETURN,payload:{currentTime:currentTime,manufacturerList:manufacturerList,//:response[0].data || [], \ncourierList:courierList,//:response[1].data  || [], \nrecipientList:recipientList,//:response[2].data  || [],   \ntimeZoneList:timeZoneList,//:response[3].data  || [],                                                                                     \noperation:goodsInParam.operation,screenName:goodsInParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:goodsInParam.ncontrolCode,loading:false,selectedId:selectedId}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_GOODSINALREADYRECEIVED\"}));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getGoodsInDetail(goodsIn,fromDate,toDate,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"goodsin/getGoodsIn\",{nrmsno:goodsIn.nrmsno,fromDate:fromDate,toDate:toDate,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread({},masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getChainCustodyComboDataService(chainCustodyParam){return function(dispatch){// if (chainCustodyParam.masterData.SelectedGoodsIn.ntransactionstatus === transactionStatus.GOODS_IN) {\n//     toast.warn(intl.formatMessage({ id: \"IDS_GOODSINNOTRECEIVED\" }));\n// }\n// else {\nvar selectedId=null;var selectedRecord={\"dreceiveddate\":new Date(),\"ntzreceiveddate\":{\"value\":chainCustodyParam.userInfo.ntimezonecode,\"label\":chainCustodyParam.userInfo.stimezoneid},\"stzreceiveddate\":chainCustodyParam.userInfo.stimezoneid};if(chainCustodyParam.operation===\"update\"){if(chainCustodyParam.editRow.nreceivedownercode===chainCustodyParam.userInfo.nusercode){var _rsapi$post2;selectedId=chainCustodyParam.primaryKeyValue;var timeZoneService=rsapi.post(\"timezone/getTimeZone\");var ccById=rsapi.post(\"goodsin/getActiveChainCustodyById\",(_rsapi$post2={},_defineProperty(_rsapi$post2,chainCustodyParam.primaryKeyField,chainCustodyParam.primaryKeyValue),_defineProperty(_rsapi$post2,\"userinfo\",chainCustodyParam.userInfo),_rsapi$post2));var UTCtimeZoneService=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:chainCustodyParam.userInfo});var urlArray=[timeZoneService,ccById,UTCtimeZoneService];dispatch(initRequest(true));Axios.all(urlArray)// dispatch(initRequest(true));\n// return rsapi.post(\"goodsin/getActiveChainCustodyById\", { [chainCustodyParam.primaryKeyField] : chainCustodyParam.primaryKeyValue, \"userinfo\": chainCustodyParam.userInfo} )\n.then(function(response){selectedRecord=response[1].data;var timeZone=[];timeZone.push({\"value\":response[1].data[\"ntzreceiveddate\"],\"label\":response[1].data[\"stzreceiveddate\"]});var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");selectedRecord[\"ntzreceiveddate\"]=timeZone[0];selectedRecord[\"stzreceiveddate\"]=timeZone[0].label;//selectedRecord[\"dreceiveddate\"] = new Date(response[1].data[\"sreceiveddate\"]);\nselectedRecord[\"dreceiveddate\"]=rearrangeDateFormat(chainCustodyParam.userInfo,response[1].data[\"sreceiveddate\"]);dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,//:response[0].data  || [],                                                                                 \noperation:chainCustodyParam.operation,screenName:chainCustodyParam.screenName,selectedRecord:selectedRecord,openChildModal:true,ncontrolCode:chainCustodyParam.ncontrolCode,loading:false,selectedId:selectedId,//currentTime:new Date(response[2].data)\ncurrentTime:rearrangeDateFormat(chainCustodyParam.userInfo,response[2].data)}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}else{toast.warn(intl.formatMessage({id:\"IDS_INVALIDOWNERTOEDIT\"}));}}else{dispatch(initRequest(true));var _timeZoneService=rsapi.post(\"timezone/getTimeZone\");var _UTCtimeZoneService=rsapi.post(\"timezone/getLocalTimeByZone\",{userinfo:chainCustodyParam.userInfo});var validateGoodsIn=rsapi.post(\"goodsin/validateGoodsIn\",{nrmsno:chainCustodyParam.masterData.SelectedGoodsIn.nrmsno,userinfo:chainCustodyParam.userInfo});var _urlArray=[_timeZoneService,_UTCtimeZoneService,validateGoodsIn];return Axios.all(_urlArray).then(function(response){var timeZoneMap=constructOptionList(response[0].data||[],\"ntimezonecode\",\"stimezoneid\",undefined,undefined,true);var timeZoneList=timeZoneMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{timeZoneList:timeZoneList,//:response.data  || [],\noperation:chainCustodyParam.operation,selectedRecord:_objectSpread(_objectSpread({},selectedRecord),{},{//dreceiveddate: new Date(response[1].data) \ndreceiveddate:rearrangeDateFormat(chainCustodyParam.userInfo,response[1].data)}),openChildModal:true,screenName:chainCustodyParam.screenName,ncontrolCode:chainCustodyParam.ncontrolCode,loading:false,selectedId:selectedId,//currentTime:new Date(response[1].data)\ncurrentTime:rearrangeDateFormat(chainCustodyParam.userInfo,response[1].data)}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});}};// }\n}export function getGoodsInPrinterComboService(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"barcode/getPrinter\",inputParam.userInfo).then(function(response){var selectedRecord={sprintername:{value:response.data[0].sprintername,label:response.data[0].sprintername,item:response.data[0]}};var printerList=constructOptionList(response.data||[],\"sprintername\",\"sprintername\",undefined,undefined,true).get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{printerList:printerList,selectedRecord:selectedRecord,operation:\"printer\",screenName:\"PrintBarcode\",dataToPrint:inputParam.selectedGoodsIn.nrmsno,ncontrolcode:inputParam.ncontrolcode,loading:false,openModal:true}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function reloadGoodsIn(inputParam){return function(dispatch){dispatch(initRequest(true));rsapi.post(\"goodsin/getGoodsIn\",_objectSpread({},inputParam.inputData)).then(function(response){var responseData=_objectSpread({},response.data);responseData=sortData(responseData);var masterData=_objectSpread(_objectSpread({},inputParam.masterData),responseData);if(inputParam.searchRef!==undefined&&inputParam.searchRef.current!==null){inputParam.searchRef.current.value=\"\";masterData['searchedData']=undefined;}dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false,showFilter:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/Postgres_workingFolder/QuaLISWeb/src/actions/GoodsInAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","Axios","initRequest","sortData","constructOptionList","rearrangeDateFormat","intl","transactionStatus","getGoodsInComboService","goodsInParam","dispatch","manufacturerService","post","userinfo","userInfo","courierService","recipientService","timeZoneService","UTCtimeZoneService","urlArray","selectedId","operation","url","inputParam","classUrl","goodsInById","primaryKeyField","primaryKeyValue","all","then","response","manufacturerMap","data","undefined","courierMap","recipientMap","timeZoneMap","manufacturerList","get","courierList","recipientList","timeZoneList","currentTime","validRecord","selectedRecord","ntimezonecode","stimezoneid","GOODS_RECEIVED","manufacturer","courier","user","timeZone","push","label","type","payload","screenName","openModal","ncontrolCode","loading","warn","formatMessage","id","catch","error","status","message","getGoodsInDetail","goodsIn","fromDate","toDate","masterData","nrmsno","getChainCustodyComboDataService","chainCustodyParam","Date","editRow","nreceivedownercode","nusercode","ccById","openChildModal","validateGoodsIn","SelectedGoodsIn","dreceiveddate","getGoodsInPrinterComboService","sprintername","value","item","printerList","dataToPrint","selectedGoodsIn","ncontrolcode","reloadGoodsIn","inputData","responseData","searchRef","current","showFilter"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport Axios from 'axios';\r\nimport { initRequest } from './LoginAction';\r\nimport { sortData, constructOptionList, rearrangeDateFormat } from '../components/CommonScript';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus } from '../components/Enumeration';\r\n\r\nexport function getGoodsInComboService(goodsInParam) {\r\n    return function (dispatch) {\r\n\r\n        const manufacturerService = rsapi.post(\"manufacturer/getManufacturerListForCombo\", { userinfo: goodsInParam.userInfo });\r\n        const courierService = rsapi.post(\"courier/getAllActiveCourier\", { userinfo: goodsInParam.userInfo });\r\n        const recipientService = rsapi.post(\"users/getUserWithDeptForCombo\", { userinfo: goodsInParam.userInfo });\r\n        const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n        const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: goodsInParam.userInfo });\r\n        let urlArray = [];\r\n        let selectedId = null;\r\n        if (goodsInParam.operation === \"create\") {\r\n            urlArray = [manufacturerService, courierService, recipientService, timeZoneService, UTCtimeZoneService];\r\n        }\r\n        else {\r\n            const url = goodsInParam.inputParam.classUrl + \"/getActiveGoodsInById\";\r\n\r\n            const goodsInById = rsapi.post(url, { [goodsInParam.primaryKeyField]: goodsInParam.primaryKeyValue, \"userinfo\": goodsInParam.userInfo });\r\n            urlArray = [manufacturerService, courierService, recipientService, timeZoneService, UTCtimeZoneService, goodsInById];\r\n            selectedId = goodsInParam.primaryKeyValue;\r\n        }\r\n        dispatch(initRequest(true));\r\n        Axios.all(urlArray)\r\n            .then(response => {\r\n                const manufacturerMap = constructOptionList(response[0].data || [], \"nmanufcode\",\r\n                    \"smanufname\", undefined, undefined, true);\r\n\r\n                const courierMap = constructOptionList(response[1].data || [], \"ncouriercode\",\r\n                    \"scouriername\", undefined, undefined, false);\r\n\r\n                const recipientMap = constructOptionList(response[2].data || [], \"nusercode\",\r\n                    \"susername\", undefined, undefined, true);\r\n\r\n                const timeZoneMap = constructOptionList(response[3].data || [], \"ntimezonecode\",\r\n                    \"stimezoneid\", undefined, undefined, true);\r\n\r\n                const manufacturerList = manufacturerMap.get(\"OptionList\");\r\n                const courierList = courierMap.get(\"OptionList\");\r\n                const recipientList = recipientMap.get(\"OptionList\");\r\n                const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                //const currentTime = new Date(response[4].data);\r\n                const currentTime = rearrangeDateFormat(goodsInParam.userInfo, response[4].data);\r\n\r\n                let validRecord = true;\r\n                let selectedRecord = {\r\n                    //\"dgoodsindate\": new Date(response[4].data),\r\n                    \"ntzgoodsindate\": {\r\n                        \"value\": goodsInParam.userInfo.ntimezonecode,\r\n                        \"label\": goodsInParam.userInfo.stimezoneid\r\n                    },\r\n                    \"stzgoodsindate\": goodsInParam.userInfo.stimezoneid\r\n                };\r\n                if (goodsInParam.operation === \"update\") {\r\n                    if (response[5].data[\"ntransactionstatus\"] === transactionStatus.GOODS_RECEIVED) {\r\n                        validRecord = false;\r\n                    }\r\n                    else {\r\n                        let manufacturer = [];\r\n                        let courier = [];\r\n                        let user = [];\r\n                        let timeZone = [];\r\n                        selectedRecord = response[5].data;\r\n\r\n                        manufacturer.push({ \"value\": response[5].data[\"nmanufcode\"], \"label\": response[5].data[\"smanufname\"] });\r\n                        if (response[5].data[\"ncouriercode\"] !== -1) {\r\n                            courier.push({ \"value\": response[5].data[\"ncouriercode\"], \"label\": response[5].data[\"scouriername\"] });\r\n                            selectedRecord[\"ncouriercode\"] = courier[0];\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncouriercode\"] = undefined;\r\n                        }\r\n                        user.push({ \"value\": response[5].data[\"nrecipientcode\"], \"label\": response[5].data[\"suserfullname\"] });\r\n                        timeZone.push({ \"value\": response[5].data[\"ntzgoodsindate\"], \"label\": response[5].data[\"stzgoodsindate\"] });\r\n\r\n                        selectedRecord[\"nmanufcode\"] = manufacturer[0];\r\n                        selectedRecord[\"nrecipientcode\"] = user[0];\r\n                        //selectedRecord[\"ndeptcode\"] = response[5].data[\"ndeptcode\"];\r\n                        selectedRecord[\"sdeptname\"] = response[5].data[\"sdeptname\"];\r\n                        selectedRecord[\"ntzgoodsindate\"] = timeZone[0];\r\n                        selectedRecord[\"stzgoodsindate\"] = timeZone[0].label;\r\n\r\n                       //selectedRecord[\"dgoodsindate\"] = new Date(response[5].data[\"sgoodsindate\"]);\r\n\r\n                       selectedRecord[\"dgoodsindate\"] = rearrangeDateFormat(goodsInParam.userInfo, response[5].data[\"sgoodsindate\"]);\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    //selectedRecord[\"dgoodsindate\"]= new Date(response[4].data);\r\n                    selectedRecord[\"dgoodsindate\"] = rearrangeDateFormat(goodsInParam.userInfo, response[4].data);\r\n                  \r\n                  \r\n                    selectedRecord[\"nmanufcode\"] = manufacturerMap.get(\"DefaultValue\");\r\n                    selectedRecord[\"ncouriercode\"] = courierMap.get(\"DefaultValue\");\r\n                    selectedRecord[\"nrecipientcode\"] = recipientMap.get(\"DefaultValue\");\r\n                    // selectedRecord[\"ntzgoodsindate\"] = timeZoneMap.get(\"DefaultValue\");\r\n                    //selectedRecord[\"stzgoodsindate\"] = timeZoneMap.get(\"DefaultValue\") ? timeZoneMap.get(\"DefaultValue\").label :\"\";\r\n                }\r\n                if (validRecord) {\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            currentTime,\r\n                            manufacturerList,//:response[0].data || [], \r\n                            courierList,//:response[1].data  || [], \r\n                            recipientList,//:response[2].data  || [],   \r\n                            timeZoneList,//:response[3].data  || [],                                                                                     \r\n                            operation: goodsInParam.operation, screenName: goodsInParam.screenName,\r\n                            selectedRecord,\r\n                            openModal: true,\r\n                            ncontrolCode: goodsInParam.ncontrolCode,\r\n                            loading: false, selectedId\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    toast.warn(intl.formatMessage({ id: \"IDS_GOODSINALREADYRECEIVED\" }));\r\n                }\r\n            })\r\n            .catch(error => {              \r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function getGoodsInDetail(goodsIn, fromDate, toDate, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"goodsin/getGoodsIn\", { nrmsno: goodsIn.nrmsno, fromDate, toDate, userinfo: userInfo })\r\n            .then(response => {\r\n\r\n                masterData = { ...masterData, ...response.data };\r\n                sortData(masterData);\r\n                dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(intl.formatMessage({ id: error.message }));\r\n                }\r\n                else {\r\n                    toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getChainCustodyComboDataService(chainCustodyParam) {\r\n    return function (dispatch) {\r\n\r\n        // if (chainCustodyParam.masterData.SelectedGoodsIn.ntransactionstatus === transactionStatus.GOODS_IN) {\r\n        //     toast.warn(intl.formatMessage({ id: \"IDS_GOODSINNOTRECEIVED\" }));\r\n        // }\r\n        // else {\r\n        let selectedId = null;\r\n        let selectedRecord = {\r\n            \"dreceiveddate\": new Date(),\r\n            \"ntzreceiveddate\": {\r\n                \"value\": chainCustodyParam.userInfo.ntimezonecode,\r\n                \"label\": chainCustodyParam.userInfo.stimezoneid\r\n            },\r\n            \"stzreceiveddate\": chainCustodyParam.userInfo.stimezoneid\r\n        };\r\n\r\n        if (chainCustodyParam.operation === \"update\") {\r\n            if (chainCustodyParam.editRow.nreceivedownercode === chainCustodyParam.userInfo.nusercode) {\r\n                selectedId = chainCustodyParam.primaryKeyValue;\r\n                const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n                const ccById = rsapi.post(\"goodsin/getActiveChainCustodyById\", { [chainCustodyParam.primaryKeyField]: chainCustodyParam.primaryKeyValue, \"userinfo\": chainCustodyParam.userInfo });\r\n                const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: chainCustodyParam.userInfo });\r\n           \r\n                const urlArray = [timeZoneService, ccById, UTCtimeZoneService];\r\n\r\n                dispatch(initRequest(true));\r\n                Axios.all(urlArray)\r\n                    // dispatch(initRequest(true));\r\n                    // return rsapi.post(\"goodsin/getActiveChainCustodyById\", { [chainCustodyParam.primaryKeyField] : chainCustodyParam.primaryKeyValue, \"userinfo\": chainCustodyParam.userInfo} )\r\n                    .then(response => {\r\n                        selectedRecord = response[1].data;\r\n\r\n                        let timeZone = [];\r\n                        timeZone.push({ \"value\": response[1].data[\"ntzreceiveddate\"], \"label\": response[1].data[\"stzreceiveddate\"] });\r\n\r\n                        const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\",\r\n                            \"stimezoneid\", undefined, undefined, true);\r\n\r\n                        const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n\r\n                        selectedRecord[\"ntzreceiveddate\"] = timeZone[0];\r\n                        selectedRecord[\"stzreceiveddate\"] = timeZone[0].label;\r\n\r\n                        //selectedRecord[\"dreceiveddate\"] = new Date(response[1].data[\"sreceiveddate\"]);\r\n\r\n                        selectedRecord[\"dreceiveddate\"] = rearrangeDateFormat(chainCustodyParam.userInfo, response[1].data[\"sreceiveddate\"]);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                timeZoneList,//:response[0].data  || [],                                                                                 \r\n                                operation: chainCustodyParam.operation,\r\n                                screenName: chainCustodyParam.screenName,\r\n                                selectedRecord,\r\n                                openChildModal: true,\r\n                                ncontrolCode: chainCustodyParam.ncontrolCode,\r\n                                loading: false, selectedId,\r\n                                //currentTime:new Date(response[2].data)\r\n                                currentTime:rearrangeDateFormat(chainCustodyParam.userInfo, response[2].data)\r\n                            }\r\n                        });\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(intl.formatMessage({ id: error.message }));\r\n                        }\r\n                        else {\r\n                            toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_INVALIDOWNERTOEDIT\" }));\r\n            }\r\n        }\r\n        else {\r\n            dispatch(initRequest(true));\r\n            const timeZoneService = rsapi.post(\"timezone/getTimeZone\");\r\n            const UTCtimeZoneService = rsapi.post(\"timezone/getLocalTimeByZone\", { userinfo: chainCustodyParam.userInfo });\r\n            const validateGoodsIn = rsapi.post(\"goodsin/validateGoodsIn\", {\r\n                nrmsno: chainCustodyParam.masterData.SelectedGoodsIn.nrmsno,\r\n                userinfo: chainCustodyParam.userInfo\r\n            });\r\n            let urlArray = [timeZoneService, UTCtimeZoneService,validateGoodsIn];\r\n            return Axios.all(urlArray)\r\n                .then(response => {\r\n\r\n                    const timeZoneMap = constructOptionList(response[0].data || [], \"ntimezonecode\",\r\n                        \"stimezoneid\", undefined, undefined, true);\r\n\r\n                    const timeZoneList = timeZoneMap.get(\"OptionList\");\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            timeZoneList,//:response.data  || [],\r\n                            operation: chainCustodyParam.operation,\r\n                            selectedRecord: { ...selectedRecord, \r\n                                //dreceiveddate: new Date(response[1].data) \r\n                                dreceiveddate: rearrangeDateFormat(chainCustodyParam.userInfo, response[1].data)\r\n                            },\r\n                            openChildModal: true,\r\n                            screenName: chainCustodyParam.screenName,\r\n                            ncontrolCode: chainCustodyParam.ncontrolCode,\r\n                            loading: false, selectedId,\r\n                            //currentTime:new Date(response[1].data)\r\n                            currentTime: rearrangeDateFormat(chainCustodyParam.userInfo, response[1].data)\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n        }\r\n    }\r\n    // }\r\n}\r\n\r\nexport function getGoodsInPrinterComboService(inputParam) {\r\n    return (dispatch) => {\r\n        dispatch(initRequest(true))\r\n        rsapi.post(\"barcode/getPrinter\", inputParam.userInfo)\r\n            .then(response => {\r\n                let selectedRecord = {\r\n                    sprintername: {\r\n                        value: response.data[0].sprintername,\r\n                        label: response.data[0].sprintername,\r\n                        item: response.data[0]\r\n                    }\r\n                };\r\n                const printerList = constructOptionList(response.data || [], \"sprintername\",\r\n                    \"sprintername\", undefined, undefined, true).get(\"OptionList\");\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN,\r\n                    payload: {\r\n                        printerList,\r\n                        selectedRecord,\r\n                        operation: \"printer\",\r\n                        screenName: \"PrintBarcode\",\r\n                        dataToPrint: inputParam.selectedGoodsIn.nrmsno,\r\n                        ncontrolcode: inputParam.ncontrolcode,\r\n                        loading: false,\r\n                        openModal: true\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                } else {\r\n                    toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n}\r\n\r\nexport function reloadGoodsIn(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        rsapi.post(\"goodsin/getGoodsIn\", {...inputParam.inputData})\r\n            .then(response => {\r\n                let responseData = { ...response.data }\r\n                responseData = sortData(responseData)\r\n                let masterData = {\r\n                    ...inputParam.masterData,\r\n                    ...responseData,\r\n                }\r\n                if (inputParam.searchRef !== undefined && inputParam.searchRef.current !== null) {\r\n                    inputParam.searchRef.current.value = \"\";\r\n                    masterData['searchedData'] = undefined\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData,\r\n                        loading: false,\r\n                        showFilter: false\r\n                    }\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}