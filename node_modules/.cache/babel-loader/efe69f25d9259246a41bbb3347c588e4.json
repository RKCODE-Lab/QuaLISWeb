{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{constructOptionList,sortData}from'../components/CommonScript';import{intl}from'../components/App';import Axios from'axios';export function getMISRightsDetail(MISRights,userInfo,masterData){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"misrights/getMISRights\",{nuserrolecode:MISRights.nuserrolecode,userinfo:userInfo}).then(function(response){masterData=_objectSpread(_objectSpread(_objectSpread({},masterData),response.data),{},{updateDataState:true});sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getDashBoardRightsComboDataService(DashBoardparam){return function(dispatch){var contactData={\"nuserrolecode\":DashBoardparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":DashBoardparam.userInfo};var contactService=rsapi.post(\"misrights/getDashBoardTypeByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};//const   DashBoardType= constructOptionList(response[0].data  || [], \"ndashboardtypecode\", \"sdashboardtypename\", false, false, true).get(\"OptionList\"); \nvar DashBoardType=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{DashBoardType:DashBoardType,selectedDashBoardRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:DashBoardparam.operation,screenName:DashBoardparam.screenName,ncontrolCode:DashBoardparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getReportRightsComboDataService(ReportParamparam){return function(dispatch){var contactData={\"nuserrolecode\":ReportParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":ReportParamparam.userInfo};var contactService=rsapi.post(\"misrights/getReportByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};//const   Reports= constructOptionList(response[0].data  || [], \"nreportcode\", \"sreportname\", false, false, true).get(\"OptionList\"); \nvar Reports=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{Reports:Reports,selectedReportRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:ReportParamparam.operation,screenName:ReportParamparam.screenName,ncontrolCode:ReportParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getAlertRightsComboDataService(AlertParamparam){return function(dispatch){var contactData={\"nuserrolecode\":AlertParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":AlertParamparam.userInfo};var contactService=rsapi.post(\"misrights/getAlertByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};//const   Alert= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \nvar Alert=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{Alert:Alert,selectedAlertRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:AlertParamparam.operation,screenName:AlertParamparam.screenName,ncontrolCode:AlertParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getHomeRightsComboDataService(HomeParamparam){return function(dispatch){var contactData={\"nuserrolecode\":HomeParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":HomeParamparam.userInfo};var contactService=rsapi.post(\"misrights/getHomeDashBoardRightsByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};// const   HomeRights= constructOptionList(response[0].data  || [], \"ndashboardhomeprioritycode\", \"sdashboardhomepagename\", false, false, true).get(\"OptionList\"); \nvar HomeRights=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{HomeRights:HomeRights,selectedHomeRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:HomeParamparam.operation,screenName:HomeParamparam.screenName,ncontrolCode:HomeParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}export function getAlertHomeRightsComboDataService(AlertHomeParamparam){return function(dispatch){var contactData={\"nuserrolecode\":AlertHomeParamparam.masterData.SelectedMIS.nuserrolecode,\"userinfo\":AlertHomeParamparam.userInfo};var contactService=rsapi.post(\"misrights/getAlertHomeRightsByUserRole\",contactData);var urlArray=[];urlArray=[contactService];dispatch(initRequest(true));Axios.all(urlArray).then(function(response){var selectedRecord={};//const   AlertHomeRights= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \nvar AlertHomeRights=response[0].data;dispatch({type:DEFAULT_RETURN,payload:{AlertHomeRights:AlertHomeRights,selectedAlertHomeRights:[],selectedRecord:selectedRecord,openChildModal:true,operation:AlertHomeParamparam.operation,screenName:AlertHomeParamparam.screenName,ncontrolCode:AlertHomeParamparam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(intl.formatMessage({id:error.message}));}else{toast.warn(intl.formatMessage({id:error.response.data}));}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/MISRightsAction.js"],"names":["rsapi","DEFAULT_RETURN","toast","initRequest","constructOptionList","sortData","intl","Axios","getMISRightsDetail","MISRights","userInfo","masterData","dispatch","post","nuserrolecode","userinfo","then","response","data","updateDataState","type","payload","operation","modalName","undefined","loading","catch","error","status","message","warn","getDashBoardRightsComboDataService","DashBoardparam","contactData","SelectedMIS","contactService","urlArray","all","selectedRecord","DashBoardType","selectedDashBoardRights","openChildModal","screenName","ncontrolCode","formatMessage","id","getReportRightsComboDataService","ReportParamparam","Reports","selectedReportRights","getAlertRightsComboDataService","AlertParamparam","Alert","selectedAlertRights","getHomeRightsComboDataService","HomeParamparam","HomeRights","selectedHomeRights","getAlertHomeRightsComboDataService","AlertHomeParamparam","AlertHomeRights","selectedAlertHomeRights"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport {DEFAULT_RETURN} from './LoginTypes';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest} from './LoginAction';\r\nimport {  constructOptionList, sortData} from '../components/CommonScript';\r\nimport { intl } from '../components/App';\r\nimport Axios from 'axios';\r\n\r\nexport function getMISRightsDetail (MISRights, userInfo, masterData) {\r\n    return function (dispatch) {   \r\n    dispatch(initRequest(true));\r\n    return rsapi.post(\"misrights/getMISRights\", {nuserrolecode:MISRights.nuserrolecode, userinfo:userInfo})\r\n   .then(response=>{     \r\n        masterData = {...masterData, ...response.data,updateDataState:true};       \r\n        sortData(masterData);\r\n        dispatch({type: DEFAULT_RETURN, payload:{masterData, operation:null, modalName:undefined, \r\n             loading:false}});   \r\n   })\r\n   .catch(error=>{\r\n        dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n       if (error.response.status === 500){\r\n           toast.error(error.message);\r\n       } \r\n       else{               \r\n           toast.warn(error.response.data);\r\n       }  \r\n  \r\n   })\r\n}}\r\n\r\nexport function getDashBoardRightsComboDataService(DashBoardparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": DashBoardparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": DashBoardparam.userInfo\r\n\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getDashBoardTypeByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    //const   DashBoardType= constructOptionList(response[0].data  || [], \"ndashboardtypecode\", \"sdashboardtypename\", false, false, true).get(\"OptionList\"); \r\n                    const DashBoardType =response[0].data\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            DashBoardType,\r\n                            selectedDashBoardRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: DashBoardparam.operation, screenName: DashBoardparam.screenName,\r\n                            ncontrolCode: DashBoardparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\nexport function getReportRightsComboDataService(ReportParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": ReportParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": ReportParamparam.userInfo\r\n\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getReportByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    //const   Reports= constructOptionList(response[0].data  || [], \"nreportcode\", \"sreportname\", false, false, true).get(\"OptionList\"); \r\n                    const Reports =response[0].data\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            Reports,\r\n                            selectedReportRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: ReportParamparam.operation, screenName: ReportParamparam.screenName,\r\n                            ncontrolCode: ReportParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\nexport function getAlertRightsComboDataService(AlertParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": AlertParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": AlertParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getAlertByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    //const   Alert= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \r\n                    const   Alert= response[0].data  \r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            Alert,\r\n                            selectedAlertRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: AlertParamparam.operation, screenName: AlertParamparam.screenName,\r\n                            ncontrolCode: AlertParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\nexport function getHomeRightsComboDataService(HomeParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": HomeParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": HomeParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getHomeDashBoardRightsByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                   // const   HomeRights= constructOptionList(response[0].data  || [], \"ndashboardhomeprioritycode\", \"sdashboardhomepagename\", false, false, true).get(\"OptionList\"); \r\n                    const   HomeRights=response[0].data\r\n\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            HomeRights,\r\n                            selectedHomeRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: HomeParamparam.operation, screenName: HomeParamparam.screenName,\r\n                            ncontrolCode: HomeParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\n\r\nexport function getAlertHomeRightsComboDataService(AlertHomeParamparam) {\r\n    return function (dispatch) {\r\n            const contactData = {\r\n                \"nuserrolecode\": AlertHomeParamparam.masterData.SelectedMIS.nuserrolecode,\r\n                \"userinfo\": AlertHomeParamparam.userInfo\r\n            }\r\n            const contactService = rsapi.post(\"misrights/getAlertHomeRightsByUserRole\", contactData);\r\n            let urlArray = [];\r\n                urlArray = [contactService];\r\n            dispatch(initRequest(true));\r\n            Axios.all(urlArray)\r\n                .then(response => {\r\n                    let selectedRecord = {};\r\n                    //const   AlertHomeRights= constructOptionList(response[0].data  || [], \"nsqlquerycode\", \"sscreenheader\", false, false, true).get(\"OptionList\"); \r\n                    const AlertHomeRights =response[0].data\r\n                    dispatch({\r\n                        type: DEFAULT_RETURN, payload: {\r\n                            AlertHomeRights,\r\n                            selectedAlertHomeRights: [],\r\n                            selectedRecord,\r\n                            openChildModal: true,\r\n                            operation: AlertHomeParamparam.operation, screenName: AlertHomeParamparam.screenName,\r\n                            ncontrolCode: AlertHomeParamparam.ncontrolCode, loading: false\r\n                        }\r\n                    });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(intl.formatMessage({ id: error.message }));\r\n                    }\r\n                    else {\r\n\r\n                        toast.warn(intl.formatMessage({ id: error.response.data }));\r\n                    }\r\n                })\r\n       \r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}