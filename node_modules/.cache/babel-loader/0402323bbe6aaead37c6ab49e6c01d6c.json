{"ast":null,"code":"import _defineProperty from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import rsapi from'../../rsapi';import{toast}from'react-toastify';import{Row,Col,Card,Button,Nav}from'react-bootstrap';import PerfectScrollbar from'react-perfect-scrollbar';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPencilAlt,faPlus,faSync}from'@fortawesome/free-solid-svg-icons';import'react-perfect-scrollbar/dist/css/styles.css';import SplitterLayout from'react-splitter-layout';import{faEye,faTrashAlt}from'@fortawesome/free-regular-svg-icons';// import { Tooltip } from '@progress/kendo-react-tooltip';\nimport{process}from'@progress/kendo-data-query';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import Esign from'../audittrail/Esign';import{callService,crudMaster,filterTestGroup,createTree,editTree,getTestGroupDetails,sampleTypeOnChange,validateEsignCredential,updateStore,addSpecification,getSpecification,addComponent,changeTestCategory,addTestGroupTest,editTestGroupTest,getTestGroupParameter,editTestGroupParameter,addTestFile,editSpecFile,getSpecificationDetails,addTestGroupCodedResult,getComponentBySpecId,filterColumnData,viewAttachment,viewTestGroupCheckList,getTestGroupComponentDetails,filterTransactionList,reportSpecification,retireSpecification,getDataForTestMaterial,getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory,getTestGroupMaterial,getDataForEditTestMaterial,addTestGroupNumericTab}from'../../actions';import{constructOptionList,formatInputDate,create_UUID,deleteAttachmentDropZone,filterRecordBasedOnTwoArrays,getControlMap,onDropAttachFileList,showEsign,sortData}from'../../components/CommonScript';import TestGroupTestTab from'./TestGroupTestTab';import AddTestGroupSpecification from'./AddTestGroupSpecification';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import{transactionStatus,REPORTTYPE,attachmentType,formCode,designProperties}from'../../components/Enumeration';import AddTestGroupTest from'./AddTestGroupTest';import AddProfileTree from'./AddProfileTree';import SampleFilter from'./SampleFilter';import AddFile from'../testmanagement/AddFile';import AdvFilter from'../../components/AdvFilter';import SpecificationHistory from'./SpecificationHistory';import TestGroupSpecFile from'./TestGroupSpecFile';import SpecificationInfo from'./SpecificationInfo';import CustomTab from'../../components/custom-tabs/custom-tabs.component';import TransationListMaster from'../../components/TransactionListMaster';import TransationListMasterView from'../../components/TransactionListMasterView';import FormTreeMenu from'../../components/form-tree-menu/form-tree-menu.component';// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\nimport FormInput from'../../components/form-input/form-input.component';import ConfirmMessage from'../../components/confirm-alert/confirm-message.component';import BreadcrumbComponent from'../../components/Breadcrumb.Component';import{testMoreFields,testSubFields,searchFieldList,specificationColumnList,componentColumnList,addTestColumnList,editTestColumnList}from'./TestGroupFields';import EditTestGroupTest from'./EditTestGroupTest';import{ContentPanel,SearchAdd}from'../../components/App.styles';import'../../pages/registration/registration.css';import{ListWrapper}from'../../components/client-group.styles';import{ProductList}from'../product/product.styled';import TransactionListMasterJsonView from'../../components/TransactionListMasterJsonView';// import ReactTooltip from 'react-tooltip';\nvar TestGroup=/*#__PURE__*/function(_Component){_inherits(TestGroup,_Component);var _super=_createSuper(TestGroup);function TestGroup(_props){var _ref2;var _this;_classCallCheck(this,TestGroup);_this=_super.call(this,_props);_this.reloadData=function(){var filterData=_this.props.Login.filterData||_this.state.filterData;if(filterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(filterData.nproductcatcode===\"\"){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}else if(filterData.nproductcode===\"\"||filterData.nproductcode===undefined){if(filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}else if(filterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:filterData.nsampletypecode.item[\"nsampletypecode\"],nproductcatcode:filterData.nproductcatcode.item[\"nproductcatcode\"],nproductcode:filterData.nproductcode.item[\"nproductcode\"],ntreeversiontempcode:filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],filterData:filterData//: { ...this.props.Login.filterData }\n},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.ConfirmDelete=function(obj){_this.confirmMessage.confirm(\"deleteMessage\",_this.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.deleteRecord(obj);});};_this.handlePageChange=function(event){_this.setState({testskip:event.skip,testtake:event.take});};_this.viewTestFile=function(props){var viewParam={operation:\"view\",methodUrl:\"TestGroupTestFile\",classUrl:\"testgroup\",inputData:{ntestgroupfilecode:props.selectedTest?props.selectedTest.ntestgroupfilecode:0,userinfo:_this.props.Login.userInfo,testgroupspecification:_this.props.Login.masterData.SelectedSpecification,ntestgrouptestcode:props.selectedTest?props.selectedTest.ntestgrouptestcode:0}};_this.props.viewAttachment(viewParam);};_this.fileViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode===transactionStatus.NA){return true;}else{return false;}};_this.linkViewIcon=function(master){if(master.ntestgroupfilecode>0&&master.nlinkcode!==transactionStatus.NA){return true;}else{return false;}};_this.onFilterSumbit=function(){var tempFilterData=_this.state.tempFilterData;if(tempFilterData.nsampletypecode===undefined){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SAMPLETYPENOTAVAILABLE\"}));}else if(tempFilterData.nproductcatcode===\"\"){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALCATEGORYNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_CATEGORYNOTAVAILABLE\"}));}}// else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\nelse if(tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===\"\"||tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.NO&&tempFilterData.nproductcode===undefined){if(tempFilterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_INSTRUMENTNOTAVAILABLE\"}));}else if(tempFilterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY){toast.warn(_this.props.intl.formatMessage({id:\"IDS_MATERIALNOTAVAILABLE\"}));}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_PRODUCTNOTAVAILABLE\"}));}}// }\nelse if(tempFilterData.ntreeversiontempcode===\"\"){toast.warn(_this.props.intl.formatMessage({id:\"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\"}));}else{var inputParam={inputData:{userinfo:_this.props.Login.userInfo,nsampletypecode:tempFilterData.nsampletypecode.value,nproductcatcode:tempFilterData.nproductcatcode.value,nproductcode:tempFilterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES?-1:tempFilterData.nproductcode?tempFilterData.nproductcode.value:-1,ntreeversiontempcode:tempFilterData.ntreeversiontempcode.value,filterData:_objectSpread({},tempFilterData)},historyDataState:_this.state.historyDataState};_this.props.filterTestGroup(inputParam,_this.props.Login.masterData,_this.searchRef);}};_this.onTreeClick=function(event){var inputParam={methodUrl:\"TestGroupSpecification\",screenName:\"IDS_SPECIFICATION\",operation:\"get\",keyName:\"treetemplatemanipulation\",userinfo:_this.props.Login.userInfo,selectedRecord:event.item,activeKey:event.key,focusKey:event.key,primaryKey:event.primaryKey,historyDataState:_this.state.historyDataState};_this.props.getSpecification(inputParam,_this.props.Login.masterData,_this.searchRef);};_this.tabDetail=function(){var tabMap=new Map();tabMap.set(\"IDS_FILE\",/*#__PURE__*/React.createElement(TestGroupSpecFile,{controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,deleteRecord:_this.deleteRecord,testGroupSpecFile:_this.props.Login.masterData.TestGroupSpecFile||[],selectedSpecification:_this.props.Login.masterData.SelectedSpecification,addTestFile:_this.addFile,editSpecFile:_this.props.editSpecFile,filterData:_this.state.filterData,viewTestFile:_this.viewTestFile,defaultRecord:_this.defaultRecord,screenName:\"IDS_FILE\",viewAttachment:_this.props.viewAttachment,settings:_this.props.Login.settings,masterData:_this.props.Login.masterData}));tabMap.set(\"IDS_SPECIFICATIONHISTORY\",/*#__PURE__*/React.createElement(SpecificationHistory,{data:_this.props.Login.masterData.TestGroupSpecificationHistory,dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],_this.state.historyDataState),dataState:_this.state.historyDataState,dataStateChange:_this.historyDataStateChange// testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\n// dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\n,controlMap:_this.state.controlMap,userRoleControlRights:_this.state.userRoleControlRights,userInfo:_this.props.Login.userInfo,inputParam:_this.props.Login.inputParam,screenName:\"IDS_SPECIFICATIONHISTORY\"}));return tabMap;};_this.historyDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupSpecificationHistory||[],event.dataState),historyDataState:event.dataState});};_this.specDataStateChange=function(event){_this.setState({dataResult:process(_this.props.Login.masterData.TestGroupTestClinicalSpec||[],event.dataState),clinicalspecDataState:event.dataState});};_this.addFile=function(userInfo,operation,ncontrolCode,screenName,modalName,nflag){// const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\n// if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\n//     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\n//     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\n// } else {\n//     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\n// }\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){_this.props.addTestFile(userInfo,operation,ncontrolCode,screenName,modalName);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onTabChange=function(tabProps){var screenName=tabProps.screenName;var updateInfo={typeName:DEFAULT_RETURN,data:{screenName:screenName}};_this.props.updateStore(updateInfo);};_this.componentRowClick=function(event){var masterData=_this.props.Login.masterData;masterData[\"SelectedComponent\"]=event.testgroupspecsampletype[0];var inputParam={testgroupspecsampletype:event.testgroupspecsampletype[0],userInfo:_this.props.Login.userInfo};_this.props.getTestGroupComponentDetails(inputParam,masterData,_this.searchRef);};_this.deleteTest=function(deleteParam){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var testgrouptest=deleteParam.props.testgrouptest;var inputParam={inputData:{testgrouptest:testgrouptest,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,ntreeversiontempcode:deleteParam.filterData.ntreeversiontempcode.value},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"Test\",screenName:\"IDS_TEST\",postParam:{inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:testgrouptest.ntestgrouptestcode,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:masterData,searchFieldList:searchFieldList,unchangeList:[\"TestGroupSpecification\",\"SelectedSpecification\",\"SampleType\",\"TreeVersionTemplate\",\"ProductCategory\",\"SelectedTest\",\"Product\",\"AgaramTree\",\"OpenNodes\",\"selectedNode\",\"FocusKey\",\"ActiveKey\",\"SelectedComponent\",\"TestGroupSpecSampleType\"]//, isSingleSelect: true\n}};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_TEST\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.closeModal=function(){var loadEsign=_this.props.Login.loadEsign;var openModal=_this.props.Login.openModal;var selectedRecord=_this.props.Login.selectedRecord;if(loadEsign){if(_this.props.Login.operation===\"delete\"||_this.props.Login.operation===\"Default\"||_this.props.Login.operation==='approve'||_this.props.Login.operation==='complete'){loadEsign=false;openModal=false;selectedRecord={};}else{loadEsign=false;selectedRecord[\"agree\"]=4;selectedRecord['esignpassword']=\"\";selectedRecord['esigncomments']=\"\";selectedRecord['esignreason']=\"\";}}else{openModal=false;selectedRecord={};}var updateInfo={typeName:DEFAULT_RETURN,data:{openModal:openModal,loadEsign:loadEsign,selectedRecord:selectedRecord}};_this.props.updateStore(updateInfo);};_this.onInputOnChange=function(event,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?optional[0]:optional[1];}else if(event.target.type==='radio'){selectedRecord[event.target.name]=optional;// selectedRecord[\"sfilename\"] = \"\";\n}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});break;case 2:selectedRecord[event.target.name]=event.target.value;var indexKey=Object.keys(optional)[0];var value=Object.values(optional)[0];var treeData={ntreeversiontempcode:value.ntreeversiontempcode,npositioncode:value.nlevelno-1,sleveldescription:event.target.value,ntemptranstestgroupcode:value.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:value.schildnode!==null?value.schildnode:-1,ntemplatemanipulationcode:value.ntemplatemanipulationcode,isreadonly:value.ntemplatemanipulationcode>0?true:false,slevelformat:value.slevelformat};var treetemplatemanipulation=selectedRecord.treetemplatemanipulation||[];treetemplatemanipulation[indexKey]=treeData;selectedRecord[\"treetemplatemanipulation\"]=treetemplatemanipulation;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.onEsignInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};if(event.target.type==='checkbox'){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}else{selectedRecord[event.target.name]=event.target.value;}_this.setState({selectedRecord:selectedRecord});};_this.onFilterComboChange=function(comboData,fieldName,caseNo){var tempFilterData=_this.state.tempFilterData||{};var inputParam={};switch(caseNo){case 1:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProductCategory\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 2:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getProduct\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 3:tempFilterData[fieldName]=comboData;inputParam={inputData:{userinfo:_this.props.Login.userInfo,sampletype:tempFilterData.nsampletypecode.item,productcategory:tempFilterData.nproductcatcode.item,product:comboData.item,tempFilterData:tempFilterData},methodUrl:\"/getTreeVersionTemplate\"};_this.props.sampleTypeOnChange(inputParam,_this.props.Login.masterData);break;case 4:tempFilterData[fieldName]=comboData;_this.setState({tempFilterData:tempFilterData});break;case 5:var selectedRecord=_this.state.selectedRecord;selectedRecord[fieldName]=comboData;var TestGroupSpecSampleType=_this.props.Login.testGroupInputData.TestGroupSpecSampleType||{};var testGroupSpecSampleType={};if(_this.props.Login.screenName===\"IDS_COMPONENT\"){testGroupSpecSampleType=selectedRecord[\"ncomponentcode\"]?selectedRecord[\"ncomponentcode\"].item:TestGroupSpecSampleType[0].item;}else{testGroupSpecSampleType=_this.props.Login.masterData.SelectedComponent;}inputParam={userinfo:_this.props.Login.userInfo,testcategory:comboData.item,testgroupspecsampletype:testGroupSpecSampleType,nallottedspeccode:_this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],selectedRecord:selectedRecord};_this.props.changeTestCategory(inputParam,_this.props.Login.testGroupInputData);break;default:break;}};_this.handleDateChange=function(dateName,dateValue){var selectedRecord=_this.state.selectedRecord;if(dateValue===null){dateValue=new Date();}selectedRecord[dateName]=dateValue;_this.setState({selectedRecord:selectedRecord});};_this.onNumericInputChange=function(value,name){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[name]=value;_this.setState({selectedRecord:selectedRecord});};_this.onSaveClick=function(saveType,formRef){var inputParam={};if(_this.props.Login.screenName===\"IDS_PROFILETREE\"||_this.props.Login.screenName===\"IDS_EDITTREE\"){inputParam=_this.onSaveTree(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECIFICATION\"){inputParam=_this.onSaveSpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COMPONENT\"){inputParam=_this.onSaveComponent(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_COPYSPECIFICATION\"){inputParam=_this.onSaveCopySpecification(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_TEST\"||_this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"){inputParam=_this.onSaveTest(saveType,formRef);}else if(_this.props.Login.screenName===\"IDS_SPECFILE\"){inputParam=_this.onSaveSpecFile(saveType,formRef);}if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,_this.props.Login.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,openModal:true,operation:_this.props.Login.operation,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},saveType:saveType}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}};_this.onSaveTest=function(saveType,formRef){var operation=_this.props.Login.operation;var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var inputData={};var userinfo=_this.props.Login.userInfo;var postParam=undefined;if(operation===\"create\"){var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[masterData.SelectedComponent],testgrouptest:testArray,userinfo:userinfo};}else{postParam={inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",primaryKeyValue:masterData.SelectedTest?masterData.SelectedTest.ntestgrouptestcode:0,fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:_this.props.Login.userInfo},masterData:_this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var testgrouptestfile=null;var testGroupFile=selectedRecord.ntestfilecode;if(testGroupFile){testGroupFile=testGroupFile.item;testgrouptestfile={nlinkcode:testGroupFile.nlinkcode,nattachmenttypecode:testGroupFile.nattachmenttypecode,sdescription:testGroupFile.sdescription,ssystemfilename:testGroupFile.ssystemfilename,dcreateddate:testGroupFile.dcreateddate,nfilesize:testGroupFile.nfilesize,ntestgroupfilecode:selectedRecord.ntestgroupfilecode,ntestgrouptestcode:selectedRecord.ntestgrouptestcode,sfilename:testGroupFile.sfilename,nstatus:transactionStatus.ACTIVE};}inputData={testgroupspecification:masterData.SelectedSpecification,testgrouptest:{ntestgrouptestcode:selectedRecord.ntestgrouptestcode,nsectioncode:selectedRecord.nsectioncode.value,//nsourcecode: selectedRecord.nsourcecode.value,\nnmethodcode:selectedRecord.nmethodcode?selectedRecord.nmethodcode.value:transactionStatus.NA,ninstrumentcatcode:selectedRecord.ninstrumentcatcode?selectedRecord.ninstrumentcatcode.value:transactionStatus.NA,ncontainertypecode:selectedRecord.ncontainertypecode?selectedRecord.ncontainertypecode.value:transactionStatus.NA,stestsynonym:selectedRecord.stestsynonym,ncost:selectedRecord.ncost,nsorter:selectedRecord.nsorter,nspecsampletypecode:selectedRecord.nspecsampletypecode,nrepeatcountno:selectedRecord.nrepeatcountno},testgrouptestfile:testgrouptestfile,userinfo:userinfo};}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Test\",saveType:saveType,formRef:formRef,searchRef:_this.searchRef,postParam:postParam};return inputParam;};_this.onSaveTree=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var inputData={userinfo:_this.props.Login.userInfo};if(operation===\"update\"){var selectedNode=_this.props.Login.masterData.selectedNode;inputData[\"treetemplatemanipulation\"]={ntemplatemanipulationcode:selectedRecord.ntemplatemanipulationcode,sleveldescription:selectedRecord.sleveldescription,nsampletypecode:selectedNode.nsampletypecode,ntreeversiontempcode:selectedNode.ntreeversiontempcode,nproductcatcode:selectedNode.nproductcatcode,nproductcode:selectedNode.nproductcode};inputData[\"selectednode\"]=_this.props.Login.masterData.ActiveKey;}else{var TreetempTranstestGroup=_this.props.Login.TreetempTranstestGroup;var filterData=_this.state.filterData;var _selectedRecord=_this.state.selectedRecord;var treetemplatemanipulation=[];var tempArray=filterRecordBasedOnTwoArrays(TreetempTranstestGroup,_selectedRecord.treetemplatemanipulation,\"ntemptranstestgroupcode\");tempArray.map(function(item){var treeData={ntreeversiontempcode:item.ntreeversiontempcode,npositioncode:item.nlevelno-1,sleveldescription:item.sleveldescription,ntemptranstestgroupcode:item.ntemptranstestgroupcode,nformcode:62,schildnode:\"\",nnextchildcode:item.schildnode,ntemplatemanipulationcode:item.ntemplatemanipulationcode,isreadonly:item.ntemplatemanipulationcode>0?true:false,slevelformat:item.slevelformat};return treetemplatemanipulation.push(treeData);});_selectedRecord.treetemplatemanipulation.map(function(item){var treeTemplateManip=TreetempTranstestGroup.filter(function(temp){return temp.ntemptranstestgroupcode===item.ntemptranstestgroupcode;});if(treeTemplateManip.length>0){item[\"ntemplatemanipulationcode\"]=treeTemplateManip[\"ntemplatemanipulationcode\"];}else{item[\"ntemplatemanipulationcode\"]=0;}return treetemplatemanipulation.push(item);});inputData[\"treetemplatemanipulation\"]=treetemplatemanipulation;inputData[\"sampletype\"]=filterData.nsampletypecode.item;inputData[\"ncategorycode\"]=filterData.nproductcatcode.value;inputData[\"nproductcode\"]=filterData.nproductcatcode.item.ncategorybasedflow==transactionStatus.YES?-1:filterData.nproductcode.value?filterData.nproductcode.value:-1;inputData[\"ntreeversiontempcode\"]=filterData.ntreeversiontempcode.value;}var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Tree\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecification=function(saveType,formRef){var operation=_this.props.Login.operation;var selectedRecord=_this.state.selectedRecord;var testGroupSpec={napproveconfversioncode:-1,sversion:'',napprovalstatus:transactionStatus.DRAFT,nstatus:transactionStatus.ACTIVE,ntransactionstatus:selectedRecord[\"ntransactionstatus\"],ncomponentrequired:selectedRecord[\"ncomponentrequired\"],//   nclinicalspec: selectedRecord[\"nclinicalspec\"],\nnprojectcode:selectedRecord[\"nprojectcode\"]?selectedRecord[\"nprojectcode\"]:-1,sspecname:selectedRecord[\"sspecname\"],dexpirydate:selectedRecord[\"dexpirydate\"],nallottedspeccode:selectedRecord[\"nallottedspeccode\"]?selectedRecord[\"nallottedspeccode\"]:0,ntzexpirydate:selectedRecord[\"ntzexpirydate\"].value,stzexpirydate:selectedRecord[\"ntzexpirydate\"].label};var dexpirydate=testGroupSpec[\"dexpirydate\"];//need this conversion when the datatype of the field is 'Instant'\ntestGroupSpec[\"dexpirydate\"]=formatInputDate(dexpirydate,false);if(operation===\"create\"){testGroupSpec[\"ntemplatemanipulationcode\"]=_this.props.Login.masterData.selectedNode.ntemplatemanipulationcode;}var ntreeversiontempcode=_this.state.filterData.ntreeversiontempcode.value;var inputData={userinfo:_this.props.Login.userInfo,testgroupspecification:testGroupSpec,treetemplatemanipulation:_this.props.Login.masterData.selectedNode,selectedspecification:_this.props.Login.masterData.SelectedSpecification,ntreeversiontempcode:ntreeversiontempcode};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveComponent=function(saveType,formRef){var masterData=_this.props.Login.masterData;var selectedRecord=_this.state.selectedRecord;var testArray=selectedRecord.ntestcode.map(function(test){return test.item;});var inputData={testgroupspecification:masterData.SelectedSpecification,testgroupspecsampletype:[selectedRecord.ncomponentcode.item],testgrouptest:testArray,userinfo:_this.props.Login.userInfo};var inputParam={inputData:inputData,classUrl:\"testgroup\",operation:_this.props.Login.operation,methodUrl:\"Component\",saveType:saveType,formRef:formRef};return inputParam;};_this.onSaveSpecFile=function(saveType,formRef){var selectedRecord=_this.state.selectedRecord;var acceptedFiles=selectedRecord.sfilename;var nattachmenttypecode=selectedRecord.nattachmenttypecode;var isFileEdited=transactionStatus.NO;var specFileArray=[];var selectedSpecification=_this.props.Login.masterData.SelectedSpecification;var specFile={nallottedspeccode:selectedSpecification.nallottedspeccode,nspecfilecode:selectedRecord.nspecfilecode?selectedRecord.nspecfilecode:0,nstatus:transactionStatus.ACTIVE,nattachmenttypecode:nattachmenttypecode};var formData=new FormData();if(nattachmenttypecode===attachmentType.FTP){if(acceptedFiles&&Array.isArray(acceptedFiles)&&acceptedFiles.length>0){acceptedFiles.forEach(function(file,index){var tempData=Object.assign({},specFile);var splittedFileName=file.name.split('.');var fileExtension=file.name.split('.')[splittedFileName.length-1];var uniquefilename=nattachmenttypecode===attachmentType.FTP?create_UUID()+'.'+fileExtension:\"\";tempData[\"sfilename\"]=file.name;tempData[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";tempData[\"nlinkcode\"]=transactionStatus.NA;tempData[\"ssystemfilename\"]=uniquefilename;tempData[\"nfilesize\"]=file.size;formData.append(\"uploadedFile\"+index,file);formData.append(\"uniquefilename\"+index,uniquefilename);specFileArray.push(tempData);});formData.append(\"filecount\",acceptedFiles.length);isFileEdited=transactionStatus.YES;}else{specFile[\"sfilename\"]=selectedRecord.sfilename;specFile[\"sdescription\"]=selectedRecord.sdescription?selectedRecord.sdescription.trim():\"\";specFile[\"nlinkcode\"]=transactionStatus.NA;specFile[\"ssystemfilename\"]=selectedRecord.ssystemfilename;specFile[\"nfilesize\"]=selectedRecord.nfilesize;specFileArray.push(specFile);}}else{specFile[\"sfilename\"]=selectedRecord.slinkfilename.trim();specFile[\"sdescription\"]=selectedRecord.slinkdescription?selectedRecord.slinkdescription.trim():\"\";specFile[\"nlinkcode\"]=selectedRecord.nlinkcode.value?selectedRecord.nlinkcode.value:-1;specFile[\"ssystemfilename\"]=\"\";specFile[\"nfilesize\"]=0;specFileArray.push(specFile);}formData.append(\"isFileEdited\",isFileEdited);formData.append(\"testgroupspecification\",JSON.stringify(selectedSpecification));formData.append(\"testgroupspecfile\",JSON.stringify(specFileArray));var inputParam={inputData:{userinfo:_this.props.Login.userInfo},formData:formData,isFileupload:true,operation:_this.props.Login.operation,classUrl:\"testgroup\",saveType:saveType,formRef:formRef,methodUrl:\"SpecificationFile\"};return inputParam;};_this.deleteSpecRecord=function(deleteParam){var selectedRecord=deleteParam.selectedRecord;var masterData=_this.props.Login.masterData;var ntreeversiontempcode=masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===ntreeversiontempcode;});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(selectedRecord.napprovalstatus===transactionStatus.DRAFT||selectedRecord.napprovalstatus===transactionStatus.CORRECTION){_this.deleteRecord(deleteParam);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.deleteRecord=function(deleteParam){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(_this.props.Login.masterData.selectedNode){var _inputData;var methodUrl=deleteParam.methodUrl;var dataState=_this.state.componentDataState;var screenName=deleteParam.screenName;var inputParam={inputData:(_inputData={},_defineProperty(_inputData,deleteParam.keyName,deleteParam.selectedRecord),_defineProperty(_inputData,\"userinfo\",_this.props.Login.userInfo),_defineProperty(_inputData,\"testgroupspecification\",_this.props.Login.masterData.SelectedSpecification),_defineProperty(_inputData,\"treetemplatemanipulation\",_this.props.Login.masterData.selectedNode),_defineProperty(_inputData,\"ntreeversiontempcode\",deleteParam.filterData.ntreeversiontempcode.value),_inputData),classUrl:\"testgroup\",operation:deleteParam.operation,methodUrl:methodUrl,screenName:screenName,dataState:dataState};var _masterData=_this.props.Login.masterData;//if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\nif(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData},openModal:true,screenName:screenName,operation:deleteParam.operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTPROFILENODE\"}));}}}};_this.deleteMultipleRecord=function(deleteParam){//console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\nvar masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{var testgroupspecification=_this.props.Login.masterData.SelectedSpecification;if(testgroupspecification.napprovalstatus===transactionStatus.DRAFT||testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:{testgroupspecsampletype:deleteParam.props.testgroupspecsampletype,userinfo:_this.props.Login.userInfo,testgroupspecification:testgroupspecification,treetemplatemanipulation:_this.props.Login.masterData.selectedNode},classUrl:\"testgroup\",operation:\"delete\",methodUrl:\"TestGroupComponent\",screenName:\"IDS_COMPONENT\"};var _masterData2=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,deleteParam.ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_masterData2},openModal:true,screenName:\"IDS_COMPONENT\",operation:\"delete\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}};_this.onDropSpecFile=function(attachedFiles,fieldName,maxSize){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=onDropAttachFileList(selectedRecord[fieldName],attachedFiles,maxSize);_this.setState({selectedRecord:selectedRecord,actionType:\"new\"});};_this.deleteAttachment=function(event,file,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=deleteAttachmentDropZone(selectedRecord[fieldName],file);_this.setState({selectedRecord:selectedRecord,actionType:\"delete\"//fileToDelete:file.name \n});};_this.validateTestGroupComplete=function(operation,inputValue,ncontrolCode){if(_this.props.Login.masterData.selectedNode!==undefined&&_this.props.Login.masterData.selectedNode!==null){var masterData=_this.props.Login.masterData;var treeVersionTemplateIndex=masterData[\"TreeVersionTemplate\"].findIndex(function(x){return x[\"ntreeversiontempcode\"]===masterData.selectedNode[\"ntreeversiontempcode\"];});var templateVersionStatus=masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus;if(templateVersionStatus===transactionStatus.RETIRED){toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTEDTEMPLATEISRETIRED\"}));}else{if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){return rsapi.post(\"testgroup/validateTestGroupComplete\",{nallottedspeccode:inputValue.testgroupspecification.nallottedspeccode,\"userinfo\":_this.props.Login.userInfo}).then(function(response){if(response.data&&response.data.length>0){var inactiveTestArray=[];response.data.map(function(item){return inactiveTestArray.indexOf(item.stestname)===-1?inactiveTestArray.push(item.stestname):\"\";});var data=\" [\"+inactiveTestArray+\"] \"+_this.props.intl.formatMessage({id:\"IDS_INACTIVETESTSATCOMPLETE\"});_this.confirmMessage.confirm(_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),_this.props.intl.formatMessage({id:\"IDS_CONFIRMATION\"}),data,_this.props.intl.formatMessage({id:\"IDS_OK\"}),_this.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this.completeSpecification(operation,inputValue,ncontrolCode);},false,undefined);}else{_this.completeSpecification(operation,inputValue,ncontrolCode);}}).catch(function(error){if(error.response.status===500){toast.error(_this.props.intl.formatMessage({id:error.message}));}else{toast.warn(_this.props.intl.formatMessage({id:error.response}));}});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}}}};_this.retireSpec=function(operation,selectedSpecification,approvalRoleActionDetail,retireSpecId){if(selectedSpecification.testgroupspecification.napprovalstatus!==transactionStatus.RETIRED){if(approvalRoleActionDetail.length>0&&approvalRoleActionDetail[0].nlevelno===transactionStatus.ACTIVE){if(selectedSpecification.testgroupspecification[\"napprovalstatus\"]===approvalRoleActionDetail[0].ntransactionstatus){var inputParam={inputData:{nallottedspeccode:selectedSpecification.testgroupspecification,treetemplatemanipulation:selectedSpecification.treetemplatemanipulation,approvalRoleActionDetail:approvalRoleActionDetail[0],userinfo:_this.props.Login.userInfo,operation:operation},classUrl:\"testgroup\",operation:operation,methodUrl:\"Spec\",screenName:\"IDS_STUDYPLAN\"};var masterData=_this.props.Login.masterData;if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,retireSpecId)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_STUDYPLAN\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.retireSpecification(inputParam.inputData,masterData);}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RETIRECANBECONEAFTERFINAL\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_FINALLEVELAPPROVE\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_ALREADYRETIRED\"}));}};_this.specificationReport=function(operation,ncontrolCode){if(_this.props.Login.masterData.SelectedComponent&&_this.props.Login.masterData.SelectedTest){var inputParam={inputData:{sprimarykeyname:'nallottedspeccode',userinfo:_this.props.Login.userInfo,ncontrolcode:ncontrolCode,nregtypecode:transactionStatus.NA,nregsubtypecode:transactionStatus.NA,nreportmodulecode:transactionStatus.NA,nreporttypecode:REPORTTYPE.CONTROLBASED,nreportdecisiontypecode:transactionStatus.NA,certificatetypecode:transactionStatus.NA,nsectioncode:transactionStatus.NA,operation:operation,nallottedspeccode:_this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],selectedComponent:_this.props.Login.masterData[\"SelectedComponent\"],selectedTest:_this.props.Login.masterData[\"SelectedTest\"],filterData:_this.state.filterData}};_this.props.reportSpecification(inputParam['inputData']);}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\"}));}};_this.completeSpecification=function(operation,inputValue,ncontrolCode){if(inputValue.testgroupspecification){if(inputValue.testgroupspecification.napprovalstatus===transactionStatus.DRAFT||inputValue.testgroupspecification.napprovalstatus===transactionStatus.CORRECTION){var inputParam={inputData:_objectSpread({userinfo:_this.props.Login.userInfo,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testGroupTest:_this.props.Login.masterData.TestGroupTest},inputValue),classUrl:\"testgroup\",operation:operation,methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(showEsign(_this.props.Login.userRoleControlRights,_this.props.Login.userInfo.nformcode,ncontrolCode)){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:_this.props.Login.masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:operation,selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,_this.props.Login.masterData,\"openModal\",{});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\"}));}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_SELECTSPECIFICATION\"}));}};_this.approveSpecification=function(status,needEsign){var masterData=_this.props.Login.masterData;var inputParam={inputData:{userinfo:_this.props.Login.userInfo,treetemplatemanipulation:masterData.selectedNode,ntreeversiontempcode:_this.state.filterData.ntreeversiontempcode.value,testgroupspecification:_objectSpread(_objectSpread({},masterData.SelectedSpecification),{},{napprovalstatus:status})},classUrl:\"testgroup\",operation:\"approve\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\"};if(needEsign===transactionStatus.YES){var updateInfo={typeName:DEFAULT_RETURN,data:{loadEsign:true,screenData:{inputParam:inputParam,masterData:masterData},openModal:true,screenName:\"IDS_SPECIFICATION\",operation:\"approve\",selectedRecord:{}}};_this.props.updateStore(updateInfo);}else{_this.props.crudMaster(inputParam,masterData,\"openModal\",{});}};_this.onComboChange=function(comboData,fieldName,caseNo,optional){var selectedRecord=_this.state.selectedRecord||{};switch(caseNo){case 1:if(fieldName===\"ntestcode\"){selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}else{selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});}break;case 2:selectedRecord[\"parameterTypeCode\"]=comboData.value;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;case 3:selectedRecord[\"schecklistversionname\"]=comboData.item.schecklistversionname;selectedRecord[fieldName]=comboData;_this.setState({selectedRecord:selectedRecord});break;default:break;}};_this.validateEsign=function(){var inputParam={inputData:{\"userinfo\":_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{sreason:_this.state.selectedRecord[\"esigncomments\"],nreasoncode:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].value,spredefinedreason:_this.state.selectedRecord[\"esignreason\"]&&_this.state.selectedRecord[\"esignreason\"].label}),password:_this.state.selectedRecord[\"esignpassword\"]},screenData:_this.props.Login.screenData};_this.props.validateEsignCredential(inputParam,\"openModal\");};var componentDataState={skip:0,take:10};var historyDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5};var clinicalspecDataState={skip:0,take:_this.props.Login.settings?parseInt(_this.props.Login.settings[14]):5,group:[{field:'sgendername'}]};_this.state={selectedRecord:{},filterData:{},error:\"\",userRoleControlRights:[],controlMap:new Map(),componentDataState:componentDataState,historyDataState:historyDataState,clinicalspecDataState:clinicalspecDataState,tempFilterData:{},showTest:true,testskip:0,testtake:_this.props.Login.settings?_this.props.Login.settings[12]:5,fixefScrollHeight:window.outerHeight-400,initialVerticalWidth:\"20vh\",testView:true,//paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\npaneHeight:'calc(100vh -183px)'};_this.componentBreadcrumbs=[];_this.breadCrumbData=[];_this.searchRef=React.createRef();_this.specSubField=[_defineProperty({},designProperties.VALUE,\"stransdisplaystatus\"),(_ref2={},_defineProperty(_ref2,designProperties.VALUE,\"sapprovalstatus\"),_defineProperty(_ref2,designProperties.COLOUR,true),_ref2)];_this.myRef=React.createRef();return _this;}_createClass(TestGroup,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.parentHeight){var height=this.parentHeight.clientHeight;this.setState({parentHeight:height-50});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props$Login$mas=this.props.Login.masterData,TestGroupSpecification=_this$props$Login$mas.TestGroupSpecification,SelectedSpecification=_this$props$Login$mas.SelectedSpecification,SelectedTest=_this$props$Login$mas.SelectedTest,AgaramTree=_this$props$Login$mas.AgaramTree,OpenNodes=_this$props$Login$mas.OpenNodes,selectedNode=_this$props$Login$mas.selectedNode,FocusKey=_this$props$Login$mas.FocusKey,ActiveKey=_this$props$Login$mas.ActiveKey,SelectedComponent=_this$props$Login$mas.SelectedComponent,TestGroupTest=_this$props$Login$mas.TestGroupTest,TestGroupSpecSampleType=_this$props$Login$mas.TestGroupSpecSampleType,searchedData=_this$props$Login$mas.searchedData,TestGroupTestParameter=_this$props$Login$mas.TestGroupTestParameter;// const deleteTree = {\n//     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\n//     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\n// };\nvar testGroupTestData=searchedData||TestGroupTest||[];if(TestGroupTestParameter){sortData(TestGroupTestParameter,\"ascending\",\"nsorter\");}if(testGroupTestData){sortData(testGroupTestData,\"descending\",\"nsorter\");}var getComponent={screenName:\"IDS_COMPONENT\",operation:\"get\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupComponent\",keyName:\"testgroupspecification\"};var addSpecParam={testgroupspecification:SelectedSpecification,selectedRecord:this.state.filterData,userInfo:this.props.Login.userInfo,selectedNode:selectedNode};var editSpecParam={selectedRecord:this.state.filterData,userinfo:this.props.Login.userInfo,selectedNode:selectedNode};var specDeleteParam={operation:\"delete\",methodUrl:\"Specification\",screenName:\"IDS_SPECIFICATION\",keyName:\"testgroupspecification\",filterData:this.state.filterData};var addSpecId=this.state.controlMap.has(\"AddSpecification\")&&this.state.controlMap.get(\"AddSpecification\").ncontrolcode;var addTreeId=this.state.controlMap.has(\"AddTree\")&&this.state.controlMap.get(\"AddTree\").ncontrolcode;var editTreeId=this.state.controlMap.has(\"EditTree\")&&this.state.controlMap.get(\"EditTree\").ncontrolcode;var deleteTreeId=this.state.controlMap.has(\"DeleteTree\")&&this.state.controlMap.get(\"DeleteTree\").ncontrolcode;var editSpecId=this.state.controlMap.has(\"EditSpecification\")&&this.state.controlMap.get(\"EditSpecification\").ncontrolcode;var deleteSpecId=this.state.controlMap.has(\"DeleteSpecification\")&&this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;var addComponentId=this.state.controlMap.has(\"AddComponent\")&&this.state.controlMap.get(\"AddComponent\").ncontrolcode;var deleteComponentId=this.state.controlMap.has(\"DeleteComponent\")&&this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;var addTestId=this.state.controlMap.has(\"AddTest\")&&this.state.controlMap.get(\"AddTest\").ncontrolcode;var deleteTestId=this.state.controlMap.has(\"DeleteTest\")&&this.state.controlMap.get(\"DeleteTest\").ncontrolcode;var editTestId=this.state.controlMap.has(\"EditTest\")&&this.state.controlMap.get(\"EditTest\").ncontrolcode;var viewFileId=this.state.controlMap.has(\"ViewTestFile\")&&this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;var confirmMessage=new ConfirmMessage();var deleteTree={methodUrl:\"Tree\",operation:\"delete\",inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,screenName:\"IDS_TREE\",ncontrolCode:deleteTreeId,filterData:this.state.filterData};var getTest={screenName:\"IDS_TEST\",operation:\"get\",masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo,methodUrl:\"TestGroupTest\",keyName:\"ntestgrouptestcode\"};var filterParam={testskip:0,testtake:this.props.Login.settings?this.props.Login.settings[12]:5,inputListName:\"TestGroupTest\",selectedObject:\"SelectedTest\",primaryKeyField:\"ntestgrouptestcode\",fetchUrl:\"testgroup/getTestGroupTest\",fecthInputObject:{userinfo:this.props.Login.userInfo},masterData:this.props.Login.masterData,searchFieldList:searchFieldList,changeList:[\"TestGroupTestFormula\",\"TestGroupTestNumericParameter\",\"TestGroupTestPredefinedParameter\",\"TestGroupTestCharParameter\",\"TestGroupTestParameter\"],isSingleSelect:true};var specMandatoryFields=[];var compMandatoryFields=[];var editTestMandatoryFields=[];var addTestMandatoryFields=[];specificationColumnList.forEach(function(item){return item.mandatory===true?specMandatoryFields.push(item):\"\";});componentColumnList.forEach(function(item){return item.mandatory===true?compMandatoryFields.push(item):\"\";});editTestColumnList.forEach(function(item){return item.mandatory===true?editTestMandatoryFields.push(item):\"\";});addTestColumnList.forEach(function(item){return item.mandatory===true?addTestMandatoryFields.push(item):\"\";});if(this.props.Login.masterData&&Object.values(this.props.Login.masterData).length>0){if(selectedNode&&selectedNode.sleveldescription){var splitNode=this.props.Login.masterData.ActiveKey.split('/');var treeNodeNames=[];splitNode.forEach(function(nodeItem){_this2.props.Login.masterData.TreeTemplateManipulation.forEach(function(treeItem){if(treeItem.ntemplatemanipulationcode===parseInt(nodeItem))treeNodeNames.push(treeItem.sleveldescription);});});this.componentBreadcrumbs=treeNodeNames;if(SelectedSpecification&&SelectedSpecification!==null&&SelectedSpecification.sspecname){this.componentBreadcrumbs.push(SelectedSpecification.sspecname);if(SelectedComponent&&SelectedComponent!==null&&SelectedComponent.ncomponentcode!==-1){// this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\nthis.componentBreadcrumbs.push(SelectedComponent.scomponentname);}else{// delete this.componentBreadcrumbs[2];\n}}else{// delete this.componentBreadcrumbs[1];\n}}else{this.componentBreadcrumbs=[];// delete this.componentBreadcrumbs[0];\n}}this.confirmMessage=new ConfirmMessage();//New Design\nvar specDesign=/*#__PURE__*/React.createElement(React.Fragment,null,this.componentBreadcrumbs&&this.componentBreadcrumbs.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"component_breadcrumbs\"},/*#__PURE__*/React.createElement(\"ul\",null,this.componentBreadcrumbs.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,item);}))),/*#__PURE__*/React.createElement(ContentPanel,{hidden:this.state.showTest},/*#__PURE__*/React.createElement(\"div\",{className:\"card_group\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\",marginTop:\"1%\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_SPECIFICATIONINFO\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\",marginRight:\"1rem\"},onClick:function onClick(){return _this2.showSpecAndTestInfo1();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(SpecificationInfo,{controlMap:this.state.controlMap,userRoleControlRights:this.state.userRoleControlRights,selectedSpecification:this.props.Login.masterData.SelectedSpecification,userInfo:this.props.Login.userInfo,selectedNode:this.props.Login.masterData.selectedNode,selectedRecord:this.state.filterData,approvalRoleActionDetail:this.props.Login.masterData.ApprovalRoleActionDetail,screenName:\"IDS_SPECIFICATIONINFO\",deleteRecord:this.deleteRecord,addSpecification:this.props.addSpecification,filterData:this.state.filterData//completeSpecification={this.completeSpecification}\n,completeSpecification:this.validateTestGroupComplete,approveSpecification:this.approveSpecification,specificationReport:this.specificationReport,retireSpec:this.retireSpec,masterData:this.props.Login.masterData})))),/*#__PURE__*/React.createElement(Card,{body:true},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomTab,{tabDetail:this.tabDetail(),onTabChange:this.onTabChange})))));var testDesign=/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Header,{className:\"sm-header\"},/*#__PURE__*/React.createElement(\"span\",{style:{display:\"inline-block\"}},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_TEST\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",style:{float:\"right\"},onClick:function onClick(){return _this2.showSpecAndTestInfo();}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEye}),\"  \",this.props.intl.formatMessage({id:\"IDS_SPECINFO\"}))),/*#__PURE__*/React.createElement(Card.Body,{className:this.state.testView?'p-0':'no-pad-t'},/*#__PURE__*/React.createElement(TransactionListMasterJsonView,{cardHead:167,componentBreadcrumbs:this.breadCrumbData?this.breadCrumbData.length>0?true:false:false// notSearchable={false}\n,masterList:searchedData||TestGroupTest||[]//selectedMaster={[SelectedTest]}\n,clickIconGroup:true,selectedMaster:SelectedTest!==undefined?[SelectedTest]:undefined,primaryKeyField:\"ntestgrouptestcode\",getMasterDetail:this.props.getTestGroupDetails,inputParam:getTest,additionalParam:[],mainField:\"stestname\",selectedListName:\"SelectedTest\",objectName:\"testgrouptest\",listName:\"IDS_TEST\",showStatusLink:true,statusFieldName:\"stransdisplaystatus\",statusField:\"ntransactionstatus\",subFields:testSubFields,moreField:testMoreFields,needValidation:false,needFilter:false,filterColumnData:this.props.filterTransactionList,searchListName:\"searchedData\",searchRef:this.searchRef,hidePaging:false,filterParam:filterParam,handlePageChange:this.handlePageChange,skip:this.state.testskip,take:this.state.testtake,pageSize:this.props.Login.settings&&this.props.Login.settings[13].split(\",\").map(function(setting){return parseInt(setting);}),actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faCloudDownloadAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.fileViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_VIEW\"}),controlname:\"faExternalLinkAlt\",objectName:\"selectedTest\",hidden:this.state.userRoleControlRights.indexOf(viewFileId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.viewTestFile(props);},needConditionalIcon:true,conditionalIconFunction:this.linkViewIcon},{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.editTestGroupTest(\"update\",props.SelectedTest[0],_this2.props.Login.userInfo,editTestId,SelectedSpecification,_this2.state.filterData,props.masterData);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgrouptest\",hidden:this.state.userRoleControlRights.indexOf(deleteTestId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteTest({props:props,ncontrolCode:deleteTestId,filterData:_this2.state.filterData});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTestId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})// data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addTestGroupTest(SelectedComponent,_this2.props.Login.userInfo,addTestId,SelectedSpecification,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus,title:this.props.intl.formatMessage({id:\"IDS_ADD\"})})))})));var paramDesign=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ContentPanel,{hidden:!this.state.showTest,className:\"grouped-param\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(TestGroupTestTab,{paneHeight:this.state.paneHeight,testView:this.state.testView,masterData:this.props.Login.masterData,inputParam:this.props.Login.inputParam,userInfo:this.props.Login.userInfo,userRoleControlRights:this.state.userRoleControlRights,esignRights:this.props.Login.userRoleControlRights,screenName:this.props.Login.screenName,openChildModal:this.props.Login.openChildModal,operation:this.props.Login.operation,loadEsign:this.props.Login.loadEsign,testGroupInputData:this.props.Login.testGroupInputData,parameterData:this.props.Login.parameterData,selectedRecord:this.state.selectedRecord,screenData:this.props.Login.screenData,ncontrolCode:this.props.Login.ncontrolCode,controlMap:this.state.controlMap,testGroupCheckList:this.props.Login.testGroupCheckList,openTemplateModal:this.props.Login.openTemplateModal,editTestGroupTest:this.props.editTestGroupTest,updateStore:this.props.updateStore,crudMaster:this.props.crudMaster,getTestGroupParameter:this.props.getTestGroupParameter,editTestGroupParameter:this.props.editTestGroupParameter,filterData:this.state.filterData,addTestGroupCodedResult:this.props.addTestGroupCodedResult,addTestGroupNumericTab:this.props.addTestGroupNumericTab,validateEsignCredential:this.props.validateEsignCredential,filterColumnData:this.props.filterColumnData,viewTestGroupCheckList:this.props.viewTestGroupCheckList,getDataForTestMaterial:this.props.getDataForTestMaterial,materialType:this.props.Login.materialType,getMaterialCategoryBasedMaterialType:this.props.getMaterialCategoryBasedMaterialType,materialCategoryList:this.props.Login.materialCategoryList,materialList:this.props.Login.materialList,getMaterialBasedMaterialCategory:this.props.getMaterialBasedMaterialCategory,getTestGroupMaterial:this.props.getTestGroupMaterial,getDataForEditTestMaterial:this.props.getDataForEditTestMaterial,dataState:this.state.clinicalspecDataState,dataStateChange:this.specDataStateChange}))));var mainDesign=/*#__PURE__*/React.createElement(SplitterLayout,{customClassName:this.state.testView?\"detailed-inner\":\"detailed-inner no-height \",vertical:this.state.testView?false:true,borderColor:\"#999\",primaryIndex:1,percentage:true//secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\n,secondaryInitialSize:37,primaryMinSize:30,secondaryMinSize:37},testDesign,paramDesign);// const testDesign = this.state.testView ?\n//     <SplitterLayout\n//         customClassName=\"detailed-inner\"\n//         borderColor=\"#999\"\n//         primaryIndex={1}>\n//         {tempDesign}{paramDesign}\n//     </SplitterLayout>\n//     :\n//     <SplitterLayout\n//         customClassName=\"detailed-inner no-height\"\n//         vertical\n//         borderColor=\"#999\"\n//         primaryIndex={1}\n//         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\n//         secondaryInitialSize={this.state.fixefScrollHeight}\n//     >\n//         <ContentPanel>\n//             {tempDesign}\n//         </ContentPanel>\n//         {paramDesign}\n//     </SplitterLayout>\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ListWrapper,{className:\"client-listing-wrap mtop-4 screen-height-window\"},this.breadCrumbData&&this.breadCrumbData.length>0&&/*#__PURE__*/React.createElement(BreadcrumbComponent,{breadCrumbItem:this.breadCrumbData}),/*#__PURE__*/React.createElement(Row,{noGutters:true},/*#__PURE__*/React.createElement(Col,{md:12,className:\"parent-port-height sticky_head_parent\",ref:function ref(parentHeight){_this2.parentHeight=parentHeight;}},/*#__PURE__*/React.createElement(SplitterLayout,{borderColor:\"#999\",primaryIndex:1,percentage:true,secondaryInitialSize:30//customClassName=\"fixed_list_height\"\n},/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(this.state.showModalBg?'show_modal_bg fixed_list_height':'fixed_list_height')},/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head\"},/*#__PURE__*/React.createElement(SearchAdd,{className:\"border fixed_ico_list title_grp_custom\"},/*#__PURE__*/React.createElement(\"h4\",null,this.props.intl.formatMessage({id:\"IDS_PROFILETREE\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"icon_group_right_aligned\"},/*#__PURE__*/React.createElement(AdvFilter,{filterComponent:[{\"IDS_SAMPLEFILTER\":/*#__PURE__*/React.createElement(SampleFilter,{sampleType:this.state.sampleType,treeVersionTemplate:this.state.treeVersionTemplate,productCategory:this.state.productCategory,product:this.state.product,onFilterComboChange:this.onFilterComboChange,tempFilterData:this.state.tempFilterData}),needActionStrip:false}],onFilterSubmit:this.onFilterSumbit,showModalBg:function showModalBg(e){return _this2.setState({showModalBg:e});}}),/*#__PURE__*/React.createElement(ProductList,{className:\"d-flex product-category float-right icon-group-wrap\"},/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue mr-1\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addTreeId)===-1,onClick:function onClick(){return _this2.props.createTree(_this2.state.filterData,_this2.props.Login.userInfo,selectedNode,addTreeId);},\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr0 mr-1\",name:\"edittestname\",hidden:this.state.userRoleControlRights.indexOf(editTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_EDIT\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.editTree(\"update\",selectedNode,_this2.props.Login.userInfo,editTreeId,_this2.state.filterData,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPencilAlt})),/*#__PURE__*/React.createElement(Nav.Link,{name:\"deleteLink\",hidden:this.state.userRoleControlRights.indexOf(deleteTreeId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DELETE\"})// data-for=\"tooltip-list-wrap\"\n,className:\"btn btn-circle outline-grey \",onClick:function onClick(){return _this2.ConfirmDelete(_objectSpread({},deleteTree));}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrashAlt})),/*#__PURE__*/React.createElement(Button,{className:\"btn btn-circle outline-grey ml-1\",variant:\"link\",onClick:function onClick(){return _this2.reloadData();}// data-for=\"tooltip-list-wrap\"\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESH\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faSync,style:{\"width\":\"0.6!important\"}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"sticky_head_scroll_body\",style:{\"height\":this.state.parentHeight}},/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(FormTreeMenu,{data:AgaramTree,hasSearch:false,handleTreeClick:this.onTreeClick,initialOpenNodes:OpenNodes,focusKey:FocusKey||\"\",activeKey:ActiveKey||\"\"}),/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_SPECIFICATION\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecification||[],selectedMaster:[SelectedSpecification],needMultiSelect:false,primaryKeyField:\"nallottedspeccode\",getMasterDetail:function getMasterDetail(spec){return _this2.props.getComponentBySpecId(_objectSpread(_objectSpread({},getComponent),{},{selectedRecord:spec,historyDataState:_this2.state.historyDataState}),_this2.props.Login.masterData,_this2.searchRef);},mainField:\"sspecname\",selectedListName:\"testgroupspecification\",objectName:\"testgroupspecification\",listName:\"IDS_SPECIFICATION\",onFilterSumbit:this.onFilterSumbit,subFields:this.specSubField,actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_EDIT\"}),controlname:\"faPencilAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(editSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return _this2.props.addSpecification(\"update\",_objectSpread(_objectSpread({},editSpecParam),props),editSpecId);}},{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),controlname:\"faTrashAlt\",objectName:\"testgroupspecification\",hidden:this.state.userRoleControlRights.indexOf(deleteSpecId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteSpecRecord(_objectSpread(_objectSpread({props:props},specDeleteParam),{},{selectedRecord:SelectedSpecification,ncontrolCode:deleteSpecId}));});}}],needFilter:false,commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addSpecId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n,onClick:function onClick(){return _this2.props.addSpecification(\"create\",_objectSpread({},addSpecParam),addSpecId,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n}))),hideSearch:false,hidePaging:true}),SelectedSpecification&&SelectedSpecification.ncomponentrequired===transactionStatus.YES&&/*#__PURE__*/React.createElement(TransationListMaster,{notSearchable:true,titleHead:this.props.intl.formatMessage({id:\"IDS_COMPONENT\"}),titleClasses:\"title_grp_custom fixed_ico_list\",masterList:TestGroupSpecSampleType||[],selectedMaster:[SelectedComponent],needMultiSelect:false,primaryKeyField:\"nspecsampletypecode\",getMasterDetail:function getMasterDetail(event){return _this2.componentRowClick(event);},mainField:\"scomponentname\",selectedListName:\"testgroupspecsampletype\",objectName:\"testgroupspecsampletype\",listName:\"IDS_COMPONENT\",actionIcons:[{title:this.props.intl.formatMessage({id:\"IDS_DELETE\"}),// data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\ncontrolname:\"faTrashAlt\",objectName:\"testgroupspecsampletype\",hidden:this.state.userRoleControlRights.indexOf(deleteComponentId)===-1,inputData:{masterData:this.props.Login.masterData,userInfo:this.props.Login.userInfo},onClick:function onClick(props){return confirmMessage.confirm(\"deleteMessage\",_this2.props.intl.formatMessage({id:\"IDS_DELETE\"}),_this2.props.intl.formatMessage({id:\"IDS_DEFAULTCONFIRMMSG\"}),_this2.props.intl.formatMessage({id:\"IDS_OK\"}),_this2.props.intl.formatMessage({id:\"IDS_CANCEL\"}),function(){return _this2.deleteMultipleRecord({props:props,ncontrolCode:deleteComponentId});});}}],commonActions:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn btn-icon-rounded btn-circle solid-blue\",role:\"button\",hidden:this.state.userRoleControlRights.indexOf(addComponentId)===-1,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_ADD\"})//  data-for=\"tooltip-list-wrap\"\n// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\n,onClick:function onClick(){return _this2.props.addComponent(SelectedSpecification,_this2.props.Login.userInfo,addComponentId,_this2.props.Login.masterData);}},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faPlus// title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \n}))),hidePaging:true})))),/*#__PURE__*/React.createElement(React.Fragment,null,this.state.testView?/*#__PURE__*/React.createElement(React.Fragment,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\"):/*#__PURE__*/React.createElement(PerfectScrollbar,null,specDesign,this.state.showTest?/*#__PURE__*/React.createElement(\"div\",null,mainDesign):\"\")))))),this.props.Login.openModal&&this.props.Login.screenName&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openModal,closeModal:this.closeModal,operation:this.props.Login.operation,inputParam:this.props.Login.inputParam,screenName:this.props.Login.screenName,esign:this.props.Login.loadEsign,validateEsign:this.validateEsign,onSaveClick:this.onSaveClick,selectedRecord:this.state.selectedRecord||{},mandatoryFields:this.props.Login.screenName===\"IDS_SPECFILE\"?this.findMandatoryFields(this.props.Login.screenName,this.state.selectedRecord):this.props.Login.screenName===\"IDS_SPECIFICATION\"?specMandatoryFields:this.props.Login.screenName===\"IDS_COMPONENT\"?compMandatoryFields:this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?editTestMandatoryFields:this.props.Login.screenName===\"IDS_TEST\"?addTestMandatoryFields:this.props.Login.screenName===\"IDS_PROFILETREE\"||this.props.Login.screenName===\"IDS_EDITTREE\"?this.props.Login.treeMandatoryFields:[],addComponent:this.props.Login.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.props.Login.operation,onInputOnChange:this.onEsignInputOnChange,inputParam:this.props.Login.inputParam,selectedRecord:this.state.selectedRecord||{}}):this.props.Login.screenName===\"IDS_SPECIFICATION\"?/*#__PURE__*/React.createElement(AddTestGroupSpecification,{selectedRecord:this.state.selectedRecord||{},timeZoneList:this.props.Login.timeZoneList,onInputOnChange:this.onInputOnChange,handleDateChange:this.handleDateChange,onComboChange:this.onComboChange,screenName:this.props.Login.screenName,operation:this.props.Login.operation,userInfo:this.props.Login.userInfo,nsampletypecode:this.props.Login.masterData.selectedNode.nsampletypecode}):this.props.Login.screenName===\"IDS_COMPONENT\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_PROFILETREE\"?/*#__PURE__*/React.createElement(AddProfileTree,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,treetempTranstestGroup:this.props.Login.TreetempTranstestGroup}):this.props.Login.screenName===\"IDS_SPECFILE\"?/*#__PURE__*/React.createElement(AddFile,{selectedRecord:this.state.selectedRecord||{},onInputOnChange:this.onInputOnChange,actionType:this.state.actionType,onDrop:this.onDropSpecFile,deleteAttachment:this.deleteAttachment,linkMaster:this.props.Login.linkMaster,editFiles:this.props.Login.editFiles,maxSize:20,maxFiles:this.props.Login.operation===\"update\"?1:1,multiple:this.props.Login.operation===\"update\"?false:true,label:this.props.intl.formatMessage({id:\"IDS_SPECFILE\"}),hideDefaultToggle:true,name:\"specfilename\"}):this.props.Login.screenName===\"IDS_EDITTREE\"?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormInput,{name:\"sleveldescription\",label:this.state.selectedRecord.slabelname,type:\"text\",onChange:function onChange(event){return _this2.onInputOnChange(event,1);},placeholder:this.state.selectedRecord.slabelname,value:this.state.selectedRecord?this.state.selectedRecord[\"sleveldescription\"]:\"\",isMandatory:\"*\",required:true,maxLength:100}))):this.props.Login.screenName===\"IDS_TEST\"?/*#__PURE__*/React.createElement(AddTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,screenName:this.props.Login.screenName,onComboChange:this.onComboChange,onFilterComboChange:this.onFilterComboChange}):this.props.Login.screenName===\"IDS_EDITTESTGROUPTEST\"?/*#__PURE__*/React.createElement(EditTestGroupTest,{selectedRecord:this.state.selectedRecord||{},testGroupInputData:this.props.Login.testGroupInputData,onComboChange:this.onComboChange,onInputOnChange:this.onInputOnChange,onNumericInputChange:this.onNumericInputChange}):\"\"}));}},{key:\"findMandatoryFields\",value:function findMandatoryFields(screenName,selectedRecord){var mandyFields=[];if(screenName===\"IDS_SPECFILE\"){if(selectedRecord&&selectedRecord.nattachmenttypecode===attachmentType.LINK){mandyFields=[{\"idsName\":\"IDS_FILENAME\",\"dataField\":\"slinkfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"},{\"idsName\":\"IDS_LINKNAME\",\"dataField\":\"nlinkcode\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_SELECT\",\"controlType\":\"selectbox\"}];}else{//if (this.props.Login.operation === 'update') {\nmandyFields=[{\"idsName\":\"IDS_FILE\",\"dataField\":\"sfilename\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"file\"}];// }\n}}else{return[];}var finalMandyFields=[];mandyFields.forEach(function(item){return item.mandatory===true&&finalMandyFields.push(item);});return finalMandyFields;}},{key:\"showSpecAndTestInfo\",value:function showSpecAndTestInfo(){this.setState({showTest:!this.state.showTest,testView:false});this.updateSpiltterLayout();}},{key:\"showSpecAndTestInfo1\",value:function showSpecAndTestInfo1(){this.setState({showTest:!this.state.showTest,testView:true});//this.updateSpiltterLayout()\n}},{key:\"generateBreadCrumData\",value:function generateBreadCrumData(filterData){if(filterData&&Object.values(filterData).length>0&&filterData.nsampletypecode&&filterData.nsampletypecode.item){if(filterData.nsampletypecode&&filterData.nproductcatcode&&filterData.nproductcatcode.item.ncategorybasedflow===transactionStatus.YES){this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];}else{this.breadCrumbData=[{\"label\":\"IDS_SAMPLETYPE\",\"value\":filterData.nsampletypecode?filterData.nsampletypecode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENTCATEGORY\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIALCATEGORY\":\"\",\"value\":filterData.nproductcatcode?filterData.nproductcatcode.label:\"\"},{\"label\":filterData.nsampletypecode.item.nformcode===formCode.PRODUCTCATEGORY?\"IDS_PRODUCT\":filterData.nsampletypecode.item.nformcode===formCode.INSTRUMENTCATEGORY?\"IDS_INSTRUMENT\":filterData.nsampletypecode.item.nformcode===formCode.MATERIALCATEGORY?\"IDS_MATERIAL\":\"\",\"value\":filterData.nproductcode?filterData.nproductcode.label:\"\"},{\"label\":\"IDS_TREETEMPLATEVERSION\",\"value\":filterData.ntreeversiontempcode?filterData.ntreeversiontempcode.label:\"\"}];}}}},{key:\"updateSpiltterLayout\",value:function updateSpiltterLayout(){var _this3=this;if(this.myRef&&this.myRef.current&&this.myRef.current.clientHeight+20!==this.state.fixefScrollHeight){this.setState({fixefScrollHeight:this.myRef.current.clientHeight+20,disableSplit:true});console.log(this.myRef.current.clientHeight);setTimeout(function(){_this3.setState({disableSplit:false});});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var selectedRecord=this.state.selectedRecord;var filterData=this.state.filterData||{};var isStateChanged=false;this.updateSpiltterLayout();var tempFilterData=this.state.tempFilterData||{};if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=this.props.Login.selectedRecord;isStateChanged=true;}if(this.props.Login.tempFilterData!==previousProps.Login.tempFilterData){tempFilterData=this.props.Login.tempFilterData||{};isStateChanged=true;}var sampleType=this.state.sampleType||[];if(this.props.Login.masterData.SampleType!==previousProps.Login.masterData.SampleType){var sampleTypeMap=constructOptionList(this.props.Login.masterData.SampleType||[],\"nsampletypecode\",\"ssampletypename\",\"nsorter\",\"ascending\",false);sampleType=sampleTypeMap.get(\"OptionList\");tempFilterData[\"nsampletypecode\"]=sampleType.length?sampleType[0]:\"\";isStateChanged=true;}var productCategory=this.state.productCategory||[];if(this.props.Login.masterData.ProductCategory!==previousProps.Login.masterData.ProductCategory){var productCatMap=constructOptionList(this.props.Login.masterData.ProductCategory||[],\"nproductcatcode\",\"sproductcatname\",\"nproductcatcode\",\"ascending\",false);productCategory=productCatMap.get(\"OptionList\");tempFilterData[\"nproductcatcode\"]=productCategory.length>0?productCategory[0]:\"\";isStateChanged=true;}var product=this.state.product||[];if(this.props.Login.masterData.Product!==previousProps.Login.masterData.Product){var productMap=constructOptionList(this.props.Login.masterData.Product||[],\"nproductcode\",\"sproductname\",\"nproductcode\",\"ascending\",false);product=productMap.get(\"OptionList\");tempFilterData[\"nproductcode\"]=product.length>0?product[0]:undefined;isStateChanged=true;}var treeVersionTemplate=this.state.treeVersionTemplate||[];if(this.props.Login.masterData.TreeVersionTemplate!==previousProps.Login.masterData.TreeVersionTemplate){var templateMap=constructOptionList(this.props.Login.masterData.TreeVersionTemplate||[],\"ntreeversiontempcode\",\"sversiondescription\",\"ntreeversiontempcode\",\"ascending\",false);treeVersionTemplate=templateMap.get(\"OptionList\");tempFilterData[\"ntreeversiontempcode\"]=treeVersionTemplate.length>0?treeVersionTemplate[treeVersionTemplate.length-1]:\"\";isStateChanged=true;}// if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\n//     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\n// }\n// if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\n//     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\n// }\nvar userRoleControlRights=this.state.userRoleControlRights||[];var controlMap=this.state.controlMap||[];if(this.props.Login.userInfo&&this.props.Login.userInfo.nformcode!==previousProps.Login.userInfo.nformcode){var nformCode=this.props.Login.userInfo.nformcode;if(this.props.Login.userRoleControlRights){this.props.Login.userRoleControlRights[nformCode]&&Object.values(this.props.Login.userRoleControlRights[nformCode]).map(function(item){return userRoleControlRights.push(item.ncontrolcode);});}controlMap=getControlMap(this.props.Login.userRoleControlRights,nformCode);filterData=_objectSpread({},tempFilterData);this.generateBreadCrumData(filterData);}if(this.props.Login.filterData!==previousProps.Login.filterData){filterData=_objectSpread({},this.props.Login.filterData);this.generateBreadCrumData(filterData);isStateChanged=true;}// else if (filterData !== previousState.filterData) {\n//     filterData = { ...tempFilterData };\n//     this.generateBreadCrumData(filterData);\n// }\nvar historyDataState=this.state.historyDataState;if(this.props.Login.historyDataState&&this.props.Login.historyDataState!==previousProps.Login.historyDataState){historyDataState=this.props.Login.historyDataState;isStateChanged=true;}var _this$state=this.state,testskip=_this$state.testskip,testtake=_this$state.testtake;if(this.props.Login.masterData!==previousProps.Login.masterData){testskip=this.props.Login.testskip===undefined?testskip:this.props.Login.testskip;testtake=testtake?testtake:this.props.Login.testtake;isStateChanged=true;}if(isStateChanged){this.setState({selectedRecord:selectedRecord,tempFilterData:tempFilterData,filterData:filterData,userRoleControlRights:userRoleControlRights,controlMap:controlMap,sampleType:sampleType,productCategory:productCategory,product:product,treeVersionTemplate:treeVersionTemplate,historyDataState:historyDataState,testskip:testskip,testtake:testtake});}}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.Login.masterStatus!==\"\"){if(props.Login.errorCode===417||props.Login.errorCode===409){toast.warn(props.Login.masterStatus);props.Login.masterStatus=\"\";}}if(props.Login.error!==state.error){toast.error(props.Login.error);props.Login.error=\"\";}return null;}}]);return TestGroup;}(Component);var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};export default connect(mapStateToProps,{callService:callService,crudMaster:crudMaster,filterTestGroup:filterTestGroup,createTree:createTree,editTree:editTree,sampleTypeOnChange:sampleTypeOnChange,getTestGroupDetails:getTestGroupDetails,validateEsignCredential:validateEsignCredential,updateStore:updateStore,addSpecification:addSpecification,getSpecification:getSpecification,addComponent:addComponent,changeTestCategory:changeTestCategory,addTestGroupTest:addTestGroupTest,editTestGroupTest:editTestGroupTest,getTestGroupParameter:getTestGroupParameter,editTestGroupParameter:editTestGroupParameter,addTestFile:addTestFile,editSpecFile:editSpecFile,getSpecificationDetails:getSpecificationDetails,addTestGroupCodedResult:addTestGroupCodedResult,getComponentBySpecId:getComponentBySpecId,filterColumnData:filterColumnData,viewAttachment:viewAttachment,viewTestGroupCheckList:viewTestGroupCheckList,getTestGroupComponentDetails:getTestGroupComponentDetails,filterTransactionList:filterTransactionList,reportSpecification:reportSpecification,retireSpecification:retireSpecification,getDataForTestMaterial:getDataForTestMaterial,getMaterialCategoryBasedMaterialType:getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory:getMaterialBasedMaterialCategory,getTestGroupMaterial:getTestGroupMaterial,getDataForEditTestMaterial:getDataForEditTestMaterial,addTestGroupNumericTab:addTestGroupNumericTab})(injectIntl(TestGroup));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/testgroup/TestGroup.jsx"],"names":["React","Component","connect","injectIntl","rsapi","toast","Row","Col","Card","Button","Nav","PerfectScrollbar","FontAwesomeIcon","faPencilAlt","faPlus","faSync","SplitterLayout","faEye","faTrashAlt","process","SlideOutModal","Esign","callService","crudMaster","filterTestGroup","createTree","editTree","getTestGroupDetails","sampleTypeOnChange","validateEsignCredential","updateStore","addSpecification","getSpecification","addComponent","changeTestCategory","addTestGroupTest","editTestGroupTest","getTestGroupParameter","editTestGroupParameter","addTestFile","editSpecFile","getSpecificationDetails","addTestGroupCodedResult","getComponentBySpecId","filterColumnData","viewAttachment","viewTestGroupCheckList","getTestGroupComponentDetails","filterTransactionList","reportSpecification","retireSpecification","getDataForTestMaterial","getMaterialCategoryBasedMaterialType","getMaterialBasedMaterialCategory","getTestGroupMaterial","getDataForEditTestMaterial","addTestGroupNumericTab","constructOptionList","formatInputDate","create_UUID","deleteAttachmentDropZone","filterRecordBasedOnTwoArrays","getControlMap","onDropAttachFileList","showEsign","sortData","TestGroupTestTab","AddTestGroupSpecification","DEFAULT_RETURN","transactionStatus","REPORTTYPE","attachmentType","formCode","designProperties","AddTestGroupTest","AddProfileTree","SampleFilter","AddFile","AdvFilter","SpecificationHistory","TestGroupSpecFile","SpecificationInfo","CustomTab","TransationListMaster","TransationListMasterView","FormTreeMenu","FormInput","ConfirmMessage","BreadcrumbComponent","testMoreFields","testSubFields","searchFieldList","specificationColumnList","componentColumnList","addTestColumnList","editTestColumnList","EditTestGroupTest","ContentPanel","SearchAdd","ListWrapper","ProductList","TransactionListMasterJsonView","TestGroup","props","reloadData","filterData","Login","state","nsampletypecode","undefined","warn","intl","formatMessage","id","nproductcatcode","item","nformcode","PRODUCTCATEGORY","INSTRUMENTCATEGORY","MATERIALCATEGORY","nproductcode","ntreeversiontempcode","inputParam","inputData","userinfo","userInfo","historyDataState","masterData","searchRef","ConfirmDelete","obj","confirmMessage","confirm","deleteRecord","handlePageChange","event","setState","testskip","skip","testtake","take","viewTestFile","viewParam","operation","methodUrl","classUrl","ntestgroupfilecode","selectedTest","testgroupspecification","SelectedSpecification","ntestgrouptestcode","fileViewIcon","master","nlinkcode","NA","linkViewIcon","onFilterSumbit","tempFilterData","ncategorybasedflow","NO","value","YES","onTreeClick","screenName","keyName","selectedRecord","activeKey","key","focusKey","primaryKey","tabDetail","tabMap","Map","set","controlMap","userRoleControlRights","addFile","defaultRecord","settings","TestGroupSpecificationHistory","historyDataStateChange","dataResult","dataState","specDataStateChange","TestGroupTestClinicalSpec","clinicalspecDataState","ncontrolCode","modalName","nflag","treeVersionTemplateIndex","findIndex","x","selectedNode","templateVersionStatus","ntransactionstatus","RETIRED","napprovalstatus","DRAFT","CORRECTION","onTabChange","tabProps","updateInfo","typeName","data","componentRowClick","testgroupspecsampletype","deleteTest","deleteParam","testgrouptest","postParam","inputListName","selectedObject","primaryKeyField","primaryKeyValue","fetchUrl","fecthInputObject","unchangeList","loadEsign","screenData","openModal","closeModal","onInputOnChange","caseNo","optional","target","type","name","checked","indexKey","Object","keys","values","treeData","npositioncode","nlevelno","sleveldescription","ntemptranstestgroupcode","schildnode","nnextchildcode","ntemplatemanipulationcode","isreadonly","slevelformat","treetemplatemanipulation","onEsignInputOnChange","onFilterComboChange","comboData","fieldName","sampletype","productcategory","product","TestGroupSpecSampleType","testGroupInputData","testGroupSpecSampleType","SelectedComponent","testcategory","nallottedspeccode","handleDateChange","dateName","dateValue","Date","onNumericInputChange","onSaveClick","saveType","formRef","onSaveTree","onSaveSpecification","onSaveComponent","onSaveCopySpecification","onSaveTest","onSaveSpecFile","testArray","ntestcode","map","test","SelectedTest","changeList","isSingleSelect","testgrouptestfile","testGroupFile","ntestfilecode","nattachmenttypecode","sdescription","ssystemfilename","dcreateddate","nfilesize","sfilename","nstatus","ACTIVE","nsectioncode","nmethodcode","ninstrumentcatcode","ncontainertypecode","stestsynonym","ncost","nsorter","nspecsampletypecode","nrepeatcountno","ActiveKey","TreetempTranstestGroup","tempArray","push","treeTemplateManip","filter","temp","length","testGroupSpec","napproveconfversioncode","sversion","ncomponentrequired","nprojectcode","sspecname","dexpirydate","ntzexpirydate","stzexpirydate","label","selectedspecification","ncomponentcode","acceptedFiles","isFileEdited","specFileArray","selectedSpecification","specFile","nspecfilecode","formData","FormData","FTP","Array","isArray","forEach","file","index","tempData","assign","splittedFileName","split","fileExtension","uniquefilename","trim","size","append","slinkfilename","slinkdescription","JSON","stringify","isFileupload","deleteSpecRecord","componentDataState","deleteMultipleRecord","onDropSpecFile","attachedFiles","maxSize","actionType","deleteAttachment","validateTestGroupComplete","inputValue","post","then","response","inactiveTestArray","indexOf","stestname","completeSpecification","catch","error","status","message","retireSpec","approvalRoleActionDetail","retireSpecId","specificationReport","sprimarykeyname","ncontrolcode","nregtypecode","nregsubtypecode","nreportmodulecode","nreporttypecode","CONTROLBASED","nreportdecisiontypecode","certificatetypecode","selectedComponent","testGroupTest","TestGroupTest","approveSpecification","needEsign","onComboChange","schecklistversionname","validateEsign","sreason","nreasoncode","spredefinedreason","password","parseInt","group","field","showTest","fixefScrollHeight","window","outerHeight","initialVerticalWidth","testView","paneHeight","componentBreadcrumbs","breadCrumbData","createRef","specSubField","VALUE","COLOUR","myRef","parentHeight","height","clientHeight","TestGroupSpecification","AgaramTree","OpenNodes","FocusKey","searchedData","TestGroupTestParameter","testGroupTestData","getComponent","addSpecParam","editSpecParam","specDeleteParam","addSpecId","has","get","addTreeId","editTreeId","deleteTreeId","editSpecId","deleteSpecId","addComponentId","deleteComponentId","addTestId","deleteTestId","editTestId","viewFileId","deleteTree","getTest","filterParam","specMandatoryFields","compMandatoryFields","editTestMandatoryFields","addTestMandatoryFields","mandatory","splitNode","treeNodeNames","nodeItem","TreeTemplateManipulation","treeItem","scomponentname","specDesign","display","marginTop","float","marginRight","showSpecAndTestInfo1","ApprovalRoleActionDetail","testDesign","showSpecAndTestInfo","setting","title","controlname","objectName","hidden","onClick","needConditionalIcon","conditionalIconFunction","paramDesign","openChildModal","parameterData","testGroupCheckList","openTemplateModal","materialType","materialCategoryList","materialList","mainDesign","showModalBg","sampleType","treeVersionTemplate","productCategory","needActionStrip","e","spec","findMandatoryFields","treeMandatoryFields","timeZoneList","linkMaster","editFiles","slabelname","mandyFields","LINK","finalMandyFields","updateSpiltterLayout","current","disableSplit","console","log","setTimeout","previousProps","previousState","isStateChanged","SampleType","sampleTypeMap","ProductCategory","productCatMap","Product","productMap","TreeVersionTemplate","templateMap","nformCode","generateBreadCrumData","masterStatus","errorCode","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport { Row, Col, Card, Button, Nav } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport SplitterLayout from 'react-splitter-layout';\r\nimport { faEye, faTrashAlt } from '@fortawesome/free-regular-svg-icons';\r\n// import { Tooltip } from '@progress/kendo-react-tooltip';\r\nimport { process } from '@progress/kendo-data-query';\r\n\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport Esign from '../audittrail/Esign';\r\nimport {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, getTestGroupDetails, sampleTypeOnChange,\r\n    validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent, changeTestCategory,\r\n    addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter, addTestFile,\r\n    editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial,\r\n    getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory,getTestGroupMaterial,getDataForEditTestMaterial,addTestGroupNumericTab\r\n} from '../../actions'\r\nimport { constructOptionList, formatInputDate, create_UUID, deleteAttachmentDropZone, filterRecordBasedOnTwoArrays, getControlMap, onDropAttachFileList, showEsign, sortData } from '../../components/CommonScript';\r\nimport TestGroupTestTab from './TestGroupTestTab';\r\nimport AddTestGroupSpecification from './AddTestGroupSpecification';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport { transactionStatus, REPORTTYPE, attachmentType, formCode, designProperties } from '../../components/Enumeration';\r\nimport AddTestGroupTest from './AddTestGroupTest';\r\nimport AddProfileTree from './AddProfileTree';\r\nimport SampleFilter from './SampleFilter';\r\nimport AddFile from '../testmanagement/AddFile';\r\nimport AdvFilter from '../../components/AdvFilter';\r\nimport SpecificationHistory from './SpecificationHistory';\r\nimport TestGroupSpecFile from './TestGroupSpecFile';\r\nimport SpecificationInfo from './SpecificationInfo';\r\nimport CustomTab from '../../components/custom-tabs/custom-tabs.component';\r\nimport TransationListMaster from '../../components/TransactionListMaster';\r\nimport TransationListMasterView from '../../components/TransactionListMasterView';\r\nimport FormTreeMenu from '../../components/form-tree-menu/form-tree-menu.component';\r\n// import ConfirmDialog from '../../components/confirm-alert/confirm-alert.component';\r\nimport FormInput from '../../components/form-input/form-input.component';\r\nimport ConfirmMessage from '../../components/confirm-alert/confirm-message.component';\r\nimport BreadcrumbComponent from '../../components/Breadcrumb.Component';\r\n\r\nimport {\r\n    testMoreFields, testSubFields, searchFieldList, specificationColumnList, componentColumnList,\r\n    addTestColumnList, editTestColumnList\r\n} from './TestGroupFields';\r\nimport EditTestGroupTest from './EditTestGroupTest';\r\nimport { ContentPanel, SearchAdd } from '../../components/App.styles';\r\nimport '../../pages/registration/registration.css';\r\nimport { ListWrapper } from '../../components/client-group.styles';\r\nimport { ProductList } from '../product/product.styled';\r\nimport TransactionListMasterJsonView from '../../components/TransactionListMasterJsonView';\r\n// import ReactTooltip from 'react-tooltip';\r\n\r\n\r\n\r\nclass TestGroup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const componentDataState = { skip: 0, take: 10 };\r\n        const historyDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5 };\r\n        const clinicalspecDataState = { skip: 0, take: this.props.Login.settings ? parseInt(this.props.Login.settings[14]) : 5,group: [{ field: 'sgendername' }]  };\r\n\r\n        this.state = {\r\n            selectedRecord: {},\r\n            filterData: {},\r\n            error: \"\",\r\n            userRoleControlRights: [],\r\n            controlMap: new Map(),\r\n            componentDataState,\r\n            historyDataState,\r\n            clinicalspecDataState,\r\n            tempFilterData: {},\r\n            showTest: true,\r\n            testskip: 0,\r\n            testtake: this.props.Login.settings ? this.props.Login.settings[12] : 5,\r\n            fixefScrollHeight: window.outerHeight - 400,\r\n            initialVerticalWidth: \"20vh\",\r\n            testView: true,\r\n            //paneHeight:'calc(100vh - ' +window.outerHeight-847 + 'px)'\r\n            paneHeight:'calc(100vh -183px)'\r\n        }\r\n        this.componentBreadcrumbs = [];\r\n        this.breadCrumbData = [];\r\n        this.searchRef = React.createRef();\r\n        this.specSubField = [{ [designProperties.VALUE]: \"stransdisplaystatus\" },\r\n        { [designProperties.VALUE]: \"sapprovalstatus\", [designProperties.COLOUR]: true }];\r\n        this.myRef = React.createRef();\r\n\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        if (props.Login.masterStatus !== \"\") {\r\n            if (props.Login.errorCode === 417 || props.Login.errorCode === 409) {\r\n                toast.warn(props.Login.masterStatus);\r\n                props.Login.masterStatus = \"\";\r\n            }\r\n        }\r\n        if (props.Login.error !== state.error) {\r\n            toast.error(props.Login.error)\r\n            props.Login.error = \"\";\r\n        }\r\n        return null;\r\n    }\r\n\r\n    reloadData = () => {\r\n\r\n        const filterData = this.props.Login.filterData || this.state.filterData;\r\n        if (filterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        }\r\n        else if (filterData.nproductcatcode === \"\") {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        else if (filterData.nproductcode === \"\" || filterData.nproductcode === undefined) {\r\n            if (filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        } else if (filterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        }\r\n        else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: filterData.nsampletypecode.item[\"nsampletypecode\"],\r\n                    nproductcatcode: filterData.nproductcatcode.item[\"nproductcatcode\"],\r\n                    nproductcode: filterData.nproductcode.item[\"nproductcode\"],\r\n                    ntreeversiontempcode: filterData.ntreeversiontempcode.item[\"ntreeversiontempcode\"],\r\n                    filterData,//: { ...this.props.Login.filterData }\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.parentHeight) {\r\n            const height = this.parentHeight.clientHeight;\r\n            this.setState({\r\n                parentHeight: height - 50\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { TestGroupSpecification, SelectedSpecification, SelectedTest, AgaramTree, OpenNodes, selectedNode, FocusKey,\r\n            ActiveKey, SelectedComponent, TestGroupTest, TestGroupSpecSampleType, searchedData,\r\n            TestGroupTestParameter } = this.props.Login.masterData;\r\n        // const deleteTree = {\r\n        //     methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n        //     userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\"\r\n        // };\r\n\r\n        const testGroupTestData = searchedData || TestGroupTest || []\r\n\r\n        if (TestGroupTestParameter) {\r\n            sortData(TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        }\r\n\r\n        if (testGroupTestData) {\r\n            sortData(testGroupTestData, \"descending\", \"nsorter\");\r\n        }\r\n\r\n        const getComponent = {\r\n            screenName: \"IDS_COMPONENT\", operation: \"get\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupComponent\", keyName: \"testgroupspecification\"\r\n        };\r\n        const addSpecParam = { testgroupspecification: SelectedSpecification, selectedRecord: this.state.filterData, userInfo: this.props.Login.userInfo, selectedNode };\r\n        const editSpecParam = { selectedRecord: this.state.filterData, userinfo: this.props.Login.userInfo, selectedNode };\r\n        const specDeleteParam = { operation: \"delete\", methodUrl: \"Specification\", screenName: \"IDS_SPECIFICATION\", keyName: \"testgroupspecification\", filterData: this.state.filterData };\r\n        const addSpecId = this.state.controlMap.has(\"AddSpecification\") && this.state.controlMap.get(\"AddSpecification\").ncontrolcode;\r\n        const addTreeId = this.state.controlMap.has(\"AddTree\") && this.state.controlMap.get(\"AddTree\").ncontrolcode;\r\n        const editTreeId = this.state.controlMap.has(\"EditTree\") && this.state.controlMap.get(\"EditTree\").ncontrolcode;\r\n        const deleteTreeId = this.state.controlMap.has(\"DeleteTree\") && this.state.controlMap.get(\"DeleteTree\").ncontrolcode;\r\n        const editSpecId = this.state.controlMap.has(\"EditSpecification\") && this.state.controlMap.get(\"EditSpecification\").ncontrolcode;\r\n        const deleteSpecId = this.state.controlMap.has(\"DeleteSpecification\") && this.state.controlMap.get(\"DeleteSpecification\").ncontrolcode;\r\n        const addComponentId = this.state.controlMap.has(\"AddComponent\") && this.state.controlMap.get(\"AddComponent\").ncontrolcode;\r\n        const deleteComponentId = this.state.controlMap.has(\"DeleteComponent\") && this.state.controlMap.get(\"DeleteComponent\").ncontrolcode;\r\n        const addTestId = this.state.controlMap.has(\"AddTest\") && this.state.controlMap.get(\"AddTest\").ncontrolcode;\r\n        const deleteTestId = this.state.controlMap.has(\"DeleteTest\") && this.state.controlMap.get(\"DeleteTest\").ncontrolcode;\r\n        const editTestId = this.state.controlMap.has(\"EditTest\") && this.state.controlMap.get(\"EditTest\").ncontrolcode;\r\n        const viewFileId = this.state.controlMap.has(\"ViewTestFile\") && this.state.controlMap.get(\"ViewTestFile\").ncontrolcode;\r\n        const confirmMessage = new ConfirmMessage();\r\n\r\n        const deleteTree = {\r\n            methodUrl: \"Tree\", operation: \"delete\", inputParam: this.props.Login.inputParam,\r\n            userInfo: this.props.Login.userInfo, screenName: \"IDS_TREE\", ncontrolCode: deleteTreeId, filterData: this.state.filterData\r\n        };\r\n\r\n        const getTest = {\r\n            screenName: \"IDS_TEST\", operation: \"get\", masterData: this.props.Login.masterData,\r\n            userInfo: this.props.Login.userInfo, methodUrl: \"TestGroupTest\", keyName: \"ntestgrouptestcode\"\r\n        };\r\n        const filterParam = {\r\n            testskip: 0, testtake: this.props.Login.settings ? this.props.Login.settings[12]:5,\r\n            inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n            fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo }, masterData: this.props.Login.masterData,\r\n            searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n        };\r\n        const specMandatoryFields = [];\r\n        const compMandatoryFields = [];\r\n        const editTestMandatoryFields = [];\r\n        const addTestMandatoryFields = [];\r\n        specificationColumnList.forEach(item => item.mandatory === true ?\r\n            specMandatoryFields.push(item) : \"\"\r\n        );\r\n        componentColumnList.forEach(item => item.mandatory === true ?\r\n            compMandatoryFields.push(item) : \"\"\r\n        );\r\n        editTestColumnList.forEach(item => item.mandatory === true ?\r\n            editTestMandatoryFields.push(item) : \"\"\r\n        );\r\n        addTestColumnList.forEach(item => item.mandatory === true ?\r\n            addTestMandatoryFields.push(item) : \"\"\r\n        );\r\n\r\n        if (this.props.Login.masterData && Object.values(this.props.Login.masterData).length > 0) {\r\n            if (selectedNode && selectedNode.sleveldescription) {\r\n                const splitNode = this.props.Login.masterData.ActiveKey.split('/');\r\n                let treeNodeNames = [];\r\n                splitNode.forEach(nodeItem => {\r\n                    this.props.Login.masterData.TreeTemplateManipulation.forEach(treeItem => {\r\n                        if (treeItem.ntemplatemanipulationcode === parseInt(nodeItem))\r\n                            treeNodeNames.push(treeItem.sleveldescription);\r\n                    })\r\n                })\r\n                this.componentBreadcrumbs = treeNodeNames;\r\n                if (SelectedSpecification && SelectedSpecification !== null && SelectedSpecification.sspecname) {\r\n                    this.componentBreadcrumbs.push(SelectedSpecification.sspecname);\r\n                    if (SelectedComponent && SelectedComponent !== null && SelectedComponent.ncomponentcode !== -1) {\r\n                        // this.componentBreadcrumbs[2] = this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" }) + \": \" + SelectedComponent.scomponentname;\r\n                        this.componentBreadcrumbs.push(SelectedComponent.scomponentname);\r\n                    } else {\r\n                        // delete this.componentBreadcrumbs[2];\r\n                    }\r\n                } else {\r\n                    // delete this.componentBreadcrumbs[1];\r\n                }\r\n            } else {\r\n                this.componentBreadcrumbs = [];\r\n                // delete this.componentBreadcrumbs[0];\r\n            }\r\n        }\r\n\r\n        this.confirmMessage = new ConfirmMessage();\r\n\r\n\r\n\r\n        //New Design\r\n        const specDesign =\r\n            <>\r\n                {this.componentBreadcrumbs && this.componentBreadcrumbs.length > 0 &&\r\n                    <div className=\"component_breadcrumbs\">\r\n                        <ul>\r\n                            {this.componentBreadcrumbs.map((item) => {\r\n                                return <li>{item}</li>\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                <ContentPanel hidden={this.state.showTest}>\r\n                    <div className='card_group'>\r\n                        <Card>\r\n                            <Card.Header>\r\n                                <span style={{ display: \"inline-block\", marginTop: \"1%\" }} >\r\n                                    <h4>{this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONINFO\" })}</h4>\r\n                                </span>\r\n                                {/* <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button> */}\r\n                                <button className=\"btn btn-primary\" style={{ float: \"right\", marginRight: \"1rem\" }}\r\n                                    onClick={() => this.showSpecAndTestInfo1()}>\r\n                                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                                    {this.props.intl.formatMessage({ id: \"IDS_TEST\" })}\r\n                                </button>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <SpecificationInfo\r\n                                    controlMap={this.state.controlMap}\r\n                                    userRoleControlRights={this.state.userRoleControlRights}\r\n                                    selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    selectedNode={this.props.Login.masterData.selectedNode}\r\n                                    selectedRecord={this.state.filterData}\r\n                                    approvalRoleActionDetail={this.props.Login.masterData.ApprovalRoleActionDetail}\r\n                                    screenName=\"IDS_SPECIFICATIONINFO\"\r\n                                    deleteRecord={this.deleteRecord}\r\n                                    addSpecification={this.props.addSpecification}\r\n                                    filterData={this.state.filterData}\r\n                                    //completeSpecification={this.completeSpecification}\r\n                                    completeSpecification={this.validateTestGroupComplete}\r\n                                    approveSpecification={this.approveSpecification}\r\n                                    specificationReport={this.specificationReport}\r\n                                    retireSpec={this.retireSpec}\r\n                                    masterData={this.props.Login.masterData}\r\n\r\n                                />\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n                    <Card body>\r\n\r\n                        <div>\r\n                            <CustomTab tabDetail={this.tabDetail()} onTabChange={this.onTabChange} />\r\n                        </div>\r\n\r\n                    </Card>\r\n                </ContentPanel>\r\n            </>\r\n\r\n        const testDesign = <Card>\r\n            <Card.Header className='sm-header'>\r\n                <span style={{ display: \"inline-block\" }} >\r\n                    <h4>{this.props.intl.formatMessage({ id: \"IDS_TEST\" })}</h4>\r\n                </span>\r\n                <button className=\"btn btn-primary\" style={{ float: \"right\" }}\r\n                    onClick={() => this.showSpecAndTestInfo()}>\r\n                    <FontAwesomeIcon icon={faEye}></FontAwesomeIcon>{\"  \"}\r\n                    {this.props.intl.formatMessage({ id: \"IDS_SPECINFO\" })}\r\n                </button>\r\n            </Card.Header>\r\n            <Card.Body className={this.state.testView ? 'p-0' : 'no-pad-t'}>\r\n                <TransactionListMasterJsonView\r\n                    cardHead={167}\r\n                    componentBreadcrumbs={this.breadCrumbData ? this.breadCrumbData.length > 0 ? true:false :false}\r\n                    // notSearchable={false}\r\n                    masterList={searchedData || TestGroupTest || []}\r\n                    //selectedMaster={[SelectedTest]}\r\n                    clickIconGroup={true}\r\n                    selectedMaster={SelectedTest !== undefined ? [SelectedTest] : undefined}\r\n                    primaryKeyField=\"ntestgrouptestcode\"\r\n                    getMasterDetail={this.props.getTestGroupDetails}\r\n                    inputParam={getTest}\r\n                    additionalParam={[]}\r\n                    mainField=\"stestname\"\r\n                    selectedListName=\"SelectedTest\"\r\n                    objectName=\"testgrouptest\"\r\n                    listName=\"IDS_TEST\"\r\n                    showStatusLink={true}\r\n                    statusFieldName=\"stransdisplaystatus\"\r\n                    statusField=\"ntransactionstatus\"\r\n                    subFields={testSubFields}\r\n                    moreField={testMoreFields}\r\n                    needValidation={false}\r\n                    needFilter={false}\r\n                    filterColumnData={this.props.filterTransactionList}\r\n                    searchListName=\"searchedData\"\r\n                    searchRef={this.searchRef}\r\n                    hidePaging = {false}\r\n                    filterParam={filterParam}\r\n                    handlePageChange={this.handlePageChange}\r\n                    skip={this.state.testskip}\r\n                    take={this.state.testtake}\r\n                    pageSize={this.props.Login.settings && this.props.Login.settings[13].split(\",\").map(setting => parseInt(setting))}\r\n                    actionIcons={\r\n                        [\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faCloudDownloadAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.fileViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_VIEW\" }),\r\n                                controlname: \"faExternalLinkAlt\",\r\n                                objectName: \"selectedTest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(viewFileId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.viewTestFile(props),\r\n                                needConditionalIcon: true,\r\n                                conditionalIconFunction: this.linkViewIcon\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                controlname: \"faPencilAlt\",\r\n                                objectName: \"testgroupspecification\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(editTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => this.props.editTestGroupTest(\"update\", props.SelectedTest[0], this.props.Login.userInfo, editTestId, SelectedSpecification, this.state.filterData, props.masterData)\r\n                            },\r\n                            {\r\n                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                controlname: \"faTrashAlt\",\r\n                                objectName: \"testgrouptest\",\r\n                                hidden: this.state.userRoleControlRights.indexOf(deleteTestId) === -1,\r\n                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                onClick: (props) => confirmMessage.confirm(\r\n                                    \"deleteMessage\",\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                    () => this.deleteTest({ props, ncontrolCode: deleteTestId, filterData: this.state.filterData })\r\n                                )\r\n                            }\r\n                        ]\r\n                    }\r\n                    commonActions={\r\n                        <>\r\n\r\n                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                hidden={this.state.userRoleControlRights.indexOf(addTestId) === -1}\r\n                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                               // data-for=\"tooltip-list-wrap\"\r\n                                onClick={() => this.props.addTestGroupTest(SelectedComponent, this.props.Login.userInfo, addTestId, SelectedSpecification, this.state.filterData,this.props.Login.masterData)}>\r\n                                <FontAwesomeIcon icon={faPlus} title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} />\r\n                            </Button>\r\n                        </>\r\n                    }\r\n                />\r\n            </Card.Body>\r\n        </Card>\r\n\r\n        const paramDesign =\r\n            <>\r\n                <ContentPanel hidden={!this.state.showTest} className=\"grouped-param\">\r\n                    <Card>\r\n                        {/* <Card.Header className='sm-header'>\r\n                            <span style={{ display: \"inline-block\" }} >\r\n                                <h4>{this.props.intl.formatMessage({ id: \"IDS_PARAMETER\" })}</h4>\r\n                            </span>\r\n                        </Card.Header> */}\r\n                    {/* {TestGroupTestParameter && TestGroupTestParameter.length > 0 && */}\r\n                         {/* <PerfectScrollbar> */}\r\n                            <TestGroupTestTab\r\n                                paneHeight = {this.state.paneHeight}\r\n                                testView={this.state.testView}\r\n                                masterData={this.props.Login.masterData}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                userInfo={this.props.Login.userInfo}\r\n                                userRoleControlRights={this.state.userRoleControlRights}\r\n                                esignRights={this.props.Login.userRoleControlRights}\r\n                                screenName={this.props.Login.screenName}\r\n                                openChildModal={this.props.Login.openChildModal}\r\n                                operation={this.props.Login.operation}\r\n                                loadEsign={this.props.Login.loadEsign}\r\n                                testGroupInputData={this.props.Login.testGroupInputData}\r\n                                parameterData={this.props.Login.parameterData}\r\n                                selectedRecord={this.state.selectedRecord}\r\n                                screenData={this.props.Login.screenData}\r\n                                ncontrolCode={this.props.Login.ncontrolCode}\r\n                                controlMap={this.state.controlMap}\r\n                                testGroupCheckList={this.props.Login.testGroupCheckList}\r\n                                openTemplateModal={this.props.Login.openTemplateModal}\r\n                                editTestGroupTest={this.props.editTestGroupTest}\r\n                                updateStore={this.props.updateStore}\r\n                                crudMaster={this.props.crudMaster}\r\n                                getTestGroupParameter={this.props.getTestGroupParameter}\r\n                                editTestGroupParameter={this.props.editTestGroupParameter}\r\n                                filterData={this.state.filterData}\r\n                                addTestGroupCodedResult={this.props.addTestGroupCodedResult}\r\n                                addTestGroupNumericTab={this.props.addTestGroupNumericTab}\r\n                                validateEsignCredential={this.props.validateEsignCredential}\r\n                                filterColumnData={this.props.filterColumnData}\r\n                                viewTestGroupCheckList={this.props.viewTestGroupCheckList}\r\n                                getDataForTestMaterial={this.props.getDataForTestMaterial}\r\n                                materialType={this.props.Login.materialType}\r\n                                getMaterialCategoryBasedMaterialType={this.props.getMaterialCategoryBasedMaterialType}\r\n                                materialCategoryList={this.props.Login.materialCategoryList}\r\n                                materialList={this.props.Login.materialList}\r\n                                getMaterialBasedMaterialCategory={this.props.getMaterialBasedMaterialCategory}\r\n                                getTestGroupMaterial={this.props.getTestGroupMaterial}\r\n                                getDataForEditTestMaterial={this.props.getDataForEditTestMaterial}\r\n                                dataState={this.state.clinicalspecDataState}\r\n                                dataStateChange={this.specDataStateChange}\r\n                            />\r\n                         {/* </PerfectScrollbar>\r\n                     } */}\r\n                    </Card>\r\n                </ContentPanel>\r\n            </>\r\n\r\n        const mainDesign =\r\n            <SplitterLayout\r\n                customClassName={this.state.testView ? \"detailed-inner\" : \"detailed-inner no-height \"}\r\n                vertical={this.state.testView ? false : true}\r\n                borderColor=\"#999\"\r\n                primaryIndex={1}\r\n                percentage = {true}\r\n                //secondaryInitialSize={this.state.testView ? 600 : this.state.fixefScrollHeight}\r\n                secondaryInitialSize={37}\r\n                primaryMinSize={30}\r\n                secondaryMinSize={37}\r\n            >\r\n                {testDesign}{paramDesign}\r\n            </SplitterLayout >\r\n\r\n\r\n        // const testDesign = this.state.testView ?\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner\"\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}>\r\n        //         {tempDesign}{paramDesign}\r\n        //     </SplitterLayout>\r\n        //     :\r\n        //     <SplitterLayout\r\n        //         customClassName=\"detailed-inner no-height\"\r\n        //         vertical\r\n        //         borderColor=\"#999\"\r\n        //         primaryIndex={1}\r\n        //         // onSecondaryPaneSizeChange={this.verticalPaneSizeChange}\r\n        //         secondaryInitialSize={this.state.fixefScrollHeight}\r\n        //     >\r\n        //         <ContentPanel>\r\n        //             {tempDesign}\r\n        //         </ContentPanel>\r\n\r\n        //         {paramDesign}\r\n        //     </SplitterLayout>\r\n\r\n        return (\r\n            <>\r\n                {/* <ReactTooltip place=\"bottom\" globalEventOff='click' id=\"tooltip-list-wrap\" /> */}\r\n                {/* screen-height-window active_seperator */}\r\n                <ListWrapper className=\"client-listing-wrap mtop-4 screen-height-window\">\r\n                    {this.breadCrumbData && this.breadCrumbData.length > 0 &&\r\n                        <BreadcrumbComponent\r\n                            breadCrumbItem={this.breadCrumbData}\r\n                        />}\r\n                    <Row noGutters>\r\n                        <Col md={12} className=\"parent-port-height sticky_head_parent\" ref={(parentHeight) => { this.parentHeight = parentHeight }}>\r\n                            <SplitterLayout\r\n                                borderColor=\"#999\"\r\n                                primaryIndex={1}\r\n                                percentage={true}\r\n                                secondaryInitialSize={30}\r\n                                //customClassName=\"fixed_list_height\"\r\n                            >\r\n                                <div className={`${this.state.showModalBg ? 'show_modal_bg fixed_list_height' : 'fixed_list_height'}`}>\r\n                                    <div className=\"sticky_head\">\r\n                                        <SearchAdd className=\"border fixed_ico_list title_grp_custom\">\r\n                                            <h4>{this.props.intl.formatMessage({ id: \"IDS_PROFILETREE\" })}</h4>\r\n                                            <div className=\"icon_group_right_aligned\">\r\n                                                <AdvFilter\r\n                                                    filterComponent={[{\r\n                                                        \"IDS_SAMPLEFILTER\":\r\n                                                            <SampleFilter\r\n                                                                sampleType={this.state.sampleType}\r\n                                                                treeVersionTemplate={this.state.treeVersionTemplate}\r\n                                                                productCategory={this.state.productCategory}\r\n                                                                product={this.state.product}\r\n                                                                onFilterComboChange={this.onFilterComboChange}\r\n                                                                tempFilterData={this.state.tempFilterData}\r\n                                                            >\r\n                                                            </SampleFilter>,\r\n                                                        needActionStrip: false\r\n                                                    }]}\r\n                                                    onFilterSubmit={this.onFilterSumbit}\r\n                                                    showModalBg={(e) => this.setState({ showModalBg: e })}\r\n                                                />\r\n\r\n                                                <ProductList className=\"d-flex product-category float-right icon-group-wrap\">\r\n                                                    {/* <Tooltip position=\"bottom\" anchorElement=\"target\" openDelay={100} parentTitle={true}> */}\r\n                                                    <Button className=\"btn btn-icon-rounded btn-circle solid-blue mr-1\" role=\"button\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(addTreeId) === -1}\r\n                                                        onClick={() => this.props.createTree(this.state.filterData, this.props.Login.userInfo, selectedNode, addTreeId)}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                      //  data-for=\"tooltip-list-wrap\"\r\n                                                    >\r\n                                                        <FontAwesomeIcon icon={faPlus} />\r\n                                                    </Button>\r\n\r\n                                                    <Nav.Link className=\"btn btn-circle outline-grey mr0 mr-1\" name=\"edittestname\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(editTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_EDIT\" })}\r\n                                                      //  data-for=\"tooltip-list-wrap\"\r\n                                                        onClick={() => this.props.editTree(\"update\", selectedNode, this.props.Login.userInfo, editTreeId, this.state.filterData,\r\n                                                                                            this.props.Login.masterData)}>\r\n                                                        <FontAwesomeIcon icon={faPencilAlt} />\r\n                                                    </Nav.Link>\r\n                                                    <Nav.Link name=\"deleteLink\"\r\n                                                        hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                       // data-for=\"tooltip-list-wrap\"\r\n                                                        className=\"btn btn-circle outline-grey \"\r\n                                                        onClick={() => this.ConfirmDelete({ ...deleteTree })}>\r\n                                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                                        {/* <ConfirmDialog\r\n                                                            name=\"deleteMessage\"\r\n                                                            message={this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" })}\r\n                                                            doLabel={this.props.intl.formatMessage({ id: \"IDS_OK\" })}\r\n                                                            doNotLabel={this.props.intl.formatMessage({ id: \"IDS_CANCEL\" })}\r\n                                                            icon={faTrashAlt}\r\n                                                            title={this.props.intl.formatMessage({ id: \"IDS_DELETE\" })}\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(deleteTreeId) === -1}\r\n                                                            handleClickDelete={() => this.deleteRecord({ ...deleteTree })}\r\n                                                        /> */}\r\n                                                    </Nav.Link>\r\n                                                    <Button className=\"btn btn-circle outline-grey ml-1\" variant=\"link\"\r\n                                                        onClick={() => this.reloadData()}\r\n                                                        // data-for=\"tooltip-list-wrap\"\r\n                                                        data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESH\" })}>\r\n                                                        <FontAwesomeIcon icon={faSync} style={{ \"width\": \"0.6!important\" }} />\r\n                                                    </Button>\r\n                                                    {/* </Tooltip> */}\r\n                                                </ProductList>\r\n\r\n                                            </div>\r\n                                        </SearchAdd>\r\n                                    </div>\r\n                                    <div className=\"sticky_head_scroll_body\" style={{ \"height\": this.state.parentHeight }}>\r\n                                        <PerfectScrollbar>\r\n                                            <FormTreeMenu\r\n                                                data={AgaramTree}\r\n                                                hasSearch={false}\r\n                                                handleTreeClick={this.onTreeClick}\r\n                                                initialOpenNodes={OpenNodes}\r\n                                                focusKey={FocusKey || \"\"}\r\n                                                activeKey={ActiveKey || \"\"}\r\n                                            />\r\n                                            <TransationListMaster\r\n                                                notSearchable={true}\r\n                                                titleHead={this.props.intl.formatMessage({ id: \"IDS_SPECIFICATION\" })}\r\n                                                titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                masterList={TestGroupSpecification || []}\r\n                                                selectedMaster={[SelectedSpecification]}\r\n                                                needMultiSelect={false}\r\n                                                primaryKeyField=\"nallottedspeccode\"\r\n                                                getMasterDetail={(spec) => this.props.getComponentBySpecId({ ...getComponent, selectedRecord: spec, historyDataState: this.state.historyDataState }, this.props.Login.masterData, this.searchRef)}\r\n                                                mainField=\"sspecname\"\r\n                                                selectedListName=\"testgroupspecification\"\r\n                                                objectName=\"testgroupspecification\"\r\n                                                listName=\"IDS_SPECIFICATION\"\r\n                                                onFilterSumbit={this.onFilterSumbit}\r\n                                                subFields={this.specSubField}\r\n                                                actionIcons={\r\n                                                    [\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_EDIT\" }),\r\n                                                            controlname: \"faPencilAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(editSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => this.props.addSpecification(\"update\", { ...editSpecParam, ...props }, editSpecId)\r\n                                                        },\r\n                                                        {\r\n                                                            title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                            controlname: \"faTrashAlt\",\r\n                                                            objectName: \"testgroupspecification\",\r\n                                                            hidden: this.state.userRoleControlRights.indexOf(deleteSpecId) === -1,\r\n                                                            inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                            onClick: (props) => confirmMessage.confirm(\r\n                                                                \"deleteMessage\",\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                () => this.deleteSpecRecord({ props, ...specDeleteParam, selectedRecord: SelectedSpecification, ncontrolCode: deleteSpecId })\r\n                                                            )\r\n                                                        }\r\n                                                    ]\r\n                                                }\r\n                                                needFilter={false}\r\n                                                commonActions={\r\n                                                    <>\r\n                                                        {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                        <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                            hidden={this.state.userRoleControlRights.indexOf(addSpecId) === -1}\r\n                                                            data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                          //  data-for=\"tooltip-list-wrap\"\r\n                                                            onClick={() => this.props.addSpecification(\"create\", { ...addSpecParam }, addSpecId, this.props.Login.masterData)}>\r\n                                                            <FontAwesomeIcon icon={faPlus}\r\n                                                            // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                            />\r\n                                                        </Button>\r\n                                                    </>\r\n                                                }\r\n                                                hideSearch={false}\r\n                                                hidePaging={true}\r\n                                            />\r\n                                            {SelectedSpecification && SelectedSpecification.ncomponentrequired === transactionStatus.YES &&\r\n                                                <TransationListMaster\r\n                                                    notSearchable={true}\r\n                                                    titleHead={this.props.intl.formatMessage({ id: \"IDS_COMPONENT\" })}\r\n                                                    titleClasses=\"title_grp_custom fixed_ico_list\"\r\n                                                    masterList={TestGroupSpecSampleType || []}\r\n                                                    selectedMaster={[SelectedComponent]}\r\n                                                    needMultiSelect={false}\r\n                                                    primaryKeyField=\"nspecsampletypecode\"\r\n                                                    getMasterDetail={(event) => this.componentRowClick(event)}\r\n                                                    mainField=\"scomponentname\"\r\n                                                    selectedListName=\"testgroupspecsampletype\"\r\n                                                    objectName=\"testgroupspecsampletype\"\r\n                                                    listName=\"IDS_COMPONENT\"\r\n                                                    actionIcons={\r\n                                                        [\r\n                                                            {\r\n                                                                title: this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                // data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                controlname: \"faTrashAlt\",\r\n                                                                objectName: \"testgroupspecsampletype\",\r\n                                                                hidden: this.state.userRoleControlRights.indexOf(deleteComponentId) === -1,\r\n                                                                inputData: { masterData: this.props.Login.masterData, userInfo: this.props.Login.userInfo },\r\n                                                                onClick: (props) => confirmMessage.confirm(\r\n                                                                    \"deleteMessage\",\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DELETE\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                                                    () => this.deleteMultipleRecord({ props, ncontrolCode: deleteComponentId })\r\n                                                                )\r\n                                                            }\r\n                                                        ]\r\n                                                    }\r\n                                                    commonActions={\r\n                                                        <>\r\n                                                            {/* <ReactTooltip place=\"bottom\" /> */}\r\n                                                            <Button className=\"btn btn-icon-rounded btn-circle solid-blue\" role=\"button\"\r\n                                                                hidden={this.state.userRoleControlRights.indexOf(addComponentId) === -1}\r\n                                                                data-tip={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                              //  data-for=\"tooltip-list-wrap\"\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })}\r\n                                                                onClick={() => this.props.addComponent(SelectedSpecification, this.props.Login.userInfo, addComponentId,this.props.Login.masterData)}>\r\n                                                                <FontAwesomeIcon icon={faPlus}\r\n                                                                // title={this.props.intl.formatMessage({ id: \"IDS_ADD\" })} \r\n                                                                />\r\n                                                            </Button>\r\n\r\n                                                        </>\r\n                                                    }\r\n                                                    hidePaging={true}\r\n                                                />}\r\n                                        </PerfectScrollbar>\r\n                                    </div>\r\n                                </div>\r\n                                <>\r\n                                    {this.state.testView ?\r\n                                        <>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </>\r\n                                        :\r\n                                        <PerfectScrollbar>\r\n                                            {specDesign}\r\n                                            {this.state.showTest ?\r\n                                                <div>\r\n                                                    {mainDesign}\r\n                                                </div>\r\n                                                : \"\"}\r\n                                        </PerfectScrollbar>\r\n                                    }\r\n\r\n\r\n                                </>\r\n                            </SplitterLayout>\r\n                        </Col>\r\n                    </Row>\r\n                </ListWrapper>\r\n                {\r\n                    this.props.Login.openModal && this.props.Login.screenName &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openModal}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.props.Login.operation}\r\n                        inputParam={this.props.Login.inputParam}\r\n                        screenName={this.props.Login.screenName}\r\n                        esign={this.props.Login.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        onSaveClick={this.onSaveClick}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={\r\n                            this.props.Login.screenName === \"IDS_SPECFILE\" ? this.findMandatoryFields(this.props.Login.screenName, this.state.selectedRecord)\r\n                                : this.props.Login.screenName === \"IDS_SPECIFICATION\" ? specMandatoryFields\r\n                                    : this.props.Login.screenName === \"IDS_COMPONENT\" ? compMandatoryFields\r\n                                        : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ? editTestMandatoryFields\r\n                                            : this.props.Login.screenName === \"IDS_TEST\" ? addTestMandatoryFields\r\n                                                : this.props.Login.screenName === \"IDS_PROFILETREE\" || this.props.Login.screenName === \"IDS_EDITTREE\"\r\n                                                    ? this.props.Login.treeMandatoryFields : []}\r\n                        addComponent={this.props.Login.loadEsign ?\r\n                            <Esign\r\n                                operation={this.props.Login.operation}\r\n                                onInputOnChange={this.onEsignInputOnChange}\r\n                                inputParam={this.props.Login.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            /> :\r\n                            this.props.Login.screenName === \"IDS_SPECIFICATION\" ?\r\n                                <AddTestGroupSpecification\r\n                                    selectedRecord={this.state.selectedRecord || {}}\r\n                                    timeZoneList={this.props.Login.timeZoneList}\r\n                                    onInputOnChange={this.onInputOnChange}\r\n                                    handleDateChange={this.handleDateChange}\r\n                                    onComboChange={this.onComboChange}\r\n                                    screenName={this.props.Login.screenName}\r\n                                    operation={this.props.Login.operation}\r\n                                    userInfo={this.props.Login.userInfo}\r\n                                    nsampletypecode={this.props.Login.masterData.selectedNode.nsampletypecode}\r\n                                /> :\r\n                                this.props.Login.screenName === \"IDS_COMPONENT\" ?\r\n                                    <AddTestGroupTest\r\n                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                        screenName={this.props.Login.screenName}\r\n                                        onComboChange={this.onComboChange}\r\n                                        onFilterComboChange={this.onFilterComboChange}\r\n                                    /> :\r\n                                    this.props.Login.screenName === \"IDS_PROFILETREE\" ?\r\n                                        <AddProfileTree\r\n                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                            onInputOnChange={this.onInputOnChange}\r\n                                            treetempTranstestGroup={this.props.Login.TreetempTranstestGroup}\r\n                                        /> :\r\n                                        this.props.Login.screenName === \"IDS_SPECFILE\" ?\r\n                                            <AddFile\r\n                                                selectedRecord={this.state.selectedRecord || {}}\r\n                                                onInputOnChange={this.onInputOnChange}\r\n                                                actionType={this.state.actionType}\r\n                                                onDrop={this.onDropSpecFile}\r\n                                                deleteAttachment={this.deleteAttachment}\r\n                                                linkMaster={this.props.Login.linkMaster}\r\n                                                editFiles={this.props.Login.editFiles}\r\n                                                maxSize={20}\r\n                                                maxFiles={this.props.Login.operation === \"update\" ? 1 : 1}\r\n                                                multiple={this.props.Login.operation === \"update\" ? false : true}\r\n                                                label={this.props.intl.formatMessage({ id: \"IDS_SPECFILE\" })}\r\n                                                hideDefaultToggle={true}\r\n                                                name=\"specfilename\"\r\n                                            /> :\r\n                                            this.props.Login.screenName === \"IDS_EDITTREE\" ?\r\n                                                <Row>\r\n                                                    <Col md={12}>\r\n                                                        <FormInput\r\n                                                            name={\"sleveldescription\"}\r\n                                                            label={this.state.selectedRecord.slabelname}\r\n                                                            type=\"text\"\r\n                                                            onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                                            placeholder={this.state.selectedRecord.slabelname}\r\n                                                            value={this.state.selectedRecord ? this.state.selectedRecord[\"sleveldescription\"] : \"\"}\r\n                                                            isMandatory=\"*\"\r\n                                                            required={true}\r\n                                                            maxLength={100}\r\n                                                        />\r\n                                                    </Col>\r\n                                                </Row> :\r\n                                                this.props.Login.screenName === \"IDS_TEST\" ?\r\n                                                    <AddTestGroupTest\r\n                                                        selectedRecord={this.state.selectedRecord || {}}\r\n                                                        testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                        screenName={this.props.Login.screenName}\r\n                                                        onComboChange={this.onComboChange}\r\n                                                        onFilterComboChange={this.onFilterComboChange}\r\n                                                    /> : this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\" ?\r\n                                                        <EditTestGroupTest\r\n                                                            selectedRecord={this.state.selectedRecord || {}}\r\n                                                            testGroupInputData={this.props.Login.testGroupInputData}\r\n                                                            onComboChange={this.onComboChange}\r\n                                                            onInputOnChange={this.onInputOnChange}\r\n                                                            onNumericInputChange={this.onNumericInputChange}\r\n                                                        /> : \"\"\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n    ConfirmDelete = (obj) => {\r\n        this.confirmMessage.confirm(\"deleteMessage\", this.props.intl.formatMessage({ id: \"IDS_DELETE\" }), this.props.intl.formatMessage({ id: \"IDS_DEFAULTCONFIRMMSG\" }),\r\n            this.props.intl.formatMessage({ id: \"IDS_OK\" }), this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n            () => this.deleteRecord(obj));\r\n    }\r\n\r\n    handlePageChange = (event) => {\r\n        this.setState({\r\n            testskip: event.skip,\r\n            testtake: event.take\r\n        });\r\n    }\r\n\r\n    findMandatoryFields(screenName, selectedRecord) {\r\n        let mandyFields = [];\r\n        if (screenName === \"IDS_SPECFILE\") {\r\n            if (selectedRecord && selectedRecord.nattachmenttypecode === attachmentType.LINK) {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"slinkfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                    { \"idsName\": \"IDS_LINKNAME\", \"dataField\": \"nlinkcode\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_SELECT\", \"controlType\": \"selectbox\" }\r\n                ];\r\n            } else {\r\n                //if (this.props.Login.operation === 'update') {\r\n                mandyFields = [\r\n                    { \"idsName\": \"IDS_FILE\", \"dataField\": \"sfilename\", \"mandatory\": true, \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"file\" },\r\n                ];\r\n                // }\r\n            }\r\n        } else {\r\n            return [];\r\n        }\r\n        let finalMandyFields = [];\r\n        mandyFields.forEach(item => item.mandatory === true && finalMandyFields.push(item));\r\n        return finalMandyFields;\r\n    }\r\n\r\n    viewTestFile = (props) => {\r\n        const viewParam = {\r\n            operation: \"view\",\r\n            methodUrl: \"TestGroupTestFile\",\r\n            classUrl: \"testgroup\",\r\n            inputData: {\r\n                ntestgroupfilecode: props.selectedTest ? props.selectedTest.ntestgroupfilecode : 0,\r\n                userinfo: this.props.Login.userInfo,\r\n                testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                ntestgrouptestcode: props.selectedTest ? props.selectedTest.ntestgrouptestcode : 0\r\n            }\r\n        }\r\n        this.props.viewAttachment(viewParam)\r\n    }\r\n\r\n    fileViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode === transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    linkViewIcon = (master) => {\r\n        if (master.ntestgroupfilecode > 0 && master.nlinkcode !== transactionStatus.NA) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showSpecAndTestInfo() {\r\n        this.setState({ showTest: !this.state.showTest, testView: false })\r\n        this.updateSpiltterLayout()\r\n\r\n    }\r\n    showSpecAndTestInfo1() {\r\n        this.setState({ showTest: !this.state.showTest, testView: true })\r\n        //this.updateSpiltterLayout()\r\n\r\n    }\r\n\r\n    onFilterSumbit = () => {\r\n        const tempFilterData = this.state.tempFilterData;\r\n        if (tempFilterData.nsampletypecode === undefined) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SAMPLETYPENOTAVAILABLE\" }));\r\n        } else if (tempFilterData.nproductcatcode === \"\") {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTCATEGORYNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALCATEGORYNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_CATEGORYNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // else if(tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO){\r\n        else if ((tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === \"\") ||\r\n            (tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.NO && tempFilterData.nproductcode === undefined)) {\r\n            if (tempFilterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_INSTRUMENTNOTAVAILABLE\" }));\r\n            } else if (tempFilterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY) {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_MATERIALNOTAVAILABLE\" }));\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_PRODUCTNOTAVAILABLE\" }));\r\n            }\r\n        }\r\n        // }\r\n        else if (tempFilterData.ntreeversiontempcode === \"\") {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_STUDYPLANTEMPLATEISNOTAVAILABLE\" }));\r\n        } else {\r\n            const inputParam = {\r\n                inputData: {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    nsampletypecode: tempFilterData.nsampletypecode.value,\r\n                    nproductcatcode: tempFilterData.nproductcatcode.value,\r\n                    nproductcode: tempFilterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES ? -1 : tempFilterData.nproductcode ? tempFilterData.nproductcode.value : -1,\r\n                    ntreeversiontempcode: tempFilterData.ntreeversiontempcode.value,\r\n                    filterData: { ...tempFilterData },\r\n                },\r\n                historyDataState: this.state.historyDataState\r\n            }\r\n            this.props.filterTestGroup(inputParam, this.props.Login.masterData, this.searchRef);\r\n        }\r\n    }\r\n\r\n    onTreeClick = (event) => {\r\n        const inputParam = {\r\n            methodUrl: \"TestGroupSpecification\",\r\n            screenName: \"IDS_SPECIFICATION\",\r\n            operation: \"get\",\r\n            keyName: \"treetemplatemanipulation\",\r\n            userinfo: this.props.Login.userInfo,\r\n            selectedRecord: event.item,\r\n            activeKey: event.key,\r\n            focusKey: event.key,\r\n            primaryKey: event.primaryKey,\r\n            historyDataState: this.state.historyDataState\r\n        };\r\n        this.props.getSpecification(inputParam, this.props.Login.masterData, this.searchRef);\r\n    }\r\n\r\n    tabDetail = () => {\r\n        const tabMap = new Map();\r\n        tabMap.set(\"IDS_FILE\",\r\n            <TestGroupSpecFile\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                deleteRecord={this.deleteRecord}\r\n                testGroupSpecFile={this.props.Login.masterData.TestGroupSpecFile || []}\r\n                selectedSpecification={this.props.Login.masterData.SelectedSpecification}\r\n                addTestFile={this.addFile}\r\n                editSpecFile={this.props.editSpecFile}\r\n                filterData={this.state.filterData}\r\n                viewTestFile={this.viewTestFile}\r\n                defaultRecord={this.defaultRecord}\r\n                screenName=\"IDS_FILE\"\r\n                viewAttachment={this.props.viewAttachment}\r\n                settings={this.props.Login.settings}\r\n                masterData={this.props.Login.masterData}\r\n            />);\r\n        tabMap.set(\"IDS_SPECIFICATIONHISTORY\",\r\n            <SpecificationHistory\r\n                data={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                dataResult={process(this.props.Login.masterData.TestGroupSpecificationHistory || [], this.state.historyDataState)}\r\n                dataState={this.state.historyDataState}\r\n                dataStateChange={this.historyDataStateChange}\r\n\r\n                // testGroupSpecificationHistory={this.props.Login.masterData.TestGroupSpecificationHistory}\r\n                // dataState={this.props.Login.screenName === \"IDS_SPECIFICATIONHISTORY\" ? this.state.historyDataState : { skip: 0, take: 10 }}\r\n                controlMap={this.state.controlMap}\r\n                userRoleControlRights={this.state.userRoleControlRights}\r\n                userInfo={this.props.Login.userInfo}\r\n                inputParam={this.props.Login.inputParam}\r\n                screenName=\"IDS_SPECIFICATIONHISTORY\"\r\n            />);\r\n        return tabMap;\r\n    }\r\n\r\n    historyDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupSpecificationHistory || [], event.dataState),\r\n            historyDataState: event.dataState\r\n        });\r\n    }\r\n\r\n    specDataStateChange = (event) => {\r\n        this.setState({\r\n            dataResult: process(this.props.Login.masterData.TestGroupTestClinicalSpec || [], event.dataState),\r\n            clinicalspecDataState: event.dataState\r\n        });\r\n    }\r\n    addFile = (userInfo, operation, ncontrolCode, screenName, modalName, nflag) => {\r\n        // const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n        // if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n        //     || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n        //     this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName, nflag);\r\n        // } else {\r\n        //     toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n        // }\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n          \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n             toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.props.addTestFile(userInfo, operation, ncontrolCode, screenName, modalName);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (tabProps) => {\r\n        const screenName = tabProps.screenName;\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { screenName }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    componentRowClick = (event) => {\r\n        let masterData = this.props.Login.masterData;\r\n        masterData[\"SelectedComponent\"] = event.testgroupspecsampletype[0];\r\n        const inputParam = {\r\n            testgroupspecsampletype: event.testgroupspecsampletype[0],\r\n            userInfo: this.props.Login.userInfo\r\n        };\r\n        this.props.getTestGroupComponentDetails(inputParam, masterData, this.searchRef);\r\n    }\r\n\r\n    deleteTest = (deleteParam) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n      \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n            toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            const testgroupspecification = masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                    || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const testgrouptest = deleteParam.props.testgrouptest;\r\n                const inputParam = {\r\n                                inputData: {\r\n                                    testgrouptest,\r\n                                    userinfo: this.props.Login.userInfo,\r\n                                    testgroupspecification,\r\n                                    ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                                },\r\n                                classUrl: \"testgroup\",\r\n                                operation: \"delete\",\r\n                                methodUrl: \"Test\",\r\n                                screenName: \"IDS_TEST\",\r\n                                postParam: {\r\n                                    inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                                    primaryKeyValue: testgrouptest.ntestgrouptestcode,\r\n                                    fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                                    masterData, searchFieldList, unchangeList: [\"TestGroupSpecification\", \"SelectedSpecification\",\r\n                                        \"SampleType\", \"TreeVersionTemplate\", \"ProductCategory\", \"SelectedTest\", \"Product\",\r\n                                        \"AgaramTree\", \"OpenNodes\", \"selectedNode\", \"FocusKey\", \"ActiveKey\", \"SelectedComponent\", \"TestGroupSpecSampleType\"]//, isSingleSelect: true\r\n                                }\r\n                            }\r\n                        \r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: \"IDS_TEST\", operation: \"delete\", selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n                    }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.props.Login.loadEsign;\r\n        let openModal = this.props.Login.openModal;\r\n        let selectedRecord = this.props.Login.selectedRecord;\r\n        if (loadEsign) {\r\n            if (this.props.Login.operation === \"delete\" || this.props.Login.operation === \"Default\"\r\n                || this.props.Login.operation === 'approve' || this.props.Login.operation === 'complete') {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n            } else {\r\n                loadEsign = false;\r\n                selectedRecord[\"agree\"] = 4;\r\n                selectedRecord['esignpassword'] = \"\"\r\n                selectedRecord['esigncomments'] = \"\"\r\n                selectedRecord['esignreason']=\"\"\r\n                \r\n            }\r\n        } else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openModal, loadEsign, selectedRecord }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n\r\n    onInputOnChange = (event, caseNo, optional) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (event.target.type === 'checkbox') {\r\n                    selectedRecord[event.target.name] = event.target.checked === true ? optional[0] : optional[1];\r\n                } else if (event.target.type === 'radio') {\r\n                    selectedRecord[event.target.name] = optional;\r\n                    // selectedRecord[\"sfilename\"] = \"\";\r\n                } else {\r\n                    selectedRecord[event.target.name] = event.target.value;\r\n                }\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[event.target.name] = event.target.value;\r\n\r\n                const indexKey = Object.keys(optional)[0];\r\n                const value = Object.values(optional)[0];\r\n                const treeData = {\r\n                    ntreeversiontempcode: value.ntreeversiontempcode,\r\n                    npositioncode: value.nlevelno - 1,\r\n                    sleveldescription: event.target.value,\r\n                    ntemptranstestgroupcode: value.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: value.schildnode !== null ? value.schildnode : -1,\r\n                    ntemplatemanipulationcode: value.ntemplatemanipulationcode,\r\n                    isreadonly: value.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: value.slevelformat\r\n                }\r\n                let treetemplatemanipulation = selectedRecord.treetemplatemanipulation || [];\r\n                treetemplatemanipulation[indexKey] = treeData;\r\n                selectedRecord[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onEsignInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        if (event.target.type === 'checkbox') {\r\n            selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n        } else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onFilterComboChange = (comboData, fieldName, caseNo) => {\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        let inputParam = {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProductCategory\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 2:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getProduct\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 3:\r\n                tempFilterData[fieldName] = comboData;\r\n                inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        sampletype: tempFilterData.nsampletypecode.item,\r\n                        productcategory: tempFilterData.nproductcatcode.item,\r\n                        product: comboData.item,\r\n                        tempFilterData\r\n                    },\r\n                    methodUrl: \"/getTreeVersionTemplate\"\r\n                }\r\n                this.props.sampleTypeOnChange(inputParam, this.props.Login.masterData);\r\n                break;\r\n\r\n            case 4:\r\n                tempFilterData[fieldName] = comboData;\r\n                this.setState({ tempFilterData });\r\n                break;\r\n\r\n            case 5:\r\n                const selectedRecord = this.state.selectedRecord;\r\n                selectedRecord[fieldName] = comboData;\r\n                const TestGroupSpecSampleType = this.props.Login.testGroupInputData.TestGroupSpecSampleType || {};\r\n                let testGroupSpecSampleType = {};\r\n                if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n                    testGroupSpecSampleType = selectedRecord[\"ncomponentcode\"] ? selectedRecord[\"ncomponentcode\"].item : TestGroupSpecSampleType[0].item;\r\n                } else {\r\n                    testGroupSpecSampleType = this.props.Login.masterData.SelectedComponent;\r\n                }\r\n                inputParam = {\r\n                    userinfo: this.props.Login.userInfo,\r\n                    testcategory: comboData.item,\r\n                    testgroupspecsampletype: testGroupSpecSampleType,\r\n                    nallottedspeccode: this.props.Login.masterData.SelectedSpecification[\"nallottedspeccode\"],\r\n                    selectedRecord\r\n                }\r\n                this.props.changeTestCategory(inputParam, this.props.Login.testGroupInputData);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleDateChange = (dateName, dateValue) => {\r\n        const { selectedRecord } = this.state;\r\n        if (dateValue === null) {\r\n            dateValue = new Date();\r\n        }\r\n        selectedRecord[dateName] = dateValue;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onNumericInputChange = (value, name) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[name] = value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        let inputParam = {};\r\n        if (this.props.Login.screenName === \"IDS_PROFILETREE\"\r\n            || this.props.Login.screenName === \"IDS_EDITTREE\") {\r\n            inputParam = this.onSaveTree(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECIFICATION\") {\r\n            inputParam = this.onSaveSpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COMPONENT\") {\r\n            inputParam = this.onSaveComponent(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_COPYSPECIFICATION\") {\r\n            inputParam = this.onSaveCopySpecification(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_TEST\"\r\n            || this.props.Login.screenName === \"IDS_EDITTESTGROUPTEST\") {\r\n            inputParam = this.onSaveTest(saveType, formRef);\r\n        } else if (this.props.Login.screenName === \"IDS_SPECFILE\") {\r\n            inputParam = this.onSaveSpecFile(saveType, formRef);\r\n        }\r\n        if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, openModal: true, operation: this.props.Login.operation,\r\n                    screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                    saveType\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onSaveTest = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {};\r\n        const userinfo = this.props.Login.userInfo;\r\n        let postParam = undefined;\r\n        if (operation === \"create\") {\r\n            const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgroupspecsampletype: [masterData.SelectedComponent],\r\n                testgrouptest: testArray, userinfo\r\n            }\r\n        } else {\r\n            postParam = {\r\n                inputListName: \"TestGroupTest\", selectedObject: \"SelectedTest\", primaryKeyField: \"ntestgrouptestcode\",\r\n                primaryKeyValue: masterData.SelectedTest ? masterData.SelectedTest.ntestgrouptestcode : 0,\r\n                fetchUrl: \"testgroup/getTestGroupTest\", fecthInputObject: { userinfo: this.props.Login.userInfo },\r\n                masterData: this.props.Login.masterData, searchFieldList, changeList: [\"TestGroupTestFormula\", \"TestGroupTestNumericParameter\",\r\n                    \"TestGroupTestPredefinedParameter\", \"TestGroupTestCharParameter\", \"TestGroupTestParameter\"], isSingleSelect: true\r\n            }\r\n            let testgrouptestfile = null;\r\n            let testGroupFile = selectedRecord.ntestfilecode;\r\n            if (testGroupFile) {\r\n                testGroupFile = testGroupFile.item;\r\n                testgrouptestfile = {\r\n                    nlinkcode: testGroupFile.nlinkcode,\r\n                    nattachmenttypecode: testGroupFile.nattachmenttypecode,\r\n                    sdescription: testGroupFile.sdescription,\r\n                    ssystemfilename: testGroupFile.ssystemfilename,\r\n                    dcreateddate: testGroupFile.dcreateddate,\r\n                    nfilesize: testGroupFile.nfilesize,\r\n                    ntestgroupfilecode: selectedRecord.ntestgroupfilecode,\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    sfilename: testGroupFile.sfilename,\r\n                    nstatus: transactionStatus.ACTIVE\r\n                };\r\n            }\r\n            inputData = {\r\n                testgroupspecification: masterData.SelectedSpecification,\r\n                testgrouptest: {\r\n                    ntestgrouptestcode: selectedRecord.ntestgrouptestcode,\r\n                    nsectioncode: selectedRecord.nsectioncode.value,\r\n                    //nsourcecode: selectedRecord.nsourcecode.value,\r\n                    nmethodcode: selectedRecord.nmethodcode ? selectedRecord.nmethodcode.value : transactionStatus.NA,\r\n                    ninstrumentcatcode: selectedRecord.ninstrumentcatcode ? selectedRecord.ninstrumentcatcode.value : transactionStatus.NA,\r\n                    ncontainertypecode: selectedRecord.ncontainertypecode ? selectedRecord.ncontainertypecode.value : transactionStatus.NA,\r\n                    stestsynonym: selectedRecord.stestsynonym,\r\n                    ncost: selectedRecord.ncost,\r\n                    nsorter: selectedRecord.nsorter,\r\n                    nspecsampletypecode: selectedRecord.nspecsampletypecode,\r\n                    nrepeatcountno: selectedRecord.nrepeatcountno\r\n\r\n                },\r\n                testgrouptestfile, userinfo\r\n            }\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Test\",\r\n            saveType, formRef, searchRef: this.searchRef,\r\n            postParam\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveTree = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        let inputData = {\r\n            userinfo: this.props.Login.userInfo\r\n        };\r\n        if (operation === \"update\") {\r\n            const selectedNode = this.props.Login.masterData.selectedNode;\r\n            inputData[\"treetemplatemanipulation\"] = {\r\n                ntemplatemanipulationcode: selectedRecord.ntemplatemanipulationcode,\r\n                sleveldescription: selectedRecord.sleveldescription,\r\n                nsampletypecode: selectedNode.nsampletypecode,\r\n                ntreeversiontempcode: selectedNode.ntreeversiontempcode,\r\n                nproductcatcode: selectedNode.nproductcatcode,\r\n                nproductcode: selectedNode.nproductcode,\r\n            }\r\n            inputData[\"selectednode\"] = this.props.Login.masterData.ActiveKey;\r\n        } else {\r\n            const TreetempTranstestGroup = this.props.Login.TreetempTranstestGroup;\r\n            const filterData = this.state.filterData;\r\n            const selectedRecord = this.state.selectedRecord;\r\n            let treetemplatemanipulation = [];\r\n            let tempArray = filterRecordBasedOnTwoArrays(TreetempTranstestGroup, selectedRecord.treetemplatemanipulation, \"ntemptranstestgroupcode\");\r\n\r\n            tempArray.map(item => {\r\n                const treeData = {\r\n                    ntreeversiontempcode: item.ntreeversiontempcode,\r\n                    npositioncode: item.nlevelno - 1,\r\n                    sleveldescription: item.sleveldescription,\r\n                    ntemptranstestgroupcode: item.ntemptranstestgroupcode,\r\n                    nformcode: 62,\r\n                    schildnode: \"\",\r\n                    nnextchildcode: item.schildnode,\r\n                    ntemplatemanipulationcode: item.ntemplatemanipulationcode,\r\n                    isreadonly: item.ntemplatemanipulationcode > 0 ? true : false,\r\n                    slevelformat: item.slevelformat\r\n                }\r\n                return treetemplatemanipulation.push(treeData);\r\n            });\r\n\r\n\r\n            selectedRecord.treetemplatemanipulation.map(item => {\r\n                const treeTemplateManip = TreetempTranstestGroup.filter(temp => temp.ntemptranstestgroupcode === item.ntemptranstestgroupcode);\r\n                if (treeTemplateManip.length > 0) {\r\n                    item[\"ntemplatemanipulationcode\"] = treeTemplateManip[\"ntemplatemanipulationcode\"];\r\n                } else {\r\n                    item[\"ntemplatemanipulationcode\"] = 0;\r\n                }\r\n                return treetemplatemanipulation.push(item);\r\n            });\r\n\r\n            inputData[\"treetemplatemanipulation\"] = treetemplatemanipulation;\r\n            inputData[\"sampletype\"] = filterData.nsampletypecode.item;\r\n            inputData[\"ncategorycode\"] = filterData.nproductcatcode.value;\r\n            inputData[\"nproductcode\"] = filterData.nproductcatcode.item.ncategorybasedflow == transactionStatus.YES ? -1 :\r\n                filterData.nproductcode.value ? filterData.nproductcode.value : -1;\r\n            inputData[\"ntreeversiontempcode\"] = filterData.ntreeversiontempcode.value;\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Tree\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecification = (saveType, formRef) => {\r\n        const operation = this.props.Login.operation;\r\n        const selectedRecord = this.state.selectedRecord;\r\n\r\n        let testGroupSpec = {\r\n            napproveconfversioncode: -1,\r\n            sversion: '',\r\n            napprovalstatus: transactionStatus.DRAFT,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            ntransactionstatus: selectedRecord[\"ntransactionstatus\"],\r\n            ncomponentrequired: selectedRecord[\"ncomponentrequired\"],\r\n         //   nclinicalspec: selectedRecord[\"nclinicalspec\"],\r\n            nprojectcode: selectedRecord[\"nprojectcode\"] ? selectedRecord[\"nprojectcode\"] : -1,\r\n            sspecname: selectedRecord[\"sspecname\"],\r\n            dexpirydate: selectedRecord[\"dexpirydate\"],\r\n            nallottedspeccode: selectedRecord[\"nallottedspeccode\"] ? selectedRecord[\"nallottedspeccode\"] : 0,\r\n            ntzexpirydate: selectedRecord[\"ntzexpirydate\"].value,\r\n            stzexpirydate: selectedRecord[\"ntzexpirydate\"].label\r\n        };\r\n\r\n        const dexpirydate = testGroupSpec[\"dexpirydate\"];\r\n        //need this conversion when the datatype of the field is 'Instant'\r\n        testGroupSpec[\"dexpirydate\"] = formatInputDate(dexpirydate, false);\r\n\r\n        if (operation === \"create\") {\r\n            testGroupSpec[\"ntemplatemanipulationcode\"] = this.props.Login.masterData.selectedNode.ntemplatemanipulationcode\r\n        }\r\n        let ntreeversiontempcode = this.state.filterData.ntreeversiontempcode.value;\r\n\r\n        const inputData = {\r\n            userinfo: this.props.Login.userInfo,\r\n            testgroupspecification: testGroupSpec,\r\n            treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n            selectedspecification: this.props.Login.masterData.SelectedSpecification,\r\n            ntreeversiontempcode: ntreeversiontempcode\r\n        }\r\n\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: operation,\r\n            methodUrl: \"Specification\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveComponent = (saveType, formRef) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const testArray = selectedRecord.ntestcode.map(test => { return test.item });\r\n        const inputData = {\r\n            testgroupspecification: masterData.SelectedSpecification,\r\n            testgroupspecsampletype: [selectedRecord.ncomponentcode.item],\r\n            testgrouptest: testArray,\r\n            userinfo: this.props.Login.userInfo\r\n        }\r\n        const inputParam = {\r\n            inputData,\r\n            classUrl: \"testgroup\",\r\n            operation: this.props.Login.operation,\r\n            methodUrl: \"Component\",\r\n            saveType, formRef\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    onSaveSpecFile = (saveType, formRef) => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const acceptedFiles = selectedRecord.sfilename;\r\n        const nattachmenttypecode = selectedRecord.nattachmenttypecode;\r\n        let isFileEdited = transactionStatus.NO;\r\n        let specFileArray = [];\r\n        const selectedSpecification = this.props.Login.masterData.SelectedSpecification;\r\n        let specFile = {\r\n            nallottedspeccode: selectedSpecification.nallottedspeccode,\r\n            nspecfilecode: selectedRecord.nspecfilecode ? selectedRecord.nspecfilecode : 0,\r\n            nstatus: transactionStatus.ACTIVE,\r\n            nattachmenttypecode\r\n        };\r\n        const formData = new FormData();\r\n        if (nattachmenttypecode === attachmentType.FTP) {\r\n            if (acceptedFiles && Array.isArray(acceptedFiles) && acceptedFiles.length > 0) {\r\n                acceptedFiles.forEach((file, index) => {\r\n                    const tempData = Object.assign({}, specFile);\r\n                    const splittedFileName = file.name.split('.');\r\n                    const fileExtension = file.name.split('.')[splittedFileName.length - 1];\r\n                    const uniquefilename = nattachmenttypecode === attachmentType.FTP ? create_UUID() + '.' + fileExtension : \"\";\r\n                    tempData[\"sfilename\"] = file.name;\r\n                    tempData[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                    tempData[\"nlinkcode\"] = transactionStatus.NA;\r\n                    tempData[\"ssystemfilename\"] = uniquefilename;\r\n                    tempData[\"nfilesize\"] = file.size;\r\n                    formData.append(\"uploadedFile\" + index, file);\r\n                    formData.append(\"uniquefilename\" + index, uniquefilename);\r\n                    specFileArray.push(tempData);\r\n                });\r\n                formData.append(\"filecount\", acceptedFiles.length);\r\n                isFileEdited = transactionStatus.YES;\r\n            } else {\r\n                specFile[\"sfilename\"] = selectedRecord.sfilename;\r\n                specFile[\"sdescription\"] = selectedRecord.sdescription ? selectedRecord.sdescription.trim() : \"\";\r\n                specFile[\"nlinkcode\"] = transactionStatus.NA;\r\n                specFile[\"ssystemfilename\"] = selectedRecord.ssystemfilename;\r\n                specFile[\"nfilesize\"] = selectedRecord.nfilesize;\r\n                specFileArray.push(specFile);\r\n            }\r\n        } else {\r\n            specFile[\"sfilename\"] = selectedRecord.slinkfilename.trim();\r\n            specFile[\"sdescription\"] = selectedRecord.slinkdescription ? selectedRecord.slinkdescription.trim() : \"\";\r\n            specFile[\"nlinkcode\"] = selectedRecord.nlinkcode.value ? selectedRecord.nlinkcode.value : -1;\r\n            specFile[\"ssystemfilename\"] = \"\";\r\n            specFile[\"nfilesize\"] = 0;\r\n            specFileArray.push(specFile);\r\n        }\r\n        formData.append(\"isFileEdited\", isFileEdited);\r\n        formData.append(\"testgroupspecification\", JSON.stringify(selectedSpecification));\r\n        formData.append(\"testgroupspecfile\", JSON.stringify(specFileArray));\r\n        const inputParam = {\r\n            inputData: { userinfo: this.props.Login.userInfo },\r\n            formData: formData,\r\n            isFileupload: true,\r\n            operation: this.props.Login.operation,\r\n            classUrl: \"testgroup\",\r\n            saveType, formRef, methodUrl: \"SpecificationFile\"\r\n        }\r\n        return inputParam;\r\n    }\r\n\r\n    deleteSpecRecord = (deleteParam) => {\r\n        const selectedRecord = deleteParam.selectedRecord;\r\n\r\n        const masterData = this.props.Login.masterData;\r\n        const ntreeversiontempcode = masterData[\"TreeTemplateManipulation\"][0].ntreeversiontempcode;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === ntreeversiontempcode);\r\n        \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n                toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            if (selectedRecord.napprovalstatus === transactionStatus.DRAFT\r\n                || selectedRecord.napprovalstatus === transactionStatus.CORRECTION) {\r\n                this.deleteRecord(deleteParam);\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        if(this.props.Login.masterData.selectedNode !==undefined && this.props.Login.masterData.selectedNode !==null)\r\n        {\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n                x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n          \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n             toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            if (this.props.Login.masterData.selectedNode) {\r\n                const methodUrl = deleteParam.methodUrl;\r\n                let dataState = this.state.componentDataState;\r\n                const screenName = deleteParam.screenName;\r\n                const inputParam = {\r\n                    inputData: {\r\n                        [deleteParam.keyName]: deleteParam.selectedRecord,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        testgroupspecification: this.props.Login.masterData.SelectedSpecification,\r\n                        treetemplatemanipulation: this.props.Login.masterData.selectedNode,\r\n                        ntreeversiontempcode: deleteParam.filterData.ntreeversiontempcode.value\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: deleteParam.operation,\r\n                    methodUrl: methodUrl,\r\n                    screenName, dataState\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                //if (showEsign(this.state.controlMap, this.props.Login.userInfo.nformcode, this.props.Login.ncontrolCode)) {\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: screenName, operation: deleteParam.operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTPROFILENODE\" }));\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    deleteMultipleRecord = (deleteParam) => {\r\n        //console.log(\"delete component:\", deleteParam, this.props.Login.masterData);\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n      \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n            toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            const testgroupspecification = this.props.Login.masterData.SelectedSpecification;\r\n            if (testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                const inputParam = {\r\n                    inputData: {\r\n                        testgroupspecsampletype: deleteParam.props.testgroupspecsampletype,\r\n                        userinfo: this.props.Login.userInfo,\r\n                        testgroupspecification,\r\n                        treetemplatemanipulation: this.props.Login.masterData.selectedNode\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: \"delete\",\r\n                    methodUrl: \"TestGroupComponent\",\r\n                    screenName: \"IDS_COMPONENT\"\r\n                }\r\n                const masterData = this.props.Login.masterData;\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, deleteParam.ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData },\r\n                            openModal: true, screenName: \"IDS_COMPONENT\", operation: \"delete\", selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        }\r\n    }\r\n\r\n    onDropSpecFile = (attachedFiles, fieldName, maxSize) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = onDropAttachFileList(selectedRecord[fieldName], attachedFiles, maxSize)\r\n        this.setState({ selectedRecord, actionType: \"new\" });\r\n    }\r\n\r\n    deleteAttachment = (event, file, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = deleteAttachmentDropZone(selectedRecord[fieldName], file)\r\n\r\n        this.setState({\r\n            selectedRecord, actionType: \"delete\" //fileToDelete:file.name \r\n        });\r\n    }\r\n\r\n    validateTestGroupComplete = (operation, inputValue, ncontrolCode) => {\r\n      if(this.props.Login.masterData.selectedNode!==undefined && this.props.Login.masterData.selectedNode!==null)\r\n      {\r\n        const masterData = this.props.Login.masterData;\r\n        const treeVersionTemplateIndex = masterData[\"TreeVersionTemplate\"].findIndex(\r\n            x => x[\"ntreeversiontempcode\"] === masterData.selectedNode[\"ntreeversiontempcode\"]);\r\n      \r\n        const templateVersionStatus = masterData[\"TreeVersionTemplate\"][treeVersionTemplateIndex].ntransactionstatus\r\n        if (templateVersionStatus === transactionStatus.RETIRED){\r\n            toast.warn(this.props.intl.formatMessage({id: \"IDS_SELECTEDTEMPLATEISRETIRED\"}));\r\n        }\r\n        else\r\n        {\r\n            if (inputValue.testgroupspecification) {\r\n                if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                    || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n                    return rsapi.post(\"testgroup/validateTestGroupComplete\", {\r\n                        nallottedspeccode: inputValue.testgroupspecification.nallottedspeccode,\r\n                        \"userinfo\": this.props.Login.userInfo\r\n                    })\r\n                        .then(response => {\r\n                            if (response.data && response.data.length > 0) {\r\n                                const inactiveTestArray = [];\r\n                                response.data.map(item => inactiveTestArray.indexOf(item.stestname) === -1 ? inactiveTestArray.push(item.stestname) : \"\");\r\n                                const data = \" [\" + inactiveTestArray + \"] \" + this.props.intl.formatMessage({ id: \"IDS_INACTIVETESTSATCOMPLETE\" })\r\n                                this.confirmMessage.confirm(this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_CONFIRMATION\" }),\r\n                                    data,\r\n                                    this.props.intl.formatMessage({ id: \"IDS_OK\" }),\r\n                                    this.props.intl.formatMessage({ id: \"IDS_CANCEL\" }),\r\n                                    () => this.completeSpecification(operation, inputValue, ncontrolCode),\r\n                                    false,\r\n                                    undefined);\r\n                            }\r\n                            else {\r\n                                this.completeSpecification(operation, inputValue, ncontrolCode);\r\n                            }\r\n\r\n                        })\r\n                        .catch(error => {\r\n                            if (error.response.status === 500) {\r\n                                toast.error(this.props.intl.formatMessage({ id: error.message }));\r\n                            }\r\n                            else {\r\n                                toast.warn(this.props.intl.formatMessage({ id: error.response }));\r\n                            }\r\n                        })\r\n                }\r\n                else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n                }\r\n            }\r\n            else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n    retireSpec = (operation, selectedSpecification, approvalRoleActionDetail, retireSpecId) => {\r\n        if (selectedSpecification.testgroupspecification.napprovalstatus !== transactionStatus.RETIRED) {\r\n            if (approvalRoleActionDetail.length > 0 && approvalRoleActionDetail[0].nlevelno === transactionStatus.ACTIVE) {\r\n                if (selectedSpecification.testgroupspecification[\"napprovalstatus\"] === approvalRoleActionDetail[0].ntransactionstatus) {\r\n                    const inputParam = {\r\n                        inputData: {\r\n                            nallottedspeccode: selectedSpecification.testgroupspecification,\r\n                            treetemplatemanipulation: selectedSpecification.treetemplatemanipulation,\r\n                            approvalRoleActionDetail: approvalRoleActionDetail[0],\r\n                            userinfo: this.props.Login.userInfo,\r\n                            operation: operation\r\n                        },\r\n                        classUrl: \"testgroup\",\r\n                        operation: operation,\r\n                        methodUrl: \"Spec\",\r\n                        screenName: \"IDS_STUDYPLAN\"\r\n                    }\r\n\r\n\r\n                    let masterData = this.props.Login.masterData\r\n                    if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, retireSpecId)) {\r\n                        const updateInfo = {\r\n                            typeName: DEFAULT_RETURN,\r\n                            data: {\r\n                                loadEsign: true, screenData: { inputParam, masterData },\r\n                                openModal: true, screenName: \"IDS_STUDYPLAN\", operation: operation, selectedRecord: {}\r\n                            }\r\n                        }\r\n                        this.props.updateStore(updateInfo);\r\n                    } else {\r\n                        this.props.retireSpecification(inputParam.inputData, masterData);\r\n                    }\r\n                } else {\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_RETIRECANBECONEAFTERFINAL\" }));\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_FINALLEVELAPPROVE\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_ALREADYRETIRED\" }));\r\n        }\r\n\r\n    }\r\n\r\n    specificationReport = (operation, ncontrolCode) => {\r\n        if (this.props.Login.masterData.SelectedComponent && this.props.Login.masterData.SelectedTest) {\r\n            const inputParam = {\r\n                inputData: {\r\n                    sprimarykeyname: 'nallottedspeccode',\r\n                    userinfo: this.props.Login.userInfo,\r\n                    ncontrolcode: ncontrolCode,\r\n                    nregtypecode: transactionStatus.NA,\r\n                    nregsubtypecode: transactionStatus.NA,\r\n                    nreportmodulecode: transactionStatus.NA,\r\n                    nreporttypecode: REPORTTYPE.CONTROLBASED,\r\n                    nreportdecisiontypecode: transactionStatus.NA,\r\n                    certificatetypecode: transactionStatus.NA,\r\n                    nsectioncode: transactionStatus.NA,\r\n                    operation: operation,\r\n                    nallottedspeccode: this.props.Login.masterData['SelectedSpecification']['nallottedspeccode'],\r\n                    selectedComponent: this.props.Login.masterData[\"SelectedComponent\"],\r\n                    selectedTest: this.props.Login.masterData[\"SelectedTest\"],\r\n                    filterData: this.state.filterData\r\n\r\n                },\r\n            }\r\n            this.props.reportSpecification(inputParam['inputData']);\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTCANNOTGENERATEFORCOMPWITHOUTTEST\" }));\r\n        }\r\n    }\r\n\r\n    completeSpecification = (operation, inputValue, ncontrolCode) => {\r\n        if (inputValue.testgroupspecification) {\r\n            if (inputValue.testgroupspecification.napprovalstatus === transactionStatus.DRAFT\r\n                || inputValue.testgroupspecification.napprovalstatus === transactionStatus.CORRECTION) {\r\n\r\n                const inputParam = {\r\n                    inputData: {\r\n                        userinfo: this.props.Login.userInfo,\r\n                        ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                        testGroupTest: this.props.Login.masterData.TestGroupTest,\r\n                        ...inputValue\r\n                    },\r\n                    classUrl: \"testgroup\",\r\n                    operation: operation,\r\n                    methodUrl: \"Specification\",\r\n                    screenName: \"IDS_SPECIFICATION\"\r\n                }\r\n                if (showEsign(this.props.Login.userRoleControlRights, this.props.Login.userInfo.nformcode, ncontrolCode)) {\r\n                    const updateInfo = {\r\n                        typeName: DEFAULT_RETURN,\r\n                        data: {\r\n                            loadEsign: true, screenData: { inputParam, masterData: this.props.Login.masterData },\r\n                            openModal: true, screenName: \"IDS_SPECIFICATION\", operation: operation, selectedRecord: {}\r\n                        }\r\n                    }\r\n                    this.props.updateStore(updateInfo);\r\n                } else {\r\n                    this.props.crudMaster(inputParam, this.props.Login.masterData, \"openModal\", {});\r\n                }\r\n            } else {\r\n                toast.warn(this.props.intl.formatMessage({ id: \"IDS_SPECIFICATIONSTATUSMUSTBEDRAFTCORRECTION\" }));\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_SELECTSPECIFICATION\" }));\r\n        }\r\n    }\r\n\r\n    approveSpecification = (status, needEsign) => {\r\n        const masterData = this.props.Login.masterData;\r\n        const inputParam = {\r\n            inputData: {\r\n                userinfo: this.props.Login.userInfo,\r\n                treetemplatemanipulation: masterData.selectedNode,\r\n                ntreeversiontempcode: this.state.filterData.ntreeversiontempcode.value,\r\n                testgroupspecification: {\r\n                    ...masterData.SelectedSpecification,\r\n                    napprovalstatus: status\r\n                }\r\n            },\r\n            classUrl: \"testgroup\",\r\n            operation: \"approve\",\r\n            methodUrl: \"Specification\",\r\n            screenName: \"IDS_SPECIFICATION\"\r\n        }\r\n        if (needEsign === transactionStatus.YES) {\r\n            const updateInfo = {\r\n                typeName: DEFAULT_RETURN,\r\n                data: {\r\n                    loadEsign: true, screenData: { inputParam, masterData },\r\n                    openModal: true, screenName: \"IDS_SPECIFICATION\", operation: \"approve\", selectedRecord: {}\r\n                }\r\n            }\r\n            this.props.updateStore(updateInfo);\r\n        } else {\r\n            this.props.crudMaster(inputParam, masterData, \"openModal\", {});\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName, caseNo, optional) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        switch (caseNo) {\r\n            case 1:\r\n                if (fieldName === \"ntestcode\") {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                } else {\r\n                    selectedRecord[fieldName] = comboData;\r\n                    this.setState({ selectedRecord });\r\n                }\r\n                break;\r\n\r\n            case 2:\r\n                selectedRecord[\"parameterTypeCode\"] = comboData.value;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            case 3:\r\n                selectedRecord[\"schecklistversionname\"] = comboData.item.schecklistversionname;\r\n                selectedRecord[fieldName] = comboData;\r\n                this.setState({ selectedRecord });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    validateEsign = () => {\r\n        const inputParam = {\r\n            inputData: {\r\n                \"userinfo\": {\r\n                    ...this.props.Login.userInfo,\r\n                    sreason: this.state.selectedRecord[\"esigncomments\"],\r\n                    nreasoncode:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].value,\r\n                    spredefinedreason:this.state.selectedRecord[\"esignreason\"] && this.state.selectedRecord[\"esignreason\"].label,\r\n               \r\n                },\r\n                password: this.state.selectedRecord[\"esignpassword\"]\r\n            },\r\n            screenData: this.props.Login.screenData\r\n        }\r\n        this.props.validateEsignCredential(inputParam, \"openModal\");\r\n    }\r\n\r\n    generateBreadCrumData(filterData) {\r\n        if (filterData && Object.values(filterData).length > 0 && filterData.nsampletypecode && filterData.nsampletypecode.item) {\r\n            if (filterData.nsampletypecode && filterData.nproductcatcode && filterData.nproductcatcode.item.ncategorybasedflow === transactionStatus.YES) {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCTCATEGORY\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ]\r\n            } else {\r\n                this.breadCrumbData = [\r\n                    {\r\n                        \"label\": \"IDS_SAMPLETYPE\",\r\n                        \"value\": filterData.nsampletypecode ? filterData.nsampletypecode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCTCATEGORY\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENTCATEGORY\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIALCATEGORY\" : \"\",\r\n                        \"value\": filterData.nproductcatcode ? filterData.nproductcatcode.label : \"\"\r\n                    },\r\n\r\n                    {\r\n                        \"label\": filterData.nsampletypecode.item.nformcode === formCode.PRODUCTCATEGORY ? \"IDS_PRODUCT\" :\r\n                            filterData.nsampletypecode.item.nformcode === formCode.INSTRUMENTCATEGORY ? \"IDS_INSTRUMENT\" :\r\n                                filterData.nsampletypecode.item.nformcode === formCode.MATERIALCATEGORY ? \"IDS_MATERIAL\" : \"\",\r\n                        \"value\": filterData.nproductcode ? filterData.nproductcode.label : \"\"\r\n                    },\r\n                    {\r\n                        \"label\": \"IDS_TREETEMPLATEVERSION\",\r\n                        \"value\": filterData.ntreeversiontempcode ? filterData.ntreeversiontempcode.label : \"\"\r\n                    }\r\n                ]\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    updateSpiltterLayout() {\r\n        if (this.myRef && this.myRef.current && this.myRef.current.clientHeight + 20 !== this.state.fixefScrollHeight) {\r\n\r\n            this.setState({\r\n                fixefScrollHeight: this.myRef.current.clientHeight + 20,\r\n                disableSplit: true\r\n            })\r\n            console.log(this.myRef.current.clientHeight)\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    disableSplit: false\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n    componentDidUpdate(previousProps, previousState) {\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let filterData = this.state.filterData || {};\r\n        let isStateChanged = false;\r\n\r\n        this.updateSpiltterLayout()\r\n        let tempFilterData = this.state.tempFilterData || {};\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n            selectedRecord = this.props.Login.selectedRecord;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (this.props.Login.tempFilterData !== previousProps.Login.tempFilterData) {\r\n            tempFilterData = this.props.Login.tempFilterData || {};\r\n            isStateChanged = true;\r\n        }\r\n        let sampleType = this.state.sampleType || [];\r\n        if (this.props.Login.masterData.SampleType !== previousProps.Login.masterData.SampleType) {\r\n            const sampleTypeMap = constructOptionList(this.props.Login.masterData.SampleType || [], \"nsampletypecode\", \"ssampletypename\", \"nsorter\", \"ascending\", false);\r\n            sampleType = sampleTypeMap.get(\"OptionList\");\r\n            tempFilterData[\"nsampletypecode\"] = sampleType.length ? sampleType[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let productCategory = this.state.productCategory || [];\r\n        if (this.props.Login.masterData.ProductCategory !== previousProps.Login.masterData.ProductCategory) {\r\n            const productCatMap = constructOptionList(this.props.Login.masterData.ProductCategory || [], \"nproductcatcode\", \"sproductcatname\", \"nproductcatcode\", \"ascending\", false);\r\n            productCategory = productCatMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcatcode\"] = productCategory.length > 0 ? productCategory[0] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n        let product = this.state.product || [];\r\n        if (this.props.Login.masterData.Product !== previousProps.Login.masterData.Product) {\r\n            const productMap = constructOptionList(this.props.Login.masterData.Product || [], \"nproductcode\", \"sproductname\", \"nproductcode\", \"ascending\", false);\r\n            product = productMap.get(\"OptionList\");\r\n            tempFilterData[\"nproductcode\"] = product.length > 0 ? product[0] : undefined;\r\n            isStateChanged = true;\r\n        }\r\n        let treeVersionTemplate = this.state.treeVersionTemplate || [];\r\n        if (this.props.Login.masterData.TreeVersionTemplate !== previousProps.Login.masterData.TreeVersionTemplate) {\r\n            const templateMap = constructOptionList(this.props.Login.masterData.TreeVersionTemplate || [], \"ntreeversiontempcode\", \"sversiondescription\", \"ntreeversiontempcode\", \"ascending\", false);\r\n            treeVersionTemplate = templateMap.get(\"OptionList\");\r\n            tempFilterData[\"ntreeversiontempcode\"] = treeVersionTemplate.length > 0 ? treeVersionTemplate[treeVersionTemplate.length - 1] : \"\";\r\n            isStateChanged = true;\r\n        }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTestParameter && this.props.Login.masterData.TestGroupTestParameter !== previousProps.Login.masterData.TestGroupTestParameter) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTestParameter, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        // if (this.props.Login.masterData.TestGroupTesT && this.props.Login.masterData.TestGroupTesT !== previousProps.Login.masterData.TestGroupTesT) {\r\n        //     sortData(this.props.Login.masterData.TestGroupTesTest, \"ascending\", \"nsorter\");\r\n        // }\r\n\r\n        let userRoleControlRights = this.state.userRoleControlRights || [];\r\n        let controlMap = this.state.controlMap || [];\r\n        if (this.props.Login.userInfo && this.props.Login.userInfo.nformcode !== previousProps.Login.userInfo.nformcode) {\r\n            const nformCode = this.props.Login.userInfo.nformcode;\r\n            if (this.props.Login.userRoleControlRights) {\r\n                this.props.Login.userRoleControlRights[nformCode] && Object.values(this.props.Login.userRoleControlRights[nformCode]).map(item =>\r\n                    userRoleControlRights.push(item.ncontrolcode));\r\n            }\r\n            controlMap = getControlMap(this.props.Login.userRoleControlRights, nformCode);\r\n            filterData = { ...tempFilterData };\r\n            this.generateBreadCrumData(filterData);\r\n        }\r\n\r\n        if (this.props.Login.filterData !== previousProps.Login.filterData) {\r\n            filterData = { ...this.props.Login.filterData };\r\n            this.generateBreadCrumData(filterData);\r\n            isStateChanged = true;\r\n        }\r\n        // else if (filterData !== previousState.filterData) {\r\n        //     filterData = { ...tempFilterData };\r\n        //     this.generateBreadCrumData(filterData);\r\n        // }\r\n\r\n        let historyDataState = this.state.historyDataState;\r\n        if (this.props.Login.historyDataState && this.props.Login.historyDataState !== previousProps.Login.historyDataState) {\r\n            historyDataState = this.props.Login.historyDataState;\r\n            isStateChanged = true;\r\n        }\r\n\r\n        let {testskip, testtake} = this.state;\r\n        if (this.props.Login.masterData !== previousProps.Login.masterData) {           \r\n            testskip = this.props.Login.testskip === undefined ? testskip : this.props.Login.testskip\r\n            testtake = testtake ? testtake : this.props.Login.testtake\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (isStateChanged) {\r\n            this.setState({\r\n                selectedRecord, tempFilterData, filterData, userRoleControlRights, controlMap,\r\n                sampleType, productCategory, product, treeVersionTemplate, historyDataState,\r\n                testskip, testtake\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    callService, crudMaster, filterTestGroup, createTree, editTree, sampleTypeOnChange,\r\n    getTestGroupDetails, validateEsignCredential, updateStore, addSpecification, getSpecification, addComponent,\r\n    changeTestCategory, addTestGroupTest, editTestGroupTest, getTestGroupParameter, editTestGroupParameter,\r\n    addTestFile, editSpecFile, getSpecificationDetails, addTestGroupCodedResult, getComponentBySpecId, filterColumnData,\r\n    viewAttachment, viewTestGroupCheckList, getTestGroupComponentDetails, filterTransactionList, reportSpecification, retireSpecification, getDataForTestMaterial,\r\n    getMaterialCategoryBasedMaterialType,getMaterialBasedMaterialCategory,getTestGroupMaterial,getDataForEditTestMaterial,addTestGroupNumericTab\r\n})(injectIntl(TestGroup));"]},"metadata":{},"sourceType":"module"}