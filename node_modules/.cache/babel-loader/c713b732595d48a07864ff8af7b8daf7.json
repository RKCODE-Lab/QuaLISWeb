{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import rsapi from'../rsapi';import{DEFAULT_RETURN}from'./LoginTypes';import{sortData,getComboLabelValue,constructOptionList}from'../components/CommonScript';import{toast}from'react-toastify';import{initRequest}from'./LoginAction';import{intl}from'../components/App';import{transactionStatus,reportTypeEnum}from'../components/Enumeration';export function getReportMasterComboService(inputParam){return function(dispatch){// if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\n// {      \ndispatch(initRequest(true));var nreportcode=null;if(inputParam.operation===\"update\"){nreportcode=inputParam.mastertoedit[inputParam.primaryKeyName];}return rsapi.post(\"reportconfig/getReportMasterComboData\",{nreportcode:nreportcode,userinfo:inputParam.userInfo,filterreporttype:inputParam.filterReportType}).then(function(response){var reportTypeMap=constructOptionList(response.data[\"ReportType\"]||[],\"nreporttypecode\",\"sdisplayname\",undefined,undefined,true);var reportModuleMap=constructOptionList(response.data[\"ReportModule\"]||[],\"nreportmodulecode\",\"sdisplayname\",undefined,undefined,true);var reportSubTypeMap=constructOptionList(response.data[\"COAReportType\"]||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var regTypeMap=constructOptionList(response.data[\"RegistrationType\"]||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,true);var regSubTypeMap=constructOptionList(response.data[\"RegistrationSubType\"]||[],\"nregsubtypecode\",\"sregsubtypename\",undefined,undefined,true);var approvaConfigVersionMap=constructOptionList(response.data[\"ApprovalConfigVersion\"]||[],\"napproveconfversioncode\",\"sversionname\",undefined,undefined,false);var sectionMap=constructOptionList(response.data[\"SectionList\"]||[],\"nsectioncode\",\"ssectionname\",undefined,undefined,true);var decisionTypeMap=constructOptionList(response.data[\"ReportDecisionType\"]||[],\"nreportdecisiontypecode\",\"sdecisiontypename\",undefined,undefined,true);var certificateTypeMap=constructOptionList(response.data[\"CertificateType\"]||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var controlScreenTypeMap=constructOptionList(response.data[\"ControlScreen\"]||[],\"nformcode\",\"sdisplayname\",undefined,undefined,true);var reportTypeList=reportTypeMap.get(\"OptionList\");var reportModuleList=reportModuleMap.get(\"OptionList\");var reportSubTypeList=reportSubTypeMap.get(\"OptionList\");var regTypeList=regTypeMap.get(\"OptionList\");var regSubTypeList=regSubTypeMap.get(\"OptionList\");var sectionList=sectionMap.get(\"OptionList\");var decisionTypeList=decisionTypeMap.get(\"OptionList\");var certificateTypeList=certificateTypeMap.get(\"OptionList\");var controlScreenTypeList=controlScreenTypeMap.get(\"OptionList\");var ApproveConfigList=approvaConfigVersionMap.get(\"OptionList\");var selectedRecord={ntransactionstatus:transactionStatus.ACTIVE};var respObject={\"reportVersionStatus\":transactionStatus.DRAFT};if(inputParam.operation===\"update\"){if(response.status===202){respObject[\"reportVersionStatus\"]=transactionStatus.APPROVED;respObject[\"ApprovedReportMaster\"]=response.data[\"SelectedReportDesigner\"];}selectedRecord=JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE||selectedRecord.nreporttypecode===reportTypeEnum.COA){selectedRecord[\"nregtypecode\"]={value:response.data[\"SelectedReportDesigner\"].nregtypecode,label:response.data[\"SelectedReportDesigner\"].sregtypename};if(response.data[\"SelectedReportDesigner\"].nregsubtypecode!==-1){selectedRecord[\"nregsubtypecode\"]={value:response.data[\"SelectedReportDesigner\"].nregsubtypecode,label:response.data[\"SelectedReportDesigner\"].sregsubtypename};}else{selectedRecord[\"nregsubtypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nregsubtypecode!==-1){selectedRecord[\"napproveconfversioncode\"]={value:response.data[\"SelectedReportDesigner\"].napproveconfversioncode,label:response.data[\"SelectedReportDesigner\"].sapproveversionname};}else{selectedRecord[\"nregsubtypecode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].nsectioncode!==-1){selectedRecord[\"nsectioncode\"]={value:response.data[\"SelectedReportDesigner\"].nsectioncode,label:response.data[\"SelectedReportDesigner\"].ssectionname};}else{selectedRecord[\"nsectioncode\"]=undefined;}if(response.data[\"SelectedReportDesigner\"].ncoareporttypecode!==-1){selectedRecord[\"ncoareporttypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncoareporttypecode,label:response.data[\"SelectedReportDesigner\"].scoareporttypename};}else{selectedRecord[\"ncoareporttypecode\"]=undefined;}if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE){selectedRecord[\"nreportdecisiontypecode\"]={value:response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,label:response.data[\"SelectedReportDesigner\"].sdecisiontypename};}}else if(selectedRecord.nreporttypecode===reportTypeEnum.MIS){selectedRecord[\"nreportmodulecode\"]={value:response.data[\"SelectedReportDesigner\"].nreportmodulecode,label:response.data[\"SelectedReportDesigner\"].smoduledisplayname};selectedRecord[\"nreportmodule\"]={value:response.data[\"SelectedReportDesigner\"].smoduledisplayname,label:response.data[\"SelectedReportDesigner\"].smoduledisplayname};}else if(selectedRecord.nreporttypecode===reportTypeEnum.SCREENWISE){selectedRecord[\"ncontrolcode\"]={value:response.data[\"SelectedReportDesigner\"].ncontrolcode,label:response.data[\"SelectedReportDesigner\"].scontrolids};selectedRecord[\"nformcode\"]={value:response.data[\"SelectedReportDesigner\"].nformcode,label:response.data[\"SelectedReportDesigner\"].sdisplayname};}if(selectedRecord.nreporttypecode===reportTypeEnum.SAMPLE||selectedRecord.nreporttypecode===reportTypeEnum.BATCH){if(response.data[\"SelectedReportDesigner\"].ncoareporttypecode!==-1){selectedRecord[\"ncoareporttypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncoareporttypecode,label:response.data[\"SelectedReportDesigner\"].scoareporttypename};}else{selectedRecord[\"ncoareporttypecode\"]=undefined;}selectedRecord[\"ncertificatetypecode\"]={value:response.data[\"SelectedReportDesigner\"].ncertificatetypecode,label:response.data[\"SelectedReportDesigner\"].scertificatetype};selectedRecord[\"sbatchtypename\"]=response.data[\"SelectedReportDesigner\"].sbatchtypename;}selectedRecord[\"ntransactionstatus\"]=response.data[\"SelectedReportDesigner\"].ntransactionstatus;selectedRecord[\"nreporttypecode\"]={item:response.data[\"SelectedReportDesigner\"],value:response.data[\"SelectedReportDesigner\"].nreporttypecode,label:response.data[\"SelectedReportDesigner\"].sreportdisplayname};}respObject=_objectSpread(_objectSpread({},respObject),{},{reportSubTypeList:reportSubTypeList,//:response.data[\"COAReportType\"]  || [], \nregTypeList:regTypeList,//:response.data[\"RegistrationType\"]  || [],                                                               \nregSubTypeList:regSubTypeList,//:response.data[\"RegistrationSubType\"]  || [],  \nsectionList:sectionList,ApproveConfigList:ApproveConfigList,//:response.data[\"SectionList\"] || [],   \ncertificateTypeList:certificateTypeList,reportDecisionTypeList:decisionTypeList,controlScreen:controlScreenTypeList//masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \n});if(inputParam.operation===\"create\"){selectedRecord[\"nreporttypecode\"]={item:response.data[\"SelectedReportType\"],label:response.data[\"SelectedReportType\"].sdisplayname,value:response.data[\"SelectedReportType\"].nreporttypecode};if(selectedRecord[\"nreporttypecode\"].value===reportTypeEnum.SAMPLE&&selectedRecord[\"nreporttypecode\"]['item'].isneedregtype===transactionStatus.YES){selectedRecord[\"nregtypecode\"]=getComboLabelValue(response.data[\"SelectedRegType\"],response.data[\"RegistrationType\"],\"nregtypecode\",\"sregtypename\");if(selectedRecord[\"nreporttypecode\"]['item'].isneedsection===transactionStatus.YES){selectedRecord[\"nsectioncode\"]=sectionMap.get(\"DefaultValue\");}}}dispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({reportTypeList:reportTypeList,//:response.data[\"ReportType\"] || [], \nreportModuleList:reportModuleList},respObject),{},{operation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolcode,loading:false})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});// }\n// else{       \n//     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\n// }\n};}export function getReportDetailComboService(inputParam){return function(dispatch){if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.DRAFT){if(inputParam.masterData.SelectedReportMaster!==null){dispatch(initRequest(true));var nreportdetailcode=null;if(inputParam.operation===\"update\"){nreportdetailcode=inputParam.detailtoedit[inputParam.primaryKeyName];}return rsapi.post(\"reportconfig/getReportDetailComboData\",{nreportdetailcode:nreportdetailcode,reportmaster:inputParam.masterData.SelectedReportMaster,userinfo:inputParam.userInfo}).then(function(response){// const reportType = response.data[\"SelectedReportType\"];\n// const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\n//                             \"scoareporttypename\" , undefined, undefined, true);    \n// const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\n//                             \"ssectionname\", undefined, undefined, true);\n// const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\n//                             \"sdecisiontypename\" , undefined, undefined, true);   \n// const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\n//                             \"scertificatetype\" , undefined, undefined, true);\n// const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\n// const  sectionList = sectionMap.get(\"OptionList\"); \n// const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\n// const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \nvar selectedRecord={};var respObject={};if(inputParam.operation===\"update\"){selectedRecord=response.data[\"SelectedReportDetail\"];}selectedRecord[\"ntransactionstatus\"]=transactionStatus.DRAFT;//    console.log(\"selected in action:\", selectedRecord);\ndispatch({type:DEFAULT_RETURN,payload:_objectSpread(_objectSpread({},respObject),{},{operation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:selectedRecord,openModal:true,ncontrolCode:inputParam.ncontrolcode,loading:false})});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_REPORTNOTFOUND\"}));}}else if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.APPROVED){toast.warn(intl.formatMessage({id:\"IDS_CANNOTEDITAPPROVEDREPORT\"}));}else if(inputParam.operation===\"create\"||inputParam.operation===\"update\"&&inputParam.detailtoedit.ntransactionstatus===transactionStatus.RETIRED){toast.warn(intl.formatMessage({id:\"IDS_CANNOTEDITRETIREDREPORT\"}));}};}export function getSelectedReportMasterDetail(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportDesigner\",{nreportcode:parseInt(inputParam.nreportcode),userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getSelectedReportDetail(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportDetail\",{nreportdetailcode:parseInt(inputParam.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);sortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,operation:null,modalName:undefined,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getConfigReportComboService(inputParam){return function(dispatch){if(inputParam.reportMaster.nreporttypecode===reportTypeEnum.MIS){if(inputParam.reportDetail.ntransactionstatus===transactionStatus.DRAFT){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportAddDesignComboData\",{nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){var parameterMap=constructOptionList(response.data[\"ReportParameter\"]||[],\"nreportparametercode\",\"sreportparametername\",undefined,undefined,true);var reportParameterList=parameterMap.get(\"OptionList\");var designComponentMap=constructOptionList(response.data[\"DesignComponents\"]||[],\"ndesigncomponentcode\",\"sdesigncomponentname\",undefined,undefined,true);var designComponentList=designComponentMap.get(\"OptionList\");var sqlQueryMap=constructOptionList(response.data[\"SQLQuery\"]||[],\"nsqlquerycode\",\"ssqlqueryname\",undefined,undefined,true);var sqlQueryList=sqlQueryMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{reportParameterList:reportParameterList,//:response.data[\"ReportParameter\"] || [], \ndesignComponentList:designComponentList,//:response.data[\"DesignComponents\"] || [],\nsqlQueryList:sqlQueryList,//:response.data[\"SQLQuery\"] || [], \noperation:inputParam.operation,screenName:inputParam.screenName,//selectedRecord:{nmandatory:transactionStatus.YES}, \nselectedRecord:{},openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_CANNOTCONFIGUREAPPROVEDREPORT\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CANCONFIGUREMISREPORT\"}));}};}export function getParameterMappingComboService(inputParam){return function(dispatch){if(inputParam.reportMaster.nreporttypecode===reportTypeEnum.MIS){if(inputParam.reportDetail.ntransactionstatus===transactionStatus.DRAFT){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportParameterMappingComboData\",{nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),userinfo:inputParam.userInfo}).then(function(response){if(response.data[\"ChildComponentList\"].length>0){var parentComponentMap=constructOptionList(response.data[\"ParentComponentList\"]||[],\"nreportdesigncode\",\"sdisplayname\",undefined,undefined,true);var parentComponentList=parentComponentMap.get(\"OptionList\");var childComponentMap=constructOptionList(response.data[\"ChildComponentList\"]||[],\"nreportdesigncode\",\"sdisplayname\",undefined,undefined,true);var childComponentList=childComponentMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{parentComponentList:parentComponentList,//:response.data[\"ParentComponenList\"] || [],\nchildComponentList:childComponentList,//:response.data[\"ChildComponentList\"] || [], \noperation:inputParam.operation,screenName:inputParam.screenName,selectedRecord:{},openModal:true,ncontrolCode:inputParam.ncontrolCode,loading:false}});}else{dispatch({type:DEFAULT_RETURN,payload:{loading:false}});toast.warn(intl.formatMessage({id:\"IDS_NOPARAMETERSTOMAP\"}));}}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_CANNOTMAPAPPROVEDREPORT\"}));}}else{toast.warn(intl.formatMessage({id:\"IDS_CANMAPMISREPORT\"}));}};}export function viewReportDetail(reportmaster,userInfo,masterData){return function(dispatch){if(reportmaster!==undefined){dispatch(initRequest(true));return rsapi.post(\"reportview/viewReport\",{reportmaster:reportmaster,userinfo:userInfo}).then(function(response){// console.log(\"report action:\", response);\nmasterData=_objectSpread(_objectSpread({},masterData),response.data);if(response.data[\"ViewReportDesignConfig\"]!==undefined){masterData[\"ReportPDFFile\"]=undefined;}// else{\n//     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\n//     document.getElementById(\"download_data\").click();\n// }\ndispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});}else{toast.warn(intl.formatMessage({id:\"IDS_REPORTNOTFOUND\"}));}};}// export function getActionMappingComboService(inputParam) {\n//     return function (dispatch) {   \n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\n//             dispatch(initRequest(true));\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\n//                                         userinfo:inputParam.userInfo})\n//         .then(response=>{ \n//             if (response.data[\"ActionMappingChild\"].length > 0)\n//             {     \n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \n//                                                             operation:inputParam.operation, \n//                                                             screenName:inputParam.screenName,   \n//                                                             selectedRecord:{}, \n//                                                             openModal : true,\n//                                                             ncontrolCode:inputParam.ncontrolCode,\n//                                                             loading:false\n//                                                             }}); \n//             }\n//             else{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\n//             }\n//         })\n//         .catch(error=>{\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\n//             if (error.response.status === 500){\n//                 toast.error(error.message);\n//             } \n//             else{               \n//                 toast.warn(error.response.data);\n//             }  \n//         })\n//     }\n//     else{\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\n//     }\n// }}\nexport function getReportViewChildDataList(inputParam){return function(dispatch){// dispatch(initRequest(true));\nreturn rsapi.post(\"reportview/getChildDataList\",_objectSpread({},inputParam[\"inputData\"])).then(function(response){var controlList=inputParam.viewReportDesignConfigList;var selectedRecord=inputParam.selectedRecord;Object.keys(response.data).map(function(displayName){var index=controlList.findIndex(function(item){return displayName===item.sdisplayname;});var comboMap=constructOptionList(response.data[displayName]||[],controlList[index].svaluemember,controlList[index].sdisplaymember,undefined,undefined,true);var comboList=comboMap.get(\"OptionList\");selectedRecord[controlList[index].svaluemember]=undefined;return controlList[index][\"dataList\"]=comboList;//response.data[displayName]\n});dispatch({type:DEFAULT_RETURN,payload:{viewReportDesignConfigList:controlList,loading:false,inputFieldData:inputParam.inputData.inputfielddata,selectedRecord:selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function viewReportDetailWithParameters(viewReportParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportview/viewReportWithParameters\",_objectSpread({},viewReportParam)).then(function(response){var masterData=_objectSpread(_objectSpread(_objectSpread({},viewReportParam.masterData),response.data),{},{ReportPDFFile:response.data[\"ReportPDFFile\"],SelectedReportDetails:response.data[\"SelectedReportDetails\"],ReportPDFPath:response.data[\"ReportPDFPath\"],ViewReportDesignConfig:undefined});dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,loading:false//openModal:false\n}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportsByModule(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportview/getReportView\",{nreportmodulecode:inputParam.nreportmodulecode,userinfo:inputParam.userInfo}).then(function(response){var masterData=_objectSpread(_objectSpread({},inputParam.masterData),response.data);// const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\n//                          \"smoduledisplayname\" , undefined, undefined, true);\n// const  reportModuleList  = reportModuleMap.get(\"OptionList\");\nsortData(masterData);dispatch({type:DEFAULT_RETURN,payload:{masterData:masterData,//viewReportModuleList:reportModuleList,\noperation:null,modalName:undefined,loading:false,selectedRecord:inputParam.selectedRecord}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getControlButton(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getControlButton\",{nformcode:inputParam.ControlScreen.nformcode,userinfo:inputParam.userInfo}).then(function(response){var controlButtonMap=constructOptionList(response.data||[],\"ncontrolcode\",\"scontrolids\",undefined,undefined,true);var controlButtonList=controlButtonMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{controlButton:controlButtonList,//: response.data,                                            \nloading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregsubtypecode:undefined//nregsubtypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportRegSubType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportRegistrationSubType\",{nregtypecode:inputParam.registrationType.nregtypecode,userinfo:inputParam.userInfo}).then(function(response){var regSubTypeMap=constructOptionList(response.data||[],\"nregsubtypecode\",\"sregsubtypename\",undefined,undefined,true);var regSubTypeList=regSubTypeMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{regSubTypeList:regSubTypeList,//: response.data,                                            \nloading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregsubtypecode:undefined//nregsubtypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportSubType(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportSubType\",{nreporttypecode:inputParam.reportType.nreporttypecode,userinfo:inputParam.userInfo}).then(function(response){var reportSubTypeMap=constructOptionList(response.data.COAReportType||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var reportSubTypeList=reportSubTypeMap.get(\"OptionList\");var certificateTypeMap=constructOptionList(response.data.CertificateType||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var certificateTypeList=certificateTypeMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{reportSubTypeList:reportSubTypeList,certificateTypeList:certificateTypeList,loading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{ncoareporttypecode:undefined,ncertificatetypecode:\"\"// ncoareporttypecode:{label:\"Please Select...\", value:-4}\n})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getregtype(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getRegistrationtypeForSample\",{nregtypecode:inputParam.nregtypecode,nreporttypecode:inputParam.reportType.nreporttypecode,userinfo:inputParam.userInfo}).then(function(response){// const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\n//                          \"sregtypename\" , undefined, undefined, true);   \n// const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\n// // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\n// // \"sregsubtypename\" , undefined, undefined, true);   \n// //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\nvar regTypeMap=constructOptionList(response.data[\"RegistrationType\"]||[],\"nregtypecode\",\"sregtypename\",undefined,undefined,true);var regTypeList=regTypeMap.get(\"OptionList\");var regSubTypeMap=constructOptionList(response.data[\"RegistrationSubType\"]||[],\"nregsubtypecode\",\"sregsubtypename\",undefined,undefined,true);var regSubTypeList=regSubTypeMap.get(\"OptionList\");var coaReportTypeMap=constructOptionList(response.data.COAReportType||[],\"ncoareporttypecode\",\"scoareporttypename\",undefined,undefined,true);var reportSubTypeList=coaReportTypeMap.get(\"OptionList\");var certificateType=constructOptionList(response.data.CertificateType||[],\"ncertificatetypecode\",\"scertificatetype\",undefined,undefined,true);var certificateTypeList=certificateType.get(\"OptionList\");var nregtypecode=getComboLabelValue(response.data[\"SelectedRegType\"],response.data[\"RegistrationType\"],\"nregtypecode\",\"sregtypename\");dispatch({type:DEFAULT_RETURN,payload:{regTypeList:regTypeList,regSubTypeList:regSubTypeList,reportSubTypeList:reportSubTypeList,loading:false,certificateTypeList:certificateTypeList,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{nregtypecode:nregtypecode,nregsubtypecode:undefined,ncoareporttypecode:undefined,ncertificatetypecode:\"\"})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}export function getReportRegSubTypeApproveConfigVersion(inputParam){return function(dispatch){dispatch(initRequest(true));return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\",{nregtypecode:inputParam.selectedRecord.nregtypecode.value,nregsubtypecode:inputParam.registrationsubType.nregsubtypecode,userinfo:inputParam.userInfo}).then(function(response){var ApproveConfigVersionMap=constructOptionList(response.data||[],\"napproveconfversioncode\",\"sversionname\",undefined,undefined,false);var ApproveConfigList=ApproveConfigVersionMap.get(\"OptionList\");dispatch({type:DEFAULT_RETURN,payload:{ApproveConfigList:ApproveConfigList,//: response.data,                                            \nloading:false,selectedRecord:_objectSpread(_objectSpread({},inputParam.selectedRecord),{},{napproveconfversioncode:undefined})}});}).catch(function(error){dispatch({type:DEFAULT_RETURN,payload:{loading:false}});if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}});};}","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/actions/ReportDesignerAction.js"],"names":["rsapi","DEFAULT_RETURN","sortData","getComboLabelValue","constructOptionList","toast","initRequest","intl","transactionStatus","reportTypeEnum","getReportMasterComboService","inputParam","dispatch","nreportcode","operation","mastertoedit","primaryKeyName","post","userinfo","userInfo","filterreporttype","filterReportType","then","response","reportTypeMap","data","undefined","reportModuleMap","reportSubTypeMap","regTypeMap","regSubTypeMap","approvaConfigVersionMap","sectionMap","decisionTypeMap","certificateTypeMap","controlScreenTypeMap","reportTypeList","get","reportModuleList","reportSubTypeList","regTypeList","regSubTypeList","sectionList","decisionTypeList","certificateTypeList","controlScreenTypeList","ApproveConfigList","selectedRecord","ntransactionstatus","ACTIVE","respObject","DRAFT","status","APPROVED","JSON","parse","stringify","nreporttypecode","SAMPLE","COA","value","nregtypecode","label","sregtypename","nregsubtypecode","sregsubtypename","napproveconfversioncode","sapproveversionname","nsectioncode","ssectionname","ncoareporttypecode","scoareporttypename","nreportdecisiontypecode","sdecisiontypename","MIS","nreportmodulecode","smoduledisplayname","SCREENWISE","ncontrolcode","scontrolids","nformcode","sdisplayname","BATCH","ncertificatetypecode","scertificatetype","sbatchtypename","item","sreportdisplayname","reportDecisionTypeList","controlScreen","isneedregtype","YES","isneedsection","type","payload","screenName","openModal","ncontrolCode","loading","catch","error","message","warn","getReportDetailComboService","detailtoedit","masterData","SelectedReportMaster","nreportdetailcode","reportmaster","formatMessage","id","RETIRED","getSelectedReportMasterDetail","parseInt","modalName","getSelectedReportDetail","getConfigReportComboService","reportMaster","reportDetail","parameterMap","reportParameterList","designComponentMap","designComponentList","sqlQueryMap","sqlQueryList","getParameterMappingComboService","length","parentComponentMap","parentComponentList","childComponentMap","childComponentList","viewReportDetail","getReportViewChildDataList","controlList","viewReportDesignConfigList","Object","keys","map","displayName","index","findIndex","comboMap","svaluemember","sdisplaymember","comboList","inputFieldData","inputData","inputfielddata","viewReportDetailWithParameters","viewReportParam","ReportPDFFile","SelectedReportDetails","ReportPDFPath","ViewReportDesignConfig","getReportsByModule","getControlButton","ControlScreen","controlButtonMap","controlButtonList","controlButton","getReportRegSubType","registrationType","getReportSubType","reportType","COAReportType","CertificateType","getregtype","coaReportTypeMap","certificateType","getReportRegSubTypeApproveConfigVersion","registrationsubType","ApproveConfigVersionMap"],"mappings":"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","sourcesContent":["import rsapi from '../rsapi';\r\nimport { DEFAULT_RETURN } from './LoginTypes';\r\nimport { sortData, getComboLabelValue, constructOptionList } from '../components/CommonScript';\r\nimport { toast } from 'react-toastify';\r\nimport { initRequest } from './LoginAction';\r\nimport { intl } from '../components/App';\r\nimport { transactionStatus, reportTypeEnum } from '../components/Enumeration';\r\n\r\nexport function getReportMasterComboService(inputParam) {\r\n    return function (dispatch) {\r\n        // if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus !== transactionStatus.APPROVED))\r\n        // {      \r\n        dispatch(initRequest(true));\r\n        let nreportcode = null;\r\n        if (inputParam.operation === \"update\") {\r\n            nreportcode = inputParam.mastertoedit[inputParam.primaryKeyName];\r\n        }\r\n        return rsapi.post(\"reportconfig/getReportMasterComboData\", {\r\n            nreportcode,\r\n            userinfo: inputParam.userInfo,\r\n            filterreporttype: inputParam.filterReportType\r\n        })\r\n            .then(response => {\r\n\r\n                const reportTypeMap = constructOptionList(response.data[\"ReportType\"] || [], \"nreporttypecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportModuleMap = constructOptionList(response.data[\"ReportModule\"] || [], \"nreportmodulecode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n                const reportSubTypeMap = constructOptionList(response.data[\"COAReportType\"] || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                 const approvaConfigVersionMap = constructOptionList(response.data[\"ApprovalConfigVersion\"] || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const sectionMap = constructOptionList(response.data[\"SectionList\"] || [], \"nsectioncode\",\r\n                    \"ssectionname\", undefined, undefined, true);\r\n                const decisionTypeMap = constructOptionList(response.data[\"ReportDecisionType\"] || [], \"nreportdecisiontypecode\",\r\n                    \"sdecisiontypename\", undefined, undefined, true);\r\n                const certificateTypeMap = constructOptionList(response.data[\"CertificateType\"] || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const controlScreenTypeMap = constructOptionList(response.data[\"ControlScreen\"] || [], \"nformcode\",\r\n                    \"sdisplayname\", undefined, undefined, true);\r\n\r\n                const reportTypeList = reportTypeMap.get(\"OptionList\");\r\n                const reportModuleList = reportModuleMap.get(\"OptionList\");\r\n                const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                const sectionList = sectionMap.get(\"OptionList\");\r\n                const decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                const controlScreenTypeList = controlScreenTypeMap.get(\"OptionList\");\r\n               const  ApproveConfigList=approvaConfigVersionMap.get(\"OptionList\");\r\n\r\n                let selectedRecord = { ntransactionstatus: transactionStatus.ACTIVE };\r\n                let respObject = { \"reportVersionStatus\": transactionStatus.DRAFT };\r\n\r\n                if (inputParam.operation === \"update\") {\r\n                    if (response.status === 202) {\r\n                        respObject[\"reportVersionStatus\"] = transactionStatus.APPROVED;\r\n                        respObject[\"ApprovedReportMaster\"] = response.data[\"SelectedReportDesigner\"];\r\n                    }\r\n                    selectedRecord = JSON.parse(JSON.stringify(response.data[\"SelectedReportDesigner\"]));\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.COA) {\r\n                        selectedRecord[\"nregtypecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nregtypecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].sregtypename\r\n                        };\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"nregsubtypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nregsubtypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sregsubtypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nregsubtypecode !== -1) {\r\n                            selectedRecord[\"napproveconfversioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].napproveconfversioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sapproveversionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nregsubtypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].nsectioncode !== -1) {\r\n                            selectedRecord[\"nsectioncode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nsectioncode,\r\n                                label: response.data[\"SelectedReportDesigner\"].ssectionname\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"nsectioncode\"] = undefined;\r\n                        }\r\n\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n\r\n                        if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE) {\r\n                            selectedRecord[\"nreportdecisiontypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].nreportdecisiontypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].sdecisiontypename\r\n                            };\r\n                        }\r\n\r\n                    }\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.MIS) {\r\n                        selectedRecord[\"nreportmodulecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nreportmodulecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n\r\n                        };\r\n\r\n                        selectedRecord[\"nreportmodule\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].smoduledisplayname,\r\n                            label: response.data[\"SelectedReportDesigner\"].smoduledisplayname\r\n                        }\r\n\r\n                    }\r\n\r\n                    else if (selectedRecord.nreporttypecode === reportTypeEnum.SCREENWISE) {\r\n                        selectedRecord[\"ncontrolcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncontrolcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scontrolids\r\n                        };\r\n\r\n                        selectedRecord[\"nformcode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].nformcode,\r\n                            label: response.data[\"SelectedReportDesigner\"].sdisplayname\r\n                        };\r\n                    }\r\n\r\n                    if (selectedRecord.nreporttypecode === reportTypeEnum.SAMPLE\r\n                        || selectedRecord.nreporttypecode === reportTypeEnum.BATCH) {\r\n                        if (response.data[\"SelectedReportDesigner\"].ncoareporttypecode !== -1) {\r\n                            selectedRecord[\"ncoareporttypecode\"] = {\r\n                                value: response.data[\"SelectedReportDesigner\"].ncoareporttypecode,\r\n                                label: response.data[\"SelectedReportDesigner\"].scoareporttypename\r\n                            };\r\n                        }\r\n                        else {\r\n                            selectedRecord[\"ncoareporttypecode\"] = undefined;\r\n                        }\r\n                        selectedRecord[\"ncertificatetypecode\"] = {\r\n                            value: response.data[\"SelectedReportDesigner\"].ncertificatetypecode,\r\n                            label: response.data[\"SelectedReportDesigner\"].scertificatetype\r\n                        };\r\n\r\n                        selectedRecord[\"sbatchtypename\"] = response.data[\"SelectedReportDesigner\"].sbatchtypename\r\n                    }\r\n\r\n                    selectedRecord[\"ntransactionstatus\"] = response.data[\"SelectedReportDesigner\"].ntransactionstatus;\r\n\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportDesigner\"],\r\n                        value: response.data[\"SelectedReportDesigner\"].nreporttypecode,\r\n                        label: response.data[\"SelectedReportDesigner\"].sreportdisplayname\r\n                    };\r\n\r\n                }\r\n\r\n                respObject = {\r\n                    ...respObject, reportSubTypeList,//:response.data[\"COAReportType\"]  || [], \r\n                    regTypeList,//:response.data[\"RegistrationType\"]  || [],                                                               \r\n                    regSubTypeList,//:response.data[\"RegistrationSubType\"]  || [],  \r\n                    sectionList,\r\n                    ApproveConfigList,//:response.data[\"SectionList\"] || [],   \r\n                    certificateTypeList,\r\n                    reportDecisionTypeList: decisionTypeList,\r\n                    controlScreen: controlScreenTypeList,\r\n                    //masterData:{...inputParam.masterData, SelectedFilterReportType:response.data[\"SelectedReportType\"] }                                                             \r\n                };\r\n\r\n                if (inputParam.operation === \"create\") {\r\n                    selectedRecord[\"nreporttypecode\"] = {\r\n                        item: response.data[\"SelectedReportType\"], label: response.data[\"SelectedReportType\"].sdisplayname,\r\n                        value: response.data[\"SelectedReportType\"].nreporttypecode\r\n                    }\r\n\r\n                    if (selectedRecord[\"nreporttypecode\"].value === reportTypeEnum.SAMPLE\r\n                        && selectedRecord[\"nreporttypecode\"]['item'].isneedregtype === transactionStatus.YES) {\r\n                        selectedRecord[\"nregtypecode\"] = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n                            response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n\r\n                        if (selectedRecord[\"nreporttypecode\"]['item'].isneedsection === transactionStatus.YES) {\r\n                            selectedRecord[\"nsectioncode\"] = sectionMap.get(\"DefaultValue\");\r\n                        }\r\n                    }\r\n                }\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportTypeList,//:response.data[\"ReportType\"] || [], \r\n                        reportModuleList,//:response.data[\"ReportModule\"] || [] ,\r\n                        ...respObject,\r\n                        operation: inputParam.operation,\r\n                        screenName: inputParam.screenName,\r\n                        selectedRecord,\r\n                        openModal: true,\r\n                        ncontrolCode: inputParam.ncontrolcode,\r\n                        loading: false\r\n                    }\r\n                });\r\n\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n            })\r\n        // }\r\n        // else{       \r\n        //     toast.warn(intl.formatMessage({id: \"IDS_CANNOTUPDATEAPPROVEDREPORT\"}));\r\n        // }\r\n\r\n    }\r\n}\r\n\r\nexport function getReportDetailComboService(inputParam) {\r\n    return function (dispatch) {\r\n        if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.DRAFT)) {\r\n            if (inputParam.masterData.SelectedReportMaster !== null) {\r\n                dispatch(initRequest(true));\r\n                let nreportdetailcode = null;\r\n                if (inputParam.operation === \"update\") {\r\n                    nreportdetailcode = inputParam.detailtoedit[inputParam.primaryKeyName];\r\n                }\r\n                return rsapi.post(\"reportconfig/getReportDetailComboData\", {\r\n                    nreportdetailcode,\r\n                    reportmaster: inputParam.masterData.SelectedReportMaster,\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        // const reportType = response.data[\"SelectedReportType\"];\r\n                        // const reportSubTypeMap  = constructOptionList(response.data[\"COAReportType\"] ||[], \"ncoareporttypecode\",\r\n                        //                             \"scoareporttypename\" , undefined, undefined, true);    \r\n                        // const sectionMap  = constructOptionList(response.data[\"SectionList\"] ||[], \"nsectioncode\",\r\n                        //                             \"ssectionname\", undefined, undefined, true);\r\n\r\n                        // const decisionTypeMap  = constructOptionList(response.data[\"ReportDecisionType\"] ||[], \"nreportdecisiontypecode\",\r\n                        //                             \"sdecisiontypename\" , undefined, undefined, true);   \r\n\r\n                        // const certificateTypeMap  = constructOptionList(response.data[\"CertificateType\"] ||[], \"ncertificatetypecode\",\r\n                        //                             \"scertificatetype\" , undefined, undefined, true);\r\n\r\n                        // const  reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n                        // const  sectionList = sectionMap.get(\"OptionList\"); \r\n                        // const  decisionTypeList = decisionTypeMap.get(\"OptionList\");\r\n                        // const  certificateTypeList = certificateTypeMap.get(\"OptionList\");  \r\n\r\n                        let selectedRecord = {};\r\n                        let respObject = {};\r\n                        if (inputParam.operation === \"update\") {\r\n                            selectedRecord = response.data[\"SelectedReportDetail\"];\r\n\r\n                        }\r\n                        selectedRecord[\"ntransactionstatus\"] = transactionStatus.DRAFT;\r\n\r\n                        //    console.log(\"selected in action:\", selectedRecord);\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                ...respObject,\r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                selectedRecord,\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolcode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }));\r\n            }\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.APPROVED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITAPPROVEDREPORT\" }));\r\n        }\r\n        else if (inputParam.operation === \"create\" || (inputParam.operation === \"update\" && inputParam.detailtoedit.ntransactionstatus === transactionStatus.RETIRED)) {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANNOTEDITRETIREDREPORT\" }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function getSelectedReportMasterDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDesigner\", {\r\n            nreportcode: parseInt(inputParam.nreportcode),\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getSelectedReportDetail(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportDetail\", {\r\n            nreportdetailcode: parseInt(inputParam.nreportdetailcode),\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, operation: null, modalName: undefined,\r\n                        loading: false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getConfigReportComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportAddDesignComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n\r\n                        const parameterMap = constructOptionList(response.data[\"ReportParameter\"] || [], \"nreportparametercode\",\r\n                            \"sreportparametername\", undefined, undefined, true);\r\n\r\n                        const reportParameterList = parameterMap.get(\"OptionList\");\r\n\r\n                        const designComponentMap = constructOptionList(response.data[\"DesignComponents\"] || [], \"ndesigncomponentcode\",\r\n                            \"sdesigncomponentname\", undefined, undefined, true);\r\n\r\n                        const designComponentList = designComponentMap.get(\"OptionList\");\r\n\r\n                        const sqlQueryMap = constructOptionList(response.data[\"SQLQuery\"] || [], \"nsqlquerycode\",\r\n                            \"ssqlqueryname\", undefined, undefined, true);\r\n\r\n                        const sqlQueryList = sqlQueryMap.get(\"OptionList\");\r\n\r\n                        dispatch({\r\n                            type: DEFAULT_RETURN, payload: {\r\n                                reportParameterList,//:response.data[\"ReportParameter\"] || [], \r\n                                designComponentList,//:response.data[\"DesignComponents\"] || [],\r\n                                sqlQueryList,//:response.data[\"SQLQuery\"] || [], \r\n                                operation: inputParam.operation,\r\n                                screenName: inputParam.screenName,\r\n                                //selectedRecord:{nmandatory:transactionStatus.YES}, \r\n                                selectedRecord: {},\r\n                                openModal: true,\r\n                                ncontrolCode: inputParam.ncontrolCode,\r\n                                loading: false\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTCONFIGUREAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANCONFIGUREMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function getParameterMappingComboService(inputParam) {\r\n    return function (dispatch) {\r\n\r\n        if (inputParam.reportMaster.nreporttypecode === reportTypeEnum.MIS) {\r\n            if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT) {\r\n                dispatch(initRequest(true));\r\n                return rsapi.post(\"reportconfig/getReportParameterMappingComboData\", {\r\n                    nreportdetailcode: parseInt(inputParam.reportDetail.nreportdetailcode),\r\n                    userinfo: inputParam.userInfo\r\n                })\r\n                    .then(response => {\r\n                        if (response.data[\"ChildComponentList\"].length > 0) {\r\n\r\n                            const parentComponentMap = constructOptionList(response.data[\"ParentComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const parentComponentList = parentComponentMap.get(\"OptionList\");\r\n\r\n                            const childComponentMap = constructOptionList(response.data[\"ChildComponentList\"] || [], \"nreportdesigncode\",\r\n                                \"sdisplayname\", undefined, undefined, true);\r\n                            const childComponentList = childComponentMap.get(\"OptionList\");\r\n\r\n                            dispatch({\r\n                                type: DEFAULT_RETURN, payload: {\r\n                                    parentComponentList,//:response.data[\"ParentComponenList\"] || [],\r\n                                    childComponentList,//:response.data[\"ChildComponentList\"] || [], \r\n                                    operation: inputParam.operation,\r\n                                    screenName: inputParam.screenName,\r\n                                    selectedRecord: {},\r\n                                    openModal: true,\r\n                                    ncontrolCode: inputParam.ncontrolCode,\r\n                                    loading: false\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                            toast.warn(intl.formatMessage({ id: \"IDS_NOPARAMETERSTOMAP\" }))\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        }\r\n                        else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                toast.warn(intl.formatMessage({ id: \"IDS_CANNOTMAPAPPROVEDREPORT\" }))\r\n            }\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_CANMAPMISREPORT\" }))\r\n        }\r\n    }\r\n}\r\n\r\nexport function viewReportDetail(reportmaster, userInfo, masterData) {\r\n    return function (dispatch) {\r\n        if (reportmaster !== undefined) {\r\n            dispatch(initRequest(true));\r\n            return rsapi.post(\"reportview/viewReport\", { reportmaster, userinfo: userInfo })\r\n                .then(response => {\r\n                    // console.log(\"report action:\", response);\r\n                    masterData = { ...masterData, ...response.data };\r\n\r\n                    if (response.data[\"ViewReportDesignConfig\"] !== undefined) {\r\n                        masterData[\"ReportPDFFile\"] = undefined;\r\n                    }\r\n                    // else{\r\n                    //     document.getElementById(\"download_data\").setAttribute(\"href\", masterData[\"ReportPDFFile\"]);\r\n                    //     document.getElementById(\"download_data\").click();\r\n                    // }\r\n\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { masterData, loading: false } });\r\n                })\r\n                .catch(error => {\r\n                    dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    }\r\n                    else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                })\r\n        }\r\n        else {\r\n            toast.warn(intl.formatMessage({ id: \"IDS_REPORTNOTFOUND\" }))\r\n        }\r\n    }\r\n}\r\n\r\n// export function getActionMappingComboService(inputParam) {\r\n//     return function (dispatch) {   \r\n\r\n//     if (inputParam.reportDetail.ntransactionstatus === transactionStatus.DRAFT){\r\n//             dispatch(initRequest(true));\r\n//             return rsapi.post(\"reportconfig/getActionMappingComboData\", {nreportdetailcode:parseInt(inputParam.reportDetail.nreportdetailcode),\r\n//                                         userinfo:inputParam.userInfo})\r\n//         .then(response=>{ \r\n//             if (response.data[\"ActionMappingChild\"].length > 0)\r\n//             {     \r\n//                     dispatch({type: DEFAULT_RETURN, payload:{actionMappingParentList:response.data[\"ActionMappingParent\"] || [],\r\n//                                                             actionMappingChildList:response.data[\"ActionMappingChild\"] || [], \r\n//                                                             operation:inputParam.operation, \r\n//                                                             screenName:inputParam.screenName,   \r\n//                                                             selectedRecord:{}, \r\n//                                                             openModal : true,\r\n//                                                             ncontrolCode:inputParam.ncontrolCode,\r\n//                                                             loading:false\r\n//                                                             }}); \r\n//             }\r\n//             else{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//                 toast.warn(intl.formatMessage({id:\"IDS_NOACTIONSTOMAP\"}))\r\n//             }\r\n//         })\r\n//         .catch(error=>{\r\n//                 dispatch({type: DEFAULT_RETURN, payload: {loading:false}})\r\n//             if (error.response.status === 500){\r\n//                 toast.error(error.message);\r\n//             } \r\n//             else{               \r\n//                 toast.warn(error.response.data);\r\n//             }  \r\n\r\n//         })\r\n//     }\r\n//     else{\r\n//         toast.warn(intl.formatMessage({id:\"IDS_CANNOTACTIONMAPAPPROVEDREPORT\"}))\r\n//     }\r\n// }}\r\n\r\nexport function getReportViewChildDataList(inputParam) {\r\n    return function (dispatch) {\r\n        // dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getChildDataList\", { ...inputParam[\"inputData\"] })\r\n            .then(response => {\r\n                const controlList = inputParam.viewReportDesignConfigList;\r\n\r\n                const selectedRecord = inputParam.selectedRecord;\r\n\r\n                Object.keys(response.data).map(displayName => {\r\n                    const index = controlList.findIndex(item => displayName === item.sdisplayname);\r\n\r\n                    const comboMap = constructOptionList(response.data[displayName] || [], controlList[index].svaluemember,\r\n                        controlList[index].sdisplaymember, undefined, undefined, true);\r\n\r\n                    const comboList = comboMap.get(\"OptionList\");\r\n                    selectedRecord[controlList[index].svaluemember] = undefined;\r\n\r\n                    return controlList[index][\"dataList\"] = comboList;//response.data[displayName]\r\n                })\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        viewReportDesignConfigList: controlList,\r\n                        loading: false,\r\n                        inputFieldData: inputParam.inputData.inputfielddata,\r\n                        selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function viewReportDetailWithParameters(viewReportParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/viewReportWithParameters\", { ...viewReportParam })\r\n            .then(response => {\r\n                const masterData = {\r\n                    ...viewReportParam.masterData, ...response.data,\r\n                    ReportPDFFile: response.data[\"ReportPDFFile\"],\r\n                    SelectedReportDetails: response.data[\"SelectedReportDetails\"],\r\n                    ReportPDFPath: response.data[\"ReportPDFPath\"],\r\n                    ViewReportDesignConfig: undefined\r\n                };\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, loading: false, //openModal:false\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportsByModule(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportview/getReportView\", {\r\n            nreportmodulecode: inputParam.nreportmodulecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const masterData = { ...inputParam.masterData, ...response.data };\r\n\r\n                // const  reportModuleMap  = constructOptionList(masterData.ViewReportModuleList ||[], \"nreportmodulecode\",\r\n                //                          \"smoduledisplayname\" , undefined, undefined, true);\r\n                // const  reportModuleList  = reportModuleMap.get(\"OptionList\");\r\n\r\n                sortData(masterData);\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        masterData, //viewReportModuleList:reportModuleList,\r\n                        operation: null, modalName: undefined,\r\n                        loading: false, selectedRecord: inputParam.selectedRecord\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport function getControlButton(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getControlButton\", {\r\n            nformcode: inputParam.ControlScreen.nformcode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const controlButtonMap = constructOptionList(response.data || [], \"ncontrolcode\",\r\n                    \"scontrolids\", undefined, undefined, true);\r\n                const controlButtonList = controlButtonMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        controlButton: controlButtonList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegistrationSubType\", {\r\n            nregtypecode: inputParam.registrationType.nregtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const regSubTypeMap = constructOptionList(response.data || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        regSubTypeList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregsubtypecode: undefined\r\n                            //nregsubtypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportSubType(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportSubType\", {\r\n            nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const reportSubTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = reportSubTypeMap.get(\"OptionList\");\r\n\r\n                const certificateTypeMap = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateTypeMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        reportSubTypeList,\r\n                        certificateTypeList,\r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                            // ncoareporttypecode:{label:\"Please Select...\", value:-4}\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getregtype(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getRegistrationtypeForSample\", {\r\n            nregtypecode: inputParam.nregtypecode, nreporttypecode: inputParam.reportType.nreporttypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                // const reportRegTypeMap  = constructOptionList(response.data.Regtype ||[], \"nregtypecode\",\r\n                //                          \"sregtypename\" , undefined, undefined, true);   \r\n                // const  reportRegTypeList = reportRegTypeMap.get(\"OptionList\");\r\n\r\n                // // const reportRegSubTypeMap  = constructOptionList(response.data.RegSubtype ||[], \"nregsubtypecode\",\r\n                // // \"sregsubtypename\" , undefined, undefined, true);   \r\n                // //   const  reportRegSubTypeList = reportRegSubTypeMap.get(\"OptionList\");\r\n\r\n                const regTypeMap = constructOptionList(response.data[\"RegistrationType\"] || [], \"nregtypecode\",\r\n                    \"sregtypename\", undefined, undefined, true);\r\n                const regTypeList = regTypeMap.get(\"OptionList\");\r\n\r\n                const regSubTypeMap = constructOptionList(response.data[\"RegistrationSubType\"] || [], \"nregsubtypecode\",\r\n                    \"sregsubtypename\", undefined, undefined, true);\r\n                const regSubTypeList = regSubTypeMap.get(\"OptionList\");\r\n\r\n                const coaReportTypeMap = constructOptionList(response.data.COAReportType || [], \"ncoareporttypecode\",\r\n                    \"scoareporttypename\", undefined, undefined, true);\r\n                const reportSubTypeList = coaReportTypeMap.get(\"OptionList\");\r\n\r\n                const certificateType = constructOptionList(response.data.CertificateType || [], \"ncertificatetypecode\",\r\n                    \"scertificatetype\", undefined, undefined, true);\r\n                const certificateTypeList = certificateType.get(\"OptionList\");\r\n\r\n\r\n                const nregtypecode = getComboLabelValue(response.data[\"SelectedRegType\"],\r\n                    response.data[\"RegistrationType\"], \"nregtypecode\", \"sregtypename\")\r\n\r\n\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        regTypeList,\r\n                        regSubTypeList,\r\n                        reportSubTypeList,\r\n                        loading: false,\r\n                        certificateTypeList,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            nregtypecode: nregtypecode, nregsubtypecode: undefined,\r\n                            ncoareporttypecode: undefined,\r\n                            ncertificatetypecode: \"\"\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport function getReportRegSubTypeApproveConfigVersion(inputParam) {\r\n    return function (dispatch) {\r\n        dispatch(initRequest(true));\r\n        return rsapi.post(\"reportconfig/getReportRegSubTypeApproveConfigVersion\", {\r\n            nregtypecode: inputParam.selectedRecord.nregtypecode.value,\r\n            nregsubtypecode: inputParam.registrationsubType.nregsubtypecode,\r\n            userinfo: inputParam.userInfo\r\n        })\r\n            .then(response => {\r\n\r\n                const ApproveConfigVersionMap = constructOptionList(response.data || [], \"napproveconfversioncode\",\r\n                    \"sversionname\", undefined, undefined, false);\r\n                const ApproveConfigList = ApproveConfigVersionMap.get(\"OptionList\");\r\n                dispatch({\r\n                    type: DEFAULT_RETURN, payload: {\r\n                        ApproveConfigList,//: response.data,                                            \r\n                        loading: false,\r\n                        selectedRecord: {\r\n                            ...inputParam.selectedRecord,\r\n                            napproveconfversioncode: undefined\r\n\r\n                        }\r\n                    }\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: DEFAULT_RETURN, payload: { loading: false } })\r\n                if (error.response.status === 500) {\r\n                    toast.error(error.message);\r\n                }\r\n                else {\r\n                    toast.warn(error.response.data);\r\n                }\r\n\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}