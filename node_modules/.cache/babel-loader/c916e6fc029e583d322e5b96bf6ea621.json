{"ast":null,"code":"import _defineProperty from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\WorkingFolder\\\\React_Postgres\\\\ALPD\\\\SOURCE-512\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Chart,ChartLegend,ChartSeries,ChartSeriesItem,ChartCategoryAxis,ChartCategoryAxisItem,ChartTooltip}from'@progress/kendo-react-charts';import{PDFExport}from\"@progress/kendo-react-pdf\";import{faFilePdf}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Col,Nav,Row}from'react-bootstrap';import{ProductList}from'../../../pages/product/product.styled';import{ReactComponent as ChartRefresh}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/image/chart-refresh.svg\";import{injectIntl}from'react-intl';import'../../../assets/styles/dashboard.css';import'hammerjs';import{designComponents}from'../../../components/Enumeration';import{convertDatetoStringByTimeZone,rearrangeDateFormat}from'../../../components/CommonScript';import ScrollContainer from'react-indiana-drag-scroll';import{Breadcrumb}from'react-bootstrap';import{Attachments}from'../../../components/dropzone/dropzone.styles';// const mapStateToProps = state => {\n//     return ({ Login: state.Login })\n// }\nvar AreaChart=/*#__PURE__*/function(_React$Component){_inherits(AreaChart,_React$Component);var _super=_createSuper(AreaChart);function AreaChart(props){var _this;_classCallCheck(this,AreaChart);_this=_super.call(this,props);_this.exportPDF=function(){_this.pdfExportComponent.save();};_this.state={data:[],masterStatus:\"\",error:\"\",selectedRecord:{}};return _this;}_createClass(AreaChart,[{key:\"breadcrumDesign\",value:function breadcrumDesign(viewDashBoardDesignConfigList){var _this2=this;var breadCrumValue=\"\";var arryalist=[];var selectedRecord=this.props.selectedRecord||{};viewDashBoardDesignConfigList.forEach(function(item){if(item.ndesigncomponentcode===designComponents.DATEPICKER){var date=rearrangeDateFormat(_this2.props.userInfo,item.dataList[0]);breadCrumValue=selectedRecord?selectedRecord[item.sfieldname]?convertDatetoStringByTimeZone(_this2.props.userInfo,selectedRecord[item.sfieldname]):convertDatetoStringByTimeZone(_this2.props.userInfo,date):convertDatetoStringByTimeZone(_this2.props.userInfo,date);}else if(item.ndesigncomponentcode===designComponents.COMBOBOX){var listvalue=[];if(selectedRecord&&selectedRecord[item.sfieldname]){listvalue.push(_defineProperty({},item.sdisplaymember,selectedRecord[item.sfieldname].label));}else{listvalue=item.dataList.filter(function(lst){return lst[item.sfieldname]===parseInt(item.sdefaultvalue);});}breadCrumValue=listvalue&&listvalue.length>0?listvalue[0][item.sdisplaymember]:\"-\";}else if(item.ndesigncomponentcode===designComponents.USERINFO){var _listvalue=[];//commenting now for restricting breadcrumbs\n// if(selectedRecord && selectedRecord[item.sfieldname]) {\n//     listvalue.push({ [item.sfieldname]: selectedRecord[item.sfieldname] })\n// }else{\n//     listvalue.push({ [item.sfieldname]: this.props.userInfo && this.props.userInfo[item.sfieldname] })\n// }\n//breadCrumValue = listvalue && listvalue.length > 0 ? listvalue[0][item.sfieldname] : \"-\";\nbreadCrumValue=_listvalue&&_listvalue.length==0?\"\":\"-\";}else{breadCrumValue=selectedRecord?selectedRecord[item.sfieldname]?selectedRecord[item.sfieldname]:item.sdefaultvalue:item.sdefaultvalue;}if(item.ndesigncomponentcode!==designComponents.USERINFO){arryalist.push({\"label\":item.sdisplayname,\"value\":breadCrumValue});}});return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"p-0\"},/*#__PURE__*/React.createElement(ScrollContainer,{className:\"breadcrumbs-scroll-container\"},/*#__PURE__*/React.createElement(Breadcrumb,{className:\"filter-breadcrumbs\"},arryalist.map(function(item,index){return/*#__PURE__*/React.createElement(Breadcrumb.Item,{key:index},/*#__PURE__*/React.createElement(\"span\",null,item[\"label\"],\" \",\":\",\" \"),/*#__PURE__*/React.createElement(\"span\",null,item[\"value\"]));})))));}},{key:\"render\",value:function render(){var _this3=this;var Series=[];var labelContent=function labelContent(props){return\"\".concat(props.dataItem===null?0:props.dataItem);};if(this.props.ySeries!==undefined){this.props.ySeries.map(function(item){Series.push(/*#__PURE__*/React.createElement(ChartSeriesItem,{type:_this3.props.chartTypeName,line:{style:\"smooth\"},data:item.Series,name:item.yField,color:item.colors,aggregate:\"count\",stack:_this3.props.chartTypeName==='area'?true:false,labels:_this3.props.chartTypeName!=='area'?{visible:true,content:labelContent,position:\"center\"}:{},gap:1.5,overlay:false}));return null;});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:8},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-left\"},this.props.isStaticDashBoard?this.props.staticTitle:this.props.dashBoardType.selectedDashBoardTypes&&this.props.dashBoardType.selectedDashBoardTypes.sdashboardtypename)),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(ProductList,{className:\"d-inline dropdown badget_menu d-flex justify-content-end \"},/*#__PURE__*/React.createElement(Nav.Link,{//className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\nclassName:\"btn btn-circle outline-grey mr-2\",hidden:this.props.hiddenParam//title={\"ChartRefresh\"}\n,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_REFRESHCHART\"}),onClick:function onClick(e){return _this3.props.checkParametersAvailable(_this3.props.dashBoardType.selectedDashBoardTypes,_this3.props.userInfo,_this3.props.masterData,_this3.props.dashBoardTypeNo,_this3.props.templateCode);}},/*#__PURE__*/React.createElement(ChartRefresh,{className:\"custom_icons\",width:\"20\",height:\"20\",style:{marginLeft:'0.35rem'}})),/*#__PURE__*/React.createElement(Nav.Link,{className:\"btn btn-circle outline-grey mr-2 action-icons-wrap\",href:\"#\",hidden:this.props.hiddenExport,\"data-tip\":this.props.intl.formatMessage({id:\"IDS_DOWNLOADPDF\"})},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faFilePdf,className:\"ActionIconColor\",onClick:function onClick(){return _this3.exportPDF();}}))))),this.props.dashBoardType.viewDashBoardDesignConfigList&&this.breadcrumDesign(this.props.dashBoardType.viewDashBoardDesignConfigList),this.props.ySeries&&this.props.ySeries.length>0?/*#__PURE__*/React.createElement(PDFExport,{ref:function ref(component){return _this3.pdfExportComponent=component;},paperSize:\"auto\",margin:40},/*#__PURE__*/React.createElement(Chart,{pannable:true,zoomable:false,style:this.props.style},/*#__PURE__*/React.createElement(ChartTooltip,null),/*#__PURE__*/React.createElement(ChartLegend,{position:\"bottom\",orientation:\"horizontal\"}),/*#__PURE__*/React.createElement(ChartCategoryAxis,null,/*#__PURE__*/React.createElement(ChartCategoryAxisItem,{labels:{rotation:\"auto\"}//labels={{ visible: true, content: labelContent }}\n,categories:this.props.xSeries})),/*#__PURE__*/React.createElement(ChartSeries,null,Series))):/*#__PURE__*/React.createElement(Attachments,{className:\"norecordchart\"},this.props.intl.formatMessage({id:\"IDS_NORECORDSAVAILABLE\"})));}}]);return AreaChart;}(React.Component);export default injectIntl(AreaChart);","map":{"version":3,"sources":["E:/WorkingFolder/React_Postgres/ALPD/branches/SOURCE-512/QuaLISWeb/src/pages/dashboardtypes/charts/AreaChart.jsx"],"names":["React","Chart","ChartLegend","ChartSeries","ChartSeriesItem","ChartCategoryAxis","ChartCategoryAxisItem","ChartTooltip","PDFExport","faFilePdf","FontAwesomeIcon","Col","Nav","Row","ProductList","injectIntl","designComponents","convertDatetoStringByTimeZone","rearrangeDateFormat","ScrollContainer","Breadcrumb","Attachments","AreaChart","props","exportPDF","pdfExportComponent","save","state","data","masterStatus","error","selectedRecord","viewDashBoardDesignConfigList","breadCrumValue","arryalist","forEach","item","ndesigncomponentcode","DATEPICKER","date","userInfo","dataList","sfieldname","COMBOBOX","listvalue","push","sdisplaymember","label","filter","lst","parseInt","sdefaultvalue","length","USERINFO","sdisplayname","map","index","Series","labelContent","dataItem","ySeries","undefined","chartTypeName","style","yField","colors","visible","content","position","isStaticDashBoard","staticTitle","dashBoardType","selectedDashBoardTypes","sdashboardtypename","hiddenParam","intl","formatMessage","id","e","checkParametersAvailable","masterData","dashBoardTypeNo","templateCode","marginLeft","hiddenExport","breadcrumDesign","component","rotation","xSeries","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Chart, ChartLegend, ChartSeries, ChartSeriesItem, ChartCategoryAxis, ChartCategoryAxisItem, ChartTooltip } from '@progress/kendo-react-charts';\r\nimport { PDFExport } from \"@progress/kendo-react-pdf\";\r\nimport { faFilePdf } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Col, Nav, Row } from 'react-bootstrap';\r\nimport { ProductList } from '../../../pages/product/product.styled';\r\nimport { ReactComponent as ChartRefresh } from '../../../assets/image/chart-refresh.svg';\r\nimport { injectIntl } from 'react-intl';\r\nimport '../../../assets/styles/dashboard.css';\r\nimport 'hammerjs';\r\nimport { designComponents } from '../../../components/Enumeration';\r\nimport { convertDatetoStringByTimeZone, rearrangeDateFormat } from '../../../components/CommonScript'\r\nimport ScrollContainer from 'react-indiana-drag-scroll';\r\nimport { Breadcrumb } from 'react-bootstrap';\r\nimport { Attachments } from '../../../components/dropzone/dropzone.styles';\r\n\r\n\r\n// const mapStateToProps = state => {\r\n//     return ({ Login: state.Login })\r\n// }\r\n\r\n\r\nclass AreaChart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [], masterStatus: \"\", error: \"\", selectedRecord: {}\r\n        }\r\n    }\r\n    exportPDF = () => {\r\n        this.pdfExportComponent.save();\r\n    }\r\n\r\n    breadcrumDesign(viewDashBoardDesignConfigList) {\r\n        let breadCrumValue = \"\";\r\n        let arryalist = [];\r\n        let selectedRecord = this.props.selectedRecord || {}\r\n        \r\n        viewDashBoardDesignConfigList.forEach(item => {\r\n\r\n            if (item.ndesigncomponentcode === designComponents.DATEPICKER) {\r\n                let date = rearrangeDateFormat(this.props.userInfo,item.dataList[0])\r\n                breadCrumValue = selectedRecord ? selectedRecord[item.sfieldname] ? convertDatetoStringByTimeZone(this.props.userInfo, selectedRecord[item.sfieldname]) :\r\n                    convertDatetoStringByTimeZone(this.props.userInfo, date) : convertDatetoStringByTimeZone(this.props.userInfo, date);\r\n            }\r\n            else if (item.ndesigncomponentcode === designComponents.COMBOBOX) {\r\n                let listvalue = [];\r\n                if (selectedRecord && selectedRecord[item.sfieldname]) {\r\n                    listvalue.push({ [item.sdisplaymember]: selectedRecord[item.sfieldname].label })\r\n                } else {\r\n                    listvalue = item.dataList.filter(lst => {\r\n                        return lst[item.sfieldname] === parseInt(item.sdefaultvalue);\r\n                    });\r\n                }\r\n\r\n                breadCrumValue = listvalue && listvalue.length > 0 ? listvalue[0][item.sdisplaymember] : \"-\";\r\n            }else if (item.ndesigncomponentcode === designComponents.USERINFO) {\r\n                let listvalue = [];\r\n                //commenting now for restricting breadcrumbs\r\n                // if(selectedRecord && selectedRecord[item.sfieldname]) {\r\n                //     listvalue.push({ [item.sfieldname]: selectedRecord[item.sfieldname] })\r\n                // }else{\r\n                //     listvalue.push({ [item.sfieldname]: this.props.userInfo && this.props.userInfo[item.sfieldname] })\r\n                // }\r\n                //breadCrumValue = listvalue && listvalue.length > 0 ? listvalue[0][item.sfieldname] : \"-\";\r\n               breadCrumValue = listvalue && listvalue.length == 0 ? \"\" : \"-\";\r\n            }\r\n            else {\r\n                breadCrumValue = selectedRecord ? selectedRecord[item.sfieldname] ? selectedRecord[item.sfieldname] : item.sdefaultvalue : item.sdefaultvalue;\r\n            }\r\n            if(item.ndesigncomponentcode !== designComponents.USERINFO){\r\n                arryalist.push({ \"label\": item.sdisplayname, \"value\": breadCrumValue });\r\n            }\r\n        });\r\n\r\n\r\n        return (\r\n            < Row >\r\n                <Col md={12} className=\"p-0\">\r\n                    < ScrollContainer className=\"breadcrumbs-scroll-container\">\r\n                        <Breadcrumb className=\"filter-breadcrumbs\">\r\n                            {arryalist.map((item, index) =>\r\n                                <Breadcrumb.Item key={index}>\r\n                                    <span>{item[\"label\"]}{\" \"}:{\" \"}</span>\r\n                                    <span>{item[\"value\"]}</span>\r\n                                </Breadcrumb.Item>\r\n                            )}\r\n                        </Breadcrumb>\r\n                    </ScrollContainer>\r\n                </Col >\r\n            </Row >\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        let Series = [];\r\n        const labelContent = (props) => {\r\n            return `${props.dataItem === null ? 0 : props.dataItem}`;\r\n        }\r\n\r\n        if (this.props.ySeries !== undefined) {\r\n            this.props.ySeries.map(item => {\r\n                Series.push(\r\n                    <ChartSeriesItem type={this.props.chartTypeName}\r\n                        line={{ style: \"smooth\" }}\r\n                        data={item.Series}\r\n                        name={item.yField}\r\n                        color={item.colors} \r\n                        aggregate=\"count\"\r\n                        stack={this.props.chartTypeName === 'area' ? true : false}\r\n                        labels={this.props.chartTypeName !== 'area' ?\r\n                            { visible: true, content: labelContent, position: \"center\" } : {}}\r\n                        gap={1.5}\r\n                        overlay={false}\r\n                    />);\r\n                return null;            })\r\n        }\r\n        return (\r\n            <>\r\n                {/* {this.props.viewDashBoardDesignConfigList &&\r\n                    this.breadcrumDesign(this.props.viewDashBoardDesignConfigList)\r\n                } */}\r\n                <Row>\r\n                    <Col md={8} >\r\n                        {/* <h4 hidden={this.props.hiddenExport} className=\"text-left\">\r\n                            {this.props.masterData.selectedDashBoardTypes && \r\n                            this.props.masterData.selectedDashBoardTypes.sdashboardtypename}\r\n                        </h4> */}\r\n                        <h4 className=\"text-left\">\r\n                            {this.props.isStaticDashBoard ? this.props.staticTitle : this.props.dashBoardType.selectedDashBoardTypes\r\n                                && this.props.dashBoardType.selectedDashBoardTypes.sdashboardtypename}\r\n                        </h4>\r\n                    </Col>\r\n                    <Col md={4} >\r\n                        <ProductList className=\"d-inline dropdown badget_menu d-flex justify-content-end \">\r\n                            <Nav.Link\r\n                                //className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\" href=\"#\"\r\n                                className=\"btn btn-circle outline-grey mr-2\"\r\n                                hidden={this.props.hiddenParam}\r\n                                //title={\"ChartRefresh\"}\r\n                                data-tip={this.props.intl.formatMessage({ id: \"IDS_REFRESHCHART\" })}\r\n                                onClick={(e) => this.props.checkParametersAvailable(this.props.dashBoardType.selectedDashBoardTypes, this.props.userInfo, this.props.masterData,\r\n                                    this.props.dashBoardTypeNo, this.props.templateCode)} >\r\n                                <ChartRefresh className=\"custom_icons\" width=\"20\" height=\"20\" style={{ marginLeft: '0.35rem' }} />\r\n\r\n                            </Nav.Link>\r\n                            <Nav.Link className=\"btn btn-circle outline-grey mr-2 action-icons-wrap\"\r\n                                href=\"#\" hidden={this.props.hiddenExport}\r\n                                data-tip={this.props.intl.formatMessage({ id: \"IDS_DOWNLOADPDF\" })}\r\n                            >\r\n                                <FontAwesomeIcon icon={faFilePdf} className=\"ActionIconColor\"\r\n                                    onClick={() => this.exportPDF()} />\r\n                            </Nav.Link>\r\n                        </ProductList>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {this.props.dashBoardType.viewDashBoardDesignConfigList &&\r\n                    this.breadcrumDesign(this.props.dashBoardType.viewDashBoardDesignConfigList)\r\n                }\r\n\r\n                {this.props.ySeries && this.props.ySeries.length > 0 ?\r\n                    <PDFExport\r\n                        ref={component => (this.pdfExportComponent = component)}\r\n                        paperSize=\"auto\"\r\n                        margin={40} >\r\n                        <Chart pannable={true} zoomable={false} style={this.props.style}>\r\n                            <ChartTooltip />\r\n\r\n                            <ChartLegend position=\"bottom\" orientation=\"horizontal\" />\r\n                            <ChartCategoryAxis>\r\n                                <ChartCategoryAxisItem labels={{ rotation: \"auto\" }}\r\n                                    //labels={{ visible: true, content: labelContent }}\r\n                                    categories={this.props.xSeries} />\r\n                            </ChartCategoryAxis>\r\n\r\n                            <ChartSeries>\r\n                                {Series}\r\n                            </ChartSeries>\r\n                        </Chart>\r\n                    </PDFExport>\r\n                    :\r\n                    <Attachments className=\"norecordchart\">\r\n                        {this.props.intl.formatMessage({ id: \"IDS_NORECORDSAVAILABLE\" })}\r\n                    </Attachments>\r\n                }\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default injectIntl(AreaChart);"]},"metadata":{},"sourceType":"module"}