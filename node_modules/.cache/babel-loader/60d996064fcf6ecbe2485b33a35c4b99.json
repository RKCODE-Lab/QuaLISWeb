{"ast":null,"code":"import _objectSpread from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\LIMSWFH\\\\LIMSPOSTGRESQL\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Col,Row}from'react-bootstrap';import{injectIntl}from'react-intl';import{transactionStatus}from'../../components/Enumeration';import{viewAttachment}from'../../actions';import{connect}from'react-redux';import DataGrid from'../../components/data-grid/data-grid.component';import SlideOutModal from'../../components/slide-out-modal/SlideOutModal';import{process}from'@progress/kendo-data-query';import CustomSwitch from'../../components/custom-switch/custom-switch.component';import FormTextarea from'../../components/form-textarea/form-textarea.component';import FormSelectSearch from'../../components/form-select-search/form-select-search.component';import Esign from'../audittrail/Esign';import rsapi from'../../rsapi';import{toast}from'react-toastify';import{Lims_JSON_stringify,constructOptionList}from\"../../components/CommonScript\";import Axios from\"axios\";var ReleaseTestAttachment=/*#__PURE__*/function(_React$Component){_inherits(ReleaseTestAttachment,_React$Component);var _super=_createSuper(ReleaseTestAttachment);function ReleaseTestAttachment(props){var _this;_classCallCheck(this,ReleaseTestAttachment);_this=_super.call(this,props);_this.closeModal=function(){var loadEsign=_this.state.loadEsign;var openModal=_this.state.openModal;var selectedRecord=_this.state.selectedRecord;var operation=_this.state.operation;if(_this.state.loadEsign){if(_this.state.operation===\"delete\"){loadEsign=false;openModal=false;selectedRecord={};operation=undefined;}else{loadEsign=false;selectedRecord[\"esigncomments\"]=\"\";selectedRecord[\"esignpassword\"]=\"\";selectedRecord['esignreason']='';}}else{openModal=false;selectedRecord={};}_this.setState({loadEsign:loadEsign,openModal:openModal,selectedRecord:selectedRecord,operation:operation});};_this.getSampleDetails=function(event,ncontrolCode,operation){var url=\"release/getActiveReleaseTestCommentById\";var openModal=true;if(_this.props.masterData.selectedReleaseHistory.ntransactionstatus!==transactionStatus.RELEASED){if(operation===\"update\"){var urlArray=[];urlArray.push(rsapi.post(url,{\"ncoaparentcode\":event.editRow.ncoaparentcode,\"npreregno\":event.editRow.npreregno,\"ntransactionsamplecode\":event.editRow.ntransactionsamplecode,\"ntransactiontestcode\":event.editRow.ntransactiontestcode,\"nreleasetestcommentcode\":event.editRow.nreleasetestcommentcode,\"userinfo\":_this.props.userInfo}));urlArray.push(rsapi.post(\"/comments/getSampleTestCommentsListById\",{userinfo:_this.props.userInfo,ncommentsubtypecode:event.editRow&&event.editRow.ncommentsubtypecode&&event.editRow.ncommentsubtypecode}));Axios.all(urlArray).then(function(response){var responseData=response[0].data;var lstSampleTestComments=constructOptionList(response[1].data.SampleTestComments||[],\"nsampletestcommentscode\",\"spredefinedname\",false,false,true);var SampleTestComments=lstSampleTestComments.get(\"OptionList\");if(responseData.ntransactionstatus!==transactionStatus.RELEASED){var selectedReleaseTestComment=event.editRow;var masterData=_this.props.masterData;var nneedreport=responseData&&responseData.nneedreport?responseData.nneedreport:transactionStatus.NO;var scomments=responseData&&responseData.scomments?responseData.scomments:\"\";var npreregno;var ntransactionsamplecode;var ntransactiontestcode;var sarno;var ssamplearno;var stestsynonym;masterData.RegistrationArno.map(function(item){if(item.value===responseData.npreregno){npreregno=item;sarno=item.label;}});masterData.RegistrationSampleArno.map(function(item){if(item.value===responseData.ntransactionsamplecode){ntransactionsamplecode=item;ssamplearno=item.label;}});masterData.RegistrationTest.map(function(item){if(item.value===responseData.ntransactiontestcode){ntransactiontestcode=item;stestsynonym=item.label;}});var selectedRecord=_objectSpread(_objectSpread({},_this.state.selectedRecord),{},{npreregno:npreregno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode,sarno:sarno,ssamplearno:ssamplearno,stestsynonym:stestsynonym,nneedreport:nneedreport,scomments:scomments,selectedReleaseTestComment:selectedReleaseTestComment});selectedRecord[\"scommentsubtype\"]=responseData.scommentsubtype;selectedRecord[\"ncommentsubtypecode\"]={label:responseData.scommentsubtype,value:responseData.ncommentsubtypecode};selectedRecord[\"spredefinedname\"]=responseData.spredefinedname;selectedRecord[\"nsampletestcommentscode\"]={label:responseData.spredefinedname,value:responseData.nsampletestcommentscode};_this.setState({selectedRecord:selectedRecord,openModal:openModal,operation:operation,ncontrolCode:ncontrolCode,SampleTestComments:SampleTestComments});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RECORDALREADYRELEASED\"}));}}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}else{var RegistrationArno=_this.props.masterData.RegistrationArno;var commentSubType=_this.props.CommentSubType;var selectedRecord={RegistrationArno:RegistrationArno,ReleaseTestCommentDetails:_this.props.masterData.ReleaseTestCommentDetails,nneedreport:transactionStatus.NO,ncommentsubtypecode:commentSubType&&commentSubType[0],scommentsubtype:commentSubType&&commentSubType[0]&&commentSubType[0].label};_this.setState({selectedRecord:selectedRecord,openModal:openModal,operation:operation,ncontrolCode:ncontrolCode});}}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RECORDALREADYRELEASED\"}));}};_this.deleteRecord=function(deleteParam){var url=\"release/deleteReleaseTestComment\";if(_this.props.masterData.selectedReleaseHistory.ntransactionstatus!==transactionStatus.RELEASED){var releasetestcomment={\"ncoaparentcode\":deleteParam.selectedRecord.ncoaparentcode,\"npreregno\":deleteParam.selectedRecord.npreregno,\"ntransactionsamplecode\":deleteParam.selectedRecord.ntransactionsamplecode,\"ntransactiontestcode\":deleteParam.selectedRecord.ntransactiontestcode,\"nreleasetestcommentcode\":deleteParam.selectedRecord.nreleasetestcommentcode};rsapi.post(url,{releasetestcomment:releasetestcomment,\"userinfo\":_this.props.userInfo}).then(function(response){var ReleaseTestCommentDetails=response.data.ReleaseTestCommentDetails;var selectedRecord=_objectSpread(_objectSpread({},_this.state.selectedRecord),response.data);_this.setState({selectedRecord:selectedRecord,ReleaseTestCommentDetails:ReleaseTestCommentDetails});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}else{toast.warn(_this.props.intl.formatMessage({id:\"IDS_RECORDALREADYRELEASED\"}));}};_this.onComboChange=function(comboData,fieldName){var selectedRecord=_this.state.selectedRecord||{};var lstRegistrationSampleArno=_this.props.masterData.RegistrationSampleArno;var lstRegistrationTest=_this.props.masterData.RegistrationTest;var RegistrationSampleArno=[];var RegistrationTest=[];var ntransactionsamplecode=\"\";var ntransactiontestcode=\"\";var ssamplearno=null;var stestsynonym=null;if(fieldName===\"npreregno\"){lstRegistrationSampleArno.map(function(item){if(item.item.npreregno===comboData.value){RegistrationSampleArno.push(item);}});var npreregno={item:comboData.item,label:comboData.label,value:comboData.value};var sarno=comboData.item.sarno;selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{RegistrationSampleArno:RegistrationSampleArno,RegistrationTest:RegistrationTest,npreregno:npreregno,sarno:sarno,ntransactionsamplecode:ntransactionsamplecode,ntransactiontestcode:ntransactiontestcode,ssamplearno:ssamplearno,stestsynonym:stestsynonym});_this.setState({selectedRecord:selectedRecord});}else if(fieldName===\"ntransactionsamplecode\"){lstRegistrationTest.map(function(item){if(item.item.ntransactionsamplecode===comboData.value){RegistrationTest.push(item);}});ntransactionsamplecode={item:comboData.item,label:comboData.label,value:comboData.value};ssamplearno=comboData.item.ssamplearno;selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{RegistrationTest:RegistrationTest,ntransactionsamplecode:ntransactionsamplecode,ssamplearno:ssamplearno,ntransactiontestcode:ntransactiontestcode,stestsynonym:stestsynonym});_this.setState({selectedRecord:selectedRecord});}else if(fieldName===\"ntransactiontestcode\"){ntransactiontestcode={item:comboData.item,label:comboData.label,value:comboData.value};stestsynonym=comboData.item.stestsynonym;selectedRecord=_objectSpread(_objectSpread({},selectedRecord),{},{ntransactiontestcode:ntransactiontestcode,stestsynonym:stestsynonym});_this.setState({selectedRecord:selectedRecord});}else if(fieldName===\"ncommentsubtypecode\"){rsapi.post(\"/comments/getSampleTestCommentsListById\",{userinfo:_this.props.userInfo,ncommentsubtypecode:comboData.value}).then(function(response){var listSampleTestComments=response.data.SampleTestComments;var lstSampleTestComments=constructOptionList(listSampleTestComments||[],\"nsampletestcommentscode\",\"spredefinedname\",false,false,true);var SampleTestComments=lstSampleTestComments.get(\"OptionList\");selectedRecord[\"scommentsubtype\"]=comboData.label;selectedRecord[\"ncommentsubtypecode\"]=comboData;selectedRecord[\"nsampletestcommentscode\"]=\"\";selectedRecord[\"scomments\"]=\"\";selectedRecord[\"spredefinedname\"]=\"\";_this.setState({SampleTestComments:SampleTestComments,selectedRecord:selectedRecord});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}else if(fieldName===\"nsampletestcommentscode\"){selectedRecord[\"nsampletestcommentscode\"]=comboData;selectedRecord[\"spredefinedname\"]=comboData.label;selectedRecord[\"scomments\"]=comboData.item&&comboData.item.sdescription?comboData.item.sdescription:\"\";_this.setState({selectedRecord:selectedRecord});}};_this.onInputOnChange=function(event){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[event.target.name]=event.target.value;if(event.target.type==='checkbox'){if(event.target.name===\"nneedreport\"){selectedRecord[event.target.name]=event.target.checked===true?transactionStatus.YES:transactionStatus.NO;}}else{selectedRecord[event.target.name]=event.target.value;}if(selectedRecord[\"nneedreport\"]&&selectedRecord[\"nneedreport\"]===transactionStatus.YES&&selectedRecord[\"sfilename\"]!==undefined&&selectedRecord[\"sfilename\"].length>0){var fileFormat=false;var requiredFileFormat=_this.props.settings&&_this.props.settings[32]&&_this.props.settings[32].split(\",\");var fileNameSplit=selectedRecord[\"sfilename\"]&&Array.isArray(selectedRecord[\"sfilename\"])?selectedRecord[\"sfilename\"][0].name.split(\".\"):selectedRecord[\"sfilename\"].split(\".\");requiredFileFormat.map(function(item){if(item.slice(1)===fileNameSplit[fileNameSplit.length-1]){fileFormat=true;}});selectedRecord[\"nneedreport\"]=fileFormat?selectedRecord[\"nneedreport\"]:transactionStatus.NO;!fileFormat&&toast.warn(_this.props.intl.formatMessage({id:\"IDS_REPORTSUPPORTSONLYFILEFORMATS\"}));}_this.setState({selectedRecord:selectedRecord});};_this.dataStateChange=function(event){_this.setState({dataState:event.dataState,dataResult:process(_this.state.ReleaseTestCommentDetails,event.dataState)});};_this.onSaveClick=function(saveType,formRef){if(_this.state.loading===false){_this.setState({loading:true});var formData=new FormData();var selectedRecord=_this.state.selectedRecord;var userInfo=_this.props.userInfo;var inputData={};var commentArray=[];// if (this.state.operation === 'update') {\n// } else {\nvar comment={};comment[\"nreleasetestcommentcode\"]=selectedRecord.selectedReleaseTestComment&&selectedRecord.selectedReleaseTestComment.nreleasetestcommentcode;comment[\"nformcode\"]=userInfo.nformcode;comment[\"npreregno\"]=selectedRecord.npreregno.value;comment[\"ntransactionsamplecode\"]=selectedRecord.ntransactionsamplecode.value;comment[\"ntransactiontestcode\"]=selectedRecord.ntransactiontestcode.value;comment[\"ncoaparentcode\"]=_this.props.masterData.ncoaparentcode;comment[\"nusercode\"]=userInfo.nusercode;comment[\"nuserrolecode\"]=userInfo.nuserrole;comment[\"ncommentsubtypecode\"]=selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode.value;comment[\"nsampletestcommentscode\"]=selectedRecord.nsampletestcommentscode&&selectedRecord.nsampletestcommentscode.value!==\"\"?selectedRecord.nsampletestcommentscode.value:'-1';comment[\"jsondata\"]={scomments:selectedRecord.scomments?selectedRecord.scomments:\"\",nneedreport:selectedRecord.nneedreport?selectedRecord.nneedreport:transactionStatus.NO,stestsynonym:selectedRecord.stestsynonym,scommentsubtype:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode.label,spredefinedname:selectedRecord.nsampletestcommentscode&&selectedRecord.nsampletestcommentscode.label!==\"\"?selectedRecord.nsampletestcommentscode.label:'-',ncommentsubtypecode:selectedRecord.ncommentsubtypecode&&selectedRecord.ncommentsubtypecode,nsampletestcommentscode:selectedRecord.nsampletestcommentscode?selectedRecord.nsampletestcommentscode:'-'};comment[\"nsamplecommentscode\"]=selectedRecord.nsamplecommentscode?selectedRecord.nsamplecommentscode.value:-1;commentArray.push(comment);inputData[\"testcomment\"]=commentArray;// }\nformData.append(\"userinfo\",JSON.stringify(_objectSpread(_objectSpread({},userInfo),{},{sformname:Lims_JSON_stringify(userInfo.sformname),smodulename:Lims_JSON_stringify(userInfo.smodulename),slanguagename:Lims_JSON_stringify(userInfo.slanguagename)})));formData.append(\"releasetestcomment\",JSON.stringify(commentArray));formData.append(\"ncoaparentcode\",_this.props.masterData.ncoaparentcode);var requestUrl=rsapi.post(\"release/\"+_this.state.operation+\"ReleaseTestComment\",formData);return requestUrl.then(function(response){var ReleaseTestCommentDetails=response.data.ReleaseTestCommentDetails;var selectedRecord={};var openModal=false;_this.setState({selectedRecord:selectedRecord,openModal:openModal,ReleaseTestCommentDetails:ReleaseTestCommentDetails,loading:false});}).catch(function(error){if(error.response.status===500){toast.error(error.message);}else{toast.warn(error.response.data);}_this.setState({loading:false});});}};var dataState={skip:0,take:_this.props.settings?parseInt(_this.props.settings[14]):5};_this.state={loading:false,ReleaseTestCommentDetails:_this.props.ReleaseTestCommentDetails,dataState:dataState,openModal:false,inputParam:_this.props.inputParam,loadEsign:false,operation:\"\",selectedRecord:{},isneedReport:_this.props.isneedReport};return _this;}_createClass(ReleaseTestAttachment,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.ReleaseTestCommentDetails!==prevProps.ReleaseTestCommentDetails){this.setState({ReleaseTestCommentDetails:this.props.ReleaseTestCommentDetails});}if(this.props.inputParam!==prevProps.inputParam){this.setState({inputParam:this.props.inputParam});}}},{key:\"render\",value:function render(){var _this2=this;var addReleaseTestComment=this.props.controlMap.has(\"AddReleaseTestComment\")&&this.props.controlMap.get(\"AddReleaseTestComment\").ncontrolcode;var editReleaseTestComment=this.props.controlMap.has(\"EditReleaseTestComment\")&&this.props.controlMap.get(\"EditReleaseTestComment\").ncontrolcode;var editReleaseTestCommentParam={screenName:this.props.intl.formatMessage({id:\"IDS_RELEASETESTCOMMENT\"}),operation:\"update\",primaryKeyField:\"nreleasetestcommentcode\",inputParam:this.state.inputParam,userInfo:this.props.userInfo,ncontrolCode:editReleaseTestComment};this.fieldsForReleasedTestCommentGrid=[// { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\n{\"idsName\":\"IDS_ARNO\",\"dataField\":\"sarno\",\"width\":\"200px\"},{\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"width\":\"200px\"},{\"idsName\":\"IDS_TESTSYNONYM\",\"dataField\":\"stestsynonym\",\"width\":\"200px\"},{\"idsName\":\"IDS_SCREENNAME\",\"dataField\":\"sformname\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTNAME\",\"dataField\":\"scommentsubtype\",\"width\":\"200px\"},{\"idsName\":\"IDS_ABBREVIATIONNAME\",\"dataField\":\"spredefinedname\",\"width\":\"200px\"},{\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\",\"width\":\"200px\"},{\"idsName\":\"IDS_INCULDEINREPORT\",\"dataField\":\"sneedreport\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERNAME\",\"dataField\":\"susername\",\"width\":\"200px\"},{\"idsName\":\"IDS_USERROLENAME\",\"dataField\":\"suserrolename\",\"width\":\"200px\"}];var mandatoryFields=this.state.selectedRecord&&this.state.selectedRecord[\"ncommentsubtypecode\"]&&this.state.selectedRecord[\"ncommentsubtypecode\"].value===3?[{\"idsName\":\"IDS_COMMENTNAME\",\"dataField\":\"scommentsubtype\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_ABBREVIATIONNAME\",\"dataField\":\"spredefinedname\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ARNUMBER\",\"dataField\":\"sarno\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TESTSYNONYM\",\"dataField\":\"stestsynonym\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"}]:[{\"idsName\":\"IDS_COMMENTNAME\",\"dataField\":\"scommentsubtype\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_COMMENTS\",\"dataField\":\"scomments\",\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"},{\"idsName\":\"IDS_ARNUMBER\",\"dataField\":\"sarno\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_SAMPLEARNO\",\"dataField\":\"ssamplearno\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"},{\"idsName\":\"IDS_TESTSYNONYM\",\"dataField\":\"stestsynonym\",\"mandatoryLabel\":\"IDS_CHOOSE\",\"controlType\":\"selectbox\"}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(DataGrid,{primaryKeyField:\"nreleasetestcommentcode\",data:this.state.ReleaseTestCommentDetails||[],dataResult:process(this.state.ReleaseTestCommentDetails&&this.state.ReleaseTestCommentDetails||[],this.state.dataState),dataState:this.state.dataState,isExportExcelRequired:false,controlMap:this.props.controlMap,userRoleControlRights:this.props.userRoleControlRights,userInfo:this.props.userInfo,editParam:editReleaseTestCommentParam,extractedColumnList:this.fieldsForReleasedTestCommentGrid,pageable:true,dataStateChange:this.dataStateChange,scrollable:'scrollable',gridHeight:'630px',isActionRequired:true,addRecord:function addRecord(event){return _this2.getSampleDetails(event,addReleaseTestComment,\"create\");},isToolBarRequired:true,methodUrl:'ReleaseTestComment',isAddRequired:this.props.isAddRequired,isRefreshRequired:this.props.isRefreshRequired,isImportRequired:this.props.isImportRequired,isDownloadPDFRequired:this.props.isDownloadPDFRequired,isDownloadExcelRequired:this.props.isDownloadExcelRequired,fetchRecord:function fetchRecord(event){_this2.getSampleDetails(event,editReleaseTestComment,\"update\");},deleteRecord:this.deleteRecord}))),this.state.openModal?/*#__PURE__*/React.createElement(SlideOutModal,{show:this.state.openModal,size:\"xl\",closeModal:this.closeModal,operation:this.state.operation,inputParam:this.state.inputParam,screenName:this.props.intl.formatMessage({id:\"IDS_TESTCOMMENTS\"}),onSaveClick:this.onSaveClick,esign:this.state.loadEsign,validateEsign:this.validateEsign,selectedRecord:this.state.selectedRecord||{},mandatoryFields:mandatoryFields,addComponent:this.state.loadEsign?/*#__PURE__*/React.createElement(Esign,{operation:this.state.operation,onInputOnChange:this.onInputOnChange,inputParam:this.state.inputParam,selectedRecord:this.state.selectedRecord||{}}):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt-4\"},/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:this.props.intl.formatMessage({id:\"IDS_COMMENTNAME\"}),isSearchable:true,name:\"ncommentsubtypecode\",showOption:true,options:this.props.CommentSubType||[],optionId:\"ncommentsubtypecode\",optionValue:\"scommentsubtype\",value:this.state.selectedRecord[\"ncommentsubtypecode\"]&&this.state.selectedRecord[\"ncommentsubtypecode\"]||\"\",onChange:function onChange(value){return _this2.onComboChange(value,'ncommentsubtypecode');},isMandatory:true}),this.state.selectedRecord&&this.state.selectedRecord[\"ncommentsubtypecode\"]&&this.state.selectedRecord[\"ncommentsubtypecode\"].value===3?/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:this.props.intl.formatMessage({id:\"IDS_ABBREVIATIONNAME\"}),isSearchable:true,name:\"nsampletestcommentscode\",showOption:true,options:this.state.SampleTestComments||[],optionId:\"nsampletestcommentscode\",optionValue:\"spredefinedname\",value:this.state.selectedRecord[\"nsampletestcommentscode\"]&&this.state.selectedRecord[\"nsampletestcommentscode\"]||\"\",onChange:function onChange(value){return _this2.onComboChange(value,'nsampletestcommentscode');},isMandatory:true}):\"\",/*#__PURE__*/React.createElement(FormTextarea,{formGroupClassName:\"remove-floating-label-margin\",label:this.props.intl.formatMessage({id:\"IDS_COMMENT\"}),name:\"scomments\",type:\"text\",required:false,isMandatory:true,value:this.state.selectedRecord[\"scomments\"]&&this.state.selectedRecord[\"scomments\"]||\"\",onChange:function onChange(event){return _this2.onInputOnChange(event);}})),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:this.props.intl.formatMessage({id:\"IDS_ARNUMBER\"}),isSearchable:true,name:\"npreregno\",isDisabled:this.state.operation===\"create\"?false:true,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:this.state.selectedRecord?this.state.selectedRecord.RegistrationArno:[],optionId:\"npreregno\",optionValue:\"sarno\",value:this.state.selectedRecord?this.state.selectedRecord.npreregno:\"\",onChange:function onChange(event){return _this2.onComboChange(event,'npreregno');},closeMenuOnSelect:true,alphabeticalSort:true})),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:this.props.intl.formatMessage({id:\"IDS_SAMPLEARNO\"}),isSearchable:true,name:\"ntransactionsamplecode\",isDisabled:this.state.operation===\"create\"?false:true,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:this.state.selectedRecord?this.state.selectedRecord.RegistrationSampleArno:[],optionId:\"ntransactionsamplecode\",optionValue:\"ssamplearno\",value:this.state.selectedRecord?this.state.selectedRecord.ntransactionsamplecode:\"\",onChange:function onChange(event){return _this2.onComboChange(event,'ntransactionsamplecode');},closeMenuOnSelect:true,alphabeticalSort:true})),/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(FormSelectSearch,{formLabel:this.props.intl.formatMessage({id:\"IDS_TESTSYNONYM\"}),isSearchable:true,name:\"ntransactiontestcode\",isDisabled:this.state.operation===\"create\"?false:true,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:this.state.selectedRecord?this.state.selectedRecord.RegistrationTest:[],optionId:\"ntransactiontestcode\",optionValue:\"stestsynonym\",value:this.state.selectedRecord?this.state.selectedRecord.ntransactiontestcode:\"\",onChange:function onChange(event){return _this2.onComboChange(event,'ntransactiontestcode');},closeMenuOnSelect:true,alphabeticalSort:true})),/*#__PURE__*/React.createElement(Col,{md:\"12\",className:\"mt-4\"},/*#__PURE__*/React.createElement(CustomSwitch,{label:this.props.intl.formatMessage({id:\"IDS_INCULDEINREPORT\"}),type:\"switch\",name:\"nneedreport\",onChange:function onChange(event){return _this2.onInputOnChange(event,1);},defaultValue:false,isMandatory:false,required:true,checked:this.state.selectedRecord?this.state.selectedRecord.nneedreport===transactionStatus.YES?true:false:false})))}):\"\");}}]);return ReleaseTestAttachment;}(React.Component);export default connect(null,{viewAttachment:viewAttachment})(injectIntl(ReleaseTestAttachment));","map":{"version":3,"sources":["D:/LIMSWFH/LIMSPOSTGRESQL/QuaLISWeb/src/pages/release/ReleaseTestComment.jsx"],"names":["React","Col","Row","injectIntl","transactionStatus","viewAttachment","connect","DataGrid","SlideOutModal","process","CustomSwitch","FormTextarea","FormSelectSearch","Esign","rsapi","toast","Lims_JSON_stringify","constructOptionList","Axios","ReleaseTestAttachment","props","closeModal","loadEsign","state","openModal","selectedRecord","operation","undefined","setState","getSampleDetails","event","ncontrolCode","url","masterData","selectedReleaseHistory","ntransactionstatus","RELEASED","urlArray","push","post","editRow","ncoaparentcode","npreregno","ntransactionsamplecode","ntransactiontestcode","nreleasetestcommentcode","userInfo","userinfo","ncommentsubtypecode","all","then","response","responseData","data","lstSampleTestComments","SampleTestComments","get","selectedReleaseTestComment","nneedreport","NO","scomments","sarno","ssamplearno","stestsynonym","RegistrationArno","map","item","value","label","RegistrationSampleArno","RegistrationTest","scommentsubtype","spredefinedname","nsampletestcommentscode","warn","intl","formatMessage","id","catch","error","status","message","loading","commentSubType","CommentSubType","ReleaseTestCommentDetails","deleteRecord","deleteParam","releasetestcomment","onComboChange","comboData","fieldName","lstRegistrationSampleArno","lstRegistrationTest","listSampleTestComments","sdescription","onInputOnChange","target","name","type","checked","YES","length","fileFormat","requiredFileFormat","settings","split","fileNameSplit","Array","isArray","slice","dataStateChange","dataState","dataResult","onSaveClick","saveType","formRef","formData","FormData","inputData","commentArray","comment","nformcode","nusercode","nuserrole","nsamplecommentscode","append","JSON","stringify","sformname","smodulename","slanguagename","requestUrl","skip","take","parseInt","inputParam","isneedReport","prevProps","addReleaseTestComment","controlMap","has","ncontrolcode","editReleaseTestComment","editReleaseTestCommentParam","screenName","primaryKeyField","fieldsForReleasedTestCommentGrid","mandatoryFields","userRoleControlRights","isAddRequired","isRefreshRequired","isImportRequired","isDownloadPDFRequired","isDownloadExcelRequired","validateEsign","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Col, Row } from 'react-bootstrap';\r\nimport { injectIntl } from 'react-intl';\r\nimport { transactionStatus } from '../../components/Enumeration';\r\nimport { viewAttachment } from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport DataGrid from '../../components/data-grid/data-grid.component';\r\nimport SlideOutModal from '../../components/slide-out-modal/SlideOutModal';\r\nimport { process } from '@progress/kendo-data-query';\r\nimport CustomSwitch from '../../components/custom-switch/custom-switch.component';\r\nimport FormTextarea from '../../components/form-textarea/form-textarea.component';\r\nimport FormSelectSearch from '../../components/form-select-search/form-select-search.component';\r\nimport Esign from '../audittrail/Esign';\r\nimport rsapi from '../../rsapi';\r\nimport { toast } from 'react-toastify';\r\nimport { Lims_JSON_stringify, constructOptionList } from \"../../components/CommonScript\";\r\nimport Axios from \"axios\";\r\n\r\nclass ReleaseTestAttachment extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const dataState = {\r\n            skip: 0,\r\n            take: this.props.settings ? parseInt(this.props.settings[14]) : 5,\r\n        };\r\n        this.state = {\r\n            loading: false,\r\n            ReleaseTestCommentDetails: this.props.ReleaseTestCommentDetails,\r\n            dataState: dataState,\r\n            openModal: false,\r\n            inputParam: this.props.inputParam,\r\n            loadEsign: false,\r\n            operation: \"\",\r\n            selectedRecord: {},\r\n            isneedReport: this.props.isneedReport\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.ReleaseTestCommentDetails !== prevProps.ReleaseTestCommentDetails) {\r\n            this.setState({ ReleaseTestCommentDetails: this.props.ReleaseTestCommentDetails })\r\n        }\r\n        if (this.props.inputParam !== prevProps.inputParam) {\r\n            this.setState({ inputParam: this.props.inputParam })\r\n        }\r\n\r\n    }\r\n\r\n    closeModal = () => {\r\n        let loadEsign = this.state.loadEsign;\r\n        let openModal = this.state.openModal\r\n        let selectedRecord = this.state.selectedRecord;\r\n        let operation = this.state.operation;\r\n        if (this.state.loadEsign) {\r\n            if (this.state.operation === \"delete\") {\r\n                loadEsign = false;\r\n                openModal = false;\r\n                selectedRecord = {};\r\n                operation = undefined;\r\n            }\r\n            else {\r\n                loadEsign = false;\r\n                selectedRecord[\"esigncomments\"] = \"\";\r\n                selectedRecord[\"esignpassword\"] = \"\";\r\n                selectedRecord['esignreason'] = '';\r\n            }\r\n        }\r\n        else {\r\n            openModal = false;\r\n            selectedRecord = {};\r\n        }\r\n        this.setState({ loadEsign, openModal, selectedRecord, operation })\r\n    }\r\n\r\n    render() {\r\n        const addReleaseTestComment =\r\n            this.props.controlMap.has(\"AddReleaseTestComment\") &&\r\n            this.props.controlMap.get(\"AddReleaseTestComment\").ncontrolcode;\r\n\r\n        const editReleaseTestComment =\r\n            this.props.controlMap.has(\"EditReleaseTestComment\") &&\r\n            this.props.controlMap.get(\"EditReleaseTestComment\").ncontrolcode;\r\n\r\n        const editReleaseTestCommentParam = {\r\n            screenName: this.props.intl.formatMessage({ id: \"IDS_RELEASETESTCOMMENT\" }),\r\n            operation: \"update\", primaryKeyField: \"nreleasetestcommentcode\",\r\n            inputParam: this.state.inputParam,\r\n            userInfo: this.props.userInfo,\r\n            ncontrolCode: editReleaseTestComment\r\n        };\r\n\r\n        this.fieldsForReleasedTestCommentGrid =\r\n            [\r\n                // { \"idsName\": \"IDS_FILENAME\", \"dataField\": \"sfilename\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_ARNO\", \"dataField\": \"sarno\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_TESTSYNONYM\", \"dataField\": \"stestsynonym\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_SCREENNAME\", \"dataField\": \"sformname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_COMMENTNAME\", \"dataField\": \"scommentsubtype\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_ABBREVIATIONNAME\", \"dataField\": \"spredefinedname\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_INCULDEINREPORT\", \"dataField\": \"sneedreport\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_USERNAME\", \"dataField\": \"susername\", \"width\": \"200px\" },\r\n                { \"idsName\": \"IDS_USERROLENAME\", \"dataField\": \"suserrolename\", \"width\": \"200px\" },\r\n\r\n            ]\r\n\r\n\r\n        let mandatoryFields = this.state.selectedRecord && this.state.selectedRecord[\"ncommentsubtypecode\"] && this.state.selectedRecord[\"ncommentsubtypecode\"].value === 3 ?\r\n            [\r\n                { \"idsName\": \"IDS_COMMENTNAME\", \"dataField\": \"scommentsubtype\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_ABBREVIATIONNAME\", \"dataField\": \"spredefinedname\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_ARNUMBER\", \"dataField\": \"sarno\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_TESTSYNONYM\", \"dataField\": \"stestsynonym\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" }\r\n            ]\r\n            :\r\n            [\r\n                { \"idsName\": \"IDS_COMMENTNAME\", \"dataField\": \"scommentsubtype\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_COMMENTS\", \"dataField\": \"scomments\", \"mandatoryLabel\": \"IDS_ENTER\", \"controlType\": \"textbox\" },\r\n                { \"idsName\": \"IDS_ARNUMBER\", \"dataField\": \"sarno\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_SAMPLEARNO\", \"dataField\": \"ssamplearno\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" },\r\n                { \"idsName\": \"IDS_TESTSYNONYM\", \"dataField\": \"stestsynonym\", \"mandatoryLabel\": \"IDS_CHOOSE\", \"controlType\": \"selectbox\" }\r\n            ]\r\n\r\n        return (\r\n            <>\r\n                <Row>\r\n                    <Col>\r\n                        <DataGrid\r\n                            primaryKeyField=\"nreleasetestcommentcode\"\r\n                            data={this.state.ReleaseTestCommentDetails || []}\r\n                            dataResult={process(this.state.ReleaseTestCommentDetails && this.state.ReleaseTestCommentDetails || [], this.state.dataState)}\r\n                            dataState={this.state.dataState}\r\n                            isExportExcelRequired={false}\r\n                            controlMap={this.props.controlMap}\r\n                            userRoleControlRights={this.props.userRoleControlRights}\r\n                            userInfo={this.props.userInfo}\r\n                            editParam={editReleaseTestCommentParam}\r\n                            extractedColumnList={this.fieldsForReleasedTestCommentGrid}\r\n                            pageable={true}\r\n                            dataStateChange={this.dataStateChange}\r\n                            scrollable={'scrollable'}\r\n                            gridHeight={'630px'}\r\n                            isActionRequired={true}\r\n                            addRecord={(event) => this.getSampleDetails(event, addReleaseTestComment, \"create\")}\r\n                            isToolBarRequired={true}\r\n                            methodUrl={'ReleaseTestComment'}\r\n                            isAddRequired={this.props.isAddRequired}\r\n                            isRefreshRequired={this.props.isRefreshRequired}\r\n                            isImportRequired={this.props.isImportRequired}\r\n                            isDownloadPDFRequired={this.props.isDownloadPDFRequired}\r\n                            isDownloadExcelRequired={this.props.isDownloadExcelRequired}\r\n                            fetchRecord={(event) => { this.getSampleDetails(event, editReleaseTestComment, \"update\") }}\r\n                            deleteRecord={this.deleteRecord}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                {this.state.openModal ?\r\n                    <SlideOutModal show={this.state.openModal}\r\n                        size={\"xl\"}\r\n                        closeModal={this.closeModal}\r\n                        operation={this.state.operation}\r\n                        inputParam={this.state.inputParam}\r\n                        screenName={this.props.intl.formatMessage({ id: \"IDS_TESTCOMMENTS\" })}\r\n                        onSaveClick={this.onSaveClick}\r\n                        esign={this.state.loadEsign}\r\n                        validateEsign={this.validateEsign}\r\n                        selectedRecord={this.state.selectedRecord || {}}\r\n                        mandatoryFields={mandatoryFields}\r\n                        addComponent={this.state.loadEsign ?\r\n                            <Esign operation={this.state.operation}\r\n                                onInputOnChange={this.onInputOnChange}\r\n                                inputParam={this.state.inputParam}\r\n                                selectedRecord={this.state.selectedRecord || {}}\r\n                            />\r\n                            :\r\n                            <Row>\r\n\r\n                                {\r\n                                    <Col md=\"12\" className=\"mt-4\">\r\n                                        <FormSelectSearch\r\n                                            formLabel={this.props.intl.formatMessage({ id: \"IDS_COMMENTNAME\" })}\r\n                                            isSearchable={true}\r\n                                            name={\"ncommentsubtypecode\"}\r\n                                            showOption={true}\r\n                                            options={this.props.CommentSubType || []}\r\n                                            optionId='ncommentsubtypecode'\r\n                                            optionValue='scommentsubtype'\r\n                                            value={this.state.selectedRecord[\"ncommentsubtypecode\"] && this.state.selectedRecord[\"ncommentsubtypecode\"] || \"\"}\r\n                                            onChange={value => this.onComboChange(value, 'ncommentsubtypecode')}\r\n                                            isMandatory={true}\r\n                                        />\r\n                                        {this.state.selectedRecord && this.state.selectedRecord[\"ncommentsubtypecode\"] && this.state.selectedRecord[\"ncommentsubtypecode\"].value === 3 ?\r\n                                            <FormSelectSearch\r\n                                                formLabel={this.props.intl.formatMessage({ id: \"IDS_ABBREVIATIONNAME\" })}\r\n                                                isSearchable={true}\r\n                                                name={\"nsampletestcommentscode\"}\r\n                                                showOption={true}\r\n                                                options={this.state.SampleTestComments || []}\r\n                                                optionId='nsampletestcommentscode'\r\n                                                optionValue='spredefinedname'\r\n                                                value={this.state.selectedRecord[\"nsampletestcommentscode\"] && this.state.selectedRecord[\"nsampletestcommentscode\"] || \"\"}\r\n                                                onChange={value => this.onComboChange(value, 'nsampletestcommentscode')}\r\n                                                isMandatory={true}\r\n                                            /> : \"\"}\r\n                                        <FormTextarea\r\n                                            formGroupClassName=\"remove-floating-label-margin\"\r\n                                            label={this.props.intl.formatMessage({ id: \"IDS_COMMENT\" })}\r\n                                            name={\"scomments\"}\r\n                                            type=\"text\"\r\n                                            required={false}\r\n                                            isMandatory={true}\r\n                                            value={this.state.selectedRecord[\"scomments\"] && this.state.selectedRecord[\"scomments\"] || \"\"}\r\n                                            onChange={(event) => this.onInputOnChange(event)}\r\n                                        />\r\n                                    </Col>\r\n                                }\r\n\r\n                                <Col md={12}>\r\n                                    <FormSelectSearch\r\n                                        formLabel={this.props.intl.formatMessage({ id: \"IDS_ARNUMBER\" })}\r\n                                        isSearchable={true}\r\n                                        name={\"npreregno\"}\r\n                                        isDisabled={this.state.operation === \"create\" ? false : true}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                        isMandatory={true}\r\n                                        options={this.state.selectedRecord ? this.state.selectedRecord.RegistrationArno : []}\r\n                                        optionId='npreregno'\r\n                                        optionValue='sarno'\r\n                                        value={this.state.selectedRecord ? this.state.selectedRecord.npreregno : \"\"}\r\n                                        onChange={(event) => this.onComboChange(event, 'npreregno')}\r\n                                        closeMenuOnSelect={true}\r\n                                        alphabeticalSort={true}\r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col md={12}>\r\n                                    <FormSelectSearch\r\n                                        formLabel={this.props.intl.formatMessage({ id: \"IDS_SAMPLEARNO\" })}\r\n                                        isSearchable={true}\r\n                                        name={\"ntransactionsamplecode\"}\r\n                                        isDisabled={this.state.operation === \"create\" ? false : true}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                        isMandatory={true}\r\n                                        options={this.state.selectedRecord ? this.state.selectedRecord.RegistrationSampleArno : []}\r\n                                        optionId='ntransactionsamplecode'\r\n                                        optionValue='ssamplearno'\r\n                                        value={this.state.selectedRecord ? this.state.selectedRecord.ntransactionsamplecode : \"\"}\r\n                                        onChange={(event) => this.onComboChange(event, 'ntransactionsamplecode')}\r\n                                        closeMenuOnSelect={true}\r\n                                        alphabeticalSort={true}\r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col md={12}>\r\n                                    <FormSelectSearch\r\n                                        formLabel={this.props.intl.formatMessage({ id: \"IDS_TESTSYNONYM\" })}\r\n                                        isSearchable={true}\r\n                                        name={\"ntransactiontestcode\"}\r\n                                        isDisabled={this.state.operation === \"create\" ? false : true}\r\n                                        placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                                        isMandatory={true}\r\n                                        options={this.state.selectedRecord ? this.state.selectedRecord.RegistrationTest : []}\r\n                                        optionId='ntransactiontestcode'\r\n                                        optionValue='stestsynonym'\r\n                                        value={this.state.selectedRecord ? this.state.selectedRecord.ntransactiontestcode : \"\"}\r\n                                        onChange={(event) => this.onComboChange(event, 'ntransactiontestcode')}\r\n                                        closeMenuOnSelect={true}\r\n                                        alphabeticalSort={true}\r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col md=\"12\" className=\"mt-4\">\r\n                                    <CustomSwitch\r\n                                        label={this.props.intl.formatMessage({ id: \"IDS_INCULDEINREPORT\" })}\r\n                                        type=\"switch\"\r\n                                        name={\"nneedreport\"}\r\n                                        onChange={(event) => this.onInputOnChange(event, 1)}\r\n                                        defaultValue={false}\r\n                                        isMandatory={false}\r\n                                        required={true}\r\n                                        checked={this.state.selectedRecord ? this.state.selectedRecord.nneedreport === transactionStatus.YES ? true : false : false}\r\n                                    />\r\n                                </Col>\r\n                                {/* : \"\"} */}\r\n\r\n                            </Row>\r\n                        }\r\n                    /> : \"\"}\r\n            </>\r\n        );\r\n    };\r\n\r\n    getSampleDetails = (event, ncontrolCode, operation) => {\r\n        const url = \"release/getActiveReleaseTestCommentById\";\r\n        let openModal = true;\r\n        if (this.props.masterData.selectedReleaseHistory.ntransactionstatus !== transactionStatus.RELEASED) {\r\n            if (operation === \"update\") {\r\n                let urlArray = [];\r\n                urlArray.push(rsapi.post(url, {\r\n                    \"ncoaparentcode\": event.editRow.ncoaparentcode,\r\n                    \"npreregno\": event.editRow.npreregno,\r\n                    \"ntransactionsamplecode\": event.editRow.ntransactionsamplecode,\r\n                    \"ntransactiontestcode\": event.editRow.ntransactiontestcode,\r\n                    \"nreleasetestcommentcode\": event.editRow.nreleasetestcommentcode,\r\n                    \"userinfo\": this.props.userInfo\r\n                }));\r\n                urlArray.push(\r\n                    rsapi.post(\"/comments/getSampleTestCommentsListById\", {\r\n                        userinfo: this.props.userInfo,\r\n                        ncommentsubtypecode: event.editRow && event.editRow.ncommentsubtypecode && event.editRow.ncommentsubtypecode\r\n                    })\r\n                );\r\n                Axios.all(urlArray)\r\n                    .then(response => {\r\n                        let responseData = response[0].data;\r\n                        const lstSampleTestComments = constructOptionList(response[1].data.SampleTestComments || [], \"nsampletestcommentscode\", \"spredefinedname\", false, false, true);\r\n                        const SampleTestComments = lstSampleTestComments.get(\"OptionList\");\r\n                        if (responseData.ntransactionstatus !== transactionStatus.RELEASED) {\r\n                            let selectedReleaseTestComment = event.editRow;\r\n                            let masterData = this.props.masterData;\r\n                            let nneedreport = responseData && responseData.nneedreport ? responseData.nneedreport : transactionStatus.NO;\r\n                            let scomments = responseData && responseData.scomments ? responseData.scomments : \"\";\r\n                            let npreregno;\r\n                            let ntransactionsamplecode;\r\n                            let ntransactiontestcode;\r\n                            let sarno;\r\n                            let ssamplearno;\r\n                            let stestsynonym;\r\n                            masterData.RegistrationArno.map(item => {\r\n                                if (item.value === responseData.npreregno) {\r\n                                    npreregno = item;\r\n                                    sarno = item.label;\r\n                                }\r\n                            });\r\n                            masterData.RegistrationSampleArno.map(item => {\r\n                                if (item.value === responseData.ntransactionsamplecode) {\r\n                                    ntransactionsamplecode = item;\r\n                                    ssamplearno = item.label;\r\n                                }\r\n                            });\r\n                            masterData.RegistrationTest.map(item => {\r\n                                if (item.value === responseData.ntransactiontestcode) {\r\n                                    ntransactiontestcode = item;\r\n                                    stestsynonym = item.label;\r\n                                }\r\n                            });\r\n\r\n                            let selectedRecord = {\r\n                                ...this.state.selectedRecord, npreregno, ntransactionsamplecode, ntransactiontestcode, sarno, ssamplearno, stestsynonym, nneedreport,\r\n                                scomments, selectedReleaseTestComment,\r\n                            };\r\n                            selectedRecord[\"scommentsubtype\"] = responseData.scommentsubtype;\r\n                            selectedRecord[\"ncommentsubtypecode\"] = {\r\n                                label: responseData.scommentsubtype,\r\n                                value: responseData.ncommentsubtypecode\r\n                            };\r\n                            selectedRecord[\"spredefinedname\"] = responseData.spredefinedname;\r\n                            selectedRecord[\"nsampletestcommentscode\"] = {\r\n                                label: responseData.spredefinedname,\r\n                                value: responseData.nsampletestcommentscode\r\n                            };\r\n                            this.setState({\r\n                                selectedRecord, openModal, operation, ncontrolCode, SampleTestComments\r\n                            });\r\n                        } else {\r\n                            toast.warn(this.props.intl.formatMessage({ id: \"IDS_RECORDALREADYRELEASED\" }));\r\n                        }\r\n                    }).catch(error => {\r\n                        if (error.response.status === 500) {\r\n                            toast.error(error.message);\r\n                        } else {\r\n                            toast.warn(error.response.data);\r\n                        }\r\n                        this.setState({\r\n                            loading: false\r\n                        });\r\n                    });\r\n            } else {\r\n                let RegistrationArno = this.props.masterData.RegistrationArno;\r\n                let commentSubType = this.props.CommentSubType;\r\n                let selectedRecord = {\r\n                    RegistrationArno: RegistrationArno,\r\n                    ReleaseTestCommentDetails: this.props.masterData.ReleaseTestCommentDetails,\r\n                    nneedreport: transactionStatus.NO,\r\n                    ncommentsubtypecode: commentSubType && commentSubType[0],\r\n                    scommentsubtype: commentSubType && commentSubType[0] && commentSubType[0].label\r\n                };\r\n                this.setState({\r\n                    selectedRecord, openModal, operation, ncontrolCode,\r\n                });\r\n            }\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_RECORDALREADYRELEASED\" }));\r\n        }\r\n    }\r\n\r\n    deleteRecord = (deleteParam) => {\r\n        const url = \"release/deleteReleaseTestComment\";\r\n        if (this.props.masterData.selectedReleaseHistory.ntransactionstatus !== transactionStatus.RELEASED) {\r\n            let releasetestcomment = {\r\n                \"ncoaparentcode\": deleteParam.selectedRecord.ncoaparentcode,\r\n                \"npreregno\": deleteParam.selectedRecord.npreregno,\r\n                \"ntransactionsamplecode\": deleteParam.selectedRecord.ntransactionsamplecode,\r\n                \"ntransactiontestcode\": deleteParam.selectedRecord.ntransactiontestcode,\r\n                \"nreleasetestcommentcode\": deleteParam.selectedRecord.nreleasetestcommentcode\r\n            }\r\n            rsapi.post(url, {\r\n                releasetestcomment, \"userinfo\": this.props.userInfo\r\n            })\r\n                .then(response => {\r\n                    let ReleaseTestCommentDetails = response.data.ReleaseTestCommentDetails;\r\n                    let selectedRecord = {\r\n                        ...this.state.selectedRecord, ...response.data\r\n                    };\r\n                    this.setState({\r\n                        selectedRecord, ReleaseTestCommentDetails\r\n                    });\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n        } else {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_RECORDALREADYRELEASED\" }));\r\n        }\r\n    }\r\n\r\n    onComboChange = (comboData, fieldName) => {\r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let lstRegistrationSampleArno = this.props.masterData.RegistrationSampleArno;\r\n        let lstRegistrationTest = this.props.masterData.RegistrationTest;\r\n        let RegistrationSampleArno = [];\r\n        let RegistrationTest = [];\r\n        let ntransactionsamplecode = \"\";\r\n        let ntransactiontestcode = \"\";\r\n        let ssamplearno = null;\r\n        let stestsynonym = null;\r\n        if (fieldName === \"npreregno\") {\r\n            lstRegistrationSampleArno.map(item => {\r\n                if (item.item.npreregno === comboData.value) {\r\n                    RegistrationSampleArno.push(item);\r\n                }\r\n            });\r\n            let npreregno = {\r\n                item: comboData.item,\r\n                label: comboData.label,\r\n                value: comboData.value\r\n            };\r\n            let sarno = comboData.item.sarno;\r\n            selectedRecord = {\r\n                ...selectedRecord, RegistrationSampleArno, RegistrationTest, npreregno\r\n                , sarno, ntransactionsamplecode, ntransactiontestcode, ssamplearno, stestsynonym\r\n            };\r\n            this.setState({ selectedRecord });\r\n        } else if (fieldName === \"ntransactionsamplecode\") {\r\n            lstRegistrationTest.map(item => {\r\n                if (item.item.ntransactionsamplecode === comboData.value) {\r\n                    RegistrationTest.push(item);\r\n                }\r\n            });\r\n            ntransactionsamplecode = {\r\n                item: comboData.item,\r\n                label: comboData.label,\r\n                value: comboData.value\r\n            }\r\n            ssamplearno = comboData.item.ssamplearno;\r\n            selectedRecord = {\r\n                ...selectedRecord, RegistrationTest, ntransactionsamplecode\r\n                , ssamplearno, ntransactiontestcode, stestsynonym\r\n            };\r\n            this.setState({ selectedRecord });\r\n        } else if (fieldName === \"ntransactiontestcode\") {\r\n            ntransactiontestcode = {\r\n                item: comboData.item,\r\n                label: comboData.label,\r\n                value: comboData.value\r\n            }\r\n            stestsynonym = comboData.item.stestsynonym;\r\n            selectedRecord = {\r\n                ...selectedRecord, ntransactiontestcode\r\n                , stestsynonym\r\n            }\r\n            this.setState({ selectedRecord });\r\n        } else if (fieldName === \"ncommentsubtypecode\") {\r\n            rsapi.post(\"/comments/getSampleTestCommentsListById\", {\r\n                userinfo: this.props.userInfo,\r\n                ncommentsubtypecode: comboData.value\r\n            })\r\n                .then(response => {\r\n                    let listSampleTestComments = response.data.SampleTestComments;\r\n                    const lstSampleTestComments = constructOptionList(listSampleTestComments || [], \"nsampletestcommentscode\", \"spredefinedname\", false, false, true);\r\n                    const SampleTestComments = lstSampleTestComments.get(\"OptionList\");\r\n                    selectedRecord[\"scommentsubtype\"] = comboData.label;\r\n                    selectedRecord[\"ncommentsubtypecode\"] = comboData;\r\n                    selectedRecord[\"nsampletestcommentscode\"] = \"\";\r\n                    selectedRecord[\"scomments\"] = \"\";\r\n                    selectedRecord[\"spredefinedname\"] = \"\";\r\n                    this.setState({\r\n                        SampleTestComments, selectedRecord,\r\n                    });\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n        } else if (fieldName === \"nsampletestcommentscode\") {\r\n            selectedRecord[\"nsampletestcommentscode\"] = comboData;\r\n            selectedRecord[\"spredefinedname\"] = comboData.label;\r\n            selectedRecord[\"scomments\"] = comboData.item && comboData.item.sdescription ? comboData.item.sdescription : \"\";\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onInputOnChange = (event) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        if (event.target.type === 'checkbox') {\r\n            if (event.target.name === \"nneedreport\") {\r\n                selectedRecord[event.target.name] = event.target.checked === true ? transactionStatus.YES : transactionStatus.NO;\r\n            }\r\n        }\r\n        else {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        }\r\n        if (selectedRecord[\"nneedreport\"] && selectedRecord[\"nneedreport\"] === transactionStatus.YES && selectedRecord[\"sfilename\"] !== undefined && selectedRecord[\"sfilename\"].length > 0) {\r\n            let fileFormat = false;\r\n            let requiredFileFormat = this.props.settings && this.props.settings[32] && this.props.settings[32].split(\",\");\r\n            let fileNameSplit = selectedRecord[\"sfilename\"] && Array.isArray(selectedRecord[\"sfilename\"]) ? selectedRecord[\"sfilename\"][0].name.split(\".\") : selectedRecord[\"sfilename\"].split(\".\");\r\n            requiredFileFormat.map(item => {\r\n                if (item.slice(1) === fileNameSplit[fileNameSplit.length - 1]) {\r\n                    fileFormat = true;\r\n                }\r\n            });\r\n            selectedRecord[\"nneedreport\"] = fileFormat ? selectedRecord[\"nneedreport\"] : transactionStatus.NO;\r\n            !fileFormat && toast.warn(this.props.intl.formatMessage({ id: \"IDS_REPORTSUPPORTSONLYFILEFORMATS\" }));\r\n        }\r\n        this.setState({ selectedRecord })\r\n    }\r\n\r\n    dataStateChange = (event) => {\r\n        this.setState({ dataState: event.dataState, dataResult: process(this.state.ReleaseTestCommentDetails, event.dataState) })\r\n    }\r\n\r\n    onSaveClick = (saveType, formRef) => {\r\n        if (this.state.loading === false) {\r\n            this.setState({ loading: true });\r\n            const formData = new FormData();\r\n            const selectedRecord = this.state.selectedRecord;\r\n            const userInfo = this.props.userInfo;\r\n            const inputData = {};\r\n            let commentArray = [];\r\n            // if (this.state.operation === 'update') {\r\n\r\n            // } else {\r\n            let comment = {};\r\n            comment[\"nreleasetestcommentcode\"] = selectedRecord.selectedReleaseTestComment && selectedRecord.selectedReleaseTestComment.nreleasetestcommentcode\r\n            comment[\"nformcode\"] = userInfo.nformcode;\r\n            comment[\"npreregno\"] = selectedRecord.npreregno.value;\r\n            comment[\"ntransactionsamplecode\"] = selectedRecord.ntransactionsamplecode.value;\r\n            comment[\"ntransactiontestcode\"] = selectedRecord.ntransactiontestcode.value;\r\n            comment[\"ncoaparentcode\"] = this.props.masterData.ncoaparentcode;\r\n            comment[\"nusercode\"] = userInfo.nusercode;\r\n            comment[\"nuserrolecode\"] = userInfo.nuserrole;\r\n            comment[\"ncommentsubtypecode\"] = selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode.value;\r\n            comment[\"nsampletestcommentscode\"] = selectedRecord.nsampletestcommentscode && selectedRecord.nsampletestcommentscode.value !== \"\" ? selectedRecord.nsampletestcommentscode.value : '-1';\r\n            comment[\"jsondata\"] = {\r\n                scomments: selectedRecord.scomments ? selectedRecord.scomments : \"\",\r\n                nneedreport: selectedRecord.nneedreport ? selectedRecord.nneedreport : transactionStatus.NO,\r\n                stestsynonym: selectedRecord.stestsynonym,\r\n                scommentsubtype: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode.label,\r\n                spredefinedname: selectedRecord.nsampletestcommentscode && selectedRecord.nsampletestcommentscode.label !== \"\" ? selectedRecord.nsampletestcommentscode.label : '-',\r\n                ncommentsubtypecode: selectedRecord.ncommentsubtypecode && selectedRecord.ncommentsubtypecode,\r\n                nsampletestcommentscode: selectedRecord.nsampletestcommentscode ? selectedRecord.nsampletestcommentscode : '-'\r\n            }\r\n            comment[\"nsamplecommentscode\"] = selectedRecord.nsamplecommentscode ? selectedRecord.nsamplecommentscode.value : -1;\r\n            commentArray.push(comment);\r\n            inputData[\"testcomment\"] = commentArray;\r\n            // }\r\n            formData.append(\"userinfo\", JSON.stringify({\r\n                ...userInfo,\r\n                sformname: Lims_JSON_stringify(userInfo.sformname),\r\n                smodulename: Lims_JSON_stringify(userInfo.smodulename),\r\n                slanguagename: Lims_JSON_stringify(userInfo.slanguagename)\r\n            }));\r\n            formData.append(\"releasetestcomment\", JSON.stringify(commentArray));\r\n            formData.append(\"ncoaparentcode\", this.props.masterData.ncoaparentcode);\r\n\r\n            const requestUrl = rsapi.post(\"release/\" + this.state.operation + \"ReleaseTestComment\", formData);\r\n            return requestUrl\r\n                .then(response => {\r\n                    let ReleaseTestCommentDetails = response.data.ReleaseTestCommentDetails;\r\n                    let selectedRecord = {};\r\n                    let openModal = false;\r\n                    this.setState({ selectedRecord, openModal, ReleaseTestCommentDetails, loading: false });\r\n\r\n                }).catch(error => {\r\n                    if (error.response.status === 500) {\r\n                        toast.error(error.message);\r\n                    } else {\r\n                        toast.warn(error.response.data);\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(null, { viewAttachment })(injectIntl(ReleaseTestAttachment));"]},"metadata":{},"sourceType":"module"}