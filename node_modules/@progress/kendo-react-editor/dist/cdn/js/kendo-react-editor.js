!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("@progress/kendo-react-intl"),require("react-dom"),require("@progress/kendo-drawing"),require("@progress/kendo-licensing"),require("react-transition-group"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["prop-types","react","@progress/kendo-react-intl","react-dom","@progress/kendo-drawing","@progress/kendo-licensing","react-transition-group","react-dom/server"],t):"object"==typeof exports?exports.KendoReactEditor=t(require("prop-types"),require("react"),require("@progress/kendo-react-intl"),require("react-dom"),require("@progress/kendo-drawing"),require("@progress/kendo-licensing"),require("react-transition-group"),require("react-dom/server")):e.KendoReactEditor=t(e.PropTypes,e.React,e.KendoReactIntl,e.ReactDOM,e.KendoDrawing,e.KendoLicensing,e.ReactTransitionGroup,e.ReactDOMServer)}(window,(function(e,t,n,r,o,i,a,s){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";n.d(t,"l",(function(){return G})),n.d(t,"f",(function(){return J})),n.d(t,"h",(function(){return X})),n.d(t,"n",(function(){return Y})),n.d(t,"d",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"m",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return C})),n.d(t,"g",(function(){return x})),n.d(t,"o",(function(){return S})),n.d(t,"q",(function(){return I})),n.d(t,"p",(function(){return E})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return D})),n.d(t,"r",(function(){return $}));var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!0!==e&&!!e})).map((function(e){return Array.isArray(e)?r.apply(void 0,e):"object"==typeof e?Object.keys(e).map((function(t,n){return e[n]||e[t]&&t||null})).filter((function(e){return null!==e})).join(" "):e})).filter((function(e){return!!e})).join(" ")},o=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},i={backspace:8,tab:9,enter:13,shift:16,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,delete:46},a=function(){};function s(e,t,n,r){if(e){var o={syntheticEvent:t,nativeEvent:t.nativeEvent,target:n};e.call(void 0,Object.assign(o,r))}}var l=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),c=n(1),u=n(0),p=function(e,t){return function(n){return t(e(n))}},d=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},f=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},h=function(){},m=function(e){return e.preventDefault()},v=/touch/;function g(e){return e.type.match(v)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var y=function(e){var t=this,n=e.press;void 0===n&&(n=h);var r=e.drag;void 0===r&&(r=h);var o=e.release;void 0===o&&(o=h);var i=e.mouseOnly;void 0===i&&(i=!1),this._pressHandler=p(g,n),this._dragHandler=p(g,r),this._releaseHandler=p(g,o),this._ignoreMouse=!1,this._mouseOnly=i,this._touchstart=function(e){1===e.touches.length&&t._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&t._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(t._releaseHandler(e),t._ignoreMouse=!0,setTimeout(t._restoreMouse,2e3))},this._restoreMouse=function(){t._ignoreMouse=!1},this._mousedown=function(e){var n=e.which;n&&n>1||t._ignoreMouse||(d(t.document,"mousemove",t._mousemove),d(t.document,"mouseup",t._mouseup),t._pressHandler(e))},this._mousemove=function(e){t._dragHandler(e)},this._mouseup=function(e){f(t.document,"mousemove",t._mousemove),f(t.document,"mouseup",t._mouseup),t._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(d(t.document,"pointermove",t._pointermove),d(t.document,"pointerup",t._pointerup),d(t.document,"pointercancel",t._pointerup),d(t.document,"contextmenu",m),t._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&t._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(f(t.document,"pointermove",t._pointermove),f(t.document,"pointerup",t._pointerup),f(t.document,"pointercancel",t._pointerup),f(t.document,"contextmenu",m),t._releaseHandler(e))}},b={document:{configurable:!0}};y.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},b.document.get=function(){return this._element?this._element.ownerDocument:document},y.prototype.bindTo=function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())},y.prototype._bindToCurrent=function(){var e=this._element;this._usePointers()?d(e,"pointerdown",this._pointerdown):(d(e,"mousedown",this._mousedown),this._mouseOnly||(d(e,"touchstart",this._touchstart),d(e,"touchmove",this._touchmove),d(e,"touchend",this._touchend)))},y.prototype._unbindFromCurrent=function(){var e=this._element;if(this._usePointers())return f(e,"pointerdown",this._pointerdown),f(this.document,"pointermove",this._pointermove),f(this.document,"pointerup",this._pointerup),f(this.document,"contextmenu",m),void f(this.document,"pointercancel",this._pointerup);f(e,"mousedown",this._mousedown),this._mouseOnly||(f(e,"touchstart",this._touchstart),f(e,"touchmove",this._touchmove),f(e,"touchend",this._touchend))},y.prototype._usePointers=function(){return!this._mouseOnly&&y.supportPointerEvent()},y.prototype.update=function(e){var t=e.press;void 0===t&&(t=h);var n=e.drag;void 0===n&&(n=h);var r=e.release;void 0===r&&(r=h);var o=e.mouseOnly;void 0===o&&(o=!1),this._pressHandler=p(g,t),this._dragHandler=p(g,n),this._releaseHandler=p(g,r),this._mouseOnly=o},y.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},Object.defineProperties(y.prototype,b),y.default=y;var k,w=y,O=(k=function(e,t){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}k(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=null,t.draggable=new w({press:function(e){t.element&&t.props.onPress&&t.props.onPress.call(void 0,{target:t,event:e,element:t.element})},drag:function(e){t.element&&t.props.onDrag&&t.props.onDrag.call(void 0,{target:t,event:e,element:t.element})},release:function(e){t.element&&t.props.onRelease&&t.props.onRelease.call(void 0,{target:t,event:e})}}),t.childRef=function(e){var n=t.props.childRef;t.element=e,n&&"function"==typeof n&&n(e)},t}return O(t,e),t.prototype.componentDidMount=function(){this.element&&this.draggable.bindTo(this.element)},t.prototype.componentWillUnmount=function(){this.draggable.destroy()},t.prototype.render=function(){return c.cloneElement(c.Children.only(this.props.children),{ref:this.childRef})},t.propTypes={children:u.element.isRequired},t}(c.Component),x=function(e){if(e){if((e instanceof HTMLInputElement||-1!==e.tabIndex)&&e.focus)return void e.focus();var t=e.querySelector('input, [tabindex]:not([tabindex="-1"])');t&&t.focus&&t.focus()}};function S(e,t,n){var r=c.useState(t),o=r[0],i=r[1];return c.useEffect((function(){if(!o&&window&&e.current){var t=window.getComputedStyle(e.current).direction;t&&i(t)}}),n),o}function E(e,t){var n=t.onPress,r=t.onDrag,o=t.onRelease,i=c.useMemo((function(){return new w({press:n,drag:r,release:o})}),[]);c.useEffect((function(){var t=e.current;if(t)return i.bindTo(t),function(){i.destroy()}}),[]),c.useEffect((function(){i.update({press:n,drag:r,release:o})}),[n,r,o])}function I(e,t,n){var r=c.useState(t),o=r[0],i=r[1];return c.useEffect((function(){if(!o&&window&&e.current){var t=window.getComputedStyle(e.current).direction;t&&i(t)}}),n),o}var _=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;function N(e){var t=[];return e.replace(_,(function(e,n,r,o){t.push(void 0!==n?n:r||o)})),t}var T={};function P(e){if(T[e])return T[e];var t=N(e);return T[e]=function(e){for(var n=e,r=0;r<t.length&&n;r++)n=n[t[r]];return n},T[e]}T.undefined=function(){};var D=function(e,t,n){var r="string"==typeof e?parseInt(e,void 0):e;if(NaN!==r)return void 0!==r?r:t?n?void 0:-1:0},M={default:"",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl"},j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},A=c.forwardRef((function(e,t){var n=e.className,o=e.name,i=e.themeColor,a=e.size,s=e.flip,l=e.style,u=R(e,["className","name","themeColor","size","flip","style"]),p=c.useRef(null);c.useImperativeHandle(t,(function(){return{element:p.current}}));var d=c.useMemo((function(){return i||F.themeColor}),[i]),f=c.useMemo((function(){return a||F.size}),[a]),h=c.useMemo((function(){return s||F.flip}),[s]),m=c.useMemo((function(){return r("k-icon","k-i-"+o,"k-color-"+d,{"k-flip-h":"horizontal"===h||"both"===h,"k-flip-v":"vertical"===h||"both"===h},M[f],n)}),[o,d,f,h,n]);return c.createElement("span",j({className:m,style:l,ref:p,role:"presentation"},u))}));A.propTypes={style:u.object,classNames:u.string,name:u.string,themeColor:u.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:u.oneOf(["default","xsmall","small","medium","large","xlarge"]),flip:u.oneOf(["default","horizontal","vertical","both"])};var F={size:"default",themeColor:"inherit",flip:"default"};A.displayName="KendoIcon";var L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},B=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},z=c.forwardRef((function(e,t){var n=e.children,o=e.className,i=e.svgClassName,a=e.icon,s=e.flip,l=e.size,u=e.style,p=e.svgStyle,d=e.themeColor,f=e.viewBox,h=B(e,["children","className","svgClassName","icon","flip","size","style","svgStyle","themeColor","viewBox"]),m=c.useRef(null);c.useImperativeHandle(t,(function(){return{element:m.current}}));var v=c.useMemo((function(){return a?a.name:V.icon}),[a]),g=c.useMemo((function(){return d||V.themeColor}),[d]),y=c.useMemo((function(){return l||V.size}),[l]),b=c.useMemo((function(){return s||V.flip}),[s]),k=c.useMemo((function(){return f||V.viewBox}),[f]),w=c.useMemo((function(){return r("k-svg-icon","k-color-"+g,"k-svg-i-"+v,{"k-flip-h":"horizontal"===b||"both"===b,"k-flip-v":"vertical"===b||"both"===b},M[y],o)}),[v,g,y,b,o]),O=c.useMemo((function(){return e.width&&e.height?L({width:e.width,height:e.height},u):e.width?L({width:e.width,height:e.width},u):e.height?L({width:e.height,height:e.height},u):L({},u)}),[e.width,e.height,u]);return c.createElement("span",{className:w,style:O,ref:m},c.createElement("svg",L({className:i,style:p,"aria-hidden":!0,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:a?a.viewBox:k,dangerouslySetInnerHTML:a?{__html:a.content}:void 0},h),a?void 0:n))}));z.propTypes={style:u.object,classNames:u.string,children:u.any,icon:u.object,themeColor:u.oneOf(["inherit","primary","secondary","tertiary","info","success","error","warning","dark","light","inverse"]),size:u.oneOf(["default","xsmall","small","medium","large","xlarge"]),flip:u.oneOf(["default","horizontal","vertical","both"])};var V={size:"default",themeColor:"inherit",flip:"default",icon:"",viewBox:"0 0 24 24"};z.displayName="KendoSvgIcon";var H=function(){return"undefined"!=typeof document?document:{}},K=function(){function e(){}return Object.defineProperty(e.prototype,"scrollbarWidth",{get:function(){var e=H();if(!this.scrollbar&&e&&e.createElement){var t=e.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",e.body.appendChild(t),this.scrollbar=t.offsetWidth-t.scrollWidth,e.body.removeChild(t)}return this.scrollbar},enumerable:!0,configurable:!0}),e}(),W=n(12);function $(e){if(void 0!==W)W.validatePackage(e);else{var t="License activation failed for "+e.name+"\n";t+="The @progress/kendo-licensing script is not loaded.\n",t+="See "+e.licensingDocsUrl+" for more information.\n",console.warn(t)}}var q=function(){return(q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function U(e,t,n){var r;return n?q({},e,((r={})[t]=n.length?n.slice():void 0,r)):e&&e[t]?e[t].slice():[]}var G=function(e,t,n){return e.map((function(e){return function e(t,n,r){if(t[n]){var o=U(t,n).map((function(t){return e(t,n,r)}));return r(U(t,n,o))}return r(t)}(e,t,n)})).slice()},J=function(e,t,n){var r;return Object.assign({},e,e[t]?((r={})[t]=e[t].slice(),r):{},n||{})},X=function(){return!(!l||!document.body)&&(new K).scrollbarWidth},Y=function(){if(!l||!document.body)return!1;var e=(new K).scrollbarWidth;document.body.style.setProperty("--kendo-scrollbar-width",e+"px")}},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){this.content=e}n.r(t),n.d(t,"getHtml",(function(){return Et})),n.d(t,"setHtml",(function(){return It})),n.d(t,"parseContent",(function(){return St})),n.d(t,"trimWhitespace",(function(){return xt})),n.d(t,"applyInlineStyle",(function(){return tn})),n.d(t,"getInlineStyles",(function(){return Zt})),n.d(t,"toggleInlineFormat",(function(){return en})),n.d(t,"applyLink",(function(){return rn})),n.d(t,"removeLink",(function(){return nn})),n.d(t,"insertText",(function(){return on})),n.d(t,"insertImage",(function(){return an})),n.d(t,"alignBlocks",(function(){return vn})),n.d(t,"isAligned",(function(){return gn})),n.d(t,"cleanFormatting",(function(){return yn})),n.d(t,"hasNode",(function(){return fn})),n.d(t,"activeNode",(function(){return mn})),n.d(t,"formatBlockElements",(function(){return cn})),n.d(t,"getBlockFormats",(function(){return pn})),n.d(t,"parentBlockFormat",(function(){return hn})),n.d(t,"changeTextBlock",(function(){return sn})),n.d(t,"blockNodes",(function(){return ln})),n.d(t,"cleanTextBlockFormatting",(function(){return un})),n.d(t,"hasMark",(function(){return $t})),n.d(t,"getMark",(function(){return Gt})),n.d(t,"getActiveMarks",(function(){return Jt})),n.d(t,"removeAllMarks",(function(){return Kt})),n.d(t,"cleanMarks",(function(){return Wt})),n.d(t,"selectionMarks",(function(){return Ut})),n.d(t,"indent",(function(){return Vn})),n.d(t,"canIndentAsListItem",(function(){return Ln})),n.d(t,"outdent",(function(){return Hn})),n.d(t,"canOutdentAsListItem",(function(){return Bn})),n.d(t,"isIndented",(function(){return Fn})),n.d(t,"canBeIndented",(function(){return zn})),n.d(t,"indentBlocks",(function(){return An})),n.d(t,"toggleOrderedList",(function(){return Ir})),n.d(t,"toggleUnorderedList",(function(){return Er})),n.d(t,"toggleList",(function(){return Sr})),n.d(t,"hasSameMarkup",(function(){return Rt})),n.d(t,"getSelectionText",(function(){return At})),n.d(t,"getNodeFromSelection",(function(){return Ft})),n.d(t,"selectedLineTextOnly",(function(){return Lt})),n.d(t,"canInsert",(function(){return Pt})),n.d(t,"insertNode",(function(){return jt})),n.d(t,"indentHtml",(function(){return Bt})),n.d(t,"alignLeftRules",(function(){return Nr})),n.d(t,"alignCenterRules",(function(){return Pr})),n.d(t,"alignRightRules",(function(){return Tr})),n.d(t,"alignJustifyRules",(function(){return Dr})),n.d(t,"alignRemoveRules",(function(){return Mr})),n.d(t,"indentRules",(function(){return jn})),n.d(t,"outdentRules",(function(){return Rn})),n.d(t,"nodes",(function(){return Cl})),n.d(t,"marks",(function(){return Ol})),n.d(t,"buildKeymap",(function(){return fc})),n.d(t,"buildListKeymap",(function(){return hc})),n.d(t,"bold",(function(){return ic})),n.d(t,"italic",(function(){return ac})),n.d(t,"underline",(function(){return sc})),n.d(t,"strikethrough",(function(){return lc})),n.d(t,"subscript",(function(){return cc})),n.d(t,"superscript",(function(){return uc})),n.d(t,"link",(function(){return pc})),n.d(t,"sanitize",(function(){return xc})),n.d(t,"removeComments",(function(){return Sc})),n.d(t,"removeTag",(function(){return Ec})),n.d(t,"pasteCleanup",(function(){return Dc})),n.d(t,"sanitizeClassAttr",(function(){return _c})),n.d(t,"sanitizeStyleAttr",(function(){return Pc})),n.d(t,"removeAttribute",(function(){return Ic})),n.d(t,"replaceImageSourcesFromRtf",(function(){return zc})),n.d(t,"convertMsLists",(function(){return Cc})),n.d(t,"createTable",(function(){return Vc})),n.d(t,"find",(function(){return Kc})),n.d(t,"findAt",(function(){return Hc})),n.d(t,"findAll",(function(){return Wc})),n.d(t,"replace",(function(){return $c})),n.d(t,"replaceAll",(function(){return qc})),n.d(t,"placeholder",(function(){return Xc})),n.d(t,"spacesFix",(function(){return Qc})),n.d(t,"textHighlight",(function(){return tu})),n.d(t,"textHighlightKey",(function(){return eu})),n.d(t,"autoJoin",(function(){return fr})),n.d(t,"baseKeymap",(function(){return kr})),n.d(t,"chainCommands",(function(){return hr})),n.d(t,"createParagraphNear",(function(){return rr})),n.d(t,"deleteSelection",(function(){return Kn})),n.d(t,"exitCode",(function(){return nr})),n.d(t,"joinBackward",(function(){return Wn})),n.d(t,"joinDown",(function(){return Zn})),n.d(t,"joinForward",(function(){return Gn})),n.d(t,"joinUp",(function(){return Yn})),n.d(t,"lift",(function(){return Qn})),n.d(t,"liftEmptyBlock",(function(){return or})),n.d(t,"macBaseKeymap",(function(){return yr})),n.d(t,"newlineInCode",(function(){return er})),n.d(t,"pcBaseKeymap",(function(){return gr})),n.d(t,"selectAll",(function(){return lr})),n.d(t,"selectNodeBackward",(function(){return qn})),n.d(t,"selectNodeForward",(function(){return Jn})),n.d(t,"selectParentNode",(function(){return sr})),n.d(t,"setBlockType",(function(){return pr})),n.d(t,"splitBlock",(function(){return ir})),n.d(t,"splitBlockKeepMarks",(function(){return ar})),n.d(t,"toggleMark",(function(){return dr})),n.d(t,"wrapIn",(function(){return ur})),n.d(t,"dropCursor",(function(){return nu})),n.d(t,"GapCursor",(function(){return ou})),n.d(t,"gapCursor",(function(){return au})),n.d(t,"HistoryState",(function(){return Tl})),n.d(t,"closeHistory",(function(){return Ll})),n.d(t,"history",(function(){return Vl})),n.d(t,"redo",(function(){return Kl})),n.d(t,"redoDepth",(function(){return $l})),n.d(t,"undo",(function(){return Hl})),n.d(t,"undoDepth",(function(){return Wl})),n.d(t,"InputRule",(function(){return ql})),n.d(t,"closeDoubleQuote",(function(){return Ql})),n.d(t,"closeSingleQuote",(function(){return tc})),n.d(t,"ellipsis",(function(){return Yl})),n.d(t,"emDash",(function(){return Xl})),n.d(t,"inputRules",(function(){return Ul})),n.d(t,"openDoubleQuote",(function(){return Zl})),n.d(t,"openSingleQuote",(function(){return ec})),n.d(t,"smartQuotes",(function(){return nc})),n.d(t,"textblockTypeInputRule",(function(){return oc})),n.d(t,"undoInputRule",(function(){return Jl})),n.d(t,"wrappingInputRule",(function(){return rc})),n.d(t,"keydownHandler",(function(){return Gr})),n.d(t,"keymap",(function(){return Ur})),n.d(t,"ContentMatch",(function(){return M})),n.d(t,"DOMParser",(function(){return ee})),n.d(t,"DOMSerializer",(function(){return pe})),n.d(t,"Fragment",(function(){return i})),n.d(t,"Mark",(function(){return u})),n.d(t,"MarkType",(function(){return Y})),n.d(t,"Node",(function(){return N})),n.d(t,"NodeRange",(function(){return E})),n.d(t,"NodeType",(function(){return U})),n.d(t,"ReplaceError",(function(){return p})),n.d(t,"ResolvedPos",(function(){return w})),n.d(t,"Schema",(function(){return Z})),n.d(t,"Slice",(function(){return d})),n.d(t,"addListNodes",(function(){return En})),n.d(t,"bulletList",(function(){return Cn})),n.d(t,"liftListItem",(function(){return Nn})),n.d(t,"listItem",(function(){return xn})),n.d(t,"orderedList",(function(){return On})),n.d(t,"sinkListItem",(function(){return Tn})),n.d(t,"splitListItem",(function(){return _n})),n.d(t,"wrapInList",(function(){return In})),n.d(t,"AllSelection",(function(){return st})),n.d(t,"EditorState",(function(){return vt})),n.d(t,"NodeSelection",(function(){return it})),n.d(t,"Plugin",(function(){return bt})),n.d(t,"PluginKey",(function(){return Ot})),n.d(t,"Selection",(function(){return et})),n.d(t,"SelectionRange",(function(){return nt})),n.d(t,"TextSelection",(function(){return rt})),n.d(t,"Transaction",(function(){return pt})),n.d(t,"CellSelection",(function(){return us})),n.d(t,"TableMap",(function(){return Ka})),n.d(t,"TableView",(function(){return nl})),n.d(t,"__clipCells",(function(){return ms})),n.d(t,"__insertCells",(function(){return ys})),n.d(t,"__pastedCells",(function(){return fs})),n.d(t,"addColSpan",(function(){return ls})),n.d(t,"addColumn",(function(){return Ms})),n.d(t,"addColumnAfter",(function(){return Rs})),n.d(t,"addColumnBefore",(function(){return js})),n.d(t,"addRow",(function(){return Bs})),n.d(t,"addRowAfter",(function(){return Vs})),n.d(t,"addRowBefore",(function(){return zs})),n.d(t,"cellAround",(function(){return Xa})),n.d(t,"colCount",(function(){return rs})),n.d(t,"columnIsHeader",(function(){return cs})),n.d(t,"columnResizing",(function(){return il})),n.d(t,"columnResizingPluginKey",(function(){return ol})),n.d(t,"deleteColumn",(function(){return Fs})),n.d(t,"deleteRow",(function(){return Ks})),n.d(t,"deleteTable",(function(){return tl})),n.d(t,"findCell",(function(){return ns})),n.d(t,"fixTables",(function(){return Ps})),n.d(t,"fixTablesKey",(function(){return Ts})),n.d(t,"goToNextCell",(function(){return el})),n.d(t,"handlePaste",(function(){return Ss})),n.d(t,"inSameTable",(function(){return ts})),n.d(t,"isInTable",(function(){return Ya})),n.d(t,"mergeCells",(function(){return $s})),n.d(t,"moveCellForward",(function(){return es})),n.d(t,"nextCell",(function(){return is})),n.d(t,"pointsAtCell",(function(){return Qa})),n.d(t,"removeColSpan",(function(){return ss})),n.d(t,"removeColumn",(function(){return As})),n.d(t,"removeRow",(function(){return Hs})),n.d(t,"rowIsHeader",(function(){return Ls})),n.d(t,"selectedRect",(function(){return Ds})),n.d(t,"selectionCell",(function(){return Za})),n.d(t,"setAttr",(function(){return as})),n.d(t,"setCellAttr",(function(){return Gs})),n.d(t,"splitCell",(function(){return qs})),n.d(t,"splitCellWithType",(function(){return Us})),n.d(t,"tableEditing",(function(){return pl})),n.d(t,"tableEditingKey",(function(){return Ja})),n.d(t,"tableNodeTypes",(function(){return Ga})),n.d(t,"tableNodes",(function(){return Ua})),n.d(t,"toggleHeader",(function(){return Xs})),n.d(t,"toggleHeaderCell",(function(){return Qs})),n.d(t,"toggleHeaderColumn",(function(){return Zs})),n.d(t,"toggleHeaderRow",(function(){return Ys})),n.d(t,"updateColumnsOnResize",(function(){return rl})),n.d(t,"AddMarkStep",(function(){return ze})),n.d(t,"MapResult",(function(){return ve})),n.d(t,"Mapping",(function(){return ye})),n.d(t,"RemoveMarkStep",(function(){return Ve})),n.d(t,"ReplaceAroundStep",(function(){return Ie})),n.d(t,"ReplaceStep",(function(){return Ee})),n.d(t,"Step",(function(){return xe})),n.d(t,"StepMap",(function(){return ge})),n.d(t,"StepResult",(function(){return Se})),n.d(t,"Transform",(function(){return ke})),n.d(t,"TransformError",(function(){return be})),n.d(t,"canJoin",(function(){return je})),n.d(t,"canSplit",(function(){return Me})),n.d(t,"dropPoint",(function(){return Le})),n.d(t,"findWrapping",(function(){return Pe})),n.d(t,"insertPoint",(function(){return Fe})),n.d(t,"joinPoint",(function(){return Ae})),n.d(t,"liftTarget",(function(){return Te})),n.d(t,"replaceStep",(function(){return He})),n.d(t,"Decoration",(function(){return va})),n.d(t,"DecorationSet",(function(){return ka})),n.d(t,"EditorView",(function(){return Ma})),n.d(t,"__endComposition",(function(){return aa})),n.d(t,"__parseFromClipboard",(function(){return Pi})),n.d(t,"__serializeForClipboard",(function(){return Ti})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var o=r;var i=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o,i)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,e-c),Math.min(s.content.size,t-c),n,r+c)}a=l}},i.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},i.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(o+=a.text.slice(Math.max(e,s)-s,t-s),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},i.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new i(r,this.size+e.size)},i.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,a=0;a<t;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),r+=s.nodeSize),a=l}return new i(n,r)},i.prototype.cutByIndex=function(e,t){return e==t?i.empty:0==e&&t==this.content.length?this:new i(this.content.slice(e,t))},i.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new i(r,o)},i.prototype.addToStart=function(e){return new i([e].concat(this.content),this.size+e.nodeSize)},i.prototype.addToEnd=function(e){return new i(this.content.concat(e),this.size+e.nodeSize)},i.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},i.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},i.prototype.maybeChild=function(e){return this.content[e]},i.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},i.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,r){for(var o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:r;var i=t.child(o),a=n.child(o);if(i!=a){if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(var s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){var l=e(i.content,a.content,r+1);if(null!=l)return l}r+=i.nodeSize}else r+=i.nodeSize}}(this,e,t)},i.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,r,o){for(var i=t.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:r,b:o};var s=t.child(--i),l=n.child(--a),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:r,b:o};if(s.isText&&s.text!=l.text){for(var u=0,p=Math.min(s.text.length,l.text.length);u<p&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,o--;return{a:r,b:o}}if(s.content.size||l.content.size){var d=e(s.content,l.content,r-1,o-1);if(d)return d}r-=c,o-=c}else r-=c,o-=c}}(this,e,t,n)},i.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return l(0,e);if(e==this.size)return l(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?l(n+1,o):l(n,r);r=o}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},i.fromJSON=function(e,t){if(!t)return i.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(t.map(e.nodeFromJSON))},i.fromArray=function(e){if(!e.length)return i.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new i(t||e,n)},i.from=function(e){if(!e)return i.empty;if(e instanceof i)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new i([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,a);var s={index:0,offset:0};function l(e,t){return s.index=e,s.offset=t,s}function c(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!c(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!c(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}i.empty=new i([],0);var u=function(e,t){this.type=e,this.attrs=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}u.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},u.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},u.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},u.prototype.eq=function(e){return this==e||this.type==e.type&&c(this.attrs,e.attrs)},u.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},u.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},u.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},u.setFrom=function(e){if(!e||0==e.length)return u.none;if(e instanceof u)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},u.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var d=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},f={size:{configurable:!0}};function h(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return function e(t,n,r,o){var a=t.index(o),s=t.node(o);if(a==n.index(o)&&o<t.depth-r.openStart){var l=e(t,n,r,o+1);return s.copy(s.content.replaceChild(a,l))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=o||n.depth!=o){var c=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(i.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t),u=c.start,p=c.end;return b(s,function e(t,n,r,o,a){var s=t.depth>a&&v(t,n,a+1),l=o.depth>a&&v(r,o,a+1),c=[];y(null,t,a,c),s&&l&&n.index(a)==r.index(a)?(m(s,l),g(b(s,e(t,n,r,o,a+1)),c)):(s&&g(b(s,k(t,n,a+1)),c),y(n,r,a,c),l&&g(b(l,k(r,o,a+1)),c));return y(o,null,a,c),new i(c)}(t,u,p,n,o))}var d=t.parent,f=d.content;return b(d,f.cut(0,t.parentOffset).append(r.content).append(f.cut(n.parentOffset)))}return b(s,k(t,n,o))}(e,t,n,0)}function m(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function v(e,t,n){var r=e.node(n);return m(r,t.node(n)),r}function g(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function y(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(g(e.nodeAfter,r),i++));for(var s=i;s<a;s++)g(o.child(s),r);t&&t.depth==n&&t.textOffset&&g(t.nodeBefore,r)}function b(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function k(e,t,n){var r=[];(y(null,e,n,r),e.depth>n)&&g(b(v(e,t,n+1),k(e,t,n+1)),r);return y(t,null,n,r),new i(r)}f.size.get=function(){return this.content.size-this.openStart-this.openEnd},d.prototype.insertAt=function(e,t){var n=function e(t,n,r,o){var i=t.findIndex(n),a=i.index,s=i.offset,l=t.maybeChild(a);if(s==n||l.isText)return o&&!o.canReplace(a,a,r)?null:t.cut(0,n).append(r).append(t.cut(n));var c=e(l.content,n-s-1,r);return c&&t.replaceChild(a,l.copy(c))}(this.content,e+this.openStart,t,null);return n&&new d(n,this.openStart,this.openEnd)},d.prototype.removeBetween=function(e,t){return new d(function e(t,n,r){var o=t.findIndex(n),i=o.index,a=o.offset,s=t.maybeChild(i),l=t.findIndex(r),c=l.index,u=l.offset;if(a==n||s.isText){if(u!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(e(s.content,n-a-1,r-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},d.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},d.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},d.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},d.fromJSON=function(e,t){if(!t)return d.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new d(i.fromJSON(e,t.content),n,r)},d.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new d(e,n,r)},Object.defineProperties(d.prototype,f),d.empty=new d(i.empty,0,0);var w=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},O={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};w.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},O.parent.get=function(){return this.node(this.depth)},O.doc.get=function(){return this.node(0)},w.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},w.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},w.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},w.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},w.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},w.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},w.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},O.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},O.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},O.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},w.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},w.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return u.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},w.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},w.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},w.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new E(this,e,n)},w.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},w.prototype.max=function(e){return e.pos>this.pos?e:this},w.prototype.min=function(e){return e.pos<this.pos?e:this},w.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},w.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),s=a.index,l=a.offset,c=o-l;if(n.push(i,s,r+l),!c)break;if((i=i.child(s)).isText)break;o=c-1,r+=l+1}return new w(t,n,o)},w.resolveCached=function(e,t){for(var n=0;n<C.length;n++){var r=C[n];if(r.pos==t&&r.doc==e)return r}var o=C[x]=w.resolve(e,t);return x=(x+1)%S,o},Object.defineProperties(w.prototype,O);var C=[],x=0,S=12,E=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},I={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};I.start.get=function(){return this.$from.before(this.depth+1)},I.end.get=function(){return this.$to.after(this.depth+1)},I.parent.get=function(){return this.$from.node(this.depth)},I.startIndex.get=function(){return this.$from.index(this.depth)},I.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(E.prototype,I);var _=Object.create(null),N=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||i.empty,this.marks=r||u.none},T={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};T.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},T.childCount.get=function(){return this.content.childCount},N.prototype.child=function(e){return this.content.child(e)},N.prototype.maybeChild=function(e){return this.content.maybeChild(e)},N.prototype.forEach=function(e){this.content.forEach(e)},N.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},N.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},T.textContent.get=function(){return this.textBetween(0,this.content.size,"")},N.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},T.firstChild.get=function(){return this.content.firstChild},T.lastChild.get=function(){return this.content.lastChild},N.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},N.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},N.prototype.hasMarkup=function(e,t,n){return this.type==e&&c(this.attrs,t||e.defaultAttrs||_)&&u.sameSet(this.marks,n||u.none)},N.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},N.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},N.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},N.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return d.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new d(s,r.depth-i,o.depth-i)},N.prototype.replace=function(e,t,n){return h(this.resolve(e),this.resolve(t),n)},N.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},N.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},N.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},N.prototype.resolve=function(e){return w.resolveCached(this,e)},N.prototype.resolveNoCache=function(e){return w.resolve(this,e)},N.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},T.isBlock.get=function(){return this.type.isBlock},T.isTextblock.get=function(){return this.type.isTextblock},T.inlineContent.get=function(){return this.type.inlineContent},T.isInline.get=function(){return this.type.isInline},T.isText.get=function(){return this.type.isText},T.isLeaf.get=function(){return this.type.isLeaf},T.isAtom.get=function(){return this.type.isAtom},N.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),D(this.marks,e)},N.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},N.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=i.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,r,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},N.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},N.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},N.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=u.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!u.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},N.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},N.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=i.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(N.prototype,T);var P=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):D(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(N);function D(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var M=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},j={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};M.parse=function(e,t){var n=new R(e,t);if(null==n.next)return M.empty;var r=F(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new M(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var s=o[a+1].sort(H);i.next.push(o[a],t[s.join(",")]||n(s))}return i}(K(e,0))}(function(e){var t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,i))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],i);if(a==t.exprs.length-1)return s;o(s,i=n())}else{if("star"==t.type){var l=n();return r(i,l),o(e(t.expr,l),l),[r(l)]}if("plus"==t.type){var c=n();return o(e(t.expr,i),c),o(e(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){for(var u=i,p=0;p<t.min;p++){var d=n();o(e(t.expr,u),d),u=d}if(-1==t.max)o(e(t.expr,u),u);else for(var f=t.min;f<t.max;f++){var h=n();r(u,h),o(e(t.expr,u),h),u=h}return[r(u)]}if("name"==t.type)return[r(i,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var l=o.next[s],c=o.next[s+1];a.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(c)&&r.push(c)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},M.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},M.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},j.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},j.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},M.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},M.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(a,s){var l=a.matchFragment(e,n);if(l&&(!t||l.validEnd))return i.from(s.map((function(e){return e.createAndFill()})));for(var c=0;c<a.next.length;c+=2){var u=a.next[c],p=a.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var d=o(p,s.concat(u));if(d)return d}}}(this,[])},M.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},M.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<o.next.length;s+=2){var l=o.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!o.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0)}}},j.edgeCount.get=function(){return this.next.length>>1},M.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},M.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(M.prototype,j),M.empty=new M(!0);var R=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},A={next:{configurable:!0}};function F(e){var t=[];do{t.push(L(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function L(e){var t=[];do{t.push(B(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function B(e){for(var t=function(e){if(e.eat("(")){var t=F(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=V(e,t)}return t}function z(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function V(e,t){var n=z(e),r=n;return e.eat(",")&&(r="}"!=e.next?z(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function H(e,t){return t-e}function K(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,l=a.to;s||-1!=n.indexOf(l)||t(l)}}(t),n.sort(H)}function W(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function $(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function q(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new J(e[n]);return t}A.next.get=function(){return this.tokens[this.pos]},R.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},R.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(R.prototype,A);var U=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=q(n.attrs),this.defaultAttrs=W(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},G={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};G.isInline.get=function(){return!this.isBlock},G.isTextblock.get=function(){return this.isBlock&&this.inlineContent},G.isLeaf.get=function(){return this.contentMatch==M.empty},G.isAtom.get=function(){return this.isLeaf||this.spec.atom},U.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},U.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},U.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:$(this.attrs,e)},U.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(e),i.from(t),u.setFrom(n))},U.prototype.createChecked=function(e,t,n){if(t=i.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new N(this,this.computeAttrs(e),t,u.setFrom(n))},U.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=i.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(i.empty,!0);return o?new N(this,e,t.append(o),u.setFrom(n)):null},U.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},U.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},U.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},U.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:u.empty:e},U.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new U(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(U.prototype,G);var J=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},X={isRequired:{configurable:!0}};X.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(J.prototype,X);var Y=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=q(r.attrs),this.rank=t,this.excluded=null;var o=W(this.attrs);this.instance=o&&new u(this,o)};Y.prototype.create=function(e){return!e&&this.instance?this.instance:new u(this,$(this.attrs,e))},Y.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new Y(e,r++,t,o)})),n},Y.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},Y.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Y.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Z=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=o.from(e.nodes),this.spec.marks=o.from(e.marks),this.nodes=U.compile(this.spec.nodes,this),this.marks=Y.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],a=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[a]||(n[a]=M.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?Q(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var l=e.marks[s];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}Z.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof U))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Z.prototype.text=function(e,t){var n=this.nodes.text;return new P(n,n.defaultAttrs,e,u.setFrom(t))},Z.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Z.prototype.nodeFromJSON=function(e){return N.fromJSON(this,e)},Z.prototype.markFromJSON=function(e){return u.fromJSON(this,e)},Z.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ee=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ee.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ee.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!0);return n.addAll(e,null,t.from,t.to),d.maxOpen(n.finish())},ee.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(le(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},ee.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},ee.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=ce(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=ce(e)),e.node=a}));return t},ee.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ee(e,ee.schemaRules(e)))};var te={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},re={ol:!0,ul:!0};function oe(e){return(e?1:0)|("full"===e?2:0)}var ie=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=u.none,this.pendingMarks=r,this.stashMarks=[]};ie.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(i.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},ie.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=i.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},ie.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},ie.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):ue(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},ie.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!te.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ae=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=oe(t.preserveWhitespace)|(n?4:0);r=o?new ie(o.type,o.attrs,u.none,u.none,!0,t.topMatch||o.type.contentMatch,i):new ie(n?null:e.schema.topNodeType,null,u.none,u.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},se={top:{configurable:!0},currentPos:{configurable:!0}};function le(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ce(e){var t={};for(var n in e)t[n]=e[n];return t}function ue(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,s=r.next;if(o==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}se.top.get=function(){return this.nodes[this.open]},ae.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},ae.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ae.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();re.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&re.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ne.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,s=this.needsBlock;if(te.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=s}else this.addElementByRule(e,o,!1===o.consuming?n:null)},ae.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ae.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ae.prototype.readStyles=function(e){var t=u.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},ae.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var l=t.contentElement;"string"==typeof l?l=e.querySelector(l):"function"==typeof l&&(l=l(e)),l||(l=e),this.findAround(e,l,!0),this.addAll(l,r)}r&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},ae.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&te.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},ae.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},ae.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},ae.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},ae.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:oe(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ie(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},ae.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ae.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ae.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},se.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},ae.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ae.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ae.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ae.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ae.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,s){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var c=s>0||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},ae.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},ae.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ae.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(ae.prototype,se);var pe=function(e,t){this.nodes=e||{},this.marks=t||{}};function de(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function fe(e){return e.document||window.document}pe.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=fe(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(r.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var l=e.marks[a++],c=r.serializeMark(l,e.isInline,t);c&&(i.push(l,o),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(r.serializeNode(e,t))})),n},pe.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=pe.renderSpec(fe(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},pe.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},pe.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&pe.renderSpec(fe(n),r(e,t))},pe.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),s=t[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var p=l;p<t.length;p++){var d=t[p];if(0===d){if(p<t.length-1||p>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=pe.renderSpec(e,d,n),h=f.dom,m=f.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},pe.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new pe(this.nodesFromSchema(e),this.marksFromSchema(e)))},pe.nodesFromSchema=function(e){var t=de(e.nodes);return t.text||(t.text=function(e){return e.text}),t},pe.marksFromSchema=function(e){return de(e.marks)};var he=Math.pow(2,16);function me(e){return 65535&e}var ve=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},ge=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};ge.prototype.recover=function(e){var t=0,n=me(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/he}(e)},ge.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},ge.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},ge.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;var l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){var p=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return p;var d=e==(t<0?s:u)?null:a/3+(e-s)*he;return new ve(p,t<0?e!=s:e!=u,d)}r+=c-l}return n?e+r:new ve(e+r)},ge.prototype.touches=function(e,t){for(var n=0,r=me(t),o=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var l=this.ranges[a+o];if(e<=s+l&&a==3*r)return!0;n+=this.ranges[a+i]-l}return!1},ge.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}},ge.prototype.invert=function(){return new ge(this.ranges,!this.inverted)},ge.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},ge.offset=function(e){return 0==e?ge.empty:new ge(e<0?[0,-e,0]:[0,0,e])},ge.empty=new ge([]);var ye=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function be(e){var t=Error.call(this,e);return t.__proto__=be.prototype,t}ye.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new ye(this.maps,this.mirror,e,t)},ye.prototype.copy=function(){return new ye(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},ye.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},ye.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},ye.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},ye.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},ye.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},ye.prototype.invert=function(){var e=new ye;return e.appendMappingInverted(this),e},ye.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},ye.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},ye.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new ve(e,r)},be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be.prototype.name="TransformError";var ke=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ye},we={before:{configurable:!0},docChanged:{configurable:!0}};function Oe(){throw new Error("Override me")}we.before.get=function(){return this.docs.length?this.docs[0]:this.doc},ke.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new be(t.failed);return this},ke.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},we.docChanged.get=function(){return this.steps.length>0},ke.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(ke.prototype,we);var Ce=Object.create(null),xe=function(){};xe.prototype.apply=function(e){return Oe()},xe.prototype.getMap=function(){return ge.empty},xe.prototype.invert=function(e){return Oe()},xe.prototype.map=function(e){return Oe()},xe.prototype.merge=function(e){return null},xe.prototype.toJSON=function(){return Oe()},xe.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ce[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},xe.jsonID=function(e,t){if(e in Ce)throw new RangeError("Duplicate use of step JSON ID "+e);return Ce[e]=t,t.prototype.jsonID=e,t};var Se=function(e,t){this.doc=e,this.failed=t};Se.ok=function(e){return new Se(e,null)},Se.fail=function(e){return new Se(null,e)},Se.fromReplace=function(e,t,n,r){try{return Se.ok(e.replace(t,n,r))}catch(e){if(e instanceof p)return Se.fail(e.message);throw e}};var Ee=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&_e(e,this.from,this.to)?Se.fail("Structure replace would overwrite content"):Se.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new ge([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?d.empty:new d(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?d.empty:new d(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,d.fromJSON(e,n.slice),!!n.structure)},t}(xe);xe.jsonID("replace",Ee);var Ie=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(_e(e,this.from,this.gapFrom)||_e(e,this.gapTo,this.to)))return Se.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Se.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?Se.fromReplace(e,this.from,this.to,n):Se.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new ge([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,d.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(xe);function _e(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function Ne(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Te(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!Ne(r,o,i))break}}function Pe(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);if(!s||!s.validEnd)return null;return a}(r,t);return i?o.map(De).concat({type:t,attrs:n}).concat(i.map(De)):null}function De(e){return{type:e,attrs:null}}function Me(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,l=n-2;s>i;s--,l--){var c=o.node(s),u=o.index(s);if(c.type.spec.isolating)return!1;var p=c.content.cutByIndex(u,c.childCount),d=r&&r[l]||c;if(d!=c&&(p=p.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(p))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)}function je(e,t){var n=e.resolve(t),r=n.index();return Re(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Re(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function Ae(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&Re(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function Fe(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function Le(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),p=!1;if(1==a)p=u.canReplace(c,c,o);else{var d=u.contentMatchAt(c).findWrapping(o.firstChild.type);p=d&&u.canReplaceWith(c,c,d[0])}if(p)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Be(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var a=e.child(o);a.content.size&&(a=a.copy(Be(a.content,t,a))),a.isInline&&(a=t(a,n,o)),r.push(a)}return i.fromArray(r)}xe.jsonID("replaceAround",Ie),ke.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,a=n.before(o+1),s=r.after(o+1),l=a,c=s,u=i.empty,p=0,f=o,h=!1;f>t;f--)h||n.index(f)>0?(h=!0,u=i.from(n.node(f).copy(u)),p++):l--;for(var m=i.empty,v=0,g=o,y=!1;g>t;g--)y||r.after(g+1)<r.end(g)?(y=!0,m=i.from(r.node(g).copy(m)),v++):c++;return this.step(new Ie(l,c,a,s,new d(u.append(m),p,v),u.size-p,!0))},ke.prototype.wrap=function(e,t){for(var n=i.empty,r=t.length-1;r>=0;r--)n=i.from(t[r].type.create(t[r].attrs,n));var o=e.start,a=e.end;return this.step(new Ie(o,a,o,a,new d(n,0,0),t.length,!0))},ke.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(a).map(t),n)){o.clearIncompatible(o.mapping.slice(a).map(t,1),n);var s=o.mapping.slice(a),l=s.map(t,1),c=s.map(t+e.nodeSize,1);return o.step(new Ie(l,c,l+1,c-1,new d(i.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},ke.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var a=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Ie(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new d(i.from(a),0,0),1,!0))},ke.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=i.empty,a=i.empty,s=r.depth,l=r.depth-t,c=t-1;s>l;s--,c--){o=i.from(r.node(s).copy(o));var u=n&&n[c];a=i.from(u?u.type.create(u.attrs,a):r.node(s).copy(a))}return this.step(new Ee(e,e,new d(o.append(a),t,t),!0))},ke.prototype.join=function(e,t){void 0===t&&(t=1);var n=new Ee(e-t,e+t,d.empty,!0);return this.step(n)};var ze=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new d(Be(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return Se.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new Ve(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(xe);xe.jsonID("addMark",ze);var Ve=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new d(Be(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return Se.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new ze(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(xe);function He(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=d.empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return Ke(o,i,r)?new Ee(t,n,r):new We(o,i,r).fit()}function Ke(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}xe.jsonID("removeMark",Ve),ke.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var p=Math.max(l,e),d=Math.min(l+r.nodeSize,t),f=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(f)||(a&&a.to==p&&a.mark.eq(u[h])?a.to=d:o.push(a=new Ve(p,d,u[h])));s&&s.to==p?s.to=d:i.push(s=new ze(p,d,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},ke.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(e,t,(function(r,a){if(r.isInline){i++;var s=null;if(n instanceof Y)for(var l,c=r.marks;l=n.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else n?n.isInSet(r.marks)&&(s=[n]):s=r.marks;if(s&&s.length)for(var u=Math.min(a+r.nodeSize,t),p=0;p<s.length;p++){for(var d=s[p],f=void 0,h=0;h<o.length;h++){var m=o[h];m.step==i-1&&d.eq(o[h].style)&&(f=m)}f?(f.to=u,f.step=i):o.push({style:d,from:Math.max(a,e),to:u,step:i})}}})),o.forEach((function(e){return r.step(new Ve(e.from,e.to,e.style))})),this},ke.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],a=e+1,s=0;s<r.childCount;s++){var l=r.child(s),c=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var p=0;p<l.marks.length;p++)t.allowsMarkType(l.marks[p].type)||this.step(new Ve(a,c,l.marks[p]))}else o.push(new Ee(a,c,d.empty));a=c}if(!n.validEnd){var f=n.fillBefore(i.empty,!0);this.replace(a,a,new d(f,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},ke.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=d.empty);var r=He(this.doc,e,t,n);return r&&this.step(r),this},ke.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new d(i.from(n),0,0))},ke.prototype.delete=function(e,t){return this.replace(e,t,d.empty)},ke.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var We=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=i.empty;for(var a=e.depth;a>0;a--)this.placed=i.from(e.node(a).copy(this.placed))},$e={depth:{configurable:!0}};function qe(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(qe(e.firstChild.content,t-1,n)))}function Ue(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Ue(e.lastChild.content,t-1,n)))}function Ge(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function Je(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,Je(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(i.empty,!0)))),e.copy(r)}function Xe(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function Ye(e,t,n,r,o){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(Ye(a.content,t+1,n,r,a)))}if(t>r){var s=o.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(i.empty,!0))}return e}function Ze(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}$e.depth.get=function(){return this.frontier.length-1},We.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var l=new d(i,a,s);return t>-1?new Ie(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Ee(r.pos,o.pos,l):void 0},We.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=Ge(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var a=this.frontier[o],s=a.type,l=a.match,c=void 0,u=void 0;if(1==e&&(r?l.matchType(r.type)||(u=l.fillBefore(i.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:u};if(2==e&&r&&(c=l.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},We.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Ge(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new d(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)},We.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=Ge(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new d(qe(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new d(qe(t,n,1),n,r)},We.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=r?r.content:l.content,u=l.openStart-t,p=0,f=[],h=this.frontier[n],m=h.match,v=h.type;if(o){for(var g=0;g<o.childCount;g++)f.push(o.child(g));m=m.matchFragment(o)}for(var y=c.size+t-(l.content.size-l.openEnd);p<c.childCount;){var b=c.child(p),k=m.matchType(b.type);if(!k)break;(++p>1||0==u||b.content.size)&&(m=k,f.push(Je(b.mark(v.allowedMarks(b.marks)),1==p?u:0,p==c.childCount?y:-1)))}var w=p==c.childCount;w||(y=-1),this.placed=Ue(this.placed,n,i.from(f)),this.frontier[n].match=m,w&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var O=0,C=c;O<y;O++){var x=C.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),C=x.content}this.unplaced=w?0==t?d.empty:new d(qe(l.content,t-1,1),t-1,y<0?l.openEnd:t-1):new d(qe(l.content,t,p),l.openStart,l.openEnd)},We.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Xe(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},We.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=Xe(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=Xe(e,s,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},We.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ue(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},We.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Ue(this.placed,this.depth,i.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},We.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(i.empty,!0);e.childCount&&(this.placed=Ue(this.placed,this.frontier.length,e))},Object.defineProperties(We.prototype,$e),ke.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(Ke(r,o,n))return this.step(new Ee(e,t,n));var i=Ze(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s=r.depth,l=r.pos-1;s>0;s--,l--){var c=r.node(s).type.spec;if(c.defining||c.isolating)break;i.indexOf(s)>-1?a=s:r.before(s)==l&&i.splice(1,0,-s)}for(var u=i.indexOf(a),p=[],f=n.openStart,h=n.content,m=0;;m++){var v=h.firstChild;if(p.push(v),m==n.openStart)break;h=v.content}f>0&&p[f-1].type.spec.defining&&r.node(u).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&r.node(u).type!=p[f-2].type&&(f-=2);for(var g=n.openStart;g>=0;g--){var y=(g+f+1)%(n.openStart+1),b=p[y];if(b)for(var k=0;k<i.length;k++){var w=i[(k+u)%i.length],O=!0;w<0&&(O=!1,w=-w);var C=r.node(w-1),x=r.index(w-1);if(C.canReplaceWith(x,x,b.type,b.marks))return this.replace(r.before(w),O?o.after(w):t,new d(Ye(n.content,0,n.openStart,y),y,n.openEnd))}}for(var S=this.steps.length,E=i.length-1;E>=0&&(this.replace(e,t,n),!(this.steps.length>S));E--){var I=i[E];I<0||(e=r.before(I),t=o.after(I))}return this},ke.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=Fe(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new d(i.from(n),0,0))},ke.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=Ze(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var Qe=Object.create(null),et=function(e,t,n){this.ranges=n||[new nt(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},tt={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};tt.anchor.get=function(){return this.$anchor.pos},tt.head.get=function(){return this.$head.pos},tt.from.get=function(){return this.$from.pos},tt.to.get=function(){return this.$to.pos},tt.$from.get=function(){return this.ranges[0].$from},tt.$to.get=function(){return this.ranges[0].$to},tt.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},et.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},et.prototype.replace=function(e,t){void 0===t&&(t=d.empty);for(var n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var i=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,p=e.mapping.slice(i);e.replaceRange(p.map(c.pos),p.map(u.pos),s?d.empty:t),0==s&&ut(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},et.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),ut(e,n,t.isInline?-1:1))}},et.findFrom=function(e,t,n){var r=e.parent.inlineContent?new rt(e):ct(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?ct(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):ct(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},et.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new st(e.node(0))},et.atStart=function(e){return ct(e,e,0,0,1)||new st(e)},et.atEnd=function(e){return ct(e,e,e.content.size,e.childCount,-1)||new st(e)},et.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Qe[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},et.jsonID=function(e,t){if(e in Qe)throw new RangeError("Duplicate use of selection JSON ID "+e);return Qe[e]=t,t.prototype.jsonID=e,t},et.prototype.getBookmark=function(){return rt.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(et.prototype,tt),et.prototype.visible=!0;var nt=function(e,t){this.$from=e,this.$to=t},rt=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=d.empty),e.prototype.replace.call(this,t,n),n==d.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new ot(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(et);et.jsonID("text",rt);var ot=function(e,t){this.anchor=e,this.head=t};ot.prototype.map=function(e){return new ot(e.map(this.anchor),e.map(this.head))},ot.prototype.resolve=function(e){return rt.between(e.resolve(this.anchor),e.resolve(this.head))};var it=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new d(i.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new at(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(et);it.prototype.visible=!1,et.jsonID("node",it);var at=function(e){this.anchor=e};at.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new ot(r,r):new at(r)},at.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&it.isSelectable(n)?new it(t):et.near(t)};var st=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=d.empty),n==d.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return lt},t}(et);et.jsonID("all",st);var lt={map:function(){return this},resolve:function(e){return new st(e)}};function ct(e,t,n,r,o,i){if(t.inlineContent)return rt.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&it.isSelectable(s))return it.create(e,n-(o<0?s.nodeSize:0))}else{var l=ct(e,s,n+o,o<0?s.childCount:0,o,i);if(l)return l}n+=s.nodeSize*o}}function ut(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,i=e.steps[r];if(i instanceof Ee||i instanceof Ie)e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(et.near(e.doc.resolve(o),n))}}var pt=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return u.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||u.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(et.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(ke);function dt(e,t){return t&&e?e.bind(t):e}var ft=function(e,t,n){this.name=e,this.init=dt(t.init,n),this.apply=dt(t.apply,n)},ht=[new ft("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new ft("selection",{init:function(e,t){return e.selection||et.atStart(t.doc)},apply:function(e){return e.selection}}),new ft("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new ft("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],mt=function(e,t){var n=this;this.schema=e,this.fields=ht.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new ft(e.key,e.spec.state,e))}))},vt=function(e){this.config=e},gt={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};gt.schema.get=function(){return this.config.schema},gt.plugins.get=function(){return this.config.plugins},vt.prototype.apply=function(e){return this.applyTransaction(e).state},vt.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},vt.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},vt.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new vt(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<yt.length;i++)yt[i](this,e,t);return t},gt.tr.get=function(){return new pt(this)},vt.create=function(e){for(var t=new mt(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new vt(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},vt.prototype.reconfigure=function(e){for(var t=new mt(this.schema,e.plugins),n=t.fields,r=new vt(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},vt.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},vt.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new mt(e.schema,e.plugins),o=new vt(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=N.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=et.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var i in n){var a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}})),o},vt.addApplyListener=function(e){yt.push(e)},vt.removeApplyListener=function(e){var t=yt.indexOf(e);t>-1&&yt.splice(t,1)},Object.defineProperties(vt.prototype,gt);var yt=[];var bt=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:wt("plugin")};bt.prototype.getState=function(e){return e[this.key]};var kt=Object.create(null);function wt(e){return e in kt?e+"$"+ ++kt[e]:(kt[e]=0,e+"$")}var Ot=function(e){void 0===e&&(e="key"),this.key=wt(e)};Ot.prototype.get=function(e){return e.config.pluginsByKey[this.key]},Ot.prototype.getState=function(e){return e[this.key]};var Ct=["div","ol","ul","li","table","tbody","thead","tfoot","td","th","p","tr","col","colgroup","article","main","nav","header","footer","aside","section"],xt=function(e,t){void 0===t&&(t=Ct);var n=t.join("|");return e.replace(new RegExp("\\s*(<(?:"+n+")(?:\\s[^>]*?)?>)","g"),"$1").replace(new RegExp("(<\\/(?:"+n+")(?:\\s[^>]*?)?>)\\s*","g"),"$1")},St=function(e,t,n){var r,o=document.createElement("template");"content"in o?(o.innerHTML=e,r=o.content):r=(new DOMParser).parseFromString(e,"text/html").body||document.createDocumentFragment();return ee.fromSchema(t).parse(r,n)},Et=function(e){var t=pe.fromSchema(e.schema).serializeFragment(e.doc.content),n=document.createElement("div");return n.appendChild(t),n.innerHTML},It=function(e,t,n){return void 0===t&&(t="setHTML"),void 0===n&&(n={preserveWhitespace:"full"}),function(r,o){return o(r.tr.setSelection(new st(r.doc)).replaceSelectionWith(St(e,r.schema,n)).setMeta("commandName",t))}};var _t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Nt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var Tt=function(e,t){var n=t.style,r=t.value,o=t.newValue;if(!e)return{changed:!1,style:null};var i=e.split(/\s*;\s*/).filter((function(e){return Boolean(e)})),a=i.filter((function(e){var t=e.split(/\s*:\s*/);return!(t[0].toLowerCase()===n&&r.test(t[1]))}));return o&&a.push(n+": "+o),{style:a.join("; ")+(a.length?";":""),changed:Boolean(o)||a.length!==i.length}},Pt=function(e,t){for(var n=e.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},Dt=function(e){return e instanceof N?e.type.name:e.name},Mt=function(e,t){return void 0===t&&(t=1),function(n){return function(e,t){return void 0===t&&(t=1),function(n){for(var r=n.$from,o=r.depth;o>0;o--){var i=r.node(o);if(e(i)&&0===(t-=1))return{depth:o,node:i}}}}((function(t){return Dt(t)===Dt(e)}),t)(n)}},jt=function(e,t){return function(n,r){var o=n.tr.replaceSelectionWith(e);t&&o.scrollIntoView(),r(o)}},Rt=function(e,t,n,r){var o=i.from(St(e,n,r)),a=i.from(St(t,n,r));return o.eq(a)},At=function(e){var t=e.selection;if(t instanceof rt||t instanceof st){var n=t.content().content;return n.textBetween(0,n.size)}return""},Ft=function(e){if(e.selection instanceof it)return e.selection.node},Lt=function(e){var t="",n=!1,r=e.selection,o=e.doc,i=r.$from,a=r.$to,s=r.from,l=r.to;return i.sameParent(a)&&(o.nodesBetween(s,l,(function(e){n=n||e.isLeaf&&!e.isText})),n||(t=At(e))),t},Bt=function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")},zt=function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1},Vt=function(e,t,n){return function(r,o){var i=r.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!zt(r.doc,l,e))return!1;if(o)if(s)e.isInSet(r.storedMarks||s.marks())?o(n.removeStoredMark(e)):o(n.addStoredMark(e.create(t)));else{for(var c=!1,u=0;!c&&u<l.length;u++){var p=l[u],d=p.$from,f=p.$to;c=r.doc.rangeHasMark(d.pos,f.pos,e)}for(u=0;u<l.length;u++){var h=l[u];d=h.$from,f=h.$to;c?n.removeMark(d.pos,f.pos,e):n.addMark(d.pos,f.pos,e.create(t))}o(n.scrollIntoView())}return!0}},Ht=function(e,t,n,r){void 0===r&&(r=null);var o=[],i=0;return e.doc.nodesBetween(t,n,(function(e,a){if(e.isInline){i++;var s=null;if(r instanceof Y){var l=r.isInSet(e.marks);l&&(s=[l])}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length)for(var c=Math.min(a+e.nodeSize,n),u=0;u<s.length;u++){for(var p=s[u],d=void 0,f=0;f<o.length;f++){var h=o[f];h.step===i-1&&p.eq(h.style)&&(d=h)}d?(d.to=c,d.step=i):o.push({style:p,from:Math.max(a,t),to:c,step:i})}}})),o.forEach((function(t){return e.step(new Ve(t.from,t.to,t.style))})),e},Kt=function(e){var t=(void 0===e?{}:e).except,n=void 0===t?[]:t;return function(e,t){var r,o=e.tr;Wt(o,{except:(r=n,r instanceof Array?r:[r])}),o.docChanged&&t(o)}},Wt=function(e,t){var n=t.except,r=e.doc,o=e.selection,i=r.type.schema,a=o.empty,s=o.ranges,l=(n||[]).map((function(e){return e.name}));if(!a){var c=Object.keys(i.marks).map((function(e){return i.marks[e]})).filter((function(e){return-1===l.indexOf(e.name)}));s.forEach((function(t){var n=t.$from,r=t.$to;c.forEach((function(t){return e.removeMark(n.pos,r.pos,t)}))}))}},$t=function(e,t){var n,r=e.schema.marks,o=(t.altMarks||[]).filter((function(e){return r[e]})),i=t.altStyle,a=e.selection,s=a.from,l=a.$from,c=a.to,u=a.empty,p=r[t.mark],d=e.doc,f=!1;return u?(n=e.storedMarks||l.marks(),f=p&&p.isInSet(n)||o.some((function(e){return r[e].isInSet(n)}))):f=p&&d.rangeHasMark(s,c,p)||o.some((function(e){return d.rangeHasMark(s,c,r[e])})),!f&&i&&r.style?Ut(e,r.style).some((function(e){return null!==qt(e,i)})):Boolean(f)},qt=function(e,t){for(var n=(e&&e.attrs.style||"").split(/\s*;\s*/).filter((function(e){return Boolean(e)})),r=0;r<n.length;r++){var o=n[r].split(/\s*:\s*/);if(o[0].toLowerCase()===t.name&&t.value.test(o[1]))return o[1]}return null},Ut=function(e,t){var n=e.selection,r=n.from,o=n.$from,i=n.to,a=n.empty,s=[];return a?s.push(t.isInSet(e.storedMarks||o.marks())):e.doc.nodesBetween(r,i,(function(e){e.isInline&&s.push(t.isInSet(e.marks))})),s},Gt=function(e,t){var n=Ut(e,t),r=n.filter((function(e){return Boolean(e)}));return n.length===r.length?n[0]:void 0},Jt=function(e,t){var n=Ut(e,t),r=n.filter((function(e){return Boolean(e)}));return{hasNodesWithoutMarks:n.length!==r.length,marks:r}},Xt=function(e,t){var n=e.find((function(e){return"style"===e.type.name})),r=n&&n.attrs.style;return Tt(r,t)},Yt=function(e,t,n,r,o){var i=o.create({style:r.style}),a=[],s=[],l=null,c=null;return e.doc.nodesBetween(t,n,(function(e,u,p){if(e.isInline){var d=e.marks;if(!i.isInSet(d)&&p.type.allowsMarkType(i.type)){var f=Math.max(u,t),h=Math.min(u+e.nodeSize,n),m=Xt(d,r);if(m.changed||r.newValue){for(var v=m.changed?{style:m.style||null}:{style:[r.style]+": "+r.newValue+";"},g=o.isInSet(d)?d.find((function(e){return"style"===e.type.name})):null,y=g?_t({},g.attrs,v):v,b=o.create(y),k=b.addToSet(d),w=0;w<d.length;w++)d[w].isInSet(k)||(l&&l.to===f&&l.mark.eq(d[w])?l.to=h:(l=new Ve(f,h,d[w]),a.push(l)));var O=c&&c.to===f,C=O&&b.attrs.style===c.mark.attrs.style;O&&C?c.to=h:Object.keys(y).some((function(e){return null!==y[e]}))&&(c=new ze(f,h,b),s.push(c))}}}})),a.forEach((function(t){return e.step(t)})),s.forEach((function(t){return e.step(t)})),a.length+s.length>0},Zt=function(e,t){var n=e.schema.marks.style;return(n?Ut(e,n):[]).map((function(e){return qt(e,t)})).filter((function(e){return null!==e}))},Qt=function(e,t){return function(n,r,o){var i=n.selection,a=i.empty,s=i.$cursor,l=i.ranges;if(a&&!s||!zt(n.doc,l,e))return!1;var c,u,p,d,f=!1;if(r)if(o=o||n.tr,s){var h=n.storedMarks||s.marks();if(e.isInSet(h)){var m=Xt(h,t),v=h.find((function(e){return"style"===e.type.name})),g=_t({},v?v.attrs:{},{style:m.style||null});if(c=v.attrs,u=g,p=Object.keys(c),d=Object.keys(u),p.length===d.length&&p.every((function(e){return c[e]===u[e]})))return!1;r(o.removeStoredMark(e)),Object.keys(g).some((function(e){return null!==g[e]}))&&r(o.addStoredMark(e.create(g))),f=!0}}else{for(var y=0;y<l.length;y++){var b=l[y],k=b.$from,w=b.$to;f=Yt(o,k.pos,w.pos,t,e)}f&&(o.scrollIntoView(),r(o))}return f}},en=function(e,t,n){return function(r,o){var i=r.schema.marks,a=e.altStyle,s=e.altMarks,l=void 0===s?[]:s,c=e.mark;t=t||r.tr;var u=!1,p=!1,d=function(){return p=!0};a&&i.style&&(u=Qt(i.style,{style:a.name,value:a.value})(r,d,t));var f=[c].concat(l).filter((function(e){return i[e]})).map((function(e){return $t(r,{mark:e})&&i[e]})).filter((function(e){return e}));return f.length?function(e,t,n,r){var o=t.selection,i=o.$cursor,a=o.ranges;if(r=r||t.tr,i)e.forEach((function(e){e.isInSet(t.storedMarks||i.marks())&&n(r.removeStoredMark(e))}));else{for(var s=function(t){var n=a[t],o=n.$from,i=n.$to;e.forEach((function(e){Ht(r,o.pos,i.pos,e)}))},l=0;l<a.length;l++)s(l);n(r.scrollIntoView())}}(f,r,d,t):u||Vt(i[c],n,t)(r,d),p&&o(t),p}},tn=function(e,t){return function(n,r){var o=n.schema.marks.style,i={style:e.style,value:/^.+$/,newValue:e.value},a=n.tr;t&&a.setMeta("commandName",t),a.setMeta("args",e);var s=n.selection,l=s.empty,c=s.$cursor,u=s.ranges;if(l&&!c||!o||!zt(n.doc,u,o))return!1;if(c){var p=n.storedMarks||c.marks(),d=o.isInSet(p)?p.find((function(e){return"style"===e.type.name})):null,f={style:null};if(d&&d.attrs.style){var h=Tt(d.attrs.style,i);h.changed&&h.style&&(f.style=h.style)}else i.newValue&&(f.style=[i.style]+": "+i.newValue+";");var m=d?_t({},d.attrs,f):f;return Object.keys(m).some((function(e){return null!==m[e]}))?r(a.addStoredMark(o.create(m))):r(a.removeStoredMark(o)),!0}return Qt(o,i)(n,r,a)}},nn=function(e,t){return function(n,r){var o=n.selection.$cursor;if(o){var i=o.parent,a=o.index(),s=n.schema.marks[e.mark],l=i.child(a).marks.find((function(e){return e.type===s})),c=i.childCount,u=o.pos-o.textOffset,p=i.child(a).nodeSize,d=void 0,f=void 0;for(d=a-1;d>=0&&l.isInSet(i.child(d).marks);)p+=f=i.child(d).nodeSize,u-=f,d-=1;for(d=a+1;d<c&&l.isInSet(i.child(d).marks);)p+=i.child(d).nodeSize,d+=1;r(Ht(t||n.tr,u,u+p,l))}else en(e,t)(n,r)}},rn=function(e,t){var n=e.mark,r=e.attrs;return void 0===t&&(t="link"),function(e,o){var i=e.schema.marks,a=e.tr;t&&(a.setMeta("commandName",t),a.setMeta("args",r));var s=!1,l=function(){return s=!0};if(function(e,t){var n=Ut(e,t);return 1===n.length&&n[0]?n[0]:null}(e,i[n]))!function(e,t){return function(n,r){var o=n.selection,i=o.$cursor,a=o.from,s=o.to,l=n.schema.marks[e.mark];if(i){var c=i.parent,u=i.index(),p=c.child(u).marks.find((function(e){return e.type===l})),d=c.childCount,f=i.pos-i.textOffset,h=c.child(u).nodeSize,m=void 0,v=void 0;for(m=u-1;m>=0&&p.isInSet(c.child(m).marks);)h+=v=c.child(m).nodeSize,f-=v,m-=1;for(m=u+1;m<d&&p.isInSet(c.child(m).marks);)h+=c.child(m).nodeSize,m+=1;t.removeMark(f,f+h,l),t.addMark(f,f+h,l.create(e.attrs)),r(t)}else t.doc.nodesBetween(a,s,(function(n,o){n.isInline&&l.isInSet(n.marks)&&(t.removeMark(o,o+n.nodeSize,l),t.addMark(o,o+n.nodeSize,l.create(e.attrs)),r(t))}))}}({mark:n,attrs:r},a)(e,l);else{var c=e;$t(e,{mark:n})&&(nn({mark:n,attrs:r},a)(e,l),c=vt.create({doc:a.doc,selection:a.selection})),s?Vt(i[n],r,a)(c,l):en({mark:n},a,r)(c,l)}return s&&o(a),s}},on=function(e){return function(t,n){n(t.tr.insertText(e.text,e.from,e.to))}},an=function(e){return function(t,n){var r=t.schema.nodes.image,o=r.createAndFill(e);jt(o)(t,(function(t){return n(t.setMeta("commandName","insertImage").setMeta("args",e))}))}},sn=function(e,t,n,r){if(!n.isTextblock)return!1;e.selection.ranges.forEach((function(o){var a=e.steps.length,s=o.$from.pos,l=o.$to.pos;e.doc.nodesBetween(s,l,(function(o,s){if(o.eq(t)&&o.isTextblock&&!o.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(a).map(s),n)){e.clearIncompatible(e.mapping.slice(a).map(s,1),n);var l=e.mapping.slice(a),c=l.map(s,1),u=l.map(s+o.nodeSize,1),p=new d(i.from(n.create(r,null,o.marks)),0,0);return e.step(new Ie(c,u,c+1,u-1,p,1,!0)),!1}}))}))},ln=function(e,t){void 0===t&&(t={blocksInSelection:!1});var n=e.doc,r=e.selection,o=r.$from,i=r.ranges,a=t.blocksInSelection,s=[],l=r instanceof it?r.node:void 0;return l?l.isBlock?(s.push(l),l.nodesBetween(0,l.content.size,(function(e){e.isBlock&&s.push(e)}))):!a&&o.parent&&o.parent.isBlock&&s.push(o.parent):i.forEach((function(e){var t=e.$from.pos,r=e.$to.pos;n.nodesBetween(t,r,(function(e,n,o,i){e.isBlock&&(!a||n>=t&&n+e.content.size+2<=r)&&s.push(e)}))})),s},cn=function(e,t){return function(n,r){var o=ln(n),i=n.schema.nodes,a=n.tr;a.setMeta("commandName",t),a.setMeta("args",{value:e}),o.forEach((function(t){if(t.type.isTextblock)if("p"===e){var n=t.attrs,r=n.level,o=Nt(n,["level"]);sn(a,t,i.paragraph,o)}else if(/^h[1-6]$/i.test(e)){r=parseInt(e.substr(1),10);sn(a,t,i.heading,_t({},t.attrs,{level:r}))}else if("blockquote"===e){var s=t.attrs;r=s.level,o=Nt(s,["level"]);sn(a,t,i.blockquote,o)}}));var s=a.docChanged;return s&&r(a.scrollIntoView()),s}},un=function(e,t){void 0===t&&(t={blocksInSelection:!0});var n=e.doc,r=e.selection,o=t.blocksInSelection,i=t.blockNodeType;ln({doc:n,selection:r},{blocksInSelection:o}).filter((function(e){return e.isTextblock})).forEach((function(t){var n=t.attrs||{},r=n.style,o=void 0===r?"":r,a=n.class,s=void 0===a?"":a,l=Nt(n,["style","class"]),c=i||t.type;(o||s||c!==t.type)&&sn(e,t,c,l)}))},pn=function(e){var t=ln(e),n=e.schema.nodes,r=[];return t.forEach((function(e){e.type===n.paragraph?r.push("p"):e.type===n.heading?r.push("h"+e.attrs.level):e.type===n.blockquote&&r.push("blockquote")})),r},dn=function(e,t){var n,r,o=e.attrs.style;o&&t.forEach((function(e){r={style:e.name,value:/^.+$/,newValue:e.value},n=Tt(o,r),o=n.changed?n.style:o}));return o=o||t.reduce((function(e,t){return(e&&t.value?e+" ":"")+t.value?t.name+": "+t.value+";":""}),""),Object.assign({},e.attrs,{style:o||null})},fn=function(e,t){var n=e.selection,r=n.from,o=n.to,i=!1;return e.doc.nodesBetween(r,o,(function(e){return!(i=i||e.type===t)})),i},hn=function(e){var t=pn(e);return 1===new Set(t).size?t[0]:null},mn=function(e){return{tag:hn(e)||""}},vn=function(e,t){return function(n,r){var o=ln(n),i=n.tr;i.setMeta("commandName",t),o.forEach((function(t){if(t.type.isTextblock){var n={},r=e.find((function(e){return e.node===t.type.name}));r&&(n=dn(t,r.style)),sn(i,t,t.type,n)}}));var a=i.docChanged;return a&&r(i.scrollIntoView()),a}},gn=function(e,t){var n=ln(e),r=!1;return n.forEach((function(e){if(!r&&e.type.isTextblock&&e.attrs.style){var n=t.find((function(t){return t.node===e.type.name}));n&&(r=n.style.every((function(t){return!!t.value&&new RegExp(t.name+":\\s?"+t.value,"i").test(e.attrs.style)})))}})),r},yn=function(e){return void 0===e&&(e={blocksInSelection:!0}),function(t,n){var r=t.tr,o=e.blocksInSelection,i=e.blockNodeType,a=(e.exceptMarks||[t.schema.marks.link]).filter(Boolean);Wt(r,{except:a}),un(r,{blocksInSelection:o,blockNodeType:i});var s=r.docChanged;return s&&n&&n(r),s}},bn=["ol",0],kn=["ul",0],wn=["li",0],On={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?bn:["ol",{start:e.attrs.order},0]}},Cn={parseDOM:[{tag:"ul"}],toDOM:function(){return kn}},xn={parseDOM:[{tag:"li"}],toDOM:function(){return wn},defining:!0};function Sn(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}function En(e,t,n){return e.append({ordered_list:Sn(On,{content:"list_item+",group:n}),bullet_list:Sn(Cn,{content:"list_item+",group:n}),list_item:Sn(xn,{content:t})})}function In(e,t){return function(n,r){var o=n.selection,a=o.$from,s=o.$to,l=a.blockRange(s),c=!1,u=l;if(!l)return!1;if(l.depth>=2&&a.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==a.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);u=new E(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new E(a,n.doc.resolve(s.end(l.depth)),l.depth)),c=!0}var f=Pe(u,e,t,l);return!!f&&(r&&r(function(e,t,n,r,o){for(var a=i.empty,s=n.length-1;s>=0;s--)a=i.from(n[s].type.create(n[s].attrs,a));e.step(new Ie(t.start-(r?2:0),t.end,t.start,t.end,new d(a,0,0),n.length,!0));for(var l=0,c=0;c<n.length;c++)n[c].type==o&&(l=c+1);for(var u=n.length-l,p=t.start+n.length-(r?2:0),f=t.parent,h=t.startIndex,m=t.endIndex,v=!0;h<m;h++,v=!1)!v&&Me(e.doc,p,u)&&(e.split(p,u),p+=2*u),p+=f.child(h).nodeSize;return e}(n.tr,l,f,c,e).scrollIntoView()),!0)}}function _n(e){return function(t,n){var r=t.selection,o=r.$from,a=r.$to,s=r.node;if(s&&s.isBlock||o.depth<2||!o.sameParent(a))return!1;var l=o.node(-1);if(l.type!=e)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(2==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var c=i.empty,u=o.index(-1)?1:o.index(-2)?2:3,p=o.depth-u;p>=o.depth-3;p--)c=i.from(o.node(p).copy(c));var f=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;c=c.append(i.from(e.createAndFill()));var h=o.before(o.depth-(u-1)),m=t.tr.replace(h,o.after(-f),new d(c,4-u,0)),v=-1;m.doc.nodesBetween(h,m.doc.content.size,(function(e,t){if(v>-1)return!1;e.isTextblock&&0==e.content.size&&(v=t+1)})),v>-1&&m.setSelection(t.selection.constructor.near(m.doc.resolve(v))),n(m.scrollIntoView())}return!0}var g=a.pos==o.end()?l.contentMatchAt(0).defaultType:null,y=t.tr.delete(o.pos,a.pos),b=g&&[null,{type:g}];return!!Me(y.doc,o.pos,2,b)&&(n&&n(y.split(o.pos,2,b).scrollIntoView()),!0)}}function Nn(e){return function(t,n){var r=t.selection,o=r.$from,a=r.$to,s=o.blockRange(a,(function(t){return t.childCount&&t.firstChild.type==e}));return!!s&&(!n||(o.node(s.depth-1).type==e?function(e,t,n,r){var o=e.tr,a=r.end,s=r.$to.end(r.depth);a<s&&(o.step(new Ie(a-1,s,a,s,new d(i.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new E(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));return t(o.lift(r,Te(r)).scrollIntoView()),!0}(t,n,e,s):function(e,t,n){for(var r=e.tr,o=n.parent,a=n.end,s=n.endIndex-1,l=n.startIndex;s>l;s--)a-=o.child(s).nodeSize,r.delete(a-1,a+1);var c=r.doc.resolve(n.start),u=c.nodeAfter,p=0==n.startIndex,f=n.endIndex==o.childCount,h=c.node(-1),m=c.index(-1);if(!h.canReplace(m+(p?0:1),m+1,u.content.append(f?i.empty:i.from(o))))return!1;var v=c.pos,g=v+u.nodeSize;return r.step(new Ie(v-(p?1:0),g+(f?1:0),v+1,g-1,new d((p?i.empty:i.from(o.copy(i.empty))).append(f?i.empty:i.from(o.copy(i.empty))),p?0:1,f?0:1),p?0:1)),t(r.scrollIntoView()),!0}(t,n,s)))}}function Tn(e){return function(t,n){var r=t.selection,o=r.$from,a=r.$to,s=o.blockRange(a,(function(t){return t.childCount&&t.firstChild.type==e}));if(!s)return!1;var l=s.startIndex;if(0==l)return!1;var c=s.parent,u=c.child(l-1);if(u.type!=e)return!1;if(n){var p=u.lastChild&&u.lastChild.type==c.type,f=i.from(p?e.create():null),h=new d(i.from(e.create(null,i.from(c.type.create(null,f)))),p?3:1,0),m=s.start,v=s.end;n(t.tr.step(new Ie(m-(p?3:1),v,m,v,h,1,!0)).scrollIntoView())}return!0}}var Pn={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},Dn={listType:Pn.orderedList,types:_t({},Pn)},Mn={listType:Pn.bulletList,types:_t({},Pn)},jn={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:_t({},Pn)},Rn={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:_t({},Pn)},An=function(e,t,n){return function(r,o){var i=ln(r),a=r.tr;a.setMeta("commandName",t),i.forEach((function(t){if(t.type.isTextblock){var r=void 0,o=e.find((function(e){return e.node===t.type.name}));if(o){var i="rtl"===n?o.rtlStyle:o.style,s={name:i,value:o.step>0?""+o.step+o.unit:""};if(t.attrs.style){var l=new RegExp(i+":\\s?(\\d+)"+o.unit,"i"),c=t.attrs.style.match(l);if(c){var u=parseFloat(c[1])+o.step;u=u<=0?"":u,s.value=""+u+(u?o.unit:"")}}r=dn(t,[s])}r&&sn(a,t,t.type,r)}}));var s=a.docChanged;return s&&o(a.scrollIntoView()),s}},Fn=function(e,t,n){var r=ln(e),o=!1;return r.forEach((function(e){if(!o&&e.type.isTextblock&&e.attrs.style){var r=t.find((function(t){return t.node===e.type.name}));if(r){var i="rtl"===n?r.rtlStyle:r.style,a=new RegExp(i+":\\s?\\d+"+r.unit,"i");o=a.test(e.attrs.style)}}})),o},Ln=function(e,t){return Tn(t)(e)},Bn=function(e,t){var n=e.schema.nodes[t.listsTypes.listItem],r=e.schema.nodes[t.listsTypes.orderedList],o=e.schema.nodes[t.listsTypes.bulletList],i=!!Mt(r,2)(e.selection),a=!!Mt(o,2)(e.selection);return(i||a)&&Nn(n)(e)},zn=function(e,t){var n=e.schema.nodes,r=n[jn.listsTypes.listItem];return(Fn(e,t.nodes)||jn.nodes.some((function(t){return n[t.node]&&fn(e,n[t.node])})))&&!fn(e,r)},Vn=function(e,t){var n=e.schema.nodes[jn.listsTypes.listItem],r=zn(e,jn);Ln(e,n)?Tn(n)(e,t):r&&An(jn.nodes)(e,t)},Hn=function(e,t){var n=e.schema.nodes[Rn.listsTypes.listItem],r=zn(e,Rn);Bn(e,Rn)?Nn(n)(e,t):r&&An(Rn.nodes)(e,t)};function Kn(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function Wn(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=Un(r);if(!o){var i=r.blockRange(),a=i&&Te(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}var s=o.nodeBefore;if(!s.type.spec.isolating&&cr(e,o,t))return!0;if(0==r.parent.content.size&&($n(s,"end")||it.isSelectable(s))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection($n(s,"end")?et.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):it.create(l.doc,o.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)}function $n(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function qn(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=Un(o)}var a=i&&i.nodeBefore;return!(!a||!it.isSelectable(a))&&(t&&t(e.tr.setSelection(it.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)}function Un(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Gn(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=Xn(r);if(!o)return!1;var i=o.nodeAfter;if(cr(e,o,t))return!0;if(0==r.parent.content.size&&($n(i,"start")||it.isSelectable(i))){if(t){var a=e.tr.deleteRange(r.before(),r.after());a.setSelection($n(i,"start")?et.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):it.create(a.doc,a.mapping.map(o.pos))),t(a.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}function Jn(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=Xn(o)}var a=i&&i.nodeAfter;return!(!a||!it.isSelectable(a))&&(t&&t(e.tr.setSelection(it.create(e.doc,i.pos)).scrollIntoView()),!0)}function Xn(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function Yn(e,t){var n,r=e.selection,o=r instanceof it;if(o){if(r.node.isTextblock||!je(e.doc,r.from))return!1;n=r.from}else if(null==(n=Ae(e.doc,r.from,-1)))return!1;if(t){var i=e.tr.join(n);o&&i.setSelection(it.create(i.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0}function Zn(e,t){var n,r=e.selection;if(r instanceof it){if(r.node.isTextblock||!je(e.doc,r.to))return!1;n=r.to}else if(null==(n=Ae(e.doc,r.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0}function Qn(e,t){var n=e.selection,r=n.$from,o=n.$to,i=r.blockRange(o),a=i&&Te(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}function er(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function tr(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function nr(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=tr(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,s.createAndFill());c.setSelection(et.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0}function rr(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof st||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=tr(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(rt.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}function or(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Me(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Te(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}function ir(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof it&&e.selection.node.isBlock)return!(!r.parentOffset||!Me(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;(e.selection instanceof rt||e.selection instanceof st)&&a.deleteSelection();var s=0==r.depth?null:tr(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=i&&s?[{type:s}]:null,c=Me(a.doc,a.mapping.map(r.pos),1,l);if(l||c||!Me(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(l=[{type:s}],c=!0),c&&(a.split(a.mapping.map(r.pos),1,l),!i&&!r.parentOffset&&r.parent.type!=s)){var u=a.mapping.map(r.before()),p=a.doc.resolve(u);r.node(-1).canReplaceWith(p.index(),p.index()+1,s)&&a.setNodeMarkup(a.mapping.map(r.before()),s)}t(a.scrollIntoView())}return!0}function ar(e,t){return ir(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})}function sr(e,t){var n,r=e.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),t&&t(e.tr.setSelection(it.create(e.doc,n))),!0)}function lr(e,t){return t&&t(e.tr.setSelection(new st(e.doc))),!0}function cr(e,t,n){var r,o,a=t.nodeBefore,s=t.nodeAfter;if(a.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!je(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;var l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(r=(o=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var c=t.pos+s.nodeSize,u=i.empty,p=r.length-1;p>=0;p--)u=i.from(r[p].create(null,u));u=i.from(a.copy(u));var f=e.tr.step(new Ie(t.pos-1,c,t.pos,c,new d(u,1,0),r.length,!0)),h=c+2*r.length;je(f.doc,h)&&f.join(h),n(f.scrollIntoView())}return!0}var m=et.findFrom(t,1),v=m&&m.$from.blockRange(m.$to),g=v&&Te(v);if(null!=g&&g>=t.depth)return n&&n(e.tr.lift(v,g).scrollIntoView()),!0;if(l&&$n(s,"start",!0)&&$n(a,"end")){for(var y=a,b=[];b.push(y),!y.isTextblock;)y=y.lastChild;for(var k=s,w=1;!k.isTextblock;k=k.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,k.content)){if(n){for(var O=i.empty,C=b.length-1;C>=0;C--)O=i.from(b[C].copy(O));n(e.tr.step(new Ie(t.pos-b.length,t.pos+s.nodeSize,t.pos+w,t.pos+s.nodeSize-w,new d(O,b.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function ur(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),l=s&&Pe(s,e,t);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}function pr(e,t){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}}function dr(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var p=s[u],d=p.$from,f=p.$to;l=n.doc.rangeHasMark(d.pos,f.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],v=m.$from,g=m.$to;if(l)c.removeMark(v.pos,g.pos,e);else{var y=v.pos,b=g.pos,k=v.nodeAfter,w=g.nodeBefore,O=k&&k.isText?/^\s*/.exec(k.text)[0].length:0,C=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;y+O<b&&(y+=O,b-=C),c.addMark(y,b,e.create(t))}}r(c.scrollIntoView())}return!0}}function fr(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var i=n.mapping.maps[o],a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var s=[],l=0;l<r.length;l+=2)for(var c=r[l],u=r[l+1],p=n.doc.resolve(c),d=p.sharedDepth(u),f=p.node(d),h=p.indexAfter(d),m=p.after(d+1);m<=u;++h){var v=f.maybeChild(h);if(!v)break;if(h&&-1==s.indexOf(m)){var g=f.child(h-1);g.type==v.type&&t(g,v)&&s.push(m)}m+=v.nodeSize}s.sort((function(e,t){return e-t}));for(var y=s.length-1;y>=0;y--)je(n.doc,s[y])&&n.join(s[y]);e(n)}}(r,t))}}function hr(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var mr=hr(Kn,Wn,qn),vr=hr(Kn,Gn,Jn),gr={Enter:hr(er,rr,or,ir),"Mod-Enter":nr,Backspace:mr,"Mod-Backspace":mr,Delete:vr,"Mod-Delete":vr,"Mod-a":lr},yr={"Ctrl-h":gr.Backspace,"Alt-Backspace":gr["Mod-Backspace"],"Ctrl-d":gr.Delete,"Ctrl-Alt-Backspace":gr["Mod-Delete"],"Alt-Delete":gr["Mod-Delete"],"Alt-d":gr["Mod-Delete"]};for(var br in gr)yr[br]=gr[br];var kr=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?yr:gr,wr=function(e,t,n){for(var r=t.depth,o=e.nodes[n.bulletList],i=e.nodes[n.orderedList],a=e.nodes[n.listItem],s=t.depth;s>0;s--){var l=t.node(s);if(l.type!==o&&l.type!==i||(r=s),l.type!==o&&l.type!==i&&l.type!==a)break}return r-1};function Or(e){return function(t,n,r){if(!r)return!1;var o,i=(t=r.state).schema.nodes[e.listType],a=t.selection,s=a.$from,l=a.$to,c=s.node(-2),u=s.node(-3),p=function(e,t,n,r){return 0===function(e,t,n){var r=Array(),o=function(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;var r=t.node(t.depth),o=t;for(;t.depth>=1;)t=e.resolve(t.before(t.depth)),(r=t.node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}(e,t).depth,i=e.resolve(t.start(o));for(;i.pos<=n.start(n.depth);){var a=Math.min(i.depth,o),s=i.node(a);if(s&&r.push(s),0===a)break;var l=e.resolve(i.after(a));if(l.start(a)>=e.nodeSize-2)break;l.depth!==i.depth&&(l=e.resolve(l.pos+2)),i=l.depth?e.resolve(l.start(l.depth)):e.resolve(l.end(l.depth))}return r}(e,t,n).filter((function(e){return e.type!==r})).length}(t.doc,s,l,i);return(c&&c.type===i||u&&u.type===i)&&p?xr(e)(t,n):(p||(xr(e)(t,n),t=r.state),fr(In(o=i),(function(e,t){return e.type===t.type&&e.type===o}))(t,n))}}function Cr(e,t,n,r){r||(r=e.schema.nodes.listItem);var o=t.$from,a=t.$to,s=o.blockRange(a,(function(e){return e.childCount&&e.firstChild.type===r}));if(!s||s.depth<2||o.node(s.depth-1).type!==r)return n;var l=s.end,c=a.end(s.depth);return l<c&&(n.step(new Ie(l-1,c,l,c,new d(i.from(r.create(void 0,s.parent.copy())),1,0),1,!0)),s=new E(n.doc.resolve(o.pos),n.doc.resolve(c),s.depth)),n.lift(s,Te(s)).scrollIntoView()}function xr(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to;return r.doc.nodesBetween(i.pos,a.pos,(function(n,o){if(n.isTextblock||"blockquote"===n.type.name||"div"===n.type.name){var i=new it(r.doc.resolve(r.mapping.map(o))),a=i.$from.blockRange(i.$to);if(!a||i.$from.parent.type!==t.schema.nodes[e.listItem])return!1;var s=a&&Te(a);if(null==s)return!1;r.lift(a,s)}})),n&&n(r),!0}}var Sr=function(e,t,n,r,o){var i=r.listType,a=e.selection,s=a.$from.node(a.$from.depth-2),l=a.$to.node(a.$to.depth-2);if(s&&s.type.name===i&&l&&l.type.name===i){var c=n.state.schema.nodes,u={bulletList:c[r.bulletList],orderedList:c[r.orderedList],listItem:c[r.listItem]},p=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var s=e.node(a);if(s.type!==r&&s.type!==o||(n=a),s.type!==r&&s.type!==o&&s.type!==i)break}return n}(a.$to,u),d=function(e,t,n,r,o,i){i||(i=e.schema.nodes.listItem);var a=!1;return o.doc.nodesBetween(t,n,(function(n,s){if(!a&&n.type===i&&s>t){a=!0;for(var l=r+3;l>r+2;){var c=o.doc.resolve(o.mapping.map(s));l=c.depth;var u=o.doc.resolve(o.mapping.map(s+n.textContent.length)),p=new rt(c,u);o=Cr(e,p,o,i)}}})),o}(e,a.$to.pos,a.$to.end(p),p,n.state.tr,u.listItem);return(d=function(e,t,n){var r=e.selection,o=r.from,i=r.to,a=e.schema.nodes,s=a.paragraph,l=a.heading,c=[];t.doc.nodesBetween(o,i,(function(e,t){e.type!==s&&e.type!==l||c.push({node:e,pos:t})}));for(var u=c.length-1;u>=0;u--){var p=c[u],d=t.doc.resolve(t.mapping.map(p.pos));if(d.depth>0){var f=void 0;f=p.node.textContent&&p.node.textContent.length>0?t.doc.resolve(t.mapping.map(p.pos+p.node.textContent.length)):t.doc.resolve(t.mapping.map(p.pos+1));var h=d.blockRange(f);h&&t.lift(h,wr(e.schema,d,n))}}return t}(e,d,r)).setMeta("commandName",o),t(d),!0}return Or(r)(e,t,n)};function Er(e,t,n){return Sr(e,t,n,_t({listType:Mn.listType},Mn.types))}function Ir(e,t,n){return Sr(e,t,n,_t({listType:Dn.listType},Dn.types))}for(var _r=function(e,t){return{name:e,value:t}},Nr=[{node:"paragraph",style:[_r("text-align","left")]},{node:"heading",style:[_r("text-align","left")]}],Tr=[{node:"paragraph",style:[_r("text-align","right")]},{node:"heading",style:[_r("text-align","right")]}],Pr=[{node:"paragraph",style:[_r("text-align","center")]},{node:"heading",style:[_r("text-align","center")]}],Dr=[{node:"paragraph",style:[_r("text-align","justify")]},{node:"heading",style:[_r("text-align","justify")]}],Mr=[{node:"paragraph",style:[_r("text-align","")]},{node:"heading",style:[_r("text-align","")]}],jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Rr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Ar="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Fr="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Lr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Br="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),zr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Vr=Ar&&(Br||+Ar[1]<57)||Lr&&Br,Hr=0;Hr<10;Hr++)jr[48+Hr]=jr[96+Hr]=String(Hr);for(Hr=1;Hr<=24;Hr++)jr[Hr+111]="F"+Hr;for(Hr=65;Hr<=90;Hr++)jr[Hr]=String.fromCharCode(Hr+32),Rr[Hr]=String.fromCharCode(Hr);for(var Kr in jr)Rr.hasOwnProperty(Kr)||(Rr[Kr]=jr[Kr]);var Wr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function $r(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var l=i[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);Wr?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function qr(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ur(e){return new bt({props:{handleKeyDown:Gr(e)}})}function Gr(e){var t=function(e){var t=Object.create(null);for(var n in e)t[$r(n)]=e[n];return t}(e);return function(e,n){var r,o=function(e){var t=!(Vr&&(e.ctrlKey||e.altKey||e.metaKey)||(Fr||zr)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Rr:jr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=1==o.length&&" "!=o,a=t[qr(o,n,!i)];if(a&&a(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=jr[n.keyCode])&&r!=o){var s=t[qr(r,n,!0)];if(s&&s(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){var l=t[qr(o,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Jr={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Xr=/Edge\/(\d+)/.exec(navigator.userAgent),Yr=/MSIE \d/.test(navigator.userAgent),Zr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Jr.mac=/Mac/.test(navigator.platform);var Qr=Jr.ie=!!(Yr||Zr||Xr);Jr.ie_version=Yr?document.documentMode||6:Zr?+Zr[1]:Xr?+Xr[1]:null,Jr.gecko=!Qr&&/gecko\/(\d+)/i.test(navigator.userAgent),Jr.gecko_version=Jr.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var eo=!Qr&&/Chrome\/(\d+)/.exec(navigator.userAgent);Jr.chrome=!!eo,Jr.chrome_version=eo&&+eo[1],Jr.safari=!Qr&&/Apple Computer/.test(navigator.vendor),Jr.ios=Jr.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Jr.android=/Android \d/.test(navigator.userAgent),Jr.webkit="webkitFontSmoothing"in document.documentElement.style,Jr.webkit_version=Jr.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var to=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},no=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},ro=null,oo=function(e,t,n){var r=ro||(ro=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},io=function(e,t,n,r){return n&&(so(e,t,n,r,-1)||so(e,t,n,r,1))},ao=/^(img|br|input|textarea|hr)$/i;function so(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:lo(e))){var i=e.parentNode;if(1!=i.nodeType||co(e)||ao.test(e.nodeName)||"false"==e.contentEditable)return!1;t=to(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?lo(e):0}}}function lo(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function co(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var uo=function(e){var t=e.isCollapsed;return t&&Jr.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function po(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function fo(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ho(e,t){return"number"==typeof e?e:e[t]}function mo(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function vo(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=no(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,l=s?fo(i):mo(a),c=0,u=0;if(t.top<l.top+ho(r,"top")?u=-(l.top-t.top+ho(o,"top")):t.bottom>l.bottom-ho(r,"bottom")&&(u=t.bottom-l.bottom+ho(o,"bottom")),t.left<l.left+ho(r,"left")?c=-(l.left-t.left+ho(o,"left")):t.right>l.right-ho(r,"right")&&(c=t.right-l.right+ho(o,"right")),c||u)if(s)i.defaultView.scrollBy(c,u);else{var p=a.scrollLeft,d=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var f=a.scrollLeft-p,h=a.scrollTop-d;t={left:t.left-f,top:t.top-h,right:t.right-f,bottom:t.bottom-h}}if(s)break}}function go(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=no(e));return t}function yo(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var bo=null;function ko(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=oo(l).getClientRects()}for(var p=0;p<u.length;p++){var d=u[p];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var f=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(f<o){n=l,o=f,r=f&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&f&&(i=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=Co(r,1);if(i.top!=i.bottom&&wo(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:ko(n,r)}function wo(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Oo(e,t){var n,r,o,i,a=e.root;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(t.left,t.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(e){}if(!o&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(o=(r=l).startContainer,i=r.startOffset)}var c,u=a.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=e.dom.getBoundingClientRect();if(!wo(t,p))return null;if(!(u=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var l=s.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(wo(n,u))return e(s,n,u)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,p)))return null}if(Jr.safari)for(var d=u;o&&d;d=no(d))d.draggable&&(o=i=null);if(u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),o){if(Jr.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var f,h=o.childNodes[i];"IMG"==h.nodeName&&(f=h.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(c=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==c&&(c=function(e,t,n){var r=ko(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,u,t));var m=e.docView.nearestDesc(u,!0);return{pos:c,inside:m?m.posAtStart-m.border:-1}}function Co(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var xo=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function So(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,a=Jr.webkit||Jr.gecko;if(3==o.nodeType){if(!a||!xo.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==o.nodeValue.length?(s--,c=1):n<0?s--:l++,Eo(Co(oo(o,s,l),c),c<0)}var u=Co(oo(o,i,i),n);if(Jr.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=Co(oo(o,i-1,i-1),-1);if(p.top==u.top){var d=Co(oo(o,i,i+1),-1);if(d.top!=u.top)return Eo(d,d.left<p.left)}}return u}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==lo(o))){var f=o.childNodes[i-1];if(1==f.nodeType)return Io(f.getBoundingClientRect(),!1)}if(i<lo(o)){var h=o.childNodes[i];if(1==h.nodeType)return Io(h.getBoundingClientRect(),!0)}return Io(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==lo(o))){var m=o.childNodes[i-1],v=3==m.nodeType?oo(m,lo(m)-(a?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return Eo(Co(v,1),!1)}if(i<lo(o)){var g=o.childNodes[i],y=3==g.nodeType?oo(g,0,a?0:1):1==g.nodeType?g:null;if(y)return Eo(Co(y,-1),!0)}return Eo(Co(3==o.nodeType?oo(o):o,-n),n>=0)}function Eo(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Io(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function _o(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var No=/[\u0590-\u08ac]/;var To=null,Po=null,Do=!1;function Mo(e,t,n){return To==t&&Po==n?Do:(To=t,Po=n,Do="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return _o(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=So(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=oo(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top&&("up"==n?c.bottom<i.top+1:c.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return No.test(r.parent.textContent)&&s.modify?_o(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?i:a}(e,t,n))}var jo=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},Ro={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};jo.prototype.matchesWidget=function(){return!1},jo.prototype.matchesMark=function(){return!1},jo.prototype.matchesNode=function(){return!1},jo.prototype.matchesHack=function(e){return!1},Ro.beforePosition.get=function(){return!1},jo.prototype.parseRule=function(){return null},jo.prototype.stopEvent=function(){return!1},Ro.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},Ro.border.get=function(){return 0},jo.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},jo.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},Ro.posBefore.get=function(){return this.parent.posBeforeChild(this)},Ro.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Ro.posAfter.get=function(){return this.posBefore+this.size},Ro.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},jo.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>to(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},jo.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},jo.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},jo.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},jo.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},jo.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=!0;;r++,o=!1){for(;r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM);)n+=this.children[r++].size;var i=r==this.children.length?null:this.children[r];if(n==e&&(0==t||!i||!i.size||i.border||t<0&&o)||i&&i.domAtom&&e<n+i.size)return{node:this.contentDOM,offset:i?to(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error("Invalid position "+e);var a=n+i.size;if(!i.domAtom&&(t<0&&!i.border?a>=e:a>e)&&(a>e||r+1>=this.children.length||!this.children[r+1].beforePosition))return i.domFromPos(e-n-i.border,t);n=a}},jo.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],l=i+s.size;if(-1==r&&e<=l){var c=i+s.border;if(e>=c&&t<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,c);e=i;for(var u=a;u>0;u--){var p=this.children[u-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=to(p.dom)+1;break}e-=p.size}-1==r&&(r=0)}if(r>-1&&(l>t||a==this.children.length-1)){t=l;for(var d=a+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=to(f.dom);break}t+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},jo.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},jo.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},jo.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}var u=this.domFromPos(e,e?-1:1),p=t==e?u:this.domFromPos(t,t?-1:1),d=n.getSelection(),f=!1;if((Jr.gecko||Jr.safari)&&e==t){var h=u.node,m=u.offset;if(3==h.nodeType){if((f=m&&"\n"==h.nodeValue[m-1])&&m==h.nodeValue.length)for(var v=h,g=void 0;v;v=v.parentNode){if(g=v.nextSibling){"BR"==g.nodeName&&(u=p={node:g.parentNode,offset:to(g)+1});break}var y=v.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=h.childNodes[m-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Jr.gecko&&d.focusNode&&d.focusNode!=p.node&&1==d.focusNode.nodeType){var k=d.focusNode.childNodes[d.focusOffset];k&&"false"==k.contentEditable&&(r=!0)}if(r||f&&Jr.safari||!io(u.node,u.offset,d.anchorNode,d.anchorOffset)||!io(p.node,p.offset,d.focusNode,d.focusOffset)){var w=!1;if((d.extend||e==t)&&!f){d.collapse(u.node,u.offset);try{e!=t&&d.extend(p.node,p.offset),w=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!w){if(e>t){var O=u;u=p,p=O}var C=document.createRange();C.setEnd(p.node,p.offset),C.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(C)}}},jo.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},Ro.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},jo.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=3}n=i}this.dirty=2},jo.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Ro.domAtom.get=function(){return!1},Object.defineProperties(jo.prototype,Ro);var Ao=[],Fo=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,Ao,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(jo),Lo=function(e){function t(t,n,r,o){e.call(this,t,Ao,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(jo),Bo=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=pe.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=ti(i,n,a,r)),e>0&&(i=ti(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(jo),zo=function(e){function t(t,n,r,o,i,a,s,l,c){e.call(this,t,n.isLeaf?Ao:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,o,i,a){var s,l,c=i.nodeViews[n.type.name],u=c&&c(n,i,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),r,o),p=u&&u.dom,d=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(s=pe.renderSpec(document,n.type.spec.toDOM(n))).dom,d=s.contentDOM);d||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=Xo(p,r,n),u?l=new Wo(e,n,r,o,p,d,f,u,i,a+1):n.isText?new Ho(e,n,r,o,p,f,i):new t(e,n,r,o,p,d,f,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Yo(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,i=r&&e.composing&&this.localCompositionNode(e,t),a=new Qo(this,i&&i.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var l=0,c=[],u=null,p=0;;){if(l<o.length&&o[l].to==i){for(var d=o[l++],f=void 0;l<o.length&&o[l].to==i;)(f||(f=[d])).push(o[l++]);if(f){f.sort(ei);for(var h=0;h<f.length;h++)n(f[h],p,!!u)}else n(d,p,!!u)}var m=void 0,v=void 0;if(u)v=-1,m=u,u=null;else{if(!(p<e.childCount))break;v=p,m=e.child(p++)}for(var g=0;g<c.length;g++)c[g].to<=i&&c.splice(g--,1);for(;l<o.length&&o[l].from<=i&&o[l].to>i;)c.push(o[l++]);var y=i+m.nodeSize;if(m.isText){var b=y;l<o.length&&o[l].from<b&&(b=o[l].from);for(var k=0;k<c.length;k++)c[k].to<b&&(b=c[k].to);b<y&&(u=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1)}var w=c.length?m.isInline&&!m.isLeaf?c.filter((function(e){return!e.inline})):c.slice():Ao;r(m,w,t.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(t,i,s){t.spec.marks?a.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!s&&a.syncToMarks(i==n.node.childCount?u.none:n.node.child(i).marks,r,e),a.placeWidget(t,e,o)}),(function(t,n,i,s){a.syncToMarks(t.marks,r,e),a.findNodeMatch(t,n,i,s)||a.updateNextNode(t,n,i,e,s)||a.addNode(t,n,i,e,o),o+=t.nodeSize})),a.syncToMarks(Ao,r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),function e(t,n,r){for(var o=t.firstChild,i=!1,a=0;a<n.length;a++){var s=n[a],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=Zo(o),i=!0;o=o.nextSibling}else i=!0,t.insertBefore(l,o);if(s instanceof Bo){var c=o?o.previousSibling:t.lastChild;e(s.contentDOM,s.children,r),o=c?c.nextSibling:t.firstChild}}for(;o;)o=Zo(o),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}(this.contentDOM,this.children,e),Jr.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof rt)||r<t||o>t+this.node.content.size)){var i=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=lo(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){var s=a.nodeValue,l=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var l=a.text;o<e.childCount;){var c=e.child(o++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){var u=l.lastIndexOf(t,r-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,s,r-t,o-t);return l<0?null:{node:a,pos:l,text:s}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new Lo(this,i,n,o);e.compositionNodes.push(a),this.children=ti(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Yo(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Go(this.dom,this.nodeDOM,Uo(this.outerDeco,this.node,t),Uo(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(jo);function Vo(e,t,n,r,o){return Xo(r,t,e),new zo(null,e,t,n,r,r,r,o,0)}var Ho=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(zo),Ko=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(jo),Wo=function(e){function t(t,n,r,o,i,a,s,l,c,u){e.call(this,t,n,r,o,i,a,s,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(zo);function $o(e){e&&(this.nodeName=e)}$o.prototype=Object.create(null);var qo=[new $o];function Uo(e,t,n){if(0==e.length)return qo;for(var r=n?qo[0]:new $o,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var s in a.nodeName&&o.push(r=new $o(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==o.length&&o.push(r=new $o(t.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return o}function Go(e,t,n,r){if(n==qo&&r==qo)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var l=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.tagName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(o),s=qo[0]),o=l}Jo(o,s||qo[0],a)}return o}function Jo(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):Ao,a=n.class?n.class.split(" ").filter(Boolean):Ao,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var l=0;l<a.length;l++)-1==i.indexOf(a[l])&&e.classList.add(a[l])}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function Xo(e,t,n){return Go(e,e,qo,Uo(t,n,1!=e.nodeType))}function Yo(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Zo(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Qo=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){for(var n=e.childCount,r=t.length,o=new Map;n>0&&r>0;r--){var i=t[r-1],a=i.node;if(a){if(a!=e.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}(e.node.content,e.children)};function ei(e,t){return e.type.side-t.type.side}function ti(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=null),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function ni(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,l,c=r.resolve(a);if(uo(n)){for(s=c;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&it.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(e,t,n){for(var r=0==t,o=t==lo(e);r||o;){if(e==n)return!0;var i=to(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==lo(e)}}(n.focusNode,n.focusOffset,o.dom))){var u=o.posBefore;l=new it(a==u?c:r.resolve(u))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;s=r.resolve(p)}l||(l=pi(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1));return l}function ri(e){return e.editable?e.hasFocus():di(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function oi(e,t){var n=e.state.selection;if(ci(e,n),ri(e)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,to(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Jr.ie&&Jr.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var r,o,i=n.anchor,a=n.head;!ii||n instanceof rt||(n.$from.parent.inlineContent||(r=ai(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=ai(e,n.to))),e.docView.setSelection(i,a,e.root,t),ii&&(r&&li(r),o&&li(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){ri(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}Qo.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},Qo.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Qo.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=Bo.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}},Qo.prototype.findNodeMatch=function(e,t,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var a=this.index;a<o.length;a++)if(o[a].matchesNode(e,t,n)){i=a;break}}else for(var s=this.index,l=Math.min(o.length,s+1);s<l;s++){var c=o[s];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Qo.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof zo){var s=this.preMatch.matched.get(a);if(null!=s&&s!=o)return!1;var l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Yo(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Qo.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,zo.create(this.top,e,t,n,r,o)),this.changed=!0},Qo.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new Fo(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},Qo.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Bo;)e=e.children[e.children.length-1];e&&e instanceof Ho&&!/\n$/.test(e.node.text)||(Jr.safari&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Qo.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);this.top.children.splice(this.index++,0,new Ko(this.top,Ao,t,null)),this.changed=!0}};var ii=Jr.safari||Jr.chrome&&Jr.chrome_version<63;function ai(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(Jr.safari&&i&&"false"==i.contentEditable)return si(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return si(i);if(a)return si(a)}}function si(e){return e.contentEditable="true",Jr.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function li(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ci(e,t){if(t instanceof it){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ui(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ui(e)}function ui(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function pi(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||rt.between(t,n,r)}function di(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function fi(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&et.findFrom(a,t)}function hi(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function mi(e,t,n){var r=e.state.selection;if(!(r instanceof rt)){if(r instanceof it&&r.node.isInline)return hi(e,new rt(t>0?r.$to:r.$from));var o=fi(e.state,t);return!!o&&hi(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=fi(e.state,t);return!!(i&&i instanceof it)&&hi(e,i)}if(!(Jr.mac&&n.indexOf("m")>-1)){var a,s=r.$head,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText)return!1;var c=t<0?s.pos-l.nodeSize:s.pos;return!!(l.isAtom||(a=e.docView.descAt(c))&&!a.contentDOM)&&(it.isSelectable(l)?hi(e,new it(t<0?e.state.doc.resolve(s.pos-l.nodeSize):s)):!!Jr.webkit&&hi(e,new rt(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function vi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function gi(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function yi(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(Jr.gecko&&1==n.nodeType&&r<vi(n)&&gi(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(gi(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(ki(n))break;for(var l=n.previousSibling;l&&gi(l);)o=n.parentNode,i=to(l),l=l.previousSibling;if(l)r=vi(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?wi(e,t,n,r):o&&wi(e,t,o,i)}}function bi(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=vi(n);;)if(r<a){if(1!=n.nodeType)break;if(!gi(n.childNodes[r]))break;o=n,i=++r}else{if(ki(n))break;for(var s=n.nextSibling;s&&gi(s);)o=s.parentNode,i=to(s)+1,s=s.nextSibling;if(s)r=0,a=vi(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&wi(e,t,o,i)}}function ki(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function wi(e,t,n,r){if(uo(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&oi(e)}),50)}function Oi(e,t,n){var r=e.state.selection;if(r instanceof rt&&!r.empty||n.indexOf("s")>-1)return!1;if(Jr.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=fi(e.state,t);if(a&&a instanceof it)return hi(e,a)}if(!o.parent.inlineContent){var s=t<0?o:i,l=r instanceof st?et.near(s,t):et.findFrom(s,t);return!!l&&hi(e,l)}return!1}function Ci(e,t){if(!(e.state.selection instanceof rt))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function xi(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Si(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Jr.mac&&72==n&&"c"==r?Ci(e,-1)||yi(e):46==n||Jr.mac&&68==n&&"c"==r?Ci(e,1)||bi(e):13==n||27==n||(37==n?mi(e,-1,r)||yi(e):39==n?mi(e,1,r)||bi(e):38==n?Oi(e,-1,r)||yi(e):40==n?function(e){if(Jr.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;xi(e,o,!0),setTimeout((function(){return xi(e,o,!1)}),20)}}}(e)||Oi(e,1,r)||bi(e):r==(Jr.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ei(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Jr.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||Jr.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ii(e,t,n,r,o){if(t<0){var a=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,s=ni(e,a);if(s&&!e.state.selection.eq(s)){var l=e.state.tr.setSelection(s);"pointer"==a?l.setMeta("pointer",!0):"key"==a&&l.scrollIntoView(),e.dispatch(l)}}else{var c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);var p=e.state.selection,d=function(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,i=r.fromOffset,a=r.toOffset,s=r.from,l=r.to,c=e.root.getSelection(),u=null,p=c.anchorNode;if(p&&e.dom.contains(1==p.nodeType?p:p.parentNode)&&(u=[{node:p,offset:c.anchorOffset}],uo(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Jr.chrome&&8===e.lastKeyCode)for(var d=a;d>i;d--){var f=o.childNodes[d-1],h=f.pmViewDesc;if("BR"==f.nodeName&&!h){a=d;break}if(!h||h.size)break}var m=e.state.doc,v=e.someProp("domParser")||ee.fromSchema(e.state.schema),g=m.resolve(s),y=null,b=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:Ei,context:g});if(u&&null!=u[0].pos){var k=u[0].pos,w=u[1]&&u[1].pos;null==w&&(w=k),y={anchor:k+s,head:w+s}}return{doc:b,sel:y,from:s,to:l}}(e,t,n);if(Jr.chrome&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from){var f=e.cursorWrapper.deco.type.toDOM.nextSibling,h=f&&f.nodeValue?f.nodeValue.length:1;d.sel={anchor:d.sel.anchor+h,head:d.sel.anchor+h}}var m,v,g=e.state.doc,y=g.slice(d.from,d.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(m=e.state.selection.to,v="end"):(m=e.state.selection.from,v="start"),e.lastKeyCode=null;var b=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,l=a.b;if("end"==o){var c=Math.max(0,i-Math.min(s,l));r-=s+c-i}if(s<i&&e.size<t.size){l=(i-=r<=i&&r>=s?i-r:0)+(l-s),s=i}else if(l<i){s=(i-=r<=i&&r>=l?i-r:0)+(s-l),l=i}return{start:i,endA:s,endB:l}}(y.content,d.doc.content,d.from,m,v);if(!b){if(!(r&&p instanceof rt&&!p.empty&&p.$head.sameParent(p.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if((Jr.ios&&e.lastIOSEnter>Date.now()-225||Jr.android)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,po(13,"Enter"))})))return void(e.lastIOSEnter=0);if(d.sel){var k=_i(e,e.state.doc,d.sel);k&&!k.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(k))}return}b={start:p.from,endA:p.to,endB:p.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof rt&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),Jr.ie&&Jr.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&" "==d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)&&(b.start--,b.endA--,b.endB--);var w,O=d.doc.resolveNoCache(b.start-d.from),C=d.doc.resolveNoCache(b.endB-d.from),x=O.sameParent(C)&&O.parent.inlineContent;if((Jr.ios&&e.lastIOSEnter>Date.now()-225&&(!x||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!x&&O.pos<d.doc.content.size&&(w=et.findFrom(d.doc.resolve(O.pos+1),1,!0))&&w.head==C.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,po(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Ni(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Ni(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Ni(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(g,b.start,b.endA,O,C)&&e.someProp("handleKeyDown",(function(t){return t(e,po(8,"Backspace"))})))Jr.android&&Jr.chrome&&e.domObserver.suppressSelectionUpdates();else{Jr.chrome&&Jr.android&&b.toB==b.from&&(e.lastAndroidDelete=Date.now()),Jr.android&&!x&&O.start()!=C.start()&&0==C.parentOffset&&O.depth==C.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,C=d.doc.resolveNoCache(b.endB-d.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,po(13,"Enter"))}))}),20));var S,E,I,_,N=b.start,T=b.endA;if(x)if(O.pos==C.pos)Jr.ie&&Jr.ie_version<=11&&0==O.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return oi(e)}),20)),S=e.state.tr.delete(N,T),E=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(_=g.resolve(b.start))&&(I=function(e,t){for(var n,r,o,a=e.firstChild.marks,s=t.firstChild.marks,l=a,c=s,u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(var p=0;p<a.length;p++)c=a[p].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var d=[],f=0;f<t.childCount;f++)d.push(o(t.child(f)));if(i.from(d).eq(e))return{mark:r,type:n}}(O.parent.content.cut(O.parentOffset,C.parentOffset),_.parent.content.cut(_.parentOffset,b.endA-_.start()))))S=e.state.tr,"add"==I.type?S.addMark(N,T,I.mark):S.removeMark(N,T,I.mark);else if(O.parent.child(O.index()).isText&&O.index()==C.index()-(C.textOffset?0:1)){var P=O.parent.textBetween(O.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,N,T,P)})))return;S=e.state.tr.insertText(P,N,T)}if(S||(S=e.state.tr.replace(N,T,d.doc.slice(b.start-d.from,b.endB-d.from))),d.sel){var D=_i(e,S.doc,d.sel);D&&!(Jr.chrome&&Jr.android&&e.composing&&D.empty&&(b.start!=b.endB||e.lastAndroidDelete<Date.now()-100)&&(D.head==N||D.head==S.mapping.map(T)-1)||Jr.ie&&D.empty&&D.head==N)&&S.setSelection(D)}E&&S.ensureMarks(E),e.dispatch(S.scrollIntoView())}}}function _i(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:pi(e,t.resolve(n.anchor),t.resolve(n.head))}function Ni(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Ti(e,t){for(var n=[],r=t.content,o=t.openStart,i=t.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var s=e.someProp("clipboardSerializer")||pe.fromSchema(e.state.schema),l=Ai(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));for(var u,p=c.firstChild;p&&1==p.nodeType&&(u=ji[p.nodeName.toLowerCase()]);){for(var d=u.length-1;d>=0;d--){for(var f=l.createElement(u[d]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f)}p=c.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Pi(e,t,n,r,o){var a,s,l=o.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(r||l||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,l||r)})),l)return new d(i.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Ai().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&ji[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n);var p=a&&a.querySelector("[data-pm-slice]"),f=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!s){var h=e.someProp("clipboardParser")||e.someProp("domParser")||ee.fromSchema(e.state.schema);s=h.parseSlice(a,{preserveWhitespace:!(!c&&!f),context:o})}return s=f?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o=e.content,a=e.openStart,s=e.openEnd,l=n.length-2;l>=0;l-=2){var c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;o=i.from(c.create(n[l+1],o)),a++,s++}return new d(o,a,s)}(function(e,t,n){t<e.openStart&&(e=new d(Mi(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new d(Mi(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(s,+f[1],+f[2]),f[3]):d.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),o=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=r.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&o.length&&function e(t,n,r,o,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,r,o.lastChild,a+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(a==t.length-1?r.type:t[a+1]))return o.copy(o.content.append(i.from(Di(r,t,a+1))))}}(n,o,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),o=t.contentMatchAt(t.childCount).fillBefore(i.empty,!0);return t.copy(r.append(o))}(a[a.length-1],o.length));var s=Di(e,n);a.push(s),r=r.matchType(s.type,s.attrs),o=n}}})),a)return{v:i.from(a)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}(s.content,o),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function Di(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,i.from(e));return e}function Mi(e,t,n,r,o,a){var s=t<0?e.firstChild:e.lastChild,l=s.content;return o<r-1&&(l=Mi(l,t,n,r,o+1,a)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(i.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}var ji={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ri=null;function Ai(){return Ri||(Ri=document.implementation.createHTMLDocument("title"))}var Fi={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Li=Jr.ie&&Jr.ie_version<=11,Bi=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Bi.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Bi.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var zi=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Jr.ie&&Jr.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Bi,Li&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};zi.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},zi.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},zi.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Fi),Li&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},zi.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Li&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},zi.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},zi.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},zi.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},zi.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&di(e)){var e;if(this.suppressingSelectionUpdates)return oi(this.view);if(Jr.ie&&Jr.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&io(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},zi.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},zi.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},zi.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&di(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var s=0;s<e.length;s++){var l=this.registerMutation(e[s],a);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(Jr.gecko&&a.length>1){var c=a.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var u=c[0],p=c[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Vi)return;Vi=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||oi(this.view),this.currentSelection.set(t))}},zi.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(Jr.ie&&Jr.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(i=c)}var u=o&&o.parentNode==e.target?to(o)+1:0,p=n.localPosFromDOM(e.target,u,-1),d=i&&i.parentNode==e.target?to(i):e.target.childNodes.length;return{from:p,to:n.localPosFromDOM(e.target,d,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Vi=!1;var Hi={},Ki={};function Wi(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function $i(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return qi(e,t)})}))}function qi(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Ui(e){return{left:e.clientX,top:e.clientY}}function Gi(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Ji(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Xi(e,t,n,r,o){return Gi(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof it&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(it.isSelectable(s)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(Ji(e,it.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&it.isSelectable(r))&&(Ji(e,new it(n),"pointer"),!0)}(e,n))}function Yi(e,t,n,r){return Gi(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function Zi(e,t,n,r){return Gi(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Ji(e,rt.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)Ji(e,rt.create(r,s+1,s+1+a.content.size),"pointer");else{if(!it.isSelectable(a))continue;Ji(e,it.create(r,s),"pointer")}return!0}}(e,n,r)}function Qi(e){return aa(e)}Ki.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!na(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Jr.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Si(e,t)?t.preventDefault():Wi(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,po(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Ki.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ki.keypress=function(e,t){if(!(na(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Jr.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof rt&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var ea=Jr.mac?"metaKey":"ctrlKey";Hi.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Qi(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[ea]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(Ui(t));i&&("singleClick"==o?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new ta(e,i,t,n)):("doubleClick"==o?Yi:Zi)(e,i.pos,i.inside,t)?t.preventDefault():Wi(e,"pointer"))};var ta=function(e,t,n,r){var o,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[ea],this.allowDefault=n.shiftKey||0!=n.button,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);o=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var l=r?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var u=e.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||u instanceof it&&u.from<=i&&u.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Jr.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wi(e,"pointer")};function na(e,t){return!!e.composing||!!(Jr.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}ta.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},ta.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ui(e))),this.allowDefault||!t?Wi(this.view,"pointer"):Xi(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||Jr.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Jr.chrome&&!(this.view.state.selection instanceof rt)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2?(Ji(this.view,et.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Wi(this.view,"pointer")}},ta.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Wi(this.view,"pointer"),0==e.buttons&&this.done()},Hi.touchdown=function(e){Qi(e),Wi(e,"pointer")},Hi.contextmenu=function(e){return Qi(e)};var ra=Jr.android?5e3:-1;function oa(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return aa(e)}),t))}function ia(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function aa(e,t){if(e.domObserver.forceFlush(),ia(e),t||e.docView.dirty){var n=ni(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Ki.compositionstart=Ki.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),aa(e,!0),e.markCursor=null;else if(aa(e),Jr.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}e.composing=!0}oa(e,ra)},Ki.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,oa(e,20))};var sa=Jr.ie&&Jr.ie_version<15||Jr.ios&&Jr.webkit_version<604;function la(e,t,n,r){var o=Pi(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,o||d.empty)})))return!0;if(!o)return!1;var i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Hi.copy=Ki.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=sa?null:t.clipboardData,i=Ti(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ki.paste=function(e,t){var n=sa?null:t.clipboardData;n&&la(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?la(e,r.value,null,t):la(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var ca=function(e,t){this.slice=e,this.move=t},ua=Jr.mac?"altKey":"ctrlKey";for(var pa in Hi.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords(Ui(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof it?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(it.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);if(!i||!i.node.type.spec.draggable||i==e.docView)return;e.dispatch(e.state.tr.setSelection(it.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),s=Ti(e,a),l=s.dom,c=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(sa?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",sa||t.dataTransfer.setData("text/plain",c),e.dragging=new ca(a,!t[ua])}},Hi.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Ki.dragover=Ki.dragenter=function(e,t){return t.preventDefault()},Ki.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(Ui(t));if(r){var o=e.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?e.someProp("transformPasted",(function(e){i=e(i)})):i=Pi(e,t.dataTransfer.getData(sa?"Text":"text/plain"),sa?null:t.dataTransfer.getData("text/html"),!1,o);var a=n&&!t[ua];if(e.someProp("handleDrop",(function(n){return n(e,t,i||d.empty,a)})))t.preventDefault();else if(i){t.preventDefault();var s=i?Le(e.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var l=e.state.tr;a&&l.deleteSelection();var c=l.mapping.map(s),u=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=l.doc;if(u?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i),!l.doc.eq(p)){var f=l.doc.resolve(c);if(u&&it.isSelectable(i.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new it(f));else{var h=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((function(e,t,n,r){return h=r})),l.setSelection(pi(e,f,l.doc.resolve(h)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Hi.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&oi(e)}),20))},Hi.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Hi.beforeinput=function(e,t){if(Jr.chrome&&Jr.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,po(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ki)Hi[pa]=Ki[pa];function da(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var fa=function(e,t){this.spec=t||ba,this.side=this.spec.side||0,this.toDOM=e};fa.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new va(i-n,i-n,this)},fa.prototype.valid=function(){return!0},fa.prototype.eq=function(e){return this==e||e instanceof fa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&da(this.spec,e.spec))};var ha=function(e,t){this.spec=t||ba,this.attrs=e};ha.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new va(o,i,this)},ha.prototype.valid=function(e,t){return t.from<t.to},ha.prototype.eq=function(e){return this==e||e instanceof ha&&da(this.attrs,e.attrs)&&da(this.spec,e.spec)},ha.is=function(e){return e.type instanceof ha};var ma=function(e,t){this.spec=t||ba,this.attrs=e};ma.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new va(o.pos-n,i.pos-n,this)},ma.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},ma.prototype.eq=function(e){return this==e||e instanceof ma&&da(this.attrs,e.attrs)&&da(this.spec,e.spec)};var va=function(e,t,n){this.from=e,this.to=t,this.type=n},ga={spec:{configurable:!0},inline:{configurable:!0}};va.prototype.copy=function(e,t){return new va(e,t,this.type)},va.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},va.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},va.widget=function(e,t,n){return new va(e,e,new fa(t,n))},va.inline=function(e,t,n,r){return new va(e,t,new ha(n,r))},va.node=function(e,t,n,r){return new va(e,t,new ma(n,r))},ga.spec.get=function(){return this.type.spec},ga.inline.get=function(){return this.type instanceof ha},Object.defineProperties(va.prototype,ga);var ya=[],ba={},ka=function(e,t){this.local=e&&e.length?e:ya,this.children=t&&t.length?t:ya};ka.create=function(e,t){return t.length?Ea(t,e,0,ba):wa},ka.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},ka.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var l=this.children[s]+1;this.children[s+2].findInner(e-l,t-l,n,r+l,o)}},ka.prototype.map=function(e,t,n){return this==wa||0==e.maps.length?this:this.mapInner(e,t,0,0,n||ba)},ka.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),l=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||e>l+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(c=r-n-(t-e))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,p=0;p<s.length;p+=3)if(-1==s[p+1]){var d=n.map(e[p]+i),f=d-o;if(f<0||f>=r.content.size){u=!0;continue}var h=n.map(e[p+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==f&&g+y.nodeSize==h){var b=s[p+2].mapInner(n,y,d+1,e[p]+i+1,a);b!=wa?(s[p]=f,s[p+1]=h,s[p+2]=b):(s[p+1]=-2,u=!0)}else u=!0}if(u){var k=Ea(function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var l=e.local[i].map(r,o,t);l?n.push(l):a.onRemove&&a.onRemove(e.local[i].spec)}for(var c=0;c<e.children.length;c+=3)s(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+i+1);return n}(s,e,t||[],n,o,i,a),r,0,a);t=k.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var O=0,C=0;O<k.children.length;O+=3){for(var x=k.children[O];C<s.length&&s[C]<x;)C+=3;s.splice(C,0,k.children[O],k.children[O+1],k.children[O+2])}}return new ka(t&&t.sort(Ia),s)}(this.children,i,e,t,n,r,o):i?new ka(i.sort(Ia)):wa},ka.prototype.add=function(e,t){return t.length?this==wa?ka.create(e,t):this.addInner(e,t,0):this},ka.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,l=a+n;if(s=xa(t,e,l)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,l+1):r.splice(i,0,a,a+e.nodeSize,Ea(s,e,l+1,ba)),i+=3}}));for(var a=Ca(i?Sa(t):t,-n),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new ka(a.length?this.local.concat(a).sort(Ia):this.local,r||this.children)},ka.prototype.remove=function(e){return 0==e.length||this==wa?this:this.removeInner(e,0)},ka.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>a&&c.to<s&&(e[l]=null,(i||(i=[])).push(c));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=wa?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,d=void 0;p<e.length;p++)if(d=e[p])for(var f=0;f<r.length;f++)r[f].eq(d,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new ka(r,n):wa},ka.prototype.forChild=function(e,t){if(this==wa)return this;if(t.isLeaf)return ka.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof ha){var c=Math.max(i,l.from)-i,u=Math.min(a,l.to)-i;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){var p=new ka(r.sort(Ia));return n?new Oa([p,n]):p}return n||wa},ka.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof ka)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},ka.prototype.locals=function(e){return _a(this.localsInner(e))},ka.prototype.localsInner=function(e){if(this==wa)return ya;if(e.inlineContent||!this.local.some(ha.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof ha||t.push(this.local[n]);return t};var wa=new ka;ka.empty=wa,ka.removeOverlap=_a;var Oa=function(e){this.members=e};function Ca(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new va(o.from+t,o.to+t,o.type))}return n}function xa(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function Sa(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Ea(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=xa(e,t,a+n);if(s){i=!0;var l=Ea(s,t,n+a+1,r);l!=wa&&o.push(a,a+t.nodeSize,l)}}));for(var a=Ca(i?Sa(e):e,-n).sort(Ia),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new ka(a,o):wa}function Ia(e,t){return e.from-t.from||e.to-t.to}function _a(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Na(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Na(t,o+1,i.copy(r.to,i.to)))}}return t}function Na(e,t,n){for(;t<e.length&&Ia(n,e[t])>0;)t++;e.splice(t,0,n)}function Ta(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=wa&&t.push(r)})),e.cursorWrapper&&t.push(ka.create(e.state.doc,[e.cursorWrapper.deco])),Oa.from(t)}Oa.prototype.forChild=function(e,t){if(t.isLeaf)return ka.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=wa&&(o instanceof Oa?n=n.concat(o.members):n.push(o))}return Oa.from(n)},Oa.prototype.eq=function(e){if(!(e instanceof Oa)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Oa.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?_a(n?t:t.sort(Ia)):ya},Oa.from=function(e){switch(e.length){case 0:return wa;case 1:return e[0];default:return new Oa(e)}};var Pa,Da,Ma=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Fa(this),this.markCursor=null,this.cursorWrapper=null,Aa(this),this.nodeViews=La(this),this.docView=Vo(this.state.doc,Ra(this),Ta(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new zi(e,(function(t,n,r,o){return Ii(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Hi[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||qi(e,t)||!e.editable&&t.type in Ki||n(e,t)})};for(var n in Hi)t(n);Jr.safari&&e.dom.addEventListener("input",(function(){return null})),$i(e)}(this),this.pluginViews=[],this.updatePluginViews()},ja={props:{configurable:!0},root:{configurable:!0}};function Ra(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[va.node(0,e.state.doc.content.size,t)]}function Aa(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:va.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Fa(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function La(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}if(ja.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Ma.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$i(this),this._props=e,this.updateStateInner(e.state,!0)},Ma.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Ma.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Ma.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1,i=!1;if(e.storedMarks&&this.composing&&(ia(this),i=!0),this.state=e,t){var a=La(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,o=!0),$i(this)}this.editable=Fa(this),Aa(this);var s=Ta(this),l=Ra(this),c=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(r.selection)||(i=!0);var p,d,f,h,m,v,g,y,b,k,w,O="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=o-20){t=s,n=l.top;break}}}return{refDOM:t,refTop:n,stack:go(e.dom)}}(this);if(i){this.domObserver.stop();var C=u&&(Jr.ie||Jr.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(h=r.selection,m=e.selection,v=Math.min(h.$anchor.sharedDepth(h.head),m.$anchor.sharedDepth(m.head)),h.$anchor.start(v)!=m.$anchor.start(v));if(u){var x=Jr.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Vo(e.doc,l,s,this.dom,this)),x&&!this.trackWrites&&(C=!0)}C||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(p=this,d=p.docView.domFromPos(p.state.selection.anchor,0),f=p.root.getSelection(),io(d.node,d.offset,f.anchorNode,f.anchorOffset)))?oi(this,C):(ci(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof it?vo(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),S):vo(this,this.coordsAtPos(e.selection.head,1),S))}else O&&(y=(g=O).refDOM,b=g.refTop,k=g.stack,w=y?y.getBoundingClientRect().top:0,yo(k,0==w?0:w-b))},Ma.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Ma.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Ma.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},Ma.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ma.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(bo)return e.focus(bo);var t=go(e);e.focus(null==bo?{get preventScroll(){return bo={preventScroll:!0},!0}}:void 0),bo||(bo=!1,yo(t,0))}(this.dom),oi(this),this.domObserver.start()},ja.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Ma.prototype.posAtCoords=function(e){return Oo(this,e)},Ma.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),So(this,e,t)},Ma.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},Ma.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Ma.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Ma.prototype.endOfTextblock=function(e,t){return Mo(this,t||this.state,e)},Ma.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ta(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Ma.prototype.dispatchEvent=function(e){return function(e,t){qi(e,t)||!Hi[t.type]||!e.editable&&t.type in Ki||Hi[t.type](e,t)}(this,e)},Ma.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Ma.prototype,ja),"undefined"!=typeof WeakMap){var Ba=new WeakMap;Pa=function(e){return Ba.get(e)},Da=function(e,t){return Ba.set(e,t),t}}else{var za=[],Va=0;Pa=function(e){for(var t=0;t<za.length;t+=2)if(za[t]==e)return za[t+1]},Da=function(e,t){return 10==Va&&(Va=0),za[Va++]=e,za[Va++]=t}}var Ha=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},Ka=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};function Wa(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function $a(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,l=s&&s(e);null!=l&&(i[a]=l)}return i}function qa(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function Ua(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return $a(e,t)}}],toDOM:function(e){return["td",qa(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return $a(e,t)}}],toDOM:function(e){return["th",qa(e,t),0]}}}}function Ga(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}Ka.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var l=1;a<this.height&&this.map[t+this.width*l]==n;l++)a++;return new Ha(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")},Ka.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},Ka.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(n<0?0==o:i==this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0==a:s==this.height)?null:this.map[o+this.width*(n<0?a-1:s)]},Ka.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),l=s.left,c=s.right,u=s.top,p=s.bottom;return new Ha(Math.min(r,l),Math.min(i,u),Math.max(o,c),Math.max(a,p))},Ka.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},Ka.prototype.positionAt=function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}},Ka.get=function(e){return Pa(e)||Da(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}for(var u=0;u<o.childCount;u++){var p=o.child(u);i+=p.attrs.colspan,p.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,l=t*n;s<l;s++)r[s]=0;for(var c=0,u=0;c<n;c++){var p=e.child(c);u++;for(var d=0;;d++){for(;o<r.length&&0!=r[o];)o++;if(d==p.childCount)break;for(var f=p.child(d),h=f.attrs,m=h.colspan,v=h.rowspan,g=h.colwidth,y=0;y<v;y++){if(y+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:v-y});break}for(var b=o+y*t,k=0;k<m;k++){0==r[b+k]?r[b+k]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:m-k});var w=g&&g[k];if(w){var O=(b+k)%t*2,C=a[O];null==C||C!=w&&1==a[O+1]?(a[O]=w,a[O+1]=1):C==w&&a[O+1]++}}}o+=m,u+=f.nodeSize}for(var x=(c+1)*t,S=0;o<x;)0==r[o++]&&S++;S&&(i||(i=[])).push({type:"missing",row:c,n:S}),u++}for(var E=new Ka(t,n,r,i),I=!1,_=0;!I&&_<a.length;_+=2)null!=a[_]&&a[_+1]<n&&(I=!0);I&&function(e,t,n){e.problems||(e.problems=[]);for(var r=0,o={};r<e.map.length;r++){var i=e.map[r];if(!o[i]){o[i]=!0;for(var a=n.nodeAt(i),s=null,l=0;l<a.attrs.colspan;l++){var c=(r+l)%e.width,u=t[2*c];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=Wa(a.attrs)))[l]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(E,a,e);return E}(e))};var Ja=new Ot("selectingCells");function Xa(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function Ya(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function Za(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:Xa(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-o.nodeSize)}}(t.$head)}function Qa(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function es(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function ts(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function ns(e){return Ka.get(e.node(-1)).findCell(e.pos-e.start(-1))}function rs(e){return Ka.get(e.node(-1)).colCount(e.pos-e.start(-1))}function is(e,t,n){var r=e.start(-1),o=Ka.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function as(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function ss(e,t,n){void 0===n&&(n=1);var r=as(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=null)),r}function ls(e,t,n){void 0===n&&(n=1);var r=as(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function cs(e,t,n){for(var r=Ga(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}var us=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=Ka.get(r),i=t.start(-1),a=o.rectBetween(t.pos-i,n.pos-i),s=t.node(0),l=o.cellsInRect(a).filter((function(e){return e!=n.pos-i}));l.unshift(n.pos-i);var c=l.map((function(e){var t=r.nodeAt(e),n=e+i+1;return new nt(s.resolve(n),s.resolve(n+t.content.size))}));e.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(Qa(r)&&Qa(o)&&ts(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?t.rowSelection(r,o):i&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return rt.between(r,o)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=Ka.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},a=[],s=r.top;s<r.bottom;s++){for(var l=[],c=s*t.width+r.left,u=r.left;u<r.right;u++,c++){var p=t.map[c];if(!o[p]){o[p]=!0;var f=t.findCell(p),h=e.nodeAt(p),m=r.left-f.left,v=f.right-r.right;if(m>0||v>0){var g=h.attrs;m>0&&(g=ss(g,0,m)),v>0&&(g=ss(g,g.colspan-v,v)),h=f.left<r.left?h.type.createAndFill(g):h.type.create(g,h.content)}if(f.top<r.top||f.bottom>r.bottom){var y=as(h.attrs,"rowspan",Math.min(f.bottom,r.bottom)-Math.max(f.top,r.top));h=f.top<r.top?h.type.createAndFill(y):h.type.create(y,h.content)}l.push(h)}}a.push(e.child(s).copy(i.from(l)))}var b=this.isColSelection()&&this.isRowSelection()?e:a;return new d(i.from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=d.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],s=a.$from,l=a.$to,c=t.mapping.slice(r);t.replace(c.map(s.pos),c.map(l.pos),i?d.empty:n)}var u=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);u&&t.setSelection(u)},t.prototype.replaceWith=function(e,t){this.replace(e,new d(i.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=Ka.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=Ka.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=Ka.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=Ka.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new ps(this.$anchorCell.pos,this.$headCell.pos)},t}(et);us.prototype.visible=!1,et.jsonID("cell",us);var ps=function(e,t){this.anchor=e,this.head=t};function ds(e){if(!(e.selection instanceof us))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(va.node(n,n+e.nodeSize,{class:"selectedCell"}))})),ka.create(e.doc,t)}function fs(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,a=o.type.spec.tableRole,s=o.type.schema,l=[];if("row"==a)for(var c=0;c<t.childCount;c++){var u=t.child(c).content,p=c?0:Math.max(0,n-1),f=c<t.childCount-1?0:Math.max(0,r-1);(p||f)&&(u=hs(Ga(s).row,new d(u,p,f)).content),l.push(u)}else{if("cell"!=a&&"header_cell"!=a)return null;l.push(n||r?hs(Ga(s).row,new d(t,n,r)).content:t)}return function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=t[r],a=o.childCount-1;a>=0;a--)for(var s=o.child(a).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var p=0,d=0;d<n.length;d++)p=Math.max(p,n[d]);for(var f=0;f<n.length;f++)if(f>=t.length&&t.push(i.empty),n[f]<p){for(var h=Ga(e).cell.createAndFill(),m=[],v=n[f];v<p;v++)m.push(h);t[f]=t[f].append(i.from(m))}return{height:t.length,width:p,rows:t}}(s,l)}function hs(e,t){var n=e.createAndFill();return new ke(n).replace(0,n.content.size,t).doc}function ms(e,t,n){var r=e.width,o=e.height,a=e.rows;if(r!=t){for(var s=[],l=[],c=0;c<a.length;c++){for(var u=a[c],p=[],d=s[c]||0,f=0;d<t;f++){var h=u.child(f%u.childCount);d+h.attrs.colspan>t&&(h=h.type.create(ss(h.attrs,h.attrs.colspan,d+h.attrs.colspan-t),h.content)),p.push(h),d+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)s[c+m]=(s[c+m]||0)+h.attrs.colspan}l.push(i.from(p))}a=l,r=t}if(o!=n){for(var v=[],g=0,y=0;g<n;g++,y++){for(var b=[],k=a[y%o],w=0;w<k.childCount;w++){var O=k.child(w);g+O.attrs.rowspan>n&&(O=O.type.create(as(O.attrs,"rowspan",Math.max(1,n-O.attrs.rowspan)),O.content)),b.push(O)}v.push(i.from(b))}a=v,o=n}return{width:r,height:o,rows:a}}function vs(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var l=!1,c=o;c<i;c++){var u=a*t.width+c,p=t.map[u];if(t.map[u-t.width]==p){l=!0;var d=n.nodeAt(p),f=t.findCell(p),h=f.top,m=f.left;e.setNodeMarkup(e.mapping.slice(s).map(p+r),null,as(d.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),d.type.createAndFill(as(d.attrs,"rowspan",h+d.attrs.rowspan-a))),c+=d.attrs.colspan-1}}return l}function gs(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var l=!1,c=o;c<i;c++){var u=c*t.width+a,p=t.map[u];if(t.map[u-1]==p){l=!0;var d=n.nodeAt(p),f=t.colCount(p),h=e.mapping.slice(s).map(p+r);e.setNodeMarkup(h,null,ss(d.attrs,a-f,d.attrs.colspan-(a-f))),e.insert(h+d.nodeSize,d.type.createAndFill(ss(d.attrs,0,a-f))),c+=d.attrs.rowspan-1}}return l}function ys(e,t,n,r,o){var a=n?e.doc.nodeAt(n-1):e.doc,s=Ka.get(a),l=r.top,c=r.left,u=c+o.width,p=l+o.height,f=e.tr,h=0;function m(){a=n?f.doc.nodeAt(n-1):f.doc,s=Ka.get(a),h=f.mapping.maps.length}(function(e,t,n,r,o,a,s){var l,c,u=Ga(e.doc.type.schema);if(o>t.width)for(var p=0,d=0;p<t.height;p++){var f=n.child(p);d+=f.nodeSize;var h=[],m=void 0;m=null==f.lastChild||f.lastChild.type==u.cell?l||(l=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(var v=t.width;v<o;v++)h.push(m);e.insert(e.mapping.slice(s).map(d-1+r),h)}if(a>t.height){for(var g=[],y=0,b=(t.height-1)*t.width;y<Math.max(t.width,o);y++){var k=!(y>=t.width)&&n.nodeAt(t.map[b+y]).type==u.header_cell;g.push(k?c||(c=u.header_cell.createAndFill()):l||(l=u.cell.createAndFill()))}for(var w=u.row.create(null,i.from(g)),O=[],C=t.height;C<a;C++)O.push(w);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),O)}return!(!l&&!c)})(f,s,a,n,u,p,h)&&m(),vs(f,s,a,n,c,u,l,h)&&m(),vs(f,s,a,n,c,u,p,h)&&m(),gs(f,s,a,n,l,p,c,h)&&m(),gs(f,s,a,n,l,p,u,h)&&m();for(var v=l;v<p;v++){var g=s.positionAt(v,c,a),y=s.positionAt(v,u,a);f.replace(f.mapping.slice(h).map(g+n),f.mapping.slice(h).map(y+n),new d(o.rows[v-l],0,0))}m(),f.setSelection(new us(f.doc.resolve(n+s.positionAt(l,c,a)),f.doc.resolve(n+s.positionAt(p-1,u-1,a)))),t(f)}ps.prototype.map=function(e){return new ps(e.map(this.anchor),e.map(this.head))},ps.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&ts(t,n)?new us(t,n):et.near(n,1)};var bs=Gr({ArrowLeft:ws("horiz",-1),ArrowRight:ws("horiz",1),ArrowUp:ws("vert",-1),ArrowDown:ws("vert",1),"Shift-ArrowLeft":Os("horiz",-1),"Shift-ArrowRight":Os("horiz",1),"Shift-ArrowUp":Os("vert",-1),"Shift-ArrowDown":Os("vert",1),Backspace:Cs,"Mod-Backspace":Cs,Delete:Cs,"Mod-Delete":Cs});function ks(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ws(e,t){return function(n,r,o){var i=n.selection;if(i instanceof us)return ks(n,r,et.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;var a=Is(o,e,t);if(null==a)return!1;if("horiz"==e)return ks(n,r,et.near(n.doc.resolve(i.head+t),t));var s,l=n.doc.resolve(a),c=is(l,e,t);return s=c?et.near(c,1):t<0?et.near(n.doc.resolve(l.before(-1)),-1):et.near(n.doc.resolve(l.after(-1)),1),ks(n,r,s)}}function Os(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof us)){var a=Is(o,e,t);if(null==a)return!1;i=new us(n.doc.resolve(a))}var s=is(i.$headCell,e,t);return!!s&&ks(n,r,new us(i.$anchorCell,s))}}function Cs(e,t){var n=e.selection;if(!(n instanceof us))return!1;if(t){var r=e.tr,o=Ga(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new d(o,0,0))})),r.docChanged&&t(r)}return!0}function xs(e,t){var n=Xa(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new us(n))),!0)}function Ss(e,t,n){if(!Ya(e.state))return!1;var r=fs(n),o=e.state.selection;if(o instanceof us){r||(r={width:1,height:1,rows:[i.from(hs(Ga(e.state.schema).cell,n))]});var a=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=Ka.get(a).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=ms(r,l.right-l.left,l.bottom-l.top),ys(e.state,e.dispatch,s,l,r),!0}if(r){var c=Za(e.state),u=c.start(-1);return ys(e.state,e.dispatch,u,Ka.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function Es(e,t){if(!t.ctrlKey&&!t.metaKey){var n,r=_s(e,t.target);if(t.shiftKey&&e.state.selection instanceof us)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=Xa(e.state.selection.$anchor))&&Ns(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function o(t,n){var r=Ns(e,n),o=null==Ja.getState(e.state);if(!r||!ts(t,r)){if(!o)return;r=t}var i=new us(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(Ja,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=Ja.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Ja,-1))}function a(n){var a,s=Ja.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if(_s(e,n.target)!=r&&!(a=Ns(e,t)))return i();a&&o(a,n)}}function Is(e,t,n){if(!(e.state.selection instanceof rt))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){var a=r.before(o),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?a:null}}return null}function _s(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function Ns(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Xa(e.state.doc.resolve(n.pos)):null}var Ts=new Ot("fix-tables");function Ps(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){var o=Ka.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i,a,s=[],l=0;l<o.height;l++)s.push(0);for(var c=0;c<o.problems.length;c++){var u=o.problems[c];if("collision"==u.type){for(var p=t.nodeAt(u.pos),d=0;d<p.attrs.rowspan;d++)s[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,ss(p.attrs,p.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,as(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var h=t.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,as(h.attrs,"colwidth",u.colwidth))}}for(var m=0;m<s.length;m++)s[m]&&(null==i&&(i=m),a=m);for(var v=0,g=n+1;v<o.height;v++){var y=t.child(v),b=g+y.nodeSize,k=s[v];if(k>0){var w="cell";y.firstChild&&(w=y.firstChild.type.spec.tableRole);for(var O=[],C=0;C<k;C++)O.push(Ga(e.schema)[w].createAndFill());var x=0!=v&&i!=v-1||a!=v?b-1:g+1;r.insert(r.mapping.map(x),O)}g=b}return r.setMeta(Ts,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&function e(t,n,r,o){var i=t.childCount,a=n.childCount;e:for(var s=0,l=0;s<a;s++){for(var c=n.child(s),u=l,p=Math.min(i,s+3);u<p;u++)if(t.child(u)==c){l=u+1,r+=c.nodeSize;continue e}o(c,r),l<i&&t.child(l).sameMarkup(c)?e(t.child(l),c,r+1,o):c.nodesBetween(0,c.content.size,o,r+1),r+=c.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Ds(e){var t,n=e.selection,r=Za(e),o=r.node(-1),i=r.start(-1),a=Ka.get(o);return(t=n instanceof us?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i)).tableStart=i,t.map=a,t.table=o,t}function Ms(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;cs(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=i.nodeAt(c);e.setNodeMarkup(e.mapping.map(o+c),null,ls(u.attrs,n-r.colCount(c))),s+=u.attrs.rowspan-1}else{var p=null==a?Ga(i.type.schema).cell:i.nodeAt(r.map[l+a]).type,d=r.positionAt(s,n,i);e.insert(e.mapping.map(o+d),p.createAndFill())}}return e}function js(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e);t(Ms(e.tr,n,n.left))}return!0}function Rs(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e);t(Ms(e.tr,n,n.right))}return!0}function As(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],u=o.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(a).map(i+c),null,ss(u.attrs,n-r.colCount(c)));else{var p=e.mapping.slice(a).map(i+c);e.delete(p,p+u.nodeSize)}s+=u.attrs.rowspan}}function Fs(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;As(r,n,o),o!=n.left;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ka.get(n.table);t(r)}return!0}function Ls(e,t,n){for(var r=Ga(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function Bs(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=[],c=n>0?-1:0;Ls(r,i,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,p=r.width*n;u<r.width;u++,p++)if(n>0&&n<r.height&&r.map[p]==r.map[p-r.width]){var d=r.map[p],f=i.nodeAt(d).attrs;e.setNodeMarkup(o+d,null,as(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var h=null==c?Ga(i.type.schema).cell:i.nodeAt(r.map[p+c*r.width]).type;l.push(h.createAndFill())}return e.insert(a,Ga(i.type.schema).row.create(null,l)),e}function zs(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e);t(Bs(e.tr,n,n.top))}return!0}function Vs(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e);t(Bs(e.tr,n,n.bottom))}return!0}function Hs(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=a+o.child(n).nodeSize,c=e.mapping.maps.length;e.delete(a+i,l+i);for(var u=0,p=n*r.width;u<r.width;u++,p++){var d=r.map[p];if(n>0&&d==r.map[p-r.width]){var f=o.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(c).map(d+i),null,as(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&d==r.map[p+r.width]){var h=o.nodeAt(d),m=h.type.create(as(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),v=r.positionAt(n+1,u,o);e.insert(e.mapping.slice(c).map(i+v),m),u+=h.attrs.colspan-1}}}function Ks(e,t){if(!Ya(e))return!1;if(t){var n=Ds(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;Hs(r,n,o),o!=n.top;o--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Ka.get(n.table);t(r)}return!0}function Ws(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function $s(e,t){var n=e.selection;if(!(n instanceof us)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=Ds(e),o=r.map;if(function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,l=i+(t.right-t.left-1),c=t.top;c<t.bottom;c++){if(t.left>0&&o[a]==o[a-1]||t.right<n&&o[l]==o[l+1])return!0;a+=n,l+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}(o,r))return!1;if(t){for(var a,s,l=e.tr,c={},u=i.empty,p=r.top;p<r.bottom;p++)for(var d=r.left;d<r.right;d++){var f=o.map[p*o.width+d],h=r.table.nodeAt(f);if(!c[f])if(c[f]=!0,null==a)a=f,s=h;else{Ws(h)||(u=u.append(h.content));var m=l.mapping.map(f+r.tableStart);l.delete(m,m+h.nodeSize)}}if(l.setNodeMarkup(a+r.tableStart,null,as(ls(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=a+1+s.content.size,g=Ws(s)?a+1:v;l.replaceWith(g+r.tableStart,v+r.tableStart,u)}l.setSelection(new us(l.doc.resolve(a+r.tableStart))),t(l)}return!0}function qs(e,t){var n=Ga(e.schema);return Us((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}function Us(e){return function(t,n){var r,o,i=t.selection;if(i instanceof us){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;o=Xa(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=as(a,"rowspan",1)),a.colspan>1&&(a=as(a,"colspan",1));for(var c,u=Ds(t),p=t.tr,d=0;d<u.right-u.left;d++)s.push(l?as(a,"colwidth",l&&l[d]?[l[d]]:null):a);for(var f=u.top;f<u.bottom;f++){var h=u.map.positionAt(f,u.left,u.table);f==u.top&&(h+=r.nodeSize);for(var m=u.left,v=0;m<u.right;m++,v++)m==u.left&&f==u.top||p.insert(c=p.mapping.map(h+u.tableStart,1),e({node:r,row:f,col:m}).createAndFill(s[v]))}p.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),s[0]),i instanceof us&&p.setSelection(new us(p.doc.resolve(i.$anchorCell.pos),c&&p.doc.resolve(c))),n(p)}return!0}}function Gs(e,t){return function(n,r){if(!Ya(n))return!1;var o=Za(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof us?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,as(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,as(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function Js(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function Xs(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!Ya(t))return!1;if(n){for(var r=Ga(t.schema),o=Ds(t),i=t.tr,a=o.map.cellsInRect("column"==e?new Ha(o.left,0,o.right,o.map.height):"row"==e?new Ha(0,o.top,o.map.width,o.bottom):o),s=a.map((function(e){return o.table.nodeAt(e)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(0==i.steps.length)for(var c=0;c<a.length;c++)i.setNodeMarkup(o.tableStart+a[c],r.header_cell,s[c].attrs);n(i)}return!0}}(e):function(t,n){if(!Ya(t))return!1;if(n){var r=Ga(t.schema),o=Ds(t),i=t.tr,a=Js("row",o,r),s=Js("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?new Ha(0,l,1,o.map.height):"row"==e?new Ha(l,0,o.map.width,1):o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}var Ys=Xs("row",{useDeprecatedLogic:!0}),Zs=Xs("column",{useDeprecatedLogic:!0}),Qs=Xs("cell",{useDeprecatedLogic:!0});function el(e){return function(t,n){if(!Ya(t))return!1;var r=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),l=e.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}(Za(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(rt.between(o,es(o))).scrollIntoView())}return!0}}}function tl(e,t){for(var n=e.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}var nl=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),rl(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function rl(e,t,n,r,o,i){for(var a=0,s=!0,l=t.firstChild,c=e.firstChild,u=0,p=0;u<c.childCount;u++)for(var d=c.child(u).attrs,f=d.colspan,h=d.colwidth,m=0;m<f;m++,p++){var v=o==p?i:h&&h[m],g=v?v+"px":"";a+=v||r,v||(s=!1),l?(l.style.width!=g&&(l.style.width=g),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=g}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}nl.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,rl(e,this.colgroup,this.table,this.cellMinWidth),!0)},nl.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var ol=new Ot("tableColumnResizing");function il(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=nl);var o=e.lastColumnResizable;return void 0===o&&(o=!0),new bt({key:ol,state:{init:function(e,t){return this.spec.props.nodeViews[Ga(t.schema).table.name]=function(e,t){return new r(e,n,t)},new al(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return ol.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,r,o){var i=ol.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;t.clientX-c<=n?s=sl(e,t,"left"):u-t.clientX<=n&&(s=sl(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var p=e.state.doc.resolve(s),d=p.node(-1),f=Ka.get(d),h=p.start(-1);if(f.colCount(p.pos-h)+p.nodeAfter.attrs.colspan-1==f.width-1)return}cl(e,s)}}}(e,n,t,0,o)},mouseleave:function(e){!function(e){var t=ol.getState(e.state);t.activeHandle>-1&&!t.dragging&&cl(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var r=ol.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,l=r;if(o)for(var c=0;c<r;c++)o[c]&&(s-=o[c],l--);return s/l}(e,r.activeHandle,o.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=ol.getState(e.state);r.dragging&&(!function(e,t,n){for(var r=e.state.doc.resolve(t),o=r.node(-1),i=Ka.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<i.height;c++){var u=c*i.width+s;if(!c||i.map[u]!=i.map[u-i.width]){var p=i.map[u],d=o.nodeAt(p).attrs,f=1==d.colspan?0:s-i.colCount(p);if(!d.colwidth||d.colwidth[f]!=n){var h=d.colwidth?d.colwidth.slice():ul(d.colspan);h[f]=n,l.setNodeMarkup(a+p,null,as(d,"colwidth",h))}}}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,ll(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(ol,{setDragging:null})))}function s(t){if(!t.which)return a(t);var r=ol.getState(e.state),o=ll(r.dragging,t,n);!function(e,t,n,r){var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=Ka.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,l=e.domAtPos(o.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;rl(i,l.firstChild,l,r,s,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(ol,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=ol.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],r=e.doc.resolve(t),o=r.node(-1),i=Ka.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var c=s+l*i.width-1;if(!(s!=i.width&&i.map[c]==i.map[c+1]||0!=l&&i.map[c-1]==i.map[c-1-i.width])){var u=i.map[c],p=a+u+o.nodeAt(u).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(va.widget(p,d))}}return ka.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})}var al=function(e,t){this.activeHandle=e,this.dragging=t};function sl(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var o=r.pos,i=Xa(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=Ka.get(i.node(-1)),s=i.start(-1),l=a.map.indexOf(i.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function ll(e,t,n){var r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function cl(e,t){e.dispatch(e.state.tr.setMeta(ol,{setHandle:t}))}function ul(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function pl(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new bt({key:Ja,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(Ja);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:ds,handleDOMEvents:{mousedown:Es},createSelectionBetween:function(e){if(null!=Ja.getState(e.state))return e.state.selection},handleTripleClick:xs,handleKeyDown:bs,handlePaste:Ss},appendTransaction:function(e,n,r){return function(e,t,n){var r,o,i=(t||e).selection,a=(t||e).doc;if(i instanceof it&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=us.create(a,i.from);else if("row"==o){var s=a.resolve(i.from+1);r=us.rowSelection(s,s)}else if(!n){var l=Ka.get(i.node),c=i.from+1,u=c+l.map[l.width*l.height-1];r=us.create(a,c+1,u)}}else i instanceof rt&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(i)?r=rt.create(a,i.from):i instanceof rt&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var l=o.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===o.parentOffset}(i)&&(r=rt.create(a,i.$from.start(),i.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}(r,Ps(r,n),t)}})}al.prototype.apply=function(e){var t=this,n=e.getMeta(ol);if(n&&null!=n.setHandle)return new al(n.setHandle,null);if(n&&void 0!==n.setDragging)return new al(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);Qa(e.doc.resolve(r))||(r=null),t=new al(r,t.dragging)}return t};var dl=["blockquote",0],fl=["hr"],hl=["pre",["code",0]],ml=["ol",0],vl=["ul",0],gl=["li",0],yl=function(e){for(var t,n={},r=e.attributes,o=0;o<r.length;o++)n[(t=r[o]).name]=t.value;return n},bl=function(e,t){for(var n in e)if(n&&null!==e[n]&&n!==t)return!0;return!1},kl=function(e,t){var n={};for(var r in e)r&&null!==e[r]&&r!==t&&(n[r]=e[r]);return n},wl=function(e){var t;return(t={})[e]={name:e,inclusive:!0,parseDOM:[{tag:e}],toDOM:function(){return[e,0]}},t},Ol=_t({link:{attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}},{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:yl}],toDOM:function(e){return["a",kl(e.attrs),0]}}},wl("strong"),wl("b"),wl("em"),wl("i"),wl("u"),wl("del"),wl("sub"),wl("sup"),wl("code"),{style:{attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"span",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["span",kl(e.attrs),0]:["span",0]}}}),Cl=_t({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"p",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["p",kl(e.attrs),0]:["p",0]}},div:{content:"block*",group:"block",attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"div",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["div",kl(e.attrs),0]:["div",0]}},blockquote:{attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["blockquote",kl(e.attrs),0]:dl}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return fl}},heading:{attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(e){return _t({},yl(e),{level:1})}},{tag:"h2",getAttrs:function(e){return _t({},yl(e),{level:2})}},{tag:"h3",getAttrs:function(e){return _t({},yl(e),{level:3})}},{tag:"h4",getAttrs:function(e){return _t({},yl(e),{level:4})}},{tag:"h5",getAttrs:function(e){return _t({},yl(e),{level:5})}},{tag:"h6",getAttrs:function(e){return _t({},yl(e),{level:6})}}],toDOM:function(e){return bl(e.attrs,"level")?["h"+e.attrs.level,kl(e.attrs,"level"),0]:["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return hl}},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:_t({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["img",kl(e.attrs)]:["img"]}},hard_break:{inline:!0,attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["br",kl(e.attrs)]:["br"]}},ordered_list:{content:"list_item+",group:"block",attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}},{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:function(e){return _t({},yl(e),{order:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1})}}],toDOM:function(e){return 1===e.attrs.order?bl(e.attrs,"order")?["ol",kl(e.attrs,"order"),0]:ml:["ol",_t({},kl(e.attrs,"order"),{start:e.attrs.order}),0]}},bullet_list:{content:"list_item+",group:"block",attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"ul",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["ul",kl(e.attrs),0]:vl}},list_item:{content:"(paragraph | heading) block*",attrs:_t({},{style:{default:null},class:{default:null},id:{default:null}}),parseDOM:[{tag:"li",getAttrs:yl}],toDOM:function(e){return bl(e.attrs)?["li",kl(e.attrs),0]:gl},defining:!0}},Ua({tableGroup:"block",cellContent:"block+",cellAttributes:{}})),xl=function(){};xl.prototype.append=function(e){return e.length?(e=xl.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},xl.prototype.prepend=function(e){return e.length?xl.from(e).append(this):this},xl.prototype.appendInner=function(e){return new El(this,e)},xl.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?xl.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},xl.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},xl.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},xl.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},xl.from=function(e){return e instanceof xl?e:e&&e.length?new Sl(e):xl.empty};var Sl=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(xl);xl.empty=new Sl([]);var El=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(xl),Il=xl,_l=function(e,t){this.items=e,this.eventCount=t};_l.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,s,l=e.tr,c=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void u.push(e);if(r){u.push(new Nl(e.map));var p,d=e.step.map(r.slice(o));d&&l.maybeStep(d).doc&&(p=l.mapping.maps[l.mapping.maps.length-1],c.push(new Nl(p,null,null,c.length+u.length))),o--,p&&r.appendMap(p,o)}else l.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,s=new _l(n.items.slice(0,i).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:a}},_l.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,l=0;l<e.steps.length;l++){var c,u=e.steps[l].invert(e.docs[l]),p=new Nl(e.mapping.maps[l],u,t);(c=s&&s.merge(p))&&(p=c,l?o.pop():a=a.slice(0,a.length-1)),o.push(p),t&&(i++,t=null),r||(s=p)}var d,f,h,m=i-n.depth;return m>Pl&&(f=m,(d=a).forEach((function(e,t){if(e.selection&&0==f--)return h=t,!1})),a=d.slice(h),i-=m),new _l(a.append(o),i)},_l.prototype.remapping=function(e,t){var n=new ye;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},_l.prototype.addMaps=function(e){return 0==this.eventCount?this:new _l(this.items.append(e.map((function(e){return new Nl(e)}))),this.eventCount)},_l.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),r);var s=t;this.items.forEach((function(t){var r=o.getMirror(--s);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(t.step){var c=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(s+1,r));u&&a++,n.push(new Nl(l,c,u))}else n.push(new Nl(l))}}),r);for(var l=[],c=t;c<i;c++)l.push(new Nl(o.maps[c]));var u=this.items.slice(0,r).append(l).append(n),p=new _l(u,a);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},_l.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},_l.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=e)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var c=i.selection&&i.selection.map(t.slice(n));c&&o++;var u,p=new Nl(l.invert(),s,c),d=r.length-1;(u=r.length&&r[d].merge(p))?r[d]=u:r.push(p)}}else i.map&&n--}),this.items.length,0),new _l(Il.from(r.reverse()),o)},_l.empty=new _l(Il.empty,0);var Nl=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};Nl.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new Nl(t.getMap().invert(),t,this.selection)}};var Tl=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},Pl=20;function Dl(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function Ml(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function jl(e,t,n,r){var o=Fl(t),i=Bl.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),l=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),c=new Tl(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(Bl,{redo:r,historyState:c}).scrollIntoView())}}var Rl=!1,Al=null;function Fl(e){var t=e.plugins;if(Al!=t){Rl=!1,Al=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Rl=!0;break}}return Rl}function Ll(e){return e.setMeta(zl,!0)}var Bl=new Ot("history"),zl=new Ot("closeHistory");function Vl(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new bt({key:Bl,state:{init:function(){return new Tl(_l.empty,_l.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(Bl);if(i)return i.historyState;n.getMeta(zl)&&(e=new Tl(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(Bl))return a.getMeta(Bl).redo?new Tl(e.done.addTransform(n,null,r,Fl(t)),e.undone,Dl(n.mapping.maps[n.steps.length-1]),e.prevTime):new Tl(e.done,e.undone.addTransform(n,null,r,Fl(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Tl(e.done.rebased(n,o),e.undone.rebased(n,o),Ml(e.prevRanges,n.mapping),e.prevTime):new Tl(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Ml(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=a?Ml(e.prevRanges,n.mapping):Dl(n.mapping.maps[n.steps.length-1]);return new Tl(e.done.addTransform(n,s?t.selection.getBookmark():null,r,Fl(t)),_l.empty,l,n.time)}(n,r,t,e)}},config:e})}function Hl(e,t){var n=Bl.getState(e);return!(!n||0==n.done.eventCount)&&(t&&jl(n,e,t,!1),!0)}function Kl(e,t){var n=Bl.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&jl(n,e,t,!0),!0)}function Wl(e){var t=Bl.getState(e);return t?t.done.eventCount:0}function $l(e){var t=Bl.getState(e);return t?t.undone.eventCount:0}var ql=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function Ul(e){var t=e.rules,n=new bt({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return Gl(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&Gl(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n}function Gl(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"")+r,c=0;c<o.length;c++){var u=o[c].match.exec(l),p=u&&o[c].handler(a,u,t-(u[0].length-r.length),n);if(p)return e.dispatch(p.setMeta(i,{transform:p,from:t,to:n,text:r})),!0}return!1}function Jl(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(i.text){var c=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,c))}else a.delete(i.from,i.to);t(a)}return!0}}return!1}var Xl=new ql(/--$/,""),Yl=new ql(/\.\.\.$/,""),Zl=new ql(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),Ql=new ql(/"$/,""),ec=new ql(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),tc=new ql(/'$/,""),nc=[Zl,Ql,ec,tc];function rc(e,t,n,r){return new ql(e,(function(e,o,i,a){var s=n instanceof Function?n(o):n,l=e.tr.delete(i,a),c=l.doc.resolve(i).blockRange(),u=c&&Pe(c,t,s);if(!u)return null;l.wrap(c,u);var p=l.doc.resolve(i-1).nodeBefore;return p&&p.type==t&&je(l.doc,i-1)&&(!r||r(o,p))&&l.join(i-1),l}))}function oc(e,t,n){return new ql(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))}var ic={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},ac={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},sc={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},lc={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},cc={mark:"sub"},uc={mark:"sup"},pc={mark:"link"},dc="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),fc=function(e){var t={};if(t["Mod-z"]=Hl,t["Shift-Mod-z"]=Kl,t.Backspace=hr(Jl,Kn,Wn,qn),t.Enter=hr(er,rr,or,ar),dc||(t["Mod-y"]=Kl),e.marks.strong&&(t["Mod-b"]=en(ic)),e.marks.em&&(t["Mod-i"]=en(ac)),e.marks.underline&&(t["Mod-u"]=en(sc)),e.nodes.hard_break){var n=e.nodes.hard_break,r=hr(nr,(function(e,t){return t(e.tr.replaceSelectionWith(n.create()).scrollIntoView()),!0}));t["Shift-Enter"]=r}return t},hc=function(e){var t,n={};return e.nodes.list_item&&(n.Enter=(t=e.nodes.list_item,function(e,n){return _n(t)(e,(function(t){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&t.ensureMarks(r),n(t)}))})),n},mc=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,vc=function(e){return/^MsoListParagraph/.test(e.className)},gc=function(e){var t=e.innerHTML;return t=(t=t.replace(/<!--(.|\s)*?-->/gi,"")).replace(/<\/?[^>]+?\/?>/gm,"")},yc=function(e,t){var n=document.createElement(e);return n.style.listStyleType=t,n},bc=function(e){var t=null;return/^\d/.test(e)||(t=(/^[a-z]/.test(e)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(e)?"roman":"alpha")),t},kc=function(e,t){var n=[];Array.from(e).forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var r=e;r.getAttribute("datalist")?(n.push(e),t.add(n)):vc(r)&&n.length?n.push(e):(n=[],"DIV"===r.nodeName?kc(r.children,t):"TABLE"===r.nodeName&&Array.from(r.querySelectorAll("td,th")).forEach((function(e){kc(e.children,t)})))}}))},wc=function(e){var t,n=e.innerHTML,r=function(e){return e.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};return n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,""),/^[\u2022\u00b7\u00a7\u00d8ovn][\u00a0 ]+/.test(n)?{tag:"ul",style:(t=r(gc(e)),/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(t)?null:/^o/.test(t)?"circle":"square")}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:bc(r(gc(e)))}:void 0},Oc=function(e){var t,n=e.nodeName.toLowerCase();e.firstChild&&e.firstChild.nodeType===Node.COMMENT_NODE&&e.removeChild(e.firstChild),1===e.childNodes.length?t=e.firstChild.nodeType===Node.TEXT_NODE?gc(e):e.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(e.removeChild(e.firstChild),3===e.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(e.firstChild.nodeValue)&&e.removeChild(e.firstChild),/^(&nbsp;|\s)+$/i.test(e.firstChild.innerHTML)&&e.removeChild(e.firstChild),t="p"!==n?"<"+n+">"+e.innerHTML+"</"+n+">":e.innerHTML),e.parentNode.removeChild(e);var r=document.createElement("li");return r.innerHTML=t,r},Cc=function(e){var t=document.createElement("div");t.innerHTML=function(e){return e=e.replace(mc,(function(e,t,n){return'datalist="'+t+'" datalevel="'+n+'" '+e}))}(e);var n=new Set;return kc(t.children,n),n.forEach((function(e){return function(e){var t,n,r,o,i,a,s,l,c,u,p,d,f,h=-1,m={};for(l=0;l<e.length;l++){var v=(f={datalist:(c=e[l]).getAttribute("datalist"),datalevel:c.getAttribute("datalevel")}).datalist,g=wc(c);if(u=g&&g.tag){if(p=f.datalevel||parseFloat(c.style.marginLeft||0),f.datalevel||c.style.marginLeft){var y=u+v;m[p]||(m[p]={}),(!n||n<0)&&(n=p,r=v,o=(s=e.filter((function(e){return e.getAttribute("datalist")===String(r)})))[s.length-1],a=yc(u,g&&g.style),c.parentNode.insertBefore(a,c),h=p,m[p][y]=a),i=o===c,d=m[p][y],(p>h||!d)&&(d=yc(u,g&&g.style),m[p][y]=d,t.appendChild(d)),t=Oc(c),d.appendChild(t),i?n=h=-1:h=p}}else!t||i&&!vc(c)||(c.style.marginLeft&&(c.style.marginLeft=""),c.style.marginLeft&&(c.style.margin=""),t.appendChild(c))}}(e)})),t.innerHTML},xc=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")},Sc=function(e){return e.replace(/<!--[\s\S]+?-->/g,"")},Ec=function(e,t){return e.replace(new RegExp("<\\/?("+t+")(?:\\s[^>]*?)?>","gi"),"")},Ic=function(e){e.ownerElement&&e.ownerElement.removeAttribute(e.name)},_c=function(e){/^Mso/.test(e.value)&&Ic(e)},Nc=/\s*;\s*/,Tc=/\s*:\s*/,Pc=function(e){var t,n,r=e.value.split(Nc).filter((function(e){return Boolean(e)})),o=e.ownerElement.style,i="";r.forEach((function(e){var r;r=e.split(Tc),t=r[0],n=r[1],void 0!==o[t]&&(i+=t+": "+n+"; ")})),(i=i.trim())?e.value=i:Ic(e)},Dc=function(e,t){var n=e;if(t.convertMsLists&&(n=Cc(n)),t.stripTags&&(n=Ec(n,t.stripTags)),t.attributes){var r=document.createElement("div");r.innerHTML=n,Array.from(r.querySelectorAll("*")).forEach((function(e){return function(e,t){if(e.nodeType===Node.ELEMENT_NODE){for(var n=e.attributes.length-1;n>=0;n--){var r=e.attributes[n];t[r.name]?t[r.name](r):t["*"]&&t["*"](r)}"SPAN"===e.nodeName&&0===e.attributes.length&&function(e){var t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}}(e)}}(e,t.attributes)})),n=r.innerHTML}return n};function Mc(e){for(var t=e.length,n=new Array(t/2),r=0;r<t;r+=2)n[r]=String.fromCharCode(parseInt(e.substring(r,r+2),16));return btoa(n.join(""))}var jc=/<img\s[^>]*?src=(?:'|")file:\/[^'"]+(?:'|")[^>]*>/gi,Rc=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,Ac=new RegExp("(?:("+Rc.source+"))([\\da-fA-F\\s]+)\\}","g"),Fc=/[^\da-fA-F]/g,Lc=/file:\/[^'"]+\.(jpg|png|gif)/i,Bc=/\\(png|jpeg)blip\\/,zc=function(e,t){var n=e.match(jc);if(!n||-1===t.types.indexOf("text/rtf"))return e;var r=t.getData("text/rtf"),o=[],i=r.match(Ac);if(!r||!i)return e;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=Bc.exec(l);if(c){var u=l.replace(Rc,"").replace(Fc,"");o.push("data:image/"+c[1]+";base64,"+Mc(u))}}return n.length!==o.length?e:e.replace(jc,(function(e){var t=o.shift()||"";return e.replace(Lc,t)}))},Vc=function(e,t,n){for(var r,o=e.table,i=e.table_row,a=e.table_cell,s=[],l=0;l<t+1;l++){r=[];for(var c=0;c<n+1;c++)r.push(a.createAndFill());s.push(i.createAndFill(void 0,r))}return o.createAndFill(void 0,s)},Hc=function(e,t,n,r,o){var i,a,s,l,c,u,p=[],d=[],f=t.matchCase,h=t.matchWord,m=t.useRegExp,v=t.text;if(m&&(/^\\$/.test(v)||/[^\\]\\$/.test(v))&&(v=v.substring(0,v.length-1)),!v)return p;var g=f?"g":"gi",y=m?new RegExp(v,g):Jc(v,g);return e.nodesBetween(n,r,(function(t,f,m){if(o(p))return!1;t.inlineContent&&f+t.content.size>=n&&(d.length=0,t.nodesBetween(0,t.content.size,(function(t,m,v,g){if(o(p))return!1;var b=1+f+m;if(t.isText&&b+t.nodeSize>=n){if(c=t.text||"",u=v.childCount-1>=g+1&&v.child(g+1),d.push(n<=b?{text:c,start:b}:{text:c.slice(n-b),start:n}),u&&u.isText)return;for(a=d.map((function(e){return e.text})).join(""),i=y.exec(a);null!==i&&(s=d[0].start+i.index,l=s+i[0].length,n<=s&&r>=l&&Gc(i,h)&&p.push(rt.create(e,s,l)),!o(p));)i=y.exec(a)}else d.length=0})))})),p},Kc=function(e,t){var n=t.backward,r=t.matchCyclic,o=Nt(t,["backward","matchCyclic"]),i=n?function(){return!1}:function(e){return e.length>0},a=e.doc,s=e.selection,l=[];return n?!(l=Hc(a,o,0,s.from,i)).length&&r&&(l=Hc(a,o,s.from,a.content.size,i)):!(l=Hc(a,o,s.to,a.content.size,i)).length&&r&&(l=Hc(a,o,0,s.to,i)),l.length?l[l.length-1]:null},Wc=function(e,t){return Hc(e,t,0,e.content.size,(function(){return!1}))},$c=function(e,t,n){var r=e.from,o=e.to;return n.insertText(t,r,o).setSelection(rt.create(n.doc,r,r+t.length)),n},qc=function(e,t,n){var r=Wc(e.doc,n);if(0===r.length)return null;for(var o=e.tr,i=r.length-1;i>=0;i--)o.insertText(t,r[i].from,r[i].to);return o},Uc=/^[\s0-9~`!@#$%\^&*\(\)_\-=+\\|\[\]{};:'"\?/.,<>]?$/,Gc=function(e,t){if(t){if(!0===t){var n=e.input,r=n.charAt(e.index-1),o=n.charAt(e.index+e[0].length);return Uc.test(r)&&Uc.test(o)}return t(e)}return!0},Jc=function(e,t){var n=e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d").replace(/\s/g,"\\s");return new RegExp(n,t)};function Xc(e){var t={class:"k-placeholder","data-placeholder":e};return new bt({key:new Ot("placeholder"),props:{decorations:function(e){var n=e.doc,r=n.content.firstChild;if(!(0===n.childCount||1===n.childCount&&r.inlineContent&&0===r.childCount))return ka.empty;var o=[];return n.descendants((function(e,n){o.push(va.node(n,n+e.nodeSize,t))})),ka.create(n,o)}}})}var Yc=/\s+/g,Zc=/text-align/,Qc=function(){return new bt({key:new Ot("spaces-fix"),props:{decorations:function(e){var t,n,r,o,i=[],a=e.doc;return a.nodesBetween(0,a.content.size,(function(e,a,s){if(e.type.isText&&function(e){return Zc.test(e&&e.attrs&&e.attrs.style||"")}(s))for(n=Yc.exec(e.text||"");null!==n;){if(t=a+n.index,r=n[0].length,n.index+r<n.input.length)for(o=0;o<=r-1;o+=2)i.push(va.inline(t+o,t+o+1,{style:"white-space: normal"}));n=Yc.exec(e.text||"")}})),ka.create(a,i)}}})},eu=new Ot("highlight");function tu(e){return void 0===e&&(e=eu),new bt({key:e,state:{init:function(){return null},apply:function(e){return e.getMeta(this.spec.key)}},props:{decorations:function(e){var t=(this.spec.key.getState(e)||[]).map((function(e){return va.inline(e.from,e.to,e.attrs)}));return ka.create(e.doc,t)}}})}function nu(e){return void 0===e&&(e={}),new bt({view:function(t){return new ru(t,e)}})}var ru=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};ru.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},ru.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())},ru.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},ru.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();s=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=e.left-s+"px",this.element.style.top=e.top-l+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},ru.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},ru.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Le(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},ru.prototype.dragend=function(){this.scheduleRemoval(20)},ru.prototype.drop=function(){this.scheduleRemoval(20)},ru.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var ou=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return d.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new iu(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var r=e.node(t).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o=e.pos,i=null,a=e.depth;;a--){var s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){i=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;o+=n;var l=e.doc.resolve(o);if(t.valid(l))return l}for(;;){var c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!it.isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=c,o+=n;var u=e.doc.resolve(o);if(t.valid(u))return u}return null}},t}(et);ou.prototype.visible=!1,et.jsonID("gapcursor",ou);var iu=function(e){this.pos=e};iu.prototype.map=function(e){return new iu(e.map(this.pos))},iu.prototype.resolve=function(e){var t=e.resolve(this.pos);return ou.valid(t)?new ou(t):et.near(t)};var au=function(){return new bt({props:{decorations:uu,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&ou.valid(n))return new ou(n)},handleClick:cu,handleKeyDown:su}})},su=Gr({ArrowLeft:lu("horiz",-1),ArrowRight:lu("horiz",1),ArrowUp:lu("vert",-1),ArrowDown:lu("vert",1)});function lu(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){var i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof rt){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var l=ou.findFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new ou(l))),!0)}}function cu(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!ou.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&it.isSelectable(e.state.doc.nodeAt(o)))&&(e.dispatch(e.state.tr.setSelection(new ou(r))),!0)}function uu(e){if(!(e.selection instanceof ou))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",ka.create(e.doc,[va.widget(e.selection.head,t,{key:"gapcursor"})])}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o="editor.pdf";t.messages=((r={})["editor.bold"]="Bold",r["editor.italic"]="Italic",r["editor.underline"]="Underline",r["editor.strikethrough"]="Strikethrough",r["editor.subscript"]="Subscript",r["editor.superscript"]="Superscript",r["editor.unlink"]="Remove hyperlink",r["editor.undo"]="Undo",r["editor.redo"]="Redo",r["editor.fontSize"]="Font Size",r["editor.fontName"]="Font Name",r["editor.format"]="Format",r["editor.alignLeft"]="Align text left",r["editor.alignRight"]="Align text right",r["editor.alignCenter"]="Center text",r["editor.alignJustify"]="Justify",r["editor.indent"]="Indent",r["editor.outdent"]="Outdent",r["editor.orderedList"]="Insert ordered list",r["editor.bulletList"]="Insert unordered list",r["editor.print"]="Print",r["editor.selectAll"]="Select All",r["editor.cleanFormatting"]="Clean formatting",r[o]="Export as PDF",r["editor.foregroundColor"]="Color",r["editor.backgroundColor"]="Background color",r["editor.createTable"]="Create a table",r["editor.insertTableHint"]="Create a {0} x {1} table",r["editor.addRowBefore"]="Add row above",r["editor.addRowAfter"]="Add row below",r["editor.addColumnBefore"]="Add column on the left",r["editor.addColumnAfter"]="Add column on the right",r["editor.deleteRow"]="Delete row",r["editor.deleteColumn"]="Delete column",r["editor.deleteTable"]="Delete table",r["editor.mergeCells"]="Merge cells",r["editor.splitCell"]="Split cell",r["editor.hyperlink"]="Insert hyperlink",r["editor.hyperlink-dialog-title"]="Insert hyperlink",r["editor.hyperlink-dialog-content-address"]="Web address",r["editor.hyperlink-dialog-content-title"]="Title",r["editor.hyperlink-dialog-content-newwindow"]="Open link in new window",r["editor.hyperlink-dialog-cancel"]="Cancel",r["editor.hyperlink-dialog-insert"]="Insert",r["editor.insertFile"]="Insert file",r["editor.insertfile-dialog-title"]="Insert file",r["editor.insertfile-dialog-content-address"]="Web address",r["editor.insertfile-dialog-content-title"]="Title",r["editor.insertfile-dialog-cancel"]="Cancel",r["editor.insertfile-dialog-insert"]="Insert",r["editor.image"]="Insert image",r["editor.image-dialog-title"]="Insert image",r["editor.image-address"]="Web address",r["editor.image-title"]="Title",r["editor.image-altText"]="Alternate text",r["editor.image-width"]="Width (px)",r["editor.image-height"]="Height (px)",r["editor.image-cancel"]="Cancel",r["editor.image-insert"]="Insert",r["editor.viewHtml"]="View HTML",r["editor.viewHtml-dialog-title"]="View HTML",r["editor.viewHtml-cancel"]="Cancel",r["editor.viewHtml-update"]="Update",r["editor.findReplace-tool-title"]="Find and Replace",r["editor.findReplace-dialog-title"]="Find and Replace",r["editor.findReplace-tab-find"]="Find",r["editor.findReplace-tab-replace"]="Replace",r["editor.findReplace-findWhat"]="Find What:",r["editor.findReplace-replaceWith"]="Replace With",r["editor.findReplace-replace"]="Replace",r["editor.findReplace-replaceAll"]="Replace All",r["editor.findReplace-matchCase"]="Match Case",r["editor.findReplace-matchWord"]="Match whole word only",r["editor.findReplace-matchCyclic"]="Match cyclic (Wrap around)",r["editor.findReplace-useRegExp"]="Regular Expression",r["editor.findReplace-prevMatch"]="Prev",r["editor.findReplace-nextMatch"]="Next",r["editor.findReplace-matches"]="{0} of {1} matches",r),t.keys={bold:"editor.bold",italic:"editor.italic",underline:"editor.underline",strikethrough:"editor.strikethrough",subscript:"editor.subscript",superscript:"editor.superscript",unlink:"editor.unlink",undo:"editor.undo",redo:"editor.redo",fontSize:"editor.fontSize",fontName:"editor.fontName",format:"editor.format",alignLeft:"editor.alignLeft",alignRight:"editor.alignRight",alignCenter:"editor.alignCenter",alignJustify:"editor.alignJustify",indent:"editor.indent",outdent:"editor.outdent",orderedList:"editor.orderedList",bulletList:"editor.bulletList",print:"editor.print",selectAll:"editor.selectAll",cleanFormatting:"editor.cleanFormatting",pdf:o,foregroundColor:"editor.foregroundColor",backgroundColor:"editor.backgroundColor",createTable:"editor.createTable",createTableHint:"editor.insertTableHint",addRowBefore:"editor.addRowBefore",addRowAfter:"editor.addRowAfter",addColumnBefore:"editor.addColumnBefore",addColumnAfter:"editor.addColumnAfter",deleteRow:"editor.deleteRow",deleteColumn:"editor.deleteColumn",deleteTable:"editor.deleteTable",mergeCells:"editor.mergeCells",splitCell:"editor.splitCell",insertHyperlink:"editor.hyperlink",insertHyperlinkDialogTitle:"editor.hyperlink-dialog-title",insertHyperlinkAddress:"editor.hyperlink-dialog-content-address",insertHyperlinkTitle:"editor.hyperlink-dialog-content-title",insertHyperlinkNewWindow:"editor.hyperlink-dialog-content-newwindow",insertHyperlinkCancel:"editor.hyperlink-dialog-cancel",insertHyperlinkInsert:"editor.hyperlink-dialog-insert",insertFile:"editor.insertFile",insertFileDialogTitle:"editor.insertfile-dialog-title",insertFileAddress:"editor.insertfile-dialog-content-address",insertFileTitle:"editor.insertfile-dialog-content-title",insertFileCancel:"editor.insertfile-dialog-cancel",insertFileInsert:"editor.insertfile-dialog-insert",insertImage:"editor.image",insertImageDialogTitle:"editor.image-dialog-title",insertImageAddress:"editor.image-address",insertImageTitle:"editor.image-title",insertImageAltText:"editor.image-altText",insertImageWidth:"editor.image-width",insertImageHeight:"editor.image-height",insertImageCancel:"editor.image-cancel",insertImageInsert:"editor.image-insert",viewHtml:"editor.viewHtml",viewHtmlDialogTitle:"editor.viewHtml-dialog-title",viewHtmlCancel:"editor.viewHtml-cancel",viewHtmlUpdate:"editor.viewHtml-update",findReplaceToolTitle:"editor.findReplace-tool-title",findReplaceDialogTitle:"editor.findReplace-dialog-title",findReplaceTabFind:"editor.findReplace-tab-find",findReplaceTabReplace:"editor.findReplace-tab-replace",findReplaceFindWhat:"editor.findReplace-findWhat",findReplaceReplaceWith:"editor.findReplace-replaceWith",findReplaceReplace:"editor.findReplace-replace",findReplaceReplaceAll:"editor.findReplace-replaceAll",findReplaceMatchCase:"editor.findReplace-matchCase",findReplaceMatchWord:"editor.findReplace-matchWord",findReplaceMatchCyclic:"editor.findReplace-matchCyclic",findReplaceUseRegExp:"editor.findReplace-useRegExp",findReplacePrevMatch:"editor.findReplace-prevMatch",findReplaceNextMatch:"editor.findReplace-nextMatch",findReplaceMatches:"editor.findReplace-matches"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.onDownPreventDefault={onMouseDown:function(e){return e.preventDefault()},onPointerDown:function(e){return e.preventDefault()}};t.userSelectNone={userSelect:"none"};t.formatString=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t,n){e=e.replace("{"+n+"}",String(t))})),e};t.itemRender=function(e,t){return t.dataItem.style?r.cloneElement(e,e.props,r.createElement("span",{style:t.dataItem.style},e.props.children)):e}},function(e,t,n){"use strict";n.r(t),n.d(t,"Toolbar",(function(){return z})),n.d(t,"ToolbarItem",(function(){return H})),n.d(t,"ToolbarSeparator",(function(){return W})),n.d(t,"ToolbarSpacer",(function(){return $})),n.d(t,"Button",(function(){return m})),n.d(t,"ButtonGroup",(function(){return b})),n.d(t,"SplitButton",(function(){return D})),n.d(t,"SplitButtonItem",(function(){return C})),n.d(t,"DropDownButton",(function(){return F})),n.d(t,"DropDownButtonItem",(function(){return j})),n.d(t,"Chip",(function(){return oe})),n.d(t,"ChipList",(function(){return te})),n.d(t,"FloatingActionButton",(function(){return ge})),n.d(t,"FloatingActionButtonItem",(function(){return ce}));var r,o=n(1),i=n(0),a=n(2),s={name:"@progress/kendo-react-buttons",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477468,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},l=':not(.k-state-disabled):not([disabled]):not([disabled="true"])',c=["button"+l,".k-button-group > button"+l,".k-dropdown > .k-dropdown-wrap"+l,".k-colorpicker > .k-picker-wrap"+l],u={button:"k-button",flat:"k-flat",outline:"k-outline",clear:"k-button-clear",primary:"k-primary","state-selected":"k-state-selected","button-icon":"k-button-icon","button-icontext":"k-button-icontext","state-disabled":"k-state-disabled","group-start":"k-group-start","group-end":"k-group-end","button-group":"k-button-group","button-group-stretched":"k-button-group-stretched",ltr:"k-ltr",rtl:"k-rtl"},p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},h=u;var m=function(e){function t(t){var n=e.call(this,t)||this;return n._element=null,n.handleClick=function(e){n.toggleIfApplicable(),n.props.onClick&&n.props.onClick.call(void 0,e)},Object(a.r)(s),n.state={selected:!0===n.props.togglable&&!0===n.props.selected},n}return p(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return void 0!==this._selectedTemp?this._selectedTemp:this.state.selected},enumerable:!0,configurable:!0}),t.getDerivedStateFromProps=function(e,t){return e.togglable&&void 0!==e.selected&&e.selected!==t.selected?{selected:e.selected}:null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.children,i=n.look,s=n.primary,l=n.togglable,c=n.icon,u=n.iconClass,p=n.imageUrl,m=n.imageAlt,v=n.className,g=(n.onClick,f(n,["children","look","primary","togglable","icon","iconClass","imageUrl","imageAlt","className","onClick"])),y=void 0!==c||void 0!==u||void 0!==p,b=void 0!==r,k={className:Object(a.d)([h.button],((e={})[h[""+i]]="default"!==i,e[h.primary]=s,e[h["state-disabled"]]=this.props.disabled,e[h["state-selected"]]=this.state.selected,e[h["button-icon"]]=!b&&y,e[h["button-icontext"]]=b&&y,e),[h[""+this.props.dir]],v),onClick:this.handleClick,role:l?"checkbox":void 0,"aria-disabled":this.props.disabled||void 0,"aria-checked":l?this.state.selected:void 0},w=function(e){var t=e.imageUrl,n=e.icon,r=e.iconClass,i=e.imageAlt;if(t)return o.createElement("img",{role:"presentation",className:"k-image",alt:i,src:t});if(n){var s=Object(a.d)("k-icon","k-i-"+n);return o.createElement("span",{role:"presentation",className:s})}return r?o.createElement("span",{role:"presentation",className:r}):null}({icon:c,iconClass:u,imageUrl:p,imageAlt:m});return o.createElement("button",d({},k,g,{ref:function(e){return t._element=e}}),w,r)},t.prototype.toggleIfApplicable=function(){var e=this;if(this.props.togglable&&void 0===this.props.selected){var t=!this.state.selected;this._selectedTemp=t,this.setState({selected:t},(function(){return e._selectedTemp=void 0}))}},t.propTypes={children:i.node,look:i.oneOf(["default","flat","outline","clear"]),primary:i.bool,selected:i.bool,togglable:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,imageAlt:i.string},t.defaultProps={look:"default",primary:!1,togglable:!1},t}(o.Component),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=u,b=function(e){function t(t){var n=e.call(this,t)||this;return n._element=null,Object(a.r)(s),n}return v(t,e),t.prototype.render=function(){var e,t=this,n=this.mapButtons(this.props.children),r=Object(a.d)([y["button-group"]],((e={})[y["state-disabled"]]=this.props.disabled,e[y["button-group-stretched"]]=!!this.props.width,e),this.props.className),i={className:r,style:{width:""+this.props.width},dir:this.props.dir,role:"group","aria-disabled":this.props.disabled};return o.createElement("div",g({ref:function(e){t._element=e}},i,{className:r}),n)},t.prototype.mapButtons=function(e){var t=this,n=o.Children.count(e),r=void 0!==this.props.dir?"rtl"===this.props.dir:this._element&&"rtl"===getComputedStyle(this._element).direction||!1;return o.Children.map(e,(function(e,i){return o.isValidElement(e)?t.renderButton(e,i,i===n-1,r):e}))},t.prototype.renderButton=function(e,t,n,r){var i,s=Object(a.d)(e.props.className,((i={})[y["group-start"]]=r?n:0===t,i[y["group-end"]]=r?0===t:n,i)),l=g({},this.props.width?{width:this.props.width}:{},e.props.style||{}),c=this.props.disabled||e.props.disabled,u=g({},e.props,s?{className:s}:{},Object.keys(l).length?{style:l}:{},void 0!==c?{disabled:c}:{});return o.Children.count(e.props.children)>0?o.cloneElement(e,u,e.props.children):o.cloneElement(e,u)},t.propTypes={children:i.oneOfType([i.arrayOf(i.element),i.element]),className:i.string,disabled:i.bool,width:i.string,dir:i.string},t}(o.Component),k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){return t.props.onClick(e,t.props.index)},t}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.dataItem,n=e.focused,r=e.id,i=e.onDown,s=e.render,l=o.createElement("li",{id:r,className:Object(a.d)("k-item",{"k-state-focused":n,"k-state-selected":t.selected,"k-state-disabled":t.disabled}),onClick:this.onClick,onMouseDown:i,onPointerDown:i,role:"menuItem","aria-disabled":t.disabled||void 0},this.renderContent());return void 0!==this.props.item&&void 0!==s?s.call(void 0,l,this.props):l},t.prototype.renderContent=function(){var e=this.props,t=e.dataItem,n=e.textField,r=e.index,i=this.props.dataItem.render||this.props.item||(void 0===this.props.item?this.props.render:null),a=void 0!==t.text?t.text:n?t[n]:t,s=t.icon?"k-icon k-i-"+t.icon:t.iconClass;return i&&o.createElement(i,{item:t,itemIndex:r})||[s&&o.createElement("span",{className:s,role:"presentation",key:"icon"}),t.imageUrl&&o.createElement("img",{className:"k-image",alt:"",src:t.imageUrl,role:"presentation",key:"image"}),a]},t}(o.Component),O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.render=function(){return null},t.propTypes={text:i.string,icon:i.string,iconClass:i.string,imageUrl:i.string,disabled:i.bool,render:i.any},t}(o.Component),x=function(e,t,n,r){if(n)return e;switch(t){case a.b.enter:case a.b.space:case a.b.esc:return-1;case a.b.up:case a.b.left:return Math.max(0,e-1);case a.b.down:case a.b.right:return Math.min(r-1,e+1);default:return e}},S=n(9);function E(e){var t={horizontal:"left",vertical:"bottom"};return e&&(t.horizontal="right"),t}function I(e){var t={horizontal:"left",vertical:"top"};return e&&(t.horizontal="right"),t}var _,N,T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=u,D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focused:!1,focusedIndex:-1,opened:!1},n.wrapper=null,n.mainButton=null,n.guid=Object(a.k)(),n.buttonsData=[],n.onKeyDown=function(e){var t=n.state.focusedIndex;if(e.altKey)n.opened||e.keyCode!==a.b.down?n.opened&&e.keyCode===a.b.up&&(n.dispatchPopupEvent(e,!1),n.setState({focusedIndex:-1,opened:!1})):(n.dispatchPopupEvent(e,!0),n.setState({focusedIndex:0,opened:!0}));else{var r=void 0;if(e.keyCode===a.b.enter||e.keyCode===a.b.space?(e.preventDefault(),n.dispatchClickEvent(e,t),t>=0&&(r={focusedIndex:n.opened?-1:0,opened:!n.opened},n.dispatchPopupEvent(e,r.opened))):n.opened&&e.keyCode===a.b.esc&&(r={focusedIndex:-1,opened:!1},n.dispatchPopupEvent(e,r.opened)),n.opened){var o=x(t,e.keyCode,e.altKey,n.buttonsData.length);o!==t&&((r=r||{}).focusedIndex=o);var i=e.keyCode===a.b.up||e.keyCode===a.b.down||e.keyCode===a.b.left||e.keyCode===a.b.right;!e.altKey&&i&&e.preventDefault()}r&&n.setState(r)}},n.onFocus=function(e){Object(a.e)(n.props.onFocus,e,n,void 0),n.setState({focused:!0,focusedIndex:-1})},n.onItemClick=function(e,t){var r=n.opened;r&&n.setState({focusedIndex:0,opened:!1}),n.dispatchClickEvent(e,t),r&&n.dispatchPopupEvent(e,!1)},n.onBlur=function(e){n.setState({focused:!1,focusedIndex:-1,opened:!1}),Object(a.e)(n.props.onBlur,e,n,void 0),n.opened&&n.dispatchPopupEvent(e,!1)},n.onSplitPartClick=function(e){if(n.buttonsData.length){var t=!n.opened;n.dispatchPopupEvent(e,t),n.setState({focusedIndex:t?0:-1,opened:t,focused:!0})}},n.onDownSplitPart=function(e){e.preventDefault(),n.element&&document.activeElement!==n.element&&n.element.focus()},n.onItemDown=function(e){document.activeElement===n.element&&e.preventDefault()},n.dispatchPopupEvent=function(e,t){Object(a.e)(t?n.props.onOpen:n.props.onClose,e,n,void 0)},Object(a.r)(s),n}return T(t,e),Object.defineProperty(t.prototype,"opened",{get:function(){return void 0===this.props.opened?this.state.opened:this.props.opened},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;this.buttonsData=this.props.items||o.Children.toArray(this.props.children).filter((function(e){return e&&e.type===C})).map((function(e){return e.props}));var t=this.isRtl(),n=t?"rtl":void 0,r=this.props,i=r.tabIndex,s=r.disabled,l=this.state.focusedIndex;return o.createElement("div",{className:Object(a.d)("k-widget","k-split-button","k-button-group",[P[""+this.props.look]],{"k-state-focused":this.state.focused},this.props.className),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,dir:n,ref:function(t){return e.wrapper=t}},o.createElement(m,{onClick:function(t){return e.onItemClick(t,-1)},disabled:s||void 0,tabIndex:i,accessKey:this.props.accessKey,className:this.props.buttonClass,icon:this.props.icon,iconClass:this.props.iconClass,imageUrl:this.props.imageUrl,look:this.props.look,dir:n,ref:function(t){return e.mainButton=t&&t.element},type:"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":this.opened,"aria-label":this.props.text+" splitbutton","aria-owns":this.guid,"aria-activedescendant":l>=0?this.guid+"-"+l:void 0},this.props.text),o.createElement(m,{icon:"arrow-s",disabled:s||void 0,tabIndex:-1,look:this.props.look,onClick:this.onSplitPartClick,onMouseDown:this.onDownSplitPart,onPointerDown:this.onDownSplitPart,dir:n,"aria-label":"menu toggling button"}),this.renderPopup(t))},t.prototype.componentDidMount=function(){(void 0===this.props.dir&&this.isRtl()||this.opened)&&this.forceUpdate()},Object.defineProperty(t.prototype,"element",{get:function(){return this.mainButton},enumerable:!0,configurable:!0}),t.prototype.dispatchClickEvent=function(e,t){this.isItemDisabled(t)||(-1===t?Object(a.e)(this.props.onButtonClick,e,this,void 0):Object(a.e)(this.props.onItemClick,e,this,{item:this.buttonsData[t],itemIndex:t}))},t.prototype.renderPopup=function(e){var t=this.props.popupSettings,n=void 0===t?{}:t;return o.createElement(S.Popup,{anchor:this.wrapper,show:this.opened,animate:n.animate,popupClass:Object(a.d)("k-list-container k-reset k-group",n.popupClass),anchorAlign:n.anchorAlign||E(e),popupAlign:n.popupAlign||I(e),style:e?{direction:"rtl"}:void 0},o.createElement("ul",{className:"k-list k-reset",role:"menu",id:this.guid},this.renderChildItems()))},t.prototype.renderChildItems=function(){var e=this,t=this.props,n=t.item,r=t.itemRender,i=t.textField;return this.buttonsData.length>0?this.buttonsData.map((function(t,a){return o.createElement(w,{dataItem:t,textField:i,focused:e.state.focusedIndex===a,onClick:e.onItemClick,onDown:e.onItemDown,render:r,item:n,key:a,index:a,id:e.guid+"-"+a})})):null},t.prototype.isItemDisabled=function(e){return this.buttonsData[e]?this.buttonsData[e].disabled:this.props.disabled},t.prototype.isRtl=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:!!this.wrapper&&"rtl"===getComputedStyle(this.wrapper).direction},t.propTypes={accessKey:i.string,onButtonClick:i.func,onFocus:i.func,onBlur:i.func,onItemClick:i.func,onOpen:i.func,onClose:i.func,text:i.string,items:i.arrayOf(i.any),textField:i.string,tabIndex:i.number,disabled:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,popupSettings:i.object,itemRender:i.any,item:i.func,look:i.string,className:i.string,buttonClass:i.string,dir:i.string},t}(o.Component),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.render=function(){return null},t.propTypes={text:i.string,icon:i.string,iconClass:i.string,imageUrl:i.string,selected:i.bool,disabled:i.bool,render:i.any},t}(o.Component),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},F=function(e){function t(t){var n=e.call(this,t)||this;return n.state={opened:!1,focused:!1,focusedIndex:-1},n.wrapper=null,n.mainButton=null,n.guid=Object(a.k)(),n.buttonsData=[],n.onKeyDown=function(e){var t=n.state.focusedIndex;if(e.altKey)n.opened||e.keyCode!==a.b.down?n.opened&&e.keyCode===a.b.up&&(n.dispatchPopupEvent(e,!1),n.setState({focusedIndex:-1,opened:!1})):(n.dispatchPopupEvent(e,!0),n.setState({focusedIndex:0,opened:!0}));else{var r=A({},n.state);if(e.keyCode===a.b.enter||e.keyCode===a.b.space?(t>=0&&n.dispatchClickEvent(e,t),e.preventDefault(),r.focusedIndex=n.opened?-1:0,r.opened=!n.opened,n.dispatchPopupEvent(e,r.opened)):n.opened&&e.keyCode===a.b.esc&&(r.focusedIndex=-1,r.opened=!1,n.dispatchPopupEvent(e,r.opened)),n.opened){var o=x(t,e.keyCode,e.altKey,n.buttonsData.length);r.focusedIndex=o;var i=e.keyCode===a.b.up||e.keyCode===a.b.down||e.keyCode===a.b.left||e.keyCode===a.b.right;!e.altKey&&i&&e.preventDefault()}n.setState(r)}},n.onFocus=function(e){n.setState({focused:!0,focusedIndex:n.opened?0:-1}),Object(a.e)(n.props.onFocus,e,n,void 0)},n.onBlur=function(e){n.setState({focused:!1,opened:!1,focusedIndex:-1}),Object(a.e)(n.props.onBlur,e,n,void 0),n.opened&&n.dispatchPopupEvent(e,!1)},n.onItemClick=function(e,t){n.setState({focusedIndex:-1,opened:!1}),n.dispatchClickEvent(e,t),n.dispatchPopupEvent(e,!1)},n.onItemDown=function(e){document.activeElement===n.element&&e.preventDefault()},n.mouseDown=function(e){e.preventDefault()},n.onClickMainButton=function(e){if(n.buttonsData.length){var t=!n.opened;n.setState({opened:t,focused:!0,focusedIndex:t?0:-1}),n.dispatchPopupEvent(e,t)}},n.dispatchPopupEvent=function(e,t){Object(a.e)(t?n.props.onOpen:n.props.onClose,e,n,void 0)},Object(a.r)(s),n}return R(t,e),Object.defineProperty(t.prototype,"opened",{get:function(){return void 0===this.props.opened?this.state.opened:this.props.opened},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.isRtl(),n=t?"rtl":void 0,r=this.props,i=r.tabIndex,s=r.disabled,l=this.state.focusedIndex;return this.buttonsData=this.props.items||o.Children.toArray(this.props.children).filter((function(e){return e&&e.type===j})).map((function(e){return e.props})),o.createElement("div",{className:Object(a.d)("k-widget","k-dropdown-button",this.props.className,{"k-state-focused":this.state.focused}),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,dir:n,ref:function(t){return e.wrapper=t}},o.createElement(m,{onClick:this.onClickMainButton,onMouseDown:this.mouseDown,disabled:s||void 0,tabIndex:i,accessKey:this.props.accessKey,icon:this.props.icon,iconClass:this.props.iconClass,className:this.props.buttonClass,imageUrl:this.props.imageUrl,look:this.props.look,primary:this.props.primary,dir:n,ref:function(t){return e.mainButton=t&&t.element},type:"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":this.opened,"aria-label":this.props.text+" dropdownbutton","aria-owns":this.guid,"aria-activedescendant":l>=0?this.guid+"-"+l:void 0},this.props.text),this.renderPopup(t))},t.prototype.componentDidMount=function(){(void 0===this.props.dir&&this.isRtl()||this.opened)&&this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.state.focused&&this.element&&this.element.focus()},Object.defineProperty(t.prototype,"element",{get:function(){return this.mainButton},enumerable:!0,configurable:!0}),t.prototype.dispatchClickEvent=function(e,t){this.isItemDisabled(t)||Object(a.e)(this.props.onItemClick,e,this,{item:this.buttonsData[t],itemIndex:t})},t.prototype.renderPopup=function(e){var t=this.props.popupSettings,n=void 0===t?{}:t;return o.createElement(S.Popup,{anchor:this.wrapper,show:this.opened,animate:n.animate,popupClass:Object(a.d)("k-list-container k-reset k-group",n.popupClass),anchorAlign:n.anchorAlign||E(e),popupAlign:n.popupAlign||I(e),style:e?{direction:"rtl"}:void 0},o.createElement("ul",{className:"k-list k-reset",role:"menu",id:this.guid},this.renderChildItems()))},t.prototype.renderChildItems=function(){var e=this,t=this.props,n=t.item,r=t.itemRender,i=t.textField;return this.buttonsData.length>0?this.buttonsData.map((function(t,a){return o.createElement(w,{dataItem:t,textField:i,focused:e.state.focusedIndex===a,onClick:e.onItemClick,onDown:e.onItemDown,render:r,item:n,index:a,key:a,id:e.guid+"-"+a})})):null},t.prototype.isItemDisabled=function(e){return this.buttonsData[e]?this.buttonsData[e].disabled:this.props.disabled},t.prototype.isRtl=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:!!this.wrapper&&"rtl"===getComputedStyle(this.wrapper).direction},t.propTypes={accessKey:i.string,primary:i.bool,onFocus:i.func,onBlur:i.func,onItemClick:i.func,onOpen:i.func,onClose:i.func,items:i.arrayOf(i.any),textField:i.string,tabIndex:i.number,disabled:i.bool,icon:i.string,iconClass:i.string,imageUrl:i.string,popupSettings:i.object,itemRender:i.func,item:i.func,look:i.string,className:i.string,buttonClass:i.string,dir:i.string},t}(o.Component),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},z=function(e){function t(n){var r=e.call(this,n)||this;return r._element=null,r.offsetHeight=0,r.offsetWidth=0,r.buttons=[],r.focusedSelector=r.selectors.map((function(e){return e+":focus"})).join(","),r.setTabIndex=function(e){var n=r.props.tabIndex,o=void 0===n?t.defaultProps.tabIndex:n;r.buttons.forEach((function(t,n){t.tabIndex=n===e?o:-1}))},r.onKeyDown=function(e){var t=e.target;if((e.keyCode===a.b.left||e.keyCode===a.b.right)&&!e.defaultPrevented&&-1!==r.buttons.findIndex((function(e){return e===t}))){var n=r.focusedIndex;e.keyCode===a.b.left?r.focusButton(n,n-1):r.focusButton(n,n+1)}},r.onWindowResize=function(e){var t=r.element;if(t){var n=t.offsetWidth,o=t.offsetHeight;if(r.offsetWidth!==n||r.offsetHeight!==o){r.offsetWidth=n,r.offsetHeight=o;var i={offsetWidth:r.offsetWidth,offsetHeight:r.offsetHeight};r.props.onResize&&r.props.onResize.call(void 0,B({target:r},i,{nativeEvent:e}))}}},Object(a.r)(s),r}return L(t,e),Object.defineProperty(t.prototype,"selectors",{get:function(){return this.props.buttons||c},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusedIndex",{get:function(){var e=this.element&&this.element.querySelector(this.focusedSelector);return Math.max(0,this.buttons.findIndex((function(t){return t===e})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize);var e=this.element;e&&(this.offsetWidth=e.offsetWidth,this.offsetHeight=e.offsetHeight,!1!==this.props.keyboardNavigation&&(this.buttons=Array.from(e.querySelectorAll(this.selectors.join(","))),this.setTabIndex(0)))},t.prototype.componentDidUpdate=function(){var e=this.element;e&&!1!==this.props.keyboardNavigation&&(this.buttons=Array.from(e.querySelectorAll(this.selectors.join(","))),this.setTabIndex(this.focusedIndex))},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize),this.buttons.length=0},t.prototype.render=function(){var e=this;return o.createElement("div",{className:Object(a.d)("k-widget k-toolbar",this.props.className),style:this.props.style,role:"toolbar",dir:this.props.dir,ref:function(t){return e._element=t},onKeyDown:!1!==this.props.keyboardNavigation?this.onKeyDown:void 0},this.props.children)},t.prototype.focusButton=function(e,n){var r=this.props.tabIndex,o=void 0===r?t.defaultProps.tabIndex:r,i=this.buttons[n];if(i){i.tabIndex=o,i.focus();var a=this.buttons[e];a&&(a.tabIndex=-1)}},t.propTypes={tabIndex:i.number,dir:i.string,keyboardNavigation:i.bool,style:i.object,className:i.string,onResize:i.func,buttons:i.arrayOf(i.string)},t.defaultProps={tabIndex:0},t}(o.Component),V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._element=null,t}return V(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return o.createElement("span",{className:this.props.className,style:this.props.style,ref:function(t){return e._element=t}},this.props.children)},t.propTypes={className:i.string},t}(o.PureComponent),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return K(t,e),t.prototype.render=function(){return o.createElement(H,{className:"k-separator"})},t}(o.PureComponent),$=o.forwardRef((function(e,t){var n=o.useRef(null),r=o.useRef(null);o.useImperativeHandle(r,(function(){return{element:n.current}})),o.useImperativeHandle(t,(function(){return{element:n.current}}));var i=o.useMemo((function(){return Object(a.d)("k-spacer",e.className)}),[e.className]);return o.createElement("span",{ref:n,className:i})}));$.propTypes={className:i.string},function(e){e.single="single",e.multiple="multiple",e.none="none"}(_||(_={})),function(e){e.toggle="toggle",e.remove="remove"}(N||(N={}));var q;!function(e){e.next="next",e.prev="prev",e.current="current",e.reset="reset"}(q||(q={}));var U;!function(e){e.remove="remove",e.add="add",e.reorder="reorder"}(U||(U={}));var G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},J=o.createContext([null,function(e){}]),X=o.createContext([null,function(e){}]),Y=o.createContext([null,function(e){}]),Z=function(e,t,n){var r=o.useState(e),i=r[0],a=r[1];return[i,function(e){var r=function(e,t){switch(t.selection){case _.single:switch(t.type){case N.toggle:if(!Array.isArray(e)||null===e)return t.payload===e?null:t.payload;throw new Error("State cannot be an array in single selection");case N.remove:return t.payload===e?null:e;default:return e}case _.multiple:switch(t.type){case N.toggle:if(Array.isArray(e))return e.some((function(e){return e===t.payload}))?e.filter((function(e){return e!==t.payload})):e.concat([t.payload]);if(null===e)return[t.payload];throw new Error("State cannot be non-array in multiple selection");case N.remove:return Array.isArray(e)?e.some((function(e){return e===t.payload}))?e.filter((function(e){return e!==t.payload})):e.concat([t.payload]):e;default:return e}case _.none:return null;default:return e}}(t.state||i,G({},e,t));n&&n(r,e.event),a(r)}]},Q=function(e){var t=o.useState(null),n=t[0],r=t[1];return[n,function(t){var n=function(e,t){var n=t.items.findIndex((function(t){return t===e}));switch(t.type){case q.next:return n===t.items.length-1?e:t.items[n+1];case q.prev:return 0===n?e:t.items[n-1];case q.current:return t.payload;case q.reset:return null;default:return e}}(t.payload,G({},t,e));r(n)}]},ee=function(e,t,n){var r=o.useState(e),i=r[0],a=r[1];return[i,function(e){var r=function(e,t){switch(t.type){case U.add:break;case U.remove:return e.filter((function(e){return e[t.valueField]!==t.payload}));case U.reorder:break;default:return e}}(t.state||i,G({},e,t));n&&n(r,e.event),a(r)}]},te=o.forwardRef((function(e,t){Object(a.r)(s);var n=o.useRef(null),r=o.useRef(null),i=Object(a.o)(r,e.dir),l=o.useMemo((function(){return e.chip||oe}),[e.chip,oe]),c=o.useMemo((function(){return e.selection||re.selection}),[e.selection,re.selection]);o.useImperativeHandle(n,(function(){return{element:r.current,props:e}})),o.useImperativeHandle(t,(function(){return n.current}));var u=o.useCallback((function(t,r){e.onChange&&n.current&&e.onChange.call(void 0,{value:t,target:n.current,syntheticEvent:r})}),[e.onChange]),p=Z(e.value||e.defaultValue,{selection:c,state:e.value},u),d=p[0],f=p[1],h=o.useCallback((function(t,r){e.onDataChange&&n.current&&e.onDataChange.call(void 0,{value:t,target:n.current,syntheticEvent:r})}),[e.onDataChange]),m=ee(e.data||e.defaultData||re.defaultData,{state:e.data,valueField:e.valueField||re.valueField},h),v=m[0],g=m[1],y=o.useCallback((function(t,n){return t.push(n[e.valueField||re.valueField]),t}),[e.valueField,re.valueField]),b=o.useMemo((function(){return e.data||v}),[e.data,v]),k=o.useMemo((function(){return e.value||d}),[e.value,d]),w=o.useMemo((function(){return b.reduce(y,[])}),[b,y]),O=Q({items:w}),C=O[0],x=O[1];return o.createElement(J.Provider,{value:[k,f]},o.createElement(X.Provider,{value:[C,x]},o.createElement(Y.Provider,{value:[b,g]},o.createElement("div",{ref:r,role:"listbox",id:e.id,dir:i,style:e.style,tabIndex:Object(a.i)(e.tabIndex,e.disabled,void 0),className:Object(a.d)("k-chip-list",{"k-rtl":"rtl"===i,"k-selection-single":"single"===c,"k-selection-multiple":"multiple"===c,"k-state-disabled":e.disabled},e.className),"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},b.map((function(t){return o.createElement(l,{role:"option",dataItem:t,key:t[e.valueField||re.valueField],text:t[e.textField||re.textField],value:t[e.valueField||re.valueField]})}))))))})),ne={id:i.string,className:i.string,tabIndex:i.number,data:i.any,defaultData:i.arrayOf(i.any),onDataChange:i.func,value:i.oneOfType([i.any,i.arrayOf(i.any)]),defaultValue:i.oneOfType([i.any,i.arrayOf(i.any)]),onChange:i.func,selection:i.oneOf(["single","multiple"]),textField:i.string,valueField:i.string,disabled:i.bool,dir:i.oneOf(["ltr","rtl"]),ariaLabelledBy:i.string,ariaDescribedBy:i.string},re={chip:oe,disabled:!1,defaultValue:null,defaultData:[],dir:"ltr",selection:"none",textField:"text",valueField:"value",removable:"removable"};te.displayName="KendoReactChipList",te.propTypes=ne,te.defaultProps=re;var oe=o.forwardRef((function(e,t){Object(a.r)(s);var n=o.useRef(null),r=o.useRef(null),i=Object(a.o)(r,e.dir);o.useImperativeHandle(n,(function(){return{element:r.current,props:e}})),o.useImperativeHandle(t,(function(){return n.current}));var l=o.useContext(J),c=l[0],u=l[1],p=o.useContext(X),d=p[0],f=p[1],h=o.useContext(Y)[1],m=o.useMemo((function(){return e.selected||(Array.isArray(c)?c.some((function(t){return t===e.value})):c===e.value)}),[e.selected,e.value,c]),v=o.useMemo((function(){return d===e.value}),[e.value,d]),g=o.useMemo((function(){return e.look||ae.look}),[e.look]);o.useEffect((function(){v&&r.current&&r.current.focus()}),[v]);var y=o.useCallback((function(t){u({type:N.toggle,payload:e.value,event:t}),e.onClick&&e.onClick.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onClick,u,e.value]),b=o.useCallback((function(t){e.removable&&(h({type:U.remove,payload:e.value,event:t}),f({type:q.reset,payload:e.value,event:t}),u({type:N.remove,payload:e.value,event:t}),e.onRemove&&e.onRemove.call(void 0,{target:n.current,syntheticEvent:t}))}),[e.onRemove,e.removable,h,f,u]),k=o.useCallback((function(t){switch(t.keyCode){case a.b.left:f({type:q.prev,payload:e.value,event:t});break;case a.b.right:f({type:q.next,payload:e.value,event:t});break;case a.b.enter:u({type:N.toggle,payload:e.value,event:t});break;case a.b.delete:b(t)}e.onKeyDown&&e.onKeyDown.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onKeyDown,f,u,b]),w=o.useCallback((function(t){f({payload:e.value,type:q.current,event:t}),e.onFocus&&e.onFocus.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onFocus,f]),O=o.useCallback((function(t){e.onBlur&&e.onBlur.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onBlur]);return o.createElement("div",{role:e.role,id:e.value,style:e.style,ref:r,dir:i,tabIndex:Object(a.i)(e.tabIndex,e.disabled,void 0),className:Object(a.d)("k-chip",{"k-rtl":"rtl"===i,"k-chip-disabled":e.disabled,"k-chip-selected":m,"k-chip-focused":v,"k-chip-success":"success"===e.type,"k-chip-warning":"warning"===e.type,"k-chip-error":"error"===e.type,"k-chip-info":"info"===e.type,"k-chip-has-icon":e.icon,"k-chip-outline":"outlined"===g,"k-chip-filled":"filled"===g},e.className),"aria-checked":m,"aria-disabled":e.disabled,"aria-describedby":e.ariaDescribedBy,onFocus:w,onBlur:O,onClick:y,onKeyDown:k},o.createElement("span",{className:"k-selected-icon-wrapper"},m&&o.createElement("span",{className:"k-selected-icon k-icon "+(e.selectedIcon||ae.selectedIcon)})),e.icon&&o.createElement("span",{className:"k-icon k-chip-icon "+e.icon}),o.createElement("span",{className:"k-chip-content"},void 0!==e.children?e.children:e.text&&o.createElement("span",{"aria-label":e.text,className:"k-chip-label"},e.text)),e.removable&&o.createElement("span",{className:"k-remove-icon",onClick:b},o.createElement("span",{className:"k-icon "+e.removeIcon})))})),ie={id:i.string,text:i.string,value:i.any,type:i.oneOf(["none","success","warning","error","info"]),dir:i.oneOf(["ltr","rtl"]),removable:i.bool,removeIcon:i.string,disabled:i.bool,icon:i.string,selectedIcon:i.string,look:i.string,onRemove:i.func,dataItem:i.any,selected:i.bool,ariaDescribedBy:i.string},ae={disabled:!1,removable:!1,selectedIcon:"k-i-check",look:"filled",removeIcon:"k-i-close-circle",dir:"ltr"};oe.displayName="KendoReactChip",oe.propTypes=ie,oe.defaultProps=ae;var se=function(){return(se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ce=o.forwardRef((function(e,t){var n=e.className,r=e.disabled,i=e.text,s=e.icon,l=e.style,c=e.id,u=e.focused,p=e.tabIndex,d=e.index,f=e.dataItem,h=e.item,m=e.onDown,v=e.onClick,g=le(e,["className","disabled","text","icon","style","id","focused","tabIndex","index","dataItem","item","onDown","onClick"]),y=o.useRef(null),b=o.useCallback((function(){y.current&&y.current.focus()}),[]),k=o.useCallback((function(){return{element:y.current,focus:b}}),[b]);o.useImperativeHandle(t,k);var w=o.useCallback((function(e){v&&void 0!==d&&!r&&v(e,d)}),[v,d]),O=o.useMemo((function(){return Object(a.d)("k-fab-item",{"k-state-focus":u,"k-state-disabled":r},n)}),[n,r,u]),C=h;return o.createElement("li",se({ref:y,id:c,className:O,style:l,role:"menuitem",tabIndex:Object(a.i)(p,r),"aria-disabled":r,"aria-label":(i||"")+" floatingactionbutton item",onClick:w,onMouseDown:m,onPointerDown:m},g),C?o.createElement(C,{itemIndex:d,item:f}):o.createElement(o.Fragment,null,i&&o.createElement("span",{className:"k-fab-item-text"},i),s&&o.createElement("span",{className:Object(a.d)("k-fab-item-icon k-icon k-i-"+s)})))}));ce.propTypes={className:i.string,style:i.object,children:i.any,disabled:i.bool,focused:i.bool,index:i.number,icon:i.string,text:i.string,tabIndex:i.number,customProp:i.any},ce.displayName="KendoFloatingActionButtonItem";var ue=function(e){return"number"==typeof e?e+"px":e},pe=function(e,t){var n={horizontal:t?"right":"left",vertical:"bottom"};return"end"===e.horizontal&&(n.horizontal=t?"left":"right"),n},de=function(e,t){var n={horizontal:t?"right":"left",vertical:"top"};return"end"===e.horizontal&&(n.horizontal=t?"left":"right"),n},fe=function(e,t){return{end:t?"left":"right",center:"left",start:t?"right":"left"}[e.horizontal||"end"]},he=function(e){return{top:"top",middle:"top",bottom:"bottom"}[e.vertical||"bottom"]},me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ge=o.forwardRef((function(e,t){Object(a.r)(s);var n=e.align,r=void 0===n?ye.align:n,i=e.alignOffset,l=e.className,c=e.disabled,u=e.icon,p=e.iconClass,d=e.id,f=e.items,h=e.item,m=e.text,v=e.positionMode,g=void 0===v?ye.positionMode:v,y=e.shape,b=void 0===y?ye.shape:y,k=e.size,w=void 0===k?ye.size:k,O=e.style,C=e.themeColor,x=void 0===C?ye.themeColor:C,E=e.tabIndex,I=e.accessKey,_=e.popupSettings,N=void 0===_?{}:_,T=e.onClick,P=e.onItemClick,D=e.onFocus,M=e.onBlur,j=e.onKeyDown,R=e.onOpen,A=e.onClose,F=ve(e,["align","alignOffset","className","disabled","icon","iconClass","id","items","item","text","positionMode","shape","size","style","themeColor","tabIndex","accessKey","popupSettings","onClick","onItemClick","onFocus","onBlur","onKeyDown","onOpen","onClose"]),L=o.useRef(null),B=o.useRef(null),z=o.useRef(null),V=o.useRef(null),H=o.useCallback((function(){B.current&&B.current.focus()}),[]),K=o.useCallback((function(){return{element:B.current,focus:H}}),[H]);o.useImperativeHandle(L,K),o.useImperativeHandle(t,(function(){return L.current}));var W=o.useState(!1),$=W[0],q=W[1],U=o.useState(!1),G=U[0],J=U[1],X=o.useState(-1),Y=X[0],Z=X[1],Q=o.useMemo((function(){return Object(a.k)()}),[]),ee=Object(a.o)(B,e.dir),te="rtl"===ee,ne=o.useMemo((function(){return Object(a.k)()}),[]);o.useEffect((function(){!function(e,t,n,r){var o=t.horizontal,i=t.vertical;if(e.current){var a=n&&void 0!==n.x?ue(n.x):"16px",s=n&&void 0!==n.x?"calc(50% + "+ue(n.x)+")":"50%",l=n&&void 0!==n.y?ue(n.y):"16px",c=n&&void 0!==n.y?"calc(50% + "+ue(n.y)+")":"50%";e.current.style.setProperty(fe(t,r),"center"===o?s:a),e.current.style.setProperty(he(t),"middle"===i?c:l),r&&("top"!==i&&"bottom"!==i||"start"!==o||e.current.style.setProperty("left","unset"),"middle"===i&&"end"===o&&e.current.style.setProperty("right","unset"),"middle"===i&&"start"===o&&e.current.style.setProperty("left","unset"))}}(B,r,i,te)}),[B,r,i,te]),o.useEffect((function(){G&&B&&B.current&&B.current.focus()}),[G,B]);var re=o.useCallback((function(e,t){f&&Object(a.e)(t?R:A,e,K(),void 0)}),[R,A,f]),oe=o.useCallback((function(e){e.target&&!c&&(!f&&T?Object(a.e)(T,e,K(),void 0):(q(!$),J(!0),Z($?-1:0),re(e,!$)))}),[q,J,Z,T,re,$,f,c]),ie=o.useCallback((function(e){J(!0),Z($?0:-1),D&&Object(a.e)(D,e,K(),void 0)}),[D,J,Z]),ae=o.useCallback((function(e){J(!1),q(!1),Z(-1),Object(a.e)(M,e,K(),void 0),$&&re(e,!1)}),[M,J,q,Z,re]),se=o.useCallback((function(e){e.preventDefault()}),[]),le=o.useCallback((function(e,t){f&&(f[t].disabled||Object(a.e)(P,e,K(),{itemProps:f[t],itemIndex:t}))}),[P]),ge=o.useCallback((function(e,t){e.target&&f&&(Z(t),q(!1),le(e,t),re(e,!1))}),[Z,q,le,re]),be=o.useCallback((function(e){document.activeElement===B.current&&e.preventDefault()}),[B,document.activeElement]),ke=o.useCallback((function(e){var t=Y,n=f?f.length-1:-1,o="bottom"===r.vertical;switch(e.keyCode){case a.b.enter:case a.b.space:t>=0&&le(e,t),e.preventDefault(),q(!$),Z($?-1:0);break;case a.b.esc:e.preventDefault(),q(!1),Z(-1);break;case a.b.home:e.preventDefault(),Z(0);break;case a.b.end:e.preventDefault(),Z(n);break;case a.b.down:case a.b.right:e.preventDefault(),t<n&&!o&&Z(t+1),t>0&&o&&Z(t-1);break;case a.b.up:case a.b.left:e.preventDefault(),t>0&&!o&&Z(t-1),t<n&&o&&Z(t+1)}Object(a.e)(j,e,K(),void 0)}),[j,Y,Z,te,q]),we=o.useMemo((function(){return Object(a.d)("k-fab","k-fab-"+x,"k-fab-"+b,{"k-fab-sm":"small"===w,"k-fab-md":"medium"===w,"k-fab-lg":"large"===w,"k-state-disabled":c,"k-pos-absolute":"absolute"===g,"k-pos-fixed":"fixed"===g,"k-state-focus":G},"k-"+r.vertical+"-"+r.horizontal,l)}),[x,w,b,c,g,r,G,l]),Oe=f&&f.map((function(e,t){return o.createElement(ce,me({},e,{key:t,index:t,id:ne+"-"+t,disabled:c||e.disabled,focused:Y===t,dataItem:e,item:h,className:Object(a.d)(e.className,(n=ee||"ltr",i=r.horizontal,{rtl:{end:"k-text-left",start:"k-text-right"},ltr:{start:"k-text-left",end:"k-text-right"}}[n]["end"===i?"end":"start"])),onClick:ge,onDown:be}));var n,i})),Ce=u&&!m,xe=(B.current?B.current.offsetWidth:0)/2-16;return o.createElement(o.Fragment,null,o.createElement("button",me({ref:B,id:d||Q,role:f?"menubutton":"button",type:"button","aria-disabled":c,"aria-expanded":f?$:void 0,"aria-haspopup":!!f,"aria-label":(m||"")+" floatingactionbutton","aria-owns":f?ne:void 0,"aria-activedescendant":Y>=0&&f?ne+"-"+Y:void 0,tabIndex:Object(a.i)(E,c),accessKey:I,dir:ee,disabled:c,className:we,style:O,onClick:oe,onMouseDown:se,onFocus:ie,onBlur:ae,onKeyDown:ke},F),u?o.createElement("span",{role:"presentation",className:Object(a.d)("k-fab-icon k-icon k-i-"+u)}):p?o.createElement("span",{role:"presentation",className:p}):null,m&&o.createElement("span",{className:"k-fab-text"},m)),o.createElement(S.Popup,{ref:V,anchor:B.current,show:$,animate:N.animate,popupClass:Object(a.d)("k-popup-transparent k-fab-popup",N.popupClass),anchorAlign:N.anchorAlign||pe(r,te),popupAlign:N.popupAlign||de(r,te),style:{boxShadow:"none"}},o.createElement("ul",{ref:z,role:"menu","aria-labelledby":d,id:ne,className:Object(a.d)("k-fab-items",{"k-fab-items-bottom":"bottom"!==r.vertical,"k-fab-items-top":"bottom"===r.vertical}),style:{paddingLeft:Ce?xe:void 0,paddingRight:Ce?xe:void 0}},Oe)))}));ge.propTypes={className:i.string,style:i.object,id:i.string,dir:i.string,tabIndex:i.number,accessKey:i.string,disabled:i.bool,icon:i.string,iconClass:i.string,text:i.string,alignOffset:i.shape({x:i.oneOfType([i.number,i.string]),y:i.oneOfType([i.number,i.string])}),align:i.shape({vertical:i.oneOf(["top","middle","bottom"]),horizontal:i.oneOf(["start","center","end"])}),positionMode:i.oneOf(["absolute","fixed"]),shape:i.oneOf(["rectangle","rounded","pill"]),size:i.oneOf(["small","medium","large"]),themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"])};var ye={align:{vertical:"bottom",horizontal:"end"},shape:"pill",size:"medium",themeColor:"primary",positionMode:"fixed"};ge.displayName="KendoFloatingActionButton"},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,o=n(1),i=n(0),a=n(2),s=((r={})["labels.optional"]="(Optional)",r),l=n(3),c={name:"@progress/kendo-react-labels",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477576,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},u=function(e){Object(a.r)(c);var t=e.id,n=e.editorId,r=e.editorRef,i=e.editorDisabled,u=e.children,p=e.editorValid,d=e.style,f=e.className,h=e.optional,m=Object(l.useLocalization)(),v=h?m.toLanguageString("labels.optional",s["labels.optional"]):"",g=v&&o.createElement("span",{className:"k-label-optional"},v),y=o.useCallback((function(e){if(r&&r.current&&!i){r.current.focus&&(e.preventDefault(),r.current.focus());var t=r.current.actionElement;t&&(e.preventDefault(),t.click())}}),[r]),b=Object(a.d)({"k-label":!0,"k-label-empty":!u,"k-text-error":!1===p,"k-text-disabled":!0===i},f);return o.createElement("label",{id:t,htmlFor:n,onClick:y,style:d,className:b},u,g)};u.propTypes={id:i.string,editorId:i.string,editorRef:i.oneOfType([i.func,i.shape({current:i.any})]),editorValid:i.bool,editorDisabled:i.bool,style:i.object,className:i.string,optional:i.bool},u.displayName="KendoReactLabel";var p=function(e){Object(a.r)(c);var t=Object(a.d)({"k-form-error":!0,"k-text-start":"start"===e.direction,"k-text-end":"end"===e.direction},e.className);return o.createElement("div",{id:e.id,role:"alert",style:e.style,className:t},e.children)};p.propTypes={id:i.string,direction:i.oneOf(["start","end"]),children:i.oneOfType([i.element,i.node]),style:i.object,className:i.string},p.defaultProps={direction:"start"},p.displayName="KendoReactError";var d=function(e){Object(a.r)(c);var t=Object(a.d)({"k-form-hint":!0,"k-text-start":"start"===e.direction,"k-text-end":"end"===e.direction},e.className);return o.createElement("div",{id:e.id,style:e.style,className:t},e.children)};d.propTypes={id:i.string,direction:i.oneOf(["start","end"]),children:i.oneOfType([i.element,i.node]),style:i.object,className:i.string},d.defaultProps={direction:"start"},d.displayName="KendoReactHint";var f,h=(f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focused:!1},n.handleFocus=function(e){n.setState({focused:!0})},n.handleBlur=function(e){n.setState({focused:!1})},Object(a.r)(c),n}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.editorId,r=e.className,i=e.editorValue,c=e.editorPlaceholder,u=e.editorValid,p=e.editorDisabled,d=e.style,f=e.id,h=e.optional,m=Object(l.provideLocalizationService)(this),v=h?m.toLanguageString("labels.optional",s["labels.optional"]):"",g=v&&o.createElement("span",{className:"k-label-optional"},v),y=Object(a.d)({"k-textbox-container":!0,"k-state-focused":this.state.focused,"k-state-empty":!c&&!i&&0!==i,"k-text-disabled":p,"k-rtl":"rtl"===this.props.dir},r),b=Object(a.d)({"k-label":!0,"k-text-error":!1===u,"k-text-disabled":p});return o.createElement("span",{className:y,onFocus:this.handleFocus,onBlur:this.handleBlur,style:d,dir:this.props.dir},this.props.children,t?n?o.createElement("label",{id:f,htmlFor:n,className:b},t,g):o.createElement("span",{id:f,className:b},t,g):null)},t.propTypes={label:i.string,editorId:i.string,editorValue:i.oneOfType([i.string,i.bool,i.number]),editorPlaceholder:i.string,editorValid:i.bool,editorDisabled:i.bool,id:i.string,style:i.object,className:i.string,optional:i.bool},t}(o.Component);Object(l.registerForLocalization)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"Popup",(function(){return le})),n.d(t,"PopupPropsContext",(function(){return se}));var r=n(1),o=n(10),i=n(0),a=function(e){e.style.transitionDuration="",e.classList.remove("k-slide-down-appear","k-slide-down-appear-active","k-slide-down-exit","k-slide-down-exit-active","k-slide-up-appear","k-slide-up-appear-active","k-slide-up-exit","k-slide-up-exit-active")},s="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent),l=n(2),c="bottom",u="center",p="middle",d="left",f="right",h="top",m=function(e){var t=e.anchorRect,n=e.anchorAlign,r=e.elementRect,o=e.elementAlign,i=e.margin;void 0===i&&(i={});var a=n.horizontal,s=n.vertical,l=o.horizontal,d=o.vertical,h=i.horizontal||0,m=i.vertical||0,v=t.top,g=t.left;return s===c&&(v+=t.height),s!==u&&s!==p||(v+=Math.round(t.height/2)),d===c&&(v-=r.height,m*=-1),d!==u&&d!==p||(v-=Math.round(r.height/2),m*=-1),a===f&&(g+=t.width),a!==u&&a!==p||(g+=Math.round(t.width/2)),l===f&&(g-=r.width,h*=-1),l!==u&&l!==p||(g-=Math.round(r.width/2),h*=-1),{top:v+m,left:g+h}};function v(e){return e.ownerDocument||e.document||e}var g=function(e){return v(e).defaultView},y=function(e){return v(e).documentElement},b=0;function k(){if(!b&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),b=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return b}function w(e){var t=g(e),n=y(e),r={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(r.width-=k()),r}var O=function(e){if(!e.getBoundingClientRect){var t=w(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}},C=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||y(e)},x=function(e){return C(e)===e.ownerDocument.body},S=function(e){var t=e.getBoundingClientRect(),n=t.left,r=t.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,r=t.left,o=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var i=e.getBoundingClientRect();return e.style.display=n,e.style.left=r,e.style.position=o,i}(e)),{top:r,left:n,height:t.height,width:t.width}},E=function(e,t){for(var n=[],r=e.parentNode;r&&(n.push(r),r!==t);)r=r.parentNode;return n};function I(e){var t=y(e),n=g(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var _=function(e){return e===(e.ownerDocument||{}).body?I(e):{x:e.scrollLeft,y:e.scrollTop}};var N=function(e,t){var n=g(e),r=n.getComputedStyle(e),o=S(e),i=t||C(e),a=e.ownerDocument,s=i!==a.body&&i!==a.documentElement,l={top:0,left:0};if("fixed"!==r.position&&s){var c=n.getComputedStyle(i);(l=S(i)).top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:o.top-l.top,left:o.left-l.left,height:o.height,width:o.width}},T=function(e,t){return e?_(e):function(e){var t=C(e);return t?_(t):{x:0,y:0}}(t)};var P="fit",D="flip",M=function(e,t,n){var r=0;return e+t>n&&(r=n-(e+t)),e<0&&(r=-e),r},j=function(e){var t=e.offset,n=e.size,r=e.anchorSize,o=e.viewPortSize,i=e.anchorAlignPoint,a=e.elementAlignPoint,s=0,l=2*e.margin;if(a!==i&&!(a===u||a===p)&&!(i===u||i===p)){var c=i===h||i===d;t<0&&c?t+(s=n+r+l)+n>o&&(s=0):t>=0&&!c&&(t+n>o&&(s+=-(r+n+l)),t+s<0&&(s=0))}return s},R=function(e){var t=e.anchorRect,n=e.anchorAlign,r=e.elementRect,o=e.elementAlign,i=e.collisions,a=e.viewPort,s=e.margin;void 0===s&&(s={});var l=r.top,c=r.left,u=r.height,p=r.width,d=a.height,f=a.width,h=s.horizontal||0,m=s.vertical||0,v=0,g=0,y=i.horizontal===D,b=i.vertical===D;i.vertical===P&&(g+=M(l,u,d)),i.horizontal===P&&(v+=M(c,p,f)),b&&(g+=j({margin:m,offset:l,size:u,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:o.vertical})),y&&(v+=j({margin:h,offset:c,size:p,anchorSize:t.width,viewPortSize:f,anchorAlignPoint:n.horizontal,elementAlignPoint:o.horizontal}));var k=y&&0!==v,w=b&&0!==g;return{flipped:k||w,flip:{horizontal:k,vertical:w},offset:{left:v,top:g}}},A=function(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t},F=function(e,t){for(var n,r,o=E(e),i=t;i&&(n=A(i),!(r=o.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0]));)i=i.parentElement;return r};var L,B=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},z=/auto|scroll/,V=function(e){var t=window.getComputedStyle(e);return""+t.overflow+t.overflowX+t.overflowY},H=function(){if(!l.c||!document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}(),K="fit",W="flip",$="left",q="center",U="right",G="bottom",J="top",X=function(){function e(e){this._dom=e}return e.prototype.alignElement=function(e){var t=e.anchor,n=e.element,r=e.anchorAlign,o=e.elementAlign,i=e.offset,a=!this._dom.hasOffsetParent(n)?this.absoluteRect(t,n,i):this.relativeRect(t,n,i);return this._dom.align({anchorAlign:r,anchorRect:a,elementAlign:o,elementRect:this._dom.offset(n)})},e.prototype.absoluteRect=function(e,t,n){var r=this._dom,o=function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(B(r.offset(e),n),r.stackingElementOffset(t)),i=r.stackingElementScroll(t),a=r.addScroll(o,i),s=this.elementScrollPosition(e,t),l=r.removeScroll(a,s);return l.left+=window.scrollX||window.pageXOffset,l.top+=window.scrollY||window.pageYOffset,l},e.prototype.elementScrollPosition=function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)},e.prototype.relativeRect=function(e,t,n){return B(this._dom.position(e,t),n)},e}(),Y=function(){function e(){}return e.prototype.addOffset=function(e,t){return{left:e.left+t.left,top:e.top+t.top}},e.prototype.align=function(e){return m(e)},e.prototype.boundingOffset=function(e){return O(e)},e.prototype.getWindow=function(){return l.c?window:null},e.prototype.isBodyOffset=function(e){return x(e)},e.prototype.hasOffsetParent=function(e){if(!e)return!1;var t=e.offsetParent;return t&&!("BODY"===t.nodeName&&"static"===window.getComputedStyle(t).position)},e.prototype.offset=function(e){return e?S(e):null},e.prototype.staticOffset=function(e){if(!e)return null;var t=e.style,n=t.left,r=t.top;e.style.left="0px",e.style.top="0px";var o=S(e);return e.style.left=n,e.style.top=r,o},e.prototype.position=function(e,t){return e&&t?function(e,t,n){void 0===n&&(n=1);var r=t?C(t):null,o=N(e,r),i=o.top,a=o.left,s=o.height,l=o.width,c=T(r,e),u=c.x,p=c.y,d=e.ownerDocument,f=r===d.body||r===d.documentElement?1:n;return{top:i+p*f,left:a+u*f,height:s,width:l}}(e,F(e,t)):null},e.prototype.relativeOffset=function(e,t){return n=this.offset(e),r=t,o=this.isBodyOffset(e),i=n.top,a=n.left,o&&(a=0,i=0),{top:i+r.top,left:a+r.left,height:n.height,width:n.width};var n,r,o,i,a},e.prototype.addScroll=function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)},e.prototype.removeScroll=function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)},e.prototype.restrictToView=function(e){return R(e)},e.prototype.scrollPosition=function(e){return I(e)},e.prototype.scrollableParents=function(e){return function(e){var t=[];if(!l.c)return t;for(var n=e.parentElement;n;)z.test(V(n))&&t.push(n),n=n.parentElement;return t.push(window),t}(e)},e.prototype.stackingElementOffset=function(e){var t=this.getRelativeContextElement(e);return t?S(t):null},e.prototype.stackingElementScroll=function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}},e.prototype.stackingElementViewPort=function(e){var t=this.getRelativeContextElement(e);return t?{height:t.scrollHeight,width:t.scrollWidth}:null},e.prototype.getRelativeContextElement=function(e){if(!e||!H)return null;for(var t=e.parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null},e.prototype.useRelativePosition=function(e){return!!this.getRelativeContextElement(e)},e.prototype.windowViewPort=function(e){return w(e)},e.prototype.zIndex=function(e,t){return function(e,t){if(!e||!l.c)return null;var n=F(e,t);if(!n)return null;var r=[e].concat(E(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,r=parseInt(n,10);return r>e?r:e}),0);return r?r+1:null}(e,t)},e.prototype.zoomLevel=function(){return l.c?parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2)):1},e.prototype.isZoomed=function(){return this.zoomLevel()>1},e}(),Z=function(){function e(e){this._dom=e}return e.prototype.positionElement=function(e){var t,n,r=e.anchor,o=e.currentLocation,i=e.element,a=e.anchorAlign,s=e.elementAlign,l=e.collisions,c=this._dom,u=e.viewPort||c.stackingElementViewPort(i)||c.windowViewPort(i),p=B(c.offset(r),o),d=(t=c.staticOffset(i),(n=o)?{height:t.height,left:n.left,top:n.top,width:t.width}:t),f=this.elementRect(i,d),h=c.restrictToView({anchorAlign:a,anchorRect:p,collisions:l,elementAlign:s,elementRect:f,viewPort:u});return{flipped:h.flipped,offset:c.addOffset(d,h.offset)}},e.prototype.elementRect=function(e,t){return this._dom.removeScroll(t,this._dom.scrollPosition(e))},e}(),Q={name:"@progress/kendo-react-popup",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477446,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},ee=(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),te=function(){return(te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ne(e,t){if(e===t)return!0;if(!!e!=!!t)return!1;var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(e[i]!==t[i])return!1}return!0}var re,oe={left:-1e3,top:0};!function(e){e.hiding="hiding",e.hidden="hidden",e.showing="showing",e.shown="shown",e.reposition="reposition"}(re||(re={}));var ie=function(e){function t(t){var n=e.call(this,t)||this;return n.state={current:re.hidden,previous:re.hidden,props:{}},n._popup=null,n.show=function(e){n.setPosition(e),n.animate(e.firstChild,"enter",n.onOpened),n.setState({current:re.shown,previous:n.state.current})},n.setPosition=function(e){var t=n.props,r=t.anchorAlign,o=t.popupAlign,i=t.collision,a=t.offset,s=t.anchor,l=e.firstElementChild,c=getComputedStyle(l),u=c.width,p=c.height;l.style.position="absolute",l.style.width=u,l.style.height=p;var d=n._alignService.alignElement({anchor:s,element:l,elementAlign:o,anchorAlign:r,offset:a}),f=n._positionService.positionElement({anchor:s,anchorAlign:r,collisions:i,element:l,currentLocation:d,elementAlign:o});f.offset&&(e.style.top=f.offset.top+"px",e.style.left=f.offset.left+"px",l.style.position="",l.style.width="",l.style.height=""),n._flipped=f.flipped},n.onOpened=function(){var e=n._popup;e&&(n.props.show&&e.classList.add("k-animation-container-shown"),n.attachRepositionHandlers(e),n.props.onOpen&&n.props.onOpen.call(void 0,{target:n}))},n.animate=function(e,t,r){!function(e,t,n,r,o){if(0===n)return o();var i="k-slide-"+t+"-"+r,l=i+"-active",c=function(){e.removeEventListener("transitionend",c),a(e),o()};e.addEventListener("transitionend",c);var u=e.ownerDocument;if(u){var p=u.defaultView;if(p){var d=function(){a(e),e.classList.add(i),p.requestAnimationFrame((function(){e.style.transitionDuration=n+"ms",e.classList.add(l)}))};s?p.requestAnimationFrame(d):d()}}}(e,n._flipped?"up":"down",n.animationDuration[t],t,r)},n.onClosing=function(e){n.props.show||e.classList.remove("k-animation-container-shown"),n.detachRepositionHandlers()},n.onClosed=function(){n.state.current===re.hiding&&n.state.previous===re.shown&&n.setState({current:re.hidden,previous:n.state.current}),n.props.onClose&&n.props.onClose.call(void 0,{target:n})},Object(l.r)(Q),n._domService=new Y,n._alignService=new X(n._domService),n._positionService=new Z(n._domService),n.reposition=function(e,t,n){var r,o,i,a;void 0===n&&(n={});var s=0;n=n||{};var l=function(){s=!1===n.leading?0:(new Date).getTime(),r=null,a=e.apply(o,i),r||(o=i=null)};return function(){var c=(new Date).getTime();s||!1!==n.leading||(s=c);var u=t-(c-s);return o=this,i=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=window.setTimeout(l,u)),a}}(n.reposition.bind(n),1e3/60),n}return ee(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,r=e.anchor,o=e.anchorAlign,i=e.appendTo,a=e.collision,s=e.popupAlign,l=e.className,c=e.popupClass,u=e.style,p=e.offset,d=e.contentKey,f=te({},t,{props:{show:n,anchor:r,anchorAlign:o,appendTo:i,collision:a,popupAlign:s,className:l,popupClass:c,style:u,offset:p,contentKey:d}});return e.show?t.current===re.hidden||t.current===re.hiding?te({},f,{current:re.showing,previous:t.current}):t.current===re.showing?te({},f,{current:re.shown,previous:t.current}):t.current!==re.shown||ne(p,t.props.offset)&&ne(o,t.props.anchorAlign)&&ne(i,t.props.appendTo)&&ne(a,t.props.collision)&&ne(s,t.props.popupAlign)&&ne(u,t.props.style)&&r===t.props.anchor&&c===t.props.popupClass&&l===t.props.className?f:te({},f,{current:re.reposition,previous:t.current}):t.current===re.hiding||t.current===re.hidden?te({},f,{current:re.hidden,previous:t.current}):te({},f,{current:re.hiding,previous:t.current})},t.prototype.componentDidUpdate=function(e){this.state.current===re.showing&&this._popup?this.show(this._popup):this.state.current===re.hiding&&this._popup?(this.onClosing(this._popup),this.animate(this._popup.firstChild,"exit",this.onClosed)):this.state.current===re.reposition&&this.state.previous===re.shown?this.setState({current:re.shown,previous:this.state.current}):this.state.current===re.shown&&e.contentKey!==this.props.contentKey&&this._popup&&this.setPosition(this._popup)},t.prototype.componentDidMount=function(){this.state.current===re.showing&&this._popup&&this.show(this._popup)},t.prototype.componentWillUnmount=function(){this.detachRepositionHandlers()},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.className,a=t.popupClass,s=t.show,c=t.id,u=this.props.appendTo?this.props.appendTo:l.c?this.props.anchor&&this.props.anchor.ownerDocument?this.props.anchor.ownerDocument.body:document.body:void 0;this.state.current===re.reposition&&this.state.previous===re.shown&&this._popup&&this.setPosition(this._popup);var p=Object.assign({},{position:"absolute"},this.props.style||{}),d=this.state.current===re.hiding;if((s||d)&&u){var f=r.createElement("div",{className:Object(l.d)("k-animation-container","k-animation-container-relative",i),id:c,ref:function(t){return e._popup=t},style:p},r.createElement("div",{className:Object(l.d)(a,"k-popup","k-child-animation-container"),style:{transitionDelay:"0ms"}},n));return o.createPortal(f,u)}return null},Object.defineProperty(t.prototype,"animationDuration",{get:function(){var e=this.props.animate,t=0,n=0;return e&&(!0===e?t=n=300:(t=e.openDuration||0,n=e.closeDuration||0)),{enter:t,exit:n}},enumerable:!0,configurable:!0}),t.prototype.attachRepositionHandlers=function(e){var t=this;this.detachRepositionHandlers(),this._scrollableParents=this._domService.scrollableParents(this.props.anchor||e),this._scrollableParents.map((function(e){return e.addEventListener("scroll",t.reposition)})),window.addEventListener("resize",this.reposition)},t.prototype.detachRepositionHandlers=function(){var e=this;this._scrollableParents&&(this._scrollableParents.map((function(t){return t.removeEventListener("scroll",e.reposition)})),this._scrollableParents=void 0),window.removeEventListener("resize",this.reposition)},t.prototype.reposition=function(){this.setState({current:re.reposition,previous:this.state.current})},t.propTypes={anchor:function(e){var t=e.anchor;if(t&&"number"!=typeof t.nodeType)return new Error("Invalid prop `anchor` supplied to `Kendo React Popup`. Validation failed.")},appendTo:function(e){var t=e.appendTo;if(t&&"number"!=typeof t.nodeType)return new Error("Invalid prop `appendTo` supplied to `Kendo React Popup`. Validation failed.")},className:i.string,id:i.string,popupClass:i.string,collision:i.shape({horizontal:i.oneOf([K,W]),vertical:i.oneOf([K,W])}),anchorAlign:i.shape({horizontal:i.oneOf([$,q,U]),vertical:i.oneOf([J,q,G])}),popupAlign:i.shape({horizontal:i.oneOf([$,q,U]),vertical:i.oneOf([J,q,G])}),offset:i.shape({left:i.number,top:i.number}),children:i.oneOfType([i.element,i.node]),show:i.bool,animate:i.oneOfType([i.bool,i.shape({openDuration:i.number,closeDuration:i.number})])},t.defaultProps={collision:{horizontal:K,vertical:W},anchorAlign:{horizontal:$,vertical:G},popupAlign:{horizontal:$,vertical:J},offset:oe,animate:!0,show:!1},t}(r.Component),ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},se=r.createContext((function(e){return e})),le=r.forwardRef((function(e,t){var n=r.useContext(se).call(void 0,e);return r.createElement(ie,ae({ref:t},n))}))},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=n(4),a=r({},i.indentRules.listsTypes);!function(e){var t={type:"button"};e.bold=r({},i.bold,{props:r({icon:"bold"},t),messages:{title:o.keys.bold},commandName:"Bold"}),e.italic=r({},i.italic,{props:r({icon:"italic"},t),messages:{title:o.keys.italic},commandName:"Italic"}),e.underline=r({},i.underline,{props:r({icon:"underline"},t),messages:{title:o.keys.underline},commandName:"Underline"}),e.strikethrough=r({},i.strikethrough,{props:r({icon:"strikethrough"},t),messages:{title:o.keys.strikethrough},commandName:"Strikethrough"}),e.subscript=r({},i.subscript,{props:r({icon:"subscript"},t),messages:{title:o.keys.subscript},commandName:"Subscript"}),e.superscript=r({},i.superscript,{props:r({icon:"superscript"},t),messages:{title:o.keys.superscript},commandName:"Superscript"}),e.link=r({},i.link,{props:r({icon:"link-horizontal"},t),messages:{insertHyperlink:o.keys.insertHyperlink,insertHyperlinkDialogTitle:o.keys.insertHyperlinkDialogTitle,insertHyperlinkAddress:o.keys.insertHyperlinkAddress,insertHyperlinkTitle:o.keys.insertHyperlinkTitle,insertHyperlinkNewWindow:o.keys.insertHyperlinkNewWindow,insertHyperlinkCancel:o.keys.insertHyperlinkCancel,insertHyperlinkInsert:o.keys.insertHyperlinkInsert},commandName:"Link"}),e.insertFile=r({},i.link,{props:r({icon:"file-add"},t),messages:{insertHyperlink:o.keys.insertFile,insertHyperlinkDialogTitle:o.keys.insertFileDialogTitle,insertHyperlinkAddress:o.keys.insertFileAddress,insertHyperlinkTitle:o.keys.insertFileTitle,insertHyperlinkNewWindow:"",insertHyperlinkCancel:o.keys.insertFileCancel,insertHyperlinkInsert:o.keys.insertFileInsert},commandName:"InsertFile",linkTarget:!1}),e.insertTable={props:r({icon:"table-insert"},t),messages:{createTable:o.keys.createTable,createTableHint:o.keys.createTableHint},commandName:"InsertTable"},e.addRowBefore={props:r({icon:"table-row-insert-above"},t),messages:{title:o.keys.addRowBefore},commandName:"AddRowBefore"},e.addRowAfter={props:r({icon:"table-row-insert-below"},t),messages:{title:o.keys.addRowAfter},commandName:"AddRowAfter"},e.addColumnBefore={props:r({icon:"table-column-insert-left"},t),messages:{title:o.keys.addColumnBefore},commandName:"AddColumnBefore"},e.addColumnAfter={props:r({icon:"table-column-insert-right"},t),messages:{title:o.keys.addColumnAfter},commandName:"AddColumnAfter"},e.deleteRow={props:r({icon:"table-row-delete"},t),messages:{title:o.keys.deleteRow},commandName:"DeleteRow"},e.deleteColumn={props:r({icon:"table-column-delete"},t),messages:{title:o.keys.deleteColumn},commandName:"DeleteColumn"},e.deleteTable={props:r({icon:"table-delete"},t),messages:{title:o.keys.deleteTable},commandName:"DeleteTable"},e.mergeCells={props:r({icon:"cells-merge"},t),messages:{title:o.keys.mergeCells},commandName:"MergeCells"},e.splitCell={props:r({icon:"cell-split-horizontally"},t),messages:{title:o.keys.splitCell},commandName:"SplitCell"},e.print={props:r({icon:"print"},t),messages:{title:o.keys.print}},e.selectAll={props:r({icon:"select-all"},t),messages:{title:o.keys.selectAll}},e.pdf={props:r({icon:"pdf"},t),messages:{title:o.keys.pdf}},e.savePdfOptions={fileName:"editor.pdf",paperSize:"A4",margin:"1cm"},e.cleanFormatting={props:r({icon:"clear-css"},t),messages:{title:o.keys.cleanFormatting},commandName:"CleanFormatting"},e.image={node:"image",props:r({icon:"image"},t),messages:{insertImage:o.keys.insertImage,insertImageDialogTitle:o.keys.insertImageDialogTitle,insertImageAddress:o.keys.insertImageAddress,insertImageTitle:o.keys.insertImageTitle,insertImageAltText:o.keys.insertImageAltText,insertImageWidth:o.keys.insertImageWidth,insertImageHeight:o.keys.insertImageHeight,insertImageCancel:o.keys.insertImageCancel,insertImageInsert:o.keys.insertImageInsert},commandName:"InsertImage"},e.viewHtml={props:r({icon:"html"},t),messages:{viewHtml:o.keys.viewHtml,viewHtmlDialogTitle:o.keys.viewHtmlDialogTitle,viewHtmlCancel:o.keys.viewHtmlCancel,viewHtmlUpdate:o.keys.viewHtmlUpdate},commandName:"SetContent"},e.findAndReplace={props:r({icon:"find"},t),messages:{findReplaceToolTitle:o.keys.findReplaceToolTitle,findReplaceDialogTitle:o.keys.findReplaceDialogTitle,findReplaceTabFind:o.keys.findReplaceTabFind,findReplaceTabReplace:o.keys.findReplaceTabReplace,findReplaceFindWhat:o.keys.findReplaceFindWhat,findReplaceReplaceWith:o.keys.findReplaceReplaceWith,findReplaceReplace:o.keys.findReplaceReplace,findReplaceReplaceAll:o.keys.findReplaceReplaceAll,findReplaceMatchCase:o.keys.findReplaceMatchCase,findReplaceMatchWord:o.keys.findReplaceMatchWord,findReplaceMatchCyclic:o.keys.findReplaceMatchCyclic,findReplaceUseRegExp:o.keys.findReplaceUseRegExp,findReplacePrevMatch:o.keys.findReplacePrevMatch,findReplaceNextMatch:o.keys.findReplaceNextMatch,findReplaceMatches:o.keys.findReplaceMatches}},e.unlink=r({},i.link,{props:r({icon:"unlink-horizontal"},t),messages:{title:o.keys.unlink},commandName:"Unlink"}),e.undo={props:r({icon:"undo"},t),messages:{title:o.keys.undo},commandName:"Undo"},e.redo={props:r({icon:"redo"},t),messages:{title:o.keys.redo},commandName:"Redo"},e.fontSize={style:"font-size",defaultItem:{text:o.messages[o.keys.fontSize],value:"",localizationKey:o.keys.fontSize},items:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],commandName:"FontSize"},e.fontName={style:"font-family",defaultItem:{text:o.messages[o.keys.fontName],value:"",localizationKey:o.keys.fontName},items:[{text:"Arial",value:"Arial, Helvetica, sans-serif",style:{fontFamily:"Arial, Helvetica, sans-serif"}},{text:"Courier New",value:"'Courier New', Courier, monospace",style:{fontFamily:"'Courier New', Courier, monospace"}},{text:"Georgia",value:"Georgia, serif",style:{fontFamily:"Georgia, serif"}},{text:"Impact",value:"Impact, Charcoal, sans-serif",style:{fontFamily:"Impact, Charcoal, sans-serif"}},{text:"Lucida Console",value:"'Lucida Console', Monaco, monospace",style:{fontFamily:"'Lucida Console', Monaco, monospace"}},{text:"Tahoma",value:"Tahoma, Geneva, sans-serif",style:{fontFamily:"Tahoma, Geneva, sans-serif"}},{text:"Times New Roman",value:"'Times New Roman', Times,serif",style:{fontFamily:"'Times New Roman', Times,serif"}},{text:"Trebuchet MS",value:"'Trebuchet MS', Helvetica, sans-serif",style:{fontFamily:"'Trebuchet MS', Helvetica, sans-serif"}},{text:"Verdana",value:"Verdana, Geneva, sans-serif",style:{fontFamily:"Verdana, Geneva, sans-serif"}}],commandName:"FontName"},e.formatBlock={defaultItem:{text:o.messages[o.keys.format],value:"",localizationKey:o.keys.format},items:[{text:"Paragraph",value:"p",style:{display:"block",marginLeft:0}},{text:"Heading 1",value:"h1",style:{display:"block",fontSize:"2em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 2",value:"h2",style:{display:"block",fontSize:"1.5em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 3",value:"h3",style:{display:"block",fontSize:"1.17em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 4",value:"h4",style:{display:"block",fontSize:"1em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 5",value:"h5",style:{display:"block",fontSize:"0.83em",marginLeft:0,fontWeight:"bold"}},{text:"Heading 6",value:"h6",style:{display:"block",fontSize:"0.67em",marginLeft:0,fontWeight:"bold"}}],commandName:"FormatBlock"},e.foreColor={style:"color",colorPickerProps:{icon:"foreground-color",view:"palette",title:o.keys.foregroundColor},commandName:"ForeColor"},e.backColor={style:"background-color",colorPickerProps:{icon:"background",view:"palette",title:o.keys.backgroundColor},commandName:"BackColor"},e.alignLeft={actions:i.alignLeftRules.slice(),props:r({icon:"align-left"},t),messages:{title:o.keys.alignLeft},commandName:"AlignLeft"},e.alignRight={actions:i.alignRightRules.slice(),props:r({icon:"align-right"},t),messages:{title:o.keys.alignRight},commandName:"AlignRight"},e.alignCenter={actions:i.alignCenterRules.slice(),props:r({icon:"align-center"},t),messages:{title:o.keys.alignCenter},commandName:"AlignCenter"},e.alignJustify={actions:i.alignJustifyRules.slice(),props:r({icon:"align-justify"},t),messages:{title:o.keys.alignJustify},commandName:"AlignJustify"},e.alignRemove={actions:i.alignRemoveRules.slice(),props:r({icon:"align-remove"},t),messages:{},commandName:"AlignRemove"},e.indent={actions:i.indentRules.nodes,listsTypes:a,props:r({icon:"indent-increase"},t),messages:{title:o.keys.indent},commandName:"Indent"},e.outdent={actions:i.outdentRules.nodes,listsTypes:a,props:r({icon:"indent-decrease"},t),messages:{title:o.keys.outdent},commandName:"Outdent"},e.orderedList={listType:a.orderedList,props:r({icon:"list-ordered"},t),messages:{title:o.keys.orderedList},commandName:"OrderedList",types:r({},a)},e.bulletList={listType:a.bulletList,props:r({icon:"list-unordered"},t),messages:{title:o.keys.bulletList},commandName:"UnorderedList",types:r({},a)}}(t.EditorToolsSettings||(t.EditorToolsSettings={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return W}));var r,o=n(1),i=n(0),a=n(2),s=n(17),l=function(e){if(!e)return 0;var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop),r=parseFloat(t.marginBottom);return e.offsetHeight+n+r},c=function(e){if(!e)return 0;var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginLeft),r=parseFloat(t.marginRight);return e.offsetWidth+n+r},u={"animation-container":"k-animation-container","animation-container-relative":"k-animation-container-relative","animation-container-fixed":"k-animation-container-fixed","push-right-enter":"k-push-right-enter","push-right-appear":"k-push-right-appear","push-right-enter-active":"k-push-right-enter-active","push-right-appear-active":"k-push-right-appear-active","push-right-exit":"k-push-right-exit","push-right-exit-active":"k-push-right-exit-active","push-left-enter":"k-push-left-enter","push-left-appear":"k-push-left-appear","push-left-enter-active":"k-push-left-enter-active","push-left-appear-active":"k-push-left-appear-active","push-left-exit":"k-push-left-exit","push-left-exit-active":"k-push-left-exit-active","push-down-enter":"k-push-down-enter","push-down-appear":"k-push-down-appear","push-down-enter-active":"k-push-down-enter-active","push-down-appear-active":"k-push-down-appear-active","push-down-exit":"k-push-down-exit","push-down-exit-active":"k-push-down-exit-active","push-up-enter":"k-push-up-enter","push-up-appear":"k-push-up-appear","push-up-enter-active":"k-push-up-enter-active","push-up-appear-active":"k-push-up-appear-active","push-up-exit":"k-push-up-exit","push-up-exit-active":"k-push-up-exit-active",expand:"k-expand","expand-vertical-enter":"k-expand-vertical-enter","expand-vertical-appear":"k-expand-vertical-appear","expand-vertical-enter-active":"k-expand-vertical-enter-active","expand-vertical-appear-active":"k-expand-vertical-appear-active","expand-vertical-exit":"k-expand-vertical-exit","expand-vertical-exit-active":"k-expand-vertical-exit-active","expand-horizontal-enter":"k-expand-horizontal-enter","expand-horizontal-appear":"k-expand-horizontal-appear","expand-horizontal-enter-active":"k-expand-horizontal-enter-active","expand-horizontal-appear-active":"k-expand-horizontal-appear-active","expand-horizontal-exit":"k-expand-horizontal-exit","expand-horizontal-exit-active":"k-expand-horizontal-exit-active","child-animation-container":"k-child-animation-container","fade-enter":"k-fade-enter","fade-appear":"k-fade-appear","fade-enter-active":"k-fade-enter-active","fade-appear-active":"k-fade-appear-active","fade-exit":"k-fade-exit","fade-exit-active":"k-fade-exit-active","zoom-in-enter":"k-zoom-in-enter","zoom-in-appear":"k-zoom-in-appear","zoom-in-enter-active":"k-zoom-in-enter-active","zoom-in-appear-active":"k-zoom-in-appear-active","zoom-in-exit":"k-zoom-in-exit","zoom-in-exit-active":"k-zoom-in-exit-active","zoom-out-enter":"k-zoom-out-enter","zoom-out-appear":"k-zoom-out-appear","zoom-out-enter-active":"k-zoom-out-enter-active","zoom-out-appear-active":"k-zoom-out-appear-active","zoom-out-exit":"k-zoom-out-exit","zoom-out-exit-active":"k-zoom-out-exit-active","slide-in-appear":"k-slide-in-appear",centered:"k-centered","slide-in-appear-active":"k-slide-in-appear-active","slide-down-enter":"k-slide-down-enter","slide-down-appear":"k-slide-down-appear","slide-down-enter-active":"k-slide-down-enter-active","slide-down-appear-active":"k-slide-down-appear-active","slide-down-exit":"k-slide-down-exit","slide-down-exit-active":"k-slide-down-exit-active","slide-up-enter":"k-slide-up-enter","slide-up-appear":"k-slide-up-appear","slide-up-enter-active":"k-slide-up-enter-active","slide-up-appear-active":"k-slide-up-appear-active","slide-up-exit":"k-slide-up-exit","slide-up-exit-active":"k-slide-up-exit-active","slide-right-enter":"k-slide-right-enter","slide-right-appear":"k-slide-right-appear","slide-right-enter-active":"k-slide-right-enter-active","slide-right-appear-active":"k-slide-right-appear-active","slide-right-exit":"k-slide-right-exit","slide-right-exit-active":"k-slide-right-exit-active","slide-left-enter":"k-slide-left-enter","slide-left-appear":"k-slide-left-appear","slide-left-enter-active":"k-slide-left-enter-active","slide-left-appear-active":"k-slide-left-appear-active","slide-left-exit":"k-slide-left-exit","slide-left-exit-active":"k-slide-left-exit-active","reveal-vertical-enter":"k-reveal-vertical-enter","reveal-vertical-appear":"k-reveal-vertical-appear","reveal-vertical-enter-active":"k-reveal-vertical-enter-active","reveal-vertical-appear-active":"k-reveal-vertical-appear-active","reveal-vertical-exit":"k-reveal-vertical-exit","reveal-vertical-exit-active":"k-reveal-vertical-exit-active","reveal-horizontal-enter":"k-reveal-horizontal-enter","reveal-horizontal-appear":"k-reveal-horizontal-appear","reveal-horizontal-enter-active":"k-reveal-horizontal-enter-active","reveal-horizontal-appear-active":"k-reveal-horizontal-appear-active","reveal-horizontal-exit":"k-reveal-horizontal-exit","reveal-horizontal-exit-active":"k-reveal-horizontal-exit-active"},p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},h=u,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.style,i=t.appear,l=t.enter,c=t.exit,u=t.transitionName,p=t.transitionEnterDuration,m=t.transitionExitDuration,v=t.className,g=t.onEnter,y=t.onEntering,b=t.onEntered,k=t.onExit,w=t.onExiting,O=t.onExited,C=t.mountOnEnter,x=t.unmountOnExit,S=t.animationEnteringStyle,E=t.animationEnteredStyle,I=t.animationExitingStyle,_=t.animationExitedStyle,N=f(t,["children","style","appear","enter","exit","transitionName","transitionEnterDuration","transitionExitDuration","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","animationEnteringStyle","animationEnteredStyle","animationExitingStyle","animationExitedStyle"]),T=Object(a.d)(v,h["child-animation-container"]),P=d({transitionDelay:"0ms"},r),D={entering:d({transitionDuration:p+"ms"},S),entered:d({},E),exiting:d({transitionDuration:m+"ms"},I),exited:d({},_)},M={in:this.props.in,appear:i,enter:l,exit:c,mountOnEnter:C,unmountOnExit:x,timeout:{enter:p,exit:m},onEnter:function(t){g&&g.call(void 0,{animatedElement:t,target:e})},onEntering:function(t){y&&y.call(void 0,{animatedElement:t,target:e})},onEntered:function(t){b&&b.call(void 0,{animatedElement:t,target:e})},onExit:function(t){k&&k.call(void 0,{animatedElement:t,target:e})},onExiting:function(t){w&&w.call(void 0,{animatedElement:t,target:e})},onExited:function(t){O&&O.call(void 0,{animatedElement:t,target:e})},classNames:{appear:h[u+"-appear"]||u+"-appear",appearActive:h[u+"-appear-active"]||u+"-appear-active",enter:h[u+"-enter"]||u+"-enter",enterActive:h[u+"-enter-active"]||u+"-enter-active",exit:h[u+"-exit"]||u+"-exit",exitActive:h[u+"-exit-active"]||u+"-exit-active"}};return o.createElement(s.CSSTransition,d({},M,N),(function(t){return o.createElement("div",{style:d({},P,D[t]),className:T,ref:function(t){e._element=t}},n)}))},t.propTypes={in:i.bool,children:i.oneOfType([i.arrayOf(i.node),i.node]),transitionName:i.string.isRequired,className:i.string,appear:i.bool,enter:i.bool,exit:i.bool,transitionEnterDuration:i.number.isRequired,transitionExitDuration:i.number.isRequired,mountOnEnter:i.bool,unmountOnExit:i.bool,animationEnteringStyle:i.object,animationEnteredStyle:i.object,animationExitingStyle:i.object,animationExitedStyle:i.object},t.defaultProps={mountOnEnter:!0,unmountOnExit:!1,onEnter:a.m,onEntering:a.m,onEntered:a.m,onExit:a.m,onExiting:a.m,onExited:a.m,animationEnteringStyle:{},animationEnteredStyle:{},animationExitingStyle:{},animationExitedStyle:{}},t}(o.Component),v={name:"@progress/kendo-react-animation",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477424,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},k=u,w=function(e){function t(t){var n=e.call(this,t)||this;return Object(a.r)(v),n}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.style,r=e.children,i=e.component,l=e.className,c=e.childFactory,u=(e.stackChildren,e.componentChildStyle),p=e.componentChildClassName,d=b(e,["id","style","children","component","className","childFactory","stackChildren","componentChildStyle","componentChildClassName"]),f={id:t,style:n,component:i,childFactory:c,className:Object(a.d)(k["animation-container"],k["animation-container-relative"],l)},h=o.Children.map(r||null,(function(e){return o.createElement(m,y({},d,{style:u,className:p}),e)}));return o.createElement(s.TransitionGroup,y({},f),h)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,component:i.string,id:i.string,style:i.any,transitionName:i.string.isRequired,appear:i.bool.isRequired,enter:i.bool.isRequired,exit:i.bool.isRequired,transitionEnterDuration:i.number.isRequired,transitionExitDuration:i.number.isRequired},t.defaultProps={component:"div"},t}(o.Component),O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=x(e,["children"]);return o.createElement(w,C({},{transitionName:"fade"},n),t)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,component:i.string,id:i.string,style:i.any},t.defaultProps={appear:!1,enter:!0,exit:!1,transitionEnterDuration:500,transitionExitDuration:500},t}(o.Component),E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},N=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}E(t,e),t.prototype.render=function(){var e=this.props,t=e.direction,n=e.children,r=_(e,["direction","children"]),i={transitionName:"expand-"+t};return o.createElement(w,I({},i,r),n)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["horizontal","vertical"]),component:i.string,id:i.string,style:i.any},t.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"}}(o.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},D={position:"absolute",top:"0",left:"0"},M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}N(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.direction,r=P(e,["children","direction"]);return o.createElement(w,T({},r,{transitionName:"push-"+n,animationExitingStyle:this.props.stackChildren?D:void 0}),t)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["up","down","left","right"]),component:i.string,id:i.string,style:i.any,stackChildren:i.bool},t.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"right",stackChildren:!1}}(o.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},A=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}M(t,e),t.prototype.render=function(){var e=this.props,t=e.direction,n=e.children,r=R(e,["direction","children"]),i={transitionName:"slide-"+t};return o.createElement(w,j({},i,r),n)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["up","down","left","right"]),component:i.string,id:i.string,style:i.any},t.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"down"}}(o.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},B={position:"absolute",top:"0",left:"0"},z=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}A(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.direction,r=L(e,["children","direction"]);return o.createElement(w,F({},r,{transitionName:"zoom-"+n,animationExitingStyle:this.props.stackChildren?B:void 0}),t)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["in","out"]),component:i.string,id:i.string,style:i.any,stackChildren:i.bool},t.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"out",stackChildren:!1}}(o.Component),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={maxHeight:void 0,maxWidth:void 0},t.componentWillEnter=function(e){var n=t.props.onEnter;t.updateContainerDimensions(e.animatedElement,(function(){n&&n.call(void 0,e)}))},t.componentIsEntering=function(e){var n=t.props.onEntering;t.updateContainerDimensions(e.animatedElement,(function(){n&&n.call(void 0,e)}))},t.componentWillExit=function(e){var n=t.props.onExit;t.updateContainerDimensions(e.animatedElement,(function(){n&&n.call(void 0,e)}))},t.updateContainerDimensions=function(e,n){void 0===n&&(n=a.m);var r=e.firstChild;if(r){var o=l(r),i=c(r);t.setState({maxHeight:o,maxWidth:i},n)}},t}return z(t,e),t.prototype.render=function(){var e,t=this.props,n=t.direction,r=t.children,i=t.childFactory,a=H(t,["direction","children","childFactory"]),s=this.state,l=s.maxHeight,c=s.maxWidth,u={maxHeight:(e="vertical"===n?{maxHeight:l?l+"px":null}:{maxWidth:c?c+"px":null}).maxHeight,maxWidth:e.maxWidth};return o.createElement(w,V({},a,{childFactory:i||function(t){return t.props.in?t:o.cloneElement(t,V({},t.props,{style:V({},t.props.style,{maxHeight:e.maxHeight,maxWidth:e.maxWidth})}))},onEnter:this.componentWillEnter,onEntering:this.componentIsEntering,onExit:this.componentWillExit,animationEnteringStyle:u,transitionName:"reveal-"+n}),r)},t.propTypes={children:i.oneOfType([i.arrayOf(i.node),i.node]),childFactory:i.any,className:i.string,direction:i.oneOf(["horizontal","vertical"]),component:i.string,id:i.string,style:i.any},t.defaultProps={appear:!1,enter:!0,exit:!0,transitionEnterDuration:300,transitionExitDuration:300,direction:"vertical"},t}(o.Component),W=function(e,t){var n=o.useRef(0),r=o.useRef(!1),i=o.useRef();o.useEffect((function(){return function(e){var t,r=e.duration,o=n.current&&1-n.current;e.onStart&&e.onStart();var a=function(s){t||(t=s);var l=(s-t+1)/r+o;l<=1?(e.onUpdate&&e.onUpdate(l),i.current=window.requestAnimationFrame(a),n.current=l):(e.onEnd&&e.onEnd(1),n.current=0)};i.current=window.requestAnimationFrame(a)}(e),function(){i.current&&window.cancelAnimationFrame(i.current)}}),t),o.useEffect((function(){r.current=!0}),[])}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(28),a=n(29),s=n(30),l=n(20);!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(i.InsertLinkDialog);e.InsertLinkDialog=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a.InsertImageDialog);e.InsertImageDialog=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(s.ViewHtmlDialog);e.ViewHtmlDialog=r;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(l.FindAndReplaceDialog);e.FindAndReplaceDialog=c}(t.EditorDialogs||(t.EditorDialogs={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Dialog",(function(){return m})),n.d(t,"DialogActionsBar",(function(){return l})),n.d(t,"Window",(function(){return _})),n.d(t,"WindowActionsBar",(function(){return x}));var r=n(1),o=n(10),i=n(0),a=function(e){var t=e.children,n=e.onCloseButtonClick,o=e.id,i=e.closeIcon;return r.createElement("div",{className:"k-window-titlebar k-dialog-titlebar k-header",id:o},r.createElement("div",{className:"k-window-title k-dialog-title"},t),r.createElement("div",{className:"k-window-actions k-dialog-actions"},i&&r.createElement("a",{href:"#",role:"button","aria-label":"Close",onClick:n,className:"k-button k-flat k-button-icon k-window-action k-dialog-action k-dialog-close"},r.createElement("span",{className:"k-icon k-i-x"}))))},s=n(2),l=function(e){var t=e.layout,n=void 0===t?p.layout:t,o=e.children,i=Object(s.d)("k-dialog-buttongroup","k-actions","k-hstack",{"k-justify-content-start":"start"===n,"k-justify-content-center":"center"===n,"k-justify-content-end":"end"===n,"k-justify-content-stretch":"stretched"===n});return r.createElement("div",{className:i},o)};l.propTypes={children:i.any,layout:i.oneOf(["start","center","end","stretched"])};var c,u,p={layout:"stretched"},d={name:"@progress/kendo-react-dialogs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477761,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},f=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e){function t(t){var n=e.call(this,t)||this;return n.DialogRef=r.createRef(),n.titleId=n.generateTitleId(),n.handleCloseDialog=function(e){e.preventDefault(),Object(s.e)(n.props.onClose,e,n,void 0)},n.handleKeyDown=function(e){e.keyCode===s.b.esc&&n.props.onClose&&(e.preventDefault(),n.handleCloseDialog(e));var t=n.DialogRef.current;if(t&&e.keyCode===s.b.tab){var r=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=r[0],i=r[r.length-1];e.shiftKey?document.activeElement===o&&(i.focus(),e.preventDefault()):document.activeElement===i&&(o.focus(),e.preventDefault())}},Object(s.r)(d),n}return f(t,e),t.prototype.componentDidMount=function(){this.DialogRef.current&&this.props.autoFocus&&this.DialogRef.current.focus()},t.prototype.render=function(){var e=void 0!==this.props.id?this.props.id:this.titleId,t=this.props,n=t.title,i=t.width,s=t.height,l=t.children,c=t.minWidth,u=t.dir,p=t.style,d=t.contentStyle,f=r.Children.toArray(l),m=this.getContent(f),v=this.getActionBar(f),g=n?{"aria-labelledby":e}:null,y=void 0===this.props.closeIcon||this.props.closeIcon,b=r.createElement("div",{className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.handleKeyDown,tabIndex:0,dir:u,style:p,ref:this.DialogRef},r.createElement("div",{className:"k-overlay"}),r.createElement("div",h({},g,{className:"k-widget k-window k-dialog",role:"dialog",style:{width:i,height:s,minWidth:c}}),this.props.title&&r.createElement(a,{closeIcon:y,onCloseButtonClick:this.handleCloseDialog,id:e},n),r.createElement("div",{className:"k-window-content k-dialog-content",style:d},m),v));return this.props.appendTo?Object(o.createPortal)(b,this.props.appendTo):b},t.prototype.getActionBar=function(e){return e.filter((function(e){return e&&e.type===l}))},t.prototype.getContent=function(e){return e.filter((function(e){return e&&e.type!==l}))},t.prototype.generateTitleId=function(){return"dialog-title"+Object(s.k)()},t.propTypes={title:i.any,id:i.string,dir:i.string,style:i.object,closeIcon:i.bool,width:i.oneOfType([i.number,i.string]),height:i.oneOfType([i.number,i.string]),minWidth:i.oneOfType([i.number,i.string]),autoFocus:i.bool},t.defaultProps={autoFocus:!1},t}(r.Component);!function(e){e.DEFAULT="DEFAULT",e.FULLSCREEN="FULLSCREEN",e.MINIMIZED="MINIMIZED"}(u||(u={}));var v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e){var t=e.children,n=e.onCloseButtonClick,o=e.onMinimizeButtonClick,i=e.onFullScreenButtonClick,a=e.onRestoreButtonClick,s=e.onDoubleClick,l=e.stage,c=e.forwardedRef,p=e.minimizeButton?r.createElement(e.minimizeButton,{onClick:o,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:o},r.createElement("span",{className:"k-icon k-i-window-minimize",role:"presentation"})),d=e.maximizeButton?r.createElement(e.maximizeButton,{onClick:i,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:i},r.createElement("span",{className:"k-icon k-i-window-maximize",role:"presentation"})),f=e.restoreButton?r.createElement(e.restoreButton,{onClick:a,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:a},r.createElement("span",{className:"k-icon k-i-window-restore",role:"presentation"})),h=e.closeButton?r.createElement(e.closeButton,{onClick:n,stage:l}):r.createElement("button",{className:"k-button-icon k-button k-flat",onClick:n},r.createElement("span",{className:"k-icon k-i-close",role:"presentation"}));return r.createElement("div",{className:"k-window-titlebar k-dialog-titlebar",style:{touchAction:"none"},ref:c,onDoubleClick:s},r.createElement("div",{className:"k-window-title"},t||""),r.createElement("div",{className:"k-window-actions"},l===u.DEFAULT&&p,l===u.DEFAULT&&d,l!==u.DEFAULT&&f,h))},y=r.forwardRef((function(e,t){return r.createElement(g,v({},e,{forwardedRef:t}))})),b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=["n","e","s","w","se","sw","ne","nw"],w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",null," ",k.map((function(t,n){return r.createElement(s.a,{key:n,onDrag:function(n){var r=n.event;r.originalEvent.preventDefault(),e.props.onResize(r,{end:!1,direction:t})},onRelease:function(n){var r=n.event;r.originalEvent.preventDefault(),e.props.onResize(r,{end:!0,direction:t})}},r.createElement("div",{className:"k-resize-handle k-resize-"+t,style:{display:"block",touchAction:"none"}}))})))},t}(r.Component),O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.shouldComponentUpdate=function(e){return e.shouldUpdateOnDrag||!e.isDragging},t.prototype.render=function(){return this.props.children},t}(r.Component),x=function(e){var t=e.layout,n=void 0===t?S.layout:t,o=e.children,i=Object(s.d)("k-window-buttongroup","k-actions","k-hstack",{"k-justify-content-start":"start"===n,"k-justify-content-center":"center"===n,"k-justify-content-end":"end"===n,"k-justify-content-stretch":"stretched"===n});return r.createElement("div",{className:i},o)};x.propTypes={children:i.any,layout:i.oneOf(["start","center","end","stretched"])};var S={layout:"end"},E=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_=function(e){function t(t){var n=e.call(this,t)||this;return n.offSetCoordinates={x:0,y:0},n.onPress=function(e){var t=e.event;n.windowCoordinatesState.differenceLeft=t.pageX-n.left,n.windowCoordinatesState.differenceTop=t.pageY-n.top},n.onDrag=function(e){var t=e.event;t.originalEvent.preventDefault(),n.windowStage!==u.FULLSCREEN&&n.props.draggable&&(n.setState({top:Math.max(t.pageY-n.windowCoordinatesState.differenceTop,0),left:t.pageX-n.windowCoordinatesState.differenceLeft,isDragging:!0}),n.props.onMove&&n.dispatchMoveEvent(n.props.onMove,t,!0,!1))},n.onRelease=function(e){var t=e.event;n.windowStage!==u.FULLSCREEN&&n.props.draggable&&n.props.onMove&&n.dispatchMoveEvent(n.props.onMove,t,!0,!0),n.setState({isDragging:!1})},n.handleKeyDown=function(e){if(e.target===e.currentTarget){var t=n.props.minWidth||120,r=n.props.minHeight||100;if(e.ctrlKey&&n.props.resizable){switch(e.keyCode){case s.b.up:e.preventDefault(),r<=n.height-5&&n.setState({height:n.height-5});break;case s.b.down:e.preventDefault(),n.setState({height:n.height+5});break;case s.b.left:t<=n.width-5&&n.setState({width:n.width-5});break;case s.b.right:n.setState({width:n.width+5});break;default:return}n.dispatchMoveEvent(n.props.onResize,e,!1,void 0)}else if(e.altKey)switch(e.keyCode){case s.b.up:n.windowStage===u.MINIMIZED?(n.handleRestore(e),Object(s.e)(n.props.onStageChange,e,n,{state:u.DEFAULT})):n.windowStage===u.DEFAULT&&(n.handleFullscreen(e),Object(s.e)(n.props.onStageChange,e,n,{state:u.FULLSCREEN}));break;case s.b.down:n.windowStage===u.FULLSCREEN?(n.handleRestore(e),Object(s.e)(n.props.onStageChange,e,n,{state:u.DEFAULT})):n.windowStage===u.DEFAULT&&(n.handleMinimize(e),Object(s.e)(n.props.onStageChange,e,n,{state:u.MINIMIZED}))}else{if(!e.ctrlKey)switch(e.keyCode){case s.b.esc:return void(n.props.onClose&&n.handleCloseWindow(e));case s.b.up:n.setState({top:n.state.top-5});break;case s.b.down:n.setState({top:n.state.top+5});break;case s.b.left:n.setState({left:n.state.left-5});break;case s.b.right:n.setState({left:n.state.left+5});break;default:return}n.dispatchMoveEvent(n.props.onMove,e,!1,void 0)}}},n.getInitialTop=function(){if(void 0!==n.props.top)return n.props.top;if(void 0!==n.props.initialTop)return n.props.initialTop;var e=300;return void 0!==n.props.height?e=n.props.height:void 0!==n.props.initialHeight&&(e=n.props.initialHeight),n.props.appendTo?n.props.appendTo.offsetHeight/2-e/2:window.innerHeight/2-e/2},n.getInitialLeft=function(){if(void 0!==n.props.left)return n.props.left;if(void 0!==n.props.initialLeft)return n.props.initialLeft;var e=300;return void 0!==n.props.width?e=n.props.width:void 0!==n.props.initialWidth&&(e=n.props.initialWidth),n.props.appendTo?n.props.appendTo.offsetWidth/2-e/2:window.innerWidth/2-e/2},n.getInitialWidth=function(){var e=300;return void 0!==n.props.width?e=n.props.width:void 0!==n.props.initialWidth&&(e=n.props.initialWidth),e},n.getInitialHeight=function(){var e=300;return void 0!==n.props.height?e=n.props.height:void 0!==n.props.initialHeight&&(e=n.props.initialHeight),e},n.handleMinimize=function(e){e.preventDefault(),n.windowCoordinatesState.leftBeforeAction=n.left,n.windowCoordinatesState.topBeforeAction=n.top,n.windowCoordinatesState.widthBeforeAction=n.width,n.windowCoordinatesState.heightBeforeAction=n.height,n.setState({stage:u.MINIMIZED,height:0}),Object(s.e)(n.props.onStageChange,e,n,{state:u.MINIMIZED})},n.handleFullscreen=function(e){e.preventDefault(),n.windowCoordinatesState.leftBeforeAction=n.left,n.windowCoordinatesState.topBeforeAction=n.top,n.windowCoordinatesState.widthBeforeAction=n.width,n.windowCoordinatesState.heightBeforeAction=n.height,n.setState({left:0,top:0,width:n.props.appendTo?n.props.appendTo.offsetWidth:window.innerWidth,height:n.props.appendTo?n.props.appendTo.offsetHeight:window.innerHeight,stage:u.FULLSCREEN}),Object(s.e)(n.props.onStageChange,e,n,{state:u.FULLSCREEN})},n.handleRestore=function(e){e.preventDefault(),n.windowStage===u.FULLSCREEN?n.setState({stage:u.DEFAULT,left:n.windowCoordinatesState.leftBeforeAction,top:n.windowCoordinatesState.topBeforeAction,width:n.windowCoordinatesState.widthBeforeAction,height:n.windowCoordinatesState.heightBeforeAction}):n.windowStage===u.MINIMIZED&&n.setState({stage:u.DEFAULT,height:n.windowCoordinatesState.heightBeforeAction}),Object(s.e)(n.props.onStageChange,e,n,{state:u.DEFAULT})},n.handleCloseWindow=function(e){e.preventDefault(),Object(s.e)(n.props.onClose,e,n,{state:void 0})},n.handleDoubleClick=function(e){n.windowStage===u.FULLSCREEN||n.windowStage===u.MINIMIZED?n.handleRestore(e):n.handleFullscreen(e)},n.handleResize=function(e,t){var r=n.props.appendTo?e.pageX-n.offSetCoordinates.x:e.pageX,o=n.props.appendTo?e.pageY-n.offSetCoordinates.y:e.pageY,i=n.width,a=n.height,s=n.props.minWidth||120,l=n.props.minHeight||100,c=n.top-o,u=n.left-r,p=r-n.left,d=o-n.top,f=Object.assign({},n.state,{isDragging:!t.end});t.direction.indexOf("n")>=0&&l-(a+c)<0&&(n.top>0&&(f.height=a+c),f.top=o),t.direction.indexOf("s")>=0&&l-d<0&&(f.height=d),t.direction.indexOf("w")>=0&&s-(i+u)<0&&(n.left>0&&(f.width=i+u),f.left=r),t.direction.indexOf("e")>=0&&s-p<0&&(f.width=p),n.setState(f),n.dispatchMoveEvent(n.props.onResize,e,!0,t.end)},n.dispatchMoveEvent=function(e,t,r,o){e&&e.call(void 0,{nativeEvent:t.nativeEvent?t.nativeEvent:t.originalEvent,drag:r,end:o,target:n,left:n.state.left,top:n.state.top,width:n.state.width,hight:n.state.height,height:n.state.height})},n.handleBrowserWindowResize=function(){n.windowStage===u.FULLSCREEN&&n.setState({width:n.props.appendTo?n.props.appendTo.offsetWidth:window.innerWidth,height:n.props.appendTo?n.props.appendTo.offsetHeight:window.innerHeight})},n.setZindex=function(){if(n.state.focused){var e=document&&document.querySelectorAll(".k-window"),t=10002;return e.forEach((function(e){var n=window.getComputedStyle(e,null),r=parseInt(null!==n.zIndex?n.zIndex:"10002",10);r>t&&(t=r)})),(t+1).toString()}return n.windowElement.style.zIndex},Object(s.r)(d),n.state={stage:n.props.stage||u.DEFAULT,isDragging:!1,top:n.getInitialTop(),left:n.getInitialLeft(),width:n.getInitialWidth(),height:n.getInitialHeight(),focused:!0},n.windowCoordinatesState={leftBeforeAction:n.getInitialLeft(),topBeforeAction:n.getInitialTop(),widthBeforeAction:n.getInitialWidth(),heightBeforeAction:n.getInitialHeight()},n}return E(t,e),t.prototype.componentDidMount=function(){if(window&&window.addEventListener("resize",this.handleBrowserWindowResize),this.props.appendTo){var e=this.props.appendTo.getBoundingClientRect(),t=document.body.getBoundingClientRect();this.offSetCoordinates.x=e.left-t.left,this.offSetCoordinates.y=e.top-t.top}},t.prototype.componentWillUnmount=function(){window&&window.removeEventListener("resize",this.handleBrowserWindowResize)},t.prototype.componentDidUpdate=function(){if(this.props.appendTo){var e=this.props.appendTo.getBoundingClientRect(),t=document.body.getBoundingClientRect();this.offSetCoordinates.x=e.left-t.left,this.offSetCoordinates.y=e.top-t.top}},t.prototype.render=function(){var e=this,t=r.Children.toArray(this.props.children),n=this.getContent(t),i=this.getActionBar(t),a=Object(s.d)("k-widget","k-window",this.props.className,{"k-window-minimized":"MINIMIZED"===this.state.stage},{"k-window-focused":this.state.focused}),l=r.createElement(r.Fragment,null,this.props.modal&&r.createElement("div",{className:"k-overlay"}),r.createElement("div",{tabIndex:0,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},onKeyDown:this.handleKeyDown,ref:function(t){return e.windowElement=t},className:a,style:I({top:this.top,left:this.left,width:this.width,height:this.height||"",zIndex:this.setZindex()},this.props.style)},r.createElement(C,{shouldUpdateOnDrag:this.props.shouldUpdateOnDrag||!1,isDragging:this.state.isDragging},r.createElement(s.a,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease,ref:function(t){return e.draggable=t}},r.createElement(y,{stage:this.windowStage,onDoubleClick:this.props.doubleClickStageChange?this.handleDoubleClick:void 0,onMinimizeButtonClick:this.handleMinimize,onFullScreenButtonClick:this.handleFullscreen,onRestoreButtonClick:this.handleRestore,onCloseButtonClick:this.handleCloseWindow,closeButton:this.props.closeButton,minimizeButton:this.props.minimizeButton,maximizeButton:this.props.maximizeButton,restoreButton:this.props.restoreButton},this.props.title)),this.windowStage!==u.MINIMIZED?r.createElement(r.Fragment,null,r.createElement("div",{className:"k-window-content"},n),i):null,this.windowStage===u.DEFAULT&&this.props.resizable?r.createElement(w,{onResize:this.handleResize}):null)));return this.props.appendTo?o.createPortal(l,this.props.appendTo):l},Object.defineProperty(t.prototype,"top",{get:function(){return this.windowStage!==u.FULLSCREEN?Math.max(this.props.top||this.state.top,0):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.windowStage!==u.FULLSCREEN?Math.max(this.props.left||this.state.left,0):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e=this.props.width||this.state.width;if(this.windowStage===u.FULLSCREEN){if(this.props.appendTo)return e=this.props.appendTo.offsetWidth;e=window.innerWidth}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.props.height||this.state.height;if(this.windowStage===u.FULLSCREEN){if(this.props.appendTo)return e=this.props.appendTo.offsetHeight;e=window.innerHeight}else this.windowStage===u.MINIMIZED&&(e=0);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowStage",{get:function(){return this.props.stage||this.state.stage},enumerable:!0,configurable:!0}),t.prototype.getActionBar=function(e){return e.filter((function(e){return e&&e.type===x}))},t.prototype.getContent=function(e){return e.filter((function(e){return e&&e.type!==x}))},t.propTypes={id:i.string,width:i.oneOfType([i.number,i.string]),height:i.oneOfType([i.number,i.string]),left:i.oneOfType([i.number,i.string]),top:i.oneOfType([i.number,i.string]),initialwidth:i.oneOfType([i.number,i.string]),initialHeight:i.oneOfType([i.number,i.string]),initialLeft:i.oneOfType([i.number,i.string]),initialTop:i.oneOfType([i.number,i.string]),minWidth:i.oneOfType([i.number,i.string]),minHeight:i.oneOfType([i.number,i.string]),resizable:i.bool,draggable:i.bool,title:i.any,shouldUpdateOnDrag:i.bool,stage:i.oneOf(["DEFAULT","MINIMIZED","FULLSCREEN"]),className:i.string,style:i.object},t.defaultProps={minWidth:120,minHeight:100,resizable:!0,draggable:!0,modal:!1,doubleClickStageChange:!0},t}(r.Component)},function(e,t){e.exports=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=n(19),a=n(4);!function(e){e.alignBlocks=function(e,t,n){return Boolean(a.alignBlocks(t,n)(e.state,e.dispatch))},e.applyInlineStyle=function(e,t,n){return a.applyInlineStyle(t,n)(e.state,e.dispatch)},e.applyLink=function(e,t,n){return a.applyLink(t,n)(e.state,e.dispatch)},e.canIndentList=function(e,t){return a.canIndentAsListItem(e,t)},e.canInsert=function(e,t){return a.canInsert(e,t)},e.canOutdentList=function(e,t){return a.canOutdentAsListItem(e,{listsTypes:t,nodes:[]})},e.convertMsLists=function(e){return a.convertMsLists(e)},e.createDocument=function(e,t,n){return a.parseContent(t,e,void 0!==n?n:{preserveWhitespace:"full"})},e.createTable=function(e,t,n){return a.createTable(e,t,n)},e.formatBlockElements=function(e,t,n){return a.formatBlockElements(t,n)(e.state,e.dispatch)},e.getBlockFormats=function(e){return a.getBlockFormats(e)},e.getHtml=function(e){return a.getHtml(e)},e.getInlineStyles=function(e,t){return a.getInlineStyles(e,t)},e.getMark=function(e,t){return a.getMark(e,t)},e.hasMark=function(e,t){return a.hasMark(e,t)},e.hasNode=function(e,t){return a.hasNode(e,t)},e.indentBlocks=function(e,t,n,r){return Boolean(a.indentBlocks(t,n,r)(e.state,e.dispatch))},e.indentHtml=function(e){return a.indentHtml(e)},e.insertNode=function(e,t,n){a.insertNode(t,n)(e.state,e.dispatch)},e.isAligned=function(e,t){return a.isAligned(e,t)},e.isIndented=function(e,t,n){return a.isIndented(e,t,n)},e.removeComments=function(e){return a.removeComments(e)},e.removeTag=function(e,t){return a.removeTag(e,t)},e.pasteCleanup=function(e,t){return a.pasteCleanup(e,t)},e.sanitizeClassAttr=function(e){a.sanitizeClassAttr(e)},e.sanitizeStyleAttr=function(e){a.sanitizeStyleAttr(e)},e.removeAttribute=function(e){a.removeAttribute(e)},e.sanitize=function(e){return a.sanitize(e)},e.replaceImageSourcesFromRtf=function(e,t){return a.replaceImageSourcesFromRtf(e,t)},e.textHighlight=function(e){return a.textHighlight(e)},e.setHtml=function(e,t,n,r){a.setHtml(t,n,r)(e.state,e.dispatch)},e.toggleInlineFormat=function(e,t,n,r){return a.toggleInlineFormat(t,n,r)(e.state,e.dispatch)},e.toggleList=function(e,t,n){return a.toggleList(e.state,e.dispatch,e,t,n)},e.getShortcuts=function(e){return o.getShortcuts(e)},e.marks=r({},i.marks),e.nodes=r({},i.nodes)}(t.EditorUtils||(t.EditorUtils={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.marks=r.marks,t.nodes=r.nodes},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(10),l=n(16),c=n(58),u=n(3),p=n(5),d=n(13),f=n(6),h=n(4),m={className:"k-checkbox",type:"checkbox"},v=d.EditorToolsSettings.findAndReplace,g=function(e){function t(t){var n=e.call(this,t)||this;return n.onTabSelect=function(e){n.setState({selectedTab:e.selected})},n.onClose=function(){var e=n.props.view,t=e.state,r=t.tr.setSelection(h.TextSelection.create(t.doc,t.selection.from,t.selection.to));e.updateState(t.apply(r)),e.focus(),n.props.onClose.call(void 0)},n.matchesMessage=function(e){var t=n.state.matches,r=n.state.nextMatch,o=0,i=0;if(t&&r){var a=t.findIndex((function(e){return e.eq(r)}));o=-1===a?t.length:a+1,i=t.length}return f.formatString(e,o,i)},n.onFindNext=function(){n.onFind()},n.onFindPrev=function(){n.onFind(!0)},n.onFind=function(e){void 0===e&&(e=!1);var t=n.props.view,r=n.state,o=r.searchText,i=r.matchCase,a=r.matchCyclic,s={text:o,matchWord:r.matchWord,matchCase:i,useRegExp:r.useRegExp,backward:e,matchCyclic:a},l=h.find(t.state,s);if(l){var c=t.state.tr.setSelection(l);c.scrollIntoView(),t.updateState(t.state.apply(c)),n.setState({nextMatch:l})}},n.onReplace=function(){var e=n.props.view,t=e.state.selection,r=n.state.replaceText;if(!t.empty){var o=t.from,i=o+r.length,a=h.replace(t,r,e.state.tr);a.setSelection(h.TextSelection.create(a.doc,o,i)),a.scrollIntoView(),e.dispatch(a),n.setNextState({})}},n.onReplaceAll=function(){var e=n.props.view,t=n.state,r=t.searchText,o=t.replaceText,i=t.matchCase,a={text:r,matchWord:t.matchWord,matchCase:i,useRegExp:t.useRegExp};e.dispatch(h.replaceAll(e.state,o,a)),n.setNextState({})},n.onKeyDown=function(e){13===e.keyCode?n.onFindNext():27===e.keyCode&&n.onClose()},n.onMatchCaseChecked=function(e){return n.setNextState({matchCase:e.target.checked})},n.onMatchWordChecked=function(e){return n.setNextState({matchWord:e.target.checked})},n.onMatchCyclicChecked=function(e){return n.setNextState({matchCyclic:e.target.checked})},n.onUseRegExpChecked=function(e){return n.setNextState({useRegExp:e.target.checked})},n.onSearchChange=function(e){return n.setNextState({searchText:e.target.value})},n.onReplaceChange=function(e){return n.setNextState({replaceText:e.target.value})},n.setNextState=function(e){var t=i({},n.state,e,{matches:void 0,nextMatch:void 0}),r=n.props.view;if(t.searchText){var o=t.searchText,a=t.matchWord,s=t.matchCase,l=t.useRegExp,c=t.matchCyclic,u={text:o,matchWord:a,matchCase:s,useRegExp:l},p=r.state.selection,d=h.findAll(r.state.doc,u),f=!n.state.searchText&&d[0]||d.find((function(e){return e.from>=p.from}))||c&&d[0]||void 0;n.setState(i({},t,{matches:d,nextMatch:f}))}else n.setState(t)},n.state={selectedTab:0,searchText:h.selectedLineTextOnly(t.view.state),replaceText:"",matchCase:!1,matchWord:!1,matchCyclic:!1,useRegExp:!1},n}return o(t,e),Object.defineProperty(t.prototype,"settings",{get:function(){return this.props.settings||v},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){var n=this.props.view,r=this.state,o=r.matches,i=void 0===o?[]:o,a=r.nextMatch;if(t.nextMatch!==a){var s=n.state,l=s.tr,c=[];i.forEach((function(e){c.push({from:e.from,to:e.to,attrs:{class:a&&e.eq(a)?"k-text-selected":"k-text-highlighted"}})})),l.setMeta(h.textHighlightKey,c),l.setSelection(a||h.TextSelection.create(s.doc,s.selection.from)),n.dispatch(l)}},t.prototype.render=function(){var e=u.provideLocalizationService(this),t=this.settings.messages,n=t.findReplaceDialogTitle,r=t.findReplaceTabFind,o=t.findReplaceTabReplace,d=t.findReplaceFindWhat,f=t.findReplaceReplaceWith,h=t.findReplaceReplace,v=t.findReplaceReplaceAll,g=t.findReplaceMatchCase,y=t.findReplaceMatchWord,b=t.findReplaceMatchCyclic,k=t.findReplaceUseRegExp,w=t.findReplacePrevMatch,O=t.findReplaceNextMatch,C=t.findReplaceMatches,x=this.state,S=x.matchCase,E=x.matchWord,I=x.matchCyclic,_=x.useRegExp,N=x.searchText,T=x.replaceText,P=x.nextMatch,D=a.createElement("div",{className:"k-search-options"},a.createElement("span",null,a.createElement("input",i({},m,{id:"match-case",checked:S,onChange:this.onMatchCaseChecked})),a.createElement("label",{htmlFor:"match-case",className:"k-checkbox-label"},e.toLanguageString(g,p.messages[g]))),a.createElement("span",null,a.createElement("input",i({},m,{id:"match-whole",checked:E,onChange:this.onMatchWordChecked})),a.createElement("label",{htmlFor:"match-whole",className:"k-checkbox-label"},e.toLanguageString(y,p.messages[y]))),a.createElement("span",null,a.createElement("input",i({},m,{id:"match-cyclic",checked:I,onChange:this.onMatchCyclicChecked})),a.createElement("label",{htmlFor:"match-cyclic",className:"k-checkbox-label"},e.toLanguageString(b,p.messages[b]))),a.createElement("span",null,a.createElement("input",i({},m,{id:"regular-expression",checked:_,onChange:this.onUseRegExpChecked})),a.createElement("label",{htmlFor:"regular-expression",className:"k-checkbox-label"},e.toLanguageString(k,p.messages[k])))),M=a.createElement("div",{className:"k-matches-container"},a.createElement("button",{className:"k-button k-flat k-primary",onClick:this.onFindPrev},a.createElement("span",{className:"k-icon k-i-arrow-chevron-left"}),e.toLanguageString(w,p.messages[w])),a.createElement("span",null,this.matchesMessage(e.toLanguageString(C,p.messages[C]))),a.createElement("button",{className:"k-button k-flat k-primary",onClick:this.onFindNext},e.toLanguageString(O,p.messages[O]),a.createElement("span",{className:"k-icon k-i-arrow-chevron-right"}))),j=a.createElement(a.Fragment,null,a.createElement("div",{className:"k-edit-label"},a.createElement("label",{htmlFor:"findWhat"},e.toLanguageString(d,p.messages[d]))),a.createElement("div",{className:"k-edit-field"},a.createElement("input",{id:"findWhat",type:"text",className:"k-textbox",value:N,onChange:this.onSearchChange,onFocus:this.onSearchChange,onKeyDown:this.onKeyDown,autoFocus:!0}))),R=a.createElement(a.Fragment,null,a.createElement("div",{className:"k-edit-label"},a.createElement("label",{htmlFor:"replaceWith"},e.toLanguageString(f,p.messages[f]))),a.createElement("div",{className:"k-edit-field"},a.createElement("input",{id:"replaceWith",className:"k-textbox",type:"text",value:T,onChange:this.onReplaceChange})));return s.createPortal(a.createElement(l.Window,{title:e.toLanguageString(n,p.messages[n]),onClose:this.onClose,style:{width:"auto",height:"auto",userSelect:"none"},resizable:!1,minimizeButton:function(){return null},maximizeButton:function(){return null}},a.createElement(c.TabStrip,{selected:this.state.selectedTab,className:"k-editor-find-replace",onSelect:this.onTabSelect,animation:!1},a.createElement(c.TabStripTab,{title:e.toLanguageString(r,p.messages[r])},a.createElement("div",{className:"k-edit-form-container"},j),D,M),a.createElement(c.TabStripTab,{title:e.toLanguageString(o,p.messages[o])},a.createElement("div",{className:"k-edit-form-container"},j,R),a.createElement("div",{className:"k-actions k-hstack k-justify-content-end"},a.createElement("button",{className:"k-button",disabled:!Boolean(P),onClick:this.onReplace},e.toLanguageString(h,p.messages[h])),a.createElement("button",{className:"k-button",disabled:!Boolean(P),onClick:this.onReplaceAll},e.toLanguageString(v,p.messages[v]))),D,M))),document.body)},t}(a.Component);t.FindAndReplaceDialog=g,u.registerForLocalization(g)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(9),l=n(38);!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pointerdown=!1,t.onWindowDown=function(e){var n=t.props.anchor;(!n||n!==e.target&&n.firstElementChild!==e.target)&&(t.props.show&&!t.pointerdown&&t.props.onClose(),t.pointerdown=!1)},t.onPointerDown=function(){return t.pointerdown=!0},t}return o(t,e),t.prototype.componentDidUpdate=function(e){e.show&&this.props.show&&this.props.onClose()},t.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.onWindowDown),window.addEventListener("pointerdown",this.onWindowDown)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.onWindowDown),window.removeEventListener("pointerdown",this.onWindowDown)},t.prototype.render=function(){var e=this.props,n=e.show,r=e.anchor,o=e.dir,a=e.rows,c=void 0===a?t.defaultProps.rows:a,u=e.columns,p=void 0===u?t.defaultProps.columns:u,d="rtl"===o?"right":"left";return i.createElement(s.Popup,{anchor:r,anchorAlign:{horizontal:d,vertical:"bottom"},popupAlign:{horizontal:d,vertical:"top"},popupClass:"k-ct-popup k-group k-reset k-state-border-up",show:n,style:"rtl"===o?{direction:"rtl"}:void 0},i.createElement(l.default,{rows:c,columns:p,createTableMessage:this.props.createTableMessage,createTableHintMessage:this.props.createTableHintMessage,onCellClick:this.props.onTableInsert,onDown:this.onPointerDown}))},t.propTypes={show:a.bool.isRequired,createTableMessage:a.string.isRequired,createTableHintMessage:a.string.isRequired,onClose:a.func.isRequired,onTableInsert:a.func.isRequired,anchor:a.any,rows:a.number,columns:a.number,dir:a.string},t.defaultProps={rows:6,columns:8},t}(i.Component);e.InsertTablePopup=t}(t.InsertTablePopupNS||(t.InsertTablePopupNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(6),u=n(3),p=n(5);t.createProseMirrorTool=function(e,t){var n=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return o(r,n),r.prototype.render=function(){var n=this.props,r=n.view,o=n.render,d=a(n,["view","render"]),f=u.provideLocalizationService(this),h=e.messages.title,m=r&&r.state,v=!!m&&!t(m),g=s.createElement(l.Button,i({onClick:function(){return r&&t(r.state,(function(t){return r.dispatch(t.setMeta("commandName",e.commandName))}))},disabled:v},c.onDownPreventDefault,{title:f.toLanguageString(h,p.messages[h])},e.props,d));return o?o.call(void 0,g,{view:r}):g},r}(s.Component);return u.registerForLocalization(n),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"AutoComplete",(function(){return te})),n.d(t,"DropDownList",(function(){return K})),n.d(t,"ComboBox",(function(){return Z})),n.d(t,"MultiSelect",(function(){return de})),n.d(t,"MultiColumnComboBox",(function(){return ge})),n.d(t,"DropDownTree",(function(){return tt}));var r,o,i=n(1),a=n(0),s=n(2),l=n(8),c=n(9),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.width,r=e.dir,o=e.itemsCount,a=e.popupSettings;return i.createElement(c.Popup,p({style:{width:n,direction:r},contentKey:o&&o.join()},a),t)},t}(i.Component),f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this;return i.createElement("span",{className:"k-list-filter"},i.createElement("input",{ref:function(t){return e.input=t},value:this.props.value||"",className:"k-textbox",onChange:this.props.onChange,onKeyDown:this.props.onKeyDown}),i.createElement("span",{className:"k-icon k-i-search"}))},t}(i.Component),m=function(e){return null!=e},v=function(e,t,n){if(!m(e))return!1;var r=String(e);return n&&(r=r.toLowerCase()),0===r.indexOf(t)},g=function(e,t,n){var r=-1;if(t){t=t.toLowerCase();for(var o=0;o<e.length;o++){var i=(b(e[o],n)||"")+"";if(i&&i.toLowerCase().startsWith(t)){r=o;break}}}return r},y=function(e,t,n,r){void 0===r&&(r=!1);var o=function(e){return r?e:e.toLowerCase()};return e.findIndex((function(e){return n?o(b(e,n))===o(t):o(t)===o(e.toString())}))},b=function(e,t){if(t&&m(e)){var n=t.split("."),r=e;return n.forEach((function(e){r=r?r[e]:void 0})),r}return e},k=function(e,t,n){t.forEach((function(t){var r=e.findIndex((function(e){return w(e,t,n)}));-1!==r&&e.splice(r,1)}))},w=function(e,t,n){return e===t||m(e)===m(t)&&b(e,n)===b(t,n)},O=function(e,t,n){if(t){var r=y(e,t,n,!0);return-1!==r?e[r]:e[g(e,t,n)]}return e[0]},C=function(e){"INPUT"!==e.target.nodeName&&e.preventDefault()},x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){return e.preventDefault()},E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.defaultItem,r=e.textField;return i.createElement("div",{onClick:this.props.onClick,onMouseDown:S,className:Object(s.d)("k-list-optionlabel",{"k-state-selected":t})},b(n,r)||"")},t}(i.Component),I=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){return t.props.onClick(t.props.index,e)},t}return I(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.group,r=e.dataItem,o=e.render,a=i.createElement("li",{id:this.props.id,role:"option","aria-selected":t,className:Object(s.d)("k-item",{"k-state-selected":t,"k-state-focused":this.props.focused,"k-first":Boolean(n)}),onClick:this.handleClick},b(r,this.props.textField).toString(),void 0!==n?i.createElement("div",{className:"k-group"},n):null);return void 0!==o?o.call(void 0,a,this.props):a},t}(i.Component),N=n(3),T="dropdowns.nodata",P="dropdowns.clear",D=((o={})[P]="clear",o[T]="NO DATA FOUND.",o),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.renderItems=function(){var e=this,t=this.props,n=t.textField,r=t.valueField,o=t.groupField,a=t.optionsGuid,s=t.skip,l=void 0===s?0:s,c=t.focusedIndex,u=t.highlightSelected,p=void 0===u||u,d=t.value,f=t.data,h=t.itemRender,m=Array.isArray(d);return f.map((function(t,s){var u,v,g=l+s,y=p&&(!m&&w(t,d,r)||m&&-1!==d.findIndex((function(e){return w(e,t,r)}))),k=void 0;return s>0&&void 0!==o&&(u=b(t,o),v=b(f[s-1],o),u&&v&&u!==v&&(k=u)),i.createElement(_,{id:"option-"+a+"-"+g,dataItem:t,selected:y,focused:c===s,index:g,key:g,onClick:e.props.onClick,textField:n,group:k,render:h})}))},t.prototype.renderNoValueElement=function(e){var t=this.props.noDataRender,n=i.createElement("div",{className:"k-nodata"},i.createElement("div",null,e.toLanguageString(T,D[T])));return t?t.call(void 0,n):n},t.prototype.render=function(){var e=Object(N.provideLocalizationService)(this),t=this.props,n=t.id,r=t.show,o=t.wrapperCssClass,a=t.wrapperStyle,s=t.listStyle,l=t.listRef,c=t.wrapperRef,u=t.listClassName,p=void 0===u?"k-list":u,d=this.renderItems();return d.length?i.createElement("div",{className:o,style:a,ref:c,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onScroll:this.props.onScroll,unselectable:"on"},i.createElement("ul",{id:n,role:"listbox","aria-hidden":!r||void 0,className:p+" k-reset",ref:l,style:s},d)):this.renderNoValueElement(e)},t}(i.Component),R=j;Object(N.registerForLocalization)(j);var A=function(){function e(){var e=this;this.containerHeight=0,this.skip=0,this.total=0,this.enabled=!1,this.pageSize=0,this.itemHeight=0,this.prevScrollPos=0,this.listTranslate=0,this.scrollSyncing=!1,this.scrollerRef=function(t){var n=e;n.container=t,t&&(t.setAttribute("unselectable","on"),window.setTimeout(n.calcScrollElementHeight.bind(n),0))},this.calcScrollElementHeight=function(){e.scrollSyncing=!0;var t=!1;e.itemHeight=e.list?e.list.children[0].offsetHeight:e.itemHeight,e.containerHeight=Math.min(1533915,e.itemHeight*e.total);var n=e.containerHeight;return e.scrollElement&&(t=e.scrollElement.style.height!==n+"px")&&(e.scrollElement.style.height=n+"px"),e.scrollSyncing=!1,t},this.scrollHandler=this.scrollHandler.bind(this)}return Object.defineProperty(e.prototype,"translate",{get:function(){return this.listTranslate},enumerable:!0,configurable:!0}),e.prototype.changePage=function(e,t){var n=Math.min(Math.max(0,e),this.total-this.pageSize);n!==this.skip&&this.PageChange({skip:n,take:this.pageSize},t)},e.prototype.translateTo=function(e){this.listTranslate=e,this.list&&(this.list.style.transform="translateY("+e+"px)")},e.prototype.reset=function(){this.container&&(this.calcScrollElementHeight(),this.container.scrollTop=0,this.translateTo(0))},e.prototype.scrollToEnd=function(){this.container&&this.list&&(this.calcScrollElementHeight(),this.container.scrollTop=this.container.scrollHeight-this.container.offsetHeight,this.translateTo(this.container.scrollHeight-this.list.offsetHeight))},e.prototype.localScrollUp=function(e){var t,n=this.itemHeight,r=this.container.scrollTop,o=this.listTranslate,i=r-o;if(!(i>n)){for(t=0;t<this.skip&&!(o+n+i<=r);t++)o-=n;if(o=this.validateTranslate(o),this.skip-t<=0&&o>=r)return this.translateTo(0),this.changePage(0,e),void(this.container.scrollTop=0);o!==this.listTranslate&&(this.translateTo(o),this.changePage(this.skip-t,e))}},e.prototype.localScrollDown=function(e){var t,n=this.itemHeight,r=this.container.scrollTop,o=this.listTranslate,i=this.list.children.length;for(t=0;t<i&&!(o+n>=r);t++)o+=n;o=this.validateTranslate(o),t>=i&&this.skip+t>=this.total?(this.translateTo(o),this.changePage(this.total-1,e)):o!==this.listTranslate&&(this.translateTo(o),this.changePage(this.skip+t,e))},e.prototype.scrollNonStrict=function(e){var t=this.total*this.prevScrollPos/this.containerHeight,n=Math.min(Math.floor(t),this.total-1),r=this.containerHeight*t/this.total;r=this.validateTranslate(r),this.translateTo(r),this.changePage(n,e)},e.prototype.scrollHandler=function(e){var t=this.container?this.container.scrollTop:0,n=this.prevScrollPos;this.prevScrollPos=t,this.enabled&&this.list&&this.container&&!this.scrollSyncing&&(t-n<=0&&t>this.listTranslate-this.list.scrollHeight/10?this.localScrollUp(e):t-n>0&&t<this.listTranslate+2*this.list.scrollHeight/3?this.localScrollDown(e):this.scrollNonStrict(e))},e.prototype.validateTranslate=function(e){return e=Math.max(0,e),e=Math.min(this.containerHeight-this.list.offsetHeight,e)},e}(),F=function(){function e(){}return e.prototype.navigate=function(e){var t=e.keyCode;return t===s.b.up||t===s.b.left?this.next({current:e.current,min:e.min,max:e.max,step:-1}):t===s.b.down||t===s.b.right?this.next({current:e.current,min:e.min,max:e.max,step:1}):t===s.b.home?0:t===s.b.end?e.max:void 0},e.prototype.next=function(e){return m(e.current)?Math.min(e.max,Math.max(e.current+e.step,e.min)):e.min},e}(),L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},B=function(){function e(e){var t=this;this.vs=new A,this.navigation=new F,this.handleItemClick=function(e,n){var r=t.initState();r.syntheticEvent=n,t.component.handleItemSelect(e,r),t.togglePopup(r),t.applyState(r)},this.handleFocus=function(e){if(!t.component.state.focused){var n=t.initState();n.data.focused=!0,n.events.push({type:"onFocus"}),n.syntheticEvent=e,t.applyState(n)}},this.filterChanged=function(e,n){var r=t.component.props,o=r.textField;r.filterable&&n.events.push({type:"onFilterChange",filter:{field:o,operator:"contains",ignoreCase:!0,value:e}})},this.togglePopup=function(e){var n=t.component.props,r=void 0!==n.opened?n.opened:t.component.state.opened;void 0===n.opened&&(e.data.opened=!r),r?e.events.push({type:"onClose"}):(e.events.push({type:"onOpen"}),t.calculatePopupWidth())},this.pageChange=function(e,n){var r=t.initState();r.syntheticEvent=n,t.triggerOnPageChange(r,e.skip,e.take),t.applyState(r)},this.scrollToVirtualItem=function(e,n){var r=t.vs;if(r.enabled=!1,0===e.skip)r.reset();else if(e.skip+e.pageSize===e.total)r.scrollToEnd();else{var o=r.translate;0===o&&(r.calcScrollElementHeight(),o=r.itemHeight*e.skip,r.translateTo(o-r.itemHeight)),r.container&&(r.container.scrollTop=o),t.scrollToItem(n,!0)}window.setTimeout((function(){return r.enabled=!0}),10)},this.renderScrollWrapper=function(e,n){var r=t.getPopupSettings(),o=t.vs;return o.enabled?i.createElement("div",{onScroll:function(e){o.scrollHandler(e),n&&n.call(void 0,e)},ref:o.scrollerRef,style:{height:r.height,overflowY:"scroll"}},e):e},this.renderScrollElement=function(){var e=t.vs;return e.enabled&&i.createElement("div",{ref:function(t){return e.scrollElement=t},key:"scrollElementKey"})},this.listBoxId=Object(s.k)(),this.guid=Object(s.k)(),this.component=e,this.vs.PageChange=this.pageChange}return e.prototype.didMount=function(){var e=this.component.props,t=e.popupSettings||{},n=e.style||{},r=t.width,o=!0===e.opened;void 0===r&&this.calculatePopupWidth(),void 0===e.dir&&void 0===n.direction&&(this.calculateDir(),o=!0),o&&this.component.forceUpdate()},e.prototype.calculateDir=function(){var e=this.component.element;e&&e.ownerDocument&&e.ownerDocument.defaultView&&(this.dirCalculated=e.ownerDocument.defaultView.getComputedStyle(e).direction||void 0)},e.prototype.calculatePopupWidth=function(){this.wrapper&&(this.popupWidth=this.wrapper.offsetWidth+"px")},e.prototype.scrollToItem=function(e,t){var n=this.list||this.vs.list;if(n&&e>=0){var r=this.vs,o=r.container||n.parentNode,i=void 0!==t?t:r.enabled;!function(e,t,n,r,o){var i=e.offsetHeight,a=t.children.item(n),s=a.offsetTop+(o?r-e.scrollTop:0),l=a.offsetHeight;if(o){var c=0;s+l>i?c=s+l-i:s<0&&(c=s),0!==c?e.scrollTop+=c:0===e.scrollTop&&0!==r&&(e.scrollTop=r)}else s+l>i+e.scrollTop?e.scrollTop=s+l-i:s<e.scrollTop&&(e.scrollTop-=e.scrollTop-s)}(o,n,e,r.translate,i)}},e.prototype.initState=function(){return{data:{},events:[],syntheticEvent:void 0}},e.prototype.applyState=function(e){var t=this;Object.keys(e.data).length>0&&this.component.setState(e.data);var n={syntheticEvent:e.syntheticEvent,nativeEvent:e.syntheticEvent?e.syntheticEvent.nativeEvent:void 0,target:this.component,value:this.component.value};e.events.forEach((function(e){var r=e.type;delete e.type;var o=r&&t.component.props[r];o&&o.call(void 0,L({},n,e))}))},e.prototype.triggerOnPageChange=function(e,t,n){var r=this.component.props.virtual;if(r){var o=Math.min(Math.max(0,t),Math.max(0,r.total-n));o!==r.skip&&e.events.push({type:"onPageChange",page:{skip:o,take:n}})}},e.prototype.triggerPageChangeCornerItems=function(e,t){var n=this.component.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=void 0!==n.opened?n.opened:this.component.state.opened;e&&a&&this.vs.enabled&&(a.skip>0&&w(e,o[0],i)?this.triggerOnPageChange(t,a.skip-1,a.pageSize):!s&&a.skip+a.pageSize<a.total&&w(e,o[o.length-1],i)&&this.triggerOnPageChange(t,a.skip+1,a.pageSize))},e.prototype.getPopupSettings=function(){return Object.assign({},e.defaultProps.popupSettings,this.component.props.popupSettings)},e.basicPropTypes={opened:a.bool,disabled:a.bool,dir:a.string,tabIndex:a.number,accessKey:a.string,data:a.array,textField:a.string,className:a.string,label:a.string,loading:a.bool,popupSettings:a.shape({animate:a.oneOfType([a.bool,a.shape({openDuration:a.number,closeDuration:a.number})]),className:a.string,appendTo:a.any,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number])}),onOpen:a.func,onClose:a.func,onFocus:a.func,onBlur:a.func,onChange:a.func,itemRender:a.func,listNoDataRender:a.func,focusedItemIndex:a.func,header:a.node,footer:a.node},e.propTypes=L({},e.basicPropTypes,{value:a.any,defaultValue:a.any,filterable:a.bool,filter:a.string,virtual:a.shape({pageSize:a.number.isRequired,skip:a.number.isRequired,total:a.number.isRequired}),onFilterChange:a.func,onPageChange:a.func}),e.defaultProps={popupSettings:{height:"200px"},required:!1,validityStyles:!0},e}(),z={name:"@progress/kendo-react-dropdowns",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477657,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},K=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.base=new B(n),n.searchState={word:"",last:""},n._skipFocusEvent=!1,n._filterInput=null,n._navigated=!1,n.focus=function(){n.base.wrapper&&n.base.wrapper.focus()},n.handleItemSelect=function(e,t){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.virtual,s=r.dataItemKey,l=r.defaultItem,c=a?a.skip:0,u=-1===e&&void 0!==l?l:i[e-c],p=!w(u,n.value,s);n.triggerOnChange(u,t),p&&n.base.triggerPageChangeCornerItems(u,t)},n.renderDropDownWrapper=function(){var e=n.props,t=e.dataItemKey,r=e.data,o=void 0===r?[]:r,a=e.textField,l=e.disabled,c=e.tabIndex,u=e.loading,p=e.iconClassName,d=e.virtual,f=void 0===d?{skip:0}:d,h=e.valueRender,m=n.state.focused,v=void 0!==n.props.opened?n.props.opened:n.state.opened,g=n.value,y=o.findIndex((function(e){return w(e,g,t)})),k=b(g,a),O=i.createElement("span",{className:"k-input"},k),C=void 0!==h?h.call(void 0,O,g):O;return i.createElement("span",{ref:function(e){return n.base.wrapper=e},role:"listbox",tabIndex:Object(s.i)(c,l),accessKey:n.props.accessKey,className:Object(s.d)("k-dropdown-wrap",{"k-state-focused":m,"k-state-disabled":l}),onKeyDown:n.handleKeyDown,onKeyPress:n.handleKeyPress,onClick:l?void 0:n.handleWrapperClick,"aria-disabled":l||void 0,"aria-haspopup":!0,"aria-expanded":v||!1,"aria-owns":n.base.listBoxId,"aria-activedescendant":v?"option-"+n.base.guid+"-"+(y+f.skip):void 0,"aria-label":n.props.label,"aria-labelledby":n.props.ariaLabelledBy,"aria-describedby":n.props.ariaDescribedBy,id:n.props.id,title:n.props.title},C,i.createElement("span",{className:"k-select"},i.createElement("span",{className:Object(s.d)("k-icon",p,{"k-i-arrow-s":!u&&!p,"k-i-loading":u&&!p})})),n.dummySelect(g))},n.dummySelect=function(e){return i.createElement("select",{name:n.props.name,ref:function(e){n._select=e},tabIndex:-1,"aria-hidden":!0,title:n.props.label,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},i.createElement("option",{value:n.props.valueMap?n.props.valueMap.call(void 0,e):e}))},n.renderListContainer=function(){var e=n.props,t=e.header,r=e.footer,o=e.dir,a=e.data,l=void 0===a?[]:a,c=n.base,u=c.getPopupSettings(),p=void 0!==n.props.opened?n.props.opened:n.state.opened,f=void 0!==n.props.virtual,h=void 0!==u.width?u.width:c.popupWidth,m={dir:void 0!==o?o:c.dirCalculated,width:h,popupSettings:{className:Object(s.d)("k-list-container k-reset",u.className),animate:u.animate,anchor:n.element,show:p,onOpen:n.onPopupOpened,onClose:n.onPopupClosed,appendTo:u.appendTo},itemsCount:[l.length]};return i.createElement(d,H({},m),n.renderListFilter(),f&&n.renderDefaultItem(),f&&t,n.base.renderScrollWrapper(i.createElement(i.Fragment,null,!f&&n.renderDefaultItem(),!f&&t,n.renderList(),!f&&r,n.base.renderScrollElement())),f&&r)},n.renderList=function(){var e=n.props,t=e.data,r=void 0===t?[]:t,o=e.textField,a=e.dataItemKey,s=e.virtual,l=void 0===s?{skip:0}:s,c=e.listNoDataRender,u=e.itemRender,p=n.base.vs,d=l.skip,f=void 0!==n.props.opened?n.props.opened:n.state.opened,h=n.base.getPopupSettings(),m="translateY("+p.translate+"px)";return i.createElement(R,{id:n.base.listBoxId,show:f,data:r.slice(),focusedIndex:n.focusedIndex(),value:n.value,textField:o,valueField:a,optionsGuid:n.base.guid,listRef:function(e){return p.list=n.base.list=e},wrapperStyle:p.enabled?{float:"left",width:"100%"}:{maxHeight:h.height},wrapperCssClass:p.enabled?void 0:"k-list-scroller",listStyle:p.enabled?{transform:m}:void 0,key:"listkey",skip:d,onClick:n.handleItemClick,itemRender:u,noDataRender:c})},n.renderListFilter=function(){var e=void 0!==n.props.filter?n.props.filter:n.state.text;return n.props.filterable&&i.createElement(h,{value:e,ref:function(e){return n._filterInput=e&&e.input},onChange:n.handleListFilterChange,onKeyDown:n.handleKeyDown})},n.renderDefaultItem=function(){var e=n.props,t=e.textField,r=e.defaultItem,o=e.dataItemKey;return void 0!==r&&i.createElement(E,{defaultItem:r,textField:t,selected:w(n.value,r,o),key:"defaultitemkey",onClick:n.handleDefaultItemClick})},n.search=function(e){clearTimeout(n._typingTimeout),n.props.filterable||(n._typingTimeout=window.setTimeout((function(){return n.searchState.word=""}),n.props.delay),n.selectNext(e))},n.selectNext=function(e){var t,r=n.props,o=r.data,i=void 0===o?[]:o,a=r.dataItemKey,s=i.map((function(e,t){return{item:e,itemIndex:t}})),l=n.searchState.word,c=n.searchState.last,u=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(l,c),p=s.length,d=Math.max(0,i.findIndex((function(e){return w(e,n.value,a)})));n.props.defaultItem&&(t={item:n.props.defaultItem,itemIndex:-1},p+=1,d+=1),s=function(e,t,n){var r=e;return n&&(r=[n].concat(r)),r.slice(t).concat(r.slice(0,t))}(s,d+=u?1:0,t);for(var f,h,m,g=0,y=n.props,k=y.textField,O=y.ignoreCase;g<p;g++)if(f=b(s[g].item,k),h=u&&v(f,c,O),m=v(f,l,O),h||m){g=s[g].itemIndex;break}if(g!==p){var C=n.base.initState();C.syntheticEvent=e,n.handleItemSelect(g,C),n.applyState(C),n._valueDuringOnChange=void 0}},n.handleKeyDown=function(e){var t=n.props,r=t.data,o=void 0===r?[]:r,i=t.filterable,a=t.disabled,l=t.leftRightKeysNavigation,c=void 0===l||l,u=t.virtual,p=void 0===u?{skip:0,total:0,pageSize:0}:u,d=void 0!==n.props.opened?n.props.opened:n.state.opened,f=e.keyCode,h=f===s.b.home||f===s.b.end,m=f===s.b.up||f===s.b.down,v=!d&&(e.altKey&&f===s.b.down||f===s.b.enter||f===s.b.space),g=d&&(e.altKey&&f===s.b.up||f===s.b.esc),y=c&&(f===s.b.left||f===s.b.right),b=m||!i&&(y||h),k=n.base.initState();if(k.syntheticEvent=e,!a){if(h&&n.base.vs.enabled)f===s.b.home?0!==p.skip?(n.base.triggerOnPageChange(k,0,p.pageSize),n._navigated=!0):n.triggerOnChange(o[0],k):p.skip<p.total-p.pageSize?(n.base.triggerOnPageChange(k,p.total-p.pageSize,p.pageSize),n._navigated=!0):n.triggerOnChange(o[o.length-1],k);else if(d&&f===s.b.enter){var w=n.focusedIndex();void 0!==w&&n.handleItemSelect(w,k),n.base.togglePopup(k),e.preventDefault()}else v||g?(n.base.togglePopup(k),e.preventDefault()):b&&(n.onNavigate(k,f),e.preventDefault());n.applyState(k)}},n.handleItemClick=function(e,t){n.base.handleItemClick(e,t),n._valueDuringOnChange=void 0},n.handleFocus=function(e){n._skipFocusEvent||n.base.handleFocus(e)},n.handleBlur=function(e){if(!n._skipFocusEvent&&n.state.focused){var t=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState();r.syntheticEvent=e,r.data.focused=!1,r.events.push({type:"onBlur"}),t&&n.base.togglePopup(r),n.applyState(r)}},n.handleDefaultItemClick=function(e){var t=n.base.initState();t.syntheticEvent=e,n.base.togglePopup(t),n.triggerOnChange(n.props.defaultItem,t),n.applyState(t)},n.handleWrapperClick=function(e){var t=n.base.initState();t.syntheticEvent=e,n.state.focused||(t.data.focused=!0),n.base.togglePopup(t),n.applyState(t)},n.handleKeyPress=function(e){if(!n.props.filterable&&0!==e.which&&e.keyCode!==s.b.enter){var t=String.fromCharCode(e.charCode||e.keyCode);n.props.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),n.searchState={word:n.searchState.word+t,last:n.searchState.last+t},n.search(e)}},n.handleListFilterChange=function(e){var t=n.base.initState();t.syntheticEvent=e,void 0===n.props.filter&&(t.data.text=e.target.value),n.base.filterChanged(e.target.value,t),n.applyState(t)},n.onPopupOpened=function(){n._filterInput&&n.focusElement(n._filterInput)},n.onPopupClosed=function(){n.state.focused&&window.setTimeout((function(){n.state.focused&&n.base.wrapper&&n.focusElement(n.base.wrapper)}))},n.setValidity=function(){n._select&&n._select.setCustomValidity&&n._select.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please select a value from the list!")},Object(s.r)(z),n}return V(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionElement",{get:function(){return this.base.wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e;return void 0!==this._valueDuringOnChange?e=this._valueDuringOnChange:void 0!==this.props.value?e=this.props.value:void 0!==this.state.value?e=this.state.value:void 0!==this.props.defaultValue&&(e=this.props.defaultValue),m(e)||void 0===this.props.defaultItem||(e=this.props.defaultItem),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.dataItemKey,o=this.value;return n.findIndex((function(e){return w(e,o,r)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=e.virtual?e.virtual.total:0,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==e.opened?e.opened:t.opened,u=!c&&l;if(this.base.getPopupSettings().animate||u&&this.onPopupOpened(),a&&a.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var p=this.value,d=void 0!==e.value?e.value:t.value,f=o.findIndex((function(e){return w(e,p,i)})),h=!w(d,p,i);u&&a?this.base.scrollToVirtualItem(a,f):u&&!a||l&&c&&p&&h&&!this._navigated?this.base.scrollToItem(f):l&&c&&this._navigated&&(this._navigated&&a&&0===a.skip?this.base.vs.reset():this._navigated&&a&&a.skip===a.total-a.pageSize&&this.base.vs.scrollToEnd())}this._navigated=!1,this.setValidity()},t.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},t.prototype.render=function(){var e=this,t=this.props,n=t.style,r=t.className,o=t.label,a=t.dir,c=t.virtual,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=b(this.value,this.props.textField),d=!this.validityStyles||this.validity.valid,f=this.base;f.vs.enabled=void 0!==c,void 0!==c&&(f.vs.skip=c.skip,f.vs.total=c.total,f.vs.pageSize=c.pageSize);var h=i.createElement("span",{ref:function(t){return e._element=t},className:Object(s.d)("k-widget k-dropdown",{"k-state-invalid":!d},r),style:o?H({},n,{width:void 0}):n,dir:a,onMouseDown:u?C:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderDropDownWrapper(),this.renderListContainer());return o?i.createElement(l.a,{label:o,editorValue:p,editorValid:d,editorDisabled:this.props.disabled,style:{width:n?n.width:void 0},children:h}):h},t.prototype.onNavigate=function(e,t){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.defaultItem,a=n.dataItemKey,s=n.virtual,l=void 0===s?{skip:0,total:0,pageSize:0}:s,c=this.base.vs,u=this.value,p=o.findIndex((function(e){return w(e,u,a)})),d=this.base.navigation.navigate({current:l.skip+p,max:(c.enabled?l.total:o.length)-1,min:void 0!==i?-1:0,keyCode:t});void 0!==d&&this.handleItemSelect(d,e),this.applyState(e)},t.prototype.focusedIndex=function(){var e=m(this.props.filter)?this.props.filter:this.state.text,t=this.props,n=t.data,r=void 0===n?[]:n,o=t.virtual,i=void 0===o?{skip:0}:o,a=t.dataItemKey,s=t.textField,l=t.focusedItemIndex,c=this.value,u=!(r.findIndex((function(e){return w(e,c,a)}))<0&&!this.props.defaultItem);return!u&&e&&0===i.skip?l?l(r,e,s):r.indexOf(O(r,e,s)):u||0!==i.skip?void 0:0},t.prototype.focusElement=function(e){var t=this;this._skipFocusEvent=!0,e.focus(),window.setTimeout((function(){return t._skipFocusEvent=!1}),30)},t.prototype.triggerOnChange=function(e,t){w(this.value,e,this.props.dataItemKey)||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))},t.prototype.applyState=function(e){this.base.applyState(e),this._valueDuringOnChange=void 0},t.propTypes=H({delay:a.number,ignoreCase:a.bool,iconClassName:a.string,defaultItem:a.any,valueRender:a.func,valueMap:a.func,validationMessage:a.string,required:a.bool,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,leftRightKeysNavigation:a.bool,title:a.string},B.propTypes),t.defaultProps=H({delay:500,tabIndex:0,ignoreCase:!0},B.defaultProps,{required:!1}),t}(i.Component),W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){return e.preventDefault()},t}return W(t,e),t.prototype.render=function(){var e=Object(N.provideLocalizationService)(this).toLanguageString(P,D[P]);return i.createElement("span",{className:"k-icon k-clear-value k-i-close",role:"button",onClick:this.props.onClick,onMouseDown:this.onMouseDown,tabIndex:-1,title:e,key:"clearbutton"})},t}(i.Component),q=$;Object(N.registerForLocalization)($);var U,G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=e.value,n=e.suggestedText,r=this.props,o=r.value,i=r.suggestedText,a=r.focused,s=this.input,l=t!==o||i!==n,c=l&&t.startsWith(o)&&!(n&&i&&n.endsWith(i));a&&s&&document.activeElement!==s&&s.focus(),i&&l&&!c&&s&&s.setSelectionRange(o.length-i.length,o.length)},t.prototype.render=function(){var e=this,t=this.props,n=t.expanded,r=void 0!==n&&n,o=t.disabled,a=t.role,s=void 0===a?"listbox":a,l=t.render,c=i.createElement("span",{className:"k-searchbar",key:"searchbar"},i.createElement("input",{autoComplete:"off",id:this.props.id,type:"text",size:this.props.size,placeholder:this.props.placeholder,className:"k-input",tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,role:s,name:this.props.name,value:this.props.value,onChange:this.props.onChange,ref:function(t){return e._input=t},onKeyDown:this.props.onKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur,"aria-disabled":o||void 0,disabled:o||void 0,readOnly:this.props.readOnly||void 0,"aria-haspopup":"listbox","aria-expanded":r,"aria-owns":this.props.owns,"aria-activedescendant":r?this.props.activedescendant:void 0,"aria-describedby":this.props.ariaDescribedBy,"aria-labelledby":this.props.ariaLabelledBy}));return[l?l.call(void 0,c):c,!this.props.loading&&this.props.clearButton&&i.createElement(q,{onClick:this.props.clearButtonClick,key:"clearbutton"}),this.props.loading&&i.createElement("span",{className:"k-icon k-i-loading",key:"loading"})]},t}(i.Component),X=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Z=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.base=new B(n),n._inputId=Object(s.k)(),n._suggested="",n.itemHeight=0,n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(e,t){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.virtual,s=r.dataItemKey,l=i[e-(a?a.skip:0)],c=!w(l,n.value,s);n.triggerOnChange(l,t),void 0!==n.state.text&&(t.data.text=void 0),c&&n.base.triggerPageChangeCornerItems(l,t)},n.toggleBtnClick=function(e){var t=n.base.initState();t.syntheticEvent=e,n.base.togglePopup(t),n.applyState(t)},n.onScroll=function(e){var t=n.props,r=t.data,o=void 0===r?[]:r,i=t.groupField;if(i&&o.length){for(var a=n.base,s=a.vs,l=a.list,c=n.itemHeight=n.itemHeight||(s.enabled?s.itemHeight:l?l.children[0].offsetHeight:0),u=e.target.scrollTop-s.skip*c,p=o[0][i],d=1;d<o.length&&!(c*d>u);d++)o[d]&&o[d][i]&&(p=o[d][i]);p!==n.state.group&&n.setState({group:p})}},n.handleItemClick=function(e,t){n.base.handleItemClick(e,t),n._valueDuringOnChange=void 0},n.handleBlur=function(e){if(n.state.focused){var t=n.base.initState();t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,n.applyValueOnRejectSuggestions(e.currentTarget.value,t)}},n.onInputKeyDown=function(e){var t=e.keyCode,r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();if(o.syntheticEvent=e,!e.altKey&&(t===s.b.up||t===s.b.down))return e.preventDefault(),n.onNavigate(o,t),void n.applyState(o);var i=function(){e.preventDefault(),n.base.togglePopup(o),n.applyState(o)};r?e.altKey&&t===s.b.up?i():t===s.b.enter?(e.preventDefault(),n.applyValueOnEnter(e.currentTarget.value,o)):t===s.b.esc&&n.applyValueOnRejectSuggestions(e.currentTarget.value,o):e.altKey&&t===s.b.down&&i()},n.inputOnChange=function(e){var t=n.base.initState();t.syntheticEvent=e;var r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=e.currentTarget,i=o.value;if(n.props.suggest){var a=o.selectionEnd===i.length,s=void 0!==n.props.filter?n.props.filter:n.state.text;m(s)||(s=b(n.value,n.props.textField)||"");var l=s&&s===i,c=s&&s.length>i.length;l||c||!a?n._suggested="":n.suggestValue(i)}void 0===n.props.filter&&(t.data.text=i),void 0!==n.state.focusedItem&&(t.data.focusedItem=void 0),r||n.base.togglePopup(t),n.base.filterChanged(i,t),n.applyState(t)},n.clearButtonClick=function(e){var t=n.base.initState();t.syntheticEvent=e,e.stopPropagation(),n._suggested="",n.base.filterChanged("",t),void 0===n.props.filter&&void 0!==n.state.text&&(t.data.text=void 0),n.triggerOnChange(null,t),(void 0!==n.props.opened?n.props.opened:n.state.opened)&&n.base.togglePopup(t),n.applyState(t)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},Object(s.r)(z),n}return X(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.props,t=e.data,n=void 0===t?[]:t,r=e.dataItemKey,o=this.value;return n.findIndex((function(e){return w(e,o,r)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&""!==this.value&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.dataItemKey,a=n.virtual,s=e.virtual?e.virtual.total:0,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=void 0!==e.opened?e.opened:t.opened,u=!c&&l,p=this.value;if(this._valueOnDidUpdate=p,a&&a.total!==s)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var d=void 0!==e.value?e.value:t.value,f=o.findIndex((function(e){return w(e,p,i)})),h=!w(d,p,i);u&&a?this.base.scrollToVirtualItem(a,f):(u&&!a||l&&c&&p&&h)&&this.base.scrollToItem(f)}u&&this._input&&this._input.focus(),this.setValidity()},t.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},t.prototype.render=function(){var e=this,n=this.props,r=n.dir,o=n.disabled,a=n.clearButton,c=void 0===a?t.defaultProps.clearButton:a,u=n.label,p=n.textField,d=n.className,f=n.style,h=n.loading,v=n.iconClassName,g=n.virtual,y=this.state.focused,k=!this.validityStyles||this.validity.valid,w=void 0!==this.props.filter?this.props.filter:this.state.text,O=b(this.value,p),C=m(w)?w:O,x=c&&(!!C||m(this.value)),S=this.base,E=S.vs,I=this.props.id||this._inputId;E.enabled=void 0!==g,void 0!==g&&(E.skip=g.skip,E.total=g.total,E.pageSize=g.pageSize);var _=i.createElement("span",{className:Object(s.d)("k-widget k-combobox",{"k-combobox-clearable":c,"k-state-invalid":!k},d),ref:function(t){return e._element=t},style:u?Y({},f,{width:void 0}):f,dir:r},i.createElement("span",{ref:function(e){return S.wrapper=e},className:Object(s.d)("k-dropdown-wrap",{"k-state-disabled":o,"k-state-focused":y&&!o})},this.renderSearchBar(x,C||"",I),i.createElement("span",{className:"k-select",onClick:this.toggleBtnClick,onMouseDown:function(e){return e.preventDefault()}},i.createElement("span",{className:Object(s.d)("k-icon",v,{"k-i-arrow-s":!h&&!v,"k-i-loading":h&&!v})}))),this.renderListContainer());return u?i.createElement(l.a,{label:u,editorId:I,editorValue:C,editorValid:k,editorDisabled:o,style:{width:f?f.width:void 0},children:_}):_},t.prototype.onNavigate=function(e,t){var n=this.props,r=n.data,o=void 0===r?[]:r,i=n.virtual,a=void 0===i?{skip:0}:i,s=this.props.filter?this.props.filter:this.state.text,l=this.getFocusedIndex(),c=this.base.vs,u=this.value;if(this._suggested="",-1===l||m(u))if(""===s)this.handleItemSelect(0,e);else{var p=a.skip+l,d=this.base.navigation.navigate({keyCode:t,current:p,max:(c.enabled?c.total:o.length)-1,min:0});void 0!==d&&this.handleItemSelect(d,e)}else this.handleItemSelect(l,e)},t.prototype.applyValueOnEnter=function(e,t){var n,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.allowCustom,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=b(this.value,a)===e?this.index:y(i,e,a),u=-1!==c,p=void 0;if(this._suggested="",u)p=i[c];else{if(!s)return this.selectFocusedItem(e,t);p=void 0!==a?((n={})[a]=e,n):e}this.triggerOnChange(p,t),l&&this.base.togglePopup(t),void 0===this.props.filter&&void 0!==this.state.text&&(t.data.text=void 0),this.applyState(t)},t.prototype.applyValueOnRejectSuggestions=function(e,t){var n,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.allowCustom,l=void 0!==this.props.opened?this.props.opened:this.state.opened,c=b(this.value,a);if(this._suggested="",e===c||""===e&&!m(c))return l&&this.base.togglePopup(t),this.applyState(t);var u=y(i,e,a,!0),p=null;-1!==u?p=i[u]:s&&(p=e?a?((n={})[a]=e,n):e:null),this.triggerOnChange(p,t),void 0!==this.state.text&&(t.data.text=void 0,this.base.filterChanged("",t)),l&&this.base.togglePopup(t),this.applyState(t)},t.prototype.selectFocusedItem=function(e,t){var n=void 0!==this.props.opened?this.props.opened:this.state.opened,r=this.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=r.virtual,l=void 0===s?{skip:0}:s,c=r.focusedItemIndex,u=void 0===c?g:c,p=l.skip,d=""===e&&0===p?0:u(i,e,a);return-1!==d?this.handleItemSelect(d+p,t):(this.triggerOnChange(null,t),void 0!==this.state.text&&(t.data.text=void 0)),n&&this.base.togglePopup(t),this.applyState(t)},t.prototype.renderListContainer=function(){var e=this.base,t=this.props,n=t.dir,r=t.header,o=t.footer,a=t.data,l=void 0===a?[]:a,c=t.groupField,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=e.getPopupSettings(),f=void 0!==p.width?p.width:e.popupWidth,h=this.state.group;return void 0===h&&void 0!==c&&(h=b(l[0],c)),i.createElement(d,{width:f,popupSettings:{animate:p.animate,anchor:this.element,show:u,className:Object(s.d)("k-list-container k-reset",p.className),appendTo:p.appendTo},dir:void 0!==n?n:this.base.dirCalculated,itemsCount:[l.length]},r,h&&i.createElement("div",{className:"k-group-header"},h),e.renderScrollWrapper([this.renderList(),e.renderScrollElement()],this.onScroll),o)},t.prototype.renderList=function(){var e=this,t=this.base,n=this.props,r=n.textField,o=n.dataItemKey,a=n.listNoDataRender,s=n.itemRender,l=n.data,c=void 0===l?[]:l,u=n.virtual,p=void 0===u?{skip:0}:u,d=t.getPopupSettings(),f=t.vs,h=p.skip,v=void 0!==this.props.opened?this.props.opened:this.state.opened,g="translateY("+f.translate+"px)",y=v?this.getFocusedIndex():void 0,k=void 0!==this.props.filter?this.props.filter:this.state.text,w=b(this.value,r),O=m(k)&&k!==w?null:this.value,C=this.props.list||R;return i.createElement(C,{id:t.listBoxId,show:v,data:c,focusedIndex:y,value:O,textField:r,valueField:o,groupField:this.props.groupField,optionsGuid:t.guid,listRef:function(t){f.list=e.base.list=t,e.itemHeight=0},wrapperStyle:f.enabled?{float:"left",width:"100%"}:{maxHeight:d.height},wrapperCssClass:f.enabled?void 0:"k-list-scroller",listStyle:f.enabled?{transform:g}:void 0,key:"listkey",skip:h,onClick:this.handleItemClick,itemRender:s,noDataRender:a,onMouseDown:function(e){return e.preventDefault()},onScroll:this.onScroll})},t.prototype.renderSearchBar=function(e,t,n){var r=this,o=this.props,a=o.placeholder,s=o.tabIndex,l=o.disabled,c=o.data,u=void 0===c?[]:c,p=o.dataItemKey,d=o.virtual,f=void 0===d?{skip:0}:d,h=void 0!==this.props.opened?this.props.opened:this.state.opened,m=this.value,v=Math.max(0,u.findIndex((function(e){return w(e,m,p)})));return this._suggested&&!w(this._valueOnDidUpdate,m,p)&&(this._suggested=""),i.createElement(J,{id:n,placeholder:a,tabIndex:s||void 0,accessKey:this.props.accessKey,value:t+this._suggested,suggestedText:this._suggested,ref:function(e){return r._input=e&&e.input},onKeyDown:this.onInputKeyDown,onChange:this.inputOnChange,onFocus:this.base.handleFocus,onBlur:this.handleBlur,disabled:l,expanded:h,owns:this.base.listBoxId,activedescendant:this.base.guid+"-"+(v+f.skip),role:"combobox",clearButton:e,clearButtonClick:this.clearButtonClick,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,render:this.props.valueRender})},t.prototype.triggerOnChange=function(e,t){var n=this.value;!m(n)&&!m(e)||w(n,e,this.props.dataItemKey)||(void 0===this.props.value&&(t.data.value=e),this._valueDuringOnChange=e,t.events.push({type:"onChange"}))},t.prototype.getFocusedIndex=function(){var e=this.value,t=this.props,n=t.data,r=void 0===n?[]:n,o=t.textField,i=t.dataItemKey,a=t.virtual,s=void 0===a?{skip:0}:a,l=t.focusedItemIndex,c=void 0===l?g:l,u=this.props.filter?this.props.filter:this.state.text;return m(e)&&void 0===u?r.findIndex((function(t){return w(t,e,i)})):u?c(r,u,o):0===s.skip?0:-1},t.prototype.suggestValue=function(e){var t=this.props,n=t.data,r=t.textField;this._suggested=function(e,t,n){void 0===t&&(t=[]);var r="";if(e){var o=t[g(t,e,n)];if(o){var i=b(o,n);e.toLowerCase()!==i.toLowerCase()&&(r=i.substring(e.length))}}return r}(e,n,r)},t.prototype.applyState=function(e){this.base.applyState(e),this._valueDuringOnChange=void 0},t.propTypes=Y({},B.propTypes,{dataItemKey:a.string,groupField:a.string,suggest:a.bool,placeholder:a.string,allowCustom:a.bool,clearButton:a.bool,iconClassName:a.string,validationMessage:a.string,required:a.bool,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,list:a.any,valueRender:a.func}),t.defaultProps=Y({},B.defaultProps,{allowCustom:!1,clearButton:!0,required:!1}),t}(i.Component),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},te=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.base=new B(n),n._inputId=Object(s.k)(),n._suggested="",n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(e,t){var r=n.props.data,o=b((void 0===r?[]:r)[e],n.props.textField);n.triggerOnChange(o,t)},n.itemFocus=function(e,t){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.textField,s=i[e];w(n.state.focusedItem,s,a)||(t.data.focusedItem=s)},n.togglePopup=function(e){n.base.togglePopup(e)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},n.handleItemClick=function(e,t){n.base.handleItemClick(e,t),n._valueDuringOnChange=void 0},n.onChangeHandler=function(e){var t=n.base.initState(),r=e.currentTarget,o=r.value,i=r.selectionEnd===o.length;t.syntheticEvent=e;var a=n._suggested,s=n.value,l=s&&s.substring(0,s.length-a.length),c=l&&l===o,u=l&&l.length>o.length,p=n.props.suggest,d=void 0!==n.props.opened?n.props.opened:n.state.opened;if(void 0!==p&&!1!==p){c||u||!i?n._suggested="":n.suggestValue(o);var f=o+n._suggested,h={userInput:o,value:n._suggested};n.triggerOnChange(f,t,{suggestion:h})}else n._suggested="",n.triggerOnChange(o,t);(!d&&o||d&&!o)&&n.togglePopup(t),t.data.focusedItem=void 0,n.applyState(t)},n.clearButtonClick=function(e){var t=n.base.initState(),r=void 0!==n.props.opened?n.props.opened:n.state.opened;t.syntheticEvent=e;n._suggested="",n.triggerOnChange("",t),void 0!==n.state.focusedItem&&(t.data.focusedItem=void 0),r&&n.togglePopup(t),n.applyState(t)},n.onInputKeyDown=function(e){var t=e.keyCode,r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();o.syntheticEvent=e;var i=function(){r&&e.preventDefault()};t===s.b.enter||t===s.b.esc?(i(),n.applyInputValue(e.currentTarget.value,o,e.keyCode)):t!==s.b.up&&t!==s.b.down||(i(),n.onNavigate(o,t))},n.handleBlur=function(e){if(n.state.focused){var t=n.base.initState();t.data.focused=!1,t.events.push({type:"onBlur"}),t.syntheticEvent=e,n.applyInputValue(e.currentTarget.value,t)}},Object(s.r)(z),n}return Q(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=void 0!==this.props.validationMessage,t=!this.required||""!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){var n=this.props.data,r=void 0===n?[]:n,o=e.data,i=void 0===o?[]:o,a=this.focusedIndex(),s=r[a],l=i!==r,c=void 0!==s&&t.focusedItem!==s,u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==e.opened?e.opened:t.opened;(u&&(c||l)||!p&&u)&&this.base.scrollToItem(a),this.setValidity()},t.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},t.prototype.render=function(){var e=this,t=this.props,n=t.dir,r=t.disabled,o=t.label,a=t.className,c=t.style,u=t.loading,p=t.suggest,d=!this.validityStyles||this.validity.valid,f=this.state.focused,h=this.base,m=this.value,v=!1!==this.props.clearButton&&!u&&!!m,g=this.props.id||this._inputId;"string"==typeof p&&(this._suggested=p);var y=i.createElement("span",{className:Object(s.d)("k-widget k-autocomplete",a,{"k-state-disabled":r,"k-state-focused":f&&!r,"k-state-invalid":!d}),ref:function(t){e._element=t,h.wrapper=t},style:o?ee({},c,{width:void 0}):c,dir:n},this.renderSearchBar(v,m||"",g),u&&i.createElement("span",{className:"k-icon k-i-loading"}),this.renderListContainer());return o?i.createElement(l.a,{label:o,editorId:g,editorValue:m,editorValid:d,editorDisabled:r,style:{width:c?c.width:void 0},children:y}):y},t.prototype.onNavigate=function(e,t){var n=this,r=this.value,o=this.props,i=o.data,a=void 0===i?[]:i,s=o.textField,l=o.focusedItemIndex,c=void 0!==this.state.focusedItem?a.findIndex((function(e){return w(e,n.state.focusedItem,s)})):l?l(a,r,s):a.indexOf(O(a,r,s)),u=this.base.navigation.navigate({keyCode:t,current:c,max:a.length-1,min:0});void 0!==u&&this.itemFocus(u,e),this.applyState(e)},t.prototype.applyInputValue=function(e,t,n){var r=void 0!==this.props.opened?this.props.opened:this.state.opened,o=this.props,i=o.data,a=void 0===i?[]:i,l=o.textField;if(this._suggested="",r&&n===s.b.enter){var c=b(a[this.focusedIndex(e)],l);this.triggerOnChange(c,t)}r&&this.togglePopup(t),this.applyState(t)},t.prototype.renderSearchBar=function(e,t,n){var r=this,o=this.base,a=this.props,s=a.placeholder,l=a.tabIndex,c=a.disabled,u=a.readonly,p=this.state.focused,d=void 0!==this.props.opened?this.props.opened:this.state.opened;return i.createElement(J,{id:n,placeholder:s,tabIndex:l||void 0,accessKey:this.props.accessKey,value:t,suggestedText:this._suggested,focused:p,name:this.props.name,ref:function(e){return r._input=e&&e.input},onKeyDown:this.onInputKeyDown,onChange:this.onChangeHandler,onFocus:o.handleFocus,onBlur:this.handleBlur,disabled:c,readOnly:u,expanded:d,owns:o.listBoxId,activedescendant:"option-"+o.guid+"-"+this.focusedIndex(),role:"combobox",clearButton:e,clearButtonClick:this.clearButtonClick,ariaLabelledBy:this.props.ariaLabelledBy,ariaDescribedBy:this.props.ariaDescribedBy,render:this.props.valueRender})},t.prototype.renderListContainer=function(){var e=this.base,t=this.props,n=t.dir,r=t.header,o=t.footer,a=t.data,l=void 0===a?[]:a,c=e.getPopupSettings(),u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=void 0!==c.width?c.width:e.popupWidth;return i.createElement(d,{width:p,popupSettings:{animate:c.animate,anchor:this.element,show:u,className:Object(s.d)("k-list-container k-reset",c.className),appendTo:c.appendTo},dir:void 0!==n?n:this.base.dirCalculated,itemsCount:[l.length]},r,this.renderList(),o)},t.prototype.renderList=function(){var e=this.base,t=e.getPopupSettings(),n=this.props,r=n.textField,o=n.data,a=void 0===o?[]:o,s=n.listNoDataRender,l=n.itemRender,c=this.value,u=void 0!==this.props.opened?this.props.opened:this.state.opened;return i.createElement(R,{id:e.listBoxId,show:u,data:a.slice(),focusedIndex:this.focusedIndex(),value:c,textField:r,valueField:r,highlightSelected:!1,optionsGuid:e.guid,listRef:function(t){return e.list=t},wrapperStyle:{maxHeight:t.height},wrapperCssClass:"k-list-scroller",onClick:this.handleItemClick,itemRender:l,noDataRender:s,onMouseDown:function(e){return e.preventDefault()}})},t.prototype.triggerOnChange=function(e,t,n){(this.value!==e||n)&&(t.data.value=e,this._valueDuringOnChange=e,t.events.push(ee({type:"onChange"},n||{})))},t.prototype.applyState=function(e){this.base.applyState(e),this._valueDuringOnChange=void 0},t.prototype.suggestValue=function(e){if(this._suggested="",e){var t=this.props,n=t.data,r=void 0===n?[]:n,o=t.textField,i=r[g(r,e,o)];if(i){var a=b(i,o);e.toLowerCase()!==a.toLowerCase()&&(this._suggested=a.substring(e.length))}}},t.prototype.focusedIndex=function(e){var t=this,n=this.props,r=n.data,o=void 0===r?[]:r,i=n.textField,a=n.focusedItemIndex,s=void 0!==e?e:this.value;return void 0!==this.state.focusedItem?o.findIndex((function(e){return w(e,t.state.focusedItem,i)})):a?a(o,s,i):Math.max(0,o.indexOf(O(o,s,i)))},t.propTypes=ee({},B.basicPropTypes,{suggest:a.oneOfType([a.bool,a.string]),placeholder:a.string,value:a.string,defaultValue:a.string,validationMessage:a.string,required:a.bool,readonly:a.bool,clearButton:a.bool,valueRender:a.func,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string}),t.defaultProps=ee({},B.defaultProps),t}(i.Component),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(e){return e.preventDefault()},oe=function(e){return e.stopPropagation()},ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ne(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.guid;return i.createElement("ul",{className:"k-reset",role:"listbox",id:"tagslist-"+r},n.map((function(t,o){var a=i.createElement("li",{className:t===e.props.focused?"k-button k-state-focused":"k-button",key:t.text+o,id:"tag-"+r+"-"+t.text.replace(/\s+/g,"-"),onMouseDown:re,onClick:oe,"aria-selected":!0,role:"option","aria-setsize":n.length},i.createElement("span",null,t.text),i.createElement("span",{"aria-label":"delete",className:"k-select",onClick:function(n){return e.props.onTagDelete.call(void 0,t.data,n)}},i.createElement("span",{className:"k-icon k-i-close"})));return e.props.tagRender?e.props.tagRender(t,a):a})))},t}(i.Component);!function(e){e[e.PopupList=0]="PopupList",e[e.TagsList=1]="TagsList"}(U||(U={}));var ae,se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=function(){return(le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ce=function(e){return e.preventDefault()},ue=function(e,t,n){return!!e==!!t&&e.text===t.text&&(e===t||function(e,t,n){if(void 0===e&&(e=[]),void 0===t&&(t=[]),e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!w(e[r],t[r],n))return!1;return!0}(e.data,t.data,n))},pe=function(e){return e===ae.CustomItem};!function(e){e[e.None=0]="None",e[e.ListItem=1]="ListItem",e[e.CustomItem=2]="CustomItem"}(ae||(ae={}));var de=function(e){function t(t){var n=e.call(this,t)||this;return n.state={activedescendant:U.PopupList},n._valueItemsDuringOnChange=null,n._inputId=Object(s.k)(),n.base=new B(n),n._tags=[],n._skipFocusEvent=!1,n.scrollToFocused=!1,n.focus=function(){n._input&&n._input.focus()},n.handleItemSelect=function(e,t){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.dataItemKey,s=r.virtual,l=i[e-(s?s.skip:0)],c=n.value.findIndex((function(e){return w(e,l,a)})),u=[];-1!==c?(u=n.value).splice(c,1):u=n.value.concat([l]),(void 0!==n.props.filter?n.props.filter:n.state.text)&&(n.state.text&&(t.data.text=""),n.base.filterChanged("",t)),void 0!==n.state.focusedIndex&&(t.data.focusedIndex=void 0),n.triggerOnChange(u,t),n.base.triggerPageChangeCornerItems(l,t)},n.onTagDelete=function(e,t){var r=void 0!==n.props.opened?n.props.opened:n.state.opened,o=n.base.initState();o.syntheticEvent=t,r&&n.base.togglePopup(o),n.state.focused||(o.data.focused=!0);var i=n.value;k(i,e,n.props.dataItemKey),n.triggerOnChange(i,o),n.applyState(o)},n.itemFocus=function(e,t){var r=n.props,o=r.data,i=void 0===o?[]:o,a=r.allowCustom,s=r.virtual,l=s?s.skip:0,c=void 0!==n.props.filter?n.props.filter:n.state.text,u=n.getFocusedState().focusedIndex,p=a&&c,d=i[e-l];d&&u!==e?n.state.focusedIndex!==e&&(t.data.focusedIndex=e,t.data.activedescendant=U.PopupList):p&&-1===e&&void 0!==n.state.focusedIndex&&(t.data.focusedIndex=void 0),n.base.triggerPageChangeCornerItems(d,t)},n.searchbarRef=function(e){var t=n._input=e&&e.input;t&&n.state.focused&&window.setTimeout((function(){return t.focus()}),0)},n.onChangeHandler=function(e){var t=n.base.initState(),r=e.currentTarget.value,o=void 0!==n.props.opened?n.props.opened:n.state.opened;t.syntheticEvent=e,void 0===n.props.filter&&(t.data.text=r),t.data.focusedIndex=void 0,o||n.base.togglePopup(t),n.base.filterChanged(r,t),n.applyState(t)},n.clearButtonClick=function(e){var t=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState();r.syntheticEvent=e,e.stopPropagation(),n.value.length>0&&n.triggerOnChange([],r),void 0!==n.state.focusedIndex&&(r.data.focusedIndex=void 0),t&&n.base.togglePopup(r);var o=void 0!==n.props.filter?n.props.filter:n.state.text;m(o)&&""!==o&&n.base.filterChanged("",r),n.state.text&&(r.data.text=""),n.applyState(r)},n.onInputKeyDown=function(e){var t=e.keyCode,r=void 0!==n.props.filter?n.props.filter:n.state.text,o=void 0!==n.props.opened?n.props.opened:n.state.opened,i=n.getFocusedState().focusedItem,a=n.base.initState();if(a.syntheticEvent=e,!r&&n.value.length>0&&(t===s.b.left||t===s.b.right||t===s.b.home||t===s.b.end||t===s.b.delete||t===s.b.backspace))return n.onTagsNavigate(e,a);var l=function(){e.preventDefault(),n.base.togglePopup(a),n.applyState(a)};o?e.altKey&&t===s.b.up?l():t===s.b.up||t===s.b.down?(e.preventDefault(),n.onNavigate(a,t)):t===s.b.enter?(e.preventDefault(),n.props.allowCustom&&r&&null===i?n.customItemSelect(e):n.selectFocusedItem(e)):t===s.b.esc&&l():e.altKey&&t===s.b.down&&l()},n.renderListContainer=function(){var e=n.base,t=n.props,r=t.header,o=t.footer,a=t.allowCustom,l=t.dir,c=t.data,u=void 0===c?[]:c,p=n.base.getPopupSettings(),f=void 0!==n.props.opened?n.props.opened:n.state.opened,h=void 0!==n.props.filter?n.props.filter:n.state.text,m=void 0!==n.props.virtual,v=void 0!==p.width?p.width:e.popupWidth,g={dir:void 0!==l?l:e.dirCalculated,width:v,popupSettings:{className:Object(s.d)("k-list-container k-reset",p.className),animate:p.animate,anchor:n.element,show:f,onOpen:n.onPopupOpened,onClose:n.onPopupClosed,appendTo:p.appendTo},itemsCount:[u.length,n.value.length]},y=n.getFocusedState().focusedType,b=a&&h&&i.createElement("div",{className:"k-list",key:"customitem",onClick:n.customItemSelect},i.createElement("div",{className:Object(s.d)("k-item k-custom-item",{"k-state-focused":pe(y)})},h,i.createElement("span",{className:"k-icon k-i-plus",style:{float:"right"}})));return i.createElement(d,le({},g),m&&r,n.base.renderScrollWrapper(i.createElement(i.Fragment,null,!m&&r,b,n.renderList(),!m&&o,n.base.renderScrollElement())),m&&o)},n.renderList=function(){var e=n.props,t=e.data,r=void 0===t?[]:t,o=e.textField,a=e.listNoDataRender,s=e.itemRender,l=e.dataItemKey,c=e.virtual,u=n.base.vs,p=c?c.skip:0,d=void 0!==n.props.opened?n.props.opened:n.state.opened,f=n.getFocusedState().focusedIndex,h=n.base.getPopupSettings(),m="translateY("+u.translate+"px)";return i.createElement(R,{id:n.base.listBoxId,show:d,data:r.slice(),focusedIndex:f-p,value:n.value,textField:o,valueField:l,optionsGuid:n.base.guid,listRef:function(e){u.list=n.base.list=e},wrapperStyle:u.enabled?{float:"left",width:"100%"}:{maxHeight:h.height},wrapperCssClass:u.enabled?void 0:"k-list-scroller",listStyle:u.enabled?{transform:m}:void 0,key:"listKey",skip:p,onClick:n.handleItemClick,itemRender:s,noDataRender:a,onMouseDown:ce,onBlur:n.handleBlur})},n.customItemSelect=function(e){var t,r=void 0!==n.props.filter?n.props.filter:n.state.text,o=n.props.textField;if(r){var i=n.base.initState();i.syntheticEvent=e;var a=o?((t={})[o]=r,t):r;void 0!==n.state.text&&(i.data.text=""),i.data.focusedIndex=void 0,n.base.filterChanged("",i);var s=n.value.concat([a]);n.triggerOnChange(s,i),n.base.togglePopup(i),n.applyState(i)}},n.handleWrapperClick=function(e){var t=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n._input;!t&&r&&n.focusElement(r);var o=n.base.initState();o.syntheticEvent=e,n.state.focused||(o.events.push({type:"onFocus"}),o.data.focused=!0),n.base.togglePopup(o),n.applyState(o)},n.handleItemClick=function(e,t){var r=n.base.initState();r.syntheticEvent=t,n.handleItemSelect(e,r),n.props.autoClose&&n.base.togglePopup(r),n.applyState(r)},n.handleBlur=function(e){if(n.state.focused&&!n._skipFocusEvent){var t=void 0!==n.props.opened?n.props.opened:n.state.opened,r=n.base.initState(),o=n.props,i=o.allowCustom,a=o.filterable;r.syntheticEvent=e,r.data.focused=!1,r.events.push({type:"onBlur"}),t&&(n.state.opened&&(r.data.opened=!1),r.events.push({type:"onClose"})),i||a||!n.state.text||(r.data.text=""),n.applyState(r)}},n.handleFocus=function(e){n._skipFocusEvent||n.base.handleFocus(e)},n.onPopupOpened=function(){n._input&&n.state.focused&&n.focusElement(n._input)},n.onPopupClosed=function(){n.state.focused&&window.setTimeout((function(){n.state.focused&&n.focusElement(n._input)}),0)},n.setValidity=function(){n._input&&n._input.setCustomValidity&&n._input.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"Please enter a valid value!")},Object(s.r)(z),n}return se(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=[];return this._valueItemsDuringOnChange?e.push.apply(e,this._valueItemsDuringOnChange):this.props.value?e.push.apply(e,this.props.value):this.state.value?e.push.apply(e,this.state.value):this.props.defaultValue&&e.push.apply(e,this.props.defaultValue),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=void 0!==this.props.validationMessage,t=!this.required||null!==this.value&&this.value.length>0&&void 0!==this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){var n=this.props.virtual,r=n?n.skip:0,o=e.virtual?e.virtual.total:0,i=void 0!==this.props.opened?this.props.opened:this.state.opened,a=void 0!==e.opened?e.opened:t.opened,s=!a&&i,l=a&&!i;if(!this.base.getPopupSettings().animate&&l&&this.onPopupClosed(),n&&n.total!==o)this.base.vs.calcScrollElementHeight(),this.base.vs.reset();else{var c=this.getFocusedState(),u=c.focusedItem,p=c.focusedIndex;s&&n?this.base.scrollToVirtualItem(n,p-r):s&&!n?this.base.scrollToItem(p):i&&a&&u&&this.scrollToFocused&&this.base.scrollToItem(p-r)}this.scrollToFocused=!1,this.setValidity()},t.prototype.componentDidMount=function(){this.base.didMount(),this.setValidity()},t.prototype.onNavigate=function(e,t){var n=this.props,r=n.allowCustom,o=n.data,i=void 0===o?[]:o,a=void 0!==this.props.opened?this.props.opened:this.state.opened,l=void 0!==this.props.filter?this.props.filter:this.state.text,c=this.getFocusedState(),u=c.focusedType,p=c.focusedIndex,d=r&&l,f=pe(u),h=this.base,m=h.vs;if(a&&t===s.b.up&&f)void 0!==this.state.focusedIndex&&(e.data.focusedIndex=void 0);else{var v=h.navigation.navigate({keyCode:t,current:p,max:(m.enabled?m.total:i.length)-1,min:d?-1:0});void 0!==v&&(this.itemFocus(v,e),this.scrollToFocused=!0)}this.applyState(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,r=t.className,o=t.label,a=t.dir,c=t.disabled,u=t.tags,p=t.textField,d=t.dataItemKey,f=t.virtual,h=this.state,m=h.focused,v=h.text,g=h.focusedTag,y=this.base.vs,k=this.props.id||this._inputId;y.enabled=void 0!==f,void 0!==f&&(y.skip=f.skip,y.total=f.total,y.pageSize=f.pageSize);var w=[];void 0===u?this.value.forEach((function(e){w.push({text:b(e,p),data:[e]})})):w.push.apply(w,u),this.setItems(w,this._tags);var O=!this.validityStyles||this.validity.valid,x=i.createElement("span",{ref:function(t){return e._element=t},className:Object(s.d)("k-widget k-multiselect",r,{"k-state-focused":m&&!c,"k-state-invalid":!O,"k-state-disabled":c}),style:o?le({},n,{width:void 0}):n,dir:a,onFocus:this.handleFocus,onBlur:this.handleBlur},i.createElement("div",{onClick:this.handleWrapperClick,ref:function(t){return e.base.wrapper=t},className:"k-multiselect-wrap k-floatwrap",onMouseDown:C},w.length>0&&i.createElement(ie,{tagRender:this.props.tagRender,onTagDelete:this.onTagDelete,data:w,guid:this.base.guid,focused:g?w.find((function(e){return ue(e,g,d)})):void 0}),this.renderSearchbar(k)),this.renderListContainer());return o?i.createElement(l.a,{label:o,editorId:k,editorValue:v||b(this.value[0],p),editorValid:O,editorDisabled:c,style:{width:n?n.width:void 0},children:x}):x},t.prototype.renderSearchbar=function(e){var t=this.state,n=t.activedescendant,r=t.focusedTag,o=this.props,a=o.disabled,s=o.placeholder,l=o.ariaDescribedBy,c=(void 0!==this.props.filter?this.props.filter:this.state.text)||"",u=void 0!==this.props.opened?this.props.opened:this.state.opened,p=this.getFocusedState().focusedIndex,d=!!c||this.value.length>0,f=0!==this.value.length||c?void 0:s,h=n===U.TagsList&&void 0!==r?"tag-"+this.base.guid+"-"+r.text.replace(/\s+/g,"-"):"option-"+this.base.guid+"-"+p;return i.createElement(J,{id:e,size:Math.max((f||"").length,c.length,1),tabIndex:this.props.tabIndex,accessKey:this.props.accessKey,placeholder:f,value:c,onChange:this.onChangeHandler,onKeyDown:this.onInputKeyDown,ref:this.searchbarRef,disabled:a,expanded:u,owns:this.base.listBoxId,activedescendant:h,ariaDescribedBy:"tagslist-"+this.base.guid+(l?" "+l:""),clearButton:d,clearButtonClick:this.clearButtonClick,loading:this.props.loading,ariaLabelledBy:this.props.ariaLabelledBy})},t.prototype.onTagsNavigate=function(e,t){var n=e.keyCode,r=this.state.focusedTag,o=this._tags,i=this.props.dataItemKey,a=r?o.findIndex((function(e){return ue(e,r,i)})):-1,l=void 0,c=-1!==a;if(n===s.b.left)l=o[a=c?Math.max(0,a-1):o.length-1];else if(n===s.b.right)a===o.length-1?l=void 0:c&&(l=o[a=Math.min(o.length-1,a+1)]);else if(n===s.b.home)l=o[0];else if(n===s.b.end)l=o[o.length-1];else if(n===s.b.delete){if(c){var u=this.value;k(u,o[a].data,i),this.triggerOnChange(u,t)}}else if(n===s.b.backspace){u=this.value;if(c)k(u,o[a].data,i),this.triggerOnChange(u,t);else if(!c&&o.length){var p=o.pop();k(u,p.data,i),this.triggerOnChange(u,t)}}l!==r&&(t.data.focusedTag=l,t.data.activedescendant=U.TagsList),this.applyState(t)},t.prototype.triggerOnChange=function(e,t){void 0===this.props.value&&(t.data.value=e.slice()),this._valueItemsDuringOnChange=[],this.setItems(e,this._valueItemsDuringOnChange),t.events.push({type:"onChange"})},t.prototype.selectFocusedItem=function(e){var t=this.props,n=t.data,r=void 0===n?[]:n,o=t.virtual,i=this.getFocusedState().focusedIndex;void 0!==r[i-(o?o.skip:0)]&&this.handleItemClick(i,e)},t.prototype.setItems=function(e,t){t.length=0,t.push.apply(t,e)},t.prototype.getFocusedState=function(){var e,t=this.state.focusedIndex,n=void 0!==this.props.filter?this.props.filter:this.state.text,r=this.props,o=r.allowCustom,i=r.data,a=void 0===i?[]:i,s=r.dataItemKey,l=r.virtual,c=r.textField,u=r.focusedItemIndex,p=void 0===u?g:u,d=l&&l.skip||0;if(void 0!==t)return{focusedIndex:t,focusedItem:a[t-d],focusedType:ae.ListItem};var f=this.value;if(o&&n)return{focusedItem:null,focusedIndex:-1,focusedType:ae.CustomItem};if(n)return{focusedItem:a[e=p(a,n,c)],focusedIndex:e+d,focusedType:ae.ListItem};if(f.length){var h=f[f.length-1];return e=a.findIndex((function(e){return w(e,h,s)})),void 0!==a[e]?{focusedIndex:e+d,focusedItem:a[e],focusedType:ae.ListItem}:{focusedType:ae.None,focusedIndex:-1}}return 0===d?{focusedItem:a[0],focusedIndex:0,focusedType:ae.ListItem}:{focusedType:ae.None,focusedIndex:-1}},t.prototype.focusElement=function(e){var t=this;this._skipFocusEvent=!0,e.focus(),window.setTimeout((function(){return t._skipFocusEvent=!1}),0)},t.prototype.applyState=function(e){this.base.applyState(e),this._valueItemsDuringOnChange=null},t.propTypes=le({},B.propTypes,{autoClose:a.bool,value:a.arrayOf(a.any),defaultValue:a.arrayOf(a.any),dataItemKey:a.string,placeholder:a.string,tags:a.arrayOf(a.shape({text:a.string,data:a.arrayOf(a.any)})),tagRender:a.func,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string}),t.defaultProps=le({},B.defaultProps,{autoClose:!0,required:!1}),t}(i.Component),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},he=function(e){return i.createElement(R,fe({},e,{listClassName:"k-grid-list"}))},me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ge=i.forwardRef((function(e,t){var n=i.useRef(null),r=i.useRef(null),o=Object(s.h)(),a=e.columns,l=void 0===a?be.columns:a,c=e.popupSettings,u=void 0===c?be.popupSettings:c,p=e.onOpen,d=e.onClose,f=e.onFocus,h=e.onBlur,m=e.onChange,v=e.onFilterChange,g=e.onPageChange,y=ve(e,["columns","popupSettings","onOpen","onClose","onFocus","onBlur","onChange","onFilterChange","onPageChange"]);i.useImperativeHandle(n,(function(){return{element:r.current&&r.current.element,focus:function(){r.current&&r.current.focus()},get value(){return r.current&&r.current.value},get name(){return r.current&&r.current.name},props:e}})),i.useImperativeHandle(t,(function(){return n.current}));var b=i.useMemo((function(){return"calc("+l.map((function(e){return t=e.width,n=be.width,t?"number"==typeof t?t+"px":t:n;var t,n})).filter(Boolean).join(" + ")+" + "+o+"px)"}),[l,o]),k=i.useMemo((function(){return i.createElement(i.Fragment,null,e.header,i.createElement("div",{className:"k-grid-header"},i.createElement("div",{className:"k-grid-header-wrap"},i.createElement("table",{role:"presentation"},i.createElement("colgroup",null,l.map((function(e,t){return i.createElement("col",{key:e.uniqueKey?e.uniqueKey:t,style:{width:e.width?e.width:be.width}})}))),i.createElement("tbody",null,i.createElement("tr",null,l.map((function(e,t){return i.createElement("th",{key:e.uniqueKey?e.uniqueKey:t,className:"k-header"},e.header||"")}))))))))}),[e.header,l]),w=e.virtual?e.virtual.skip:0,O=i.useCallback((function(t,n){var r,o,a,c=l.map((function(e,t){return i.createElement("span",{className:"k-cell",style:{width:e.width?e.width:be.width},key:e.uniqueKey?e.uniqueKey:t},e.field?Object(s.j)(e.field)(n.dataItem):"")})),u=void 0,p=e.data||[],d=n.index-w;void 0!==e.groupField&&(r=(a=Object(s.j)(e.groupField))(p[d]),o=a(p[d-1]),r&&o&&r!==o&&(u=r)),u&&c.push(i.createElement("div",{key:"group",className:"k-cell k-group-cell"},i.createElement("span",null,u)));var f=i.cloneElement(t,me({},t.props),c);return e.itemRender?e.itemRender.call(void 0,f,n):f}),[l,e.groupField,e.itemRender,e.data,w]),C=i.useCallback((function(e,t){e&&e.call(void 0,me({},t,{target:n.current}))}),[]),x=i.useCallback((function(e){return C(p,e)}),[p]),S=i.useCallback((function(e){return C(d,e)}),[d]),E=i.useCallback((function(e){return C(f,e)}),[f]),I=i.useCallback((function(e){return C(h,e)}),[h]),_=i.useCallback((function(e){return C(m,e)}),[m]),N=i.useCallback((function(e){return C(v,e)}),[v]),T=i.useCallback((function(e){return C(g,e)}),[g]);i.useEffect((function(){Object(s.n)()}));var P=i.useCallback((function(e){return i.createElement(he,me({},e))}),[]);return i.createElement(Z,me({},y,{list:P,popupSettings:me({width:b},u,{className:Object(s.d)("k-dropdowngrid-popup k-popup-flush",u.className)}),ref:r,header:k,itemRender:O,onOpen:x,onClose:S,onFocus:E,onBlur:I,onChange:_,onFilterChange:N,onPageChange:T}))})),ye=me({},Z.propTypes,{columns:a.any.isRequired}),be={columns:[],popupSettings:{},width:"200px"};ge.displayName="KendoMultiColumnComboBox",ge.propTypes=ye,ge.defaultProps=be;function ke(e,t,n){if(Ie(e))return t[Number(e)];var r=t[Number(we(e))],o=r&&r[n]||[];return o.length?ke(Oe(e),o,n):void 0}function we(e){return Ee(e)?e:e.split("_")[0]}function Oe(e){if(Ee(e))return e;var t=e.indexOf("_");return e.substring(t+1)}function Ce(e){return xe("0",e)}function xe(e,t){return e=e.toString(),t?t+"_"+e:e}function Se(e){var t=e.lastIndexOf("_");return t<0?"":e.substring(0,t)}function Ee(e){return""===e||e.indexOf("_")<0}function Ie(e){return""!==e&&e.indexOf("_")<0}function _e(e){return e.split("_")}function Ne(e){var t=e.lastIndexOf("_");return t<0?e:e.substring(t+1)}var Te=function(){function e(){this.objects=[]}return e.prototype.init=function(e){for(var t,n=0;n<e.length;n++)n%5e4==0&&(t={},this.objects.push(t)),t[e[n]]=!0},e.prototype.hasId=function(e){return this.objects.some((function(t){return t[e]}))},e}();function Pe(e,t){var n=(e||"").split("."),r=t;return n.forEach((function(e){r=r?r[e]:void 0})),r}function De(e,t){var n=Pe(t,e);return Boolean(n&&n.length)}function Me(e,t){return t.expanded(e)&&De(e,t.getChildrenField())}function je(e,t,n,r){var o=[],i=new Te;return i.init(e),function e(t,n,r,o,i,a){for(var s=0;s<r.length;s++){var l=r[s],c=xe(s,o);t.hasId(Pe(n,l))&&i.push(c),De(l,a)&&e(t,n,Pe(a,l),c,i,a)}}(i,t,n,"",o,r),o}function Re(e,t,n){for(var r=_e(e),o=t,i=0;i<r.length;i++){var a=o[Number(r[i])];if(n.disabled(a))return!1;o=a[n.getChildrenField()]}return!0}function Ae(e,t,n,r,o){switch(r){case s.b.left:return Ie(t)||o.expanded(e)&&Re(t,n,o)?t:Se(t);case s.b.right:return Me(e,o)?Ce(t):t;case s.b.up:return i=Number(Ne(t)),a=Se(t),i?function e(t,n,r){var o=ke(t,n,r.getChildrenField());return Me(o,r)?e(xe(o[r.getChildrenField()].length-1,t),n,r):t}(xe(i-1,a),n,o):Ie(t)?t:a;case s.b.down:return Me(e,o)?Ce(t):function e(t,n,r){var o=Se(t),i=o?ke(o,n,r.getChildrenField()):void 0,a=i?i[r.getChildrenField()]:n,s=Number(Ne(t));return s<a.length-1?xe(s+1,o):i?e(o,n,r):void 0}(t,n,o)||t;case s.b.home:return"0";case s.b.end:return function(){var e,t=(n.length-1).toString(),r=n[n.length-1];for(;Me(r,o);)e=r[o.getChildrenField()],t=xe(e.length-1,t),r=e[e.length-1];return t}();default:return t}var i,a}var Fe=n(14),Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemGuid=Object(s.k)(),t.onCheckChange=function(e){t.props.onCheckChange(e,t.item,t.itemId)},t.onExpandChange=function(e){t.props.onExpandChange(e,t.item,t.itemId)},t.onItemClick=function(e){t.props.onItemClick(e,t.item,t.itemId)},t.onPress=function(e){t.props.onPress(e.event,t.item,t.itemId)},t.onDrag=function(e){t.props.onDrag(e.event,t.item,t.itemId)},t.onRelease=function(e){t.props.onRelease(e.event,t.item,t.itemId)},t.assignDraggableMeta=function(e){e&&(e._kendoItemId=t.props.itemId,e._kendoTreeViewGuid=t.props.treeGuid)},t}return Le(t,e),t.prototype.render=function(){var e=this,t=this.renderSubitemsIfApplicable(),n=this.renderItemInPart();return i.createElement("li",{className:this.getRootClassName(),tabIndex:this.tabIndex,role:"treeitem","aria-expanded":this.ariaExpanded,"aria-selected":this.ariaSelected,"aria-checked":this.ariaChecked,"aria-disabled":!!this.fieldsSvc.disabled(this.item)||void 0,ref:function(t){return e.itemElement=t}},i.createElement("div",{className:"k-mid",ref:this.assignDraggableMeta},this.renderExpandIcon(),this.renderCheckbox(),this.props.draggable?i.createElement(s.a,{onPress:this.onPress,onDrag:this.onDrag,onRelease:this.onRelease},n):n),this.props.animate?i.createElement(Fe.b,{transitionEnterDuration:200,transitionExitDuration:200,style:{display:"block"},children:t}):t)},t.prototype.componentDidMount=function(){var e=this.props.focusedItemId,t=this.itemId;e&&e===t&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement&&(this.checkboxElement.indeterminate=this.fieldsSvc.checkIndeterminate(this.item))},t.prototype.componentDidUpdate=function(e){var t=this.props.focusedItemId;if(t&&t!==e.focusedItemId&&t===this.itemId&&this.props.onFocusDomElNeeded(this.itemElement),this.checkboxElement){var n=this.fieldsSvc.checkIndeterminate(this.item);n!==e.fieldsService.checkIndeterminate(e.item)&&(this.checkboxElement.indeterminate=n)}},t.prototype.renderCheckbox=function(){var e=this;return this.props.checkboxes?i.createElement("div",{className:"k-checkbox-wrapper"},i.createElement("input",{type:"checkbox",className:"k-checkbox",checked:Boolean(this.fieldsSvc.checked(this.item)),id:this.itemGuid,tabIndex:-1,onChange:this.onCheckChange,ref:function(t){return e.checkboxElement=t}}),i.createElement("label",{className:"k-checkbox-label",htmlFor:this.itemGuid})):void 0},t.prototype.renderExpandIcon=function(){return this.props.expandIcons&&(this.fieldsSvc.hasChildren(this.item)||De(this.item,this.fieldsSvc.getChildrenField()))?i.createElement("span",{className:this.getIconClassName(),onClick:this.onExpandChange}):void 0},t.prototype.renderSubitemsIfApplicable=function(){var e=this;return Me(this.item,this.fieldsSvc)?i.createElement("ul",{className:"k-content",role:"group"},this.fieldsSvc.children(this.item).map((function(n,r){return i.createElement(t,{item:n,itemId:xe(r,e.itemId),treeGuid:e.props.treeGuid,animate:e.props.animate,focusedItemId:e.props.focusedItemId,tabbableItemId:e.props.tabbableItemId,fieldsService:e.props.fieldsService,itemUI:e.props.itemUI,checkboxes:e.props.checkboxes,ariaMultiSelectable:e.props.ariaMultiSelectable,onItemClick:e.props.onItemClick,onFocusDomElNeeded:e.props.onFocusDomElNeeded,draggable:e.props.draggable,onPress:e.props.onPress,onDrag:e.props.onDrag,onRelease:e.props.onRelease,expandIcons:e.props.expandIcons,onExpandChange:e.props.onExpandChange,onCheckChange:e.props.onCheckChange,key:r})}))):void 0},t.prototype.renderItemInPart=function(){return i.createElement("span",{className:this.getContentClassName(),style:{touchAction:"none"},onClick:this.onItemClick},this.props.itemUI?i.createElement(this.props.itemUI,{item:this.item,itemHierarchicalIndex:this.itemId}):this.fieldsSvc.text(this.item))},Object.defineProperty(t.prototype,"fieldsSvc",{get:function(){return this.props.fieldsService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemId",{get:function(){return this.props.itemId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this.props.item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabIndex",{get:function(){return(this.props.focusedItemId||this.props.tabbableItemId)===this.itemId?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaExpanded",{get:function(){return this.fieldsSvc.hasChildren(this.item)||De(this.item,this.fieldsSvc.getChildrenField())?Boolean(this.fieldsSvc.expanded(this.item)):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaChecked",{get:function(){return this.props.checkboxes?this.fieldsSvc.checked(this.item)?"true":this.fieldsSvc.checkIndeterminate(this.item)?"mixed":"false":void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaSelected",{get:function(){return!!this.fieldsSvc.selected(this.item)||(this.props.ariaMultiSelectable?!!this.fieldsSvc.disabled(this.item)&&void 0:void 0)},enumerable:!0,configurable:!0}),t.prototype.getIconClassName=function(){return Object(s.d)("k-icon",{"k-i-expand":!this.fieldsSvc.expanded(this.item),"k-i-collapse":this.fieldsSvc.expanded(this.item),"k-i-loading":this.fieldsSvc.expanded(this.item)&&!De(this.item,this.fieldsSvc.getChildrenField())})},t.prototype.getRootClassName=function(){return Object(s.d)("k-item k-treeview-item",{"k-state-disabled":this.fieldsSvc.disabled(this.item)})},t.prototype.getContentClassName=function(){return Object(s.d)("k-in",{"k-state-focused":this.props.focusedItemId===this.itemId,"k-state-selected":this.fieldsSvc.selected(this.item)})},t}(i.Component),ze=function(){function e(e){this.expandField=e.expandField,this.selectField=e.selectField,this.hasChildrenField=e.hasChildrenField,this.childrenField=e.childrenField,this.textField=e.textField,this.disableField=e.disableField,this.checkField=e.checkField,this.checkIndeterminateField=e.checkIndeterminateField,this.focusIdField=e.focusIdField}return e.prototype.expanded=function(e){return Pe(this.expandField,e)},e.prototype.selected=function(e){return Pe(this.selectField,e)},e.prototype.text=function(e){return Pe(this.textField,e)},e.prototype.disabled=function(e){return Pe(this.disableField,e)},e.prototype.hasChildren=function(e){return Pe(this.hasChildrenField,e)},e.prototype.children=function(e){var t=Pe(this.childrenField,e);return t||[]},e.prototype.checked=function(e){return Pe(this.checkField,e)},e.prototype.checkIndeterminate=function(e){return Pe(this.checkIndeterminateField,e)},e.prototype.focusId=function(e){return this.focusIdField&&Pe(this.focusIdField,e)},e.prototype.getChildrenField=function(){return this.childrenField},e}(),Ve={name:"@progress/kendo-react-treeview",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477636,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:"0"},n.allowExplicitFocus=!1,n.treeGuid=Object(s.k)(),n._element=null,n.onFocusDomElNeeded=function(e){n.allowExplicitFocus&&n.focusDomItem(e)},n.onCheckChange=function(e,t,r){n.setFocus(r),n.dispatchCheckChange(e,t,r)},n.onExpandChange=function(e,t,r){n.setFocus(r),n.dispatchExpandChange(e,t,r)},n.onPress=function(e,t,r){e.originalEvent.preventDefault(),n.props.onItemDragStart&&n.props.onItemDragStart.call(void 0,{target:n,item:t,itemHierarchicalIndex:r})},n.onDrag=function(e,t,r){e.originalEvent.preventDefault();var o=e.pageX,i=e.pageY,a=e.clientX,s=e.clientY;n.props.onItemDragOver&&n.props.onItemDragOver.call(void 0,{target:n,item:t,itemHierarchicalIndex:r,pageX:o,pageY:i,clientX:a,clientY:s})},n.onRelease=function(e,t,r){var o=e.pageX,i=e.pageY,a=e.clientX,s=e.clientY;n.props.onItemDragEnd&&n.props.onItemDragEnd.call(void 0,{target:n,item:t,itemHierarchicalIndex:r,pageX:o,pageY:i,clientX:a,clientY:s})},n.onItemClick=function(e,t,r){n.setFocus(r),n.dispatchItemClick(e,t,r)},n.onFocus=function(){clearTimeout(n.blurRequest),void 0===n.state.focusedItemId&&n.data.length&&n.setFocus(n.state.tabbableItemId)},n.onBlur=function(){clearTimeout(n.blurRequest),n.blurRequest=window.setTimeout((function(){return n.setFocus(void 0)}),0)},n.onKeyDown=function(e){var t=n.getFocusedItem();if(t){var r=Ae(t,n.state.focusedItemId,n.data,e.keyCode,n.fieldsSvc);r!==n.state.focusedItemId&&(e.preventDefault(),n.allowExplicitFocus=!0,n.setFocus(r)),n.dispatchEventsOnKeyDown(e,t)}},Object(s.r)(Ve),n}return He(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return this.fieldsSvc=new ze(this.props),i.createElement("div",{className:"k-widget k-treeview"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,role:"tree","aria-multiselectable":!!this.ariaMultiSelectable||void 0,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],ref:function(t){return e._element=t},tabIndex:this.props.tabIndex},i.createElement("ul",{className:"k-treeview-lines k-group",role:"group"},this.data.map((function(t,n){return i.createElement(Be,{item:t,itemId:n.toString(),treeGuid:e.treeGuid,animate:e.props.animate,focusedItemId:e.state.focusedItemId,tabbableItemId:e.state.tabbableItemId,fieldsService:e.fieldsSvc,itemUI:e.props.item,checkboxes:e.props.checkboxes,ariaMultiSelectable:e.ariaMultiSelectable,onItemClick:e.onItemClick,onFocusDomElNeeded:e.onFocusDomElNeeded,draggable:e.props.draggable,onPress:e.onPress,onDrag:e.onDrag,onRelease:e.onRelease,expandIcons:e.props.expandIcons,onExpandChange:e.onExpandChange,onCheckChange:e.onCheckChange,key:n})}))))},t.prototype.componentDidUpdate=function(){this.allowExplicitFocus=!1,this.refocusDueToFocusIdField()},t.prototype.dispatchEventsOnKeyDown=function(e,t){var n=this,r=function(){return Re(n.state.focusedItemId,n.data,n.fieldsSvc)};e.keyCode===s.b.left&&this.fieldsSvc.expanded(t)&&r()||e.keyCode===s.b.right&&!this.fieldsSvc.expanded(t)&&(this.fieldsSvc.hasChildren(t)||De(t,this.props.childrenField))&&r()?this.dispatchExpandChange(e,t,this.state.focusedItemId):e.keyCode===s.b.enter&&r()?this.dispatchItemClick(e,t,this.state.focusedItemId):e.keyCode===s.b.space&&r()&&(e.preventDefault(),this.dispatchCheckChange(e,t,this.state.focusedItemId))},t.prototype.setFocus=function(e){if(e)if(this.fieldsSvc.focusIdField){var t=this.getItemById(e);this.setState({focusedItemId:e,focusedItemPublicId:this.fieldsSvc.focusId(t)})}else this.setState({focusedItemId:e});else this.setState((function(e){return{focusedItemId:void 0,focusedItemPublicId:void 0,tabbableItemId:e.focusedItemId}}))},t.prototype.getFocusedItem=function(){return this.state.focusedItemId?this.getItemById(this.state.focusedItemId):void 0},t.prototype.getItemById=function(e){return ke(e,this.data,this.props.childrenField||"items")},t.prototype.dispatchCheckChange=function(e,t,n){Object(s.e)(this.props.onCheckChange,e,this,{item:t,itemHierarchicalIndex:n})},t.prototype.dispatchExpandChange=function(e,t,n){Object(s.e)(this.props.onExpandChange,e,this,{item:t,itemHierarchicalIndex:n})},t.prototype.dispatchItemClick=function(e,t,n){Object(s.e)(this.props.onItemClick,e,this,{item:t,itemHierarchicalIndex:n})},t.prototype.refocusDueToFocusIdField=function(){if(this.fieldsSvc.focusIdField){var e=this.state.focusedItemPublicId;if(e){var t=this.props.getFocusHierarchicalIndex?this.props.getFocusHierarchicalIndex(e):(n=e,r=this.fieldsSvc.focusIdField,o=this.data,i=this.props.childrenField,(a=je([n],r,o,i)).length?a[0]:void 0);t!==this.state.focusedItemId&&(this.allowExplicitFocus=!0,this.setState({focusedItemId:t}))}}var n,r,o,i,a},Object.defineProperty(t.prototype,"ariaMultiSelectable",{get:function(){return!0===this.props["aria-multiselectable"]||"true"===this.props["aria-multiselectable"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.props.data||[]},enumerable:!0,configurable:!0}),t.prototype.focusDomItem=function(e){e.focus()},Object.defineProperty(t.prototype,"guid",{get:function(){return this.treeGuid},enumerable:!0,configurable:!0}),t.propTypes={data:a.arrayOf(a.any),animate:a.bool,tabIndex:a.number,focusIdField:a.string,getHierarchicalIndexById:a.func,onExpandChange:a.func,onItemClick:a.func,expandField:a.string,selectField:a.string,childrenField:a.string,hasChildrenField:a.string,textField:a.string,disableField:a.string,item:a.any,"aria-multiselectable":a.oneOfType([a.bool,a.oneOf(["false","true"])]),"aria-label":a.string,"aria-labelledby":a.string},t.defaultProps={animate:!0,expandField:"expanded",selectField:"selected",hasChildrenField:"hasChildren",childrenField:"items",textField:"text",disableField:"disabled",checkField:"checked",checkIndeterminateField:"checkIndeterminate"},t}(i.Component);var We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(){return($e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visible:!1,top:0,left:0,text:"",operationClassName:"k-i-cancel"},t}We(t,e),t.prototype.render=function(){var e={top:this.state.top+"px",left:this.state.left+"px"};return this.state.visible&&i.createElement("div",{className:"k-header k-drag-clue",style:$e({},this.props.style,e)},i.createElement("span",{className:Object(s.d)("k-icon k-drag-status k-icon-with-modifier",this.state.operationClassName)},i.createElement("span",{className:"k-icon k-icon-modifier"})),this.state.text)},t.prototype.show=function(e,t,n,r){this.setState({visible:!0,top:e,left:t,text:n,operationClassName:r})},t.prototype.hide=function(){this.setState({visible:!1})},t.defaultProps={style:{display:"block",position:"absolute",zIndex:2e4,padding:"4px 6px"}}})(i.PureComponent),function(){function e(e){this.event=e,this.initialized=!1,this.itemId=e.itemHierarchicalIndex,this.treeViewGuid=e.target.guid}e.prototype.init=function(){return this.initialized||(this.setDestimationMeta(document.elementFromPoint(this.event.clientX,this.event.clientY)),this.initialized=!0),this},Object.defineProperty(e.prototype,"isDropAllowed",{get:function(){return!!(this.initialized&&this.destItemId&&this.destTreeViewGuid)&&!(this.destTreeViewGuid+"_"+this.destItemId+"_").startsWith(this.treeViewGuid+"_"+this.itemId+"_")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destinationMeta",{get:function(){return{itemHierarchicalIndex:this.destItemId,treeViewGuid:this.destTreeViewGuid}},enumerable:!0,configurable:!0}),e.prototype.getDropOperation=function(){if(this.initialized&&this.isDropAllowed){var e=this.destDomNodeWithMeta.getBoundingClientRect(),t=e.top;return t+e.height-this.event.clientY<6?"after":this.event.clientY-t<6?"before":"child"}},e.prototype.setDestimationMeta=function(e){for(var t=e;t&&!t._kendoItemId;)t=t.parentNode;t&&t._kendoItemId&&(this.destDomNodeWithMeta=t,this.destItemId=t._kendoItemId,this.destTreeViewGuid=t._kendoTreeViewGuid)}}();var qe=function(e){return i.createElement("div",{className:"k-nodata"},i.createElement("div",null,e.children))},Ue=function(){return(Ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ge=function(e){return i.createElement(i.Fragment,null,e.children)},Je=function(e){return e.split("_").map((function(e){return parseInt(e,10)}))},Xe="selected",Ye="items",Ze={animate:!0,width:"200px",height:"200px"},Qe=!1,et=!0,tt=i.forwardRef((function(e,t){Object(s.r)(z);var n=i.useMemo((function(){return Object(s.k)()}),[]),r=e.id||n,o=e.data,a=void 0===o?[]:o,u=e.dataItemKey,p=e.popupSettings,d=void 0===p?{}:p,f=e.style,h=void 0===f?{}:f,v=e.opened,g=e.disabled,y=e.onOpen,k=void 0===y?s.m:y,O=e.onClose,C=void 0===O?s.m:O,x=e.placeholder,S=e.label,E=e.name,I=e.selectField,_=void 0===I?Xe:I,M=e.subItemsField,j=void 0===M?Ye:M,R=e.validationMessage,A=e.valid,F=e.required,L=void 0===F?Qe:F,B=e.validityStyles,V=void 0===B?et:B,H=Object(s.i)(e.tabIndex,g),K=i.useRef(null),W=i.useRef(null),$=i.useRef(null),q=i.useRef(null),U=i.useRef(null),G=i.useRef(!1),J=i.useState(void 0),X=J[0],Y=J[1],Z=void 0!==e.value,Q=Z?e.value:void 0!==X?X:e.defaultValue,ee=m(Q),te=ee?b(Q,e.textField):"",ne=function(e,t){var n=e.validationMessage,r=e.valid,o=e.required;return{customError:void 0!==n,valid:Boolean(void 0!==r?r:!o||t),valueMissing:!t}}({validationMessage:R,valid:A,required:L},ee),re=i.useCallback((function(){return W.current&&W.current.focus()}),[]);i.useImperativeHandle(K,(function(){return{props:e,element:W.current,actionElement:W.current,focus:re}})),i.useImperativeHandle(t,(function(){return K.current}));var oe=Object(s.q)(W,e.dir),ie=void 0!==d.width?d.width:void 0!==h.width?h.width:Ze.width,ae=function(e,t,n){var r=i.useState(t),o=r[0],a=r[1];return i.useEffect((function(){void 0!==o&&e.current&&a(e.current.offsetWidth)}),n),o}(W,ie),se=Ue({width:ae},void 0!==oe?{direction:oe}:{}),le=i.useState(!1),ce=le[0],ue=le[1],pe=void 0!==v?v:ce,de=i.useState(!1),fe=de[0],he=de[1],me=i.useState(""),ve=me[0],ge=me[1],ye=i.useCallback((function(){q.current&&q.current.setCustomValidity&&q.current.setCustomValidity(ne.valid?"":void 0===R?"Please select a value from the list!":R)}),[R,ne]);i.useEffect(ye);var be=i.useCallback((function(e){if(!pe){if(k){var t=Ue({},e);k.call(void 0,t)}void 0===v&&ue(!0)}}),[pe,v,k]),ke=i.useCallback((function(e){if(pe){if(C){var t=Ue({},e);C.call(void 0,t)}void 0===v&&ue(!1)}}),[pe,v,C]),we=i.useCallback((function(e){if(!e.isDefaultPrevented()&&K.current){he(!0);var t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:K.current};(pe?ke:be)(t)}}),[pe,v,k,C]),Oe=i.useCallback((function(e){G.current=!0,e(),window.setTimeout((function(){return G.current=!1}),0)}),[]),Ce=i.useCallback((function(e){var t=e.keyCode,n=e.altKey,r=U.current&&U.current.element;if(K.current&&(!e.isDefaultPrevented()||$.current!==e.target)){var o={syntheticEvent:e,nativeEvent:e.nativeEvent,target:K.current};if(pe)if(t===s.b.esc||n&&t===s.b.up)ke(o);else if(r&&r.querySelector(".k-state-focused")&&(t===s.b.up||t===s.b.down||t===s.b.left||t===s.b.right||t===s.b.home||t===s.b.end)){if(t===s.b.up&&$.current){var i=Array.from(r.querySelectorAll(".k-treeview-item")),a=i.slice().reverse().find((function(e){return Boolean(e&&e.querySelector(".k-state-focused"))}));if(a&&0===i.indexOf(a))return Oe((function(){Se($.current)}))}Oe(s.m)}else t===s.b.down&&Oe((function(){Se($.current||r)}));else n&&t===s.b.down&&be(o)}}),[pe,v,k,C]),xe=i.useCallback((function(e){var t=e.keyCode;e.altKey||t!==s.b.up&&t!==s.b.down||(e.preventDefault(),Oe(t===s.b.up?function(){Se(W.current)}:function(){Se(U.current&&U.current.element)}))}),[]),Se=i.useCallback((function(e){e&&Oe((function(){return e.focus()}))}),[]),Ee=i.useCallback((function(){!fe&&pe?ke({target:K.current}):e.filterable?Se($.current):Se(U.current&&U.current.element)}),[C,e.filterable,fe,v,pe]),Ie=i.useCallback((function(){fe&&Se(W.current)}),[fe]),_e=i.useCallback((function(t){if(!fe&&!G.current&&(he(!0),e.onFocus&&K.current)){var n={syntheticEvent:t,nativeEvent:t.nativeEvent,target:K.current};e.onFocus.call(void 0,n)}}),[fe,e.onFocus]),Ne=i.useCallback((function(t){if(fe&&!G.current&&K.current){he(!1);var n={syntheticEvent:t,nativeEvent:t.nativeEvent,target:K.current};if(e.onBlur){var r=Ue({},n);e.onBlur.call(void 0,r)}ke(n)}}),[fe,e.onBlur,pe,v,C]),Te=i.useCallback((function(){fe&&Oe(s.m)}),[fe]),Pe=i.useCallback((function(t,n,r){if(e.onChange){var o=Ue({value:n,level:r?Je(r):[]},t);e.onChange.call(void 0,o)}Z||Y(n)}),[e.onChange,Z]),De=i.useCallback((function(e){if(!w(e.item,Q,u)&&K.current){var t=e.item,n=e.itemHierarchicalIndex,r=e.nativeEvent,o={syntheticEvent:e.syntheticEvent,nativeEvent:r,target:K.current};Pe(o,t,n),ke(o)}}),[Z,Q,e.onChange,u,pe,v,C]),Me=i.useCallback((function(e){if(K.current){var t={syntheticEvent:e,nativeEvent:e.nativeEvent,target:K.current};Pe(t,null),ke(t),e.preventDefault()}}),[Z,e.onChange,pe,v,C]),je=i.useCallback((function(t){if(e.onExpandChange&&K.current){var n=t.item,r=t.itemHierarchicalIndex,o=t.nativeEvent,i=t.syntheticEvent,a={level:Je(r),item:n,nativeEvent:o,syntheticEvent:i,target:K.current};e.onExpandChange.call(void 0,a)}}),[e.onExpandChange]),Re=i.useCallback((function(t){if(e.onFilterChange&&K.current){var n={filter:{field:e.textField,operator:"contains",value:t.target.value},syntheticEvent:t,nativeEvent:t.nativeEvent,target:K.current};e.onFilterChange.call(void 0,n),void 0===e.filter&&ge(t.target.value)}}),[e.onFilterChange,e.filter,e.textField]),Ae=i.useMemo((function(){return Z||!ee?a:Object(s.l)(a,j,(function(e){var t;return Object(s.f)(e,j,((t={})[_]=w(e,Q,u),t))}))}),[a,Q,Z,ee,_,j]),Fe=e.listNoData||qe,Le=e.valueHolder||Ge,Be=Object(N.useLocalization)(),ze=!V||ne.valid,Ve=i.createElement("span",{className:Object(s.d)("k-widget k-dropdowntree k-dropdowntree-clearable",e.className),tabIndex:H,accessKey:e.accessKey,id:r,style:S?Ue({},h,{width:void 0}):h,dir:oe,ref:W,onKeyDown:g?void 0:Ce,onMouseDown:Te,onFocus:_e,onBlur:Ne,role:"listbox","aria-haspopup":"true","aria-expanded":pe,"aria-disabled":g,"aria-label":S,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},i.createElement("span",{className:Object(s.d)("k-dropdown-wrap",{"k-state-focused":fe,"k-state-disabled":g,"k-state-invalid":!ze}),onClick:g?void 0:we},i.createElement("span",{className:"k-input"},i.createElement(Le,{item:Q},te||x)),ee&&!g&&i.createElement("span",{onClick:Me,className:"k-icon k-clear-value k-i-close",title:Be.toLanguageString(P,D[P]),role:"button",tabIndex:-1,onMouseDown:function(e){return e.preventDefault()}}),i.createElement("span",{className:"k-select","aria-label":"select"},i.createElement("span",{className:Object(s.d)("k-icon",{"k-i-arrow-60-down":!e.loading,"k-i-loading":e.loading})})),i.createElement("select",{name:E,ref:q,tabIndex:-1,"aria-hidden":!0,title:S,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"}},i.createElement("option",{value:e.valueMap?e.valueMap.call(void 0,Q):Q}))),i.createElement(c.Popup,{className:Object(s.d)("k-list-container k-group k-reset k-popup-dropdowntree",d.className,{"k-rtl":"rtl"===oe}),style:se,animate:d.animate,anchor:W.current,show:pe,onOpen:Ee,onClose:Ie,appendTo:d.appendTo},e.filterable&&i.createElement("span",{className:"k-list-filter"},i.createElement("input",{className:"k-textbox",tabIndex:H,ref:$,value:void 0===e.filter?ve:e.filter,onChange:Re,onKeyDown:xe}),i.createElement("span",{className:"k-icon k-i-zoom"})),a.length>0?i.createElement(Ke,{ref:U,tabIndex:H,data:Ae,focusIdField:u,textField:e.textField,selectField:_,expandField:e.expandField,childrenField:j,expandIcons:!0,onItemClick:De,onExpandChange:je,item:e.item}):i.createElement(Fe,null,Be.toLanguageString(T,D[T]))));return S?i.createElement(l.a,{label:S,editorValue:te,editorPlaceholder:x,editorValid:ze,editorDisabled:g,editorId:r,style:{width:h?h.width:void 0},children:Ve,dir:oe}):Ve})),nt={opened:a.bool,disabled:a.bool,dir:a.string,tabIndex:a.number,accessKey:a.string,data:a.array,value:a.any,valueMap:a.func,placeholder:a.string,dataItemKey:a.string.isRequired,textField:a.string.isRequired,selectField:a.string,expandField:a.string,subItemsField:a.string,className:a.string,style:a.object,label:a.string,validationMessage:a.string,validityStyles:a.bool,valid:a.bool,required:a.bool,name:a.string,id:a.string,ariaLabelledBy:a.string,ariaDescribedBy:a.string,filterable:a.bool,filter:a.string,loading:a.bool,popupSettings:a.shape({animate:a.oneOfType([a.bool,a.shape({openDuration:a.number,closeDuration:a.number})]),className:a.string,appendTo:a.any,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number])}),onOpen:a.func,onClose:a.func,onFocus:a.func,onBlur:a.func,onChange:a.func,onFilterChange:a.func,onExpandChange:a.func,item:a.func,valueHolder:a.func,listNoData:a.func};tt.displayName="KendoReactDropDownTree",tt.propTypes=nt},function(e,t){e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.Editor=r.default;var o=n(35);t.EditorTools=o.EditorTools;var i=n(13);t.EditorToolsSettings=i.EditorToolsSettings;var a=n(18);t.EditorUtils=a.EditorUtils;var s=n(15);t.EditorDialogs=s.EditorDialogs;var l=n(4);t.ProseMirror={Selection:l.Selection,SelectionRange:l.SelectionRange,TextSelection:l.TextSelection,NodeSelection:l.NodeSelection,AllSelection:l.AllSelection,EditorState:l.EditorState,Plugin:l.Plugin,PluginKey:l.PluginKey,Transaction:l.Transaction,Decoration:l.Decoration,DecorationSet:l.DecorationSet,EditorView:l.EditorView,Node:l.Node,ResolvedPos:l.ResolvedPos,NodeRange:l.NodeRange,Fragment:l.Fragment,Slice:l.Slice,ReplaceError:l.ReplaceError,Mark:l.Mark,Schema:l.Schema,NodeType:l.NodeType,MarkType:l.MarkType,ContentMatch:l.ContentMatch,DOMParser:l.DOMParser,DOMSerializer:l.DOMSerializer,Transform:l.Transform,Step:l.Step,StepResult:l.StepResult,joinPoint:l.joinPoint,canJoin:l.canJoin,canSplit:l.canSplit,insertPoint:l.insertPoint,dropPoint:l.dropPoint,liftTarget:l.liftTarget,findWrapping:l.findWrapping,StepMap:l.StepMap,MapResult:l.MapResult,Mapping:l.Mapping,AddMarkStep:l.AddMarkStep,RemoveMarkStep:l.RemoveMarkStep,ReplaceStep:l.ReplaceStep,ReplaceAroundStep:l.ReplaceAroundStep,replaceStep:l.replaceStep,deleteSelection:l.deleteSelection,joinBackward:l.joinBackward,selectNodeBackward:l.selectNodeBackward,joinForward:l.joinForward,selectNodeForward:l.selectNodeForward,joinUp:l.joinUp,joinDown:l.joinDown,lift:l.lift,newlineInCode:l.newlineInCode,exitCode:l.exitCode,createParagraphNear:l.createParagraphNear,liftEmptyBlock:l.liftEmptyBlock,splitBlock:l.splitBlock,splitBlockKeepMarks:l.splitBlockKeepMarks,selectParentNode:l.selectParentNode,selectAll:l.selectAll,wrapIn:l.wrapIn,setBlockType:l.setBlockType,toggleMark:l.toggleMark,autoJoin:l.autoJoin,chainCommands:l.chainCommands,pcBaseKeymap:l.pcBaseKeymap,macBaseKeymap:l.macBaseKeymap,baseKeymap:l.baseKeymap,history:l.history,undo:l.undo,redo:l.redo,undoDepth:l.undoDepth,redoDepth:l.redoDepth,InputRule:l.InputRule,inputRules:l.inputRules,undoInputRule:l.undoInputRule,emDash:l.emDash,ellipsis:l.ellipsis,openDoubleQuote:l.openDoubleQuote,closeDoubleQuote:l.closeDoubleQuote,openSingleQuote:l.openSingleQuote,closeSingleQuote:l.closeSingleQuote,smartQuotes:l.smartQuotes,wrappingInputRule:l.wrappingInputRule,textblockTypeInputRule:l.textblockTypeInputRule,keymap:l.keymap,keydownHandler:l.keydownHandler,orderedList:l.orderedList,bulletList:l.bulletList,listItem:l.listItem,addListNodes:l.addListNodes,wrapInList:l.wrapInList,splitListItem:l.splitListItem,liftListItem:l.liftListItem,sinkListItem:l.sinkListItem,dropCursor:l.dropCursor,gapCursor:l.gapCursor,tableEditing:l.tableEditing,fixTables:l.fixTables,fixTablesKey:l.fixTablesKey,cellAround:l.cellAround,isInTable:l.isInTable,selectionCell:l.selectionCell,moveCellForward:l.moveCellForward,inSameTable:l.inSameTable,findCell:l.findCell,colCount:l.colCount,nextCell:l.nextCell,removeColSpan:l.removeColSpan,addColSpan:l.addColSpan,columnIsHeader:l.columnIsHeader,tableNodes:l.tableNodes,tableNodeTypes:l.tableNodeTypes,CellSelection:l.CellSelection,TableMap:l.TableMap,tableEditingKey:l.tableEditingKey,columnResizing:l.columnResizing,columnResizingPluginKey:l.columnResizingPluginKey,updateColumnsOnResize:l.updateColumnsOnResize,selectedRect:l.selectedRect,addColumn:l.addColumn,addColumnBefore:l.addColumnBefore,addColumnAfter:l.addColumnAfter,deleteColumn:l.deleteColumn,rowIsHeader:l.rowIsHeader,addRow:l.addRow,addRowBefore:l.addRowBefore,addRowAfter:l.addRowAfter,deleteRow:l.deleteRow,mergeCells:l.mergeCells,splitCell:l.splitCell,splitCellWithType:l.splitCellWithType,setCellAttr:l.setCellAttr,toggleHeader:l.toggleHeader,toggleHeaderRow:l.toggleHeaderRow,toggleHeaderColumn:l.toggleHeaderColumn,toggleHeaderCell:l.toggleHeaderCell,goToNextCell:l.goToNextCell,deleteTable:l.deleteTable}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(7),c=n(4),u=n(19),p=n(27),d=n(13),f=n(15),h=n(18),m=n(32),v=d.EditorToolsSettings.link,g=d.EditorToolsSettings.bold,y=d.EditorToolsSettings.italic,b=d.EditorToolsSettings.underline,k=n(33),w=n(12),O=n(34),C=function(e){function t(t){var n=e.call(this,t)||this;if(n.state={view:void 0,linkDialog:!1},n.trOnChange=null,n.htmlOnChange=null,n.focus=function(){n.state.view&&n.state.view.focus()},n.renderDialog=function(e,t,r){return n.state[r]&&a.createElement(e,{view:n.state.view,settings:t,dir:n.props.dir,onClose:function(){var e;return n.setState(((e={})[r]=!1,e))}})},n.renderTool=function(e,t){var r=a.createElement(e,{view:n.state.view,dir:n.props.dir,key:t});return r.type===l.ToolbarSeparator?a.createElement(e,{key:t}):r},n.updateTools=function(e,t){n.setState({view:e})},n.onPasteHtml=function(e){if(n.props.onPasteHtml){var t=n.props.onPasteHtml.call(void 0,{target:n,pastedHtml:e,nativeEvent:n.pasteEvent});if(n.pasteEvent=void 0,"string"==typeof t)return t}return e},n.dispatchTransaction=function(e){var t=e.docChanged;if(n.props.onChange&&t){n.trOnChange=e;var r=e.doc,o=e.doc.type.schema,i=n;n.props.onChange.call(void 0,{target:i,value:r,get html(){return i.htmlOnChange=h.EditorUtils.getHtml({doc:r,schema:o}),i.htmlOnChange},transaction:e,schema:o})}!n.view||void 0!==n.props.value&&t||n.view.updateState(n.view.state.apply(e))},n.onFocus=function(e,t){return n.props.onFocus&&n.props.onFocus.call(void 0,{target:n,nativeEvent:t}),!1},n.onBlur=function(e,t){return n.props.onBlur&&n.props.onBlur.call(void 0,{target:n,nativeEvent:t}),!1},n.onPaste=function(e,t){return n.props.onPasteHtml&&(n.pasteEvent=t),!1},void 0!==w)w.validatePackage(O.packageMetadata);else{var r="License activation failed for "+O.packageMetadata.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+O.packageMetadata.licensingDocsUrl+" for more information.\n",console.warn(r)}return n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return null!==this.trOnChange?this.trOnChange.doc:void 0!==this.props.value?this.props.value:this.view?this.view.state.doc:this.props.defaultContent||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentElement",{get:function(){return this._contentElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this.state.view},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.iframe&&k.firefox||this.initialize()},t.prototype.componentDidUpdate=function(e){var t=this.props.value,n=this.view;void 0!==t&&n&&(m.updateEditorValue(n,t,e.value,this.trOnChange,this.htmlOnChange),this.trOnChange=null,this.htmlOnChange=null)},t.prototype.componentWillUnmount=function(){this.state.view&&this.state.view.destroy()},t.prototype.render=function(){var e=this,t=this.props,n=t.tools,r=void 0===n?[]:n,o=t.defaultEditMode,i=void 0===o?"iframe":o,s=t.style,c=t.className,u=this.props.contentStyle;void 0===u&&void 0===(s||{}).height&&(u={height:"300px"});var p=r.map((function(t,n){return Array.isArray(t)?a.createElement(l.ButtonGroup,{key:n},t.map(e.renderTool,n)):e.renderTool(t,n)}));return a.createElement("div",{ref:function(t){return e._element=t},className:"k-widget k-editor"+(c?" "+c:""),dir:this.props.dir,style:s},p.length>0&&a.createElement(l.Toolbar,{keyboardNavigation:this.props.keyboardNavigation},p),"iframe"===i?a.createElement("div",{className:"k-editor-content"},a.createElement("iframe",{onLoad:k.firefox?function(){e.initialize()}:void 0,ref:function(t){return e.iframe=t},frameBorder:"0",style:u,className:"k-iframe"})):a.createElement("div",{style:u,className:"k-editor-content"},a.createElement("div",{ref:function(t){return e._contentElement=t},suppressContentEditableWarning:!0})),this.renderDialog(f.EditorDialogs.InsertLinkDialog,v,"linkDialog"))},t.prototype.initialize=function(){var e=this,t=this.iframe&&this.iframe.contentWindow;if(t){var n=t.document;[p.defaultStyle,p.tablesStyles,"rtl"===this.props.dir?p.rtlStyles:void 0].forEach((function(e){if(e){var t=n.createElement("style");t.appendChild(n.createTextNode(e)),n.head.appendChild(t)}}));var r=n.createElement("meta");r.setAttribute("charset","utf-8"),n.head.appendChild(r),this._contentElement=n.createElement("div"),n.body.appendChild(this._contentElement),this._contentElement.classList.add("k-content")}var o=this._contentElement;if(o){var a=this,s=[new c.Plugin({view:function(){return{update:e.updateTools}},key:new c.PluginKey("toolbar-tools-update-plugin")}),new c.Plugin({filterTransaction:function(t,n){return!1!==(e.props.onExecute&&e.props.onExecute.call(void 0,{target:a,transaction:t,state:n}))},key:new c.PluginKey("onExecute-event-plugin")}),c.spacesFix(),c.history(),c.dropCursor(),c.gapCursor(),c.tableEditing()],l=i({},h.EditorUtils.getShortcuts({types:{listItem:"list_item",hardBreak:"hard_break"},toolsSettings:{bold:g,italic:y,underline:b}}),{"Mod-k":function(){var t=e.state,n=t.linkDialog,r=t.view;if(r){var o=r.state,i=o.selection.empty,a=c.getMark(o,o.schema.marks[v.mark]);n||i&&!a||e.setState({linkDialog:!0})}return!n}}),d=this.props,f=d.defaultContent,m=void 0===f?"":f,k=d.value,w=d.onMount,O=k&&"string"!=typeof k?k:h.EditorUtils.createDocument(new c.Schema({nodes:u.nodes,marks:u.marks}),k||m),C={state:c.EditorState.create({plugins:s.concat([c.keymap(l),c.keymap(c.baseKeymap)]),doc:O}),transformPastedHTML:this.onPasteHtml,dispatchTransaction:this.dispatchTransaction,handleDOMEvents:{focus:this.onFocus,blur:this.onBlur,paste:this.onPaste}},x=w&&w.call(void 0,{plugins:s,shortcuts:l,target:a,viewProps:C,dom:o})||new c.EditorView({mount:o},C);this.setState({view:x})}},t.propTypes={defaultContent:s.string,value:s.oneOfType([s.object,s.string]),defaultEditMode:s.oneOf(["iframe","div"]),contentStyle:s.object,dir:s.string,className:s.string,style:s.object,tools:s.arrayOf(s.any),keyboardNavigation:s.bool,onMount:s.func,onFocus:s.func,onBlur:s.func,onChange:s.func,onPasteHtml:s.func,onExecute:s.func},t}(a.Component);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStyle='\nhtml, body {\n    margin: 0;\n    height: 100%;\n    padding: 0;\n}\n\nhtml {\n  min-height: 100%;\n}\n\nbody {\n  box-sizing: border-box;\n  position: relative;\n  word-wrap: break-word;\n  padding: 8px;\n}\n\nbody > .k-content {\n  outline: 0;\n  height: 100%;\n  white-space: pre-wrap;\n}\n\n.k-content > p {\n  margin: 0 0 1em;\n}\n\n.k-content table {\n  white-space: pre-wrap;\n}\n\n.k-content .k-text-selected, .k-content::selection {\n  color: HighlightText;\n  background-color: Highlight;\n}\n\n.k-content .k-text-highlighted {\n  background-color: #bbdefb;\n}\n\n.k-content .ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; }\n.ProseMirror-hideselection { caret-color: transparent; }\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n',t.tablesStyles='\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n    margin: 1em 0;\n  }\n\n  .ProseMirror table {\n    margin: 0;\n    border-collapse: collapse;\n    table-layout: fixed;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .ProseMirror td, .ProseMirror th {\n    min-width: 1em;\n    border: 1px solid #ddd;\n    padding: 3px 5px;\n    vertical-align: top;\n    box-sizing: border-box;\n    position: relative;\n  }\n\n  .ProseMirror th {\n    font-weight: bold;\n    text-align: left;\n  }\n\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px; top: 0; bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: "";\n    left: 0; right: 0; top: 0; bottom: 0;\n    background: rgba(200, 200, 255, 0.4);\n    pointer-events: none;\n  }\n',t.rtlStyles="body { direction: rtl }"},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),s=n(16),l=n(7),c=n(4),u=n(3),p=n(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.href=null,t.title=null,t.target=null,t.onClose=function(){t.props.view.focus(),t.props.onClose()},t.onInsert=function(){var e=t.props.view,n=t.props.settings.mark,r={href:t.href?t.href.value:void 0,title:t.title?t.title.value:void 0,target:t.target&&t.target.checked?"_blank":void 0};c.applyLink({mark:n,attrs:r},t.props.settings.commandName)(e.state,e.dispatch),t.onClose()},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.view,r=t.settings,o=t.dir,d=t.render,f=u.provideLocalizationService(this),h=r.messages,m=h.insertHyperlinkDialogTitle,v=h.insertHyperlinkAddress,g=h.insertHyperlinkTitle,y=h.insertHyperlinkNewWindow,b=h.insertHyperlinkCancel,k=h.insertHyperlinkInsert,w=!!n&&c.getMark(n.state,n.state.schema.marks[r.mark]),O=i.createElement("div",{className:"k-edit-form-container"},i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-link-url"},f.toLanguageString(v,p.messages[v]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-link-url",ref:function(t){return e.href=t},defaultValue:w&&w.attrs.href||void 0,autoFocus:!0})),i.createElement("div",{className:"k-edit-label k-editor-link-text-row"},i.createElement("label",{htmlFor:"k-editor-link-text"},f.toLanguageString(g,p.messages[g]))),i.createElement("div",{className:"k-edit-field k-editor-link-text-row"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-link-text",ref:function(t){return e.title=t},defaultValue:w&&w.attrs.title||void 0})),!1!==r.linkTarget&&i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"checkbox",className:"k-checkbox",id:"k-editor-link-target",ref:function(t){return e.target=t},defaultChecked:w&&!!w.attrs.target||void 0}),i.createElement("label",{htmlFor:"k-editor-link-target",className:"k-checkbox-label"},f.toLanguageString(y,p.messages[y])))),C=[i.createElement(l.Button,{onClick:this.onClose,dir:o,key:"cancel"},f.toLanguageString(b,p.messages[b])),i.createElement(l.Button,{onClick:this.onInsert,primary:!0,dir:o,key:"insert"},f.toLanguageString(k,p.messages[k]))],x=i.createElement(s.Dialog,{title:f.toLanguageString(m,p.messages[m]),onClose:this.onClose,closeIcon:!0,dir:o,style:"rtl"===o?{textAlign:"right"}:void 0},O,i.createElement(s.DialogActionsBar,null,C));return d?d(x,{content:O,actionButtons:C}):a.createPortal(x,document.body)},t}(i.Component);t.InsertLinkDialog=d,u.registerForLocalization(d)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),s=n(16),l=n(7),c=n(4),u=n(3),p=n(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.src=null,t.altText=null,t.title=null,t.width=null,t.height=null,t.onClose=function(){t.props.view.focus(),t.props.onClose()},t.onInsert=function(){var e=t.props,n=e.view,r=e.settings,o=n.state.schema.nodes[r.node],i={src:t.src?t.src.value:null,title:t.title?t.title.value:null,alt:t.altText?t.altText.value:null,width:t.width?t.width.value:null,height:t.height?t.height.value:null},a=Object.keys(i).filter((function(e){return null!==i[e]&&""!==i[e]})).reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=i[t],n))}),{}),s=o.createAndFill(a);c.insertNode(s,!0)(n.state,(function(e){return n.dispatch(e.setMeta("commandName",r.commandName).setMeta("args",a))})),t.onClose()},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.view,r=t.settings,o=t.dir,d=t.render,f=r.messages,h=f.insertImageDialogTitle,m=f.insertImageAddress,v=f.insertImageTitle,g=f.insertImageAltText,y=f.insertImageWidth,b=f.insertImageHeight,k=f.insertImageCancel,w=f.insertImageInsert,O=u.provideLocalizationService(this),C=n&&n.state,x={};C&&C.selection instanceof c.NodeSelection&&C.selection.node.type===C.schema.nodes[r.node]&&(x=C.selection.node.attrs);var S=i.createElement("div",{className:"k-edit-form-container"},i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-image-url"},O.toLanguageString(m,p.messages[m]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-url",defaultValue:x.src,ref:function(t){return e.src=t},autoFocus:!0})),i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-image-alt"},O.toLanguageString(g,p.messages[g]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-alt",defaultValue:x.alt,ref:function(t){return e.altText=t}})),i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-image-title"},O.toLanguageString(v,p.messages[v]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-title",defaultValue:x.title,ref:function(t){return e.title=t}})),i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-image-width"},O.toLanguageString(y,p.messages[y]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-width",defaultValue:x.width,ref:function(t){return e.width=t}})),i.createElement("div",{className:"k-edit-label"},i.createElement("label",{htmlFor:"k-editor-image-height"},O.toLanguageString(b,p.messages[b]))),i.createElement("div",{className:"k-edit-field"},i.createElement("input",{type:"text",className:"k-textbox",id:"k-editor-image-height",defaultValue:x.height,ref:function(t){return e.height=t}}))),E=[i.createElement(l.Button,{onClick:this.onClose,dir:o,key:"cancel"},O.toLanguageString(k,p.messages[k])),i.createElement(l.Button,{onClick:this.onInsert,primary:!0,dir:o,key:"insert"},O.toLanguageString(w,p.messages[w]))],I=i.createElement(s.Dialog,{title:O.toLanguageString(h,p.messages[h]),onClose:this.onClose,key:"dialog",closeIcon:!0,dir:o,style:"rtl"===o?{textAlign:"right"}:void 0},S,i.createElement(s.DialogActionsBar,null,E));return d?d(I,{content:S,actionButtons:E}):a.createPortal(I,document.body)},t}(i.Component);t.InsertImageDialog=d,u.registerForLocalization(d)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(10),s=n(16),l=n(7),c=n(4),u=n(3),p=n(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlArea=null,t.onUpdate=function(){var e=t.props,n=e.view,r=e.settings;c.setHtml(t.htmlArea?t.htmlArea.value:"",r.commandName)(n.state,n.dispatch),t.onClose()},t.onClose=function(){t.props.view.focus(),t.props.onClose()},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.view,r=t.settings,o=t.dir,d=t.render,f=u.provideLocalizationService(this),h=r.messages,m=h.viewHtmlDialogTitle,v=h.viewHtmlCancel,g=h.viewHtmlUpdate,y=i.createElement("textarea",{className:"k-textarea k-editor-textarea",style:{height:"280px",width:"490px"},ref:function(t){return e.htmlArea=t},defaultValue:c.indentHtml(c.getHtml(n.state)),autoFocus:!0}),b=[i.createElement(l.Button,{onClick:this.onClose,dir:o,key:"cancel"},f.toLanguageString(v,p.messages[v])),i.createElement(l.Button,{onClick:this.onUpdate,primary:!0,dir:o,key:"update"},f.toLanguageString(g,p.messages[g]))],k=i.createElement(s.Dialog,{title:f.toLanguageString(m,p.messages[m]),onClose:this.onClose,key:"dialog",closeIcon:!0,dir:o,style:"rtl"===o?{textAlign:"right"}:void 0},y,i.createElement(s.DialogActionsBar,null,b));return d?d(k,{content:y,actionButtons:b}):a.createPortal(k,document.body)},t}(i.Component);t.ViewHtmlDialog=d,u.registerForLocalization(d)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(13),a=i.EditorToolsSettings.bold,s=i.EditorToolsSettings.underline,l=i.EditorToolsSettings.italic,c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);t.getShortcuts=function(e){var t=o.chainCommands(o.exitCode,(function(t,n){var r=e&&e.types&&e.types.hardBreak||"hard_break",o=t.schema.nodes[r];return n&&n(t.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0})),n=e&&e.types&&e.types.listItem||"list_item",i=e&&e.toolsSettings||{};return r({"Mod-b":function(e,t){return o.toggleInlineFormat(i.bold||a)(e,t)},"Mod-i":function(e,t){return o.toggleInlineFormat(i.italic||l)(e,t)},"Mod-u":function(e,t){return o.toggleInlineFormat(i.underline||s)(e,t)},"Mod-z":o.undo,"Shift-Mod-z":o.redo},r({},c?{}:{"Mod-y":o.redo}),{Backspace:o.undoInputRule,"Mod-Enter":t,"Shift-Enter":t},r({},c?{"Ctrl-Enter":t}:{}),{Enter:function(e,t){return o.splitListItem(e.schema.nodes[n])(e,t)},Tab:o.goToNextCell(1),"Shift-Tab":o.goToNextCell(-1)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(18),i=function(e,t){var n=t.tr||e.state.tr.setSelection(new r.AllSelection(e.state.doc)).replaceSelectionWith(t.doc||o.EditorUtils.createDocument(e.state.schema,t.html||"")).setMeta("commandName","setHTML");e.updateState(e.state.apply(n))};t.updateEditorValue=function(e,t,n,r,o){"string"==typeof t?r&&t===o?i(e,{tr:r}):t!==n&&i(e,{html:t}):r&&t.eq(r.doc)?i(e,{tr:r}):e.state.doc.eq(t)||i(e,{doc:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firefox="undefined"!=typeof window&&/Firefox/.test(window.navigator.userAgent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packageMetadata={name:"@progress/kendo-react-editor",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477855,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(13),l=n(36),c=n(39),u=n(40),p=n(41),d=n(42),f=n(43),h=n(44),m=n(45),v=n(46),g=n(47),y=n(48),b=n(49),k=n(50),w=n(51),O=n(52),C=n(53),x=n(54),S=n(55),E=n(56),I=n(57);!function(e){function t(e){return c.createAlignTool(e)}e.createAlignTool=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(t(s.EditorToolsSettings.alignLeft));e.AlignLeft=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(t(s.EditorToolsSettings.alignRight));e.AlignRight=r;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(t(s.EditorToolsSettings.alignCenter));e.AlignCenter=_;var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(t(s.EditorToolsSettings.alignJustify));function T(e){return l.InsertTableToolNS.createInsertTableTool(e)}e.AlignJustify=N,e.createInsertTableTool=T;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(T(s.EditorToolsSettings.insertTable));e.InsertTable=P;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(l.InsertTablePopupNS.InsertTablePopup);function M(e){return u.FontStyleToolNS.createStyleDropDownList(e)}e.InsertTablePopup=D,e.createStyleDropDownList=M;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(M(s.EditorToolsSettings.fontSize));e.FontSize=j;var R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(M(s.EditorToolsSettings.fontName));function A(e){return d.FormatBlockToolNS.createFormatBlockDropDownList(e)}e.FontName=R,e.ForeColor=function(e){return a.createElement(p.ApplyColorTool,i({},s.EditorToolsSettings.foreColor,e))},e.BackColor=function(e){return a.createElement(p.ApplyColorTool,i({},s.EditorToolsSettings.backColor,e))},e.createFormatBlockDropDownList=A;var F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(A(s.EditorToolsSettings.formatBlock));function L(e){return f.HistoryToolNS.createUndoTool(e)}function B(e){return f.HistoryToolNS.createRedoTool(e)}e.FormatBlock=F,e.createUndoTool=L,e.createRedoTool=B;var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(L(s.EditorToolsSettings.undo));e.Undo=z;var V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(B(s.EditorToolsSettings.redo));function H(e){return h.IndentToolNS.createIndentTool(e)}e.Redo=V,e.createIndentTool=H;var K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(H(s.EditorToolsSettings.indent));function W(e){return m.InlineFormatToolNS.createInlineFormatTool(e)}e.Indent=K,e.createInlineFormatTool=W;var $=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.bold));e.Bold=$;var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.italic));e.Italic=q;var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.underline));e.Underline=U;var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.strikethrough));e.Strikethrough=G;var J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.subscript));e.Subscript=J;var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(W(s.EditorToolsSettings.superscript));function Y(e){return v.createInsertImageTool(e)}e.Superscript=X,e.createInsertImageTool=Y;var Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Y(s.EditorToolsSettings.image));function Q(e){return g.LinkToolNS.createLinkTool(e)}e.InsertImage=Z,e.createLinkTool=Q;var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Q(s.EditorToolsSettings.link));e.Link=ee;var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Q(s.EditorToolsSettings.insertFile));function ne(e){return y.ListToolNS.createListTool(e)}e.InsertFile=te,e.createListTool=ne;var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ne(s.EditorToolsSettings.orderedList));e.OrderedList=re;var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ne(s.EditorToolsSettings.bulletList));function ie(e){return b.OutdentToolNS.createOutdentTool(e)}e.UnorderedList=oe,e.createOutdentTool=ie;var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ie(s.EditorToolsSettings.outdent));function se(e){return k.TableEditNS.createAddRowBeforeTool(e)}function le(e){return k.TableEditNS.createAddRowAfterTool(e)}function ce(e){return k.TableEditNS.createAddColumnBeforeTool(e)}function ue(e){return k.TableEditNS.createAddColumnAfterTool(e)}function pe(e){return k.TableEditNS.createDeleteRowTool(e)}function de(e){return k.TableEditNS.createDeleteColumnTool(e)}function fe(e){return k.TableEditNS.createDeleteTableTool(e)}function he(e){return k.TableEditNS.createMergeCellsTool(e)}function me(e){return k.TableEditNS.createSplitCellTool(e)}e.Outdent=ae,e.Print=function(e){return a.createElement(C.Print,i({},e))},e.Pdf=function(e){return a.createElement(x.Pdf,i({},e))},e.SelectAll=function(e){return a.createElement(S.SelectAll,i({},e))},e.CleanFormatting=function(e){return a.createElement(E.CleanFormatting,i({},e))},e.createAddRowBeforeTool=se,e.createAddRowAfterTool=le,e.createAddColumnBeforeTool=ce,e.createAddColumnAfterTool=ue,e.createDeleteRowTool=pe,e.createDeleteColumnTool=de,e.createDeleteTableTool=fe,e.createMergeCellsTool=he,e.createSplitCellTool=me;var ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(se(s.EditorToolsSettings.addRowBefore));e.AddRowBefore=ve;var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(le(s.EditorToolsSettings.addRowAfter));e.AddRowAfter=ge;var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ce(s.EditorToolsSettings.addColumnBefore));e.AddColumnBefore=ye;var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(ue(s.EditorToolsSettings.addColumnAfter));e.AddColumnAfter=be;var ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(pe(s.EditorToolsSettings.deleteRow));e.DeleteRow=ke;var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(de(s.EditorToolsSettings.deleteColumn));e.DeleteColumn=we;var Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(fe(s.EditorToolsSettings.deleteTable));e.DeleteTable=Oe;var Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(he(s.EditorToolsSettings.mergeCells));e.MergeCells=Ce;var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(me(s.EditorToolsSettings.splitCell));function Se(e){return w.UnlinkToolNS.createUnlinkTool(e)}e.SplitCell=xe,e.createUnlinkTool=Se;var Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Se(s.EditorToolsSettings.unlink));function Ie(e){return O.ViewHtmlToolNS.createViewHtmlTool(e)}e.Unlink=Ee,e.createViewHtmlTool=Ie;var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Ie(s.EditorToolsSettings.viewHtml));e.ViewHtml=_e;var Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(I.FindAndReplace);e.FindAndReplace=Ne}(t.EditorTools||(t.EditorTools={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37);t.InsertTableToolNS=r.InsertTableToolNS;var o=n(21);t.InsertTablePopupNS=o.InsertTablePopupNS},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(6),u=n(3),p=n(5),d=n(21),f=n(4);!function(e){e.createInsertTableTool=function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openedPopup:!1},e.button=null,e.togglePopup=function(){e.setState({openedPopup:!e.state.openedPopup})},e.closePopup=function(){e.state.openedPopup&&e.togglePopup()},e.onTableInsert=function(t,n){var r=e.props.view;if(r){var o=f.createTable(r.state.schema.nodes,t,n);o&&f.insertNode(o,!0)(r.state,r.dispatch),r.focus(),e.closePopup()}},e}return o(n,t),n.prototype.render=function(){var t=this,n=this.props,r=n.view,o=n.render,h=a(n,["view","render"]),m=r&&r.state,v=u.provideLocalizationService(this),g=e.messages,y=g.createTable,b=g.createTableHint,k=v.toLanguageString(y,p.messages[y]),w=v.toLanguageString(b,p.messages[b]),O=[s.createElement(l.Button,i({onClick:this.togglePopup,ref:function(e){return t.button=e&&e.element},key:"InsertTable",disabled:!m||!f.canInsert(m,m.schema.nodes.table)},c.onDownPreventDefault,{title:k},e.props,h)),r&&s.createElement(d.InsertTablePopupNS.InsertTablePopup,{key:"insertTablePopup",createTableMessage:k,createTableHintMessage:w,dir:h.dir,anchor:this.button,show:this.state.openedPopup,onClose:this.closePopup,onTableInsert:this.onTableInsert})||null];return o?o.call(void 0,O,{view:r}):O},n}(s.Component);return u.registerForLocalization(t),t}}(t.InsertTableToolNS||(t.InsertTableToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(6),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={row:-1,col:-1},t}return o(t,e),t.prototype.renderCell=function(e,t,n){var r=this,o=Math.floor(e/this.props.columns),a=e%this.props.columns,s=a<=n&&o<=t;return i.createElement("span",{className:"k-ct-cell k-state-disabled"+(s?" k-state-selected":""),onMouseEnter:function(){return r.setState({row:o,col:a})},onClick:function(){return r.props.onCellClick.call(void 0,o,a)},key:e})},t.prototype.render=function(){var e=this,t=[],n=this.props.columns*this.props.rows,r=this.state,o=r.row,s=r.col,l=this.props.onDown,c=this.props.createTableMessage;s>-1&&(c=a.formatString(this.props.createTableHintMessage,o+1,s+1));for(var u=0;u<n;u++)t.push(this.renderCell(u,o,s));return[i.createElement("div",{onMouseLeave:function(){return e.setState({row:-1,col:-1})},key:"cells",style:{borderColor:"inherit"},onPointerDown:l,onMouseDown:l},t),i.createElement("div",{className:"k-status",key:"status",onPointerDown:l,onMouseDown:l},c)]},t}(i.Component);t.default=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(13),u=n(4),p=n(6),d=n(3),f=n(5),h=c.EditorToolsSettings.alignRemove;t.createAlignTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),c=n&&n.state,m=!!c&&u.isAligned(c,e.actions),v=m?h.actions:e.actions,g=m?h.commandName:e.commandName,y=d.provideLocalizationService(this),b=e.messages.title,k=s.createElement(l.Button,i({onClick:function(){return n&&u.alignBlocks(v,g)(n.state,n.dispatch)},selected:m,togglable:!0},p.onDownPreventDefault,{title:y.toLanguageString(b,f.messages[b])},e.props,o));return r?r.call(void 0,k,{view:n}):k},n}(s.Component);return d.registerForLocalization(t),t}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(23),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createStyleDropDownList=function(e){var t=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onChange=function(t){var r=t.target.value,o=n.props.view,i=e.style;if(o){c.applyInlineStyle({style:i,value:r.value},e.commandName)(o.state,o.dispatch);var a=t.syntheticEvent;a&&"click"===a.type&&o.focus()}},n}return o(n,t),n.prototype.render=function(){var t=e.style,n=this.props,r=n.view,o=n.render,f=n.data,h=n.defaultItem,m=a(n,["view","render","data","defaultItem"]),v=f||e.items,g=h||e.defaultItem,y=r?c.getInlineStyles(r.state,{name:t,value:/^.+$/}):[],b=p.provideLocalizationService(this);g&&g.localizationKey&&((g=i({},g)).text=g.localizationKey?b.toLanguageString(g.localizationKey,d.messages[g.localizationKey]):g.text);var k=1===new Set(y).size?y[0]:null,w=s.createElement(l.DropDownList,i({value:k?v.find((function(e){return e.value===k})):k,data:v,defaultItem:g,itemRender:u.itemRender,textField:"text",dataItemKey:"value",onChange:this.onChange,style:u.userSelectNone,leftRightKeysNavigation:!1},m));return o?o.call(void 0,w,{view:r}):w},n}(s.Component);return p.registerForLocalization(t),t}}(t.FontStyleToolNS||(t.FontStyleToolNS={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(59),a=n(4),s=n(3),l=n(5);t.ApplyColorTool=function(e){var t=e.view,n=e.style,c=e.colorPickerProps,u=e.commandName,p=c.title,d=o.useCallback((function(e){t&&(a.applyInlineStyle({style:n,value:e.value},u)(t.state,t.dispatch),t.focus())}),[t,n,u]);return o.createElement(i.ColorPicker,r({onChange:d,onActiveColorClick:d},c,{title:p?s.useLocalization().toLanguageString(p,l.messages[p]):p}))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(23),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createFormatBlockDropDownList=function(e){var t=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.onChange=function(t){var r=t.target.value,o=n.props.view;if(o&&c.formatBlockElements(r.value,e.commandName)(o.state,o.dispatch)){var i=t.syntheticEvent;i&&"click"===i.type&&o.focus()}},n}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=t.data,f=t.defaultItem,h=a(t,["view","render","data","defaultItem"]),m=o||e.items,v=f||e.defaultItem,g=n&&n.state,y=g?c.getBlockFormats(g):[],b=p.provideLocalizationService(this);v&&v.localizationKey&&((v=i({},v)).text=v.localizationKey?b.toLanguageString(v.localizationKey,d.messages[v.localizationKey]):v.text);var k=1===new Set(y).size?y[0]:null,w=s.createElement(l.DropDownList,i({value:k?m.find((function(e){return e.value===k})):k,onChange:this.onChange,itemRender:u.itemRender,data:m,defaultItem:v,textField:"text",dataItemKey:"value",style:u.userSelectNone,leftRightKeysNavigation:!1},h));return r?r.call(void 0,w,{view:n}):w},n}(s.Component);return p.registerForLocalization(t),t}}(t.FormatBlockToolNS||(t.FormatBlockToolNS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(22);!function(e){e.createUndoTool=function(e){return o.createProseMirrorTool(e,r.undo)},e.createRedoTool=function(e){return o.createProseMirrorTool(e,r.redo)}}(t.HistoryToolNS||(t.HistoryToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createIndentTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f=n&&n.state,h=f&&f.schema.nodes,m=h&&h[e.listsTypes.listItem],v=e.actions,g=!!f&&(c.isIndented(f,v,o.dir)||v.some((function(e){return h[e.node]&&c.hasNode(f,h[e.node])})))&&!c.hasNode(f,m),y=!!f&&c.canIndentAsListItem(f,m),b=g||y,k=p.provideLocalizationService(this),w=e.messages.title,O=s.createElement(l.Button,i({onClick:function(){n&&y?c.sinkListItem(m)(n.state,n.dispatch):n&&g&&c.indentBlocks(v,e.commandName,o.dir)(n.state,n.dispatch)},title:k.toLanguageString(w,d.messages[w]),disabled:!b},u.onDownPreventDefault,e.props,o));return r?r.call(void 0,O,{view:n}):O},n}(s.Component);return p.registerForLocalization(t),t}}(t.IndentToolNS||(t.IndentToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createInlineFormatTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f=n&&n.state,h={mark:e.mark,altMarks:e.altMarks,altStyle:e.altStyle},m=p.provideLocalizationService(this),v=e.messages.title,g=s.createElement(l.Button,i({onClick:function(){return n&&c.toggleInlineFormat(h,f&&f.tr.setMeta("commandName",e.commandName))(n.state,n.dispatch)},selected:!!f&&c.hasMark(f,h),togglable:!0},u.onDownPreventDefault,{title:m.toLanguageString(v,d.messages[v])},e.props,o));return r?r.call(void 0,g,{view:n}):g},n}(s.Component);return p.registerForLocalization(t),t}}(t.InlineFormatToolNS||(t.InlineFormatToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(4),c=n(7),u=n(6),p=n(15),d=n(3),f=n(5);t.createInsertImageTool=function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openedDialog:!1},e.toggleDialog=function(){e.setState({openedDialog:!e.state.openedDialog})},e}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),h=n&&n.state,m=h?h.schema.nodes[e.node]:void 0,v=d.provideLocalizationService(this),g=e.messages.insertImage,y=[s.createElement(c.Button,i({onClick:this.toggleDialog,key:"insertImage",disabled:!m||!h||!l.canInsert(h,m)},u.onDownPreventDefault,{title:v.toLanguageString(g,f.messages[g])},e.props,o)),this.state.openedDialog&&n&&s.createElement(p.EditorDialogs.InsertImageDialog,{key:"insertImageDialog",view:n,settings:e,dir:o.dir,onClose:this.toggleDialog})||null];return r?r.call(void 0,y,{view:n}):y},n}(s.Component);return d.registerForLocalization(t),t}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(15),d=n(3),f=n(5);!function(e){e.createLinkTool=function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openedDialog:!1},e.toggleDialog=function(){e.setState({openedDialog:!e.state.openedDialog})},e}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),h=n&&n.state,m=!h||h.selection.empty,v=h&&c.getMark(h,h.schema.marks[e.mark]),g=d.provideLocalizationService(this),y=e.messages.insertHyperlink,b=[s.createElement(l.Button,i({onClick:this.toggleDialog,key:"link",disabled:m&&!v},u.onDownPreventDefault,{title:g.toLanguageString(y,f.messages[y])},e.props,o)),this.state.openedDialog&&n&&s.createElement(p.EditorDialogs.InsertLinkDialog,{key:"insertLinkDialog",settings:e,dir:o.dir,view:n,onClose:this.toggleDialog})||null];return r?r.call(void 0,b,{view:n}):b},n}(s.Component);return d.registerForLocalization(t),t}}(t.LinkToolNS||(t.LinkToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createListTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f=!1,h=p.provideLocalizationService(this),m=e.messages.title,v=e.types,g=e.listType;if(n){var y=n.state,b=y.schema.nodes,k=c.hasNode(y,b[v.orderedList]),w=c.hasNode(y,b[v.bulletList]);f=g===v.orderedList?k&&!w:!k&&w}var O=s.createElement(l.Button,i({onClick:function(){return n&&c.toggleList(n.state,n.dispatch,n,i({listType:g},v),e.commandName)},togglable:!0,selected:f,title:h.toLanguageString(m,d.messages[m])},u.onDownPreventDefault,e.props,o));return r?r.call(void 0,O,{view:n}):O},n}(s.Component);return p.registerForLocalization(t),t}}(t.ListToolNS||(t.ListToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createOutdentTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f=n&&n.state,h=!!f&&c.isIndented(f,e.actions,o.dir),m=f&&f.schema.nodes[e.listsTypes.listItem],v=!!f&&c.canOutdentAsListItem(f,{nodes:e.actions,listsTypes:e.listsTypes}),g=h||v,y=p.provideLocalizationService(this),b=e.messages.title,k=s.createElement(l.Button,i({onClick:function(){n&&v?c.liftListItem(m)(n.state,n.dispatch):n&&h&&c.indentBlocks(e.actions,e.commandName,o.dir)(n.state,n.dispatch)},title:y.toLanguageString(b,d.messages[b]),disabled:!g},u.onDownPreventDefault,e.props,o));return r?r.call(void 0,k,{view:n}):k},n}(s.Component);return p.registerForLocalization(t),t}}(t.OutdentToolNS||(t.OutdentToolNS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(22),i=function(e,t){var n=r.deleteColumn(e,t);if(n&&!t){var o=r.selectionCell(e),i=o&&o.node(o.depth);if(i&&1===i.content.childCount)return!1}return n},a=function(e,t){var n=r.deleteRow(e,t);if(n&&!t){var o=r.selectionCell(e),i=o&&o.node(o.depth-1);if(i&&1===i.content.childCount)return!1}return n};!function(e){e.createAddRowBeforeTool=function(e){return o.createProseMirrorTool(e,r.addRowBefore)},e.createAddRowAfterTool=function(e){return o.createProseMirrorTool(e,r.addRowAfter)},e.createAddColumnBeforeTool=function(e){return o.createProseMirrorTool(e,r.addColumnBefore)},e.createAddColumnAfterTool=function(e){return o.createProseMirrorTool(e,r.addColumnAfter)},e.createDeleteRowTool=function(e){return o.createProseMirrorTool(e,a)},e.createDeleteColumnTool=function(e){return o.createProseMirrorTool(e,i)},e.createDeleteTableTool=function(e){return o.createProseMirrorTool(e,r.deleteTable)},e.createMergeCellsTool=function(e){return o.createProseMirrorTool(e,r.mergeCells)},e.createSplitCellTool=function(e){return o.createProseMirrorTool(e,r.splitCell)}}(t.TableEditNS||(t.TableEditNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(4),u=n(6),p=n(3),d=n(5);!function(e){e.createUnlinkTool=function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f={mark:e.mark},h=!!n&&c.hasMark(n.state,f),m=p.provideLocalizationService(this),v=e.messages.title,g=s.createElement(l.Button,i({onClick:function(){return n&&c.removeLink(f,n.state.tr.setMeta("commandName",e.commandName))(n.state,n.dispatch)},disabled:!h},u.onDownPreventDefault,{title:m.toLanguageString(v,d.messages[v])},e.props,o));return r?r.call(void 0,g,{view:n}):g},n}(s.Component);return p.registerForLocalization(t),t}}(t.UnlinkToolNS||(t.UnlinkToolNS={}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(6),u=n(15),p=n(3),d=n(5);!function(e){e.createViewHtmlTool=function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={openedDialog:!1},e.toggleDialog=function(){e.setState({openedDialog:!e.state.openedDialog})},e}return o(n,t),n.prototype.render=function(){var t=this.props,n=t.view,r=t.render,o=a(t,["view","render"]),f=p.provideLocalizationService(this),h=e.messages.viewHtml,m=[s.createElement(l.Button,i({onClick:this.toggleDialog,key:"viewHtml"},c.onDownPreventDefault,{title:f.toLanguageString(h,d.messages[h])},e.props,o)),this.state.openedDialog&&n&&s.createElement(u.EditorDialogs.ViewHtmlDialog,{key:"viewHtmlDialog",view:n,settings:e,dir:o.dir,onClose:this.toggleDialog})||null];return r?r.call(void 0,m,{view:n}):m},n}(s.Component);return p.registerForLocalization(t),t}}(t.ViewHtmlToolNS||(t.ViewHtmlToolNS={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),s=n(3),l=n(6),c=n(5),u=n(13).EditorToolsSettings.print;t.Print=function(e){var t=e.view,n=e.render,p=e.settings,d=void 0===p?u:p,f=o(e,["view","render","settings"]),h=t&&t.dom,m=h&&h.ownerDocument,v=m&&m.defaultView,g=d.messages.title,y=i.useCallback((function(){v&&v.print()}),[v]),b=i.createElement(a.Button,r({onClick:y,disabled:!v||v===window,title:s.useLocalization().toLanguageString(g,c.messages[g])},l.onDownPreventDefault,d.props,f));return n?n.call(void 0,b,{view:t}):b}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),s=n(3),l=n(60),c=n(6),u=n(5),p=n(13),d=p.EditorToolsSettings.pdf,f=p.EditorToolsSettings.savePdfOptions;t.Pdf=function(e){var t=e.view,n=e.render,p=e.settings,h=void 0===p?d:p,m=e.savePdfOptions,v=e.savePdfCallback,g=o(e,["view","render","settings","savePdfOptions","savePdfCallback"]),y=h.messages.title,b=i.useCallback((function(){t&&l.savePDF(t.dom,r({},f,m||{}),v)}),[t,m,v]),k=i.createElement(a.Button,r({onClick:b,title:s.useLocalization().toLanguageString(y,u.messages[y])},c.onDownPreventDefault,h.props,g));return n?n.call(void 0,k,{view:t}):k}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),s=n(3),l=n(6),c=n(5),u=n(4),p=n(13).EditorToolsSettings.selectAll;t.SelectAll=function(e){var t=e.view,n=e.render,d=e.settings,f=void 0===d?p:d,h=o(e,["view","render","settings"]),m=f.messages.title,v=i.useCallback((function(){t&&(u.selectAll(t.state,t.dispatch),t.focus())}),[t]),g=i.createElement(a.Button,r({onClick:v,title:s.useLocalization().toLanguageString(m,c.messages[m])},l.onDownPreventDefault,f.props,h));return n?n.call(void 0,g,{view:t}):g}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(7),s=n(3),l=n(6),c=n(5),u=n(4),p=n(13).EditorToolsSettings.cleanFormatting,d=u.cleanFormatting();t.CleanFormatting=function(e){var t=e.view,n=e.render,u=e.settings,f=void 0===u?p:u,h=o(e,["view","render","settings"]),m=f.messages.title,v=i.useCallback((function(){t&&d(t.state,(function(e){e.setMeta("commandName",f.commandName),t.dispatch(e)}))}),[t]),g=i.createElement(a.Button,r({onClick:v,disabled:!t||!d(t.state),title:s.useLocalization().toLanguageString(m,c.messages[m])},l.onDownPreventDefault,f.props,h));return n?n.call(void 0,g,{view:t}):g}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(7),c=n(20),u=n(6),p=n(5),d=n(13),f=n(3),h=d.EditorToolsSettings.findAndReplace,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showDialog:!1},t.onClose=function(){return t.setState({showDialog:!1})},t.onOpen=function(){return t.setState({showDialog:!0})},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.view,n=a(e,["view"]),r=h.props,o=f.provideLocalizationService(this),d=h.messages.findReplaceToolTitle;return[s.createElement(l.Button,i({onClick:this.onOpen},u.onDownPreventDefault,{disabled:!t,title:o.toLanguageString(d,p.messages[d]),key:"tool"},r,n)),this.state.showDialog&&t&&s.createElement(c.FindAndReplaceDialog,{view:t,onClose:this.onClose,dir:n.dir,key:"dialog"})]},t}(s.Component);t.FindAndReplace=m,f.registerForLocalization(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"TabStrip",(function(){return k})),n.d(t,"TabStripContent",(function(){return v})),n.d(t,"TabStripNavigation",(function(){return d})),n.d(t,"TabStripNavigationItem",(function(){return c})),n.d(t,"TabStripTab",(function(){return O})),n.d(t,"PanelBar",(function(){return L})),n.d(t,"PanelBarItem",(function(){return S})),n.d(t,"renderChildren",(function(){return I})),n.d(t,"getInitialState",(function(){return _})),n.d(t,"flatVisibleItems",(function(){return N})),n.d(t,"isPresent",(function(){return P})),n.d(t,"PanelBarUtils",(function(){return T})),n.d(t,"isArrayEqual",(function(){return M})),n.d(t,"Menu",(function(){return Fe})),n.d(t,"MenuItemLink",(function(){return Ce})),n.d(t,"MenuItem",(function(){return X})),n.d(t,"downArrowClass",(function(){return Se})),n.d(t,"rightArrowClass",(function(){return Ee})),n.d(t,"leftArrowClass",(function(){return Ie})),n.d(t,"MenuItemArrow",(function(){return _e})),n.d(t,"Splitter",(function(){return qe})),n.d(t,"SplitterPane",(function(){return Be})),n.d(t,"Card",(function(){return Ue})),n.d(t,"CardHeader",(function(){return Ge})),n.d(t,"CardTitle",(function(){return Je})),n.d(t,"CardBody",(function(){return Xe})),n.d(t,"CardActions",(function(){return Ye})),n.d(t,"CardImage",(function(){return Ze})),n.d(t,"CardSubtitle",(function(){return Qe})),n.d(t,"CardFooter",(function(){return et})),n.d(t,"Avatar",(function(){return tt})),n.d(t,"Drawer",(function(){return ut})),n.d(t,"DrawerNavigation",(function(){return ct})),n.d(t,"DrawerContent",(function(){return pt})),n.d(t,"DrawerItem",(function(){return it})),n.d(t,"Stepper",(function(){return Nt})),n.d(t,"Step",(function(){return yt})),n.d(t,"AppBar",(function(){return Pt})),n.d(t,"AppBarSection",(function(){return Mt})),n.d(t,"AppBarSpacer",(function(){return jt})),n.d(t,"TileLayout",(function(){return $t})),n.d(t,"BottomNavigation",(function(){return Zt})),n.d(t,"BottomNavigationItem",(function(){return Xt})),n.d(t,"StackLayout",(function(){return nn})),n.d(t,"GridLayout",(function(){return an})),n.d(t,"GridLayoutItem",(function(){return cn}));var r,o=n(1),i=n(0),a=n(2),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.onSelect&&t.props.onSelect(t.props.index)},t}return s(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.disabled,i=t.title,s=void 0===i?"Untitled":i,c={"aria-selected":n,role:"tab",onClick:r?void 0:this.onClick},u=Object(a.d)(((e={})["k-item"]=!0,e["k-state-disabled"]=r,e["k-state-active"]=n,e["k-tab-on-top"]=n,e));return o.createElement("li",l({},c,{className:u}),o.createElement("span",{className:"k-link"},s))},t.propTypes={active:i.bool,disabled:i.bool,index:i.number,onSelect:i.func,title:i.oneOfType([i.string,i.element])},t}(o.Component),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.selected,i=n.children,s=n.onSelect,l=n.onKeyDown,u=o.Children.count(i),d=o.Children.toArray(i);i&&(e=(t=u,Array.apply(null,Array(t))).map((function(e,t,n){return{first:0===t,last:t===n.length-1}})).map((function(e,t){var n={active:r===t,disabled:d[t].props.disabled,index:t,title:d[t].props.title,onSelect:s};return o.createElement(c,p({key:t},n))})));var f=Object(a.d)("k-tabstrip-items","k-reset");return o.createElement("ul",{className:f,role:"tablist",tabIndex:this.props.tabIndex,onKeyDown:l},e)},t.propTypes={children:i.oneOfType([i.element,i.arrayOf(i.element)]),onSelect:i.func,onKeyDown:i.func,selected:i.number,tabIndex:i.number},t}(o.Component),f=n(14),h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentId=Object(a.k)(),t.childFactory=function(e){return o.cloneElement(e,m({},e.props,{in:e.props.children.props.id===String(t.contentId+t.props.selected)}))},t}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.selected,r=t&&"number"==typeof n&&o.Children.toArray(t)[n],i=Object(a.d)("k-content","k-state-active",r&&r.props.contentClassName);return o.createElement("div",{className:i,style:this.props.style},this.renderContent(t))},t.prototype.renderContent=function(e){var t=this;return this.props.keepTabsMounted?o.Children.map(this.props.children,(function(e,n){return t.renderChild(e,n)})):this.renderChild(o.Children.toArray(e)[this.props.selected],this.props.selected)},t.prototype.renderChild=function(e,t){var n=t===this.props.selected,r={role:"tabpanel","aria-expanded":!0,style:{display:n?void 0:"none"}},i={position:"initial",display:n?void 0:"none"};return e.props.disabled?null:this.props.animation?o.createElement(f.a,{appear:!0,exit:this.props.keepTabsMounted,style:i,childFactory:this.props.keepTabsMounted?this.childFactory:void 0},o.createElement("div",m({},r,{id:String(this.contentId+t),key:t}),e.props.children)):o.createElement("div",m({},r,{key:t}),e.props.children)},t.propTypes={animation:i.bool,children:i.oneOfType([i.element,i.arrayOf(i.element)]),selected:i.number,style:i.object},t}(o.Component),g={name:"@progress/kendo-react-layout",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477801,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},k=function(e){function t(t){var n,r=e.call(this,t)||this;return r._element=null,r.keyBinding=((n={})[a.b.left]=function(){return r.prevNavigatableTab()},n[a.b.right]=function(){return r.nextNavigatableTab()},n[a.b.down]=function(){return r.nextNavigatableTab()},n[a.b.up]=function(){return r.prevNavigatableTab()},n[a.b.home]=function(){return 0},n[a.b.end]=function(){return o.Children.count(r.props.children)-1},n),r.onSelect=function(e){r.props.selected!==e&&r.props.onSelect&&r.props.onSelect({selected:e})},r.onKeyDown=function(e){var t;switch(e.keyCode){case a.b.left:t=r.keyBinding[r.invertKeys(a.b.left,a.b.right)];break;case a.b.right:t=r.keyBinding[r.invertKeys(a.b.right,a.b.left)];break;case a.b.up:t=r.keyBinding[a.b.up];break;case a.b.down:t=r.keyBinding[a.b.down];break;case a.b.home:t=r.keyBinding[a.b.home];break;case a.b.end:t=r.keyBinding[a.b.end]}t&&(e.preventDefault(),r.onSelect(t()))},r.renderContent=function(e){var t=e.selected,n=e.children,r=e.tabContentStyle;return t<o.Children.count(n)&&t>-1?o.createElement(v,b({index:t},e,{style:r})):null},r.firstNavigatableTab=function(){var e=r.children(),t=o.Children.count(e);if(e)for(var n=0;n<t;n++)if(!e[n].props.disabled)return n},r.lastNavigatableTab=function(){var e=r.children(),t=o.Children.count(e);if(e)for(var n=t-1;n>0;n--)if(!e[n].props.disabled)return n},r.prevNavigatableTab=function(){var e=r.children(),t=r.props.selected,n=t?t-1:-1;if(n<0)return r.lastNavigatableTab();if(e)for(var o=n;o>-1;o--){if(!e[o].props.disabled)return o;if(0===o)return r.lastNavigatableTab()}},r.nextNavigatableTab=function(){var e=r.children(),t=r.props.selected,n=t?t+1:1,i=o.Children.count(e);if(n>=i)return r.firstNavigatableTab();if(e)for(var a=n;a<i;a++){if(!e[a].props.disabled)return a;if(a+1===i)return r.firstNavigatableTab()}},Object(a.r)(g),r}return y(t,e),t.prototype.render=function(){var e,t=this,n=b({},this.props,{children:this.children(),onKeyDown:this.onKeyDown,onSelect:this.onSelect}),r=n.tabPosition,i=n.tabIndex,s=void 0===i?0:i,l="bottom"===r,c=Object(a.d)("k-widget","k-header","k-floatwrap","k-tabstrip",((e={})["k-tabstrip-left"]="left"===r,e["k-tabstrip-right"]="right"===r,e["k-tabstrip-bottom"]="bottom"===r,e["k-tabstrip-top"]="top"===r,e),this.props.className);return o.createElement("div",{ref:function(e){return t._element=e},dir:this.props.dir,className:c,style:this.props.style},!l&&o.createElement(d,b({},n,{tabIndex:s})),this.renderContent(n),l&&o.createElement(d,b({},n,{tabIndex:s})))},t.prototype.invertKeys=function(e,t){return this._element&&"rtl"===getComputedStyle(this._element).direction||!1?t:e},t.prototype.children=function(){return o.Children.toArray(this.props.children).filter((function(e){return e}))},t.propTypes={animation:i.bool,children:i.node,onSelect:i.func,selected:i.number,style:i.object,tabContentStyle:i.object,tabPosition:i.string,tabIndex:i.number,className:i.string,dir:i.string},t.defaultProps={animation:!0,tabPosition:"top",keepTabsMounted:!1},t}(o.Component),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.propTypes={disabled:i.bool,contentClassName:i.string,children:i.oneOfType([i.element,i.node]),title:i.oneOfType([i.string,i.element,i.node])},t}(o.Component),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleItemClick=function(){var e=t.props,n=e.onSelect,r=e.disabled,o=e.id;n&&!r&&n.call(void 0,{uniquePrivateKey:t.props.uniquePrivateKey,id:o,target:t})},t}return C(t,e),t.prototype.render=function(){var e,t=this.props,n=t.id,r=t.children,i=t.title,s=t.uniquePrivateKey,l=t.disabled,c=t.selected,u=t.focused,p=t.expanded,d=t.className,h=t.level,m=t.headerClassName,v=t.animation,g={role:"treeitem","aria-disabled":l,"aria-hidden":!l&&!p,"aria-selected":!l&&c,"aria-expanded":!l&&p&&!!r},y=Object(a.d)("k-item",{"k-panelbar-header":0===h,"k-panelbar-item":0!==h,"k-state-expanded":p&&!!r},"k-level-"+h,d),b=Object(a.d)("k-link",{"k-state-selected":!l&&c,"k-state-focus":!l&&u,"k-state-disabled":l},m),k=Object(a.d)("k-panelbar-toggle","k-icon",((e={})["k-i-arrow-chevron-up"]=p&&!!r,e["k-panelbar-collapse"]=p&&!!r,e["k-i-arrow-chevron-down"]=!p&&!!r,e["k-panelbar-expand"]=!p&&!!r,e)),w=function(e){var t=e.imageUrl,n=e.icon,r=e.iconClass;if(t)return o.createElement("img",{role:"presentation",className:"k-panelbar-item-icon k-image",src:t});if(n){var i=Object(a.d)("k-panelbar-item-icon","k-icon","k-i-"+n);return o.createElement("span",{role:"presentation",className:i})}return r?o.createElement("span",{role:"presentation",className:"k-panelbar-item-icon "+r}):null}(this.props),O=!l&&r?o.createElement("span",{className:k}):null,C=!l&&p?o.createElement("ul",{role:"group",className:"k-panelbar-group k-panel k-group"},r):null,S=void 0!==v&&!v||l||!r?C:o.createElement(f.b,{transitionEnterDuration:200,transitionExitDuration:200,key:s+"_animation",style:{display:"block"},children:C});return o.createElement("li",x({id:n,className:y},g),o.createElement("span",{className:b,onClick:this.handleItemClick},w,o.createElement("span",{className:"k-panelbar-item-text"},i),O),S)},t.propTypes={animation:i.bool,children:i.any,className:i.string,expanded:i.bool,disabled:i.bool,onSelect:i.func,selected:i.bool,level:i.number,title:i.oneOfType([i.string,i.element]),id:i.oneOfType([i.string,i.number]),focused:i.bool},t.defaultProps={title:"Untitled"},t}(o.PureComponent),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e,t,n,r,i,a,s){return void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===a&&(a=0),void 0===s&&(s=[]),o.Children.map(r,(function(r,l){if(r&&r.type===S){var c=void 0,u=s.length?s[s.length-1]+"."+l:"."+l;return r.props.children&&(c=I(e,t,n,r.props.children,(t.expanded||[]).indexOf(u)>-1&&i,a+1,s.concat([u]))),o.cloneElement(r,E({},r.props,{animation:void 0!==r.props.animation?r.props.animation:e,id:r.props.id||"k-panelbar-item-default-"+u,uniquePrivateKey:u,parentUniquePrivateKey:s,parentExpanded:i,level:a,expanded:(t.expanded||[]).indexOf(u)>-1&&i,focused:t.focused===u&&t.wrapperFocused,selected:t.selected===u,children:c,onSelect:n}))}return o.createElement("div",{className:"k-panelbar-content k-content"},r)}))},_=function(e,t,n,r,i,a){return void 0===n&&(n={expanded:e.expanded||[],selected:e.selected||"",focused:e.focused||".0",wrapperFocused:!1}),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===a&&(a=[]),o.Children.map(e.children,(function(e,r){if(e&&e.type===S){var o=a.length?a[a.length-1]+"."+r:"."+r;!e.props.disabled&&i&&(e.props.selected&&(n.selected=o),e.props.focused&&(n.focused=o),e.props.expanded&&("multiple"===t?n.expanded.push(o):"single"===t&&(n.expanded=[o])),e.props.children&&(n=_(e.props,t,n,!1,!!e.props.expanded,a.concat([o]))))}})),n};function N(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=null),(e||[]).forEach((function(e){e.disabled||(t.push(e),e.expanded&&e.children&&N(e.children,t))})),t}var T,P=function(e){return null!=e};(T||(T={})).mapItemsToComponents=function e(t){return t.map((function(t,n){var r;return t.content&&(r=t.content),t.children&&(r=e(t.children)),o.createElement(S,E({},t,{children:r,key:t.id||n}))}))};var D,M=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},j=function(){function e(e,t,n){var r=this;this.flatChildren=function(e,t){return void 0===t&&(t=[]),o.Children.forEach(e,(function(e){e&&e.props&&!e.props.disabled&&(t.push(e),e.props.children&&r.flatChildren(e.props.children,t))})),t},this.flatVisibleChildren=function(e,t){return void 0===t&&(t=[]),o.Children.forEach(e,(function(e){e&&e.props&&!e.props.disabled&&(e.props.expanded||e.props.parentExpanded)&&(t.push(e),e.props.children&&r.flatVisibleChildren(e.props.children,t))})),t},this.onSelect=e,this.onFocus=t,this.expandMode=n}return e.prototype.select=function(e,t,n){var r,i;switch(this.flatChildren(o.Children.toArray(t)).forEach((function(t){t.props.uniquePrivateKey===e&&(r=t)})),this.expandMode){case"single":i=r.props.parentUniquePrivateKey.concat([r.props.uniquePrivateKey]),M(n,i)&&(i=r.props.parentUniquePrivateKey?r.props.parentUniquePrivateKey.slice():[]);break;case"multiple":var a=(i=n.slice()).indexOf(r.props.uniquePrivateKey);-1===a?i.push(r.props.uniquePrivateKey):i.splice(a,1);break;default:i=n.slice()}this.onSelect(r,i)},e.prototype.focus=function(e,t,n){var r,i=this.flatVisibleChildren(o.Children.toArray(n));i.forEach((function(n,o){if(n.props.uniquePrivateKey===e){var a=o+t<0?0:o+t>=i.length?i.length-1:o+t;r=i[a]}})),this.onFocus(r)},e.prototype.setExpandMode=function(e){this.expandMode=e},e}();!function(e){e[e.Toggle=0]="Toggle",e[e.Next=1]="Next",e[e.Previous=2]="Previous"}(D||(D={}));var R=function(){function e(e){this.onNavigate=e}return e.prototype.navigate=function(e,t){var n;switch(e.keyCode){case a.b.left:n=t?D.Next:D.Previous;break;case a.b.up:n=D.Previous;break;case a.b.right:n=t?D.Previous:D.Next;break;case a.b.down:n=D.Next;break;case a.b.space:case a.b.enter:n=D.Toggle;break;default:n=null}null!==n&&(e.preventDefault(),this.onNavigate(n))},e}(),A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=function(e){function t(t){var n=e.call(this,t)||this;return n._element=null,n.handleSelect=function(e){var t=F({},n.state,{selected:n.selected});n._selectionService.select(e.uniquePrivateKey,I(n.props.animation,t,n.handleSelect,n.props.children),t.expanded),n._selectionService.focus(e.uniquePrivateKey,0,I(n.props.animation,t,n.handleSelect,n.props.children))},n.onSelect=function(e,t){n.setState({selected:e.props.uniquePrivateKey,expanded:t},(function(){n.props.onSelect&&n.props.onSelect.call(void 0,{target:e,action:"select"})}))},n.onFocus=function(e){n.activeDescendant=e.props.id,n.setState({focused:e.props.uniquePrivateKey})},n.onNavigate=function(e){var t=F({},n.state,{selected:n.selected});switch(e){case D.Previous:n._selectionService.focus(t.focused,-1,I(n.props.animation,t,n.handleSelect,n.props.children));break;case D.Next:n._selectionService.focus(t.focused,1,I(n.props.animation,t,n.handleSelect,n.props.children));break;case D.Toggle:n._selectionService.select(t.focused,I(n.props.animation,t,n.handleSelect,n.props.children),t.expanded)}},n.handleWrapperFocus=function(){clearTimeout(n.nextTickId),n.state.wrapperFocused||n.setState({wrapperFocused:!0})},n.handleWrapperBlur=function(){n.nextTick((function(){n.setState({wrapperFocused:!1})}))},n.handleKeyDown=function(e){var t=n._element&&"rtl"===getComputedStyle(n._element).direction||!1;e.target===e.currentTarget&&n._navigationService.navigate(e,t)},Object(a.r)(g),n.state=_(t,t.expandMode||"multiple"),n._selectionService=new j(n.onSelect,n.onFocus,n.props.expandMode||"multiple"),n._navigationService=new R(n.onNavigate),n}return A(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){var e=this.props.selected;return void 0===e?this.state.selected:e},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=this.props;t.expandMode!==e.expandMode&&this._selectionService.setExpandMode(t.expandMode)},t.prototype.render=function(){var e=this,t={"aria-activedescendant":this.activeDescendant},n=F({},this.state,{selected:this.selected}),r=I(this.props.animation,n,this.handleSelect,this.props.children),i=Object(a.d)("k-panelbar",this.props.className);return o.createElement("ul",F({ref:function(t){e._element=t},dir:this.props.dir,role:"tree",tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,className:i,style:this.props.style},t),r)},t.prototype.nextTick=function(e){clearTimeout(this.nextTickId),this.nextTickId=window.setTimeout((function(){return e()}))},t.propTypes={animation:i.bool,children:function(e,t){var n=e[t];if(n)if(Array.isArray(n))for(var r=0,o=n;r<o.length;r++){var i=o[r];if(!i.type||i.type!==S)return new Error("PanelBar children should be either PanelBarItem or Array of PanelBarItem.")}else if(n.type!==S)return new Error("PanelBar child should be either PanelBarItem or Array of PanelBarItem.")},dir:i.string,selected:i.string,expanded:i.arrayOf(i.string),focused:i.string,expandMode:i.oneOf(["single","multiple"]),className:i.string,onSelect:i.func,style:i.object},t.defaultProps={expandMode:"multiple",animation:!0},t}(o.Component);function B(e,t){if($(e))return t[Number(e)];var n=t[Number(z(e))];return n.items?B(function(e){if(W(e))return e;var t=e.indexOf("_");return e.substring(t+1)}(e),n.items):void 0}function z(e){return W(e)?e:e.split("_")[0]}function V(e){return H("0",e)}function H(e,t){return t?t+"_"+e:e}function K(e){var t=e.lastIndexOf("_");return t<0?"":e.substring(0,t)}function W(e){return""===e||e.indexOf("_")<0}function $(e){return""!==e&&e.indexOf("_")<0}function q(e){return 1===function(e){return e.split("_").length-1}(e)}function U(e){var t=e.lastIndexOf("_");return t<0?e:e.substring(t+1)}function G(e,t,n){return $(t)?e?Number(t)<n-1?(Number(t)+1).toString():"0":Number(t)>0?(Number(t)-1).toString():(n-1).toString():t}var J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return J(t,e),t.prototype.render=function(){return null},t.propTypes={text:i.string,url:i.string,icon:i.string,disabled:i.bool,cssClass:i.string,cssStyle:i.object,render:i.any,linkRender:i.any,contentRender:i.any,data:i.any},t}(o.Component);function Y(e,t){if(e&&e.length>0)return{items:ee(e),inputItems:e};if(Q(t).length>0){var n=function e(t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=Z(void 0,o),a=e(Q(o.props.children));a.length>0&&(i.items=a),n.push(i)}return n}(Q(t));return{items:ee(n),inputItems:n}}return{items:[],inputItems:[]}}function Z(e,t){var n={},r=e||t.props,o=r.text,i=r.url,a=r.icon,s=r.disabled,l=r.cssClass,c=r.cssStyle,u=r.render,p=r.linkRender,d=r.contentRender,f=r.data;return void 0!==o&&(n.text=o),void 0!==i&&(n.url=i),void 0!==a&&(n.icon=a),void 0!==s&&(n.disabled=s),void 0!==l&&(n.cssClass=l),void 0!==c&&(n.cssStyle=c),void 0!==u&&(n.render=u),void 0!==p&&(n.linkRender=p),void 0!==d&&(n.contentRender=d),void 0!==f&&(n.data=f),n}function Q(e){return o.Children.toArray(e).filter((function(e){return e&&e.type===X}))}function ee(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=Z(o);i.id=H(r.toString(),t),i.isLastFromSiblings=r===e.length-1,i.items=te(o,i),n.push(i)}return n}function te(e,t){return e.contentRender?[{contentParentItemId:t.id,id:H("0",t.id),isLastFromSiblings:!0,contentRender:e.contentRender,items:[]}]:e.items?ee(e.items,t.id):[]}var ne=/\S/;function re(e,t,n,r,o,i){var s,l=m();switch(n){case a.b.left:return o?i?d():u():i?p():c();case a.b.right:return o?i?u():d():i?c():p();case a.b.up:return o?g():$(t)?h():g();case a.b.down:return o?y():$(t)?f():y();case a.b.enter:case a.b.space:return l.disabled?t:v()?V(t):z(t);case a.b.home:return b()[0].id;case a.b.end:return(s=b())[s.length-1].id;case a.b.esc:return $(t)?t:K(t);default:return 1===r.length&&ne.test(r)?function(){var e=r.toLowerCase(),n=b(),o=Number(U(t)),i=n.slice(o+1).concat(n.slice(0,o+1)).find((function(t){return(t.text||"").toLowerCase().startsWith(e)}));return i?i.id:t}():t}function c(){return $(t)?g():q(t)?f(g(z(t))):K(t)}function u(){return $(t)?h():K(t)}function p(){return $(t)?y():f(v()?t:y(z(t)))}function d(){return f($(t)||v()?t:y(z(t)))}function f(e){return k(!0,e)}function h(e){return k(!1,e)}function m(n,r){return void 0===n&&(n=t),void 0===r&&(r=e),B(n,r)}function v(e){return m(e).items.length>0}function g(e){return w(!1,e)}function y(e){return w(!0,e)}function b(){return $(t)?e:m(K(t),e).items}function k(e,n){void 0===n&&(n=t);var r=m(n);return v(n)&&!r.disabled?e?V(n):function(e){var t=m(e).items;return t[t.length-1].id}(n):n}function w(n,r){if(void 0===r&&(r=t),$(r))return G(n,r,e.length);var o=K(r);return H(G(n,U(r),m(o).items.length),o)}}var oe=n(9),ie={vertical:"top",horizontal:"left"},ae={vertical:"top",horizontal:"right"},se={vertical:"flip",horizontal:"fit"},le={vertical:"fit",horizontal:"flip"},ce={downward:{anchorAlign:{vertical:"bottom",horizontal:"right"},popupAlign:ae,collision:se},leftward:{anchorAlign:{vertical:"top",horizontal:"left"},popupAlign:ae,collision:le}},ue={downward:{anchorAlign:{vertical:"bottom",horizontal:"left"},popupAlign:ie,collision:se},rightward:{anchorAlign:{vertical:"top",horizontal:"right"},popupAlign:ie,collision:le}};function pe(e,t,n){return $(e)?t?n?"leftward":"rightward":"downward":n?"leftward":"rightward"}function de(e){return e?"rtl":"ltr"}function fe(e,t){return e+"_"+t}var he,me,ve,ge,ye,be,ke,we,Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.render=function(){return this.props.url?o.createElement("a",{className:this.getMenuItemClassName(),role:"presentation",href:this.props.url,tabIndex:-1},this.props.children):o.createElement("span",{className:this.getMenuItemClassName(),role:"presentation"},this.props.children)},t.prototype.getMenuItemClassName=function(){return Object(a.d)("k-link","k-menu-link",{"k-state-active":this.props.opened})},t.propTypes={opened:i.bool,url:i.string},t}(o.Component),xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Se="k-i-arrow-60-down",Ee="k-i-arrow-60-right",Ie="k-i-arrow-60-left",_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.render=function(){return o.createElement("span",{className:this.getArrowClassName(),role:"presentation"})},t.prototype.getArrowClassName=function(){var e,t=pe(this.props.itemId,!0===this.props.verticalMenu,"rtl"===this.props.dir);return Object(a.d)("k-icon","k-menu-expand-arrow",((e={})[Se]="downward"===t,e[Ee]="rightward"===t,e[Ie]="leftward"===t,e))},t.propTypes={itemId:i.string,dir:i.string,verticalMenu:i.bool},t}(o.Component),Ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Te=function(e){function t(t){var n=e.call(this,t)||this;return n.isFirstRender=!0,n.onMouseOver=function(e){n.props.onMouseOver(n.props.item.id),e.stopPropagation()},n.onMouseLeave=function(e){n.props.onMouseLeave(n.props.item.id),e.stopPropagation()},n.state={opened:!1},n}return Ne(t,e),t.prototype.componentDidMount=function(){var e=this.props.focusedItemId,t=this.props.item.id;e&&e===t&&this.itemElement.focus(),this.isFirstRender=!1},t.prototype.componentDidUpdate=function(e){var t=this.props.focusedItemId,n=this.props.item.id;t?e.focusedItemId===t||t!==n||this.itemElement.contains(document.activeElement)||this.itemElement.focus():document.activeElement===this.itemElement&&this.itemElement.blur()},t.prototype.render=function(){var e=this,t=this.props.item,n=t.id;return[o.createElement("li",{className:this.getMenuItemClassName(t),style:t.cssStyle,tabIndex:n===this.props.tabbableItemId?0:-1,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:function(t){return e.props.onMouseDown(t)},onBlur:function(){return e.props.onBlur(n)},onFocus:function(){return e.props.onFocus(n)},onClick:function(t){return e.props.onClick(t,n)},role:"menuitem","aria-disabled":!!t.disabled||void 0,"aria-haspopup":t.items.length>0||void 0,"aria-expanded":t.items.length>0?this.Opened:void 0,"aria-label":t.text,"aria-owns":this.Opened?fe(this.props.menuGuid,n):void 0,ref:function(t){return e.itemElement=t},key:"0"},this.contentRender?this.renderContent():this.renderMenuItemLink()),this.renderPopupIfOpened()]},t.prototype.renderContent=function(){var e=this.props.item.contentParentItemId;return o.createElement("div",{className:"k-content",role:"presentation"},o.createElement(this.contentRender,{item:this.props.onOriginalItemNeeded(e),itemId:e}))},t.prototype.renderMenuItemLink=function(){var e=this.props.item;if(this.linkRender)return o.createElement(this.linkRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,opened:this.Opened,dir:de(this.props.isDirectionRightToLeft)});var t=this.itemRender?o.createElement(this.itemRender,{item:this.props.onOriginalItemNeeded(e.id),itemId:e.id,key:"1"}):e.text;return o.createElement(Ce,{url:e.url,opened:this.Opened},[this.renderMenuIconIfApplicable(),t,this.renderArrowIfApplicable()])},t.prototype.renderPopupIfOpened=function(){if(this.Opened){var e=this.props.item.id,t=function(e,t,n){var r=pe(e,t,n);return n?"downward"===r?ce.downward:ce.leftward:"downward"===r?ue.downward:ue.rightward}(e,this.props.isMenuVertical,this.props.isDirectionRightToLeft),n=t.anchorAlign,r=t.popupAlign,i=t.collision;return o.createElement(oe.Popup,{anchor:this.itemElement,show:!0,popupClass:this.getPopupClassName(),anchorAlign:n,popupAlign:r,collision:i,animate:!1,key:"1"},o.createElement(De,{parentItemId:e,items:this.props.item.items,menuGuid:this.props.menuGuid,focusedItemId:this.props.focusedItemId,lastItemIdToBeOpened:this.props.lastItemIdToBeOpened,tabbableItemId:this.props.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,isMenuVertical:this.props.isMenuVertical,isDirectionRightToLeft:this.props.isDirectionRightToLeft,className:"k-group k-menu-group k-reset",onMouseOver:this.props.onMouseOver,onMouseLeave:this.props.onMouseLeave,onMouseDown:this.props.onMouseDown,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onClick:this.props.onClick,onOriginalItemNeeded:this.props.onOriginalItemNeeded}))}return null},t.prototype.renderMenuIconIfApplicable=function(){return this.props.item.icon?o.createElement("span",{className:"k-icon k-i-"+this.props.item.icon,role:"presentation",key:"0"}):null},t.prototype.renderArrowIfApplicable=function(){return this.props.item.items.length>0?o.createElement(_e,{itemId:this.props.item.id,verticalMenu:this.props.isMenuVertical,dir:de(this.props.isDirectionRightToLeft),key:"2"}):null},Object.defineProperty(t.prototype,"itemRender",{get:function(){return this.props.item.render||this.props.itemRender},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkRender",{get:function(){return this.props.item.linkRender||this.props.linkRender},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentRender",{get:function(){return this.props.item.contentParentItemId?this.props.item.contentRender:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Opened",{get:function(){var e,t,n=this.props;return n.item.items.length>0&&(e=n.item.id,0===(t=n.lastItemIdToBeOpened).indexOf(e)&&(t.length===e.length||"_"===t.charAt(e.length)))&&!this.isFirstRender},enumerable:!0,configurable:!0}),t.prototype.getPopupClassName=function(){return Object(a.d)("k-menu-popup",{"k-rtl":this.props.isDirectionRightToLeft})},t.prototype.getMenuItemClassName=function(e){return Object(a.d)("k-item","k-menu-item",{"k-first":(t=e.id,"0"===U(t)),"k-last":e.isLastFromSiblings,"k-state-disabled":e.disabled},e.cssClass);var t},t}(o.Component),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseOver=function(e){t.props.onMouseOver(t.props.parentItemId),e.stopPropagation()},t.onMouseLeave=function(e){t.props.onMouseLeave(t.props.parentItemId),e.stopPropagation()},t}return Pe(t,e),t.prototype.render=function(){var e=this.props.parentItemId;return o.createElement("ul",{className:this.props.className,role:void 0!==e?"menu":"menubar",id:void 0!==e?fe(this.props.menuGuid,e):void 0,onMouseOver:void 0!==e?this.onMouseOver:void 0,onMouseLeave:void 0!==e?this.onMouseLeave:void 0,"aria-orientation":this.props["aria-orientation"]},this.renderChildItems())},t.prototype.renderChildItems=function(){var e=this;return this.props.items.length>0?this.props.items.map((function(t,n){return o.createElement(Te,{item:t,isMenuVertical:e.props.isMenuVertical,isDirectionRightToLeft:e.props.isDirectionRightToLeft,focusedItemId:e.props.focusedItemId,lastItemIdToBeOpened:e.props.lastItemIdToBeOpened,tabbableItemId:e.props.tabbableItemId,itemRender:e.props.itemRender,linkRender:e.props.linkRender,menuGuid:e.props.menuGuid,onMouseOver:e.props.onMouseOver,onMouseLeave:e.props.onMouseLeave,onMouseDown:e.props.onMouseDown,onBlur:e.props.onBlur,onFocus:e.props.onFocus,onClick:e.props.onClick,onOriginalItemNeeded:e.props.onOriginalItemNeeded,key:n})})):null},t}(o.Component),Me=function(){function e(){this.phase="Initialized"}return e.prototype.getIsDirectionRightToLeft=function(){return this.isDirectionRightToLeft},e.prototype.setIsDirectionRightToLeft=function(e){this.phase="NotInitialized"===this.phase?"Initialized":"NewValueReceived",this.previousIsDirectionRightToLeft=this.isDirectionRightToLeft,this.isDirectionRightToLeft=e},e.prototype.hasDirectionChanged=function(){return"NewValueReceived"===this.phase&&this.previousIsDirectionRightToLeft!==this.isDirectionRightToLeft},e}(),je=function(){function e(e,t,n){this.openOnClick=e,this.resetMenu=t,this.openItem=n,this.openOnClick=e,this.isMouseOverEnabled=!e}return Object.defineProperty(e.prototype,"OpenOnClick",{set:function(e){Boolean(e)!==Boolean(this.openOnClick)&&(this.mouseDown=!1,this.isMouseOverEnabled=!e),this.openOnClick=e},enumerable:!0,configurable:!0}),e.prototype.handleItemSelectedViaKeyboard=function(){this.openOnClick&&(this.isMouseOverEnabled=!1,this.resetMenu())},Object.defineProperty(e.prototype,"IsMouseOverEnabled",{get:function(){return this.isMouseOverEnabled},enumerable:!0,configurable:!0}),e.prototype.handleItemMouseDown=function(){this.mouseDown=!0},e.prototype.handleItemFocus=function(){this.openOnClick&&!this.mouseDown&&(this.isMouseOverEnabled=!0),this.mouseDown=!1},e.prototype.handleItemClick=function(e,t){this.openOnClick&&(this.isMouseOverEnabled?t&&(this.isMouseOverEnabled=!1,this.resetMenu()):(this.isMouseOverEnabled=!0,this.openItem(e)))},e}(),Re=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae={focusedItemId:"",hoveredItemId:"",tabbableItemId:"0"},Fe=function(e){function t(t){var n=e.call(this,t)||this;return n.guid=Object(a.k)(),n.directionHolder=new Me,n.reset=function(){n.clearItemHoverAndLeaveRequestsIfApplicable(),n.setState(Ae)},n.onKeyDown=function(e){if(""!==n.state.focusedItemId){var t=B(n.state.focusedItemId,n.items),r=re(n.items,t.id,e.keyCode,e.key,n.props.vertical,n.directionHolder.getIsDirectionRightToLeft());t.id!==r&&(e.preventDefault(),n.setFocusedItemId(r)),e.keyCode!==a.b.enter&&e.keyCode!==a.b.space||t.disabled||(n.mouseOverHandler.handleItemSelectedViaKeyboard(),n.dispatchSelectEventIfWired(e,t.id),!e.isDefaultPrevented()&&0===t.items.length&&t.url&&window.location.assign(t.url))}},n.onItemMouseOver=function(e){n.mouseOverHandler.IsMouseOverEnabled&&(n.clearItemHoverAndLeaveRequestsIfApplicable(),n.itemHoverRequest=window.setTimeout((function(){n.setHoveredItemId(e),n.itemHoverRequest=null}),function(e){return void 0!==e.hoverOpenDelay?e.hoverOpenDelay:e.openOnClick?0:100}(n.props)))},n.onItemMouseLeave=function(e){n.mouseOverHandler.IsMouseOverEnabled&&n.isItemWithDefaultClose(e)&&(n.clearItemHoverAndLeaveRequestsIfApplicable(),n.itemLeaveRequest=window.setTimeout((function(){n.setHoveredItemId(""),n.itemLeaveRequest=null}),function(e){return void 0!==e.hoverCloseDelay?e.hoverCloseDelay:100}(n.props)))},n.onItemMouseDown=function(){n.mouseOverHandler.handleItemMouseDown()},n.onItemFocus=function(e){n.setFocusedItemId(e),n.mouseOverHandler.handleItemFocus()},n.onItemClick=function(e,t){var r=B(t,n.items);r.disabled||(n.setFocusedItemId(t),n.mouseOverHandler.handleItemClick(t,n.isItemWithDefaultClose(t)),n.dispatchSelectEventIfWired(e,t),!e.isDefaultPrevented()&&r.url&&window.location.assign(r.url))},n.onItemBlur=function(e){n.isItemWithDefaultClose(e)&&n.setFocusedItemId("")},n.getInputItem=function(e){return B(e,n.inputItems)},Object(a.r)(g),n.mouseOverHandler=new je(n.props.openOnClick,n.reset,n.onItemMouseOver),n.state=Object.assign({},Ae,{isFirstRender:!0}),n}return Re(t,e),t.prototype.render=function(){var e=this;this.prepareItems(),this.state.isFirstRender||this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());var t=this.state.hoveredItemId?this.state.hoveredItemId:this.state.focusedItemId?K(this.state.focusedItemId):"";return o.createElement("div",{onKeyDown:this.onKeyDown,style:this.props.style,className:this.getMenuWrapperClassName(),ref:function(t){return e.menuWrapperEl=t}},o.createElement(De,{className:this.getMenuClassName(),"aria-orientation":this.props.vertical?"vertical":void 0,items:this.items,isMenuVertical:this.props.vertical,isDirectionRightToLeft:this.directionHolder.getIsDirectionRightToLeft(),focusedItemId:this.state.focusedItemId,lastItemIdToBeOpened:t,tabbableItemId:this.state.tabbableItemId,itemRender:this.props.itemRender,linkRender:this.props.linkRender,menuGuid:this.guid,onMouseLeave:this.onItemMouseLeave,onMouseOver:this.onItemMouseOver,onMouseDown:this.onItemMouseDown,onFocus:this.onItemFocus,onClick:this.onItemClick,onBlur:this.onItemBlur,onOriginalItemNeeded:this.getInputItem}))},t.prototype.componentDidMount=function(){this.setState({isFirstRender:!1})},t.prototype.componentDidUpdate=function(e){(Boolean(e.vertical)!==Boolean(this.props.vertical)||this.directionHolder.hasDirectionChanged())&&this.reset(),this.mouseOverHandler.OpenOnClick=this.props.openOnClick},t.prototype.componentWillUnmount=function(){this.clearItemHoverAndLeaveRequestsIfApplicable()},t.prototype.setFocusedItemId=function(e){this.setState((function(t){var n=""===e?t.tabbableItemId:z(e);return{hoveredItemId:""===e||W(t.hoveredItemId)&&W(e)?t.hoveredItemId:"",focusedItemId:e,tabbableItemId:n}}))},t.prototype.setHoveredItemId=function(e){this.setState((function(t){return W(e)&&W(t.focusedItemId)?{hoveredItemId:e,focusedItemId:t.focusedItemId,tabbableItemId:t.tabbableItemId}:{hoveredItemId:e,focusedItemId:"",tabbableItemId:"0"}}))},t.prototype.getMenuWrapperClassName=function(){return Object(a.d)({"k-rtl":this.directionHolder.getIsDirectionRightToLeft()},this.props.className)},t.prototype.getMenuClassName=function(){return Object(a.d)("k-widget","k-reset","k-header","k-menu",{"k-menu-horizontal":!this.props.vertical},{"k-menu-vertical":this.props.vertical})},t.prototype.clearItemHoverAndLeaveRequestsIfApplicable=function(){this.itemHoverRequest&&(clearTimeout(this.itemHoverRequest),this.itemHoverRequest=null),this.itemLeaveRequest&&(clearTimeout(this.itemLeaveRequest),this.itemLeaveRequest=null)},t.prototype.isItemWithDefaultClose=function(e){return!this.props.customCloseItemIds||-1===this.props.customCloseItemIds.indexOf(e)},t.prototype.checkIsDirectionRightToLeft=function(){return void 0!==this.props.dir?"rtl"===this.props.dir:this.menuWrapperEl&&"rtl"===getComputedStyle(this.menuWrapperEl).direction},t.prototype.prepareItems=function(){var e=Y(this.props.items,this.props.children),t=e.items,n=e.inputItems;this.items=t,this.inputItems=n},t.prototype.dispatchSelectEventIfWired=function(e,t){Object(a.e)(this.props.onSelect,e,this,{item:this.getInputItem(t),itemId:t})},t.propTypes={vertical:i.bool,items:i.arrayOf(i.object),style:i.object,dir:i.string,hoverOpenDelay:i.number,hoverCloseDelay:i.number,openOnClick:i.bool,itemRender:i.any,linkRender:i.any,customCloseItemIds:i.arrayOf(i.string),onSelect:i.func},t.defaultProps={vertical:!1},t}(o.Component),Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.render=function(){var e,t=this.props,n=t.size,r=t.collapsed,i=t.overlay,s=t.containsSplitter,l=t.collapsible,c=t.resizable,u=t.scrollable,p=t.keepMounted,d=n&&n.length>0,f={flexBasis:n},h=Object(a.d)("k-pane",((e={})["k-state-hidden"]=r,e.hidden=r,e["k-pane-flex"]=s,e["k-pane-static"]=!c&&!l||d,e["k-scrollable"]=u,e));return o.createElement("div",{style:f,className:h},!r||p?this.props.children:void 0,i?o.createElement("div",{className:"k-splitter-overlay k-overlay"}):void 0)},t}(o.Component),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e){function t(t){var n=e.call(this,t)||this;return n.onDrag=function(e,t,r){var o=e.event,i=n.props,a=i.onDrag,s=i.index,l=n.draggable&&n.draggable.element;!r&&o&&o.originalEvent.preventDefault(),l&&!n.isStatic&&n.isDraggable&&a(o,l,s,t,r)},n.onFocus=function(){n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1})},n.onToggle=function(e){var t=n.props,r=t.onToggle,o=t.index,i=t.prev,a=t.next;(i.collapsible||a.collapsible)&&r(i.collapsible?o:o+1,e)},n.onPrevToggle=function(e){var t=n.props,r=t.onToggle,o=t.index;t.prev.collapsible&&r(o,e)},n.onNextToggle=function(e){var t=n.props,r=t.onToggle,o=t.index;t.next.collapsible&&r(o+1,e)},n.onKeyDown=function(e){var t=e&&e.keyCode,r=n.isHorizontal,o=n.props.index,i=n.draggable&&n.draggable.element,s=function(t,r,o){e.preventDefault(),n.props.onKeyboardResize(t,r,o,e)};i&&(t===a.b.enter?(e.preventDefault(),n.onToggle(e)):n.isDraggable&&(r&&t===a.b.left?s(i,o,-10):r&&t===a.b.right?s(i,o,10):r||t!==a.b.up?r||t!==a.b.down||s(i,o,10):s(i,o,-10)))},n.previousArrowClass=function(e){var t,r=n.props.prev,o=r.collapsible,i=r.collapsed;return Object(a.d)("k-icon",((t={})["k-hidden"]=!o,t["k-collapse-prev"]=o,t["k-i-arrow-60-left"]=o&&e&&!i,t["k-i-arrow-60-right"]=o&&e&&i,t["k-i-arrow-60-up"]=o&&!e&&!i,t["k-i-arrow-60-down"]=o&&!e&&i,t))},n.nextArrowClass=function(e){var t,r=n.props.next,o=r.collapsible,i=r.collapsed;return Object(a.d)("k-icon",((t={})["k-hidden"]=!o,t["k-collapse-next"]=o,t["k-i-arrow-60-right"]=o&&e&&!i,t["k-i-arrow-60-left"]=o&&e&&i,t["k-i-arrow-60-down"]=o&&!e&&!i,t["k-i-arrow-60-up"]=o&&!e&&i,t))},n.state={focused:!1},n}return ze(t,e),Object.defineProperty(t.prototype,"isStatic",{get:function(){var e=this.props,t=e.prev,n=e.next,r=t.resizable&&n.resizable,o=t.collapsible||n.collapsible;return!r&&!o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){var e=this.props,t=e.prev,n=e.next,r=t.resizable&&n.resizable,o=t.collapsed||n.collapsed;return!!r&&!o},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHorizontal",{get:function(){return"horizontal"===this.props.orientation},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,t=this,n=this.isDraggable,r=this.isStatic,i=this.isHorizontal,s=Object(a.d)("k-splitbar",((e={})["k-state-focused"]=this.state.focused,e["k-splitbar-horizontal"]=i,e["k-splitbar-vertical"]=!i,e["k-splitbar-draggable-horizontal"]=i&&n,e["k-splitbar-draggable-vertical"]=!i&&n,e["k-splitbar-static-horizontal"]=i&&r,e["k-splitbar-static-vertical"]=!i&&r,e)),l=this.previousArrowClass(i),c=this.nextArrowClass(i);return o.createElement(a.a,{onPress:function(e){return t.onDrag(e,!0,!1)},onDrag:function(e){return t.onDrag(e,!1,!1)},onRelease:function(e){return t.onDrag(e,!1,!0)},ref:function(e){t.draggable=e}},o.createElement("div",{tabIndex:r?-1:0,role:"separator",className:s,style:{touchAction:"none"},onFocus:this.onFocus,onBlur:this.onBlur,onDoubleClick:this.onToggle,onKeyDown:this.onKeyDown},o.createElement("div",{className:l,onClick:this.onPrevToggle}),o.createElement("div",{className:"k-resize-handle"}),o.createElement("div",{className:c,onClick:this.onNextToggle})))},t}(o.Component),He=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},We=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},$e={collapsible:!1,collapsed:!1,resizable:!0,scrollable:!0},qe=function(e){function t(t){var n=e.call(this,t)||this;return n.validatePanes=function(e){if(!e.filter((function(e){return void 0===e.size})).length)throw new Error("The Splitter should have at least one pane without a set size.")},n.mapPaneOptions=function(e,t){for(var r=n.orientation,i=n.state,a=i.dragIndex,s=i.isDragging,l=[],c=0;c<t.length;c++){var u=!1,p=t[c];o.isValidElement(p)&&(u="Splitter"===p.type.displayName);var d=!1;s&&void 0!==a&&(d=a===c||a+1===c),l.push(Ke({},$e,{orientation:r,containsSplitter:u,overlay:d},(e||[])[c]))}return l},n.mapSplitterPanes=function(e,t){return e.map((function(r,i){var a,s=2*i,l=s+1;if(i+1<e.length){var c=e[i+1];a=o.createElement(Ve,{key:l,index:i,orientation:r.orientation,prev:r,next:c,onDrag:n.onBarDragResize,onToggle:n.onBarToggle,onKeyboardResize:n.onBarKeyboardResize})}return[o.createElement(Be,Ke({key:s},r),t[i]),a]}))},n.onBarToggle=function(e,t){var r=n.panesOptions(n.panesContent).map((function(t,r){var o=n.getPaneProps(t);return r===e?Ke({},o,{collapsed:!t.collapsed}):Ke({},o)}));n.props.onChange&&n.props.onChange({newState:r,isLast:!0,nativeEvent:t})},n.onBarDragResize=function(e,t,r,o,i){var a=(new Date).getTime(),s=e.pageX,l=e.pageY,c=n.surroudingPanes(t),u=c.prevElement,p=c.nextElement;if(u&&p)if(o)n.setState({isDragging:!0,dragIndex:r,startTime:a,originalX:s,originalY:l,originalPrevSize:n.elementSize(u),originalNextSize:n.elementSize(p)});else{var d,f=n.state,h=f.originalPrevSize,m=f.originalNextSize,v=f.startTime,g=f.originalX,y=f.originalY;if(!o&&a-v<150)i&&n.resetDragState();else d="vertical"===n.orientation?l-y:n.isRtl?g-s:s-g,n.resize(r,r+1,h,m,d,i,e),i&&n.resetDragState()}},n.onBarKeyboardResize=function(e,t,r,o){var i=n.surroudingPanes(e),a=i.prevElement,s=i.nextElement,l=n.elementSize(a),c=n.elementSize(s);n.resize(t,t+1,l,c,r,!0,o)},n.containerSize=function(){return n._container?n.elementSize(n._container,!0):0},n.panesOptions=function(e){return n.mapPaneOptions(n.panes,e)},n.elementSize=function(e,t){var r=t?"client":"offset";return"vertical"===n.orientation?e[r+"Height"]:e[r+"Width"]},n.clamp=function(e,t,n){return Math.min(t,Math.max(e,n))},n.fixedSize=function(e){return e&&e.length>0},Object(a.r)(g),n.state={isDragging:!1,dragIndex:void 0,startTime:0,originalX:0,originalY:0,originalPrevSize:0,originalNextSize:0,panes:t.defaultPanes||[]},n}return He(t,e),Object.defineProperty(t.prototype,"isControlledState",{get:function(){return void 0!==this.props.panes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panes",{get:function(){return void 0!==this.panesDuringOnChange?this.panesDuringOnChange:this.isControlledState?this.props.panes:this.state.panes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.props.orientation||"horizontal"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRtl",{get:function(){return this._container&&"rtl"===getComputedStyle(this._container).direction||!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panesContent",{get:function(){return o.Children.toArray(this.props.children).filter((function(e){return e}))},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.panesContent,n=this.panesOptions(t),r=Object(a.d)("k-widget","k-splitter","k-splitter-flex","k-splitter-"+this.orientation,this.props.className);return this.validatePanes(n),o.createElement("div",{style:this.props.style,ref:function(t){return e._container=t},className:r},this.mapSplitterPanes(n,t))},t.prototype.surroudingPanes=function(e){return{prevElement:e.previousElementSibling,nextElement:e.nextElementSibling}},t.prototype.isPercent=function(e){return/%$/.test(e)},t.prototype.toPixels=function(e,t){var n=parseInt(e,10);return this.isPercent(e)&&(n=t*n/100),n},t.prototype.resetDragState=function(){this.setState({isDragging:!1,dragIndex:void 0,startTime:0,originalX:0,originalY:0,originalPrevSize:0,originalNextSize:0})},t.prototype.resize=function(e,t,n,r,o,i,a){var s,l,c=this,u=this.panesOptions(this.panesContent),p=u[e],d=u[t],f=n+r,h=this.containerSize(),m=function(e){return c.toPixels(e,h)},v={index:e,initialSize:n,min:m(p.min)||f-m(d.max)||0,max:m(p.max)||f-m(d.min)||f},g={index:t,initialSize:r,min:m(d.min)||f-m(p.max)||0,max:m(d.max)||f-m(p.min)||f},y=function(e,t){var n=u[e.index],r=c.clamp(e.min,e.max,e.initialSize+t);return c.isPercent(n.size||"")?100*r/h+"%":r+"px"};this.fixedSize(p.size)&&this.fixedSize(d.size)?(s=y(v,o),l=y(g,-o)):d.collapsible||this.fixedSize(d.size)?l=y(g,-o):s=y(v,o);var b=u.map((function(n,r){var o=c.getPaneProps(n);return r===e?Ke({},o,{size:s}):r===t?Ke({},o,{size:l}):Ke({},o)}));this.panesDuringOnChange=b,this.isControlledState||this.setState({panes:b}),this.props.onChange&&this.props.onChange({newState:b,isLast:i,nativeEvent:a}),this.panesDuringOnChange=void 0},t.prototype.getPaneProps=function(e){e.orientation,e.overlay,e.containsSplitter;return We(e,["orientation","overlay","containsSplitter"])},t.displayName="Splitter",t}(o.Component);!function(e){e.CIRCLE="circle",e.SQUARE="square",e.ROUNDED="rounded",e.RECTANGLE="rectangle"}(he||(he={})),function(e){e.TEXT="text",e.IMAGE="image",e.ICON="icon"}(me||(me={})),function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(ve||(ve={})),function(e){e.SOLID="solid",e.OUTLINE="outline"}(ge||(ge={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e.DARK="dark",e.LIGHT="light",e.INVERSE="inverse",e.INHERIT="inherit"}(ye||(ye={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(be||(be={})),function(e){e.DEFAULT="default",e.primary="primary",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error"}(ke||(ke={})),function(e){e.START="start",e.CENTER="center",e.END="end",e.STRETCHED="stretched"}(we||(we={}));var Ue=function(e){var t;return Object(a.r)(g),o.createElement("div",{dir:e.dir,style:e.style,className:Object(a.d)("k-card",e.className,(t={},t["k-state-"+e.type]=e.type!==ke.DEFAULT,t),e.orientation!==be.HORIZONTAL?"k-card-vertical":"k-card-horizontal")},e.children)};Ue.propTypes={className:i.string,type:i.oneOf(["default","primary","info","success","warning","error"]),orientation:i.oneOf(["horizontal","vertical"])},Ue.defaultProps={type:ke.DEFAULT,orientation:be.VERTICAL,dir:"ltr"};var Ge=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-header",e.className)},e.children)};Ge.propTypes={className:i.string};var Je=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-title",e.className)},e.children)};Je.propTypes={className:i.string};var Xe=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-body",e.className)},e.children)};Xe.propTypes={className:i.string};var Ye=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-actions",e.className,"k-card-actions-"+e.layout,e.orientation!==be.VERTICAL?"k-card-actions-horizontal":"k-card-actions-vertical")},e.children)};Ye.propTypes={layout:i.oneOf(["stretched","start","center","end"]),orientation:i.oneOf(["horizontal","vertical"])},Ye.defaultProps={layout:we.START,orientation:be.HORIZONTAL};var Ze=function(e){return o.createElement("img",{style:e.style,className:Object(a.d)("k-card-image",e.className),src:e.src})};Ze.propTypes={className:i.string,src:i.string},Ze.defaultProps={src:""};var Qe=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-subtitle",e.className)},e.children)};Qe.propTypes={className:i.string};var et=function(e){return o.createElement("div",{style:e.style,className:Object(a.d)("k-card-footer",e.className)},e.children)};et.propTypes={className:i.string};var tt=function(e){return Object(a.r)(g),o.createElement("div",{style:e.style,className:Object(a.d)("k-avatar","k-avatar-"+e.fill,"k-avatar-"+e.shape,"k-avatar-"+e.themeColor,{"k-avatar-bordered":e.border,"k-avatar-sm":"small"===e.size,"k-avatar-md":"medium"===e.size,"k-avatar-lg":"large"===e.size},e.className)},o.createElement("span",{className:"k-avatar-"+e.type},e.children))};tt.propTypes={className:i.string,shape:i.oneOf(["circle","square","rounded","rectangle"]),type:i.oneOf(["text","image","icon"]),fill:i.oneOf(["solid","outline"]),size:i.oneOf(["small","medium","large"]),themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse","inherit"])},tt.defaultProps={type:me.TEXT,shape:he.SQUARE,size:ve.MEDIUM,fill:ge.SOLID,themeColor:ye.PRIMARY};var nt=o.createContext({animation:!0,expanded:!1,mode:"overlay",position:"start",mini:!1,dir:"ltr",width:240,miniWidth:50}),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},it=o.forwardRef((function(e,t){var n=e.className,r=e.style,i=e.text,s=e.icon,l=e.separator,c=e.disabled,u=e.selected,p=e.onSelect,d=e.index,f=e.tabIndex,h=e.children,m=ot(e,["className","style","text","icon","separator","disabled","selected","onSelect","index","tabIndex","children"]),v=o.useContext(nt),g=v.expanded,y=v.mini,b=v.item,k=o.useRef(null),w=o.useCallback((function(){k.current&&k.current.focus()}),[]);o.useImperativeHandle(t,(function(){return{element:k.current,focus:w,props:e}}));var O=Object(a.d)("k-drawer-item",{"k-state-selected":u,"k-state-disabled":c},n),C=o.useCallback((function(){if(p&&!c){var t={element:k.current,focus:w,props:e};p(t,d)}}),[p,d,c]),x=o.createElement(o.Fragment,null,s&&o.createElement("span",{className:"k-icon "+s}),!g&&y?null:o.createElement("span",{className:"k-item-text"},i));return l?o.createElement("li",{className:"k-drawer-item k-drawer-separator",role:"presentation"}):o.createElement("li",rt({ref:k,className:O,style:r,role:"option","aria-selected":u,"aria-disabled":c,onClick:C,tabIndex:Object(a.i)(f,c)},m),b?h:x)}));it.propTypes={className:i.string,style:i.object,text:i.string,icon:i.string,separator:i.bool,selected:i.bool,disabled:i.bool,targetItem:i.any},it.displayName="KendoDrawerItem";var at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},st={type:"slide",duration:200},lt={type:"slide",duration:0},ct=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.style,s=o.useContext(nt),l=s.animation,c=s.expanded,u=s.mode,p=s.position,d=s.onOverlayClick,f=s.mini,h=s.dir,m=s.width,v=s.miniWidth,g=s.items,y=s.item,b=s.onSelect,k=o.useRef(null),w=o.useCallback((function(){k.current&&k.current.focus()}),[]),O="boolean"!=typeof l?l:!1===l?lt:st,C=m||240,x=v||50;o.useImperativeHandle(t,(function(){return{element:k.current,focus:w}}));var S=o.useMemo((function(){return"k-widget k-drawer "+Object(a.d)({"k-drawer-start":"start"===p,"k-drawer-end":"end"===p},r)}),[p]),E={opacity:1,flexBasis:C,WebkitTransition:"all "+(O&&O.duration)+"ms",transition:"all "+(O&&O.duration)+"ms"},I={opacity:1,transform:"translateX(0px)",WebkitTransition:"all "+(O&&O.duration)+"ms",transition:"all "+(O&&O.duration)+"ms"},_={opacity:f?1:0,flexBasis:f?x:0,WebkitTransition:"all "+(O&&O.duration)+"ms",transition:"all "+(O&&O.duration)+"ms"},N={opacity:0,transform:"translateX(-100%)",WebkitTransition:"all "+(O&&O.duration)+"ms",transition:"all "+(O&&O.duration)+"ms"},T={opacity:0,transform:"translateX(100%)",WebkitTransition:"all "+(O&&O.duration)+"ms",transition:"all "+(O&&O.duration)+"ms"},P={transform:"translateX(0%)",WebkitTransitionDuration:(O&&O.duration)+"ms",transitionDuration:(O&&O.duration)+"ms"},D=c?"push"===u?E:I:"push"===u?_:"ltr"===h&&"start"===p||"rtl"===h&&"end"===p?f?P:N:f?P:T,M=g&&o.createElement("ul",{className:"k-drawer-items",role:"listbox",title:"drawer-list","aria-expanded":c},g.map((function(e,t){var n=at({index:t},e,{onSelect:b}),r=y||it;return o.createElement(r,at({key:t},n))}))),j=o.createElement("div",{style:O?at({},D,i):i,className:S,ref:k},o.createElement("div",{className:"k-drawer-wrapper",style:!c&&f&&"overlay"===u?{width:x}:{width:C}},M||n));return"overlay"===u?o.createElement(o.Fragment,null,c&&o.createElement("div",{className:"k-overlay",onClick:d}),j):j}));ct.propTypes={children:i.any,className:i.string,style:i.object,item:i.any,tabIndex:i.number},ct.displayName="KendoDrawerNavigation";var ut=o.forwardRef((function(e,t){Object(a.r)(g);var n=e.expanded,r=e.mode,i=e.position,s=e.className,l=e.children,c=e.style,u=e.animation,p=e.mini,d=e.width,f=e.miniWidth,h=e.items,m=e.item,v=e.tabIndex,y=e.onOverlayClick,b=e.onSelect,k=o.useRef(null),w=o.useCallback((function(){k.current&&k.current.focus()}),[]);o.useImperativeHandle(t,(function(){return{element:k.current,focus:w}}));var O=o.useCallback((function(e,t){h&&b&&b.call(void 0,{itemTarget:e,itemIndex:t})}),[h,b]),C=Object(a.o)(k,e.dir),x=Object(a.d)({"k-drawer-container":!0,"k-drawer-expanded":n,"k-drawer-overlay":"overlay"===r,"k-drawer-push":"push"===r,"k-drawer-mini":p},s);return o.createElement(nt.Provider,{value:{animation:u,expanded:n,mode:r,position:i,mini:p,dir:C,items:h,item:m,width:d,miniWidth:f,onOverlayClick:y,onSelect:O}},o.createElement("div",{className:x,ref:k,dir:C,style:c,tabIndex:v},h&&o.createElement(ct,null),l))}));ut.propTypes={animation:i.any,expanded:i.bool,children:i.any,className:i.string,dir:i.string,mode:i.string,position:i.string,mini:i.bool,style:i.object,tabIndex:i.number,width:i.number,miniWidth:i.number,selected:i.number,onSelect:i.func,onOverlayClick:i.func};ut.defaultProps={animation:!0,expanded:!1,mode:"overlay",position:"start",mini:!1,dir:"ltr",width:240,miniWidth:50},ut.displayName="KendoDrawer";var pt=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.style,s=o.useRef(null);o.useImperativeHandle(t,(function(){return{element:s.current}}));var l=Object(a.d)({"k-drawer-content":!0},r);return o.createElement("div",{className:l,style:i,ref:s},n)}));pt.propTypes={children:i.any,className:i.string,style:i.object},pt.displayName="KendoDrawerContent";var dt,ft=o.createContext({linear:!1,mode:"steps",value:0}),ht=n(3),mt=((dt={})["stepper.optionalText"]="(Optional)",dt),vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},yt=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.current,s=e.disabled,l=e.focused,c=e.icon,u=e.index,p=e.isValid,d=e.label,f=e.optional,h=e.style,m=e.tabIndex,v=e.text,g=gt(e,["children","className","current","disabled","focused","icon","index","isValid","label","optional","style","tabIndex","text"]),y=o.useContext(ft),b=y.animationDuration,k=y.isVertical,w=y.item,O=y.linear,C=y.mode,x=y.numOfSteps,S=y.value,E=y.successIcon,I=y.errorIcon,_=y.onChange,N=y.onFocus,T=o.useRef(null),P=o.useCallback((function(){T.current&&Object(a.g)(T.current)}),[]),D=o.useCallback((function(){return{element:T.current,focus:P}}),[P]);o.useImperativeHandle(t,D);var M,j=!O||u===S-1||u===S||u===S+1,R="labels"===C||Boolean(c)&&Boolean(d),A=Object(ht.useLocalization)(),F=(M="stepper.optionalText",A.toLanguageString(M,mt[M])),L="number"==typeof b?b:!1!==b?400:0,B=o.useCallback((function(e){_&&!s&&Object(a.e)(_,e,D(),{value:u})}),[_,S,s]),z=o.useCallback((function(e){N&&!s&&Object(a.e)(N,e,D(),void 0)}),[N,s]),V=o.useMemo((function(){return Object(a.d)("k-step",{"k-step-first":0===u,"k-step-last":x&&u===x-1,"k-step-done":u<S,"k-step-current":i,"k-step-optional":f,"k-step-disabled":s,"k-step-focus":l,"k-step-error":void 0!==p&&!p,"k-step-success":p},r)}),[u,x,S,i,f,s,l,p,r]),H=o.useMemo((function(){return vt({maxWidth:k?void 0:"calc(100% / "+x+")",pointerEvents:j?void 0:"none"},h)}),[k,x,h,j]),K=p?E?""+E:"k-icon k-i-check":I?""+I:"k-icon k-i-warning",W=o.createElement("span",{className:"k-step-indicator-icon "+K,"aria-hidden":"true"}),$=o.createElement(o.Fragment,null,"labels"!==C?o.createElement("span",{className:"k-step-indicator","aria-hidden":!0,style:{transitionDuration:L+"ms"}},c?R||void 0===p?o.createElement("span",{className:"k-step-indicator-icon k-icon "+c}):W:void 0!==p?W:o.createElement("span",{className:"k-step-indicator-text"},v||u+1)):null),q=o.createElement("span",{className:"k-step-label"},d&&o.createElement("span",{className:"k-step-text"},d),R&&void 0!==p&&W,f&&o.createElement("span",{className:"k-step-label-optional"},F)),U=o.createElement(o.Fragment,null,$,q);return o.createElement("li",vt({ref:T,className:V,style:H},g),o.createElement("a",{className:"k-step-link",title:d||void 0,onClick:B,onFocus:z,tabIndex:m||(l?0:-1),"aria-current":i?"step":void 0,"aria-disabled":s||!j||void 0,"aria-invalid":void 0!==p&&!p||void 0},w?n:U))}));yt.propTypes={children:i.any,className:i.string,current:i.bool,disabled:i.bool,icon:i.string,index:i.number,isValid:i.bool,label:i.string,optional:i.bool,style:i.object,tabIndex:i.number,text:i.string};yt.defaultProps={tabIndex:0},yt.displayName="KendoStep";var bt=function(e,t,n){var r=Math.abs((t-e)/100);return Math.abs((n-e)/r)},kt=function(e,t,n,r){var o=Math.max(n,.01),i=100/o*100;e.current&&t.current&&(e.current.style.width=r?"100%":o+"%",t.current.style.width=r?"100%":i+"%",e.current.style.height=r?o+"%":"100%",t.current.style.height=r?i+"%":"100%")},wt={name:"@progress/kendo-react-progressbars",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477781,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},Ot=function(){return(Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ct=o.forwardRef((function(e,t){Object(a.r)(wt);var n=e.chunkCount,r=void 0===n?xt.chunkCount:n,i=e.className,s=e.disabled,l=e.orientation,c=e.min,u=void 0===c?xt.min:c,p=e.max,d=void 0===p?xt.max:p,f=e.reverse,h=void 0===f?xt.reverse:f,m=e.style,v=e.tabIndex,g=e.emptyStyle,y=e.emptyClassName,b=e.progressStyle,k=e.progressClassName,w=o.useRef(null),O=o.useCallback((function(){w.current&&w.current.focus()}),[]);o.useImperativeHandle(t,(function(){return{element:w.current,focus:O}}));var C=e.value||xt.value,x=null===e.value,S=Object(a.q)(w,e.dir),E="vertical"===l,I={className:Object(a.d)("k-widget k-progressbar",{"k-progressbar-horizontal":!E,"k-progressbar-vertical":E,"k-progressbar-reverse":h,"k-progressbar-indeterminate":x,"k-state-disabled":s},i),ref:w,dir:S,tabIndex:Object(a.i)(v,s),role:"progressbar","aria-valuemin":u,"aria-valuemax":d,"aria-valuenow":x?void 0:C,"aria-disabled":s,style:m};return o.createElement("div",Ot({},I),o.createElement("ul",{className:"k-reset"},o.createElement((function(e){for(var t=e.count,n=[],r=100/t+"%",i=function(e,t,n){return Math.max((n-e)/(t-e),1e-5)}(u,d,C),s=Math.floor(i*t),l=Array(t).fill(!1),c=E&&!h||!E&&h,p=0;p<s;p++)l[p]=!0;c&&l.reverse();for(p=0;p<t;++p){var f=l[p],m=f?k:y,v=Ot({},{width:E?void 0:r,height:E?r:void 0},f?b:g);n.push(o.createElement("li",{key:p,className:Object(a.d)("k-item",{"k-first":0===p,"k-last":p===t-1,"k-state-selected":f},m),style:v}))}return o.createElement(o.Fragment,null,n)}),{count:r||xt.chunkCount})))}));Ct.propTypes={chunkCount:i.number,disabled:i.bool,reverse:i.bool,max:i.number,min:i.number,value:i.number,tabIndex:i.number,emptyStyle:i.object,emptyClassName:i.string,progressStyle:i.object,progressClassName:i.string};var xt={chunkCount:5,min:0,max:100,value:0,disabled:!1,reverse:!1};Ct.defaultProps=xt,Ct.displayName="KendoChunkProgressBar";var St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Et=o.forwardRef((function(e,t){Object(a.r)(wt);var n=e.animation,r=e.disabled,i=e.reverse,s=void 0===i?It.reverse:i,l=e.orientation,c=e.labelVisible,u=e.labelPlacement,p=e.max,d=void 0===p?It.max:p,h=e.min,m=void 0===h?It.min:h,v=e.tabIndex,g=e.className,y=e.style,b=e.emptyStyle,k=e.emptyClassName,w=e.progressStyle,O=e.progressClassName,C=o.useRef(null),x=o.useRef(null),S=o.useRef(null),E=o.useCallback((function(){C.current&&C.current.focus()}),[]);o.useImperativeHandle(t,(function(){return{element:C.current,progressStatusElement:x.current,progressStatusWrapElement:S.current,focus:E}}));var I=e.value||It.value,_=function(e){var t=o.useRef();return o.useEffect((function(){t.current=e})),t.current}(I),N=null===e.value,T=Object(a.q)(C,e.dir),P="vertical"===l,D=function(e){var t=e.toString().split(".");return 1===t.length?""+t[0]:t[0]+"."+t[1].substr(0,3)}(I),M={value:I},j=c?e.label?o.createElement("span",{className:"k-progress-status"},o.createElement(e.label,St({},M))):o.createElement("span",{className:"k-progress-status"},D):void 0,R={className:Object(a.d)("k-widget k-progressbar",{"k-progressbar-horizontal":!P,"k-progressbar-vertical":P,"k-progressbar-reverse":s,"k-progressbar-indeterminate":N,"k-state-disabled":r},g),ref:C,dir:T,tabIndex:Object(a.i)(v,r),role:"progressbar","aria-valuemin":m,"aria-valuemax":d,"aria-valuenow":N?void 0:I,"aria-disabled":r,style:y},A=Object(a.d)("k-progress-status-wrap",{"k-progress-start":"start"===u,"k-progress-center":"center"===u,"k-progress-end":"end"===u||void 0===u}),F="boolean"!=typeof n&&void 0!==n?n.duration:n?400:0,L=o.useCallback((function(){var e=bt(m,d,_);kt(x,S,e,P)}),[P,d,m,_]),B=o.useCallback((function(e){var t=bt(m,d,_+(I-_)*e);kt(x,S,t,P)}),[m,d,_,I,P]),z=o.useCallback((function(){var e=bt(m,d,I);kt(x,S,e,P)}),[P,d,m,I]);return Object(f.c)({duration:F,onStart:L,onUpdate:B,onEnd:z},[I,F]),o.createElement("div",St({},R),o.createElement("span",{className:A+(k?" "+k:""),style:b},j),o.createElement("div",{className:"k-state-selected",style:w,ref:x},o.createElement("span",{className:A+(O?" "+O:""),ref:S},j)))}));Et.propTypes={animation:i.any,disabled:i.bool,reverse:i.bool,label:i.any,labelVisible:i.bool,labelPlacement:i.oneOf(["start","center","end"]),max:i.number,min:i.number,value:i.number,tabIndex:i.number,emptyStyle:i.object,emptyClassName:i.string,progressStyle:i.object,progressClassName:i.string};var It={animation:!1,min:0,max:100,value:0,disabled:!1,reverse:!1,labelVisible:!0};Et.defaultProps=It,Et.displayName="KendoProgressBar";var _t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Nt=o.forwardRef((function(e,t){Object(a.r)(g);var n=e.animationDuration,r=e.children,i=e.className,s=e.disabled,l=e.errorIcon,c=e.item,u=e.items,p=e.linear,d=e.mode,f=e.orientation,h=e.style,m=e.successIcon,v=e.onChange,y=e.onFocus,b=o.useRef(null),k=o.useCallback((function(){b.current&&Object(a.g)(b.current)}),[]),w=o.useCallback((function(){return{element:b.current,focus:k}}),[k]);o.useImperativeHandle(t,w);var O=e.value||Tt.value,C=o.useState(O),x=C[0],S=C[1],E=u?u.length:0,I="vertical"===f,_=Object(a.q)(b,e.dir),N="number"==typeof n?n:!1!==n?400:0,T=o.useCallback((function(e,t){O!==t&&v&&!s&&(!p||t===O-1||t===O||t===O+1)&&(Object(a.e)(v,e,w(),{value:t}),S(t))}),[O,p,v,s,S]),P=o.useCallback((function(e){var t=e.value,n=e.syntheticEvent;T(n,t)}),[T]),D=o.useCallback((function(e){y&&!s&&Object(a.e)(y,e.syntheticEvent,w(),void 0)}),[y,s]),M=o.useCallback((function(e){T(e,x)}),[T,x]),j=o.useCallback((function(e){var t="rtl"===_,n=x,r=u.length-1;switch(e.keyCode){case a.b.left:e.preventDefault(),!t&&n>0&&S(n-1),t&&n<r&&S(n+1);break;case a.b.right:e.preventDefault(),!t&&n<r&&S(n+1),t&&n>0&&S(n-1);break;case a.b.up:e.preventDefault(),!t&&n>0&&S(n-1),t&&n>0&&S(n-1);break;case a.b.down:e.preventDefault(),!t&&n<r&&S(n+1),t&&n<r&&S(n+1);break;case a.b.home:e.preventDefault(),S(0);break;case a.b.end:e.preventDefault(),S(r);break;case a.b.space:case a.b.enter:e.preventDefault(),u[n].disabled||M(e)}}),[u,S,x,_,M]),R=o.useMemo((function(){return Object(a.d)("k-stepper",{"k-stepper-linear":p},i)}),[p,i]),A=o.useMemo((function(){return _t({display:"grid",gridTemplateColumns:I?void 0:"repeat("+2*E+", 1fr)",gridTemplateRows:I?"repeat("+4*E+", 1fr)":void 0},h)}),[I,E,h]),F=o.useMemo((function(){return Object(a.d)("k-step-list",{"k-step-list-horizontal":!I,"k-step-list-vertical":I})}),[I]),L=o.useMemo((function(){return{gridColumnStart:I?void 0:1,gridColumnEnd:I?void 0:-1,gridRowStart:I?1:void 0,gridRowEnd:I?-1:void 0}}),[I]),B=o.useMemo((function(){return{gridColumnStart:I?void 0:2,gridColumnEnd:I?void 0:2*E,gridRowStart:I?2:void 0,gridRowEnd:I?4*E-2:void 0}}),[I,E]),z=u&&u.map((function(e,t){var n=_t({index:t,disabled:s||e.disabled,focused:t===x,current:t===O},e),r=c||yt;return o.createElement(r,_t({key:t},n))}));return o.createElement(ft.Provider,{value:{animationDuration:n,isVertical:I,item:c,linear:p,mode:d,numOfSteps:E,value:O,successIcon:m,errorIcon:l,onChange:P,onFocus:D}},o.createElement("nav",{className:R,style:A,dir:_,onKeyDown:j},o.createElement("ol",{className:F,style:L},z||r),o.createElement(Et,{style:B,animation:{duration:N},"aria-hidden":!0,max:E-1,labelVisible:!1,orientation:f,reverse:"vertical"===f,value:O,disabled:s,tabIndex:-1})))}));Nt.propTypes={animationDuration:i.oneOfType([i.bool,i.number]),className:i.string,dir:i.string,disabled:i.bool,item:i.any,items:i.arrayOf(i.any),linear:i.bool,mode:i.oneOf(["steps","labels"]),orientation:i.oneOf(["horizontal","vertical"]),style:i.object,value:i.number.isRequired,onChange:i.func,onFocus:i.func};var Tt={value:0};Nt.defaultProps=Tt,Nt.displayName="KendoStepper";var Pt=o.forwardRef((function(e,t){Object(a.r)(g);var n=e.children,r=e.className,i=e.style,s=e.id,l=o.useRef(null),c=o.useCallback((function(){l.current&&Object(a.g)(l.current)}),[]),u=o.useCallback((function(){return{element:l.current,focus:c}}),[c]);o.useImperativeHandle(t,u);var p=o.useMemo((function(){return Object(a.k)()}),[]),d=o.useMemo((function(){return e.themeColor||Dt.themeColor}),[e.themeColor]),f=o.useMemo((function(){return e.position||Dt.position}),[e.position]),h=o.useMemo((function(){return e.positionMode||Dt.positionMode}),[e.positionMode]),m=o.useMemo((function(){return Object(a.d)("k-appbar",{"k-appbar-top":"top"===f,"k-appbar-bottom":"bottom"===f,"k-appbar-static":"static"===h,"k-appbar-sticky":"sticky"===h,"k-appbar-fixed":"fixed"===h,"k-appbar-light":"light"===d,"k-appbar-dark":"dark"===d,"k-appbar-inherit":"inherit"===d},r)}),[f,h,d,r]);return o.createElement("div",{className:m,style:i,id:s||p},n)}));Pt.propTypes={children:i.any,className:i.string,style:i.object,id:i.string,themeColor:i.string,position:i.oneOf(["top","bottom"]),positionMode:i.oneOf(["static","sticky","fixed"])};var Dt={themeColor:"light",position:"top",positionMode:"static"};Pt.displayName="KendoAppBar";var Mt=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.style,s=o.useRef(null),l=o.useCallback((function(){s.current&&Object(a.g)(s.current)}),[]),c=o.useCallback((function(){return{element:s.current,focus:l}}),[l]);o.useImperativeHandle(t,c);var u=o.useMemo((function(){return Object(a.d)("k-appbar-section",r)}),[r]);return o.createElement("div",{className:u,style:i},n)}));Mt.propTypes={children:i.any,className:i.string,style:i.object},Mt.displayName="KendoAppBarSection";var jt=o.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.style,s=o.useRef(null),l=o.useCallback((function(){s.current&&Object(a.g)(s.current)}),[]),c=o.useCallback((function(){return{element:s.current,focus:l}}),[l]);o.useImperativeHandle(t,c);var u=o.useMemo((function(){return Object(a.d)("k-appbar-spacer",{"k-appbar-spacer-sized":i&&i.width&&null!==i.width},r)}),[r,i]),p=o.useMemo((function(){return{flexBasis:i&&i.width?i.width:void 0}}),[i]);return o.createElement("span",{className:u,style:p},n)}));jt.propTypes={children:i.any,className:i.string,style:i.object},jt.displayName="KendoAppBarSpacer";var Rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ft=function(e){return o.createElement(a.a,{onPress:e.onPress,onDrag:function(t){e.onResize(t.event,!1,e.d)},onRelease:function(t){e.onResize(t.event,!0,e.d)}},o.createElement("div",{className:"k-resize-handle k-cursor-"+e.d+"-resize",style:At({bottom:0,right:0},e.style)}))},Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleResize=function(e,n,r){e.originalEvent.preventDefault(),t.props.onResize(e,{end:n,direction:r})},t}return Rt(t,e),t.prototype.render=function(){var e=this.props,t=e.resizable,n=e.onPress,r=e.rtl;return t?o.createElement(o.Fragment,null,"vertical"!==t&&o.createElement(Ft,{onPress:n,onResize:this.handleResize,d:"ew",style:r?{top:0,width:9,left:0,right:""}:{top:0,width:9,right:0,left:""}}),"horizontal"!==t&&o.createElement(Ft,{onPress:n,onResize:this.handleResize,d:"ns",style:{left:0,height:9}}),!0===t&&o.createElement(Ft,{onPress:n,onResize:this.handleResize,d:r?"nesw":"nwse",style:r?{width:9,height:9,right:"",left:0}:{width:9,height:9,right:0,left:""}})):null},t}(o.Component),Bt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=function(){return(zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={rtl:!1},t.oldSize={},t.draggable=null,t.dragging=!1,t.resizing=!1,t.element=null,t.ignoreDrag=!1,t.pressOffset={x:0,y:0},t.pressXY={x:0,y:0},t.currentTranslate={x:0,y:0},t.preventDataOps=void 0,t.handleResize=function(e,n){if(n.end)t.handleRelease();else if(t.element){var r=e.clientX,o=e.clientY;t.resizing=!0;var i=("ns"!==n.direction?r-t.pressXY.x:0)*(t.state.rtl?-1:1),a="ew"!==n.direction?o-t.pressXY.y:0;if(t.dragElement&&(t.state.rtl?t.dragElement.style.marginLeft=-i+"px":t.dragElement.style.marginRight=-i+"px",t.dragElement.style.height="calc(100% + "+a+"px)"),t.element.classList.add("k-layout-item-hint","k-layout-item-hint-resize"),!t.preventDataOps){var s=0,l=0,c=t.element.getBoundingClientRect();i>c.width/t.props.defaultPosition.colSpan/3&&(s=1),i<-c.width/t.props.defaultPosition.colSpan/1.25&&(s=-1),a>c.height/t.props.defaultPosition.rowSpan/3&&(l=1),a<-c.height/t.props.defaultPosition.rowSpan/1.25&&(l=-1),0===s&&0===l||t.props.update(t.props.index,0,0,l,s)}}},t.handlePress=function(e){if(t.reorderable&&t.dragElement)if(t.ignoreDrag=!1,t.props.ignoreDrag&&t.props.ignoreDrag(e.event.originalEvent))t.ignoreDrag=!0;else{t.element&&(t.element.style.zIndex="10",t.element.classList.add("k-layout-item-hint")),t.dragElement.classList.remove("k-cursor-grab"),t.dragElement.classList.add("k-cursor-grabbing");var n=t.dragElement.getBoundingClientRect();t.pressXY={x:e.event.clientX,y:e.event.clientY},t.pressOffset={x:e.event.clientX-n.x,y:e.event.clientY-n.y}}},t.handleDrag=function(e){if(t.reorderable&&!t.ignoreDrag){var n=t.dragElement;if(!e.event.originalEvent.defaultPrevented&&n){t.dragging=!0,e.event.originalEvent.preventDefault();var r=n.getBoundingClientRect();if(t.currentTranslate={x:e.event.clientX-r.x-t.pressOffset.x+t.currentTranslate.x,y:e.event.clientY-r.y-t.pressOffset.y+t.currentTranslate.y},n.style.transform="translate("+t.currentTranslate.x+"px, "+t.currentTranslate.y+"px)",n.style.transition="transform 0s",!t.preventDataOps){var o=0,i=0;t.currentTranslate.y>.7*r.height/t.props.defaultPosition.rowSpan&&(i=1),t.currentTranslate.y<.7*-r.height/t.props.defaultPosition.rowSpan&&(i=-1),t.currentTranslate.x>.7*r.width/t.props.defaultPosition.colSpan&&(o=1),t.currentTranslate.x<.7*-r.width/t.props.defaultPosition.colSpan&&(o=-1),t.props.update(t.props.index,i,t.state.rtl?-o:o,0,0)}}}},t.handleRelease=function(){if(t.reorderable){t.dragging=t.resizing=!1,t.currentTranslate={x:0,y:0},t.element&&(t.element.style.zIndex="1",t.element.classList.remove("k-layout-item-hint","k-layout-item-hint-resize"));var e=t.dragElement;e&&(e.style.transform="translate(0px, 0px)",e.style.transition="transform 200ms cubic-bezier(0.2, 0, 0, 1) 0s",e.style.marginRight="0px",e.style.marginLeft="0px",e.style.height="100%",e.classList.remove("k-cursor-grabbing"),e.classList.add("k-cursor-grab"))}},t}return Bt(t,e),Object.defineProperty(t.prototype,"reorderable",{get:function(){return void 0!==this.props.reorderable?this.props.reorderable:t.defaultProps.reorderable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragElement",{get:function(){return this.draggable?this.draggable.element:void 0},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.element&&"rtl"===getComputedStyle(this.element).direction&&this.setState({rtl:!0})},t.prototype.render=function(){var e=this;clearTimeout&&"function"==typeof clearTimeout&&(clearTimeout(this.preventDataOps),this.preventDataOps=window.setTimeout((function(){e.preventDataOps=void 0}),200));var n=this.props.defaultPosition,r=void 0!==this.props.resizable?this.props.resizable:t.defaultProps.resizable,i=zt({gridColumnStart:n.col,gridColumnEnd:"span "+n.colSpan,gridRowStart:n.row,gridRowEnd:"span "+n.rowSpan,outline:"none",order:n.order},this.props.hintStyle),s=o.createElement("div",{ref:function(t){e.draggable=t?{element:t}:null},className:Object(a.d)("k-tilelayout-item k-card",{"k-cursor-grab":this.reorderable},this.props.className),style:zt({height:"100%"},this.props.style)},this.props.children,o.createElement(Lt,{onPress:this.handlePress,onResize:this.handleResize,resizable:r,rtl:this.state.rtl}));return o.createElement("div",{ref:function(t){e.element=t},style:i,className:this.props.hintClassName},o.createElement(a.a,{ref:function(t){e.draggable=t},onDrag:this.handleDrag,onRelease:this.handleRelease,onPress:this.handlePress},s))},t.prototype.getSnapshotBeforeUpdate=function(e){return this.oldSize={},this.dragElement&&(this.oldSize=this.dragElement.getBoundingClientRect()),null},t.prototype.componentDidUpdate=function(e){var t=this,n=this.dragElement;if(n){var r=n.getBoundingClientRect(),o=this.oldSize;if(this.resizing){var i=r.width-o.width;if(this.state.rtl){var a=parseFloat(n.style.marginLeft||"0");n.style.marginLeft=a-i+"px"}else{a=parseFloat(n.style.marginRight||"0");n.style.marginRight=a+i+"px"}this.pressXY.x+=this.state.rtl?-i:i;var s=r.height-o.height,l=parseFloat(n.style.height.substring(12));n.style.height="calc(100% + "+(l+s)+"px)",this.pressXY.y+=s}var c=o.left-r.left,u=o.top-r.top;0===c&&0===u||(this.dragging?e.defaultPosition.order===this.props.defaultPosition.order&&e.defaultPosition.col===this.props.defaultPosition.col||(this.currentTranslate.x=0,this.currentTranslate.y=0,n.style.transform=""):Math.abs(u)<15&&Math.abs(c)<15||requestAnimationFrame((function(){var e=t.element;e&&(e.style.transform="translate("+c+"px, "+u+"px)",e.style.transition="transform 0s",requestAnimationFrame((function(){e.style.transform="",e.style.transition="transform 200ms cubic-bezier(0.2, 0, 0, 1) 0s"})))})))}},t.propTypes={defaultPosition:i.object.isRequired,style:i.object,className:i.string,hintStyle:i.object,hintClassName:i.string,header:i.any,body:i.any,item:i.any,resizable:i.oneOf(["horizontal","vertical",!0,!1]),reorderable:i.bool},t.displayName="KendoTileLayoutItem",t.defaultProps={resizable:!0,reorderable:!0},t}(o.Component),Ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kt=function(){return(Kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wt={column:"k-grid-flow-col",row:"k-grid-flow-row","column dense":"k-grid-flow-col-dense","row dense":"k-grid-flow-row-dense",unset:"k-grid-flow-unset"},$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._element=null,t.state={positions:(t.props.items||[]).map((function(e,t){return Object.assign({order:t,rowSpan:1,colSpan:1},e.defaultPosition)}))},t.focus=function(){t._element&&t._element.focus()},t.update=function(e,n,r,o,i){if(void 0===o&&(o=0),void 0===i&&(i=0),0!==n||0!==r||i||o){var s=!1,l=t.state.positions.map((function(e){return Object.assign({},e)})),c=l[e],u=l.find((function(e){return e.order===c.order+n}));u&&u!==c&&(c.order+=n,u.order+=-n,s=!0);var p=c.col+r;0!==r&&p>=1&&p+c.colSpan<=(t.props.columns||3)+1&&(c.col=p,s=!0);var d=c.colSpan+i;i&&d>=1&&d+c.col<=(t.props.columns||3)+1&&(c.colSpan=d,s=!0);var f=c.rowSpan+o;o&&f>=1&&(c.rowSpan=f,s=!0),s&&(t.setState({positions:l}),Object(a.e)(t.props.onReposition,{},t,{value:l}))}},t}return Ht(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t.getDerivedStateFromProps=function(e,t){return e.positions?{positions:e.positions.map((function(e,t){return Object.assign({order:t,rowSpan:1,colSpan:1},e)}))}:!e.items||t.positions&&e.items.length===t.positions.length?null:{positions:e.items.map((function(e,t){return Object.assign({order:t,rowSpan:1,colSpan:1},e.defaultPosition)}))}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.columns,i=void 0===r?3:r,s=t.columnWidth,l=void 0===s?"1fr":s,c=t.gap,u=t.rowHeight,p=void 0===u?"1fr":u,d=t.style,f=t.autoFlow,h=void 0===f?"column":f,m=t.items,v=void 0===m?[]:m,g=c?("number"==typeof c.rows?c.rows+"px":c.rows)+" "+("number"==typeof c.columns?c.columns+"px":c.columns):16,y=Kt({gridTemplateColumns:"repeat("+i+", minmax(0px, "+("number"==typeof l?l+"px":l)+"))",gridAutoRows:"minmax(0px, "+("number"==typeof p?p+"px":p)+")",gap:g,padding:g},d);return o.createElement("div",{ref:function(t){e._element=t},dir:this.props.dir,className:Object(a.d)("k-tilelayout",Wt[h],n),style:y,id:this.props.id,children:v.map((function(t,n){return o.createElement(Vt,{key:n,update:e.update,defaultPosition:e.state.positions[n],index:n,resizable:t.resizable,reorderable:t.reorderable,style:t.style,className:t.className,hintClassName:t.hintClassName,hintStyle:t.hintStyle,ignoreDrag:e.props.ignoreDrag},t.item?t.item:o.createElement(o.Fragment,null,o.createElement("div",{className:"k-tilelayout-item-header k-card-header"},o.isValidElement(t.header)?t.header:o.createElement("h5",{className:"k-card-title"},t.header)),o.createElement("div",{className:"k-tilelayout-item-body k-card-body"},t.body)))}))})},t.propTypes={id:i.string,style:i.object,className:i.string,dir:i.string,gap:i.object,columns:i.number,columnWidth:i.oneOfType([i.number,i.string]),rowHeight:i.oneOfType([i.number,i.string]),items:i.array,positions:i.array,autoFlow:i.oneOf(["column","row","column dense","row dense","unset"]),onReposition:i.func,ignoreDrag:i.func},t.displayName="KendoTileLayout",t}(o.Component),qt={primary:"k-bottom-nav-primary",secondary:"k-bottom-nav-secondary",tertiary:"k-bottom-nav-tertiary",info:"k-bottom-nav-info",success:"k-bottom-nav-success",warning:"k-bottom-nav-warning",error:"k-bottom-nav-error",dark:"k-bottom-nav-dark",light:"k-bottom-nav-light",inverse:"k-bottom-nav-inverse"},Ut={flat:"k-bottom-nav-flat",solid:"k-bottom-nav-solid"},Gt={vertical:"k-bottom-nav-item-flow-vertical",horizontal:"k-bottom-nav-item-flow-horizontal"},Jt={fixed:"k-pos-fixed",sticky:"k-pos-sticky"},Xt=o.forwardRef((function(e,t){Object(a.r)(g);var n=o.useRef(null);o.useImperativeHandle(t,(function(){return{element:n.current}}));var r=e.className,i=e.style,s=e.selected,l=e.disabled,c=e.item,u=e.render,p=e.dataItem,d=e.icon,f=e.text,h=e.id,m=e.onSelect,v=e.onKeyDown,y=e.index,b=e.tabIndex,k=o.useMemo((function(){return Object(a.d)("k-bottom-nav-item",{"k-state-selected":s,"k-state-disabled":l},r)}),[s,l,r]),w=o.useCallback((function(e){m&&void 0!==y&&!l&&m(e,y)}),[m,y,l]),O=o.useCallback((function(e){v&&void 0!==y&&!l&&v(e,y)}),[v,y,l]),C=u,x=c,S=o.createElement("span",{ref:n,className:k,style:i,role:"link",id:h,tabIndex:b,onClick:w,onKeyDown:O,"aria-selected":s,"aria-disabled":l},x?o.createElement(x,{itemIndex:y,item:p}):o.createElement(o.Fragment,null,d&&o.createElement("span",{className:"k-bottom-nav-item-icon k-icon k-i-"+d}),f&&o.createElement("span",{className:"k-bottom-nav-item-text",style:{userSelect:"none"}},f)));return void 0!==C?C.call(void 0,S,e):S}));Xt.propTypes={className:i.string,style:i.object,id:i.string,disabled:i.bool,selected:i.bool,icon:i.string,text:i.string,tabIndex:i.number},Xt.defaultProps={tabIndex:0},Xt.displayName="KendoReactBottomNavigationItem";var Yt=function(){return(Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Zt=o.forwardRef((function(e,t){Object(a.r)(g);var n=o.useRef(null),r=o.useCallback((function(){n.current&&Object(a.g)(n.current)}),[]),i=o.useCallback((function(){return{element:n.current,focus:r}}),[r]);o.useImperativeHandle(t,i);var s=e.themeColor,l=void 0===s?Qt.themeColor:s,c=e.fill,u=void 0===c?Qt.fill:c,p=e.positionMode,d=void 0===p?Qt.positionMode:p,f=e.itemFlow,h=void 0===f?Qt.itemFlow:f,m=e.border,v=void 0===m?Qt.border:m,y=e.className,b=e.items,k=e.item,w=e.itemRender,O=e.disabled,C=e.style,x=e.id,S=e.onSelect,E=e.onKeyDown,I=o.useMemo((function(){return Object(a.k)()}),[]),_=Object(a.o)(n,e.dir),N=o.useMemo((function(){return Object(a.d)("k-bottom-nav",Jt[d],qt[l],Ut[u],Gt[h],{"k-bottom-nav-border":v,"k-state-disabled":O},y)}),[d,l,u,h,v,O,y]),T=o.useCallback((function(e,t){b&&!b[t].disabled&&S&&Object(a.e)(S,e,i(),{itemTarget:b[t],itemIndex:t})}),[b,S]),P=o.useCallback((function(e,t){T(e,t)}),[T]),D=o.useCallback((function(e,t){switch(e.keyCode){case a.b.enter:case a.b.space:T(e,t),e.preventDefault()}Object(a.e)(E,e,i(),void 0)}),[T,E]);return o.createElement("nav",{ref:n,className:N,style:C,id:x||I,dir:_},b&&b.map((function(e,t){return o.createElement(Xt,Yt({},e,{key:t,index:t,id:(x||I)+"-"+t,disabled:O||e.disabled,selected:e.selected,dataItem:e,item:k,render:w,onSelect:P,onKeyDown:D}))})))})),Qt={themeColor:"primary",fill:"flat",itemFlow:"vertical",positionMode:"fixed",border:!0};Zt.propTypes={className:i.string,style:i.object,id:i.string,dir:i.string,themeColor:i.oneOf(["primary","secondary","tertiary","info","success","warning","error","dark","light","inverse"]),fill:i.oneOf(["solid","flat"]),itemFlow:i.oneOf(["vertical","horizontal"]),border:i.bool,disabled:i.bool,selected:i.number,onSelect:i.func},Zt.defaultProps=Qt,Zt.displayName="KendoReactBottomNavigation";var en=n(12),tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},nn=o.forwardRef((function(e,t){Object(en.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(t,r);var i=e.className,s=e.style,l=e.id,c=e.children,u=o.useMemo((function(){return Object(a.k)()}),[]),p=o.useMemo((function(){return e.orientation||rn.orientation}),[e.orientation]),d="horizontal"===p,f=o.useMemo((function(){return e.align&&e.align.horizontal?e.align.horizontal:rn.hAlign}),[e.align]),h=o.useMemo((function(){return e.align&&e.align.vertical?e.align.vertical:rn.vAlign}),[e.align]),m=o.useMemo((function(){return Object(a.d)("k-stack-layout",{"k-hstack":"horizontal"===p,"k-vstack":"vertical"===p,"k-justify-content-start":d&&"start"===f||!d&&"top"===h,"k-justify-content-center":d&&"center"===f||!d&&"middle"===h,"k-justify-content-end":d&&"end"===f||!d&&"bottom"===h,"k-justify-content-stretch":d&&"stretch"===f||!d&&"stretch"===h,"k-align-items-start":!d&&"start"===f||d&&"top"===h,"k-align-items-center":!d&&"center"===f||d&&"middle"===h,"k-align-items-end":!d&&"end"===f||d&&"bottom"===h,"k-align-items-stretch":!d&&"stretch"===f||d&&"stretch"===h},i)}),[p,d,f,h,i]),v=tn({gap:""+("number"==typeof e.gap?e.gap+"px":e.gap)},s);return o.createElement("div",{ref:n,className:m,style:v,id:l||u},c)})),rn={orientation:"horizontal",hAlign:"stretch",vAlign:"stretch"};nn.propTypes={className:i.string,style:i.object,children:i.any,id:i.string,orientation:i.oneOf(["horizontal","vertical"]),gap:i.oneOfType([i.string,i.number]),align:i.shape({vertical:i.oneOf(["top","middle","bottom","stretch"]),horizontal:i.oneOf(["start","center","end","stretch"])})},nn.defaultProps=rn,nn.displayName="KendoReactStackLayout";var on=function(){return(on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},an=o.forwardRef((function(e,t){Object(en.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(t,r);var i=e.className,s=e.style,l=e.id,c=e.children,u=e.gap,p=o.useMemo((function(){return Object(a.k)()}),[]),d=o.useMemo((function(){return e.align&&e.align.horizontal?e.align.horizontal:sn.hAlign}),[e.align]),f=o.useMemo((function(){return e.align&&e.align.vertical?e.align.vertical:sn.vAlign}),[e.align]),h=o.useMemo((function(){return Object(a.d)("k-grid-layout",{"k-justify-items-start":"start"===d,"k-justify-items-center":"center"===d,"k-justify-items-end":"end"===d,"k-justify-items-stretch":"stretch"===d,"k-align-items-start":"top"===f,"k-align-items-center":"middle"===f,"k-align-items-end":"bottom"===f,"k-align-items-stretch":"stretch"===f},i)}),[d,f,i]),m=u?("number"==typeof u.rows?u.rows+"px":u.rows)+" "+("number"==typeof u.cols?u.cols+"px":u.cols):void 0,v=e.rows&&e.rows.map((function(e){return""+("number"==typeof e.height?e.height+"px":e.height)})).join(" "),y=e.cols&&e.cols.map((function(e){return""+("number"==typeof e.width?e.width+"px":e.width)})).join(" "),b=on({gap:m,gridTemplateColumns:y,gridTemplateRows:v},s);return o.createElement("div",{ref:n,className:h,style:b,id:l||p},c)})),sn={hAlign:"stretch",vAlign:"stretch",gap:void 0};an.propTypes={className:i.string,style:i.object,children:i.any,id:i.string,gap:i.shape({rows:i.oneOfType([i.string,i.number]),columns:i.oneOfType([i.string,i.number])}),align:i.shape({vertical:i.oneOf(["top","middle","bottom","stretch"]),horizontal:i.oneOf(["start","center","end","stretch"])})},an.defaultProps=sn,an.displayName="KendoReactGridLayout";var ln=function(){return(ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cn=o.forwardRef((function(e,t){Object(en.validatePackage)(g);var n=o.useRef(null),r=o.useCallback((function(){return{element:n.current}}),[]);o.useImperativeHandle(t,r);var i=e.className,s=e.style,l=e.id,c=e.children,u=e.row,p=e.col,d=e.rowSpan,f=e.colSpan,h=o.useMemo((function(){return Object(a.k)()}),[]),m=ln({gridArea:(u||"auto")+" / "+(p||"auto")+" / "+(d?"span "+d:"auto")+" / "+(f?"span "+f:"auto")},s);return o.createElement("div",{ref:n,className:i,style:m,id:l||h},c)}));cn.propTypes={className:i.string,style:i.object,children:i.any,id:i.string},cn.displayName="KendoReactGridLayoutItem"},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorGradient",(function(){return A})),n.d(t,"DEFAULT_TILE_SIZE",(function(){return z})),n.d(t,"DEFAULT_COLUMNS_COUNT",(function(){return V})),n.d(t,"DEFAULT_PRESET",(function(){return H})),n.d(t,"ColorPalette",(function(){return K})),n.d(t,"ColorPicker",(function(){return X})),n.d(t,"Input",(function(){return ne})),n.d(t,"MaskedTextBox",(function(){return ge})),n.d(t,"NumericTextBox",(function(){return ze})),n.d(t,"Slider",(function(){return qe})),n.d(t,"SLIDER_LABEL_ATTRIBUTE",(function(){return He})),n.d(t,"SliderLabel",(function(){return Ke})),n.d(t,"RangeSlider",(function(){return Ye})),n.d(t,"Switch",(function(){return nt})),n.d(t,"Checkbox",(function(){return it})),n.d(t,"RadioGroup",(function(){return ut})),n.d(t,"RadioButton",(function(){return lt})),n.d(t,"TextArea",(function(){return ht})),n.d(t,"Rating",(function(){return St})),n.d(t,"RatingItem",(function(){return mt}));var r=n(1),o=n(0),i=n(2),a={name:"@progress/kendo-react-inputs",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477688,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},s=function(e){return null!=e},l=function(e,t,n){return!s(e)||isNaN(e)||e<=t?t:e>=n?n:e},c=n(11),u=function(e,t,n){void 0===n&&(n=!0);if(-1===["hex","rgba"].indexOf(t))throw new Error("Unsupported color output format '"+t+"'. The available options are 'hex' or 'rgba'.");if(s(e)){var r=Object(c.parseColor)(e.trim(),n);if(s(r))return"hex"===t?r.toCss():r.toCssRgba()}},p=function(e,t){void 0===t&&(t=!0);var n=Object(c.parseColor)(e,t);return s(n)?n.toHSV():{}},d=function(e,t){void 0===t&&(t=!0);var n=Object(c.parseColor)(e,t);return s(n)?n.toBytes():{}},f=function(e){var t=l(e.h,0,359.9),n=l(e.s,0,1),r=l(e.v,0,1),o=l(e.a,0,1);return c.Color.fromHSV(t,n,r,o).toCssRgba()},h=function(e){return f({h:e,s:1,v:1,a:1})},m=function(e,t){var n=l(e.r,0,255),r=l(e.g,0,255),o=l(e.b,0,255),i=l(e.a,0,1),a=l(t.r,0,255),s=l(t.g,0,255),c=l(t.b,0,255);return{r:Math.round((1-i)*a+i*n),g:Math.round((1-i)*s+i*r),b:Math.round((1-i)*c+i*o)}},v=function(e){var t=[e.r,e.g,e.b].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*t[0]+.7152*t[1]+.0722*t[2]},g=function(e,t){return n=v(m(e,t)),r=v(m(t,{r:0,g:0,b:0,a:1})),(Math.max(n,r)+.05)/(Math.min(n,r)+.05);var n,r},y={};var b,k,w=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t=e.target.value,r=u(t,"rgba");n.setState({hex:t}),s(r)&&n.props.onHexChange(t,r,e)},n.onBlur=function(){s(u(n.state.hex,"rgba"))||n.setState({hex:n.state.originalHex})},n.state={hex:n.props.hex,originalHex:n.props.hex},n}return w(t,e),t.prototype.render=function(){return r.createElement("input",{value:this.state.hex,className:"k-textbox k-hex-value",onChange:this.onChange,onBlur:this.onBlur,disabled:this.props.disabled})},t.getDerivedStateFromProps=function(e,t){return e.hex!==t.originalHex?{hex:e.hex,originalHex:e.hex}:null},t}(r.Component),C=n(3),x=((k={})["numerictextbox.increment"]="Increase value",k["numerictextbox.decrement"]="Decrease value",k["slider.increment"]="Increase",k["slider.decrement"]="Decrease",k["slider.dragTitle"]="Drag",k["colorGradient.r"]="r",k["colorGradient.g"]="g",k["colorGradient.b"]="b",k["colorGradient.a"]="a",k["colorGradient.hex"]="hex",k["colorGradient.contrastRatio"]="Contrast ratio",k["colorGradient.colorGradientAALevel"]="AA",k["colorGradient.colorGradientAAALevel"]="AAA",k["colorGradient.colorGradientPass"]="Pass",k["colorGradient.colorGradientFail"]="Fail",k["checkbox.validation"]="Please check this box if you want to proceed!",k["checkbox.optionalText"]="(Optional)",k["radioButton.validation"]="Please select option if you want to proceed!",k["switch.validation"]="Please turn on if you want to proceed!",k),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRgbaRChange=function(e){t.dispatchRgbaChange({r:e.value},e)},t.onRgbaGChange=function(e){t.dispatchRgbaChange({g:e.value},e)},t.onRgbaBChange=function(e){t.dispatchRgbaChange({b:e.value},e)},t.onRgbaAChange=function(e){t.dispatchRgbaChange({a:e.value},e)},t}return S(t,e),t.prototype.render=function(){var e=Object(C.provideLocalizationService)(this),t=e.toLanguageString("colorGradient.r",x["colorGradient.hex"]),n=e.toLanguageString("colorGradient.r",x["colorGradient.r"]),o=e.toLanguageString("colorGradient.r",x["colorGradient.g"]),i=e.toLanguageString("colorGradient.r",x["colorGradient.b"]),a=e.toLanguageString("colorGradient.r",x["colorGradient.a"]);return r.createElement("div",{className:"k-colorinputs"},r.createElement("div",{className:"k-hbox k-gradient-values"},r.createElement(O,{hex:this.props.hex,onHexChange:this.props.onHexChange,disabled:this.props.disabled}),r.createElement(ze,{value:this.props.rgba.r,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaRChange,disabled:this.props.disabled}),r.createElement(ze,{value:this.props.rgba.g,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaGChange,disabled:this.props.disabled}),r.createElement(ze,{value:this.props.rgba.b,min:0,max:255,spinners:!1,format:"n",onChange:this.onRgbaBChange,disabled:this.props.disabled}),this.props.opacity&&r.createElement(ze,{value:this.props.rgba.a,min:0,max:1,step:.01,spinners:!1,format:"n2",onChange:this.onRgbaAChange,disabled:this.props.disabled})),r.createElement("div",{className:"k-hbox k-gradient-values"},r.createElement("div",{className:"k-hex-value"},t),r.createElement("div",null,n),r.createElement("div",null,o),r.createElement("div",null,i),this.props.opacity&&r.createElement("div",null,a)))},t.prototype.dispatchRgbaChange=function(e,t){var n=E({},this.props.rgba);void 0!==e.r&&(n.r=e.r),void 0!==e.g&&(n.g=e.g),void 0!==e.b&&(n.b=e.b),void 0!==e.a&&(n.a=e.a),this.props.onRgbaChange(n,t)},t}(r.Component),_=I;Object(C.registerForIntl)(I),Object(C.registerForLocalization)(I);var N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.render=function(){var e=Object(C.provideLocalizationService)(this),t=e.toLanguageString("colorGradient.contrastRatio",x["colorGradient.contrastRatio"]),n=e.toLanguageString("colorGradient.colorGradientAALevel",x["colorGradient.colorGradientAALevel"]),o=e.toLanguageString("colorGradient.colorGradientAAALevel",x["colorGradient.colorGradientAAALevel"]),i=e.toLanguageString("colorGradient.colorGradientPass",x["colorGradient.colorGradientPass"]),a=e.toLanguageString("colorGradient.colorGradientFail",x["colorGradient.colorGradientFail"]),s=g(this.props.rgba,this.props.bgColor),l=4.5.toFixed(1),c=7..toFixed(1),u=t+": "+s.toFixed(2),p=n+": "+l,d=o+": "+c,f=r.createElement("span",{className:"k-contrast-validation k-text-success"},i," ",r.createElement("span",{className:"k-icon k-i-check"})),h=r.createElement("span",{className:"k-contrast-validation k-text-error"},a," ",r.createElement("span",{className:"k-icon k-i-close"}));return r.createElement("div",{className:"k-vbox k-color-contrast"},r.createElement("span",{className:"k-separator"}),r.createElement("div",{className:"k-contrast-ratio"},r.createElement("span",{className:"k-contrast-ratio-text"},u),s>=4.5?r.createElement("span",{className:"k-contrast-validation k-text-success"},r.createElement("span",{className:"k-icon k-i-check"}),s>=7&&r.createElement("span",{className:"k-icon k-i-check"})):r.createElement("span",{className:"k-contrast-validation k-text-error"},r.createElement("span",{className:"k-icon k-i-close"}))),r.createElement("div",null,r.createElement("span",null,p),s>=4.5?f:h),r.createElement("div",null,r.createElement("span",null,d),s>=7?f:h))},t}(r.Component);Object(C.registerForLocalization)(T);var P=function(e,t){return 0===e.length?"":'<path d="'+e.reduce((function(e,n,r,o){return 0===r?"M "+n[0]+","+n[1]:e+" "+t(n,r,o)}),"")+'" fill="none" stroke="white" stroke-width="1"/>'},D=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}},M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.renderSvgCurveLine=function(){var e,t,n=this,r=this.props.metrics,o=function(e,t,i,a,s){var l=(i+a)/2,c=Object.assign({},n.props.hsva,{s:t/r.width,v:1-l/r.height}),u=g(d(f(c)),d(n.props.backgroundColor||""));return i+.5>a?u<e+1&&u>e-1?l:null:s(u,e)?o(e,t,i,a-(a-i)/2,s):o(e,t,i+(a-i)/2,a,s)},i=function(e,t,n){void 0===n&&(n=!1);for(var i=[],a=0;a<=r.width;a+=r.width/t){var s=o(e,a,0,r.height,n?function(e,t){return e<t}:function(e,t){return e>t});null!==s&&i.push([a,s])}return i},a=(t=D,e=function(e,n,r,o){var i=t(n||e,r||e),a=i.angle+(o?Math.PI:0),s=.1*i.length;return[e[0]+Math.cos(a)*s,e[1]+Math.sin(a)*s]},function(t,n,r){var o=e(r[n-1],r[n-2],t),i=o[0],a=o[1],s=e(t,r[n-1],r[n+1],!0);return"C "+i+","+a+" "+s[0]+","+s[1]+" "+t[0]+","+t[1]});return P(i(4.5,16),a)+P(i(4.5,16,!0),a)+P(i(7,16),a)+P(i(7,16,!0),a)},t.prototype.shouldComponentUpdate=function(e){return e.hsva.h!==this.props.hsva.h||e.hsva.a!==this.props.hsva.a||this.props.backgroundColor!==e.backgroundColor},t.prototype.render=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"k-color-contrast-svg",dangerouslySetInnerHTML:{__html:this.renderSvgCurveLine()},style:{position:"absolute",overflow:"visible",pointerEvents:"none",left:0,top:0,zIndex:3}})},t}(r.Component),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(e){function t(n){var r=e.call(this,n)||this;r.onHexChange=function(e,t,n){if(r.isUncontrolled){var o=p(t);r.setState({hsva:o,backgroundColor:h(o.h),rgba:d(t),hex:e})}else!function(e,t,n){y[e]={value:t,hex:n}}(r.state.guid,t,e);r.dispatchChangeEvent(t,n,n.nativeEvent)},r.onRgbaChange=function(e,t){var n=function(e){var t=l(e.r,0,255),n=l(e.g,0,255),r=l(e.b,0,255),o=l(e.a,0,1);return c.Color.fromBytes(t,n,r,o).toCssRgba()}(e);if(r.isUncontrolled){var o=p(n),i=u(n,"hex");r.setState({hsva:o,backgroundColor:h(o.h),rgba:e,hex:i})}else!function(e,t,n){y[e]={value:t,rgba:n}}(r.state.guid,n,e);r.dispatchChangeEvent(n,t.syntheticEvent,t.nativeEvent)},r.onAlphaSliderChange=function(e){r.handleHsvaChange(Object.assign({},r.state.hsva,{a:e.value/100}),e.syntheticEvent,e.nativeEvent)},r.onHueSliderChange=function(e){r.handleHsvaChange(Object.assign({},r.state.hsva,{h:e.value}),e.syntheticEvent,e.nativeEvent)},r.onDrag=function(e){r.gradientWrapper.classList.add("k-dragging"),r.changePosition(e.event)},r.onRelease=function(){r.gradientWrapper.classList.remove("k-dragging")},r.onGradientWrapperClick=function(e){r.changePosition(e)},r.changePosition=function(e){var t=r.getGradientRectMetrics(),n=e.clientX-t.left,o=e.clientY-t.top,i=l(n,0,t.width),a=l(o,0,t.height),s=Object.assign({},r.state.hsva,{s:i/t.width,v:1-a/t.height});r.handleHsvaChange(s,e,e.nativeEvent)},r.focus=function(){Object(i.g)(r.wrapper)},Object(i.r)(a);var o=n.value||n.defaultValue||u("rgba(255, 255, 255, 1)","rgba");return r.state=Object.assign({},t.getStateFromValue(o),{isFirstRender:!0,guid:Object(i.k)()}),r}return R(t,e),t.getDerivedStateFromProps=function(e,n){return e.value&&!n.isFirstRender?t.getStateFromValue(e.value,n.guid):null},t.prototype.componentDidMount=function(){this.setAlphaSliderBackground(this.state.backgroundColor),this.state.isFirstRender&&this.setState({isFirstRender:!1})},t.prototype.componentWillUnmount=function(){var e;e=this.state.guid,delete y[e]},t.prototype.componentDidUpdate=function(e,t){t.backgroundColor!==this.state.backgroundColor&&this.setAlphaSliderBackground(this.state.backgroundColor)},t.prototype.renderRectangleDragHandle=function(){var e={};if(!this.state.isFirstRender){var t=this.getGradientRectMetrics(),n=(1-this.state.hsva.v)*t.height,o=this.state.hsva.s*t.width;e.top=n+"px",e.left=o+"px"}return r.createElement("div",{className:"k-draghandle",style:e})},t.prototype.handleHsvaChange=function(e,t,n){var r=f(e);if(this.isUncontrolled){var o=u(r,"hex");this.setState({hsva:e,backgroundColor:h(e.h),rgba:d(r),hex:o})}else!function(e,t,n){y[e]={value:t,hsva:n}}(this.state.guid,r,e);this.dispatchChangeEvent(r,t,n)},t.prototype.dispatchChangeEvent=function(e,t,n){this.props.onChange&&this.props.onChange.call(void 0,{syntheticEvent:t,nativeEvent:n,target:this,value:e})},t.getStateFromValue=function(e,t){s(u(e,"hex"))||(e="rgba(255, 255, 255, 1)");var n=function(e,t){if(e){var n=y[e];return n&&n.value===t?n.hsva:void 0}}(t,e)||p(e),r=function(e,t){if(e){var n=y[e];return n&&n.value===t?n.rgba:void 0}}(t,e)||d(e),o=function(e,t){if(e){var n=y[e];return n&&n.value===t?n.hex:void 0}}(t,e)||u(e,"hex");return{hsva:n,backgroundColor:h(n.h),rgba:r,hex:o}},t.prototype.setAlphaSliderBackground=function(e){this.props.opacity&&this.alphaSlider&&this.alphaSlider.sliderTrack&&(this.alphaSlider.sliderTrack.style.background="linear-gradient(to top, transparent, "+e+")")},Object.defineProperty(t.prototype,"isUncontrolled",{get:function(){return void 0===this.props.value},enumerable:!0,configurable:!0}),t.prototype.getGradientRectMetrics=function(){return this.gradientWrapper.getBoundingClientRect()},t.prototype.render=function(){var e=this,t=Object(i.d)("k-widget k-flatcolorpicker",{"k-state-disabled":this.props.disabled});return r.createElement("div",{id:this.props.id,className:t,"aria-disabled":this.props.disabled?"true":void 0,style:this.props.style,ref:function(t){return e.wrapper=t},tabIndex:Object(i.i)(this.props.tabIndex,this.props.disabled),"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy},r.createElement("div",{className:"k-hbox k-hsv-wrap"},r.createElement("div",{className:"k-hsv-rectangle",style:{background:this.state.backgroundColor}},r.createElement(i.a,{onDrag:this.onDrag,onRelease:this.onRelease,ref:function(t){return e.gradientWrapper=t?t.element:void 0}},r.createElement("div",{className:"k-hsv-gradient",style:{touchAction:"none"},onClick:this.onGradientWrapperClick},this.renderRectangleDragHandle())),this.props.backgroundColor&&!this.state.isFirstRender&&r.createElement(j,{metrics:this.gradientWrapper?this.getGradientRectMetrics():void 0,hsva:this.state.hsva,backgroundColor:this.props.backgroundColor})),r.createElement("div",{className:"k-hbox k-sliders-wrap"},r.createElement(qe,{value:this.state.hsva.h,buttons:!1,vertical:!0,min:0,max:360,step:5,onChange:this.onHueSliderChange,className:"k-hue-slider",disabled:this.props.disabled}),this.props.opacity&&r.createElement(qe,{value:s(this.state.hsva.a)?100*this.state.hsva.a:100,buttons:!1,vertical:!0,min:0,max:100,step:1,onChange:this.onAlphaSliderChange,className:"k-alpha-slider",disabled:this.props.disabled,ref:function(t){return e.alphaSlider=t}}))),r.createElement(_,{rgba:this.state.rgba,onRgbaChange:this.onRgbaChange,hex:this.state.hex,onHexChange:this.onHexChange,opacity:this.props.opacity,disabled:this.props.disabled}),this.props.backgroundColor&&r.createElement(T,{bgColor:d(this.props.backgroundColor),rgba:this.state.rgba}))},t.propTypes={defaultValue:o.string,value:o.string,onChange:o.func,opacity:o.bool,backgroundColor:o.string,disabled:o.bool,style:o.any,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},t.defaultProps={opacity:!0},t}(r.Component),F=function(){function e(){this.colorRows=[]}return e.prototype.setColorMatrix=function(e,t){if(this.colorRows=[],s(e)&&e.length){t=t||e.length;for(var n=0;n<e.length;n+=t){var r=e.slice(n,t+n);this.colorRows.push(r)}}},e.prototype.getCellCoordsFor=function(e){var t=this;if(s(e)){var n=e?Object(c.parseColor)(e,!0):e,r=[e];s(n)&&r.push(n.toCss(),n.toCssRgba());for(var o=function(e){for(var n=function(n){if(r.some((function(r){return r===t.colorRows[e][n]})))return{value:{row:e,col:n}}},o=0;o<i.colorRows[e].length;o++){var a=n(o);if("object"==typeof a)return a}},i=this,a=0;a<this.colorRows.length;a++){var l=o(a);if("object"==typeof l)return l.value}}},e.prototype.getColorAt=function(e){if(s(e)&&s(this.colorRows[e.row]))return this.colorRows[e.row][e.col]},e.prototype.getNextCell=function(e,t,n){if(!(s(e)&&s(e.row)&&s(e.col)))return{row:0,col:0};var r=this.clampIndex(e.row+n,this.colorRows.length-1);return{row:r,col:this.clampIndex(e.col+t,this.colorRows[r].length-1)}},e.prototype.clampIndex=function(e,t){return e<0?0:e>t?t:e},e}(),L={basic:{colors:["#000000","#7f7f7f","#880015","#ed1c24","#ff7f27","#fff200","#22b14c","#00a2e8","#3f48cc","#a349a4"," ffffff","#c3c3c3","#b97a57","#ffaec9","#ffc90e","#efe4b0","#b5e61d","#99d9ea","#7092be","#c8bfe7"],columns:10},office:{colors:["#ffffff","#000000","#e6e6e6","#435569","#4371c4","#ed7e32","#a5a4a5","#febf04","#5a9bd5","#71ae48","#f2f2f3","#7f7f7f","#d1cece","#d5dde3","#dae1f4","#fce5d4","#deeded","#fff2cc","#deeaf6","#e1efd9","#d7d8d8","#585959","#aeabab","#adbaca","#b4c5e7","#f6caac","#dbdbdb","#ffe498","#bcd6ee","#c5e0b2","#bfbfc0","#3f3f3f","#767070","#8595b1","#8fabdb","#f5b183","#c9c8c9","#fed965","#9bc4e5","#a8d08d","#a5a5a6","#262625","#393939","#334050","#2e5496","#c45a11","#7b7b7a","#bf9000","#2f75b5","#548235","#7f7f7f","#0b0c0c","#161616","#222a34","#203764","#843d0b","#525252","#7f6000","#1d4d79","#375623"],columns:10},apex:{colors:["#ffffff","#000000","#c9c2d1","#69676d","#ceb966","#9cb084","#6bb1c9","#6585cf","#7e6bc9","#a379bb","#f2f2f2","#7f7f7f","#f4f2f5","#e0e0e2","#f5f1e0","#ebefe6","#e1eff4","#e0e6f5","#e5e1f4","#ece4f1","#d8d8d8","#595959","#e9e6ec","#c2c1c5","#ebe3c1","#d7dfcd","#c3dfe9","#c1ceeb","#cbc3e9","#dac9e3","#bfbfbf","#3f3f3f","#dedae3","#a4a3a8","#e1d5a3","#c3cfb5","#a6d0de","#a2b5e2","#b1a6de","#c7aed6","#a5a5a5","#262626","#9688a5","#4e4d51","#ae9638","#758c5a","#3d8da9","#365bb0","#533da9","#7d4d99","#7f7f7f","#0c0c0c","#635672","#343336","#746425","#4e5d3c","#295e70","#243c75","#372970","#533366"],columns:10},austin:{colors:["#ffffff","#000000","#caf278","#3e3d2d","#94c600","#71685a","#ff6700","#909465","#956b43","#fea022","#f2f2f2","#7f7f7f","#f4fce4","#dddcd0","#efffc0","#e3e1dc","#ffe0cb","#e8e9df","#ece1d6","#feecd2","#d8d8d8","#595959","#e9f9c9","#bbb9a1","#dfff82","#c8c3ba","#ffc299","#d2d4c0","#dac3ad","#fed9a6","#bfbfbf","#3f3f3f","#dff7ae","#ada598","#cfff43","#ada598","#ffa365","#bcbfa1","#c8a585","#fec67a","#a5a5a5","#262626","#a9ea25","#2e2d21","#6f9400","#544e43","#bf4d00","#6c6f4b","#6f5032","#d77b00","#7f7f7f","#0c0c0c","#74a50f","#1f1e16","#4a6300","#38342d","#7f3300","#484a32","#4a3521","#8f5200"],columns:10},clarity:{colors:["#ffffff","#292934","#f3f2dc","#d2533c","#93a299","#ad8f67","#726056","#4c5a6a","#808da0","#79463d","#f2f2f2","#e7e7ec","#e7e5b9","#f6dcd8","#e9ecea","#eee8e0","#e4dedb","#d8dde3","#e5e8ec","#e9d6d3","#d8d8d8","#c4c4d1","#d5d185","#edbab1","#d3d9d6","#ded2c2","#c9beb8","#b2bcc8","#ccd1d9","#d3aea7","#bfbfbf","#8a8aa3","#aca73b","#e4978a","#bec7c1","#cdbba3","#af9e94","#8c9bac","#b2bac6","#bd857c","#a5a5a5","#56566e","#56531d","#a43925","#6b7c72","#866b48","#554840","#39434f","#5c697b","#5a342d","#7f7f7f","#3b3b4b","#22210b","#6d2619","#47534c","#594730","#39302b","#262d35","#3d4652","#3c231e"],columns:10},slipstream:{colors:["#ffffff","#000000","#b4dcfa","#212745","#4e67c8","#5eccf3","#a7ea52","#5dceaf","#ff8021","#f14124","#f2f2f2","#7f7f7f","#8bc9f7","#c7cce4","#dbe0f4","#def4fc","#edfadc","#def5ef","#ffe5d2","#fcd9d3","#d8d8d8","#595959","#4facf3","#909aca","#b8c2e9","#beeafa","#dbf6b9","#beebdf","#ffcca6","#f9b3a7","#bfbfbf","#3f3f3f","#0d78c9","#5967af","#94a3de","#9ee0f7","#caf297","#9de1cf","#ffb279","#f68d7b","#a5a5a5","#262626","#063c64","#181d33","#31479f","#11b2eb","#81d319","#34ac8b","#d85c00","#c3260c","#7f7f7f","#0c0c0c","#021828","#101322","#202f6a","#0b769c","#568c11","#22725c","#903d00","#821908"],columns:10},metro:{colors:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],columns:10},flow:{colors:["#ffffff","#000000","#dbf5f9","#04617b","#0f6fc6","#009dd9","#0bd0d9","#10cf9b","#7cca62","#a5c249","#f2f2f2","#7f7f7f","#b2e9f2","#b4ecfc","#c7e2fa","#c4eeff","#c9fafc","#c9faed","#e4f4df","#edf2da","#d8d8d8","#595959","#76d9e8","#6adafa","#90c6f6","#89deff","#93f5f9","#94f6db","#cae9c0","#dbe6b6","#bfbfbf","#3f3f3f","#21b2c8","#20c8f7","#59a9f2","#4fceff","#5df0f6","#5ff2ca","#b0dfa0","#c9da91","#a5a5a5","#262626","#105964","#02485c","#0b5394","#0075a2","#089ca2","#0b9b74","#54a838","#7e9532","#7f7f7f","#0c0c0c","#062328","#01303d","#073763","#004e6c","#05686c","#07674d","#387025","#546321"],columns:10},hardcover:{colors:["#ffffff","#000000","#ece9c6","#895d1d","#873624","#d6862d","#d0be40","#877f6c","#972109","#aeb795","#f2f2f2","#7f7f7f","#e1dca5","#f2e0c6","#f0d0c9","#f6e6d5","#f5f2d8","#e7e5e1","#fbc7bc","#eef0e9","#d8d8d8","#595959","#d0c974","#e6c28d","#e2a293","#eeceaa","#ece5b2","#cfccc3","#f78f7a","#dee2d4","#bfbfbf","#3f3f3f","#a29a36","#daa454","#d4735e","#e6b681","#e2d88c","#b7b2a5","#f35838","#ced3bf","#a5a5a5","#262626","#514d1b","#664515","#65281a","#a2641f","#a39428","#655f50","#711806","#879464","#7f7f7f","#0c0c0c","#201e0a","#442e0e","#431b11","#6c4315","#6d621a","#433f35","#4b1004","#5a6243"],columns:10},trek:{colors:["#ffffff","#000000","#fbeec9","#4e3b30","#f0a22e","#a5644e","#b58b80","#c3986d","#a19574","#c17529","#f2f2f2","#7f7f7f","#f7e09e","#e1d6cf","#fcecd5","#eddfda","#f0e7e5","#f3eae1","#ece9e3","#f5e3d1","#d8d8d8","#595959","#f3cc5f","#c4ad9f","#f9d9ab","#dcc0b6","#e1d0cc","#e7d5c4","#d9d4c7","#ebc7a3","#bfbfbf","#3f3f3f","#d29f0f","#a78470","#f6c781","#cba092","#d2b9b2","#dbc1a7","#c6bfab","#e1ac76","#a5a5a5","#262626","#694f07","#3a2c24","#c87d0e","#7b4b3a","#926255","#a17242","#7b7153","#90571e","#7f7f7f","#0c0c0c","#2a1f03","#271d18","#855309","#523226","#614138","#6b4c2c","#524b37","#603a14"],columns:10},verve:{colors:["#ffffff","#000000","#d2d2d2","#666666","#ff388c","#e40059","#9c007f","#68007f","#005bd3","#00349e","#f2f2f2","#7f7f7f","#bdbdbd","#e0e0e0","#ffd7e8","#ffc6dc","#ffb8f1","#f1b2ff","#c3dcff","#b8cfff","#d8d8d8","#595959","#9d9d9d","#c1c1c1","#ffafd1","#ff8eba","#ff71e4","#e365ff","#87baff","#72a0ff","#bfbfbf","#3f3f3f","#696969","#a3a3a3","#ff87ba","#ff5597","#ff2ad7","#d519ff","#4b98ff","#2b71ff","#a5a5a5","#262626","#343434","#4c4c4c","#e90062","#ab0042","#75005f","#4e005f","#00449e","#002676","#7f7f7f","#0c0c0c","#151515","#333333","#9b0041","#72002c","#4e003f","#34003f","#002d69","#00194f"],columns:10},monochrome:{colors:["#000000","#1a1a1a","#333333","#4d4d4d","#666666","#808080","#999999","#b3b3b3","#cccccc","#e6e6e6","#f2f2f2","#ffffff"],columns:12}},B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=24,V=10,H="office",K=function(e){function t(t){var n=e.call(this,t)||this;return n.wrapper=null,n.guid=Object(i.k)(),n.focus=function(){n.wrapper&&n.wrapper.focus()},n.onKeyDown=function(e){switch(e.keyCode){case i.b.down:n.handleCellNavigation(0,1);break;case i.b.up:n.handleCellNavigation(0,-1);break;case i.b.right:n.handleCellNavigation(1,0);break;case i.b.left:n.handleCellNavigation(-1,0);break;case i.b.enter:n.handleEnter(e);break;default:return}e.preventDefault()},n.onColorClick=function(e,t){n.isUncontrolled?n.setState({selectedColor:e,focusedColor:e}):n.setState({focusedColor:e}),n.dispatchChangeEvent(e,t)},n.onFocus=function(){n.setState({focusedColor:n.state.selectedColor||n.paletteService.colorRows[0][0]})},n.onBlur=function(){n.setState({focusedColor:void 0})},Object(i.r)(a),n.state={selectedColor:void 0!==n.props.value?n.props.value:n.props.defaultValue,isFirstRender:!0},n}return B(t,e),t.prototype.render=function(){var e=this,t=this.getPaletteInfo(),n=this.paletteService=new F;n.setColorMatrix(t.colors,t.columns);var o=n.getCellCoordsFor(this.state.selectedColor),a=n.getCellCoordsFor(this.state.focusedColor),s=Object(i.d)("k-widget k-colorpalette",{"k-state-disabled":this.props.disabled});return t.colors.length?r.createElement("div",{id:this.props.id,className:s,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,"aria-disabled":this.props.disabled?"true":void 0,"aria-activedescendant":o&&this.createCellId(o),"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,tabIndex:Object(i.i)(this.props.tabIndex,this.props.disabled),ref:function(t){return e.wrapper=t}},r.createElement("div",{role:"grid"},r.createElement("table",{className:"k-palette k-reset",role:"presentation"},r.createElement("tbody",null,this.renderRows(n.colorRows,o,a))))):""},t.getDerivedStateFromProps=function(e,t){if(t.isFirstRender||void 0===e.value){if(t.isFirstRender)return{isFirstRender:!1}}else{if(""===e.value&&void 0!==t.selectedColor)return{selectedColor:void 0};if(""!==e.value&&e.value!==t.selectedColor)return{selectedColor:e.value}}return null},t.prototype.handleCellNavigation=function(e,t){if(this.focusedColorCooridanates){var n=this.paletteService.getNextCell(this.focusedColorCooridanates,e,t);this.setState({focusedColor:this.paletteService.getColorAt(n)})}else this.setState({focusedColor:this.paletteService.colorRows[0][0]})},t.prototype.handleEnter=function(e){this.isUncontrolled&&this.setState({selectedColor:this.state.focusedColor}),this.dispatchChangeEvent(this.state.focusedColor,e)},t.prototype.dispatchChangeEvent=function(e,t){Object(i.e)(this.props.onChange,t,this,{value:e,rgbaValue:u(e,"rgba")})},Object.defineProperty(t.prototype,"focusedColorCooridanates",{get:function(){return this.state.focusedColor?this.paletteService.getCellCoordsFor(this.state.focusedColor):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUncontrolled",{get:function(){return void 0===this.props.value},enumerable:!0,configurable:!0}),t.prototype.getPaletteInfo=function(){if("string"==typeof this.props.palette){var e=L[this.props.palette];return s(e)?{colors:e.colors,columns:this.props.columns||e.columns||V}:{colors:[],columns:0}}return{colors:this.props.palette||[],columns:this.props.columns||V}},t.prototype.renderRows=function(e,t,n){var o=this;return e.map((function(e,i){return r.createElement("tr",{role:"row",key:i},o.renderColumns(e,i,t,n))}))},t.prototype.renderColumns=function(e,t,n,o){var a=this,s=void 0!==n&&n.row===t,l=n&&n.col,c=void 0!==o&&o.row===t,u=o&&o.col,p="number"!=typeof this.props.tileSize?this.props.tileSize:{width:this.props.tileSize,height:this.props.tileSize},d=p.width+"px",f=p.height+"px";return e.map((function(e,n){var o=s&&l===n,p=Object(i.d)("k-item",{"k-state-selected":o,"k-state-focused":c&&u===n});return r.createElement("td",{className:p,"aria-label":e,"aria-selected":!!o||!!a.props.disabled&&void 0,style:{backgroundColor:e,width:d,height:f,minWidth:d},onClick:function(t){return a.onColorClick(e,t)},id:a.createCellId({row:t,col:n}),key:n})}))},t.prototype.createCellId=function(e){return this.guid+"_"+e.row+"_"+e.col},t.propTypes={palette:o.oneOfType([o.arrayOf(o.string),o.string]),columns:o.number,tileSize:o.any,defaultValue:o.string,value:o.string,disabled:o.bool,tabIndex:o.number,onChange:o.func,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},t.defaultProps={palette:H,tileSize:z},t}(r.Component),W=n(9),$=function(){return($=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=function(e){var t=e.popupSettings||{},n="rtl"===e.dir?"right":"left",o=r.useMemo((function(){return{horizontal:n,vertical:"bottom"}}),[n]),a=r.useMemo((function(){return{horizontal:n,vertical:"top"}}),[n]);return r.createElement(r.Fragment,null,e.input,e.button,r.createElement(W.Popup,$({style:$({},(t||{}).style,{direction:e.dir})},t,{anchor:e.popupAnchor,anchorAlign:o,popupAlign:a,show:e.open,onOpen:e.onOpen,onClose:e.onClose,className:Object(i.d)("k-reset",t.className)}),e.content))};q.displayName="KendoPickerComponent";var U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},G={palette:H,tileSize:z},J=function(e){return void 0!==e},X=r.forwardRef((function(e,t){Object(i.r)(a);var n=e.popupSettings,o=e.gradientSettings,s=e.paletteSettings,l=e.valid,c=e.disabled,u=e.tabIndex,p=e.view,d=e.icon,f=e.onChange,h=e.onFocus,m=e.onBlur,v=e.onActiveColorClick,g=r.useRef(null),y=r.useRef(null),b=r.useRef(null),k=r.useRef(),w=r.useRef(null),O=r.useCallback((function(){g.current&&g.current.focus()}),[]);r.useImperativeHandle(t,(function(){return{element:g.current,actionElement:w.current,focus:O}}));var C=r.useState(!1),x=C[0],S=C[1],E=r.useState(e.defaultValue),I=E[0],_=E[1],N=r.useState(!1),T=N[0],P=N[1],D=J(e.value),M=J(e.open),j=D?e.value:I,R=M?e.open:T,F=r.useCallback((function(e,t){M||(!e&&!t&&g&&g.current&&g.current.focus(),P(e))}),[M]),L=r.useCallback((function(e){var t=e.altKey,n=e.keyCode;if(n!==i.b.esc)return n!==i.b.enter||M?void(!t||n!==i.b.up&&n!==i.b.down||(e.preventDefault(),e.stopPropagation(),n===i.b.up&&g&&g.current&&(g.current.focus(),F(!1)),n===i.b.down&&F(!0))):(e.preventDefault(),e.stopPropagation(),void F(!R));F(!1)}),[R,M]),B=r.useCallback((function(){M||(y.current?y.current.focus():b.current&&b.current.focus())}),[M]),z=r.useCallback((function(){F(!R,!0)}),[R]),V=r.useCallback((function(e){v&&v.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:j})}),[v,j]),H=r.useCallback((function(e){k.current?(clearTimeout(k.current),k.current=void 0):S(!0),h&&h.call(void 0,{nativeEvent:e.nativeEvent,syntheticEvent:e})}),[h]),W=r.useCallback((function(){F(!1,!0),S(!1),k.current=void 0}),[]),$=r.useCallback((function(e){clearTimeout(k.current),k.current=window.setTimeout(W),m&&m.call(void 0,{nativeEvent:e.nativeEvent,syntheticEvent:e})}),[m]),G=r.useCallback((function(e,t){var n=t?e.rgbaValue:e.value;D||_(n),t&&F(!1),f&&f.call(void 0,{value:n,nativeEvent:e.nativeEvent,syntheticEvent:e.syntheticEvent})}),[D,f]),X=r.useCallback((function(e){return G(e,!0)}),[J,G]),Y=Object(i.o)(g,e.dir),Z=e.iconClassName||d&&"k-icon k-i-"+d,Q=Object(i.d)({"k-widget":!0,"k-colorpicker":!0,"k-state-invalid":!1===l}),ee=r.useMemo((function(){return Object(i.d)({"k-picker-wrap":!0,"k-state-disabled":c,"k-state-focused":x})}),[x,c]);return r.createElement("span",{className:Q,dir:Y},r.createElement("span",{id:e.id,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,className:ee,ref:g,tabIndex:Object(i.i)(u,c),title:e.title,onKeyDown:L,onFocus:H,onBlur:$},r.createElement(q,{dir:Y,open:R,onOpen:B,popupAnchor:g.current||void 0,popupSettings:U({},n),input:Z?r.createElement("span",{onClick:V,className:Object(i.d)("k-tool-icon",Z)},r.createElement("span",{className:"k-selected-color",style:{backgroundColor:j}})):r.createElement("span",{onClick:V,className:"k-selected-color",style:{backgroundColor:j}},!j&&r.createElement("span",{className:"k-icon k-i-line"})),button:r.createElement("span",{onClick:z,className:"k-select",ref:w},r.createElement("span",{className:"k-icon k-i-arrow-s"})),content:r.createElement(r.Fragment,null,("combo"===p||"gradient"===p)&&r.createElement(A,U({},o,{tabIndex:0,ref:y,value:j,onChange:G})),("combo"===p||"palette"===p)&&r.createElement(K,U({},s,{ref:b,value:j,onChange:X})))})))}));X.propTypes={value:o.string,defaultValue:o.string,disabled:o.bool,view:o.oneOf(["gradient","palette","combo"]),dir:o.string,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},X.defaultProps={view:"palette",gradientSettings:{opacity:!0},paletteSettings:G},X.displayName="KendoColorPicker";var Y,Z=n(8),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ne=function(e){function t(n){var r=e.call(this,n)||this;return r._inputId=Object(i.k)(),r.focus=function(){r._input&&r._input.focus()},r.isInvalid=function(e){var t=!1;for(var n in e)e.hasOwnProperty(n)&&(t=t||e[n]);return t},r.setValidity=function(){r._input&&r._input.setCustomValidity&&(r.validity.valid||!r.validityStyles?r._input.classList.remove("k-state-invalid"):r._input.classList.add("k-state-invalid"),r._input.setCustomValidity(r.validity.valid?"":r.props.validationMessage||""))},r.handleChange=function(e){r.setState({value:e.target.value}),r.valueDuringOnChange=e.target.value,r.props.onChange&&r.props.onChange.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,value:e.target.value,target:r}),r.valueDuringOnChange=void 0},r.handleAutoFill=function(e){if("autoFillStart"===e.animationName){var t=e.target.parentNode;t&&t.classList.contains("k-state-empty")&&t.classList.remove("k-state-empty")}},Object(i.r)(a),r.state={value:r.props.defaultValue||t.defaultProps.defaultValue},r}return Q(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.value?this.props.value:this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e={badInput:!!this._input&&this._input.validity.badInput,patternMismatch:!!this._input&&this._input.validity.patternMismatch,rangeOverflow:!!this._input&&this._input.validity.rangeOverflow,rangeUnderflow:!!this._input&&this._input.validity.rangeUnderflow,stepMismatch:!!this._input&&this._input.validity.stepMismatch,tooLong:!!this._input&&this._input.validity.tooLong,typeMismatch:!!this._input&&this._input.validity.typeMismatch,valueMissing:!!this._input&&this._input.validity.valueMissing};return ee({},e,{customError:void 0!==this.props.validationMessage,valid:void 0!==this.props.valid?this.props.valid:!this._input||!this.isInvalid(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.setValidity()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.label,a=t.id,s=(t.validationMessage,t.defaultValue,t.valid,t.visited,t.touched,t.modified,t.ariaLabelledBy),l=t.ariaDescribedBy,c=(t.validityStyles,t.style),u=te(t,["className","label","id","validationMessage","defaultValue","valid","visited","touched","modified","ariaLabelledBy","ariaDescribedBy","validityStyles","style"]),p=a||this._inputId,d=!this.validityStyles||this.validity.valid,f=Object(i.d)(n,"k-textbox"),h=r.createElement("input",ee({"aria-labelledby":s,"aria-describedby":l},u,{style:o?void 0:c,value:this.value,id:p,className:f,onChange:this.handleChange,onAnimationStart:this.handleAutoFill,ref:function(t){e._input=t}}));return o?r.createElement(Z.a,{label:o,editorId:p,editorValue:String(this.value),editorValid:d,editorDisabled:u.disabled,editorPlaceholder:u.placeholder,children:h,style:c,dir:u.dir}):h},t.propTypes={label:o.string,validationMessage:o.string,required:o.bool,validate:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},t.defaultProps={defaultValue:"",required:!1,validityStyles:!0},t}(r.Component);!function(e){e[e.Literal=0]="Literal",e[e.Mask=1]="Mask",e[e.Undefined=2]="Undefined"}(Y||(Y={}));var re=function(){function e(e,t,n){void 0===n&&(n=Y.Undefined),this.value=e,this.rest=t,this.type=n}return e.prototype.map=function(t){return new e(t(this.value),this.rest)},e.prototype.chain=function(e){return e(this.value,this.rest)},e.prototype.fold=function(e,t){return e(this.value,this.rest)},e.prototype.concat=function(e){return this.map((function(t,n){return e.chain((function(e,n){return t.concat([e])}))}))},e.prototype.toString=function(){return"Result({ value: '"+this.value+"', rest: "+this.rest+" })"},e}(),oe=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.input=e,this.control=t,this.inputCursor=0,this.controlCursor=0}return e.prototype.eof=function(){return this.inputCursor>=this.input.length},e.prototype.next=function(){return{char:this.input[this.inputCursor++],control:this.control[this.controlCursor++]}},e.prototype.peek=function(){return{char:this.input[this.inputCursor],control:this.control[this.controlCursor]}},e.prototype.eat_input=function(){this.inputCursor++},e.prototype.eat_control=function(){this.controlCursor++},e.prototype.eat=function(){this.inputCursor++,this.controlCursor++},e}(),ie=function(e){return(e||"").split("")},ae=function(){function e(e){this.parse=e}return e.prototype.run=function(e,t){return void 0===t&&(t=""),e instanceof oe?this.parse(e):this.parse(new oe(ie(e),ie(t)))},e.prototype.map=function(t){var n=this;return new e((function(e){return n.parse(e).map(t)}))},e.prototype.chain=function(t){var n=this;return new e((function(e){return n.parse(e).chain((function(e,n){return t(e).run(n)}))}))},e.prototype.isLiteral=function(e){return this.run(e).type===Y.Literal},e}(),se=function(e,t){return new ae((function(n){var r=n.next().char,o=e[r];return"\\"===r?(r=n.next().char,new re(t.literal(r),n)):new re(o?t.mask(o):t.literal(r),n)}))},le=function(e){var t=e.prompt,n=e.promptPlaceholder;return new ae((function(e){var r=e.next().char;return new re(r===t?n:r,e)}))},ce=function(e){return new ae((function(t){var n=t.next().char;return new re(e?n:"",t)}))},ue=function(e){return e.reduce((function(e,t){return n=t,e.chain((function(e){return n.map((function(t){return e.concat([t])}))}));var n}),(t=[],new ae((function(e){return new re(t,e)}))));var t},pe=function(e){return new ae((function(t){for(var n=new re([],t);!t.eof();)n=n.concat(e.run(t));return n}))},de=function(){function e(){this.rules={},this.prompt="_",this.mask="",this.promptPlaceholder=" ",this.includeLiterals=!1,this.maskTokens=[],this.unmaskTokens=[],this.rawTokens=[],this.validationTokens=[]}return e.prototype.update=function(e){var t=e.mask,n=void 0===t?"":t,r=e.prompt,o=void 0===r?"":r,i=e.promptPlaceholder,a=void 0===i?" ":i,s=e.rules,l=void 0===s?{}:s,c=e.includeLiterals,u=void 0!==c&&c;this.mask=n,this.prompt=o,this.promptPlaceholder=a,this.rules=l,this.includeLiterals=u,this.tokenize()},e.prototype.validationValue=function(e){void 0===e&&(e="");var t=e;return ue(this.validationTokens).run(e).fold((function(e){t=e.join("")})),t},e.prototype.rawValue=function(e){void 0===e&&(e="");var t=e;return this.rawTokens.length?(ue(this.rawTokens).run(e).fold((function(e){t=e.join("")})),t):t},e.prototype.maskRaw=function(e){void 0===e&&(e="");var t=e;return this.maskTokens.length?(ue(this.maskTokens).run(e).fold((function(e){t=e.join("")})),t):t},e.prototype.maskInput=function(e,t,n){return e.length<t.length?this.maskRemoved(e,t,n):this.maskInserted(e,t,n)},e.prototype.maskInRange=function(e,t,n,r){var o="",i=r,a=t.split("").slice(0,n),s=t.split("").slice(r);return ue(this.maskTokens.slice(n,r)).run(e).fold((function(e){o=a.concat(e).concat(s).join("")})),{selection:i,value:o}},e.prototype.maskRemoved=function(e,t,n){var r=this,o="",i=n,a=e.split("").slice(n),s=e.split("").slice(0,n).join(""),l=this.maskTokens.length-(e.length-n);return ue(this.maskTokens.slice(0,l)).run(s,t).fold((function(e){i=r.adjustPosition(e,i),o=e.concat(a).join("")})),{selection:i,value:o}},e.prototype.adjustPosition=function(e,t){var n=e[t];return this.maskTokens[t].isLiteral(n)||n===this.prompt?t:t+1},e.prototype.maskInserted=function(e,t,n){var r=this,o="",i=n,a=e.slice(0,n);return ue(this.unmaskTokens).run(a,t).chain((function(e){i=e.join("").length;var n=t.slice(i);return ue(r.maskTokens).run(e.join("")+n,t)})).fold((function(e){o=e.join("")})),{selection:i,value:o}},Object.defineProperty(e.prototype,"maskTokenCreator",{get:function(){var e=this.prompt,t=this.promptPlaceholder;return{literal:function(e){return t=e,new ae((function(e){return e.peek().char===t?(e.eat(),new re(t,e,Y.Literal)):new re(t,e,Y.Literal)}));var t},mask:function(n){return function(e){var t=e.prompt,n=e.promptPlaceholder;return function(e){return new ae((function(r){for(;!r.eof();){var o=r.peek(),i=o.char,a=o.control;if(i===a&&a===t)return r.eat(),new re(t,r,Y.Mask);if(e.test(i))return r.eat(),new re(i,r,Y.Mask);if(i===n)return r.eat(),new re(t,r,Y.Mask);r.eat_input()}return r.eat(),new re(t,r,Y.Mask)}))}}({prompt:e,promptPlaceholder:t})(n)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unmaskTokenCreator",{get:function(){var e=this;return{literal:function(e){return t=e,new ae((function(e){return e.eof()?new re("",e):(e.peek().char===t&&e.eat(),new re(t,e))}));var t},mask:function(t){return(n=e.prompt,function(e){return new ae((function(t){for(;!t.eof();){var r=t.peek(),o=r.char,i=r.control;if(o===n&&i===n)return t.eat(),new re(o,t);if(e.test(o))return t.eat(),new re(o,t);t.eat_input()}return t.eat(),new re("",t)}))})(t);var n}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawTokenCreator",{get:function(){var e=this.prompt,t=this.promptPlaceholder,n=this.includeLiterals;return{literal:function(e){return ce(n)},mask:function(n){return le({prompt:e,promptPlaceholder:t})}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validationTokenCreator",{get:function(){var e=this.prompt;return{literal:function(e){return ce(!1)},mask:function(t){return le({prompt:e,promptPlaceholder:""})}}},enumerable:!0,configurable:!0}),e.prototype.tokenize=function(){var e=this;pe(se(this.rules,this.maskTokenCreator)).run(this.mask).fold((function(t,n){e.maskTokens=t})),pe(se(this.rules,this.unmaskTokenCreator)).run(this.mask).fold((function(t,n){e.unmaskTokens=t})),pe(se(this.rules,this.rawTokenCreator)).run(this.mask).fold((function(t,n){e.rawTokens=t})),pe(se(this.rules,this.validationTokenCreator)).run(this.mask).fold((function(t,n){e.validationTokens=t}))},e}(),fe={"#":/[\d\s\+\-]/,"&":/[\S]/,0:/[\d]/,9:/[\d\s]/,"?":/[a-zA-Z\s]/,A:/[a-zA-Z0-9]/,C:/./,L:/[a-zA-Z]/,a:/[a-zA-Z0-9\s]/},he=function(){return!1},me=function(e,t){if(!!e!=!!t)return!1;if(e===t||!e||!t)return!0;var n=!0;for(var r in e)if(e[r]!==t[r]){n=!1;break}if(n)for(var r in t)if(!e.hasOwnProperty(r)){n=!1;break}return n},ve=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n._inputId="k-"+Object(i.k)(),n._service=new de,n._isPasted=!1,n._selection=[null,null],n._input=null,n.focus=function(){n._input&&n._input.focus()},n.pasteHandler=function(e){var t=e.target,r=t.selectionStart,o=t.selectionEnd;o!==r&&(n._isPasted=!0,n._selection=[r||0,o||0])},n.onChangeHandler=function(e){var t=e.currentTarget,r=t.value,o=n._selection[0]||0,i=n._selection[1]||0;if(!n.props.mask)return n._isPasted=!1,n._selection=[null,null],void n.triggerOnChange(r,e);var a,s=n.value;if(n._isPasted){n._isPasted=!1;var l=s.length-i,c=r.length-l;a=n._service.maskInRange(r.slice(o,c),s,o,i)}else a=n._service.maskInput(r,s,t.selectionStart||0);n._selection=[a.selection,a.selection],n.triggerOnChange(a.value,e)},n.focusHandler=function(e){n.state.focused||(n.setState({focused:!0}),n.props.onFocus&&n.props.onFocus.call(void 0,{target:n,syntheticEvent:e,nativeEvent:e.nativeEvent}))},n.blurHandler=function(e){n.state.focused&&(n.setState({focused:!1}),n.props.onBlur&&n.props.onBlur.call(void 0,{target:n,syntheticEvent:e,nativeEvent:e.nativeEvent}))},n.setValidity=function(){n.element&&n.element.setCustomValidity(n.validity.valid?"":n.props.validationMessage||"")},Object(i.r)(a),n}return ve(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this._valueDuringOnChange?this._valueDuringOnChange:void 0!==this.props.value?this.props.value:void 0!==this.state.value?this.state.value:void 0!==this.props.defaultValue?this.props.defaultValue:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._service.rawValue(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=this.value,t=this._service.validationValue(e);return{customError:void 0!==this.props.validationMessage,valid:void 0!==this.props.valid?this.props.valid:!(this.required&&!t||this.props.maskValidation&&this.props.prompt&&-1!==e.indexOf(this.props.prompt)),valueMissing:!t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){if(this.element&&this.state.focused&&t.focused){var n=this._selection,r=n[0],o=n[1],i=e.selection,a=this.props.selection;(!i&&a||i&&a&&(i.start!==a.start||i.end!==a.end))&&(r=a.start,o=a.end),null!==r&&null!==o&&this.element.setSelectionRange(r,o)}var s,l;s=e,l=this.props,s.includeLiterals===l.includeLiterals&&s.mask===l.mask&&s.prompt===l.prompt&&s.promptPlaceholder===l.promptPlaceholder&&me(s.rules,l.rules)||this.updateService(),this.setValidity()},t.prototype.componentDidMount=function(){this.updateService(),this.setValidity()},t.prototype.render=function(){var e=this,t=this.props.id||this._inputId,n=!this.validityStyles||this.validity.valid,o=r.createElement("span",{dir:this.props.dir,className:Object(i.d)("k-widget k-maskedtextbox",this.props.className,{"k-state-focused":this.state.focused,"k-state-disabled":this.props.disabled,"k-state-invalid":!n}),style:this.props.label?void 0:{width:this.props.width}},r.createElement("input",{type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"k-textbox",value:this.value,id:t,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,name:this.props.name,tabIndex:Object(i.i)(this.props.tabIndex,this.props.disabled,!0),accessKey:this.props.accessKey,title:this.props.title,disabled:this.props.disabled||void 0,readOnly:this.props.readonly||void 0,placeholder:this.props.placeholder,ref:function(t){return e._input=t},onChange:this.onChangeHandler,onPaste:this.pasteHandler,onFocus:this.focusHandler,onBlur:this.blurHandler,onDragStart:he,onDrop:he}));return this.props.label?r.createElement(Z.a,{label:this.props.label,editorId:t,editorValue:this.value,editorValid:n,editorDisabled:this.props.disabled,editorPlaceholder:this.props.placeholder,children:o,style:{width:this.props.width},dir:this.props.dir}):o},t.prototype.triggerOnChange=function(e,t){this.setState({value:e}),this.props.onChange&&(this._valueDuringOnChange=e,this.props.onChange.call(void 0,{syntheticEvent:t,nativeEvent:t.nativeEvent,selectionStart:this._selection[0],selectionEnd:this._selection[1],target:this,value:this.value}),this._valueDuringOnChange=void 0)},t.prototype.updateService=function(e){var t=Object.assign({includeLiterals:this.props.includeLiterals,mask:this.props.mask,prompt:this.props.prompt,promptPlaceholder:this.props.promptPlaceholder,rules:this.rules},e);this._service.update(t)},Object.defineProperty(t.prototype,"rules",{get:function(){return Object.assign({},fe,this.props.rules)},enumerable:!0,configurable:!0}),t.propTypes={value:o.string,defaultValue:o.string,placeholder:o.string,title:o.string,dir:o.string,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,disabled:o.bool,readonly:o.bool,prompt:o.string,promptPlaceholder:o.string,includeLiterals:o.bool,maskValidation:o.bool,mask:o.string,rules:function(e,t,n){var r=e.rules;if(void 0!==r&&!Object.entries(r).some((function(e){return"string"!=typeof e||!(r[e]instanceof RegExp)})))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed.")},selection:o.shape({start:o.number.isRequired,end:o.number.isRequired}),name:o.string,label:o.string,validationMessage:o.string,required:o.bool,valid:o.bool,validityStyles:o.bool,onChange:o.func},t.defaultProps={prompt:"_",promptPlaceholder:" ",includeLiterals:!1,maskValidation:!0,rules:fe,required:!1,validityStyles:!0},t}(r.Component),ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},be=/\d/,ke=function(e,t){return void 0!==e?e:t},we=function(e,t,n){return null===e&&void 0===e?"":"string"==typeof e?e:n.formatNumber(e,t)},Oe=function(e){return(String(e).split(".")[1]||"").length},Ce=function(e,t){return Math.max(Oe(e),Oe(t))},xe=function(e,t){var n=function(e){return Math.min(e,15)}(t);return parseFloat(e.toFixed(n))},Se=function(e,t,n,r,o,i,a){var s=Ce(e||0,n||0),l=Ie(xe((e||0)+(n||0),s),r,o);t.eventValue=l,t.currentLooseValue=we(l,i,a),t.selectionStart=t.selectionEnd=Me(t.currentLooseValue,be)},Ee=function(e,t,n,r,o,i,a){var s=Ce(e||0,n||0),l=Ie(xe((e||0)-(n||0),s),r,o);t.eventValue=l,t.currentLooseValue=we(l,i,a),t.selectionStart=t.selectionEnd=Me(t.currentLooseValue,be)},Ie=function(e,t,n){return null==e?e:e>1||e<1||1===e?void 0!==n&&void 0!==t&&n<t?null:(void 0!==n&&e>n&&(e=n),void 0!==t&&e<t&&(e=t),e):null},_e=function(e,t,n){var r=function(e,t){var n=t.findIndex((function(t){t[0];var n=t[1];return Boolean(n)&&e.indexOf(n)===e.length-n.length}));if(-1===n)return-1;var r=t[n][1];return e.length-r.length}(e,t);if(-1!==r&&n.selectionStart>r)n.selectionStart=n.selectionEnd=r;else{n.selectionStart>e.length&&(n.selectionStart=n.selectionEnd=e.length);var o=function(e,t){var n=t.findIndex((function(t){var n=t[0];t[1];return Boolean(n)&&0===e.indexOf(n)}));return-1===n?-1:t[n][0].length}(e,t);-1!==o&&n.selectionStart<o&&(n.selectionStart=n.selectionEnd=o),-1===n.selectionStart&&(n.selectionStart=n.selectionEnd=0)}},Ne=function(e,t,n,r){e.selectionStart=e.selectionEnd=t,_e(n,r,e)},Te=function(e,t,n,r){e.eventValue=r.parseNumber(e.prevLooseValue,t),e.currentLooseValue=e.prevLooseValue,e.valueIsCorrected=!0,Ne(e,e.selectionStart,e.currentLooseValue,n)},Pe=function(e,t){var n=e.indexOf(t.decimal);return n>-1?n:Me(e,be)},De=function(e){return e.split("").reverse().join("")},Me=function(e,t){return e.length-De(e).search(t)},je=function(e){return e.split(e[e.search(be)])[0]},Re=function(e){var t=De(e);return De(t.split(t[t.search(be)])[0])},Ae=function(e,t){return e.search(t)},Fe=function(e,t){var n=e.indexOf(t);return n>-1?e.length-n-1:0},Le=function(e,t,n,r,o){var i="0"===e.replace(o,"")[0],a="0"===t.replace(o,"")[0];if(i&&!a)return n-1;if(a&&r)return n+1;for(var s=0,l=0;l<n;l++)be.test(e.charAt(l))&&s++;for(var c=0;s>0&&t.length>c;)be.test(t.charAt(c))&&s--,c++;return c},Be=function(e,t,n){var r=ye({},e),o=r.prevLooseValue,i=n.numberSymbols(),a=function(e,t){var n=t.formatNumber(1111111.1111111,e),r=t.formatNumber(-1111111.1111111,e),o=t.formatNumber(0,e),i=t.formatNumber(1,e),a=t.numberSymbols(),s=new RegExp("[\\d\\"+a.decimal+a.group+"]","g");return[n,r,o,i].map((function(e){return e.replace(s,"")})).join("").split("").filter((function(e,t,n){return n.indexOf(e)===t})).join("")}(t,n),s=String(r.currentLooseValue),l=String(o),c=new RegExp("[^\\d\\"+i.decimal+"]","g"),u=new RegExp("[^\\d\\"+i.decimal+"\\"+i.group+"]","g"),p=new RegExp("[\\d\\"+i.decimal+"\\"+i.group+"]"),d=s.replace(c,""),f=Ae(s,be),h=-1===f?-1:Me(s,be),m=s.indexOf(i.decimal),v=(s.substring(0,f)+s.substring(f,h).replace(u,"")+s.substring(h,s.length)).split("").filter((function(e){return-1!==a.indexOf(e)||-1!==e.search(p)})).join(""),g=n.formatNumber(.31111111111111117,t).replace(c,""),y=g.indexOf(i.decimal),b=y>-1?g.length-y-1:0,k=n.formatNumber(1,t).replace(c,""),w=k.indexOf(i.decimal),O=w>-1?k.length-w-1:0,C=function(e,t){var n=t.formatNumber(1111111.1111111,e),r=t.formatNumber(-1111111.1111111,e),o=t.formatNumber(0,e),i=t.formatNumber(1,e),a=je(n),s=je(r),l=je(o),c=je(i);return{positiveInfo:[a,Re(n)],negativeInfo:[s,Re(r)],zeroInfo:[l,Re(o)],oneInfo:[c,Re(i)]}}(t,n),x=[C.positiveInfo,C.negativeInfo,C.zeroInfo,C.oneInfo],S=1!==x.findIndex((function(e){return-1!==e.findIndex((function(e){return Boolean(e)}))})),E=s.length>0&&s.length<l.length,I=t&&"p"===t[0]&&s&&-1===s.indexOf(i.percentSign);if(!r.isPaste){if(""===s)return r.eventValue=null,r.currentLooseValue="",r;if(r.currentLooseValue===i.minusSign&&n.formatNumber(-0,t)!==l)return r.eventValue=-0,r.currentLooseValue=we(r.eventValue,t,n),Ne(r,Pe(r.currentLooseValue,i),r.currentLooseValue,x),r;if(function(e,t){var n=String(e.currentLooseValue),r=String(e.prevLooseValue);return n.split(t.minusSign).length!==r.split(t.minusSign).length&&n.length===r.length+t.minusSign.length}(r,i)){var _=n.parseNumber(o,t);r.eventValue=-(null!==_?_:0),r.currentLooseValue=we(r.eventValue,t,n);var N=Ae(r.currentLooseValue,be),T=Ae(l,be);return Ne(r,r.selectionEnd-1+(N-T),r.currentLooseValue,x),r}if(function(e,t){var n=String(e.currentLooseValue),r=String(e.prevLooseValue);return-1===n.indexOf(t.minusSign)&&-1!==r.indexOf(t.minusSign)}(r,i))return r.eventValue=n.parseNumber(r.currentLooseValue,t),Ne(r,r.selectionStart,r.currentLooseValue,x),r;if(r.currentLooseValue===i.decimal){r.eventValue=0;var P=we(r.eventValue,t,n);if(0===O&&b>0){var D=Me(P,be);r.currentLooseValue=P.substring(0,D)+i.decimal+P.substring(D)}else r.currentLooseValue=P;return Ne(r,Pe(r.currentLooseValue,i)+1,r.currentLooseValue,x),r}if(function(e,t){return String(e.currentLooseValue).split(t.decimal).length>2}(r,i))return Te(r,t,x,n),r;if(I)return r.eventValue=n.parseNumber(s,t)/100,r.currentLooseValue=we(r.eventValue,t,n),r;if(String(r.currentLooseValue).replace(/[^\d]/g,"").length>15)return Te(r,t,x,n),r;if(d!==s&&s&&S)if(-1===x.findIndex((function(e){var t=e[0],n=e[1],r=s.indexOf(t),o=s.indexOf(n),a=0===r,l=o===s.length-n.length,c=r+t.length!==f&&-1!==f&&s[r+t.length]!==i.decimal,u=o!==h&&-1!==h&&s[o-1]!==i.decimal;return t&&n?!c&&!u&&(a&&l):t?!c&&a:!!n&&(!u&&l)})))return Te(r,t,x,n),r;if(d[d.length-1]===i.decimal&&b>0)return r.eventValue=n.parseNumber(s,t),r.currentLooseValue=v,r;if(r.currentLooseValue&&o)if((a+i.decimal+i.group).split("").findIndex((function(e){return s.split("").filter((function(t){return t===e})).length<l.split("").filter((function(t){return t===e})).length&&s.length+1===l.length&&(e!==i.decimal||0!==Fe(l.replace(c,""),i.decimal))}))>-1)return r.eventValue=n.parseNumber(e.prevLooseValue,t),r.currentLooseValue=e.prevLooseValue,r;var M=Fe(d,i.decimal),j="0"===d[d.length-1];if(E&&j&&M<O)return r.eventValue=n.parseNumber(r.currentLooseValue,t),r.currentLooseValue=we(r.eventValue,t,n),r;if(M>0){var R=s.substring(0,m);if(j&&(!R||0!==l.indexOf(R))){r.eventValue=n.parseNumber(r.currentLooseValue,t);var A=we(r.eventValue,t,n);return Ne(r,Le(s,A,r.selectionEnd,E,c),A,x),r.currentLooseValue=A,r}if(M>b){var F=s.indexOf(i.decimal),L=s.substring(0,F)+s.substring(F,F+1+b)+s.substring(h,String(r.currentLooseValue).length);return r.eventValue=n.parseNumber(L,t),r.currentLooseValue=L,Ne(r,r.selectionStart,L,x),r}if(O!==b&&M<=b&&j)return r.eventValue=n.parseNumber(r.currentLooseValue,t),r.currentLooseValue=v,r;if(M<O)return r.eventValue=n.parseNumber(r.currentLooseValue,t),r.currentLooseValue=we(r.eventValue,t,n),r}}if(r.eventValue=n.parseNumber(r.currentLooseValue,t),I&&(r.eventValue=r.eventValue/100),"number"==typeof r.eventValue){A=we(r.eventValue,t,n);1===s.length?Ne(r,Pe(A,i),A,x):Ne(r,Le(s,A,r.selectionEnd,E,c),A,x),r.currentLooseValue=A}else r.currentLooseValue=we(n.parseNumber(d),t,n);return r},ze=r.forwardRef((function(e,t){Object(i.r)(a);var n=r.useMemo((function(){return Object(i.k)()}),[]),o=e.id||n,s=Object(C.useInternationalization)(),l=Object(C.useLocalization)(),c=r.useRef(null),u=r.useRef(null),p=r.useRef(),d=r.useState(!1),f=d[0],h=d[1],m=r.useRef({eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1}),v=r.useRef(!1),g=r.useRef(),y=r.useRef(e.defaultValue),b=we(m.current.focused&&!e.disabled?m.current.currentLooseValue:ke(e.value,y.current),e.format,s);g.current=b,r.useEffect((function(){c.current&&c.current.setCustomValidity&&c.current.setCustomValidity(E().valid?"":e.validationMessage||"Please enter a valid value!")}));var k=r.useCallback((function(){c.current&&c.current.focus()}),[]),w=r.useCallback((function(){return void 0!==p.current?p.current:ke(e.value,y.current)}),[e.value]),O=r.useCallback((function(){return e.name}),[e.name]),S=r.useCallback((function(){return e.required}),[e.required]),E=r.useCallback((function(){var t=void 0!==e.validationMessage,n=w();return{customError:t,valid:void 0!==e.valid?e.valid:!(m.current.valueIsOutOfRange||S()&&null==n),valueMissing:null==n}}),[e.validationMessage,e.valid,w,S]),I=r.useCallback((function(){return e.validityStyles}),[e.validityStyles]),_=r.useCallback((function(){return e}),[e]),N=r.useCallback((function(){var e={element:c.current,focus:k};return Object.defineProperty(e,"name",{get:O}),Object.defineProperty(e,"value",{get:w}),Object.defineProperty(e,"validity",{get:E}),Object.defineProperty(e,"validityStyles",{get:I}),Object.defineProperty(e,"required",{get:S}),Object.defineProperty(e,"props",{get:_}),e}),[O,w,E,I,S,k,_]);r.useImperativeHandle(t,N);var T=r.useCallback((function(){return{eventValue:ke(e.value,y.current),prevLooseValue:g.current,currentLooseValue:c.current.value,selectionStart:c.current.selectionStart,selectionEnd:c.current.selectionEnd,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1,isPaste:v.current,focused:m.current.focused}}),[e.value]),P=r.useCallback((function(t,n){if(!e.disabled){p.current=n.eventValue,y.current=n.eventValue;var r=we(Ie(n.eventValue,e.min,e.max),e.format,s),o=Ie(s.parseNumber(r,e.format),e.min,e.max);if(o!==n.eventValue&&(n.valueIsOutOfRange=!0,n.eventValue=o),n.valueIsCorrected){var a=u.current;a&&-1===a.className.indexOf("k-state-invalid")&&(a.className+=" k-state-invalid",window.setTimeout((function(){return a.className=a.className.replace(" k-state-invalid","")}),50))}e.value!==n.eventValue&&Object(i.e)(e.onChange,t,N(),{value:n.eventValue}),p.current=void 0,m.current=n,h((function(e){return!e}))}}),[e.value,e.onChange,e.disabled,h,N]),D=r.useCallback((function(t){var n=T();v.current=!1,P(t,Be(n,e.format,s))}),[e.format,e.onChange,s,P,T]),M=r.useCallback((function(t){var n=T(),r=s.parseNumber(String(n.currentLooseValue),e.format);if(n.selectionEnd>n.selectionStart&&n.selectionEnd-n.selectionStart===String(n.currentLooseValue).length)v.current=!0;else{switch(t.keyCode){case 38:Se(r,n,e.step,e.min,e.max,e.format,s);break;case 40:Ee(r,n,e.step,e.min,e.max,e.format,s);break;case 13:if(!1===e.rangeOnEnter)return;var o=we(Ie(r,e.min,e.max),e.format,s),i=Ie(s.parseNumber(o,e.format),e.min,e.max);n.eventValue=i,n.currentLooseValue=we(i,e.format,s),n.selectionStart=n.selectionEnd=n.currentLooseValue.length;break;case 110:var a=c.current,l=s.numberSymbols();a&&(n.currentLooseValue=n.currentLooseValue.slice(0,n.selectionStart)+l.decimal+n.currentLooseValue.slice(n.selectionEnd),n.selectionStart=n.selectionEnd=n.selectionStart+1,n=Be(n,e.format,s));break;default:return}t.preventDefault(),P(t,n)}}),[e.format,e.min,e.max,e.step,e.onChange,e.rangeOnEnter,P,T]),j=r.useCallback((function(){v.current=!0}),[]),R=r.useCallback((function(t){var n=T();Se(s.parseNumber(String(n.currentLooseValue),e.format),n,e.step,e.min,e.max,e.format,s),P(t,n)}),[e.format,e.min,e.max,e.step,e.onChange,P,T]),A=r.useCallback((function(t){var n=T();Ee(s.parseNumber(String(n.currentLooseValue),e.format),n,e.step,e.min,e.max,e.format,s),P(t,n)}),[e.format,e.min,e.max,e.step,e.onChange,P,T]),F=r.useCallback((function(e){document&&document.activeElement===c.current&&c.current&&(e.nativeEvent.deltaY<0&&R(e),e.nativeEvent.deltaY>0&&A(e))}),[R,A]),L=r.useCallback((function(t){m.current.currentLooseValue=g.current,m.current.focused=!0,Object(i.e)(e.onFocus,t,N(),{}),h((function(e){return!e}))}),[e.onFocus,h,N]),B=r.useCallback((function(t){m.current={eventValue:null,prevLooseValue:"",currentLooseValue:"",focused:!1,selectionStart:void 0,selectionEnd:void 0,decimalSelect:!1,valueIsCorrected:!1,valueIsOutOfRange:!1},Object(i.e)(e.onBlur,t,N(),{}),h((function(e){return!e}))}),[e.onBlur,h,N]),z=r.useCallback((function(e){document&&c.current&&(e.preventDefault(),document.activeElement!==c.current&&c.current.focus())}),[]);r.useLayoutEffect((function(){c.current&&void 0!==m.current.selectionStart&&void 0!==m.current.selectionEnd&&(c.current.selectionStart=m.current.selectionStart,c.current.selectionEnd=m.current.selectionEnd,m.current.selectionStart=void 0,m.current.selectionEnd=void 0)}),[f]);var V=!I()||E().valid,H=r.createElement("span",{dir:e.dir,style:e.label?void 0:{width:e.width},className:"k-widget k-numerictextbox"+(e.className?" "+e.className:""),"aria-disabled":e.disabled?"true":void 0},r.createElement("span",{className:Object(i.d)("k-numeric-wrap",{"k-state-disabled":e.disabled,"k-state-invalid":!V,"k-state-focused":m.current.focused}),ref:u},r.createElement("input",{value:null===b?"":b,tabIndex:Object(i.i)(e.tabIndex,e.disabled),accessKey:e.accessKey,disabled:e.disabled,title:e.title,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy,placeholder:e.placeholder,spellCheck:!1,autoComplete:"off",autoCorrect:"off",type:e.inputType||"tel",className:"k-input k-formatted-value",id:o,name:e.name,onChange:D,onFocus:L,onBlur:B,onKeyDown:M,onPaste:j,onWheel:F,ref:c}),e.children,e.spinners&&r.createElement("span",{className:"k-select",onMouseDown:z},r.createElement("span",{className:"k-link k-link-increase","aria-label":l.toLanguageString("numerictextbox.increment",x["numerictextbox.increment"]),title:l.toLanguageString("numerictextbox.increment",x["numerictextbox.increment"]),onClick:R},r.createElement("span",{className:"k-icon k-i-arrow-n"})),r.createElement("span",{className:"k-link k-link-decrease","aria-label":l.toLanguageString("numerictextbox.decrement",x["numerictextbox.decrement"]),title:l.toLanguageString("numerictextbox.decrement",x["numerictextbox.decrement"]),onClick:A},r.createElement("span",{className:"k-icon k-i-arrow-s"})))));return e.label?r.createElement(Z.a,{label:e.label,editorId:o,editorValue:null===b?"":b,editorValid:V,editorDisabled:e.disabled,editorPlaceholder:e.placeholder,children:H,style:{width:e.width},dir:e.dir}):H}));ze.propTypes={value:o.number,defaultValue:o.number,step:o.number,format:o.oneOfType([o.string,o.shape({style:o.oneOf(["decimal","currency","percent","scientific","accounting"]),currency:o.string,currencyDisplay:o.oneOf(["symbol","code","name"]),useGrouping:o.bool,minimumIntegerDigits:o.number,minimumFractionDigits:o.number,maximumFractionDigits:o.number})]),width:o.oneOfType([o.string,o.number]),tabIndex:o.number,accessKey:o.string,title:o.string,placeholder:o.string,min:o.number,max:o.number,spinners:o.bool,disabled:o.bool,dir:o.string,name:o.string,label:o.string,validationMessage:o.string,required:o.bool,id:o.string,rangeOnEnter:o.bool,ariaLabelledBy:o.string,ariaDescribedBy:o.string,onChange:o.func,onFocus:o.func,onBlur:o.func},ze.displayName="KendoNumericTextBox",ze.defaultProps={step:1,spinners:!0,disabled:!1,required:!1,validityStyles:!0,rangeOnEnter:!0,onChange:function(e){},onFocus:function(e){},onBlur:function(e){}};var Ve=function(){return(Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},He="data-slider-label",Ke=function(e){var t,n,o=r.useRef(null),a=Object(i.o)(o),s=e.vertical?{bottom:e.position+"%",height:"1px",width:"100%"}:((t={})["rtl"===a?"right":"left"]=e.position+"%",t.width="1px",t);return r.createElement("li",{ref:o,role:"presentation",className:"k-tick k-tick-large",title:e.title,style:Ve({zIndex:1,position:"absolute"},s)},r.createElement("span",Ve({},((n={})[He]=!0,n),{className:"k-label",onClick:e.onClick}),e.children))},We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(){return($e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:void 0===n.props.defaultValue?n.props.min:n.props.defaultValue,focused:!1,dir:n.props.dir},n.buttons=function(e){return e.enabled?r.createElement(r.Fragment,null,r.createElement("a",{className:"k-button k-button-decrease",style:{position:"relative"},title:e.decrementTitle,onClick:e.decrement},r.createElement("span",{className:Object(i.d)("k-icon",{"k-i-arrow-s":n.props.vertical,"k-i-arrow-w":!n.props.vertical})})),e.children,r.createElement("a",{className:"k-button k-button-increase",style:{position:"relative"},title:e.incrementTitle,onClick:e.increment},r.createElement("span",{className:Object(i.d)("k-icon",{"k-i-arrow-n":n.props.vertical,"k-i-arrow-e":!n.props.vertical})}))):e.children},n.focus=function(){n._element&&n._element.focus()},n.isLabel=function(e){for(var t=e;t;){if(Boolean(t.getAttribute(He)))return!0;t=t.parentElement}return!1},n.onFocus=function(){n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1})},n.onKeyDown=function(e){var t=void 0;e.keyCode===i.b.left||e.keyCode===i.b.down?t=n.state.value-(n.props.step||0):e.keyCode===i.b.right||e.keyCode===i.b.up?t=n.state.value+(n.props.step||0):e.keyCode===i.b.home?t=n.props.min:e.keyCode===i.b.end&&(t=n.props.max),void 0!==t&&(e.preventDefault(),n.change(e,t))},n.decrement=function(e){e.preventDefault(),n.change(e,n.state.value-(n.props.step||0))},n.increment=function(e){e.preventDefault(),n.change(e,n.state.value+(n.props.step||0))},n.dragStart=function(e){n.isLabel(e.event.originalEvent.target)||(e.event.isTouch&&e.event.originalEvent.preventDefault(),n.drag(e))},n.dragOver=function(e){e.event.originalEvent.preventDefault(),n.drag(e)},n.drag=function(e){var t=e.element.getBoundingClientRect(),r=(n.props.vertical?t.bottom-e.event.clientY:"rtl"===n.state.dir?t.right-e.event.clientX:e.event.clientX-t.left)/(n.props.vertical?t.height:t.width);n.change(e,n.props.min+r*(n.props.max-n.props.min))},Object(i.r)(a),n}return We(t,e),t.getDerivedStateFromProps=function(e,t){var n=void 0!==e.value?e.value:t.value,r=e.min,o=e.max;return void 0===n?null:{value:Math.min(Math.max(n,r),o)}},t.prototype.componentDidMount=function(){if(!this.state.dir&&window&&this._element){var e=window.getComputedStyle(this._element).direction;e&&this.setState({dir:e})}},t.prototype.render=function(){var e,t,n=this,o=Object(C.provideLocalizationService)(this),a=(this.state.value-this.props.min)/(this.props.max-this.props.min)*100,s=this.props.vertical?{marginTop:"0.5rem",marginBottom:"0.5rem"}:{marginLeft:"0.5rem",marginRight:"0.5rem"},l=this.props.vertical?{paddingTop:0,height:"100%"}:{};return r.createElement("div",{ref:function(e){return n._element=e},"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.state.value,"aria-disabled":this.props.disabled?"true":void 0,"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,dir:this.state.dir,role:"slider",id:this.props.id,style:this.props.style,tabIndex:Object(i.i)(this.props.tabIndex,this.props.disabled,void 0),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,className:Object(i.d)("k-slider k-widget",{"k-state-focused":this.state.focused,"k-state-disabled":this.props.disabled,"k-slider-horizontal":!this.props.vertical,"k-slider-vertical":this.props.vertical},this.props.className)},r.createElement("div",{className:Object(i.d)("k-slider-wrap",{"k-slider-buttons":this.props.buttons}),style:{display:"flex",position:"relative",flexDirection:this.props.vertical?"column-reverse":"row"}},r.createElement(this.buttons,{enabled:this.props.buttons,decrement:this.decrement,increment:this.increment,incrementTitle:o.toLanguageString("slider.increment",x["slider.increment"]),decrementTitle:o.toLanguageString("slider.decrement",x["slider.decrement"])},r.createElement(i.a,{onDrag:this.dragOver,onPress:this.dragStart},r.createElement("div",{className:"k-slider-track-wrap",style:$e({flexGrow:1,position:"relative",touchAction:"none"},s)},this.props.children&&r.createElement("ul",{className:"k-reset k-slider-items",style:$e({margin:0},l)},r.Children.map(this.props.children,(function(e){return e&&r.cloneElement(e,{position:100*(e.props.position-n.props.min)/(n.props.max-n.props.min),vertical:n.props.vertical},e.props.children)}))),r.createElement("div",{className:"k-slider-track",style:this.props.vertical?{bottom:0,height:"100%"}:(e={},e["rtl"===this.state.dir?"right":"left"]=0,e.width="100%",e),ref:function(e){return n._sliderTrack=e}},r.createElement("div",{className:"k-slider-selection",style:this.props.vertical?{height:a+"%"}:{width:a+"%"}}),r.createElement("a",{className:"k-draghandle",title:o.toLanguageString("slider.dragTitle",x["slider.dragTitle"]),style:this.props.vertical?{bottom:"calc("+a+"% - 8px)",zIndex:1}:(t={},t["rtl"===this.state.dir?"right":"left"]="calc("+a+"% - 8px)",t.zIndex=1,t)})))))))},Object.defineProperty(t.prototype,"sliderTrack",{get:function(){return this._sliderTrack},enumerable:!0,configurable:!0}),t.prototype.change=function(e,t){t=Math.min(Math.max(t,this.props.min),this.props.max),this.setState({value:t}),Object(i.e)(this.props.onChange,e,this,{value:t})},t.propTypes={min:o.number.isRequired,max:o.number.isRequired,value:o.number,vertical:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string},t}(r.Component);Object(C.registerForLocalization)(qe);var Ue,Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.start="start",e.end="end",e.min="min",e.max="max",e.increase="increase",e.decrease="decrease"}(Ue||(Ue={}));var Je=function(){return(Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Xe=function(e,t,n){var o=r.useState(e),i=o[0],a=o[1],s=r.useCallback((function(e){var r=function(e,t){var n,r;switch(t.type){case Ue.start:if(void 0===t.payload)return e;n={start:t.payload>e.end?e.end:Math.max(t.payload,t.min),end:e.end};break;case Ue.end:if(void 0===t.payload)return e;n={start:e.start,end:t.payload<e.start?e.start:Math.min(t.payload,t.max)};break;case Ue.min:n="start"===t.key?Ge({},e,{start:t.min}):Ge({},e,{end:Math.max(t.min,e.start)});break;case Ue.max:n="start"===t.key?Ge({},e,{start:Math.min(t.max,e.end)}):Ge({},e,{end:t.max});break;case Ue.increase:if(void 0===t.step||void 0===t.key)return e;r=e[t.key]+t.step,n="start"===t.key?r<t.min?Ge({},e,{start:t.min}):Ge({},e,{start:Math.min(r,e.end)}):r>t.max?Ge({},e,{end:t.max}):Ge({},e,{end:Math.max(r,e.start)});break;case Ue.decrease:if(void 0===t.step||void 0===t.key)return e;r=e[t.key]-t.step,n="start"===t.key?r<t.min?Ge({},e,{start:t.min}):Ge({},e,{start:Math.min(r,e.end)}):r>t.max?Ge({},e,{end:t.max}):Ge({},e,{end:Math.max(r,e.start)});break;default:n=e}return n}(t.state||i,Je({},e,t));n&&n(r,e.event),a(r)}),[t,n]);return[i,s]},Ye=r.forwardRef((function(e,t){var n,o,s,l;Object(i.r)(a);var c=r.useRef(null),u=r.useRef(null),p=r.useRef(null),d=r.useRef(null),f=r.useRef(null),h=r.useCallback((function(){d.current&&d.current.focus()}),[d]);r.useImperativeHandle(c,(function(){return{element:u.current,focus:h,props:e}})),r.useImperativeHandle(t,(function(){return c.current}));var m=r.useMemo((function(){return e.min}),[e.min]),v=r.useMemo((function(){return e.max}),[e.max]),g=r.useMemo((function(){return void 0!==e.step?e.step:Qe.step}),[e.step,Qe.step]),y=Object(i.o)(u,e.dir),b=r.useState(""),k=b[0],w=b[1],O=Xe(e.defaultValue||Qe.defaultValue,{min:m,max:v,step:g,state:e.value},(function(t,n){e.onChange&&c.current&&e.onChange.call(void 0,{value:t,target:c.current,syntheticEvent:n})})),S=O[0],E=O[1],I=r.useMemo((function(){return e.value||S}),[e.value,S]),_=r.useRef(null),N=r.useRef(null),T=r.useMemo((function(){return(I.start-m)/(v-m)*100}),[I.start,m,v]),P=r.useMemo((function(){return(I.end-m)/(v-m)*100}),[I.end,m,v]),D=r.useMemo((function(){return e.vertical?{paddingTop:0,height:"100%"}:{}}),[e.vertical]),M=r.useMemo((function(){return e.vertical?{marginTop:"0.5rem",marginBottom:"0.5rem"}:{marginLeft:"0.5rem",marginRight:"0.5rem"}}),[e.vertical]),j=Object(C.useLocalization)(),R=r.useCallback((function(t){if(N.current){t.originalEvent.preventDefault();var n=N.current.getBoundingClientRect(),r=e.vertical?n.bottom-t.clientY:"rtl"===y?n.right-t.clientX:t.clientX-n.left,o=e.vertical?n.height:n.width;return m+r/o*(v-m)}}),[N,e.vertical,y,m,v,S.start,S.end,e.value&&e.value.start,e.value&&e.value.end]),A=r.useCallback((function(e){return e<=I.start?"start":e>=I.end?"end":2*e<I.end+I.start?"start":"end"}),[S.start,S.end,e.value&&e.value.start,e.value&&e.value.end]),F=r.useCallback((function(e){switch(e.keyCode){case i.b.right:e.preventDefault(),E({type:"rtl"===y?Ue.decrease:Ue.increase,key:"start",event:e});break;case i.b.up:e.preventDefault(),E({type:Ue.increase,key:"start",event:e});break;case i.b.left:e.preventDefault(),E({type:"rtl"===y?Ue.increase:Ue.decrease,key:"start",event:e});break;case i.b.down:e.preventDefault(),E({type:Ue.decrease,key:"start",event:e});break;case i.b.home:e.preventDefault(),E({type:Ue.min,key:"start",event:e});break;case i.b.end:e.preventDefault(),E({type:Ue.max,key:"start",event:e})}}),[E]),L=r.useCallback((function(e){switch(e.keyCode){case i.b.right:e.preventDefault(),E({type:"rtl"===y?Ue.decrease:Ue.increase,key:"end",event:e});break;case i.b.up:e.preventDefault(),E({type:Ue.increase,key:"end",event:e});break;case i.b.left:e.preventDefault(),E({type:"rtl"===y?Ue.increase:Ue.decrease,key:"end",event:e});break;case i.b.down:e.preventDefault(),E({type:Ue.decrease,key:"end",event:e});break;case i.b.home:e.preventDefault(),E({type:Ue.min,key:"end",event:e});break;case i.b.end:e.preventDefault(),E({type:Ue.max,key:"end",event:e})}}),[E,y]),B=r.useCallback((function(e){var t=R(e),n=A(t);w(n),"end"===n?f.current.focus():d.current.focus();var r="end"===n?Ue.end:Ue.start;E({type:r,payload:t,event:e})}),[e.vertical,m,v,E]);return Object(i.p)(N,{onPress:B,onDrag:function(e){var t=R(e),n="end"===k?Ue.end:Ue.start;E({type:n,payload:t,event:e})},onRelease:function(e){var t=R(e),n="end"===k?Ue.end:Ue.start;E({type:n,payload:t,event:e}),w("")}}),r.createElement("div",{role:"slider",id:e.id,style:e.style,ref:u,dir:y,className:Object(i.d)("k-widget k-slider",{"k-rtl":"rtl"===y,"k-state-disabled":e.disabled,"k-slider-vertical":e.vertical,"k-slider-horizontal":!e.vertical},e.className),"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},r.createElement("div",{className:"k-slider-wrap",style:{display:"flex",position:"relative",flexDirection:e.vertical?"column-reverse":"row"}},r.createElement("div",{ref:N,className:"k-slider-track-wrap",style:Je({flexGrow:1,position:"relative",touchAction:"none"},M)},e.children&&r.createElement("ul",{className:"k-reset k-slider-items",style:Je({margin:0},D)},r.Children.map(e.children,(function(t){return t&&r.cloneElement(t,{position:100*(t.props.position-e.min)/(e.max-e.min),vertical:e.vertical},t.props.children)}))),r.createElement("div",{ref:_,className:"k-slider-track",style:e.vertical?{bottom:0,height:"100%"}:(n={},n["rtl"===y?"right":"left"]=0,n.width="100%",n)},null!==T&&null!==P&&r.createElement("div",{"data-selection":!0,ref:p,title:I.start+" - "+I.end,className:"k-slider-selection",style:e.vertical?{height:P-T+"%",bottom:T+"%"}:(o={},o["rtl"===y?"right":"left"]=T+"%",o.width=P-T+"%",o)}),r.createElement("a",{ref:d,role:"slider",tabIndex:Object(i.i)(e.startTabIndex,e.disabled,void 0),"aria-valuemin":m,"aria-valuemax":Math.max(v,I.end),"aria-valuenow":I.start,"aria-disabled":e.disabled?"true":void 0,className:"k-draghandle",title:j.toLanguageString("slider.dragTitle",x["slider.dragTitle"]),style:e.vertical?{bottom:"calc("+T+"% - 8px)",zIndex:1}:(s={},s["rtl"===y?"right":"left"]="calc("+T+"% - 8px)",s.zIndex=1,s),onKeyDown:F}),r.createElement("a",{ref:f,role:"slider",tabIndex:Object(i.i)(e.endTabIndex,e.disabled,void 0),"aria-valuemin":Math.min(m,I.start),"aria-valuemax":v,"aria-valuenow":I.end,"aria-disabled":e.disabled?"true":void 0,className:"k-draghandle",title:j.toLanguageString("slider.dragTitle",x["slider.dragTitle"]),style:e.vertical?{bottom:"calc("+P+"% - 8px)",zIndex:1}:(l={},l["rtl"===y?"right":"left"]="calc("+P+"% - 8px)",l.zIndex=1,l),onKeyDown:L})))))})),Ze={value:function(e,t,n){if(e.value){var r=e.value.start,o=e.value.end,i=e.min,a=e.max;if(r>o||r>a||r<i||o>a||o<i||o<r)return new Error("Invalid prop + "+t+" supplied to "+n+".\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\n                    ")}return null},defaultValue:function(e,t,n){if(e.defaultValue){var r=e.defaultValue.start,o=e.defaultValue.end,i=e.min,a=e.max;if(r>o||r>a||r<i||o>a||o<i||o<r)return new Error("Invalid prop + "+t+" supplied to "+n+".\n                    The { start, end } value must be between the min & max value and { start, end } must be start < end.\n                    ")}return null},onChange:o.func,step:o.number,min:function(e,t,n){var r=e[t],o=e.min,i=e.max;return void 0===o?new Error("Invalid prop + "+t+" supplied to "+n+".\n                "+t+" value can not be undefined.\n                "):r&&o>=i?new Error("Invalid prop + "+t+" supplied to "+n+".\n                "+t+" value can not be equal to or bigger than the max value.\n                "):null},max:function(e,t,n){var r=e[t],o=e.min,i=e.max;return void 0===i?new Error("Invalid prop + "+t+" supplied to "+n+".\n                "+t+" value can not be undefined.\n                "):r&&i<=o?new Error("Invalid prop + "+t+" supplied to "+n+".\n                "+t+" value can not be equal to or smaller than the min value.\n                "):null},vertical:o.bool,disabled:o.bool,dir:o.oneOf(["ltr","rtl"])},Qe={step:1,defaultValue:{start:0,end:0},vertical:!1,disabled:!1};Ye.displayName="KendoReactRangeSlider",Ye.propTypes=Ze,Ye.defaultProps=Qe;var et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(){return(tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},nt=function(e){function t(n){var o=e.call(this,n)||this;return o.setValidity=function(){o._input&&o._input.setCustomValidity&&o._input.setCustomValidity(o.validity.valid?"":o.props.validationMessage||o.defaultValidationMessage.toLanguageString("switch.validation",x["switch.validation"]))},o.limit=function(e,t,n){var r=n.offsetWidth,o=t.offsetWidth;return e<0?0:e>r-o?r-o:e},o.toggle=function(e,t){o.setState({checked:e}),o.valueDuringOnChange=e,Object(i.e)(o.props.onChange,t,o,{value:e}),o.valueDuringOnChange=void 0},o._id=Object(i.k)(),o.defaultValidationMessage=Object(C.provideLocalizationService)(o),o.focus=function(){o._element&&o._element.focus()},o.dummyInput=function(e){return r.createElement("input",{type:"checkbox",checked:o.props.checked,ref:function(e){o._input=e},tabIndex:-1,"aria-hidden":!0,value:e,style:{opacity:0,width:1,border:0,zIndex:-1,position:"absolute",left:"50%"},onChange:i.m})},o.handleClick=function(e){o.toggle(!o.value,e)},o.handleKeyDown=function(e){if(!o.props.disabled){var t=e.keyCode;t!==i.b.space&&t!==i.b.enter||o.toggle(!o.value,e)}},o.handleWrapperFocus=function(e){if(!o.props.disabled){o.setState({focused:!0});var t=o.props.onFocus;t&&t.call(void 0,e)}},o.handleWrapperBlur=function(e){if(!o.props.disabled){o.setState({focused:!1});var t=o.props.onBlur;t&&t.call(void 0,e)}},Object(i.r)(a),o.state={checked:n.defaultChecked||t.defaultProps.defaultChecked,focused:!1},o}return et(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!==this.valueDuringOnChange?this.valueDuringOnChange:void 0!==this.props.checked?this.props.checked:this.state.checked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionElement",{get:function(){return this._wrapper},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.props.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validity",{get:function(){var e=void 0!==this.props.validationMessage,t=void 0!==this.props.valid?this.props.valid:!this.props.required||!!this.value;return{customError:e,valid:void 0!==this.props.valid?this.props.valid:t,valueMissing:null===this.value}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validityStyles",{get:function(){return void 0!==this.props.validityStyles?this.props.validityStyles:t.defaultProps.validityStyles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return void 0!==this.props.required?this.props.required:t.defaultProps.required},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.setValidity(),this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.setValidity()},t.prototype.render=function(){var e=this,t=this.state.focused,n=this.props,o=n.dir,a=n.disabled,s=n.id,l=n.offLabel,c=n.onLabel,u=n.tabIndex;this.dir=o||this._wrapper&&getComputedStyle(this._wrapper).direction||void 0;var p=!this.validityStyles||this.validity.valid,d=Object(i.d)({"k-widget":!0,"k-switch":!0,"k-switch-on":this.value,"k-switch-off":!this.value,"k-state-focused":t,"k-state-disabled":a,"k-state-invalid":!p},this.props.className),f={"aria-checked":this.value,"aria-disabled":a||void 0};return r.createElement("span",{ref:function(t){e._wrapper=t},className:d,dir:this.dir,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onBlur:this.handleWrapperBlur,onFocus:this.handleWrapperFocus},r.createElement("span",tt({className:"k-switch-container",id:s||this._id,role:"switch"},f,{"aria-labelledby":this.props.ariaLabelledBy,"aria-describedby":this.props.ariaDescribedBy,ref:function(t){e._element=t},tabIndex:Object(i.i)(u,a,void 0),accessKey:this.props.accessKey}),this.dummyInput(this.value),r.createElement("span",{className:"k-switch-label-on"},c),r.createElement("span",{className:"k-switch-label-off"},l),r.createElement("span",{className:"k-switch-handle"})))},t.propTypes={accessKey:o.string,checked:o.bool,className:o.string,disabled:o.bool,defaultChecked:o.bool,dir:o.string,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,offLabel:o.string,required:o.bool,tabIndex:o.number,valid:o.bool,validate:o.bool,validationMessage:o.string,onBlur:o.any,onChange:o.any,onFocus:o.any,onLabel:o.string},t.defaultProps={disabled:!1,defaultChecked:!1,offLabel:"OFF",onBlur:i.m,onFocus:i.m,onLabel:"ON",required:!1,validityStyles:!0},t}(r.Component),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},it=r.forwardRef((function(e,t){Object(i.r)(a);var n=e,o=n.ariaDescribedBy,s=n.ariaLabelledBy,l=n.checked,c=n.className,u=n.children,p=n.defaultChecked,d=n.disabled,f=n.defaultValue,h=n.id,m=n.label,v=n.labelPlacement,g=n.name,y=n.labelOptional,b=n.onChange,k=n.onFocus,w=n.onBlur,O=n.tabIndex,S=n.value,E=n.required,I=n.valid,_=n.validationMessage,N=n.validityStyles,T=(n.visited,n.touched,n.modified,ot(n,["ariaDescribedBy","ariaLabelledBy","checked","className","children","defaultChecked","disabled","defaultValue","id","label","labelPlacement","name","labelOptional","onChange","onFocus","onBlur","tabIndex","value","required","valid","validationMessage","validityStyles","visited","touched","modified"])),P=r.useRef(null),D=r.useCallback((function(){P.current&&P.current.focus()}),[]),M=r.useCallback((function(){return{element:P.current,focus:D,get name(){return P.current&&P.current.name}}}),[D]);r.useImperativeHandle(t,M);var j=r.useState(p),R=j[0],A=j[1],F=r.useState(f),L=F[0],B=F[1],z="boolean"==typeof S||null===S,V=void 0!==l,H=z,K=H?S:L,W=V?l:H?void 0:R,$=void 0===W&&K,q=$?K:W,U=$||H?null===S?S:void 0:S||K,G=null===q||null===U,J=r.useMemo((function(){return Object(i.k)()}),[]),X=Object(C.useLocalization)(),Y=function(e){return X.toLanguageString(e,x[e])},Z=Y("checkbox.validation"),Q=Y("checkbox.optionalText"),ee=void 0!==I?I:!E||!!W;r.useEffect((function(){P.current&&P.current.setCustomValidity&&P.current.setCustomValidity(ee?"":_||Z)}),[ee,_,Z]);var te=r.useCallback((function(e,t){H||d||(B(t),V||d||A(t)),b&&!d&&Object(i.e)(b,e,rt({},M(),{value:t}),{value:t})}),[V,d,b,H,M]),ne=r.useCallback((function(e){var t=e.target.checked;te(e,t)}),[te,S]),re=r.useCallback((function(e){if(!d){var t=e.keyCode,n=e.currentTarget.checked;t===i.b.space&&(e.preventDefault(),e.stopPropagation(),te(e,!n))}}),[d,te]),oe=r.useCallback((function(e){d||e.keyCode===i.b.space&&e.preventDefault()}),[d]),ie=r.useCallback((function(e){k&&!d&&Object(i.e)(k,e,M(),void 0)}),[k,d,M]),ae=r.useCallback((function(e){w&&!d&&Object(i.e)(w,e,M(),void 0)}),[w,d,M]),se=Object(i.o)(P,e.dir),le=Object(i.d)({"k-state-disabled":d},c),ce=rt({type:"checkbox",className:Object(i.d)({"k-checkbox":!0,"k-state-indeterminate":G,"k-state-invalid k-invalid":!(ee||void 0!==N||!0===N)}),ref:P,name:g,id:h||J,"aria-labelledby":s,"aria-describedby":o,checked:Boolean(q),disabled:d,tabIndex:Object(i.i)(O,d),role:"checkbox",required:void 0!==E&&E,"aria-checked":!(!W&&!q)||!!G&&"mixed","aria-disabled":d||void 0},T,{onChange:ne,onKeyDown:re,onKeyUp:oe,onFocus:ie,onBlur:ae}),ue=r.createElement(r.Fragment,null,void 0===U?r.createElement("input",rt({},ce)):r.createElement("input",rt({},ce,{value:z?void 0:null===U?"":U}))),pe=r.createElement(r.Fragment,null,void 0!==m?r.createElement("label",{className:"k-checkbox-label",htmlFor:h||J,style:{userSelect:"none"}},m,y&&r.createElement("span",{className:"k-label-optional"},Q)):null);return r.createElement(r.Fragment,null,"before"===v?r.createElement("span",{className:le,dir:"rtl"},ue,pe,u):r.createElement("span",{className:le,dir:se},ue,pe,u))}));it.propTypes={checked:o.bool,className:o.string,defaultChecked:o.bool,defaultValue:o.any,dir:o.string,disabled:o.bool,id:o.string,ariaLabelledBy:o.string,ariaDescribedBy:o.string,label:o.any,labelPlacement:o.string,labelOptional:o.bool,name:o.string,tabIndex:o.number,value:o.any,validationMessage:o.string,required:o.bool,validate:o.bool,valid:o.bool,onChange:o.func,onFocus:o.func,onBlur:o.func},it.displayName="KendoCheckbox";var at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},lt=r.forwardRef((function(e,t){Object(i.r)(a);var n=e.ariaDescribedBy,o=e.checked,s=e.children,l=e.className,c=e.disabled,u=e.id,p=e.label,d=e.labelPlacement,f=e.name,h=e.style,m=e.tabIndex,v=e.value,g=e.valid,y=e.onChange,b=e.onFocus,k=e.onBlur,w=st(e,["ariaDescribedBy","checked","children","className","disabled","id","label","labelPlacement","name","style","tabIndex","value","valid","onChange","onFocus","onBlur"]),O=r.useRef(null),C=r.useCallback((function(){O.current&&O.current.focus()}),[]),x=r.useCallback((function(){return{element:O.current,focus:C}}),[C]);r.useImperativeHandle(t,x);var S=r.useMemo((function(){return Object(i.k)()}),[]),E=r.useCallback((function(e){Object(i.e)(y,e,x(),{value:v})}),[y,v,c]),I=r.useCallback((function(e){b&&!c&&Object(i.e)(b,e,x(),void 0)}),[b,c]),_=r.useCallback((function(e){k&&!c&&Object(i.e)(k,e,x(),void 0)}),[k,c]),N=at({type:"radio",id:u||S,name:f,className:Object(i.d)({"k-radio":!0,"k-state-invalid":!1===g,"k-invalid":!1===g},l),ref:O,disabled:c,tabIndex:Object(i.i)(m,c),checked:o,style:h,"aria-describedby":n,value:v,onChange:E,onFocus:I,onBlur:_},w),T=r.createElement(r.Fragment,null,void 0!==p?r.createElement("label",{className:"k-radio-label",htmlFor:u||S,style:{userSelect:"none"},"aria-label":p},p):null),P=r.createElement("input",at({},N));return"before"===d?r.createElement(r.Fragment,null,T,P,s):r.createElement(r.Fragment,null,P,T,s)}));lt.propTypes={ariaDescribedBy:o.string,checked:o.bool,className:o.string,disabled:o.bool,id:o.string,label:o.string,labelPlacement:o.string,name:o.string,style:o.object,tabIndex:o.number,value:o.any,valid:o.bool,onChange:o.func,onFocus:o.func,onBlur:o.func},lt.displayName="KendoRadioButton";var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ut=r.forwardRef((function(e,t){Object(i.r)(a);var n=e.ariaLabelledBy,o=e.ariaDescribedBy,s=e.className,l=e.data,c=e.defaultValue,u=e.disabled,p=e.name,d=e.labelPlacement,f=e.layout,h=e.style,m=e.value,v=e.valid,g=e.item,y=void 0===g?pt.item:g,b=e.onChange,k=e.onFocus,w=r.useRef(null),O=r.useCallback((function(){w.current&&Object(i.g)(w.current)}),[]),C=r.useCallback((function(){return{element:w.current,focus:O}}),[O]);r.useImperativeHandle(t,C);var x=r.useState(c),S=x[0],E=x[1],I=void 0!==m,_=I?m:S,N=r.useCallback((function(e){var t=e.value;I||u||E(t),b&&!u&&Object(i.e)(b,e.syntheticEvent,C(),{value:t})}),[E,b,u]),T=r.useCallback((function(e){k&&!u&&Object(i.e)(k,e.syntheticEvent,C(),void 0)}),[k,u]),P=r.useMemo((function(){return Object(i.k)()}),[]),D=Object(i.d)("k-radio-list",{"k-list-horizontal":"horizontal"===f,"k-list-vertical":"vertical"===f||void 0===f},s),M=Object(i.q)(w,e.dir),j=l&&l.map((function(e,t){var n=_===e.value,o=null==_,a=ct({},e,{valid:v,checked:n,disabled:!(!e.disabled&&!u),labelPlacement:e.labelPlacement?e.labelPlacement:d,tabIndex:e.tabIndex?e.tabIndex:o&&0===t||n?0:-1,index:t,name:p||P,onChange:N,onFocus:T});return r.createElement(y,{className:Object(i.d)("k-radio-item",{"k-state-disabled":a.disabled||u}),key:t,role:"radio"},r.createElement(lt,ct({},a)))}));return r.createElement("ul",{role:"radiogroup",className:D,ref:w,dir:M,style:h,"aria-labelledby":n,"aria-describedby":o},j)})),pt={item:function(e){return r.createElement("li",ct({},e))}};ut.propTypes={ariaLabelledBy:o.string,ariaDescribedBy:o.string,className:o.string,data:o.arrayOf(o.object),defaultValue:o.any,dir:o.string,disabled:o.bool,labelPlacement:o.string,layout:o.string,name:o.string,style:o.object,value:o.any,onChange:o.func,onFocus:o.func},ut.defaultProps=pt,ut.displayName="KendoRadioGroup";var dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ht=r.forwardRef((function(e,t){var n=e,o=n.ariaDescribedBy,a=n.ariaLabelledBy,s=n.autoSize,l=n.className,c=n.defaultValue,u=n.disabled,p=n.readOnly,d=n.required,f=n.rows,h=n.id,m=n.name,v=n.placeholder,g=n.style,y=n.tabIndex,b=n.value,k=n.valid,w=n.validationMessage,O=n.validityStyles,C=n.onChange,x=n.onFocus,S=n.onBlur,E=(n.visited,n.touched,n.modified,ft(n,["ariaDescribedBy","ariaLabelledBy","autoSize","className","defaultValue","disabled","readOnly","required","rows","id","name","placeholder","style","tabIndex","value","valid","validationMessage","validityStyles","onChange","onFocus","onBlur","visited","touched","modified"])),I=r.useRef(null),_=r.useCallback((function(){I.current&&I.current.focus()}),[]),N=r.useCallback((function(){return{element:I,focus:_,get name(){return I.current&&I.current.name}}}),[_]);r.useImperativeHandle(t,N);var T=r.useState(c),P=T[0],D=T[1],M=r.useState("auto"),j=M[0],R=M[1],A=r.useMemo((function(){return Object(i.k)()}),[]),F=Object(i.o)(I,e.dir),L=void 0!==b,B=L?b:P,z=void 0!==k?k:!d||!!B;r.useEffect((function(){I.current&&I.current.setCustomValidity&&I.current.setCustomValidity(z?"":w||"")}),[z,w]),r.useLayoutEffect((function(){I.current&&R(I.current.scrollHeight+"px")}),[B]);var V=r.useCallback((function(e){var t=e.target.value;L||u||(R("auto"),D(t)),C&&!u&&Object(i.e)(C,e,N(),{value:t})}),[D,C,u,L]),H=r.useCallback((function(e){x&&!u&&Object(i.e)(x,e,N(),void 0)}),[x,u]),K=r.useCallback((function(e){S&&!u&&Object(i.e)(S,e,N(),void 0)}),[S,u]),W={className:Object(i.d)("k-textarea",{"k-state-invalid":!(z||void 0!==O||!0===O),"k-state-disabled":u},l),style:g,dir:F},$=dt({id:h||A,name:m,className:"k-input",ref:I,disabled:u,rows:f,placeholder:v,readOnly:p,required:d,tabIndex:Object(i.i)(y,u),style:s?{resize:"none",overflow:"hidden",height:j}:{},"aria-labelledby":a,"aria-describedby":o,"aria-multiline":!0,"aria-disabled":u||void 0,value:L?b:P},E,{onChange:V,onFocus:H,onBlur:K});return r.createElement("span",dt({},W),r.createElement("textarea",dt({},$)))}));ht.propTypes={ariaDescribedBy:o.string,ariaLabelledBy:o.string,autoSize:o.bool,className:o.string,defaultValue:o.string,dir:o.string,disabled:o.bool,readOnly:o.bool,rows:o.number,id:o.string,name:o.string,placeholder:o.string,style:o.object,tabIndex:o.number,value:o.oneOfType([o.string,o.arrayOf(o.string),o.number]),onChange:o.func,onFocus:o.func,onBlur:o.func},ht.displayName="KendoTextArea";var mt=r.forwardRef((function(e,t){var n=r.useRef(null),o=r.useRef(null),a=Object(i.o)(o,e.dir);r.useImperativeHandle(n,(function(){return{element:o.current,props:e,value:e.value}})),r.useImperativeHandle(t,(function(){return n.current}));var s=r.useCallback((function(t){e.onClick&&e.onClick.call(void 0,{value:e.value,target:n.current,syntheticEvent:t})}),[e.onClick,e.value]),l=r.useCallback((function(t){e.onKeyDown&&e.onKeyDown.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onKeyDown]),c=r.useCallback((function(t){e.onFocus&&e.onFocus.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onFocus]),u=r.useCallback((function(t){e.onBlur&&e.onBlur.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onBlur]),p=r.useCallback((function(t){e.onMouseMove&&e.onMouseMove.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onMouseMove]),d=r.useCallback((function(t){e.onMouseEnter&&e.onMouseEnter.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onMouseEnter]),f=r.useCallback((function(t){e.onMouseLeave&&e.onMouseLeave.call(void 0,{target:n.current,syntheticEvent:t})}),[e.onMouseLeave]);return r.createElement("span",{id:e.id,ref:o,dir:a,"data-half":e.half,tabIndex:e.tabIndex,title:e.title,style:e.style,className:Object(i.d)("k-rating-item",{"k-rtl":"rtl"===a,"k-state-selected":e.selected,"k-state-hovered":e.hovered},e.className),onClick:s,onKeyDown:l,onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:p},e.children)})),vt={id:o.string,icon:o.any,dir:o.oneOf(["ltr","rtl"]),title:o.string,value:o.number,half:o.bool,selected:o.bool,hovered:o.bool};mt.displayName="KendoReactRatingItem",mt.propTypes=vt,mt.defaultProps={dir:"ltr"};var gt,yt=function(e,t){if(e%1){var n=Math.pow(10,(t.toString().split(".")[1]||t.toString().split(".")[0]).length);return Math.round(e*n)/n}return e},bt=function(e,t,n){return yt(e-n,n)<t&&t<e},kt=function(e,t,n,r){return null!==t&&("continues"===r?bt(e,t,n)?yt(e-n/2,n/2)<=t:e<=t:"single"===r&&(bt(e,t,n)?yt(e-n/2,n/2)===t:e===t))},wt=function(e,t,n){return"ltr"===e?n<t.x+t.width/2:n>t.x+t.width/2},Ot=function(e,t,n,r){for(var o=e;o<=t;o+=n)if(r===o)return!0;return!1};!function(e){e.select="select",e.deselect="deselect",e.increase="increase",e.decrease="decrease",e.min="min",e.max="max",e.reset="reset"}(gt||(gt={}));var Ct=function(){return(Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xt=function(e,t,n){var o=r.useState(e),i=o[0],a=o[1];return[i,function(e){var r=function(e,t){switch(t.type){case gt.select:return void 0===t.payload||void 0===t.step?e:t.payload===e?null:t.payload>=t.min?t.payload<t.max?yt(t.payload,t.step):t.max:t.min;case gt.deselect:return null;case gt.increase:return void 0===t.step?e:e<t.min?t.min:e+t.step<t.max?yt(e+t.step,t.step):t.max;case gt.decrease:return void 0===t.step?e:yt(e-t.step,t.step)>=t.min?yt(e-t.step,t.step):t.min;case gt.min:return void 0===t.step?e:t.min;case gt.max:return t.max;case gt.reset:return null;default:return e}}(t.state||i,Ct({},e,t));n&&n(r,e.event),a(r)}]},St=r.forwardRef((function(e,t){var n,o,a,s,l=r.useRef(null),c=r.useRef(null),u=Object(i.o)(c,e.dir);r.useImperativeHandle(l,(function(){return{element:c.current,props:e}})),r.useImperativeHandle(t,(function(){return l.current}));for(var p,d,f=r.useCallback((function(t,n){e.onChange&&l.current&&e.onChange.call(void 0,{value:t,target:l.current,syntheticEvent:n})}),[e.onChange]),h=r.useMemo((function(){return void 0!==e.min?e.min:It.min}),[e.min]),m=r.useMemo((function(){return void 0!==e.max?e.max:It.max}),[e.max]),v=r.useMemo((function(){return e.precision||It.precision}),[e.precision]),g=r.useMemo((function(){return void 0!==e.step?e.step:It.step}),[e.step]),y=r.useMemo((function(){return e.readonly||It.readonly}),[e.readonly]),b=r.useMemo((function(){return e.disabled||It.disabled}),[e.disabled]),k=r.useMemo((function(){return e.item||It.item}),[e.item]),w=xt(e.defaultValue||It.defaultValue,{state:e.value,min:h,max:m,step:"half"===v?g/2:g},f),O=w[0],C=w[1],x=xt(null,{state:e.value,min:h,max:m,step:"half"===v?g/2:g,precision:v}),S=x[0],E=x[1],I=r.useMemo((function(){return e.value||O}),[e.value,O]),_=r.useMemo((function(){return S}),[S]),N=r.useMemo((function(){return e.selection||It.selection}),[e.selection]),T=r.useMemo((function(){return g/("half"===v?2:1)}),[g,v]),P=r.useCallback((function(t){if(t.target&&t.target.element&&!y&&!b){if("half"===v){var n=t.target.element.getBoundingClientRect(),r=wt(u||"ltr",n,t.syntheticEvent.clientX)?yt(t.target.value-g/2,T):t.target.value;C({type:gt.select,payload:r,event:t.syntheticEvent})}else C({type:gt.select,payload:t.target.value,event:t.syntheticEvent});e.onClick&&e.onClick.call(void 0,{value:I,target:l.current,syntheticEvent:t.syntheticEvent})}}),[e.onClick,C,I]),D=r.useCallback((function(t){if(!y&&!b){switch(t.keyCode){case i.b.right:t.preventDefault(),C({type:"rtl"===u?gt.decrease:gt.increase,event:t});break;case i.b.left:t.preventDefault(),C({type:"rtl"===u?gt.increase:gt.decrease,event:t});break;case i.b.home:t.preventDefault(),C({type:"rtl"===u?gt.min:gt.max,event:t});break;case i.b.end:t.preventDefault(),C({type:"rtl"===u?gt.max:gt.min,event:t});break;case i.b.esc:t.preventDefault(),C({type:gt.deselect,event:t})}e.onKeyDown&&e.onKeyDown.call(void 0,{value:I,target:l.current,syntheticEvent:t})}}),[e.onKeyDown,C,I]),M=r.useCallback((function(t){e.onFocus&&e.onFocus.call(void 0,{target:l.current,syntheticEvent:t})}),[e.onFocus]),j=r.useCallback((function(t){e.onBlur&&e.onBlur.call(void 0,{target:l.current,syntheticEvent:t})}),[e.onBlur]),R=r.useCallback((function(e){if(e.target&&e.target.element)if("half"===v){var t=e.target.element.getBoundingClientRect(),n=wt(u||"ltr",t,e.syntheticEvent.clientX)?e.target.value-g/2:e.target.value;E({type:gt.select,payload:n,event:e.syntheticEvent})}else E({type:gt.select,payload:e.target.value,event:e.syntheticEvent})}),[v,g,u]),A=r.useCallback((function(e){E({type:gt.reset,event:e.syntheticEvent})}),[]),F=[],L=(p=yt(m-h,T))-(d=g)*Math.floor(p/d),B=h;B<=m;B=yt(B+g,T)){var z=yt(B+L,T),V="half"===v&&bt(z,null!==_?_:null!==I?I:0,g),H=kt(z,I,g,N),K=kt(z,null!==_?_:I,g,N),W=kt(z,_,g,N);F.push(r.createElement(k,{key:z,value:z,dir:u,title:String(V?yt(z-g/2,T):z),icon:e.icon,half:V,selected:H||K,hovered:W,onClick:P,onMouseMove:R,onMouseLeave:A},V&&r.createElement("span",{className:"k-rating-precision-complement",style:(n={width:"12px"},n["rtl"===u?"right":"left"]="50%",n)},r.createElement("span",{className:Object(i.d)("k-icon",(o={"k-i-star-outline":!e.icon},o[e.icon+"-outline"]=e.icon,o))})),V&&r.createElement("span",{className:"k-rating-precision-part",style:{width:"12px"}},r.createElement("span",{className:Object(i.d)("k-icon",(a={"k-i-star":!e.icon},a[""+e.icon]=e.icon,a))})),V&&r.createElement("span",{style:{width:"24px",height:"24px",display:"block"}}),!V&&r.createElement("span",{className:Object(i.d)("k-icon",(s={"k-i-star":!e.icon&&(W||K&&!W),"k-i-star-outline":!e.icon&&!W},s[""+e.icon]=e.icon&&(W||K&&!W),s[e.icon+"-outline"]=e.icon&&!W,s))})))}return r.createElement("span",{id:e.id,style:e.style,ref:c,role:"slider",dir:u,tabIndex:Object(i.i)(e.tabIndex,e.disabled,void 0),className:Object(i.d)("k-rating k-widget",{"k-rtl":"rtl"===u,"k-state-readonly":y,"k-state-disabled":b},e.className),onKeyDown:D,onFocus:M,onBlur:j,"aria-valuemin":h,"aria-valuemax":m,"aria-valuenow":null!==I?I:void 0,"aria-disabled":b?"true":void 0,"aria-labelledby":e.ariaLabelledBy,"aria-describedby":e.ariaDescribedBy},r.createElement("input",{id:"rating",className:"k-hidden",readOnly:y,disabled:b}),r.createElement("span",{className:"k-rating-container"},F),e.label&&r.createElement("span",{className:"k-rating-label"},e.label))})),Et={id:o.string,dir:o.oneOf(["ltr","rtl"]),selection:o.oneOf(["continues","single"]),precision:o.oneOf(["item","half"]),value:function(e,t,n){if(e.value&&e.min&&e.max&&e.step&&(!("half"===e.precision?Ot(e.min,e.max,e.step/2,e.value):Ot(e.min,e.max,e.step,e.value))&&"half"===e.precision))return new Error("Invalid prop + "+t+" supplied to "+n+".\n                    The value of the { value } property is not correct, please check your values.\n                    ");return null},defaultValue:o.number,min:o.number,max:o.number,step:function(e,t,n){return void 0!==e.step&&e.step<=0?new Error("Invalid prop + "+t+" supplied to "+n+'.\n                The value of the { step } property is cannot be equal or less than "0", please check your values.\n                '):null},hovered:o.number,label:o.string,readonly:o.bool,disabled:o.bool,half:o.bool,icon:o.string,ariaDescribedBy:o.string},It={dir:"ltr",min:1,max:5,step:1,item:mt,defaultValue:null,readonly:!1,disabled:!1,selection:"continues",precision:"item"};St.displayName="KendoReactRating",St.propTypes=Et,St.defaultProps=It},function(e,t,n){"use strict";n.r(t),n.d(t,"PDFExport",(function(){return O})),n.d(t,"PDFMargin",(function(){return h})),n.d(t,"savePDF",(function(){return C})),n.d(t,"getPageMargin",(function(){return v})),n.d(t,"GridPDFExport",(function(){return B})),n.d(t,"TreeListPDFExport",(function(){return W}));var r=n(1),o=n(0),i=n(11);function a(e,t,n){void 0===n&&(n={});var r=p;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||(l()&&(r=u),navigator.msSaveBlob&&(r=c)),r(e,t,n)}var s=function(){return document.createElement("a")},l=function(){return"download"in s()};function c(e,t){var n=e;if("string"==typeof e){for(var r=e.split(";base64,"),o=r[0],i=atob(r[1]),a=new Uint8Array(i.length),s=0;s<i.length;s++)a[s]=i.charCodeAt(s);n=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(n,t)}function u(e,t){var n=e;window.Blob&&e instanceof Blob&&(n=URL.createObjectURL(e));var r=s();r.download=t,r.href=n;var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o),setTimeout((function(){return URL.revokeObjectURL(n)}))}function p(e,t,n){if(n.proxyURL){var r=document.createElement("form");r.setAttribute("action",n.proxyURL),r.setAttribute("method","POST"),r.setAttribute("target",n.proxyTarget||"_self");var o=n.proxyData||{};o.fileName=t;var i=e.split(";base64,");for(var a in o.contentType=i[0].replace("data:",""),o.base64=i[1],o)if(o.hasOwnProperty(a)){var s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",a),s.setAttribute("value",o[a]),r.appendChild(s)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)}}String.fromCharCode;var d,f=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return null},t.propTypes={left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])},t}(r.Component),m=["bottom","left","right","top"];function v(e){var t=r.Children.toArray(e.children).find((function(e){return e&&e.type===h}));return t?function(e){for(var t={},n=0;n<m.length;n++){var r=m[n],o=e.props[r];void 0!==o&&(t[r]=o)}return t}(t):e.margin}var g=n(24),y=function(){function e(e,t,n,o,i){void 0===i&&(i={});var a=this;this.drawDOM=e,this.exportPDF=t,this.saveAs=n,this.domElement=o,this.options=i,this.convertPageTemplateToHtml=function(e){return"<span>"+g.renderToStaticMarkup(r.createElement(a.options.pageTemplate,{pageNum:e.pageNum,totalPages:e.totalPages}))+"</span>"}}return e.prototype.savePDF=function(e){var t=this,n=this.drawDOM(this.domElement,this.getDrawOptions()).then((function(e){return t.exportPDF(e,t.getPDFOptions())})).then((function(e){return t.saveAs(e,t.options.fileName||"export.pdf",t.getSaveOptions())}));e&&n.then(e,e)},e.prototype.getDrawOptions=function(){return{avoidLinks:this.options.avoidLinks,forcePageBreak:this.options.forcePageBreak,keepTogether:this.options.keepTogether,margin:this.options.margin,paperSize:this.options.paperSize,landscape:this.options.landscape,repeatHeaders:this.options.repeatHeaders,scale:this.options.scale,template:this.options.pageTemplate&&this.convertPageTemplateToHtml}},e.prototype.getPDFOptions=function(){return{author:this.options.author,creator:this.options.creator||"KendoReact PDF Generator",date:this.options.date,imgDPI:this.options.imageResolution,keywords:this.options.keywords,landscape:this.options.landscape,margin:this.options.margin,multiPage:!0,paperSize:this.options.paperSize,producer:this.options.producer,subject:this.options.subject,title:this.options.title}},e.prototype.getSaveOptions=function(){return{forceProxy:this.options.forceProxy,proxyData:this.options.proxyData,proxyTarget:this.options.proxyTarget,proxyURL:this.options.proxyURL}},e}(),b=n(12),k={name:"@progress/kendo-react-pdf",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1627477834,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e){function t(t){var n=e.call(this,t)||this;if(void 0!==b)b.validatePackage(k);else{var r="License activation failed for "+k.name+"\n";r+="The @progress/kendo-licensing script is not loaded.\n",r+="See "+k.licensingDocsUrl+" for more information.\n",console.warn(r)}return n}return w(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",{ref:function(t){e.rootElForPDF=t}},this.props.children)},t.prototype.save=function(e){new y(i.drawDOM,i.exportPDF,a,this.rootElForPDF,this.getOptions()).savePDF(e)},t.prototype.getOptions=function(){return Object.assign({},this.props,{margin:v(this.props)})},t.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string},t}(r.Component);function C(e,t,n){void 0===t&&(t={}),new y(i.drawDOM,i.exportPDF,a,e,t).savePDF(n)}var x=n(10),S={},E=function(e){return String(e).trim().split(" ")},I=function(e){return function(t){return function(e,t){var n=E(t);return Boolean(E(e.className).find((function(e){return n.indexOf(e)>=0})))}(t,e)}},_=function(e){return S[e]||(S[e]=function(t){return String(t.nodeName).toLowerCase()===e.toLowerCase()}),S[e]},N=function(e,t,n){if(void 0===n&&(n=!0),e){if(n&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){var r=N(e,t);if(r)return r}e=e.nextSibling}}},T=_("TABLE"),P=function(e){return e?"locked":"wrap"},D=function(){function e(e){this.element=e,this.list=N(e,I("k-grid-container"))}return e.prototype.content=function(e){return N(this.list,I("k-grid-content"+(e?"-locked":"")))},e.prototype.header=function(e){return this.headerWrap=this.headerWrap||N(this.element,I("k-grid-header")),N(this.headerWrap,I("k-grid-header-"+P(e)))},e.prototype.footer=function(e){return this.footerWrap=this.footerWrap||N(this.element,I("k-grid-footer")),N(this.footerWrap,I("k-grid-footer-"+P(e)))},e.prototype.table=function(){return N(this.element,T)},e}(),M=function(e,t){for(var n=t.length,r=0;r<n;r++)e.appendChild(t[r].cloneNode(!0))},j=function(e){var t=document.createElement("div");return t.className="k-widget k-grid",t.appendChild(e),t},R=function(e){var t=e.length,n=e[0].cloneNode(!0),r=n.rows.length;if(t>1)for(var o=0;o<r;o++)for(var i=1;i<t;i++)M(n.rows[o],e[i].rows[o].cells);return n},A=function(e,t,n,r){for(var o=document.createElement("table"),i=e[0].cloneNode(!0),a=1;a<e.length;a++)M(i,e[a].querySelectorAll("col"));var s=R(t),l=R(n);if(s.className="k-grid-header",function(e,t){if(t.length>1&&e.rows.length>1)for(var n=1;n<e.rows.length;n++){var r=t[0].rows[n].cells.length,o=e.rows[n].cells[r];-1===String(o.className).indexOf("k-first")&&(o.className+=" k-first")}}(s,t),o.appendChild(i),o.appendChild(s),o.appendChild(l),r.length){var c=R(r);c.className="k-grid-footer",o.appendChild(c)}return j(o)};function F(e){return function(t,n,o,i,a){return void 0===n&&(n={}),function(e,t,n,o,i,a){void 0===n&&(n={});var s,l,c;function u(){e(function(){(c=document.createElement("div")).className="k-grid-pdf-export-element";var e=function(e){var t,n=new D(e),r=n.content();if(r){var o=[r.querySelector("colgroup")],i=[n.header().querySelector("thead")],a=[r.querySelector("tbody")],s=n.footer(),l=s?[s.querySelector("tfoot")]:[];t=A(o,i,a,l)}else t=j(n.table().cloneNode(!0));return t}(l);return c.appendChild(e),document.body.appendChild(c),e}(),n,p)}function p(){document.body.removeChild(s),document.body.removeChild(c),s=c=void 0,o&&o()}(s=document.createElement("div")).setAttribute("style","position:absolute; left: -5000px; top: 0px;"),l=document.createElement("div"),s.appendChild(l),document.body.appendChild(s),x.render(function(){var e=i&&{data:i,total:i.length,pageSize:i.length,skip:0},n={style:Object.assign({},t.props.style,{width:"1000px"})},o=Object.assign({},e,n);if(a&&a.length>0){var s=function(e){return r.Children.toArray(e.props.children).filter((function(e){return e&&"KendoReactGridColumn"!==e.type.displayName}))}(t);return r.cloneElement(t,o,a.concat(s))}return r.cloneElement(t,o)}(),l,u)}(e,t,n,o,i,a)}}var L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(t){var n=e.call(this,t)||this;return n.saveGridPDF=F(n.getSavePDF()),n}return L(t,e),t.prototype.render=function(){return null},t.prototype.save=function(e,t){this.saveGridPDF(this.getGrid(),Object.assign({},this.props,{margin:v(this.props)}),t,e,this.getCustomColumns())},t.prototype.getSavePDF=function(){return C},t.prototype.getGrid=function(){return r.Children.toArray(this.props.children).find((function(e){return e&&"KendoReactGrid"===e.type.displayName}))},t.prototype.getCustomColumns=function(){return r.Children.toArray(this.props.children).filter((function(e){return e&&"KendoReactGridColumn"===e.type.displayName}))},t.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string},t}(r.Component),z=_("TABLE"),V=function(){function e(e){this.element=e,this.list=N(e,I("k-grid"))}return e.prototype.content=function(){return N(this.list,I("k-grid"))},e.prototype.header=function(){return this.headerWrap=this.headerWrap||N(this.element,I("k-grid-header")),N(this.headerWrap,I("k-grid-header"))},e.prototype.footer=function(){return this.footerWrap=this.footerWrap||N(this.element,I("k-grid-footer")),N(this.footerWrap,I("k-grid-footer"))},e.prototype.table=function(){return N(this.element,z)},e}();function H(e){return function(t,n,o,i,a){return void 0===n&&(n={}),function(e,t,n,o,i,a){void 0===n&&(n={});var s,l,c;function u(){e(function(){(c=document.createElement("div")).className="k-treelist-pdf-export-element";var e=function(e){var t,n=new V(e),r=n.content(),o=n.header();if(o.childNodes.length>1&&o.removeChild(o.childNodes[1]),o.childNodes[0].childNodes.forEach((function(e){return e.style.top=0})),r){var i=[r.querySelector("colgroup")],a=[o],s=[r.querySelector("tbody")],l=n.footer(),c=l?[l.querySelector("tfoot")]:[];t=A(i,a,s,c)}else t=j(n.table().cloneNode(!0));return t}(l);return c.appendChild(e),document.body.appendChild(c),c}(),n,p)}function p(){document.body.removeChild(s),document.body.removeChild(c),s=c=void 0,o&&o()}(s=document.createElement("div")).setAttribute("style","position:absolute; left: -5000px; top: 0px;"),l=document.createElement("div"),s.appendChild(l),document.body.appendChild(s),x.render((d=n.allPages&&i?{data:i,take:Number.MAX_VALUE,skip:0}:{},f={style:Object.assign({},t.props.style,{width:"1000px"})},h=Object.assign({},d,f),a&&a.length>0?r.cloneElement(t,Object.assign({},h,{columns:a})):r.cloneElement(t,h)),l,u);var d,f,h}(e,t,n,o,i,a)}}var K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e){function t(t){var n=e.call(this,t)||this;return n.saveTreeListPDF=H(n.getSavePDF()),n}return K(t,e),t.prototype.render=function(){return null},t.prototype.save=function(e,t,n){this.saveTreeListPDF(this.getTreeList(),Object.assign({},this.props,{margin:v(this.props)}),n,e,t||[])},t.prototype.getSavePDF=function(){return C},t.prototype.getTreeList=function(){var e=this.props.children;if(e&&e.props.data&&e.props.columns)return this.props.children},t.propTypes={author:o.string,avoidLinks:o.oneOfType([o.bool,o.string]),forcePageBreak:o.string,keepTogether:o.string,creator:o.string,date:o.instanceOf(Date),imageResolution:o.number,fileName:o.string,forceProxy:o.bool,keywords:o.string,landscape:o.bool,margin:o.oneOfType([o.string,o.number,o.shape({left:o.oneOfType([o.number,o.string]),top:o.oneOfType([o.number,o.string]),right:o.oneOfType([o.number,o.string]),bottom:o.oneOfType([o.number,o.string])})]),pageTemplate:o.any,paperSize:o.any,repeatHeaders:o.bool,scale:o.number,proxyData:o.any,proxyURL:o.string,proxyTarget:o.string,producer:o.string,subject:o.string,title:o.string,allPages:o.bool},t}(r.Component)}])}));